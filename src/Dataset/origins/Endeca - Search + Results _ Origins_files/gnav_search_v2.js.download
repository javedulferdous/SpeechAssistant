!function(a){Drupal.behaviors.gnavSearchV2={attach:function(e){var n=a(".gnav-util__content-icon",e),t=a(".gnav-search",e),s=a("input[name='search']",t),r=a(".gnav-util--search-v2",e),o=a(".trustmark-logo-div",e),i=Unison.fetch.all(),c=Unison.fetch.now(),l=parseInt(c.width,10)>=parseInt(i.landscape,10);o.length&&(r.addClass("has-trustmark"),l&&a(window).trigger("gnavSearchForm.load")),a(document).on("endeca.typeahead.clearall",(function(){var e=a(".gnav-search__suggestions-wrapper ul",t),n=Unison.fetch.all(),r=Unison.fetch.now(),o=parseInt(r.width,10)>=parseInt(n.landscape,10);Drupal.settings.common.search_feature_revamp?s.focus():(s.val(""),o&&s.removeAttr("style"),e.empty(),t.removeClass("gnav-search--suggestions gnav-search--no-suggestions"))})),s.on("endeca.typeahead.keyup",(function(){s.val().length<1&&a(this).trigger("endeca.typeahead.clearall")})),a(document).on("endeca.typeahead.close",(function(){a(this).trigger("endeca.typeahead.clearall")})),a(document).on("endeca.typeahead.complete",(function(a,e){Drupal.settings.common.search_feature_revamp||t.removeClass("gnav-search--suggestions gnav-search--no-suggestions"),e?t.addClass("gnav-search--suggestions"):t.addClass("gnav-search--no-suggestions")})),a(document).on("gnav-util.close",(function(){a(this).trigger("endeca.typeahead.clearall")})),s.keyup((function(){var e=a(this),n=e.parents(".gnav-util").first();e.val().length>0&&!n.hasClass("active-util")&&a.isFunction(Drupal.behaviors.gnav.open)&&(Drupal.settings.common.search_feature_revamp?r.addClass("active-util"):Drupal.behaviors.gnav.open(n),g()),0===e.val().length&&n.hasClass("active-util")&&a.isFunction(Drupal.behaviors.gnav.toggle)&&Drupal.behaviors.gnav.toggle(n)}));var g=function(){var e=a(window).width()-(n.offset().left+n.width());Drupal.settings.common.search_feature_revamp||(e=a(window).width()-n.position().left-n.width());var t=s.parents(".gnav-util").first(),r=Unison.fetch.all(),o=Unison.fetch.now(),i=parseInt(o.width,10)>=parseInt(r.landscape,10);t.hasClass("active-util")&&i&&s.css("right",e).css("left","auto")}}}}(jQuery);
//# sourceMappingURL=gnav_search_v2.js.map
