var prodcat=prodcat||{};prodcat.data=prodcat.data||{};var site=site||{};!function(t){function e(e){var s=prodcat.data.getSku(e),a=t();return s&&s.HEX_VALUE_STRING&&(a=t("<div/>",{class:"selectbox-swatch",style:"background-color: "+s.HEX_VALUE_STRING+";"})),a}function s(s,a){var c=t(".js-shade-select .selectBox-label",s);t(".selectbox-swatch",c).remove(),c.prepend(e(a))}t(document).on("change","select.js-sku-menu",(function(){var e,s=t(this).val(),a=prodcat.data.getSku(s);a&&(e=a.SKU_BASE_ID,t(this).closest(".js-product").trigger("product.skuSelect",[e]))})),t(document).on("product.skuSelect",".js-product",(function(e,a){t("select.js-sku-menu",this).val(a),t("select.js-sku-menu.selectBox-attached",this).selectBox("value",a),s(t(this),a);var c=prodcat.data.getSku(a),o=t(".js_misc_flag_text",this);if(c){var d=site.template.get({name:"product_sku_price",data:{defaultSku:c}}),l=prodcat.data.getProduct(c.PRODUCT_ID);t(".product-sku-price",this).html(t(d).html()),c.MISC_FLAG_TEXT||l.MISC_FLAG_TEXT?(o.html(c.MISC_FLAG_TEXT||l.MISC_FLAG_TEXT),o.removeClass("hidden")):(o.addClass("hidden"),o.html(""));var r=t("a.js-replenishment-select, .js-product-full__replenishment-qm");!function(t,e,s){t.hasClass("js-product-full")&&s.length>0&&(e.REFILLABLE?s.show():s.hide())}(t(this),c,r)}})),t(document).on("product.init",".js-product",(function(){var a=t("select.js-sku-menu.js-shade-select.selectBox-attached",this);a.length&&(a.each((function(){var s=t(t(this).selectBox("control")).data("selectBox-options");if(!_.isUndefined(s)&&!_.isNull(s)){var a=s.find("li a");t(".selectbox-swatch",s).remove(),a.each((function(){var s=e(t(this).attr("rel"));t(this).prepend(s)}))}})),s(t(this),t(this).data("sku-base-id")))}))}(jQuery);
//# sourceMappingURL=product_sku_select.js.map
