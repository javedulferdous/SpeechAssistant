function setZoomImgDimensions(e,t){var i=new Image;i.onload=function(){zoomImg.height=i.height;zoomImg.width=i.width};i.src=e}function zoomThisData(e){if(e&&e.getAttribute){var t=e.getAttribute("data-baseImageUrl"),i=e.getAttribute("data-altImageId");zoomThis(t,i);$(".thumb-active").removeClass("thumb-active");$(e).parent().addClass("thumb-active")}}function zoomThis(e,t){if(null!=e){var i=e;e+="?$ProductDetail-large$";isCloudniaryEnabled()&&(e=i.replace("f_auto,q_auto","f_auto,q_auto,t_ProductDetail-large"));"1"!=t&&""!=t&&null!=t&&(e=e+"&$"+t+"$");var a=document.getElementById("imgZoom"),o=document.getElementById("overlay");a.src=e;zoomImgSrc=a.src.replace("large","xlarge");o.style.backgroundImage='url("'+zoomImgSrc+'")';setZoomImgDimensions(zoomImgSrc,a)}}function getPageTopLeft(e){var t=e.getBoundingClientRect(),i=document.documentElement;return{left:t.left+(window.pageXOffset||i.scrollLeft||0),top:t.top+(window.pageYOffset||i.scrollTop||0)}}function zoomIn(e){var t=document.getElementById("overlay");t.classList.add("active");var i,a,o=document.getElementById("imgZoom"),n=zoomImg.width,r=zoomImg.height;if("touchmove"===e.type){e.preventDefault();a=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX-o.offsetLeft;i=e.originalEvent.touches?e.originalEvent.touches[0].pageY-getPageTopLeft(o).top:e.pageY-o-offsetTop}else{a=e.offsetX?e.offsetX:e.pageX-o.offsetLeft;i=e.offsetY?e.offsetY:e.pageY-o.offsetTop}var s=n/o.clientWidth,d=r/o.clientHeight,l=-a*s+t.offsetWidth/2,c=-i*d+t.offsetHeight/2;t.style.backgroundPosition=l.toString()+"px "+c.toString()+"px";t.style.backgroundSize=zoomImg.width+"px "+zoomImg.height+"px"}function initializeMobileImageSlider(){window.matchMedia("(max-width: 768px)").matches&&$.getScript(WCParamJS.jsAssetsDir+"/javascript/Widgets/Content/tiny-slider.js",function(){globalSliderRef=tns({container:document.querySelector("#mobile-slider"),items:1,controls:!1,mousedrag:!0,nav:!0,speed:100,loop:!1,slideBy:"page"})})}function destroyMobileImageSlider(){var e=!1;if(globalSliderRef){globalSliderRef.destroy();globalSliderRef=null;e=!0}if(void 0!==window.sliderC&&sliderC){sliderC.destroy();sliderC=null;e=!0}e&&$("#mobile-slider").children().attr("style","").attr("id","")}function zoomOut(){var e=document.getElementById("overlay");e.classList.remove("active")}function hidePersistentAddToCart(){var e=document.getElementById("pdp-persistent-container"),t=document.getElementById("pdp-persistent-placeholder");if(e&&e.classList.contains("fixed")){e.classList.remove("fixed");$("#pdp-promo-1").show();$("#notice-box").show();t&&(t.style.height="auto");window.matchMedia("(max-width: 768px)").matches&&removeFooterAddToCart()}}function removeFooterAddToCart(){var e=document.getElementById("pdp-persistent-container");if(e){e.classList.remove("fixed-to-footer");e.style.top="auto"}}function persistentPDP(){var e=document.getElementById("header"),t=document.getElementsByClassName(".banner-promo")[0],i=document.getElementById("pdp-persistent-container"),a=document.getElementById("pdp-persistent-placeholder"),o=document.getElementById("container_rfk_recommendation_scroll"),n=document.getElementById("pdp-persistent-spacer"),r=window.matchMedia("(max-width: 768px)").matches,s=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,d=document.getElementById("repeat-delivery-select-btn");null!=d&&d.classList.contains("hide")&&(d=document.getElementById("inStoreMessaging"));if(null!=d)var l=d.getBoundingClientRect(),c=l.bottom,u=c-e.offsetHeight<=0;var p=!1,m=!1,h=$("#selectedPartNumber").val();for(var y in productDisplayJS.entitledItems){var v=productDisplayJS.entitledItems[y].PartNum;if(v==h){var f=productDisplayJS.entitledItems[y].InStoreOnly;"true"==f&&(p=!0);var g=productDisplayJS.entitledItems[y].isBopusEligibleItem;"true"==g&&(m=!0);break}}if(r){showAddtocartButtonOnScroll();var I=i.offsetHeight.toString()+"px",_=0,b=0;$("#container_rfk_recommendation_PDP_TOP")&&(_=$("#container_rfk_recommendation_PDP_TOP").height());$("#pdp-promo-2")&&(b=$("#pdp-promo-2").height());initialBottomPositionPixelMobile=$(".pdp-product-top").height()+_+$("#header").height()+100-b;if(u)if(i.classList.contains("fixed")){if(i.classList.contains("fixed")){var S=document.getElementById("footer");showAddtocartButtonOnScroll();if(s+$(window).height()>=S.offsetTop){i.classList.add("fixed-to-footer");dojo.place("pdp-persistent-placeholder","pdp-persistent-spacer");n.style.height=I}else{dojo.place("pdp-persistent-placeholder","pdp-product-info","after");removeFooterAddToCart()}}}else{var P=i.offsetHeight.toString()+"px";a.style.minHeight=P;showAddtocartButtonOnScroll();i.classList.add("fixed");$("#pdp-promo-1").hide();$("#notice-box").hide();n.style.height=I}else{hideAddtocartButtonOnScroll();hidePersistentAddToCart();null!=dojo.byId("pdp-product-features_id")&&dojo.hasClass("pdp-product-features_id","hide")&&dojo.removeClass("pdp-product-features_id","hide")}}else{i.style.top=null;var E=0;null!=t&&(E=t.offsetHeight);var D=a.offsetTop+a.offsetHeight+E-e.offsetHeight;void 0!=o&&(D+=o.offsetHeight);if("undefined"==typeof u)var u=!(s<=D);else $(d).hasClass("hide")&&(u=!(s<=D));if(u){if(!i.classList.contains("fixed")){showAddtocartButtonOnScroll();a.style.height=0;i.classList.add("fixed");var C=$("#subcategoryIdentifier")?$("#subcategoryIdentifier").val():"";"Live Small Animals"!=C&&"Live Birds"!=C&&"Live Reptiles"!=C&&$("#pdp-promo-1").hide();$("#notice-box").hide();n.style.height="0";if(null!=dojo.byId("inStoreNoticeBox")&&dojo.hasClass("inStoreNoticeBox","show")){dojo.removeClass("inStoreNoticeBox","show");dojo.addClass("inStoreNoticeBox","hide")}}}else{hideAddtocartButtonOnScroll();hidePersistentAddToCart();null!=dojo.byId("pdp-product-features_id")&&dojo.hasClass("pdp-product-features_id","hide")&&dojo.removeClass("pdp-product-features_id","hide");if(null!=dojo.byId("inStoreNoticeBox")&&dojo.hasClass("inStoreNoticeBox","hide")&&p&&!m){dojo.removeClass("inStoreNoticeBox","hide");dojo.addClass("inStoreNoticeBox","show")}}}if(!p&&0==$("#one-time-delivery:checked").length){$("#one-time-delivery")[0].checked=!0;$("#one-time-delivery").trigger("click")}$("div.store-pickup.show.selected#bopusSelectEnabledBopusAttrOn input#store-pickup:checked").length>0&&$("div.store-pickup.show.selected#bopusSelectEnabledBopusAttrOn button#add2CartBtn_bopus:disabled").length>0?$("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn").length>0&&($("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn")[0].disabled=!0):$("div#repeat-delivery-select-btn.instore-deliveryBox").length>0&&$("#BOPUSDeliveryDetailsConatiner.hide").length>0?$("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn").length>0&&($("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn")[0].disabled=!0):$("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn").length>0&&($("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn")[0].disabled=!1)}function showAddtocartButtonOnScroll(){var e=document.getElementById("restrictionMessage").innerHTML,t=document.getElementById("inStoreMessaging").style.display;if(""!=e&&"none"==t){$("#restrictionMessage").addClass("hide");$("#restrictionMessage").removeClass("show")}if(null!=document.getElementById("BOPUS_hide_addtocartButton")&&""==e){document.getElementById("BOPUS_hide_addtocartButton").classList.add("show");document.getElementById("BOPUS_hide_addtocartButton").classList.remove("hide")}if(null!=document.getElementById("BuyNowLinkbtn")){document.getElementById("BuyNowLinkbtn").classList.add("show");document.getElementById("BuyNowLinkbtn").classList.remove("hide")}if(null!=dojo.byId("inStoreMessagingforfixedscroll")&&dojo.hasClass("inStoreMessagingforfixedscroll","showonscrollforinstock")){document.getElementById("inStoreMessagingforfixedscroll").classList.add("show");document.getElementById("inStoreMessagingforfixedscroll").classList.remove("hide")}var i=dojo.byId("PriceMatchGuarantee");if(null!=i){dojo.addClass(i,"hide");dojo.removeClass(i,"show")}var a=dojo.byId("pricestack-promo-2");if(null!=a){dojo.addClass(a,"hide");dojo.removeClass(a,"show")}var o=dojo.byId("pricestack-promo-1");if(null!=o){dojo.addClass(o,"hide");dojo.removeClass(o,"show")}}function hideAddtocartButtonOnScroll(){if(null!=document.getElementById("BOPUS_hide_addtocartButton")){document.getElementById("BOPUS_hide_addtocartButton").classList.remove("show");document.getElementById("BOPUS_hide_addtocartButton").classList.add("hide")}if(null!=document.getElementById("BuyNowLinkbtn")){document.getElementById("BuyNowLinkbtn").classList.remove("show");document.getElementById("BuyNowLinkbtn").classList.add("hide")}if(null!=dojo.byId("inStoreMessagingforfixedscroll")&&dojo.hasClass("inStoreMessagingforfixedscroll","showonscrollforinstock")){document.getElementById("inStoreMessagingforfixedscroll").classList.add("hide");document.getElementById("inStoreMessagingforfixedscroll").classList.remove("show")}var e=document.getElementById("inStoreMessaging").style.display,t=dojo.byId("PriceMatchGuarantee");if(null!=t&&null!=e&&"none"==e){dojo.removeClass(t,"hide");dojo.addClass(t,"show")}var i=dojo.byId("pricestack-promo-2");if(null!=i&&null!=e&&"none"==e){dojo.removeClass(i,"hide");dojo.addClass(i,"show")}var a=dojo.byId("pricestack-promo-1");if(null!=a&&null!=e&&"none"==e){dojo.removeClass(a,"hide");dojo.addClass(a,"show")}var o=document.getElementById("restrictionMessage").innerHTML;if(""!=o&&"none"==e){$("#restrictionMessage").addClass("show");$("#restrictionMessage").removeClass("hide")}}function setUpPersistentReplacementPDP(){if(document.querySelectorAll(".pdp-fixed-product-info")[0]&&document.querySelectorAll(".pdp-product-features")[0]){var e=document.getElementById("pdp-persistent-container"),t=$(e).offset().top;window.onscroll=function(){$("#personilaztionDisplay").hasClass("active")||$("#rxPersonilaztionDisplay").hasClass("active")||persistentReplacementPDP(t)}}}function persistentReplacementPDP(e){var t=(document.querySelectorAll("#header")[0],document.querySelectorAll(".banner-promo")[0],document.getElementById("attrGroupDesc"),document.getElementById("pdp-persistent-container")),i=document.getElementById("pdp-persistent-placeholder"),a=(document.getElementById("pdp-persistent-spacer"),window.matchMedia("(max-width: 768px)").matches);if(0==$("#pdp-persistent-spacer").length){var o=document.createElement("div");o.setAttribute("id","pdp-persistent-spacer");var n=document.querySelectorAll(".footer_wrapper_position")[0];$(n).prepend(o);$("#pdp-persistent-spacer").height("120px")}document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;if(a){var r=$(t),s=$(window).scrollTop(),d=$(window).height()+$(window).scrollTop(),l=$("#pdp-persistent-spacer").offset().top,c=$("#pdp-persistent-wrapper").height();if(l<d+c){r.addClass("fixed-to-footer");$("#pdp-persistent-spacer").append($("#pdp-persistent-placeholder"));$("#pdp-persistent-spacer #pdp-product-attributes_id").removeClass("show");$("#pdp-persistent-spacer #pdp-product-attributes_id").addClass("hide")}else{$("#pdp-persistent-spacer #pdp-product-attributes_id").removeClass("hide");$("#pdp-persistent-spacer #pdp-product-attributes_id").addClass("show");$("#pdp-persistent-container").prepend($("#pdp-persistent-wrapper"));r.removeClass("fixed-to-footer");var u=e+$(window).height();$("#header").length>0&&(u-=$("#header").height());if(s>=u){r.addClass("fixed");var p=t.offsetHeight.toString()+"px";i.style.height=p}else{r.removeClass("fixed");$("#pdp-persistent-placeholder").insertAfter($(".product-ingredients-title"));$("#pdp-persistent-placeholder").css("height","auto")}}}else{var r=$(t),s=$(window).scrollTop();s>=e?r.addClass("fixed"):r.removeClass("fixed")}$("div.store-pickup.show.selected#bopusSelectEnabledBopusAttrOn input#store-pickup:checked").length>0&&$("div.store-pickup.show.selected#bopusSelectEnabledBopusAttrOn button#add2CartBtn_bopus:disabled").length>0?$("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn").length>0&&($("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn")[0].disabled=!0):$("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn").length>0&&($("div#add-to-controls div#BOPUS_hide_addtocartButton.show button#add2CartBtn")[0].disabled=!1)}function setUpPersistentPDP(){$('input[name="rdOptionsSelect"]:checked').parent().parent().parent().hasClass("selected")||$('input[name="rdOptionsSelect"]:checked').parent().parent().parent().addClass("selected");if(document.querySelectorAll(".pdp-fixed-product-info")[0]&&document.querySelectorAll(".pdp-product-features")[0]){var e=document.querySelectorAll(".pdp-fixed-product-info")[0],t=document.querySelectorAll(".pdp-product-attributes")[0],i=document.querySelectorAll(".pdp-product-features")[0],a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");i.offsetHeight,i.offsetTop;$("#pdp-persistent-placeholder")&&$("#pdp-persistent-placeholder").remove();$("#pdp-persistent-spacer")&&$("#pdp-persistent-spacer").remove();r.setAttribute("id","pdp-persistent-spacer");n.setAttribute("id","pdp-persistent-placeholder");o.setAttribute("id","pdp-persistent-container");o.setAttribute("class","col-12");a.setAttribute("id","pdp-persistent-wrapper");a.appendChild(e);a.appendChild(t);a.appendChild(i);o.appendChild(a);n.appendChild(o);$(n).insertAfter("#pdp-product-info");var s=document.querySelectorAll(".footer_wrapper_position")[0];$(s).prepend(r);initialBottomPositionPixelMobile=0;persistentPDP();window.onscroll=function(){$("#personilaztionDisplay").hasClass("active")||$("#rxPersonilaztionDisplay").hasClass("active")||persistentPDP()}}}function moveMobilePDPTitle(){if(document.querySelectorAll(".pdp-product-info-mobile")[0]){var e=document.querySelectorAll(".pdp-product-top")[0],t=document.querySelectorAll(".pdp-product-info-mobile")[0];$(e).prepend(t)}}function loadreCAPTCHAJSfile(){var e="https://www.google.com/recaptcha/api.js?onload=CaptchaCallback&render=explicit";if(!isScriptAlreadyIncluded(e)){var t=document.createElement("script");t.setAttribute("type","text/javascript");t.setAttribute("src",e);"undefined"!=typeof t&&document.getElementsByTagName("head")[0].appendChild(t)}}function isScriptAlreadyIncluded(e){for(var t=document.getElementsByTagName("script"),i=0;i<t.length;i++)if(t[i].getAttribute("src")==e)return!0;return!1}function getShippingMessage(e,t,i,a,o,n,r){var s=[];s.storeId=e;s.catalogId=t;s.langId=i;s.orderId=a;s.fromPDP=o;s.catalogEntryID=n;s.isBopusSku=r;wc.service.invoke("AjaxHolidayShippingMsg",s)}function isRestricted(e,t,i){var a=[];a.sku=productDisplayJS.itemPriceJsonOject[e].catalogEntry.catalogEntryIdentifier.externalIdentifier.partNumber;a.zipcode=t;a.brand=i;wc.service.invoke("AjaxRestrictedAddCart",a)}function rdChange(){if(void 0!=document.getElementById("addToRDDropDown")&&"ADDON"==document.getElementById("addToRDDropDown").value){$('div[id^="shipsEveryDiv_"]').addClass("hide");$('div[id^="addOnceTextOnAddToRD"]').removeClass("hide")}else{$('div[id^="shipsEveryDiv_"]').removeClass("hide");$('div[id^="addOnceTextOnAddToRD"]').addClass("hide")}}function ShoppingListJS(storeParams,catEntryParams,shoppingListNames,jsObjectName){this.storeParams=storeParams;this.catEntryParams=catEntryParams;this.catEntryParams.quantity=1;this.shoppingListNames=shoppingListNames;this.addItemAfterCreate=!1;this.jsObjectName=jsObjectName;this.dropDownVisible=!1;this.dropDownInFocus=!1;this.dropDownOpen=!1;this.exceptionFlag=!1;this.mouseOnArrow=!1;this.pageName="";this.itemId=-1;var eventName="";this.nameToDelete="";this.orderItemId="";this.actionBeingPerformed="";this.isRxFoodCollectEnabled=!0;if("shoppingListJS"!=jsObjectName){this.pageName=jsObjectName.replace("shoppingListJS","");eventName=this.pageName+"_"}this.setCatEntryQuantity=function(e){var e=dojo.fromJson(e);if(dojo.isObject(e)){var t=this.catEntryParams.components[e.baseItemId];t.id!=e.baseItemId&&0!=e.id&&(t.id=e.id);t.quantity=e.quantity}else this.catEntryParams.quantity=e};this.setCatEntryAttributes=function(e){this.catEntryParams.attributes=dojo.fromJson(e)};this.setItemId=function(e){this.itemId=e};this.hideDropDown=function(){var e=dojo.byId(this.pageName+"shoppingListDropDown");if(e){e.style.display="none";dojo.query("#"+this.pageName+"addToShoppingListBtn .drop")[0].focus();this.dropDownVisible=!1;this.dropDownInFocus=!1;this.dropDownOpen=!1;var t=dojo.query(".widget_quick_info_popup .content_right_border")[0];void 0!=t&&dojo.style(t,"height","auto")}};this.showDropDown=function(){if(0==this.dropDownOpen){var e=dojo.query(".widget_quick_info_popup .content_right_border")[0],t=dojo.position(e).h,i=dojo.byId(this.pageName+"shoppingListDropDown");i.style.display="";this.dropDownVisible=!0;dojo.query("#"+this.pageName+"shoppingListDropDown.dropdown_list div").removeClass("focused");if(dojo.byId("quickInfoRefreshArea")&&dojo.byId("QuickInfoshoppingListDropDown")){var a=dojo.position(dojo.byId("quickInfoRefreshArea")).h,o=dojo.position(dojo.byId("QuickInfoshoppingListDropDown")).h,n=dojo.position(e).h;if(a+o>n){var r=dijit.byId("quickInfoPopup");dojo.style(e,"height",n+o+"px");r.resize();if(t<n){dojo.style(e,"height",t+o+"px");r.resize()}}}this.dropDownOpen=!0}else this.hideDropDown()};this.showPopup=function(e){this.hideDropDown();this.clearPopupText();var t=dijit.byId(this.pageName+e+"ShoppingListPopup");this.hideErrorMessage();this.hideEditErrorMessage();if(null!=t){t.closeButtonNode.style.display="none";closeAllDialogs();t.show();"create"==e?dojo.byId(this.pageName+"newListName").focus():"edit"==e&&dojo.byId("editListName").focus()}else console.debug(e+"ShoppingListPopup does not exist")};this.showSuccessDialog=function(){var e=dijit.byId(this.pageName+"shoppingListCreateSuccessPopup");if(null!=e&&""!=this.actionBeingPerformed){dojo.byId(this.pageName+"successMessageAreaText").innerHTML=storeNLS.LIST_CREATED;e.closeButtonNode.style.display="none";e.show();this.actionBeingPerformed=""}};this.showMessageDialog=function(e){var t=dijit.byId(this.pageName+"shoppingListCreateSuccessPopup");if(null!=t){dojo.byId(this.pageName+"successMessageAreaText").innerHTML=e;t.closeButtonNode.style.display="none";t.show()}};this.showErrorMessage=function(e){if(document.getElementById(this.pageName+"shoppingListErrorMessageArea")&&document.getElementById(this.pageName+"shoppingListErrorMessageText")){document.getElementById(this.pageName+"shoppingListErrorMessageText").innerHTML=e;document.getElementById(this.pageName+"shoppingListErrorMessageArea").style.display="block"}};this.hideErrorMessage=function(){if(document.getElementById(this.pageName+"shoppingListErrorMessageArea")&&document.getElementById(this.pageName+"shoppingListErrorMessageText")){document.getElementById(this.pageName+"shoppingListErrorMessageText").innerHTML="";document.getElementById(this.pageName+"shoppingListErrorMessageArea").style.display="none"}};this.showEditErrorMessage=function(e){if(document.getElementById("editShoppingListErrorMessageArea")&&document.getElementById("editShoppingListErrorMessageText")){document.getElementById("editShoppingListErrorMessageText").innerHTML=e;document.getElementById("editShoppingListErrorMessageArea").style.display="block"}};this.hideEditErrorMessage=function(){if(document.getElementById("editShoppingListErrorMessageArea")&&document.getElementById("editShoppingListErrorMessageText")){document.getElementById("editShoppingListErrorMessageText").innerHTML="";document.getElementById("editShoppingListErrorMessageArea").style.display="none"}};this.create=function(){var e=trim(dojo.byId(this.pageName+"newListName").value),t=dojo.byId(this.pageName+"newListName").maxLength,i=storeNLS.DEFAULT_WISH_LIST_NAME;if(this.empty(e))this.showErrorMessage(storeNLS.ERR_NAME_EMPTY);else if(MessageHelper.isValidUTF8length(e,t))if(e==i)this.showErrorMessage(storeNLS.ERR_NAME_SHOPPING_LIST);else if(this.isDuplicate(e))this.showErrorMessage(storeNLS.ERR_NAME_DUPLICATE);else if(this.validateWishName(e)){var a=this.setCommonParams();a.name=e;var o=dijit.byId(this.pageName+"createShoppingListPopup");null!=o&&o.hide();if(!submitRequest())return;cursor_wait();wc.service.invoke("ShoppingListServiceCreate",a);this.actionBeingPerformed="create"}else this.showErrorMessage(storeNLS.INVALID_NAME_SHOPPING_LIST);else this.showErrorMessage(storeNLS.ERR_NAME_TOOLONG)};this.createDefaultListAndAddItem=function(listId,orderItemId){if($("#vetWidgetVendorScriptUrl").length>0&&$("#vetWidgetAppScriptUrl").length>0&&!isVetJsLoaded){var vetScript1=document.createElement("script");vetScript1.type="text/javascript";vetScript1.src=$("#vetWidgetVendorScriptUrl").val();vetScript1.async=!0;var headTag=document.getElementsByTagName("head")[0];headTag.appendChild(vetScript1);var vetScript2=document.createElement("script");vetScript2.type="text/javascript";vetScript2.src=$("#vetWidgetAppScriptUrl").val();vetScript2.async=!0;var headTag=document.getElementsByTagName("head")[0];headTag.appendChild(vetScript2);setTimeout(function(){eval($("script#wetApiWidgetAfterAjax").html())},500);isVetJsLoaded=!0}if($('div[data-pageType="product-detail-page"]').length>0){var isRXMedicine=!1;$("#rxMedicine").length>0&&"true"==$("#rxMedicine").val()&&(isRXMedicine=!0);if(isRXMedicine){if(petcoPersonalizationJS.petandvetInfoPulated){if(!submitRequest())return;cursor_wait();petcoPersonalizationJS.loadPetAndVetInfoInModel()}"R"!=dojo.cookie("WC_UserType")&&petcoPersonalizationJS.loadVetClicnicInfos(1,1,!0)}}null!=document.getElementById("defaultShoppingListId_pdp")&&""!=document.getElementById("defaultShoppingListId_pdp").value&&document.getElementById("defaultShoppingListId_pdp").value!=listId&&(listId=document.getElementById("defaultShoppingListId_pdp").value);orderItemId&&""!=orderItemId&&(this.orderItemId=orderItemId);var purhaselist=$("#purchaseListId");$("#isRXFoodIndicator").length>0&&"true"==$("#isRXFoodIndicator").val()&&$("#isRxFoodCollectPdpEnabled").length>0&&"false"==$("#isRxFoodCollectPdpEnabled").val()&&(this.isRxFoodCollectEnabled=!1);if(petcoPersonalizationJS.isPersonalizedItem()&&!petcoPersonalizationJS.isRxMedicineItem()&&this.isRxFoodCollectEnabled&&!$("#personilaztionDisplay").hasClass("active")||petcoPersonalizationJS.isRxMedicineItem()&&petcoPersonalizationJS.isPersonalizedItem()&&!$("#rxPersonilaztionDisplay").hasClass("active")){dojo.forEach(dojo.query('div[id="cart-submit-button"]'),function(e){e.className="col-8 col-center hide"});dojo.forEach(dojo.query('div[id="pdp-submit-button"]'),function(e){e.className="col-8 col-center hide"});dojo.forEach(dojo.query('div[id="wishList-submit-button"]'),function(e){e.className="col-8 col-center show"});if(petcoPersonalizationJS.isRxMedicineItem()){$("#rxPersonilaztionDisplay").addClass("active");$('[id^="wishList-submit-button"]').addClass("show");$('[id^="wishList-submit-button"]').removeClass("hide");$('[id^="pdp-submit-button"]').removeClass("show");$('[id^="pdp-submit-button"]').addClass("hide");petcoCommonJS.showModal("modal-rxmedicine")}else{petcoCommonJS.showModal("Personalization");$("#Personalization_1").show();$("#personilaztionDisplay").addClass("active");if(0<$("#isPersonalizationMandate").length){var isPersonalizationMandate=$("#isPersonalizationMandate").val();if("false"==isPersonalizationMandate){$(".personalizationMandatory").removeClass("hide");$(".personalizationMandatory").addClass("show")}}}}else if(purhaselist.length>0&&"false"==purhaselist.val()){var params={};params.storeId=this.storeParams.storeId;params.catalogId=this.storeParams.catalogId;params.langId=this.storeParams.langId;params.name="PURCHASELIST";wc.service.invoke("ShoppingListServiceCreate",params);var thisObj=this;dojo.topic.subscribe("ShoppingList_Changed",function(e){if("PURCHASELIST"==e.listName&&"add"==e.action)if("-1"==listId){var t=thisObj.setCommonParams();t.name=storeNLS.DEFAULT_WISH_LIST_NAME;if(!submitRequest())return;cursor_wait();thisObj.addItemAfterCreate=!0;wc.service.invoke("ShoppingListServiceCreate",t)}else orderItemId&&""!=orderItemId?thisObj.addToListAndDelete(listId,orderItemId):thisObj.addToList(listId)})}else if("-1"==listId){var params=this.setCommonParams(),cookieVal=dojo.cookie("pcustData");params.name=storeNLS.DEFAULT_WISH_LIST_NAME;if(!submitRequest())return;cursor_wait();this.addItemAfterCreate=!0;wc.service.invoke("ShoppingListServiceCreate",params)}else orderItemId&&""!=orderItemId?this.addToListAndDelete(listId,orderItemId):this.addToList(listId);try{var omnitureEnabled;void 0!=dojo.byId("omnitureEnabled")&&null!=dojo.byId("omnitureEnabled")&&(omnitureEnabled=dojo.byId("omnitureEnabled").value);if("undefined"!=omnitureEnabled&&null!=omnitureEnabled&&""!=omnitureEnabled&&"true"==omnitureEnabled){var productId=productDisplayJS.bopusShowStoreDetailsCatEntryId;if(void 0!=productId&&null!=productId){var catEntry=productDisplayJS.itemPriceJsonOject[productId].catalogEntry;if(void 0!=catEntry&&null!=catEntry){var cartOrderId=dojo.cookie("WC_CartOrderId_10151"),cartEventDetails={};cartEventDetails.cart_event="remove";cartEventDetails.event_name="add_to_wishlist";cartEventDetails.cart_action_save="yes";null!=cartOrderId&&""!=cartOrderId&&(cartEventDetails.cart_id=cartOrderId);cartEventDetails.product_id=productId;cartEventDetails.product_sku=catEntry.catalogEntryIdentifier.externalIdentifier.partNumber;cartEventDetails.product_name=catEntry.description[0].name;$("#tel_product_id").size()>0&&(cartEventDetails.product_parent_sku=$("#tel_product_id").val());pushEvent(cartEventDetails)}}}}catch(e){console.log(e)}};this.createDefaultListAndAddItemFrmPurList=function(e,t,i,a,o){t&&""!=t&&(this.orderItemId=t);if("-1"==e){var n=this.setCommonParams(),r=dojo.cookie("pcustData");if("undefined"!=typeof r){var s=r.split("|"),d=s[0]+" "+s[1];n.name=d}else n.name=storeNLS.DEFAULT_WISH_LIST_NAME;if(!submitRequest())return;cursor_wait();this.addItemAfterCreate=!0;wc.service.invoke("ShoppingListServiceCreate",n)}else if(t&&""!=t)this.addToListAndDelete(e,t);else{var l=this.catEntryParams.id;this.addToListFrmPurList(e,l,i,a,o)}};this.addToList=function(listId){var omnitureFlag=document.getElementById("omnitureEnabled"),omnitureEnabled="";if(null!=omnitureFlag&&"undefined"!=omnitureFlag){omnitureEnabled=omnitureFlag.value;if("true"===omnitureEnabled){var eventStatus={event_status:"start",event_action:"",event_name:"add_to_wishlist",event_type:""};eval(pushEvent(eventStatus))}}this.hideDropDown();var params=this.setCommonParams();params.giftListId=listId;params.name=storeNLS.DEFAULT_WISH_LIST_NAME;var catEntryId=this.catEntryParams.id;if("itembean"==this.catEntryParams.type.toLowerCase()||"packagebean"==this.catEntryParams.type.toLowerCase()||"dynamickitbean"==this.catEntryParams.type.toLowerCase()){updateParamObject(params,"catEntryId",this.catEntryParams.id,!1,-1);updateParamObject(params,"quantity",this.catEntryParams.quantity,!1,-1)}else if("bundlebean"==this.catEntryParams.type.toLowerCase())for(baseItemId in this.catEntryParams.components){updateParamObject(params,"catEntryId",this.catEntryParams.components[baseItemId].id,!1,-1);updateParamObject(params,"quantity",this.catEntryParams.components[baseItemId].quantity,!1,-1)}else{var sku=this.itemId;sku==-1&&(sku=this.resolveSKU());if(-1==sku){MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);return}catEntryId=sku;updateParamObject(params,"catEntryId",sku,!1,-1);updateParamObject(params,"quantity",this.catEntryParams.quantity,!1,-1)}"shoppingListJS"!=this.jsObjectName;if(petcoPersonalizationJS.isPersonalizedItem()&&!petcoPersonalizationJS.isRxMedicineItem()&&this.isRxFoodCollectEnabled){var customParams=!0,invalidChars=petcoPersonalizationJS.findInvalidCharSetForUserInput(this.catEntryParams.quantity,customParams);if(""!=invalidChars)return!1;if(!petcoPersonalizationJS.validatePersonalizedRequiredField(this.catEntryParams.quantity,customParams))return!1;if(!petcoPersonalizationJS.validatePersonalizedTextInputType(this.catEntryParams.quantity,customParams))return!1;var isPersonalizeItem=document.getElementById("personalization"),personalizationList=document.getElementById("personalizationAttrNames"),isSameValueForAllQty=document.getElementById("PersonalizationCheckBox"),pFlag=!1,pName=personalizationList.value;pName+="_1";null!=document.getElementById(pName)&&(pFlag=!0);if("undefined"!=isPersonalizeItem&&null!=isPersonalizeItem&&("true"==isPersonalizeItem.value||pFlag))for(var i=0;i<this.catEntryParams.quantity&&("undefined"==isSameValueForAllQty||null==isSameValueForAllQty||1!=isSameValueForAllQty.checked||1!=i);i++)for(var personalizationName=personalizationList.value.split(","),j=0;j<personalizationName.length;j++){var nameAttr=personalizationName[j]+"_1",personalizedName=document.getElementById(nameAttr);if(void 0!=personalizedName||null!=personalizedName)if(personalizedName.value.length<64){updateParamObject(params,"attrName",personalizationName[j],!1,-1);updateParamObject(params,"attrVal",personalizedName.value,!1,-1);console.log("ShoppingList attrName-"+personalizationName[j]+"-attrVal-"+personalizedName.value)}else for(var myarray=personalizedName.value.match(/.{1,63}/g),i=0;i<myarray.length;i++){var finalAttrName=personalizationName[j]+"_"+i;updateParamObject(params,"attrName",finalAttrName,!1,-1);updateParamObject(params,"attrVal",myarray[i],!1,-1);console.log("ShoppingList attrName-"+personalizationName[j]+"_"+i+"-attrVal-"+myarray[i])}}}else if(petcoPersonalizationJS.isPersonalizedItem()&&petcoPersonalizationJS.isRxMedicineItem()){var customParams=!0,isPersonalizeItem=document.getElementById("personalization"),isRxMedicinePersonalizeItem=document.getElementById("rxMedicine"),isSameValueForAllQty=document.getElementById("PersonalizationCheckBox");if("undefined"!=isPersonalizeItem&&null!=isPersonalizeItem&&"true"==isPersonalizeItem.value&&"undefined"!=isRxMedicinePersonalizeItem&&null!=isRxMedicinePersonalizeItem&&"true"==isRxMedicinePersonalizeItem.value)for(var jsonFieldEleContent=$("#fieldGroup").html(),jsonField=JSON.parse(jsonFieldEleContent),i=0;i<this.catEntryParams.quantity&&("undefined"==isSameValueForAllQty||null==isSameValueForAllQty||1!=isSameValueForAllQty.checked||1!=i);i++)for(var j in jsonField){var isValidForSubmit=!0,idOfField=$('[id^="'+jsonField[j].Field+"_"+(1*i+1)+'"]'),LabelRx=jsonField[j].Label,uniqueIdentifier=jsonField[j].Field,OrderOfLoad=jsonField[j].Order,isRequired=jsonField[j].IsRequired,isRequiredInCart=jsonField[j].IsRequiredInCart;if(idOfField.length>0){var isNumric=!1,isTeliphonic=!1,isOptionOthersExists=!1,isDateField=!1,isRadio=!1,isOptionOthersMultipleExists=!1;idOfField[0].className.indexOf("NUMERIC")>-1?isNumric=!0:idOfField[0].className.indexOf("TELEPHONE")>-1?isTeliphonic=!0:idOfField[0].className.indexOf("MULTICHECKBOX")>-1?isOptionOthersMultipleExists=!0:idOfField[0].className.indexOf("CHECKBOX")>-1?isOptionOthersExists=!0:idOfField[0].className.indexOf("DATE")>-1?isDateField=!0:idOfField[0].className.indexOf("RADIO")>-1&&(isRadio=!0);if(isOptionOthersMultipleExists||isOptionOthersExists||isDateField||isRadio){if(isRadio){var checkedRadio=$('input[type="radio"][name="'+jsonField[j].Field+"_"+(1*i+1)+'"]:checked');if(0!=checkedRadio.length)if($(checkedRadio).val().trim().length<64){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal",$(checkedRadio).val().trim(),!1,-1)}else for(var myarray=$(checkedRadio).val().trim().match(/.{1,63}/g),ix=0;ix<myarray.length;ix++){var finalAttrName="RXMED-"+uniqueIdentifier+"_"+ix;updateParamObject(params,"attrName",finalAttrName,!1,-1);updateParamObject(params,"attrVal",myarray[ix],!1,-1)}}else if(isOptionOthersMultipleExists){var checkedRadioOthers=$('input[type="checkbox"][name="'+jsonField[j].Field+"_"+(1*i+1)+'"]:checked');if(0==checkedRadioOthers.length){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);
updateParamObject(params,"attrVal","No",!1,-1)}else if(checkedRadioOthers.length>0&&$('[id^="'+jsonField[j].Field+"_"+(1*i+1)+'-_options_-"]:checked').length>0){var filedsList="";$.each($('[id^="'+jsonField[j].Field+"_"+(1*i+1)+'-_options_-"]:checked'),function(e,t){filedsList=0==e?$(t).val():filedsList+","+$(t).val()});var othercehckboxvalue=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Others").val();filedsList=""==filedsList?othercehckboxvalue:filedsList+","+othercehckboxvalue;if(filedsList.length<64){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal",filedsList,!1,-1)}else for(var myarray=filedsList.match(/.{1,63}/g),ix=0;ix<myarray.length;ix++){var finalAttrName="RXMED-"+uniqueIdentifier+"_"+ix;updateParamObject(params,"attrName",finalAttrName,!1,-1);updateParamObject(params,"attrVal",myarray[ix],!1,-1)}}}else if(isOptionOthersExists){var checkedRadioOthers=$('input[type="checkbox"][id="'+jsonField[j].Field+"_"+(1*i+1)+'"]:checked');if(0==checkedRadioOthers.length){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal","No",!1,-1)}else if(0!=checkedRadioOthers.length&&"Yes"==$(checkedRadioOthers).val()&&$('[id^="'+jsonField[j].Field+"_"+(1*i+1)+'_optionContainer_"]').length>0){var filedsList="";$.each($('[id^="'+jsonField[j].Field+"_"+(1*i+1)+'_optionContainer_"]'),function(e,t){filedsList=0==e?$(t).val():filedsList+","+$(t).val()});var othercehckboxvalue=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Others").val();filedsList=""==filedsList?othercehckboxvalue:filedsList+","+othercehckboxvalue;if(filedsList.length<64){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal",filedsList,!1,-1)}else for(var myarray=filedsList.match(/.{1,63}/g),ix=0;ix<myarray.length;ix++){var finalAttrName="RXMED-"+uniqueIdentifier+"_"+ix;updateParamObject(params,"attrName",finalAttrName,!1,-1);updateParamObject(params,"attrVal",myarray[ix],!1,-1)}}}else if(isDateField){var dateVal="";if($("#"+jsonField[j].Field+"_"+(1*i+1)+"_MON").length>0&&""!=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_MON").val()&&$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Date").length>0&&""!=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Date").val()&&$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Year").length>0&&""!=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Year").val()){var date=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Date").val(),month=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_MON").val(),year=$("#"+jsonField[j].Field+"_"+(1*i+1)+"_Year").val(),datetoValidate=new Date;datetoValidate.setFullYear(year,month-1,date);if(datetoValidate.getDate()==date&&datetoValidate.getMonth()==month-1){dateVal=month+"-"+date+"-"+year;updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal",dateVal,!1,-1)}}}}else if(idOfField[0].value.trim().length>0)if(idOfField[0].value.trim().length<64){updateParamObject(params,"attrName","RXMED-"+uniqueIdentifier,!1,-1);updateParamObject(params,"attrVal",idOfField[0].value.trim(),!1,-1)}else for(var myarray=idOfField[0].value.trim().match(/.{1,63}/g),ix=0;ix<myarray.length;ix++){var finalAttrName="RXMED-"+uniqueIdentifier+"_"+ix;updateParamObject(params,"attrName",finalAttrName,!1,-1);updateParamObject(params,"attrVal",myarray[ix],!1,-1)}}}}ShoppingListDialogJS.setDialogParams(this.storeParams,{catEntryId:catEntryId,thumbnail:"imgPath"});if(submitRequest()){cursor_wait();null!=dojo.byId("modal-Personalization")&&petcoCommonJS.hideModal("modal-Personalization");null!=dojo.byId("personilaztionDisplay")&&$("#personilaztionDisplay").removeClass("active");dojo.forEach(dojo.query('div[id^="Personalization_"]'),function(e){e.style.display="none"});null!=dojo.byId("modal-rxmedicine")&&petcoCommonJS.hideModal("modal-rxmedicine");null!=dojo.byId("rxPersonilaztionDisplay")&&$("#rxPersonilaztionDisplay").removeClass("active");dojo.forEach(dojo.query('div[id^="rxmedicineContent_"]'),function(e){});wc.service.invoke("ShoppingListServiceAddItem",params)}};this.addToListFrmPurList=function(e,t,i,a,o){this.hideDropDown();var n=this.setCommonParams();n.giftListId=e;n.name="Wish List";var r=t;if("itembean"==this.catEntryParams.type.toLowerCase()||"packagebean"==this.catEntryParams.type.toLowerCase()||"dynamickitbean"==this.catEntryParams.type.toLowerCase()){updateParamObject(n,"catEntryId",this.catEntryParams.id,!1,-1);updateParamObject(n,"quantity",i,!1,-1)}else if("bundlebean"==this.catEntryParams.type.toLowerCase())for(baseItemId in this.catEntryParams.components){updateParamObject(n,"catEntryId",this.catEntryParams.components[baseItemId].id,!1,-1);updateParamObject(n,"quantity",this.catEntryParams.components[baseItemId].quantity,!1,-1)}else{var s=this.itemId;s==-1&&(s=this.resolveSKU());if(-1==s){MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);return}r=s;0==i&&(i=this.catEntryParams.quantity);updateParamObject(n,"catEntryId",s,!1,-1);updateParamObject(n,"quantity",i,!1,-1)}var d;if("purchaseList"==a){d="shoppingListJS"+o;document.getElementById("purchaselistId").value}else d="shoppingListJS"+t;"shoppingListJS"!=this.jsObjectName&&this.jsObjectName!=d&&QuickInfoJS.close();if(submitRequest()){cursor_wait();ShoppingListDialogJS.setDialogParams(this.storeParams,{catEntryId:r,thumbnail:"imgPath"});wc.service.invoke("ShoppingListServiceAddItem",n)}};this.updateQuantityFromList=function(e,t,i,a){if(a.keyCode!=dojo.keys.TAB){this.hideDropDown();if(i<=0)return!1;if(i>999){alert("Quantity should be less than 1000");return!1}var o=this.setCommonParams();o.giftListId=e;updateParamObject(o,"catEntryId",t,!1,-1);updateParamObject(o,"quantity",i,!1,-1);wc.service.invoke("ShoppingListServiceUpdateItem",o)}};this.isDuplicate=function(e){var e=this.escapeXml(e,!0);return 1==this.shoppingListNames[e.toUpperCase()]};this.updateDefaultListId=function(e){this.shoppingListNames[storeNLS.DEFAULT_WISH_LIST_NAME]=1;dojo.byId(this.pageName+"addToShoppingList")&&(dojo.byId(this.pageName+"addToShoppingList").href="javascript:"+this.jsObjectName+".createDefaultListAndAddItem("+e+");");null!=dojo.byId("defaultShoppingListId_pdp")&&(dojo.byId("defaultShoppingListId_pdp").value=e);$("div#wishList-submit-button a.personalizationSubmit_WishList").each(function(t,i){i.href="javascript:cmManuallyTriggerEventTrack(this);"+this.jsObjectName+".createDefaultListAndAddItem("+e+");"})};this.updateShoppingList=function(e,t,i){var a=this.escapeXml(t,!1);this.shoppingListNames[a.toUpperCase()]=1;!i||"edit"!=i&&"delete"!=i||(this.shoppingListNames[this.nameToDelete.toUpperCase()]=-1);var o=dojo.byId(this.pageName+"ShoppingListDivider");if(o){var n="javascript: this.className = 'created_list';";if(this.pageName.indexOf("OI")==-1)dojo.place('<div role="menuitem" id="'+this.pageName+"ShoppingList_"+e+'" class="created_list" onfocus="javascript:'+jsObjectName+".focusList('"+e+'\'); "  onblur="'+n+'" onclick="javascript:'+jsObjectName+".addToList('"+e+'\');"><a role="menuitem" id="'+this.pageName+"ShoppingListLink_"+e+'" href="javascript:'+jsObjectName+".addToList('"+e+'\');" onfocus="javascript:'+jsObjectName+".focusListLink('"+e+"');\">"+t+"</a></div>",this.pageName+"ShoppingListDivider","before");else{var r=this.pageName.replace("OI","");dojo.place('<div role="menuitem" id="'+this.pageName+"ShoppingList_"+e+'" class="created_list" onfocus="javascript:'+jsObjectName+".focusList('"+e+'\'); "  onblur="'+n+'" onclick="javascript:'+jsObjectName+".addToListAndDelete('"+e+"','"+r+'\');"><a role="menuitem" id="'+this.pageName+"ShoppingListLink_"+e+'" href="javascript:'+jsObjectName+".addToListAndDelete('"+e+"','"+r+'\');" onfocus="javascript:'+jsObjectName+".focusListLink('"+e+"');\">"+t+"</a></div>",this.pageName+"ShoppingListDivider","before")}}};this.clearPopupText=function(){dojo.byId(this.pageName+"newListName").value=""};this.escapeXml=function(e,t){t&&(e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;"));e=e.replace(/"/gm,"&#034;").replace(/'/gm,"&#039;");return e};this.resolveSKU=function(){if(1==this.catEntryParams.skus.length)return this.catEntryParams.skus[0].id;for(idx=0;idx<this.catEntryParams.skus.length;idx++){var e=0,t=0;for(attribute in this.catEntryParams.skus[idx].attributes){t++;if(!this.catEntryParams.attributes||this.catEntryParams.skus[idx].attributes[attribute]!=this.catEntryParams.attributes[attribute])break;e++}if(0!=e&&e==t)return this.catEntryParams.skus[idx].id}return-1};this.setCommonParams=function(){var e={};e.storeId=this.storeParams.storeId;e.catalogId=this.storeParams.catalogId;e.langId=this.storeParams.langId;return e};this.empty=function(e){return null==e||void 0==e||""==e};this.redirectToSignOn=function(){var e=location.href;1==isGuest&&(e=getAbsoluteURL()+"OrderItemMove?continue=1&createIfEmpty=1&updatePrices=0&deleteIfEmpty=*&fromOrderId=*&toOrderId=.&page=&calculationUsageId=-1&URL="+encodeURIComponent("OrderCalculate?URL="+encodeURIComponent(e)));document.location.href=getAbsoluteURL()+"LogonForm?myAcctMain=1&storeId="+this.storeParams.storeId+"&catalogId="+this.storeParams.catalogId+"&langId="+this.storeParams.langId+"&URL="+encodeURIComponent(e)};this.focusList=function(e){this.focusListByElementId(this.pageName+"ShoppingList_"+e)};this.focusListByElementId=function(e){dojo.hasClass(e,"focused")||dojo.byId(e.replace("ShoppingList","ShoppingListLink")).focus()};this.focusListLink=function(e){dojo.query("#"+this.pageName+"shoppingListDropDown.dropdown_list div").removeClass("focused");dojo.addClass(this.pageName+"ShoppingList_"+e,"focused")};this.updateShoppingListAndAddItem=function(e){e.listName==storeNLS.DEFAULT_WISH_LIST_NAME?this.updateDefaultListId(e.listId):this.updateShoppingList(e.listId,e.listName,e.action);if(this.addItemAfterCreate){this.addItemAfterCreate=!1;""!=this.orderItemId?this.addToListAndDelete(e.listId,this.orderItemId):this.addToList(e.listId)}else"add"==e.action&&this.showSuccessDialog()};this.navigateDropDown=function(e){var t=this;if(e.keyCode==dojo.keys.UP_ARROW){dojo.stopEvent(e);var i=!1;dojo.query("#"+t.pageName+"shoppingListDropDown.dropdown_list div.created_list").forEach(function(e,a,o){if(!i&&dojo.hasClass(e,"focused")){0==a?t.focusListByElementId(o[o.length-1].id):t.focusListByElementId(o[a-1].id);i=!0}})}else if(e.keyCode==dojo.keys.DOWN_ARROW){dojo.stopEvent(e);var i=!1;dojo.query("#"+t.pageName+"shoppingListDropDown.dropdown_list div.created_list").forEach(function(e,a,o){if(!i&&dojo.hasClass(e,"focused")){o.length-1==a?t.focusListByElementId(o[0].id):t.focusListByElementId(o[a+1].id);i=!0}})}else if(e.keyCode==dojo.keys.ESCAPE||e.keyCode==dojo.keys.TAB){dojo.stopEvent(e);this.hideDropDown()}};this.hideIfNoFocus=function(){!this.dropDownVisible||this.dropDownInFocus||this.mouseOnArrow||this.hideDropDown()};this.hasFocus=function(e){dojo.mouseButtons.isRight(e)?this.dropDownInFocus=!1:this.dropDownInFocus=!0};this.editLink=function(){$("#wishlistName-EditName").removeClass("hide");$("#wishlistName-StaticName").addClass("hide");$("#editListName").val()==storeNLS.DEFAULT_WISH_LIST_NAME&&$("#editListName").val($(userName).val())};this.editSave=function(){$("#wishlistName-EditName").addClass("hide");$("#wishlistName-StaticName").removeClass("hide")};this.edit=function(e){var t=trim(dojo.byId("editListName").value),i=t.maxLength,a=storeNLS.DEFAULT_WISH_LIST_NAME;if(this.empty(t)){alert(""+storeNLS.ERR_NAME_EMPTY);this.showEditErrorMessage(storeNLS.ERR_NAME_EMPTY)}else if(MessageHelper.isValidUTF8length(t,i))if(this.validateWishName(t)){var o=this.setCommonParams();"name"==e&&(o.name=t);if("private"==e){$("#share-links").addClass("hide");o.guestFlag="private"}if("public"==e){$("#share-links").removeClass("hide");o.guestFlag="public"}var n=dojo.byId("multipleWishlistController_select");if(null!=n&&"undefined"!=n&&0!=n.value){o.giftListId=dojo.byId("multipleWishlistController_select").value;this.nameToDelete=a}var r=dijit.byId("editShoppingListPopup");null!=r&&r.hide();if(!submitRequest())return;cursor_wait();wc.service.invoke("ShoppingListServiceUpdate",o)}else{alert(""+storeNLS.INVALID_NAME_SHOPPING_LIST);this.showErrorMessage(storeNLS.INVALID_NAME_SHOPPING_LIST)}else{alert(""+storeNLS.ERR_NAME_TOOLONG);this.showEditErrorMessage(storeNLS.ERR_NAME_TOOLONG)}};this.deleteList=function(){var e=this.setCommonParams(),t=dojo.byId("multipleWishlistController_select");if(null!=t&&"undefined"!=t&&0!=t.value){e.giftListId=dojo.byId("multipleWishlistController_select").value;this.nameToDelete=dojo.byId("multipleWishlistController_select").options[t.selectedIndex].text}var i=dijit.byId("deleteShoppingListPopup");null!=i&&i.hide();if(submitRequest()){cursor_wait();wc.service.invoke("ShoppingListServiceDelete",e)}};this.refreshLinkState=function(){var e=dojo.byId("multipleWishlistController_select");if(null!=e){var t=dojo.byId("multipleWishlistController_select").options[e.selectedIndex].text,i=storeNLS.DEFAULT_WISH_LIST_NAME;if(t==i){dojo.byId("editDivider").style.display="none";dojo.byId("edit_popup_link").style.display="none";dojo.byId("deleteDivider").style.display="none";dojo.byId("delete_popup_link").style.display="none"}else{dojo.byId("editDivider").style.display="block";dojo.byId("edit_popup_link").style.display="block";dojo.byId("deleteDivider").style.display="block";dojo.byId("delete_popup_link").style.display="block"}}};this.addToListAndDelete=function(e,t){this.orderItemId=t;dojo.publish("modelChanged/AnalyticsConversionEvent");this.hideDropDown();var i=this.setCommonParams();i.giftListId=e;i.catEntryId=this.catEntryParams.id;i.quantity=1;if(submitRequest()){cursor_wait();ShoppingListDialogJS.setDialogParams(this.storeParams,{catEntryId:this.catEntryParams.id,name:this.catEntryParams.name,image:this.catEntryParams.image,thumbnail:"imgPath"});wc.service.invoke("ShoppingListServiceAddItemAndRemoveFromCart",i)}};this.deleteItemFromCart=function(){if(""!=this.orderItemId){var e=this.orderItemId;this.orderItemId="";""!=e&&CheckoutHelperJS.deleteFromCart(e,!0)}};this.validateWishName=function(e){var t="~!@#$%^&*()+=[]{};:,<>?/|`";t+="\t'\"\\/";for(var i=0;i<e.length;i++)if(t.indexOf(e.substring(i,i+1))>=0)return!1;return!0};dojo.connect(document.documentElement,"onmousedown",this,"hideIfNoFocus")}productDisplayJS={langId:WCParamJS.langId,storeId:WCParamJS.storeId,catalogId:WCParamJS.catalogId,userType:"",baseItemAddedToCart:!1,entitledItems:[],entitledItemJsonObject:null,selectedAttributesList:new Object,selectedAttributeValues:new Object,registeredAttributeIds:new Object,moreInfoUrl:"",isPopup:!1,displayPriceRange:!0,itemPriceJsonOject:[],allItemPricesOject:[],allSwatchesArrayList:new Object,allDropdownsList:new Object,skuImageId:"",cookieKeyPrefix:"CompareItems_",cookieDelimiter:";",maxNumberProductsAllowedToCompare:4,minNumberProductsAllowedToCompare:2,baseCatalogEntryId:0,selectedCatalogEntryId:0,selectedProducts:new Object,productList:new Object,currencySymbol:"",compareReturnName:"",searchTerm:"",search01:"'",isRepeatDeliveryProduct:!1,search02:'"',replaceStr01:/\\\'/g,replaceStr02:/\\\"/g,ampersandChar:/&/g,ampersandEntityName:"&amp;",singleSKUProductWithoutDefiningAttribute:!1,replaceStr001:"&#039;",replaceStr002:"&#034;",canSwapProductPriceDiv:!0,holidayPreCutOff:!1,holidayMsgCallCompleted:!1,hasOrdLevHollidayMsg:!1,enableAllButton:!1,idAdobeCallDone:!1,adobeRDVarValue:"",isRxFoodCollectPDPEnabled:!0,setCommonParameters:function(e,t,i,a,o){productDisplayJS.langId=e;productDisplayJS.storeId=t;productDisplayJS.catalogId=i;productDisplayJS.userType=a;productDisplayJS.currencySymbol=o},setEntitledItems:function(e){productDisplayJS.entitledItems=e},getCatalogEntryId:function(e){var t=[],i=productDisplayJS.selectedAttributesList[e];for(attribute in i)t.push(attribute+"_"+i[attribute]);return null==i&&null==this.entitledItems?e.substring(e.indexOf("_")+1):productDisplayJS.resolveSKU(t)},postCallCatentryDetailsById:function(e){var t={},i=catentryJson;for(var a in i)for(var o in i[a])o==e.catalogEntryId&&(t=i[a][o]);var n=globalPriceMap[e.catalogEntryId],r=n.bopusprice_USD,s=n.listprice_USD,d=n.price_USD,l=n.rd_price_USD,c=0,u=0,p="false";"undefined"!=typeof s&&null!=s&&(c=1*s.replace("$",""));"undefined"!=typeof d&&null!=d&&(u=1*d.replace("$",""));c>u&&(p="true");t.catalogEntry.offerPrice=d;t.catalogEntry.listPrice=s;t.catalogEntry.bopusPrice=r;t.catalogEntry.listPriced=p;t.catalogEntry.rdPrice=l;c==u&&(t.catalogEntry.listPrice="");productDisplayJS.publishAttributeResolvedEventServiceResponse(t,e)},showAddToCartSubmit:function(){dojo.forEach(dojo.query('div[id="cart-submit-button"]'),function(e){e.className="col-8 col-center hide"});dojo.forEach(dojo.query('div[id="pdp-submit-button"]'),function(e){e.className="col-8 col-center show"});dojo.forEach(dojo.query('div[id="wishList-submit-button"]'),function(e){e.className="col-8 col-center hide"});var e=!1;$("#rxMedicine").length>0&&"true"==$("#rxMedicine").val()&&(e=!0);var t=!1;$("#isRXFoodIndicator").length>0&&"true"==$("#isRXFoodIndicator").val()&&(t=!0);if(e&&$("#isRxSPCModalEnabled").length>0&&"true"==$("#isRxSPCModalEnabled").val()){var i=$("#isRxThrottleEnabled").val();if("true"!=i){e=!1;this.Add2ShopCartAjax("entitledItem_"+productDisplayJS.bopusShowStoreDetailsProductId,$("#quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).val(),!1,!1);return}var a=localStorage.getItem("rxPetVetSource"),o=localStorage.getItem("rxPetVetSource_expiresIn"),n=Date.now();void 0!==o&&null!==o||(o=0);var r=!1;if(void 0===a||null===a){var s=86400;r=!0}else if(o<n){localStorage.removeItem("rxPetVetSource_expiresIn");localStorage.removeItem("rxPetVetSource");var s=86400;r=!0}if(r){var d=n+1e3*s;try{localStorage.setItem("rxPetVetSource",$("#rxPetVetSource").val());localStorage.setItem("rxPetVetSource_expiresIn",d);var a=$("#rxPetVetSource").val()}catch(e){console.log("setStorage: Error setting key ["+key+"] in localStorage: "+JSON.stringify(e))}}if("pdp"!=a){e=!1;this.Add2ShopCartAjax("entitledItem_"+productDisplayJS.bopusShowStoreDetailsProductId,$("#quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).val(),!1,!1);return}}else if("false"==$("#isRxSPCModalEnabled").val()){localStorage.removeItem("rxPetVetSource_expiresIn");localStorage.removeItem("rxPetVetSource")}if(e){$('[id^="wishList-submit-button"]').addClass("hide");$('[id^="wishList-submit-button"]').removeClass("show");$('[id^="pdp-submit-button"]').removeClass("hide");$('[id^="pdp-submit-button"]').addClass("show");petcoCommonJS.showModal("rxmedicine");petcoPersonalizationJS.rxGoToPage("1");$("#rxPersonilaztionDisplay").addClass("active");if(petcoPersonalizationJS.petandvetInfoPulated){if(!submitRequest())return;cursor_wait();petcoPersonalizationJS.loadPetAndVetInfoInModel()}"R"!=dojo.cookie("WC_UserType")&&"true"!=$("#isVetWidgetEnabled").val()&&petcoPersonalizationJS.loadVetClicnicInfos(1,1,!0)}else{if(t&&$("#isRxFoodCollectPdpEnabled").length>0&&"false"==$("#isRxFoodCollectPdpEnabled").val()){this.isRxFoodCollectPDPEnabled=!1;this.Add2ShopCartAjax("entitledItem_"+productDisplayJS.bopusShowStoreDetailsProductId,$("#quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).val(),!1,!1);return}petcoCommonJS.showModal("Personalization");$("#Personalization_1").show();$("#personilaztionDisplay").addClass("active");if(0<$("#isPersonalizationMandate").length){var l=$("#isPersonalizationMandate").val();if("false"==l){$(".personalizationMandatory").removeClass("hide");$(".personalizationMandatory").addClass("show")}}}},getCatalogEntryIdforProduct:function(e){var t=[];for(attribute in e)t.push(attribute+"_"+e[attribute]);return productDisplayJS.resolveSKU(t)},getEntitledItemJsonObject:function(){return productDisplayJS.entitledItemJsonObject},resolveSKU:function(e){var t="",i=e.length;if(1==this.entitledItems.length)return this.entitledItems[0].catentry_id;for(x in this.entitledItems){var t=this.entitledItems[x].catentry_id,a=this.entitledItems[x].Attributes,o=0;for(index in a)o++;if(0==i&&0==o)return t;if(0!=o&&i>=o){var n=0;for(attributeName in e){var r=e[attributeName];r in a&&n++}if(o==n){console.debug("CatEntryId:"+t+" for Attribute: "+e);this.disableBuyButtonforUnbuyable(x);return t}}}return null},disableBuyButtonforUnbuyable:function(e){var t=this.entitledItems[e].buyable,i=document.getElementById("add2CartBtn");null!=t&&null!=i&&("false"==t?i.className+=" add2CartButtonDisabled":i.className=i.className.replace(" add2CartButtonDisabled",""))},registerAttributeIds:function(e,t,i){var a=productDisplayJS.registeredAttributeIds[t];if(null==a){a=new Object;productDisplayJS.registeredAttributeIds[t]=a}a[productDisplayJS.removeQuotes(e)]=i},getAttributeIds:function(e,t){var i=null,a=productDisplayJS.registeredAttributeIds[t];null!=a&&(i=a[productDisplayJS.removeQuotes(e)]);return i},setSelectedAttribute:function(selectedAttributeName,selectedAttributeValue,entitledItemId,skuImageId,imageField,selectedAttributeDisplayValue){var selectedAttributes=productDisplayJS.selectedAttributesList[entitledItemId];null==selectedAttributes&&(selectedAttributes=new Object);selectedAttributeValue=selectedAttributeValue.replace(productDisplayJS.replaceStr001,productDisplayJS.search01);selectedAttributeValue=selectedAttributeValue.replace(productDisplayJS.replaceStr002,productDisplayJS.search02);""==selectedAttributeValue&&null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("notifyMeSuccess")&&dojo.style("notifyMeSuccess","display","none");null!=dojo.byId("splDlvFlag")&&(dojo.byId("splDelvMsg").innerHTML=dojo.byId("splDlvFlag").value);selectedAttributeValue=selectedAttributeValue.replace(productDisplayJS.replaceStr01,productDisplayJS.search01);selectedAttributeValue=selectedAttributeValue.replace(productDisplayJS.replaceStr02,productDisplayJS.search02);selectedAttributeValue=selectedAttributeValue.replace(productDisplayJS.ampersandChar,productDisplayJS.ampersandEntityName);selectedAttributes[selectedAttributeName]=selectedAttributeValue;productDisplayJS.moreInfoUrl=productDisplayJS.moreInfoUrl+"&"+selectedAttributeName+"="+selectedAttributeValue;productDisplayJS.selectedAttributesList[entitledItemId]=selectedAttributes;void 0!=skuImageId&&productDisplayJS.setSKUImageId(skuImageId);var entitledItemJSON;entitledItemJSON=null==dojo.byId(entitledItemId)||productDisplayJS.isPopup?productDisplayJS.getEntitledItemJsonObject():eval("("+dojo.byId(entitledItemId).innerHTML+")");productDisplayJS.setEntitledItems(entitledItemJSON);var attributeIds=productDisplayJS.getAttributeIds(selectedAttributeName,entitledItemId);if(null!=attributeIds){var usedFilterValue=dojo.byId(attributeIds.usedFilterValueId);null!=usedFilterValue&&(selectedAttributeDisplayValue?usedFilterValue.innerHTML=selectedAttributeDisplayValue:usedFilterValue.innerHTML=selectedAttributeValue);if(""==selectedAttributeValue){dojo.removeClass(attributeIds.usedFilterId,"visible");var hideCurrentUsedFilters=!0,dropdownList=this.allDropdownsList[entitledItemId];for(var i in dropdownList)if(""!=selectedAttributes[dropdownList[i].name]){hideCurrentUsedFilters=!1;break}hideCurrentUsedFilters&&dojo.addClass("currentUsedFilters_"+entitledItemId,"hidden")}else{dojo.addClass(attributeIds.usedFilterId,"visible");dojo.removeClass("currentUsedFilters_"+entitledItemId,"hidden");var selectedAttributeNameId=selectedAttributeName.replace(productDisplayJS.search01,"\\'").replace(productDisplayJS.search02,'\\"');dojo.addClass("attr_"+entitledItemId+"_"+selectedAttributeNameId,"hidden")}productDisplayJS.makeDropdownSelection(selectedAttributeName,selectedAttributeValue,entitledItemId)}},AddtoShopCartAjax:function(e,t,i,a,o){var n=!1;null!=o&&"undefined"!=o&&"repeatDeliveryAddOn"==o.catalogEntryType&&(n=!0);var r=e,s=document.getElementById("RDScheduleFrqValue").value;null==s&&""==s||(selectedProductId=r);if(null!=r){var d=i;if(n)this.AddItem2RecurringOrderAjax(r,t,o,d);else{this.AddItemToShopCartAjax(r,t,o,d);this.baseItemAddedToCart=!0}}},AddItemToShopCartAjax:function(e,t,i,a){var o=[],n=dojo.cookie("isNewEASession");"yes"==n?o.storeId=document.getElementById("PStoreId").value:o.storeId=document.getElementById("storeId").value;o.catalogId=document.getElementById("catalogId").value;o.langId="-1";o.orderId=".";o.calculationUsage="-1,-2,-5,-6,-7";o.callToODM=!0;o.inventoryValidation="true";var r=!1,s=!1;if($("#isRxProd").length>0&&"true"==$("#isRxProd").val()){s=!0;petcoPersonalizationJS.isRxMedicineItemSPCEnabled()&&(o.isRxMedicineFieldUpdate=s)}if($("#isBopusDelete").length>0&&$("#physicalSToreId").length>0&&$("#bopusShipModeId").length>0&&"true"==$("#isBopusDelete").val()){o.physicalStoreId=$("#physicalSToreId").val();o.shipModeId=$("#bopusShipModeId").val();o.fromBopusPage=!0}else{if($("#defaultShipMode").length>0&&$("#defaultFFMCenter").length>0&&""!=$("#defaultShipMode").val()&&""!=$("#defaultFFMCenter").val()){o.shipModeId=$("#defaultShipMode").val();o.fulfillmentCenterId=$("#defaultFFMCenter").val()}o.fromBopusPage=!1}if($("#isBopusDelete").length>0&&$("#physicalSToreId").length>0&&$("#bopusShipModeId").length>0&&$("#defaultShipMode").length>0&&$("#defaultFFMCenter").length>0){$("#isBopusDelete").val("false");$("#physicalSToreId").val("");$("#bopusShipModeId").val("");$("#defaultShipMode").val("");$("#defaultFFMCenter").val("")}var d=document.getElementById("RemovedDonation").value;""!=d&&(o.catalogEntryType="donation");var l=document.getElementById("RDScheduleFrqValue").value;null!=l&&""!=l?this.isRepeatDeliveryProduct=!0:this.isRepeatDeliveryProduct=!1;this.isRepeatDeliveryProduct&&(o.rdFrequency=document.getElementById("RDScheduleFrqValue").value);var c="AjaxAddOrderItem_shopCart";shoppingActionsJS.productAddedList=new Object;if(dojo.isArray(e)&&dojo.isArray(t))for(var u=0;u<e.length;u++){if(!isPositiveInteger(t[u])){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}o["catEntryId_"+(u+1)]=e[u];o["quantity_"+(u+1)]=t[u]}else{if(!isPositiveInteger(t)){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}if(""!=document.getElementById("removedAttrNames").value){i=!0;var u=0;o["isPersonalized_"+(u+1)]=!0;o["catEntryId_"+(u+1)]=e;o["quantity_"+(u+1)]=1;var p=document.getElementById("removedAttrNames").value,m=p.split("|");if(""!=document.getElementById("isRxProd").value&&"true"==document.getElementById("isRxProd").value){o["isRxPersonalized_"+(1*u+1)]=!0;o["isTemplatePersonalizedOrder_"+(1*u+1)]=!0;var h=$("#rxProdParameters");if(h.length>0)for(var y=$(h).html().split("||^||"),v=0;v<y.length;v++)if("isRefillRxPersonalized"==y[v])o["isRefillRxPersonalized_"+(u+1)]="true";else{o["pAttrName"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[0].replace("pAttr","");o["pAttrId"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[6];o["pAttrValue"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[1];o["pAttrOrder"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[4];o["pAttrReq"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[5];o["pAttrFieldId"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[2];o["pAttrReqInCart"+(1*v+1)+"_"+(1*u+1)]=y[v].split("||*||")[3]}}else{for(var v=0;v<m.length;v++){m[v]+"_"+(u+1);o["pAttrId"+(v+1)+"_"+(u+1)]=m[v]}if(""!=document.getElementById("removedAttrvalue").value)for(var f=document.getElementById("removedAttrvalue").value,g=f.split(","),I=0;I<g.length;I++){g[I]+"_"+(u+1);o["pAttrValue"+(I+1)+"_"+(u+1)]=g[I]}}}else{o.catEntryId=e;o.quantity=t}}if(null!=i&&"undefined"!=i){for(u in i)o[u]=i[u];if("dynamicKit"==i.catalogEntryType)c="AddPreConfigurationToCart";else if("repeatDeliveryAddOn"==i.catalogEntryType){r=!0;c="RepeatDeliveryOrderAdd";o.orderId="**"}}if(submitRequest()){cursor_wait();wc.service.invoke(c,o);r||(productDisplayJS.baseItemAddedToCart=!0)}},Add2ShopCartAjax:function(entitledItemId,quantity,isPopup,customParams){var entitledItemJSON,isRDAddOn=!1,isAddToExistingRD=!1;entitledItemJSON=null!=dojo.byId(entitledItemId)?eval("("+dojo.byId(entitledItemId).innerHTML+")"):this.getEntitledItemJsonObject();null!=customParams&&"undefined"!=customParams&&"repeatDeliveryAddOn"==customParams.catalogEntryType&&(isRDAddOn=!0);null!=customParams&&"undefined"!=customParams&&"addToExistingRepeatDeliveryOrder"==customParams.catalogEntryType&&(isAddToExistingRD=!0);productDisplayJS.setEntitledItems(entitledItemJSON);var catalogEntryId=productDisplayJS.getCatalogEntryId(entitledItemId),repeatDeliveryOption=document.getElementById("repeat-delivery-radio");null==repeatDeliveryOption&&void 0==repeatDeliveryOption||repeatDeliveryOption&&repeatDeliveryOption.checked&&(selectedProductId=catalogEntryId);if(null!=document.getElementById("isWHMemberShipSKU")){var customParams={};customParams.isWHMembershipSKU=!0}if(null!=catalogEntryId){var productId=entitledItemId.substring(entitledItemId.indexOf("_")+1);if(isRDAddOn||isAddToExistingRD){try{isRDAddOn?PetcoDataLayer.product.product_delivery_type="one time":PetcoDataLayer.product.product_delivery_type="repeat"}catch(e){console.log("Error setting product delivery type")}this.AddItem2RecurringOrderAjax(catalogEntryId,quantity,customParams,productId)}else{productDisplayJS.AddItem2ShopCartAjax(catalogEntryId,quantity,customParams,productId);productDisplayJS.baseItemAddedToCart=!0}null!=dijit.byId("second_level_category_popup")&&hidePopup("second_level_category_popup")}else if(1==isPopup){dojo.byId("second_level_category_popup").style.zIndex="1";MessageHelper.formErrorHandleClient("addToCartLinkAjax",storeNLS.ERR_RESOLVING_SKU)}else{MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);productDisplayJS.baseItemAddedToCart=!1}},Add2RecurringOrderAjax:function(entitledItemId,quantity,isPopup,customParams){var subscriptionIdField=null,subscriptionId=null,isLTLDeliveryRequired=null;subscriptionIdField=dojo.query("input[type=hidden][name=subscriptionId]");0==subscriptionIdField.length&&(subscriptionIdField=dojo.query("input[type=radio][name=subscriptionId]:checked"));subscriptionId=subscriptionIdField[0].value;console.log("subscriptionId == "+subscriptionId);if(null==customParams||null!=customParams&&""==customParams)customParams={};else{isLTLDeliveryRequired=customParams;customParams={};customParams.isLTLDeliveryRequired=isLTLDeliveryRequired}var entitledItemJSON;entitledItemJSON=null!=dojo.byId(entitledItemId)?eval("("+dojo.byId(entitledItemId).innerHTML+")"):this.getEntitledItemJsonObject();productDisplayJS.setEntitledItems(entitledItemJSON);var catalogEntryId=productDisplayJS.getCatalogEntryId(entitledItemId),catEntry=productDisplayJS.itemPriceJsonOject[catalogEntryId].catalogEntry,rdSkuPartNumber=catEntry.catalogEntryIdentifier.externalIdentifier.partNumber;customParams.catalogEntryType="repeatDeliveryAddOn";customParams.subscriptionId=subscriptionId;customParams.isAddOn="Y";customParams.rdSkuPartNumber=rdSkuPartNumber;this.Add2ShopCartAjax(entitledItemId,quantity,isPopup,customParams)},Add2ExistingRDOrderAjax:function(entitledItemId,quantity,isPopup,customParams){var subscriptionIdField=null,subscriptionId=null,isLTLDeliveryRequired=null,selectRDDrop=$("#addToRDDropDown").val();subscriptionIdField=dojo.query("input[type=hidden][name=subscriptionId]");0==subscriptionIdField.length&&(subscriptionIdField=dojo.query("input[type=radio][name=subscriptionId]:checked"));subscriptionId=subscriptionIdField[0].value;console.log("subscriptionId == "+subscriptionId);if(null==customParams||null!=customParams&&""==customParams)customParams={};else{isLTLDeliveryRequired=customParams;customParams={};customParams.isLTLDeliveryRequired=isLTLDeliveryRequired}var entitledItemJSON;entitledItemJSON=null!=dojo.byId(entitledItemId)?eval("("+dojo.byId(entitledItemId).innerHTML+")"):this.getEntitledItemJsonObject();productDisplayJS.setEntitledItems(entitledItemJSON);var catalogEntryId=productDisplayJS.getCatalogEntryId(entitledItemId),catEntry=productDisplayJS.itemPriceJsonOject[catalogEntryId].catalogEntry,rdSkuPartNumber=catEntry.catalogEntryIdentifier.externalIdentifier.partNumber;if(null!=selectRDDrop&&"ADDON"==selectRDDrop){customParams.catalogEntryType="repeatDeliveryAddOn";customParams.isAddOn="Y";customParams.isAddOnFromINC="Y"}else{customParams.catalogEntryType="addToExistingRepeatDeliveryOrder";
customParams.isInclusive="Y"}customParams.subscriptionId=subscriptionId;customParams.rdSkuPartNumber=rdSkuPartNumber;this.Add2ShopCartAjax(entitledItemId,quantity,isPopup,customParams)},AddItem2ShopCartAjax:function(e,t,i,a){var o={};o.storeId=this.storeId;o.catalogId=this.catalogId;o.langId=this.langId;o.orderId=".";if($("#rxMedicine").length>0&&"true"==$("#rxMedicine").val()){isRXMedicine=!0;petcoPersonalizationJS.isRxMedicineItemSPCEnabled()&&(o.isRxMedicineFieldUpdate=isRXMedicine)}var n=!1;if($("#isRXFoodIndicator").length>0&&"true"==$("#isRXFoodIndicator").val()){n=!0;$("#isRxFoodCollectPdpEnabled").length>0&&"false"==$("#isRxFoodCollectPdpEnabled").val()&&(o.isRxMedicineFieldUpdate=n)}o.inventoryValidation="true";var r=productDisplayJS.getShipModeIdForDefault(),s=productDisplayJS.getFfmCenterDefault();if($("div#bopusSelectEnabledBopusAttrOn.show").length>0&&$("#bopusSelectStails").length>0&&"true"==$("#bopusSelectStails").val())if($("div#bopusSelectEnabledBopusAttrOn input#store-pickup:checked").length>0){var d=productDisplayJS.getStoreIdFromPhyicalSToreIdCookie(),l=productDisplayJS.getShipModeIdForBOPUS();if(""!=d&&"NA"!=d&&""!=l){o.physicalStoreId=d;o.shipModeId=l;o.fromBopusPage=!0}else if(""!=r&&""!=s){o.shipModeId=r;o.fulfillmentCenterId=s;o.fromBopusPage=!1}}else if(""!=r&&""!=s){o.shipModeId=r;o.fulfillmentCenterId=s;o.fromBopusPage=!1}var c=!1,u=document.getElementById("repeat-delivery-radio");document.getElementById("one-time-delivery-radio");null!=u&&void 0!=u&&u.checked?this.isRepeatDeliveryProduct=!0:this.isRepeatDeliveryProduct=!1;if(this.isRepeatDeliveryProduct)if($("#repeat-delivery-dropdown").hasClass("collapsible")&&!$("#repeat-delivery-dropdown").hasClass("open")){if(void 0!=document.getElementById("repeat-delivery-first-ship-options")&&null!=document.getElementById("repeat-delivery-first-ship-options")){var p=document.getElementById("repeat-delivery-first-ship-options").value;if(null!=p&&void 0!=p)if("now"==p)o.rdFrequency=document.getElementById("repeat-delivery-freq-options_future_order").value;else{o.rdFrequency=document.getElementById("repeat-delivery-freq-options_future_order").value;o.rdInitialFirstOrder=p}}}else o.rdFrequency=document.getElementById("repeat-delivery-freq-options").value;var m="AddOrderItem";shoppingActionsJS.productAddedList=new Object;if(dojo.isArray(e)&&dojo.isArray(t))for(var h=0;h<e.length;h++){if(!isPositiveInteger(t[h])){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}o["catEntryId_"+(h+1)]=e[h];o["quantity_"+(h+1)]=t[h]}else{if(!isPositiveInteger(t)){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}if(petcoPersonalizationJS.isPersonalizedItem()&&!petcoPersonalizationJS.isRxMedicineItem()&&this.isRxFoodCollectPDPEnabled){var y=petcoPersonalizationJS.findInvalidCharSetForUserInput(t,i);if(""!=y)return!1;if(!petcoPersonalizationJS.validatePersonalizedRequiredField(t,i))return!1;if(!petcoPersonalizationJS.validatePersonalizedTextInputType(t,i))return!1;o=petcoPersonalizationJS.addPersonalizationAttr(e,t,o)}else if(petcoPersonalizationJS.isRxMedicineItem()&&!petcoPersonalizationJS.isRxMedicineItemSPCEnabled())o=petcoPersonalizationJS.addRxMedicinePersonalizationAttr(e,t,o);else{o.catEntryId=e;o.quantity=t}var v=new Object;for(attr in productDisplayJS.selectedAttributesList["entitledItem_"+a])v[attr]=productDisplayJS.selectedAttributesList["entitledItem_"+a][attr];void 0==a?shoppingActionsJS.saveAddedProductInfo(t,e,e,v):shoppingActionsJS.saveAddedProductInfo(t,a,e,v)}if(null!=i&&"undefined"!=i){for(h in i)o[h]=i[h];if("dynamicKit"==i.catalogEntryType)m="AddPreConfigurationToCart";else if("repeatDeliveryAddOn"==i.catalogEntryType||"addToExistingRepeatDeliveryOrder"==i.catalogEntryType){c=!0;m="RepeatDeliveryOrderAdd";o.orderId="**"}}var f=document.getElementsByName("contractSelectForm_contractId");if(null!=f&&"undefined"!=f)for(h=0;h<f.length;h++)if(f[h].checked){o.contractId=f[h].value;break}if(submitRequest()){cursor_wait();if(this.isRepeatDeliveryProduct){var g=(document.getElementById("repeat-delivery-freq-options").value,productDisplayJS.itemPriceJsonOject[e].catalogEntry),I=g.catalogEntryIdentifier.externalIdentifier.partNumber;try{var _=g.description[0].name,b=_.replace(/["']/g,"");if(null!=I&&"undefined"!=I){var S={};S.product_id=a;S.product_sku=I;S.product_name=b;$("#tel_product_id").size()>0&&(S.product_parent_sku=$("#tel_product_id").val());S.conversion_action_type="1";S.conversion_category_id="Repeat Delivery";S.conversion_event_id="New Repeat Delivery";S.event_name="new_repeat_delivery";pushEvent(S)}}catch(e){console.log(e)}}wc.service.invoke(m,o);c||(productDisplayJS.baseItemAddedToCart=!0)}},AddItem2RecurringOrderAjax:function(e,t,i,a){this.AddItem2ShopCartAjax(e,t,i,a)},setSKUImageId:function(e){productDisplayJS.skuImageId=e},getImageForSKU:function(e,t){var i=[],a=productDisplayJS.selectedAttributesList[e];for(attribute in a)i.push(attribute+"_|_"+a[attribute]);return productDisplayJS.resolveImageForSKU(i,t)},resolveImageForSKU:function(e,t){var i="",a=e.length;for(x in this.entitledItems){if(null!=t)var i=this.entitledItems[x][t];else var i=this.entitledItems[x].ItemImage467;var o=this.entitledItems[x].Attributes,n=0;for(index in o)n++;if(0==a&&0==n)return i;if(0!=n&&a>=n){var r=0;for(attributeName in e){var s=e[attributeName];s in o&&r++}if(n==r){console.debug("ItemImage:"+i+" for Attribute: "+e);var d=[];d.push(i);d.push(this.entitledItems[x].ItemThumbnailImage);if(null!=this.entitledItems[x].ItemAngleThumbnail&&void 0!=this.entitledItems[x].ItemAngleThumbnail){d.push(this.entitledItems[x].ItemAngleThumbnail);d.push(this.entitledItems[x].ItemAngleFullImage);d.push(this.entitledItems[x].ItemAngleThumbnailShortDesc)}return d}}}return null},changeViewImages:function(e,t,i){var a=0;for(x in e){var o=a;a++;var n=dojo.query("ul[id^='ProductAngleImagesAreaList']");if(null!=n)for(var r=0;r<n.length;r++)if(null!=n[r]){var s=document.createElement("li"),d=document.createElement("a"),l=document.createElement("img");s.id="productAngleLi"+o;d.href="JavaScript:changeThumbNail('productAngleLi"+o+"','"+t[x]+"');";d.id="WC_CachedProductOnlyDisplay_links_1_"+a;"undefined"!=i&&null!=i&&(d.title=i[x]);l.src=e[x];l.id="WC_CachedProductOnlyDisplay_images_1_"+a;"undefined"!=i&&null!=i&&(l.alt=i[x]);0==o&&dojo.empty(n[r]);d.appendChild(l);s.appendChild(d);n[r].appendChild(s)}}var c="";c=a>0?"block":"none";var u=dojo.query("div[id^='ProductAngleImagesArea']");if(null!=u)for(var r=0;r<u.length;r++)null!=u[r]&&(u[r].style.display=c)},selectSwatch:function(e,t,i,a,o,n,r){dojo.hasClass("swatch_"+i+"_"+t,"color_swatch_disabled")},makeDropdownSelection:function(e,t,i){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var i=t||0,a=this.length;i<a;i++)if(this[i]===e)return i;return-1});for(var a=[],o=productDisplayJS.selectedAttributesList[i],n=(o[e],productDisplayJS.allDropdownsList[i]),r=0;r<n.length;r++)productDisplayJS.removeQuotes(n[r].name)!=productDisplayJS.removeQuotes(e)&&a.push(n[r]);var s=new Object;for(var d in productDisplayJS.entitledItems){var l=productDisplayJS.entitledItems[d].Attributes,c=new Object;for(var u in l){var p=u.indexOf("_|_"),m=u.substring(0,p),h=u.substring(p+3);c[m]=h}for(var y in c)if(productDisplayJS.removeQuotes(y)==productDisplayJS.removeQuotes(e)&&(c[y]==t||""==t))for(var v in c){var f=productDisplayJS.removeQuotes(v);if(productDisplayJS.removeQuotes(y)!=f){var g=!0;for(var I in o)productDisplayJS.removeQuotes(I)!=f&&o[I]&&o[I]!==c[I]&&(g=!1);if(g&&c[v]){s[f]||(s[f]=[]);s[f].indexOf(c[v].replace(/^\s+|\s+$/g,""))==-1&&s[f].push(c[v].replace(/^\s+|\s+$/g,""))}}}}for(var r in a){var _=s[productDisplayJS.removeQuotes(a[r].name)];if(_)for(var b=0;b<a[r].options.length;b++){var S=a[r].options[b];_.indexOf(S.value.replace(/^\s+|\s+$/g,""))==-1&&""!=S.value||(S.enabled=!0)}}for(var r in a)if(a[r].options){for(var b=0;b<a[r].options.length;b++){var S=a[r].options[b];S.enabled?S.disabled=!1:S.disabled=!0;delete S.enabled}var P=dijit.byNode(a[r].node);P.startup()}},addToAllSwatchsArray:function(e,t,i,a,o){this.allSwatchesArrayList[a]},existInAllDropdownsArray:function(e,t,i){for(var a=0;a<i.length;a++)if(i[a].name==e&&i[a].id==t)return!0;return!1},makeDefaultSwatchSelection:function(entitledItemId,doNotDisable){if(0==this.entitledItems.length){null!=dojo.byId(entitledItemId)&&(entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")"));productDisplayJS.setEntitledItems(entitledItemJSON)}for(x in this.entitledItems){var Attributes=this.entitledItems[x].Attributes;for(y in Attributes){var index=y.indexOf("_|_"),swatchName=y.substring(0,index),swatchValue=y.substring(index+3);this.makeSwatchSelection(swatchName,swatchValue,entitledItemId,doNotDisable,null,imageField)}break}},isRdProduct:!1,isAddOnToggleCallMade:!1,displayRDPrice:function(e,t,i,a,o){var n="";if(null!=i.value&&void 0!=i.value&&"0"==i.value){var r=dojo.byId("product-price-rd");if(null!=document.getElementById("rdPriceDiv")&&void 0!=document.getElementById("rdPriceDiv")){r.setAttribute("class","product-price");if(null!=a.price&&void 0!=a.price&&"Price pending"!=a.price){var s="";if(null!=document.getElementById("itemOrProd")&&void 0!=document.getElementById("itemOrProd")){var d=document.getElementById("itemOrProd").value;s="Item"==d?"item-rd-price":""}document.getElementById("rdPriceDiv").innerHTML="<span class='product-price-rddetail "+s+"'>"+a.price+"</span><span class='rd_savings_message' id='RDSavingsMessage'></span><span class='rd-logo'>"+MessageHelper.messages.REPEAT_DELIVERY_CART+"</span> <span>"+productDisplayJS.allItemPricesOject[e].savingsOnRDPrice+"</span>";""!=o&&(document.getElementById("rdPriceDiv").innerHTML=document.getElementById("rdPriceDiv").innerHTML+" <span class='product-price-banner'><img src='/wcsstore/PetcoSAS/img/r-d-logo.png' alt='Repeat Delivery'/></span>")}else document.getElementById("rdPriceDiv").innerHTML="<span class='form-required'>Price pending</span>";if(null!=$(".delivery-option-price .product-price-rddetail")&&void 0!=$(".delivery-option-price .product-price-rddetail")){$(".delivery-option-price .product-price-rddetail").removeClass("hide");$(".delivery-option-price .product-price-rd-info").removeClass("hide");$(".delivery-option-price .product-price-rddetail").addClass("");$(".delivery-option-price .product-price-rd-info").addClass("");$("#rdBreak").removeClass("hide");$("#rdBreak").addClass("show")}}productDisplayJS.isRdProduct=!0;if(null!=dojo.byId("rd-option-container")){dojo.removeClass("rd-option-container","hide");dojo.addClass("rd-option-container","show")}}else{productDisplayJS.isRdProduct=!1;if(null!=dojo.byId("rd-option-container")){dojo.addClass("rd-option-container","hide");dojo.removeClass("rd-option-container","show");$("#repeat-delivery-radio:checked.rd-option-input").length>0&&0==$("input#store-pickup:checked").length&&0==$("#repeat-delivery-select-btn.instore-deliveryBox").length&&0==$("#repeat-delivery-select-btn.paramStore-deliveryBox").length&&document.getElementById("one-time-delivery").click()}var r=dojo.byId("product-price-rd");null!=document.getElementById("rdPriceDiv")&&void 0!=document.getElementById("rdPriceDiv")&&r.setAttribute("class","product-price hide");if(null!=$(".delivery-option-price .product-price-rddetail")&&void 0!=$(".delivery-option-price .product-price-rddetail")){$(".delivery-option-price .product-price-rddetail").removeClass("");$(".delivery-option-price .product-price-rd-info").removeClass("");$(".delivery-option-price .product-price-rddetail").addClass("hide");$(".delivery-option-price .product-price-rd-info").addClass("hide");$("#rdBreak").removeClass("show");$("#rdBreak").addClass("hide")}}if(void 0!=document.getElementById("rd-item-price")){var l=productDisplayJS.itemPriceJsonOject[e].catalogEntry;if(""!=l.listPrice){var c=l.listPrice.replace("$",""),u=a.price.replace("$","");parseFloat(u)<parseFloat(c)&&null!=document.getElementById("best-price")&&(document.getElementById("best-price").className="best-price show")}else if(""!=l.offerPrice){var p=l.offerPrice.replace("$",""),u=a.price.replace("$","");parseFloat(u)<parseFloat(p)&&null!=document.getElementById("best-price")&&(document.getElementById("best-price").className="best-price show")}null!=a.price&&void 0!=a.price&&"Price pending"!=a.price&&(n='<span class="product-price-rdradio">'+a.price+"</span>");document.getElementById("rd-item-price").innerHTML=n}0!=$("#rd-next-item-price .product-price-rdradio").length&&null!=a.price&&void 0!=a.price&&"Price pending"!=a.price&&($("#rd-next-item-price .product-price-rdradio")[0].innerHTML=a.price);if(null!=document.getElementById("itemOrProd")&&void 0!=document.getElementById("itemOrProd")){var d=document.getElementById("itemOrProd").value;if("Prod"==d&&productDisplayJS.canSwapProductPriceDiv){var m=$("#pdp-product-info .product-price-normal"),h=$("#pdp-product-info #product-price-rd");if(null!=m&&void 0!=m&&null!=h&&void 0!=h){var y=m.clone(),v=h.clone();m.replaceWith(v);h.replaceWith(y)}}}productDisplayJS.showRdSavings(e,t)},showRdSavings:function(e,t){if("undefined"!=typeof $("#offerPrice_"+e)&&"undefined"!=typeof $("span#rdPriceDiv span.product-price-rddetail")&&$("#offerPrice_"+e).length>0&&$("span#rdPriceDiv span.product-price-rddetail").length>0){var i=1*$("#offerPrice_"+e).html().replace("$","").replace(",",""),a=1*$("span#rdPriceDiv span.product-price-rddetail").html().replace("$","").replace(",",""),o=(i-a)/i*100;if(o>5){var n=$("div#product-price-rd span#rdPriceDiv span#RDSavingsMessage");n.html(MessageHelper.messages.RD_SAVINGS_MESSAGES)}}},palsRewardsPointsSubscriptionFired:!1,toggleAddonButton:function(){if("R"==dojo.cookie("WC_UserType")){var e=!1;require(["dojo/has","dojo/sniff"],function(t){var i=t("ios");e=!("undefined"==typeof i||null==i||!i)});var t,i="NEXT_REPEAT_DELIVERY_DATE",a="PALS_POINTS";"undefined"!=typeof localStorageHelper&&(t=localStorageHelper.get(i,e));palsPointCookieValue=localStorageHelper.get(a,e);if(null!=t&&t&&""!=t&&"none"!=t&&"paused"!=t){var o=["January","February","March","April","May","June","July","August","September","October","November","December"],n=localStorageHelper.get(i,e),r=n.replace(/-/g,"/")+" 00:00:00",s=new Date(r),d=!1;null!=dojo.byId("notifybutton")&&(d=dojo.hasClass(dojo.byId("notifybutton"),"show"));if($("#rd-add-on").length>0)d?document.getElementById("rd-add-on").className="radio rd-option hide":document.getElementById("rd-add-on").className="radio rd-option show";else if(!d)if(productDisplayJS.idAdobeCallDone){console.log("PDP RD AT adobeRDVarValue = "+productDisplayJS.adobeRDVarValue);""!=productDisplayJS.adobeRDVarValue&&productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue)}else{productDisplayJS.idAdobeCallDone=!0;console.log("PDP RD AT = true");var l,c="var_B",u=dojo.cookie("isOBOSession"),p=dojo.cookie("isNewEASession");document.getElementById("atPDPRDModal")&&(l=document.getElementById("atPDPRDModal").value);if(""!=l&&"NA"!=l&&"yes"!=u&&"yes"!=p){var m="PetcoAdobeABTesting?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId,h={};h.targetTest=l;console.log("PDP RD AT........ key:"+l);$.ajax({url:m,type:"POST",cache:!1,dataType:"text",data:h,success:function(e){console.log("PDP RD Success for key:"+l);var t,i;try{var t=petcoCommonJS.dataFilter(e),i=jQuery.parseJSON(t)}catch(e){console.log("PDP RD exception in parsing JSON setting default value");productDisplayJS.adobeRDVarValue=c;productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue)}if(null!=i.adobeTargetResult){var a=i.adobeTargetResult.option;void 0!=typeof a&&""!=a||(a=c);productDisplayJS.adobeRDVarValue=a;productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue);Visitor.getInstance(i.adobeTargetResult.organizationId,{serverState:i.adobeTargetResult.visitorState})}else{productDisplayJS.adobeRDVarValue=c;productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue)}},error:function(){productDisplayJS.adobeRDVarValue=c;console.log("PDP RD Error response recived,setting value to : "+productDisplayJS.adobeRDVarValue);productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue)}})}else{console.log("PDP RD AT call not executed because of empty storeconf or cookie");productDisplayJS.adobeRDVarValue=c;productDisplayJS.handleRDButtons(productDisplayJS.adobeRDVarValue)}}var y=o[s.getMonth()]+" "+s.getDate()+", "+s.getFullYear();d||null==document.getElementById("rd-next-date")||"undefined"==typeof o[s.getMonth()]||(document.getElementById("rd-next-date").innerHTML=y)}else{var v=[],f=!1,t=localStorageHelper.get(i,e);if("R"===dojo.cookie("WC_UserType")){v.langId=WCParamJS.langId;v.storeId=WCParamJS.storeId;v.catalogId=WCParamJS.catalogId;v.palsPointCookie=a;v.nextRepeatedDeliveryDateCookie=i;if(f||null==palsPointCookieValue||null==t){v.updateCookies=!0;if(!productDisplayJS.palsRewardsPointsSubscriptionFired){wc.service.invoke("AjaxPetcoPalsRewardsPointsSubscription",v);productDisplayJS.palsRewardsPointsSubscriptionFired=!0}}}}}},handleRDButtons:function(e){var t="";if(null!=this.entitledItems&&void 0!=this.entitledItems)for(x in this.entitledItems){var i=this.entitledItems[x].catentry_id;i==this.selectedCatalogEntryId&&(t=this.entitledItems[x].RepeatDeliveryFlag)}var a,o=!1;void 0!=document.getElementById("isRDSwitchFlag")&&(a=document.getElementById("isRDSwitchFlag").value);null!=t.value&&void 0!=t.value&&"0"==t.value&&(o=!0);var n=e?e:"var_B";console.log("PDP RD Switch:"+a+" catID:"+this.selectedCatalogEntryId+" rdFlag:"+t.value+" adobeFlag:"+n);if("var_A"!=n&&"N"!=a&&o){$("#selectRDOrderBtnAddTo").length>0&&$("#selectRDOrderBtnAddTo").removeClass("hide");$(".noRdPdpDesign").length>0&&$("#selectRDOrderBtnAddTo").length>0&&!$("#selectRDOrderBtnAddTo").hasClass("hide")&&"none"!=$("#selectRDOrderBtnAddTo").css("display")&&$("#petcoWishListForReg").length>0&&$("#petcoWishListForReg").addClass("hide");$(".noRdPdpDesign").length>0&&$("#selectRDOrderBtnCpy").length>0&&!$("#selectRDOrderBtnCpy").hasClass("hide")&&"none"!=$("#selectRDOrderBtnCpy").css("display")&&$("#selectRDOrderBtnCpy").addClass("hide")}else{$("#selectRDOrderBtnCpy").length>0&&$("#selectRDOrderBtnCpy").removeClass("hide");$(".noRdPdpDesign").length>0&&$("#selectRDOrderBtnCpy").length>0&&!$("#selectRDOrderBtnCpy").hasClass("hide")&&"none"!=$("#selectRDOrderBtnCpy").css("display")&&$("#petcoWishListForReg").length>0&&$("#petcoWishListForReg").addClass("hide");$(".noRdPdpDesign").length>0&&$("#selectRDOrderBtnAddTo").length>0&&!$("#selectRDOrderBtnAddTo").hasClass("hide")&&"none"!=$("#selectRDOrderBtnAddTo").css("display")&&$("#selectRDOrderBtnAddTo").addClass("hide")}buildAddonProductDataLayerVariable()},calculateSavings:function(catEntryId,productId){var rdPriceObject=productDisplayJS.entitledItems,entitledItemIdsObject=document.getElementById("entitledItem_"+productId),entitledItemIds=eval("("+entitledItemIdsObject.innerHTML+")");rdPriceObject=entitledItemIds;productDisplayJS.allItemPricesOject[catEntryId]=[];productDisplayJS.allItemPricesOject[catEntryId].catalogEntryIdentifier=productDisplayJS.itemPriceJsonOject[catEntryId].catalogEntry.catalogEntryIdentifier;productDisplayJS.allItemPricesOject[catEntryId].listPrice=productDisplayJS.itemPriceJsonOject[catEntryId].catalogEntry.listPrice;productDisplayJS.allItemPricesOject[catEntryId].offerPrice=productDisplayJS.itemPriceJsonOject[catEntryId].catalogEntry.offerPrice;productDisplayJS.allItemPricesOject[catEntryId].listPriced=productDisplayJS.itemPriceJsonOject[catEntryId].catalogEntry.listPriced;for(var i=0;i<rdPriceObject.length;i++)if(rdPriceObject[i].catentry_id==catEntryId){productDisplayJS.allItemPricesOject[catEntryId].RepeatDeliveryPrice=rdPriceObject[i].RepeatDeliveryPrice;productDisplayJS.allItemPricesOject[catEntryId].RepeatDeliveryFlag=rdPriceObject[i].RepeatDeliveryFlag}if(productDisplayJS.allItemPricesOject[catEntryId].listPriced&&""!=productDisplayJS.allItemPricesOject[catEntryId].listPrice){var listPrice=productDisplayJS.allItemPricesOject[catEntryId].listPrice.replace("$","");listPrice=parseFloat(listPrice.split(",").join(""));var offerPrice=productDisplayJS.allItemPricesOject[catEntryId].offerPrice.replace("$","");offerPrice=parseFloat(offerPrice.split(",").join(""));var savings=100*(listPrice-offerPrice)/listPrice;savings>0&&savings<100?productDisplayJS.allItemPricesOject[catEntryId].savingsOnOfferPrice="save "+Math.round(savings)+"%":productDisplayJS.allItemPricesOject[catEntryId].savingsOnOfferPrice=""}else productDisplayJS.allItemPricesOject[catEntryId].savingsOnOfferPrice="";if(""!=productDisplayJS.allItemPricesOject[catEntryId].RepeatDeliveryPrice.price&&""!=productDisplayJS.allItemPricesOject[catEntryId].listPrice){var listPrice=productDisplayJS.allItemPricesOject[catEntryId].listPrice.replace("$","");listPrice=parseFloat(listPrice.split(",").join(""));var rdPrice=productDisplayJS.allItemPricesOject[catEntryId].RepeatDeliveryPrice.price.replace("$","");rdPrice=parseFloat(rdPrice.split(",").join(""));var rdSavings=100*(listPrice-rdPrice)/listPrice;rdSavings>0&&rdSavings<100?productDisplayJS.allItemPricesOject[catEntryId].savingsOnRDPrice="save "+Math.round(rdSavings)+"%":productDisplayJS.allItemPricesOject[catEntryId].savingsOnRDPrice=""}else productDisplayJS.allItemPricesOject[catEntryId].savingsOnRDPrice="";console.log(productDisplayJS.allItemPricesOject)},displayPrice:function(e,t){$("div#product-price-rd span#rdPriceDiv span#RDSavingsMessage").html("");var i,a=productDisplayJS.itemPriceJsonOject[e].catalogEntry,o=a.isBopusProduct,n=a.isFrozenProduct,r=productDisplayJS.isPopup,s=document.getElementById("priceEnabled_"+t),d=!1;for(x in productDisplayJS.entitledItems){var l=productDisplayJS.entitledItems[x].catentry_id;if(l==e){var c=productDisplayJS.entitledItems[x].InStoreOnly;"true"==c&&(d=!0)}}var u=document.getElementById("omnitureEnabled"),p="";null!=u&&"undefined"!=u&&(p=u.value);var m=(dojo.byId("splDelvMsgWrapperBopus"),dojo.byId("price_display_"+t)),h=dojo.byId("pdp-product-attributes_id"),y=dojo.byId("pdp-product-features_id"),v=(dojo.byId("repeat-delivery-select-btn"),dojo.byId("PriceMatchGuarantee")),f=dojo.byId("pricestack-promo-2"),g=dojo.byId("pricestack-promo-1"),I=dojo.byId("add-to-controls"),_=dojo.byId("inStoreNoticeBox");$("#repeat-delivery-select-btn").removeClass("instore-deliveryBox");$("#repeat-delivery-select-btn").removeClass("paramStore-deliveryBox");if(!d||d&&"yes"==o){dojo.removeClass(dojo.byId("repeat-delivery-select-btn"),"hide");dojo.addClass(dojo.byId("repeat-delivery-select-btn"),"show");$("div#pdp_atc").addClass("show");$("div#pdp_atc").removeClass("hide");$(I).css("display","block");if(d&&"yes"==o&&"yes"==n){$("#frozenFood").addClass("show");$("#frozenFood").removeClass("hide");$("span.selectableBopusSection").addClass("hide");$("span.selectableBopusSection").removeClass("show");$("div#pdp_atc").removeClass("show");$("div#pdp_atc").addClass("hide");$(I).css("display","none")}else if("yes"==o&&"no"==n){$("#frozenFood").addClass("hide");$("#frozenFood").removeClass("show");$("span.selectableBopusSection").addClass("show");$("span.selectableBopusSection").removeClass("hide")}if(null!=h){dojo.removeClass(h,"hide");dojo.addClass(h,"show")}if(null!=y){dojo.removeClass(y,"hide");dojo.addClass(y,"show")}if(null!=v&&null!=dojo.byId("pdp-persistent-container")&&!dojo.hasClass("pdp-persistent-container","fixed")){dojo.addClass(v,"show");dojo.removeClass(v,"hide")}if(null!=f&&null!=dojo.byId("pdp-persistent-container")&&!dojo.hasClass("pdp-persistent-container","fixed")){dojo.addClass(f,"show");dojo.removeClass(f,"hide")}if(null!=g&&null!=dojo.byId("pdp-persistent-container")&&!dojo.hasClass("pdp-persistent-container","fixed")){dojo.addClass(g,"show");dojo.removeClass(g,"hide")}if(null!=_){dojo.addClass(_,"hide");dojo.removeClass(_,"show")}null!=I&&dojo.style(I,"display","block");null!=m&&dojo.style(m,"display","block");null!=dojo.byId("inStoreMessaging")&&dojo.style("inStoreMessaging","display","none");if(null!=dojo.byId("inStoreMessagingforfixedscroll")){dojo.removeClass(dojo.byId("inStoreMessagingforfixedscroll"),"showonscrollforinstock");if(null!=dojo.byId("pdp-persistent-container")&&dojo.hasClass("pdp-persistent-container","fixed")){document.getElementById("inStoreMessagingforfixedscroll").classList.add("hide");document.getElementById("inStoreMessagingforfixedscroll").classList.remove("show")}}if(null!=dojo.byId("inStoreMessaging")&&null!=dojo.byId("repeat-delivery-select-btn")){dojo.place(dojo.byId("inStoreMessaging"),dojo.byId("repeat-delivery-select-btn"),"before");dojo.addClass(dojo.byId("repeat-delivery-select-btn"),"show");dojo.removeClass(dojo.byId("repeat-delivery-select-btn"),"hide")}1==r&&(document.getElementById("productPrice").innerHTML=a.offerPrice);if(0==r){if("undefined"!=s&&null!=s&&"true"==s.value){null!=document.getElementById("product-price_"+t)&&void 0!=document.getElementById("product-price_"+t)&&(document.getElementById("product-price_"+t).innerHTML="See price in cart");return}var b="",S=dojo.currency.parse(a.listPrice,{symbol:this.currencySymbol}),P=dojo.currency.parse(a.offerPrice,{symbol:this.currencySymbol});if(!a.listPriced||S<=P)b="<span id='offerPrice_"+a.catalogEntryIdentifier.uniqueID+"' class='price'>"+a.offerPrice+"</span>";else{productDisplayJS.calculateSavings(e,t);if(""!=a.listPrice){b="<span id='offerPrice_"+a.catalogEntryIdentifier.uniqueID+"' class='product-price-promo'>"+a.offerPrice+"</span>&nbsp;<span id='listPrice_"+a.catalogEntryIdentifier.uniqueID+"' class='product-price-crossout'>was "+a.listPrice+"</span>&nbsp;<span id='savings_"+a.catalogEntryIdentifier.uniqueID+"' class='product-price-save'>&nbsp;"+productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].savingsOnOfferPrice+"</span>";$("#PriceStack-RedPrice").removeClass("hide")}else b="<span id='offerPrice_"+a.catalogEntryIdentifier.uniqueID+"' class='product-price-promo'>"+a.offerPrice+"</span>&nbsp;<span id='savings_"+a.catalogEntryIdentifier.uniqueID+"' class='product-price-save'>"+productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].savingsOnOfferPrice+"</span>"}null!=document.getElementById("product-price_"+t)&&void 0!=document.getElementById("product-price_"+t)&&(document.getElementById("product-price_"+t).innerHTML=b+"<input type='hidden' id='ProductInfoPrice_"+a.catalogEntryIdentifier.uniqueID+"' value='"+a.offerPrice.replace(/"/g,"&#034;").replace(/'/g,"&#039;")+"'/>");b="";productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].RepeatDeliveryPrice.price=a.rdPrice;productDisplayJS.displayRDPrice(a.catalogEntryIdentifier.uniqueID,t,productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].RepeatDeliveryFlag,productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].RepeatDeliveryPrice,productDisplayJS.allItemPricesOject[a.catalogEntryIdentifier.uniqueID].savingsOnRDPrice);if(1==productDisplayJS.displayPriceRange)for(var E in a.priceRange){if(a.priceRange[E].endingNumberOfUnits==a.priceRange[E].startingNumberOfUnits){i=storeNLS.PQ_PRICE_X;b=b+"<p>"+dojo.string.substitute(i,{0:a.priceRange[E].startingNumberOfUnits})}else if("null"!=a.priceRange[E].endingNumberOfUnits){i=storeNLS.PQ_PRICE_X_TO_Y;b=b+"<p>"+dojo.string.substitute(i,{0:a.priceRange[E].startingNumberOfUnits,1:a.priceRange[E].endingNumberOfUnits})}else{i=storeNLS.PQ_PRICE_X_OR_MORE;b=b+"<p>"+dojo.string.substitute(i,{0:a.priceRange[E].startingNumberOfUnits})}b=b+" <span class='price'>"+a.priceRange[E].localizedPrice+"</span></p>"}if(null!=dojo.byId("ProductInfoPrice_"+a.catalogEntryIdentifier.uniqueID)){var D=a.catalogEntryIdentifier.uniqueID;""==dojo.byId("ProductInfoPrice_"+D).value&&null!=dojo.byId("offerPrice_"+D)&&(dojo.byId("offerPrice_"+D).innerHTML="Price pending")}var C=dojo.byId("productLevelPriceRange_"+t),A=dojo.byId("itemLevelPriceRange_"+t);if(null!=C&&null==A)dojo.style(C,"display","");else if(""!=b&&null!=A){b=storeNLS.PQ_PURCHASE+b;A.innerHTML=b;dojo.style(A,"display","");null!=C&&dojo.style(C,"display","none")}else if(""==b){null!=A&&dojo.style(A,"display","none");null!=C&&dojo.style(C,"display","")}}null!=dojo.byId("deliveryMsgWrapperBopus")&&dojo.style("deliveryMsgWrapperBopus","display","block");if(null!=dojo.byId("shipRestrictionMsg")){document.getElementById("shipRestrictionMsg").classList.add("show");document.getElementById("shipRestrictionMsg").classList.remove("hide")}if(d){$("#repeat-delivery-select-btn").addClass("instore-deliveryBox");null!=dojo.byId("deliveryDateMsg")&&dojo.style("deliveryDateMsg","display","none");null!=dojo.byId("ShippingMessage")&&dojo.style("ShippingMessage","display","none");if(null!=dojo.byId("shipRestrictionMsg")){document.getElementById("shipRestrictionMsg").classList.add("hide");document.getElementById("shipRestrictionMsg").classList.remove("show")}if($("#store-pickup").length>0){$("#store-pickup")[0].click();null!=I&&dojo.style(I,"display","block")}else null!=I&&dojo.style(I,"display","none");null!=m&&(d&&"yes"==o?null!=dojo.byId("product-price-rd")&&dojo.addClass(dojo.byId("product-price-rd"),"hide"):d&&dojo.style(m,"display","none"));if(null!=dojo.byId("inStoreMessaging")&&null!=dojo.byId("repeat-delivery-select-btn")){dojo.place(dojo.byId("inStoreMessaging"),dojo.byId("repeat-delivery-select-btn"),"before");null!=dojo.byId("pdp-product-features_id")&&dojo.query("div#inStoreMessaging p.notice-box").length>0&&dojo.place(dojo.query("div#inStoreMessaging p.notice-box")[0],dojo.byId("pdp-promo-1"),"before")}null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("splDelvMsg")&&dojo.style("splDelvMsg","display","none");null!=dojo.byId("deliveryMsgWrapperBopus")&&dojo.style("deliveryMsgWrapperBopus","display","none")}}else{if(null!=dojo.byId("inStoreMessaging")&&null!=dojo.byId("repeat-delivery-select-btn")){dojo.place(dojo.byId("inStoreMessaging"),dojo.byId("repeat-delivery-select-btn"),"before");dojo.style("inStoreMessaging","display","block");null!=dojo.byId("pdp-product-features_id")&&dojo.query("div#inStoreMessaging p.notice-box").length>0&&dojo.place(dojo.query("div#inStoreMessaging p.notice-box")[0],dojo.byId("pdp-promo-1"),"before");dojo.addClass(dojo.byId("repeat-delivery-select-btn"),"hide");dojo.removeClass(dojo.byId("repeat-delivery-select-btn"),"show")}if(null!=h){dojo.removeClass(h,"hide");dojo.addClass(h,"show")}if(null!=y){dojo.removeClass(y,"hide");dojo.addClass(y,"show")}null!=m&&dojo.style(m,"display","none");if(null!=v){dojo.addClass(v,"hide");dojo.removeClass(v,"show")}if(null!=f){dojo.addClass(f,"hide");dojo.removeClass(f,"show")}if(null!=g){dojo.addClass(g,"hide");dojo.removeClass(g,"show")}null!=I&&dojo.style(I,"display","none");if(null!=dojo.byId("shipRestrictionMsg")){document.getElementById("shipRestrictionMsg").classList.add("hide");document.getElementById("shipRestrictionMsg").classList.remove("show")}if(null!=dojo.byId("pdp-persistent-container")&&!dojo.hasClass("pdp-persistent-container","fixed")&&null!=_){dojo.addClass(_,"show");dojo.removeClass(_,"hide")}var M=dojo.query(".product-availability");if(M.length>0){var j=M[0];dojo.style(j,"display","none")}var B=dojo.query(".pdp-product-attributes");if(B.length>0){var w=B[0];dojo.style(w,"display","none")}if(null!=dojo.byId("inStoreMessagingforfixedscroll")){dojo.addClass(dojo.byId("inStoreMessagingforfixedscroll"),"showonscrollforinstock");if(null!=dojo.byId("pdp-persistent-container")&&dojo.hasClass("pdp-persistent-container","fixed")){document.getElementById("inStoreMessagingforfixedscroll").classList.add("show");document.getElementById("inStoreMessagingforfixedscroll").classList.remove("hide")}}null!=dojo.byId("add-to-controls")&&dojo.style("add-to-controls","display","none");null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("pdp_atc")&&dojo.style("pdp_atc","display","none");null!=dojo.byId("splDelvMsg")&&dojo.style("splDelvMsg","display","none")}"undefined"!=typeof petcoCommonJS&&petcoCommonJS.clearPromotionLessThanZero();
if(void 0!=document.getElementById("item-price")){var O=a.offerPrice;O.indexOf("$")<0&&(O="$"+O);b=""!=a.listPrice?"<strong>"+O+"</strong>":"<strong>"+O+"</strong>";document.getElementById("item-price").innerHTML=b}if(void 0!=document.getElementById("item-price-bopus")){b="<strong>"+a.bopusPrice+"</strong>";document.getElementById("item-price-bopus").innerHTML=b}productDisplayJS.selectedCatalogEntryId=a.catalogEntryIdentifier.uniqueID},updateTaggingVal:function(e,t){try{var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=i.catalogEntryIdentifier.externalIdentifier.partNumber;$("#customerReviewPannel").attr("manual_cm_sp","pdp-_-replacementsku-_-rating-_-"+a);$("#customerReviewPannelStar").attr("manual_cm_sp","pdp-_-replacementsku-_-rating-_-"+a);$("#notifybutton").attr("manual_cm_sp","pdp-_-replacementsku-_-notifyme-_-"+a);$("#add2CartBtn_cpy1").attr("manual_cm_sp","pdp-_-replacementsku-_-addtocart-_-"+a);$("#viewDetailsReplacement").attr("manual_cm_sp","pdp-_-replacementsku-_-viewdetails-_-"+a)}catch(e){console.log(e)}},updateViewDetailsLink:function(e,t){var i="#catEntryDisplayUrl_"+e;$("#viewDetailsReplacement").attr("href",$(i).val())},addBOPUSDetailsForInstock:function(e){if(0!=$("#repeat-delivery-select-btn.instore-deliveryBox").length||0!=$("#repeat-delivery-select-btn.paramStore-deliveryBox").length){var t=productDisplayJS.bopusShowStoreDetailsCatEntryId,i=productDisplayJS.bopusShowStoreDetailsProductId,a=productDisplayJS.itemPriceJsonOject[t].catalogEntry,o=a.isBopusProduct,n=a.isBOPUSAreaExcludedItem,r=!1;$("#PDP-Promo5-bopus").addClass("hide");if($("#isBOPUSAreaRestictionEnabeled").length>0&&"true"==$("#isBOPUSAreaRestictionEnabeled").val()&&"yes"==n.toLowerCase()&&"yes"==o.toLowerCase()){var s="";if($("#BOPUSAreaRestictionState").length>0){s=$("#BOPUSAreaRestictionState").val();for(var d=s.split(","),l=0;l<d.length;l++)if(d[l]==e){hidePersistentAddToCart();r=!0;$("#BOPUSDeliveryDetailsConatiner").addClass("hide");$("#BOPUSDeliveryDetailsConatiner").removeClass("show");$("#PDP-Promo5-bopus").removeClass("hide");if($("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Not Available";$("#add2CartBtn_bopus")[0].disabled=!0;$("#store-pickup").length>0&&$("#store-pickup")[0].click()}}}}var c=(productDisplayJS.isPopup,document.getElementById("priceEnabled_"+i),!1);for(x in productDisplayJS.entitledItems){var u=productDisplayJS.entitledItems[x].catentry_id;if(u==t){var p=productDisplayJS.entitledItems[x].InStoreOnly;"true"==p&&(c=!0)}}var m=document.getElementById("omnitureEnabled"),h="";null!=m&&"undefined"!=m&&(h=m.value);var y=dojo.byId("price_display_"+i),v=dojo.byId("pdp-product-attributes_id"),f=dojo.byId("pdp-product-features_id"),g=(dojo.byId("repeat-delivery-select-btn"),dojo.byId("PriceMatchGuarantee")),I=dojo.byId("pricestack-promo-2"),_=dojo.byId("pricestack-promo-1"),b=dojo.byId("add-to-controls"),S=dojo.byId("inStoreNoticeBox");if(null!=dojo.byId("inStoreMessaging")&&null!=dojo.byId("repeat-delivery-select-btn")){dojo.place(dojo.byId("inStoreMessaging"),dojo.byId("repeat-delivery-select-btn"),"before");dojo.style("inStoreMessaging","display","block");null!=dojo.byId("pdp-product-features_id")&&dojo.query("div#inStoreMessaging p.notice-box").length>0&&dojo.place(dojo.query("div#inStoreMessaging p.notice-box")[0],dojo.byId("pdp-promo-1"),"before")}if(null!=v){dojo.removeClass(v,"hide");dojo.addClass(v,"show")}if(null!=f){dojo.removeClass(f,"hide");dojo.addClass(f,"show")}null!=y&&dojo.style(y,"display","none");if(null!=g){dojo.addClass(g,"hide");dojo.removeClass(g,"show")}if(null!=_){dojo.addClass(_,"hide");dojo.removeClass(_,"show")}if(null!=I){dojo.addClass(I,"hide");dojo.removeClass(I,"show")}null!=b&&dojo.style(b,"display","none");if(null!=dojo.byId("pdp-persistent-container")&&!dojo.hasClass("pdp-persistent-container","fixed")&&null!=S&&c&&"yes"!=o.toLowerCase()){dojo.addClass(S,"show");dojo.removeClass(S,"hide")}var P=dojo.query(".product-availability");if(P.length>0){var E=P[0];dojo.style(E,"display","none")}var D=dojo.query(".pdp-product-attributes");if(D.length>0){var C=D[0];dojo.style(C,"display","none")}if(null!=dojo.byId("inStoreMessagingforfixedscroll")){dojo.addClass(dojo.byId("inStoreMessagingforfixedscroll"),"showonscrollforinstock");if(null!=dojo.byId("pdp-persistent-container")&&dojo.hasClass("pdp-persistent-container","fixed")){document.getElementById("inStoreMessagingforfixedscroll").classList.add("show");document.getElementById("inStoreMessagingforfixedscroll").classList.remove("hide")}}null!=dojo.byId("add-to-controls")&&dojo.style("add-to-controls","display","none");null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("pdp_atc")&&dojo.style("pdp_atc","display","none");null!=dojo.byId("splDelvMsg")&&dojo.style("splDelvMsg","display","none")}},bopusShowStoreDetailsCatEntryId:"",bopusShowStoreDetailsProductId:"",definngaAttributeResolved:!1,bopusShowStoreDetails:function(e,t){productDisplayJS.bopusShowStoreDetailsCatEntryId=e;productDisplayJS.bopusShowStoreDetailsProductId=t;null!=dojo.byId("catEntryIdForBOPUSModal")&&(dojo.byId("catEntryIdForBOPUSModal").value=e);productDisplayJS.definngaAttributeResolved=!0;var i=!1;for(x in productDisplayJS.entitledItems){var a=productDisplayJS.entitledItems[x].catentry_id;if(a==e){var o=productDisplayJS.entitledItems[x].InStoreOnly;"true"==o&&(i=!0)}}var n=dojo.byId("BOPUSDeliveryDetailsConatiner"),r=dojo.byId("isBOPUSHide"),s=!0;null!=r&&"no"==r.value&&(s=!1);if("yes"!=productDisplayJS.itemPriceJsonOject[e].catalogEntry.isBopusProduct||s){if(!i&&null!=n){dojo.removeClass(n,"show");dojo.addClass(n,"hide");$("#store-pickup:checked.store-pickup-option-input").length>0&&document.getElementById("one-time-delivery").click()}}else if(null!=n){dojo.removeClass(n,"hide");dojo.addClass(n,"show");window.location.search.toLowerCase().indexOf("lia")!==-1&&$("#BOPUSDeliveryDetailsConatiner").insertBefore($(".noRdPdpDesign:not(.store-pickup)"))}var d=productDisplayJS.itemPriceJsonOject[e].catalogEntry,l=d.isBOPUSAreaExcludedItem,c=d.isBopusProduct,u=!1,p=$("#price_display_"+t);if(p.length>0&&"true"==$(p).attr("bopusrestrictedhide")&&"none"==$(p).css("display")){$(p).css("display","block");$(p).removeAttr("bopusrestrictedhide")}var m="";$("#CurrentBOPUSState").length>0&&(m=$("#CurrentBOPUSState").val());$("#PDP-Promo5-bopus").addClass("hide");if($("#isBOPUSAreaRestictionEnabeled").length>0&&"true"==$("#isBOPUSAreaRestictionEnabeled").val()&&"yes"==l.toLowerCase()&&"yes"==c.toLowerCase()){$("#BOPUSAreaRestictionEnabeledItem").val("yes");var h="";if($("#BOPUSAreaRestictionState").length>0){h=$("#BOPUSAreaRestictionState").val();for(var y=h.split(","),v=0;v<y.length;v++)if(y[v]==m){u=!0;if(p.length>0){$(p).css("display","none");$(p).attr("bopusrestrictedhide","true")}$("#BOPUSDeliveryDetailsConatiner").addClass("hide");$("#BOPUSDeliveryDetailsConatiner").removeClass("show");$("#PDP-Promo5-bopus").removeClass("hide");if($("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Not Available";$("#add2CartBtn_bopus")[0].disabled=!0;$("#store-pickup").length>0&&$("#store-pickup")[0].click()}}}}},updateProductName:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry;if(1==productDisplayJS.isPopup)document.getElementById("productName").innerHTML=i.description[0].name;else{null!=dojo.query(".top > div[id^='PageHeading_']")&&dojo.query(".top > div[id^='PageHeading_']").forEach(function(e){null!=e.childNodes&&3==e.childNodes.length&&(e.childNodes[1].innerHTML=i.description[0].name)});$("#replacementProductName_"+t).length>0&&$("#replacementProductName_"+t).html(i.description[0].name);$("#fixed-product-name_"+t).length>0&&$("#fixed-product-name_"+t).html(i.description[0].name);var a=dojo.query("input[id^='ProductInfoName_"+t+"']");if(null!=a)for(var o=0;o<a.length;o++)null!=a[o]&&(a[o].value=i.description[0].name);null!=dojo.query("div[id^='PageHeading_']")&&dojo.query("div[id^='PageHeading_']").forEach(function(e){null!=e.childNodes&&3==e.childNodes.length&&(e.childNodes[1].innerHTML=i.description[0].name)})}},updateProductPartNumber:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=getCookie("ptealiumData");if(void 0!=a&&null!=a&&""!=a){var o=a.split("|");if(1==o.length){a=decodeURIComponent(getCookie("pcustData"));o=a.split("|")}null!=document.getElementById("NotifyName")&&(document.getElementById("NotifyName").value=o[0]+" "+o[1]);null!=document.getElementById("NotifyEmail")&&(document.getElementById("NotifyEmail").value=o[2]);null!=document.getElementById("sender-name")&&(document.getElementById("sender-name").value=o[0]+" "+o[1]);null!=document.getElementById("sender-email")&&(document.getElementById("sender-email").value=o[2])}if(1==productDisplayJS.isPopup)document.getElementById("productSKUValue").innerHTML=i.catalogEntryIdentifier.externalIdentifier.partNumber;else{var n=dojo.query("div[id^='product_SKU_"+t+"']"),r=(new Array,"");if(null!=n)for(var s=0;s<n.length;s++)if(n[s]){n[s].innerHTML=storeNLS.SKU+" "+i.catalogEntryIdentifier.externalIdentifier.partNumber;r=i.catalogEntryIdentifier.externalIdentifier.partNumber}}},updateLtlItemOncHange:function(e,t){var i=!1,a=productDisplayJS.itemPriceJsonOject[e].catalogEntry;if("yes"==a.isPersonalysedProduct){if($("#isLTLDeliveryRequired").length>0){$("#isLTLDeliveryRequired").addClass("show");$("#isLTLDeliveryRequired").removeClass("hide");$("#personalization").val("true");$("#ltlproduct").val(e);$("#isltlproduct").val("true");var o="";$("#ltlproduct").length>0&&(o=$("#ltlproduct").val());CheckoutHelperJS.isshowpersonalizationPopup=!1;wc.render.updateContext("personilaztionDisplayContext",{quantity:$("#quantity_"+t).val(),persAttr:petcoPersonalizationJS.findPersonalizedAttr($("#quantity_"+t).val()),maxUserInputQuantity:petcoPersonalizationJS.findMaxUserInputQuantity(),ltlproduct:o,catentryId:t});i=!0}}else if("no"==a.isPersonalysedProduct&&$("#isLTLDeliveryRequired").length>0){$("#isLTLDeliveryRequired").addClass("hide");$("#isLTLDeliveryRequired").removeClass("show");$("#personalization").val("false");$("#ltlproduct").val("");$("#isltlproduct").val("false")}var n=$("#personalization"),r=$("#rxMedicine");!i&&n.length>0&&r.length>0&&"true"==r.val()&&"true"==n.val()&&setTimeout(function(){$("#quantity_"+t).trigger("change")},300)},displayAttributeInfo:function(e,t){if(null!=document.getElementById("product_attributes_"+e)){for(var i=document.querySelectorAll(".product-attributes-table"),a=0;a<i.length;a++)i[a].classList.add("hide");document.getElementById("product_attributes_"+e).classList.remove("hide")}if(null!=document.getElementById("attrCount")){attrCount=document.getElementById("attrCount").value;for(var a=1;a<=attrCount;a++)if(null!=document.getElementById("catId_"+a)){var o=document.getElementById("catId_"+a).value;if(o==e){null!=document.getElementById("attrGroupSpecFlag_"+e)&&document.getElementById("attrGroupSpec_"+e).classList.add("active");null!=document.getElementById("directionsFlag_"+o)&&document.getElementById("directionsDisp_"+o).classList.add("active");null!=document.getElementById("warrantyFlag_"+o)&&document.getElementById("warrantyDisp_"+o).classList.add("active");null!=document.getElementById("ingredientsDispFlag_"+o)&&document.getElementById("ingredientsDisp_"+o).classList.add("active");null!=document.getElementById("guaranteDispFlag_"+o)&&document.getElementById("guaranteDispFlag_"+o).classList.add("active");null!=document.getElementById("featuredCntntFlag_"+o)&&document.getElementById("featuredDisp_"+o).classList.add("active");null!=document.getElementById("shippingReturns_"+o)&&document.getElementById("shippingReturns_"+o).classList.add("active")}else{null!=document.getElementById("attrGroupSpec_"+o)&&document.getElementById("attrGroupSpec_"+o).classList.remove("active");null!=document.getElementById("directionsDisp_"+o)&&document.getElementById("directionsDisp_"+o).classList.remove("active");null!=document.getElementById("directionsFlag_"+o)&&document.getElementById("directionsDisp_"+o).classList.remove("active");null!=document.getElementById("warrantyFlag_"+o)&&document.getElementById("warrantyDisp_"+o).classList.remove("active");null!=document.getElementById("ingredientsDispFlag_"+o)&&document.getElementById("ingredientsDisp_"+o).classList.remove("active");null!=document.getElementById("guaranteDispFlag_"+o)&&document.getElementById("guaranteDispFlag_"+o).classList.remove("active");null!=document.getElementById("featuredCntntFlag_"+o)&&document.getElementById("featuredDisp_"+o).classList.remove("active");null!=document.getElementById("shippingReturns_"+o)&&document.getElementById("shippingReturns_"+o).classList.remove("active")}}if(document.querySelectorAll(".panel-heading.active")){$(".panel-heading").removeClass("selected");document.querySelectorAll(".panel-heading.active")[0].classList.add("selected");for(var n=document.querySelectorAll(".panel-heading"),r=document.querySelectorAll(".panel-heading.active.selected")[0].id,s=document.querySelectorAll("."+r),d=0;d<n.length;d++){var l=n[d];l&&l.id&&$("."+l.id).removeClass("open");l.classList.contains("active")&&(l.onclick=function(e){var t=this.classList.contains("selected"),i=window.matchMedia("(max-width: 768px)").matches;if(t){if(i&&t){this.classList.remove("selected");document.querySelectorAll("."+this.id)[0].classList.remove("open")}}else{var a=document.querySelectorAll(".panel-heading.selected");if(a.length>0){a[0].classList.remove("selected");document.querySelectorAll(".panel.open")[0].classList.remove("open")}this.classList.add("selected");document.querySelectorAll("."+this.id)[0].classList.add("open");i&&$("html, body").animate({scrollTop:$("#"+this.id).offset().top-$("#header").height()},300)}})}s[0].classList.add("open");$(window).on("orientationchange",function(e){var t=window.matchMedia("(max-width: 768px)").matches;if(!t){var i=document.querySelectorAll(".panel-heading.selected");if(0===i.length){document.querySelectorAll(".panel-heading.active")[0].classList.add("selected");var a=document.querySelectorAll(".panel-heading.active.selected")[0].id,o=document.querySelectorAll("."+a);o[0].classList.add("open")}}})}}},initializeImages:function(e){var t=$("#imagesFor_"+e).find('input[type="hidden"]'),i="";$(".product-name-full.desktop-only h1")&&(i=$(".product-name-full.desktop-only h1").text());null!=document.getElementById("tel_product_name")&&(i=document.getElementById("tel_product_name").value);i=i.replace(/'/g,"");var a=this;t.each(function(e){var t=this.value,o=(this.id,/^img_(.*)_(\d+)$/.exec(this.id));if(o){var n=o[1],r=o[2],s=1;1==r&&null!=document.getElementById("flare_"+n)&&(s=document.getElementById("flare_"+n).value);var d=t+"?$Thumbnail$";isCloudniaryEnabled()&&(d=t.replace("f_auto,q_auto","f_auto,q_auto,t_Thumbnail"));a.createAltImageContentPane(e+1,t,s,i,d,n)}})},initializeImages_Mobile:function(e,t){var i=$("#imagesFor_"+e).find('input[type="hidden"]'),a=[];i.each(function(e){var i=this.value,o=(this.id,/^img_(.*)_(\d+)$/.exec(this.id));if(o){var n=o[1];o[2];t==n&&a.push(i)}});for(var o=!1,n=a.length-1;n>=0;n--){imgLink=a[n];var r=imgLink+"?$ProductDetail-large$",s=imgLink+"?$ProductDetail-xlarge$";if(isCloudniaryEnabled()){r=imgLink.replace("f_auto,q_auto","f_auto,q_auto,t_ProductDetail-large");s=imgLink.replace("f_auto,q_auto","f_auto,q_auto,t_ProductDetail-xlarge")}$("#mobile-slider").prepend('<div class="imgContainer"><img class="image-pane" src="'+r+'" data-largesrc="'+s+'" /></div>');if(!o){var d=document.querySelector("#mobile-slider .imgContainer img").clientHeight;d<475&&(d=475);d*=1.25;document.querySelector("#product-image_div #mobile-slider").style.maxHeight=d+"px";o=!0}}},displayAEMContent:function(e,t,i){null!=document.getElementById("inStoreOnly")&&null!=document.getElementById("inStoreOnlyMsg")&&(document.getElementById("inStoreOnlyMsg").innerHTML=document.getElementById("inStoreOnly").value);null!=document.getElementById("itemRelatedMessaging_"+t)&&(document.getElementById("itemRelatedMsg").innerHTML=document.getElementById("itemRelatedMessaging_"+t).value);if(null!=document.getElementById("didYouKnow")&&null!=document.getElementById("didYouKnowMsg")){var a="<img alt='Did ou know?' src='https://www.petco.com/assets/shop/didYouKnow.gif'><br>";document.getElementById("didYouKnowMsg").innerHTML=a+""+document.getElementById("didYouKnow").value}if("undefined"==typeof i){var o="";$("#selectedPartNumber").length>0&&(o=$("#selectedPartNumber").val());""!=o&&(t=o)}productDisplayJS.updateDisplayedImages(e,t)},updateDisplayedImages:function(e,t){destroyMobileImageSlider();var i=window.matchMedia("(max-width: 768px)");if(i.matches){var a=this;$(function(){var i=$(".imgContainer");i.remove();a.initializeImages_Mobile(e,t);var o=$(".image-pane"),n=$("[data-tns-role]");if(o.length>1&&n.length<1){var r=o.length,s=0;$(".image-pane").each(function(){var e=function(){s+=1;r==s&&(globalSliderRef||initializeMobileImageSlider())};this.complete?e():$(this).load(e)})}})}else{$(".pdpthumb").hide();$(".pdpthumb.sku_"+t).show();$(".pdpthumb.videothumb").show();this.createAltImageCarousel();$(".pdpthumb:visible").length>0&&($("#imgZoom:visible").length>0?zoomThisData($(".pdpthumb:visible")[0].childNodes[0]):$(".pdpthumb:visible")[0].click())}},createAltImageContentPane:function(e,t,i,a,o,n){$(function(){var r=null;document.getElementById("alt"+e)||(r=new dijit.layout.ContentPane({content:'<div class="pdpthumb sku_'+n+'"  id="alt'+e+"\"><a href='JavaScript:Void(0);' manual_cm_sp=\"PDP-_-Image_"+e+"\" data-baseImageUrl='"+t+"' data-altImageId='"+i+"' onclick=\"zoomThisData(this);cmManuallyTriggerEventTrack(this);\"><img   alt= '"+a+"-Thumbnail-"+e+"'  src="+o+" class=''></a></div>",postCreate:function(){dojo.addClass(this.domNode,"imgContainer")}}).placeAt("imageRow",e))})},createAltImageCarousel:function(){var e=document.getElementById("imageRow"),t=document.getElementById("thumbnail-slider"),i=window.matchMedia("(min-width: 768px)"),a=document.querySelectorAll(".page-prev")[0],o=document.querySelectorAll(".page-next")[0],n=$(".pdpthumb:visible");a.classList.add("disable");e.removeAttribute("style");if(n.length>4&&i.matches){t.classList.remove("inactive");o.classList.remove("disable");var r=$(".pdpthumb:visible")[0],s=(r.offsetHeight,getComputedStyle(r)),d=(parseInt(s.marginTop)+parseInt(s.marginBottom),r.offsetWidth),l=parseInt(s.marginLeft)+parseInt(s.marginRight),c=d+l;e.style.width=c*n.length+"px";o.onclick=function(t){var i="left",n=parseInt(getComputedStyle(e).left,10),r=parseInt(e.offsetWidth,10),s=c;t.preventDefault();a.classList.remove("disable");posChange=n-3*s;if(posChange<=-(r-4*s)){e.style.setProperty(i,-(r-4*s)+"px");o.classList.add("disable")}else e.style.setProperty(i,posChange+"px")};a.onclick=function(t){var i="left",n=parseInt(getComputedStyle(e).left,10),r=c;t.preventDefault();o.classList.remove("disable");if(0!==parseInt(n,10)){var s=n+3*r;if(s>=0){s=0;a.classList.add("disable")}e.style.setProperty(i,s+"px")}}}},changeDescIcon:function(){var e=document.getElementById("description_span");null!=e&&("glyphicon glyphicon-chevron-right"==e.className?e.className="glyphicon glyphicon-chevron-down":e.className="glyphicon glyphicon-chevron-right")},changeDirIcon:function(e){var t=document.getElementById("directions_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeAttrIcon:function(e){var t=document.getElementById("attributes_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeIngIcon:function(e){var t=document.getElementById("ingredients_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeWrtIcon:function(e){var t=document.getElementById("warranty_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeShrIcon:function(e){var t=document.getElementById("shipping_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeFtrIcon:function(e){var t=document.getElementById("featured_span_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},changeCmtIcon:function(){var e=document.getElementById("comments_span");null!=e&&("glyphicon glyphicon-chevron-right"==e.className?e.className="glyphicon glyphicon-chevron-down":e.className="glyphicon glyphicon-chevron-right")},changeSRIcon:function(e){var t=document.getElementById("headerTitle_"+e);null!=t&&("glyphicon glyphicon-chevron-right"==t.className?t.className="glyphicon glyphicon-chevron-down":t.className="glyphicon glyphicon-chevron-right")},updateProductShortDescription:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=dojo.query("p[id^='product_shortdescription_"+t+"']");if(null!=a)for(var o=0;o<a.length;o++)a[o]&&(a[o].innerHTML=i.description[0].shortDescription)},updateProductLongDescription:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=dojo.query("p[id^='product_longdescription_"+t+"']");if(null!=a)for(var o=0;o<a.length;o++)a[o]&&(a[o].innerHTML=i.description[0].longDescription)},updateProductDiscount:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a="";if("undefined"!=typeof i.discounts)for(var o=0;o<i.discounts.length;o++){o>0&&(a+='<div class="clear_float"></div><div class="item_spacer_2px"></div>');a+='<a class="promotion" href="'+i.discounts[o].url+'">'+i.discounts[o].description+"</a>"}var n=dojo.query("div[id^='Discounts_']");if(null!=n)for(var o=0;o<n.length;o++)n[o]&&(n[o].innerHTML=a)},updateProductImage:function(e,t){var i=null,a=null,o=null,n=null,r=!1,s=null,d=null;null!=productDisplayJS.itemPriceJsonOject[e]&&(d=productDisplayJS.itemPriceJsonOject[e].catalogEntry);null!=d&&(s=d.description[0].fullImage);var l="entitledItem_"+t,c=productDisplayJS.getImageForSKU(l);if(null!=c){a=c[2];o=c[3];n=c[4]}if(null!=e&&null!=c){i=c[0];null!=s&&""!=s&&(i=s)}else if(null!=t&&productDisplayJS.singleSKUProductWithoutDefiningAttribute){i=productDisplayJS.entitledItems[0].ItemImage467;null!=s&&""!=s&&(i=s);a=productDisplayJS.entitledItems[0].ItemAngleThumbnail;o=productDisplayJS.entitledItems[0].ItemAngleFullImage;n=productDisplayJS.entitledItems[0].ItemAngleThumbnailShortDesc}else{var u=!1,p=productDisplayJS.selectedAttributesList[l];for(x in productDisplayJS.entitledItems){var m=productDisplayJS.entitledItems[x].Attributes;for(attribute in p){var h=!1;if(""!==p[attribute]){for(y in m){var v=y.indexOf("_|_"),f=y.substring(0,v),g=y.substring(v+3);if(f==attribute&&g==p[attribute]){h=!0;break}}if(!h){u=!1;break}u=!0}}if(u){r=!0;i=productDisplayJS.entitledItems[x].ItemImage467;a=productDisplayJS.entitledItems[x].ItemAngleThumbnail;o=productDisplayJS.entitledItems[x].ItemAngleFullImage;n=productDisplayJS.entitledItems[x].ItemAngleThumbnailShortDesc;break}}}if(!r&&$('#product-image_div .desktop-only img#imgZoom[imageLoaded="false"]').length>0&&null!=s){var I=s.replace("/wcsstore/PetcoCAS/","")+"?$ProductDetail-large-new$";I=I.replace("/webapp/wcs/preview/PetcoCAS/","")+"?$ProductDetail-large-new$";if(isCloudniaryEnabled()){var _=s.replace("/wcsstore/PetcoCAS/","");_=_.replace("/webapp/wcs/preview/PetcoCAS/","");I=_.replace("f_auto,q_auto","f_auto,q_auto,t_ProductDetail-large-new")}$('#product-image_div .desktop-only img#imgZoom[imageLoaded="false"]')[0].src=I;$('#product-image_div .desktop-only img#imgZoom[imageLoaded="false"]').attr("imageLoaded","true")}for(var b=dojo.query("img[id^='"+productDisplayJS.skuImageId+"']"),S=0;S<b.length;S++)null!=b[S]&&null!=i&&(b[S].src=i);for(var P=dojo.query("input[id^='ProductInfoImage_"+t+"']"),S=0;S<P.length;S++)null!=P[S]&&null!=i&&(P[S].value=i);var E=dojo.query("div[id^='ProductAngleProdImagesArea']"),D=dojo.query("div[id^='ProductAngleImagesArea']");if(null!=a&&null!=o){if(null!=E)for(var S=0;S<E.length;S++)null!=E[S]&&(E[S].style.display="none");productDisplayJS.changeViewImages(a,o,n)}else{var C="block",p=productDisplayJS.selectedAttributesList[l];for(attribute in p)null!=p[attribute]&&""!=p[attribute]&&(C="none");if(null!=E)for(var S=0;S<E.length;S++)null!=E[S]&&(E[S].style.display=C);if(null!=D)for(var S=0;S<D.length;S++)null!=D[S]&&(D[S].style.display="none")}},displayQuantity:function(e,t){var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=i.catalogEntryIdentifier.externalIdentifier.partNumber,o=$("#restrictedLiveCricketSKUs").val();if(""!=o)if(o.indexOf(a)>-1){var n=$("#liveCricketRestrictedQty").val();if($("#quantity_"+t).length>0){$("#quantity_"+t).val(n);$("#quantity_"+t).prop("disabled",!0);$(".qty-minus").prop("disabled",!0);$(".qty-plus").prop("disabled",!0)}}else if($("#quantity_"+t).length>0){$("#quantity_"+t).prop("disabled",!1);$(".qty-minus").prop("disabled",!1);$(".qty-plus").prop("disabled",!1)}},changeAttributeSelction:function(e,t,i,o){productDisplayJS.canSwapProductPriceDiv=!1;var n="",r="",s="";productDisplayJS.baseCatalogEntryId=e;var d=(productDisplayJS.selectedAttributesList[o],null);for(a in this.entitledItems[0].Attributes){var l=a.indexOf("_"),c=a.substring(0,l);null!=document.getElementById(c)&&(r=r+c+"_"+document.getElementById(c).value+",")}for(x in this.entitledItems){var u=this.entitledItems[x].Attributes;for(y in u){var l=y.indexOf("_"),p=y.substring(0,l),m=y.substring(l+1);s=this.entitledItems[x].catentry_id;if(t==p&&i==m){n=n+x+",";d=s}}}var h=n.split(","),v=h,f="",g="",I="",_="";for(l in v){I=v[l];if(""!=I&&void 0!=this.entitledItems[I]){var u=this.entitledItems[I].Attributes;for(z in u){var l=z.indexOf("_");f=z.substring(0,l);g=z.substring(l+1);catentryid=this.entitledItems[I].catentry_id;if(f!=t&&r.indexOf(z)!=-1){_=_+I+",";d=catentryid}}}}""==_&&(_=n);var b=_.split(","),S=b,P="",E="",D="";for(l in S){D=_[l];if(""!=D&&void 0!=this.entitledItems[D]){var u=this.entitledItems[D].Attributes;for(z in u){var l=z.indexOf("_");P=z.substring(0,l);E=z.substring(l+1);null!=document.getElementById(P)&&null!=document.getElementById(P).value&&document.getElementById(P).value==E?attrValDis=document.getElementById(P).value:attrValDis=z.substring(l+1);if(null!=document.getElementById(P)){document.getElementById(P).value=attrValDis;this.setSelectedAttribute(P,attrValDis,o)}}}}if(null!=d&&null!=e){dojo.topic.publish("DefiningAttributes_Resolved_"+e,d,e);var C=productDisplayJS.itemPriceJsonOject[d];if(null!=C&&void 0!=C)productDisplayJS.publishAttributeResolvedEvent(d,e);else{var A={};A.storeId=productDisplayJS.storeId;A.langId=productDisplayJS.langId;A.catalogId=productDisplayJS.catalogId;A.catalogEntryId=d;A.productId=e;productDisplayJS.postCallCatentryDetailsById(A)}for(x in this.entitledItems){var s=this.entitledItems[x].catentry_id,M="",j="";if(s==d){M=this.entitledItems[x].RepeatDeliveryPrice;j=this.entitledItems[x].RepeatDeliveryFlag}}$("#personilaztionDisplay").hasClass("active")||$("#rxPersonilaztionDisplay").hasClass("active")||persistentPDP();setTimeout("cursor_clear()",18e3)}},displayProp65WarningMessage:function(e){var t=e.warningMessage;if(void 0!=t||null!=t){var i=$("#product-prop65-warning-sign-text").html(),a=$("#product-prop65-warning-reference").html();t=i+t+a;var o=getCookie("Edgescape-State");if(void 0===o||null==o||o.length<=0){$("#product-prop65-warning").removeClass("hide").addClass("show");$("#product-prop65-warning").html(t)}else if("CA"==o){$("#product-prop65-warning").removeClass("hide").addClass("show");$("#product-prop65-warning").html(t)}else{$("#product-prop65-warning").removeClass("show").addClass("hide");$("#product-prop65-warning").html("")}}else $("#product-prop65-warning").hasClass("show")&&$("#product-prop65-warning").removeClass("show").addClass("hide")},notifyAttributeChange:function(e,t,i,a){productDisplayJS.baseCatalogEntryId=e;productDisplayJS.selectedAttributesList[t];productDisplayJS.displayPriceRange=a;productDisplayJS.isPopup=i;var o=null;o=productDisplayJS.selectedProducts[e]?productDisplayJS.getCatalogEntryIdforProduct(productDisplayJS.selectedProducts[e]):productDisplayJS.getCatalogEntryId(t);if(null!=o){dojo.topic.publish("DefiningAttributes_Resolved_"+e,o,e);var n=productDisplayJS.itemPriceJsonOject[o];if(null!=n&&void 0!=n)productDisplayJS.publishAttributeResolvedEvent(o,e);else{var r={};r.storeId=productDisplayJS.storeId;r.langId=productDisplayJS.langId;r.catalogId=productDisplayJS.catalogId;r.catalogEntryId=o;r.productId=e;productDisplayJS.postCallCatentryDetailsById(r)}for(x in this.entitledItems){var s=this.entitledItems[x].catentry_id,d="",l="";if(s==o){d=this.entitledItems[x].RepeatDeliveryPrice;l=this.entitledItems[x].RepeatDeliveryFlag}}cursor_clear()}else{dojo.topic.publish("DefiningAttributes_Changed",o,e);dojo.topic.publish("DefiningAttributes_Changed_"+e,o,e);console.debug("Publishing event2 'DefiningAttributes_Changed' with params: catEntryId="+o+", productId="+e);null!=document.getElementById("add2CartBtn")&&"undefined"!=document.getElementById("add2CartBtn")&&(document.getElementById("add2CartBtn").disabled=!0);null!=document.getElementById("selectRDOrderBtn")&&"undefined"!=document.getElementById("selectRDOrderBtn")&&(document.getElementById("selectRDOrderBtn").disabled=!0);null!=document.getElementById("selectRDOrderBtnCpy")&&"undefined"!=document.getElementById("selectRDOrderBtnCpy")&&(document.getElementById("selectRDOrderBtnCpy").disabled=!0);null!=document.getElementById("selectRDOrderBtnAddTo")&&"undefined"!=document.getElementById("selectRDOrderBtnAddTo")&&(document.getElementById("selectRDOrderBtnAddTo").disabled=!0)}},publishAttributeResolvedEventServiceResponse:function(e,t){var i=t.productId;productDisplayJS.itemPriceJsonOject[e.catalogEntry.catalogEntryIdentifier.uniqueID]=e;productDisplayJS.publishAttributeResolvedEvent(e.catalogEntry.catalogEntryIdentifier.uniqueID,i)},publishAttributeResolvedEvent:function(e,t){if(!productDisplayJS.isPopup){dojo.topic.publish("DefiningAttributes_Resolved",e,t);null!=document.getElementById("notifyCatentry")&&(document.getElementById("notifyCatentry").value=e);this.updateProductPartNumber(e,t);this.updateProductName(e,t);this.displayAccessoriesMAForItem(e);0==$("#replacementEligibleItem").length&&this.displayAttributeInfo(e,t);var i=productDisplayJS.itemPriceJsonOject[e].catalogEntry;this.displayProp65WarningMessage(i);buildProductDataLayerVariable(i);null!=productDisplayJS.InventoryDetailsforItems&&void 0!=productDisplayJS.InventoryDetailsforItems[e]&&buildProductInventoryDataLayer(productDisplayJS.InventoryDetailsforItems[e].onlineInventory_status,"onChange");var a=i.catalogEntryIdentifier.externalIdentifier.partNumber;$("#selectedPartNumber").val(a);0==$("#replacementEligibleItem").length&&productDisplayJS.displayAEMContent(e,a,!0);console.debug("Publishing event1 'DefiningAttributes_Resolved' with params: catEntryId="+e+", productId="+t)}},notifyQuantityChange:function(e){if(isNaN(e))return!1;if(null!=$("#quantity")&&void 0!=$("#quantity")){var t=!1;if(""!=$("#quantity").val()&&0==$("#quantity").val()){$("#quantity").val("1");localStorage.setItem("qtyChangedOnBlur","1")}parseInt($("#quantity").val())>1&&parseInt($("#quantity").val())<=999&&(t=!0);petcoCommonJS.updateItemButton(t)}dojo.topic.publish("ShopperActions_Changed",e);console.debug("Publishing event 'ShopperActions_Changed' with params: quantity="+e)},displayAccessoriesMAForItem:function(e){if("undefined"!=document.getElementById("skuHasAccssoryMAListIds")&&null!=document.getElementById("skuHasAccssoryMAListIds"))for(var t=document.getElementById("skuHasAccssoryMAListIds").value,i=t.split(","),a=0;a<i.length;a++){var o=document.getElementById("accessoriesMA_"+i[a]);
void 0==o&&null==o||(e==i[a]?dojo.style("accessoriesMA_"+i[a],"display","block"):dojo.style("accessoriesMA_"+i[a],"display","none"))}},updateItemSpecificData:function(catEntryId,productId){var entitledItemIdsObject=document.getElementById("entitledItem_"+productId),entitledItemIds=eval("("+entitledItemIdsObject.innerHTML+")"),parameters={};parameters.storeId=productDisplayJS.storeId;parameters.langId=productDisplayJS.langId;parameters.catalogId=productDisplayJS.catalogId;parameters.catalogEntryId=catEntryId;parameters.productId=productId;productDisplayJS.postCallCatentryDetailsById(parameters)},rdAddOnLoginOptions:function(e,t,i,a){var o=dojo.cookie("WC_UserType");if(petcoPersonalizationJS.isPersonalizedItem()&&!petcoPersonalizationJS.isRxMedicineItem()){var n=petcoPersonalizationJS.findInvalidCharSetForUserInput(t,i);if(""!=n)return!1;if(!petcoPersonalizationJS.validatePersonalizedRequiredField(t,i))return!1;if(!petcoPersonalizationJS.validatePersonalizedTextInputType(t,i))return!1}if("R"!=o){var r=window.location.href,s="";if(null!=e&&"undefined"!=e){s=e;s=s+"&URL="+r;dojo.cookie("oneTimeAddOnRD","true",{path:"/"});document.location.href=s}}else a?PetcoAddToRepeatDeliveryJS.updateContextForAddToRepeatDelivery():PetcoRepeatDeliveryAddOnJS.updateContextForRDAddOn()},preSelectRadioButtonOnPDP:function(){if(!($("#notifybutton_cpy1.show").length>0)){var e=document.getElementById("itemOrProd").value,t=document.getElementById("rdNotDisplay").value;if(0==$("#repeat-delivery-select-btn.instore-deliveryBox").length&&0==$("#repeat-delivery-select-btn.paramStore-deliveryBox").length){var i=dojo.cookie("oneTimeAddOnRD");if(null!=i&&""!=i&&"true"==i){var a=dojo.cookie("WC_UserType");if("R"==a){if(0==$("input#store-pickup:checked").length&&0==$("#repeat-delivery-select-btn.instore-deliveryBox").length){document.getElementById("repeat-delivery-add-on").click();document.getElementById("selectRDOrderBtn").click()}dojo.cookie("oneTimeAddOnRD",null,{expires:-1,path:"/"})}else{if(0==$("input#store-pickup:checked").length&&0==$("#repeat-delivery-select-btn.instore-deliveryBox").length&&0==$("#repeat-delivery-select-btn.paramStore-deliveryBox").length)if("Item"==e)document.getElementById("one-time-delivery").click();else if("Prod"==e)if("Yes"==t){$("#repeat-delivery-radio:checked").length>0&&($("#repeat-delivery-radio")[0].checked=!0);$("#repeat-delivery-radio").trigger("click")}else{$("#one-time-delivery:checked").length>0&&($("#one-time-delivery")[0].checked=!0);$("#one-time-delivery").trigger("click")}dojo.cookie("oneTimeAddOnRD",null,{expires:-1,path:"/"})}}else if(0==$("input#store-pickup:checked").length&&0==$("#repeat-delivery-select-btn.instore-deliveryBox").length&&0==$("#repeat-delivery-select-btn.paramStore-deliveryBox").length)if("Item"==e)document.getElementById("one-time-delivery").click();else if("Prod"==e)if("Yes"==t){$("#repeat-delivery-radio:checked").length>0&&($("#repeat-delivery-radio")[0].checked=!0);$("#repeat-delivery-radio").trigger("click")}else{$("#one-time-delivery:checked").length>0&&($("#one-time-delivery")[0].checked=!0);$("#one-time-delivery").trigger("click")}}}},showRDFrequencyOptions:function(e){var t=!1;$("#rxMedicine").length>0&&"true"==$("#rxMedicine").val()&&(t=!0);var i=!1;$("#hid_disableFutureRDInEAOBO").length>0&&"true"==$("#hid_disableFutureRDInEAOBO").val()&&(i=!0);if("repeat-delivery"==e){dojo.query("#repeat-delivery-buybutton").addClass("open");dojo.query("#rd-option-selectBox").addClass("selected-option-box");var a=dojo.cookie("isEASession"),o=dojo.cookie("isOBOSession"),n="no";"yes"!=a&&"yes"!=o||(n="yes");var r=!1;1==i&&1==t&&(r=!0);if("yes"==n&&0==r){dojo.query("#future-ship-repeat-delivery-dropdown").addClass("open");dojo.query("#repeat-delivery-dropdown").removeClass("open")}else{dojo.query("#repeat-delivery-dropdown").addClass("open");dojo.query("#future-ship-repeat-delivery-dropdown").removeClass("open")}}else{dojo.query("#repeat-delivery-buybutton").removeClass("open");dojo.query("#repeat-delivery-dropdown").removeClass("open");dojo.query("#future-ship-repeat-delivery-dropdown").removeClass("open");dojo.query("#rd-option-selectBox").removeClass("selected-option-box")}if("one-time-delivery"==e){dojo.query("#onetimeDelivery-buybutton").addClass("open");dojo.query("#onetimeDelivery-option-selectBox").addClass("selected-option-box")}else{dojo.query("#onetimeDelivery-buybutton").removeClass("open");dojo.query("#onetimeDelivery-option-selectBox").removeClass("selected-option-box")}if("repeat-delivery-add-on"==e){dojo.query("#rd-add-on-buybutton").addClass("open");dojo.query("#rd-add-on").addClass("selected-option-box")}else{dojo.query("#rd-add-on-buybutton").removeClass("open");dojo.query("#rd-add-on").removeClass("selected-option-box")}},showAttachmentPage:function(e){var t=e.pageNumber,i=e.pageSize;t=dojo.number.parse(t);i=dojo.number.parse(i);setCurrentId(e.linkId);if(submitRequest()){console.debug(wc.render.getRefreshControllerById("AttachmentPagination_Controller").renderContext.properties);var a=i*(t-1);cursor_wait();wc.render.updateContext("AttachmentPagination_Context",{beginIndex:a});MessageHelper.hideAndClearMessage()}},registerMouseDown:function(e){dojo.connect(dojo.byId(e),"onmousedown",function(){productDisplayJS.calculateScrollingHeight(e)})},calculateScrollingHeight:function(e){var t=require("dojo/dom-geometry"),i=productDisplayJS.findDropdownById(e),a=null;if(i){a=t.position(i);var o=window.innerHeight;if(o-a.y>a.y)var n=o-a.y;else var n=a.y;if(null!=dojo.byId(e+"_dropdown")){if(o-a.y>a.y)var n=o-a.y;else var n=a.y;var r=dojo.byId(e+"_dropdown").clientHeight;r>n&&(dojo.byId(e+"_dropdown").style.height=n+"px")}}},findDropdownById:function(e){var t=productDisplayJS.removeQuotes(e),i=dojo.query("[id^=attrValue_]"),a=null;dojo.forEach(i,function(e,i){var o=productDisplayJS.removeQuotes(e.id);t===o&&(a=e)});return a},refreshActionButton:function(optionVal,entitledItemId){var isSHowNotifyButton=!1;null!=dojo.byId("notifybutton")&&(isSHowNotifyButton=dojo.hasClass("notifybutton","show"));if(!isSHowNotifyButton){if("repeat-delivery-add-on"==optionVal){dojo.query("#add2CartBtn").addClass("hide");dojo.query("#add2CartBtn").removeClass("show");dojo.query("#selectRDOrderBtn").removeClass("hide");dojo.query("#selectRDOrderBtnCpy").removeClass("hide");dojo.query("#selectRDOrderBtnAddTo").removeClass("hide");dojo.query("#selectRDOrderBtn").addClass("show");dojo.query("#selectRDOrderBtnCpy").addClass("show");dojo.query("#selectRDOrderBtnAddTo").addClass("show");dojo.query("#addToRDOrderBtn").addClass("hide");var entitledItemJSON;entitledItemJSON=null!=dojo.byId(entitledItemId)?eval("("+dojo.byId(entitledItemId).innerHTML+")"):this.getEntitledItemJsonObject();productDisplayJS.setEntitledItems(entitledItemJSON);var catalogEntryId=productDisplayJS.getCatalogEntryId(entitledItemId),catEntry=productDisplayJS.itemPriceJsonOject[catalogEntryId].catalogEntry;try{var name=catEntry.description[0].name,productId=catalogEntryId,productName=name.replace(/["']/g,""),rd_sku=catEntry.catalogEntryIdentifier.externalIdentifier.partNumber;if(null!=rd_sku&&"undefined"!=rd_sku){if($("#tel_product_id").size()>0)var product_parent_sku=$("#tel_product_id").val();var productRDJSON={product_id:productId,product_name:productName,conversion_event_id:"New Product Existing RD Order",conversion_category_id:"Repeat Delivery",conversion_action_type:"1",product_sku:rd_sku,product_parent_sku:product_parent_sku,event_name:"repeat_delivery_new_prod"};pushEvent(productRDJSON)}}catch(e){console.log(e)}}else if("add-to-repeat-delivery"==optionVal){dojo.query("#add2CartBtn").addClass("hide");dojo.query("#add2CartBtn").removeClass("show");dojo.query("#selectRDOrderBtn").addClass("hide");dojo.query("#selectRDOrderBtnCpy").addClass("hide");dojo.query("#selectRDOrderBtnAddTo").addClass("hide");dojo.query("#selectRDOrderBtn").removeClass("show");dojo.query("#selectRDOrderBtnCpy").removeClass("show");dojo.query("#selectRDOrderBtnAddTo").removeClass("show");dojo.query("#addToRDOrderBtn").removeClass("hide")}else{dojo.query("#add2CartBtn").removeClass("hide");dojo.query("#add2CartBtn").addClass("show");dojo.query("#selectRDOrderBtn").addClass("hide");dojo.query("#selectRDOrderBtnCpy").addClass("hide");dojo.query("#selectRDOrderBtnAddTo").addClass("hide");dojo.query("#selectRDOrderBtn").removeClass("show");dojo.query("#selectRDOrderBtnCpy").removeClass("show");dojo.query("#selectRDOrderBtnAddTo").removeClass("show");dojo.query("#addToRDOrderBtn").addClass("hide")}if(null!=document.getElementById("HolidayShipMsgFlag")&&"Y"==document.getElementById("HolidayShipMsgFlag").value){console.log(dojo.byId("tabselected").value+" :: "+optionVal+" :: "+entitledItemId+" :: "+productDisplayJS.getCatalogEntryId(entitledItemId));if(""!=dojo.byId("tabselected").value){if(dojo.byId("tabselected").value!=optionVal){console.log("different tab");var itemId=productDisplayJS.getCatalogEntryId(entitledItemId);"store-pickup"==optionVal&&null!=document.getElementById("ShippingMessage")&&$("#ShippingMessage").addClass("hide");dojo.byId("tabselected").value=optionVal}}else dojo.byId("tabselected").value=optionVal}}"undefined"!=typeof productDisplayJS&&productDisplayJS.toggleAddonButton()},sortItemsInCombo:function(){dojo.forEach(dojo.query('select[name="attrValue"]'),function(e){for(var t=e.options,i={},a=[],o=0;o<t.length;o++){var n=t[o].value;""==n&&(n="0");var r=n.match(/[0-9.]/g),s=r.join("");i[s]=t[o];a.push(s)}var d;for(d=e.options.length-1;d>=0;d--)e.remove(d);a=a.sort(function(e,t){return e-t});for(var l=0;l<a.length;l++)e.add(i[a[l]])})},changeQuanityInPdP:function(e,t,i,a,o,n){if("PREVIOUS"==e){if(parseInt($("#quantity_"+t).val())>1){$("#quantity_"+t).val(parseInt($("#quantity_"+t).val())-1);petcoCommonJS.rateLimiter(250,"qtyChange",function(){CheckoutHelperJS.isshowpersonalizationPopup=!1;"true"==i?productDisplayJS.updateValueQuanityInPdPUnderTemplateProduct(t,a,$("#quantity_"+t)[0],o,n):productDisplayJS.updateValueQuanityInPdP(t)})}}else if("NEXT"==e&&parseInt($("#quantity_"+t).val())<999){null!=localStorage.getItem("qtyChangedOnBlur")&&"1"==localStorage.getItem("qtyChangedOnBlur")&&1==parseInt($("#quantity_"+t).val())?localStorage.setItem("qtyChangedOnBlur","0"):$("#quantity_"+t).val(parseInt($("#quantity_"+t).val())+1);petcoCommonJS.rateLimiter(250,"qtyChange",function(){CheckoutHelperJS.isshowpersonalizationPopup=!1;"true"==i?productDisplayJS.updateValueQuanityInPdPUnderTemplateProduct(t,a,$("#quantity_"+t)[0],o,n):productDisplayJS.updateValueQuanityInPdP(t)})}try{var r=productDisplayJS.getCatalogEntryId("entitledItem_"+t),s=!1;if("true"==$("#isDynamicDevliveryDateActive").val())s=!0;else if("true"==$("#isDynamicDevliveryDateActiveEAOBO").val()){var d=dojo.cookie("isEASession"),l=dojo.cookie("isOBOSession");"yes"!=d&&"yes"!=l||(s=!0)}s&&productDisplayJS.invokeDeliveryDateAPIForPDP(r,t);var c;void 0!=dojo.byId("omnitureEnabled")&&null!=dojo.byId("omnitureEnabled")&&(c=dojo.byId("omnitureEnabled").value);if("undefined"!=c&&null!=c&&""!=c&&"true"==c){var u=productDisplayJS.bopusShowStoreDetailsCatEntryId;if(void 0!=u&&null!=u){var p=productDisplayJS.itemPriceJsonOject[u].catalogEntry;if(void 0!=p&&null!=p){var m=dojo.cookie("WC_CartOrderId_10151"),h={};if("NEXT"==e){h.event_name="cart_add_units";h.cart_units_add="1"}else if("PREVIOUS"==e){h.event_name="cart_remove_units";h.cart_units_remove="1"}null!=m&&""!=m&&(h.cart_id=m);h.product_id=u;h.product_sku=p.catalogEntryIdentifier.externalIdentifier.partNumber;h.product_name=p.description[0].name;h.product_quantity=$("#quantity_"+t).val();$("#tel_product_id").size()>0&&(h.product_parent_sku=$("#tel_product_id").val());pushEvent(h)}}}}catch(e){console.log(e)}},updateValueQuanityInPdP:function(e){var t=$("#quantity_"+e);if(0!=t.length){if(petcoPersonalizationJS.checkPersonalizationUserInput(e,t.val())){productDisplayJS.notifyQuantityChange(t.val());CheckoutHelperJS.isshowpersonalizationPopup=!1;var i="";$("#ltlproduct").length>0&&(i=$("#ltlproduct").val());wc.render.updateContext("personilaztionDisplayContext",{quantity:t.val(),persAttr:petcoPersonalizationJS.findPersonalizedAttr(t.val()),maxUserInputQuantity:petcoPersonalizationJS.findMaxUserInputQuantity(),ltlproduct:i,catentryId:e})}cmManuallyTriggerEventTrack(t,t.val())}},updateValueQuanityInPdPUnderTemplateProduct:function(e,t,i,a,o){if(0!=i.length){if(petcoPersonalizationJS.checkPersonalizationUserInput(e,i.value)){productDisplayJS.notifyQuantityChange(i.value);CheckoutHelperJS.isshowpersonalizationPopup=!1;var n=$("#isVetDetailsFromVetWidgetEnabled").val();null!=n&&"true"==n?petcoPersonalizationJS.updateRXMedModalOnPDPQtyChange(a,o,e,i.value,"pdp","","1"):wc.render.updateContext("rxPersonilaztionDisplayContext",{SIGN_IN_URL:a,ltlorRxflag:o,catentryId:e,quantity:i.value,fromPage:"pdp",persAttr:"",maxUserInputQuantity:"1"})}cmManuallyTriggerEventTrack(i,i.value)}},addtoWIshListClicked:function(){if(null!=document.getElementById("addToShoppingList")&&"undefined"!=document.getElementById("addToShoppingList")&&"G"==dojo.cookie("WC_UserType")){var e=window.location.href,t=document.getElementById("addToShoppingList").href,i="";"undefined"!=typeof productDisplayJS.itemPriceJsonOject&&"undefined"!=typeof productDisplayJS.itemPriceJsonOject[productDisplayJS.bopusShowStoreDetailsCatEntryId]&&(i=productDisplayJS.itemPriceJsonOject[productDisplayJS.bopusShowStoreDetailsCatEntryId].catalogEntry.description[0].seourl);""!=i&&(e=i);e.indexOf("TopCategories")==-1&&e.indexOf("CSR")==-1&&e.indexOf("LogonForm")==-1&&(document.getElementById("addToShoppingList").href=t+"&URL="+e)}"undefined"!=typeof localStorageHelper&&localStorageHelper.set("isWhishListButtonClicked","yes",1,!1)},addtoWIshListClickedRemoved:function(){"undefined"!=typeof localStorageHelper&&window.localStorage.removeItem("isWhishListButtonClicked")},InventoryDetailsforItems:{},InventoryDetailsDetailsCallCompleted:!1,bopusInventoryDetailsPopulated:!1,fetchInventoryDetailsForAllProducts:function(e,t){productDisplayJS.bopusShowStoreDetailsCatEntryId=e;productDisplayJS.bopusShowStoreDetailsProductId=t;var i=$("#inventorySystem").val();null!=dojo.byId("pdp_atc")&&dojo.style("pdp_atc","display","block");if(null!=dojo.byId("splDelvMsg")){var a=dojo.byId("splDelvMsg"),o=dojo.byId("splDelvMsgWrapper"),n=dojo.clone(a);n.id="splDelvMsgBopus";var r=dojo.byId("splDelvMsgWrapperBopus");if(null!=a&&null!=o){o.innerHTML="";dojo.place(a,o);dojo.style("splDelvMsg","display","inline")}if(null!=n&&null!=r){r.innerHTML="";dojo.place(n,r);dojo.style("splDelvMsgBopus","display","inline")}}var s,d="",l="";if(i==-4){for(var c in productDisplayJS.entitledItems){s=productDisplayJS.entitledItems[c].isInfiniteInventoryItem;if("undefined"!=s&&"true"==s){""!=l&&(l+=",");l+=productDisplayJS.entitledItems[c].catentry_id}else{""!=d&&(d+=",");d+=productDisplayJS.entitledItems[c].catentry_id}}productDisplayJS.InventoryDetailsDetailsCallCompleted?productDisplayJS.displayInventoryBasedOnFetchedDetails(e,t):productDisplayJS.fetchInventoryDetailsForAllTheProducts(d,"",l)}},fetchInventoryDetailsForAllTheProducts:function(e,t,i){if(""!=i)for(var a=i.split(","),o=0;o<a.length;o++){globalInventoryMap[a[o]].status="In-Stock";globalInventoryMap[a[o]].image="widget_product_info/checkmark_icon.png";globalInventoryMap[a[o]].altText="In-Stock"}var n={};n.onlineInventory=[];var r=0;for(var s in globalInventoryMap){n.onlineInventory.push(globalInventoryMap[s]);r++}if(1==r){n.onlineInventory={};for(var s in globalInventoryMap)n.onlineInventory=globalInventoryMap[s]}n.itemCounter=r;n.storeCounter=0;productDisplayJS.populateInvDetails(n,{})},populateInvDetails:function(e,t){var i=e.onlineInventory,a={};if(e.itemCounter>1)for(var o=0;o<e.itemCounter;o++){var n={};n.onlineInventory_status=i[o].status;n.onlineInventory_image=i[o].image;n.onlineInventory_altText=i[o].altText;n.onlineInventory_itemCounter=e.itemCounter;a[i[o].catentryId]=n}else{var n={};n.onlineInventory_status=i.status;n.onlineInventory_image=i.image;n.onlineInventory_altText=i.altText;n.onlineInventory_itemCounter=e.itemCounter;a[i.catentryId]=n}productDisplayJS.InventoryDetailsDetailsCallCompleted=!0;productDisplayJS.InventoryDetailsforItems=a;buildProductInventoryDataLayer(a,"onload");productDisplayJS.displayInventoryBasedOnFetchedDetails(productDisplayJS.bopusShowStoreDetailsCatEntryId,productDisplayJS.bopusShowStoreDetailsProductId)},displayInventoryBasedOnFetchedDetails:function(e,t){var i=productDisplayJS.InventoryDetailsforItems[e],a=productDisplayJS.itemPriceJsonOject[e].catalogEntry,o=a.isBopusProduct,n=a.InStoreOnly,r=!1,s=!1;if("undefined"!=typeof i.onlineInventory_itemCounter&&i.onlineInventory_itemCounter>0&&"yes"!=n){var d="InventoryStatus_OnlineStatusBopus_"+t,l="InventoryStatus_Availability_SectionBopus_"+t;dojo.removeClass(d,"in_stock out_of_stock");dojo.place("<img id='InventoryStatus_OnlineStatusBopus_Img_"+t+"' src='"+imageDirectoryPath+"img/"+i.onlineInventory_image+"' alt='"+i.onlineInventory_altText+"' border='0' />","InventoryStatus_OnlineStatusBopus_Img_"+t,"replace");i.onlineInventory_status&&dojo.html.set(dojo.byId("InventoryStatus_OnlineStatusBopus_"+t),i.onlineInventory_status);dojo.style("InventoryStatus_Availability_SectionBopus_"+t,"display","block");if(null!=document.getElementById("notifybutton")){$("#notifybutton").removeClass("show");$("#notifybutton").addClass("hide")}null!=document.getElementById("add2CartBtn")&&(document.getElementById("add2CartBtn").style.display="block");if(i.onlineInventory_status&&"In-Stock"!=i.onlineInventory_status){$(".noRdPdpDesign").length>0&&$("#"+l).parent().parent().removeClass("hide");dojo.addClass(d,"out_of_stock");null!=document.getElementById("notice-box")&&dojo.style("notice-box","display","none");if(null!=document.getElementById("add2CartBtn")){document.getElementById("add2CartBtn").style.display="none";document.getElementById("add2CartBtn").disabled=!0}$("#add2CartBtn").removeClass("show");$("#pdp_atc").parent().removeClass("show");$("#notifybutton").removeClass("hide");$("#notifybutton").addClass("show");$("#rd-next-date").parent().length>0&&$("#rd-next-date").parent().addClass("hide");$("#add2CartBtn").addClass("hide");$("#pdp_atc").parent().addClass("hide");if($(".product-detailReplacement-page").length>0){$("#add2CartBtn_cpy1").removeClass("show");$("#add2CartBtn_cpy1").addClass("hide")}$("#selectRDOrderBtn").hide();$("#selectRDOrderBtnCpy").hide();$("#selectRDOrderBtnAddTo").hide();$("#selectRDOrderBtn").addClass("hide");$("#selectRDOrderBtn").removeClass("show");$("#selectRDOrderBtnCpy").addClass("hide");$("#selectRDOrderBtnCpy").removeClass("show");$("#selectRDOrderBtnAddTo").addClass("hide");$("#selectRDOrderBtnAddTo").removeClass("show");if(null!=document.getElementById("notifybutton")){$("#notifybutton").addClass("show");loadreCAPTCHAJSfile()}null!=document.getElementById("selectRDOrderBtn")&&(document.getElementById("selectRDOrderBtn").disabled=!0);null!=document.getElementById("selectRDOrderBtnCpy")&&(document.getElementById("selectRDOrderBtnCpy").disabled=!0);null!=document.getElementById("selectRDOrderBtnAddTo")&&(document.getElementById("selectRDOrderBtnAddTo").disabled=!0);if(null!=document.getElementById("WC_QuickInfo_Link_addtocart")){document.getElementById("WC_QuickInfo_Link_addtocart").style.cursor="default";document.getElementById("WC_QuickInfo_Link_addtocart").style.pointerEvents="none";document.getElementById("WC_QuickInfo_Link_addtocart").style.opacity="0.65"}if(null!=document.getElementById("add2RDOrderBtn")){document.getElementById("add2RDOrderBtn").style.cursor="default";document.getElementById("add2RDOrderBtn").style.pointerEvents="none";document.getElementById("add2RDOrderBtn").style.opacity="0.65"}var c=dojo.byId("rd-option-container"),u=dojo.byId("rd-add-on");if(null!=c){dojo.addClass(c,"hide");dojo.removeClass(c,"show")}if(null!=u){dojo.addClass(u,"hide");dojo.removeClass(u,"show")}productDisplayJS.disableAllButtoninpage()}else{$(".noRdPdpDesign").length>0&&$("#"+l).parent().parent().addClass("hide");r=!0;dojo.addClass(d,"in_stock");s=!0;$("#rd-next-date").parent().length>0&&null!=document.getElementById("rd-next-date")&&""!=document.getElementById("rd-next-date").innerHTML&&$("#rd-next-date").parent().removeClass("hide");var c=dojo.byId("rd-option-container");if(null!=c&&productDisplayJS.isRdProduct){dojo.addClass(c,"show");dojo.removeClass(c,"hide")}$("#add2CartBtn").removeClass("hide");$("#pdp_atc").parent().removeClass("hide");$("#notifybutton").removeClass("show");$("#notifybutton").addClass("hide");$("#add2CartBtn").addClass("show");$("#pdp_atc").parent().addClass("show");$("#selectRDOrderBtn").show();if($(".product-detailReplacement-page").length>0){$("#add2CartBtn_cpy1").removeClass("hide");$("#add2CartBtn_cpy1").addClass("show")}$("#selectRDOrderBtnCpy").show();$("#selectRDOrderBtnAddTo").show();$("#selectRDOrderBtn").removeClass("hide");$("#selectRDOrderBtn").addClass("show");$("#selectRDOrderBtnCpy").removeClass("hide");$("#selectRDOrderBtnCpy").addClass("show");$("#selectRDOrderBtnAddTo").removeClass("hide");$("#selectRDOrderBtnAddTo").addClass("show");null!=document.getElementById("notice-box")&&"undefined"!=document.getElementById("notice-box")&&null!=document.getElementById("pdp-persistent-container")&&void 0!=document.getElementById("pdp-persistent-container")&&(document.getElementById("pdp-persistent-container").classList.contains("fixed")?dojo.style("notice-box","display","none"):dojo.style("notice-box","display","block"));null!=document.getElementById("selectRDOrderBtn")&&"undefined"!=document.getElementById("selectRDOrderBtn")&&(document.getElementById("selectRDOrderBtn").disabled=!1);null!=document.getElementById("selectRDOrderBtnCpy")&&"undefined"!=document.getElementById("selectRDOrderBtnCpy")&&(document.getElementById("selectRDOrderBtnCpy").disabled=!1);null!=document.getElementById("selectRDOrderBtnAddTo")&&"undefined"!=document.getElementById("selectRDOrderBtnAddTo")&&(document.getElementById("selectRDOrderBtnAddTo").disabled=!1);if(null!=document.getElementById("WC_QuickInfo_Link_addtocart")&&"undefined"!=document.getElementById("WC_QuickInfo_Link_addtocart")){document.getElementById("WC_QuickInfo_Link_addtocart").style.cursor="pointer";document.getElementById("WC_QuickInfo_Link_addtocart").style.pointerEvents="auto";document.getElementById("WC_QuickInfo_Link_addtocart").style.opacity="1.0"}if(null!=document.getElementById("add2RDOrderBtn")&&"undefined"!=document.getElementById("add2RDOrderBtn")){document.getElementById("add2RDOrderBtn").style.cursor="pointer";document.getElementById("add2RDOrderBtn").style.pointerEvents="auto";document.getElementById("add2RDOrderBtn").style.opacity="1.0"}productDisplayJS.enableAllButton=!0;productDisplayJS.enableAllButtoninpage()}}var p=dojo.byId("add2CartBtn"),m=dojo.byId("add2CartBtn_cpy1"),h=dojo.byId("add2CartBtn_cpy2"),y=dojo.byId("notifybutton"),v=dojo.byId("notifybutton_cpy1");if(null!=p){if(null!=m){var f=dojo.clone(p);f.id="add2CartBtn_cpy1";dojo.place(f,"add2CartBtn_cpy1","replace")}if(null!=h){var g=dojo.clone(p);g.id="add2CartBtn_cpy2";dojo.place(g,"add2CartBtn_cpy2","replace")}}if(null!=y&&null!=v){var I=dojo.clone(y);I.id="notifybutton_cpy1";dojo.place(I,"notifybutton_cpy1","replace")}var _=!1;for(var b in productDisplayJS.entitledItems){var S=productDisplayJS.entitledItems[b].catentry_id;if("undefined"!=typeof e&&S==e){var P=productDisplayJS.entitledItems[b].InStoreOnly;"true"==P&&(_=!0)}}if(_){null!=dojo.byId("add-to-controls")&&"yes"!=o&&dojo.style("add-to-controls","display","none");null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("pdp_atc")&&"yes"!=o&&dojo.style("pdp_atc","display","none");null!=dojo.byId("splDelvMsg")&&dojo.style("splDelvMsg","display","none")}else null!=dojo.byId("deliveryDateMsg")&&dojo.style("deliveryDateMsg","display","inline");null!=dojo.byId("tabselected")&&(dojo.byId("tabselected").value="");0!=$(".instore-deliveryBox").length||0!=$(".paramStore-deliveryBox").length||_||productDisplayJS.correctAndFixButtonBasedOnSelection(r);$(".delivery-option-input:checked").length>0&&1==$(".delivery-option-input:checked").length&&""!=productDisplayJS.bopusShowStoreDetailsProductId&&productDisplayJS.refreshActionButton($(".delivery-option-input:checked").val(),"entitledItem_"+productDisplayJS.bopusShowStoreDetailsProductId);document.getElementById("restrictionMessage").innerHTML="";if(!_){var E=productDisplayJS.getZipCodeForRestrictedCheck();document.getElementById("restrictionMessage").innerHTML="";var D=document.getElementById("brand_pdp").value;null!=E&&isRestricted(e,E,D)}if(null!=document.getElementById("HolidayShipMsgFlag")&&"Y"==document.getElementById("HolidayShipMsgFlag").value)if(_||!s)null!=document.getElementById("ShippingMessage")&&$("#ShippingMessage").addClass("hide");else{null!=dojo.byId("ShippingMessage")&&dojo.style("ShippingMessage","display","inline");getShippingMessage(productDisplayJS.storeId,productDisplayJS.catalogId,productDisplayJS.langId,"","Y",e,"N")}},currentStlocId:"",fetchBOPUSInventoryDetailsForAllProducts:function(e,t){var i=productDisplayJS.getStoreIdFromPhyicalSToreIdCookie();productDisplayJS.definngaAttributeResolved=!0;productDisplayJS.bopusShowStoreDetailsCatEntryId=e;productDisplayJS.bopusShowStoreDetailsProductId=t;var a,o=$("#inventorySystem").val(),n="",r="";if(o==-4){for(var s in productDisplayJS.entitledItems){a=productDisplayJS.entitledItems[s].isInfiniteInventoryItem;if("undefined"!=a&&"true"==a){""!=r&&(r+=",");r+=productDisplayJS.entitledItems[s].catentry_id}else{""!=n&&(n+=",");n+=productDisplayJS.entitledItems[s].catentry_id}}var d=$("#isBOPUSEnabledItem").val(),l=!1;null!=d&&"yes"==d&&(l=!0);if(l)if(productDisplayJS.bopusInventoryDetailsPopulated)productDisplayJS.displayBopusInventoryBasedOnFetchedDetails(e,t);else if(""!=i&&"NA"!=i)productDisplayJS.fetchBopusInventoryDetailsForAllTheProducts(n,i,r);else if("NA"!=i)var c=7,u=!1,p=setInterval(function(){i=productDisplayJS.getStoreIdFromPhyicalSToreIdCookie();if(""!=i&&"NA"!=i){u=!0;clearTimeout(p);productDisplayJS.fetchBopusInventoryDetailsForAllTheProducts(n,i,r)}else"NA"==i&&clearTimeout(p);if(0==c){clearTimeout(p);u||productDisplayJS.fetchBopusInventoryDetailsForAllTheProducts(n,"",r)}c--},200);else"NA"==i&&productDisplayJS.fetchBopusInventoryDetailsForAllTheProducts(n,"",r)}},fetchBopusInventoryDetailsForAllTheProducts:function(e,t,i){if(""!=i||""!=e){productDisplayJS.currentStlocId=t;var a=new Object;a.itemId=e;a.langId=productDisplayJS.langId;a.storeId=productDisplayJS.storeId;a.catalogId=productDisplayJS.catalogId;var o=$("#inventorySystem").val();if(o==-4){var n=!1,r=dojo.byId("isBOPUSEnabledItem");if(null!=r&&"yes"==r.value&&"undefined"!=t&&""!=t){n=!0;a.storeLoc=t}""!=i&&(a.infiniteInvItems=i);a.fetchStoreInventory=n}else a.fetchStoreInventory=!1;a.fetchStoreInventory&&("undefined"!=typeof productDisplayJS.cachedBopusInventoryDetails[t]?productDisplayJS.populateBOPUSInvDetails(productDisplayJS.cachedBopusInventoryDetails[t],null):dojo.xhrPost({url:getAbsoluteURL()+"GetInventoryStatusByIDView",handleAs:"json-comment-filtered",content:a,service:this,load:productDisplayJS.populateBOPUSInvDetails,error:function(e,t){console.log(storeNLS.INV_STATUS_RETRIEVAL_ERROR)}}))}},cachedBopusInventoryDetails:{},populateBOPUSInvDetails:function(e,t){productDisplayJS.cachedBopusInventoryDetails[productDisplayJS.getStoreIdFromPhyicalSToreIdCookie()]=e;var i={},a=$("#inventorySystem").val();if(a==-4){productDisplayJS.InventoryDetailsforBOPUSItems={};if("undefined"!=typeof e.inStoreInventory){for(var o=e.inStoreInventory.stores,n=0;n<e.storeCounter;n++){var r={};"undefined"!=typeof i[o[n].catentryId]&&(r=i[o[n].catentryId]);var s=o[n].catentryId,d=(o[n].availableQuantity,o[n].alertLevel),l=o[n].id,c=o[n].name;productDisplayJS.isBopusEligibileForStore(l,s)||(d="RED");buildBopusProductInventoryDataLayer(d,c);r["inStoreInventory_availableQuantity_"+l]=o[n].availableQuantity;r["inStoreInventory_alertLevel_"+l]=d;i[s]=r}productDisplayJS.bopusInventoryDetailsPopulated=!0}}productDisplayJS.InventoryDetailsforBOPUSItems=i;productDisplayJS.displayBopusInventoryBasedOnFetchedDetails(productDisplayJS.bopusShowStoreDetailsCatEntryId,productDisplayJS.bopusShowStoreDetailsProductId)},displayBopusInventoryBasedOnFetchedDetails:function(e,t){var i=productDisplayJS.InventoryDetailsforBOPUSItems[e];if("undefined"!=typeof i){var a=productDisplayJS.itemPriceJsonOject[e].catalogEntry,o=(a.isBopusProduct,a.InStoreOnly,$("#inventorySystem").val());if(o==-4){var n=dojo.byId("bopusdeailsInStock"),r=dojo.byId("bopusdeailsNotAvailable"),s=dojo.byId("bopusdeailsLowInventory"),d=dojo.byId("bopusdeailsInStockSelectable"),l=dojo.byId("bopusdeailsNotAvailableSelectable"),c=dojo.byId("bopusdeailsLowInventorySelectable"),u=productDisplayJS.getStoreIdFromPhyicalSToreIdCookie();if(""!=u&&"NA"!=u){dojo.forEach(dojo.query(".bopustockavailabilitymsg"),function(e){dojo.removeClass(e,"show")});dojo.forEach(dojo.query(".bopustockavailabilitymsg"),function(e){dojo.addClass(e,"hide")});dojo.query("#InventoryStatus_InStore_Section_"+t).orphan();if("RED"==i["inStoreInventory_alertLevel_"+u]){if(null!=s){dojo.addClass(r,"show");dojo.removeClass(r,"hide")}if(null!=l){dojo.addClass(l,"show");dojo.removeClass(l,"hide")}}else if("GREEN"==i["inStoreInventory_alertLevel_"+u]){if(null!=n){dojo.addClass(n,"show");dojo.removeClass(n,"hide")}if(null!=d){dojo.addClass(d,"show");dojo.removeClass(d,"hide")}}else{if(null!=s){dojo.addClass(s,"show");dojo.removeClass(s,"hide")}if(null!=c){dojo.addClass(c,"show");dojo.removeClass(c,"hide")}}}if(0==dojo.query(".bopustockavailabilitymsg.show").length&&null!=r){dojo.addClass(r,"show");dojo.removeClass(r,"hide")}if(0==dojo.query(".bopustockavailabilitymsg.show").length&&null!=l){dojo.addClass(l,"show");dojo.removeClass(l,"hide")}if(($("#bopusdeailsNotAvailableSelectable.show").length>0||$("#bopusdeailsLowInventorySelectable.show").length>0)&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Not Available";$("#add2CartBtn_bopus")[0].disabled=!0}else if($("#bopusdeailsInStockSelectable.show").length>0&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Add to Cart";$("#add2CartBtn_bopus")[0].disabled=!1;$("#pdp_atc").parent().length>0&&$("#pdp_atc").parent()[0].classList.contains("hide")&&$("#pdp_atc").parent().removeClass("hide")}}var p=!1;for(var m in productDisplayJS.entitledItems){var h=productDisplayJS.entitledItems[m].catentry_id;if("undefined"!=typeof e&&h==e){var y=productDisplayJS.entitledItems[m].InStoreOnly;"true"==y&&(p=!0)}}if(($("#bopusdeailsNotAvailableSelectable.show").length>0||$("#bopusdeailsLowInventorySelectable.show").length>0)&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Not Available";$("#add2CartBtn_bopus")[0].disabled=!0}else if($("#bopusdeailsInStockSelectable.show").length>0&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Add to Cart";$("#add2CartBtn_bopus")[0].disabled=!1;$("#pdp_atc").parent().length>0&&$("#pdp_atc").parent()[0].classList.contains("hide")&&$("#pdp_atc").parent().removeClass("hide")}}},bopusShowStoreDetailsBasedOnLocaltionCallComplete:function(e){var t=25,i=$("#inventorySystem").val(),a=setInterval(function(){if(productDisplayJS.definngaAttributeResolved){clearTimeout(a);productDisplayJS.bopusShowStoreDetails(productDisplayJS.bopusShowStoreDetailsCatEntryId,productDisplayJS.bopusShowStoreDetailsProductId)}0==t&&clearTimeout(a);t--},50);i==-4&&productDisplayJS.definngaAttributeResolved&&0==productDisplayJS.bopusInventoryDetailsPopulated&&productDisplayJS.fetchBOPUSInventoryDetailsForAllProducts(productDisplayJS.bopusShowStoreDetailsCatEntryId,productDisplayJS.bopusShowStoreDetailsProductId);$("#repeat-delivery-select").removeClass("paramStore-deliveryBox");if("show"==e&&$("#store-pickup").length>0){var o=window.location.search.substring(1);if(""!=o)for(var n=o.split("&"),r=0;r<n.length;r++){var s=n[r].split("=");if("store_code"==s[0]&&""!=s[1].trim()){
$("#repeat-delivery-select").addClass("paramStore-deliveryBox");$("#store-pickup")[0].click()}}}},InventoryDetailsforBOPUSItems:{},resetAddToCartollPosition:function(){dojo.query("div#pdp-persistent-spacer div#pdp-persistent-placeholder").length>0&&null!=dojo.byId("pdp-persistent-placeholder")&&null!=dojo.byId("pdp-persistent-placeholder")&&dojo.place("pdp-persistent-placeholder","pdp-product-info","after")},getShipModeIdForDefault:function(){var e="",t="petcostores",i=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof i.shipmodes&&i.shipmodes.length>0){var a=JSON.parse(i.shipmodes);"undefined"!=typeof a.DEFAULT_SHIPMODE&&(e=a.DEFAULT_SHIPMODE)}return e},getZipCodeForRestrictedCheck:function(){var e=null,t="petcostores",i=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof i.petcostores&&i.petcostores.length>0){var a=JSON.parse(i.petcostores);a.length>0&&(e=JSON.parse(i.petcostores)[0].ZIPCODE)}return e},getFfmCenterDefault:function(){var e="",t="petcostores",i=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof i.shipmodes&&i.shipmodes.length>0){var a=JSON.parse(i.shipmodes);"undefined"!=typeof a.DEFAULT_FFMCENTER&&(e=a.DEFAULT_FFMCENTER)}return e},getShipModeIdForBOPUS:function(){var e="",t="petcostores",i=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof i.shipmodes&&i.shipmodes.length>0){var a=JSON.parse(i.shipmodes);"undefined"!=typeof a.BOPUS_SHIPMODE&&(e=a.BOPUS_SHIPMODE)}return e},getStoreIdFromPhyicalSToreIdCookie:function(){var e="",t=dojo.cookie("WC_physicalStores");if("undefined"!=typeof t){var i=dojo.cookie("WC_physicalStores").split(",");i.length>0&&"undefined"!=i[0]&&(e=i[0])}if(""==e){var a="petcostores",o=null!=JSON.parse(localStorage.getItem(a))?JSON.parse(localStorage.getItem(a)):{};if("undefined"!=typeof o.petcostores&&o.petcostores.length>0){var n=JSON.parse(o.petcostores);n.length>0&&(e=JSON.parse(o.petcostores)[0].STLOC_ID)}else"undefined"==typeof o.petcostores&&"undefined"!=typeof o.userDetails&&(e="NA")}return e},removeQuotes:function(e){return e?e.replace(/&#039;/g,"").replace(/\\'/g,"").replace(/'/g,""):e},correctAndFixButtonBasedOnSelection:function(e){var t=dojo.query('input[name="rdOptionsSelect"][type=radio]:checked');if(t.length>0){var i=t[0].value;if(e){if("repeat-delivery-add-on"==i){if(null!=dojo.byId("selectRDOrderBtn")){dojo.addClass("selectRDOrderBtn","show");dojo.removeClass("selectRDOrderBtn","hide")}if(null!=dojo.byId("add2CartBtn")){dojo.removeClass("add2CartBtn","show");dojo.addClass("add2CartBtn","hide")}}else if(null!=document.getElementById("itemOrProd")&&void 0!=document.getElementById("itemOrProd")&&0==$("input#store-pickup:checked").length&&0==$("#repeat-delivery-select-btn.instore-deliveryBox").length&&0==$("#repeat-delivery-select-btn.paramStore-deliveryBox").length){var a=document.getElementById("itemOrProd").value,o=document.getElementById("rdNotDisplay").value;if("Item"==a)document.getElementById("one-time-delivery").click();else if("Prod"==a)if("Yes"==o){$("#repeat-delivery-radio:checked").length>0&&($("#repeat-delivery-radio")[0].checked=!0);$("#repeat-delivery-radio").trigger("click")}else{$("#one-time-delivery:checked").length>0&&($("#one-time-delivery")[0].checked=!0);$("#one-time-delivery").trigger("click")}}}else{var t=dojo.query('input#one-time-delivery[name="rdOptionsSelect"][type=radio]');if(t.length>0){t[0].checked=!0;if(0==$(".noRdPdpDesign").length){var n=$("input[type='radio'].delivery-option-input");n.parents(".radio").removeClass("selected");n.filter(":not(:checked)").removeAttr("checked");n.filter(":checked").attr("checked","");n.filter(":checked").parents(".radio").addClass("selected");$("#store-pickup-dropdown").length>0&&($("#store-pickup:checked.store-pickup-option-input").length>0?$("#store-pickup-dropdown").removeClass("half").addClass("open"):$("#store-pickup-dropdown").addClass("half").removeClass("open"))}}}}},disableAllButtoninpage:function(){$("#selectRDOrderBtn").prop("disabled",!0);$("#add2CartBtn").prop("disabled",!0);$("#add2CartBtn_cpy").prop("disabled",!0);$("#add2CartBtn_cpy1").prop("disabled",!0);$("#add2CartBtn_cpy2").prop("disabled",!0);$("#selectRDOrderBtnCpy").prop("disabled",!0);$("#selectRDOrderBtnAddTo").prop("disabled",!0)},enableAllButtoninpage:function(){$("#selectRDOrderBtn").prop("disabled",!1);$("#add2CartBtn").prop("disabled",!1);$("#add2CartBtn_cpy").prop("disabled",!1);$("#add2CartBtn_cpy1").prop("disabled",!1);$("#add2CartBtn_cpy2").prop("disabled",!1);$("#selectRDOrderBtnCpy").prop("disabled",!1);$("#selectRDOrderBtnAddTo").prop("disabled",!1)},loadRxLegalInformation:function(){var e=productDisplayJS.itemPriceJsonOject[productDisplayJS.bopusShowStoreDetailsCatEntryId].catalogEntry,t=e.catalogEntryIdentifier.externalIdentifier.partNumber;if($("#rxLegalInfoUrl").length>0){var i=$("#rxLegalInfoUrl").val();i=i+"/"+t+"/?format=json";$.ajax({url:i,type:"GET",cache:!1,contentType:"application/json",dataType:"json",data:"",success:function(e){null!=e.pharmainfo?$("div#rxMoreInformation div.rxMoreInformationContainer").html(e.pharmainfo.html):$("div#rxMoreInformation div.rxMoreInformationContainer").html("")},error:function(){console.log(storeNLS.INV_STATUS_RETRIEVAL_ERROR)}})}},isBopusEligibileForStore:function(e,t){var i="petcostores",a=null!=JSON.parse(localStorage.getItem(i))?JSON.parse(localStorage.getItem(i)):{};if("undefined"!=typeof a.petcostores&&a.petcostores.length>0){var o=JSON.parse(a.petcostores),n="N";1==o.length&&"undefined"!=typeof o&&"undefined"!=typeof o.BOPUS?n=o.BOPUS:o.length>0&&"undefined"!=typeof o&&"undefined"!=typeof o[0].BOPUS&&(n=o[0].BOPUS);if("Y"==n&&$("#CurrentBOPUSState").length>0){var r=$("#CurrentBOPUSState").val(),s=(productDisplayJS.itemPriceJsonOject[t],{});for(x in productDisplayJS.entitledItems)"undefined"!=typeof productDisplayJS.entitledItems[x].isBOPUSAreaExcludedItem&&(s[productDisplayJS.entitledItems[x].catentry_id]=productDisplayJS.entitledItems[x].catentry_id);if("undefined"!=typeof s[t]){var d=s[t];if($("#isBOPUSAreaRestictionEnabeled").length>0&&"true"==$("#isBOPUSAreaRestictionEnabeled").val()&&d==t){var l="";if($("#BOPUSAreaRestictionState").length>0){l=$("#BOPUSAreaRestictionState").val();for(var c=l.split(","),u=0;u<c.length;u++)c[u]==r&&(n="N")}}}}return"Y"==n}if("undefined"==typeof a.petcostores&&"undefined"!=typeof a.userDetails)return!1},evaluateInventoryQuanityBeforeAddToCart:function(e,t){if(productDisplayJS.bopusShowStoreDetailsProductId==e){var i=productDisplayJS.InventoryDetailsforItems[productDisplayJS.bopusShowStoreDetailsCatEntryId],a=i["inStoreInventory_availableQuantity_"+productDisplayJS.getStoreIdFromPhyicalSToreIdCookie()];if(!isNaN(a)&&1*t>1*a){var o="",n=$("#bupsQuantityErrorMessage");n.length>0&&(o=$(n).html().trim().replace("{0}",1*a));$("#modal-notification-alert-message").html(o);$("#modal-notification-alert .alert").addClass("error-box");petcoCommonJS.showModal("modal-notification-alert");return!1}}return!0},deliverDateMessages:null,invokeDeliveryDateAPIForPDP:function(e,t){var i,a="";for(var o in productDisplayJS.entitledItems){""!=a&&(a+=",");e==productDisplayJS.entitledItems[o].catentry_id&&(i=productDisplayJS.entitledItems[o].PartNum);var n=productDisplayJS.entitledItems[o].PartNum;a+=n}if(""!=a){var r=productDisplayJS.getZipCodeForRestrictedCheck(),s=$("#quantity_"+t).val(),d=[];d.catEntryId=e;d.storeId=this.storeId;d.catalogId=this.catalogId;d.langId=this.langId;d.productList=a;d.quantity=s;d.fromPage="PDP";d.resolvedItem=i;d.zipCode=r;d.productId=t;var l=!1;if("true"==$("#isDynamicDevliveryDateActive").val())l=!0;else if("true"==$("#isDynamicDevliveryDateActiveEAOBO").val()){var c=dojo.cookie("isEASession"),u=dojo.cookie("isOBOSession");"yes"!=c&&"yes"!=u||(l=!0)}if(l)if(null==productDisplayJS.deliverDateMessages||s>1)wc.service.invoke("AjaxInvokeDeliveryDateAPI",d);else{var p=productDisplayJS.deliverDateMessages[i],m=[];m=p.split("|");var h=new Date(m[1]),y=new Date;h>y?productDisplayJS.displayDeliveryDateMsg(i,productDisplayJS.deliverDateMessages):wc.service.invoke("AjaxInvokeDeliveryDateAPI",d)}}},displayDeliveryDateMsg:function(e,t){var i=t[e],a=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=[];n=i.split("|");var r,s=new Date(n[0]),d=new Date(n[1]),l=new Date,c=d.getDate()-l.getDate();switch(c){case 0:r="Today";break;case 1:r="Tomorrow";break;default:r=o[s.getDay()]}document.getElementById("deliverydate").innerHTML=o[s.getDay()]+" , "+s.getDate()+" "+a[s.getMonth()];null!=document.getElementById("HolidayShipMsgFlag")&&"Y"==document.getElementById("HolidayShipMsgFlag").value?holidayMsgCallCompleted&&!holidayPreCutOff?$("#deliveryDateMsg").removeClass("hide"):holidayMsgCallCompleted&&holidayPreCutOff&&!$("#deliveryDateMsg").hasClass("hide")?$("#deliveryDateMsg").addClass("hide"):$("#deliveryDateMsg").removeClass("hide"):$("#deliveryDateMsg").removeClass("hide")},invokeEspot:function(e){if("undefined"!=typeof productDisplayJS.itemPriceJsonOject[e].catalogEntry){var t=productDisplayJS.getEspotContextDetails(),i=productDisplayJS.itemPriceJsonOject[e].catalogEntry,a=productDisplayJS.getOrderTypeSelected(),o=i.offerPrice,n="PriceStack_Promo1";try{if(null!=o&&""!=o){var r=getAbsoluteURL()+"PetcoRefreshMarketingContents",s={};s.substitutionName10="OrderType";s.substitutionValue10=a;s.substitutionName12="itemPrice";s.substitutionValue12=o;s.emsName=n;s.catalogEntryId=t.productId;s.custom_view="true";s.customTarget="PDP";s.categoryId=t.categoryId;s.parent_category_rn=t.parent_category_rn;s.top_category=t.top_category;s.productCustomToken="product";$.ajax({url:r,type:"POST",cache:!1,data:s,success:function(e){$("#pricestack-promo-1").html("");$("#pricestack-promo-1").html(e);lazy_image_loader(!1)},error:function(){console.log("Error invoking E Spot")}})}}catch(e){}}},invokeOrderTypeEspot:function(e){if("undefined"!=typeof productDisplayJS.itemPriceJsonOject){if(e.indexOf("entitledItem_")!=-1){var t=productDisplayJS.getCatalogEntryId(e);e=t}if("undefined"!=typeof productDisplayJS.itemPriceJsonOject[e]&&"undefined"!=typeof productDisplayJS.itemPriceJsonOject[e].catalogEntry){var i=productDisplayJS.getEspotContextDetails(),a=productDisplayJS.itemPriceJsonOject[e].catalogEntry,o=productDisplayJS.getOrderTypeSelected(),n=a.offerPrice,r="PDP_Promo2";try{if(null!=n&&""!=n){var s=getAbsoluteURL()+"PetcoRefreshEspot",d={};d.substitutionName10="OrderType";d.substitutionValue10=o;d.substitutionName12="itemPrice";d.substitutionValue12=n;d.emsName=r;d.catalogEntryId=i.productId;d.custom_view="true";d.customTarget="PDP";d.categoryId=i.categoryId;d.parent_category_rn=i.parent_category_rn;d.top_category=i.top_category;d.productCustomToken="product";$.ajax({url:s,type:"POST",cache:!1,data:d,success:function(e){$("#pdp-promo-2").html("");$("#pdp-promo-2").html(e);lazy_image_loader(!1)},error:function(){console.log("Error invoking E Spot")}})}}catch(e){}}}},getOrderTypeSelected:function(){var e="";if($("input[name='rdOptionsSelect']").length>0){var t=$("input[name='rdOptionsSelect']:checked").val();"one-time-delivery"==t?e="OTD":"repeat-delivery"==t?e="RD":"store-pickup"==t&&(e="BOPUS")}return e},getEspotContextDetails:function(){var e={};e.productId=$("#es_productId").val();e.categoryId=$("#es_categoryId").val();e.parent_category_rn=$("#es_parent_category_rn").val();e.top_category=$("#es_top_category").val();return e},makeRadioChecked:function(e){e.length>0&&(e[0].checked=!0)}};require(["dojo/on","dojo/has","dojo/_base/sniff","dojo/domReady!"],function(e,t){t("ie")<9&&e(document,'.compare_target > input[type="checkbox"]:click',function(e){this.blur();this.focus()});"undefined"!=typeof petcoCommonJS&&petcoCommonJS.clearPromotionLessThanZero();productDisplayJS.sortItemsInCombo()});var zoomImg={height:1500,width:1500};$(function(){$("#imgZoom").on("mousemove touchmove",function(e){zoomIn(e)});$("#imgZoom").on("mouseout touchend",function(e){zoomOut(e)})});globalSliderRef=null;var initialBottomPositionPixelMobile=0;$(document).ready(function(){$('div[data-pageType="product-detail-page"]').length>0&&$(document).on({mouseenter:function(){var e=$(this).offset().left+$(this).outerWidth()/2,t=$(this).offset().top-$(this).outerHeight(),i=$(this).data("target");$(i).show().find(".modal-dialog").css({top:t,left:e});$(i).removeClass("modal").removeClass("fade")},mouseleave:function(){var e=$(this).data("target");$(e).hide();$(e).addClass("modal").addClass("fade")}},".rd-help")});var toggleCollapsible=function(e){var t=e.querySelector(".content"),i=e.getAttribute("aria-expanded"),a=document.getElementById("mainESpotHome");t.id.match(/homeESpotDetails/)?"closed"==a.className?a.className="expand":a.className="closed":0;if("true"==i){t.style.maxHeight=t.scrollHeight+"px";window.setTimeout(function(){e.setAttribute("aria-expanded","false");t.style.maxHeight=null;t.style.transition="max-height .2s"},0);window.setTimeout(function(){t.style.transition=null},200)}else if("false"==i){e.setAttribute("aria-expanded","true");t.style.maxHeight=t.scrollHeight+"px";t.style.transition="max-height .2s";window.setTimeout(function(){t.style.maxHeight=null;t.style.transition=null},200)}},updateGrid=function(e){var t=e.clientWidth,i=e.getAttribute("data-min-col-width"),a=e.getAttribute("data-min-col-count"),o=Math.floor(t/i);o<a&&(o=a);for(var n=Math.floor(100/o)+"%",r=e.querySelectorAll(".col"),s=0;s<r.length;s++)r[s].style.width=n};require(["dojo/on","dojo/query","dojo/topic","dojo/dom-attr","dojo/NodeList-traverse","dojo/domReady!"],function(e,t,i){var a=function(e){var i=e?!e.matches:document.documentElement.clientWidth>583;t(".collapsible").attr("aria-expanded",i.toString())};if(window.matchMedia){var o=window.matchMedia("(max-width: 600px)");a(o);o.addListener(a)}else{a();e(window,"resize",function(e){a()})}e(document,".collapsible .toggle:click",function(e){toggleCollapsible(t(e.target).parents(".collapsible")[0]);e.preventDefault()});e(document,".collapsible .toggle:keydown",function(e){if(13==e.keyCode||32==e.keyCode){toggleCollapsible(t(e.target).parents(".collapsible")[0]);e.preventDefault()}});t(".grid").forEach(updateGrid);e(window,"resize",function(e){t(".grid").forEach(updateGrid)})});dojo.addOnLoad(function(){if(dojo.byId("MiniShopCartContents")){setMiniShopCartControllerURL(getAbsoluteURL()+"MiniShopCartDisplayView?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&getCartData=false");null!=wc.render.getRefreshControllerById("MiniShopCartContentsController")&&(wc.render.getRefreshControllerById("MiniShopCartContentsController").url=getAbsoluteURL()+"MiniShopCartDisplayView?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&page_view=dropdown");null!=dojo.byId("MiniShoppingCart")&&loadMiniCart(WCParamJS.currencyCode,WCParamJS.langId);if(checkDeleteCartCookie()){updateCartCookie();reinitializeCartCounts();resetDeleteCartCookie()}}});if("undefined"==typeof ShoppingListDialogJS||null==ShoppingListDialogJS||!ShoppingListDialogJS){ShoppingListDialogJS={storeParams:null,dialogParams:null,setDialogParams:function(e,t){this.storeParams=e;this.dialogParams=t;null==this.dialogParams.image||""==this.dialogParams.image?this.fetchAddedItem():this.displayItemAddedWithoutFetching()},fetchAddedItem:function(){var e=this.setCommonParams();e.productId=this.dialogParams.catEntryId;e.catalogEntryId=this.dialogParams.catEntryId;dojo.xhrPost({url:getAbsoluteURL()+"GetCatalogEntryDetailsByIDView",handleAs:"json-comment-filtered",content:e,service:this,load:ShoppingListDialogJS.displayItemAddedDialog,error:function(e,t){console.debug("QuickInfoJS.selectItem: Unexpected error occurred during an xhrPost request.")}})},displayItemAddedDialog:function(e,t){var i=dijit.byId("shoppingListItemAddedPopup");if(null!=i){dojo.byId("shoppingListItemAddedImg").src=e.catalogEntry.description[0].thumbnail.replace("160x160","105x105");dojo.byId("shoppingListItemAddedImg").alt=e.catalogEntry.description[0].name;dojo.byId("shoppingListItemAddedName").innerHTML=e.catalogEntry.description[0].name}else console.debug("shoppingListItemAddedPopup does not exist")},displayItemAddedWithoutFetching:function(){var e=dijit.byId("shoppingListItemAddedPopup");if(null!=e){dojo.byId("shoppingListItemAddedImg").src=this.dialogParams.image;dojo.byId("shoppingListItemAddedImg").alt=this.dialogParams.name;dojo.byId("shoppingListItemAddedName").innerHTML=this.dialogParams.name}else console.debug("shoppingListItemAddedPopup does not exist")},showDialog:function(){var e=dijit.byId("shoppingListItemAddedPopup");if(null!=e){e.closeButtonNode.style.display="none";e.show()}else console.debug("shoppingListItemAddedPopup does not exist")},setCommonParams:function(){var e=new Object;e.storeId=this.storeParams.storeId;e.catalogId=this.storeParams.catalogId;e.langId=this.storeParams.langId;return e},close:function(){dijit.byId("shoppingListItemAddedPopup").hide()}};require(["dojo/topic"],function(e){e.subscribe("ShoppingListItem_Added",ShoppingListDialogJS.showDialog)})}wc.service.declare({id:"ShoppingListServiceCreate",actionId:"ShoppingListServiceCreate",url:"AjaxGiftListServiceCreate",formId:"",successHandler:function(e){cursor_clear();closeAllDialogs();dojo.topic.publish("ShoppingList_Changed",{listId:e.giftListId[0],listName:e.giftListName[0],action:"add"})},failureHandler:function(e){cursor_clear();e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey)}}),wc.service.declare({id:"ShoppingListServiceUpdate",actionId:"ShoppingListServiceUpdate",url:"AjaxGiftListServiceUpdateDescription",formId:"",successHandler:function(e){cursor_clear();MessageHelper.hideAndClearMessage()},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"ShoppingListServiceDelete",actionId:"ShoppingListServiceDelete",url:"AjaxGiftListServiceDeleteGiftList",formId:"",successHandler:function(e){cursor_clear();closeAllDialogs();shoppingListJS.showMessageDialog(storeNLS.LIST_DELETED);dojo.topic.publish("ShoppingList_Changed",{listId:e.giftListId[0],listName:"",action:"delete"})},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"ShoppingListServiceAddItem",actionId:"ShoppingListServiceAddItem",url:"AjaxGiftListServiceAddItem",formId:"",successHandler:function(e){var t='<div class="alert alert-success"> <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>This item has been added to your list.</div>';$("#addToShoppingList").after(t);wc.render.updateContext("MylistsDisplay_Context",{startIndex:"0"});document.getElementById("purListId")&&document.getElementById("purListExtId")?wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:document.getElementById("startIndexForPurList").value,listId:document.getElementById("purListId").value,externalId:document.getElementById("purListExtId").value,requesttype:"ajax"}):wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:"0",listId:"-1",externalId:"-1",requesttype:"ajax"});document.getElementById("add-to-controls")||$(window).scrollTop(0);var i=document.getElementById("omnitureEnabled"),a="";if(null!=i&&"undefined"!=i){var o=document.getElementById("product_id"),n=document.getElementById("tel_product_sku"),r=document.getElementById("tel_product_name"),s="",d="",l="";null!=o&&"undefined"!=o&&(s=o.value);null!=n&&"undefined"!=n&&(d=n.value);null!=r&&"undefined"!=r&&(l=r.value);a=i.value;if("true"===a){var c={};c.product_page_action="wish_list_add";c.product_id=s;c.product_sku=d;c.product_name=l;$("#tel_product_id").size()>0&&(c.product_parent_sku=$("#tel_product_id").val());c.event_name="add_to_wishlist";c.event_status="end";pushEvent(c)}}cursor_clear()},failureHandler:function(e){if("_ERR_WISHLIST_ITEM_DUPLICATE"==e.errorMessageKey){petcoCommonJS.showModalNotificationAlert(MessageHelper.messages[e.errorMessageKey]);$(window).scrollTop(0)}else e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"PlaceOrderShoppingListServiceAddItem",actionId:"PlaceOrderShoppingListServiceAddItem",url:"AjaxGiftListServiceAddItem",formId:"",successHandler:function(e){var t=CheckoutHelperJS.getShipmentTypeId();resetRequest();document.location.href="OrderShippingBillingConfirmationView?storeId="+ServicesDeclarationJS.storeId+"&catalogId="+ServicesDeclarationJS.catalogId+"&langId="+ServicesDeclarationJS.langId+"&orderId="+document.getElementById("orderIdForPurcList").value+"&shipmentTypeId="+t;console.debug("Purchase List Add successful")},failureHandler:function(e){var t=CheckoutHelperJS.getShipmentTypeId();resetRequest();document.location.href="OrderShippingBillingConfirmationView?storeId="+ServicesDeclarationJS.storeId+"&catalogId="+ServicesDeclarationJS.catalogId+"&langId="+ServicesDeclarationJS.langId+"&orderId="+document.getElementById("orderIdForPurcList").value+"&shipmentTypeId="+t;console.debug("Purchase List Add failed")}}),wc.service.declare({id:"ShoppingListServiceRemoveItem",actionId:"ShoppingListServiceRemoveItem",url:"AjaxGiftListServiceUpdateItem",formId:"",successHandler:function(e){cursor_clear();MessageHelper.hideAndClearMessage();document.getElementById("startIndexForWishList")?wc.render.updateContext("MylistsDisplay_Context",{startIndex:document.getElementById("startIndexForWishList").value}):wc.render.updateContext("MylistsDisplay_Context",{startIndex:"0"});document.getElementById("purListId")&&document.getElementById("purListExtId")?wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:document.getElementById("startIndexForPurList").value,listId:document.getElementById("purListId").value,externalId:document.getElementById("purListExtId").value,requesttype:"ajax"}):wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:"0",listId:"-1",externalId:"-1",requesttype:"ajax"})},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"ShoppingListServiceUpdateItem",actionId:"ShoppingListServiceUpdateItem",url:"AjaxGiftListServiceUpdateItem",formId:"",successHandler:function(e){cursor_clear();MessageHelper.hideAndClearMessage();document.getElementById("startIndexForWishList")?wc.render.updateContext("MylistsDisplay_Context",{startIndex:document.getElementById("startIndexForWishList").value}):wc.render.updateContext("MylistsDisplay_Context",{startIndex:"0"});document.getElementById("purListId")&&document.getElementById("purListExtId")?wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:document.getElementById("startIndexForPurList").value,listId:document.getElementById("purListId").value,externalId:document.getElementById("purListExtId").value,requesttype:"ajax"}):wc.render.updateContext("PurchaselistDisplay_Context",{showTabName:"purchaselist",purStartDate:"",purEndDate:"",purStartDateParsed:"",purEndDateParsed:"",fromGoCmd:!1,startIndex:"0",listId:"-1",externalId:"-1",requesttype:"ajax"})},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"ShoppingListServiceAddItemAndRemoveFromCart",actionId:"ShoppingListServiceAddItemAndRemoveFromCart",url:"AjaxGiftListServiceAddItem",formId:"",successHandler:function(e){cursor_clear();dojo.topic.publish("ShoppingListItem_Added")},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"AjaxGiftListServiceChangeGiftListStatus",actionId:"AjaxGiftListServiceChangeGiftListStatus",url:"AjaxGiftListServiceChangeGiftListStatus",formId:"",successHandler:function(e){cursor_clear();MessageHelper.hideAndClearMessage();MultipleWishLists.updateDefaultListName("multipleWishListButton",e.giftListName);MultipleWishLists.updateDefaultListName("addToMultipleWishListLink",e.giftListName);MultipleWishLists.setDefaultListId(e.giftListId);MultipleWishLists.updateContextPostSwitch(e.giftListId)},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}}),wc.service.declare({id:"AjaxGiftListAnnouncement",actionId:"AjaxGiftListAnnouncement",url:getAbsoluteURL()+"AjaxGiftListServiceAnnounceGiftList",formId:"",successHandler:function(e){cursor_clear();MessageHelper.hideAndClearMessage();shoppingListJS.showMessageDialog(storeNLS.WISHLIST_EMAIL_SENT)},failureHandler:function(e){e.errorMessage?MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}});"undefined"!=typeof QuickInfoJS&&null!=QuickInfoJS&&QuickInfoJS||(QuickInfoJS={productImgDimensions:"1000x1000",quickInfoImgDimensions:"330x330",catEntryParams:{},selectedAttributes:new Object,catEntryQuantity:1,ltlorRXflag:!1,itemDetailsArr:new Object,params:null,isRepeatDeliveryProduct:!1,replaceOrderItemId:"",itemId:"",selectedSkuIndex:null,selectedThumbnailIndex:null,setReplaceOrderItemId:function(e){this.replaceOrderItemId=e},setValues:function(){dojo.byId("catEntryParamsForJS")&&(this.catEntryParams=dojo.fromJson(dojo.byId("catEntryParamsForJS").value));this.catEntryParams.attributes=this.selectedAttributes},setCatEntryQuantity:function(e){this.catEntryQuantity=e},showDetails:function(e,t,i,a){t?this.params=t:this.params=null;this.selectedAttributes=new Object;this.selectedSkuIndex=null;this.selectedThumbnailIndex=null;this.close();var o=this.setCommonParams();if(i){this.itemId=i;o.updateAttributes="true"}else{this.itemId="";o.updateAttributes="false"}a&&(this.catEntryQuantity=a);o.productId=e;wc.render.updateContext("QuickInfoContext",o);document.getElementById("productIdQuickInfo")&&(document.getElementById("productIdQuickInfo").innerHTML=e)},changeAttributes:function(e,t,i,a){this.setReplaceOrderItemId(e);this.showDetails(t,null,i,a)},changeImage:function(e,t){this.selectedThumbnailIndex=e-1;dojo.byId("quickInfoMainImage").src=this.getQuickInfoImage(this.catEntryParams.skus[this.selectedSkuIndex].fullImageAttachments[this.selectedThumbnailIndex].path);dojo.query(".widget_quick_info_popup .other_views li").removeClass("selected");dojo.addClass("quickInfoThumbnail"+e,"selected")},setSelectedAttribute:function(e,t){this.selectedAttributes[e]=t;if(""==t||null==t||void 0==t){document.getElementById("WC_QuickInfo_Link_addtocart").style.cursor="default";document.getElementById("WC_QuickInfo_Link_addtocart").style.pointerEvents="none";document.getElementById("WC_QuickInfo_Link_addtocart").style.opacity="0.65"}},notifyAttributeChange:function(e,t){this.setValues();dojo.query('script[id^="inventoryScript_"]').forEach(function(e,t,i){dojo.eval(e.innerHTML)});dojo.publish("DefiningAttributes_Resolved_"+e,t,e);dojo.publish("QuickInfo_attributesChanged",[dojo.toJson(this.selectedAttributes)]);null!=document.getElementById("notifyCatentry")&&(document.getElementById("notifyCatentry").value=t)},selectItem:function(e,t,i,a,o){this.displayPriceRange=t;this.setValues();var n=this.resolveSKU();if(n==-1&&o){var r=-1;for(idx=0;idx<this.catEntryParams.skus.length;idx++)for(attribute in this.catEntryParams.skus[idx].attributes)if(this.catEntryParams.attributes&&this.catEntryParams.skus[idx].attributes[attribute]==this.catEntryParams.attributes[attribute]){r=this.catEntryParams.skus[idx].id;break}if(r!=-1){n=r;this.updateItemImageOnly=o}}var s="",d=null,l=0;for(x in this.catEntryParams.skus){var c=this.catEntryParams.skus[x].attributes;for(y in c){var u=y;u=u.replace(/ /g,"_");var p=c[y];b=this.catEntryParams.skus[x].id;if(i==u&&a==p){s=s+x+",";if(n==b)d=n;else if(n==-1&&0==l){d=b;l++}}}}var m,h=s.split(","),v=h,f="",g="",I="";for(index in v){I=v[index];if(""!=I&&void 0!=this.catEntryParams.skus[I]){var c=this.catEntryParams.skus[I].attributes;for(y in c){f=y;f=f.replace(/ /g,"_");if(f!=i){g=c[y];f=y;f=f.replace(/ /g,"_");m="#quickInfoAttrValue_"+f;$(m+" option[value='"+g+"']").remove();$(m).append("<option  selected='selected' value='"+g+"'>"+g+"</option>");attrNameSelected=f.replace(/_/g," ");this.selectedAttributes[attrNameSelected]=g}}}}n!=-1&&null!=n||(n=d);if(n!=-1||null!=n){this.notifyAttributeChange(e,n);if(null!=this.itemDetailsArr[n]&&"undefined"!=this.itemDetailsArr[n])this.displayItemDetails(this.itemDetailsArr[n]);else{var _=this.setCommonParams();_.catalogEntryId=n;dojo.xhrPost({url:getAbsoluteURL()+"GetCatalogEntryDetailsByIDView",handleAs:"json-comment-filtered",content:_,service:this,load:QuickInfoJS.setItemDetails,error:function(e,t){console.debug("QuickInfoJS.selectItem: Unexpected error occurred during an xhrPost request.")}})}for(idx=0;idx<this.catEntryParams.skus.length;idx++){var b=this.catEntryParams.skus[idx].id,S="",P="";if(b==n){var E=!1,D=this.catEntryParams.skus[idx].InStoreOnly;"true"==D&&(E=!0);if(E){var C=dojo.byId("priceDiv");if(null!=C){var A=dojo.query(".col-7",C);dojo.forEach(A,function(e){null!=dojo.getAttr(e,"id")&&"InStoreMessage"==dojo.getAttr(e,"id")?dojo.style(e,"display",""):dojo.style(e,"display","none")})}null!=dojo.byId("add-to-controls")&&dojo.style("add-to-controls","display","none");null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","none");null!=dojo.byId("qv_atc")&&dojo.style("qv_atc","display","none")}else{var C=dojo.byId("priceDiv");if(null!=C){var A=dojo.query(".col-7",C);dojo.forEach(A,function(e){null!=dojo.getAttr(e,"id")&&"InStoreMessage"==dojo.getAttr(e,"id")?dojo.style(e,"display","none"):dojo.style(e,"display","")})}null!=dojo.byId("add-to-controls")&&dojo.style("add-to-controls","display","block");null!=dojo.byId("notifyMe")&&dojo.style("notifyMe","display","block");null!=dojo.byId("qv_atc")&&dojo.style("qv_atc","display","block")}S=this.catEntryParams.skus[idx].RepeatDeliveryPrice;P=this.catEntryParams.skus[idx].RepeatDeliveryFlag;console.debug("rdFlag in QuickInfo.selectItem == "+P);if(void 0!=P)if(null!=P&&void 0!=P&&"0"==P){var M=dojo.byId("product-price-rd"),j=0;if(null!=document.getElementById("rdPriceDiv")&&void 0!=document.getElementById("rdPriceDiv")){M.setAttribute("class","product-price");if(null!=S&&void 0!=S&&"Price pending"!=S){var B=S.replace("$","");B=parseFloat(B.trim());try{var w=QuickInfoJS.itemDetailsArr[b].listPrice}catch(e){w=""}w=w.replace("$","");w=parseFloat(w.trim());if(void 0!=w&&null!=w&&""!=w){j=100*(w-B)/w;j=Math.round(j)}if(void 0==j||null==j||""==j||isNaN(j))document.getElementById("rdPriceDiv").innerHTML="<span class='product-price-rddetail'>"+S+"</span>";else;}else document.getElementById("rdPriceDiv").innerHTML="<span class='form-required'>Price pending</span>";
}}else{var M=dojo.byId("product-price-rd");null!=document.getElementById("rdPriceDiv")&&void 0!=document.getElementById("rdPriceDiv")&&M.setAttribute("class","product-price hide")}}}}},selectSwatch:function(e,t,i,a){if(dojo.hasClass("quickInfoSwatch_"+e+"_"+t,"color_swatch_disabled"))return!1;this.setValues();for(var o=dojo.byId("WC_QuickInfo_SwatchNames").value.split("_"),n=-1,r=0;r<o.length;r++)if(o[r]==e){n=r;break}var s="quickInfoSwatch_"+e+"_"+t,d="WC_QuickInfo_Swatch_"+e+"_"+t,l=new Array;for(idx in this.catEntryParams.skus){var c=!1,u=this.catEntryParams.skus[idx];for(attribute in u.attributes)if(e==attribute&&t==u.attributes[attribute]&&u.buyable){c=!0;break}if(c)for(attribute in u.attributes){for(var p=-1,r=0;r<o.length;r++)if(o[r]==attribute){p=r;break}p>n&&l.push(attribute+"_"+u.attributes[attribute])}}var m=new Array,h=new Array;for(idx in this.catEntryParams.skus){var u=this.catEntryParams.skus[idx];for(attribute in u.attributes){for(var p=-1,r=0;r<o.length;r++)if(o[r]==attribute){p=r;break}if(p>n){for(var y=attribute+"_"+u.attributes[attribute],i="quickInfoSwatch_"+y,v="WC_QuickInfo_Swatch_"+y,f=-1,r=0;r<l.length;r++)if(l[r]==y){f=r;break}for(var g=-1,r=0;r<m.length;r++)if(m[r]==y){g=r;break}if(f>-1){if(!dojo.hasClass(i,"color_swatch_selected")){dojo.byId(i).className="color_swatch";dojo.byId(i).src=dojo.byId(i).src.replace("_disabled.png","_enabled.png");document.getElementById(v).setAttribute("aria-disabled","false")}}else if(g==-1){m.push(y);dojo.hasClass(i,"color_swatch_selected")&&h.push(i);dojo.byId(i).className="color_swatch_disabled";dojo.byId(i).src=dojo.byId(i).src.replace("_enabled.png","_disabled.png");document.getElementById(v).setAttribute("aria-disabled","true")}}null!=document.getElementById("WC_QuickInfo_Swatch_"+attribute+"_"+u.attributes[attribute])&&document.getElementById("WC_QuickInfo_Swatch_"+attribute+"_"+u.attributes[attribute]).setAttribute("aria-checked","false")}}for(idx in h){var I=h[idx],_="img[id^='"+I.substring(0,I.lastIndexOf("_"))+"']",b=!1;dojo.query(_).forEach(function(e,t,i){if(!b&&dojo.hasClass(e,"color_swatch")){var a=e.id.split("_");QuickInfoJS.selectSwatch(a[1],a[2],"quickInfoSwatch_"+a[1]+"_"+a[2],"quickInfoSwatch_"+a[1]+"_");QuickInfoJS.selectItem(!0);b=!0}})}selector="img[id^='"+a+"']";dojo.query(selector).forEach(function(e,t,i){if(!dojo.hasClass(e,"color_swatch_disabled")){dojo.addClass(e,"color_swatch");dojo.hasClass(e,"color_swatch_selected")&&dojo.removeClass(e,"color_swatch_selected")}});dojo.byId(s).className="color_swatch_selected";dojo.byId("quickinfo_swatch_selection_"+e).innerHTML=t;document.getElementById(d).setAttribute("aria-checked","true");this.setSelectedAttribute(e,t)},setCommonParams:function(){var e=new Object;e.storeId=WCParamJS.storeId;e.catalogId=WCParamJS.catalogId;e.langId=WCParamJS.langId;return e},setItemDetails:function(e,t){QuickInfoJS.itemDetailsArr[e.catalogEntry.catalogEntryIdentifier.uniqueID]=e.catalogEntry;QuickInfoJS.displayItemDetails(e.catalogEntry)},displayItemDetails:function(e){if(null!=this.catEntryParams)for(idx in this.catEntryParams.skus)if(null!=this.catEntryParams.skus[idx]&&this.catEntryParams.skus[idx].id==e.catalogEntryIdentifier.uniqueID){var t=dojo.query("div[id^='quickinfoAngleImagesArea']");if(null!=t)var i=t[0];if(null!=this.catEntryParams.skus[idx].thumbnailAttachments&&this.catEntryParams.skus[idx].thumbnailAttachments.length>0){var a=dojo.query("ul[id^='quickInfoAngleImagesAreaList']");if(null!=a){var o=a[0];null!=i&&(i.style.display="block");for(idx2=1;idx2<=this.catEntryParams.skus[idx].thumbnailAttachments.length;idx2++){var n=document.createElement("li"),r=document.createElement("a"),s=document.createElement("img");n.id="quickInfoThumbnail"+idx2;r.href="javaScript:QuickInfoJS.changeImage("+idx2+",'"+this.catEntryParams.skus[idx].fullImageAttachments[idx2-1].path+"');";r.id="WC_QuickInfo_Link_thumbnail_"+idx2;r.className="tlignore";"undefined"!=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc&&null!=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc&&(r.title=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc);s.src=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].path;"undefined"!=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc&&null!=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc&&(s.alt=this.catEntryParams.skus[idx].thumbnailAttachments[idx2-1].shortDesc);1==idx2&&dojo.empty(o);r.appendChild(s);n.appendChild(r);o.appendChild(n)}}}else null!=i&&(i.style.display="none");null==this.selectedThumbnailIndex&&(this.selectedThumbnailIndex=0);this.selectedSkuIndex=idx;var d=e.description[0].fullImage+"?$ProductList-QuickBuy$";isCloudniaryEnabled()&&(d=e.description[0].fullImage.replace("f_auto,q_auto","f_auto,q_auto,t_ProductList-QuickBuy"));var l=this.getQuickInfoImage(d);null!=l&&0!=l.length&&(dojo.byId("quickInfoMainImage").src=l);null!=document.getElementById("ProductInfoImage_"+this.catEntryParams.id)&&(document.getElementById("ProductInfoImage_"+this.catEntryParams.id).value=l)}if(this.updateItemImageOnly)this.updateItemImageOnly=!1;else{var c=e.description[0].name;if(null!=c){dojo.byId("quickInfoMainName").innerHTML=c;dojo.byId("quickInfoMainImage").alt=c}null!=document.getElementById("ProductInfoName_"+this.catEntryParams.id)&&(document.getElementById("ProductInfoName_"+this.catEntryParams.id).value=e.description[0].name);if(e.listPriced&&e.listPrice>e.offerPrice){var u=0,p=e.listPrice;if(null!=p&&""!=p&&void 0!=p){p=p.substring(1,p.length);var m=e.offerPrice;m=m.replace("$","");var h=parseFloat(p.trim()),y=parseFloat(m.trim());y<h&&(u=100*(h-y)/h);u=Math.round(u)}if(null!=dojo.query(".product-price-crossout")[0])dojo.html.set(dojo.query(".product-price-crossout")[0],e.listPrice);else{var v="<span class='product-price-crossout'>"+e.listPrice+"</span> ",f=dojo.query(".product-price-promo")[0];dojo.place(v,f,"before")}if(!isNaN(u)&&u>0){var g="save "+u+"%",I=dojo.query(".product-price-save")[0];if(I)dojo.html.set(dojo.query(".product-price-save")[0],g);else{var _="<span class='product-price-save'>"+g+"</span>";dojo.place(_,f,"after")}}var b,S=this.catEntryParams.skus.find(function(t){return t.id===e.catalogEntryIdentifier.uniqueID}),P=S.RepeatDeliveryPrice,E=P.replace("$",""),D=parseFloat(E.trim());D<h&&(b=100*(h-D)/h);b=Math.round(b);if(!isNaN(b)&&b>0){var C=b+"%";document.getElementById("rdPriceDiv").innerHTML="<span class='product-price-rddetail'>"+P+"</span><span class='product-price-banner'><img src='/wcsstore/PetcoSAS/images/arrow-white.png' alt='&nbsp;'/> save "+C+"</span>"}else document.getElementById("rdPriceDiv").innerHTML="<span class='product-price-rddetail'>"+P+"</span>"}else if(null!=dojo.query(".product-price-crossout")[0]){dojo.query(".product-price-crossout").orphan();dojo.query(".product-price-save").orphan();dojo.query(".product-price-banner").orphan()}dojo.html.set(dojo.query(".product-price-promo")[0],e.offerPrice);dojo.html.set(dojo.query(".product-sku")[0],storeNLS.SKU+" "+e.catalogEntryIdentifier.externalIdentifier.partNumber);document.getElementById("rd_sku").value=e.catalogEntryIdentifier.externalIdentifier.partNumber;if(null!=document.getElementById("ProductInfoPrice_"+this.catEntryParams.id)){document.getElementById("ProductInfoPrice_"+this.catEntryParams.id).value=e.offerPrice;var $=this.catEntryParams.id;if(""==dojo.byId("ProductInfoPrice_"+$).value&&null!=dojo.byId("offerPrice_"+$)){dojo.byId("offerPrice_"+$).innerHTML="Price pending";dojo.query(".product-price-crossout").orphan();dojo.query(".product-price-save").orphan()}}var x=document.getElementById("quickInfoPriceEnabled_"+this.catEntryParams.id);"undefined"!=x&&null!=x&&"true"==x.value&&null!=document.getElementById("product-price_"+this.catEntryParams.id)&&void 0!=document.getElementById("product-price_"+this.catEntryParams.id)&&(document.getElementById("product-price_"+this.catEntryParams.id).innerHTML="See price in cart")}},validate:function(){if("ProductBean"==this.catEntryParams.type&&(null==this.catEntryParams.attributes||"undefined"==this.catEntryParams.attributes)){MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);return!1}if(!isPositiveInteger(this.catEntryQuantity)){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return!1}return!0},add2ShopCart:function(e,t,a){var o=this.resolveSKU();this.setValues();if(this.validate()){if(null==this.params){this.params=this.setCommonParams();this.params.orderId=".";this.params.calculationUsage="-1,-2,-5,-6,-7";this.params.inventoryValidation="true"}if(isPositiveInteger(t)){if(petcoPersonalizationJS.isPersonalizedItem()){var n=petcoPersonalizationJS.findInvalidCharSetForUserInput(t,a);if(""!=n)return!1;if(!petcoPersonalizationJS.validatePersonalizedRequiredField(t,a))return!1;if(!petcoPersonalizationJS.validatePersonalizedTextInputType(t,a))return!1;this.params=petcoPersonalizationJS.addPersonalizationAttr(o,t,this.params)}var r="";if(petcoPersonalizationJS.isPersonalizedItem())r=o;else if("itembean"==this.catEntryParams.type.toLowerCase()||"packagebean"==this.catEntryParams.type.toLowerCase()||"dynamickitbean"==this.catEntryParams.type.toLowerCase()){updateParamObject(this.params,"catEntryId",this.catEntryParams.id,!1,-1);updateParamObject(this.params,"quantity",this.catEntryQuantity,!1,-1);r=this.catEntryParams.id}else{var s=this.resolveSKU();if(-1==s){MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);return}updateParamObject(this.params,"catEntryId",s,!1,-1);updateParamObject(this.params,"quantity",this.catEntryQuantity,!1,-1);r=s}var d=document.getElementById("repeat-delivery-radio");document.getElementById("one-time-delivery-radio");null!=d&&void 0!=d&&d.checked?this.isRepeatDeliveryProduct=!0:this.isRepeatDeliveryProduct=!1;this.isRepeatDeliveryProduct&&(this.params.rdFrequency=document.getElementById("repeat-delivery-freq-options").value);var l="AddOrderItem";if(null!=a&&"undefined"!=a){for(i in a)this.params[i]=a[i];if("dynamicKit"==a.catalogEntryType)l="AddPreConfigurationToCart";else if("repeatDeliveryAddOn"==a.catalogEntryType){l="RepeatDeliveryOrderAdd";this.params.orderId="**"}}"dynamicKit"==this.params.catalogEntryType&&(l="AddPreConfigurationToCart");shoppingActionsJS.saveAddedProductInfo(this.catEntryQuantity,this.catEntryParams.id,r,this.selectedAttributes);this.close();if(submitRequest()){cursor_wait();if(this.isRepeatDeliveryProduct){var c=document.getElementById("repeat-delivery-freq-options").value,u=document.getElementById("rd_sku").value;if(null!=c&&"undefined"!=c&&null!=u&&"undefined"!=u){var p={conversion_event_id:"New Repeat Delivery",conversion_category_id:"Repeat Delivery",conversion_action_type:"1",rd_sku:u,rd_schedule:c};pushEvent(p)}}var m=$("#catalog_EntryID").val();$("#prd_id_"+m).val();wc.service.invoke(l,this.params)}}else MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR)}},add2RecurringOrder:function(e){var t=null,i=null;t=dojo.query("input[type=hidden][name=subscriptionId]");0==t.length&&(t=dojo.query("input[type=radio][name=subscriptionId]:checked"));i=t[0].value;console.log("subscriptionId == "+i);var a=document.getElementById("rd_sku").value;(null==e||null!=e&&""==e)&&(e={});e.catalogEntryType="repeatDeliveryAddOn";e.subscriptionId=i;e.isAddOn="Y";null!=a&&"undefined"!=a&&(e.rdSkuPartNumber=a);var o="entitledItem_"+this.resolveSKU();this.add2ShopCart(o,this.catEntryQuantity,e)},resolveSKU:function(){var e=getCookie("pcustData");if(void 0!=e&&null!=e&&""!=e){var t=e.split("|");null!=document.getElementById("NotifyName")&&(document.getElementById("NotifyName").value=t[0]+" "+t[1]);null!=document.getElementById("NotifyEmail")&&(document.getElementById("NotifyEmail").value=t[2])}if(1==this.catEntryParams.skus.length)return this.catEntryParams.skus[0].id;for(idx=0;idx<this.catEntryParams.skus.length;idx++){var i=0,a=0;for(attribute in this.catEntryParams.skus[idx].attributes){a++;if(!this.catEntryParams.attributes||this.catEntryParams.skus[idx].attributes[attribute]!=this.catEntryParams.attributes[attribute])break;i++}if(0!=i&&i==a)return this.catEntryParams.skus[idx].id}return-1},showQuickInfoButton:function(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="visible")},hideQuickInfoButton:function(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="")},shiftTabHideQuickInfoButton:function(e,t){t.shiftKey&&t.keyCode==dojo.keys.TAB&&this.hideQuickInfoButton(e)},close:function(e){$("#quickbuy").modal("hide");null!=e&&"undefined"!=e&&document.getElementById(e)&&document.getElementById(e).focus()},setFocus:function(e){if(e.keyCode==dojo.keys.ESCAPE&&dojo.byId("catEntryParamsForJS")){var t=dojo.byId("catEntryParamsForJS").value,i=dojo.fromJson(t).id;document.getElementById("catalogEntry_img"+i)&&document.getElementById("catalogEntry_img"+i).focus()}},selectDefaultSwatch:function(){var swatchElement=dojo.query("a[id^='WC_QuickInfo_Swatch_']")[0];swatchElement&&eval(dojo.attr(swatchElement,"href"))},replaceCartItem:function(){this.setValues();if(this.validate()){var e=this.resolveSKU();if(-1!=e){this.close();var t="",i="",a="",o=dojo.byId("shipmentTypeId");if(null!=dojo.byId("addressId_all")&&null!=dojo.byId("shipModeId_all")){null==o||"1"!=o.value?t=dojo.byId("addressId_all").value:null!=dojo.byId("physicalStoreId")&&(a=dojo.byId("physicalStoreId").value);i=dojo.byId("shipModeId_all").value}else if(null!=dojo.byId("MS_ShipmentAddress_"+this.replaceOrderItemId)&&null!=dojo.byId("MS_ShippingMode_"+this.replaceOrderItemId)){t=dojo.byId("MS_ShipmentAddress_"+this.replaceOrderItemId).value;i=dojo.byId("MS_ShippingMode_"+this.replaceOrderItemId).value}""!=this.replaceOrderItemId&&categoryDisplayJS?shoppingActionsJS.replaceItemAjaxHelper(e,this.catEntryQuantity,this.replaceOrderItemId,t,i,a):console.error("categoryDisplayJS not defined")}else MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU)}},selectCurrentAttributes:function(){for(idx=0;idx<this.catEntryParams.skus.length;idx++){var e=this.catEntryParams.skus[idx];if(e.id==this.itemId){for(attribute in e.attributes){var t=dojo.query("select[alt='"+attribute+"']")[0];if(t){t.value=e.attributes[attribute];this.setSelectedAttribute(attribute,t.value)}else{var i=e.attributes[attribute];this.selectSwatch(attribute,i,"quickInfoSwatch_"+attribute+"_"+i,"quickInfoSwatch_"+attribute+"_")}}this.notifyAttributeChange();this.selectItem(!0);dojo.byId("WC_QuickInfo_input_quantity").disabled=!0;dojo.byId("WC_QuickInfo_input_quantity").value=this.catEntryQuantity;return}}},getQuickInfoImage:function(e){return""==e?e:e.replace(this.productImgDimensions,this.quickInfoImgDimensions)},showRDFrequencyOptions:function(e){"repeat-delivery"==e?dojo.query("#repeat-delivery-dropdown").removeClass("hide"):dojo.query("#repeat-delivery-dropdown").addClass("hide")},selectRepeatDelivery:function(e,t,i){var a=dojo.cookie("WC_UserType");this.catEntryQuantity=t;this.ltlorRXflag=i;this.catalogEntryId=document.getElementById("catalog_EntryID").value;if(petcoPersonalizationJS.isPersonalizedItem()){var o=petcoPersonalizationJS.findInvalidCharSetForUserInput(t,i);if(""!=o)return!1;if(!petcoPersonalizationJS.validatePersonalizedRequiredField(t,i))return!1;if(!petcoPersonalizationJS.validatePersonalizedTextInputType(t,i))return!1}if("R"!=a){var n=window.location.href,r="";if(null!=e&&"undefined"!=e){r=e;r=r+"&URL="+n;var s=document.getElementById("catalog_EntryID").value;dojo.cookie("oneTimeAddOnRDQuickView","true",{path:"/"});dojo.cookie("oneTimeAddOnRDQuickViewCatentryId",s,{path:"/"});document.location.href=r}}else{$("#quickbuy").modal("hide");PetcoRepeatDeliveryAddOnJS.updateContextForRDAddOn()}},add2ShopCartforNoAddOnRd:function(){var e="entitledItem_"+this.catalogEntryId;this.add2ShopCart(e,this.catEntryQuantity,this.ltlorRXflag)},preSelectRadioButtonOnQuickInfo:function(){var e=dojo.cookie("oneTimeAddOnRDQuickView");if(null!=e&&""!=e&&"true"==e){var t=dojo.cookie("WC_UserType");if("R"==t){null!=document.getElementById("repeat-delivery-add-on")&&"undefined"!=document.getElementById("repeat-delivery-add-on")&&document.getElementById("repeat-delivery-add-on").click();null!=document.getElementById("add2RDOrderBtn")&&"undefined"!=document.getElementById("add2RDOrderBtn")&&document.getElementById("add2RDOrderBtn").click();dojo.cookie("oneTimeAddOnRDQuickView",null,{expires:-1,path:"/"});dojo.cookie("oneTimeAddOnRDQuickViewCatentryId",null,{expires:-1,path:"/"})}else{document.getElementById("one-time-delivery").click();dojo.cookie("oneTimeAddOnRDQuickView",null,{expires:-1,path:"/"});dojo.cookie("oneTimeAddOnRDQuickViewCatentryId",null,{expires:-1,path:"/"})}}else null!=document.getElementById("one-time-delivery")&&"undefined"!=document.getElementById("one-time-delivery")&&document.getElementById("one-time-delivery").click()},refreshActionButton:function(e){if("repeat-delivery-add-on"==e){dojo.query("#WC_QuickInfo_Link_addtocart").addClass("hide");dojo.query("#add2RDOrderBtn").removeClass("hide");var t=document.getElementById("rd_sku").value;if(null!=t&&"undefined"!=t){var i={conversion_event_id:"New Product Existing RD Order",conversion_category_id:"Repeat Delivery",conversion_action_type:"1",rd_sku:t};pushEvent(i)}}else{dojo.query("#WC_QuickInfo_Link_addtocart").removeClass("hide");dojo.query("#add2RDOrderBtn").addClass("hide")}}});var localStorageHelper={lsSupported:!1,supportChecked:!1,defaultExpirationHours:1,checkSupport:function(e){this.supportChecked=!0;try{var t=window[e],i="__storage_test__";t.setItem(i,i);if(null==t.getItem(i)||null!=t.getItem(i)&&t.getItem(i)!=i)this.lsSupported=!1;else{t.removeItem(i);this.lsSupported=!0}}catch(e){this.lsSupported=!1}},get:function(e,t){if(t)return this.readCookie(e);this.supportChecked||this.checkSupport("localStorage");var i;if(this.lsSupported){i=JSON.parse(localStorage.getItem(e));return null==i||"undefined"==typeof i?null:(new Date).getTime()>i.timestamp?null:i.value}i=this.readCookie(e);return i},set:function(e,t,i,a){a&&this.createCookie(e,t,i);this.supportChecked||this.checkSupport("localStorage");if(null===t)this.lsSupported?localStorage.removeItem(e):this.createCookie(e,"",-1);else{"undefined"!=typeof i&&null!==i||(i=this.defaultExpirationHours);if(this.lsSupported){var o=60*i*60*1e3,n={value:t,timestamp:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(n))}else this.createCookie(e,t,i)}},remove:function(e){this.supportChecked||this.checkSupport("localStorage");this.lsSupported?localStorage.removeItem(e):this.createCookie(e,"",-1)},clearAll:function(){this.supportChecked||this.checkSupport("localStorage");this.lsSupported&&localStorage.clear()},createCookie:function(e,t,i){var a=new Date;"undefined"==typeof i&&(i=this.defaultExpirationHours);a.setTime(a.getTime()+60*i*60*1e3);document.cookie=e+"="+t+"; path=/"},readCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),a=0,o=i.length;a<o;a++){for(var n=i[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}};wc.service.declare({id:"AjaxPetcoPalsRewardsPointsSubscription",actionId:"AjaxPetcoPalsRewardsPointsSubscription",url:getAbsoluteURL()+"AjaxPetcoPalsRewardsPointsSubscription",formId:"",successHandler:function(e){var t=e.palsRewardsPoints,i=e.subscriptionDate,a=e.palsPointCookie,o=e.nextRepeatedDeliveryDateCookie,n=e.updateCookies,r=e.isPendingOrder,s=!1;require(["dojo/has","dojo/sniff"],function(e){var t=e("ios");s=!("undefined"==typeof t||null==t||!t)});if(n&&"undefined"!=typeof localStorageHelper){localStorageHelper.set(a,t,1,s);if(null!=i){i+=" PDT";var d=new Date(i.replace(","," "));localStorageHelper.set(o,d.toISOString().substring(0,10),1,s)}else r?localStorageHelper.set(o,"paused",1,s):localStorageHelper.set(o,"none",1,s)}petcoPalsRewardsRepeatDelivery.renderPalsRewardTile();petcoPalsRewardsRepeatDelivery.renderRepeatDeliveryTile();if(void 0!=document.getElementById("rd-next-date")){var l,o="NEXT_REPEAT_DELIVERY_DATE";"undefined"!=typeof localStorageHelper&&(l=localStorageHelper.get(o,s));if(null!=l&&l&&""!=l&&"none"!=l&&"paused"!=l){var c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=localStorageHelper.get(o,s),p=u.replace(/-/g,"/")+" 00:00:00",m=new Date(p),h=!1;null!=dojo.byId("notifybutton")&&(h=dojo.hasClass(dojo.byId("notifybutton"),"show"));$("#rd-add-on").length>0&&(h?document.getElementById("rd-add-on").className="radio rd-option hide":document.getElementById("rd-add-on").className="radio rd-option show");var y=c[m.getMonth()]+" "+m.getDate()+", "+m.getFullYear();null!=document.getElementById("rd-next-date")&&"undefined"!=typeof c[m.getMonth()]&&(document.getElementById("rd-next-date").innerHTML=y)}}"undefined"!=typeof productDisplayJS&&productDisplayJS.toggleAddonButton()},failureHandler:function(e){}});var petcoPalsRewardsRepeatDelivery=function(){"use strict";function e(e,t){var i=!1;require(["dojo/has","dojo/sniff"],function(e){var t=e("ios");i=!("undefined"==typeof t||null==t||!t)});var a=[],r=e||!1,s=localStorageHelper.get(o,i),d=localStorageHelper.get(n,i);t=t||"G";if("R"===t){a.langId=WCParamJS.langId;a.storeId=WCParamJS.storeId;a.catalogId=WCParamJS.catalogId;a.palsPointCookie=o;a.nextRepeatedDeliveryDateCookie=n;if(r||null==s||null==d){a.updateCookies=!0;wc.service.invoke("AjaxPetcoPalsRewardsPointsSubscription",a)}}else{petcoPalsRewardsRepeatDelivery.renderPalsRewardTile();petcoPalsRewardsRepeatDelivery.renderRepeatDeliveryTile()}}function t(e,t){var i=dojo.byId(e);if(!i)return"";var a=i.innerHTML;if(t){var o=new RegExp("\\{0\\}","gi");a=a.replace(o,t[0])}return a}function i(){var e=!1;require(["dojo/has","dojo/sniff"],function(t){var i=t("ios");e=!("undefined"==typeof i||null==i||!i)});require(["dojo/query","dojo/NodeList-traverse","dojo/domReady!"],function(i){i("#pals-rewards-tile2").forEach(function(a){if("G"===getUserTypeCookie()){var n=t(s);a.innerHTML=n}else{var d=null;"undefined"!=typeof localStorageHelper&&(d=localStorageHelper.get(o,e));if(null!==d){a.innerHTML=t(r,[0|d]);var l=document.getElementById("palsrewardsurl_id");null!=l&&(i("a",a)[0].href=l.value)}else a.innerHTML=t(s)}})})}function a(){var e=!1;require(["dojo/has","dojo/sniff"],function(t){var i=t("ios");e=!("undefined"==typeof i||null==i||!i)});require(["dojo/query","dojo/NodeList-traverse","dojo/domReady!"],function(i){i("#repeat-delivery-tile2").forEach(function(a){if("G"===getUserTypeCookie())a.innerHTML=t(d);else{var o="none";"undefined"!=typeof localStorageHelper&&(o=localStorageHelper.get(n,e));if(o&&"none"!==o)if("paused"===o)a.innerHTML=t(u);else if(""!=o){var r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0),p=o.replace(/-/g,"/")+" 00:00:00",m=new Date(p),h=m.getTime()-s.getTime();h=Math.ceil(h/864e5);h<1?a.innerHTML=t(c):isNaN(h)?a.innerHTML=t(d):a.innerHTML=t(l,[h])}else a.innerHTML=t(d);else a.innerHTML=t(d);var y=document.getElementById("repeatDevliveryurl_id");null!=y&&(i("a",a)[0].href=y.value)}})})}var o="PALS_POINTS",n="NEXT_REPEAT_DELIVERY_DATE",r="PALS_POINTS_REGISTERED_TILE",s="PALS_POINTS_GUEST_TILE",d="REPEAT_DELIVERY_GUEST_TILE",l="REPEAT_DELIVERY_REGISTERED_TILE",c="REPEAT_DELIVERY_REGISTERED_TODAY_TILE",u="REPEAT_DELIVERY_PAUSED_TILE";return{init:e,renderPalsRewardTile:i,renderRepeatDeliveryTile:a,palsPointCookie:o,nextRepeatedDeliveryDateCookie:n}}();petcoPersonalizationJS={langId:"-1",storeId:"",catalogId:"",petInfoDropdownId:"",vetInfoDropdownId:"",setCommonParameters:function(e,t,i){petcoPersonalizationJS.langId=e;petcoPersonalizationJS.storeId=t;petcoPersonalizationJS.catalogId=i},isPersonalizedItem:function(){var e=!1,t=document.getElementById("personalization"),i=document.getElementById("personalizationAttrNames");if("undefined"!=t&&null!=t)if("true"==t.value)e=!0;else if(null!=i){var a=i.value;a+="_1";null!=document.getElementById(a)&&(e=!0)}return e},isRxMedicineItem:function(){var e=!1,t=document.getElementById("rxMedicine");"undefined"!=t&&null!=t&&"true"==t.value&&(e=!0);return e},findMaxUserInputQuantity:function(){var e=document.getElementById("maxUserInputQuantity").value;return e},findPersonalizedAttr:function(e){var t="";if(this.isPersonalizedItem())for(var i=(document.getElementById("previousQuantity").value,document.getElementById("maxUserInputQuantity").value),a=document.getElementById("personalizationAttrNames"),o=0;o<i;o++)for(var n=a.value.split(","),r=0;r<n.length;r++){var s=n[r]+"_"+(o+1),d=document.getElementById(s);if((void 0!=d||null!=d)&&""!=d.value){t=t+n[r]+"_"+[o+1]+"="+d.value;t+="$"}}return t},reAssignPersonalizedAttr:function(e){if(this.isPersonalizedItem())for(var t=e.split("$"),i=0;i<t.length-1;i++){var a=t[i],o=a.split("="),n="",r="";if(2==o.length){n=o[0];r=o[1]}if(null==document.getElementById(n)||"undefined"==document.getElementById(n)){var s=document.getElementById("hiddenUnmatcedAttribute");"undefined"==s||null==s||(s.innerHTML=s.innerHTML+"<input id="+n+" value="+r+" type='hidden' />")}else document.getElementById(n).value=r}},addPersonalizationAttr:function(e,t,i){var a=document.getElementById("personalization"),o=document.getElementById("personalizationAttrNames"),n=document.getElementById("PersonalizationCheckBox"),r=!1,s=o.value;s+="_1";null!=document.getElementById(s)&&(r=!0);if("undefined"!=a&&null!=a&&("true"==a.value||r))for(var d=0;d<t;d++){if("undefined"!=n&&null!=n&&1==n.checked){if(1==d)break;i["catEntryId_"+(d+1)]=e;i["quantity_"+(d+1)]=t;i["isPersonalized_"+(d+1)]=!0}else{i["catEntryId_"+(d+1)]=e;i["quantity_"+(d+1)]=1;i["isPersonalized_"+(d+1)]=!0}for(var l=o.value.split(","),c=0;c<l.length;c++){var u=l[c]+"_"+(d+1),p=document.getElementById(u);if(void 0!=p||null!=p){i["pAttrId"+(c+1)+"_"+(d+1)]=l[c];i["pAttrValue"+(c+1)+"_"+(d+1)]=p.value}}}return i},addRxMedicinePersonalizationAttr:function(e,t,i){var a=document.getElementById("personalization"),o=document.getElementById("rxMedicine");if("undefined"!=document.getElementById("rxFood")&&null!=document.getElementById("rxFood"))var o=document.getElementById("rxFood");document.getElementById("PersonalizationCheckBox");if("undefined"!=a&&null!=a&&"true"==a.value&&"undefined"!=o&&null!=o&&"true"==o.value){var n=$("#fieldGroup").html(),r=JSON.parse(n),s=$('[id^="PersonalizationCheckBox_"]:checked'),d=0;s.length>0&&(d=s[0].id.replace("PersonalizationCheckBox_",""));for(var l=!1,c=0;c<t;c++){var u=c;if(0!=d){u=1*d-1;l=!0}if(l){if(1==c)break;i["catEntryId_"+(1*c+1)]=e;i["quantity_"+(1*c+1)]=t;i["isRxPersonalized_"+(1*c+1)]=!0;i["isPersonalized_"+(c+1)]=!0;i["isTemplatePersonalizedOrder_"+(c+1)]=!0}else{i["catEntryId_"+(1*c+1)]=e;i["quantity_"+(1*c+1)]=1;i["isRxPersonalized_"+(1*c+1)]=!0;i["isPersonalized_"+(c+1)]=!0;i["isTemplatePersonalizedOrder_"+(c+1)]=!0}for(var p in r){var m=$('[id^="'+r[p].Field+"_"+(1*u+1)+'"]'),h=r[p].Label,y=r[p].Field,v=r[p].uniqueNumber,f=r[p].Order,g=r[p].IsRequired,I=r[p].IsRequiredInCart;if(m.length>0){var _=!1,b=!1,S=!1,P=!1,E=!1,D=!1;m[0].className.indexOf("NUMERIC")>-1?_=!0:m[0].className.indexOf("TELEPHONE")>-1?b=!0:m[0].className.indexOf("MULTICHECKBOX")>-1?P=!0:m[0].className.indexOf("CHECKBOX")>-1?S=!0:m[0].className.indexOf("DATE")>-1?E=!0:m[0].className.indexOf("RADIO")>-1&&(D=!0);if(P||S||E||D){if(D){var C=$('input[type="radio"][name="'+r[p].Field+"_"+(1*u+1)+'"]:checked');if(0!=C.length){i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=$(C).val();i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}}else if(S){var x=$('input[type="checkbox"][id="'+r[p].Field+"_"+(1*u+1)+'"]:checked');if(0==x.length){i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]="No";i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}else if(x.length>0&&"Yes"==$(x).val()&&$('[id^="'+r[p].Field+"_"+(1*u+1)+'_optionContainer_"]').length>0){var A="";$.each($('[id^="'+r[p].Field+"_"+(1*u+1)+'_optionContainer_"]'),function(e,t){0==e?""!=t.value.trim()&&(A=t.value.trim()):""!=t.value.trim()&&(A=A+","+t.value.trim())});var M=$("#"+r[p].Field+"_"+(1*u+1)+"_Others").val();""!=M.trim()&&(A=""==A?M:A+","+M);i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;""!=A?i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=A:i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]="No";i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}}else if(P){var x=$('input[type="checkbox"][id="'+r[p].Field+"_"+(1*u+1)+'"]:checked');if(0==x.length){i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]="No";i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}else if(x.length>0&&"Yes"==$(x).val()&&$('[id^="'+r[p].Field+"_"+(1*u+1)+'-_options_-"]:checked').length>0){var A="";$.each($('[id^="'+r[p].Field+"_"+(1*u+1)+'-_options_-"]:checked'),function(e,t){A=0==e?t.value.trim():A+","+t.value.trim()});var M=$("#"+r[p].Field+"_"+(1*u+1)+"_Others").val();A=""==A?M:A+","+M;i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=A;i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}else if(0==$('[id^="'+r[p].Field+"_"+(1*u+1)+'-_options_-"]:checked').length){var M=$("#"+r[p].Field+"_"+(1*u+1)+"_Others").val();i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;""!=M.trim()?i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=M:i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]="No";i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}}else if(E){var j="";if($("#"+r[p].Field+"_"+(1*u+1)+"_MON").length>0&&""!=$("#"+r[p].Field+"_"+(1*u+1)+"_MON").val()&&$("#"+r[p].Field+"_"+(1*u+1)+"_Date").length>0&&""!=$("#"+r[p].Field+"_"+(1*u+1)+"_Date").val()&&$("#"+r[p].Field+"_"+(1*u+1)+"_Year").length>0&&""!=$("#"+r[p].Field+"_"+(1*u+1)+"_Year").val()){var B=$("#"+r[p].Field+"_"+(1*u+1)+"_Date").val(),w=$("#"+r[p].Field+"_"+(1*u+1)+"_MON").val(),O=$("#"+r[p].Field+"_"+(1*u+1)+"_Year").val(),R=new Date;R.setFullYear(O,w-1,B);if(R.getDate()==B&&R.getMonth()==w-1){j=w+"-"+B+"-"+O;i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=j;i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}}}}else{i["pAttrName"+(1*p+1)+"_"+(1*c+1)]=h;i["pAttrId"+(1*p+1)+"_"+(1*c+1)]=v;i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]=m[0].value.trim();i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]=f;i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]=g;i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]=y;i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)]=I}var N=i["pAttrName"+(1*p+1)+"_"+(1*c+1)]+"||^||";N=N+i["pAttrId"+(1*p+1)+"_"+(1*c+1)]+"||^||";N=N+i["pAttrValue"+(1*p+1)+"_"+(1*c+1)]+"||^||";N=N+i["pAttrOrder"+(1*p+1)+"_"+(1*c+1)]+"||^||";N=N+i["pAttrReq"+(1*p+1)+"_"+(1*c+1)]+"||^||";N=N+i["pAttrFieldId"+(1*p+1)+"_"+(1*c+1)]+"||^||";N+=i["pAttrReqInCart"+(1*p+1)+"_"+(1*c+1)];"undefined"!=typeof i["rxDetailsUniqueKey_"+(1*c+1)]?i["rxDetailsUniqueKey_"+(1*c+1)]=i["rxDetailsUniqueKey_"+(1*c+1)]+"||$||"+N:i["rxDetailsUniqueKey_"+(1*c+1)]=N}}}var k=!1,L={};for(var T in i)if(T.indexOf("rxDetailsUniqueKey_")>-1){if("undefined"!=typeof L[i[T]]){L[i[T]]=L[i[T]]+1;k=!0}else L[i[T]]=1;delete i[T]}if(k){var J=0,F={};for(var V in L){F["catEntryId_"+(1*J+1)]=e;F["quantity_"+(1*J+1)]=L[V];F["isRxPersonalized_"+(1*J+1)]=!0;F["isPersonalized_"+(J+1)]=!0;F["isTemplatePersonalizedOrder_"+(J+1)]=!0;
for(var z=V.split("||$||"),q=0;q<z.length;q++){var H=z[q].split("||^||");F["pAttrName"+(1*q+1)+"_"+(1*J+1)]=H[0];F["pAttrId"+(1*q+1)+"_"+(1*J+1)]=H[1];F["pAttrValue"+(1*q+1)+"_"+(1*J+1)]=H[2];F["pAttrOrder"+(1*q+1)+"_"+(1*J+1)]=H[3];F["pAttrReq"+(1*q+1)+"_"+(1*J+1)]=H[4];F["pAttrFieldId"+(1*q+1)+"_"+(1*J+1)]=H[5];F["pAttrReqInCart"+(1*q+1)+"_"+(1*J+1)]=H[6]}J++}"undefiend"!=typeof i.storeId&&(F.storeId=i.storeId);"undefiend"!=typeof i.catalogId&&(F.catalogId=i.catalogId);"undefiend"!=typeof i.langId&&(F.langId=i.langId);"undefiend"!=typeof i.orderId&&(F.orderId=i.orderId);"undefiend"!=typeof i.shipModeId&&(F.shipModeId=i.shipModeId);"undefiend"!=typeof i.inventoryValidation&&(F.inventoryValidation=i.inventoryValidation);"undefiend"!=typeof i.fulfillmentCenterId&&(F.fulfillmentCenterId=i.fulfillmentCenterId);"undefiend"!=typeof i.fromBopusPage&&(F.fromBopusPage=i.fromBopusPage);"undefiend"!=typeof i.contractId&&(F.contractId=i.contractId);"undefiend"!=typeof i.rdFrequency&&(F.rdFrequency=i.rdFrequency);"undefiend"!=typeof i.rdInitialFirstOrder&&(F.rdInitialFirstOrder=i.rdInitialFirstOrder);i=F}}return i},findInvalidCharSetForUserInput:function(e){var t="",i=document.getElementById("personalization"),a=document.getElementById("personalizationAttrNames"),o=!1;if("undefined"!=i&&null!=i&&"undefined"!=a&&null!=a&&"true"==i.value)for(var n=0;n<e;n++)for(var r=a.value.split(","),s=0;s<r.length;s++){var d=r[s]+"_"+(n+1),l=document.getElementById(d);if(void 0!=l||null!=l)if(""!=l.value){var c=document.getElementById("invalidChars_"+r[s]+"_"+(n+1));if(c&&!this.checkForInvalidChars(l.value,c.value)){t=c.value;o||(o=!0);dojo.style("persFieldError_"+r[s]+"_"+(n+1),"display","block");dojo.byId("persFieldError_"+r[s]+"_"+(n+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_INVALID_CHARSET+"</span>";for(var u=1;u<=e;u++)u==n+1?document.getElementById("Personalization_"+u).style.display="block":document.getElementById("Personalization_"+u).style.display="none"}}else dojo.style("persFieldError_"+r[s]+"_"+(n+1),"display","none")}return t},validatePersonalizedRequiredField:function(e,t){var i=document.getElementById("personalization"),a=document.getElementById("personalizationAttrNames"),o=document.getElementById("PersonalizationCheckBox"),n=!0;if("undefined"!=i&&null!=i&&"true"==i.value)for(var r=0;r<e&&("undefined"==o||null==o||1!=o.checked||1!=r);r++){for(var s=a.value.split(","),d=0;d<s.length;d++){var l=s[d]+"_"+(r+1),c=document.getElementById(l);if(void 0!=c||null!=c){var u=document.getElementById("minLength_"+l),p=document.getElementById("reqdFlag_"+l);if("undefined"!=u&&null!=u&&"undefined"!=p&&null!=p){var m=u.value,h=p.value;if("Y"==h&&c.value.trim().length<m){if(t){n=!1;dojo.style("persFieldError_"+s[d]+"_"+(r+1),"display","block");dojo.byId("persFieldError_"+s[d]+"_"+(r+1)).innerHTML='<span class="help-block">The field is required</span>'}else{n=!1;dojo.style("persFieldError_"+s[d]+"_"+(r+1),"display","block");dojo.byId("persFieldError_"+s[d]+"_"+(r+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_REQUIRED_FIELD+u.value+"</span>"}for(var y=1;y<=e;y++)y==r+1?document.getElementById("Personalization_"+y).style.display="block":document.getElementById("Personalization_"+y).style.display="none"}else dojo.style("persFieldError_"+s[d]+"_"+(r+1),"display","none")}}}if(t&&!this.isAllPersonalizationFieldEmpty(s,r))for(var d=0;d<s.length;d++){var l=s[d]+"_"+(r+1),c=document.getElementById(l);if(void 0!=c||null!=c){var u=document.getElementById("minLength_"+l),p=document.getElementById("reqdFlag_"+l);if("undefined"!=u&&null!=u&&"undefined"!=p&&null!=p){var m=u.value,h=p.value;if("Y"==h&&c.value.trim().length<m){n=!1;dojo.style("persFieldError_"+s[d]+"_"+(r+1),"display","block");dojo.byId("persFieldError_"+s[d]+"_"+(r+1)).innerHTML='<span class="help-block">Minimum Length should be '+u.value+"</span>"}}}}}n&&this.closeAll(e);return n},validatePersonalizedTextInputType:function(e,t){var i=document.getElementById("personalization"),a=document.getElementById("personalizationAttrNames"),o=document.getElementById("PersonalizationCheckBox"),n=!0,r="";"undefined"!=document.getElementById("vetNamePersonizationName")&&null!=document.getElementById("vetNamePersonizationName")&&(r=document.getElementById("vetNamePersonizationName").value);if("undefined"!=i&&null!=i&&"true"==i.value)for(var s=0;s<e&&("undefined"==o||null==o||1!=o.checked||1!=s);s++){var d=a.value.split(",");if(1!=this.isAllPersonalizationFieldEmpty(d,s))for(var l=0,c=0;c<d.length;c++){var u=d[c]+"_"+(s+1),p=document.getElementById(u);if(void 0!=p||null!=p){var m=document.getElementById("inputType_"+u);if("undefined"!=m&&null!=m){var h=m.value;if(p.value.trim().length>0){if(t){if("Number"==h)if(MessageHelper.IsNumeric(p.value.trim(),!1))dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","none");else{n&&(n=!1);dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","block");dojo.byId("persFieldError_"+d[c]+"_"+(s+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_NUMERIC+"</span>";for(var y=1;y<=e;y++)y==s+1?document.getElementById("Personalization_"+y).style.display="block":document.getElementById("Personalization_"+y).style.display="none"}else if("String"==h){var v=(new RegExp(/^[a-zA-Z0-9]+$/i),new RegExp(/^[a-zA-Z0-9\s]+$/i),"undefined"!=document.getElementById("personalizationMessage")&&null!=document.getElementById("personalizationMessage")?document.getElementById("personalizationMessage").value:""),f="undefined"!=document.getElementById("personalizedPetInfo")&&null!=document.getElementById("personalizedPetInfo")?document.getElementById("personalizedPetInfo").value:"",g="undefined"!=document.getElementById("personalizedPetName")&&null!=document.getElementById("personalizedPetName")?document.getElementById("personalizedPetName").value:"";if(""!=v&&v==d[c])var I=new RegExp(/^[a-zA-Z0-9~!@#%&*()_+\-=\[\]`{}':"\\|,.<>\/?\s]+$/i);else if(""!=f&&f==d[c]||""!=g&&g==d[c])var I=new RegExp(/^[a-zA-Z0-9&-\s]+$/i);else var I=new RegExp(/^(?!\.)(?!.*?\.\.)[a-zA-Z0-9\s.]+$/i);""!=r&&r==d[c]&&(checkVetName=!0);if(0==l){if(!I.test(p.value.trim())){n&&(n=!1);dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","block");dojo.byId("persFieldError_"+d[c]+"_"+(s+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_ALPHA_NUMERIC_PERIOD+"</span>";for(var y=1;y<=e;y++)y==s+1?document.getElementById("Personalization_"+y).style.display="":document.getElementById("Personalization_"+y).style.display="none"}}else if(I.test(p.value.trim()))dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","none");else{n&&(n=!1);dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","block");dojo.byId("persFieldError_"+d[c]+"_"+(s+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_ALPHA_NUMERIC_PERIOD+"</span>";for(var y=1;y<=e;y++)y==s+1?document.getElementById("Personalization_"+y).style.display="block":document.getElementById("Personalization_"+y).style.display="none"}l++}}else if("Number"==h)if(MessageHelper.IsNumeric(p.value.trim(),!1))dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","none");else{n&&(n=!1);dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","block");dojo.byId("persFieldError_"+d[c]+"_"+(s+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_NUMERIC+"</span>";for(var y=1;y<=e;y++)y==s+1?document.getElementById("Personalization_"+y).style.display="block":document.getElementById("Personalization_"+y).style.display="none"}else if("Text"==h){var _=(new RegExp(/^[a-zA-Z]+$/i),new RegExp(/^[a-zA-Z\s]+$/i));if(_.test(p.value.trim()))dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","none");else{n&&(n=!1);dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","block");dojo.byId("persFieldError_"+d[c]+"_"+(s+1)).innerHTML='<span class="help-block">'+MessageHelper.messages.PERSONALIZATION_ERR_ALPHA_TEXT+"</span>";for(var y=1;y<=e;y++)y==s+1?document.getElementById("Personalization_"+y).style.display="block":document.getElementById("Personalization_"+y).style.display="none"}}}else dojo.style("persFieldError_"+d[c]+"_"+(s+1),"display","none")}}}}return n},validateSubmitButtonEnabled:function(e){var t=document.getElementById("personalization"),i=document.getElementById("personalizationAttrNames"),a=!0;if("undefined"!=t&&null!=t&&"true"==t.value)for(var o=i.value.split(","),n=0;n<o.length;n++){var r=o[n]+"_"+e,s=document.getElementById(r);if(void 0!=s||null!=s){var d=document.getElementById("minLength_"+r),l=document.getElementById("reqdFlag_"+r);if("undefined"!=d&&null!=d&&"undefined"!=l&&null!=l){var c=d.value,u=l.value;"Y"==u&&s.value.trim().length<c&&(a=!1)}}}a?document.getElementById("personalizationSubmit_"+e).classList.remove("disabled"):document.getElementById("personalizationSubmit_"+e).classList.add("disabled")},checkPersonalizationUserInput:function(e,t){if(!MessageHelper.IsNumeric(t,!1))return!1;var i=this.findInvalidCharSetForUserInput(t);return""==i},checkForInvalidChars:function(e,t){var a,o=!1;for(i=0;i<e.length;i++){a=e.charAt(i);if(t.indexOf(a)!=-1){o=!1;return o}o=!0}return o},findPersonalizedAttrForShoppingCart:function(e,t){var i="",a=document.getElementById(t+"_personalizationAttrNames");if(null!=a&&void 0!=a)for(var o=0;o<e;o++)for(var n=a.value.split("|"),r=0;r<n.length;r++){var s=t+"_"+n[r]+"_"+(o+1),d=document.getElementById(s);if((void 0!=d||null!=d)&&""!=d.value){i=i+n[r]+"_"+[o+1]+"="+d.innerText.trim();i+="$"}}return i},isAllPersonalizationFieldEmpty:function(e,t){for(var i=!1,a=0;a<e.length;a++){var o=e[a]+"_"+(t+1),n=document.getElementById(o);if(void 0!=n||null!=n){if(""==n.value.trim()){i=!0;break}i=!1}}return i},chooseNotToPersonalize:function(e,t){if(e){document.getElementById("personalizationSubmit_"+t).classList.remove("disabled");for(var i=document.getElementById("personalizationAttrNames"),a=i.value.split(","),o=0;o<a.length;o++){var n=a[o]+"_"+t,r=document.getElementById(n);void 0==r&&null==r||($("#"+n).is("select")?$("#"+n).val("None"):$("#"+n).val(""))}}else validateSubmitButtonEnabled(t)},updateSameMessageInAllPages:function(e,t){var i=t.id.replace("PersonalizationCheckBox_",""),a=document.getElementById("personalizationAttrNames"),o=document.getElementById("PersonalizationCheckBox");if(t){o.checked=t.checked;o=t}var n=a.value.split(",");if("undefined"!=o&&null!=o&&1==o.checked){for(var r=1;r<=e;r++){var s=document.getElementById("PersonalizationCheckBox_"+r);s&&(s.checked=!0);for(var d=0;d<n.length;d++){var l=n[d]+"_"+r,c=document.getElementById(l);void 0==c&&null==c||(c.value=document.getElementById(n[d]+"_"+i).value)}dojo.forEach(dojo.query("div#Personalization_"+r+" div#personalizePaging"),function(e){dojo.addClass(e,"hide")})}this.gotoPage(i,e)}else if(0==o.checked)for(var r=1;r<=e;r++){var s=document.getElementById("PersonalizationCheckBox_"+r);s&&(s.checked=!1);for(var d=0;d<n.length;d++)var l=n[d]+"_"+r,c=document.getElementById(l);dojo.forEach(dojo.query("div#Personalization_"+r+" div#personalizePaging"),function(e){dojo.removeClass(e,"hide")})}},updatePersonalizationAttr:function(e,t,i,a,o){var n=[];n.storeId=this.storeId;n.catalogId=this.catalogId;n.langId=this.langId;n.orderId=i;n.orderItemId=a;n="undefined"!=typeof o&&o?this.addRxMedicinePersonalizationAttr(e,t,n):this.addPersonalizationAttr(e,t,n);wc.service.declare({id:"AjaxOrderItemPersonalizationUpdate",actionId:"AjaxOrderItemPersonalizationUpdate",url:"PetcoOrderItemPersonalizationUpdate",formId:"",successHandler:function(e){window.location.reload()},failureHandler:function(e){MessageHelper.displayErrorMessage(e.errorMessageKey)}});null!=dojo.byId("modal-Personalization")&&petcoCommonJS.hideModal("modal-Personalization");null!=dojo.byId("personilaztionDisplay")&&$("#personilaztionDisplay").removeClass("active");null!=dojo.byId("modal-rxmedicine")&&petcoCommonJS.hideModal("modal-rxmedicine");null!=dojo.byId("rxPersonilaztionDisplay")&&$("#rxPersonilaztionDisplay").removeClass("active");wc.service.invoke("AjaxOrderItemPersonalizationUpdate",n)},updatePetAttr:function(e,t,i,a,o){var n=[];n.storeId=this.storeId;n.catalogId=this.catalogId;n.langId=this.langId;n.orderId=t;n.orderItemId=i;n.isMembership=!0;n.isPersonalized=!0;n.catEntryId_1=e;n.quantity_1=1;n.pAttrId1_1=a;n.pAttrValue1_1=o;null!=dojo.byId("modal-Personalization")&&petcoCommonJS.hideModal("modal-Personalization");null!=dojo.byId("personilaztionDisplay")&&$("#personilaztionDisplay").removeClass("active");null!=dojo.byId("modal-rxmedicine")&&petcoCommonJS.hideModal("modal-rxmedicine");null!=dojo.byId("rxPersonilaztionDisplay")&&$("#rxPersonilaztionDisplay").removeClass("active");cursor_wait();wc.service.invoke("AjaxOrderItemPersonalizationUpdate",n)},prevNextPage:function(e,t,i){var a=parseInt(t),o=parseInt(e),n=o+1,r=o-1;if("PREVIOUS"==i){for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.remove("disabled");for(var s=0;s<document.querySelectorAll("#personalizePaging .next").length;s++)document.querySelectorAll("#personalizePaging .next")[s].classList.remove("disabled");if(0==r){for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.add("disabled");return}document.getElementById("rxmedicineContent_"+o).style.display="none";document.getElementById("rxmedicineContent_"+r).style.display="block";if(1==r)for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.add("disabled");"true"!=$("#isVetWidgetEnabled").val()&&petcoPersonalizationJS.loadVetClicnicInfos(1,r,!0)}else if("NEXT"==i){for(var s=0;s<document.querySelectorAll("#personalizePaging .next").length;s++)document.querySelectorAll("#personalizePaging .next")[s].classList.remove("disabled");for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.remove("disabled");if(a==o){for(var s=0;s<document.querySelectorAll("#personalizePaging .next").length;s++)document.querySelectorAll("#personalizePaging .next")[s].classList.add("disabled");return}document.getElementById("rxmedicineContent_"+o).style.display="none";document.getElementById("rxmedicineContent_"+n).style.display="block";if(o==a-1)for(var s=0;s<document.querySelectorAll("#personalizePaging .next").length;s++)document.querySelectorAll("#personalizePaging .next")[s].classList.add("disabled");"true"!=$("#isVetWidgetEnabled").val()&&petcoPersonalizationJS.loadVetClicnicInfos(1,n,!0)}},nextPage:function(e,t){var i=parseInt(t),a=parseInt(e),o=document.getElementById("PersonalizationCheckBox"),n="div#Personalization_"+e+' input[type="text"]';dojo.forEach(dojo.query(n),function(t){var i=t.id.split("_"+e).join("")+"_"+(1*e+1);null!=dojo.byId(i)&&""!=t.value.trim()&&""==dojo.byId(i).value.trim()&&(dojo.byId(i).value=t.value)});var r="div#Personalization_"+e+" select";dojo.forEach(dojo.query(r),function(t){var i=t.id.split("_"+e).join("")+"_"+(1*e+1);null!=dojo.byId(i)&&""!=t.value.trim()&&""==dojo.byId(i).value.trim()&&(dojo.byId(i).value=t.value)});petcoPersonalizationJS.validateSubmitButtonEnabled(1*e+1);if(i!=a&&1!=o.checked){for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.remove("disabled");var d=a+1;document.getElementById("Personalization_"+e).style.display="none";document.getElementById("Personalization_"+d).style.display="block"}else for(var l=0;l<document.querySelectorAll("#personalizePaging .next").length;l++)document.querySelectorAll("#personalizePaging .next")[l].classList.add("disabled")},prevPage:function(e){var t=parseInt(e),i=document.getElementById("PersonalizationCheckBox"),a="div#Personalization_"+e+' input[type="text"]';dojo.forEach(dojo.query(a),function(t){if(e-1>0){var i=t.id.split("_"+e).join("")+"_"+(1*e-1);null!=dojo.byId(i)&&""!=t.value.trim()&&""==dojo.byId(i).value.trim()&&(dojo.byId(i).value=t.value)}});var o="div#Personalization_"+e+" select";dojo.forEach(dojo.query(o),function(t){if(e-1>0){var i=t.id.split("_"+e).join("")+"_"+(1*e-1);null!=dojo.byId(i)&&""!=t.value.trim()&&""==dojo.byId(i).value.trim()&&(dojo.byId(i).value=t.value)}});petcoPersonalizationJS.validateSubmitButtonEnabled(1*e-1);if(1!=t&&1!=i.checked){for(var n=0;n<document.querySelectorAll("#personalizePaging .next").length;n++)document.querySelectorAll("#personalizePaging .next")[n].classList.remove("disabled");var r=t-1;document.getElementById("Personalization_"+t).style.display="none";document.getElementById("Personalization_"+r).style.display="block"}else for(var s=0;s<document.querySelectorAll("#personalizePaging .prev").length;s++)document.querySelectorAll("#personalizePaging .prev")[s].classList.add("disabled")},gotoPage:function(e,t){for(var i=1;i<=t;i++){var a=document.getElementById("Personalization_"+i);a&&(a.style.display=i==e?"block":"none")}},close:function(e){document.getElementById("Personalization_"+e).style.display="none";$("#personilaztionDisplay").removeClass("active")},closeAll:function(e){for(var t=0;t<e;t++)document.getElementById("Personalization_"+(t+1)).style.display="none"},checkIfpersonalizationValid:function(e){var t=!0,i=!0;if(petcoPersonalizationJS.isPersonalizedItem()){var a=petcoPersonalizationJS.findInvalidCharSetForUserInput(e,t);""!=a&&(i=!1);petcoPersonalizationJS.validatePersonalizedRequiredField(e,t)||(i=!1);petcoPersonalizationJS.validatePersonalizedTextInputType(e,t)||(i=!1);if(!i){petcoCommonJS.showModal("Personalization");$("#Personalization_1").show();$("#personilaztionDisplay").addClass("active")}}return i},toggle:function(e,t,i){var a=$(e).parent(),o=$(a).children("ul.form-field-listing"),n=$(e).children(),r=!1,s=a[0].id;if(""!=t&&"disabled-section"==t)return!1;$.each($(".colapsibleArea").children("ul.form-field-listing"),function(e,t){if($(t).parent()[0].id!=s&&$(t).hasClass("field-listing-visible")){var i=$(t).parent().children("span.click-row");$(t).removeClass("field-listing-visible");$(t).children("li.form-field-sublist").css("display","none");$(i).children().children("i.icon-minus").css("display","none");$(i).children().children("i.icon-plus").css("display","block");$(i).attr("aria-expanded","false");$(t).attr("aria-hidden","true")}});$.each(o,function(t,i){if($(i).hasClass("field-listing-visible")){r=!0;$(i).removeClass("field-listing-visible");$(i).children("li.form-field-sublist").css("display","none");$(n).children("i.icon-minus").css("display","none");$(n).children("i.icon-plus").css("display","block");$(e).attr("aria-expanded","false");$(i).attr("aria-hidden","true")}else{$(i).addClass("field-listing-visible");$(i).children("li.form-field-sublist").css("display","block");$(n).children("i.icon-minus").css("display","block");$(n).children("i.icon-plus").css("display","none");$(e).attr("aria-expanded","true");$(i).attr("aria-hidden","false")}});if(i){var d=$(e).attr("data-manual_cm_sp");$(e).attr("manual_cm_sp",d+(r?"_Collapse":"_Expand"));cmManuallyTriggerEventTrack(e)}},petTypeBreed:{},petVetInfoData:{},loadPetBreedValues:function(e,t,i,a,o){if("undefined"!=typeof a&&null!=a){var n=a,r={};$("#"+e+" option").each(function(){r[$(this).val().toUpperCase()]=$(this).val()});var s=r[n];"undefined"!=typeof s&&$("#"+e).length>0&&""==$("#"+e).val()&&$("#"+e).val(s)}var d="#"+e,l=$(d);if(l.length>0){var c=l.val(),u="#"+t,p=$(u);if(p.length>0){for(;p[0].firstChild;)p[0].removeChild(p[0].firstChild);var m=petcoPersonalizationJS.petTypeBreed[c],h=document.createElement("option");h.text="Select Breed";h.value="";h.selected="selected";p[0].add(h);if("undefined"!=typeof m)for(var y=0;y<m.length;y++){h=document.createElement("option");h.text=m[y].split("<<DBLQUATS>>").join('"').split("<<SNGLQUATS>>").join("'");h.value=m[y].split("<<DBLQUATS>>").join('"').split("<<SNGLQUATS>>").join("'");p[0].add(h)}}var v=t.replace("rxMedicinePetBreed_",""),f=$("#autoSuggestLoader_"+v);if("undefined"!=typeof i&&null!=i){$(p).val(i);f.val(i)}else{$(p).val("");f.val("")}}var g=t.split("_"),I=0;g.length>1&&(I=g[1]);o&&petcoPersonalizationJS.loadAutoCOmpleteForBreed($("#autoSuggestLoader_"+I)[0],t)},triggerFocus:function(e,t){previousSelectedValue=t},triggerChange:function(e){if("0"==e.substring(e.length-1,e.length)){$("[id^="+e+"]").find("option:disabled").attr("disabled",!1);$("[id^="+e+"]").each(function(t,i){""!=i.value&&$("[id^="+e+"]").not(this).find("option[value='"+i.value+"']").attr("disabled",!0)})}},rxMedicineValidateSubmitButtonEnabled:function(e,t){var i={},a={},o=[],n={},r=$("#fieldGroup").html(),s=JSON.parse(r);for(var d in s){var l=!0,c=$('[id^="'+s[d].Field+"_"+t+'"]'),u=s[d].IsRequired,p=s[d].FieldGroup+"_"+t;if(c.length>0){var m=!1,h=!1,y=!1,v=!1,f=!1,g=!1,I=!1;c[0].className.indexOf("NUMERIC")>-1?m=!0:c[0].className.indexOf("TELEPHONE")>-1?h=!0:c[0].className.indexOf("MULTICHECKBOX")>-1?v=!0:c[0].className.indexOf("CHECKBOX")>-1?y=!0:c[0].className.indexOf("DATE")>-1?f=!0:c[0].className.indexOf("RADIO")>-1?g=!0:c[0].className.indexOf("ALPHA")>-1&&(I=!0);if("Y"==u)if(y||f||g||""!=c[0].value.trim()){if(g){var _=$('input[type="radio"][name="'+s[d].Field+"_"+t+'"]:checked');0==_.length&&(l=!1)}else if(y){var b=$("#"+s[d].Field+"_"+t+":checked");if(b.length>0){var S=!0;$.each($('[id^="'+s[d].Field+"_"+t+'_optionContainer"]'),function(e,t){""!=t.value.trim()&&(S=!1)});S&&""==$("#"+s[d].Field+"_"+t+"_Others").val().trim()&&(l=!1)}}else if(v){var b=$("#"+s[d].Field+"_"+t+":checked");b.length>0&&0==$('[id^="'+s[d].Field+"_"+t+'-_options"]:checked').length&&""==$("#"+s[d].Field+"_"+t+"_Others").val().trim()&&(l=!1)}else if(f)if($("#"+s[d].Field+"_"+t+"_MON").length>0&&""!=$("#"+s[d].Field+"_"+t+"_MON").val()&&$("#"+s[d].Field+"_"+t+"_Date").length>0&&""!=$("#"+s[d].Field+"_"+t+"_Date").val()&&$("#"+s[d].Field+"_"+t+"_Year").length>0&&""!=$("#"+s[d].Field+"_"+t+"_Year").val()){var P=$("#"+s[d].Field+"_"+t+"_Date").val(),E=$("#"+s[d].Field+"_"+t+"_MON").val(),D=$("#"+s[d].Field+"_"+t+"_Year").val(),C=new Date,x=new Date;C.setFullYear(D,E-1,P);if(C.getDate()!=P&&C.getMonth()!=E-1){i["persFieldError_"+s[d].Field+"_"+t]="Given date is not a valid date";l=!1}if(C-x>0){i["persFieldError_"+s[d].Field+"_"+t]="Date of birth cannot be a future date";l=!1}}else l=!1}else l=!1;var A=new RegExp(/^\d+(0|[1-9][0-9]*)?$/),M=new RegExp(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im),j=new RegExp(/^[a-z\d\-_\s\.\_\']+$/i);if(I&&""!=c[0].value.trim()&&!j.test(c[0].value.trim())&&"rxMedicinePetName"==s[d].Field){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Please enter valid pet name."}else if(m&&""!=c[0].value.trim()&&isNaN(c[0].value.trim())){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Enter numeric values only."}else if(m&&""!=c[0].value.trim()&&!A.test(c[0].value.trim())){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Enter whole numbers only. No decimal allowed."}else if(m&&""!=c[0].value.trim()&&1*c[0].value.trim()<1){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Enter weight greater than 0."}else if(h&&""!=c[0].value.trim()&&!M.test(c[0].value.trim())){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Enter valid phonenumber."}else if(h&&""!=c[0].value.trim()&&c[0].value.trim().length<10){l=!1;i["persFieldError_"+s[d].Field+"_"+t]="Enter 10 digit Phone number."}}if(!l){a[p]="Error";o.push(p)}n[p]="Valid"}var B=$('[id^="persFieldError_"]');$.each(B,function(e,t){t.style.display="none";$(t).html("")});$.each(B,function(e,t){if("undefined"!=typeof i[t.id]){t.style.display="block";$(t).html('<span class="help-block">'+i[t.id]+"</span>")}});var w=[],O=[];$.each(n,function(e,t){$.inArray(e,o)==-1&&w.push(e);O.push(e)});for(var R=0;R<O.length;R++){$("#"+O[R]+"_button").addClass("disabled");$("#"+O[R]+"_saveandreviewbutton").addClass("disabled")}for(var N=0;N<w.length;N++){$("#"+w[N]+"_button").removeClass("disabled");$("#"+w[N]+"_saveandreviewbutton").removeClass("disabled")}var n={},k=!1;$.each(a,function(e,t){k=!0});var L=$('[id^="rxMedicinePersonalizationSubmit_PDP_'+t+'"]'),T=$('[id^="rxMedicinePersonalizationSubmit_WishList_'+t+'"]'),J=$('[id^="rxMedicinePersonalizationSubmit_Cart_'+t+'"]');if($('[id^="rxMedicinePetDetailsSubmit_SPC"]').length>0){var F=$('[id^="rxMedicinePetDetailsSubmit_SPC"]');k?$(F).addClass("disabled"):$(F).removeClass("disabled")}if(k){$(L).addClass("disabled");$(T).addClass("disabled");$(J).addClass("disabled")}else{$(L).removeClass("disabled");$(T).removeClass("disabled");$(J).removeClass("disabled")}},reAssignRxPersonalizedAttr:function(attrIdValueList,quanity){"undefined"==typeof quanity&&(quanity="1");for(var personalizationNameValueArray=attrIdValueList.split("$"),petTypeId="",petBreedId="",petBreedValue="",petName="",vetName="",i=0;i<personalizationNameValueArray.length-1;i++){var nameValueAttr=personalizationNameValueArray[i],nameValueAttrArray=nameValueAttr.split("="),nameAttr="",valueAttr="";if(2==nameValueAttrArray.length){nameAttr=nameValueAttrArray[0];valueAttr=nameValueAttrArray[1];nameAttr.indexOf("rxMedicinePetName")>-1?petName=valueAttr:nameAttr.indexOf("rxMedicineVetName")>-1&&(vetName=valueAttr);var idOfField=$('[id^="'+nameAttr+'"]');if(idOfField.length>0){var isNumric=!1,isTeliphonic=!1,isOptionOthersExists=!1,isDateField=!1,isRadio=!1,isOptions=!1,isMultiOtherOptionsExists=!1;idOfField[0].className.indexOf("NUMERIC")>-1?isNumric=!0:idOfField[0].className.indexOf("TELEPHONE")>-1?isTeliphonic=!0:idOfField[0].className.indexOf("MULTICHECKBOX")>-1?isMultiOtherOptionsExists=!0:idOfField[0].className.indexOf("CHECKBOX")>-1?isOptionOthersExists=!0:idOfField[0].className.indexOf("DATE")>-1?isDateField=!0:idOfField[0].className.indexOf("RADIO")>-1?isRadio=!0:idOfField[0].className.indexOf("OPTIONS")>-1&&(isOptions=!0);if(isMultiOtherOptionsExists||isOptionOthersExists||isDateField||isRadio||isOptions){if(isOptions)if(nameAttr.toLowerCase().indexOf("pettype")>-1){petTypeId=nameAttr;""!=valueAttr&&(idOfField[0].value=valueAttr)}else if(nameAttr.toLowerCase().indexOf("petbreed")>-1){petBreedId=nameAttr;petBreedValue=valueAttr;idOfField[0].value=petBreedValue}else idOfField[0].value=valueAttr;else if(isRadio){var checkedRadio=$('input[type="radio"][name="'+nameAttr+'"]');checkedRadio.length>0&&$.each(checkedRadio,function(e,t){t.value==valueAttr&&(t.checked=!0)})}else if(isOptionOthersExists){var checkedRadioOthers=$('input[type="checkbox"][id="'+nameAttr+'"]');if(checkedRadioOthers.length>0&&"No"!=valueAttr&&""!=valueAttr){checkedRadioOthers[0].checked=!0;var valueAttrArr=valueAttr.split(","),valueAtrArrayInOpt=[],isOthersExists=!1,refererSelectBox=nameAttr+"_optionContainer_0",refererSelectBoxValArray={};$.each($("#"+nameAttr+"_optionContainer_0 option"),function(e,t){""!=t.value&&(refererSelectBoxValArray[t.value]=t.value)});petcoPersonalizationJS.openContainerTemplateEnabled($("#"+nameAttr)[0]);for(var ixc=0;ixc<valueAttrArr.length;ixc++)if("undefined"!=typeof refererSelectBoxValArray[valueAttrArr[ixc]])valueAtrArrayInOpt.push(valueAttrArr[ixc]);else{isOthersExists=!0;$("#"+nameAttr+"_Others").val(valueAttrArr[ixc])}for(var ixd=0;ixd<valueAtrArrayInOpt.length;ixd++)if(0==ixd)$("#"+nameAttr+"_optionContainer_0").val(valueAtrArrayInOpt[ixd]);else{petcoPersonalizationJS.addMoreFOrMultiselect($("#"+nameAttr+"_addnewLink")[0]);$("#"+nameAttr+"_optionContainer_0"+ixd).val(valueAtrArrayInOpt[ixd])}}}else if(isMultiOtherOptionsExists){var checkedRadioOthers=$('input[type="checkbox"][id="'+nameAttr+'"]');if(checkedRadioOthers.length>0&&"No"!=valueAttr&&""!=valueAttr){checkedRadioOthers[0].checked=!0;var valueAttrArr=valueAttr.split(","),valueAtrArrayInOpt=[],isOthersExists=!1,refererSelectBoxValArray={};$.each($('[id^="'+nameAttr+'-_options_"]'),function(e,t){""!=t.value&&(refererSelectBoxValArray[t.value]=t.value)});petcoPersonalizationJS.openContainerTemplateEnabled($("#"+nameAttr)[0]);for(var ixc=0;ixc<valueAttrArr.length;ixc++)if("undefined"!=typeof refererSelectBoxValArray[valueAttrArr[ixc]])valueAtrArrayInOpt.push(valueAttrArr[ixc]);else{isOthersExists=!0;$("#"+nameAttr+"_Others").val(valueAttrArr[ixc])}for(var ixd=0;ixd<valueAtrArrayInOpt.length;ixd++)$.each($('[id^="'+nameAttr+'-_options_"]'),function(e,t){t.value==valueAtrArrayInOpt[ixd]&&(t.checked=!0)})}}else if(isDateField){var valueDateAttrArr=valueAttr.split("-"),day=0,month=0,year=0;if(valueDateAttrArr.length>0)if(valueDateAttrArr[0].length>2){day=1*valueDateAttrArr[2];month=1*valueDateAttrArr[1];year=1*valueDateAttrArr[0]}else{day=1*valueDateAttrArr[1];month=1*valueDateAttrArr[0];year=1*valueDateAttrArr[2]}if($("#prescription-information").length>0){$("#"+nameAttr+"_Date").val(day);$("#"+nameAttr+"_MON").val(month);$("#"+nameAttr+"_Year").val(year)}else{$("#"+nameAttr+"_Date").val(valueDateAttrArr[1]);$("#"+nameAttr+"_MON").val(valueDateAttrArr[0]);$("#"+nameAttr+"_Year").val(valueDateAttrArr[2])}}}else idOfField[0].value=valueAttr}}}if(""!=petTypeId&&""!=petBreedId&&""!=petBreedValue){eval($("#petBreedTypeLoadJS").html());for(var ix=1;ix<=quanity;ix++){$("#autoSuggestLoader_"+ix).val(petBreedValue);$("#rxMedicinePetBreed_"+ix).val(petBreedValue)}}$.each($(".colapsibleArea").children("ul.form-field-listing"),function(e,t){if(!$(t).hasClass("field-listing-visible")){var i=$(t).parent().children("span.click-row");$(t).addClass("field-listing-visible");$(t).children("li.form-field-sublist").css("display","block");$(i).children().children("i.icon-minus").css("display","block");$(i).children().children("i.icon-plus").css("display","none");$(i).attr("aria-expanded","true");$(t).attr("aria-hidden","false")}});if(""!=petName&&$('[id^="RX_MyPet_"]').length>0){petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#RX_MyPet_"+quanity+"_button")[0],quanity);petcoPersonalizationJS.rxContinueToNextPage($("#RX_MyPet_"+quanity+"_button")[0],"RX_MyPet_"+quanity,"PET",quanity,!1)}if(""!=vetName&&$('[id^="RX_MyVet_"]').length>0){petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#RX_MyPet_"+quanity+"_button")[0],quanity);petcoPersonalizationJS.rxContinueToNextPage($("#RX_MyVet_"+quanity+"_button")[0],"RX_MyVet_"+quanity,"VET",quanity,!1)}$('[id^="RX_MyPrescription_"]').length>0&&petcoPersonalizationJS.rxContinueToNextPage($("#RX_MyPrescription_"+quanity+"_button")[0],"RX_MyPrescription_"+quanity,"Prescription",quanity,!1)},rxGoToPage:function(e,t){var i=$('[id^="rxmedicineContent_"]');$.each(i,function(e,t){t.style.display="none"});var a=$("#rxmedicineContent_"+e);a.length>0&&(a[0].style.display="block");if(e>1)for(var o=0;o<document.querySelectorAll("#personalizePaging .prev").length;o++)document.querySelectorAll("#personalizePaging .prev")[o].classList.remove("disabled");else for(var o=0;o<document.querySelectorAll("#personalizePaging .prev").length;o++)document.querySelectorAll("#personalizePaging .prev")[o].classList.add("disabled");if("undefined"!=typeof t&&e==t)for(var o=0;o<document.querySelectorAll("#personalizePaging .next").length;o++)document.querySelectorAll("#personalizePaging .next")[o].classList.add("disabled");else if("undefined"!=typeof t&&e<t)for(var o=0;o<document.querySelectorAll("#personalizePaging .next").length;o++)document.querySelectorAll("#personalizePaging .next")[o].classList.remove("disabled")},rxMedSubmitFromPDP:function(e,t,i,a,o,n){if(!e.classList.contains("disabled")){if(0==$("#PersonalizationCheckBox_"+o+":checked").length){if(o<n){petcoPersonalizationJS.rxGoToPage(o+1,n);return}if(o==n){var r=null;$.each($('[id^="rxMedicinePersonalizationSubmit_PDP_"].disabled'),function(e,t){r=t});if(null!=r){petcoPersonalizationJS.rxGoToPage(r.id.replace("rxMedicinePersonalizationSubmit_PDP_",""),n);return}}}if(null!=document.getElementById("repeat-delivery-add-on")&&document.getElementById("repeat-delivery-add-on").checked){productDisplayJS.rdAddOnLoginOptions(a,document.getElementById("quantity_"+i).value,t);petcoCommonJS.hideModal("modal-rxmedicine");
$("#rxPersonilaztionDisplay").removeClass("active")}else{setCurrentId("add2CartBtn");petcoCommonJS.hideModal("modal-rxmedicine");$("#rxPersonilaztionDisplay").removeClass("active");productDisplayJS.Add2ShopCartAjax("entitledItem_"+i,document.getElementById("quantity_"+i).value,!1,!1)}cmManuallyTriggerEventTrack(e)}},rxUpdateSameInAllPage:function(e){e.checked?$("#personalizePaging").addClass("hide"):$("#personalizePaging").removeClass("hide")},isloadedPetAndVetInfoInModel:!1,petandvetInfoPulated:!1,loadPetAndVetInfoInModel:function(e){var t="";t="undefined"!=typeof e&&e?getAbsoluteURL()+"loadPetAndVetInfo?loadpetFromSebel=true&"+((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()):getAbsoluteURL()+"loadPetAndVetInfo?"+Math.floor((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()+(new Date).getHours()+Math.floor((new Date).getMinutes()/3));"R"==dojo.cookie("WC_UserType")?$.ajax({url:t,type:"GET",cache:!0,contentType:"application/json",dataType:"json",data:"",success:function(t){if("undefined"!=typeof e&&e)petcoPersonalizationJS.petandvetInfoPulated=!0;else{petcoPersonalizationJS.petVetInfoData=t;var i=t.savedpetinfo,a=t.savedvetinfo,o=$("#fieldGroup").html(),n=JSON.parse(o),r={};for(var s in n)r[n[s].Label]=n[s].Field;for(var d=document.getElementById("quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).value,l="",c=1;c<=d;c++){l="";if(0==$('[id^="rxMedicinePersonalizationSubmit_Cart_"]').length){if("undefined"!=typeof i&&"undefined"!=typeof i.pettype){l=r["Pet Type"]+"_"+c+"="+i.pettype.split("&#034;").join('"');l=l+"$"+r["Pet Name"]+"_"+c+"="+i.petname;l=l+"$"+r.Breed+"_"+c+"="+i.breed.split("&#034;").join('"');l=l+"$"+r.Gender+"_"+c+"="+i.gender;l=l+"$"+r.Weight+"_"+c+"="+i.weight;l=l+"$"+r["Is Pet Alergic to Medication"]+"_"+c+"="+i.petalergic;l=l+"$"+r["Is Pet Taking to Medication"]+"_"+c+"="+i.petmedication;l=l+"$"+r["Pet Having Medical Condition"]+"_"+c+"="+i.petmedicationcondition;l=l+"$"+r["Pet DOB"]+"_"+c+"="+1*i.dateofbirth.split("-")[1]+"-"+1*i.dateofbirth.split("-")[2]+"-"+1*i.dateofbirth.split("-")[0]}else{l=r["Pet Type"]+"_"+c+"=";l=l+"$"+r["Pet Name"]+"_"+c+"=";l=l+"$"+r.Breed+"_"+c+"=";l=l+"$"+r.Gender+"_"+c+"=";l=l+"$"+r.Weight+"_"+c+"=";l=l+"$"+r["Is Pet Alergic to Medication"]+"_"+c+"=";l=l+"$"+r["Is Pet Taking to Medication"]+"_"+c+"=";l=l+"$"+r["Pet Having Medical Condition"]+"_"+c+"=";l=l+"$"+r["Pet DOB"]+"_"+c+"=--"}if("undefined"!=typeof a){l=l+"$"+r["Vet First Name"]+"_"+c+"="+a.vetname;l=l+"$"+r["Vet Last Name"]+"_"+c+"="+a.vetlastname;l=l+"$"+r["Vet Clinic Name"]+"_"+c+"="+a.vatclinicname;l=l+"$"+r["Vet Fax No"]+"_"+c+"="+a.vetfaxno;l=l+"$"+r["Vet Phone No"]+"_"+c+"="+a.vetphoneno;l=l+"$"+r["Vet API ID"]+"_"+c+"="+a.vetapiid;l=l+"$"+r["Vet CLINIC ID"]+"_"+c+"="+a.vetclinicidapi}else{l=l+"$"+r["Vet First Name"]+"_"+c+"=";l=l+"$"+r["Vet Last Name"]+"_"+c+"=";l=l+"$"+r["Vet Clinic Name"]+"_"+c+"=";l=l+"$"+r["Vet Fax No"]+"_"+c+"=";l=l+"$"+r["Vet Phone No"]+"_"+c+"=";l=l+"$"+r["Vet API ID"]+"_"+c+"=";l=l+"$"+r["Vet CLINIC ID"]+"_"+c+"="}l+="$";petcoPersonalizationJS.reAssignRxPersonalizedAttr(l,c);if($("#PersonalizationCheckBox_1").length>0){$("#PersonalizationCheckBox_1")[0].checked=!0;petcoPersonalizationJS.rxUpdateSameInAllPage($("#PersonalizationCheckBox_1")[0])}petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#rxMedicinePrescriptionNumber_"+c)[0],c)}}var u=t.petinfo;"undefined"!=typeof u&&$.each($('[id^="rxMedicinePetName_"]'),function(e,t){var i=t.id.replace("rxMedicinePetName_","");$("#petinfoaddnewpet_"+i).removeClass("hide");if(0==$("#savedPetData_"+i).length){var a="<select id='savedPetData_"+i+"' onchange='petcoPersonalizationJS.populatePetInfoData(this,"+i+")'>",o=!1;for(var n in u){o=!0;a=""!=t.value&&t.value==u[n].petname?a+"<option value='"+u[n].petname+"' selected>"+u[n].petname+"</option>":a+"<option value='"+u[n].petname+"'>"+u[n].petname+"</option>"}a+="</select>";o&&$(a).insertAfter($(t))}$(t).addClass("hide")});var p=t.vetinfo;"undefined"!=typeof p&&$.each($('[id^="rxMedicineVetName_"]'),function(e,t){var i=t.id.replace("rxMedicineVetName_",""),a=$("#vetinfoaddnewvetContainer_"+i);$("#vetinfoaddnewvet_"+i).removeClass("hide");var o="<div class='row'><div class='col-12'><select id='savedVetData_"+i+"' onchange='petcoPersonalizationJS.populateVetInfoData(this,"+i+")'>",n=!1;for(var r in p){n=!0;var s=p[r].vetname,d=p[r].vetlastname,l=p[r].vetapiid;o=""!=t.value&&t.value==p[r].vetname?o+"<option value='"+l+"||"+s+"||"+d+"' selected>"+s+" "+d+"</option>":o+"<option value='"+l+"||"+s+"||"+d+"'>"+s+" "+d+"</option>"}o+="</select></div></div>";n&&$(o).insertAfter($(a))});$('[id^="RX_MyPrescription_"]').length>0&&petcoPersonalizationJS.rxEditThisPage($("#RX_MyPrescription_1_editLink")[0],"RX_MyPrescription_1","PRESCRIPTION",1,["RX_MyVet","RX_MyPrescription"]);cursor_clear();petcoPersonalizationJS.petandvetInfoPulated=!1}},error:function(){cursor_clear();"true"!=$("#isVetWidgetEnabled").val()&&petcoPersonalizationJS.loadVetClicnicInfos(1,1,!0);console.log("PET INFORMATION ERROR OUT")}}):"true"!=$("#isVetWidgetEnabled").val()&&petcoPersonalizationJS.loadVetClicnicInfos(1,1,!0)},getDefaultPetType:function(){var e="";if($("#topCategoryValuePetType").length>0&&""!=$("#topCategoryValuePetType").val().trim()){var t=$("#topCategoryValuePetType").val().trim().split(" "),i={},a=[];$("ol.breadcrumb li a").each(function(e,t){if("undefined"==typeof i[$(t).text().toUpperCase()]){i[$(t).text().toUpperCase()]="exists";a.push($(t).text().toUpperCase())}});$(t).each(function(e,t){if("undefined"==typeof i[t]){i[t]="exists";a.push(t)}});var o=[],n={};$("#rxMedicinePetType_1 option").each(function(e,t){o[e]=t.value.toUpperCase();n[t.value.toUpperCase()]=t.value});$(a).each(function(t,i){o.includes(i.toUpperCase())&&""==e&&(e=n[i])})}return e},clearAndRenewRx:function(e,t){if("PET"==t){var i=e.id.replace("addanewpet_","");$("#petinfoaddnewpet_"+i).addClass("hide");$("#rxMedicinePetName_"+i).removeClass("hide");$("#rxMedicinePetName_"+i).val("");$("#savedPetData_"+i).addClass("hide");$("#rxMedicinePetType_"+i).val(petcoPersonalizationJS.getDefaultPetType());petcoPersonalizationJS.loadPetBreedValues("rxMedicinePetType_"+i,"rxMedicinePetBreed_"+i,null,petcoPersonalizationJS.getDefaultPetType().toUpperCase());$("#rxMedicinePetBreed_"+i).val("");$("#autoSuggestLoader_"+i).val("");$("#rxMedicinePetDateOfBirth_"+i+"_MON").val("");$("#rxMedicinePetDateOfBirth_"+i+"_Date").val("");$("#rxMedicinePetDateOfBirth_"+i+"_Year").val("");$("#rxMedicinePetWeight_"+i).val("");$("#rxMedicinePetAllergies_"+i).val("");$.each($('[id^="rxMedicinePetGender_'+i+'-_-"]:checked'),function(e,t){t.checked=!1});$("#rxMedicinePetAllergic_"+i)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetAllergic_"+i)[0]);$.each($('[id^="rxMedicinePetAllergic_'+i+'_optionContainer_0"]'),function(e,t){t.id!="rxMedicinePetAllergic_"+i+"_optionContainer_0"?$(t).parent().remove():t.value=""});$("#rxMedicinePetAllergic_"+i+"_addnewLink").removeClass("hide");$("#rxMedicinePetAllergic_"+i+"_Others").val("");$("#rxMedicinePetMedications_"+i)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedications_"+i)[0]);$.each($('[id^="rxMedicinePetMedications_'+i+'_optionContainer_0"]'),function(e,t){t.id!="rxMedicinePetMedications_"+i+"_optionContainer_0"?$(t).parent().remove():t.value=""});$("#rxMedicinePetMedications_"+i+"_addnewLink").removeClass("hide");$("#rxMedicinePetMedications_"+i+"_Others").val("");$("#rxMedicinePetMedicalConditions_"+i)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedicalConditions_"+i)[0]);$.each($('[id^="rxMedicinePetMedicalConditions_'+i+'-_options_-"]:checked'),function(e,t){t.checked=!1});$("#rxMedicinePetMedicalConditions_"+i+"_Others").val("");petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#rxMedicinePetName_"+i)[0],i);petcoPersonalizationJS.addValueForBreedField($("#rxMedicinePetBreed_"+i)[0],"autoSuggestLoader_"+i)}else if("VET"==t){var i=e.id.replace("addanewvet_","");$("#savedVetData_"+i).addClass("hide");$("#vetinfoaddnewvet_"+i).addClass("hide");$("#rxMedicineVetName_"+i).removeClass("hide");$("#rxMedicineVetName_"+i).val("");$("#rxMedicineVetCliName_"+i).val("");$("#rxMedicineVetPhNo_"+i).val("");$("#rxMedicineVetFxNo_"+i).val("");$("#rxMedicineVetLastName_"+i).val("");$("#rxMedicineVetAPIId_"+i).val("");$("#rxMedicineVetClinicId_"+i).val("");petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#rxMedicineVetFxNo_"+i)[0],i)}},populatePetInfoData:function(e,t){var i=$("#fieldGroup").html(),a=JSON.parse(i),o={};for(var n in a)o[a[n].Label]=a[n].Field;var r=e.value,s=petcoPersonalizationJS.petVetInfoData.petinfo;if("undefined"!=typeof s)for(var d in s)if(s[d].petname==r){$("#"+o["Pet Type"]+"_"+t).val(s[d].pettype.split("&#034;").join('"'));petcoPersonalizationJS.loadPetBreedValues(o["Pet Type"]+"_"+t,o.Breed+"_"+t,s[d].breed.split("&#034;").join('"'));$("#autoSuggestLoader_"+t).val(s[d].breed.split("&#034;").join('"'));$("#"+o["Pet Name"]+"_"+t).val(r);$("#"+o["Pet Name"]+"_"+t).val(r);$("#"+o.Weight+"_"+t).val(s[d].weight);var l=s[d].petalergic;if("No"==l||""==l){$("#rxMedicinePetAllergic_"+t)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetAllergic_"+t)[0])}else{$("#rxMedicinePetAllergic_"+t)[0].checked=!0;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetAllergic_"+t)[0]);$.each($('[id^="rxMedicinePetAllergic_'+t+'_optionContainer_0"]'),function(e,i){i.id!="rxMedicinePetAllergic_"+t+"_optionContainer_0"?$(i).parent().remove():i.value=""});var c={};$.each($("#rxMedicinePetAllergic_"+t+"_optionContainer_0 option"),function(e,t){""!=t.value&&(c[t.value]=t.value)});$("#rxMedicinePetAllergic_"+t+"_Others").val("");$("#rxMedicinePetAllergic_"+t+"_addnewLink").removeClass("hide");for(var u=l.split(","),p=0,m=0;m<u.length;m++)if("undefined"!=typeof c[u[m]]){var h=$("#rxMedicinePetAllergic_"+t+"_optionContainer_0");if(""==$(h).val())$(h).val(u[m]);else{p++;petcoPersonalizationJS.addMoreFOrMultiselect($("#rxMedicinePetAllergic_"+t+"_addnewLink")[0]);$("#rxMedicinePetAllergic_"+t+"_optionContainer_0"+p).val(u[m])}}else $("#rxMedicinePetAllergic_"+t+"_Others").val(u[m])}var y=s[d].petmedication;if("No"==y||""==y){$("#rxMedicinePetMedications_"+t)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedications_"+t)[0])}else{$("#rxMedicinePetMedications_"+t)[0].checked=!0;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedications_"+t)[0]);$.each($('[id^="rxMedicinePetMedications_'+t+'_optionContainer_0"]'),function(e,i){i.id!="rxMedicinePetMedications_"+t+"_optionContainer_0"?$(i).parent().remove():i.value=""});var c={};$.each($("#rxMedicinePetMedications_"+t+"_optionContainer_0 option"),function(e,t){""!=t.value&&(c[t.value]=t.value)});$("#rxMedicinePetMedications_"+t+"_Others").val("");$("#rxMedicinePetMedications_"+t+"_addnewLink").removeClass("hide");for(var u=y.split(","),p=0,m=0;m<u.length;m++)if("undefined"!=typeof c[u[m]]){var h=$("#rxMedicinePetMedications_"+t+"_optionContainer_0");if(""==$(h).val())$(h).val(u[m]);else{p++;petcoPersonalizationJS.addMoreFOrMultiselect($("#rxMedicinePetMedications_"+t+"_addnewLink")[0]);$("#rxMedicinePetMedications_"+t+"_optionContainer_0"+p).val(u[m])}}else $("#rxMedicinePetMedications_"+t+"_Others").val(u[m])}var v=s[d].petmedicationcondition;if("No"==v||""==v){$("#rxMedicinePetMedicalConditions_"+t)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedicalConditions_"+t)[0])}else{$("#rxMedicinePetMedicalConditions_"+t)[0].checked=!0;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedicalConditions_"+t)[0]);$.each($('[id^="rxMedicinePetMedicalConditions_'+t+'-_options_-"]:checked'),function(e,t){t.checked=!1});var c={};$.each($('[id^="rxMedicinePetMedicalConditions_'+t+'-_options_-"]'),function(e,t){""!=t.value&&(c[t.value]=t.value)});$("#rxMedicinePetMedicalConditions_"+t+"_Others").val("");for(var u=v.split(","),p=0,m=0;m<u.length;m++)"undefined"!=typeof c[u[m]]?$.each($('[id^="rxMedicinePetMedicalConditions_'+t+'-_options_-"]'),function(e,t){t.value==u[m]&&(t.checked=!0)}):$("#rxMedicinePetMedicalConditions_"+t+"_Others").val(u[m])}var f=s[d].gender;$.each($('[name="'+o.Gender+"_"+t+'"]'),function(e,t){t.value==f&&(t.checked=!0)});var g=s[d].dateofbirth,I=g.split("-");$("#"+o["Pet DOB"]+"_"+t+"_MON").val(1*I[1]);$("#"+o["Pet DOB"]+"_"+t+"_Date").val(1*I[2]);$("#"+o["Pet DOB"]+"_"+t+"_Year").val(1*I[0]);petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#"+o["Pet DOB"]+"_"+t+"_MON"),t)}petcoPersonalizationJS.addValueForBreedField($("#rxMedicinePetBreed_"+t)[0],"autoSuggestLoader_"+t)},populateVetInfoData:function(e,t){var i=$("#fieldGroup").html(),a=JSON.parse(i),o={};for(var n in a)o[a[n].Label]=a[n].Field;var r=e.value,s=r.split("||")[1],d=r.split("||")[2],l=r.split("||")[0],c=petcoPersonalizationJS.petVetInfoData.vetinfo;if("undefined"!=typeof c)for(var u in c)if(c[u].vetname==s&&c[u].vetlastname==d&&c[u].vetapiid==l){$("#"+o["Vet First Name"]+"_"+t).val(s);$("#"+o["Vet Last Name"]+"_"+t).val(c[u].vetlastname);$("#"+o["Vet Clinic Name"]+"_"+t).val(c[u].vatclinicname);$("#"+o["Vet Fax No"]+"_"+t).val(c[u].vetfaxno);$("#"+o["Vet Phone No"]+"_"+t).val(c[u].vetphoneno);$("#"+o["Vet API ID"]+"_"+t).val(c[u].vetapiid);$("#"+o["Vet CLINIC ID"]+"_"+t).val(c[u].vetclinicidapi);petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#"+o["Vet Phone No"]+"_"+t),t)}},openContainerTemplateEnabled:function(e){var t=e.id,i=$("#"+t+"_optionsifyes");1==e.checked?$(i).removeClass("hide"):$(i).addClass("hide")},addMoreFOrMultiselect:function(e){if($(e).hasClass("hide"))return!1;var t=e.id,i=t.split("_"),a=i[0]+"_"+i[1]+"_optionContainer_0",o=$("#"+a);if(o.length>0){var n=$(o).parent(),r=$(n).clone();$(r[0]).find("select")[0].id=$(r[0]).find("select")[0].id+$('[id^="'+a+'"]').length;$(r).insertBefore($(e).parent());petcoPersonalizationJS.triggerChange(a);3==$('[id^="'+a+'"]').length&&$(e).addClass("hide")}},rxEditThisPage:function(e,t,i,a,o){var n="#"+t+"_edit",r="#"+t+"_review",s="#"+t+"_editLink";$(n).removeClass("hide");$(n).addClass("show");if("PET"==i){if($("#savedPetData_"+a).length>0&&$("#savedPetData_"+a).hasClass("hide")){$("#savedPetData_"+a).removeClass("hide");$("#rxMedicinePetName_"+a).addClass("hide");$("#petinfoaddnewpet_"+a).removeClass("hide");var d=$("#rxMedicinePetName_"+a).val(),l=$("#rxMedicinePetType_"+a).val(),c=$("#rxMedicinePetAllergies_"+a).val(),u=$("#rxMedicinePetBreed_"+a).val(),p=$("#rxMedicinePetDateOfBirth_"+a+"_Year").val()+"-"+$("#rxMedicinePetDateOfBirth_"+a+"_MON").val()+"-"+$("#rxMedicinePetDateOfBirth_"+a+"_Date").val(),m=$('input[type="radio"][name="rxMedicinePetGender_'+a+'"]').val(),h="";$("#rxMedicinePetAllergic_"+a+":checked").length>0?$.each($('[id^="rxMedicinePetAllergic_'+a+'_optionContainer_"]'),function(e,t){""!=$(t).val()&&(h=""!=h?h+","+$(t).val():$(t).val())}):h="No";var y="";$("#rxMedicinePetMedications_"+a+":checked").length>0?$.each($('[id^="rxMedicinePetMedications_'+a+'_optionContainer_"]'),function(e,t){""!=$(t).val()&&(y=""!=y?y+","+$(t).val():$(t).val())}):y="No";var v="";$("#rxMedicinePetMedicalConditions_"+a+":checked").length>0?$.each($('[id^="rxMedicinePetMedicalConditions_'+a+'_optionContainer_"]'),function(e,t){""!=$(t).val()&&(v=""!=v?v+","+$(t).val():$(t).val())}):v="No";var f=$("#rxMedicinePetWeight_"+a).val(),g={};g.allergies=c;g.breed=u;g.dateofbirth=p;g.gender=m;g.petalergic=h;g.petmedication=y;g.petmedicationcondition=v;g.petname=d;g.pettype=l;g.weight=f;$("#savedPetData_"+a).append("<option selected value='"+d+"'>"+d+"</option>");petcoPersonalizationJS.petVetInfoData.petinfo[petcoPersonalizationJS.petVetInfoData.petinfo.length]=g}$("#modal-rxmedicine select.CHECKBOX").each(function(e,t){petcoPersonalizationJS.triggerChange(t.id)})}else if("VET"==i&&$("#savedVetData_"+a).length>0&&$("#savedVetData_"+a).hasClass("hide")){$("#savedVetData_"+a).removeClass("hide");$("#rxMedicinePetName_"+a).addClass("hide");$("#vetinfoaddnewvet_"+a).removeClass("hide");var I=$("#rxMedicineVetName_"+a).val(),_=$("#rxMedicineVetLastName_"+a).val(),c=$("#rxMedicinePetAllergies_"+a).val(),b=($("#rxMedicineVetCliName_"+a).val(),$("#rxMedicineVetPhNo_"+a).val()),S=$("#rxMedicineVetFxNo_"+a).val(),P=$("#rxMedicineVetAPIId_"+a).val(),E=$("#rxMedicineVetClinicId_"+a).val(),D={};D.vatclinicname=I;D.vetapiid=P;D.vetclinicidapi=E;D.vetfaxno=S;D.vetlastname=_;D.vetname=I;D.vetphoneno=b;$("#savedVetData_"+a).append("<option selected value='"+P+"||"+I+"||"+_+"'>"+I+" "+_+"</option>");petcoPersonalizationJS.petVetInfoData.vetinfo[petcoPersonalizationJS.petVetInfoData.vetinfo.length]=D}$(r).addClass("hide");$(r).removeClass("show");$(s).addClass("hide");$(s).removeClass("show");$("#submitArea_"+a).removeClass("show");$("#submitArea_"+a).addClass("hide");for(var C=!0,x=0;x<o.length;x++){var A="#"+o[x]+"_"+a+"_review";$(A).hasClass("hide")&&(C=!1)}var M="#"+t+"_saveandreviewbutton",j="#"+t+"_button";if("Prescription"!=i)if(C){$(M).removeClass("hide");$(j).addClass("hide")}else{$(M).addClass("hide");$(j).removeClass("hide")}petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($(j)[0],a);if("VET"==i)if(""!=$("#rxMedicineVetAPIId_"+a).val()&&""!=$("#rxMedicineVetClinicId_"+a).val()){$("#RX_MyVet_"+a+"_searchPannel").addClass("show");$("#RX_MyVet_"+a+"_searchPannel").removeClass("hide");$("#RX_MyVet_"+a+"_editForm").addClass("hide");$("#RX_MyVet_"+a+"_editForm").removeClass("show");$("#vetSearchResults_"+a).html('<div class="text-center"><img src="/wcsstore/PetcoSAS/images/miniloading.gif" class="text-center" border="0"/></div>');petcoPersonalizationJS.loadVetClinicInfoForEdit(a)}else{$("#RX_MyVet_"+a+"_searchPannel").addClass("hide");$("#RX_MyVet_"+a+"_searchPannel").removeClass("show");$("#RX_MyVet_"+a+"_editForm").addClass("show");$("#RX_MyVet_"+a+"_editForm").removeClass("hide")}petcoPersonalizationJS.addValueForBreedField($("#rxMedicinePetBreed_"+a)[0],"autoSuggestLoader_"+a)},rxContinueToNextPage:function(e,t,i,a,o){if(null==e||!$(e).hasClass("disabled")){var n="#"+t+"_edit",r="#"+t+"_review",s="#"+t+"_editLink";$(n).addClass("hide");$(n).removeClass("show");$(r).removeClass("hide");$(r).addClass("show");$(s).removeClass("hide");$(s).addClass("show");if("PET"==i&&$("#vet-pickup-method_"+a).length>0){$(r).html("");$("#vet-pickup-method_"+a).find("li.form-field-sublist")[0].style.display="block";var d=$("#rxMedicinePetName_"+a).val(),l=$("#rxMedicinePetType_"+a).val(),c=$("#rxMedicinePetBreed_"+a).val(),u=$("#rxMedicinePetDateOfBirth_"+a+"_Date").val(),p=$("#rxMedicinePetDateOfBirth_"+a+"_MON").val(),m=$("#rxMedicinePetDateOfBirth_"+a+"_Year").val(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],y=h[1*p-1],v=y+" "+u+", "+m,f="<p class='spacer-lg-left spacer-xsm-bottom spacer-sm-top'><strong>"+d+"</strong></p>";f=f+"<p class='spacer-lg-left'><strong>Type: </strong>"+l+"</p>";f=f+"<p class='spacer-lg-left'><strong>Breed: </strong>"+c+"</p>";f=f+"<p class='spacer-lg-left spacer-xsm-bottom'><strong>Birthday: </strong>"+v+"</p>";$(r).html(f)}else if("VET"==i){$(r).html("");var g=$("#rxMedicineVetName_"+a).val(),I=$("#rxMedicineVetLastName_"+a).val(),_=$("#rxMedicineVetPhNo_"+a).val(),b=$("#rxMedicineVetCliName_"+a).val(),S=(b.substring(0,b.indexOf("Address:")),$("#rxMedicineVetClinicId_"+a).val(),$("#rxMedicineVetAPIId_"+a).val(),"<p class='spacer-lg-left spacer-sm-top'><strong>Veterinarian Name: </strong>"+g+" "+I+"</p>");S=S+"<p class='spacer-lg-left'><strong>Clinic Name: </strong>"+b+"</p>";S=S+"<p class='spacer-lg-left spacer-xsm-bottom'><strong>Phone Number: </strong>"+_+"</p>";$(r).html(S);if($('[id^="RX_MyPrescription_"]').length>0&&$("#RX_MyPrescription_"+a+"_review").hasClass("hide"))$("#RX_MyPrescription_"+a).find("li.form-field-sublist")[0].style.display="block";else{$("#submitArea_"+a).addClass("show");$("#submitArea_"+a).removeClass("hide")}}else if("PRESCRIPTION"==i||"Prescription"==i){$(r).html("");var P=($("#rxMedicineRcvPrescrition_"+a).val(),$("#rxMedicinePrescriptionNumber_"+a).val()),S="<p class='spacer-lg-left spacer-sm-top'><strong>Prescription Number : </strong>"+P+"</p>";$(r).html(S);$("#submitArea_"+a).addClass("show");$("#submitArea_"+a).removeClass("hide")}if(o){$("#submitArea_"+a).addClass("show");$("#submitArea_"+a).removeClass("hide")}}},getClicnicInfoVetUrl:function(e,t,i){var a=$("#VetInfoLookupUrl").val(),o="";if($("#enterZipcodeSearch_"+t).length>0){o=$("#enterZipcodeSearch_"+t).val();""==o&&(i=!0)}else i=!0;if(""==o){if("undefined"!=typeof i&&i){var n=localStorage.getItem("petcostores_latitude_longitude");if(null!=n){var r=JSON.parse(n),s=r.latitude,d=r.longitude;if("undefined"!=typeof s&&"undefined"!=typeof d){a=a+"&latitude="+s;a=a+"&longitude="+d}}a=a+"&page="+e}}else{a=a+"&zipcode="+o.trim();a=a+"&page="+e}a=a+"&"+Math.floor((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()+(new Date).getHours()/2);return a},cancleVetCLinicInfo:function(e){var t=$("#vetSearchResults_"+e);t.length>0&&t.html("");$("#enterZipcodeSearch_"+e).length>0&&$("#enterZipcodeSearch_"+e).val("")},loadVetClicnicInfos:function(e,t,i,a){if("undefined"!=typeof a&&a){var o=$("#vetSearchResults_"+t);o.length>0&&o.html("")}0==$("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").length&&$("#vetSearchResults_"+t).html('<div class="text-center"><img src="/wcsstore/PetcoSAS/images/miniloading.gif" class="text-center clinicnamecontainer" border="0"/></div>');var n=8e3;i&&(n=3e3);$.ajax({url:petcoPersonalizationJS.getClicnicInfoVetUrl(e,t,i),type:"GET",cache:!0,contentType:"application/json",dataType:"json",timeout:n,data:"",success:function(i){var a=$("#vetSearchResults_"+t);if(a.length>0){var o=i.items,n="";if("undefined"!=typeof o){var r=0;for(var s in o){var d=o[s].address,l=(o[s].country,o[s].state,o[s].phone_number),c=(o[s].zip_code,o[s].city,o[s].name),u=o[s].id,p=o[s].fax_phone_number;n+="<div class='row vetclinicrow'>";n+="<div class='col-2 col-2-sm'>";n=n+"<input type='radio' id='selectClinNameId_"+u+"_"+t+"' name='selectClinName"+t+"' onclick='petcoPersonalizationJS.selectAndOpenVetClinic("+u+","+t+")'/>";n+="</div>";n+="<div class='col-10 col-10-sm'>";n=n+"<label for='selectClinNameId_"+u+"_"+t+"' >"+c+"</br>"+d+"</label>";n=n+"<input type='hidden' id='idVetClinic_"+u+"_"+t+"' value='"+u+"'/>";n=n+"<input type='hidden' id='adrVetClinic_"+u+"_"+t+"' value='"+d+"'/>";n=n+"<input type='hidden' id='nameVetClinic_"+u+"_"+t+"' value='"+c+"'/>";n=n+"<input type='hidden' id='phone_numberVetClinic_"+u+"_"+t+"' value='"+l+"'/>";n=n+"<input type='hidden' id='fax_phone_numberVetClinic_"+u+"_"+t+"' value='"+p+"'/>";n+="</div>";n+="</div>";n=n+"<div class='row vetresultrow hide margin-bottom-sm' id='vetresultrowId_"+u+"_"+t+"'>";n=n+"<div class='text-center'><img src='"+$("#miniloadingImg").val()+"' class='text-center' border='0' /></div>";n+="</div>";r++}0==r&&$("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").addClass("hide")}else $("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").addClass("hide");var m=1*e*10+1*i.page_items-10;m>1*i.total_items&&(m=1*i.total_items);if("undefined"!=typeof i&&!isNaN(m)&&m!=1*i.total_items&&1*i.page_items>0){$("#RX_VetLoadNextPage_"+t).remove();$("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").addClass("hide");n+="<div class='row'>";n+="<div class='col-12 text-center'>";n=n+"<a href='javaScript:void(0)'  class='editLink' id='RX_VetLoadNextPage_"+t+"' onclick='petcoPersonalizationJS.loadVetClicnicInfos("+(1*e+1)+","+t+");'>Load More</a>";n+="</div></div>";$(a).append(n)}else{$("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").addClass("hide");$("#RX_VetLoadNextPage_"+t).remove();$(a).append(n)}}else $("#vetSearchResults_"+t+" div.text-center img.clinicnamecontainer").addClass("hide")},error:function(){console.log("PET INFORMATION ERROR OUT");cursor_clear();var e=$("#vetSearchResults_"+t);e.length>0&&$(e).html("")}})},getVetInfoVetUrl:function(e,t){var i=$("#VetInfoLookupUrl").val(),a="";$("#idVetClinic_"+e+"_"+t).length>0&&(a=$("#idVetClinic_"+e+"_"+t).val());""!=a&&(i=i+"&clinicId="+a);return i+"&"+Math.floor((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()+(new Date).getHours()/2)},getClicnicInfoVetEditUrl:function(e,t){var i=$("#VetInfoLookupUrl").val(),a="";if($("#enterZipcodeSearch_"+t).length>0){a=$("#enterZipcodeSearch_"+t).val();""!=a&&(i=i+"&zipcode="+a)}return i+"&"+Math.floor((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()+(new Date).getHours()/2)},selectAndOpenVetClinic:function(e,t){$.each($('[id^="vetresultrowId_"].show'),function(e,t){$(t).addClass("hide");$(t).removeClass("show")});$("#vetresultrowId_"+e+"_"+t).removeClass("hide");$("#vetresultrowId_"+e+"_"+t).addClass("show");var i="Save My Vet Info";$(".vetConitnueLabel").length>0&&(i=$(".vetConitnueLabel")[0].value);$.ajax({url:petcoPersonalizationJS.getVetInfoVetUrl(e,t),type:"GET",cache:!0,contentType:"application/json",dataType:"json",data:"",success:function(a){var o=$("#vetresultrowId_"+e+"_"+t);if(o.length>0){var n=a.items;if("undefined"!=typeof n){var r="";r+="<div class='row'>";r+="<div class='col-3 col-1-sm'>&nbsp;</div>";r+="<div  class='col-6 col-10-sm text-center'>";r=r+"<select id='vetresultselectBoxId_"+e+"_"+t+"' onchange='petcoPersonalizationJS.enableSaveVetInfoButton("+e+","+t+",this)'>";r+="<option value=''>Select Your Vet</option>";for(var s in n){var d=n[s].last_name.split("'").join(" ");d=d.split('"').join(" ");var l=n[s].first_name.split("'").join(" ");l=l.split('"').join(" ");var c=n[s].id,u=n[s].phone_number,p=n[s].fax_phone_number;r=r+"<option value='"+c+"||"+l+"||"+d+"||"+u+"||"+p+"'>"+l+" "+d+"</option>"}r+="</select>";r+="</div><div class='col-3 col-1-sm'>&nbsp;</div>";r+="</div>";r+="<div class='row'>";r+="<div class='col-3 col-1-sm'>&nbsp;</div>";r+="<div  class='col-6 col-10-sm text-center'>";r=r+"<a class='btn btn-primary btn-full disabled' id='RX_MyVetSaveInfo_"+e+"_"+t+"'";r=r+" onclick='petcoPersonalizationJS.saveVetInfoFromAPI("+e+","+t+",this);' ";r=r+" href='javascript:void(0)'>"+i+"</a>";r+="</div>";r+="<div class='col-3 col-1-sm'>&nbsp;</div></div>"}$(o).html(r)}},error:function(){console.log("PET INFORMATION ERROR OUT");var i=$("#vetresultrowId_"+e+"_"+t);i.length>0&&$(i).html("")}})},enableSaveVetInfoButton:function(e,t,i){var a="RX_MyVetSaveInfo_"+e+"_"+t,o=$("#"+a);o.length>0&&(""!=i.value?$(o).removeClass("disabled"):$(o).addClass("disabled"))},saveVetInfoFromAPI:function(e,t,i){if(!$(i).hasClass("disabled")){var a="",o="",n="",r="",s="",d="",l="",c="vetresultselectBoxId_"+e+"_"+t;if($("#"+c).length>0){var u=$("#"+c).val();a=u.split("||")[1];o=u.split("||")[2];l=u.split("||")[0];r=u.split("||")[3];s=u.split("||")[4]}if(""==r||""==s){r=$("#phone_numberVetClinic_"+e+"_"+t).val();s=$("#fax_phone_numberVetClinic_"+e+"_"+t).val()}if($("#isUseClinicPhoneNumber").length>0&&"true"==$("#isUseClinicPhoneNumber").val()){r=$("#phone_numberVetClinic_"+e+"_"+t).val();s=$("#fax_phone_numberVetClinic_"+e+"_"+t).val()}d=$("#idVetClinic_"+e+"_"+t).val();n=$("#nameVetClinic_"+e+"_"+t).val()+" Address: "+$("#adrVetClinic_"+e+"_"+t).val();n=decodeURIComponent(n);n.length>250&&(n=n.substring(0,250));$("#rxMedicineVetName_"+t).val(a);null!=o&&"null"!=o&&""!=o&&$("#rxMedicineVetLastName_"+t).val(o);$("#rxMedicineVetCliName_"+t).val(n);$("#rxMedicineVetPhNo_"+t).val(r);null!=s&&"null"!=s&&""!=s&&$("#rxMedicineVetFxNo_"+t).val(s);$("#rxMedicineVetAPIId_"+t).val(l);$("#rxMedicineVetClinicId_"+t).val(d);if("undefined"!=typeof document.savemyvetprofile)document.savemyvetprofile.submit();else{var p=$("#RX_MyVet_"+t+"_button");$(p).removeClass("disabled");var m=!0;$('[id^="RX_MyPrescription_"]').length>0&&(m=!1);petcoPersonalizationJS.rxContinueToNextPage(p[0],"RX_MyVet_"+t,"VET",t,m);petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled(i,t)}}},loadVetClinicInfoForEdit:function(e){var t=$("#rxMedicineVetClinicId_"+e).val(),i=$("#rxMedicineVetCliName_"+e).val(),a=i.substring(0,i.indexOf("Address:"));$("#vetSearchResults_"+e).html('<div class="text-center"><img src="/wcsstore/PetcoSAS/images/miniloading.gif" class="text-center clinicnamecontainer" border="0"/></div>');$.ajax({url:petcoPersonalizationJS.getClicnicInfoVetEditUrl(a,e),type:"GET",cache:!0,contentType:"application/json",dataType:"json",data:"",success:function(i){var a=$("#vetSearchResults_"+e);if(a.length>0){var o=i.items,n="";if("undefined"!=typeof o){for(var r in o)if(o[r].id==t){var s=o[r].address,d=(o[r].country,o[r].state,o[r].phone_number),l=(o[r].zip_code,o[r].city,o[r].name),c=o[r].id,u=o[r].fax_phone_number;n+="<div class='row vetclinicrow'>";n+="<div class='col-2 col-2-sm'>";n=n+"<input type='radio' checked='checked' id='selectClinNameId_"+c+"_"+e+"' name='selectClinName"+e+"' onclick='petcoPersonalizationJS.selectAndOpenVetClinic("+c+","+e+")'/>";n+="</div>";n+="<div class='col-10 col-10-sm'>";n=n+"<label for='selectClinNameId_"+c+"_"+e+"' >"+l+"</br>"+s+"</label>";n=n+"<input type='hidden' id='idVetClinic_"+c+"_"+e+"' value='"+c+"'/>";n=n+"<input type='hidden' id='adrVetClinic_"+c+"_"+e+"' value='"+s+"'/>";n=n+"<input type='hidden' id='nameVetClinic_"+c+"_"+e+"' value='"+l+"'/>";n=n+"<input type='hidden' id='phone_numberVetClinic_"+c+"_"+e+"' value='"+d+"'/>";n=n+"<input type='hidden' id='fax_phone_numberVetClinic_"+c+"_"+e+"' value='"+u+"'/>";n+="</div>";n+="</div>";n=n+"<div class='row vetresultrow margin-bottom-sm' id='vetresultrowId_"+c+"_"+e+"'>";n=n+"<div class='text-center'><img src='"+$("#miniloadingImg").val()+"' class='text-center' border='0' /></div>";n+="</div>";$(a).html(n);break}$("#vetSearchResults_"+e+" div.text-center img.clinicnamecontainer").length>0&&$("#vetSearchResults_"+e+" div.text-center img.clinicnamecontainer").addClass("hide");petcoPersonalizationJS.loadVetExpertsInfoForEdit(t,e)}else $("#vetSearchResults_"+e+" div.text-center img.clinicnamecontainer").addClass("hide")}else $(a).html("")},error:function(){$("#vetSearchResults_"+e+" div.text-center img.clinicnamecontainer").addClass("hide");console.log("PET INFORMATION ERROR OUT");var t=$("#vetSearchResults_"+e);t.length>0&&$(t).html("")}})},loadVetExpertsInfoForEdit:function(e,t){var i="Save My Vet Info";$(".vetConitnueLabel").length>0&&(i=$(".vetConitnueLabel")[0].value);$.ajax({url:petcoPersonalizationJS.getVetDetailsEditUrl(e),type:"GET",cache:!0,contentType:"application/json",dataType:"json",data:"",success:function(a){var o=$("#vetresultrowId_"+e+"_"+t);if(o.length>0){var n=a.items;if("undefined"!=typeof n){var r="";r+="<div class='row'>";r+="<div class='col-3 col-1-sm'>&nbsp;</div>";r+="<div  class='col-6 col-10-sm text-center'>";r=r+"<select id='vetresultselectBoxId_"+e+"_"+t+"' onchange='petcoPersonalizationJS.enableSaveVetInfoButton("+e+","+t+",this)'>";r+="<option value=''>Select Your Vet</option>";for(var s in n){var d=n[s].last_name.split("'").join(" ");d=d.split('"').join(" ");var l=n[s].first_name.split("'").join(" ");l=l.split('"').join(" ");var c=n[s].id,u=n[s].phone_number,p=n[s].fax_phone_number;r=r+"<option value='"+c+"||"+l+"||"+d+"||"+u+"||"+p+"'>"+l+" "+d+"</option>"}r+="</select>";r+="</div><div class='col-3 col-1-sm'>&nbsp;</div>";r+="</div>";r+="<div class='row'>";r+="<div class='col-3 col-1-sm'>&nbsp;</div>";r+="<div  class='col-6 col-10-sm text-center'>";r=r+"<a class='btn btn-primary btn-full disabled' id='RX_MyVetSaveInfo_"+e+"_"+t+"'";r=r+" onclick='petcoPersonalizationJS.saveVetInfoFromAPI("+e+","+t+",this)' ";r=r+" href='javascript:void(0)'>"+i+"</a>";r+="</div>";r+="<div class='col-3 col-1-sm'>&nbsp;</div></div>"}$(o).html(r);var m=$("#rxMedicineVetAPIId_"+t).val(),h=$("#rxMedicineVetName_"+t).val(),y=$("#rxMedicineVetLastName_"+t).val();$("#vetresultselectBoxId_"+e+"_"+t).val(m+"||"+h+"||"+y);
petcoPersonalizationJS.enableSaveVetInfoButton(e,t,$("#vetresultselectBoxId_"+e+"_"+t)[0])}},error:function(){console.log("PET INFORMATION ERROR OUT");var e=$("#vetresultrowId_"+clinicId+"_"+t);e.length>0&&$(e).html("")}})},getVetDetailsEditUrl:function(e){var t=$("#VetInfoLookupUrl").val();""!=e&&(t=t+"&clinicId="+e);return t+"&"+Math.floor((new Date).getDate()+""+(new Date).getMonth()+(new Date).getYear()+(new Date).getHours()/2)},openRXVetEditPannel:function(e){$("#RX_MyVet_"+e+"_searchPannel").addClass("hide");$("#RX_MyVet_"+e+"_searchPannel").removeClass("show");$("#RX_MyVet_"+e+"_editForm").addClass("show");$("#RX_MyVet_"+e+"_editForm").removeClass("hide")},openRXVetClinicSearchPannel:function(e){$("#RX_MyVet_"+e+"_searchPannel").addClass("show");$("#RX_MyVet_"+e+"_searchPannel").removeClass("hide");$("#RX_MyVet_"+e+"_editForm").addClass("hide");$("#RX_MyVet_"+e+"_editForm").removeClass("show")},closeRxModal:function(){try{var e;$("#omnitureEnabled").size()>0&&(e=$("#omnitureEnabled").val());if("undefined"!=e&&null!=e&&""!=e&&"true"==e&&"undefined"!=typeof PetcoDataLayer.page.page_type&&"Product"==PetcoDataLayer.page.page_type){var t=!1;$("div#modal-rxmedicine div.rxmedicineContent div.submit-row div.col-center.show a.btn-primary.disabled").length>0&&(t=!0);var i={};if(t){var a=1;$("#quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).length>0&&(a=$("#quantity_"+productDisplayJS.bopusShowStoreDetailsProductId).val());var o=petcoPersonalizationJS.omniatureFindMissingFieldsForRx(a);"undefined"!=typeof o.partiallyFilled&&"false"==o.partiallyFilled&&(t=!1);t&&"undefined"!=typeof o.LEFTATERRORFIELD&&(i["Form left at"]=o.LEFTATERRORFIELD);"undefined"!=typeof o.ERRORFIELDS&&(i["Invalid Fileds"]=o.ERRORFIELDS)}i["Partially Filled"]=t;i.event_name="Close Rx Modal";pushEvent(i)}}catch(e){console.log(e)}},omniatureFindMissingFieldsForRx:function(e){for(var t=$("#fieldGroup").html(),i=JSON.parse(t),a="",o={},n=[],r=0,s=0,d=1;d<=e;d++)for(var l in i){var c=!0,u=$('[id^="'+i[l].Field+"_"+d+'"]'),p=i[l].IsRequired;i[l].FieldGroup+"_"+d;if(u.length>0){var m=!1,h=!1,y=!1,v=!1,f=!1,g=!1;u[0].className.indexOf("NUMERIC")>-1?m=!0:u[0].className.indexOf("TELEPHONE")>-1?h=!0:u[0].className.indexOf("MULTICHECKBOX")>-1?v=!0:u[0].className.indexOf("CHECKBOX")>-1?y=!0:u[0].className.indexOf("DATE")>-1?f=!0:u[0].className.indexOf("RADIO")>-1&&(g=!0);if("Y"==p){v||y||r++;if(y||f||g||v||""!=u[0].value.trim()){if(g){var I=$('input[type="radio"][name="'+i[l].Field+"_"+d+'"]:checked');if(0==I.length){c=!1;s++}}else if(y){var _=$("#"+i[l].Field+"_"+d+":checked");if(_.length>0){var b=!0;$.each($('[id^="'+i[l].Field+"_"+d+'_optionContainer"]'),function(e,t){""!=t.value.trim()&&(b=!1)});b&&""==$("#"+i[l].Field+"_"+d+"_Others").val().trim()&&(c=!1)}}else if(v){var _=$("#"+i[l].Field+"_"+d+":checked");_.length>0&&0==$('[id^="'+i[l].Field+"_"+d+'-_options"]:checked').length&&""==$("#"+i[l].Field+"_"+d+"_Others").val().trim()&&(c=!1)}else if(f)if($("#"+i[l].Field+"_"+d+"_MON").length>0&&""!=$("#"+i[l].Field+"_"+d+"_MON").val()&&$("#"+i[l].Field+"_"+d+"_Date").length>0&&""!=$("#"+i[l].Field+"_"+d+"_Date").val()&&$("#"+i[l].Field+"_"+d+"_Year").length>0&&""!=$("#"+i[l].Field+"_"+d+"_Year").val()){var S=$("#"+i[l].Field+"_"+d+"_Date").val(),P=$("#"+i[l].Field+"_"+d+"_MON").val(),E=$("#"+i[l].Field+"_"+d+"_Year").val(),D=new Date;D.setFullYear(E,P-1,S);D.getDate()!=S&&D.getMonth()!=P-1&&(c=!1)}else{c=!1;s++}}else{c=!1;s++}}(h||m)&&""!=u[0].value.trim()&&isNaN(u[0].value.trim())?c=!1:h&&""!=u[0].value.trim()&&u[0].value.trim().length<10&&(c=!1)}if(!c){""==a&&(a=i[l].Label);n.push(i[l].Label+"_"+d)}}""!=a&&(o.LEFTATERRORFIELD=a);n.length>0&&(o.ERRORFIELDS=n.join(","));1*r==1*s&&(o.partiallyFilled="false");return o},loadAutoCOmpleteForBreed:function(e,t){if("undefined"!=typeof e&&null!=e){var i=e.id.replace("autoSuggestLoader_",""),a="rxMedicinePetBreed_list_"+i,o=e.value.trim();$("#"+t+" option").each(function(e,t){""==$(t).attr("value")?$(t).addClass("optionHideAutoComplete"):$(t).removeClass("optionHideAutoComplete")});if(""!=o){var n=!1;$("#"+t+" option").each(function(e,t){if($(t).attr("value").toUpperCase().indexOf(o.toUpperCase())==-1)$(t).addClass("optionHideAutoComplete");else{n=!0;$(t).removeClass("optionHideAutoComplete")}});if("undefined"!=typeof event&&null!=event&&40==event.keyCode&&n){$("#"+t)[0].focus();$("#"+t+" option")[0].focus()}}else{""==o&&$("#"+a).height(50);$("#"+t).val("")}$("#"+a)[0].style.maxHeight="80px";$("#"+a)[0].style.overflowY="auto";$("#"+a).html("");if($("#"+t+" option.optionHideAutoComplete").length==$("#"+t+" option").length&&""!=o){$(e).addClass("error");$("#"+a).height(20);$("#"+a).append($('<div class="optionAutoCompleteNoResults">No matches found</div>'))}else{$("#"+a).height(20*($("#"+t+" option").length-$("#"+t+" option.optionHideAutoComplete").length));$(e).removeClass("error");$("#"+a+" div.optionAutoCompleteNoResults").remove()}$("#"+t+" option").each(function(o,n){"none"==n.style.display||$(n).hasClass("optionHideAutoComplete")||$("#"+a).append($('<div class="selectListItem" onclick="petcoPersonalizationJS.selectValueFromList(\''+n.value.split('"').join("<<DOUBLEQUOTS>>").split("'").join("<<QUOTS>>")+"','"+e.id+"','"+t+"','"+a+"'), petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled(this,'"+i+"');\">"+n.value+"</div>"))})}},selectValueFromList:function(e,t,i,a){e=e.split("<<DOUBLEQUOTS>>").join('"').split("<<QUOTS>>").join("'");$("#"+i).val(e);$("#"+t).val(e);$("#"+a).html("");$("#"+a).height(0)},addValueForBreedField:function(e,t){if(""!=e.value){$("#"+e.id+' option[value="'+e.value+'"]').length>0&&$("#"+t).val(e.value);e.style.display="none";var i=t.replace("autoSuggestLoader_",""),a="rxMedicinePetBreed_list_"+i;$("#"+a).html("");$("#"+a).height(0)}else{$("#"+t).val("");$("#"+e.id+" option").length<2?e.style.display="none":e.style.display="block"}},openAutoCOmpleteForBreed:function(e,t){$("#"+t+' option[value=""]').css("display","none");this.loadAutoCOmpleteForBreed(e,t)},selectBreedValueForBreedField:function(e,t){"undefined"!=typeof event&&null!=event&&13==event.keyCode&&(e.style.display="none")},saveVetInfoFromVetServiceResponse:function(e,t){if("undefined"!=e&&null!=e){var i=e.first_name,a=e.last_name,o=e.id,n=e.phone_number,r=e.fax_phone_number,s=e.clinic.id,d=e.clinic.name+" Address: "+e.clinic.street_address;d=decodeURIComponent(d);d.length>250&&(d=d.substring(0,250));if(""==n||""==r){n=e.clinic.phone_number;r=e.clinic.fax_number}if($("#isUseClinicPhoneNumber").length>0&&"true"==$("#isUseClinicPhoneNumber").val()){n=e.clinic.phone_number;r=e.clinic.fax_number}null!=i&&"null"!=i&&""!=i&&$("#rxMedicineVetName_"+t).val(i);null!=a&&"null"!=a&&""!=a&&$("#rxMedicineVetLastName_"+t).val(a);null!=d&&"null"!=d&&""!=d&&$("#rxMedicineVetCliName_"+t).val(d);null!=n&&"null"!=n&&""!=n&&$("#rxMedicineVetPhNo_"+t).val(n);null!=r&&"null"!=r&&""!=r&&$("#rxMedicineVetFxNo_"+t).val(r);null!=o&&"null"!=o&&""!=o&&$("#rxMedicineVetAPIId_"+t).val(o);null!=s&&"null"!=s&&""!=s&&$("#rxMedicineVetClinicId_"+t).val(s);var l="#RX_MyVet_"+t+"_edit",c="#RX_MyVet_"+t+"_review",u="#RX_MyVet_"+t+"_editLink";$(l).addClass("hide");$(l).removeClass("show");$(c).removeClass("hide");$(c).addClass("show");$(u).removeClass("hide");$(u).addClass("show");$(c).html("");var p=$("#rxMedicineVetName_"+t).val(),m=$("#rxMedicineVetLastName_"+t).val(),h=$("#rxMedicineVetPhNo_"+t).val(),y=$("#rxMedicineVetCliName_"+t).val(),v=(y.substring(0,y.indexOf("Address:")),$("#rxMedicineVetClinicId_"+t).val(),$("#rxMedicineVetAPIId_"+t).val(),"<p class='spacer-lg-left spacer-sm-top'><strong>Veterinarian Name: </strong>"+p+" "+m+"</p>");v=v+"<p class='spacer-lg-left'><strong>Clinic Name: </strong>"+y+"</p>";v=v+"<p class='spacer-lg-left spacer-xsm-bottom'><strong>Phone Number: </strong>"+h+"</p>";$(c).html(v);$("#submitArea_"+t).addClass("show");$("#submitArea_"+t).removeClass("hide");var f=$('[id^="rxMedicinePersonalizationSubmit_PDP_'+t+'"]'),g=$('[id^="rxMedicinePersonalizationSubmit_WishList_'+t+'"]'),I=$('[id^="rxMedicinePersonalizationSubmit_Cart_'+t+'"]');$(f).removeClass("disabled");$(g).removeClass("disabled");$(I).removeClass("disabled");if($('[id^="rxMedicineVetDetailsSubmit_SPC"]').length>0){var _=$('[id^="rxMedicineVetDetailsSubmit_SPC"]');$(_).removeClass("disabled");$(_).addClass("show");$(_).removeClass("hide")}}else console.log("Response from vet service is null or undefined")},editVetInfoFromVetServiceResponse:function(e){var t="#RX_MyVet_"+e+"_edit",i="#RX_MyVet_"+e+"_review",a="#RX_MyVet_"+e+"_editLink";$(t).removeClass("hide");$(t).addClass("show");$(i).addClass("hide");$(i).removeClass("show");$(a).addClass("hide");$(a).removeClass("show");$("#submitArea_"+e).removeClass("show");$("#submitArea_"+e).addClass("hide")},updateRXMedModalOnPDPQtyChange:function(e,t,i,a,o,n,r){var s=$("#loadRxPersonilaztionPageWidgetUrl").val();s=s+"&ltlorRxflag="+t;s=s+"&catentryId="+i;s=s+"&quantity="+a;s=s+"&fromPage="+o;s=s+"&persAttr="+n;s=s+"&maxUserInputQuantity="+r;s=s+"&SIGN_IN_URL="+e;var d=$("#loadRxPersonilaztionPageWidgetTimeout").val(),l=!1;$("#modal-rxmedicine.in").length>0&&(l=!0);$.ajax({url:s,type:"GET",cache:!1,timeout:d,data:"",success:function(e){$("#rxPersonilaztionDisplay").html(e);petcoPersonalizationJS.petandvetInfoPulated=!0;l&&productDisplayJS.showAddToCartSubmit()},error:function(){console.log("updateRXMedModalOnPDPQtyChange FAILURE")}})},validatePersonalizationPageSubmit:function(){var e="true",t=new RegExp(/^[0-9]+$/);if("undefined"!=document.getElementById("petcoPersPhNumber")&&null!=document.getElementById("petcoPersPhNumber")){var i=document.getElementById(document.getElementById("petcoPersPhNumber").value).value,a="persFieldError_"+document.getElementById("petcoPersPhNumber").value;if(i.length<10){e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.REGISTRATION_PHONE_ERR_BELOW_10_CHAR+"</span>"}else if(i.length>0&&("0"==i[0]||"1"==i[0]||"+"==i[0])){e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.REGISTRATION_PHONE_ERR_NOPREFIX_1+"</span>"}else if(t.test(i)){document.getElementById("helpBlkId").style="display:none";document.getElementById(a).innerHTML=""}else{e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.BOPUS_PICKUP_NUMERIC+"</span>"}if(e){document.getElementById(a).style="display:inline";document.getElementById("helpBlkId").style="display:none"}}else if("undefined"!=document.getElementById("petcoVetsPhNumber")&&null!=document.getElementById("petcoVetsPhNumber")){var i=document.getElementById(document.getElementById("petcoVetsPhNumber").value).value,a="persFieldError_"+document.getElementById("petcoVetsPhNumber").value;if(i.length<10){e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.REGISTRATION_PHONE_ERR_BELOW_10_CHAR+"</span>"}else if(i.length>0&&("0"==i[0]||"1"==i[0]||"+"==i[0])){e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.REGISTRATION_PHONE_ERR_NOPREFIX_1+"</span>"}else if(t.test(i)){document.getElementById("helpBlkVetPhId").style="display:none";document.getElementById(a).innerHTML=""}else{e="false";document.getElementById(a).innerHTML='<span class="error">'+MessageHelper.messages.BOPUS_PICKUP_NUMERIC+"</span>"}if(e){document.getElementById(a).style="display:inline";document.getElementById("helpBlkVetPhId").style="display:none"}}return e},removeRXQtyRestrictionAttr:function(){if($("[id^=rxMedQtyError_ordItem_]").length<=0)return!1;var e=$("#PetcoRemoveRXMedQtyRestrictionAttrCmdURL").val(),t=$("#currentOrderId").val();t&&(e=e+"&orderId="+t);var i=1;$("[id^=rxMedQtyError_ordItem_]").each(function(){e=e+"&orderItemId_"+i+"="+$(this).attr("value");i++});$.ajax({url:e,type:"POST",cache:!1,timeout:"3000",contentType:"application/json",dataType:"String",data:"",success:function(e){console.log("Restricted qty Attribute attribute removed successfully")},error:function(){console.log("Restricted qty Attribute attribute removed failure")}})},rxMedShowSeparateItems:function(e){$("[id^=RxMedItem_ItemBlock_"+e+"_]").each(function(e,t){$(t).removeClass("hide");$(t).addClass("show")});var t=$("#catentry_"+e).val(),i={};i.orderItemId=e;i.orderId=$("#orderId").val();i.action="splitOrderItems";i.catEntryId_1=t;var a=$("#rxMedApprovalMethodSelection_"+e+"_1");i.channel=a.val();cursor_wait();wc.service.invoke("AjaxUpdateOrderItemRxInfo",i)},resetPetInfoDropdown:function(){var e=$("#selectedOrderItemForEdit").val(),t=$("#selectedPet_"+e).val();$.each($("#rxMedPetDataSelection_"+e+"_1 option"),function(i,a){if($(a).html().trim()==t){$(a)[0].selected=!0;$("#rxMedVetDataSelection_"+e+"_1").attr("disabled",!1)}else{$("#"+petcoPersonalizationJS.petInfoDropdownId).val("");petcoPersonalizationJS.petInfoDropdownId=""}$("#rxMedEditPetInfo_"+e)&&$("#rxMedEditPetInfo_"+e).removeClass("hide")});petcoPersonalizationJS.resetMandatoryFieldWarnings();CheckoutHelperJS.disablePlaceOrderButton()},resetVetInfoDropdown:function(){var e=$("#selectedOrderItemForEdit").val(),t=$("#selectedVet_"+e).val();$.each($("#rxMedVetDataSelection_"+e+"_1 option"),function(i,a){if($(a).html().trim()==t)$(a)[0].selected=!0;else{$("#"+petcoPersonalizationJS.vetInfoDropdownId).val("");petcoPersonalizationJS.vetInfoDropdownId=""}$("#rxMedEditVetInfo_"+e)&&$("#rxMedEditVetInfo_"+e).removeClass("hide")});CheckoutHelperJS.disablePlaceOrderButton()},rxMedSPCChangePet:function(e,t){$("#modal-rxmedicineAddpet h3").text("Add a Pet");$("#rxMedicinePetDetailsSubmit_SPC").text("Submit");this.clearAndRenewRxSPC(1,"PET");var i=e.split("_"),a=i[i.length-2],o=i[i.length-1],n=$("#catentry_"+a).val(),r=$("#rxMedVetDataSelection_"+a+"_"+o);if("Add a New Pet"==t){console.log("Add a new Pet");$("#"+e).removeClass("selected");r.attr("disabled",!0);$("#selectedOrderItemForEdit").val(a);petcoCommonJS.showModal("modal-rxmedicineAddpet");petcoPersonalizationJS.petInfoDropdownId=e;$("#rxMedicinePetDetailsSubmit_SPC").attr("onclick","petcoPersonalizationJS.rxMedSubmitPetFormSPC(this,'${param.ltlorRxflag}',"+a+",1)")}if(""==t){$("#rxMedEditPetInfo_"+a)&&$("#rxMedEditPetInfo_"+a).addClass("hide");$("#rxMedEditVetInfo_"+a)&&$("#rxMedEditVetInfo_"+a).addClass("hide")}if(""==t||"Add a New Pet"==t){$("#"+e).removeClass("selected");r.attr("disabled",!0);CheckoutHelperJS.disablePlaceOrderButton()}else{$("#rxMedEditPetInfo_"+a)&&$("#rxMedEditPetInfo_"+a).removeClass("hide");$("#rxMedEditVetInfo_"+a)&&$("#rxMedEditVetInfo_"+a).removeClass("hide");var s={};s.orderItemId=a;s.orderId=$("#orderId").val();s.action="updatePetDetails";s.catEntryId_1=n;s.petId=t;var d=$("#rxMedApprovalMethodSelection_"+a+"_1");s.channel=d.val();cursor_wait();wc.service.invoke("AjaxUpdateOrderItemRxInfo",s);console.log("Selected Existing Pet");$("#"+e).addClass("selected");r.removeAttr("disabled")}},rxMedSPCChangeVet:function(e,t){$("#modal-rxmedicineAddvet h3").text("Add a Vet");this.clearAndRenewRxSPC(1,"VET");var i=e.split("_"),a=i[i.length-2],o=$("#catentry_"+a).val();if("Add a New Vet"==t){console.log("Add a new Vet");$("#"+e).removeClass("selected");$("#selectedOrderItemForEdit").val(a);petcoPersonalizationJS.vetInfoDropdownId=e;petcoCommonJS.showModal("modal-rxmedicineAddvet");petcoPersonalizationJS.editVetInfoFromVetServiceResponse(1);$("#rxMedicineVetDetailsSubmit_SPC").attr("onclick","petcoPersonalizationJS.rxMedSubmitVetFormSPC(this,'${param.ltlorRxflag}',"+a+",1)")}""==t&&$("#rxMedEditVetInfo_"+a)&&$("#rxMedEditVetInfo_"+a).addClass("hide");if(""==t||"Add a New Vet"==t){$("#"+e).removeClass("selected");CheckoutHelperJS.disablePlaceOrderButton()}else{$("#rxMedEditVetInfo_"+a)&&$("#rxMedEditVetInfo_"+a).removeClass("hide");var n={};n.orderItemId=a;n.orderId=$("#orderId").val();n.action="updateVetDetails";n.catEntryId_1=o;n.vetId=t;cursor_wait();var r=$("#rxMedApprovalMethodSelection_"+a+"_1");n.channel=r.val();wc.service.invoke("AjaxUpdateOrderItemRxInfo",n);console.log("Selected Existing Vet");$("#"+e).addClass("selected")}},rxMedSubmitPetFormSPC:function(e,t,i,a){if(!$("#rxMedicinePetDetailsSubmit_SPC").hasClass("disabled")){var o=$("#catentry_"+i).val(),n=$("#displayQty_"+i).val(),r={};r.orderItemId=i;r.orderId=$("#orderId").val();var s=$("#rxMedApprovalMethodSelection_"+i+"_1");r.channel=s.val();r=this.addRxMedicinePersonalizationAttr(o,n,r);cursor_wait();wc.service.invoke("AjaxUpdateOrderItemRxInfo",r)}},rxMedSubmitVetFormSPC:function(e,t,i,a){var o=$("#catentry_"+i).val(),n=($("#displayQty_"+i).val(),{});n.catEntryId_1=o;n.orderItemId=i;n.orderId=$("#orderId").val();n.rxMedicineVetName=$("#rxMedicineVetName_1").val();n.rxMedicineVetLastName=$("#rxMedicineVetLastName_1").val();n.rxMedicineVetCliName=$("#rxMedicineVetCliName_1").val();n.rxMedicineVetPhNo=$("#rxMedicineVetPhNo_1").val();n.rxMedicineVetFxNo=$("#rxMedicineVetFxNo_1").val();n.rxMedicineVetAPIId=$("#rxMedicineVetAPIId_1").val();n.rxMedicineVetClinicId=$("#rxMedicineVetClinicId_1").val();n.storeId=$("#storeId").val();n.catalogId=$("#catalogId").val();n.langId=$("#langId").val();n.isUpdateVetDetails="true";cursor_wait();var r=$("#rxMedApprovalMethodSelection_"+i+"_1");n.channel=r.val();wc.service.invoke("AjaxUpdateOrderItemRxInfo",n)},rxMedEditPetInfo:function(e,t){console.log("Edit a new Pet");$("#modal-rxmedicineAddpet h3").text("Edit Pet");$("#rxMedicinePetDetailsSubmit_SPC").text("Save");$("#rxmedicineAddpetClose").removeClass("hide");petcoCommonJS.showModal("modal-rxmedicineAddpet");petcoPersonalizationJS.reAssignRxPersonalizedAttr(petcoPersonalizationJS.findPersonalizedAttrForShoppingCart(1,e));$("#rxMedicinePetDetailsSubmit_SPC").attr("onclick","petcoPersonalizationJS.rxMedSubmitPetFormSPC(this,'${param.ltlorRxflag}',"+e+",1)");petcoPersonalizationJS.loadPetBreedValues("rxMedicinePetType_1","rxMedicinePetBreed_1",$("#modal-rxmedicineAddpet #autoSuggestLoader_1").val(),$("#modal-rxmedicineAddpet #rxMedicinePetType_1").val().toUpperCase())},isRxMedicineItemSPCEnabled:function(){var e=!1;if($("#isRxSPCModalEnabled").length>0&&"true"==$("#isRxSPCModalEnabled").val()){var t=$("#isRxThrottleEnabled").val(),i=localStorage.getItem("rxPetVetSource");if("true"==t){if("pdp"!=i){e=!0;return e}e=!1;return e}e=!0;return e}return e},clearAndRenewRxSPC:function(e,t){if("PET"==t){$("#petinfoaddnewpet_"+e).addClass("hide");$("#rxMedicinePetName_"+e).removeClass("hide");$("#rxMedicinePetName_"+e).val("");$("#savedPetData_"+e).addClass("hide");$("#rxMedicinePetType_"+e).val(petcoPersonalizationJS.getDefaultPetType());petcoPersonalizationJS.loadPetBreedValues("rxMedicinePetType_"+e,"rxMedicinePetBreed_"+e,null,petcoPersonalizationJS.getDefaultPetType().toUpperCase());$("#rxMedicinePetBreed_"+e).val("");$("#autoSuggestLoader_"+e).val("");$("#rxMedicinePetDateOfBirth_"+e+"_MON").val("");$("#rxMedicinePetDateOfBirth_"+e+"_Date").val("");$("#rxMedicinePetDateOfBirth_"+e+"_Year").val("");$("#rxMedicinePetWeight_"+e).val("");$("#rxMedicinePetAllergies_"+e).val("");$.each($('[id^="rxMedicinePetGender_'+e+'-_-"]:checked'),function(e,t){t.checked=!1});$("#rxMedicinePetAllergic_"+e)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetAllergic_"+e)[0]);$.each($('[id^="rxMedicinePetAllergic_'+e+'_optionContainer_0"]'),function(t,i){i.id!="rxMedicinePetAllergic_"+e+"_optionContainer_0"?$(i).parent().remove():i.value=""});$("#rxMedicinePetAllergic_"+e+"_addnewLink").removeClass("hide");$("#rxMedicinePetAllergic_"+e+"_Others").val("");$("#rxMedicinePetMedications_"+e)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedications_"+e)[0]);$.each($('[id^="rxMedicinePetMedications_'+e+'_optionContainer_0"]'),function(t,i){i.id!="rxMedicinePetMedications_"+e+"_optionContainer_0"?$(i).parent().remove():i.value=""});$("#rxMedicinePetMedications_"+e+"_addnewLink").removeClass("hide");$("#rxMedicinePetMedications_"+e+"_Others").val("");if($("#rxMedicinePetMedicalConditions_"+e)[0]){$("#rxMedicinePetMedicalConditions_"+e)[0].checked=!1;petcoPersonalizationJS.openContainerTemplateEnabled($("#rxMedicinePetMedicalConditions_"+e)[0])}$.each($('[id^="rxMedicinePetMedicalConditions_'+e+'-_options_-"]:checked'),function(e,t){t.checked=!1});$("#rxMedicinePetMedicalConditions_"+e+"_Others").val("");petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#rxMedicinePetName_"+e)[0],e);petcoPersonalizationJS.addValueForBreedField($("#rxMedicinePetBreed_"+e)[0],"autoSuggestLoader_"+e)}else if("VET"==t){$("#rxMedicineVetName_"+e).removeClass("hide");$("#rxMedicineVetName_"+e).val("");$("#rxMedicineVetCliName_"+e).val("");$("#rxMedicineVetPhNo_"+e).val("");$("#rxMedicineVetFxNo_"+e).val("");$("#rxMedicineVetLastName_"+e).val("");$("#rxMedicineVetAPIId_"+e).val("");$("#rxMedicineVetClinicId_"+e).val("");petcoPersonalizationJS.rxMedicineValidateSubmitButtonEnabled($("#rxMedicineVetFxNo_"+e)[0],e)}},isRxDetailsInCart:function(){var e=($("#isRxSPCModalEnabled").val(),$("#isRxThrottleEnabled").val());if("true"==e){var t=localStorage.getItem("rxPetVetSource");if(""==t||null==t){var t=localStorage.getItem("rxPetVetSource"),i=localStorage.getItem("rxPetVetSource_expiresIn"),a=Date.now();void 0!==i&&null!==i||(i=0);var o=!1;if(void 0===t||null===t){var n=86400;o=!0}else if(i<a){localStorage.removeItem("rxPetVetSource_expiresIn");localStorage.removeItem("rxPetVetSource");var n=86400;o=!0}if(o){var r=a+1e3*n;try{localStorage.setItem("rxPetVetSource",$("#rxPetVetSource").val());localStorage.setItem("rxPetVetSource_expiresIn",r);var t=$("#rxPetVetSource").val()}catch(e){console.log("setStorage: Error setting key ["+key+"] in localStorage: "+JSON.stringify(e))}}}"pdp"==t&&$("div[id^='product-attribute-info-id']").each(function(){$(this).removeClass("hide")})}if("pdp"!=t){$("p[id^='rxMed_pdp_qty_container_']").each(function(){$(this).addClass("hide")});$("div[id^='rxMed_spc_qty_container_']").each(function(){$(this).removeClass("hide")})}},rxMedEditVetInfo:function(e){$("#modal-rxmedicineAddvet h3").text("Edit Vet");this.clearAndRenewRxSPC(1,"VET");console.log("Edit  new Vet");petcoPersonalizationJS.reAssignRxPersonalizedAttr(petcoPersonalizationJS.findPersonalizedAttrForShoppingCart(1,e));petcoCommonJS.showModal("modal-rxmedicineAddvet");$("#rxMedicineVetDetailsSubmit_SPC").attr("onclick","petcoPersonalizationJS.rxMedSubmitVetFormSPC(this,'${param.ltlorRxflag}',"+e+",1)")},displayPrescriptionSection:function(){var e=$("#isRxSPCModalEnabled").val(),t=$("#isRxThrottleEnabled").val(),i="";$("#displayRxPetVetFormSPC").length>0&&(i=$("#displayRxPetVetFormSPC").val());if("true"==t){var a=localStorage.getItem("rxPetVetSource");if(""==a||null==a){var a=localStorage.getItem("rxPetVetSource"),o=localStorage.getItem("rxPetVetSource_expiresIn"),n=Date.now();void 0!==o&&null!==o||(o=0);var r=!1;if(void 0===a||null===a){var s=86400;r=!0}else if(o<n){localStorage.removeItem("rxPetVetSource_expiresIn");localStorage.removeItem("rxPetVetSource");var s=86400;r=!0}if(r){var d=n+1e3*s;try{localStorage.setItem("rxPetVetSource",$("#rxPetVetSource").val());localStorage.setItem("rxPetVetSource_expiresIn",d);var a=$("#rxPetVetSource").val()}catch(e){console.log("setStorage: Error setting key ["+key+"] in localStorage: "+JSON.stringify(e))}}}"pdp"==a&&"true"==i?$("#prescription-information").removeClass("hide"):"pdp"!=a&&$("#prescription-information").removeClass("hide")}else"true"==e&&$("#prescription-information").removeClass("hide")},updateRxMethodApprovalSelection:function(e,t){var i=e.split("_"),a=i[i.length-2],o=$("#catentry_"+a).val();if(""==t){var n=i[i.length-1],r=$("#rxMedPetDataSelection_Container_"+a+"_"+n),s=$("#rxMedVetDataSelection_Container_"+a+"_"+n),d=$("#mailing_msg_"+a);r.addClass("hide");s.addClass("hide");d.addClass("hide")}else{var l={};l.orderItemId=a;l.orderId=$("#orderId").val();l.action="updateChannel";l.channel=t;l.catEntryId_1=o;l.vetId=$("#rxMedVetDataSelection_"+a+"_1").val();wc.service.invoke("AjaxUpdateOrderItemRxInfo",l);cursor_wait()}},rxMedUpdateMandatoryPetInfo:function(e,t){console.log("Update Mandatory a Pet details");$("#modal-rxmedicineAddpet h3").text($("#updateLabel").val());$("#rxMedicinePetDetailsSubmit_SPC").text("Save");petcoCommonJS.showModal("modal-rxmedicineAddpet");petcoPersonalizationJS.reAssignRxPersonalizedAttr(petcoPersonalizationJS.findPersonalizedAttrForShoppingCart(1,e));$("#rxMedicinePetDetailsSubmit_SPC").attr("onclick","petcoPersonalizationJS.rxMedSubmitPetFormSPC(this,'${param.ltlorRxflag}',"+e+",1)");petcoPersonalizationJS.loadPetBreedValues("rxMedicinePetType_1","rxMedicinePetBreed_1",$("#modal-rxmedicineAddpet #autoSuggestLoader_1").val(),$("#modal-rxmedicineAddpet #rxMedicinePetType_1").val().toUpperCase());petcoPersonalizationJS.rxMedicineValidateRequiredFields("1")},rxMedCombineItems:function(e){var t=$("#catentry_"+e).val(),i={};i.orderItemId=e;i.orderId=$("#orderId").val();i.action="combineOrderItems";i.catEntryId_1=t;i.vetId=$("#rxMedVetDataSelection_"+e+"_1").val();wc.service.invoke("AjaxUpdateOrderItemRxInfo",i);cursor_wait()},rxMedicineValidateRequiredFields:function(e){var t=$("#fieldGroup").html(),i=JSON.parse(t);for(var a in i){var o=$('[id^="'+i[a].Field+"_"+e+'"]'),n=i[a].IsRequired;i[a].FieldGroup+"_"+e;if(o.length>0){var r=!1,s=!1,d=!1,l=!1,c=!1,u=!1,p=!1;o[0].className.indexOf("NUMERIC")>-1?r=!0:o[0].className.indexOf("TELEPHONE")>-1?s=!0:o[0].className.indexOf("MULTICHECKBOX")>-1?l=!0:o[0].className.indexOf("CHECKBOX")>-1?d=!0:o[0].className.indexOf("DATE")>-1?c=!0:o[0].className.indexOf("RADIO")>-1?u=!0:o[0].className.indexOf("ALPHA")>-1&&(p=!0);if("Y"==n)if(d||c||u||""!=o[0].value.trim())if(u){var m=$('input[type="radio"][name="'+i[a].Field+"_"+e+'"]:checked');0==m.length&&$("#pet"+i[a].Field+"_div").addClass("error-box-rx")}else c&&($("#"+i[a].Field+"_"+e+"_MON").length>0&&""==$("#"+i[a].Field+"_"+e+"_MON").val()||$("#"+i[a].Field+"_"+e+"_Date").length>0&&""==$("#"+i[a].Field+"_"+e+"_Date").val()||$("#"+i[a].Field+"_"+e+"_Year").length>0&&""==$("#"+i[a].Field+"_"+e+"_Year").val())&&$("#petDob_div").addClass("error-box-rx");else $("#pet"+i[a].Field+"_div").addClass("error-box-rx")}}},resetMandatoryFieldWarnings:function(){var e=$("#fieldGroup").html(),t=JSON.parse(e);for(var i in t){t[i].Field;$("#pet"+t[i].Field+"_div").length>0&&$("#pet"+t[i].Field+"_div").hasClass("error-box-rx")?$("#pet"+t[i].Field+"_div").removeClass("error-box-rx"):$("#petDob_div").length>0&&$("#petDob_div").hasClass("error-box-rx")&&$("#pet"+t[i].Field+"_div").removeClass("error-box-rx")}}};dojo.require("dojox.xml.DomParser");if("undefined"==typeof NotifyInventoryJS||null==NotifyInventoryJS||!NotifyInventoryJS){NotifyInventoryJS={validateNotify:function(e,t){reWhiteSpace=new RegExp(/^\s+$/);var t=t,i=document.getElementById("NotifyEmail"),a=document.getElementById("NotifyName").value,o="";null!=document.getElementById("formPage")&&(o=document.getElementById("formPage").value);var n=!1;if(""==a||" "==a){document.getElementById("NotifyName").placeholder=MessageHelper.messages.ERROR_NotifyName;document.getElementById("NotifyName").className="invalid";document.querySelectorAll("label[for='NotifyName']")[0].className="invalid"}else{if(null==i)return!1;var r=trim(i.value),s=" ";"undefined"!=typeof notifyWidget&&(s=grecaptcha.getResponse(notifyWidget));if(""==r||reWhiteSpace.test(r)){document.getElementById("NotifyName").className="valid";document.querySelectorAll("label[for='NotifyName']")[0].className="valid";document.getElementById("NotifyEmail").placeholder=MessageHelper.messages.ERROR_EmailEmpty;document.getElementById("NotifyEmail").className="invalid";document.querySelectorAll("label[for='NotifyEmail']")[0].className="invalid";return n}if(!NotifyInventoryJS.emailValidation(r)){document.getElementById("NotifyName").className="valid";document.querySelectorAll("label[for='NotifyName']")[0].className="valid";document.getElementById("NotifyEmail").placeholder=MessageHelper.messages.ERROR_INVALIDEMAILFORMAT;document.getElementById("NotifyEmail").className="invalid";document.querySelectorAll("label[for='NotifyEmail']")[0].className="invalid";return n}if(!MessageHelper.isValidUTF8length(r,256)){document.getElementById("NotifyName").className="valid";document.querySelectorAll("label[for='NotifyName']")[0].className="valid";document.getElementById("NotifyEmail").placeholder=MessageHelper.messages.ERROR_EmailTooLong;document.getElementById("NotifyEmail").className="invalid";document.querySelectorAll("label[for='NotifyEmail']")[0].className="invalid";return n}if(""==a||null==a){document.getElementById("NotifyName").placeholder=MessageHelper.messages.ERROR_NotifyName;document.getElementById("NotifyName").className="invalid";document.querySelectorAll("label[for='NotifyName']")[0].className="invalid";document.getElementById("NotifyEmail").className="valid";document.querySelectorAll("label[for='NotifyEmail']")[0].className="valid";return n}if(null!=document.getElementById("notifyCaptcha")&&null!=s&&""==s){dojo.style("notifyCaptchaError","display","block");dojo.byId("notifyCaptchaError").innerHTML='<span class="help-block"> Please select the captcha. </span>';document.getElementById("NotifyEmail").className="valid";document.querySelectorAll("label[for='NotifyEmail']")[0].className="valid";return n}this.notifyInventory(e,o,t)}return n},notifyMeOnclickTracking:function(e,t,i){try{var a=document.getElementById("primarySku").value;null!=a&&""!=a||(a=document.getElementById("tel_product_sku").value)}catch(e){console.log("Error in NotifyInventoryJS.notifyMeOnclickTracking. "+e);return!0}},setCommonParams:function(){var e=new Object;e.storeId=WCParamJS.storeId;e.catalogId=WCParamJS.catalogId;e.langId=WCParamJS.langId;return e},notifyInventory:function(e,t,i){var a=null;a=e;var i=i,o=document.getElementById("NotifyEmail").value,n=document.getElementById("NotifyName").value,r=new Object;r.emailNotify=o;r.catEntryId=a;if(null!=document.getElementById("notifyCaptcha")){var s=grecaptcha.getResponse(notifyWidget);r.captcha=s}var d=r;d.name=n;d.formPage=t;d.prodname=i;d.storeId=WCParamJS.storeId;d.catalogId=WCParamJS.catalogId;d.langId=WCParamJS.langId;""!=o?wc.service.invoke("AjaxInventoryNotification",d):alert("Please enter the Email Id  to send the notification")},emailValidation:function(e){var t=e.lastIndexOf(".");if(t<0)return!1;var i=e.substring(t+1);if(i.length>25)return!1;var a=new RegExp(/^\w+([\.!#$%&'*([)+\/<>=?`{|};:,~^-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,25})+$/);return a.test(e)},openNotifyModal:function(){document.getElementById("notifyMe").style.display="block";document.querySelectorAll("body")[0].classList.add("no-scroll")},closeNotifyModal:function(){document.getElementById("notifyMe").style.display="none";document.querySelectorAll("body")[0].classList.remove("no-scroll")},closeNotifySuccessModal:function(){document.getElementById("notifyMeSuccess").style.display="none";document.querySelectorAll("body")[0].classList.remove("no-scroll")},validateSubmitButtonEnabled:function(){var e=document.getElementById("NotifyEmail").value,t=document.getElementById("NotifyName").value;""==t||" "==t||""==e||" "==e?document.getElementById("notifyMeSubmitBtn").disabled=!0:document.getElementById("notifyMeSubmitBtn").disabled=!1}};wc.service.declare({id:"AjaxInventoryNotification",actionId:"AjaxInventoryNotification",url:getAbsoluteURL()+"AjaxPetcoNotifyMe",formId:"",successHandler:function(e){if(void 0!=e.message)if(null!=document.getElementById("notifyOOSbtn")){document.getElementById("oos-notify-mewishlist"+e.catentryId).className="modal";$("#oos-notify-me"+e.formPage+e.catentryId).modal("hide");document.getElementById("notifyMeSuccess").className="row";$("#notifyOOSbtn").remove()}else if(null!=document.getElementById("notifyMe")){dojo.style("notifyMeSuccess","display","block");dojo.style("notifyMe","display","none")}else{$("#oos-notify-me"+e.formPage+e.catentryId).modal("hide");$("#oos-notify-mepurchaselist"+e.catentryId).modal("hide");document.getElementById("product-name").innerHTML=e.prodname;petcoCommonJS.showModal("ListSuccessMsg");
$("#ListSuccessMsg_1").show()}},failureHandler:function(e){e.errorMessage?"_ERR_FINDER_EXCEPTION"==e.errorMessageKey?MessageHelper.displayErrorMessage("This notification is not sent for the specififed email id"):MessageHelper.displayErrorMessage(e.errorMessage):e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}})}wc.render.declareRefreshController({id:"prodRecommendationRefresh_controller",renderContext:wc.render.getContextById("searchBasedNavigation_context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var i=this.renderContext,a=i.properties.resultType;if("products"==a||"both"==a){t.refresh(i.properties);console.log("espot refreshing")}},postRefreshHandler:function(e){var t=this;this.renderContext;cursor_clear();var i=t.url,a="",o=i.indexOf("emsName=",0);if(o>=0){a=i.substring(o+8);if(a.indexOf("&")>=0){a=a.substring(0,a.indexOf("&"));a="script_"+a}}if(""!=a){var n=dojo.query(".genericESpot",dojo.byId(a).parentNode)[0];null!=n&&dojo.addClass(n,"emptyESpot")}dojo.publish("CMPageRefreshEvent")}});require(["dojo/_base/declare","dojo/_base/sniff","dojo/query","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/dom-class","dojo/dom-attr","dojo/dom-construct","dojo/mouse","dojo/dom-geometry","dojo/dom-style","dojo/_base/array","dojo/NodeList-traverse","dojo/NodeList-dom","dojo/domReady!"],function(e,t,i,a,o,n,r,s,d,l,c,u,p,m){"use strict";var h="[data-slide]",y=e([],{defaultOptions:{interval:3e3,pause:"hover"},constructor:function(e,t){this.options=a.mixin(a.clone(this.defaultOptions),t||{});this.domNode=e;this.indicators=i(".carousel-indicators",this.domNode);this.options.slide&&this.slide(this.options.slide);if("hover"===this.options.pause){n(this.domNode,l.enter,a.hitch(this,"pause"));n(this.domNode,l.leave,a.hitch(this,"cycle"))}this.options.interval&&this.cycle()},cycle:function(e){e||(this.paused=!1);this.options.interval&&!this.paused&&(this.interval=setInterval(a.hitch(this,"next"),this.options.interval));return this},to:function(e){var t=i(".item.active",this.domNode),a=t.parent().children(),o=a.indexOf(t[0]),r=this;if(!(e>a.length-1||e<0))return this.sliding?n.once(r.domNode,"slid",function(){r.to(e)}):o===e?this.pause().cycle():this.slide(e>o?"next":"prev",i(a[e]))},pause:function(e){e||(this.paused=!0);if(i(".next, .prev",this.domNode).length&&m.trans.end){n.emit(this.domNode,m.trans.end,{bubbles:!0,cancelable:!0});this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},getActiveIndex:function(){this.active=i(".item.active",this.domNode);this.items=this.active.parent().children(".item");return this.items.indexOf(this.active[0])},slide:function(e,t){var a=i(".item.active",this.domNode),o=this.interval,s="next"===e?"left":"right",d="next"===e?"first":"last",l=this;t=t||a[e]();this.sliding=!0;o&&this.pause();if(this.indicators.length){i(".active",this.indicators[0]).removeClass("active");n.once(this.domNode,"slid.bs.carousel",function(){var e=l.indicators.children()[l.getActiveIndex()];e&&r.add(e,"active")})}t=t.length?t:i(".item",this.domNode)[d]();if(!r.contains(t[0],"active")){if(m.trans&&r.contains(this.domNode,"slide")){n.emit(this.domNode,"slide.bs.carousel",{bubbles:!1,cancelable:!1,relatedTarget:t[0]});r.add(t[0],e);t[0].offsetWidth;r.add(a[0],s);r.add(t[0],s);n.once(this.domNode,m.trans.end,function(){r.remove(t[0],[e,s].join(" "));r.add(t[0],"active");r.remove(a[0],["active",s].join(" "));l.sliding=!1;setTimeout(function(){n.emit(l.domNode,"slid.bs.carousel",{bubbles:!1,cancelable:!1})},0)})}else{n.emit(this.domNode,"slide.bs.carousel",{bubbles:!1,cancelable:!1,relatedTarget:t[0]});r.remove(a[0],"active");r.add(t[0],"active");this.sliding=!1;n.emit(l.domNode,"slid.bs.carousel",{bubbles:!1,cancelable:!1})}o&&this.cycle();return this}}});a.extend(i.NodeList,{carousel:function(e){var t=a.isObject(e)?e:{};return this.forEach(function(i){var a=m.getData(i,"carousel"),o="string"==typeof e?e:t.slide;a||m.setData(i,"carousel",a=new y(i,t));"number"==typeof e?a.to(e):o&&a[o].call(a)})}});n(o.body(),n.selector(h,"click"),function(e){var t=s.get(this,"data-target"),a={};i(t).carousel(a);e.preventDefault()});return y});$(document).ready(function(){function e(e){n=e.touches[0].clientX;r=e.touches[0].clientY}function t(e){if(null!==n&&null!==r){var t=e.touches[0].clientX,a=e.touches[0].clientY,o=n-t,s=r-a;Math.abs(o)>Math.abs(s)&&(o>0?i.carousel("next"):i.carousel("prev"));n=null;r=null;e.preventDefault()}}var i=$("#homepage-hero-carousel"),a=document.querySelector("#homepage-hero-carousel");$("#carousel-play").click(function(){$("#carousel-play").toggleClass("paused");$("#carousel-play").hasClass("paused")?i.carousel("pause"):i.carousel("cycle")});if(a){a.addEventListener("touchstart",e,!1);a.addEventListener("touchmove",t,!1);var o=null;i.mousedown(function(e){var t=e.pageX;$(this).mousemove(function(e){o=e.pageX>t?"right":"left"})});i.mouseup(function(){o&&"right"===o&&i.carousel("prev");o&&"left"===o&&i.carousel("next");o=null;$(this).unbind("mousemove")})}var n=null,r=null});require(["dojo/query","dojo/domReady!"],function(e){"use strict";function t(e){var t,i,a,o=[];t=document.getElementsByClassName("select-items");i=document.getElementsByClassName("select-selected");for(a=0;a<i.length;a++)e==i[a]?o.push(a):i[a].classList.remove("select-arrow-active");for(a=0;a<t.length;a++)o.indexOf(a)&&t[a].classList.add("hide")}var i=document.getElementById("side-nav-button"),a=document.querySelectorAll(".side-nav")[0],o=document.querySelectorAll(".side-nav .close")[0];if(i){i.onclick=function(){a.classList.add("show")};o.onclick=function(){a.classList.remove("show")}}for(var n=document.getElementsByClassName("accordion"),r=0;r<n.length;r++){n[r];n[r].onclick=function(e){e.preventDefault();e.stopPropagation();for(var t=document.getElementsByClassName("accordion-content"),i=0;i<t.length;i++){var a=t[i],o=document.getElementById("shown-accordion-title"),n=document.getElementById("hidden-accordion-title");if(a.classList.contains("open")){a.classList.remove("open");if(o&&n){o.className+=" hide";n.classList.remove("hide")}}else{a.className+=" open";if(o&&n){o.classList.remove("hide");n.className+=" hide"}}}}}$('.carousel[data-wrap="false"]').bind("slid.bs.carousel",function(e){var t=$(this);t.children(".carousel-control").removeClass("disabled");t.find(".item:last").hasClass("active")?t.children(".right").addClass("disabled"):t.find(".item:first").hasClass("active")&&t.children(".left").addClass("disabled")});var s,r,d,l,c,u,p;s=document.getElementsByClassName("custom-select");for(r=0;r<s.length;r++){l=s[r].getElementsByTagName("select")[0];c=document.createElement("DIV");c.setAttribute("class","select-selected");c.innerHTML=l.options[l.selectedIndex].innerHTML;s[r].appendChild(c);u=document.createElement("DIV");u.setAttribute("class","select-items hide");for(d=0;d<l.length;d++){p=document.createElement("DIV");p.innerHTML=l.options[d].innerHTML;p.addEventListener("click",function(e){var t,i,a,o,n;o=this.parentNode.parentNode.getElementsByTagName("select")[0];n=this.parentNode.previousSibling;for(i=0;i<o.length;i++)if(o.options[i].innerHTML==this.innerHTML){o.selectedIndex=i;n.innerHTML=this.innerHTML;t=this.parentNode.getElementsByClassName("same-as-selected");for(a=0;a<t.length;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected");break}n.click();o.onchange();"Other"==this.innerHTML?$("#othersReason").removeClass("hide"):$("#othersReason").addClass("hide")});u.appendChild(p)}s[r].appendChild(u);c.addEventListener("click",function(e){e.stopPropagation();t(this);this.nextSibling.classList.toggle("hide");this.classList.toggle("select-arrow-active")})}document.addEventListener("click",t);dojo.addOnLoad(function(){console.log("dojo.addOnLoad() has fired.")})});var tns=function(){function e(){for(var e,t,i,a=arguments[0]||{},o=1,n=arguments.length;o<n;o++)if(null!==(e=arguments[o]))for(t in e){i=e[t];a!==i&&void 0!==i&&(a[t]=i)}return a}function t(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function i(e){for(var t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return e[i]}function a(e){return"undefined"!=typeof e.item}function o(e,t){var i,o=a(e)?e:[e];if("undefined"!=typeof t.nodeType&&1===t.nodeType)for(i=o.length;i--;)o[i].appendChild(t);else if("string"==typeof t)for(i=o.length;i--;)o[i].insertAdjacentHTML("beforeend",t);else if(a(t)){var n=document.createDocumentFragment();for(i=t.length;i--;)n.insertBefore(t[i],n.firstChild);for(var r=o.length;r--;)o[r].appendChild(n)}}function n(e,t){for(var i=a(e)?e:[e],o=i.length;o--;){var n=o>0?t.cloneNode(!0):t,r=i[o],s=r.parentNode,d=r.nextSibling;n.appendChild(r);d?s.insertBefore(n,d):s.appendChild(n)}}function r(e){for(var t=a(e)?e:[e],i=t.length;i--;){for(var o=t[i],n=o.parentNode;o.firstChild;)n.insertBefore(o.firstChild,o);n.removeChild(o)}}function s(){void 0===window.tnsId?window.tnsId=1:window.tnsId++;return"tns"+window.tnsId}function d(e,t){return Math.atan2(e,t)*(180/Math.PI)}function l(e,t){return Math.abs(90-Math.abs(e))>=90-t?"horizontal":Math.abs(90-Math.abs(e))<=t&&"vertical"}function c(e,t){return e.hasAttribute(t)}function u(e,t){return e.getAttribute(t)}function p(e){return"undefined"!=typeof e.item}function m(e,t){e=p(e)||e instanceof Array?e:[e];if("[object Object]"===Object.prototype.toString.call(t))for(var i=e.length;i--;)for(var a in t)e[i].setAttribute(a,t[a])}function h(e,t){e=p(e)||e instanceof Array?e:[e];t=t instanceof Array?t:[t];for(var i=t.length,a=e.length;a--;)for(var o=i;o--;)e[a].removeAttribute(t[o])}function y(e){var t=e.cloneNode(!0),i=e.parentNode;i.insertBefore(t,e);e.remove();e=null}function v(e){c(e,"hidden")||m(e,{hidden:""})}function f(e){c(e,"hidden")&&h(e,"hidden")}function g(e){return"boolean"==typeof e.complete?e.complete:"number"==typeof e.naturalWidth?0!==e.naturalWidth:void 0}function I(e){var t,i=document.createElement("fakeelement");for(t in e)if(void 0!==i.style[t])return[t,e[t][0],e[t][1]];return!1}function _(e,t){for(var i in t){var a=("touchstart"===i||"touchmove"===i)&&C;e.addEventListener(i,t[i],a)}}function b(e,t){for(var i in t){var a=("touchstart"===i||"touchmove"===i)&&C;e.removeEventListener(i,t[i],a)}}function S(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[];this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var i=0;i<this.topics[e].length;i++)if(this.topics[e][i]===t){this.topics[e].splice(i,1);break}},emit:function(e,t){this.topics[e]&&this.topics[e].forEach(function(e){e(t)})}}}function P(e,t,i,a,o,n,r){function s(){n-=d;l+=c;e.style[t]=i+l+"px"+a;n>0?setTimeout(s,d):r()}var d=Math.min(n,10),l=Number(e.style[t].slice(i.length,-(a.length+2))),c=(o-l)/n*d;setTimeout(s,d)}Object.keys||(Object.keys=function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t});!function(){"use strict";"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}();Date.now||(Date.now=function(){return(new Date).getTime()});!function(){"use strict";for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var i=e[t];window.requestAnimationFrame=window[i+"RequestAnimationFrame"];window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var a=0;window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(a+16,t);return setTimeout(function(){e(a=i)},i-t)};window.cancelAnimationFrame=clearTimeout}}();!function(){"use strict";var e,t,i,a,o=window,n=document,r=Object,s=null,d=!0,l=!1,c=" ",u="Element",p="create"+u,m="DOMTokenList",h="__defineGetter__",y="defineProperty",v="class",f="List",g=v+f,I="rel",_=I+f,b="div",S="length",P="contains",E="apply",D="HTML",C=("item "+P+" add remove toggle toString toLocaleString").split(c),$=C[2],x=C[3],A=C[4],M="prototype",j=y in r||h in r[M]||s,B=function(e,t,i,a){r[y]?r[y](e,t,{configurable:l===j?d:!!a,get:i}):e[h](t,i)},w=function(t,i){var a=this,o=[],n={},s=0,u=0,p=function(){if(s>=u)for(;u<s;++u)(function(e){B(a,e,function(){m();return o[e]},l)})(u)},m=function(){var e,a,r=arguments,l=/\s+/;if(r[S])for(a=0;a<r[S];++a)if(l.test(r[a])){e=new SyntaxError('String "'+r[a]+'" '+P+" an invalid character");e.code=5;e.name="InvalidCharacterError";throw e}o=(""+t[i]).replace(/^\s+|\s+$/g,"").split(l);""===o[0]&&(o=[]);n={};for(a=0;a<o[S];++a)n[o[a]]=d;s=o[S];p()};m();B(a,S,function(){m();return s});a[C[6]]=a[C[5]]=function(){m();return o.join(c)};a.item=function(e){m();return o[e]};a[P]=function(e){m();return!!n[e]};a[$]=function(){m[E](a,e=arguments);for(var e,r,l=0,u=e[S];l<u;++l){r=e[l];if(!n[r]){o.push(r);n[r]=d}}if(s!==o[S]){s=o[S]>>>0;t[i]=o.join(c);p()}};a[x]=function(){m[E](a,e=arguments);for(var e,r={},l=0,u=[];l<e[S];++l){r[e[l]]=d;delete n[e[l]]}for(l=0;l<o[S];++l)r[o[l]]||u.push(o[l]);o=u;s=u[S]>>>0;t[i]=o.join(c);p()};a[A]=function(t,i){m[E](a,[t]);if(e!==i){if(i){a[$](t);return d}a[x](t);return l}if(n[t]){a[x](t);return l}a[$](t);return d};!function(e,t){if(t)for(var i=0;i<7;++i)t(e,C[i],{enumerable:l})}(a,r[y]);return a},O=function(e,t,i){B(e[M],t,function(){var e,a=this,o=h+y+t;if(a[o])return e;a[o]=d;if(l===j){for(var r,s=O.mirror=O.mirror||n[p](b),c=s.childNodes,u=c[S],m=0;m<u;++m)if(c[m]._R===a){r=c[m];break}r||(r=s.appendChild(n[p](b)));e=w.call(r,a,i)}else e=new w(a,i);B(a,t,function(){return e});delete a[o];return e},d)};if(o[m]){t=n[p](b)[g];M=o[m][M];t[$][E](t,C);if(2>t[S]){i=M[$];a=M[x];M[$]=function(){for(var e=0,t=arguments;e<t[S];++e)i.call(this,t[e])};M[x]=function(){for(var e=0,t=arguments;e<t[S];++e)a.call(this,t[e])}}t[A](f,l)&&(M[A]=function(t,i){var a=this;a[(i=e===i?!a[P](t):i)?$:x](t);return!!i})}else{if(j)try{B({},"support")}catch(e){j=l}w.polyfill=d;o[m]=w;O(o[u],g,v+"Name");O(o[D+"Link"+u],_,I);O(o[D+"Anchor"+u],_,I);O(o[D+"Area"+u],_,I)}}();var E=!1;try{var D=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,D)}catch(e){}var C=!!E&&{passive:!0},$=i(["transform","WebkitTransform","MozTransform","msTransform","OTransform"]),x={transitionDuration:["transitionDelay","transitionend"],WebkitTransitionDuration:["WebkitTransitionDelay","webkitTransitionEnd"],MozTransitionDuration:["MozTransitionDelay","transitionend"],OTransitionDuration:["OTransitionDelay","oTransitionEnd"]},A={animationDuration:["animationDelay","animationend"],WebkitAnimationDuration:["WebkitAnimationDelay","webkitAnimationEnd"],MozAnimationDuration:["MozAnimationDelay","animationend"],OAnimationDuration:["OAnimationDelay","oAnimationEnd"]},M=I(x)[0],j=I(x)[1],B=I(x)[2],w=I(A)[0],O=I(A)[1],R=I(A)[2],N={ENTER:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},k=function(i){function a(){return"gallery"===We||"page"===i.slideBy?et:i.slideBy}function c(){return(qe+at)/et}function p(){m(Ye,{"data-tns-role":"wrapper"});m(Xe,{"data-tns-role":"content-wrapper"});"vertical"===Qe?m(Xe,{"data-tns-hidden":"y"}):m(Ye,{"data-tns-hidden":"x"});if("carousel"===We){var e=nt&&ot?Y():ot?ot+at:0;Xe.style.cssText="horizontal"===Qe?"margin: 0 "+e+"px;":"padding: "+e+"px 0 "+ot+"px; height: "+K()+"px;"}}function I(){qe=Pi();et=bi();ze=vt-et-$t;"horizontal"!==Qe||nt||(mt=c());Vt=Si();tt=a()}function E(){""===Ge.id&&(Ge.id=Rt);m(Ge,{"data-tns-role":"content","data-tns-mode":We,"data-tns-axis":Qe});"horizontal"===Qe&&(Ge.style.width=(mt+1)*vt+"px")}function D(){if("carousel"===We){ct&&m(Ge,{"data-tns-hidden":"y"});Ge.style[bt]=Pt+Math.round(-Ve[Dt])+"px"+Et}}function C(){if(navigator.msMaxTouchPoints){Ye.classList.add("ms-touch");_(Ye,{scroll:Se})}}function x(){for(var e=0;e<Ze;e++){var t=Ke[e];t.id=Rt+"-item"+e;"gallery"===We&&Ii&&t.classList.add(Ii);m(t,{"aria-hidden":"true",tabindex:"-1"});var i="horizontal"===Qe?"right":"bottom",a="";"carousel"===We&&(a="margin-"+i+": "+at+"px;");"horizontal"===Qe&&(a="width: "+(mt-at)+"px; "+a);t.style.cssText+=a}if(lt||ot){for(var o=document.createDocumentFragment(),n=document.createDocumentFragment(),r=yt;r--;){var s=r%Ze,d=Ke[s].cloneNode(!0);h(d,"id");n.insertBefore(d,n.firstChild);if("carousel"===We){var l=Ke[Ze-1-s].cloneNode(!0);h(l,"id");o.appendChild(l)}}Ge.insertBefore(o,Ge.firstChild);Ge.appendChild(n);Ke=Ge.children}}function A(){if(Lt)if(Jt){Nt=Jt.children[0];kt=Jt.children[1];m(Jt,{"aria-label":"Carousel Navigation",tabindex:"0"});m(Nt,{"data-controls":"prev"});m(kt,{"data-controls":"next"});m(Jt.children,{"aria-controls":Rt,tabindex:"-1"})}else{o(Ye,'<div data-tns-role="controls" aria-label="Carousel Navigation" tabindex="0"><button data-controls="prev" tabindex="-1" aria-controls="'+Rt+'" type="button">'+Tt[0]+'</button><button data-controls="next" tabindex="-1" aria-controls="'+Rt+'" type="button">'+Tt[1]+"</button></div>");[].forEach.call(Ye.children,function(e){"controls"===e.getAttribute("data-tns-role")&&(Jt=e)});Nt=Jt.children[0];kt=Jt.children[1]}}function k(){if(zt)if(i.navContainer){m(qt,{"aria-label":"Carousel Pagination"});Ft=qt.children;[].forEach.call(Ft,function(e,t){m(e,{"data-nav":t,tabindex:"-1","aria-selected":"false","aria-controls":Rt+"-item"+t})})}else{for(var e="",t=0;t<Ze;t++)e+='<button data-nav="'+t+'" tabindex="-1" aria-selected="false" aria-controls="'+Rt+"-item"+t+'" hidden type="button"></button>';e='<div data-tns-role="nav" aria-label="Carousel Pagination">'+e+"</div>";o(Ye,e);[].forEach.call(Ye.children,function(e){"nav"===e.getAttribute("data-tns-role")&&(qt=e)});Ft=qt.children;Oe()}}function L(){if(Gt){if(ii)m(ii,{"data-action":"stop"});else{if(!qt){o(Ye,'<div data-tns-role="nav" aria-label="Carousel Pagination"></div>');qt=Ye.querySelector('[data-tns-role="nav"]')}o(qt,'<button data-action="stop" type="button">'+ni+ei[0]+"</button>");ii=qt.querySelector("[data-action]")}pe()}}function T(){for(var e=Dt;e<Dt+et;e++){var t=Ke[e];m(t,{"aria-hidden":"false"});h(t,["tabindex"]);if("gallery"===We){t.style.left=mt*(e-Dt)+"px";t.classList.remove(Ii);t.classList.add(fi)}}Lt&&(Dt===xt&&!lt||dt)&&(Nt.disabled=!0);zt&&m(Ft[0],{tabindex:"0","aria-selected":"true"})}function J(){if("carousel"===We&&B){var e={};e[B]=re;_(Ge,e)}if(zt)for(var t=0;t<Ze;t++)_(Ft[t],{click:ue,keydown:be});if(Lt){_(Jt,{keydown:_e});_(Nt,{click:le});_(kt,{click:ce})}if("inner"===it)jt.on("outerResized",function(){ke();jt.emit("innerLoaded",Re())});else{_(window,{resize:Le});"outer"===it&&jt.on("innerLoaded",U)}}function F(e){if(!Bt&&Ze<=et){V(e,!0);ai&&me();Dt="carousel"!==We?0:yt;zt&&v(qt);Lt&&v(Jt);Gt&&v(ii);Bt=!0}else{V(e,!1);Gt&&!ai&&pe();zt&&f(qt);Lt&&f(Jt);Gt&&f(ii);Bt=!1}}function V(e,t){var i=!e&&t,a=!t;if("carousel"===We){var o={touchstart:Ce,touchmove:$e,touchend:xe,touchcancel:xe},n={mousedown:Ce,mousemove:$e,mouseup:xe,mouseleave:xe};if(i){ui&&b(Ge,o);hi&&b(Ge,n)}if(a){ui&&_(Ge,o);hi&&_(Ge,n)}}var r={click:ve},s={mouseover:z,mouseout:q},d={visibilitychange:fe},l={keydown:ge};if(i){if(Gt){b(ii,r);ti&&b(Ge,s);ri&&b(document,d)}rt&&b(document,l)}if(a){if(Gt){_(ii,r);ti&&_(Ge,s);ri&&_(document,d)}rt&&_(document,l)}}function z(){if(ai){me();oi=!0}}function q(){if(!ai&&oi){pe();oi=!1}}function H(){if(pt){var e=Dt,t=Dt+et;if(ot){e-=1;t+=1}for(;e<t;e++)[].forEach.call(Ke[e].querySelectorAll('[data-tns-role="lazy-img"]'),function(e){var t={};t[B]=function(e){e.stopPropagation()};_(e,t);if(!e.classList.contains("loaded")){e.src=u(e,"data-src");e.classList.add("loaded")}})}}function U(){if(ct){for(var e=[],t=Dt;t<Dt+et;t++)[].forEach.call(Ke[t].querySelectorAll("img"),function(t){e.push(t)});0===e.length?X():W(e)}}function W(e){e.forEach(function(t,i){g(t)&&e.splice(i,1)});0===e.length?X():setTimeout(function(){W(e)},16)}function Q(){n(Ge,Xe);n(Xe,Ye);I();E();x();G();p();D();C();A();k();L();T();J();F(!0);H();U();"function"==typeof Mt&&Mt(Re());"inner"===it&&jt.emit("innerLoaded",Re())}function Y(){return(qe%mt+at)/2}function X(){for(var e,t=[],i=Dt;i<Dt+et;i++)t.push(Ke[i].offsetHeight);e=Math.max.apply(null,t);if(Ge.style.height!==e){M&&ae(st);Ge.style.height=e+"px"}}function G(){Ve=[0];for(var e,t=Ke[0].getBoundingClientRect()[_t],i=1;i<vt;i++){e=Ke[i].getBoundingClientRect()[_t];Ve.push(e-t)}}function K(){return Ve[Dt+et]-Ve[Dt]}function Z(){Ye.style.msScrollSnapPointsX="snapInterval(0%, "+mt+")"}function ee(){var e,t,i,a;if(Dt!==Ct)if(Dt>Ct){e=Ct;t=Math.min(Ct+et,Dt);i=Math.max(Ct+et,Dt);a=Dt+et}else{e=Math.max(Dt+et,Ct);t=Ct+et;i=Dt;a=Math.min(Dt+et,Ct)}if(tt%1!==0){e=Math.round(e);t=Math.round(t);i=Math.round(i);a=Math.round(a)}for(var o=e;o<t;o++)m(Ke[o],{"aria-hidden":"true",tabindex:"-1"});for(var n=i;n<a;n++){m(Ke[n],{"aria-hidden":"false"});h(Ke[n],["tabindex"])}}function te(){if(zt){Qt=Wt!==-1?Wt:Dt%Ze;Wt=-1;if(Qt!==Yt){m(Ft[Yt],{tabindex:"-1","aria-selected":"false"});m(Ft[Qt],{tabindex:"0","aria-selected":"true"});Yt=Qt}}}function ie(){if(Lt&&!lt){var e=[],t=[];if(Dt===xt){e.push(Nt);t.push(kt);Ie(Nt,kt)}else if(dt||Dt!==ze)t.push(Nt,kt);else{e.push(kt);t.push(Nt);Ie(kt,Nt)}e.length>0&&e.forEach(function(e){e.disabled||(e.disabled=!0)});t.length>0&&t.forEach(function(e){e.disabled&&(e.disabled=!1)})}}function ae(e,t){e=e?e/1e3+"s":"";t=t||Ge;t.style[M]=e;"gallery"===We&&(t.style[w]=e);"vertical"===Qe&&(Xe.style[M]=e)}function oe(e,t){void 0===e&&(e=st);M&&ae(e);Ei(e,t)}function ne(){At=!0;gt&&Di();Dt%Ze!==Ct%Ze&&jt.emit("indexChanged",Re());jt.emit("transitionStart",Re());oe()}function re(e){function t(e){return e.toLowerCase().replace(/-/g,"")}jt.emit("transitionEnd",Re(e));if("gallery"===We&&ht.length>0)for(var i=0;i<et;i++){var a=ht[i];M&&ae(0,a);_i&&j&&(a.style[j]=a.style[O]="");a.classList.remove(gi);a.classList.add(Ii);a.style.left=""}if(!e||"gallery"===We&&e.target.parentNode===Ge||e.target===Ge&&t(e.propertyName)===t(bt)){if(!gt){var o=Dt;Di();if(Dt!==o){oe(0);jt.emit("indexChanged",Re())}}ee();(zt&&!lt||zt&&lt&&Ht.indexOf(Dt%Ze)===-1)&&Oe();te();ie();H();U();"inner"===it&&jt.emit("innerLoaded",Re());At=!1;se()}}function se(){Ct=Dt}function de(e){if(!At){Dt+=e*tt;ne()}}function le(){de(-1)}function ce(){de(dt&&Dt===ze?-(ze-xt)/tt:1)}function ue(e){if(!At){for(var i,a,o,n=e.target||e.srcElement;t(Ft,n)===-1;)n=n.parentNode;i=Wt=t(Ft,n);a="gallery"===We?0:yt;o=i+a;Ne(o)}}function pe(){ye();m(ii,{"data-action":"stop"});ii.innerHTML=ni+ei[1];ai=!0}function me(){he();m(ii,{"data-action":"start"});ii.innerHTML=ni.replace("Stop","Start")+ei[0];ai=!1}function he(){ai="paused";clearInterval(Xt)}function ye(){if(ai!==!0){clearInterval(Xt);Xt=setInterval(function(){de(Zt)},Kt)}}function ve(){ai?me():pe()}function fe(){si!=document.hidden&&ai!==!1&&(document.hidden?he():ye());si=document.hidden}function ge(e){e=e||window.event;switch(e.keyCode){case N.LEFT:le();break;case N.RIGHT:ce()}}function Ie(e,t){if("object"==typeof e&&"object"==typeof t&&e===document.activeElement){e.blur();t.focus()}}function _e(e){e=e||window.event;var t=e.keyCode;document.activeElement;switch(t){case N.LEFT:case N.UP:case N.PAGEUP:Nt.disabled||le();break;case N.RIGHT:case N.DOWN:case N.PAGEDOWN:kt.disabled||ce();break;case N.HOME:Ne(0);break;case N.END:Ne(Ze-1)}}function be(e){e=e||window.event;var t=e.keyCode,i=document.activeElement,a=u(i,"data-nav");switch(t){case N.LEFT:case N.PAGEUP:a>0&&Ie(i,i.previousElementSibling);break;case N.UP:case N.HOME:0!==a&&Ie(i,Ft[0]);break;case N.RIGHT:case N.PAGEDOWN:a<Vt-1&&Ie(i,i.nextElementSibling);break;case N.DOWN:case N.END:a<Vt-1&&Ie(i,Ft[Vt-1]);break;case N.ENTER:case N.SPACE:ue(e)}}function Se(){oe(0,Ge.scrollLeft());se()}function Pe(e){return e.target||e.srcElement}function Ee(e){return"a"===e.tagName.toLowerCase()}function De(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e=e||window.event;Ee(Pe(e))&&"touchstart"!==e.type&&De(e);var t="touchstart"===e.type?e.changedTouches[0]:e;pi=parseInt(t.clientX);mi=parseInt(t.clientY);var i=$?[11,-3]:[0,-2];di=Number(Ge.style[bt].slice(i[0],i[1]));if("touchstart"===e.type)jt.emit("touchStart",Re(e));else{jt.emit("dragStart",Re(e));yi=!0}}function $e(e){e=e||window.event;yi&&"mousemove"===e.type&&!vi&&(vi=!0);if(null!==pi){Ee(Pe(e))&&"touchmove"!==e.type&&De(e);var t="touchmove"===e.type?e.changedTouches[0]:e;li=parseInt(t.clientX)-pi;ci=parseInt(t.clientY)-mi;if(l(d(ci,li),15)===Qe){Ue=!0;"touchmove"===e.type?jt.emit("touchMove",Re(e)):jt.emit("dragMove",Re(e));var i="horizontal"===Qe?di+li:di+ci;i+="px";if($){i="translate"+It+"("+i+")";ae(0)}Ge.style[bt]=i}}}function xe(e){e=e||window.event;yi&&(yi=!1);if(Ue){Ue=!1;var t=0===e.type.indexOf("touch")?e.changedTouches[0]:e;li=parseInt(t.clientX)-pi;ci=parseInt(t.clientY)-mi;pi=mi=null;if("horizontal"===Qe){Dt=-(di+li)/mt;Dt=li>0?Math.floor(Dt):Math.ceil(Dt)}else{var i=-(di+ci);if(i<=0)Dt=xt;else if(i>=Ve[Ve.length-1])Dt=ze;else{var a=0;do{a++;Dt=ci<0?a+1:a}while(a<vt&&i>=Math.round(Ve[a+1]))}}0===e.type.indexOf("touch")?jt.emit("touchEnd",Re(e)):jt.emit("dragEnd",Re(e));ne()}if(vi){vi=!1;var o=Pe(e);Ee(o)&&_(o,{click:function e(t){De(t);b(o,{click:e})}})}}function Ae(){Ge.style.width=(mt+1)*vt+"px";for(var e=vt;e--;)Ke[e].style.width=mt-at+"px"}function Me(){for(var e=Dt+1,t=Dt+et;e<t;e++)Ke[e].style.left=mt*(e-Dt)+"px"}function je(){Xe.style.cssText="margin: 0px "+Y()+"px"}function Be(){Xe.style.height=K()+"px"}function we(){Ht=[];for(var e=Dt%Ze%et;e<Ze;){!lt&&e+et>Ze&&(e=Ze-et);Ht.push(e);e+=et}(lt&&Ht.length*et<Ze||!lt&&Ht[0]>0)&&Ht.unshift(0)}function Oe(){if(zt&&!i.navContainer){we();if(Ht!==Ut){Ut.length>0&&Ut.forEach(function(e){m(Ft[e],{hidden:""})});Ht.length>0&&Ht.forEach(function(e){h(Ft[e],"hidden")});Ut=Ht}}}function Re(e){return{container:Ge,slideItems:Ke,navItems:Ft,prevButton:Nt,nextButton:kt,items:et,index:Dt,indexCached:Ct,navCurrent:Qt,navCurrentCached:Yt,slideCount:Ze,cloneCount:yt,slideCountNew:vt,event:e||{}}}function Ne(e){var t,i=Dt%Ze;i<0&&(i+=Ze);switch(e){case"next":t=1;break;case"prev":case"previous":t=-1;break;case"first":t=-i;break;case"last":t=Ze-1-i;break;default:if("number"==typeof e){var a=e%Ze;a<0&&(a+=Ze);t=a-i}}Dt+=t;if(Dt%Ze!==Ct%Ze){Di();ne()}}function ke(){var e=Dt,t=et;I();Di();F();if("horizontal"===Qe){if(nt&&ot)je();else{Ae();"gallery"===We&&Me()}G()}else{G();Be()}(Dt!==e||"carousel"===We&&!nt)&&oe(0);if(Dt!==e||et!==t){H();Oe();te()}U();if(Dt!==e){jt.emit("indexChanged",Re());ee();ie()}navigator.msMaxTouchPoints&&Z()}function Le(e){clearTimeout(He);He=setTimeout(function(){if(qe!==Pi()){ke();"outer"===it&&jt.emit("outerResized",Re(e))}},100)}i=e({container:document.querySelector(".slider"),mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,slideBy:1,controls:!0,controlsText:["prev","next"],controlsContainer:!1,nav:!0,navContainer:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,touch:!0,mouseDrag:!1,nested:!1,onInit:!1},i||{});for(var Te=["container","controlsContainer","navContainer","autoplayButton"],Je=4;Je--;){var Fe=i[Te[Je]];"string"==typeof Fe&&(i[Te[Je]]=document.querySelector(Fe))}if(i.container&&i.container.nodeName&&!(i.container.children.length<2)){var Ve,ze,qe,He,Ue,We=i.mode,Qe=i.axis,Ye=document.createElement("div"),Xe=document.createElement("div"),Ge=i.container,Ke=Ge.children,Ze=Ke.length,et=i.items,tt=a(),it=i.nested,at=i.gutter,ot="gallery"!==We&&i.edgePadding,nt=i.fixedWidth,rt=i.arrowKeys,st=i.speed,dt=i.rewind,lt="gallery"===We||!i.rewind&&i.loop,ct="gallery"===We||i.autoHeight,ut=!nt&&i.responsive,pt=i.lazyload,mt=nt?nt+at:0,ht=[],yt=lt?2*Ze:ot?1:0,vt="gallery"===We?Ze+yt:Ze+2*yt,ft=!(!nt||lt||ot),gt="gallery"===We||!lt,It="horizontal"===Qe?"X":"Y",_t="horizontal"===Qe?"left":"top",bt=_t,St="translate",Pt="",Et="",Dt="gallery"===We?0:yt,Ct=Dt,$t=ot?1:0,xt=$t,At=!1,Mt=i.onInit,jt=new S,Bt=!1,wt=Ge.id,Ot=Ge.className,Rt=Ge.id||s();if(i.controls)var Nt,kt,Lt=i.controls,Tt=i.controlsText,Jt=i.controlsContainer;if(i.nav)var Ft,Vt,zt=i.nav,qt=i.navContainer,Ht=[],Ut=Ht,Wt=-1,Qt=0,Yt=0;if(i.autoplay)var Xt,Gt=i.autoplay,Kt=i.autoplayTimeout,Zt="forward"===i.autoplayDirection?1:-1,ei=i.autoplayText,ti=i.autoplayHoverPause,ii=i.autoplayButton,ai=!1,oi=!1,ni="<span hidden>Stop Animation</span>",ri=i.autoplayResetOnVisibility,si=!1;if(i.touch)var di,li,ci,ui=i.touch,pi=null,mi=null;if(i.mouseDrag)var hi=i.mouseDrag,yi=!1,vi=!1;if("gallery"===i.mode)var fi=w?i.animateIn:"tns-fadeIn",gi=w?i.animateOut:"tns-fadeOut",Ii=w?i.animateNormal:"tns-normal",_i=!!w&&i.animateDelay;if($){bt=$;Pt=St+It+"(";Et=")"}var bi=function(){return nt?function(){return Math.max(1,Math.min(Ze,Math.floor(qe/nt)))}:function(){var e=i.items,t="object"==typeof ut&&Object.keys(ut);t&&t.forEach(function(t){qe>=t&&(e=ut[t])});return Math.max(1,Math.min(Ze,e))}}(),Si=function(){return i.navContainer?function(){return Ze}:function(){return Math.ceil(Ze/et)}}(),Pi=function(){return"horizontal"===Qe&&!nt&&ot?function(){return Ye.clientWidth-2*(ot+at)}:function(){return Ye.clientWidth}}();Q();var Ei=function(){return"carousel"===We?function(e,t){t||(t=-Ve[Dt]);ft&&Dt===ze&&(t=Math.max(t,-vt*mt+qe+at));M||!e?Ge.style[bt]=Pt+Math.round(t)+"px"+Et:P(Ge,bt,Pt,Et,t,st,re);"vertical"===Qe&&(Xe.style.height=K()+"px")}:function(){ht=[];var e={};e[B]=e[R]=re;b(Ke[Ct],e);_(Ke[Dt],e);!function(){for(var e=Ct,t=Ct+et;e<t;e++){var i=Ke[e];M&&ae(st,i);if(_i&&j){var a=_i*(e-Ct)/1e3;i.style[j]=a+"s";i.style[O]=a+"s"}i.classList.remove(fi);i.classList.add(gi);ht.push(i)}}();!function(){for(var e=Dt,t=Dt+et;e<t;e++){var i=Ke[e];M&&ae(st,i);if(_i&&j){var a=_i*(e-Dt)/1e3;i.style[j]=a+"s";i.style[O]=a+"s"}i.classList.remove(Ii);i.classList.add(fi);e>Dt&&(i.style.left=(e-Dt)*mt+"px")}}();B||setTimeout(re,st)}}(),Di=function(){return lt?function(){var e="carousel"===We?tt+xt:xt,t="carousel"===We?ze-tt:ze;nt&&qe%mt!==0&&(t-=1);if(Dt>t)for(;Dt>=e+Ze;)Dt-=Ze;else if(Dt<e)for(;Dt<=t-Ze;)Dt+=Ze}:function(){Dt=Math.max(xt,Math.min(ze,Dt))}}();return{getInfo:Re,events:jt,goTo:Ne,destroy:function(){r(Ye);r(Xe);Ye=Xe=null;Ge.id=wt||"";Ge.className=Ot||"";h(Ge,["style","data-tns-role","data-tns-features"]);if(lt)for(var e=yt;e--;){Ke[0].remove();Ke[Ke.length-1].remove()}h(Ke,["id","style","aria-hidden","tabindex"]);Rt=Ze=null;if(Lt)if(i.controlsContainer){h(Jt,["aria-label","tabindex"]);h(Jt.children,["aria-controls","tabindex"]);y(Jt)}else{Jt.remove();Jt=Nt=kt=null}if(zt){if(i.navContainer){h(qt,["aria-label"]);h(Ft,["aria-selected","aria-controls","tabindex"]);y(qt)}else{qt.remove();qt=null}Ft=null}if(Gt){if(i.navContainer||null===qt)y(ii);else{qt.remove();qt=null}b(document,{visibilitychange:fe})}y(Ge);rt&&b(document,{keydown:ge});b(window,{resize:Le})}}}};return k}();!function(e,t,i){function a(e,t){var i=new Date(e),a=moment(i).format("MMMM DD, YYYY");if(null!=document.getElementById("selectedDate"))document.getElementById("selectedDate").value=a;else{t.$el[0].value=a;t.$el[0].blur()}}function o(){var e=new Date;r=new Date(e.getTime()+157248e5);return r}e.Datepicker="";var n,r;!function(){var r,s,d,l="datepicker",c=".datepicker-here",u=!1,p='<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>',m={classes:"",inline:!0,language:"en",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"MM mm, yyyy",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:new Date,maxDate:o(),disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,
showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},onSelect:function(e,t,i){a(new Date(t),i)},onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},h={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]};Datepicker=function(e,a){this.el=e;this.$el=t(e);this.opts=t.extend(!0,{},m,a,this.$el.data());r==i&&(r=t("body"));this.opts.startDate||(this.opts.startDate=new Date);"INPUT"==this.el.nodeName&&(this.elIsInput=!0);this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?t(this.opts.altField):this.opts.altField);this.inited=!1;this.visible=!1;this.silent=!1;this.currentDate=this.opts.startDate;this.currentView=this.opts.view;this._createShortCuts();this.selectedDates=[];this.views={};this.keys=[];this.minRange="";this.maxRange="";this.init()};d=Datepicker;d.getSelectedDate=function(){alert(n);return n};d.prototype={viewIndexes:["days","months","years"],init:function(){u||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer();this._buildBaseHtml();this._defineLocale(this.opts.language);this._syncWithMinMaxDates();if(this.elIsInput){if(!this.opts.inline){this._setPositionClasses(this.opts.position);this._bindEvents()}this.opts.keyboardNav&&this._bindKeyboardEvents();this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this));this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))}this.opts.classes&&this.$datepicker.addClass(this.opts.classes);this.views[this.currentView]=new Datepicker.Body(this,this.currentView,this.opts);this.views[this.currentView].show();this.nav=new Datepicker.Navigation(this,this.opts);this.view=this.currentView;this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this));this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this));this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5);this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this));this.$el.on("blur.adp",this._onBlur.bind(this));this.$el.on("input.adp",this._onInput.bind(this));t(e).on("resize.adp",this._onResize.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this));this.$el.on("keyup.adp",this._onKeyUp.bind(this));this.$el.on("hotKey.adp",this._onHotKey.bind(this))},isWeekend:function(e){return this.opts.weekends.indexOf(e)!==-1},_defineLocale:function(e){if("string"==typeof e){this.loc=Datepicker.language[e];if(!this.loc){console.warn("Can't find language \""+e+'" in Datepicker.language, will use "ru" instead');this.loc=t.extend(!0,{},Datepicker.language.ru)}this.loc=t.extend(!0,{},Datepicker.language.ru,Datepicker.language[e])}else this.loc=t.extend(!0,{},Datepicker.language.ru,e);this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat);""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay)},_buildDatepickersContainer:function(){u=!0;r.append('<div class="datepickers-container" id="datepickers-container"></div>');s=t("#datepickers-container")},_buildBaseHtml:function(){var e,i=t('<div class="datepicker-inline">');e="INPUT"==this.el.nodeName?this.opts.inline?i.insertAfter(this.$el):s:i.appendTo(this.$el);this.$datepicker=t(p).appendTo(e);this.$content=t(".datepicker--content",this.$datepicker);this.$nav=t(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length)return this.opts.onSelect("","",this);var e,t=this.selectedDates,i=d.getParsedDate(t[0]),a=this,o=new Date(i.year,i.month,i.date);e=t.map(function(e){return a.formatDate(a.loc.dateFormat,e)}).join(this.opts.multipleDatesSeparator);(this.opts.multipleDates||this.opts.range)&&(o=t.map(function(e){var t=d.getParsedDate(e);return new Date(t.year,t.month,t.date)}));this.opts.onSelect(e,o,this)},next:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month+1,1);t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year+1,e.month,1);t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year+10,0,1);t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},prev:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month-1,1);t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year-1,e.month,1);t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year-10,0,1);t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},formatDate:function(e,t){t=t||this.date;var i=e,a=this._getWordBoundaryRegExp,o=this.loc,n=d.getDecade(t),r=d.getParsedDate(t);switch(!0){case/@/.test(i):i=i.replace(/@/,t.getTime());case/dd/.test(i):i=i.replace(a("dd"),r.fullDate);case/d/.test(i):i=i.replace(a("d"),r.date);case/DD/.test(i):i=i.replace(a("DD"),o.days[r.day]);case/D/.test(i):i=i.replace(a("D"),o.daysShort[r.day]);case/mm/.test(i):i=i.replace(a("mm"),r.fullMonth);case/m/.test(i):i=i.replace(a("m"),r.month+1);case/MM/.test(i):i=i.replace(a("MM"),this.loc.months[r.month]);case/M/.test(i):i=i.replace(a("M"),o.monthsShort[r.month]);case/yyyy/.test(i):i=i.replace(a("yyyy"),r.year);case/yyyy1/.test(i):i=i.replace(a("yyyy1"),n[0]);case/yyyy2/.test(i):i=i.replace(a("yyyy2"),n[1]);case/yy/.test(i):i=i.replace(a("yy"),r.year.toString().slice(-2))}return i},_getWordBoundaryRegExp:function(e){return new RegExp("\\b(?=[a-zA-Z0-9<])"+e+"(?![>a-zA-Z0-9])")},selectDate:function(e){var t=this,i=t.opts,a=t.parsedDate,o=t.selectedDates,n=o.length,r="";if(e instanceof Date){"days"==t.view&&e.getMonth()!=a.month&&i.moveToOtherMonthsOnSelect&&(r=new Date(e.getFullYear(),e.getMonth(),1));"years"==t.view&&e.getFullYear()!=a.year&&i.moveToOtherYearsOnSelect&&(r=new Date(e.getFullYear(),0,1));if(r){t.silent=!0;t.date=r;t.silent=!1;t.nav._render()}if(i.multipleDates&&!i.range){if(n===i.multipleDates)return;t._isSelected(e)||t.selectedDates.push(e)}else if(i.range)if(2==n){t.selectedDates=[e];t.minRange=e;t.maxRange=""}else if(1==n){t.selectedDates.push(e);t.maxRange?t.minRange=e:t.maxRange=e;t.selectedDates=[t.minRange,t.maxRange]}else{t.selectedDates=[e];t.minRange=e}else t.selectedDates=[e];t._setInputValue();i.onSelect&&t._triggerOnChange();i.autoClose&&(i.multipleDates||i.range?i.range&&2==t.selectedDates.length&&t.hide():t.hide());t.views[this.currentView]._render()}},removeDate:function(e){var t=this.selectedDates,i=this;if(e instanceof Date)return t.some(function(a,o){if(d.isSame(a,e)){t.splice(o,1);if(!i.selectedDates.length){i.minRange="";i.maxRange=""}i.views[i.currentView]._render();i._setInputValue();i.opts.onSelect&&i._triggerOnChange();return!0}})},today:function(){this.silent=!0;this.view=this.opts.minView;this.silent=!1;this.date=new Date},clear:function(){this.selectedDates=[];this.minRange="";this.maxRange="";this.views[this.currentView]._render();this._setInputValue();this.opts.onSelect&&this._triggerOnChange()},update:function(e,i){var a=arguments.length;2==a?this.opts[e]=i:1==a&&"object"==typeof e&&(this.opts=t.extend(!0,this.opts,e));this._createShortCuts();this._syncWithMinMaxDates();this._defineLocale(this.opts.language);this.nav._addButtonsIfNeed();this.nav._render();this.views[this.currentView]._render();if(this.elIsInput&&!this.opts.inline){this._setPositionClasses(this.opts.position);this.visible&&this.setPosition(this.opts.position)}this.opts.classes&&this.$datepicker.addClass(this.opts.classes);return this},_syncWithMinMaxDates:function(){var e=this.date.getTime();this.silent=!0;this.minTime>e&&(this.date=this.minDate);this.maxTime<e&&(this.date=this.maxDate);this.silent=!1},_isSelected:function(e,t){return this.selectedDates.some(function(i){return d.isSame(i,e,t)})},_setInputValue:function(){var e,t=this,i=t.opts,a=t.loc.dateFormat,o=i.altFieldDateFormat,n=t.selectedDates.map(function(e){return t.formatDate(a,e)});if(i.altField&&t.$altField.length){e=this.selectedDates.map(function(e){return t.formatDate(o,e)});e=e.join(this.opts.multipleDatesSeparator);this.$altField.val(e)}n=n.join(this.opts.multipleDatesSeparator);this.$el.val(n)},_isInRange:function(e,t){var i=e.getTime(),a=d.getParsedDate(e),o=d.getParsedDate(this.minDate),n=d.getParsedDate(this.maxDate),r=new Date(a.year,a.month,o.date).getTime(),s=new Date(a.year,a.month,n.date).getTime(),l={day:i>=this.minTime&&i<=this.maxTime,month:r>=this.minTime&&s<=this.maxTime,year:a.year>=o.year&&a.year<=n.year};return t?l[t]:l.day},_getDimensions:function(e){var t=e.offset();return{width:e.outerWidth(),height:e.outerHeight(),left:t.left,top:t.top}},_getDateFromCell:function(e){var t=this.parsedDate,a=e.data("year")||t.year,o=e.data("month")==i?t.month:e.data("month"),n=e.data("date")||1;return new Date(a,o,n)},_setPositionClasses:function(e){e=e.split(" ");var t=e[0],i=e[1],a="datepicker -"+t+"-"+i+"- -from-"+t+"-";this.visible&&(a+=" active");this.$datepicker.removeAttr("class").addClass(a)},setPosition:function(e){e=e||this.opts.position;var t,i,a=this._getDimensions(this.$el),o=this._getDimensions(this.$datepicker),n=e.split(" "),r=this.opts.offset,s=n[0],d=n[1];switch(s){case"top":t=a.top-o.height-r;break;case"right":i=a.left+a.width+r;break;case"bottom":t=a.top+a.height+r;break;case"left":i=a.left-o.width-r}switch(d){case"top":t=a.top;break;case"right":i=a.left+a.width-o.width;break;case"bottom":t=a.top+a.height-o.height;break;case"left":i=a.left;break;case"center":/left|right/.test(s)?t=a.top+a.height/2-o.height/2:i=a.left+a.width/2-o.width/2}this.$datepicker.css({left:i,top:t})},show:function(){this.setPosition(this.opts.position);this.$datepicker.addClass("active");this.visible=!0},hide:function(){this.$datepicker.removeClass("active").css({left:"-100000px"});this.focused="";this.keys=[];this.inFocus=!1;this.visible=!1;this.$el.blur()},down:function(e){this._changeView(e,"down")},up:function(e){this._changeView(e,"up")},_changeView:function(e,t){e=e||this.focused||this.date;var i="up"==t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2);i<0&&(i=0);this.silent=!0;this.date=new Date(e.getFullYear(),e.getMonth(),1);this.silent=!1;this.view=this.viewIndexes[i]},_handleHotKey:function(e){var t,i,a,o=d.getParsedDate(this._getFocusedDate()),n=this.opts,r=!1,s=!1,l=!1,c=o.year,u=o.month,p=o.date;switch(e){case"ctrlRight":case"ctrlUp":u+=1;r=!0;break;case"ctrlLeft":case"ctrlDown":u-=1;r=!0;break;case"shiftRight":case"shiftUp":s=!0;c+=1;break;case"shiftLeft":case"shiftDown":s=!0;c-=1;break;case"altRight":case"altUp":l=!0;c+=10;break;case"altLeft":case"altDown":l=!0;c-=10;break;case"ctrlShiftUp":this.up()}a=d.getDaysCount(new Date(c,u));i=new Date(c,u,p);a<p&&(p=a);i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate);this.focused=i;t=d.getParsedDate(i);r&&n.onChangeMonth&&n.onChangeMonth(t.month,t.year);s&&n.onChangeYear&&n.onChangeYear(t.year);l&&n.onChangeDecade&&n.onChangeDecade(this.curDecade)},_registerKey:function(e){var t=this.keys.some(function(t){return t==e});t||this.keys.push(e)},_unRegisterKey:function(e){var t=this.keys.indexOf(e);this.keys.splice(t,1)},_isHotKeyPressed:function(){var e,t=!1,i=this,a=this.keys.sort();for(var o in h){e=h[o];if(a.length==e.length&&e.every(function(e,t){return e==a[t]})){i._trigger("hotKey",o);t=!0}}return t},_trigger:function(e,t){this.$el.trigger(e,t)},_focusNextCell:function(e,t){t=t||this.cellType;var i=d.getParsedDate(this._getFocusedDate()),a=i.year,o=i.month,n=i.date;if(!this._isHotKeyPressed()){switch(e){case 37:"day"==t?n-=1:"";"month"==t?o-=1:"";"year"==t?a-=1:"";break;case 38:"day"==t?n-=7:"";"month"==t?o-=3:"";"year"==t?a-=4:"";break;case 39:"day"==t?n+=1:"";"month"==t?o+=1:"";"year"==t?a+=1:"";break;case 40:"day"==t?n+=7:"";"month"==t?o+=3:"";"year"==t?a+=4:""}var r=new Date(a,o,n);r.getTime()<this.minTime?r=this.minDate:r.getTime()>this.maxTime&&(r=this.maxDate);this.focused=r}},_getFocusedDate:function(){var e=this.focused||this.selectedDates[this.selectedDates.length-1],t=this.parsedDate;if(!e)switch(this.view){case"days":e=new Date(t.year,t.month,(new Date).getDate());break;case"months":e=new Date(t.year,t.month,1);break;case"years":e=new Date(t.year,0,1)}return e},_getCell:function(e,t){t=t||this.cellType;var i,a=d.getParsedDate(e),o='.datepicker--cell[data-year="'+a.year+'"]';switch(t){case"month":o='[data-month="'+a.month+'"]';break;case"day":o+='[data-month="'+a.month+'"][data-date="'+a.date+'"]'}i=this.views[this.currentView].$el.find(o);return i.length?i:""},destroy:function(){var e=this;e.$el.off(".adp").data("datepicker","");e.selectedDates=[];e.focused="";e.views={};e.keys=[];e.minRange="";e.maxRange="";e.opts.inline||!e.elIsInput?e.$datepicker.closest(".datepicker-inline").remove():e.$datepicker.remove()},_onShowEvent:function(){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(e){this.inFocus=!0},_onMouseUpDatepicker:function(e){this.inFocus=!1;this.$el.focus()},_onInput:function(){var e=this.$el.val();e||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onKeyDown:function(e){var t=e.which;this._registerKey(t);if(t>=37&&t<=40){e.preventDefault();this._focusNextCell(t)}if(13==t&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var i=this._isSelected(this.focused,this.cellType);i?i&&this.opts.toggleSelected&&this.removeDate(this.focused):this.selectDate(this.focused)}}27==t&&this.hide()},_onKeyUp:function(e){var t=e.which;this._unRegisterKey(t)},_onHotKey:function(e,t){this._handleHotKey(t)},_onMouseEnterCell:function(e){var i=t(e.target).closest(".datepicker--cell"),a=this._getDateFromCell(i);this.silent=!0;this.focused&&(this.focused="");i.addClass("-focus-");this.focused=a;this.silent=!1;if(this.opts.range&&1==this.selectedDates.length){this.minRange=this.selectedDates[0];this.maxRange="";if(d.less(this.minRange,this.focused)){this.maxRange=this.minRange;this.minRange=""}this.views[this.currentView]._update()}},_onMouseLeaveCell:function(e){var i=t(e.target).closest(".datepicker--cell");i.removeClass("-focus-");this.silent=!0;this.focused="";this.silent=!1},set focused(e){if(!e&&this.focused){var t=this._getCell(this.focused);t.length&&t.removeClass("-focus-")}this._focused=e;if(this.opts.range&&1==this.selectedDates.length){this.minRange=this.selectedDates[0];this.maxRange="";if(d.less(this.minRange,this._focused)){this.maxRange=this.minRange;this.minRange=""}}this.silent||(this.date=e)},get focused(){return this._focused},get parsedDate(){return d.getParsedDate(this.date)},set date(e){if(e instanceof Date){this.currentDate=e;if(this.inited&&!this.silent){this.views[this.view]._render();this.nav._render();this.visible&&this.elIsInput&&this.setPosition()}return e}},get date(){return this.currentDate},set view(e){this.viewIndex=this.viewIndexes.indexOf(e);if(!(this.viewIndex<0)){this.prevView=this.currentView;this.currentView=e;if(this.inited){this.views[e]?this.views[e]._render():this.views[e]=new Datepicker.Body(this,e,this.opts);this.views[this.prevView].hide();this.views[e].show();this.nav._render();this.opts.onChangeView&&this.opts.onChangeView(e);this.elIsInput&&this.visible&&this.setPosition()}return e}},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var e=d.getParsedDate(this.minDate);return new Date(e.year,e.month,e.date).getTime()},get maxTime(){var e=d.getParsedDate(this.maxDate);return new Date(e.year,e.month,e.date).getTime()},get curDecade(){return d.getDecade(this.date)}};d.getDaysCount=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()};d.getParsedDate=function(e){return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay()}};d.getDecade=function(e){var t=10*Math.floor(e.getFullYear()/10);return[t,t+9]};d.template=function(e,t){return e.replace(/#\{([\w]+)\}/g,function(e,i){if(t[i]||0===t[i])return t[i]})};d.isSame=function(e,t,i){if(!e||!t)return!1;var a=d.getParsedDate(e),o=d.getParsedDate(t),n=i?i:"day",r={day:a.date==o.date&&a.month==o.month&&a.year==o.year,month:a.month==o.month&&a.year==o.year,year:a.year==o.year};return r[n]};d.less=function(e,t,i){return!(!e||!t)&&t.getTime()<e.getTime()};d.bigger=function(e,t,i){return!(!e||!t)&&t.getTime()>e.getTime()};Datepicker.language={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM mm, yyyy",firstDay:0}};t.fn[l]=function(e){return this.each(function(){if(t.data(this,l)){var i=t.data(this,l);i.opts=t.extend(!0,i.opts,e);i.update()}else t.data(this,l,new Datepicker(this,e))})};t(function(){t(c).datepicker()})}();!function(){var e={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},a=Datepicker;a.Body=function(e,t,i){this.d=e;this.type=t;this.opts=i;this.init()};a.Body.prototype={init:function(){this._buildBaseHtml();this._render();this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",t.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=t(e[this.type]).appendTo(this.d.$content);this.$names=t(".datepicker--days-names",this.$el);this.$cells=t(".datepicker--cells",this.$el)},_getDayNamesHtml:function(e,t,a,o){t=t!=i?t:e;a=a?a:"";o=o!=i?o:0;if(o>7)return a;if(7==t)return this._getDayNamesHtml(e,0,a,++o);a+='<div class="datepicker--day-name'+(this.d.isWeekend(t)?" -weekend-":"")+'">'+this.d.loc.daysMin[t]+"</div>";return this._getDayNamesHtml(e,++t,a,++o)},_getCellContents:function(e,t){var i="datepicker--cell datepicker--cell-"+t,o=new Date,n=this.d,r=n.opts,s=a.getParsedDate(e),d={},l=s.date;if(r.onRenderCell){d=r.onRenderCell(e,t)||{};l=d.html?d.html:l;i+=d.classes?" "+d.classes:""}switch(t){case"day":n.isWeekend(s.day)&&(i+=" -weekend-");if(s.month!=this.d.parsedDate.month){i+=" -other-month-";r.selectOtherMonths||(i+=" -disabled-");r.showOtherMonths||(l="")}break;case"month":l=n.loc[n.opts.monthsField][s.month];break;case"year":var c=n.curDecade;l=s.year;if(s.year<c[0]||s.year>c[1]){i+=" -other-decade-";r.selectOtherYears||(i+=" -disabled-");r.showOtherYears||(l="")}}if(r.onRenderCell){d=r.onRenderCell(e,t)||{};l=d.html?d.html:l;i+=d.classes?" "+d.classes:""}if(r.range){a.isSame(n.minRange,e,t)&&(i+=" -range-from-");a.isSame(n.maxRange,e,t)&&(i+=" -range-to-");if(1==n.selectedDates.length&&n.focused){(a.bigger(n.minRange,e)&&a.less(n.focused,e)||a.less(n.maxRange,e)&&a.bigger(n.focused,e))&&(i+=" -in-range-");a.less(n.maxRange,e)&&a.isSame(n.focused,e)&&(i+=" -range-from-");a.bigger(n.minRange,e)&&a.isSame(n.focused,e)&&(i+=" -range-to-")}else 2==n.selectedDates.length&&a.bigger(n.minRange,e)&&a.less(n.maxRange,e)&&(i+=" -in-range-")}a.isSame(o,e,t)&&(i+=" -current-");n.focused&&a.isSame(e,n.focused,t)&&(i+=" -focus-");n._isSelected(e,t)&&(i+=" -selected-");n._isInRange(e,t)&&!d.disabled||(i+=" -disabled-");return{html:l,classes:i}},_getDaysHtml:function(e){var t=a.getDaysCount(e),i=new Date(e.getFullYear(),e.getMonth(),1).getDay(),o=new Date(e.getFullYear(),e.getMonth(),t).getDay(),n=i-this.d.loc.firstDay,r=6-o+this.d.loc.firstDay;n=n<0?n+7:n;r=r>6?r-7:r;for(var s,d,l=-n+1,c="",u=l,p=t+r;u<=p;u++){d=e.getFullYear();s=e.getMonth();c+=this._getDayHtml(new Date(d,s,u))}return c},_getDayHtml:function(e){var t=this._getCellContents(e,"day");return'<div class="'+t.classes+'" data-date="'+e.getDate()+'" data-month="'+e.getMonth()+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_getMonthsHtml:function(e){for(var t="",i=a.getParsedDate(e),o=0;o<12;){t+=this._getMonthHtml(new Date(i.year,o));o++}return t},_getMonthHtml:function(e){var t=this._getCellContents(e,"month");return'<div class="'+t.classes+'" data-month="'+e.getMonth()+'">'+t.html+"</div>"},_getYearsHtml:function(e){var t=(a.getParsedDate(e),a.getDecade(e)),i=t[0]-1,o="",n=i;for(n;n<=t[1]+1;n++)o+=this._getYearHtml(new Date(n,0));return o},_getYearHtml:function(e){var t=this._getCellContents(e,"year");return'<div class="'+t.classes+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_renderTypes:{days:function(){var e=this._getDayNamesHtml(this.d.loc.firstDay),t=this._getDaysHtml(this.d.currentDate);this.$cells.html(t);this.$names.html(e)},months:function(){var e=this._getMonthsHtml(this.d.currentDate);this.$cells.html(e)},years:function(){var e=this._getYearsHtml(this.d.currentDate);this.$cells.html(e)}},_render:function(){this._renderTypes[this.type].bind(this)()},_update:function(){var e,i,a,o=t(".datepicker--cell",this.$cells),n=this;o.each(function(o,r){i=t(this);a=n.d._getDateFromCell(t(this));e=n._getCellContents(a,n.d.cellType);i.attr("class",e.classes)})},show:function(){this.$el.addClass("active");this.acitve=!0},hide:function(){this.$el.removeClass("active");this.active=!1},_handleClick:function(e){var t=e.data("date")||1,i=e.data("month")||0,a=e.data("year")||this.d.parsedDate.year;if(this.d.view==this.opts.minView){var o=new Date(a,i,t),n=this.d._isSelected(o,this.d.cellType);n?n&&this.opts.toggleSelected&&this.d.removeDate(o):this.d.selectDate(o)}else this.d.down(new Date(a,i,t))},_onClickCell:function(e){var i=t(e.target).closest(".datepicker--cell");i.hasClass("-disabled-")||this._handleClick.bind(this)(i)}}}();!function(){var e='<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',i='<div class="datepicker--buttons"></div>',a='<span class="datepicker--button" data-action="#{action}">#{label}</span>';Datepicker.Navigation=function(e,t){this.d=e;this.opts=t;this.$buttonsContainer="";this.init()};Datepicker.Navigation.prototype={init:function(){this._buildBaseHtml();this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",t.proxy(this._onClickNavButton,this));this.d.$nav.on("click",".datepicker--nav-title",t.proxy(this._onClickNavTitle,this));this.d.$datepicker.on("click",".datepicker--button",t.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this._render();this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today");this.opts.clearButton&&this._addButton("clear")},_render:function(){var i=this._getTitle(this.d.currentDate),a=Datepicker.template(e,t.extend({title:i},this.opts));this.d.$nav.html(a);"years"==this.d.view&&t(".datepicker--nav-title",this.d.$nav).addClass("-disabled-");this.setNavStatus()},_getTitle:function(e){return this.d.formatDate(this.opts.navTitles[this.d.view],e)},_addButton:function(e){this.$buttonsContainer.length||this._addButtonsContainer();var i={action:e,label:this.d.loc[e]},o=Datepicker.template(a,i);t("[data-action="+e+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(o)},_addButtonsContainer:function(){this.d.$datepicker.append(i);this.$buttonsContainer=t(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var e=this.d.parsedDate,t=e.month,i=e.year,a=e.date;switch(this.d.view){case"days":this.d._isInRange(new Date(i,t-1,a),"month")||this._disableNav("prev");this.d._isInRange(new Date(i,t+1,a),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(i-1,t,a),"year")||this._disableNav("prev");this.d._isInRange(new Date(i+1,t,a),"year")||this._disableNav("next");break;case"years":this.d._isInRange(new Date(i-10,t,a),"year")||this._disableNav("prev");this.d._isInRange(new Date(i+10,t,a),"year")||this._disableNav("next")}}},_disableNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(e){var i=t(e.target).closest("[data-action]"),a=i.data("action");this.d[a]()},_onClickNavTitle:function(e){if(!t(e.target).hasClass("-disabled-")){if("days"==this.d.view)return this.d.view="months";this.d.view="years"}}}}()}(window,jQuery);
//# sourceMappingURL=petco.combined.js.map
