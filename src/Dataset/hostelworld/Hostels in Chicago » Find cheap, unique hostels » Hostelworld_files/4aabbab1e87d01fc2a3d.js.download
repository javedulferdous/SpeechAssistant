(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{313:function(e,r,t){"use strict";t.r(r),t.d(r,"Service",(function(){return A}));var n=t(266),o=t(65),c=t(82),l=t(120),f=t(121),w=t(122),d=t(123),y=t(124),h=t(126),k=t(81);class m{constructor(e,r,t,n,o,c,l,f,w){this.rank1=e||9999,this.rank2=r||9999,this.rank3=t||9999,this.rank4=n||9999,this.rank5=o||9999,this.rank6=c||9999,this.rank7=l||9999,this.rank8=f||9999,this.rank9=w||9999}}var v=t(14),S=t(23),P=t(87),time=t(17);function R(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class A{constructor(e){this.api=e}async search(e,r,t,n,c={}){const l=Object(S.a)(r,"yyyy-MM-dd",new Date),f=Object(S.a)(t,"yyyy-MM-dd",new Date),w={dateStart:r,numNights:Object(time.f)(l,f),guests:n,showRooms:!0,propertyNumImages:v.default.imagesPerProperty,perPage:1e3};c.groupType&&c.groupAgeRange&&(w.groupType=c.groupType,w.groupAgeRange=c.groupAgeRange);const d=await this.api.search(e,w,c.sortApiEnabled);return{properties:new o.a(...d.properties.map(p=>N(p))),location:d.location,sortOrder:d.sortOrder}}}R(A,"groupType",n.default.groupType),R(A,"groupAgeRange",n.default.ageRange);const N=data=>new c.a(data.id,data.name,data.type,data.isFeatured,data.isNew,data.freeCancellationAvailable,new l.a(new f.a(data.latitude,data.longitude),data.distance.value),T(data.facilities),data.districts.map(e=>new w.a(e.id,e.name)),j(data.rooms),data.imagesGallery.map(i=>new y.a(i.prefix,i.suffix)),new h.a(O(data.lowestAverageDormPricePerNight),O(data.lowestAveragePrivatePricePerNight)),new k.a(data.isNew,data.overallRating.overall,data.overallRating.numberOfRatings),new m(data.fabSort.rank1,data.fabSort.rank2,data.fabSort.rank3,data.fabSort.rank4,data.fabSort.rank5,data.fabSort.rank6,data.fabSort.rank7,data.fabSort.rank8,data.fabSort.rank9),new P.a(data.ratingBreakdown)),O=data=>null===data?null:Number(data.value),T=e=>{const r=[];return e.forEach(e=>{e.facilities.forEach(e=>{r.push(e.id)})}),r},j=e=>[...e.dorms.map(e=>new d.a(e.basicType,e.ensuite,e.capacity)),...e.privates.map(e=>new d.a(e.basicType,e.ensuite,e.capacity))];r.default=A}}]);