(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1078:function(e,t,o){"use strict";o.r(t);var n=o(433),r=o(523),c=o(671);var l={pt_BR:"Não foi possível localizar correspondências ao seu termo de pesquisa.",cs_CZ:"Omlouváme se, ale nemůžeme najít nic, co odpovídá vašim kritériím vyhledávání.",da_DK:"Vi kan desværre ikke finde noget der matcher dit søgeord.",de_DE:"Zu deinem Suchbegriff wurden keine Einträge gefunden.",en_GB:"Sorry, we cannot find anything that matches your search term.",es_ES:"Lo sentimos, pero no encontramos nada que coincida con los términos de búsqueda.",fi_FI:"Emme valitettavasti löydä mitään hakusanoillasi.",fr_FR:"Nous sommes désolés, mais nous ne trouvons aucun résultat correspondant à votre recherche.",it_IT:"Impossibile trovare elementi che corrispondono al termine da cercare.",ja_JP:"申し訳ありませんが、検索条件に一致するものは見つかりませんでした。",ko_KR:"죄송합니다. 도시 이름을 영문으로 입력해주기 바랍니다.",nb_NO:"Vi kan dessverre ikke finne noe som matcher søkeordet ditt.",nl_NL:"Sorry, we kunnen niets vinden dat overeenkomt met uw zoekterm.",pl_PL:"Przykro nam, nie można znaleźć niczego, co pasuje do wyszukiwanych kategorii.",pt_PT:"Não foi possível encontrar quaisquer correspondências para o seu termo de procura.",ru_RU:"К сожалению, мы не можем найти ничего, что соответствует вашему поисковому запросу.",sv_SE:"Tyvärr kan vi inte hitta något som matchar ditt sökord.",tr_TR:"Üzgünüz, arama teriminiz ile eşleşen hiçbir şey bulamıyoruz.",zh_CN:"很抱歉，未能找到与您的搜索条件相匹配的结果。"};var d={pt_BR:"Ver mais resultados",cs_CZ:"Zobrazit další výsledky",da_DK:"Se flere resultater",de_DE:"Weitere Ergebnisse",en_GB:"See more results",es_ES:"Ver más resultados",fi_FI:"Näytä lisää tuloksia",fr_FR:"Afficher plus de résultats",it_IT:"Vedi più risultati",ja_JP:"結果をもっと表示",ko_KR:"더 많은 결과 보기",nb_NO:"Se flere resultater",nl_NL:"Bekijk meer resultaten",pl_PL:"Zobacz więcej wyników",pt_PT:"Ver mais resultados",ru_RU:"Просмотреть другие результаты",sv_SE:"Visa fler resultat",tr_TR:"Daha fazla sonuç görüntüle",zh_CN:"查看更多"};const h={t_WHEREDOYOUWANTTOGO:r.a,t_CURRENTLOCATION:c.a,t_SORRYNOMATCHSEARCHTERM:l,t_VIEWMORERESULTS:d};var m=e=>Object.assign({},...Object.keys(h).map(t=>({[t]:h[t][e]||h[t].en_GB}))),f=o(738),v=o(41),y={name:"Location",components:{InlineLoader:n.a,Icon:v.a},props:{error:{type:Boolean,required:!1,default:!1}},data:()=>({items:[],search:"",loading:!1,timeout:null,debounce:600,maxLocations:20,selectedIndex:-1}),computed:{hasResults(){return this.searching&&!this.loading&&this.items.length>0},hasNoResults(){return this.searching&&!this.loading&&0===this.items.length},moreResultsUrl(){return"/find/keywordsuggestions?"+new URLSearchParams({search_keywords:this.search}).toString()},searching(){return this.search.length>1}},created(){this.$setTranscodes(m(this.$store.state.session.language.code))},async mounted(){this.$refs.searchInput.focus();const e=new f.a(this.$store);this.$tracking(e.onSearchActivated())},methods:{moveUp(){if(this.selectedIndex<1)return this.selectedIndex=-1,void this.$refs.searchInput.focus();this.selectedIndex--,"category"!==this.items[this.selectedIndex].type?this.focusOnElement(this.selectedIndex):this.moveUp()},moveDown(){this.searching?this.selectedIndex!==this.items.length-1&&(this.selectedIndex++,"category"!==this.items[this.selectedIndex].type?this.focusOnElement(this.selectedIndex):this.moveDown()):this.$refs.currentLocation.focus()},focusOnElement(element){this.$refs.location[element].focus()},handleSelection(e){this.$emit("select",e),this.$emit("close")},suggestionIcon(e){let t;switch(e){case"city":t="core-city";break;case"property":t="core-hostel";break;case"country":t="core-globe";break;case"district":case"citydistricts":t="core-landmark";break;default:t="core-location-pin"}return t},suggestionLabel:label=>label.split(",")[0],suggestionExtraLabel(label){const e=label.split(",");return e.shift(),e.join(", ")},async onInput(){this.$refs.searchInput.blur(),await this.$nextTick(),this.$refs.searchInput.focus(),!this.search||this.search.length<2?this.items=[]:(this.loading=!0,clearTimeout(this.timeout),this.timeout=setTimeout(async()=>{(await this.$services.autocomplete()).search(this.search).then(e=>{this.handleResults(e),this.loading=!1}).catch(e=>{"CANCELLED"!==e&&(this.loading=!1)})},this.debounce))},handleResults(e){let t=[],o=[],n=e.suggestions.slice(0,this.maxLocations);for(let e in n)t.includes(n[e].category)||(o.push({category:n[e].category,type:"category",label:n[e].category,class:"category"}),t.push(n[e].category)),o.push(n[e]);this.items=o},async useCurrentLocation(){if(this.loading=!0,!("geolocation"in navigator))return console.error("Unsupported geolocation feature"),this.$emit("close"),void(this.loading=!1);navigator.geolocation.getCurrentPosition(async e=>{if(void 0===e.coords)return this.$emit("close"),void(this.loading=!1);try{const t=await this.$services.cities(),o=await t.getByCoordinates(e.coords.latitude||0,e.coords.longitude||0);o&&o.isValid&&this.$emit("select",{id:o.id,label:"".concat(o.name,", ").concat(o.country),type:"city"}),this.$emit("close"),this.loading=!1}catch(e){console.error("Unable to get user's current position: \"".concat(e.message,'"')),this.loading=!1,this.$emit("close")}},e=>{console.error("Unable to get user's current position: \"".concat(e.message,'"')),this.$emit("close"),this.loading=!1},{enableHighAccuracy:!0}),this.trackCurrentLocationClicked()},trackCurrentLocationClicked(){const e=new f.a(this.$store);this.$tracking(e.onCurrentLocationClicked())}}},_=(o(992),o(5)),component=Object(_.a)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"location",attrs:{id:"search-field"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.moveUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.moveDown(t))}]}},[o("div",{class:["search",{error:e.error}]},[o("span",{staticClass:"search-icon icon"},[o("Icon",{attrs:{name:"core-search-fill"}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"searchInput",class:["search-input",{error:e.error}],attrs:{id:"search-input-field",tabindex:"0",type:"text",placeholder:e.$t("t_WHEREDOYOUWANTTOGO"),autocomplete:"off"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.onInput]}}),e._v(" "),e.loading?o("inline-loader"):e._e()],1),e._v(" "),o("ul",{attrs:{id:"predicted-search-results"}},[e.searching?e._e():o("li",{ref:"currentLocation",class:["current-location",{error:e.error}],attrs:{id:"current-location",tabindex:-1},on:{click:e.useCurrentLocation,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.useCurrentLocation(t)}}},[o("span",{staticClass:"location-icon icon"},[o("Icon",{attrs:{name:"core-location-current"}})],1),e._v(" "),o("span",{staticClass:"current-location-text"},[e._v(e._s(e.$t("t_CURRENTLOCATION")))])]),e._v(" "),e._l(e.items,(function(t,i){return o("li",{key:i,ref:"location",refInFor:!0,class:t.class,attrs:{tabindex:-1,disabled:"category"===t.type},on:{click:function(o){return e.handleSelection(t)},keydown:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleSelection(t)}}},["category"===t.type?[e._v("\n        "+e._s(t.label)+"\n      ")]:[o("span",{staticClass:"icon"},[o("Icon",{attrs:{name:e.suggestionIcon(t.type)}})],1),e._v(" "),o("div",{staticClass:"label"},[e._v("\n          "+e._s(e.suggestionLabel(t.label))+"\n          "),o("span",[e._v(e._s(e.suggestionExtraLabel(t.label)))])])]],2)})),e._v(" "),e.hasResults?o("li",{staticClass:"more-results"},[o("a",{attrs:{href:e.moreResultsUrl}},[e._v(e._s(e.$t("t_VIEWMORERESULTS")))])]):e._e(),e._v(" "),e.hasNoResults?o("li",{staticClass:"no-results"},[e._v(e._s(e.$t("t_SORRYNOMATCHSEARCHTERM")))]):e._e()],2)])}),[],!1,null,"50946134",null);t.default=component.exports},369:function(e,t,o){var content=o(474);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(8).default)("3f229f48",content,!0,{sourceMap:!1})},433:function(e,t,o){"use strict";o(473);var n=o(5),component=Object(n.a)({},(function(e,t){t._c;return t._m(0)}),[function(e,t){var o=t._c;return o("span",{staticClass:"inline-loader"},[o("div",{staticClass:"pulse pulse-1"}),t._v(" "),o("div",{staticClass:"pulse pulse-2"}),t._v(" "),o("div",{staticClass:"pulse pulse-3"})])}],!0,null,"17c76915",null);t.a=component.exports},473:function(e,t,o){"use strict";var n=o(369);o.n(n).a},474:function(e,t,o){(t=o(7)(!1)).push([e.i,".inline-loader .pulse[data-v-17c76915]{background-color:#f25621;width:.9375rem;height:.9375rem;margin:.0625rem;border-radius:100%;display:inline-block;-webkit-animation-name:pulse-data-v-17c76915;animation-name:pulse-data-v-17c76915;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-timing-function:cubic-bezier(.2,.68,.18,1.08);-webkit-animation-fill-mode:both;animation-fill-mode:both}.inline-loader .pulse-1[data-v-17c76915]{-webkit-animation-delay:.12s;animation-delay:.12s}.inline-loader .pulse-2[data-v-17c76915]{-webkit-animation-delay:.24s;animation-delay:.24s}.inline-loader .pulse-3[data-v-17c76915]{-webkit-animation-delay:.36s;animation-delay:.36s}@-webkit-keyframes pulse-data-v-17c76915{0%,80%{transform:scale(1);opacity:1}45%{transform:scale(.1);opacity:.7}}@keyframes pulse-data-v-17c76915{0%,80%{transform:scale(1);opacity:1}45%{transform:scale(.1);opacity:.7}}",""]),e.exports=t},671:function(e,t,o){"use strict";t.a={pt_BR:"Localização atual",cs_CZ:"Současná pozice",da_DK:"Aktuel position",de_DE:"Aktueller Standort",en_GB:"Current Location",es_ES:"Ubicación actual",fi_FI:"Nykyinen paikka",fr_FR:"Position actuelle",it_IT:"Posizione corrente",ja_JP:"現在地",ko_KR:"현재 위치",nb_NO:"Nåværende plassering",nl_NL:"Huidige locatie",pl_PL:"Bieżąca lokalizacja",pt_PT:"Localização atual",ru_RU:"Текущее местоположение",sv_SE:"Aktuell plats",tr_TR:"Mevcut Konum",zh_CN:"当前位置"}},684:function(e,t,o){var content=o(993);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(8).default)("38c29144",content,!0,{sourceMap:!1})},992:function(e,t,o){"use strict";var n=o(684);o.n(n).a},993:function(e,t,o){(t=o(7)(!1)).push([e.i,'.location[data-v-50946134]{position:absolute;width:100%;background-color:#fff;top:0;z-index:40;display:grid;grid-template-columns:1fr;grid-template-areas:"search" "list";border-radius:.25rem;box-shadow:0 1px 4px rgba(0,0,0,.38)}.location .search[data-v-50946134]{grid-area:search;display:grid;grid-template-columns:3.125rem 1fr 3.125rem;height:3.375rem;align-items:center}.location .search.error[data-v-50946134]{background-color:#fce8ec}.location .search .search-input[data-v-50946134]{outline:none;height:3.375rem;font-size:1rem;width:100%;border:none;color:#636c7e}.location .search .search-input.error[data-v-50946134]{background-color:#fce8ec}.location .search[data-v-50946134] .inline-loader{text-align:center;margin-right:.5rem}.location .search[data-v-50946134] .inline-loader .pulse{width:.5rem;height:.5rem}.location .search .search-icon[data-v-50946134]{font-size:1rem;color:#f25621;justify-content:center;display:grid}.location ul[data-v-50946134]{grid-area:list;width:100%;height:100%;max-height:22.5rem;top:4.375rem;list-style:none;padding:0;margin:0;overflow-y:auto;-webkit-overflow-scrolling:touch}.location ul li[data-v-50946134]{height:3.75rem;font-size:.875rem;padding:.25rem 1rem;display:flex;align-items:center;color:#31363f;border-bottom:.0625rem solid #f1f2f4;font-weight:700;cursor:pointer}.location ul li.category[data-v-50946134]{height:1.875rem;background:#f1f2f4;font-size:.75rem;text-transform:uppercase;padding:0 1.5rem;cursor:auto;pointer-events:none}.location ul li.more-results[data-v-50946134],.location ul li.no-results[data-v-50946134]{color:#31363f;font-weight:400}.location ul li .label[data-v-50946134]{align-items:center;display:grid}.location ul li span[data-v-50946134]{font-weight:400;font-size:.875rem;width:100%;display:inline-block}.location ul li .icon[data-v-50946134]{font-size:1.125rem;color:#f25621;margin-right:1rem;text-align:center;width:1.875rem}.location ul li[data-v-50946134]:active,.location ul li[data-v-50946134]:focus,.location ul li[data-v-50946134]:hover{background:#f1f2f4}.location ul li[data-v-50946134]:last-child{border-radius:0 0 .25rem .25rem}.location ul li.current-location[data-v-50946134]{display:grid;grid-template-columns:3.125rem 1fr;align-items:center;padding:0}.location ul li.current-location.error[data-v-50946134]{background-color:#fce8ec}.location ul li.current-location .location-icon[data-v-50946134]{width:100%;height:100%;font-size:1rem;color:#f25621;display:grid;justify-items:center;align-items:center;margin:0}.location ul li.current-location .current-location-text[data-v-50946134]{font-weight:700;font-size:1rem}',""]),e.exports=t}}]);