/*! For license information please see main.bd0b8f21.js.LICENSE.txt */
!function(e){function t(t){for(var r,o,a=t[0],i=t[1],s=0,c=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&c.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);c.length;)c.shift()()}var r={},n={108:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,o){r=n[e]=[t,o]}));t.push(r[2]=a);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"static/js/"+({0:"a8-net-a8-net",1:"a8-net-a8-net-props-used",2:"a8-net-a8-net-test",3:"a8-net-passthrough-a8-net-passthrough",4:"a8-net-passthrough-a8-net-passthrough-props-used",5:"common-redirect-skippyHotelUrls",6:"common-redirect-skippyHotelUrls-test",7:"criteo-criteo",8:"criteo-criteo-props-used",9:"criteo-criteo-test",10:"email-signup-widget-email-signup-widget",11:"email-signup-widget-email-signup-widget-props-used",12:"email-signup-widget-email-signup-widget-test",13:"facebook-dbook-flights-facebook-dbook-flights",14:"facebook-dbook-flights-facebook-dbook-flights-props-used",15:"facebook-dbook-flights-facebook-dbook-flights-test",16:"facebook-dbook-hotels-facebook-dbook-hotels",17:"facebook-dbook-hotels-facebook-dbook-hotels-props-used",18:"facebook-dbook-hotels-facebook-dbook-hotels-test",19:"facebook-facebookutils",20:"facebook-mappings",21:"facebook-search-hotels-facebook-search-hotels",22:"facebook-search-hotels-facebook-search-hotels-props-used",23:"facebook-search-hotels-facebook-search-hotels-test",24:"facebook-view-hotels-facebook-view-hotels",25:"facebook-view-hotels-facebook-view-hotels-props-used",26:"facebook-view-hotels-facebook-view-hotels-test",27:"facebookredirect-facebookredirect",28:"facebookredirect-facebookredirect-props-used",29:"facebookredirect-facebookredirect-test",30:"facebooksearch-facebooksearch",31:"facebooksearch-facebooksearch-props-used",32:"facebooksearch-facebooksearch-test",33:"facebookview-facebookview",34:"facebookview-facebookview-props-used",35:"facebookview-facebookview-test",36:"gtag-common-conversion-markets",37:"gtag-common-generic-event-parameters",38:"gtag-common-generic-event-parameters-test",39:"gtag-common-gtag-init",40:"gtag-dbook-gtag-dbook",41:"gtag-dbook-gtag-dbook-props-used",42:"gtag-dbook-gtag-dbook-test",43:"gtag-dbook-hotels-gtag-dbook-hotels",44:"gtag-dbook-hotels-gtag-dbook-hotels-props-used",45:"gtag-dbook-hotels-gtag-dbook-hotels-test",46:"gtag-hotels-search-gtag-hotels-search",47:"gtag-hotels-search-gtag-hotels-search-props-used",48:"gtag-hotels-search-gtag-hotels-search-test",49:"gtag-hotels-view-gtag-hotels-view-props-used",50:"gtag-redirect-gtag-redirect",51:"gtag-redirect-gtag-redirect-props-used",52:"gtag-redirect-gtag-redirect-test",53:"gtag-search-gtag-search",54:"gtag-search-gtag-search-props-used",55:"gtag-search-gtag-search-test",56:"gtag-view-gtag-view",57:"gtag-view-gtag-view-props-used",58:"gtag-view-gtag-view-test",59:"kiwi-tracking-pixel-kiwi-tracking-pixel",60:"kiwi-tracking-pixel-kiwi-tracking-pixel-props-used",61:"kiwi-tracking-pixel-kiwi-tracking-pixel-test",62:"microsoftUetRedirect-microsoftUetRedirect",63:"microsoftUetRedirect-microsoftUetRedirect-props-used",64:"microsoftUetSearch-microsoftUetSearch",65:"microsoftUetSearch-microsoftUetSearch-props-used",66:"microsoftUetView-microsoftUetView",67:"microsoftUetView-microsoftUetView-props-used",68:"perimeterx-perimeterx",69:"perimeterx-perimeterx-props-used",70:"perimeterx-perimeterx-test",71:"propwatcher-expected-props",72:"propwatcher-propwatcher",73:"propwatcher-propwatcher-props-used",74:"propwatcher-propwatcher-test",75:"sat-register-sat-register",76:"sat-register-sat-register-props-used",77:"sat-register-sat-register-test",78:"sat-sat",79:"sat-sat-props-used",80:"sat-sat-test",81:"usabilla-usabilla",82:"usabilla-usabilla-props-used",83:"yahoo-retargeting-yahoo-retargeting",84:"yahoo-retargeting-yahoo-retargeting-props-used",85:"yahoo-retargeting-yahoo-retargeting-test",86:"yandex-metrica-yandex-metrica",87:"yandex-metrica-yandex-metrica-props-used",88:"yandex-metrica-yandex-metrica-test",89:"a8-net-a8-net-md",90:"a8-net-passthrough-a8-net-passthrough-md",91:"criteo-__snapshots__-criteo-test-js-snap",92:"criteo-criteo-md",93:"email-signup-widget-email-signup-widget-md",94:"facebook-dbook-flights-facebook-dbook-flights-md",95:"facebook-dbook-hotels-facebook-dbook-hotels-md",96:"facebook-search-hotels-facebook-search-hotels-md",97:"facebook-view-hotels-facebook-view-hotels-md",98:"facebookredirect-facebookredirect-md",99:"facebooksearch-facebooksearch-md",100:"facebookview-facebookview-md",101:"gtag-dbook-gtag-dbook-md",102:"gtag-dbook-hotels-gtag-dbook-hotels-md",103:"gtag-hotels-search-gtag-hotels-search-md",104:"gtag-redirect-gtag-redirect-md",105:"gtag-search-gtag-search-md",106:"gtag-view-gtag-view-md",107:"kiwi-tracking-pixel-kiwi-tracking-pixel-md",109:"microsoftUetRedirect-microsoftUetRedirect-md",110:"microsoftUetSearch-microsoftUetSearch-md",111:"microsoftUetView-microsoftUetView-md",112:"perimeterx-perimeterx-md",113:"propwatcher-propwatcher-md",114:"sat-optional-extra-docs-md",115:"sat-register-optional-extra-docs-md",116:"sat-register-sat-register-md",117:"sat-sat-md",118:"usabilla-usabilla-md",119:"yahoo-retargeting-yahoo-retargeting-md",120:"yandex-metrica-__snapshots__-yandex-metrica-test-js-snap",121:"yandex-metrica-yandex-metrica-md"}[e]||e)+"."+{0:"6f1b4d23",1:"b45a75ff",2:"dc758c7a",3:"3a115294",4:"4a68cb4a",5:"28e3544a",6:"807dd2c2",7:"0cce9d11",8:"dda34185",9:"b0c8a936",10:"7f0230da",11:"d8bf6a58",12:"4bafbca9",13:"1c7ef20b",14:"00632228",15:"64fcffcf",16:"92d180f3",17:"d9f97b51",18:"ee73e73b",19:"a2866a1a",20:"523bf4f2",21:"36bfad93",22:"9a9dac09",23:"fe6b248b",24:"b14b0b11",25:"461946d7",26:"841df901",27:"b1d7aa0e",28:"49a1b8d0",29:"b054e51e",30:"b2ddb83c",31:"9d9eb20c",32:"9ec18dbe",33:"cb182f11",34:"fd8e588b",35:"9f519d0f",36:"2b897ed5",37:"c89568c9",38:"621350c0",39:"5bb8f9ab",40:"75285c68",41:"00be4ad2",42:"fcc5c6d7",43:"95a2655e",44:"6d6a32f2",45:"24b3b52e",46:"8b77cbf7",47:"831216c0",48:"eb4e0470",49:"8dc8877e",50:"3483b67e",51:"120d6bac",52:"cddac0b8",53:"eeafda1a",54:"094fcb84",55:"620d2e7a",56:"d38c2a21",57:"646181a3",58:"f76bff77",59:"f9fff7b3",60:"c4b96de9",61:"64daf3ff",62:"daf13f7c",63:"fb5db35e",64:"f03a1647",65:"ad3d9b24",66:"c665f595",67:"7b587783",68:"4708e038",69:"086311a6",70:"1efee611",71:"8450635c",72:"f2ad0132",73:"6736fec8",74:"fe7e3baa",75:"ada41dd4",76:"5e98d6a1",77:"44a98d07",78:"f19ebdca",79:"fcea9ea2",80:"b9c5ffbc",81:"b87fe86a",82:"50fbabfa",83:"c7b990db",84:"17edfacd",85:"23718b49",86:"cb7e740b",87:"49599080",88:"4bb7a648",89:"44d8a6db",90:"0ecbfab4",91:"1a8e8942",92:"79cb7220",93:"63b850b7",94:"4a16e044",95:"e4654da1",96:"97b85700",97:"794b1af2",98:"edf36127",99:"889b9d1a",100:"f889f65e",101:"911000ee",102:"3bfb1f09",103:"9efc8c81",104:"e3e266f4",105:"a68a9c37",106:"b263b74d",107:"e0746c26",109:"9fd7cb47",110:"260f5bfd",111:"b5d42c51",112:"f0f13c5d",113:"f0290bd6",114:"ac17eca6",115:"2be39f39",116:"f2b32d5b",117:"d36da040",118:"52866956",119:"933ded8b",120:"a2fbba98",121:"cfd565da"}[e]+".chunk.js"}(e),0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous");var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}n[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var a=this.jsTagManagerJsonpCallback=this.jsTagManagerJsonpCallback||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=i;o(o.s=122)}([function(e,t,r){e.exports=r(130)},function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,u,"next",e)}function u(e){n(i,o,a,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";var n={},o={},a=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;n=e.queued,o=e.topicSubscriptions}else n={},o={},window.Sb.ObserverMemory={queued:n,topicSubscriptions:o}},i=function(e){var t=o[e];if(t&&t.length){var r=n[e];if(r&&r.length)for(var a=0,i=r.length;a<i;a++)for(var s=r[a],u=0,c=t.length;u<c;u++){!function(t,r){setTimeout((function(){try{if(r.received.indexOf(t.publishId)<0){var n=r.fn.apply(r.context,[t.data]);r.received.push(t.publishId),t.handler&&t.handler.apply(n)}}catch(o){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(o.stack||o))}}),0)}(s,t[u])}}},s={subscribe:function(e,t,r){return o[e]||(o[e]=[]),o[e].push({fn:t,context:r||void 0,received:[]}),i(e),[e,t]}},u=0;s.publish=function(e,t,r){var o=1e4*Math.floor(1e6*Math.random())+u++;return n[e]||(n[e]=[]),n[e].push({topic:e,data:t,publishId:o,handler:r}),i(e),s},s.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],r=e[1],n=o[t];if(!n)return s;for(var a=n.length;a--;)n[a].fn===r&&n.splice(a,1);return s}},s.wrap=function(e,t){Object.keys(t).forEach((function(r){s.subscribe("".concat(e).concat(r),t[r])}))},s.init=a,a(),t.a=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(8);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";r.r(t),r.d(t,"isAndroid",(function(){return o})),r.d(t,"redirect",(function(){return i})),r.d(t,"getUserAgent",(function(){return c})),r.d(t,"supportsTouch",(function(){return s})),r.d(t,"GLOBAL",(function(){return n})),r.d(t,"injectScript",(function(){return u})),r.d(t,"isIphoneSixPlus",(function(){return h})),r.d(t,"isIphoneSixPlusLandscape",(function(){return d})),r.d(t,"getVendorProperty",(function(){return v})),r.d(t,"getViewportSize",(function(){return p})),r.d(t,"addLoadEventHandler",(function(){return m})),r.d(t,"afterDomContentLoaded",(function(){return k})),r.d(t,"getRequestId",(function(){return O})),r.d(t,"getCommonProperties",(function(){return j})),r.d(t,"pageProperties",(function(){return x})),r.d(t,"getTrackIdentifier",(function(){return T})),r.d(t,"runLaterOrIdle",(function(){return A})),r.d(t,"isAkamaiSlipstreamEnabled",(function(){return P}));var n={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getNavigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&-1===e.indexOf("Chrome")},a=function(e,t){var r,o=n.getWindow();"function"===typeof o.MouseEvent?r=new o.MouseEvent(e,{bubbles:!0,cancelable:!0}):(r=n.getDocument().createEvent("MouseEvents")).initEvent(e,!0,!0);t.dispatchEvent(r)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.getDocument(),o=r.createElement("a");o.href=e,r.body.appendChild(o),t&&(o.target="_blank"),a("mousedown",o),a("click",o)},s=function(){var e=n.getWindow(),t=n.getDocument();return"ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch},u=function(e,t,r,o){var a=n.getDocument(),i=a.createElement("script");i.type=r||"text/javascript",i.async=!0,["anonymous","use-credentials"].indexOf(o)>-1&&(i.crossOrigin=o),t&&"function"===typeof t&&(i.onload=t),0===e.indexOf("//")||0===e.indexOf("http")?i.src=e:i.src=("https:"===a.location.protocol?"https://":"http://")+a.location.host+e;var s=a.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s)},c=function(){return n.getNavigator().userAgent},p=function(){var e=n.getWindow(),t=n.getDocument(),r=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}},l=function(e,t){return 414===e.height&&90===Math.abs(t.orientation)},f=function(e,t){return 414===e.width&&0===t.orientation},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),t=p(),r=n.getWindow();return/iPhone.*Safari/i.test(e)&&!/(CriOS|OPiOS|Chrome|Edge|Firefox|FxiOS)/i.test(e)&&(l(t,r)||f(t,r))};var d=function(){return h()&&(e=p(),t=n.getWindow(),414===e.height&&90===Math.abs(t.orientation));var e,t},v=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.substring(1):t},b=!1,g=function(e){var t=n.getWindow();b?t.setTimeout((function(){return e()}),0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};g((function(){b=!0}));var y,m=g,k=function(e){var t=n.getDocument();!function(e){return"complete"===e.readyState||"interactive"===e.readyState}(t)?t.addEventListener("DOMContentLoaded",(function(){e()})):e()},w=r(15),O=function(){var e=n.getWindow().reqTag;return e||(e=n.getWindow().reqTag=Object(w.v4)()),e},E=function(e,t){if(!("multi-destination"===t&&e.length>1))return!1;var r=e[0],n=e[e.length-1],o=r.originId,a=r.destinationId,i=n.originId,s=n.destinationId;return!!(o&&a&&i&&s)&&(o!==s||a!==i)},S=function(e,t,r){return{originId:e,destinationId:t,date:r}},j=function(e,t){var r=e.legs||[],n=e.tripType,o=(e.childrenV2||[]).filter((function(e){return e>=2})),a={"Leg Count":r&&r.length||{return:2,"one-way":1}[n],"Trip Type":n,"Prefer Directs":e.preferDirects,"Cabin Class":e.cabinclass,"Open Jaw":E(r,n),Adults:e.adultsV2,Children:o.length,Infants:(e.childrenV2||[]).length-o.length};return 0===r.length&&(r.push(S(e.originId,e.destinationId||"everywhere",e.outboundDate)),"return"===n&&r.push(S(e.destinationId||"everywhere",e.originId,e.inboundDate))),r.forEach((function(e,t){!function(e,t,r){var n=e;n["Origin Code Leg ".concat(r)]=t.originId,n["Destination Code Leg ".concat(r)]=t.destinationId,n["Date Leg ".concat(r)]=t.date}(a,e,t+1)})),a["Date Offset Leg 1"]=function(e,t){var r=new Date(e),n=new Date(t);return r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),Math.abs((n.getTime()-r.getTime())/864e5+1)}(t,r[0].date),a},x={getUrl:function(){return n.getDocument().URL},getVisibilityState:function(){return n.getDocument().visibilityState||"N/A"},isHidden:function(){return"boolean"===typeof n.getDocument().hidden?n.getDocument().hidden:"N/A"}},_=r(2),T=function(){return new Promise((function(e){var t=n.getWindow();_.a.subscribe("trackolding-loaded",(function(){e(t.__trackolding.getTrackIdentifier())}))}))},L=n.getWindow(),A=function(e){L.requestIdleCallback&&L.requestIdleCallback(e,{timeout:1e4}),setTimeout(e,1e4)},P=function(){if("undefined"===typeof y)try{var e=n.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));y="undefined"===typeof t.useAkamaiSlipstream||!0===t.useAkamaiSlipstream}catch(r){console.warn("Could not get Trackolding data, will use Akamai Slipstream endpoint"),y=!0}return y}},function(e,t,r){"use strict";r.r(t),r.d(t,"SingleValueCookie",(function(){return f})),r.d(t,"MultiValueCookie",(function(){return l})),r.d(t,"cookieExists",(function(){return h}));var n=r(3),o=r(4),a=r(12),i=r.n(a),s=r(6),u=r(20),c=function(e){return Number.isInteger?Number.isInteger(e):"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function p(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.path,a=void 0===o?"/":o,s=n.secure,u=void 0===s||s;if(null==r)i.a.set(e,t,{path:a,secure:u});else{if(!c(r))throw new Error("Expires parameter needs to be an integer.");i.a.set(e,t,{expires:r,path:a,secure:u})}}var l=function(){function e(t){Object(n.a)(this,e),this.name=t;var r=s.GLOBAL.getDocument().cookie;this.cookie=Object(u.parseMultiValueCookie)(t,r),this.cookie||(this.cookie=new u.MultiValueCookie({}))}return Object(o.a)(e,[{key:"getValue",value:function(e){return this.cookie.getValue(e)}},{key:"setValue",value:function(e,t){return this.cookie.setValue(e,t),this}},{key:"deleteValue",value:function(e){return this.cookie.deleteValue(e),this}},{key:"keys",value:function(){return this.cookie.keys()}},{key:"clear",value:function(){return this.cookie.clear(),this}},{key:"getRawValue",value:function(){return this.cookie.serializeToString()}},{key:"store",value:function(e,t){return p(this.name,this.cookie.serializeToString(),e,t),this}},{key:"remove",value:function(){i.a.remove(this.name)}}]),e}(),f=function(){function e(t){Object(n.a)(this,e),this.name=t,this.cookieValue=i.a.get(t)}return Object(o.a)(e,[{key:"getValue",value:function(){return this.cookieValue}},{key:"setValue",value:function(e){return this.cookieValue=e,this}},{key:"store",value:function(e,t){return p(this.name,this.cookieValue,e,t),this}},{key:"storeByDate",value:function(e,t){return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.path,a=void 0===o?"/":o,s=n.secure,u=void 0===s||s;if(!r||"object"!==typeof r||!r.toUTCString)throw new Error("Expiration date must be a Date.");i.a.set(e,t,{expires:r,path:a,secure:u})}(this.name,this.cookieValue,e,t),this}},{key:"remove",value:function(){i.a.remove(this.name)}}]),e}(),h=function(e){var t="".concat(e,"=");return(s.GLOBAL.getDocument().cookie||"").split(";").some((function(e){return e.indexOf(t)>=0}))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(3),o=r(4),a=r(6),i=function(){function e(t){Object(n.a)(this,e),this.DEFAULT_COOKIE_NAME="storageFallback",this.COOKIE_EXPIRY_VALUE=7776e6,this.sessionOnly=t,this.$document=a.GLOBAL.getDocument()}return Object(o.a)(e,[{key:"getRawCookie",value:function(e){var t=this.$document.cookie.split(";").filter((function(t){return 0===t.trim().indexOf(e)}));if(!t.length)return{};var r=t[0].split("=");return 2!==r.length?null:JSON.parse(r[1])}},{key:"setRawCookie",value:function(e,t,r,n){var o="".concat(e,"=").concat(t);if(!r){var a=n;a||(a=new Date).setTime(a.getTime()+this.COOKIE_EXPIRY_VALUE),o+="; expires=".concat(a.toUTCString())}return this.$document.cookie=o,this.$document.cookie}},{key:"getItem",value:function(e){var t=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return t?JSON.stringify(t[e]):null}},{key:"setItem",value:function(e,t){var r=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return r?(r[e]=JSON.parse(t),this.setRawCookie(this.DEFAULT_COOKIE_NAME,JSON.stringify(r),this.sessionOnly)):null}},{key:"createOrUpdateCookie",value:function(e,t,r){return this.setRawCookie(e,t,!1,r)}}]),e}(),s=function(){function e(t){Object(n.a)(this,e),this.namespace=t,this.browserStorage=null}return Object(o.a)(e,[{key:"getBrowserStorage",value:function(e,t){var r=function(){try{var e=a.GLOBAL.getWindow(),t=e.localStorage,r=e.sessionStorage;t.setItem("__initTest__","__initValue"),r.setItem("__initTest__","__initValue")}catch(n){return!1}return!0}(),n=a.GLOBAL.getWindow();return this.browserStorage=r?t?n.sessionStorage:n.localStorage:e?new i(t):null,this.browserStorage}},{key:"tryGetValue",value:function(e,t,r){var n=this.getBrowserStorage(t,r);if(!n)return null;var o=n.getItem(this.namespace);if(!o)return null;if(o=JSON.parse(o),null==e)return o;for(var a=e.split("."),i=o,s=0;s<a.length;s+=1){if("undefined"===typeof(i=i[a[s]]))return null;if(s+1===a.length)return i}return null}},{key:"trySetValue",value:function(e,t,r,n){var o,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.getBrowserStorage(r,n);if(!i)return null;try{o=(o=i.getItem(this.namespace))?JSON.parse(o):{}}catch(l){return!1}for(var s=e.split("."),u=o,c=0;c<s.length;c+=1){var p=s[c];if(!(p in u)){if(a)return!1;u[p]={}}if(c+1===s.length){a?delete u[p]:u[p]=t;try{return i.setItem(this.namespace,JSON.stringify(o)),!0}catch(l){return!1}}u=u[p]}return!1}},{key:"tryDeleteValue",value:function(e,t,r){return this.trySetValue(e,null,t,r,!0)}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"getEnvFromUrl",(function(){return o}));var n=r(6),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.GLOBAL.getWindow(),t="".concat(e.location.protocol,"//").concat(e.location.hostname),r=-1!==t.indexOf("local");return r?"development":"production"};t.default=function(e){if("development"===e||"production"===e)return r(133)("./".concat(e)).config;throw new Error("Environment is required.")}},function(e,t,r){"use strict";var n=r(6);t.a=function(e,t){return new Promise((function(r,o){n.GLOBAL.getWindow().fetch(e,t).then(r,o)}))}},function(e,t,r){var n,o;!function(a){if(void 0===(o="function"===typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=a(),!!0){var i=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function a(t,r,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(c){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=t+"="+r+s}}function i(e,r){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(p){}if(o[c]=u,e===c)break}catch(p){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,r){a(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return h}));var n=r(5),o=r(6),a=r(2),i=r(11),s=["www.skyscanner","js.skyscnr.com","css.skyscnr.com","images.skyscnr.com","skyscannertools.net","partnerportal.skyscanner.net"],u={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};a.a.init();var c=function(e){return-1===e.hostname.indexOf("sandbox")&&-1===e.hostname.indexOf("pre-prod")&&-1===e.hostname.indexOf(".local")&&-1===e.hostname.indexOf("127.0.0.1")&&-1===e.hostname.indexOf("localhost")&&("80"===e.port||"443"===e.port||!e.port)},p=function(e){var t=e.location,r=e.topicName,n=void 0===r?"web-browser":r;return c(t)?Object(o.isAkamaiSlipstreamEnabled)()?"".concat("/slipstream","/").concat("grp/v1/applog/public","/").concat(n):"".concat("https://slipstream.skyscanner.net","/").concat("grp/v1/applog/public","/").concat(n):"".concat("https://slipstream.skyscanner.net","/").concat("grp/v1/applog/public-sandbox","/").concat(n)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1?arguments[1]:void 0,r=o.GLOBAL.getWindow(),n=r.Skyscanner,a=r.location;t&&(r.topicName=t.topicName);var s=p(r),l={message:e,fields:{pageName:n&&n.analyticsPageName||"unknown",location:a.href,level:u.ERROR,userAgent:Object(o.getUserAgent)(),deployColour:r.__trackolding&&r.__trackolding.deploy&&r.__trackolding.deploy.colour||"unknown",deployRegion:r.__trackolding&&r.__trackolding.deploy&&r.__trackolding.deploy.region||"unknown"}};Object.assign(l.fields,t),delete l.fields.message;var f=JSON.stringify(l);return c(a)||(l.fields.level===u.ERROR?console.error("saddlebag-logger:",l):l.fields.level===u.WARN?console.warn("saddlebag-logger:",l):console.log("saddlebag-logger:",l)),Object(i.a)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:f}).catch((function(e){console.error("".concat(e,". Request to ").concat(s," failed. Request payload: ").concat(f,"."))}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");var t=e.message,r=e.component,n=l(t,e);return a.a.publish("app-log",{message:t,component:r}),n},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");return l(e.message,Object(n.a)(Object(n.a)({},e),{},{level:u.WARN,topicName:e.topicName}))};t.a={isProdUrl:c,logError:f,logWarn:h,onWindowError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.forEach((function(n){t.indexOf(n)>-1&&f({component:r.component||"unknown",level:u.ERROR,message:e,topicName:r.topicName})})),!0},logFunctionCall:function(e,t){return 1e3*Math.random()>50?Promise.resolve():l("Function called: <".concat(e,">"),{level:u.INFO,topicName:t})},ERROR_LEVEL:u}},function(e,t,r){"use strict";r.d(t,"a",(function(){return ze}));var n=r(9),o=r(5),a=r(0),i=r.n(a),s=r(1),u=r(3),c=r(4),p=r(15),l=r(7);function f(e){this.message=e}f.prototype=new Error,f.prototype.name="InvalidCharacterError";"undefined"!=typeof window&&window.atob&&window.atob.bind(window);function h(e){this.message=e}h.prototype=new Error,h.prototype.name="InvalidTokenError";function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(f){return!1}}function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return function(){var t,r=b(e);if(g()){var n=b(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return m(this,t)}}var w=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"publishSignupSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.showGoogleYolo,t.deferredPassword,t.platformId,t.appleLoginPosition;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.provider,t.deferredPassword,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.deferredPassword;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.message,t.provider,t.isNewUser,t.sessionType,t.platformId,t.appleLoginPosition;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.message,t.provider,t.sessionType,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.provider,t.sessionType,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.provider,t.sessionType,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBlockedRequestError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.requestType,t.redirectTo;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.trigger;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.trigger,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.cause,t.utid,t.sessionType,t.platformId,t.reason;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.cause,t.sessionType,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.cause,t.utid,t.sessionType;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.cause,t.sessionType,t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.utid,t.authError;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.isReauthentication;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.market,t.appleLoginPosition;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishInlineLoginRendered",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.appleLoginPosition;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionCompleted",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.state,t.error,t.result;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionRetried",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.provider,t.state,t.error,t.result;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.error;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginButtonError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.authError,t.provider;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloFailure",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.reason;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSkipYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.reason;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDismissYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.reason;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloConsentGiven",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.consentType;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.platformId;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.platformId,t.reason,t.error;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloPopup",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.duration;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloCancelled",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloCancelledRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloError",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloErrorRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loginStatus,t.isNewUser;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){e.name,e.authError}}]),e}();function O(e,t){console.log("event",{event:e,data:t})}var E=function(e){v(r,e);var t=k(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"publishSignupSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("SignupSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("SignupError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("SignupError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LoginSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("ReauthSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LoginError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("ReauthError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBlockedRequestError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishBlockedRequestError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("ResetSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("PasswordResetError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishPasswordlessAuthenticationStartSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishPasswordlessAuthenticationStartError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LogoutSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LogoutError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("RevokeSessionsSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("RevokeSessionsError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("SessionValidationError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LoginClicked",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishInlineLoginRendered",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("InlineLoginRendered",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("LoginOpened",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionCompleted",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("AccountDetectionCompleted",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionRetried",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("AccountDetectionRetried",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("AccountDetectionError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginButtonError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("SocialLoginButtonError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishDisplayYoloAttempt",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishDisplayYoloSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloFailure",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishDisplayYoloFailure",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSkipYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishSkipYolo",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDismissYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishDismissYolo",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloConsentGiven",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloConsentGiven",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("AuthHandoffSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("AuthHandoffError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloPopup",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloPopup",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloCancelled",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloCancelled",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloCancelledRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloCancelledRetry",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloError",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloErrorRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloErrorRetry",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishYoloSuccess",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishSocialLoginPopupClosed",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("publishSocialLoginPopupBlocked",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){O("Error",e)}}]),r}(w),S=r(2),j=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.authConsumer;return Object(u.a)(this,r),(n=t.call(this)).authConsumer=o,n}return Object(c.a)(r,[{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-signup-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.message,n=t.isNewUser,o=t.sessionType,a=t.provider,s=this.authConsumer,S.a.publish("sid-login-success",{message:r,isNewUser:n,sessionType:o,provider:a,authConsumer:s});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.message,n=t.provider,o=t.sessionType,S.a.publish("sid-reauth-success",{message:r,provider:n,sessionType:o});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-login-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-reauth-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBlockedRequestError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.requestType,n=t.redirectTo,o=this.authConsumer,S.a.publish("sid-blocked-request-error",{requestType:r,redirectTo:n,authConsumer:o});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,S.a.publish("sid-logout-success",{cause:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-logout-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginButtonError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-social-login-button-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isReauthentication,o=this.authConsumer,S.a.publish("sid-social-login-popup-closed",{authConsumer:o,provider:r,isReauthentication:n});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.authConsumer,S.a.publish("sid-social-login-popup-blocked",{authConsumer:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,S.a.publish("sid-revoke-sessions-success",{cause:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-revoke-sessions-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-session-validation-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(w),x=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.authConsumer;return Object(u.a)(this,r),(n=t.call(this)).authConsumer=o,n}return Object(c.a)(r,[{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-signup-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.message,n=t.isNewUser,o=t.sessionType,a=t.provider,s=this.authConsumer,S.a.publish("sid-login-success",{message:r,provider:a,isNewUser:n,sessionType:o,authConsumer:s});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.message,n=t.provider,o=t.sessionType,S.a.publish("sid-reauth-success",{message:r,provider:n,sessionType:o});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-login-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-reauth-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBlockedRequestError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.requestType,n=t.redirectTo,o=this.authConsumer,S.a.publish("sid-blocked-request-error",{requestType:r,redirectTo:n,authConsumer:o});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,S.a.publish("sid-logout-success",{cause:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-logout-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,S.a.publish("sid-revoke-sessions-success",{cause:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-revoke-sessions-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,S.a.publish("sid-session-validation-error",r.errorMessage);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isReauthentication,o=this.authConsumer,S.a.publish("sid-social-login-popup-closed",{authConsumer:o,provider:r,isReauthentication:n});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.authConsumer,S.a.publish("sid-social-login-popup-blocked",{authConsumer:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(w);function _(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var T=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.authConsumer,a=e.market;return Object(u.a)(this,r),(n=t.call(this)).authConsumer=o,n.market=a,n}return Object(c.a)(r,[{key:"publishSignupSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.showGoogleYolo,o=t.deferredPassword,a=t.platformId,s=t.appleLoginPosition,this.publishMixpanelEvent({authType:"Sign Up",provider:r,isSuccess:!0,showGoogleYolo:n,deferredPassword:o,platformId:a,appleLoginPosition:s});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,a=t.deferredPassword,s=t.platformId,this.publishMixpanelEvent(Object(o.a)({authType:"Sign Up",provider:n,deferredPassword:a,platformId:s,isSuccess:!1,"Error code":r.errorCode},r));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.deferredPassword,this.publishMixpanelEvent({authType:"Sign Up Attempt",provider:r,deferredPassword:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isNewUser,o=t.sessionType,a=t.platformId,s=t.appleLoginPosition,this.publishMixpanelEvent({authType:"Login",provider:r,isSuccess:!0,isNewUser:n,sessionType:o,platformId:a,appleLoginPosition:s});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,a=t.sessionType,s=t.platformId,this.publishMixpanelEvent(Object(o.a)({authType:"Login",provider:n,isSuccess:!1,sessionType:a,platformId:s,"Error code":r.errorCode},r));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.sessionType,o=t.platformId,this.publishMixpanelEvent({authType:"Reauth",provider:r,isSuccess:!0,sessionType:n,platformId:o});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,a=t.sessionType,s=t.platformId,this.publishMixpanelEvent(Object(o.a)({authType:"Reauth",provider:n,isSuccess:!1,sessionType:a,platformId:s,"Error code":r.errorCode},r));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,n=t.sessionType,o=t.platformId,a=t.reason,s=void 0===a?"none":a,u=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"".concat("Logout"," Succeeded"),props:{authConsumer:u,cause:r,sessionType:n,platformId:o,reason:s}}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.cause,a=t.sessionType,s=t.platformId,u=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"".concat("Logout"," Failed"),props:Object(o.a)({authConsumer:u,sessionType:a,platformId:s,cause:n,"Error code":r.errorCode},r)}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.trigger,n=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"".concat("Password Reset"," Succeeded"),props:{authConsumer:n,trigger:r}}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.trigger,a=t.platformId,s=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"".concat("Password Reset"," Failed"),props:Object(o.a)({authConsumer:s,trigger:n,platformId:a,"Error code":r.errorCode},r)}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Password Start Success");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,this.publishBasicMixpanelEvent("Password Start Error",Object(o.a)({"Error code":r.errorCode},r));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isReauthentication,o=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"Social Login Popup Closed",props:{authConsumer:o,provider:r,isReauthentication:n}}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Social Login Popup Blocked");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.market,o=t.appleLoginPosition,a=this.authConsumer,S.a.publish("tracking-event",{mixpanel:[{name:"Login ".concat(r," Login Clicked"),props:{provider:r,authConsumer:a,market:n,appleLoginPosition:o}}]});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.appleLoginPosition,this.publishBasicMixpanelEvent("Login open",{appleLoginPosition:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionCompleted",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.state,o=t.error,a=t.result,this.publishBasicMixpanelEvent("Account Detection Completed",{provider:r,state:n,error:o,result:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.error,this.publishBasicMixpanelEvent("Account Detection Error",{error:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Display Attempt");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Display Success");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloFailure",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishBasicMixpanelEvent("Google YOLO Display Failure",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSkipYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishBasicMixpanelEvent("Google YOLO Skipped",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDismissYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishBasicMixpanelEvent("Google YOLO Dismissed",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloConsentGiven",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.consentType,this.publishBasicMixpanelEvent("Google YOLO Consent Given",{consentType:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloCancelled",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Popup Closed By Traveller");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloCancelledRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Retry After Popup Closed");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloError",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Popup Error");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloErrorRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishBasicMixpanelEvent("Google YOLO Retry After Popup Error");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.loginStatus,n=t.isNewUser,this.publishBasicMixpanelEvent("Google YOLO Login Success",{loginStatus:r,isNewUser:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.utid,n=t.authError,this.publishMixpanelEvent(Object(o.a)({authType:"Session Validation Error",utid:r,"Error code":n.errorCode},n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBasicMixpanelEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.authConsumer,n=this.market;S.a.publish("tracking-event",{mixpanel:[{name:e,props:Object(o.a)({authConsumer:r,market:n},t)}]})}},{key:"publishMixpanelEvent",value:function(e){var t=e.authType,r=e.provider,n=e.isSuccess,a=e.isNewUser,i=_(e,["authType","provider","isSuccess","isNewUser"]),s=this.authConsumer,u=n?"Succeeded":"Failed",c=r?"Login ".concat(r," ").concat(t," ").concat(u):"Login ".concat(t," ").concat(u);S.a.publish("tracking-event",{mixpanel:[{name:"".concat(c),props:Object(o.a)({authConsumer:s,isNewUser:a},i)}]}),S.a.publish("tracking-event",{mixpanel:[{name:"".concat(t," ").concat(u),props:Object(o.a)({authConsumer:s,provider:r,isNewUser:a},i)}]})}}]),r}(w),L=function(e){v(r,e);var t=k(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"publishSignupSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGAEvent("registeraccount_controls","submit","success");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGAEvent("login","submit","success",{42:"LoggedIn"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishGAEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};S.a.publish("tracking-event",{ga:[{category:e,action:t,label:r,dimensions:n}]})}}]),r}(w),A=r(11),P=r(6),R=function(){return new Date};var C=function(e){return e.getTimezoneOffset()},I=r(31),D=r.n(I),N={EU_WEST_1:0,EU_CENTRAL_1:1,AP_SOUTHEAST_1:2,AP_NORTHEAST_1:3,UK1:64,UK2:65,NL1:66,SG1:67,HK1:68},U={MILLI:0,SECOND:1,DAY:2,WEEK:4,MONTH:5,YEAR:6,ANYTIME:7,MINUTE:8},M=P.GLOBAL.getWindow(),V=function(e){return"".concat(e||"").trim()},Y=function(e){if(!isFinite(e))return 0;for(var t=0,r=1,n=Math.pow(10,20);Math.round(e*r)/r!==e&&r<=n;){if(r>=n)return null;r*=10,t++}return t},G=function(e){var t=null,r=isNaN(+e)?null:parseFloat(e);if(r&&"number"===typeof r&&!isNaN(r)){if((t={precision:Y(r),amount:parseInt("".concat(r).replace(".",""),10)}).amount.toString().length>=10){var n=t.amount.toString().length-10;t.precision-=n,t.amount=parseInt(t.amount.toString().substring(0,10),10)}2147483647-t.amount<0&&(t.precision-=1,t.amount=parseInt(t.amount.toString().substring(0,9),10))}return t},B=function e(t){if(!t)return t;var r=JSON.parse(D.a.stringify(t));return Object.keys(r).forEach((function(t){var n=r[t];(n&&(n.constructor===Object||n.constructor===Array)||"function"===typeof n)&&(r[t]=e(n)),function(e){return void 0===e||null===e||""===e||("object"===typeof e&&0===Object.keys(e).length||"number"===typeof e&&e!==+e)}(n)&&delete r[t]})),Array.isArray(r)&&(r=r.filter(Boolean)),r},F=function(e,t,r){var n=null,o=0,a=function(e,t,r){var n=t,o=r,a=e||new Date,i=C(a),s=n&&C(n),u=o&&C(o);return{thisTZOffset:i,jan:n=s||C(new Date(a.getFullYear(),0,1)),jul:o=u||C(new Date(a.getFullYear(),6,1))}}(e,t,r),i=a.thisTZOffset,s=a.jan,u=a.jul;return s>u?(n=u,o=s-u):s<u&&(n=s,o=u-s),u!==s&&null!=n&&n===i?{DSTOffset:o,TZOffset:-1*i-o}:{DSTOffset:0,TZOffset:-1*i||0}},q=function(e){return isNaN(+e)?null:parseInt(e,10)},H=function(e){return e&&"unknown"===e.toString().toLowerCase()?null:e},W=function(e,t){if(!e)return null;if(e instanceof Date)return e;if("number"===typeof e)return new Date(e);if("string"===typeof e&&"YYYYMMDDHHmmss"===t)try{return new Date(e.slice(0,4),e.slice(4,6)-1,e.slice(6,8),e.slice(8,10),e.slice(10,12),e.slice(12,14))}catch(o){return null}if("string"===typeof e){var r,n=e.split(/[ZT:\\.\\//-]/);try{r=new Date(Date.UTC(n[0],n[1]-1||0,n[2]||1,n[3]||null,n[4]||null,n[5]||null))}catch(a){return null}return r instanceof Date&&!isNaN(r.valueOf())?r:null}return null},J=function(e,t,r,n){var o=r||null,a=e;"string"===typeof e&&e&&4===e.length&&e.substring(2,4)<=12&&(a="20".concat(e));var i=W(a,n);i&&"string"===typeof a&&!o&&(o=function(){switch(a.length){case 4:return"YEAR";case 6:case 7:return"MONTH";case 8:case 10:return"DAY";default:return"MILLI"}}()),i&&i instanceof Date&&!o&&(o="MILLI");var s={};if(i&&(s={unix_time_millis:i.getTime(),date_time_kind:U[o]}),i&&i instanceof Date&&t){var u=F(i);s.timezone_offset_mins=u.TZOffset||0,s.daylight_savings_offset_mins=u.DSTOffset||0}return s.unix_time_millis||s.date_time_kind?B(s):null},$=function(e){return H(e)?function(e){var t=/(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/gi;return e&&t.test(e)?e.match(t)[0]:null}(e):null},z=function(){var e=Object(P.getViewportSize)(),t=e.width*e.width+e.height*e.height,r=Math.round(Math.sqrt(t)/72*10)/10,n=M.screen||{};return{usable_width:e.width,usable_height:e.height,display_width:n.width,display_height:n.height,display_ppi:n.pixelDepth,diag_in_inches:r,device_pixel_ratio:M.device_pixel_ratio||null}},K=function(e,t){var r,n=e||{},o=n.utid,a=n.authState,i=n.preferences,s=n.ssTrack,u=n.gaCookie,c=n.mixPanel,p=n.screen,l=n.nav,h=n.nodeName,d=n.scaffoldVersion,v=n.componentContext,b=n.config,g=n.guid,y={};try{y.produced_by=2,y.producer_version=d,y.service_instance_fingerprint=function(e){var t=e.version,r=e.nodeName,n=e.identifier,o=e.version_identifier,a=r&&r.length>=8?r.substring(5,8):null,i=e.dc;return B({data_center:void 0===i?N[a]:i,name:r,version_tag:t,version_identifier:o,identifier:n})}({version:d,nodeName:h}),y.traveller_identity=function(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=!1;-1===[2,1,0].indexOf(Number(t))&&(i=!0);var s=/.+\..+\.(.+.\..+)$/.exec(o),u={utid:e,user_status:i?"0":t.toString(),authentication_status:q(t),preference_string:V(r),sstrack:n,ga_cid:s&&s.length>1?s[1]:null,mixpanel_id:a.value||a.json&&a.json.distinct_id||null};return B(u)}(o,a,i,s,u,c),y.client_details=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.navigator,n={user_agent:r.userAgent,vendor_name:r.vendor,browser_name:H(e.browserName)||r.appName,browser_version:H(e.browserVersion)||r.appVersion,is_browser:H(e.desktop),display_height:q(t.display_height),display_width:q(t.display_width),display_ppi:q(t.display_ppi),usable_display_width:q(t.usable_width),usable_display_height:q(t.usable_height),diagonal_screen_size_int:G(t.diag_in_inches),device_pixel_ratio_int:G(t.device_pixel_ratio)||null,ip_address:$(e.ipAddress),is_mobilephone:H(e.mobile),is_tablet:H(e.tablet),os_version:H(e.osVersion)};return document.referrer&&(n.referrer_url=document.referrer),B(n)}(v,p,l),y.traveller_culture_settings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({country:e.market,currency:e.currency,locale:e.locale})}(v),y.ab_tests=B(b&&b.featureTests||null),y.created_on=J(new Date(Date.now()),!0),y.associate_id=(r=v&&v.associateId||null,H(r)?function(e){var t=/([a-z]{3}[_][a-z]{3}[_][0-9]{5}[_][0-9]{5})/i;return e&&t.test(e)?e.match(t)[0].toUpperCase():"DIR_ECT_00000_00000"}(r):null),y.guid=g||function(){for(var e=[],t=0;t<36;)e[t]=Math.floor(16*Math.random()),t+=1;e[14]=4,e[19]=3&e[19]|8;for(var r=0;r<36;)e[r]="0123456789abcdef"[e[r]],r+=1;return e[8]=e[13]=e[18]=e[23]="-",e.join("")}()}catch(f){if(!t)throw f}return y},Z=function(e,t,r){var n;if(r){var a=Object(o.a)(Object(o.a)({},t),{},{event_header:K()});n=JSON.stringify(a)}else n=JSON.stringify(t);return Object(A.a)(e,{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).catch((function(t){console.error("".concat(t,". Request to ").concat(e," failed. Request payload: ").concat(n,"."))}))},X=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.enhance,a=void 0===o||o;if(Object(u.a)(this,e),"public"!==t&&"public-sandbox"!==t)throw new Error('GrapplerLogger environment must be "public" or "public-sandbox"');this.env=t,this.serviceName=r,this.enhance=a,this.endpoint=Object(P.isAkamaiSlipstreamEnabled)()?"/slipstream":"https://slipstream.skyscanner.net"}return Object(c.a)(e,[{key:"sendApplogMessage",value:function(e){var t="".concat(this.endpoint,"/grp/v1/applog/").concat(this.env,"/").concat(this.serviceName);return Z(t,e,this.enhance)}},{key:"sendCustomEvent",value:function(e,t,r){var n="".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t);return Z(n,r,this.enhance)}},{key:"sendCustomEvents",value:function(e,t,r){return function(e,t,r){var n=t.reduce((function(e,t){return e+(r?JSON.stringify(Object(o.a)(Object(o.a)({},t),{},{event_header:K()})):JSON.stringify(t))}),"");return Object(A.a)(e,{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).catch((function(t){console.error("".concat(t,". Request to ").concat(e," failed. Request payload: ").concat(n,"."))}))}("".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t),r,this.enhance)}},{key:"sendCustomEventWithEncodedUrl",value:function(e,t,r){var n="".concat(btoa("".concat(this.serviceName,"/").concat(e,"/").concat(t))),o="".concat(this.endpoint,"/grp/v1/encoded/").concat(this.env,"/").concat(n);return Z(o,r,this.enhance)}}]),e}(),Q=function(){return new l.SingleValueCookie("traveller_context").getValue()},ee=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.authConsumer,a=e.market;return Object(u.a)(this,r),(n=t.call(this)).grapplerLogger=new X("public","login"),n.authConsumer=o,n.market=a,n}return Object(c.a)(r,[{key:"publishSignupSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.showGoogleYolo,o=t.deferredPassword,a=t.platformId,s=t.appleLoginPosition,this.publishGrapplerEvent("".concat("Sign Up"," Succeeded"),{untrustedAnonymousUtid:Q(),provider:r,showGoogleYolo:n.toString(),deferredPassword:o.toString(),platformId:a,appleLoginPosition:s});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,o=t.deferredPassword,a=t.platformId,this.publishGrapplerError("".concat("Sign Up"," Failed"),r,{untrustedAnonymousUtid:Q(),provider:n,deferredPassword:o.toString(),platformId:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSignupAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.deferredPassword,this.publishGrapplerEvent("Sign Up Attempt",{untrustedAnonymousUtid:Q(),provider:r,deferredPassword:n.toString()});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isNewUser,o=t.sessionType,a=t.platformId,s=t.appleLoginPosition,this.publishGrapplerEvent("".concat("Login"," Succeeded"),{untrustedAnonymousUtid:Q(),provider:r,isNewUser:n.toString(),sessionType:o,platformId:a,appleLoginPosition:s});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLoginError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,o=t.sessionType,a=t.platformId,this.publishGrapplerError("".concat("Login"," Failed"),r,{untrustedAnonymousUtid:Q(),provider:n,sessionType:o,platformId:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.sessionType,o=t.platformId,this.publishGrapplerEvent("".concat("Reauth"," Succeeded"),{provider:r,sessionType:n,platformId:o});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishReauthError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,o=t.platformId,this.publishGrapplerError("".concat("Reauth"," Failed"),r,{provider:n,platformId:o});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishBlockedRequestError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.requestType,n=t.redirectTo,this.publishGrapplerEvent("Request Blocked by PerimeterX",{requestType:r,redirectTo:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,n=t.utid,o=t.sessionType,a=t.platformId,s=t.reason,u=void 0===s?"none":s,this.publishGrapplerEvent("".concat("Logout"," Succeeded"),{cause:r,utid:n,sessionType:o,platformId:a,reason:u});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishLogoutError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.cause,o=t.sessionType,a=t.platformId,this.publishGrapplerError("".concat("Logout"," Failed"),r,{cause:n,sessionType:o,platformId:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cause,n=t.utid,o=t.sessionType,this.publishGrapplerEvent("".concat("Revoke Sessions"," Succeeded"),{cause:r,utid:n,sessionType:o});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishRevokeSessionsError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.platformId,o="".concat("Revoke Sessions"," Failed"),this.publishGrapplerError(o,r,{platformId:n});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.trigger,this.publishGrapplerEvent("".concat("Password Reset"," Succeeded"),{trigger:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginButtonError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.provider,this.publishGrapplerError("".concat("Social Login"," Failed"),r,{provider:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordResetError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,n=t.trigger,o=t.platformId,this.publishGrapplerError("".concat("Password Reset"," Failed"),r,{trigger:n,platformId:o});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("Password Start Success");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishPasswordlessAuthenticationStartError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authError,this.publishGrapplerError("Password Start Error",r);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupClosed",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.isReauthentication,this.publishGrapplerEvent("Social Login Popup Closed",{provider:r,isReauthentication:n.toString()});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSocialLoginPopupBlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("Social Login Popup Blocked");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginButtonClicked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.market,o=t.appleLoginPosition,a=this.authConsumer,this.publishGrapplerEvent("Login Button Clicked",{provider:r,authConsumer:a,market:n,appleLoginPosition:o});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishInlineLoginRendered",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("Inline Login Rendered");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishLoginOpened",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.appleLoginPosition,this.publishGrapplerEvent("Login Opened",{appleLoginPosition:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionCompleted",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.state,o=t.error,a=t.result,this.publishGrapplerEvent("Account Detection Completed",{provider:r,state:n,error:o,result:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionRetried",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.provider,n=t.state,o=t.error,a=t.result,this.publishGrapplerEvent("Account Detection Retried",{provider:r,state:n,error:o,result:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAccountDetectionError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.error,this.publishGrapplerEvent("Account Detection Error",{error:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloAttempt",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("Display YOLO Attempt");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("Display YOLO Success");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishDisplayYoloFailure",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishGrapplerEvent("Display YOLO Failure",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSkipYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishGrapplerEvent("YOLO Skipped",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishDismissYolo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.reason,this.publishGrapplerEvent("YOLO Dismissed",{reason:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloConsentGiven",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.consentType,n=void 0===r?"unknown":r,this.publishGrapplerEvent("YOLO Consent Given",{consentType:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.platformId,this.publishGrapplerEvent("Auth Handoff Success",{platformId:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishAuthHandoffError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.platformId,n=t.error,o=t.reason,this.publishGrapplerError("Auth Handoff Error",n,{reason:o,platformId:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloPopup",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.duration,this.publishGrapplerEvent("YOLO Popup Completed",{duration:r.toString()});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishYoloCancelled",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("YOLO Cancelled");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloCancelledRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("YOLO Cancelled Retry");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloError",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("YOLO Error");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloErrorRetry",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.publishGrapplerEvent("YOLO Error Retry");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishYoloSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.loginStatus,n=t.isNewUser,this.publishGrapplerEvent("YOLO Success",{loginStatus:r,isNewUser:n.toString()});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.utid,n=t.authError,this.publishGrapplerError("Session Validation Error",n,{utid:r});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishError",value:function(e){var t=e.name,r=e.err;this.publishGrapplerError(t,r)}},{key:"publishGrapplerEvent",value:function(e,t){try{var r=this.authConsumer,n=this.market;this.grapplerLogger.sendApplogMessage({message:e,severity:"INFO",fields:Object(o.a)({authConsumer:r,market:n},t)})}catch(f){}}},{key:"publishGrapplerError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=this.authConsumer,a=this.market,i=t.name,s=t.message,u=t.stack,c=t.errorCode;this.grapplerLogger.sendApplogMessage({message:e,severity:"ERR",fields:Object(o.a)({authConsumer:n,market:a},r),exception:{type:i,traceback:u,message:s||c}})}catch(f){}}}]),r}(w),te=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.authConsumer;return Object(u.a)(this,r),(n=t.call(this)).grapplerPublisher=new ee({authConsumer:o}),n}return Object(c.a)(r,[{key:"publishLoginSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new ze("public","login"),r=new l.SingleValueCookie("traveller_context"),e.next=5,t.track("clients.AuthenticationStatusChange",{previous_traveller_identity:{utid:r.getValue(),authentication_status:"UNAUTHENTICATED"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.grapplerPublisher.publishGrapplerError("Failed to send AuthenticationStatusChange funnel event",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"publishLogoutSuccess",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.utid,e.prev=1,n=new ze("public","logout"),e.next=5,n.track("clients.AuthenticationStatusChange",{previous_traveller_identity:{utid:r,authentication_status:"AUTHENTICATED"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.grapplerPublisher.publishGrapplerError("Failed to send AuthenticationStatusChange funnel event",e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(w),re=function(e){if("production"===e)return!0;if("development"===e)return!1;throw new Error("Environment is required.")},ne=r(16),oe=function(){function e(t,r,n,o){Object(u.a)(this,e);var a=o||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=e.split("-"),r=Object(ne.a)(t,2),n=r[1];return n||"unknown"}(n);this.publishers=function(e,t,r){return re(e)?[new T({authConsumer:t,market:r}),new L,new ee({authConsumer:t,market:r}),new te({authConsumer:t}),new j({authConsumer:t})]:[new x({authConsumer:t}),new E]}(t,r,a),this.errorPublisher=function(e,t,r){return re(e)?new ee({authConsumer:t,market:r}):new E}(t,r,a)}return Object(c.a)(e,[{key:"publishSignupSuccess",value:function(e){var t=e.provider,r=e.showGoogleYolo,n=e.deferredPassword,o=void 0!==n&&n,a=e.platformId,i=e.appleLoginPosition;return this._publishEvent("publishSignupSuccess",{provider:t,showGoogleYolo:r,deferredPassword:o,platformId:a,appleLoginPosition:i})}},{key:"publishSignupError",value:function(e){var t=e.authError,r=e.provider,n=e.deferredPassword,o=void 0!==n&&n,a=e.platformId;return this._publishEvent("publishSignupError",{authError:t,provider:r,deferredPassword:o,platformId:a})}},{key:"publishSignupAttempt",value:function(e){var t=e.provider,r=e.deferredPassword;return this._publishEvent("publishSignupAttempt",{provider:t,deferredPassword:r})}},{key:"publishLoginSuccess",value:function(e){var t=e.message,r=e.isNewUser,n=e.provider,o=e.sessionType,a=e.platformId,i=e.appleLoginPosition;return this._publishEvent("publishLoginSuccess",{message:t,isNewUser:r,provider:n,sessionType:o,platformId:a,appleLoginPosition:i})}},{key:"publishReauthSuccess",value:function(e){var t=e.message,r=e.provider,n=e.sessionType,o=e.platformId;return this._publishEvent("publishReauthSuccess",{message:t,provider:r,sessionType:n,platformId:o})}},{key:"publishLoginError",value:function(e){var t=e.authError,r=e.provider,n=e.sessionType,o=e.platformId;return this._publishEvent("publishLoginError",{authError:t,provider:r,sessionType:n,platformId:o})}},{key:"publishReauthError",value:function(e){var t=e.authError,r=e.provider,n=e.sessionType,o=e.platformId;return this._publishEvent("publishReauthError",{authError:t,provider:r,sessionType:n,platformId:o})}},{key:"publishBlockedRequestError",value:function(e){var t=e.requestType,r=e.redirectTo;return this._publishEvent("publishBlockedRequestError",{requestType:t,redirectTo:r})}},{key:"publishSessionValidationError",value:function(e){var t=e.utid,r=e.authError;return this._publishEvent("publishSessionValidationError",{utid:t,authError:r})}},{key:"publishLogoutSuccess",value:function(e){var t=e.cause,r=e.utid,n=e.sessionType,o=e.platformId,a=e.reason;return this._publishEvent("publishLogoutSuccess",{cause:t,utid:r,sessionType:n,platformId:o,reason:a})}},{key:"publishLogoutError",value:function(e){var t=e.authError,r=e.cause,n=e.sessionType,o=e.platformId;return this._publishEvent("publishLogoutError",{authError:t,cause:r,sessionType:n,platformId:o})}},{key:"publishRevokeSessionsSuccess",value:function(e){var t=e.cause,r=e.utid,n=e.sessionType;return this._publishEvent("publishRevokeSessionsSuccess",{cause:t,utid:r,sessionType:n})}},{key:"publishRevokeSessionsError",value:function(e){var t=e.authError,r=e.cause,n=e.sessionType,o=e.platformId;return this._publishEvent("publishRevokeSessionsError",{authError:t,cause:r,sessionType:n,platformId:o})}},{key:"publishPasswordResetSuccess",value:function(e){var t=e.trigger;return this._publishEvent("publishPasswordResetSuccess",{trigger:t})}},{key:"publishPasswordResetError",value:function(e){var t=e.authError,r=e.trigger,n=e.platformId;return this._publishEvent("publishPasswordResetError",{authError:t,trigger:r,platformId:n})}},{key:"publishPasswordlessAuthenticationStartSuccess",value:function(){return this._publishEvent("publishPasswordlessAuthenticationStartSuccess")}},{key:"publishPasswordlessAuthenticationStartError",value:function(e){var t=e.authError;return this._publishEvent("publishPasswordlessAuthenticationStartError",{authError:t})}},{key:"publishSocialLoginPopupClosed",value:function(e){var t=e.provider,r=e.isReauthentication;return this._publishEvent("publishSocialLoginPopupClosed",{provider:t,isReauthentication:r})}},{key:"publishSocialLoginPopupBlocked",value:function(){return this._publishEvent("publishSocialLoginPopupBlocked")}},{key:"publishLoginButtonClicked",value:function(e){var t=e.provider,r=e.market,n=e.appleLoginPosition;return this._publishEvent("publishLoginButtonClicked",{provider:t,market:r,appleLoginPosition:n})}},{key:"publishInlineLoginRendered",value:function(){return this._publishEvent("publishInlineLoginRendered")}},{key:"publishLoginOpened",value:function(e){var t=e.appleLoginPosition;return this._publishEvent("publishLoginOpened",{appleLoginPosition:t})}},{key:"publishAccountDetectionCompleted",value:function(e){var t=e.provider,r=e.state,n=e.error,o=e.result;return this._publishEvent("publishAccountDetectionCompleted",{provider:t,state:r,error:n,result:o})}},{key:"publishAccountDetectionRetried",value:function(e){var t=e.provider,r=e.state,n=e.error,o=e.result;return this._publishEvent("publishAccountDetectionRetried",{provider:t,state:r,error:n,result:o})}},{key:"publishAccountDetectionError",value:function(e){var t=e.error;return this._publishEvent("publishAccountDetectionError",{error:t})}},{key:"publishSocialLoginButtonError",value:function(e){var t=e.authError,r=e.provider;return this._publishEvent("publishSocialLoginButtonError",{authError:t,provider:r})}},{key:"publishDisplayYoloAttempt",value:function(){return this._publishEvent("publishDisplayYoloAttempt")}},{key:"publishDisplayYoloSuccess",value:function(){return this._publishEvent("publishDisplayYoloSuccess")}},{key:"publishDisplayYoloFailure",value:function(e){var t=e.reason;return this._publishEvent("publishDisplayYoloFailure",{reason:t})}},{key:"publishSkipYolo",value:function(e){var t=e.reason;return this._publishEvent("publishSkipYolo",{reason:t})}},{key:"publishDismissYolo",value:function(e){var t=e.reason;return this._publishEvent("publishDismissYolo",{reason:t})}},{key:"publishYoloConsentGiven",value:function(e){var t=e.consentType;return this._publishEvent("publishYoloConsentGiven",{consentType:t})}},{key:"publishAuthHandoffSuccess",value:function(e){var t=e.platformId;return this._publishEvent("publishAuthHandoffSuccess",{platformId:t})}},{key:"publishAuthHandoffError",value:function(e){var t=e.platformId,r=e.reason,n=e.error;return this._publishEvent("publishAuthHandoffError",{platformId:t,reason:r,error:n})}},{key:"publishYoloPopup",value:function(e){var t=e.duration;return this._publishEvent("publishYoloPopup",{duration:t})}},{key:"publishYoloCancelled",value:function(){return this._publishEvent("publishYoloCancelled")}},{key:"publishYoloCancelledRetry",value:function(){return this._publishEvent("publishYoloCancelledRetry")}},{key:"publishYoloError",value:function(){return this._publishEvent("publishYoloError")}},{key:"publishYoloErrorRetry",value:function(){return this._publishEvent("publishYoloErrorRetry")}},{key:"publishYoloSuccess",value:function(e){var t=e.loginStatus,r=e.isNewUser;return this._publishEvent("publishYoloSuccess",{loginStatus:t,isNewUser:r})}},{key:"_publishEvent",value:function(e,t){var r=this;return Promise.all(this.publishers.map((function(n){return n[e](t).catch((function(e){return r._publishError(e,n)}))})))}},{key:"_publishError",value:function(e,t){this.errorPublisher.publishError({name:"".concat(t.constructor.name," Event Publishing Error"),err:e})}}]),e}(),ae="grp/v1/custom/public/saddlebag-event-logger/FrontendEventMessage/generic.FrontendEventMessage",ie=new(function(){function e(){Object(u.a)(this,e),this.$window=P.GLOBAL.getWindow(),this.$window.__internal&&this.$window.__internal.EventTracker||(this.$window.__internal=this.$window.__internal||{},this.$window.__internal.EventTracker={maxEvents:10,sentEvents:0});var t=this.$window.__internal.EventTracker.maxEvents;this.maxEvents=t,Object(P.isAkamaiSlipstreamEnabled)()?this.endpoint="".concat("/slipstream","/").concat(ae):this.endpoint="".concat("https://slipstream.skyscanner.net","/").concat(ae)}return Object(c.a)(e,[{key:"track",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!(this.$window.__internal.EventTracker.sentEvents>=this.maxEvents)){if(!e||!t)throw Error("EventTracker: name and component must be set, got '".concat(e,"' and '").concat(t,"' instead."));if("number"!==typeof o)throw Error("EventTracker: value must be a number, got '".concat(typeof o,"' instead."));var i=JSON.stringify({name:e,component:t,version:r,value:o,page_name:a||"not_set"}),s={method:"POST",headers:{"Content-Type":"application/json"},body:i};return this.$window.__internal.EventTracker.sentEvents+=1,Object(A.a)(this.endpoint,s).catch((function(e){console.error("".concat(e,". Request to ").concat(n.endpoint," failed. Request payload: ").concat(i,"."))}))}console.warn("EventTracker: Event ignored, maximum number of events (".concat(this.maxEvents,") already logged."))}}]),e}()),se=function(e,t,r,n,o){ie.track(e,t,r,n,o)},ue=r(32),ce=function(){function e(t){Object(u.a)(this,e),this.eventPublishingEnabled=t}return Object(c.a)(e,[{key:"publishMetric",value:function(e){this.eventPublishingEnabled&&se(e,"login",ue.a,1)}}]),e}(),pe=function(){return new n.a("SID")},le=function(){function e(t,r){Object(u.a)(this,e),this.baseUrl=t,this.metricPublisher=r}return Object(c.a)(e,[{key:"validate",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.validateSession({body:{idleSeconds:t,clientTimeUtc:r},path:"tokens/validate"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({reason:t},"tokens/logout");case 2:if((r=e.sent).ok){e.next=6;break}throw this.metricPublisher.publishMetric("sid_logout_error"),new Error(r.statusText);case 6:return pe().tryDeleteValue("csrfToken"),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateSession",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,n=t.path,this.metricPublisher.publishMetric("sid_validate_session_attempt"),e.next=4,this.post(r,n);case 4:if((o=e.sent).ok){e.next=8;break}throw this.metricPublisher.publishMetric("sid_validate_session_error"),new Error(o.statusText);case 8:return e.next=10,o.json();case 10:return(a=e.sent).csrfToken&&(i=a.csrfToken,pe().trySetValue("csrfToken",i,!1,!1)),this.metricPublisher.publishMetric("sid_validate_session_success"),e.abrupt("return",a);case 14:case"end":return e.stop()}var i}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){var n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"content-type":"application/json",accept:"application/json",pragma:"no-cache","cache-control":"no-cache"},cache:"no-store",credentials:"include",body:JSON.stringify(t)},o="".concat(this.baseUrl,"/").concat(r),e.next=4,fetch(o,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),fe=new n.a("SID"),he=function(){return R().getTime()},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return Math.floor(Math.random()*(t-e+1)+e)},ve=function(e){return 1e3*e},be=function(e){var t=e.status,r=e.reason;fe.trySetValue("sid_validation_status",t),fe.trySetValue("sid_validation_reason",r)},ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e);var r=t.events,o=void 0===r?["click","keydown","scroll","mousewheel","touchstart"]:r,a=t.namespace,i=void 0===a?"hyperdrive":a;if(this.localStorage=new n.a(i),this.events=o,this.started=!1,this.updateLocalStore=this.updateLocalStore.bind(this),this.clearLocalStore=this.clearLocalStore.bind(this),"undefined"===typeof window)throw new Error("window not available")}return Object(c.a)(e,[{key:"start",value:function(){this.started||(this.started=!0,this.updateLocalStore(),this.subscribe())}},{key:"stop",value:function(){this.started=!1,this.unsubscribe(),this.clearLocalStore()}},{key:"subscribe",value:function(){var e=this;this.events.forEach((function(t){return window.addEventListener(t,e.updateLocalStore,{passive:!0})}))}},{key:"unsubscribe",value:function(){var e=this;this.events.forEach((function(t){return window.removeEventListener(t,e.updateLocalStore,{passive:!0})}))}},{key:"updateLocalStore",value:function(){this.localStorage.trySetValue("sid-last-active",he(),!0,!1)}},{key:"clearLocalStore",value:function(){this.localStorage.tryDeleteValue("sid-last-active",!0,!1)}},{key:"getLastActivityTime",value:function(){return this.localStorage.tryGetValue("sid-last-active",!0,!1)||he()}},{key:"getIdleTimeMillis",value:function(){return he()-this.getLastActivityTime()}}]),e}(),ye=r(10),me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e);var r=t.retryInterval,n=void 0===r?1e4:r;this.retryInterval=n,this.timeouts={}}return Object(c.a)(e,[{key:"schedulePersistent",value:function(e,t){var r=t.accessTokenExpiry-he()+de();this.schedule(e,r)}},{key:"scheduleTemporary",value:function(e,t){var r=t.sessionExpiry,n=t.maxIdleSeconds,o=r-he(),a=Math.min(o,ve(n))+de();this.schedule(e,a)}},{key:"scheduleRetry",value:function(e){this.schedule(e)}},{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.retryInterval;this.timeouts.validate&&clearTimeout(this.timeouts.validate),this.timeouts.validate=setTimeout(e,t)}},{key:"cancel",value:function(){var e=this;Object.keys(this.timeouts).forEach((function(t){clearTimeout(e.timeouts[t])}))}}]),e}(),ke="TIMED_OUT",we="COMPLETED_BY_OTHER_TAB",Oe=function(){return parseInt(fe.tryGetValue("sid_lock"),10)},Ee=function(){},Se=function(){window.removeEventListener("storage",Ee)},je=function(e){return new Promise((function(t){var r=setTimeout((function(){return t(ke)}),e);Se(),Ee=function(e){"sid_lock"===e.key&&null===e.newValue&&(clearTimeout(r),t(we))},window.addEventListener("storage",Ee)}))},xe=function(){var e=Object(s.a)(i.a.mark((function e(){var t,r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[Oe(),R().getTime()],r=t[0],n=t[1];case 1:if(!(n<r&&o!==we)){e.next=11;break}return a=r-n,e.next=5,je(a);case 5:o=e.sent,s=[Oe(),R().getTime()],r=s[0],n=s[1],e.next=1;break;case 11:return Se(),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=R().getTime();fe.trySetValue("sid_lock",e+5e3)},Te=function(){var e=Object(s.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:if(e.sent===we){e.next=10;break}return _e(),e.next=7,t();case 7:return r=e.sent,fe.tryDeleteValue("sid_lock"),e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){return"https://skyscanner.net/".concat(e)},Ae=function(){try{var e=new l.SingleValueCookie("sid_session_token").getValue();if(!e)return{};var t=e.split(".")[1];return JSON.parse(window.atob(t))}catch(r){return{}}},Pe=function(){try{var e=Ae(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return e[Le("sessionType")]}(e);if(t)switch(t){case"PERSISTENT":return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:"PERSISTENT",accessTokenExpiry:e[Le("accessTokenExpiry")],accessTokenExpiryDate:new Date(e[Le("accessTokenExpiry")])})}(e);case"MOBILE":return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:"MOBILE"})}(e);default:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:"TEMPORARY",maxIdleSeconds:e[Le("maxIdleSeconds")],sessionExpiry:e[Le("sessionExpiry")],sessionExpiryDate:new Date(e[Le("sessionExpiry")])})}(e)}var r=new l.SingleValueCookie("sid_utid").getValue(),o=new n.a("SID").tryGetValue("sessionType");return r&&o&&"LEGACY"!==o?Object.freeze({sessionType:"INVALID"}):r?function(e){return Object.freeze({utid:e,sessionType:"LEGACY"})}(r):void 0}catch(a){return}};function Re(e,t,r){return(Re=g()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&d(o,r.prototype),o}).apply(null,arguments)}function Ce(e){var t="function"===typeof Map?new Map:void 0;return(Ce=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Re(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}var Ie=function(e){v(r,e);var t=k(r);function r(e){var n,o=e.errorCode,a=e.errorMessage,i=e.traceback;return Object(u.a)(this,r),(n=t.call(this)).errorCode=o,n.errorMessage=a,n.traceback=i,n}return r}(Ce(Error)),De=function(){function e(){Object(u.a)(this,e);var t=Object(ye.getEnvFromUrl)(),r=Object(ye.default)(t),n=r.baseUrl,o=r.eventPublishingEnabled,a=r.retryInterval;this.metricPublisher=new ce(o),this.validateSessionClient=new le(n,this.metricPublisher),this.activityTracker=new ge,this.eventPublisher=new oe(t,"session-validation"),this.scheduler=new me({retryInterval:a}),this.validationErrorCounter={},this.checkPersistentSession=this.checkPersistentSession.bind(this),this.stop=this.stop.bind(this),this.restart=this.restart.bind(this),this.checkTempSession=this.checkTempSession.bind(this),this.publishSessionValidationError=this.publishSessionValidationError.bind(this)}return Object(c.a)(e,[{key:"getValidatedSession",value:function(){return this.promise||(this.promise=this.validateSession()),this.promise}},{key:"stop",value:function(){this.scheduler.cancel(),this.activityTracker.stop(),this.promise=void 0,this.session=void 0}},{key:"restart",value:function(){this.stop(),this.promise=this.validateSession()}},{key:"validateSession",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Pe())||"INVALID"!==t.sessionType){e.next=5;break}return e.next=4,this.validateSessionClient.logout("session-invalid");case 4:return e.abrupt("return",void 0);case 5:if(this.session=t,!(this.session&&"LEGACY"!==this.session.sessionType&&"MOBILE"!==this.session.sessionType)){e.next=19;break}this.activityTracker.start(),e.t0=this.session.sessionType,e.next="PERSISTENT"===e.t0?12:"TEMPORARY"===e.t0?15:18;break;case 12:return e.next=14,this.checkPersistentSession();case 14:return e.abrupt("break",19);case 15:return e.next=17,this.checkTempSession();case 17:case 18:return e.abrupt("break",19);case 19:return e.abrupt("return",this.session);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleSessionValidation",value:function(e,t,r){var n,o=e.status,a=e.reason;switch(o){case"PERSISTENT_SESSION_REFRESHED":case"PERSISTENT_SESSION_EXTENDED":case"PERSISTENT_SESSION_NO_REFRESH":this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);break;case"PERSISTENT_SESSION_LOGGED_OUT":n="inactive"===a?"session-inactive":"session-logged-out",this._invalidateSession(n,t,r,a);break;default:this.stop()}}},{key:"_performRetry",value:function(e){var t=new Ie({errorMessage:e.message,traceback:e.stack});this.publishSessionValidationError(e,t),this.scheduler.scheduleRetry(this.checkPersistentSession)}},{key:"_invalidateSession",value:function(e,t,r,n){this.eventPublisher.publishLogoutSuccess({cause:e,utid:t,sessionType:r,reason:n}),this.stop()}},{key:"publishSessionValidationError",value:function(e,t){var r=this.session.utid;this.validationErrorCounter[e.message]=this.validationErrorCounter[e.message]||0,this.validationErrorCounter[e.message]<5&&(this.validationErrorCounter[e.message]+=1,this.eventPublisher.publishSessionValidationError({utid:r,authError:t}))}},{key:"isSessionActive",value:function(){var e=ve(this.session.maxIdleSeconds);return this.activityTracker.getIdleTimeMillis()<=e}},{key:"validatePersistentSession",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,r,n,o,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=this.activityTracker.getIdleTimeMillis(),t=u/1e3,r=he(),e.next=4,Te(Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateSessionClient.validate(t,r);case 2:return n=e.sent,be(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))));case 4:return n=e.sent,o=null===n,e.abrupt("return",o?{status:fe.tryGetValue("sid_validation_status"),reason:fe.tryGetValue("sid_validation_reason")}:n);case 7:case"end":return e.stop()}var u}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkPersistentSession",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.session,r=t.utid,n=t.accessTokenExpiry,!(he()>n)){e.next=11;break}return e.next=6,this.validatePersistentSession();case 6:o=e.sent,this.session=Pe(),this._handleSessionValidation(o,r),e.next=12;break;case 11:this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this._performRetry(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkTempSession",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,r,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.session,r=t.utid,n=t.sessionExpiry,o=t.sessionType,!(he()>n)){e.next=8;break}return e.next=5,this.validateSessionClient.logout("session-expired");case 5:this._invalidateSession("session-expired",r,o),e.next=15;break;case 8:if(this.isSessionActive()){e.next=14;break}return e.next=11,this.validateSessionClient.logout("session-inactive");case 11:this._invalidateSession("session-inactive",r,o),e.next=15;break;case 14:this.scheduler.scheduleTemporary(this.checkTempSession,this.session);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ne=function(){var e=Object(s.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.SessionValidator||(window.SessionValidator=new De),t=window.SessionValidator,e.next=3,t.getValidatedSession();case 3:return r=e.sent,e.abrupt("return",void 0!==r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=(Object.freeze({UNSET:0,UNAUTHENTICATED:1,AUTHENTICATED:2}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,t=new Promise((function(t){setTimeout((function(){return t(!1)}),e)}));return Promise.race([Ne(),t])}),Me=function(){var e=Pe();return e&&e.utid||new l.SingleValueCookie("traveller_context").getValue()},Ve=function(){var e=new l.SingleValueCookie("device_guid"),t=e.getValue();if(!t){var r=Object(p.v4)();return e.setValue(r),e.store(730),r}return t},Ye={search_guid:["searchresultpage_guid","searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultpage_guid:["searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultoption_guid:["bookingpaneloption_guid","miniredirect_guid"],bookingpaneloption_guid:["miniredirect_guid"],miniredirect_guid:[]},Ge=function(e){var t=e.messageGuid;return void 0===t||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t)},Be=function(e){return"".concat(e.split(".").pop().toLowerCase(),"_guid")},Fe=function(e){return"".concat(e.split(".").pop().toLowerCase,"_checksum")},qe=function(e,t,r){e.trySetValue(t,r,!1,!0),(Ye[t]||[]).forEach((function(t){e.tryDeleteValue(t)}))},He=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object(u.a)(this,e),!n)throw new Error("A schema must be provided");if(!t)throw new Error("A namespaced store must be provided");this.$window=P.GLOBAL.getWindow(),this.store=t,this.fallbackStore=r,this.schema=n,this.message=null,this.opts=o}return Object(c.a)(e,[{key:"getSeqNumber",value:function(){var e=(this.store.tryGetValue("sequence_num")||0)+1;return this.store.trySetValue("sequence_num",e),e}},{key:"buildHeader",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:return r=e.sent,null==(n=this.store.tryGetValue(Be("clients.UserPreferences"),!1,!0))&&(n=this.fallbackStore.tryGetValue(Be("clients.UserPreferences"),!1,!0)),e.abrupt("return",{header:{guid:t,client_timestamp:J(new Date(Date.now()),!0),traveller_identity:{utid:Me(),authentication_status:r?"AUTHENTICATED":"UNAUTHENTICATED"},sequence_number:this.getSeqNumber(),device_guid:Ve(),experiment_allocation_id:new l.SingleValueCookie("experiment_allocation_id").getValue(),user_agent:this.$window.navigator?this.$window.navigator.userAgent:"UNKNOWN",user_preferences_guid:n}});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAndStoreGuid",value:function(){var e=this.opts.messageGuid||Object(p.v4)(),t=Be(this.schema);return!1!==this.opts.store_guid&&qe(this.store,t,e),e}},{key:"buildMessage",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createAndStoreGuid(),e.next=3,this.buildHeader(r);case 3:return n=e.sent,a=Object(o.a)(Object(o.a)({},n),t),this.message=a,e.abrupt("return",this.message);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){return this.message}}]),e}(),We=r(13),Je=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We.a.ERROR_LEVEL.ERROR;We.a.logError({component:"saddlebag-user-tracking-events",message:e,level:r,event:t})},$e=function(){function e(t,r){Object(u.a)(this,e),this.grapplerLogger=new X(t,r,{enhance:!1}),this.store=new n.a("eventstracking"),this.fallbackStore=new n.a("funnelevents")}return Object(c.a)(e,[{key:"trackEvent",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r,n){var o,a,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.length>3&&void 0!==s[3]?s[3]:{},"object"===typeof n){e.next=3;break}throw new Error("message should be an Object");case 3:if(Ge(o)){e.next=5;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 5:return e.prev=5,a=new He(this.store,this.fallbackStore,r,o),e.next=9,a.buildMessage(n);case 9:return this.grapplerLogger.sendCustomEvent(t,r,a.get()).catch((function(e){return Je(String(e),r,We.a.ERROR_LEVEL.WARN)})),e.abrupt("return",{guid:a.get().header.guid});case 13:e.prev=13,e.t0=e.catch(5),Je(e.t0.message,r);case 16:return e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"trackBatchEvent",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r,n){var a,s,u,c=this,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>3&&void 0!==p[3]?p[3]:{},Ge(a)){e.next=3;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 3:return e.prev=3,s=n.map((function(e,t){if("object"!==typeof e)throw new Error("message should be an Object");return new He(c.store,c.fallbackStore,r,Object(o.a)(Object(o.a)({},a),{},{store_guid:a.store_guid===t})).buildMessage(e)})),e.next=7,Promise.all(s);case 7:return u=e.sent,this.grapplerLogger.sendCustomEvents(t,r,u).catch((function(e){return Je(String(e),r,We.a.ERROR_LEVEL.WARN)})),e.abrupt("return",u.map((function(e){return{guid:e.header.guid}})));case 12:e.prev=12,e.t0=e.catch(3),Je(e.t0.message,r);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"eventHasBeenLogged",value:function(e,t){var r=this.store.tryGetValue(Fe(e));if(!r)return!1;var n=JSON.parse(r);return!(n.logged_at<=R().getTime()-18e5)&&(delete n.logged_at,JSON.stringify(t)===JSON.stringify(n))}},{key:"markEventAsLogged",value:function(e,t){var r=Object(o.a)({logged_at:R().getTime()},t);this.store.trySetValue(Fe(e),JSON.stringify(r))}}]),e}(),ze=function(e){v(r,e);var t=k(r);function r(e,n){var o;return Object(u.a)(this,r),(o=t.call(this,e,n)).eventName="funnel_events",o}return Object(c.a)(r,[{key:"track",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){var n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.abrupt("return",this.trackEvent(this.eventName,t,r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"trackBatch",value:function(){var e=Object(s.a)(i.a.mark((function e(t,r){var n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.abrupt("return",this.trackBatchEvent(this.eventName,t,r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}($e)},function(e,t,r){var n=r(128),o=r(129),a=o;a.v1=n,a.v4=o,e.exports=a},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIES=t.KEY_VALUE_SEPARATOR=t.PAIR_SEPARATOR=t.COOKIE_SEPARATOR=void 0;t.COOKIE_SEPARATOR=";";t.PAIR_SEPARATOR="&";t.KEY_VALUE_SEPARATOR=":::";var n=Object.freeze({SCANNER:"scanner",CULTURE:"ssculture",AB:"ssab",AB_OVERRIDES:"ssaboverrides",AB_GROUP:"abgroup",TRAVELLER_CONTEXT:"traveller_context",SID_UTID:"sid_utid",GDPR:"gdpr",HAS_APP:"has_app",DEVICE_GUID:"device_guid",SECURE_SKA:"__Secure-ska",EXPERIMENT_ALLOCATION_ID:"experiment_allocation_id"});t.COOKIES=n},function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return n}));var n={baseUrl:"http://localhost:5002",eventPublishingEnabled:!1,retryInterval:15e3}},function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return n}));var n={baseUrl:"/g/traveller-auth-service",eventPublishingEnabled:!0,retryInterval:15e3}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseCookie",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parseMultiValueCookie",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"buildCookieObject",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"serializeToString",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MultiValueCookie",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"COOKIES",{enumerable:!0,get:function(){return u.COOKIES}}),t.default=void 0;var n=c(r(131)),o=c(r(132)),a=c(r(26)),i=c(r(27)),s=c(r(25)),u=r(17);function c(e){return e&&e.__esModule?e:{default:e}}var p=n.default;t.default=p},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(17));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e,t){return e&&t?function(e,t){var r=t.map((function(e){var t=i(e.split("="),2);return{key:t[0],value:t[1]}})).filter((function(t){return t.key===e&&null!==t.value}));return r.length>0?r[0].value:null}(e,t.split(o.COOKIE_SEPARATOR).map((function(e){return e.trim()}))):null};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(26)),o=a(r(27));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modified=!1,this._cookieObject=(0,n.default)(t)||{}}var t,r,a;return t=e,(r=[{key:"getValue",value:function(e){return this._cookieObject[e]}},{key:"setValue",value:function(e,t){return this._cookieObject[e]=t,this._modified=!0,this}},{key:"deleteValue",value:function(e){return delete this._cookieObject[e],this._modified=!0,this}},{key:"clear",value:function(){return this._cookieObject={},this._modified=!0,this}},{key:"isModified",value:function(){return this._modified}},{key:"keys",value:function(){return Object.keys(this._cookieObject)}},{key:"serializeToString",value:function(){return(0,o.default)(this._cookieObject)}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=s},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(17));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){if(!e||"string"!==typeof e)return null;var t=e.split(o.PAIR_SEPARATOR),r={};return t.forEach((function(e){if(-1!==e.indexOf(o.KEY_VALUE_SEPARATOR)){var t=i(e.split(o.KEY_VALUE_SEPARATOR),2),n=t[0],a=t[1];r[n]=decodeURIComponent(a)}else r[e]=null})),r}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"";if("string"===typeof e)return e;var t=Object.keys(e);if(0===t.length)return"";return t.map((function(t){return function(e,t){return t?"".concat(e).concat(o.KEY_VALUE_SEPARATOR).concat(t):e}(t,e[t])})).reduce(i)};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(17));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var i=function(e,t){return e?"".concat(e).concat(o.PAIR_SEPARATOR).concat(t):t}},function(e,t,r){"use strict";r.r(t);var n=r(10),o=r(18),a=r(19);describe("getConfig",(function(){it("should throw error when no env specified",(function(){expect((function(){return Object(n.default)({})})).toThrow()})),it("should return production config when specified",(function(){var e=Object(n.default)("production");expect(e).toEqual(a.config)})),it("should return development config when specified",(function(){var e=Object(n.default)("development");expect(e).toEqual(o.config)}))})),describe("getEnvFromUrl",(function(){it("returns development when running on local domain",(function(){expect(Object(n.getEnvFromUrl)({location:{protocol:"http",hostname:"localhost"}})).toEqual("development")})),it("returns production when not running on local domain",(function(){expect(Object(n.getEnvFromUrl)({location:{protocol:"https",hostname:"www.skyscanner.net"}})).toEqual("production")}))}))},function(e,t,r){!function(){var t=r(123),n=r(21).utf8,o=r(124),a=r(21).bin,i=function e(r,i){r.constructor==String?r=i&&"binary"===i.encoding?a.stringToBytes(r):n.stringToBytes(r):o(r)?r=Array.prototype.slice.call(r,0):Array.isArray(r)||r.constructor===Uint8Array||(r=r.toString());for(var s=t.bytesToWords(r),u=8*r.length,c=1732584193,p=-271733879,l=-1732584194,f=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var d=e._ff,v=e._gg,b=e._hh,g=e._ii;for(h=0;h<s.length;h+=16){var y=c,m=p,k=l,w=f;c=d(c,p,l,f,s[h+0],7,-680876936),f=d(f,c,p,l,s[h+1],12,-389564586),l=d(l,f,c,p,s[h+2],17,606105819),p=d(p,l,f,c,s[h+3],22,-1044525330),c=d(c,p,l,f,s[h+4],7,-176418897),f=d(f,c,p,l,s[h+5],12,1200080426),l=d(l,f,c,p,s[h+6],17,-1473231341),p=d(p,l,f,c,s[h+7],22,-45705983),c=d(c,p,l,f,s[h+8],7,1770035416),f=d(f,c,p,l,s[h+9],12,-1958414417),l=d(l,f,c,p,s[h+10],17,-42063),p=d(p,l,f,c,s[h+11],22,-1990404162),c=d(c,p,l,f,s[h+12],7,1804603682),f=d(f,c,p,l,s[h+13],12,-40341101),l=d(l,f,c,p,s[h+14],17,-1502002290),c=v(c,p=d(p,l,f,c,s[h+15],22,1236535329),l,f,s[h+1],5,-165796510),f=v(f,c,p,l,s[h+6],9,-1069501632),l=v(l,f,c,p,s[h+11],14,643717713),p=v(p,l,f,c,s[h+0],20,-373897302),c=v(c,p,l,f,s[h+5],5,-701558691),f=v(f,c,p,l,s[h+10],9,38016083),l=v(l,f,c,p,s[h+15],14,-660478335),p=v(p,l,f,c,s[h+4],20,-405537848),c=v(c,p,l,f,s[h+9],5,568446438),f=v(f,c,p,l,s[h+14],9,-1019803690),l=v(l,f,c,p,s[h+3],14,-187363961),p=v(p,l,f,c,s[h+8],20,1163531501),c=v(c,p,l,f,s[h+13],5,-1444681467),f=v(f,c,p,l,s[h+2],9,-51403784),l=v(l,f,c,p,s[h+7],14,1735328473),c=b(c,p=v(p,l,f,c,s[h+12],20,-1926607734),l,f,s[h+5],4,-378558),f=b(f,c,p,l,s[h+8],11,-2022574463),l=b(l,f,c,p,s[h+11],16,1839030562),p=b(p,l,f,c,s[h+14],23,-35309556),c=b(c,p,l,f,s[h+1],4,-1530992060),f=b(f,c,p,l,s[h+4],11,1272893353),l=b(l,f,c,p,s[h+7],16,-155497632),p=b(p,l,f,c,s[h+10],23,-1094730640),c=b(c,p,l,f,s[h+13],4,681279174),f=b(f,c,p,l,s[h+0],11,-358537222),l=b(l,f,c,p,s[h+3],16,-722521979),p=b(p,l,f,c,s[h+6],23,76029189),c=b(c,p,l,f,s[h+9],4,-640364487),f=b(f,c,p,l,s[h+12],11,-421815835),l=b(l,f,c,p,s[h+15],16,530742520),c=g(c,p=b(p,l,f,c,s[h+2],23,-995338651),l,f,s[h+0],6,-198630844),f=g(f,c,p,l,s[h+7],10,1126891415),l=g(l,f,c,p,s[h+14],15,-1416354905),p=g(p,l,f,c,s[h+5],21,-57434055),c=g(c,p,l,f,s[h+12],6,1700485571),f=g(f,c,p,l,s[h+3],10,-1894986606),l=g(l,f,c,p,s[h+10],15,-1051523),p=g(p,l,f,c,s[h+1],21,-2054922799),c=g(c,p,l,f,s[h+8],6,1873313359),f=g(f,c,p,l,s[h+15],10,-30611744),l=g(l,f,c,p,s[h+6],15,-1560198380),p=g(p,l,f,c,s[h+13],21,1309151649),c=g(c,p,l,f,s[h+4],6,-145523070),f=g(f,c,p,l,s[h+11],10,-1120210379),l=g(l,f,c,p,s[h+2],15,718787259),p=g(p,l,f,c,s[h+9],21,-343485551),c=c+y>>>0,p=p+m>>>0,l=l+k>>>0,f=f+w>>>0}return t.endian([c,p,l,f])};i._ff=function(e,t,r,n,o,a,i){var s=e+(t&r|~t&n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},i._gg=function(e,t,r,n,o,a,i){var s=e+(t&n|r&~n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},i._hh=function(e,t,r,n,o,a,i){var s=e+(t^r^n)+(o>>>0)+i;return(s<<a|s>>>32-a)+t},i._ii=function(e,t,r,n,o,a,i){var s=e+(r^(t|~n))+(o>>>0)+i;return(s<<a|s>>>32-a)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(i(e,r));return r&&r.asBytes?n:r&&r.asString?a.bytesToString(n):t.bytesToHex(n)}}()},function(e,t,r){var n="undefined"!==typeof JSON?JSON:r(125);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r=t.space||"";"number"===typeof r&&(r=Array(r+1).join(" "));var i,s="boolean"===typeof t.cycles&&t.cycles,u=t.replacer||function(e,t){return t},c=t.cmp&&(i=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},o={key:r,value:e[r]};return i(n,o)}}),p=[];return function e(t,i,l,f){var h=r?"\n"+new Array(f+1).join(r):"",d=r?": ":":";if(l&&l.toJSON&&"function"===typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=u.call(t,i,l))){if("object"!==typeof l||null===l)return n.stringify(l);if(o(l)){for(var v=[],b=0;b<l.length;b++){var g=e(l,b,l[b],f+1)||n.stringify(null);v.push(h+r+g)}return"["+v.join(",")+h+"]"}if(-1!==p.indexOf(l)){if(s)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}p.push(l);var y=a(l).sort(c&&c(l));for(v=[],b=0;b<y.length;b++){var m=e(l,i=y[b],l[i],f+1);if(m){var k=n.stringify(i)+d+m;v.push(h+r+k)}}return p.splice(p.indexOf(l),1),"{"+v.join(",")+h+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},function(module,exports,__webpack_require__){"use strict";function decycle(e){var t=[],r=[];return function e(n,o){var a,i,s,u=n&&n.toJSON instanceof Function?n.toJSON():n;if("object"===typeof u&&null!==u){for(a=0;a<t.length;a+=1)if(t[a]===u)return{$ref:r[a]};if(t.push(u),r.push(o),"[object Array]"===Object.prototype.toString.apply(u))for(s=[],a=0;a<u.length;a+=1)s[a]=e(u[a],o+"["+a+"]");else for(i in s={},u)Object.prototype.hasOwnProperty.call(u,i)&&(s[i]=e(u[i],o+"["+JSON.stringify(i)+"]"));return s}return u}(e,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"===typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"===typeof item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"===typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}module.exports={stringify:function(e,t,r){return JSON.stringify(decycle(e),t,r)},parse:function(e,t){return retrocycle(JSON.parse(e,t))},decycle:decycle,retrocycle:retrocycle}},function(e){e.exports=JSON.parse('{"a":"1.0.9"}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(136)},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()},function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){t.parse=r(126),t.stringify=r(127)},function(e,t){var r,n,o,a,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},u=function(e){return e&&e!==n&&s("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},c=function(){var e,t="";for("-"===n&&(t="-",u("-"));n>="0"&&n<="9";)t+=n,u();if("."===n)for(t+=".";u()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,u(),"-"!==n&&"+"!==n||(t+=n,u());n>="0"&&n<="9";)t+=n,u();if(e=+t,isFinite(e))return e;s("Bad number")},p=function(){var e,t,r,o="";if('"'===n)for(;u();){if('"'===n)return u(),o;if("\\"===n)if(u(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!==typeof i[n])break;o+=i[n]}else o+=n}s("Bad string")},l=function(){for(;n&&n<=" ";)u()},f=function(){var e=[];if("["===n){if(u("["),l(),"]"===n)return u("]"),e;for(;n;){if(e.push(a()),l(),"]"===n)return u("]"),e;u(","),l()}}s("Bad array")},h=function(){var e,t={};if("{"===n){if(u("{"),l(),"}"===n)return u("}"),t;for(;n;){if(e=p(),l(),u(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=a(),l(),"}"===n)return u("}"),t;u(","),l()}}s("Bad object")};a=function(){switch(l(),n){case"{":return h();case"[":return f();case'"':return p();case"-":return c();default:return n>="0"&&n<="9"?c():function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var i;return o=e,r=0,n=" ",i=a(),l(),n&&s("Syntax error"),"function"===typeof t?function e(r,n){var o,a,i=r[n];if(i&&"object"===typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(void 0!==(a=e(i,o))?i[o]=a:delete i[o]);return t.call(r,n,i)}({"":i},""):i}},function(e,t){var r,n,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,(function(e){var t=i[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}e.exports=function(e,t,a){var i;if(r="",n="","number"===typeof a)for(i=0;i<a;i+=1)n+=" ";else"string"===typeof a&&(n=a);if(o=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return function e(t,a){var i,u,c,p,l,f=r,h=a[t];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(t)),"function"===typeof o&&(h=o.call(a,t,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(r+=n,l=[],"[object Array]"===Object.prototype.toString.apply(h)){for(p=h.length,i=0;i<p;i+=1)l[i]=e(i,h)||"null";return c=0===l.length?"[]":r?"[\n"+r+l.join(",\n"+r)+"\n"+f+"]":"["+l.join(",")+"]",r=f,c}if(o&&"object"===typeof o)for(p=o.length,i=0;i<p;i+=1)"string"===typeof(u=o[i])&&(c=e(u,h))&&l.push(s(u)+(r?": ":":")+c);else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(c=e(u,h))&&l.push(s(u)+(r?": ":":")+c);return c=0===l.length?"{}":r?"{\n"+r+l.join(",\n"+r)+"\n"+f+"}":"{"+l.join(",")+"}",r=f,c}}("",{"":e})}},function(e,t,r){var n,o,a=r(22),i=r(23),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,p=t||[],l=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:o;if(null==l||null==f){var h=a();null==l&&(l=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=o=16383&(h[6]<<8|h[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,b=d-s+(v-u)/1e4;if(b<0&&void 0===e.clockseq&&(f=f+1&16383),(b<0||d>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=v,o=f;var g=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;p[c++]=g>>>24&255,p[c++]=g>>>16&255,p[c++]=g>>>8&255,p[c++]=255&g;var y=d/4294967296*1e4&268435455;p[c++]=y>>>8&255,p[c++]=255&y,p[c++]=y>>>24&15|16,p[c++]=y>>>16&255,p[c++]=f>>>8|128,p[c++]=255&f;for(var m=0;m<6;++m)p[c+m]=l[m];return t||i(p)}},function(e,t,r){var n=r(22),o=r(23);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(x){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=k(i,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var p={};function l(){}function f(){}function h(){}var d={};d[o]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==t&&r.call(b,o)&&(d=b);var g=h.prototype=l.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){var n;this._invoke=function(o,a){function i(){return new t((function(n,i){!function n(o,a,i,s){var u=c(e[o],e,a);if("throw"!==u.type){var p=u.arg,l=p.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){p.value=e,i(p)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=g.constructor=h,h.constructor=f,f.displayName=s(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(m.prototype),m.prototype[a]=function(){return this},e.AsyncIterator=m,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new m(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}(e.exports);try{regeneratorRuntime=n}catch(o){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(24))&&n.__esModule?n:{default:n};var a=function(e,t){var r=(0,o.default)(e,t);return r&&"string"===typeof r?r:null};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,o.default)(e,t);return r?new n.default(r):null};var n=a(r(25)),o=a(r(24));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n={"./":10,"./development":18,"./development.js":18,"./index":10,"./index.js":10,"./index.test":28,"./index.test.js":28,"./production":19,"./production.js":19};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=133},function(e,t,r){var n={"./a8-net-passthrough/a8-net-passthrough":[65,9,3],"./a8-net-passthrough/a8-net-passthrough-props-used":[64,3,4],"./a8-net-passthrough/a8-net-passthrough-props-used.json":[64,3,4],"./a8-net-passthrough/a8-net-passthrough.js":[65,9,3],"./a8-net-passthrough/a8-net-passthrough.md":[138,7,90],"./a8-net/a8-net":[39,9,0],"./a8-net/a8-net-props-used":[62,3,1],"./a8-net/a8-net-props-used.json":[62,3,1],"./a8-net/a8-net.js":[39,9,0],"./a8-net/a8-net.md":[137,7,89],"./a8-net/a8-net.test":[63,9,2],"./a8-net/a8-net.test.js":[63,9,2],"./common-redirect/skippyHotelUrls":[37,9,5],"./common-redirect/skippyHotelUrls.js":[37,9,5],"./common-redirect/skippyHotelUrls.test":[66,9,6],"./common-redirect/skippyHotelUrls.test.js":[66,9,6],"./criteo/__snapshots__/criteo.test.js.snap":[139,7,91],"./criteo/criteo":[40,9,7],"./criteo/criteo-props-used":[67,3,8],"./criteo/criteo-props-used.json":[67,3,8],"./criteo/criteo.js":[40,9,7],"./criteo/criteo.md":[140,7,92],"./criteo/criteo.test":[68,9,9],"./criteo/criteo.test.js":[68,9,9],"./email-signup-widget/email-signup-widget":[41,9,10],"./email-signup-widget/email-signup-widget-props-used":[69,3,11],"./email-signup-widget/email-signup-widget-props-used.json":[69,3,11],"./email-signup-widget/email-signup-widget.js":[41,9,10],"./email-signup-widget/email-signup-widget.md":[141,7,93],"./email-signup-widget/email-signup-widget.test":[70,9,12],"./email-signup-widget/email-signup-widget.test.js":[70,9,12],"./facebook-dbook-flights/facebook-dbook-flights":[42,9,13],"./facebook-dbook-flights/facebook-dbook-flights-props-used":[71,3,14],"./facebook-dbook-flights/facebook-dbook-flights-props-used.json":[71,3,14],"./facebook-dbook-flights/facebook-dbook-flights.js":[42,9,13],"./facebook-dbook-flights/facebook-dbook-flights.md":[142,7,94],"./facebook-dbook-flights/facebook-dbook-flights.test":[72,9,15],"./facebook-dbook-flights/facebook-dbook-flights.test.js":[72,9,15],"./facebook-dbook-hotels/facebook-dbook-hotels":[43,9,16],"./facebook-dbook-hotels/facebook-dbook-hotels-props-used":[73,3,17],"./facebook-dbook-hotels/facebook-dbook-hotels-props-used.json":[73,3,17],"./facebook-dbook-hotels/facebook-dbook-hotels.js":[43,9,16],"./facebook-dbook-hotels/facebook-dbook-hotels.md":[143,7,95],"./facebook-dbook-hotels/facebook-dbook-hotels.test":[74,9,18],"./facebook-dbook-hotels/facebook-dbook-hotels.test.js":[74,9,18],"./facebook-search-hotels/facebook-search-hotels":[44,9,21],"./facebook-search-hotels/facebook-search-hotels-props-used":[75,3,22],"./facebook-search-hotels/facebook-search-hotels-props-used.json":[75,3,22],"./facebook-search-hotels/facebook-search-hotels.js":[44,9,21],"./facebook-search-hotels/facebook-search-hotels.md":[144,7,96],"./facebook-search-hotels/facebook-search-hotels.test":[76,9,23],"./facebook-search-hotels/facebook-search-hotels.test.js":[76,9,23],"./facebook-view-hotels/facebook-view-hotels":[45,9,24],"./facebook-view-hotels/facebook-view-hotels-props-used":[77,3,25],"./facebook-view-hotels/facebook-view-hotels-props-used.json":[77,3,25],"./facebook-view-hotels/facebook-view-hotels.js":[45,9,24],"./facebook-view-hotels/facebook-view-hotels.md":[145,7,97],"./facebook-view-hotels/facebook-view-hotels.test":[78,9,26],"./facebook-view-hotels/facebook-view-hotels.test.js":[78,9,26],"./facebook/facebookutils":[34,9,19],"./facebook/facebookutils.js":[34,9,19],"./facebook/mappings":[33,3,20],"./facebook/mappings.json":[33,3,20],"./facebookredirect/facebookredirect":[46,9,27],"./facebookredirect/facebookredirect-props-used":[79,3,28],"./facebookredirect/facebookredirect-props-used.json":[79,3,28],"./facebookredirect/facebookredirect.js":[46,9,27],"./facebookredirect/facebookredirect.md":[146,7,98],"./facebookredirect/facebookredirect.test":[80,9,29],"./facebookredirect/facebookredirect.test.js":[80,9,29],"./facebooksearch/facebooksearch":[47,9,30],"./facebooksearch/facebooksearch-props-used":[81,3,31],"./facebooksearch/facebooksearch-props-used.json":[81,3,31],"./facebooksearch/facebooksearch.js":[47,9,30],"./facebooksearch/facebooksearch.md":[147,7,99],"./facebooksearch/facebooksearch.test":[82,9,32],"./facebooksearch/facebooksearch.test.js":[82,9,32],"./facebookview/facebookview":[48,9,33],"./facebookview/facebookview-props-used":[83,3,34],"./facebookview/facebookview-props-used.json":[83,3,34],"./facebookview/facebookview.js":[48,9,33],"./facebookview/facebookview.md":[148,7,100],"./facebookview/facebookview.test":[84,9,35],"./facebookview/facebookview.test.js":[84,9,35],"./gtag-common/conversion-markets":[85,9,36],"./gtag-common/conversion-markets.js":[85,9,36],"./gtag-common/generic-event-parameters":[36,9,37],"./gtag-common/generic-event-parameters.js":[36,9,37],"./gtag-common/generic-event-parameters.test":[86,9,38],"./gtag-common/generic-event-parameters.test.js":[86,9,38],"./gtag-common/gtag-init":[35,9,39],"./gtag-common/gtag-init.js":[35,9,39],"./gtag-dbook-hotels/gtag-dbook-hotels":[50,9,43],"./gtag-dbook-hotels/gtag-dbook-hotels-props-used":[89,3,44],"./gtag-dbook-hotels/gtag-dbook-hotels-props-used.json":[89,3,44],"./gtag-dbook-hotels/gtag-dbook-hotels.js":[50,9,43],"./gtag-dbook-hotels/gtag-dbook-hotels.md":[150,7,102],"./gtag-dbook-hotels/gtag-dbook-hotels.test":[90,9,45],"./gtag-dbook-hotels/gtag-dbook-hotels.test.js":[90,9,45],"./gtag-dbook/gtag-dbook":[49,9,40],"./gtag-dbook/gtag-dbook-props-used":[87,3,41],"./gtag-dbook/gtag-dbook-props-used.json":[87,3,41],"./gtag-dbook/gtag-dbook.js":[49,9,40],"./gtag-dbook/gtag-dbook.md":[149,7,101],"./gtag-dbook/gtag-dbook.test":[88,9,42],"./gtag-dbook/gtag-dbook.test.js":[88,9,42],"./gtag-hotels-search/gtag-hotels-search":[51,9,46],"./gtag-hotels-search/gtag-hotels-search-props-used":[91,3,47],"./gtag-hotels-search/gtag-hotels-search-props-used.json":[91,3,47],"./gtag-hotels-search/gtag-hotels-search.js":[51,9,46],"./gtag-hotels-search/gtag-hotels-search.md":[151,7,103],"./gtag-hotels-search/gtag-hotels-search.test":[92,9,48],"./gtag-hotels-search/gtag-hotels-search.test.js":[92,9,48],"./gtag-hotels-view/gtag-hotels-view-props-used":[93,3,49],"./gtag-hotels-view/gtag-hotels-view-props-used.json":[93,3,49],"./gtag-redirect/gtag-redirect":[52,9,50],"./gtag-redirect/gtag-redirect-props-used":[94,3,51],"./gtag-redirect/gtag-redirect-props-used.json":[94,3,51],"./gtag-redirect/gtag-redirect.js":[52,9,50],"./gtag-redirect/gtag-redirect.md":[152,7,104],"./gtag-redirect/gtag-redirect.test":[95,9,52],"./gtag-redirect/gtag-redirect.test.js":[95,9,52],"./gtag-search/gtag-search":[53,9,53],"./gtag-search/gtag-search-props-used":[96,3,54],"./gtag-search/gtag-search-props-used.json":[96,3,54],"./gtag-search/gtag-search.js":[53,9,53],"./gtag-search/gtag-search.md":[153,7,105],"./gtag-search/gtag-search.test":[97,9,55],"./gtag-search/gtag-search.test.js":[97,9,55],"./gtag-view/gtag-view":[54,9,56],"./gtag-view/gtag-view-props-used":[98,3,57],"./gtag-view/gtag-view-props-used.json":[98,3,57],"./gtag-view/gtag-view.js":[54,9,56],"./gtag-view/gtag-view.md":[154,7,106],"./gtag-view/gtag-view.test":[99,9,58],"./gtag-view/gtag-view.test.js":[99,9,58],"./kiwi-tracking-pixel/kiwi-tracking-pixel":[55,9,59],"./kiwi-tracking-pixel/kiwi-tracking-pixel-props-used":[100,3,60],"./kiwi-tracking-pixel/kiwi-tracking-pixel-props-used.json":[100,3,60],"./kiwi-tracking-pixel/kiwi-tracking-pixel.js":[55,9,59],"./kiwi-tracking-pixel/kiwi-tracking-pixel.md":[155,7,107],"./kiwi-tracking-pixel/kiwi-tracking-pixel.test":[101,9,61],"./kiwi-tracking-pixel/kiwi-tracking-pixel.test.js":[101,9,61],"./microsoftUetRedirect/microsoftUetRedirect":[103,9,62],"./microsoftUetRedirect/microsoftUetRedirect-props-used":[102,3,63],"./microsoftUetRedirect/microsoftUetRedirect-props-used.json":[102,3,63],"./microsoftUetRedirect/microsoftUetRedirect.js":[103,9,62],"./microsoftUetRedirect/microsoftUetRedirect.md":[156,7,109],"./microsoftUetSearch/microsoftUetSearch":[105,9,64],"./microsoftUetSearch/microsoftUetSearch-props-used":[104,3,65],"./microsoftUetSearch/microsoftUetSearch-props-used.json":[104,3,65],"./microsoftUetSearch/microsoftUetSearch.js":[105,9,64],"./microsoftUetSearch/microsoftUetSearch.md":[157,7,110],"./microsoftUetView/microsoftUetView":[107,9,66],"./microsoftUetView/microsoftUetView-props-used":[106,3,67],"./microsoftUetView/microsoftUetView-props-used.json":[106,3,67],"./microsoftUetView/microsoftUetView.js":[107,9,66],"./microsoftUetView/microsoftUetView.md":[158,7,111],"./perimeterx/perimeterx":[56,9,68],"./perimeterx/perimeterx-props-used":[108,3,69],"./perimeterx/perimeterx-props-used.json":[108,3,69],"./perimeterx/perimeterx.js":[56,9,68],"./perimeterx/perimeterx.md":[159,7,112],"./perimeterx/perimeterx.test":[109,9,70],"./perimeterx/perimeterx.test.js":[109,9,70],"./propwatcher/expected-props":[38,3,71],"./propwatcher/expected-props.json":[38,3,71],"./propwatcher/propwatcher":[57,9,72],"./propwatcher/propwatcher-props-used":[110,3,73],"./propwatcher/propwatcher-props-used.json":[110,3,73],"./propwatcher/propwatcher.js":[57,9,72],"./propwatcher/propwatcher.md":[160,7,113],"./propwatcher/propwatcher.test":[111,9,74],"./propwatcher/propwatcher.test.js":[111,9,74],"./sat-register/optional-extra-docs.md":[163,7,115],"./sat-register/sat-register":[59,9,75],"./sat-register/sat-register-props-used":[114,3,76],"./sat-register/sat-register-props-used.json":[114,3,76],"./sat-register/sat-register.js":[59,9,75],"./sat-register/sat-register.md":[164,7,116],"./sat-register/sat-register.test":[115,9,77],"./sat-register/sat-register.test.js":[115,9,77],"./sat/optional-extra-docs.md":[161,7,114],"./sat/sat":[58,9,78],"./sat/sat-props-used":[112,3,79],"./sat/sat-props-used.json":[112,3,79],"./sat/sat.js":[58,9,78],"./sat/sat.md":[162,7,117],"./sat/sat.test":[113,9,80],"./sat/sat.test.js":[113,9,80],"./usabilla/usabilla":[117,9,81],"./usabilla/usabilla-props-used":[116,3,82],"./usabilla/usabilla-props-used.json":[116,3,82],"./usabilla/usabilla.js":[117,9,81],"./usabilla/usabilla.md":[165,7,118],"./yahoo-retargeting/yahoo-retargeting":[60,9,83],"./yahoo-retargeting/yahoo-retargeting-props-used":[118,3,84],"./yahoo-retargeting/yahoo-retargeting-props-used.json":[118,3,84],"./yahoo-retargeting/yahoo-retargeting.js":[60,9,83],"./yahoo-retargeting/yahoo-retargeting.md":[166,7,119],"./yahoo-retargeting/yahoo-retargeting.test":[119,9,85],"./yahoo-retargeting/yahoo-retargeting.test.js":[119,9,85],"./yandex-metrica/__snapshots__/yandex-metrica.test.js.snap":[167,7,120],"./yandex-metrica/yandex-metrica":[61,9,86],"./yandex-metrica/yandex-metrica-props-used":[120,3,87],"./yandex-metrica/yandex-metrica-props-used.json":[120,3,87],"./yandex-metrica/yandex-metrica.js":[61,9,86],"./yandex-metrica/yandex-metrica.md":[168,7,121],"./yandex-metrica/yandex-metrica.test":[121,9,88],"./yandex-metrica/yandex-metrica.test.js":[121,9,88]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return r.e(t[2]).then((function(){return r.t(o,t[1])}))}o.keys=function(){return Object.keys(n)},o.id=134,e.exports=o},function(e,t,r){r.p="".concat(window.TAG_MANAGER_PROPS.staticPath,"build/")},function(e,t,r){"use strict";r.r(t);var n=r(29),o=r.n(n),a=r(30),i=r.n(a),s=r(2),u=(r(11),r(6)),c=u.GLOBAL.getWindow()||{};c.__skyOCsLoadedScripts=c.__skyOCsLoadedScripts||{};var p=u.GLOBAL.getWindow()||{};p.sky__OCs||(p.sky__OCs={components:Object.create(null),waiting:Object.create(null)});var l,f,h=p.sky__OCs,d=h.waiting,v=h.components,b=function(e,t,r){return o()("".concat(e).concat(t).concat(i()(r)))},g=function(e){var t=e.name,r=e.version,n=e.params,o=void 0===n?{}:n,a=e.componentDefinition,i=e.hydrate,u=e.props;delete o.clientOnly,delete o.SSR;var c=b(t,r,o);return v[c]?!!d[c]&&(d[c].resolve({componentDefinition:a,hydrate:i,props:u}),s.a.publish("component-registered",{name:t,version:r,params:o}),s.a.publish("component-registered-".concat(c),{name:t,version:r,params:o}),delete d[c],!0):(v[c]=Promise.resolve({componentDefinition:a,hydrate:i,props:u}),s.a.publish("component-registered",{name:t,version:r,params:o}),s.a.publish("component-registered-".concat(c),{name:t,version:r,params:o}),!0)},y=r(0),m=r.n(y),k=r(1),w=r(5),O=r(14),E=r(13),S=function(e,t){return Object(E.c)({component:"tag-manager",page:e.page,message:t})},j=function(e,t,r){return Object(E.b)({component:"tag-manager",page:e.page,message:r,error:"".concat(t.stack||t)})},x=r(8),_=r(7),T=function(e){return new _.MultiValueCookie(e)},L=function(e){return new _.SingleValueCookie(e)},A=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","UK","NO","LI","IS"],P=Object.freeze({OPTIN:"optin",INFORMATION:"information",ADVERTS:"adverts",VERSION:"version"}),R=function(e){return"true"===(e||"")},C=function(e){return parseInt(e.getValue(P.VERSION),10)||0},I=function(e){return!e||A.indexOf((e||"").toUpperCase())>=0},D=function(e){return!I(e)},N=function(e,t){return Object(w.a)(Object(w.a)({},t),{},Object(x.a)({},"isGdprActiveInMarket",I(e)))},U=function(){var e=u.GLOBAL.getWindow();e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad&&delete e.Sb.trackingPreferences.initialLoad},M=Object.freeze((l={},Object(x.a)(l,P.INFORMATION,!0),Object(x.a)(l,P.ADVERTS,!0),Object(x.a)(l,P.VERSION,2),l)),V=Object.freeze((f={},Object(x.a)(f,P.INFORMATION,!1),Object(x.a)(f,P.ADVERTS,!1),Object(x.a)(f,P.VERSION,2),f)),Y=function(e,t){t?(e.setValue("init",!0),e.store(null,{secure:!1})):(e.deleteValue("init"),e.store(730,{secure:!1}),U())},G=function(){return(L("gdpr").getValue()||"").indexOf("".concat("init",":::true"))>=0},B=function(){var e=u.GLOBAL.getWindow(),t=e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad,r=G();return t||r},F=function(e,t){if(!Object(_.cookieExists)("gdpr"))return N(e,t);var r=T("gdpr");return C(r)<2?N(e,t):(function(e){R(e.getValue("init"))&&Y(e,!1)}(r),function(e,t){var r,n=e.getValue(P.INFORMATION),o=null!=n?R(n):D(t),a=e.getValue(P.ADVERTS),i=null!=a?R(a):D(t);return r={},Object(x.a)(r,P.INFORMATION,o),Object(x.a)(r,P.ADVERTS,i),Object(x.a)(r,P.VERSION,C(e)),Object(x.a)(r,"isGdprActiveInMarket",I(t)),r}(r,e))},q=function(e){if(!e)throw new Error("Market should be provided to get tracking preferences");return I(e)?function(e){var t;return B()||G()?(t={},Object(x.a)(t,P.INFORMATION,!1),Object(x.a)(t,P.ADVERTS,!1),Object(x.a)(t,P.VERSION,2),Object(x.a)(t,"isGdprActiveInMarket",I(e)),t):F(e,V)}(e):function(e){return F(e,M)}(e)},H=function(){var e=Object(k.a)(m.a.mark((function e(t,n,o,a){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(134)("./".concat(t,"/").concat(t));case 2:i=e.sent,(0,i.default)(Object(w.a)(Object(w.a)({},n),o),a);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),W=function(e){return 3===(e||"").length?e:void 0},J=function(e){return{originIata:W(e.originIata)||W(e.originAirport)||W(e.originId)||W(e.originCityId),destinationIata:W(e.destinationIata)||W(e.destinationAirport)||W(e.destinationId)||W(e.destinationCityId)}},$=r(16),z=new O.a("public","js-tag-manager"),K=function(e){var t=Object(w.a)({},e);return Object.keys(t).forEach((function(e){"boolean"!==typeof t[e]&&(t[e]=void 0)})),t},Z=function(e){var t=Object(w.a)({},e);return["consentInformation","consentAdverts","isApp"].forEach((function(e){"boolean"!==typeof t[e]&&(t[e]=void 0)})),t},X=function(e,t,r){var n,o,a=function(e,t){return[Z(e),K(t)]}(e,t),i=Object($.a)(a,2),s=i[0],u=i[1];return"essential"===r?o=!0:!1!==s.isApp?"information"===r?"boolean"===typeof s.consentInformation?(n=!0,o=s.consentInformation):(n=!1,o=u[r]):"adverts"===r&&("boolean"===typeof s.consentAdverts?(n=!0,o=s.consentAdverts):(n=!1,o=u[r])):!1===s.isApp&&(o="boolean"===typeof u[r]&&u[r],n=!1),"skippy"===s.pagetype&&z.track("sandbox.JsTagManagerIsApp",{isApp:s.isApp,has_override:n}),!0===o},Q=new O.a("public","js-tag-manager"),ee=function(e){var t=Object(w.a)({},e);return delete t.dynamics,t},te=function(){var e=Object(k.a)(m.a.mark((function e(t){var r,n,o,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dynamics,n=q(t.market),o=J(t),a=0,e.next=6,o;case 6:i=e.sent,r.forEach(function(){var e=Object(k.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.triedToLoad||!X(t,n,r.category)){e.next=12;break}return e.prev=1,r.triedToLoad=!0,a+=1,e.next=6,H(r.name,ee(t),i,u.injectScript);case 6:Q.track("js_tag_manager.TagLaunches",{tag:r.name,category:r.category,page:t.pagetype}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(t,e.t0,"Failed to inject '".concat(r.name,"' tag"));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),a?s.a.publish("tags-loaded"):S(t,"loadTags did not try to load any tags (received ".concat(r.length," dynamic tags)"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(k.a)(m.a.mark((function e(t,r,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,clearTimeout(n),e.next=6,te(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),j(r,e.t0,"Failed to load tags");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),ne=new O.a("public","js-tag-manager"),oe=function(e){var t=Object(w.a)({},e),r=u.GLOBAL.getWindow();r.__tagmanagerProps=t,"skippy"===t.pagetype&&t.skippyUrl.indexOf("&facilitated=true")&&500===r.context.redirect_delay&&(t.pagetype="dbook-skippy"),ne.track("js_tag_manager.JsTagManagerLaunches",{page:t.pagetype});var n=setTimeout((function(){S(t,"loadTags was not called within ".concat(5e3,"ms of launching tag manager"))}),5e3),o=!1;return s.a.subscribe("tracking-preferences-changed",Object(k.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(o,t,n);case 2:case"end":return e.stop()}}),e)})))),Object(u.addLoadEventHandler)(Object(k.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,e.next=3,re(o,t,n);case 3:case"end":return e.stop()}}),e)})))),null},ae=(r(135),window.TAG_MANAGER_PROPS);g({name:"js-tag-manager",version:ae.version,componentDefinition:oe,props:{dynamics:ae.dynamics,pagetype:ae.pagetype}})}]);
//# sourceMappingURL=main.bd0b8f21.js.map