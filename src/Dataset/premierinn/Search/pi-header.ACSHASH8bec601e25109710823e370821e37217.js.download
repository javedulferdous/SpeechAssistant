var Header=function(){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var C=function(){return(C=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,a,s,l){return new(s=s||Promise)(function(n,t){function o(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(o,i)}r((l=l.apply(e,a||[])).next())})}function d(n,o){var i,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(a=2&t[0]?r.return:t[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,t[1])).done)return a;switch(r=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,r=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],r=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var s=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},t=(l.addEventListener=function(e,t,n){this.listeners||(this.listeners={}),this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({scope:e,type:t,callback:n})},l.removeEventListener=function(e,t){if(this.listeners){for(var n=void 0,o=0;o<this.listeners[e].length;o++)if(this.listeners[e].callback===t){n=o;break}this.listeners[e].splice(n,1)}},l.dispatchEvent=function(e){if(l.logEvents&&console.log("Bus dispatch: ",e),this.listeners){var t=e.type;if(this.listeners[t])try{for(var n=s(this.listeners[t]),o=n.next();!o.done;o=n.next()){var i=o.value;i.callback.call(i.scope,e)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}}var r,a},l.logEvents=!1,l);function l(){}var n=setTimeout;function i(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function a(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,r._immediateFn(function(){var e,t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void p(o.promise,e)}h(o.promise,e)}else(1===n._state?h:p)(o.promise,n._value)})):n._deferreds.push(o)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void m(t);if("function"==typeof n)return void g((o=n,i=e,function(){o.apply(i,arguments)}),t)}t._state=1,t._value=e,m(t)}catch(e){p(t,e)}var o,i}function p(e,t){e._state=2,e._value=t,m(e)}function m(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e(function(e){n||(n=!0,h(t,e))},function(e){n||(n=!0,p(t,e))})}catch(e){if(n)return;n=!0,p(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new f(e,t,n)),n},r.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},r.all=function(t){return new r(function(i,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(t);if(0===a.length)return i([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(e){t(n,e)},r)}a[n]=e,0==--s&&i(a)}catch(e){r(e)}}(e,a[e])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(n){return new r(function(e,t){t(n)})},r.race=function(i){return new r(function(e,t){for(var n=0,o=i.length;n<o;n++)i[n].then(e,t)})},r._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){n(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var v=r,E=function(e,t){this.width=e,this.height=t},b=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},k=(Object.defineProperty(w.prototype,"target",{get:function(){return this.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"type",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"data",{get:function(){return this.eventData},set:function(e){this.eventData=e},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"sourceEvent",{get:function(){return this.eventSourceEvent},enumerable:!0,configurable:!0}),w);function w(e,t,n,o){this.eventType=e,this.eventTarget=t,this.eventSourceEvent=o,this.eventData=n}var S=(L.prototype.hasEventListener=function(e,t){var n,o,i=!1;try{for(var r=b(this.listeners),a=r.next();!a.done;a=r.next()){var s=a.value;s.type===e&&s.listener===t&&(i=!0)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return i},L.prototype.addEventListener=function(e,t,n,o,i,r){void 0===i&&(i=!1),this.hasEventListener(t,n)||this.listeners.push({scope:e,type:t,listener:n,useCapture:i,scopedEventListener:r,data:o})},L.prototype.removeEventListener=function(t,n){var e=this.listeners.filter(function(e){return e.type===t&&e.listener.toString()===n.toString()});return this.listeners=this.listeners.filter(function(e){return!(e.type===t&&e.listener.toString()===n.toString())}),e[0]},L.prototype.dispatchEvent=function(e){L.logEvents&&console.log("event dispatch: ",e);try{for(var t=b(this.listeners),n=t.next();!n.done;n=t.next()){var o=n.value;o.type===e.type&&(o.data&&(e.data=o.data),o.listener.call(o.scope,e))}}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}}var i,r},L.logEvents=!1,L);function L(){this.listeners=[]}var D=(O.style=function(e,t){var n,o=e.element?e.element:e;for(n in t)t.hasOwnProperty(n)&&(o.style[n]=t[n])},O);function O(){}var _=(T.setRules=function(t,e){matchMedia&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){T.addListeners(t,e)}))},T.addListeners=function(e,t){var n;t.minWidth&&t.maxWidth?n="(min-width: "+t.minWidth+"px) and (max-width: "+t.maxWidth+"px)":(t.minWidth&&(n="(min-width: "+t.minWidth+"px)"),t.maxWidth&&(n="(max-width: "+t.maxWidth+"px)")),T.applyRuleAddListener(e,t,n)},T.applyRuleAddListener=function(t,n,e){var o=window.matchMedia(e);T.applyRule(t,n,o),o.addListener(function(e){T.applyRule(t,n,e)})},T.applyRule=function(e,t,n){n.matches&&(t.duration&&0!==t.duration?e.to({duration:t.duration,toVars:t.style}):D.style(e,t.style))},T);function T(){}var A,I,R=(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},P=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N(arguments[t]));return e},x=(R(M,I=S),Object.defineProperty(M.prototype,"timeouts",{get:function(){return this.timeoutsArray},enumerable:!0,configurable:!0}),M.prototype.killAnimations=function(){this.timeoutsArray.forEach(function(e){clearTimeout(e)}),this.timeoutsArray=[]},M.prototype.addToBody=function(){document.body.appendChild(this.htmlElement)},M.prototype.style=function(e){D.style(this.htmlElement,e)},M.prototype.className=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.reduce(function(e,t){return e+" "+t});this.htmlElement.className?this.htmlElement.className=this.htmlElement.className+" "+n:this.htmlElement.className=n},M.prototype.insertBefore=function(e,t){e&&e.element&&this.htmlElement.insertBefore(e.element,t.element)},M.prototype.appendChild=function(e){e&&e.element&&this.element.appendChild(e.element)},M.prototype.addChild=function(e){this.appendChild(e)},M.prototype.removeChild=function(e){e&&this.htmlElement===e.htmlElement.parentNode&&this.htmlElement.removeChild(e.htmlElement)},M.prototype.removeAllChildren=function(){for(;this.htmlElement.hasChildNodes();)this.htmlElement.removeChild(this.htmlElement.lastChild)},M.prototype.to=function(n){var o=this,t=10;return n.delay&&(t=1e3*n.delay),this.timeoutsArray.push(setTimeout(function(){for(var e in n.toVars){var t;n.toVars.hasOwnProperty(e)&&(t={duration:0,count:0},0<=n.duration&&(t.duration=n.duration),o.transitions[e]&&(t.count=o.transitions[e].count+1),o.transitions[e]=t)}D.style(o.htmlElement,{transition:o.convertTransitionObjectToString(o.transitions)}),n.ease&&D.style(o.htmlElement,{transitionTimingFunction:n.ease.toString()}),D.style(o.htmlElement,n.toVars)},t)),n.resolve?(this.timeoutsArray.push(setTimeout(function(){D.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),o.dispatchEvent(new k(M.TRANSITION_COMPLETE,o)),n.resolve(o)},1e3*n.duration+t)),null):new v(function(e){o.timeoutsArray.push(setTimeout(function(){D.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),e(o),o.dispatchEvent(new k(M.TRANSITION_COMPLETE,o))},1e3*n.duration+t))})},M.prototype.fromTo=function(t){var n=this;return t.delay?(t.delay=1e3*t.delay,t.immediateRender&&D.style(this.htmlElement,t.fromVars)):(D.style(this.htmlElement,t.fromVars),t.delay=10),new v(function(e){n.timeoutsArray.push(setTimeout(function(){D.style(n.htmlElement,t.fromVars),n.timeoutsArray.push(setTimeout(function(){n.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:e})},10))},t.delay))})},M.prototype.addEventListener=function(t,n,o,i,e){void 0===e&&(e=!1);function r(e){o.apply(t,[new k(n,a,i,e)])}var a=this;I.prototype.addEventListener.call(this,t,n,o,i,e,r),this.htmlElement.addEventListener?this.htmlElement.addEventListener(n,r,e):this.htmlElement.attachEvent&&(this.htmlElement.attachEvent("on"+n,r),this.htmlElement.attachEvent("onpropertychange",function(e){e.eventType===n&&(e.cancelBubble=!0,e.returnValue=!1,e.data=e.customData,r(e))}))},M.prototype.removeEventListener=function(e,t){var n=I.prototype.removeEventListener.call(this,e,t);return n&&(this.htmlElement.removeEventListener?this.htmlElement.removeEventListener(e,n.scopedEventListener,n.useCapture):this.htmlElement.detachEvent&&this.htmlElement.detachEvent("on"+e,t)),n},M.prototype.hide=function(){this.originalDisplay="none"!==this.htmlElement.style.display?this.htmlElement.style.display:"",D.style(this.htmlElement,{display:"none"})},M.prototype.show=function(){var e=this.originalDisplay;e&&""!==e||(e="block"),D.style(this.htmlElement,{display:e})},M.prototype.fillContainer=function(){D.style(this.htmlElement,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},M.prototype.centreHorizontal=function(){D.style(this.htmlElement,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},M.prototype.centreHorizontalText=function(){D.style(this.htmlElement,{textAlign:"center"})},M.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},M.prototype.responsive=function(e){_.setRules(this,e)},M.prototype.convertTransitionObjectToString=function(e){var t,n="";for(t in e){e.hasOwnProperty(t)&&(""!==n&&(n+=", "),n+=this.camelToHyphen(t)+" "+e[t].duration+"s",e[t].delay&&(n+=" "+e[t].delay+"s"))}return n},M.prototype.removeCompletedTransitionsAndReapply=function(e){for(var t in e)this.transitions[t]&&(0<this.transitions[t].count?this.transitions[t].count--:delete this.transitions[t]);return this.convertTransitionObjectToString(this.transitions)},M.prototype.camelToHyphen=function(e){return e.replace(/[a-z][A-Z]/g,function(e){var t=e.split("");t[2]=t[1],t[1]="-",t[2]=t[2].toLowerCase();var n="";return t.map(function(e){n+=e}),n})},Object.defineProperty(M.prototype,"width",{get:function(){return this.shadow().width},set:function(e){"number"==typeof e&&(e+="px"),D.style(this.htmlElement,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"height",{get:function(){return this.shadow().height},set:function(e){D.style(this.htmlElement,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"y",{get:function(){return this.htmlElement.offsetTop},set:function(e){D.style(this.htmlElement,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"x",{get:function(){return this.htmlElement.offsetLeft},set:function(e){D.style(this.htmlElement,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"alpha",{get:function(){return parseFloat(this.htmlElement.style.opacity)},set:function(e){D.style(this.htmlElement,{opacity:e.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"data",{get:function(){return this.instanceData},set:function(e){this.instanceData=e},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"innerText",{get:function(){return this.htmlElement.innerText},set:function(e){this.htmlElement.innerText=e},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"textContent",{get:function(){return this.htmlElement.textContent},set:function(e){this.htmlElement.textContent=e},enumerable:!0,configurable:!0}),M.prototype.shadow=function(){if(document.body.contains(this.htmlElement))return this.dimensionsPolyfill();var e=this.htmlElement.parentElement;document.body.appendChild(this.htmlElement);var t=this.dimensionsPolyfill();return document.body.removeChild(this.htmlElement),e?e.appendChild(this.htmlElement):document.body.removeChild(this.htmlElement),t},M.prototype.dimensionsPolyfill=function(){var e=this.htmlElement.getBoundingClientRect().height,t=this.htmlElement.getBoundingClientRect().width;return t||(t=this.htmlElement.scrollWidth,e=this.htmlElement.scrollHeight),new E(t,e)},Object.defineProperty(M.prototype,"value",{get:function(){return this.htmlElement.value},set:function(e){this.htmlElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"id",{get:function(){return this.htmlElement.id},set:function(e){this.htmlElement.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"element",{get:function(){return this.htmlElement},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"innerHtml",{get:function(){return this.htmlElement.innerHTML},set:function(e){this.htmlElement.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"href",{get:function(){return this.htmlElement.href},set:function(e){this.htmlElement.href=e},enumerable:!0,configurable:!0}),M.TRANSITION_COMPLETE="TRANSITION_COMPLETE",M);function M(e){var t=I.call(this)||this;if(t.transitions={},t.timeoutsArray=[],t.originalDisplay="block",e){for(var n in e.root&&!document.getElementById("app")?(t.htmlElement=document.createElement("div"),t.htmlElement.style.position="absolute",t.htmlElement.style.height="100%",t.htmlElement.style.width="100%",t.htmlElement.style.top="0px",t.htmlElement.style.left="0px",t.htmlElement.style.margin="0px",t.htmlElement.id="app",document.body.appendChild(t.htmlElement)):e.type?t.htmlElement=document.createElement(e.type):t.htmlElement=document.createElement("div"),e.id&&(t.htmlElement.id=e.id),e.text&&(t.htmlElement.textContent=e.text),e.name&&"select"===e.type&&(t.htmlElement.name=e.name),e.attributes)e.attributes.hasOwnProperty(n)&&t.htmlElement.setAttribute(n,e.attributes[n]);t.instanceData=e.data,e.styles&&e.styles.forEach(function(e){D.style(t.htmlElement,e)}),D.style(t.htmlElement,e.style),e.className&&t.className.apply(t,P(e.className)),D.style(t.htmlElement,e),e.responsive&&t.responsive(e.responsive)}else t.htmlElement=document.createElement("div");return t}var B=(H.Linear="linear",H.Ease="ease",H.EaseIn="ease-in",H.EaseOut="ease-out",H.EaseInOut="ease-in-out",H);function H(){}var F=(U.merge=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),Array.isArray(t)&&"object"==typeof e&&0===Object.keys(e).length)e=[].concat(t);else if("object"!=typeof e||"object"!=typeof t)e=t;else{for(var o in t)if(t.hasOwnProperty(o)){if("object"==typeof t[o]){e[o]=n?U.immutableMerge(e[o],t[o]):U.merge(e[o],t[o]);continue}e[o]=t[o]}t instanceof Date&&(e=t)}return e},U.immutableMerge=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.merge({},e,!0);return this.merge(n,t,!0)},U.getKeyName=function(e,t){var n,o,i=[];for(n in e){e.hasOwnProperty(n)&&"__proto__"!==n&&(t.hasOwnProperty(n)?e[n]===Object(e[n])?(o=U.getKeyName(e[n],t[n]),0<Object.keys(o).length&&i.push([n]+"."+o)):e[n]!==t[n]&&(void 0===e[n]&&(i[n]="undefined"),null===e[n]?i[n]=null:"function"==typeof e[n]?i[n]="function":"object"==typeof e[n]&&(i[n]="object")):i.push(n))}return i},U.flattenConfigStyles=function(e){if(e){var t=e;return e.styles&&e.styles.map(function(e){U.merge(t,e)}),e.style&&U.merge(t,e.style),t}return{}},U);function U(){}var G,j,W=((G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(V,j=x),V.prototype.over=function(){var e;this.styles.hover&&(e=F.flattenConfigStyles(this.styles.hover),this.to({duration:this.styles.hover.durationIn,toVars:e}))},V.prototype.out=function(){if(this.styles.hover){var e,t=F.flattenConfigStyles(this.styles.hover),n=F.flattenConfigStyles(this.styles),o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=n[e]?n[e]:"inherit");this.to({duration:this.styles.hover.durationOut,toVars:o})}},V.prototype.updateStyle=function(e){void 0===e&&(e={}),this.styles=F.flattenConfigStyles(e)},V);function V(e){var t=j.call(this,e)||this;return t.styles=F.flattenConfigStyles(e),t.addEventListener(t,"mouseover",t.over),t.addEventListener(t,"mouseout",t.out),t}var Y,z;(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})($,z=x),$.prototype.update=function(e){(e=decodeURIComponent(e))!==this.currentPageName&&(this.routes&&history.pushState(null,null,e),this.changePage(e))},$.prototype.changePage=function(e){var t,n,o=this;this.currentPageName=e,this.config.pages[e]?(clearTimeout(this.delayTimeout),this.currentPage&&(this.currentPage.sleep&&this.currentPage.sleep(),this.config.delayTransition?(t=this.currentPage,this.delayTimeout=setTimeout(function(){o.removeChild(t)},1e3*this.config.delayTransition)):this.removeChild(this.currentPage)),this.pages[e]||(n=new this.config.pages[e].view(this.config.pages[e].payload),this.pages[e]=n),this.currentPage=this.pages[e],this.currentPage.wake&&this.currentPage.wake(),this.addChild(this.currentPage)):this.config.redirect?this.update("/"):this.config.errorPage&&this.changePage(this.config.errorPage)};function $(e){var n=z.call(this,{id:e.id,style:{position:"relative"}})||this;return n.pages={},n.routes=!0,n.config=e,n.style(e.style),!1===e.routes&&(n.routes=!1),n.routes&&(window.addEventListener("popstate",function(e){var t=null===e.state?window.location.pathname:e.state;n.changePage(t)}),n.changePage(window.location.pathname)),n}var K,q;(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Q,q=x);function Q(){return q.call(this,{root:!0})||this}var X=(Z.scrollY=function(){var e=document.body.scrollTop;return 0===e&&(e=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),e},Z.scrollX=function(){var e=document.body.scrollLeft;return 0===e&&(e=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),e},Object.defineProperty(Z,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(Z,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0}),Z);function Z(){}var J,ee=(e(te,J=x),te);function te(e){return J.call(this,F.merge({display:"block",width:"100%",margin:"0 auto"},e))||this}var ne=(oe.colours={piColorPurple:"#511e62",piColorPurpleLight:"#c9bbd0",piColorSecondaryDarkest:"#6c3072",piColorSecondaryDarker:"#9f78a3",piColorSecondaryDark:"#b597b8",piColorSecondaryMid:"#c4acc7",piColorSecondaryLight:"#e2d6e3",piColorSecondaryLighter:"#e9e0ea",piColorSecondaryLightest:"#f8f4f8",piColorDarkneutralDarkest:"#617571",piColorDarkneutralDark:"#b6c4c1",piColorDarkneutralMid:"#ccd9d3",piColorDarkneutralLight:"#dae1e0",piColorDarkneutralLightest:"#f0f3f3",piColorNeutralDarkest:"#eeece9",piColorNeutralDark:"#f1f0ed",piColorNeutralMid:"#f3f2f0",piColorNeutralLight:"#f6f5f4",piColorNeutralLightest:"#f8f7f6",piColorLightneutralDark:"#e2e6e5",piColorLightneutralMid:"#e8ebea",piColorLightneutralLight:"#f0f2f2",piColorGreyscaleDarkest:"#333",piColorGreyscaleDark:"#58595b",piColorGreyscaleMid:"#949494",piColorGreyscaleLight:"#ccc",piColorGreyscaleLighter:"#ddd",piColorGreyscaleLightest:"#f2f2f2",piColorBtnPrimary:"#f9c940",piColorBtnPrimaryLight:"#fbdc83",piColorBtnPrimaryLightest:"#fef9ec",piColorAccentOrange:"#fa9300",piColorAccentOrangeLight:"#fcbe66",piColorAccentOrangeLightest:"#feefd9",piColorAccentCoral:"#da3c21",piColorAccentCoralLight:"#e65c44",piColorAccentCoralLightest:"#fceeec",piColorAccentTeal:"#3c868b",piColorAccentTealLight:"#6da4a8",piColorAccentTealLighter:"#89b6b9",piColorAccentTealLightest:"#f5f9f9",piColorAccentAqua:"#80bfbd",piColorAccentYellow:"#fcb92a",piColorAccentDangerred:"#cd0325",piColorAccentErrorred:"#eb0324",piColorAccentDarkred:"#eb1130",piColorAccentBlue:"#217ace",piColorAccentMagenta:"#8d1a61",piColorAccentMagentaLight:"#bb157c",piColorWhite:"#fff",piColorBlack:"#000",transparent:"transparent",hubColorPrimary:"#bed600",black:"#000",grayDark:"#333",gray:"#58595b",grayLight:"#949494",white:"#fff",primary:"#00798e"},oe.variables={baseFont:"PremierInn_Sans,helvetica,arial,sans-serif",baseSpacingS:"10px",baseSpacingBase:"15px",baseSpacingM:"20px",baseSpacingL:"25px",baseSpacingXl:"30px",lineHeightXxs:"16px",lineHeightSubtext:"17px",lineHeightXs:"19px",lineHeightS:"21px",lineHeightM:"24px",lineHeightL:"28px",lineHeightXl:"45px",lineHeightXxl:"48px",lineHeightXxxl:"55px",fontSizeXs:"12px",fontSizeS:"14px",fontSizeBase:"16px",fontSizeM:"19px",fontSizeL:"23px",fontSizeXl:"37px",fontSizeXxl:"41px",fontSizeXxxl:"49px",mobileWidth:"320px",fontSizeMobile:"1em",mobileFormElement:"1.25em",fontSizeMobileLogin:"1.5em",hero:"49px",h1:"41px",h2:"37px",h3:"23px",h4:"19px",h5:"16px",h6:"14px",subtext:"12px",baseFontFamily:"'Helvetica Neue',Helvetica,Arial,sans-serif",baseLineHeight:"18px",buttonLineHeight:"30px",buttonBorderWidth:"2px",zindexDropdown:"1000",zindexPopover:"1010",zindexTooltip:"1020",zindexFixedNavbar:"1030",zindexModalBackdrop:"1040",zindexModal:"1050",iconSpritePath:"'../img/glyphicons-halflings.png'",iconWhiteSpritePath:"'../img/glyphicons-halflings-white.png'",placeholderText:"#949494",hrBorder:"#ddd",navbarHeight:"40px",navbarBackground:"#333",navbarBackgroundHighlight:"#333",navbarLinkBackgroundHover:"transparent",navbarText:"#949494",navbarLinkColor:"#949494",navbarLinkColorHover:"#fff",standardBorderRadius:"3px",standardTransitionSpeed:".3s",longTransitionSpeed:"2s",notificationicon:"24px",gridColumns:"12",gridColumnWidth:"60px",gridGutterWidth:"20px",gridRowWidth:"940px",fluidGridColumnWidth:"6.382978723%",fluidGridGutterWidth:"2.127659574%",priceXlarge:"36px",priceLarge:"29px",priceMid:"23px",priceSmall:"19px",priceXsmall:"13px"},oe);function oe(){}var ie=(re.colours={primary:{teal:ne.colours.primary,white:ne.colours.piColorWhite,black:ne.colours.piColorBlack,purple:ne.colours.piColorPurple,purpleLight:ne.colours.piColorPurpleLight,btn:ne.colours.piColorBtnPrimary,btnLight:ne.colours.piColorBtnPrimaryLight,btnLightest:ne.colours.piColorBtnPrimaryLightest},secondary:{darkest:ne.colours.piColorSecondaryDarkest,darker:ne.colours.piColorSecondaryDarker,dark:ne.colours.piColorSecondaryDark,mid:ne.colours.piColorSecondaryMid,light:ne.colours.piColorSecondaryLight,lighter:ne.colours.piColorSecondaryLighter,lightest:ne.colours.piColorSecondaryLightest},darkNeutral:{darkest:ne.colours.piColorDarkneutralDarkest,dark:ne.colours.piColorDarkneutralDark,mid:ne.colours.piColorDarkneutralMid,light:ne.colours.piColorDarkneutralLight,lighter:ne.colours.piColorDarkneutralLightest},neutral:{darkest:ne.colours.piColorNeutralDarkest,dark:ne.colours.piColorNeutralDark,mid:ne.colours.piColorNeutralMid,light:ne.colours.piColorNeutralLight,lighter:ne.colours.piColorNeutralLightest},lightNeutral:{dark:ne.colours.piColorLightneutralDark,mid:ne.colours.piColorLightneutralMid,light:ne.colours.piColorLightneutralLight},greyScale:{darkest:ne.colours.piColorGreyscaleDarkest,dark:ne.colours.piColorGreyscaleDark,mid:ne.colours.piColorGreyscaleMid,light:ne.colours.piColorGreyscaleLight,lighter:ne.colours.piColorGreyscaleLighter,lightest:ne.colours.piColorGreyscaleLightest},accent:{orange:ne.colours.piColorAccentOrange,orangeLight:ne.colours.piColorAccentOrangeLight,orangeLightest:ne.colours.piColorAccentOrangeLightest,coral:ne.colours.piColorAccentCoral,coralLight:ne.colours.piColorAccentCoralLight,teal:ne.colours.piColorAccentTeal,tealLight:ne.colours.piColorAccentTealLight,tealLighter:ne.colours.piColorAccentTealLighter,tealLightest:ne.colours.piColorAccentTealLightest,aqua:ne.colours.piColorAccentAqua,yellow:ne.colours.piColorAccentYellow,yellowLight:"#FFFAEC",dangerRed:ne.colours.piColorAccentDangerred,blue:ne.colours.piColorAccentBlue,magentaLight:ne.colours.piColorAccentMagentaLight,magenta:ne.colours.piColorAccentMagenta},functionalAccent:{warningOrangeDark:"#F58C0A",warningOrangeLight:"#FEEFD9",errorRedDark:"#D90941",errorRedLight:"#F9D9E2",infoBlueDark:"#217ACE",infoBlueLight:"#E5F1F5",successGreenDark:"#3CB38E",successGreenLight:"#E2F5EF"}},re.shadows={shadowFocus:"0 0 8px #ccc",shadowSubtle:"0 0 8px rgba(0,0,0,0.4)",faint:"0 -4px 8px 3px rgba(0,0,0,.1)",medium:"3px 3px 17px -6px rgba(0,0,0,0.5)",heavy:"0px 6px 17px -2px rgba(0,0,0,0.6)"},re.fontWeights={normal:"normal",bold:"bold"},re.fontSizes={xs:"0.75rem",s:"0.875rem",base:"1rem",m:"1.188rem",l:"1.4375rem",xl:"2.313rem",xxl:"2.563rem",xxxl:"3.063rem",h1:"2.563rem",h2:"2.313rem",h3:"1.438rem",h4:"1.188rem",h5:"1rem",h6:"0.875rem",subtext:"0.75rem",priceXlarge:"2.25rem",priceLarge:"1.813rem",priceMid:"1.4375rem",priceSmall:"1.188rem",priceXsmall:"0.8125rem"},re.lineHeight={xxs:ne.variables.lineHeightXxs,subtext:ne.variables.lineHeightSubtext,xs:ne.variables.lineHeightXs,s:ne.variables.lineHeightS,m:ne.variables.lineHeightM,l:ne.variables.lineHeightL,xl:ne.variables.lineHeightXl,xxl:ne.variables.lineHeightXxl,xxxl:ne.variables.lineHeightXxxl},re.spacing={xs:"5px",s:ne.variables.baseSpacingS,b:ne.variables.baseSpacingBase,m:ne.variables.baseSpacingM,l:ne.variables.baseSpacingL,xl:ne.variables.baseSpacingXl},re.margin={xxl:"3rem",xl:"2rem",l:"1.5rem",m:"1rem",s:"0.625rem",xs:"0.5rem",xxs:"0.3rem"},re.borders={none:"none",white:"2px solid "+re.colours.primary.white,secondaryDarkest:"1px solid "+re.colours.secondary.darkest,neutralDark:"1px solid "+re.colours.neutral.dark,greyscaleLight:"1px solid "+re.colours.greyScale.light,greyscaleLighter:"1px solid "+re.colours.greyScale.lighter,greyscaleMid:"1px solid "+re.colours.greyScale.mid,darkNeutralDark:"2px solid "+re.colours.darkNeutral.dark,primaryPurpleHeavy:"2px solid "+re.colours.primary.purple,tertiaryDarkest:"2px solid "+re.colours.secondary.darkest,secondaryDarker:"2px solid "+re.colours.secondary.darker,dangerRedNarrow:"1px solid "+re.colours.accent.dangerRed,dangerRed:"2px solid "+re.colours.accent.dangerRed,functionalRedErrorLight:"1px solid "+re.colours.functionalAccent.errorRedDark,functionalRedErrorHeavy:"3px solid "+re.colours.functionalAccent.errorRedDark,functionalWarningLight:"1px solid "+re.colours.functionalAccent.warningOrangeDark,functionalWarningHeavy:"3px solid "+re.colours.functionalAccent.warningOrangeDark},re.responsive={xs:320,s:576,m:768,l:1280,xl:1440},re.columns={col1:(re.columnWidth=8.33)+"%",col2:2*re.columnWidth+"%",col3:3*re.columnWidth+"%",col4:4*re.columnWidth+"%",col5:5*re.columnWidth+"%",col6:6*re.columnWidth+"%",col7:7*re.columnWidth+"%",col8:8*re.columnWidth+"%",col9:9*re.columnWidth+"%",col10:10*re.columnWidth+"%",col11:11*re.columnWidth+"%",col12:12*re.columnWidth+"%"},re.zIndex={popups:"4",controls:"3",overlay:"2",base:"1"},re.field={height:"2.375rem"},re.buttons={default:{height:"2.5rem",fontSize:re.fontSizes.m},small:{height:"2.188rem",fontSize:re.fontSizes.s},xSmall:{height:"2.188rem",fontSize:re.fontSizes.xs}},re.font={baseFont:ne.variables.baseFont},re);function re(){}var ae,se,le,ce=(e(de,ae=x),de);function de(e){return void 0===e&&(e={}),ae.call(this,F.merge({type:"background-overlay",zIndex:ie.zIndex.popups,display:"none",opacity:"0.4",backgroundColor:ie.colours.greyScale.darkest,height:"100%",width:"100%",position:"fixed",top:"0",left:"0"},e))||this}(le=se=se||{})[le.leisure=0]="leisure",le[le.business=1]="business";function ue(e,t){return e(t={exports:{}},t.exports),t.exports}var he=ue(function(e,t){e.exports=function(){var n="millisecond",l="second",c="minute",d="hour",u="day",h="week",p="month",m="year",o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,f=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},i=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},t={padStart:i,padZoneStr:function(e){var t=Math.abs(e),n=Math.floor(t/60),o=t%60;return(e<=0?"+":"-")+i(n,2,"0")+":"+i(o,2,"0")},monthDiff:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,"months"),i=t-o<0,r=e.clone().add(n+(i?-1:1),"months");return Number(-(n+(t-o)/(i?o-r:r-o)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(e){return{M:p,y:m,w:h,d:u,h:d,m:c,s:l,ms:n}[e]||String(e||"").toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},r="en",a={};a[r]=e;var s=function(e){return e instanceof b},g=function(e,t,n){var o;if(!e)return null;if("string"==typeof e)a[e]&&(o=e),t&&(a[e]=t,o=e);else{var i=e.name;a[i]=e,o=i}return n||(r=o),o},y=function(e,t){if(s(e))return e.clone();var n=t||{};return n.date=e,new b(n)},v=function(e,t){return y(e,{locale:t.$L})},E=t;E.parseLocale=g,E.isDayjs=s,E.wrapper=v;var b=function(){function e(e){this.parse(e)}var t=e.prototype;return t.parse=function(e){var t,n;this.$d=null===(t=e.date)?new Date(NaN):E.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&/.*[^Z]$/i.test(t)&&(n=t.match(o))?new Date(n[1],n[2]-1,n[3]||1,n[5]||0,n[6]||0,n[7]||0,n[8]||0):new Date(t),this.init(e)},t.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||g(e.locale,null,!0)||r},t.$utils=function(){return E},t.isValid=function(){return!("Invalid Date"===this.$d.toString())},t.$compare=function(e){return this.valueOf()-y(e).valueOf()},t.isSame=function(e){return 0===this.$compare(e)},t.isBefore=function(e){return this.$compare(e)<0},t.isAfter=function(e){return this.$compare(e)>0},t.year=function(){return this.$y},t.month=function(){return this.$M},t.day=function(){return this.$W},t.date=function(){return this.$D},t.hour=function(){return this.$H},t.minute=function(){return this.$m},t.second=function(){return this.$s},t.millisecond=function(){return this.$ms},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var o=this,i=!!E.isUndefined(t)||t,n=function(e,t){var n=v(new Date(o.$y,t,e),o);return i?n:n.endOf(u)},r=function(e,t){return v(o.toDate()[e].apply(o.toDate(),i?[0,0,0,0].slice(t):[23,59,59,999].slice(t)),o)};switch(E.prettyUnit(e)){case m:return i?n(1,0):n(31,11);case p:return i?n(1,this.$M):n(0,this.$M+1);case h:return n(i?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case u:case"date":return r("setHours",0);case d:return r("setMinutes",1);case c:return r("setSeconds",2);case l:return r("setMilliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){switch(E.prettyUnit(e)){case u:this.$d.setDate(this.$D+(t-this.$W));break;case"date":this.$d.setDate(t);break;case p:this.$d.setMonth(t);break;case m:this.$d.setFullYear(t);break;case d:this.$d.setHours(t);break;case c:this.$d.setMinutes(t);break;case l:this.$d.setSeconds(t);break;case n:this.$d.setMilliseconds(t)}return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.add=function(o,e){var i=this;o=Number(o);var t,n=E.prettyUnit(e),r=function(e,t){var n=i.set("date",1).set(e,t+o);return n.set("date",Math.min(i.$D,n.daysInMonth()))},a=function(e){var t=new Date(i.$d);return t.setDate(t.getDate()+e*o),v(t,i)};if(n===p)return r(p,this.$M);if(n===m)return r(m,this.$y);if(n===u)return a(1);if(n===h)return a(7);switch(n){case c:t=6e4;break;case d:t=36e5;break;case l:t=1e3;break;default:t=1}var s=this.valueOf()+o*t;return v(s,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,n=e||"YYYY-MM-DDTHH:mm:ssZ",o=E.padZoneStr(this.$d.getTimezoneOffset()),i=this.$locale(),r=i.weekdays,a=i.months,s=function(e,t,n,o){return e&&e[t]||n[t].substr(0,o)};return n.replace(f,function(e){if(e.indexOf("[")>-1)return e.replace(/\[|\]/g,"");switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return String(t.$y);case"M":return String(t.$M+1);case"MM":return E.padStart(t.$M+1,2,"0");case"MMM":return s(i.monthsShort,t.$M,a,3);case"MMMM":return a[t.$M];case"D":return String(t.$D);case"DD":return E.padStart(t.$D,2,"0");case"d":return String(t.$W);case"dd":return s(i.weekdaysMin,t.$W,r,2);case"ddd":return s(i.weekdaysShort,t.$W,r,3);case"dddd":return r[t.$W];case"H":return String(t.$H);case"HH":return E.padStart(t.$H,2,"0");case"h":case"hh":return 0===t.$H?12:E.padStart(t.$H<13?t.$H:t.$H-12,"hh"===e?2:1,"0");case"a":return t.$H<12?"am":"pm";case"A":return t.$H<12?"AM":"PM";case"m":return String(t.$m);case"mm":return E.padStart(t.$m,2,"0");case"s":return String(t.$s);case"ss":return E.padStart(t.$s,2,"0");case"SSS":return E.padStart(t.$ms,3,"0");case"Z":return o;default:return o.replace(":","")}})},t.diff=function(e,t,n){var o=E.prettyUnit(t),i=y(e),r=this-i,a=E.monthDiff(this,i);switch(o){case m:a/=12;break;case p:break;case"quarter":a/=3;break;case h:a=r/6048e5;break;case u:a=r/864e5;break;case d:a=r/36e5;break;case c:a=r/6e4;break;case l:a=r/1e3;break;default:a=r}return n?a:E.absFloor(a)},t.daysInMonth=function(){return this.endOf(p).$D},t.$locale=function(){return a[this.$L]},t.locale=function(e,t){var n=this.clone();return n.$L=g(e,t,!0),n},t.clone=function(){return v(this.toDate(),this)},t.toDate=function(){return new Date(this.$d)},t.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},t.toJSON=function(){return this.toISOString()},t.toISOString=function(){return this.toDate().toISOString()},t.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},t.toString=function(){return this.$d.toUTCString()},e}();return y.extend=function(e,t){return e(t,b,y),y},y.locale=g,y.isDayjs=s,y.unix=function(e){return y(1e3*e)},y.en=a[r],y}()}),pe=Object.freeze({default:he,__moduleExports:he}),me=setTimeout;function fe(){}function ge(e){if(!(this instanceof ge))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ce(e,this)}function ye(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,ge._immediateFn(function(){var e,t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void Ee(o.promise,e)}ve(o.promise,e)}else(1===n._state?ve:Ee)(o.promise,n._value)})):n._deferreds.push(o)}function ve(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof ge)return t._state=3,t._value=e,void be(t);if("function"==typeof n)return void Ce((o=n,i=e,function(){o.apply(i,arguments)}),t)}t._state=1,t._value=e,be(t)}catch(e){Ee(t,e)}var o,i}function Ee(e,t){e._state=2,e._value=t,be(e)}function be(e){2===e._state&&0===e._deferreds.length&&ge._immediateFn(function(){e._handled||ge._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)ye(e,e._deferreds[t]);e._deferreds=null}function we(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Ce(e,t){var n=!1;try{e(function(e){n||(n=!0,ve(t,e))},function(e){n||(n=!0,Ee(t,e))})}catch(e){if(n)return;n=!0,Ee(t,e)}}ge.prototype.catch=function(e){return this.then(null,e)},ge.prototype.then=function(e,t){var n=new this.constructor(fe);return ye(this,new we(e,t,n)),n},ge.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},ge.all=function(t){return new ge(function(i,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(t);if(0===a.length)return i([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(e){t(n,e)},r)}a[n]=e,0==--s&&i(a)}catch(e){r(e)}}(e,a[e])})},ge.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ge?t:new ge(function(e){e(t)})},ge.reject=function(n){return new ge(function(e,t){t(n)})},ge.race=function(i){return new ge(function(e,t){for(var n=0,o=i.length;n<o;n++)i[n].then(e,t)})},ge._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){me(e,0)},ge._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Se=ge,Le=function(e,t){this.width=e,this.height=t},De=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},Oe=(Object.defineProperty(_e.prototype,"target",{get:function(){return this.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(_e.prototype,"type",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(_e.prototype,"data",{get:function(){return this.eventData},set:function(e){this.eventData=e},enumerable:!0,configurable:!0}),Object.defineProperty(_e.prototype,"sourceEvent",{get:function(){return this.eventSourceEvent},enumerable:!0,configurable:!0}),_e);function _e(e,t,n,o){this.eventType=e,this.eventTarget=t,this.eventSourceEvent=o,this.eventData=n}var Te=(Ae.prototype.hasEventListener=function(e,t){var n,o,i=!1;try{for(var r=De(this.listeners),a=r.next();!a.done;a=r.next()){var s=a.value;s.type===e&&s.listener===t&&(i=!0)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return i},Ae.prototype.addEventListener=function(e,t,n,o,i,r){void 0===i&&(i=!1),this.hasEventListener(t,n)||this.listeners.push({scope:e,type:t,listener:n,useCapture:i,scopedEventListener:r,data:o})},Ae.prototype.removeEventListener=function(t,n){var e=this.listeners.filter(function(e){return e.type===t&&e.listener.toString()===n.toString()});return this.listeners=this.listeners.filter(function(e){return!(e.type===t&&e.listener.toString()===n.toString())}),e[0]},Ae.prototype.dispatchEvent=function(e){Ae.logEvents&&console.log("event dispatch: ",e);try{for(var t=De(this.listeners),n=t.next();!n.done;n=t.next()){var o=n.value;o.type===e.type&&(o.data&&(e.data=o.data),o.listener.call(o.scope,e))}}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}}var i,r},Ae.logEvents=!1,Ae);function Ae(){this.listeners=[]}var Ie=(Re.style=function(e,t){var n,o=e.element?e.element:e;for(n in t)t.hasOwnProperty(n)&&(o.style[n]=t[n])},Re);function Re(){}var Ne=(ke.setRules=function(t,e){matchMedia&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){ke.addListeners(t,e)}))},ke.addListeners=function(e,t){var n;t.minWidth&&t.maxWidth?n="(min-width: "+(t.minWidth+1)+"px) and (max-width: "+t.maxWidth+"px)":(t.minWidth&&(n="(min-width: "+(t.minWidth+1)+"px)"),t.maxWidth&&(n="(max-width: "+t.maxWidth+"px)")),ke.applyRuleAddListener(e,t,n)},ke.applyRuleAddListener=function(t,n,e){var o=window.matchMedia(e);ke.applyRule(t,n,o),o.addListener(function(e){ke.applyRule(t,n,e)})},ke.applyRule=function(e,t,n){n.matches&&(t.duration&&0!==t.duration?e.to({duration:t.duration,toVars:t.style}):Ie.style(e,t.style))},ke);function ke(){}var Pe,xe,Me=(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Be=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},He=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Be(arguments[t]));return e},Fe=(Me(Ue,xe=Te),Object.defineProperty(Ue.prototype,"timeouts",{get:function(){return this.timeoutsArray},enumerable:!0,configurable:!0}),Ue.prototype.killAnimations=function(){this.timeoutsArray.forEach(function(e){clearTimeout(e)}),this.timeoutsArray=[]},Ue.prototype.addToBody=function(){document.body.appendChild(this.htmlElement)},Ue.prototype.style=function(e){Ie.style(this.htmlElement,e)},Ue.prototype.className=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.reduce(function(e,t){return e+" "+t});this.htmlElement.className?this.htmlElement.className=this.htmlElement.className+" "+n:this.htmlElement.className=n},Ue.prototype.insertBefore=function(e,t){e&&e.element&&this.htmlElement.insertBefore(e.element,t.element)},Ue.prototype.appendChild=function(e){e&&e.element&&this.element.appendChild(e.element)},Ue.prototype.addChild=function(e){this.appendChild(e)},Ue.prototype.removeChild=function(e){e&&this.htmlElement===e.htmlElement.parentNode&&this.htmlElement.removeChild(e.htmlElement)},Ue.prototype.removeAllChildren=function(){for(;this.htmlElement.hasChildNodes();)this.htmlElement.removeChild(this.htmlElement.lastChild)},Ue.prototype.to=function(n){var o=this,t=10;return n.delay&&(t=1e3*n.delay),this.timeoutsArray.push(setTimeout(function(){for(var e in n.toVars){var t;n.toVars.hasOwnProperty(e)&&(t={duration:0,count:0},0<=n.duration&&(t.duration=n.duration),o.transitions[e]&&(t.count=o.transitions[e].count+1),o.transitions[e]=t)}Ie.style(o.htmlElement,{transition:o.convertTransitionObjectToString(o.transitions)}),n.ease&&Ie.style(o.htmlElement,{transitionTimingFunction:n.ease.toString()}),Ie.style(o.htmlElement,n.toVars)},t)),n.resolve?(this.timeoutsArray.push(setTimeout(function(){Ie.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),o.dispatchEvent(new Oe(Ue.TRANSITION_COMPLETE,o)),n.resolve(o)},1e3*n.duration+t)),null):new Se(function(e){o.timeoutsArray.push(setTimeout(function(){Ie.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),e(o),o.dispatchEvent(new Oe(Ue.TRANSITION_COMPLETE,o))},1e3*n.duration+t))})},Ue.prototype.fromTo=function(t){var n=this;return t.delay?(t.delay=1e3*t.delay,t.immediateRender&&Ie.style(this.htmlElement,t.fromVars)):(Ie.style(this.htmlElement,t.fromVars),t.delay=10),new Se(function(e){n.timeoutsArray.push(setTimeout(function(){Ie.style(n.htmlElement,t.fromVars),n.timeoutsArray.push(setTimeout(function(){n.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:e})},10))},t.delay))})},Ue.prototype.addEventListener=function(t,n,o,i,e){void 0===e&&(e=!1);function r(e){o.apply(t,[new Oe(n,a,i,e)])}var a=this;xe.prototype.addEventListener.call(this,t,n,o,i,e,r),this.htmlElement.addEventListener?this.htmlElement.addEventListener(n,r,e):this.htmlElement.attachEvent&&(this.htmlElement.attachEvent("on"+n,r),this.htmlElement.attachEvent("onpropertychange",function(e){e.eventType===n&&(e.cancelBubble=!0,e.returnValue=!1,e.data=e.customData,r(e))}))},Ue.prototype.removeEventListener=function(e,t){var n=xe.prototype.removeEventListener.call(this,e,t);return n&&(this.htmlElement.removeEventListener?this.htmlElement.removeEventListener(e,n.scopedEventListener,n.useCapture):this.htmlElement.detachEvent&&this.htmlElement.detachEvent("on"+e,t)),n},Ue.prototype.hide=function(){this.originalDisplay="none"!==this.htmlElement.style.display?this.htmlElement.style.display:"",Ie.style(this.htmlElement,{display:"none"})},Ue.prototype.show=function(){var e=this.originalDisplay;e&&""!==e||(e="block"),Ie.style(this.htmlElement,{display:e})},Ue.prototype.fillContainer=function(){Ie.style(this.htmlElement,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},Ue.prototype.centreHorizontal=function(){Ie.style(this.htmlElement,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},Ue.prototype.centreHorizontalText=function(){Ie.style(this.htmlElement,{textAlign:"center"})},Ue.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ue.prototype.responsive=function(e){Ne.setRules(this,e)},Ue.prototype.convertTransitionObjectToString=function(e){var t,n="";for(t in e){e.hasOwnProperty(t)&&(""!==n&&(n+=", "),n+=this.camelToHyphen(t)+" "+e[t].duration+"s",e[t].delay&&(n+=" "+e[t].delay+"s"))}return n},Ue.prototype.removeCompletedTransitionsAndReapply=function(e){for(var t in e)this.transitions[t]&&(0<this.transitions[t].count?this.transitions[t].count--:delete this.transitions[t]);return this.convertTransitionObjectToString(this.transitions)},Ue.prototype.camelToHyphen=function(e){return e.replace(/[a-z][A-Z]/g,function(e){var t=e.split("");t[2]=t[1],t[1]="-",t[2]=t[2].toLowerCase();var n="";return t.map(function(e){n+=e}),n})},Object.defineProperty(Ue.prototype,"width",{get:function(){return this.shadow().width},set:function(e){"number"==typeof e&&(e+="px"),Ie.style(this.htmlElement,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"height",{get:function(){return this.shadow().height},set:function(e){Ie.style(this.htmlElement,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"y",{get:function(){return this.htmlElement.offsetTop},set:function(e){Ie.style(this.htmlElement,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"x",{get:function(){return this.htmlElement.offsetLeft},set:function(e){Ie.style(this.htmlElement,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"alpha",{get:function(){return parseFloat(this.htmlElement.style.opacity)},set:function(e){Ie.style(this.htmlElement,{opacity:e.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"data",{get:function(){return this.instanceData},set:function(e){this.instanceData=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"innerText",{get:function(){return this.htmlElement.innerText},set:function(e){this.htmlElement.innerText=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"textContent",{get:function(){return this.htmlElement.textContent},set:function(e){this.htmlElement.textContent=e},enumerable:!0,configurable:!0}),Ue.prototype.shadow=function(){if(document.body.contains(this.htmlElement))return this.dimensionsPolyfill();var e=this.htmlElement.parentElement;document.body.appendChild(this.htmlElement);var t=this.dimensionsPolyfill();return document.body.removeChild(this.htmlElement),e?e.appendChild(this.htmlElement):document.body.removeChild(this.htmlElement),t},Ue.prototype.dimensionsPolyfill=function(){var e=this.htmlElement.getBoundingClientRect().height,t=this.htmlElement.getBoundingClientRect().width;return t||(t=this.htmlElement.scrollWidth,e=this.htmlElement.scrollHeight),new Le(t,e)},Object.defineProperty(Ue.prototype,"value",{get:function(){return this.htmlElement.value},set:function(e){this.htmlElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"id",{get:function(){return this.htmlElement.id},set:function(e){this.htmlElement.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"element",{get:function(){return this.htmlElement},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"innerHtml",{get:function(){return this.htmlElement.innerHTML},set:function(e){this.htmlElement.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"href",{get:function(){return this.htmlElement.href},set:function(e){this.htmlElement.href=e},enumerable:!0,configurable:!0}),Ue.TRANSITION_COMPLETE="TRANSITION_COMPLETE",Ue);function Ue(e){var t=xe.call(this)||this;if(t.transitions={},t.timeoutsArray=[],t.originalDisplay="block",e){for(var n in e.root&&!document.getElementById("app")?(t.htmlElement=document.createElement("div"),t.htmlElement.style.position="absolute",t.htmlElement.style.height="100%",t.htmlElement.style.width="100%",t.htmlElement.style.top="0px",t.htmlElement.style.left="0px",t.htmlElement.style.margin="0px",t.htmlElement.id="app",document.body.appendChild(t.htmlElement)):e.type?t.htmlElement=document.createElement(e.type):t.htmlElement=document.createElement("div"),e.id&&(t.htmlElement.id=e.id),e.text&&(t.htmlElement.textContent=e.text),e.name&&"select"===e.type&&(t.htmlElement.name=e.name),e.attributes)e.attributes.hasOwnProperty(n)&&t.htmlElement.setAttribute(n,e.attributes[n]);t.instanceData=e.data,e.styles&&e.styles.forEach(function(e){Ie.style(t.htmlElement,e)}),Ie.style(t.htmlElement,e.style),e.className&&t.className.apply(t,He(e.className)),Ie.style(t.htmlElement,e),e.responsive&&t.responsive(e.responsive)}else t.htmlElement=document.createElement("div");return t}var Ge=(je.merge=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),Array.isArray(t)&&0===Object.keys(e).length)e=[].concat(t);else if("object"!=typeof e||"object"!=typeof t)e=t;else{for(var o in t)if(t.hasOwnProperty(o)){if("object"==typeof t[o]){e[o]=n?je.immutableMerge(e[o],t[o]):je.merge(e[o],t[o]);continue}e[o]=t[o]}t instanceof Date&&(e=t)}return e},je.immutableMerge=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.merge({},e,!0);return this.merge(n,t,!0)},je.flattenConfigStyles=function(e){if(e){var t=e;return e.styles&&e.styles.map(function(e){je.merge(t,e)}),e.style&&je.merge(t,e.style),t}return{}},je);function je(){}var We,Ve;(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}We(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Ye,Ve=Fe),Ye.prototype.over=function(){var e;this.styles.hover&&(e=Ge.flattenConfigStyles(this.styles.hover),this.to({duration:this.styles.hover.durationIn,toVars:e}))},Ye.prototype.out=function(){if(this.styles.hover){var e,t=Ge.flattenConfigStyles(this.styles.hover),n=Ge.flattenConfigStyles(this.styles),o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=n[e]?n[e]:"inherit");this.to({duration:this.styles.hover.durationOut,toVars:o})}},Ye.prototype.updateStyle=function(e){void 0===e&&(e={}),this.styles=Ge.flattenConfigStyles(e)};function Ye(e){var t=Ve.call(this,e)||this;return t.styles=Ge.flattenConfigStyles(e),t.addEventListener(t,"mouseover",t.over),t.addEventListener(t,"mouseout",t.out),t}var ze,$e;(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Ke,$e=Fe),Ke.prototype.update=function(e){(e=decodeURIComponent(e))!==this.currentPageName&&(this.routes&&history.pushState(null,null,e),this.changePage(e))},Ke.prototype.changePage=function(e){var t,n,o=this;this.currentPageName=e,this.config.pages[e]?(clearTimeout(this.delayTimeout),this.currentPage&&(this.currentPage.sleep&&this.currentPage.sleep(),this.config.delayTransition?(t=this.currentPage,this.delayTimeout=setTimeout(function(){o.removeChild(t)},1e3*this.config.delayTransition)):this.removeChild(this.currentPage)),this.pages[e]||(n=new this.config.pages[e].view(this.config.pages[e].payload),this.pages[e]=n),this.currentPage=this.pages[e],this.currentPage.wake&&this.currentPage.wake(),this.addChild(this.currentPage)):this.config.redirect?this.update("/"):this.config.errorPage&&this.changePage(this.config.errorPage)};function Ke(e){var n=$e.call(this,{id:e.id,style:{position:"relative"}})||this;return n.pages={},n.routes=!0,n.config=e,n.style(e.style),!1===e.routes&&(n.routes=!1),n.routes&&(window.addEventListener("popstate",function(e){var t=null===e.state?window.location.pathname:e.state;n.changePage(t)}),n.changePage(window.location.pathname)),n}var qe,Qe;(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}qe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Xe,Qe=Fe);function Xe(){return Qe.call(this,{root:!0})||this}var Ze,Je,et,tt;nt.scrollY=function(){var e=document.body.scrollTop;return 0===e&&(e=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),e},nt.scrollX=function(){var e=document.body.scrollLeft;return 0===e&&(e=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),e},Object.defineProperty(nt,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(nt,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0});function nt(){}(Je=Ze=Ze||{})[Je.Distance=1]="Distance",Je[Je.Price=2]="Price",(tt=et=et||{})[tt.Map=1]="Map",tt[tt.List=2]="List";var ot=(it.LOCATION_FORMATS={managedPlaceId:"MANAGED-PLACEID",placeId:"PLACEID",latLong:"LATLONG"},it.LOCALE={GB:{language:"en",country:"GB",currencyCode:"GBP",dateFormat:{short:"YYYY-MM-DD",long:"ddd D MMM YYYY",standard:"DD MMM YYYY"},distanceFormat:"MILES",currencyFirst:!0},DE:{language:"de",country:"DE",currencyCode:"EUR",dateFormat:{short:"YYYY-MM-DD",long:"dd. D MMM YYYY",standard:"DD MMM YYYY"},distanceFormat:"KILOMETERS",currencyFirst:!1}},it.CURRENCY={EUR:"€",GBP:"£"},it.VIEW={MAP:"1",LIST:"2"},it.SORT={DISTANCE:"1",PRICE:"2"},it.facilityCodes={parking:["CPF","CPP","OP","COP"],airCon:["ACO","HAC"],accessibleRoom:["WET","LWB"]},it.ROOM_CODES={FAM:{code:"FAM",name:"family"},SB:{code:"SB",name:"single"},DB:{code:"DB",name:"double"},DIS:{code:"DIS",name:"accessible"},TWIN:{code:"TWIN",name:"twin"}},it.errorResponse={availabilities:"https://de93c997-7ae8-44a5-8531-661361ba047c.mock.pstmn.io/"},it.DEFAULT_BOOKING_CHANNEL="WEB",it);function it(){}var rt=(at.formatDateTimeString=function(e,t){var n=e.split("/");return new Date(n[2],n[1]-1,n[0],t,0,0,0)},at.getWeekday=function(e){var t=this.formatDateTimeString(e,0);return this.WEEK_DAYS[t.getDay()]},at.addLeadingZero=function(e){return("0"+e).slice(-2)},at.getCurrentTime=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();return this.addLeadingZero(t)+":"+this.addLeadingZero(n)},at.formatDate=function(e){var t=new Date(e);return this.addLeadingZero(t.getDate())+"/"+this.addLeadingZero(t.getMonth()+1)+"/"+t.getFullYear()},at.setStartOfUTCDay=function(e){return e.setUTCHours(0,0,0,0)},at.getFutureDate=function(e,t){var n=e.getFullYear(),o=e.getMonth(),i=e.getDate(),r=new Date(n,o,i);return r.setDate(i+t),r},at.getDateFormat=function(e,t){return e===ot.LOCALE.DE.country?ot.LOCALE.DE.dateFormat[t]:ot.LOCALE.GB.dateFormat[t]},at.WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],at);function at(){}var st=function(e,t){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function lt(e,t){function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function dt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var ht,pt=(lt(mt,ht=Error),mt);function mt(e,t){var n=ht.call(this,"Error code: "+t+", Description: "+e)||this;return n.description=e,n.code=t,n}var ft=(gt.padLeft=function(e){return e<10?"0"+e.toString():e.toString()},gt.buildCSVString=function(e,t){return""!==e?e+","+t:t},gt.pluralise=function(e,t,n){return 0<e?1===e?e+" "+t:e+" "+n:""},gt.countNonWhitespaceCharacters=function(e){return e.replace(/\s/g,"").length},gt.alphaStripper=function(e){var t=new RegExp(/(alpha)(2)?(-)/gi);return e.replace(t,"")},gt.isRegexValid=function(e,t){return e.test(t)},gt.capitalise=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gt);function gt(){}var yt=(vt.create=function(e){var t=e.brand,n=e.domain,o=e.detailsPage,i=e.hotelsPath,r=e.stayDetails,a=e.miscParams;return""+n+vt.resolveEnvironment()+i+ft.alphaStripper(o)+".html"+vt.buildParameters(r,t,a)},vt.resolveEnvironment=function(){var e=window.location.hostname.match(/whitbread.digital/)||window.location.hostname.match(/premierinn/)?window.location.hostname.replace(/.*?\./i,""):"premierinn.com";return e},vt.buildParameters=function(e,t,n){var o,i,r,a=[],s=e.roomData,l=e.arrivalDate,c=e.nights,d=e.cellCodes;if(e.dateless||(s&&(r=s.reduce(function(e,t,n){return e.push("ADULT"+(n+1)+"="+t.adults),e.push("CHILD"+(n+1)+"="+t.children),e.push("COT"+(n+1)+"="+(t.cot?1:0)),e.push("INTTYP"+(n+1)+"="+t.roomType),e},[]),a.push("ARRdd="+ft.padLeft(l.getDate())),a.push("ARRmm="+ft.padLeft(l.getMonth()+1)),a.push("ARRyyyy="+l.getFullYear()),a.push("NIGHTS="+c),a.push("ROOMS="+s.length),a=ut(a,r),t&&a.push("BRAND="+t)),d&&a.push("CELLCODES="+d)),n)try{for(var u=dt(Object.keys(n)),h=u.next();!h.done;h=u.next()){var p=h.value;a.push(p+"="+n[p])}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return 0===a.length?"":"?"+a.join("&")},vt);function vt(){}var Et=(bt.userLogOut=function(e){void 0===e&&(e="");var t=window.Header?window.Header.USER_LOG_OUT:"USER_LOG_OUT";window.postMessage({action:t,reason:e},"*")},bt.loginDisplay=function(){var e=window.Header?window.Header.HEADER_LOGIN_DISPLAY:"HEADER_LOGIN_DISPLAY";window.postMessage({action:e},"*")},bt.isUserLoggedIn=function(e){var t=window.Header?window.Header.IS_USER_LOGGED_IN:"isUserLoggedIn";window.postMessage({action:t,sender:e},"*")},bt.LOG_OUT_REASONS={SESSION_EXPIRED:"SESSION_EXPIRED",DELETE_PROFILE:"DELETE_PROFILE"},bt);function bt(){}var wt,Ct=(lt(St,wt=Te),St.get=function(e){return this.load(e,this.httpMethods.GET)},St.post=function(e){return this.load(e,this.httpMethods.POST)},St.put=function(e){return this.load(e,this.httpMethods.PUT)},St.update=function(e){return this.load(e,this.httpMethods.UPDATE)},St.delete=function(e){return this.load(e,this.httpMethods.DELETE)},St.load=function(r,a){var s=this;return new Se(function(e,t){var n,o,i=window.XDomainRequest;XMLHttpRequest?(n=new XMLHttpRequest,a===St.httpMethods.GET&&(r.url=r.url+s.concatParams(r.params)),n.open(a,r.url,!0),n.timeout=2e4,r.headers&&r.headers.map(function(e){n.setRequestHeader(e.value,e.variable)}),n.onload=function(){return s.loaded(n,e,t)},n.ontimeout=function(){return s.loaded(n,e,t)},n.onerror=function(){return t(new Error("Network Error"))},n.send(r.params)):((o=new i).open(a,r.url),o.onload=function(){return e(o.responseText)},o.onerror=function(){return t(new Error("Network Error"))},setTimeout(function(){o.send()},0))})},St.concatParams=function(e){var t,n="?";for(t in e)e.hasOwnProperty(t)&&(n=""+n+t+"="+encodeURI(e[t])+"&");return n=n.slice(0,-1)},St.loaded=function(e,t,n){if(200===e.status||201===e.status)return t(JSON.parse(e.responseText));var o=void 0;return 0===e.status?(o.details="Network Error 0x2ee7",o.code=e.status):o=JSON.parse(e.responseText),n(new pt(JSON.stringify(o.details),o.code))},St.httpMethods={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE",UPDATE:"UPDATE"},St.COMPLETE="COMPLETE",St.ERROR="ERROR",St);function St(){return null!==wt&&wt.apply(this,arguments)||this}var Lt=(Dt.get=function(e,h){var t=Dt.buildAvailabilityRequest(e,h);return Ct.get({url:t.url,params:t.params}).then(function(e){var t=e.hotelBrand,n=e.hotelCode,o=e.available,i=e.ratePlans,r=e.notes,a=e.sessionId,s=e.arrivalDateToday,l=e.limitedAvailability,c=e.prepaymentAllowed,d=e.totalNights,u=e.totalGuests;return o?Dt.hotelData(t,n,h.hotelDirectoryPath).then(function(e){return{available:!0,code:n,hotelData:{brand:t,detailsPage:e.links.detailsPage},ratePlans:i,notes:r,sessionId:a,arrivalDateToday:s,limitedAvailability:l,prepaymentAllowed:c,totalNights:d,totalGuests:u}}):{available:!1,code:n,hotelData:{brand:"",detailsPage:""},ratePlans:[],notes:r,sessionId:a,arrivalDateToday:s,limitedAvailability:l,prepaymentAllowed:c,totalNights:d,totalGuests:u}})},Dt.hotelData=function(o,i,r){return new Promise(function(t,e){var n=Dt.buildHotelDataRequest(o,i,r);return Ct.get({url:n}).then(function(e){t(e)}).catch(function(){e()})})},Dt.buildHotelDataRequest=function(e,t,n){return n+"/"+(e="hub"===e.toLowerCase()?e.toLowerCase()+"/":"")+(t.charAt(0)+"/")+(t=t.toUpperCase())+".complete.data"},Dt.buildAvailabilityRequest=function(e,t){var n=e.hotelCode,o=e.roomData,i=e.cellCodes,r=e.departureDate,a=e.arrivalDate,s=e.bookingChannel,l=e.companyId,c=e.employeeId,d=e.sessionId,u=rt.getDateFormat(t.locale,"short"),h=i&&"string"==typeof i?[i.toUpperCase()]:[],p=o.reduce(function(e,t){var n=t.adults,o=t.children,i=t.cot,r=t.roomType;return{adults:ft.buildCSVString(e.adults,n.toString()),children:ft.buildCSVString(e.children,o.toString()),cot:ft.buildCSVString(String(e.cot),String(i)),roomType:ft.buildCSVString(e.roomType,r)}},{adults:"",children:"",cot:"",roomType:""}),m=t.availability,f=""+m.domain+m.preMethod+"/"+n+m.postMethod,g=p.adults,y=p.children,v=p.cot,E=p.roomType;return{params:ct(ct(ct({bookingChannel:s||ot.DEFAULT_BOOKING_CHANNEL,arrival:he(a).format(u),departure:he(r).format(u),cellCodes:h,hotelCode:n,adults:g,children:y,cot:v,type:E,rooms:o.length},l&&{companyId:l}),c&&{employeeId:c}),d&&{sessionId:d}),url:f}},Dt);function Dt(){}var Ot=(_t.get=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return localStorage.getItem(t)}},_t.set=function(e,t){"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},_t.availability=function(){try{return window.sessionStorage.setItem("testKey","test"),window.sessionStorage.removeItem("testKey"),!0}catch(e){return!1}},_t);function _t(){}var Tt=(At.updateRoute=function(e){window.location.href=e},At.parseUrlLocation=function(e){var t=e.split(",");if(2===t.length){var n=parseFloat(t[0]),o=parseFloat(t[1]);if(n&&o)return{latitude:n,longitude:o}}return null},At.parseUrlDate=function(e,t,n){var o=Number(e),i=Number(t),r=Number(n);if(isNaN(o)||isNaN(i)||isNaN(r)||0===o||0===i||0===r)return null;var a=new Date(r+"-"+rt.addLeadingZero(i)+"-"+rt.addLeadingZero(o));return isNaN(a.getTime())?null:new Date(a.getTime()+6e4*a.getTimezoneOffset())},At.isDatelessByArrivalDate=function(e,t,n){return!(e&&t&&n)},At.parseUrlNights=function(e){var t=parseInt(e,10);return 0<=t||t<=0?t:1},At.parseUrlRooms=function(e){var t=parseInt(e,10);return t&&0<t?t:1},At.parseUrlAdults=function(e){var t=parseInt(e,10);return t&&0<t?t:1},At.parseUrlChildren=function(e){var t=parseInt(e,10);return t&&0<=t?t:0},At.parseUrlRoomType=function(e){return e||"DB"},At.parseUrlCot=function(e){return"1"===e||"0"!==e&&null},At.parseUrlView=function(e){return e===ot.VIEW.MAP?et.Map:et.List},At.parseUrlSort=function(e){return e===ot.SORT.PRICE?Ze.Price:Ze.Distance},At.parseStateLocationName=function(e){return e?"searchModel.searchTerm="+e:null},At.parseStatePlaceId=function(e){return e&&0<e.length?"PLACEID="+e:null},At.parseStateLocationCoordinates=function(e){return e&&"number"==typeof e.latitude&&"number"==typeof e.longitude?"LOCATION="+e.latitude+","+e.longitude:null},At.parseStateArrivalDate=function(e){return e&&he(e).isValid()?"ARRdd="+e.getDate()+"&ARRmm="+(e.getMonth()+1)+"&ARRyyyy="+e.getFullYear():null},At.parseStateNights=function(e){return 0<e?"NIGHTS="+e:"NIGHTS=1"},At.parseStateCellCodes=function(e){return"CELLCODES="+e.toUpperCase()},At.parseStateRoomData=function(e){if(e&&e.length){var a=[];if(e.forEach(function(e,t){var n,o,i,r;0<e.adults&&0<=e.children&&e.roomType&&(n="ADULT"+(t+1)+"="+e.adults,o="CHILD"+(t+1)+"="+e.children,i="COT"+(t+1)+"="+(e.cot?1:0),r="INTTYP"+(t+1)+"="+e.roomType,a.push(n,o,i,r))}),a.length)return"ROOMS="+e.length+"&"+a.join("&")}return"ROOMS=1&ADULT1=1&CHILD1=0&COT1=0&INTTYP1=DB"},At.parseStateFilter=function(e){return e&&e.length?e:""},At.parseBookingChannel=function(e){return"BOOKINGCHANNEL="+e.toUpperCase()},At.parseNumberParam=function(e,t){return e&&t?e+"="+t:null},At.parseMiscParams=function(t){if(!t)return null;return Object.keys({"searchModel.searchTerm":"",LOCATION:"",PLACEID:"",ARRdd:"",ARRmm:"",ARRyyyy:"",ROOMS:"",ADULT1:"",ADULT2:"",ADULT3:"",ADULT4:"",CHILD1:"",CHILD2:"",CHILD3:"",CHILD4:"",INTTYP1:"",INTTYP2:"",INTTYP3:"",INTTYP4:"",COT1:"",COT2:"",COT3:"",COT4:"",NIGHTS:"",SID:"",CID:"",CELLCODES:"",VIEW:"",SORT:"",FILTERS:"",BRAND:"",CODE:"",BOOKINGCHANNEL:"",CAMPAIGNPRICE:"",ALTPRICE:""}).forEach(function(e){delete t[e]}),t},At.createQS=function(e){var t,n,o="";try{for(var i=dt(Object.keys(e)),r=i.next();!r.done;r=i.next()){var a=r.value;o+="&"+a+"="+e[a]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o.slice(1)},At);function At(){}function It(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(n[o]=e[o]);return n}function Rt(e,t){sn.apply(e,an(t)?t:[t])}function Nt(e,t){var n=e,o=function(e){if(!e)return dn;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||dn.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=nn.default;if(void 0!==e.format){if(!on.call(nn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=nn.formatters[n],i=dn.filter;return"function"!=typeof e.filter&&!an(e.filter)||(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:dn.addQueryPrefix,allowDots:void 0===e.allowDots?dn.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:dn.charsetSentinel,delimiter:void 0===e.delimiter?dn.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:dn.encode,encoder:"function"==typeof e.encoder?e.encoder:dn.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:dn.encodeValuesOnly,filter:i,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:dn.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:dn.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:dn.strictNullHandling}}(t);"function"==typeof o.filter?n=(0,o.filter)("",n):an(o.filter)&&(s=o.filter);var i,r=[];if("object"!=typeof n||null===n)return"";i=t&&t.arrayFormat in rn?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=rn[i],s=s||Object.keys(n);o.sort&&s.sort(o.sort);for(var l=0;l<s.length;++l){var c=s[l];o.skipNulls&&null===n[c]||Rt(r,function e(t,n,o,i,r,a,s,l,c,d,u,h,p){var m,f=t;if("function"==typeof s?f=s(n,f):f instanceof Date?f=d(f):"comma"===o&&an(f)&&(f=f.join(",")),null===f){if(i)return a&&!h?a(n,dn.encoder,p,"key"):n;f=""}if("string"==typeof(m=f)||"number"==typeof m||"boolean"==typeof m||"symbol"==typeof m||"bigint"==typeof m||Qt.isBuffer(f))return a?[u(h?n:a(n,dn.encoder,p,"key"))+"="+u(a(f,dn.encoder,p,"value"))]:[u(n)+"="+u(String(f))];var g,y,v=[];if(void 0===f)return v;y=an(s)?s:(g=Object.keys(f),l?g.sort(l):g);for(var E=0;E<y.length;++E){var b=y[E];r&&null===f[b]||(an(f)?Rt(v,e(f[b],"function"==typeof o?o(n,b):n,o,i,r,a,s,l,c,d,u,h,p)):Rt(v,e(f[b],n+(c?"."+b:"["+b+"]"),o,i,r,a,s,l,c,d,u,h,p)))}return v}(n[c],c,a,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var d=r.join(o.delimiter),u=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),0<d.length?u+d:""}function kt(e,t){var n,o,i,r,a,s,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,d),h=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?p="utf-8":"utf8=%26%2310003%3B"===u[n]&&(p="iso-8859-1"),h=n,n=u.length);for(n=0;n<u.length;++n){n!==h&&((s=-1===(r=-1===(i=(o=u[n]).indexOf("]="))?o.indexOf("="):i+1)?(a=t.decoder(o,mn.decoder,p,"key"),t.strictNullHandling?null:""):(a=t.decoder(o.slice(0,r),mn.decoder,p,"key"),t.decoder(o.slice(r+1),mn.decoder,p,"value")))&&t.interpretNumericEntities&&"iso-8859-1"===p&&(s=s.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),s&&"string"==typeof s&&t.comma&&-1<s.indexOf(",")&&(s=s.split(",")),-1<o.indexOf("[]=")&&(s=pn(s)?[s]:s),hn.call(l,a)?l[a]=Qt.combine(l[a],s):l[a]=s)}return l}function Pt(e,t,n){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,r=0<n.depth&&/(\[[^[\]]*])/.exec(o),a=r?o.slice(0,r.index):o,s=[];if(a){if(!n.plainObjects&&hn.call(Object.prototype,a)&&!n.allowPrototypes)return;s.push(a)}for(var l=0;0<n.depth&&null!==(r=i.exec(o))&&l<n.depth;){if(l+=1,!n.plainObjects&&hn.call(Object.prototype,r[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(r[1])}return r&&s.push("["+o.slice(r.index)+"]"),function(e,t,n){for(var o=t,i=e.length-1;0<=i;--i){var r,a,s,l=e[i];"[]"===l&&n.parseArrays?r=[].concat(o):(r=n.plainObjects?Object.create(null):{},a="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,s=parseInt(a,10),n.parseArrays||""!==a?!isNaN(s)&&l!==a&&String(s)===a&&0<=s&&n.parseArrays&&s<=n.arrayLimit?(r=[])[s]=o:r[a]=o:r={0:o}),o=r}return o}(s,t,n)}}function xt(e,t){var n=function(e){if(!e)return mn;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?mn.charset:e.charset;return{allowDots:void 0===e.allowDots?mn.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:mn.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:mn.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:mn.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:mn.comma,decoder:"function"==typeof e.decoder?e.decoder:mn.decoder,delimiter:"string"==typeof e.delimiter||Qt.isRegExp(e.delimiter)?e.delimiter:mn.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:mn.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:mn.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:mn.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:mn.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:mn.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var o="string"==typeof e?kt(e,n):e,i=n.plainObjects?Object.create(null):{},r=Object.keys(o),a=0;a<r.length;++a)var s=r[a],l=Pt(s,o[s],n),i=Qt.merge(i,l,n);return Qt.compact(i)}var Mt=Object.prototype.hasOwnProperty,Bt=Array.isArray,Ht=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ft={arrayToObject:It,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],r=i.obj[i.prop],a=Object.keys(r),s=0;s<a.length;++s){var l=a[s],c=r[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:r,prop:l}),n.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(Bt(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var o=e.replace(/\+/g," ");if("iso-8859-1"===n)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,n){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",r=0;r<o.length;++r){var a=o.charCodeAt(r);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=o.charAt(r):a<128?i+=Ht[a]:a<2048?i+=Ht[192|a>>6]+Ht[128|63&a]:a<55296||57344<=a?i+=Ht[224|a>>12]+Ht[128|a>>6&63]+Ht[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(r)),i+=Ht[240|a>>18]+Ht[128|a>>12&63]+Ht[128|a>>6&63]+Ht[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function o(i,r,a){if(!r)return i;if("object"!=typeof r){if(Bt(i))i.push(r);else{if(!i||"object"!=typeof i)return[i,r];(a&&(a.plainObjects||a.allowPrototypes)||!Mt.call(Object.prototype,r))&&(i[r]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(r);var e=i;return Bt(i)&&!Bt(r)&&(e=It(i,a)),Bt(i)&&Bt(r)?(r.forEach(function(e,t){var n;Mt.call(i,t)?(n=i[t])&&"object"==typeof n&&e&&"object"==typeof e?i[t]=o(n,e,a):i.push(e):i[t]=e}),i):Object.keys(r).reduce(function(e,t){var n=r[t];return Mt.call(e,t)?e[t]=o(e[t],n,a):e[t]=n,e},e)}},Ut=Ft.arrayToObject,Gt=Ft.assign,jt=Ft.combine,Wt=Ft.compact,Vt=Ft.decode,Yt=Ft.encode,zt=Ft.isBuffer,$t=Ft.isRegExp,Kt=Ft.merge,qt=Object.freeze({default:Ft,__moduleExports:Ft,arrayToObject:Ut,assign:Gt,combine:jt,compact:Wt,decode:Vt,encode:Yt,isBuffer:zt,isRegExp:$t,merge:Kt}),Qt=qt?Ft:qt,Xt=String.prototype.replace,Zt=/%20/g,Jt={RFC1738:"RFC1738",RFC3986:"RFC3986"},en=Qt.assign({default:Jt.RFC3986,formatters:{RFC1738:function(e){return Xt.call(e,Zt,"+")},RFC3986:function(e){return String(e)}}},Jt),tn=Object.freeze({default:en,__moduleExports:en}),nn=tn&&en||tn,on=Object.prototype.hasOwnProperty,rn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},an=Array.isArray,sn=Array.prototype.push,ln=Date.prototype.toISOString,cn=nn.default,dn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Qt.encode,encodeValuesOnly:!1,format:cn,formatter:nn.formatters[cn],indices:!1,serializeDate:function(e){return ln.call(e)},skipNulls:!1,strictNullHandling:!1},un=Object.freeze({default:Nt,__moduleExports:Nt}),hn=Object.prototype.hasOwnProperty,pn=Array.isArray,mn={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Qt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},fn=Object.freeze({default:xt,__moduleExports:xt}),gn={formats:nn,parse:fn?xt:fn,stringify:un?Nt:un},yn=(vn.create=function(e,t,n){var o=e.stayDetails,i=[];return o.name?(o.dateless?i.push(Tt.parseStateLocationName(o.name)):(i=this.parseQueryParamsStayDetails(o),e.app.SORT&&i.push("SORT="+e.app.SORT)),e.app.VIEW&&i.push("VIEW="+e.app.VIEW),o.cellCodes&&i.push(Tt.parseStateCellCodes(o.cellCodes)),e.tracking&&(e.tracking.SID&&i.push("SID="+e.tracking.SID),e.tracking.CID&&i.push("CID="+e.tracking.CID),e.campaign.campaignPrice&&i.push("CAMPAIGNPRICE="+e.campaign.campaignPrice),e.campaign.altPrice&&i.push("ALTPRICE="+e.campaign.altPrice)),e.filters&&i.push("FILTERS="+e.filters),e.preservedQS&&(e.preservedQS.CAMPAIGNSTARTDATE&&i.push("CAMPAIGNSTARTDATE="+e.preservedQS.CAMPAIGNSTARTDATE),e.preservedQS.CAMPAIGNENDDATE&&i.push("CAMPAIGNENDDATE="+e.preservedQS.CAMPAIGNENDDATE)),n&&i.push("CODE="+n),t+"?"+i.join("&")):null},vn.parseQueryParamsStayDetails=function(e){var t=[],n=Tt.parseStateLocationName(e.name);n&&t.push(n);var o=Tt.parseStateLocationCoordinates(e.location);o&&t.push(o);var i=Tt.parseStatePlaceId(e.placeId);i&&t.push(i);var r=Tt.parseStateArrivalDate(e.arrivalDate);r&&t.push(r);var a=Tt.parseStateNights(e.nights);a&&t.push(a);var s=Tt.parseStateRoomData(e.roomData);s&&t.push(s);var l=Tt.parseBookingChannel(e.bookingChannel);return l&&t.push(l),t},vn.discoverEnvironment=function(e,t){var n=gn.parse(t,{ignoreQueryPrefix:!0,delimiter:/&(?=[a-zA-Z0-9.]+\=)/}),o={stayDetails:0===Object.keys(e).length?this.parseStayDetails(n):e,app:{VIEW:Tt.parseUrlView(n.VIEW),SORT:Tt.parseUrlSort(n.SORT)},tracking:{},filters:"",code:"",preservedQS:Tt.parseMiscParams(Ge.immutableMerge(n,{})),campaign:{}};return n.FILTERS&&(o.filters=Tt.parseStateFilter(n.FILTERS)),n.SID&&(o.tracking.SID=n.SID),n.CID&&(o.tracking.CID=n.CID),n.CODE&&(o.code=n.CODE),n.CAMPAIGNPRICE&&(o.campaign.campaignPrice=n.CAMPAIGNPRICE),n.ALTPRICE&&(o.campaign.altPrice=n.ALTPRICE),o},vn.parseStayDetails=function(e){var t={};if(Object.keys(e).length&&e["searchModel.searchTerm"]){if(t.name=e["searchModel.searchTerm"],e.ARRdd&&e.ARRmm&&e.ARRyyyy){e.LOCATION&&(t.location=Tt.parseUrlLocation(e.LOCATION)),e.PLACEID&&(t.placeId=e.PLACEID);var n=Tt.parseUrlDate(e.ARRdd,e.ARRmm,e.ARRyyyy);t.arrivalDate=n,t.nights=Tt.parseUrlNights(e.NIGHTS);var o=[],i=Tt.parseUrlRooms(e.ROOMS);if(i)for(var r=1;r<=i;r++){var a,s,l,c=Tt.parseUrlAdults(e["ADULT"+r]);c&&(a=Tt.parseUrlChildren(e["CHILD"+r]),s=Tt.parseUrlCot(e["COT"+r]),l=Tt.parseUrlRoomType(e["INTTYP"+r]),o.push({adults:c,children:a,cot:s,roomType:l}))}else o.push({adults:1,children:0,cot:!1,roomType:"DB"});t.roomData=o}t.dateless=Tt.isDatelessByArrivalDate(e.ARRdd,e.ARRmm,e.ARRyyyy),e.CELLCODES&&(t.cellCodes=e.CELLCODES),e.BOOKINGCHANNEL&&(t.bookingChannel=e.BOOKINGCHANNEL)}return t},vn);function vn(){}var En=(bn.getParam=function(e,t){var n=t||window.location.search,o=new RegExp(e+"=([^&]*)","i").exec(n);return o&&unescape(o[1])||""},bn.decodeURLParams=function(e){var t=e||window.location.search;return t.slice(t.indexOf("?")+1).split("&").reduce(function(e,t){var n,o=t.indexOf("="),i=t.slice(0,o),r=t.slice(o+1);return Object.assign(e,((n={})[i]=decodeURIComponent(r),n))},{})},bn);function bn(){}function wn(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(n[o]=e[o]);return n}function Cn(e,t){to.apply(e,eo(t)?t:[t])}function Sn(e,t){var n=e,o=function(e){if(!e)return io;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||io.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xn.default;if(void 0!==e.format){if(!Zn.call(Xn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Xn.formatters[n],i=io.filter;return"function"!=typeof e.filter&&!eo(e.filter)||(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:io.addQueryPrefix,allowDots:void 0===e.allowDots?io.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:io.charsetSentinel,delimiter:void 0===e.delimiter?io.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:io.encode,encoder:"function"==typeof e.encoder?e.encoder:io.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:io.encodeValuesOnly,filter:i,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:io.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:io.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:io.strictNullHandling}}(t);"function"==typeof o.filter?n=(0,o.filter)("",n):eo(o.filter)&&(s=o.filter);var i,r=[];if("object"!=typeof n||null===n)return"";i=t&&t.arrayFormat in Jn?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=Jn[i],s=s||Object.keys(n);o.sort&&s.sort(o.sort);for(var l=0;l<s.length;++l){var c=s[l];o.skipNulls&&null===n[c]||Cn(r,function e(t,n,o,i,r,a,s,l,c,d,u,h,p){var m,f=t;if("function"==typeof s?f=s(n,f):f instanceof Date?f=d(f):"comma"===o&&eo(f)&&(f=Yn.maybeMap(f,function(e){return e instanceof Date?d(e):e}).join(",")),null===f){if(i)return a&&!h?a(n,io.encoder,p,"key"):n;f=""}if("string"==typeof(m=f)||"number"==typeof m||"boolean"==typeof m||"symbol"==typeof m||"bigint"==typeof m||Yn.isBuffer(f))return a?[u(h?n:a(n,io.encoder,p,"key"))+"="+u(a(f,io.encoder,p,"value"))]:[u(n)+"="+u(String(f))];var g,y,v=[];if(void 0===f)return v;y=eo(s)?s:(g=Object.keys(f),l?g.sort(l):g);for(var E=0;E<y.length;++E){var b,w=y[E],C=f[w];r&&null===C||(b=eo(f)?"function"==typeof o?o(n,w):n:n+(c?"."+w:"["+w+"]"),Cn(v,e(C,b,o,i,r,a,s,l,c,d,u,h,p)))}return v}(n[c],c,a,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var d=r.join(o.delimiter),u=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),0<d.length?u+d:""}function Ln(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function Dn(e,t){var n,o,i,r,a,s,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,d),h=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?p="utf-8":"utf8=%26%2310003%3B"===u[n]&&(p="iso-8859-1"),h=n,n=u.length);for(n=0;n<u.length;++n){n!==h&&((s=-1===(r=-1===(i=(o=u[n]).indexOf("]="))?o.indexOf("="):i+1)?(a=t.decoder(o,lo.decoder,p,"key"),t.strictNullHandling?null:""):(a=t.decoder(o.slice(0,r),lo.decoder,p,"key"),Yn.maybeMap(Ln(o.slice(r+1),t),function(e){return t.decoder(e,lo.decoder,p,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===p&&(s=s.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<o.indexOf("[]=")&&(s=so(s)?[s]:s),ao.call(l,a)?l[a]=Yn.combine(l[a],s):l[a]=s)}return l}function On(e,t,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,a=0<n.depth&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,l=[];if(s){if(!n.plainObjects&&ao.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var c=0;0<n.depth&&null!==(a=r.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&ao.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(e,t,n,o){for(var i=o?t:Ln(t,n),r=e.length-1;0<=r;--r){var a,s,l,c=e[r];"[]"===c&&n.parseArrays?a=[].concat(i):(a=n.plainObjects?Object.create(null):{},s="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,l=parseInt(s,10),n.parseArrays||""!==s?!isNaN(l)&&c!==s&&String(l)===s&&0<=l&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:a[s]=i:a={0:i}),i=a}return i}(l,t,n,o)}}function _n(e,t){var n=function(e){if(!e)return lo;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?lo.charset:e.charset;return{allowDots:void 0===e.allowDots?lo.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:lo.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:lo.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:lo.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:lo.comma,decoder:"function"==typeof e.decoder?e.decoder:lo.decoder,delimiter:"string"==typeof e.delimiter||Yn.isRegExp(e.delimiter)?e.delimiter:lo.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:lo.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:lo.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:lo.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:lo.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:lo.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var o="string"==typeof e?Dn(e,n):e,i=n.plainObjects?Object.create(null):{},r=Object.keys(o),a=0;a<r.length;++a)var s=r[a],l=On(s,o[s],n,"string"==typeof e),i=Yn.merge(i,l,n);return Yn.compact(i)}var Tn,An,In=Object.prototype.hasOwnProperty,Rn=Array.isArray,Nn=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),kn={arrayToObject:wn,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],r=i.obj[i.prop],a=Object.keys(r),s=0;s<a.length;++s){var l=a[s],c=r[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:r,prop:l}),n.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(Rn(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var o=e.replace(/\+/g," ");if("iso-8859-1"===n)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,n){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",r=0;r<o.length;++r){var a=o.charCodeAt(r);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=o.charAt(r):a<128?i+=Nn[a]:a<2048?i+=Nn[192|a>>6]+Nn[128|63&a]:a<55296||57344<=a?i+=Nn[224|a>>12]+Nn[128|a>>6&63]+Nn[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(r)),i+=Nn[240|a>>18]+Nn[128|a>>12&63]+Nn[128|a>>6&63]+Nn[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Rn(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n}return t(e)},merge:function o(i,r,a){if(!r)return i;if("object"!=typeof r){if(Rn(i))i.push(r);else{if(!i||"object"!=typeof i)return[i,r];(a&&(a.plainObjects||a.allowPrototypes)||!In.call(Object.prototype,r))&&(i[r]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(r);var e=i;return Rn(i)&&!Rn(r)&&(e=wn(i,a)),Rn(i)&&Rn(r)?(r.forEach(function(e,t){var n;In.call(i,t)?(n=i[t])&&"object"==typeof n&&e&&"object"==typeof e?i[t]=o(n,e,a):i.push(e):i[t]=e}),i):Object.keys(r).reduce(function(e,t){var n=r[t];return In.call(e,t)?e[t]=o(e[t],n,a):e[t]=n,e},e)}},Pn=kn.arrayToObject,xn=kn.assign,Mn=kn.combine,Bn=kn.compact,Hn=kn.decode,Fn=kn.encode,Un=kn.isBuffer,Gn=kn.isRegExp,jn=kn.maybeMap,Wn=kn.merge,Vn=Object.freeze({default:kn,__moduleExports:kn,arrayToObject:Pn,assign:xn,combine:Mn,compact:Bn,decode:Hn,encode:Fn,isBuffer:Un,isRegExp:Gn,maybeMap:jn,merge:Wn}),Yn=Vn?kn:Vn,zn=String.prototype.replace,$n=/%20/g,Kn={RFC1738:"RFC1738",RFC3986:"RFC3986"},qn=Yn.assign({default:Kn.RFC3986,formatters:{RFC1738:function(e){return zn.call(e,$n,"+")},RFC3986:function(e){return String(e)}}},Kn),Qn=Object.freeze({default:qn,__moduleExports:qn}),Xn=Qn&&qn||Qn,Zn=Object.prototype.hasOwnProperty,Jn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},eo=Array.isArray,to=Array.prototype.push,no=Date.prototype.toISOString,oo=Xn.default,io={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yn.encode,encodeValuesOnly:!1,format:oo,formatter:Xn.formatters[oo],indices:!1,serializeDate:function(e){return no.call(e)},skipNulls:!1,strictNullHandling:!1},ro=Object.freeze({default:Sn,__moduleExports:Sn}),ao=Object.prototype.hasOwnProperty,so=Array.isArray,lo={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Yn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},co=Object.freeze({default:_n,__moduleExports:_n}),uo={formats:Xn,parse:co?_n:co,stringify:ro?Sn:ro},ho=(po.currentPage=function(){var e=document.location.href.match(/([\w\d_-]*)\.?[^\/]+?(?=\?|$)/i);return null===e?"":e[1]},po);function po(){}(An=Tn=Tn||{}).SELF_BOOKER="SELF",An.GUEST="STAYER",An.TRAVEL_MANAGER="SUPER";var mo,fo,go=(yo.clearProfile=function(){yo.profile=null},yo.isBrand=function(e){return yo.brand===e},yo.selfBooker=function(){return yo.profile&&yo.profile.business&&yo.profile.business.accessLevel===Tn.SELF_BOOKER},yo.isGuest=function(){return yo.profile&&yo.profile.business&&yo.profile.business.accessLevel===Tn.GUEST},yo.isTravelManager=function(){return yo.profile&&yo.profile.business&&yo.profile.business.accessLevel===Tn.TRAVEL_MANAGER},yo.isBusiness=function(){return!(!yo.profile||!yo.profile.companyId||null===yo.profile.business)},yo.brandsProperties={leisure:{rememberMe:!1,loginInputEmail:null},business:{rememberMe:!1,loginInputEmail:null}},yo);function yo(){}(fo=mo=mo||{}).Desktop="Desktop",fo.Mobile="Mobile";var vo,Eo=(e(bo,vo=t),Object.defineProperty(bo,"setSuggestions",{set:function(e){bo.hasSuggestions=e},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"content",{get:function(){return bo.headerContent},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"config",{get:function(){return bo.headerConfig},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"stayDetails",{get:function(){return bo.headerStayDetails},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"setBusinessAccountCardTabOpen",{set:function(e){bo.businessAccountCardTabOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"getBusinessAccountCardTabOpen",{get:function(){return bo.businessAccountCardTabOpen},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"setCheckOutSelected",{set:function(e){bo.checkOutSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"setCheckInSelected",{set:function(e){bo.checkInSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(bo,"setLocationErrorType",{set:function(e){bo.hasLocationErrorType=e},enumerable:!0,configurable:!0}),bo.setResetPasswordMessageDisplayed=function(e,t){t===mo.Mobile?bo.mobileResetPasswordMessageDisplayed=e:t===mo.Desktop&&(bo.desktopResetPasswordMessageDisplayed=e)},bo.getResetPasswordMessageDisplayed=function(e){return e===mo.Mobile?bo.mobileResetPasswordMessageDisplayed:e===mo.Desktop&&bo.desktopResetPasswordMessageDisplayed},bo.datelessState=function(){bo.dispatchEvent(new k(bo.DATELESS_STATE,this)),bo.initialRender=!1},bo.datedState=function(){bo.dispatchEvent(new k(bo.DATED_STATE,this))},bo.pageTitleSummary=function(e){bo.dispatchEvent(new k(bo.UPDATE_PAGE_TITLE,this,e))},bo.changeHeight=function(){bo.dispatchEvent(new k(bo.HEIGHT_CHANGE,this))},bo.showNotification=function(){bo.dispatchEvent(new k(bo.SHOW_NOTIFICATION,this,{type:bo.ANNOUNCEMENT_NOTIFICATION}))},bo.hideNotification=function(){bo.dispatchEvent(new k(bo.HIDE_NOTIFICATION,this,{type:bo.ANNOUNCEMENT_NOTIFICATION}))},bo.loginError=function(e){bo.dispatchEvent(new k(bo.LOG_IN_ERROR,this,e))},bo.validLocation=function(){bo.dispatchEvent(new k(bo.VALID_LOCATION,this))},bo.hdpStayDetailsUpdate=function(){bo.dispatchEvent(new k(bo.HDP_STAYDETAILS_UPDATE,this))},bo.invalidLocation=function(){bo.dispatchEvent(new k(bo.INVALID_LOCATION,this))},bo.availabilityError=function(){bo.dispatchEvent(new k(bo.AVAILABILITY_ERROR,this))},bo.retrySnowdropSuggestions=function(){bo.dispatchEvent(new k(bo.RETRY_SNOWDROP_SUGGESTIONS,this))},bo.showSnowdropError=function(){bo.dispatchEvent(new k(bo.SHOW_SNOWDROP_ERROR,this))},bo.hideSnowdropError=function(){bo.dispatchEvent(new k(bo.HIDE_SNOWDROP_ERROR,this))},bo.findBookingFormValidation=function(e,t){bo.dispatchEvent(new k(bo.FIND_BOOKING_FORM_VALIDATION,this,{isReferenceValid:e,isSurnameValid:t}))},bo.invalidCheckInDate=function(e,t){bo.dispatchEvent(new k(bo.INVALID_CHECKIN_DATE,this,{futureDate:e,invalidDate:t}))},bo.validCheckInDate=function(){bo.dispatchEvent(new k(bo.VALID_CHECKIN_DATE,this))},bo.invalidNumberOfNights=function(){bo.dispatchEvent(new k(bo.INVALID_NIGHTS,this))},bo.validStayDetails=function(){bo.consoleError=!1,bo.dispatchEvent(new k(bo.VALID_STAY_DETAILS,this))},bo.invalidRooms=function(){bo.dispatchEvent(new k(bo.INVALID_ROOMS,this))},bo.finishSearchRequest=function(){bo.dispatchEvent(new k(bo.FINISHED_SEARCH_REQUEST,this))},bo.hideSummary=function(){bo.dispatchEvent(new k(bo.HIDE_SUMMARY,this))},bo.hdpstayDetails=function(e){var t=e.name,n=e.location,o=e.hotelCode,i=e.brand,r=window.location.search.substring(1),a=uo.parse(r,{ignoreQueryPrefix:!0,delimiter:/&(?=[a-zA-Z0-9_.]+\=)/});a["searchModel.searchTerm"]=t;var s=yn.parseStayDetails(a);s.location=n,s.isHotel=!0,s.hotelCode=o,s.brand=i,bo.validLocation(),bo.updateStayDetails(bo.validateStayDetails(s)),bo.stayDetails.dateless||bo.closeSearch(),bo.hdpStayDetailsUpdate()},bo.noHotelsAvailable=function(){bo.dispatchEvent(new k(bo.NO_HOTELS_AVAILABLE,this))},bo.updateStayDetails=function(e){var t,n,o,i;e&&(bo.headerStayDetails=C({},bo.headerStayDetails,e),this.initialRender&&(bo.stayDetails.dateless?this.datelessState():this.datedState()),e.roomData&&(bo.headerStayDetails.roomData=e.roomData),e.placeId&&e.placeId.length&&(bo.headerStayDetails.managedPlaceId=null,bo.headerStayDetails.location={longitude:null,latitude:null}),bo.headerStayDetails.name=ft.alphaStripper(bo.headerStayDetails.name),n=(t=bo.headerStayDetails).arrivalDate,o=t.departureDate,bo.checkOutSelected&&!bo.checkInSelected?(bo.headerStayDetails.nights=o.getTime()>n.getTime()?Math.floor((o.getTime()-n.getTime())/864e5):1,bo.headerStayDetails.departureDate=he(bo.stayDetails.arrivalDate).add(bo.headerStayDetails.nights,"day").toDate()):bo.checkOutSelected||bo.checkInSelected?bo.checkOutSelected||(bo.headerStayDetails.departureDate=he(bo.stayDetails.arrivalDate).add(1,"day").startOf("day").toDate()):(i=parseInt(En.getParam("NIGHTS"),10))&&(bo.stayDetails.nights=i>this.maxNights()?1:i,bo.stayDetails.departureDate=he(bo.stayDetails.arrivalDate).add(bo.stayDetails.nights,"day").toDate()),this.updateStorageStayDetails()),bo.dispatchEvent(new k(bo.UPDATE_STAY_DETAILS,this,bo.stayDetails))},bo.updateRoomDetails=function(e,t){bo.stayDetails.roomData[e]=F.merge(bo.stayDetails.roomData[e],t),bo.dispatchEvent(new k(bo.UPDATE_ROOM_DETAILS,this))},bo.addRoom=function(){bo.stayDetails.roomData.push(C({},bo.INITIAL_ROOM)),bo.dispatchEvent(new k(bo.UPDATE_STAY_DETAILS,this,bo.stayDetails))},bo.applyBookingPreferencesToRoomData=function(){var e,t=this.getRoomDetailsFromBookingPreferences();!this.initialRoomDataUpdated()&&this.isValidRoom(t)&&(e=bo.stayDetails.roomData.map(function(){return C({},t)}),bo.stayDetails.roomData=e,bo.dispatchEvent(new k(bo.UPDATE_STAY_DETAILS,this,bo.stayDetails)))},bo.getRoomDetailsFromBookingPreferences=function(){var e=go.profile.bookingPreference.roomRequirements,t=e.type,n=e.adults,o=e.children,i=e.cotRequired,r={};return t&&(r.roomType=t),void 0!==n&&(r.adults=n),void 0!==o?r.children=o:void 0!==n&&(r.children=0),void 0!==i?r.cot=i:Object.keys(r).length&&(r.cot=!1),r},bo.removeRoom=function(e){bo.stayDetails.roomData.splice(e,1),bo.dispatchEvent(new k(bo.UPDATE_STAY_DETAILS,this,bo.stayDetails))},bo.updateConfigAndContent=function(e){bo.headerContent=e.content,bo.headerConfig=e.config},bo.searchRequest=function(e,t,n){void 0===n&&(n=!0),e&&n&&bo.updateStayDetails(bo.validateStayDetails(e)),t&&(bo.headerStayDetails.hotelCode=t),3<=ft.countNonWhitespaceCharacters(bo.headerStayDetails.name)&&this.hasSuggestions?void 0!==bo.headerStayDetails.hotelCode?bo.searchForHotel():bo.searchForLocation():bo.invalidLocation()},bo.setSortToDistance=function(){bo.dispatchEvent(new k(bo.SET_SORT_TO_DISTANCE,this,ot.SORT.DISTANCE))},bo.resetFilters=function(){bo.dispatchEvent(new k(bo.RESET_FILTERS,this))},bo.searchForHotel=function(){bo.dispatchEvent(new k(bo.SEARCH_REQUEST_HOTEL,this))},bo.closeSearch=function(){bo.dispatchEvent(new k(bo.CLOSE_SEARCH,this,bo.headerStayDetails))},bo.openSearch=function(){bo.dispatchEvent(new k(bo.HIDE_SUMMARY,this))},bo.searchForLocation=function(){bo.dispatchEvent(new k(bo.SEARCH_REQUEST_LOCATION,this,bo.headerStayDetails))},bo.getNumberOfAdultsCommaSeparated=function(){return bo.stayDetails.roomData.reduce(function(e,t){return bo.buildCSVString(e,t.adults.toString())},"")},bo.getNumberOfChildrenCommaSeparated=function(){return bo.stayDetails.roomData.reduce(function(e,t){return bo.buildCSVString(e,t.children.toString())},"")},bo.getRoomTypesCommaSeparated=function(){return bo.stayDetails.roomData.reduce(function(e,t){return bo.buildCSVString(e,t.roomType)},"")},bo.getNumberOfRooms=function(){return bo.stayDetails.roomData.length},bo.getCotCSV=function(){return bo.stayDetails.roomData.reduce(function(e){return e+"false,"},"").slice(0,-1)},bo.navClicked=function(e){bo.dispatchEvent(new k(bo.NAV_CLICKED,this,e))},bo.openMobileMenu=function(){bo.dispatchEvent(new k(this.OPEN_MOBILE_MENU,this))},bo.closeMobileMenu=function(){bo.dispatchEvent(new k(this.CLOSE_MOBILE_MENU,this))},bo.openForgottenPasswordForm=function(){To.track.forgotPasswordFormDisplayed(go.brand),bo.dispatchEvent(new k(this.OPEN_FORGOTTEN_PASSWORD_FORM,this))},bo.cancelForgottenPasswordForm=function(){bo.dispatchEvent(new k(this.CANCEL_FORGOTTEN_PASSWORD_FORM,this))},bo.passwordResetEmailSent=function(){bo.dispatchEvent(new k(this.PASSWORD_RESET_EMAIL_SENT,this))},bo.logInUser=function(e,t,n){bo.dispatchEvent(new k(bo.LOG_IN_USER,this,{email:e,password:t,isBusinessBrand:n}))},bo.logOutUser=function(){go.clearProfile(),bo.dispatchEvent(new k(bo.LOG_OUT_USER,this))},bo.userLoggedIn=function(e){go.profile={email:e.contactDetail.email,firstName:e.contactDetail.firstName,lastName:e.contactDetail.lastName,companyName:e.companyName?e.companyName:null,business:e.business?{accessLevel:e.business.accessLevel,employeeId:e.business.employeeId,miSetupRequired:e.business.miSetupRequired}:null,companyId:e.companyId?e.companyId:null,sessionId:e.sessionId,bookingAllowances:{},cellCodes:"",bookingPreference:{roomRequirements:e.bookingPreference&&e.bookingPreference.roomRequirements?e.bookingPreference.roomRequirements:{}},guestHistoryNumber:e.guestHistoryNumber},go.isBusiness()?(bo.stayDetails.bookingChannel=bo.config.api.bookingChannel.business?bo.config.api.bookingChannel.business:"WEB",bo.stayDetails.companyId=e.companyId?e.companyId:null,bo.stayDetails.employeeId=e.business.employeeId?e.business.employeeId:null,bo.dispatchEvent(new k(bo.USER_WITH_ALLOWANCES_LOGGED_IN,this))):bo.dispatchEvent(new k(bo.USER_READY,this,bo.stayDetails))},bo.isDuringBusinessTabSwitch=function(){return bo.config.authentication.businessLoginEnabled&&bo.config.authentication.timeSwitchingTab&&he().hour()>=bo.config.businessHours.start&&he().hour()<=bo.config.businessHours.end},bo.setBrand=function(e,t){var n,o;void 0===t&&(t=!1),o=(go.brand=e)===se.leisure?(n=bo.content.authentication.login.leisure,bo.config.authentication.leisure):(n=bo.content.authentication.login.business,bo.config.authentication.business),(e===se.leisure&&bo.config.authentication.leisureForgottenPasswordEnabled||e===se.business&&bo.config.authentication.businessForgottenPasswordEnabled)&&bo.setForgottenPasswordContent(),bo.dispatchEvent(new k(bo.SET_BRAND,this,{content:n,config:o,brand:e,initial:t}))},bo.setForgottenPasswordContent=function(){var e=go.isBrand(se.leisure)?bo.content.authentication.forgottenPassword.leisure:bo.content.authentication.forgottenPassword.business;bo.dispatchEvent(new k(bo.SET_FORGOTTEN_PASSWORD_CONTENT,this,{content:e}))},bo.checkDifferenceWithToday=function(e){return he(e).startOf("day").diff(he().startOf("day"),"day")},bo.getBookingDiffLimit=function(){var e=new Date,t=(new Date).setFullYear(e.getFullYear()+1);return Math.ceil(Math.abs(t-e.getTime())/864e5)},bo.resetStateAndSearch=function(){bo.stayDetails.dateless=!1;var e=bo.validateStayDetails(bo.stayDetails);bo.updateStayDetails(e),bo.validStayDetails(),bo.setSortToDistance(),bo.resetFilters(),bo.datedState(),bo.searchRequest(bo.stayDetails,"",!1)},bo.updateArrivalDate=function(e){bo.dispatchEvent(new k(bo.ARRIVAL_DATE_SET,this,{arrivalDate:e}))},bo.updateRememberMeAndEmailStateIfRememberMeEnabled=function(e,t,n){bo.config.authentication.rememberMeEnabled&&(n?(go.brandsProperties.business.rememberMe=e,go.brandsProperties.business.loginInputEmail=t):(go.brandsProperties.leisure.rememberMe=e,go.brandsProperties.leisure.loginInputEmail=t))},bo.maxRooms=function(){return this.isOfferActive()?this.offer.maxRooms:bo.content.global.maxRooms},bo.maxNights=function(){return go.isBusiness()?go.profile.bookingAllowances.maxNights:this.isOfferActive()?this.offer.numberOfNights:bo.content.form.numberOfNights},bo.isSessionExpired=function(){return!!uo.parse(window.location.search,{ignoreQueryPrefix:!0}).sessionExpired},bo.emailLandingView=function(){var e=bo.config.experiments.emailLandingPagesCode;return 0!==e.length&&(-1!==window.location.search.indexOf(e)&&!(!En.getParam("CAMPAIGNPRICE").length||!En.getParam("ALTPRICE").length))},bo.emailLandingLocationsPage=function(){var e=bo.config.experiments.emailLandingPageCampaign;return 0!==e.length&&(-1!==window.location.href.indexOf(e)&&!!En.getParam("CAMPAIGNID").length)},bo.isCIOLLP=function(){return"true"===En.getParam("check-in-online")},bo.isResetPasswordPage=function(){return 0<=window.location.pathname.indexOf(bo.config.resetPasswordUri)},bo.isSRP=function(){return 0<window.location.search.indexOf("searchModel")},bo.isHDPWithRateParams=function(){var e=uo.parse(window.location.search,{ignoreQueryPrefix:!0}),t=!!(e.ADULT1&&e.ARRdd&&e.ARRmm&&e.ARRyyyy&&e.CHILD1&&e.COT1&&e.INTTYP1&&e.NIGHTS&&e.ROOMS);return!!window.location.pathname.match(/\/hotels\//g)&&t},bo.initialRoomDataUpdated=function(){return bo.INITIAL_ROOM_DATA.length!==bo.headerStayDetails.roomData.length||!this.roomDataTheSame(bo.INITIAL_ROOM_DATA[0],bo.headerStayDetails.roomData[0])},bo.roomDataTheSame=function(e,t){var n,o,i=Object.keys(e),r=Object.keys(t),a=!0;if(i.length!==r.length)a=!1;else try{for(var s=u(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(e[c]!==t[c]){a=!1;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a},bo.validateStayDetails=function(e){bo.consoleError=!1;var t,n,o,i,r,a=F.merge({},e);return a.dateless||(n=(t=bo.checkDate(a.arrivalDate,a.nights)).displayError,o=t.futureDate,i=t.invalidDate,n&&(bo.consoleError=!0,o?(r=this.checkDifferenceWithToday(a.arrivalDate),bo.bookingDiffLimit<r+1&&(a.arrivalDate=he().toDate(),a.nights=1)):a.arrivalDate=he().toDate(),bo.invalidCheckInDate(o,i)),a.roomData&&bo.validateRooms(a.roomData)&&!bo.consoleError?bo.validStayDetails():bo.handleInvalidRooms(a),(a.nights>bo.maxNights()||a.nights<1)&&(bo.consoleError||(bo.consoleError=!0,bo.invalidNumberOfNights()),a.nights=1)),a},bo.handleInvalidRooms=function(e){bo.consoleError||(bo.consoleError=!0,bo.invalidRooms());var t=[{adults:1,children:0,roomType:bo.DEFAULT_DOUBLE,roomTypeName:bo.DEFAULT_DOUBLE_NAME,cot:!1}];e.roomData=t},bo.checkDate=function(e,t){var n,o={displayError:!1,futureDate:!1,invalidDate:!1};return!e||!Object.keys(e).length&&e.constructor===Object||isNaN(e.getTime())?(o.displayError=!0,o.invalidDate=!0):(n=this.checkDifferenceWithToday(e))<0?o.displayError=!0:bo.bookingDiffLimit<n+t&&(o.displayError=!0,o.futureDate=!0),o},bo.findOffer=function(){var t,n,e=bo.content.global.offers;e&&(t=ho.currentPage(),n=bo.stayDetails.cellCodes,this.offer=e.filter(function(e){return e.page===t?(bo.stayDetails.cellCodes=e.cellCode,!0):e.cellCode===n})[0])},bo.isOfferActive=function(){return this.findOffer(),void 0!==this.offer&&0<Object.keys(this.offer).length},bo.validateRooms=function(e){var t=this,n=!0;return!(e.length>bo.maxRooms()||e.length<1)&&(e.forEach(function(e){t.isValidRoom(e)||(n=!1)}),n)},bo.isValidRoom=function(e){var t,n=!0;return(e.adults<1||2<e.adults)&&(n=!1),(e.children<0||2<e.children)&&(n=!1),null===e.cot&&(n=!1),e.children?e.roomType!==this.headerConfig.roomCodes.family&&(n=!1):(t=this.headerConfig.roomCodes,(1===e.adults?[t.single,t.double,t.accessible]:[t.double,t.twin,t.accessible]).indexOf(e.roomType)<0&&(n=!1)),n},bo.buildCSVString=function(e,t){return""!==e?e+","+t:t},bo.updateStorageStayDetails=function(){var e=bo.stayDetails,t={timestamp:1,data:{}},n=Ot.availability()?Ot.get(bo.LOCAL_STORAGE_KEY)||{}:"",o=e.roomData.map(function(e,t){return{adults:e.adults,children:e.children,cot:e.cot,number:t+1,type:ot.ROOM_CODES[e.roomType]}}),i={arrival:e.arrivalDate,info:{suggestion:{location:e.location,name:e.name,text:e.name,hotelCode:e.hotelCode},text:e.name},nights:e.nights,rooms:o,bookingChannel:e.bookingChannel};t.timestamp=Date.now(),t.data=i;var r=C({},n,t);Ot.availability()&&Ot.set(bo.LOCAL_STORAGE_KEY,r)},bo.hasLocationErrorType="",bo.hasSuggestions=!0,bo.UPDATE_STAY_DETAILS="UPDATE_STAY_DETAILS",bo.UPDATE_ROOM_DETAILS="UPDATE_ROOM_DETAILS",bo.ROOM_UPDATE="ROOM_UPDATE",bo.HEIGHT_CHANGE="HEIGHT_CHANGE",bo.SEARCH_REQUEST_HOTEL="SEARCH_REQUEST_HOTEL",bo.CLOSE_SEARCH="CLOSE_SEARCH",bo.SEARCH_REQUEST_LOCATION="SEARCH_REQUEST_LOCATION",bo.NAV_CLICKED="NAV_CLICKED",bo.SLIDE_OVER="SLIDE_OVER",bo.SEARCH_CONSOLE="SEARCH_CONSOLE",bo.FIND_BOOKING="FIND_BOOKING",bo.LOGIN_FORM="LOGIN_FORM",bo.DISCOVER_PI="DISCOVER_PI",bo.BUSINESS_BOOKER="BUSINESS_BOOKER",bo.USER_MENU="USER_MENU",bo.MOBILE_LOGIN_FORM="MOBILE_LOGIN_FORM",bo.LANGUAGE_SELECT="LANGUAGE_SELECT",bo.INVALID_LOCATION="INVALID_LOCATION",bo.VALID_LOCATION="VALID_LOCATION",bo.FIND_BOOKING_FORM_VALIDATION="FIND_BOOKING_FORM_VALIDATION",bo.OPEN_MOBILE_MENU="OPEN_MOBILE_MENU",bo.CLOSE_MOBILE_MENU="CLOSE_MOBILE_MENU",bo.RETRY_AVAILABILITIES="RETRY_AVAILABIlITIES",bo.FINISHED_SEARCH_REQUEST="FINISHED_SEARCH_REQUEST",bo.SET_SORT_TO_DISTANCE="SET_SORT_TO_DISTANCE",bo.INVALID_CHECKIN_DATE="INVALID_CHECKIN_DATE",bo.INVALID_NIGHTS="INVALID_NIGHTS",bo.INVALID_ROOMS="INVALID_ROOMS",bo.VALID_STAY_DETAILS="VALID_STAY_DETAILS",bo.RESET_FILTERS="RESET_FILTERS",bo.NO_HOTELS_AVAILABLE="NO_HOTELS_AVAILABLE",bo.ARRIVAL_DATE_SET="ARRIVAL_DATE_SET",bo.VALID_CHECKIN_DATE="VALID_CHECKIN_DATE",bo.AVAILABILITY_ERROR="AVAILABILITY_ERROR",bo.HDP_STAYDETAILS_UPDATE="HDP_STAYDETAILS_UPDATE",bo.LOCAL_STORAGE_KEY="StayDetailsState",bo.OPEN_FORGOTTEN_PASSWORD_FORM="OPEN_FORGOTTEN_PASSWORD_FORM",bo.CANCEL_FORGOTTEN_PASSWORD_FORM="CANCEL_FORGOTTEN_PASSWORD_FORM",bo.PASSWORD_RESET_EMAIL_SENT="PASSWORD_RESET_EMAIL_SENT",bo.LOG_IN_USER="LOG_IN_USER",bo.LOG_OUT_USER="LOG_OUT_USER",bo.USER_LOGGED_IN="USER_LOGGED_IN",bo.USER_LOGGED_OUT="USER_LOGGED_OUT",bo.LOG_IN_ERROR="LOG_IN_ERROR",bo.USER_WITH_ALLOWANCES_LOGGED_IN="USER_WITH_ALLOWANCES_LOGGED_IN",bo.USER_READY="USER_READY",bo.SET_BRAND="SET_BRAND",bo.SET_FORGOTTEN_PASSWORD_CONTENT="SET_FORGOTTEN_PASSWORD_CONTENT",bo.FOCUS_ON_NIGHT="FOCUS_ON_NIGHT",bo.CLOSE_HERO="CLOSE_HERO",bo.OPEN_HERO="OPEN_HERO",bo.ANNOUNCEMENT_NOTIFICATION="ANNOUNCEMENT_NOTIFICATION",bo.ANNOUNCEMENT_ALERT_NOTIFICATION="ANNOUNCEMENT_ALERT_NOTIFICATION",bo.SHOW_NOTIFICATION="SHOW_NOTIFICATION",bo.HIDE_NOTIFICATION="HIDE_NOTIFICATION",bo.DATELESS_STATE="DATELESS_STATE",bo.DATED_STATE="DATED_STATE",bo.SHOW_SNOWDROP_ERROR="SHOW_SNOWDROP_ERROR",bo.HIDE_SNOWDROP_ERROR="HIDE_SNOWDROP_ERROR",bo.RETRY_SNOWDROP_SUGGESTIONS="RETRY_SNOWDROP_SUGGESTIONS",bo.DISPLAY_LOGIN_FORM="DISPLAY_LOGIN_FORM",bo.DISPLAY_MOBILE_LOGIN="DISPLAY_MOBILE_LOGIN",bo.HIDE_SUMMARY="HIDE_SUMMARY",bo.UPDATE_PAGE_TITLE="UPDATE_PAGE_TITLE",bo.HIDE_PASSWORD_RESET_MESSAGE="HIDE_PASSWORD_RESET_MESSAGE",bo.MOBILE_LANGUAGE="MOBILE_LANGUAGE",bo.MOBILE_MANAGE="MOBILE_MANAGE",bo.MOBILE_BUSINESS="MOBILE_BUSINESS",bo.MOBILE_DISCOVER="MOBILE_DISCOVER",bo.MOBILE_COMPANY="MOBILE_COMPANY",bo.MOBILE_REPORTING="MOBILE_REPORTING",bo.AVAILABLE_NIGHTS="AVAILABLE_NIGHTS",bo.OPEN_MODAL="OPEN_MODAL",bo.UPDATE_MODAL_TITLE="UPDATE_MODAL_TITLE",bo.CHECKBOX_UPDATED="CHECKBOX_UPDATED",bo.TOGGLE_UPDATED="TOGGLE_UPDATED",bo.LOCATION_INVALID="LOCATION_INVALID",bo.LOCATION_NO_HOTELS="LOCATION_NO_HOTELS",bo.bookingDiffLimit=365,bo.initialRender=!0,bo.consoleError=!1,bo.checkInSelected=!1,bo.checkOutSelected=!1,bo.DEFAULT_DOUBLE="DB",bo.DEFAULT_DOUBLE_NAME="double",bo.businessAccountCardTabOpen=!1,bo.mobileResetPasswordMessageDisplayed=!1,bo.desktopResetPasswordMessageDisplayed=!1,bo.INITIAL_ROOM_DATA=[bo.INITIAL_ROOM={adults:1,children:0,roomType:bo.DEFAULT_DOUBLE,roomTypeName:bo.DEFAULT_DOUBLE_NAME,cot:!1}],bo.headerStayDetails={name:"",arrivalDate:he().toDate(),departureDate:he().add(1,"day").toDate(),nights:1,roomData:bo.INITIAL_ROOM_DATA.map(function(e){return C({},e)}),dateless:!1,bookingChannel:"WEB"},bo);function bo(){return null!==vo&&vo.apply(this,arguments)||this}var wo=(Object.defineProperty(Co,"config",{get:function(){return Co._config},set:function(e){Co._config=e},enumerable:!0,configurable:!0}),Object.defineProperty(Co,"content",{get:function(){return Co._content},set:function(e){Co._content=e},enumerable:!0,configurable:!0}),Co.buildAvailabilitiesRequest=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=Co.config.api.initialPageSize);var o=e.roomData.reduce(function(e,t){return{adults:Co.buildCSVString(e.adults,t.adults.toString()),children:Co.buildCSVString(e.children,t.children.toString()),cot:Co.buildCSVString(String(e.cot),String(t.cot)),roomType:Co.buildCSVString(e.roomType,t.roomType)}},{adults:"",children:"",cot:"",roomType:""}),i=this.getLocation(e),r=i.location,a=i.locationFormat,s=i.country,l=i.language,c=e.cellCodes&&"string"==typeof e.cellCodes?e.cellCodes.toUpperCase():"";if(1<t&&(n=Co.config.api.lazyLoadPageSize),Co.config.api.connectivity){var d=s.toLowerCase(),u=l.toLowerCase(),h=rt.getDateFormat(Co.config.locale,"short"),p=Co.config.api.snowdrop.availabilities.domain,m=Co.config.api.snowdrop.availabilities.method,f=e.bookingChannel,g=e.companyId,y=e.employeeId,v=e.roomData,E=e.arrivalDate,b=e.departureDate;return{params:{location:r,locationFormat:a,arrival:he(E).format(h),departure:he(b).format(h),adults:o.adults,children:o.children,cot:o.cot,type:o.roomType,rooms:v.length,cellCodes:c,size:n,page:t,country:d,language:u,bookingChannel:f,companyId:g,employeeId:y},url:""+p+m}}return{url:Co.config.api.snowdrop.availabilities.method}},Co.buildDatelessRequest=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=Co.config.api.initialPageSize);var o=this.getLocation(e),i=o.location,r=o.locationFormat,a=o.country,s=o.language,l=Co.config.api.snowdrop.availabilities.datelessUrl;if(1<t&&(n=Co.config.api.lazyLoadPageSize),Co.config.api.connectivity){var c=a.toLowerCase(),d=s.toLowerCase(),u=Co.config.api.snowdrop.availabilities.domain;return{params:{bookingChannel:e.bookingChannel,location:i,locationFormat:r,size:n,page:t,country:c,language:d,companyId:e.companyId,employeeId:e.employeeId},url:""+u+l}}return{url:l}},Co.mapSnowdropResponse=function(e){for(var t in e){e.hasOwnProperty(t)&&e[t].map(function(e){e.suggestion&&(e.name=e.suggestion),e.geometry&&(e.location={longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]}),!Eo.emailLandingView()&&e.code&&(e.isHotel=!0,e.hotelId=e.code)})}var n=Co.config.api.snowdrop.autocomplete,o=n.managedPlacesSize,i=n.googlePlacesSize,r=n.defaultResponseLength,a=o||r,s=e.managedPlaces.splice(0,a),l=s.length<a?r-s.length:i||r,c=y(s,e.places.splice(0,l)),d=Co.config.experiments,u=d.snowDropRandom,h=d.snowDropSortBy,p=d.snowDropSortByKey;return u?c=Co.snowDropResponseRandom(c):h&&(c=Co.snowDropResponseSort(c,p)),y(c,e.properties)},Co.buildResetPassword=function(e,t,n,o){var i=Co.config.authentication;return{url:""+i.microserviceUri+i.forgottenPasswordPath+"?business="+o,headers:[{value:"bookingChannel",variable:"WEB"},{value:"content-type",variable:"application/json"},{value:"password-token",variable:e}],params:JSON.stringify({customerId:t,newPassword:n})}},Co.buildResetPasswordRequest=function(e,t){return{url:""+Co.config.authentication.microserviceUri+Co.config.authentication.forgottenPasswordPath+"?business="+t,headers:[{value:"bookingChannel",variable:"WEB"},{value:"content-type",variable:"application/json"}],params:JSON.stringify({username:e,url:Co.buildForgottenPasswordRequestUrl(t)})}},Co.buildForgottenPasswordRequestUrl=function(e){return Co.config.authentication.forgottenPasswordRequestUrl.replace(/{isBusinessBrand}/g,e?"true":"false")},Co.buildCSVString=function(e,t){return""!==e?e+","+t:t},Co.buildCompanyDetailsRequest=function(){var e=go.profile,t=e.sessionId,n=e.companyId,o=e.business.employeeId;return{url:""+Co.config.authentication.microserviceUri+Co.config.authentication.companyPath+"/"+n,headers:[{value:"session-id",variable:t},{value:"company-id",variable:n},{value:"employee-id",variable:o}]}},Co.mapCompanyData=function(e){var t="";e.companyCellCodes&&(e.companyCellCodes.map(function(e){t+=e.description+","}),Eo.stayDetails.cellCodes=t.slice(0,-1)),e.requestedCompany&&(go.profile.bookingAllowances.maxNights=e.requestedCompany.bookingAllowances.maxNumberOfNights,go.profile.companyName=e.requestedCompany.companyDetails.companyName)},Co.buildEncryptedStringRequest=function(e){var t=Co.config;return{url:""+t.authentication.microserviceUri+t.api.stringEncryptionUrl,headers:[{value:"content-type",variable:"application/json"}],params:JSON.stringify({plainText:e})}},Co.getLocation=function(e){var t,n,o=ot.LOCALE.GB.country,i=ot.LOCALE.GB.language;return Co.config.locale===ot.LOCALE.DE.country&&(o=ot.LOCALE.DE.language,i=ot.LOCALE.DE.language),n=e.placeId&&0<e.placeId.length?(t=e.placeId,ot.LOCATION_FORMATS.placeId):e.managedPlaceId&&0<e.managedPlaceId.length?(t=e.managedPlaceId,ot.LOCATION_FORMATS.managedPlaceId):(t=e.location.latitude+","+e.location.longitude,ot.LOCATION_FORMATS.latLong),{location:t,locationFormat:n,country:o,language:i}},Co.snowDropResponseRandom=function(e){return e.sort(function(){return Math.random()-.5})},Co.snowDropResponseSort=function(e,t){var n=1,o=t;return"-"===t[0]&&(n=-1,o=t.substr(1)),e.sort(function(e,t){return-1===n?t[o].localeCompare(e[o]):e[o].localeCompare(t[o])})},Co.CONFIG_URL="config-url",Co);function Co(){}var So=(Object.defineProperty(Lo,"config",{set:function(e){wo.config=e},enumerable:!0,configurable:!0}),Lo.suggestions=function(e){return Lo.suggestionsSnowdrop(e)},Lo.availabilities=function(e,t,n){void 0===t&&(t=0);var o=wo.buildAvailabilitiesRequest(e,t,n);return Ct.get({url:o.url,params:o.params}).then(function(e){var t=e.hotelAvailabilities;return t.length?Lo.getNormalisedHotels(t,e.total):{availableHotels:[],total:e.total}})},Lo.content=function(){var e=document.getElementById(wo.CONFIG_URL).getAttribute("href");return Ct.get({url:e}).then(function(e){return e})},Lo.getReservation=function(e,t,n){return Ct.get({url:""+wo.config.api.reservations.domain+wo.config.api.reservations.method+"/"+e,params:{surname:t,arrival:n}})},Lo.resetPassword=function(e,t,n,o){void 0===o&&(o=!1);var i=wo.buildResetPassword(e,t,n,o),r=i.url,a=i.headers,s=i.params;return Ct.put({url:r,headers:a,params:s}).then(function(e){return e}).catch(function(e){return e})},Lo.requestResetPassword=function(e,t){var n=wo.buildResetPasswordRequest(e,t);return Ct.post({url:n.url,headers:n.headers,params:n.params}).then(function(e){return e}).catch(function(e){return e})},Lo.getCompanyDetails=function(){var t=this,e=wo.buildCompanyDetailsRequest();return Ct.get({url:e.url,headers:e.headers}).then(function(e){wo.mapCompanyData(e),Eo.dispatchEvent(new k(Eo.USER_READY,t,Eo.stayDetails))}).catch(function(e){return e})},Lo.encryptStringForAnalytics=function(e){var t=wo.buildEncryptedStringRequest(e);return Ct.post({url:t.url,headers:t.headers,params:t.params}).then(function(e){return e}).catch(function(e){return e})},Lo.snowdropCountries=function(){return wo.config.api.snowdrop.autocomplete.countryRestrictions.map(function(e){return"country:"+e.countries}).join("|")},Lo.suggestionsSnowdrop=function(e){var t=this,n=wo.config.api.snowdrop.autocomplete,o=n.domain,i=n.method,r=n.googlePlaces,a=e.replace(/\s/g,"");return this.previousSuggestionTerm!==a?(this.previousSuggestionTerm=a,Ct.get({url:wo.config.api.connectivity?encodeURI(""+o+i+"/"+e+"&"+r+this.snowdropCountries()):i}).then(function(e){return t.snowdropErrorShown&&(Eo.hideSnowdropError(),t.snowdropErrorShown=!1),e.managedPlaces.length||e.places.length||e.properties.length?Eo.setSuggestions=!0:(Eo.invalidLocation(),Eo.setSuggestions=!1),wo.mapSnowdropResponse(e)}).catch(function(e){return Eo.showSnowdropError(),t.snowdropErrorShown=!0,e})):new Promise(function(){})},Lo.getNormalisedHotels=function(e,t){return{availableHotels:e,total:t}},Lo.snowdropErrorShown=!1,Lo);function Lo(){}function Do(){var i=this;this.events={authentication:{loginError:"loginFailed",forgotPasswordFormDisplayed:"resetPasswordRequest",resetPasswordRequestSent:"resetPasswordRequestSent",forgotPasswordError:"forgotPasswordError",findBooking:"findBooking",findBookingFailed:"findBookingFailed"},general:"general"},this.track={loginForm:function(e){i.active&&i.add({loginModule:e})},trackLoggedInState:function(){var e=go.profile,t={userID:e.guestHistoryNumber,userLoggedIn:"Logged in",companyID:void 0,userLevel:void 0};go.isBusiness()&&(t.companyID=e.companyId,t.userLevel=e.business.accessLevel),i.add(t)},loginSuccess:function(n){return c(i,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,So.encryptStringForAnalytics(n)];case 1:return t=e.sent().encrypted,this.satelliteTrack(this.events.general,{signupId:t}),[2]}})})},loginError:function(e,t,n){var o=i.mapBrandToString(n);i.satelliteTrack(i.events.authentication.loginError,{errorCode:e,error:t,userType:o})},forgotPasswordFormDisplayed:function(e){var t=i.mapBrandToString(e);t&&i.satelliteTrack(i.events.authentication.forgotPasswordFormDisplayed,{userType:t})},forgotPasswordFormEmailSent:function(e){var t=i.mapBrandToString(e);t&&i.satelliteTrack(i.events.authentication.resetPasswordRequestSent,{userType:t})},forgotPasswordError:function(e,t,n){var o=i.mapBrandToString(n);o&&i.satelliteTrack(i.events.authentication.forgotPasswordError,{userType:o,errorCode:e,error:t})},validationError:function(e){i.satelliteTrack(null,{validation:e||""})},findBooking:function(){i.satelliteTrack(i.events.authentication.findBooking)},findBookingFailed:function(e,t){void 0===t&&(t=""),i.satelliteTrack(i.events.authentication.findBookingFailed,{error:e,errorCode:t})},addMandatoryQuestionAlert:function(){i.addError({message:"mandatory registration questions incomplete"})},removeMandatoryQuestionAlert:function(){i.removeError("message")}},this.active=!1}var Oo,_o,To=new(Do.prototype.activate=function(){this.active=!0},Do.prototype.deActivate=function(){this.active=!1},Do.prototype.satelliteTrack=function(e,t){this.active&&(window._satellite?(t&&this.add(t),e&&window._satellite.track(e)):console.error("Analytics: _satellite is not defined"))},Do.prototype.add=function(e){window.analyticsData=window.analyticsData?F.merge(window.analyticsData,e):e},Do.prototype.addError=function(e){window.analyticsDataErrors=window.analyticsDataErrors?F.merge(window.analyticsDataErrors,e):e},Do.prototype.removeError=function(e){window.analyticsDataErrors&&delete window.analyticsDataErrors[e]},Do.prototype.mapBrandToString=function(e){return e===se.business?"business":e===se.leisure?"consumer":null},Do);(_o=Oo=Oo||{}).Closed="closed",_o.Personal="Personal",_o.BusinessBooker="BB",_o.BusinessAccountCard="BAC",_o.PasswordReset="password reset";var Ao,Io=(e(Ro,Ao=x),Ro.prototype.open=function(){var e=this;this.killAnimations(),this.show(),this.to({duration:.1,ease:B.EaseIn,toVars:{transform:"translateX(0)"}}).then(function(){e.element.setAttribute("aria-expanded","true")})},Ro.prototype.close=function(){var e=this;To.track.loginForm(Oo.Closed),this.killAnimations(),this.to({duration:.1,ease:B.EaseIn,toVars:{transform:"translateX(-30rem)"}}).then(function(){e.hide(),e.element.setAttribute("aria-expanded","false")})},Ro.prototype.closeOverlay=function(){this.close(),this.dispatchEvent(new k(Ro.CLOSE,this))},Ro.CLOSE="CLOSE",Ro);function Ro(e){return void 0===e&&(e={}),Ao.call(this,F.merge({className:["slide-over"],display:"none",position:"fixed",zIndex:ie.zIndex.popups,top:"0",bottom:"0",left:"0",right:"0",type:"slide-over",transform:"translateX(-30rem)",attributes:{"aria-expanded":"false"}},e))||this}var No,ko=(e(Po,No=x),Po);function Po(e){void 0===e&&(e={});var t=No.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><path d="M0 0H16V16H0z"/><path fill="#333" d="M12.47 2.47L13.53 3.53 9.061 8 13.53 12.47 12.47 13.53 8 9.061 3.53 13.53 2.47 12.47 6.939 8 2.47 3.53 3.53 2.47 8 6.939z"/></g></svg>',t}var xo,Mo=(e(Bo,xo=x),Bo.prototype.close=function(){this.hide(),this.closeBtn.to({duration:.1,ease:B.EaseIn,toVars:{transform:"translateX(-30rem)"}}),this.closeBtn.hide(),this.slideOver.close()},Bo.prototype.open=function(){this.show(),this.overlay.show(),this.closeBtn.to({duration:.1,ease:B.EaseIn,toVars:{transform:"translateX(0)"}}),this.closeBtn.show(),this.slideOver.open()},Bo);function Bo(e,t){void 0===t&&(t={});var n=xo.call(this,t)||this;n.overlay=new ce,n.overlay.addEventListener(n,"click",n.close),n.addChild(n.overlay),n.slideOver=new Io(C({},t,{width:"288px"})),n.slideOver.addEventListener(n,Io.CLOSE,n.close),n.closeBtn=new x({type:"close-button",display:"none",position:"fixed",cursor:"pointer",top:"0",left:"232px",width:"56px",height:"56px",backgroundColor:ie.colours.primary.white,zIndex:"5"});var o=new ko({position:"absolute",width:"11px",height:"11px",color:ie.colours.greyScale.darkest,top:"50%",left:"50%",transform:"translate(-50%, -50%)"});return n.closeBtn.addChild(o),n.addChild(n.closeBtn),n.closeBtn.addEventListener(n,"click",n.close),n.slideOver.addChild(e),e.addEventListener(n,Io.CLOSE,n.close),n.addChild(n.slideOver),n}var Ho,Fo=(e(Uo,Ho=x),Uo);function Uo(e){void 0===e&&(e={});var t=Ho.call(this,F.merge({type:"dateless-panel",className:["dateless-panel"]},e))||this;return t.addEventListener(t,"click",function(){return t.hide()}),t}var Go=(jo.button={whiteSpace:"nowrap",msTouchAction:"manipulation",touchAction:"manipulation",cursor:"pointer",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none",text:"",icon:{padding:"0.75rem"},type:"button",attributes:{type:"button"}},jo);function jo(){}var Wo,Vo=(e(Yo,Wo=W),Yo.prototype.over=function(){this.enabled&&Wo.prototype.over.call(this)},Yo.prototype.out=function(){this.enabled&&Wo.prototype.out.call(this)},Yo.prototype.click=function(){var e;this.enabled&&(e=new k(Yo.CLICK,this),this.dispatchEvent(e))},Yo.prototype.disable=function(){this.enabled=!1,this.style({cursor:"default"}),this.element.setAttribute("disabled","true")},Yo.prototype.enable=function(){this.enabled=!0,this.style({cursor:"pointer"}),this.element.removeAttribute("disabled")},Yo.prototype.style=function(e){F.merge(this.styles,e),Wo.prototype.style.call(this,e)},Yo.CLICK="click",Yo);function Yo(e){void 0===e&&(e={});var t=this;return e=F.merge(F.merge({},Go.button),e),(t=Wo.call(this,e)||this).enabled=!0,t.styles=F.flattenConfigStyles(e),t}var zo,$o=(e(Ko,zo=x),Ko);function Ko(e){return zo.call(this,F.merge({type:"nav-chevron",className:["nav-chevron"]},e))||this}var qo,Qo=(e(Xo,qo=Vo),Xo.prototype.deactive=function(){this.style({color:ie.colours.greyScale.darkest})},Xo.prototype.active=function(){this.style({color:ie.colours.primary.teal})},Xo);function Xo(e){var t=qo.call(this,F.merge({className:["nav-button"],hover:{color:ie.colours.primary.teal}},e))||this;return t.chevron=new $o,t.chevron.hide(),t.addChild(t.chevron),t}var Zo,Jo=(e(ei,Zo=x),ei.prototype.callToggle=function(e){e&&this.toggle()},ei.prototype.isDropOpen=function(){return this.dropOpen},ei.prototype.toggle=function(){this.dropOpen?(this.down.close(),this.top.inactive(),this.top.close(),this.dropOpen=!1,this.element.setAttribute("aria-expanded","false")):(this.down.open(),this.top.activate(),this.top.open(),this.dropOpen=!0,this.element.setAttribute("aria-expanded","true"))},ei.prototype.close=function(){this.down.close(),this.dropOpen&&(this.top.inactive(),this.top.close(),this.down.dispatchEvent(new k(ei.SCROLL,this.down))),this.dropOpen=!1,this.element.setAttribute("aria-expanded","false")},ei.prototype.keyListener=function(e){"Escape"===e.key&&this.close()},ei.prototype.interceptDownClick=function(e){var t=e.sourceEvent;t.stopImmediatePropagation(),t.stopPropagation()},ei.CLOSE="CLOSE",ei.SCROLL="SCROLL",ei);function ei(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o={});var i=this;return o.type||(o.type="drop-down-group"),o.attributes={"aria-expanded":!1},(i=Zo.call(this,o)||this).dropOpen=!1,i.top=e,i.addChild(i.top),i.down=t,n?i.top.addChild(i.down):i.addChild(i.down),i.top.setAriaOwns(i.down.id),i.down.addEventListener(i,"click",i.interceptDownClick,{},!1),i.down.addEventListener(i,ei.CLOSE,i.toggle),i.top.addEventListener(i,"click",function(){i.toggle()},!1),i.top.addEventListener(i,"keydown",function(e){13===e.sourceEvent.keyCode&&i.toggle()},!1),document.addEventListener("keydown",function(e){13!==e.keyCode||i.element.contains(e.target)||i.close()}),document.addEventListener("keyup",function(e){i.keyListener(e)}),document.addEventListener("click",function(e){i.element.contains(e.target)||i.close()}),i}var ti,ni=(e(oi,ti=x),oi.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},oi.prototype.activate=function(){this.element.classList.add("activated")},oi.prototype.inactive=function(){this.element.classList.remove("activated")},oi.prototype.open=function(){},oi.prototype.close=function(){},oi);function oi(e){var t=ti.call(this,{className:["btn-user-details"]})||this,n=new x({type:"span",className:["btn-user-details__name","sessioncamhidetext","assist-no-show"],text:e});return t.addChild(n),t}var ii,ri=(e(ai,ii=x),ai.prototype.open=function(){this.killAnimations(),this.style({display:"flex",flexDirection:this.multiTabs?"row":"column"}),this.element.classList.add("show"),this.to({duration:.2,ease:B.EaseOut,toVars:{opacity:"1",transform:"translateY(0rem)"}})},ai.prototype.close=function(){this.killAnimations(),this.style({display:"none",transform:"translateY(-2rem)",opacity:"0"}),this.element.classList.remove("show")},ai.prototype.addDropDownTabs=function(e){var t,n;try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var r=i.value,a=new x({className:["mobile-menu-dropdown-item"],type:"a",attributes:{href:r.url}});r.icon&&a.addChild(new x({type:"span",className:["wb-icon","wb-icon_"+r.icon]})),a.addChild(new x({type:"span",className:["mobile-menu-dropdown-item__title"],text:r.title})),this.addChild(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},ai.prototype.addMultiDropDownTabs=function(e){var n=this;e.forEach(function(e){var t=new x({className:["menu__column"]});t.addChild(new x({className:["menu__column__header"],text:e.title})),e.navOptions.forEach(function(e){t.addChild(new x({className:["menu__column__option"],type:"a",text:e.title,attributes:{href:e.url}}))}),n.addChild(t)})},ai);function ai(e,t,n){void 0===e&&(e={}),void 0===t&&(t=!1),void 0===n&&(n=!1);var o=ii.call(this,F.merge({className:["dropdown-menu"],zIndex:"3"},e))||this;return o.multiTabs=!1,o.hide(),o.multiTabs=t,window.addEventListener("resize",function(){X.width<ie.responsive.l&&n&&o.style({display:"none"})}),o}var si,li=(e(ci,si=ri),ci);function ci(e){var n=si.call(this,{className:["business-dropdown-menu"]})||this;return e.forEach(function(e){var t=new x({type:"a",attributes:{href:e.url},text:e.title});n.addChild(t)}),n}var di,ui=(e(hi,di=x),hi.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},hi.prototype.activate=function(){this.element.classList.add("activated")},hi.prototype.inactive=function(){this.element.classList.remove("activated")},hi.prototype.open=function(){this.chevron.fromTo({duration:.5,fromVars:{transform:"rotate(0deg)",opacity:"1"},toVars:{transform:"rotate(180deg)",opacity:"0.6"}})},hi.prototype.close=function(){this.chevron.fromTo({duration:.5,fromVars:{transform:"rotate(180deg)",opacity:"0.6"},toVars:{transform:"rotate(360deg)",opacity:"1"}})},hi);function hi(e){var t=di.call(this,{className:["business-dropdown-label"],text:e})||this;return t.chevron=new x({type:"span",className:["wb-icon","wb-icon--chevron-down","business-dropdown-label__chevron"]}),t.addChild(t.chevron),t}var pi,mi=(e(fi,pi=x),fi);function fi(){var i=pi.call(this,{className:["business-dropdown-container"]})||this,e=Eo.config.authentication.business.businessAccountLinks;return e&&e.forEach(function(e){var t,n,o;e.subMenuLinks&&e.subMenuLinks.length&&(t=new li(e.subMenuLinks),n=new ui(e.title),o=new Jo(n,t),i.addChild(o))}),i}var gi,yi=(e(vi,gi=ri),vi);function vi(){var e,n=gi.call(this)||this,t=Eo.config.authentication.accountLinks;window.test&&!0===window.test.account&&(t=Eo.config.authentication.abTestAccountLinksOverride),t.forEach(function(e){var t=new x({type:"a",className:["user-dropdown__link"],attributes:{href:e.url}});t.addChild(new x({type:"span",className:["user-dropdown__link__title"],text:e.title})),n.addChild(t)}),Eo.config.features.businessSubNav&&go.isTravelManager()&&(e=new mi,n.addChild(e));var o=new x({className:["desktop-authentication-button__logout"],type:"span",text:Eo.content.authentication.logoutButton});return n.addChild(o),o.addEventListener(n,"click",function(){Eo.logOutUser()}),n}var Ei,bi=(e(wi,Ei=x),wi);function wi(){var i=Ei.call(this,{className:["desktop-authentication-button"]})||this;return i.loginButton=new Qo({id:"log-in",className:["nav-button"],text:Eo.content.menu.logIn,data:{type:Eo.LOGIN_FORM}}),i.addChild(i.loginButton),Eo.addEventListener(i,Eo.USER_LOGGED_IN,function(){i.loginButton.deactive(),i.loginButton.hide(),i.removeChild(i.userDropdown);var e=go.profile,t=go.isBusiness()?e.companyName:e.firstName+" "+e.lastName,n=new ni(t),o=new yi;i.userDropdown=new Jo(n,o,!1,{className:["user-dropdown"],data:{type:Eo.USER_MENU}}),i.addChild(i.userDropdown)}),i}var Ci,Si=(e(Li,Ci=x),Li.prototype.check=function(){this.element.setAttribute("checked","true")},Li.prototype.uncheck=function(){this.element.setAttribute("checked","false")},Li);function Li(e,t,n,o){void 0===e&&(e=!1),void 0===o&&(o={});function i(){return X.width<ie.responsive.m}var r=this,r=Ci.call(this,F.merge({className:["tab"],attributes:{checked:e,tabindex:"0"}},C({},o,{text:i()?t:n})))||this;return window.addEventListener("resize",function(){r.element.innerText=i()?t:n}),r}var Di,Oi=(e(_i,Di=x),_i.prototype.addTabs=function(e){var t,n;try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var r=i.value;this.addChild(r)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},_i);function _i(e){return void 0===e&&(e={}),Di.call(this,F.merge({className:["tabs"]},e))||this}var Ti,Ai=(e(Ii,Ti=Oi),Ii.openForgottenPasswordForm=function(){Ii.forgottenPasswordOpen=!0},Ii.closeForgottenPasswordForm=function(){Ii.forgottenPasswordOpen=!1},Ii.isForgottenPasswordOpen=function(){return Ii.forgottenPasswordOpen},Ii.prototype.toggle=function(e){this.piTab.uncheck(),this.bbTab.uncheck(),e.check()},Ii.forgottenPasswordOpen=!1,Ii);function Ii(){var e=Ti.call(this,{className:["login-tabs","tabs"]})||this;return e.piTab=new Si(go.isBrand(se.leisure),Eo.content.authentication.login.leisure.tabMobile,Eo.content.authentication.login.leisure.tab),e.bbTab=new Si(go.isBrand(se.business),Eo.content.authentication.login.business.tabMobile,Eo.content.authentication.login.business.tab),e.piTab.addEventListener(e,"click",function(){Ii.forgottenPasswordOpen&&!Eo.config.authentication.leisureForgottenPasswordEnabled?window.location.href=Eo.config.authentication.leisure.forgotPasswordLink:Eo.setBrand(se.leisure)}),e.bbTab.addEventListener(e,"click",function(){Ii.forgottenPasswordOpen&&!Eo.config.authentication.businessForgottenPasswordEnabled?window.location.href=Eo.config.authentication.business.forgotPasswordLink:Eo.setBrand(se.business)}),e.addTabs([e.piTab,e.bbTab]),Eo.addEventListener(e,Eo.SET_BRAND,function(){e.toggle(go.isBrand(se.leisure)?e.piTab:e.bbTab)}),e}var Ri,Ni=(e(ki,Ri=x),ki.prototype.load=function(e){this.element.setAttribute("src",e)},ki.COMPLETE="load",ki.ERROR="error",ki);function ki(e){void 0===e&&(e={});var t,n=this;return e.type="img",e.path&&(t=e.path,e.path=null),e.src&&(t=e.src,e.src=null),(n=Ri.call(this,e)||this).load(t),n}var Pi,xi=(e(Mi,Pi=x),Mi);function Mi(e){void 0===e&&(e={});function t(e){void 0===e&&(e="");var t=window.location.pathname.substring(0,6);return window.location.hostname.match(/premierinn/)?""+Eo.config.hotelDetails.domain.desktop+window.location.hostname.replace(/.*?\./i,"")+t+e+"/home.html":""+window.location.origin+t+e+"/home.html"}var n=this,o={type:"a",className:["pi-logo"],attributes:{href:t()}},n=Pi.call(this,F.merge(o,e))||this,i=new Ni({src:Eo.content.header.image,attributes:{alt:Eo.content.global.brand.pi}});return n.addChild(i),Eo.addEventListener(n,Eo.USER_LOGGED_IN,function(){var e;go.isBusiness()&&(e=t(Eo.config.businessContentPath).replace("home","account/dashboard"),n.element.setAttribute("href",e))}),n}var Bi,Hi=(e(Fi,Bi=x),Fi);function Fi(e){void 0===e&&(e={});var t=Bi.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0L24 0 24 24 0 24z"/>\n                    <path fill="#58595B" d="M2.75 18.5h18.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H2.75c-.414 0-.75.336-.75.75s.336.75.75.75zm0-6h18.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H2.75c-.414 0-.75.336-.75.75s.336.75.75.75zM2 5.75c0 .414.336.75.75.75h18.5c.414 0 .75-.336.75-.75S21.664 5 21.25 5H2.75c-.414 0-.75.336-.75.75z"/>\n                </g>\n            </svg>',t}var Ui,Gi=(e(ji,Ui=x),ji);function ji(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===o&&(o={});var i=Ui.call(this,F.merge({type:"pi-modal",id:"pi-modal",className:["pi-modal"]},o))||this;i.closeModal=function(e){this.hide(),window.document.body.style.overflow="visible",e&&To.track.loginForm(Oo.Closed)},i.setContent=function(e){this.modalContent.addChild(e)};var r,a=new x({type:"modal-overlay",className:["pi-modal--overlay"]});i.addChild(a),i.modalContent=new x({type:"modal-content",className:["pi-modal--content"]}),i.addChild(i.modalContent),n||(r=new ko({type:"close-modal",id:"close-modal",className:["pi-modal--close"]}),i.modalContent.addChild(r),[r,a].forEach(function(e){e.addEventListener(i,"click",function(){i.closeModal(t)})})),i.modalTitle=new x({type:"modal-title",text:e,className:["pi-modal--title"]}),i.modalContent.addChild(i.modalTitle);var s=new x({type:"hr",id:"modal-line-break",className:["pi-modal--line-break"]});return i.modalContent.addChild(s),Eo.addEventListener(i,Eo.USER_LOGGED_IN,function(){i.closeModal(t)}),Eo.addEventListener(i,Eo.USER_WITH_ALLOWANCES_LOGGED_IN,function(){i.closeModal(t)}),Eo.addEventListener(i,Eo.OPEN_MODAL,function(e){e.eventData.type===i.id&&(window.document.body.style.overflow="hidden",i.show())}),Eo.addEventListener(i,Eo.UPDATE_MODAL_TITLE,function(e){var t=e.eventData;i.modalTitle.textContent=t}),i}var Wi,Vi=(e(Yi,Wi=x),Object.defineProperty(Yi.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0}),Yi);function Yi(e){var t=this;return e=F.merge({type:"info"},e),(t=Wi.call(this,{className:["wb-notification-new wb-notification-new__"+e.type,"wb-push-middle--bottom"]})||this).addChild(new x({type:"img",id:"wb-notification-new-icon",className:["wb-notification-new-icon"],attributes:{src:"https://www.premierinn.com/etc.clientlibs/pi/clientlibs/icons/resources/notifications/"+e.type+".svg",alt:""+e.type}})),t.content=new x({type:"wb-notification-content",className:["wb-notification-new-content","wb-notification-content-header"]}),t.addChild(t.content),e.headerText&&(t.notificationHeader=new x({type:"h3",className:[e.headerClassName?e.headerClassName:"wb-notification-new-header"],text:e.headerText}),t.content.addChild(t.notificationHeader)),e.text&&(t.notificationText=new x({className:[e.textClassName?e.textClassName:"wb-notification-new-text"],text:e.text}),t.content.addChild(t.notificationText)),e.bannerHTML&&(t.notificationText=new x({className:[e.textClassName?e.textClassName:"wb-notification-new-text"]}),t.notificationText.innerHtml=e.bannerHTML,t.content.addChild(t.notificationText)),e.link&&(t._link=new x({type:"a",className:["wb-a--secondary","wb-notification-link"],text:e.link.text,attributes:{href:e.link.href}}),e.link.inline?t.notificationText.addChild(t._link):t.content.addChild(t._link)),t}var zi,$i=(e(Ki,zi=x),Ki.prototype.showError=function(e){this.element.classList.add("wb-form-input-field__error"),this.errorType&&this.element.classList.add(this.errorType),this.errorText.textContent=e,this.error.show(),this.errorState=!0},Ki.prototype.hideError=function(){this.element.classList.remove("wb-form-input-field__error"),this.element.classList.remove("wb-form-input-field__error--helper-text"),this.error.hide(),this.errorState=!1},Ki.prototype.hasError=function(){return this.errorState},Ki.prototype.setPlaceholder=function(e){this.inputField.element.setAttribute("placeholder",e)},Ki.prototype.setLabel=function(e){this.label.textContent=e},Ki.prototype.clear=function(){var e=this.input.element;e.focus(),e.value=""},Ki.prototype.update=function(e){this.input.element.value=e||""},Ki.prototype.disable=function(){this.input.element.setAttribute("disabled","true")},Ki.prototype.enable=function(){this.input.element.removeAttribute("disabled")},Object.defineProperty(Ki.prototype,"input",{get:function(){return this.inputField},enumerable:!0,configurable:!0}),Object.defineProperty(Ki.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(Ki.prototype,"inputContainer",{get:function(){return this.inputWrapper},enumerable:!0,configurable:!0}),Ki.prototype.checkValidity=function(e){var t,n=this.input.element;!n.validity.valid&&n.validationMessage?(t=n.validationMessage,e&&e.customErrorMessage&&(t=e.customErrorMessage),this.showError(t)):this.hideError()},Ki);function Ki(e,t,n){void 0===e&&(e={});var o=zi.call(this,{type:"div",className:["wb-form-input-field"]})||this;o.errorState=!1;var i=e.data;return o.errorType=t&&t.errorType,o.inputWrapper=new x({className:["input-container"]}),o.inputField=new x(F.merge({type:"input",attributes:{type:"text",required:"required",placeholder:" "}},e)),o.label=new x({type:"div",attributes:{type:"text"},className:["label"]}),o.error=new x({type:"wb-error-tooltip",className:["wb-tooltip","wb-tooltip__error-light","wb-tooltip-error"]}),o.error.hide(),o.errorChevron=new x({type:"div",className:["wb-tooltip__chevron","wb-tooltip__chevron--top"]}),o.errorIcon=new x({type:"i",id:"wb-error-tooltip-icon",className:["wb-tooltip-icon","wb-icon","wb-icon--error"]}),o.errorContent=new x({type:"wb-error-tooltip-content",className:["wb-tooltip-content","wb-tooltip-content-header"]}),o.errorText=new x({type:"wb-error-tooltip-text",className:["wb-tooltip-text"]}),o.inputField.addEventListener(o,"change",function(e){o.checkValidity(t),n&&n(e)}),o.inputField.addEventListener(o,"invalid",function(e){e.sourceEvent.preventDefault(),o.checkValidity(t)}),i&&i.iconLeft&&o.inputWrapper.addChild(new x({type:"i",className:["wb-icon","wb-icon-left",i.iconLeft]})),i&&i.iconRight&&o.inputWrapper.addChild(new x({type:"i",className:["wb-icon","wb-icon-right",i.iconRight]})),o.inputWrapper.addChild(o.inputField),o.inputWrapper.addChild(o.label),o.addChild(o.inputWrapper),o.addChild(o.error),o.error.addChild(o.errorChevron),o.error.addChild(o.errorIcon),o.error.addChild(o.errorContent),o.errorContent.addChild(o.errorText),o}var qi,Qi=(e(Xi,qi=x),Xi.prototype.check=function(){this.checked=!this.checked,this.dispatchEvent(new k(Eo.CHECKBOX_UPDATED,this,this.checked))},Object.defineProperty(Xi.prototype,"checked",{get:function(){return this.checkboxInput.element.checked},set:function(e){this.checkboxInput.element.checked=e},enumerable:!0,configurable:!0}),Xi);function Xi(e,t){var n,o=qi.call(this,t)||this,i={type:"input",attributes:{type:"checkbox"}},r={type:"label",text:e.label};return e.code&&(n=e.code.toLowerCase()+"-checkbox",i.id=n,r.attributes={for:n}),o.checkbox=new x({type:"div",className:["wb-form-item","wb-checkbox"],attributes:{tabindex:"0"}}),o.addChild(o.checkbox),o.checkboxInput=new x(i),o.checkbox.addChild(o.checkboxInput),o.checkboxLabel=new x(r),o.checkbox.addChild(o.checkboxLabel),o.checked=e.checked,o.addEventListener(o,"click",o.check),o}var Zi=(Ji.setCookie=function(e,t,n,o,i,r){void 0===r&&(r="/"),document.cookie=Ji.constructCookie(e,t,n,o,i||null,r)},Ji.constructCookie=function(e,t,n,o,i,r){return void 0===r&&(r="/"),e+"="+t+(i?"; domain="+i:"")+"; path="+r+"; expires="+he().add(n,"day").add(o,"minute").toString()},Ji.getCookie=function(o){return document.cookie.split("; ").reduce(function(e,t){var n=t.split("=");return n[0]===o?decodeURIComponent(n[1]):e},"")},Object.defineProperty(Ji,"preferredBrand",{get:function(){var e=Ji.getCookie(Ji.PREFERRED_BRAND);return e?parseInt(e,10):void 0},set:function(e){Ji.setCookie(Ji.PREFERRED_BRAND,e.toString(),Eo.config.authentication.rememberPreferredBrand.daysTillExpiry,0,Eo.config.authentication.rememberPreferredBrand.cookieDomain||null)},enumerable:!0,configurable:!0}),Ji.setRememberMeEmail=function(e,t){Ji.setCookie(e===se.business?Ji.BUSINESS_REMEMBER_ME:Ji.LEISURE_REMEMBER_ME,t,Eo.config.authentication.rememberMeDaysTillExpiry||Ji.REMEMBER_ME_DEFAULT_EXPIRE_DAYS,0,Eo.config.authentication.rememberMeCookieDomain||null)},Ji.getRememberMeEmail=function(e){return e===se.business?Ji.getCookie(Ji.BUSINESS_REMEMBER_ME):Ji.getCookie(Ji.LEISURE_REMEMBER_ME)},Ji.clearRememberMeEmail=function(e){Ji.setCookie(e===se.business?Ji.BUSINESS_REMEMBER_ME:Ji.LEISURE_REMEMBER_ME,null,-1,0,null)},Ji.BUSINESS_REMEMBER_ME="BusinessRememberMeEmail",Ji.LEISURE_REMEMBER_ME="LeisureRememberMeEmail",Ji.REMEMBER_ME_DEFAULT_EXPIRE_DAYS=14,Ji.PREFERRED_BRAND="preferredBrand",Ji);function Ji(){}var er,tr=(e(nr,er=x),nr);function nr(e){var t=er.call(this,F.merge({className:["business-account-card-footer"]},e))||this,n=new x({type:"img",className:["banner-icon-image"],attributes:{src:Eo.content.authentication.login.businessAccountCard.banner.imagePath}});t.addChild(n);var o=new x({type:"div",className:["business-account-card-footer--content"]});t.addChild(o);var i=new x({type:"p",className:["bac-body"]});o.addChild(i);var r=new x({type:"span",text:Eo.content.authentication.login.businessAccountCard.textBody});i.addChild(r);var a=new x({type:"a",className:["wb-a"],text:Eo.content.authentication.login.businessAccountCard.buttonLabel,attributes:{href:Eo.config.authentication.businessAccountCardRedirectPath}});return i.addChild(a),t}var or,ir=(e(rr,or=x),rr.prototype.updateRememberMeInfoIfEnabled=function(){Eo.config.authentication.rememberMeEnabled&&(Zi.getRememberMeEmail(se.business)||Zi.getRememberMeEmail(se.leisure))&&(this.setRememberMeEmailIfEnabled(this.emailField),this.rememberMeCheckbox.checked=!!Zi.getRememberMeEmail(go.brand),this.emailField.hideError(),this.passwordField.hideError())},rr.prototype.setRememberMeEmailIfEnabled=function(e){Eo.config.authentication.rememberMeEnabled&&(e.value=Zi.getRememberMeEmail(go.brand))},rr.prototype.addRememberMeCheckboxIfEnabled=function(e){Eo.config.authentication.rememberMeEnabled&&(this.rememberMeCheckbox=new Qi({label:Eo.content.authentication.login.rememberMeLabel,code:"remember-me",checked:!!Zi.getRememberMeEmail(go.brand)}),e.addChild(this.rememberMeCheckbox))},rr.prototype.renderTextContent=function(e,t){var n=e.emailPlaceholder,o=e.loginButton;this.emailField.setLabel(n),this.passwordField.setLabel(Eo.content.authentication.login.passwordPlaceholder),this.signupMessage.textContent=Eo.content.authentication.login.signupMessage,this.signupLink.textContent=Eo.content.authentication.login.signupLink,this.submitButton.textContent=o,this.signupLink.href=t.signupUrl,this.signupMessage.addChild(this.signupLink),this.forgotPasswordUrl=t.forgotPasswordLink,this.forgotPasswordLink.href=t.forgotPasswordLink},rr.prototype.addBusinessAccountCardInfoIfBrandBusiness=function(e){e!==se.business&&this.BusinessAccountCardInfo.element.classList.add("hide")},rr.prototype.forgotPassword=function(e){(go.isBrand(se.leisure)&&Eo.config.authentication.leisureForgottenPasswordEnabled||go.isBrand(se.business)&&Eo.config.authentication.businessForgottenPasswordEnabled)&&(e.sourceEvent.preventDefault(),Eo.openForgottenPasswordForm())},rr.prototype.getBusinessLegacyLoginForm=function(e,t){var n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action",Eo.config.authentication.businessLegacyLoginEndpoint);function o(e,t){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n}return n.appendChild(o("j_username",e)),n.appendChild(o("j_password",t)),n},rr.prototype.sessionExpiryError=function(e){Eo.isSessionExpired()&&e.addChild(new Vi({type:"alert",text:Eo.content.authentication.login.sessionExpired}))},rr.BAD_CREDENTIALS="access_denied",rr);function rr(e){var i=or.call(this,F.merge({type:"login-form-wrapper",className:["login-form-wrapper"]},e))||this,t=new x({type:"form",className:["login-form"]}),r=new x({type:"form-errors"});t.addChild(r),i.emailField=new $i({id:"email-input",className:["sessioncamhidetext","assist-no-show"],attributes:{required:"required",type:"email",name:"email"}}),t.addChild(i.emailField),i.setRememberMeEmailIfEnabled(i.emailField),i.passwordField=new $i({attributes:{type:"password",name:"password",required:"required",placeholder:" "}}),t.addChild(i.passwordField);var n=new x({type:"div",className:["flex-container"]});t.addChild(n),i.addRememberMeCheckboxIfEnabled(n);var o=new x({type:"span"});return i.forgotPasswordLink=new x({type:"a",className:["wb-a","forgotten-password-link"],text:Eo.content.authentication.login.forgotPassword}),i.forgotPasswordLink.addEventListener(i,"click",function(e){return i.forgotPassword(e)}),o.addChild(i.forgotPasswordLink),n.addChild(o),i.submitButton=new Vo({attributes:{type:"submit"},className:["wb-btn","wb-btn--primary"]}),t.addChild(i.submitButton),t.addEventListener(i,"submit",function(e){e.sourceEvent.preventDefault(),r.removeAllChildren();var t,n,o=go.isBrand(se.business);Eo.config.authentication.businessLegacyLoginEnabled&&o?(t=i.getBusinessLegacyLoginForm(i.emailField.value,i.passwordField.value),document.body.appendChild(t),t.submit()):(n=!!i.rememberMeCheckbox&&i.rememberMeCheckbox.checked,Eo.updateRememberMeAndEmailStateIfRememberMeEnabled(n,i.emailField.value,o),Eo.logInUser(i.emailField.value,i.passwordField.value,o))}),i.signupMessage=new x({type:"p",className:["signup"]}),i.signupLink=new x({type:"a",className:["wb-a"],text:Eo.content.authentication.login.forgotPassword}),t.addChild(i.signupMessage),i.BusinessAccountCardInfo=new tr,t.addChild(i.BusinessAccountCardInfo),i.addChild(t),Eo.addEventListener(i,Eo.SET_BRAND,function(e){i.renderTextContent(e.data.content,e.data.config),i.addBusinessAccountCardInfoIfBrandBusiness(e.data.brand),e.data.initial||r.removeAllChildren(),i.updateRememberMeInfoIfEnabled()}),Eo.addEventListener(i,Eo.LOG_IN_ERROR,function(e){var t;r.removeAllChildren(),e.data.code===rr.BAD_CREDENTIALS?((t=new Vi({type:"alert",text:Eo.content.authentication.login.badCredentialsError,link:{text:Eo.content.authentication.login.forgotPassword,href:i.forgotPasswordUrl}})).link.addEventListener(i,"click",function(e){return i.forgotPassword(e)}),r.addChild(t)):r.addChild(new Vi({type:"alert",text:Eo.content.authentication.login.genericError}))}),i.sessionExpiryError(r),i}var ar,sr=(e(lr,ar=Vo),lr.prototype.disable=function(){ar.prototype.disable.call(this),this.style({backgroundColor:ie.colours.greyScale.lightest,color:ie.colours.greyScale.light})},lr.prototype.enable=function(){ar.prototype.enable.call(this),this.style(this.enabledColours)},lr);function lr(e){var t=ar.call(this,F.merge({fontSize:ie.fontSizes.s,height:"35px",fontFamily:"inherit",border:"none",outline:"none",borderRadius:"0.2rem",textAlign:"center",fontWeight:ie.fontWeights.bold,hover:{durationIn:0,durationOut:.5}},e))||this;return t.enabledColours={color:e.color,backgroundColor:e.backgroundColor},t}var cr,dr=(e(ur,cr=sr),ur);function ur(e){void 0===e&&(e={});var t={height:ie.lineHeight.xs,color:ie.colours.secondary.darkest,backgroundColor:"transparent",fontWeight:ie.fontWeights.normal,textDecoration:"underline"};return cr.call(this,F.merge(t,e))||this}var hr,pr=(e(mr,hr=x),mr.prototype.renderTextContent=function(e){var t=e.formTitle,n=e.formLabel,o=e.submitButton,i=e.emailPlaceholder;this.formTitle.textContent=t,this.formLabel.textContent=n,this.emailField.setLabel(i),this.submitButton.textContent=o},mr.prototype.closeForgottenPasswordForm=function(e){e.sourceEvent.preventDefault(),this.formErrors.removeAllChildren(),Eo.cancelForgottenPasswordForm()},mr.prototype.addErrorNotification=function(e,t){this.formErrors.addChild(new Vi({type:"alert",text:e,link:t}))},mr.prototype.requestResetPassword=function(e){var n=this;return So.requestResetPassword(e,go.isBrand(se.business)).then(function(e){var t;e.success?Eo.passwordResetEmailSent():("012"===e.name?(t=go.isBrand(se.leisure)?{text:Eo.content.authentication.login.leisure.signupButton,href:Eo.config.authentication.leisure.signupUrl}:{text:Eo.content.authentication.login.business.signupButton,href:Eo.config.authentication.business.signupUrl},n.addErrorNotification(Eo.content.authentication.forgottenPassword.notRegisteredError,t),n.submitButton.disable()):n.addErrorNotification(Eo.content.authentication.forgottenPassword.genericError),To.track.forgotPasswordError(e.name,e.message,go.brand))})},mr);function mr(e){var t=hr.call(this,F.merge({type:"forgotten-password-form"},e))||this;t.awaitingCall=!1;var n=new x({type:"form"});return t.formTitle=new x({type:"h4",className:["forgotten-password-form--title"]}),n.addChild(t.formTitle),t.formLabel=new x({type:"p",className:["forgotten-password-form--text"]}),n.addChild(t.formLabel),t.formErrors=new x({type:"form-errors"}),n.addChild(t.formErrors),t.emailField=new $i({id:"email-field",className:["sessioncamhidetext","assist-no-show","forgotten-password-form--input-field"],attributes:{type:"email",name:"email",required:"required",placeholder:" "}},{customErrorMessage:Eo.content.authentication.login.invalidEmail},function(){t.formErrors.removeAllChildren(),t.submitButton.enable()}),n.addChild(t.emailField),t.submitButton=new Vo({attributes:{type:"submit"},className:["wb-btn","wb-btn--primary","forgotten-password-form--button"]}),n.addChild(t.submitButton),t.cancelLink=new dr({type:"cancel-link",className:["wb-a","forgotten-password-form--cancel"],text:Eo.content.authentication.forgottenPassword.cancel}),t.cancelLink.addEventListener(t,"click",t.closeForgottenPasswordForm),n.addChild(t.cancelLink),n.addEventListener(t,"submit",function(e){e.sourceEvent.preventDefault(),t.awaitingCall||(t.formErrors.removeAllChildren(),t.awaitingCall=!0,t.requestResetPassword(t.emailField.value).then(function(){t.awaitingCall=!1}),To.track.forgotPasswordFormEmailSent(go.brand))}),Eo.addEventListener(t,Eo.SET_FORGOTTEN_PASSWORD_CONTENT,function(e){t.submitButton.enable(),t.formErrors.removeAllChildren(),t.renderTextContent(e.data.content)}),t.addChild(n),t}var fr,gr=(e(yr,fr=x),yr.prototype.backToLoginButtonClicked=function(e){e.sourceEvent.preventDefault(),Eo.dispatchEvent(new k(Eo.HIDE_PASSWORD_RESET_MESSAGE,this))},yr);function yr(){var t=fr.call(this,{className:["forgotten-password-form"]})||this,e=new x({type:"h4",text:Eo.content.authentication.forgottenPassword.emailSentHeader,className:["email-sent-message__header"]});t.addChild(e);var n=new x({type:"p",text:Eo.content.authentication.forgottenPassword.emailSentMessage,className:["email-sent-message__text"]});t.addChild(n);var o=new dr({type:"back-to-login-link",className:["wb-a","email-sent-message__back-to-login"],text:Eo.content.authentication.forgottenPassword.backToLogin});return o.addEventListener(t,"click",function(e){return t.backToLoginButtonClicked(e)}),t.addChild(o),t}var vr,Er=(e(br,vr=x),br.prototype.setInitialBrand=function(){return Eo.config.experiments.betaBusiness||"business"===Eo.config.authentication.defaultLoginTab&&Eo.config.authentication.businessLoginEnabled||Eo.isDuringBusinessTabSwitch()?se.business:se.leisure},br.prototype.showTabs=function(){this.tabs&&this.tabs.style({display:"flex"})},br.prototype.hideTabs=function(){this.tabs&&this.tabs.hide()},br);function br(e,t){var n=vr.call(this,F.merge({type:"login-console",className:["login-console"]},t))||this;n.viewType=e;var o=Eo.config.authentication.businessLoginEnabled&&!Eo.config.experiments.betaBusiness,i=["login-console--container"],r=new x({className:o?y(i,["multi-login-tabs"]):i});o&&(n.tabs=new Ai,r.addChild(n.tabs));var a,s=new ir;r.addChild(s),(Eo.config.authentication.leisureForgottenPasswordEnabled||Eo.config.authentication.businessForgottenPasswordEnabled)&&((a=new pr).hide(),r.addChild(a)),Eo.setBrand(n.setInitialBrand(),!0),o&&Eo.addEventListener(n,Eo.SET_BRAND,function(){Ai.isForgottenPasswordOpen()||(go.isBrand(se.business)?To.track.loginForm(Oo.BusinessBooker):To.track.loginForm(Oo.Personal))});var l=new gr;return l.hide(),r.addChild(l),n.addChild(r),Eo.addEventListener(n,Eo.OPEN_FORGOTTEN_PASSWORD_FORM,function(){n.hideTabs(),s.hide(),To.track.loginForm(Oo.PasswordReset),a.show(),Ai.openForgottenPasswordForm(),Eo.dispatchEvent(new k(Eo.UPDATE_MODAL_TITLE,null,""))}),Eo.addEventListener(n,Eo.CANCEL_FORGOTTEN_PASSWORD_FORM,function(){n.showTabs(),a.hide(),s.style({display:"flex"});var e=go.isBrand(se.business);e?To.track.loginForm(Oo.BusinessBooker):To.track.loginForm(Oo.Personal),Ai.closeForgottenPasswordForm();var t=e?Eo.content.authentication.login.business.formLabel:Eo.content.authentication.login.leisure.formLabel;Eo.dispatchEvent(new k(Eo.UPDATE_MODAL_TITLE,null,t))}),Eo.addEventListener(n,Eo.PASSWORD_RESET_EMAIL_SENT,function(){n.hideTabs(),a.hide(),s.hide(),l.show(),Eo.setResetPasswordMessageDisplayed(!0,n.viewType)}),Eo.addEventListener(n,Eo.HIDE_PASSWORD_RESET_MESSAGE,function(){var e,t;Eo.getResetPasswordMessageDisplayed(n.viewType)&&(n.showTabs(),l.hide(),a.hide(),s.style({display:"flex"}),Eo.setResetPasswordMessageDisplayed(!1,n.viewType),Ai.closeForgottenPasswordForm(),(e=go.isBrand(se.business))?To.track.loginForm(Oo.BusinessBooker):To.track.loginForm(Oo.Personal),t=e?Eo.content.authentication.login.business.formLabel:Eo.content.authentication.login.leisure.formLabel,Eo.dispatchEvent(new k(Eo.UPDATE_MODAL_TITLE,null,t)))}),n}var wr,Cr=(e(Sr,wr=W),Sr.prototype.update=function(e){this.element.value=e||""},Sr.prototype.clear=function(){var e=this.element;e.focus(),e.value=""},Sr.prototype.activate=function(){this.removeEventListener("mouseover",this.over),this.removeEventListener("mouseout",this.out),this.state===Sr.DEFAULT&&this.style(this.activeStyle),this.active=!0},Sr.prototype.inactive=function(){this.addEventListener(this,"mouseover",this.over),this.addEventListener(this,"mouseout",this.out),this.state===Sr.DEFAULT&&this.updateStyle({style:this.inActiveStyle,hover:this.activeStyle}),this.active=!1,this.out()},Sr.prototype.highlightFieldError=function(){this.state=Sr.ERROR,this.active?this.style(this.activeErrorStyle):this.style(this.inActiveErrorStyle),this.updateStyle({style:this.inActiveErrorStyle,hover:this.activeErrorStyle})},Sr.prototype.highlightFieldGenericError=function(){this.state=Sr.GENERIC_ERROR,this.active?this.style(this.activeGenericErrorStyle):this.style(this.inActiveGenericErrorStyle),this.updateStyle({style:this.inActiveGenericErrorStyle,hover:this.activeGenericErrorStyle})},Sr.prototype.hideFieldHighlightError=function(){this.state=Sr.DEFAULT,this.updateStyle({style:this.activeStyle,hover:this.activeStyle}),this.out()},Sr.prototype.highlightFieldWarning=function(){this.state=Sr.WARNING,this.active?this.style(this.activeWarningStyle):this.style(this.inActiveWarningStyle),this.updateStyle({style:this.inActiveWarningStyle,hover:this.activeWarningStyle})},Sr.prototype.disable=function(){this.element.setAttribute("disabled","true")},Sr.prototype.enable=function(){this.element.removeAttribute("disabled")},Sr.ERROR="ERROR",Sr.GENERIC_ERROR="GENERIC_ERROR",Sr.WARNING="WARNING",Sr.DEFAULT="DEFAULT",Sr);function Sr(e){void 0===e&&(e={});var t=wr.call(this,F.merge({color:ie.colours.greyScale.darkest,fontSize:ie.fontSizes.base,display:"block",padding:"0 "+ie.spacing.s,outline:"none",outlineOffset:"0",margin:"0",textAlign:"left",border:"none",type:"input",textOverflow:"ellipsis",webkitAppearance:"none",attributes:{type:"text"}},e))||this;return t.state=Sr.DEFAULT,t.active=!1,t.addEventListener(t,"focus",t.activate),t.addEventListener(t,"blur",t.inactive),t}var Lr=setTimeout;function Dr(){}function Or(e){if(!(this instanceof Or))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Nr(e,this)}function _r(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,Or._immediateFn(function(){var e,t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void Ar(o.promise,e)}Tr(o.promise,e)}else(1===n._state?Tr:Ar)(o.promise,n._value)})):n._deferreds.push(o)}function Tr(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Or)return t._state=3,t._value=e,void Ir(t);if("function"==typeof n)return void Nr((o=n,i=e,function(){o.apply(i,arguments)}),t)}t._state=1,t._value=e,Ir(t)}catch(e){Ar(t,e)}var o,i}function Ar(e,t){e._state=2,e._value=t,Ir(e)}function Ir(e){2===e._state&&0===e._deferreds.length&&Or._immediateFn(function(){e._handled||Or._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)_r(e,e._deferreds[t]);e._deferreds=null}function Rr(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Nr(e,t){var n=!1;try{e(function(e){n||(n=!0,Tr(t,e))},function(e){n||(n=!0,Ar(t,e))})}catch(e){if(n)return;n=!0,Ar(t,e)}}Or.prototype.catch=function(e){return this.then(null,e)},Or.prototype.then=function(e,t){var n=new this.constructor(Dr);return _r(this,new Rr(e,t,n)),n},Or.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},Or.all=function(t){return new Or(function(i,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(t);if(0===a.length)return i([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(e){t(n,e)},r)}a[n]=e,0==--s&&i(a)}catch(e){r(e)}}(e,a[e])})},Or.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Or?t:new Or(function(e){e(t)})},Or.reject=function(n){return new Or(function(e,t){t(n)})},Or.race=function(i){return new Or(function(e,t){for(var n=0,o=i.length;n<o;n++)i[n].then(e,t)})},Or._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){Lr(e,0)},Or._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var kr=Or,Pr=function(e,t){this.width=e,this.height=t},xr=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},Mr=(Object.defineProperty(Br.prototype,"target",{get:function(){return this.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(Br.prototype,"type",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(Br.prototype,"data",{get:function(){return this.eventData},set:function(e){this.eventData=e},enumerable:!0,configurable:!0}),Object.defineProperty(Br.prototype,"sourceEvent",{get:function(){return this.eventSourceEvent},enumerable:!0,configurable:!0}),Br);function Br(e,t,n,o){this.eventType=e,this.eventTarget=t,this.eventSourceEvent=o,this.eventData=n}var Hr=(Fr.prototype.hasEventListener=function(e,t){var n,o,i=!1;try{for(var r=xr(this.listeners),a=r.next();!a.done;a=r.next()){var s=a.value;s.type===e&&s.listener===t&&(i=!0)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return i},Fr.prototype.addEventListener=function(e,t,n,o,i,r){void 0===i&&(i=!1),this.hasEventListener(t,n)||this.listeners.push({scope:e,type:t,listener:n,useCapture:i,scopedEventListener:r,data:o})},Fr.prototype.removeEventListener=function(t,n){var e=this.listeners.filter(function(e){return e.type===t&&e.listener.toString()===n.toString()});return this.listeners=this.listeners.filter(function(e){return!(e.type===t&&e.listener.toString()===n.toString())}),e[0]},Fr.prototype.dispatchEvent=function(e){Fr.logEvents&&console.log("event dispatch: ",e);try{for(var t=xr(this.listeners),n=t.next();!n.done;n=t.next()){var o=n.value;o.type===e.type&&(o.data&&(e.data=o.data),o.listener.call(o.scope,e))}}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}}var i,r},Fr.logEvents=!1,Fr);function Fr(){this.listeners=[]}var Ur=(Gr.style=function(e,t){var n,o=e.element?e.element:e;for(n in t)t.hasOwnProperty(n)&&(o.style[n]=t[n])},Gr);function Gr(){}var jr=(Wr.setRules=function(t,e){matchMedia&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){Wr.addListeners(t,e)}))},Wr.addListeners=function(e,t){var n;t.minWidth&&t.maxWidth?n="(min-width: "+(t.minWidth+1)+"px) and (max-width: "+t.maxWidth+"px)":(t.minWidth&&(n="(min-width: "+(t.minWidth+1)+"px)"),t.maxWidth&&(n="(max-width: "+t.maxWidth+"px)")),Wr.applyRuleAddListener(e,t,n)},Wr.applyRuleAddListener=function(t,n,e){var o=window.matchMedia(e);Wr.applyRule(t,n,o),o.addListener(function(e){Wr.applyRule(t,n,e)})},Wr.applyRule=function(e,t,n){n.matches&&(t.duration&&0!==t.duration?e.to({duration:t.duration,toVars:t.style}):Ur.style(e,t.style))},Wr);function Wr(){}var Vr,Yr,zr=(Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Vr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Kr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($r(arguments[t]));return e},qr=(zr(Qr,Yr=Hr),Object.defineProperty(Qr.prototype,"timeouts",{get:function(){return this.timeoutsArray},enumerable:!0,configurable:!0}),Qr.prototype.killAnimations=function(){this.timeoutsArray.forEach(function(e){clearTimeout(e)}),this.timeoutsArray=[]},Qr.prototype.addToBody=function(){document.body.appendChild(this.htmlElement)},Qr.prototype.style=function(e){Ur.style(this.htmlElement,e)},Qr.prototype.className=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.reduce(function(e,t){return e+" "+t});this.htmlElement.className?this.htmlElement.className=this.htmlElement.className+" "+n:this.htmlElement.className=n},Qr.prototype.insertBefore=function(e,t){e&&e.element&&this.htmlElement.insertBefore(e.element,t.element)},Qr.prototype.appendChild=function(e){e&&e.element&&this.element.appendChild(e.element)},Qr.prototype.addChild=function(e){this.appendChild(e)},Qr.prototype.removeChild=function(e){e&&this.htmlElement===e.htmlElement.parentNode&&this.htmlElement.removeChild(e.htmlElement)},Qr.prototype.removeAllChildren=function(){for(;this.htmlElement.hasChildNodes();)this.htmlElement.removeChild(this.htmlElement.lastChild)},Qr.prototype.to=function(n){var o=this,t=10;return n.delay&&(t=1e3*n.delay),this.timeoutsArray.push(setTimeout(function(){for(var e in n.toVars){var t;n.toVars.hasOwnProperty(e)&&(t={duration:0,count:0},0<=n.duration&&(t.duration=n.duration),o.transitions[e]&&(t.count=o.transitions[e].count+1),o.transitions[e]=t)}Ur.style(o.htmlElement,{transition:o.convertTransitionObjectToString(o.transitions)}),n.ease&&Ur.style(o.htmlElement,{transitionTimingFunction:n.ease.toString()}),Ur.style(o.htmlElement,n.toVars)},t)),n.resolve?(this.timeoutsArray.push(setTimeout(function(){Ur.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),o.dispatchEvent(new Mr(Qr.TRANSITION_COMPLETE,o)),n.resolve(o)},1e3*n.duration+t)),null):new kr(function(e){o.timeoutsArray.push(setTimeout(function(){Ur.style(o.htmlElement,{transition:o.removeCompletedTransitionsAndReapply(n.toVars)}),e(o),o.dispatchEvent(new Mr(Qr.TRANSITION_COMPLETE,o))},1e3*n.duration+t))})},Qr.prototype.fromTo=function(t){var n=this;return t.delay?(t.delay=1e3*t.delay,t.immediateRender&&Ur.style(this.htmlElement,t.fromVars)):(Ur.style(this.htmlElement,t.fromVars),t.delay=10),new kr(function(e){n.timeoutsArray.push(setTimeout(function(){Ur.style(n.htmlElement,t.fromVars),n.timeoutsArray.push(setTimeout(function(){n.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:e})},10))},t.delay))})},Qr.prototype.addEventListener=function(t,n,o,i,e){void 0===e&&(e=!1);function r(e){o.apply(t,[new Mr(n,a,i,e)])}var a=this;Yr.prototype.addEventListener.call(this,t,n,o,i,e,r),this.htmlElement.addEventListener?this.htmlElement.addEventListener(n,r,e):this.htmlElement.attachEvent&&(this.htmlElement.attachEvent("on"+n,r),this.htmlElement.attachEvent("onpropertychange",function(e){e.eventType===n&&(e.cancelBubble=!0,e.returnValue=!1,e.data=e.customData,r(e))}))},Qr.prototype.removeEventListener=function(e,t){var n=Yr.prototype.removeEventListener.call(this,e,t);return n&&(this.htmlElement.removeEventListener?this.htmlElement.removeEventListener(e,n.scopedEventListener,n.useCapture):this.htmlElement.detachEvent&&this.htmlElement.detachEvent("on"+e,t)),n},Qr.prototype.hide=function(){this.originalDisplay="none"!==this.htmlElement.style.display?this.htmlElement.style.display:"",Ur.style(this.htmlElement,{display:"none"})},Qr.prototype.show=function(){var e=this.originalDisplay;e&&""!==e||(e="block"),Ur.style(this.htmlElement,{display:e})},Qr.prototype.fillContainer=function(){Ur.style(this.htmlElement,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},Qr.prototype.centreHorizontal=function(){Ur.style(this.htmlElement,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},Qr.prototype.centreHorizontalText=function(){Ur.style(this.htmlElement,{textAlign:"center"})},Qr.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Qr.prototype.responsive=function(e){jr.setRules(this,e)},Qr.prototype.convertTransitionObjectToString=function(e){var t,n="";for(t in e){e.hasOwnProperty(t)&&(""!==n&&(n+=", "),n+=this.camelToHyphen(t)+" "+e[t].duration+"s",e[t].delay&&(n+=" "+e[t].delay+"s"))}return n},Qr.prototype.removeCompletedTransitionsAndReapply=function(e){for(var t in e)this.transitions[t]&&(0<this.transitions[t].count?this.transitions[t].count--:delete this.transitions[t]);return this.convertTransitionObjectToString(this.transitions)},Qr.prototype.camelToHyphen=function(e){return e.replace(/[a-z][A-Z]/g,function(e){var t=e.split("");t[2]=t[1],t[1]="-",t[2]=t[2].toLowerCase();var n="";return t.map(function(e){n+=e}),n})},Object.defineProperty(Qr.prototype,"width",{get:function(){return this.shadow().width},set:function(e){"number"==typeof e&&(e+="px"),Ur.style(this.htmlElement,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"height",{get:function(){return this.shadow().height},set:function(e){Ur.style(this.htmlElement,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"y",{get:function(){return this.htmlElement.offsetTop},set:function(e){Ur.style(this.htmlElement,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"x",{get:function(){return this.htmlElement.offsetLeft},set:function(e){Ur.style(this.htmlElement,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"alpha",{get:function(){return parseFloat(this.htmlElement.style.opacity)},set:function(e){Ur.style(this.htmlElement,{opacity:e.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"data",{get:function(){return this.instanceData},set:function(e){this.instanceData=e},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"innerText",{get:function(){return this.htmlElement.innerText},set:function(e){this.htmlElement.innerText=e},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"textContent",{get:function(){return this.htmlElement.textContent},set:function(e){this.htmlElement.textContent=e},enumerable:!0,configurable:!0}),Qr.prototype.shadow=function(){if(document.body.contains(this.htmlElement))return this.dimensionsPolyfill();var e=this.htmlElement.parentElement;document.body.appendChild(this.htmlElement);var t=this.dimensionsPolyfill();return document.body.removeChild(this.htmlElement),e?e.appendChild(this.htmlElement):document.body.removeChild(this.htmlElement),t},Qr.prototype.dimensionsPolyfill=function(){var e=this.htmlElement.getBoundingClientRect().height,t=this.htmlElement.getBoundingClientRect().width;return t||(t=this.htmlElement.scrollWidth,e=this.htmlElement.scrollHeight),new Pr(t,e)},Object.defineProperty(Qr.prototype,"value",{get:function(){return this.htmlElement.value},set:function(e){this.htmlElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"id",{get:function(){return this.htmlElement.id},set:function(e){this.htmlElement.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"element",{get:function(){return this.htmlElement},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"innerHtml",{get:function(){return this.htmlElement.innerHTML},set:function(e){this.htmlElement.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(Qr.prototype,"href",{get:function(){return this.htmlElement.href},set:function(e){this.htmlElement.href=e},enumerable:!0,configurable:!0}),Qr.TRANSITION_COMPLETE="TRANSITION_COMPLETE",Qr);function Qr(e){var t=Yr.call(this)||this;if(t.transitions={},t.timeoutsArray=[],t.originalDisplay="block",e){for(var n in e.root&&!document.getElementById("app")?(t.htmlElement=document.createElement("div"),t.htmlElement.style.position="absolute",t.htmlElement.style.height="100%",t.htmlElement.style.width="100%",t.htmlElement.style.top="0px",t.htmlElement.style.left="0px",t.htmlElement.style.margin="0px",t.htmlElement.id="app",document.body.appendChild(t.htmlElement)):e.type?t.htmlElement=document.createElement(e.type):t.htmlElement=document.createElement("div"),e.id&&(t.htmlElement.id=e.id),e.text&&(t.htmlElement.textContent=e.text),e.name&&"select"===e.type&&(t.htmlElement.name=e.name),e.attributes)e.attributes.hasOwnProperty(n)&&t.htmlElement.setAttribute(n,e.attributes[n]);t.instanceData=e.data,e.styles&&e.styles.forEach(function(e){Ur.style(t.htmlElement,e)}),Ur.style(t.htmlElement,e.style),e.className&&t.className.apply(t,Kr(e.className)),Ur.style(t.htmlElement,e),e.responsive&&t.responsive(e.responsive)}else t.htmlElement=document.createElement("div");return t}var Xr=(Zr.merge=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),Array.isArray(t)&&0===Object.keys(e).length)e=[].concat(t);else if("object"!=typeof e||"object"!=typeof t)e=t;else{for(var o in t)if(t.hasOwnProperty(o)){if("object"==typeof t[o]){e[o]=n?Zr.immutableMerge(e[o],t[o]):Zr.merge(e[o],t[o]);continue}e[o]=t[o]}t instanceof Date&&(e=t)}return e},Zr.immutableMerge=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.merge({},e,!0);return this.merge(n,t,!0)},Zr.flattenConfigStyles=function(e){if(e){var t=e;return e.styles&&e.styles.map(function(e){Zr.merge(t,e)}),e.style&&Zr.merge(t,e.style),t}return{}},Zr);function Zr(){}var Jr,ea;(Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}Jr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(ta,ea=qr),ta.prototype.over=function(){var e;this.styles.hover&&(e=Xr.flattenConfigStyles(this.styles.hover),this.to({duration:this.styles.hover.durationIn,toVars:e}))},ta.prototype.out=function(){if(this.styles.hover){var e,t=Xr.flattenConfigStyles(this.styles.hover),n=Xr.flattenConfigStyles(this.styles),o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=n[e]?n[e]:"inherit");this.to({duration:this.styles.hover.durationOut,toVars:o})}},ta.prototype.updateStyle=function(e){void 0===e&&(e={}),this.styles=Xr.flattenConfigStyles(e)};function ta(e){var t=ea.call(this,e)||this;return t.styles=Xr.flattenConfigStyles(e),t.addEventListener(t,"mouseover",t.over),t.addEventListener(t,"mouseout",t.out),t}var na,oa;(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}na(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(ia,oa=qr),ia.prototype.update=function(e){(e=decodeURIComponent(e))!==this.currentPageName&&(this.routes&&history.pushState(null,null,e),this.changePage(e))},ia.prototype.changePage=function(e){var t,n,o=this;this.currentPageName=e,this.config.pages[e]?(clearTimeout(this.delayTimeout),this.currentPage&&(this.currentPage.sleep&&this.currentPage.sleep(),this.config.delayTransition?(t=this.currentPage,this.delayTimeout=setTimeout(function(){o.removeChild(t)},1e3*this.config.delayTransition)):this.removeChild(this.currentPage)),this.pages[e]||(n=new this.config.pages[e].view(this.config.pages[e].payload),this.pages[e]=n),this.currentPage=this.pages[e],this.currentPage.wake&&this.currentPage.wake(),this.addChild(this.currentPage)):this.config.redirect?this.update("/"):this.config.errorPage&&this.changePage(this.config.errorPage)};function ia(e){var n=oa.call(this,{id:e.id,style:{position:"relative"}})||this;return n.pages={},n.routes=!0,n.config=e,n.style(e.style),!1===e.routes&&(n.routes=!1),n.routes&&(window.addEventListener("popstate",function(e){var t=null===e.state?window.location.pathname:e.state;n.changePage(t)}),n.changePage(window.location.pathname)),n}var ra,aa;(ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(sa,aa=qr);function sa(){return aa.call(this,{root:!0})||this}var la,ca;da.scrollY=function(){var e=document.body.scrollTop;return 0===e&&(e=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),e},da.scrollX=function(){var e=document.body.scrollLeft;return 0===e&&(e=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),e},Object.defineProperty(da,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(da,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0});function da(){}(la={})[la.Distance=1]="Distance",la[la.Price=2]="Price",(ca={})[ca.Map=1]="Map",ca[ca.List=2]="List";var ua=function(e,t){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ha(e,t){function n(){this.constructor=e}ua(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pa,ma=(ha(fa,pa=Error),fa);function fa(e,t){var n=pa.call(this,"Error code: "+t+", Description: "+e)||this;return n.description=e,n.code=t,n}var ga=(ya.padLeft=function(e){return e<10?"0"+e.toString():e.toString()},ya.buildCSVString=function(e,t){return""!==e?e+","+t:t},ya.pluralise=function(e,t,n){return 0<e?1===e?e+" "+t:e+" "+n:""},ya.countNonWhitespaceCharacters=function(e){return e.replace(/\s/g,"").length},ya.alphaStripper=function(e){var t=new RegExp(/(alpha)(2)?(-)/gi);return e.replace(t,"")},ya.isRegexValid=function(e,t){return e.test(t)},ya.capitalise=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ya);function ya(){}var va;ha(Ea,va=Hr),Ea.get=function(e){return this.load(e,this.httpMethods.GET)},Ea.post=function(e){return this.load(e,this.httpMethods.POST)},Ea.put=function(e){return this.load(e,this.httpMethods.PUT)},Ea.update=function(e){return this.load(e,this.httpMethods.UPDATE)},Ea.delete=function(e){return this.load(e,this.httpMethods.DELETE)},Ea.load=function(r,a){var s=this;return new kr(function(e,t){var n,o,i=window.XDomainRequest;XMLHttpRequest?(n=new XMLHttpRequest,a===Ea.httpMethods.GET&&(r.url=r.url+s.concatParams(r.params)),n.open(a,r.url,!0),n.timeout=2e4,r.headers&&r.headers.map(function(e){n.setRequestHeader(e.value,e.variable)}),n.onload=function(){return s.loaded(n,e,t)},n.ontimeout=function(){return s.loaded(n,e,t)},n.onerror=function(){return t(new Error("Network Error"))},n.send(r.params)):((o=new i).open(a,r.url),o.onload=function(){return e(o.responseText)},o.onerror=function(){return t(new Error("Network Error"))},setTimeout(function(){o.send()},0))})},Ea.concatParams=function(e){var t,n="?";for(t in e)e.hasOwnProperty(t)&&(n=""+n+t+"="+encodeURI(e[t])+"&");return n=n.slice(0,-1)},Ea.loaded=function(e,t,n){if(200===e.status)return t(JSON.parse(e.responseText));var o=void 0;return 0===e.status?(o.details="Network Error 0x2ee7",o.code=e.status):o=JSON.parse(e.responseText),n(new ma(JSON.stringify(o.details),o.code))},Ea.httpMethods={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE",UPDATE:"UPDATE"},Ea.COMPLETE="COMPLETE",Ea.ERROR="ERROR";function Ea(){return null!==va&&va.apply(this,arguments)||this}function ba(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(n[o]=e[o]);return n}var wa,Ca,Sa=Object.prototype.hasOwnProperty,La=Array.isArray,Da=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Oa={arrayToObject:ba,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],r=i.obj[i.prop],a=Object.keys(r),s=0;s<a.length;++s){var l=a[s],c=r[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:r,prop:l}),n.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(La(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var o=e.replace(/\+/g," ");if("iso-8859-1"===n)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,n){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",r=0;r<o.length;++r){var a=o.charCodeAt(r);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=o.charAt(r):a<128?i+=Da[a]:a<2048?i+=Da[192|a>>6]+Da[128|63&a]:a<55296||57344<=a?i+=Da[224|a>>12]+Da[128|a>>6&63]+Da[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(r)),i+=Da[240|a>>18]+Da[128|a>>12&63]+Da[128|a>>6&63]+Da[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function o(i,r,a){if(!r)return i;if("object"!=typeof r){if(La(i))i.push(r);else{if(!i||"object"!=typeof i)return[i,r];(a&&(a.plainObjects||a.allowPrototypes)||!Sa.call(Object.prototype,r))&&(i[r]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(r);var e=i;return La(i)&&!La(r)&&(e=ba(i,a)),La(i)&&La(r)?(r.forEach(function(e,t){var n;Sa.call(i,t)?(n=i[t])&&"object"==typeof n&&e&&"object"==typeof e?i[t]=o(n,e,a):i.push(e):i[t]=e}),i):Object.keys(r).reduce(function(e,t){var n=r[t];return Sa.call(e,t)?e[t]=o(e[t],n,a):e[t]=n,e},e)}},_a=Oa.arrayToObject,Ta=Oa.assign,Aa=Oa.combine,Ia=Oa.compact,Ra=Oa.decode,Na=Oa.encode,ka=Oa.isBuffer,Pa=Oa.isRegExp,xa=Oa.merge,Ma=Object.freeze({default:Oa,__moduleExports:Oa,arrayToObject:_a,assign:Ta,combine:Aa,compact:Ia,decode:Ra,encode:Na,isBuffer:ka,isRegExp:Pa,merge:xa}),Ba=Ma?Oa:Ma,Ha=String.prototype.replace,Fa=/%20/g,Ua={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ga=Ba.assign({default:Ua.RFC3986,formatters:{RFC1738:function(e){return Ha.call(e,Fa,"+")},RFC3986:function(e){return String(e)}}},Ua),ja=Object.freeze({default:Ga,__moduleExports:Ga}),Wa=ja&&Ga||ja,Va=(Object.prototype.hasOwnProperty,Array.isArray,Array.prototype.push,Date.prototype.toISOString),Ya=Wa.default,za=(Ba.encode,Wa.formatters[Ya],Object.prototype.hasOwnProperty,Array.isArray,Ba.decode,wa=function(e,t){return(wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}wa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$a=function(){return($a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ka=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o},qa="Tab",Qa="Space",Xa="Enter",Za="ArrowUp",Ja="ArrowRight",es="ArrowDown",ts="ArrowLeft",ns=(za(os,Ca=x),Object.defineProperty(os.prototype,"selectedDate",{get:function(){return this.dateSelected},enumerable:!0,configurable:!0}),os.prototype.calendarHeaderMonth=function(e,t){return this.fullMonthName[e]+" "+t},os.prototype.initializeMonthsContainer=function(){this.monthsContainer?this.monthsContainer.removeAllChildren():(this.monthsContainer=new x({id:"date-picker-months",className:["date-picker-months"],attributes:{role:"presentation"}}),this.addChild(this.monthsContainer)),this.buildMonths(this.now.getMonth(),this.now.getFullYear())},os.prototype.slideMonth=function(e){var t=this.monthsContainer.element.children[this.monthOffset];this.monthsContainer.element.style.height=t?t.clientHeight+"px":"0",this.monthsContainer.to({duration:e,toVars:{transform:"translateX("+-1*this.monthOffset+"00%)"}}),this.showChevrons()},os.prototype.calendarDays=function(o){var i=this;void 0===o&&(o={});var r=new x({id:"date-picker-days",className:["date-picker-days"]}),a=this.content.weekdaysShort;return a.forEach(function(e,t){var n=new x($a({text:e,className:["day-name"],attributes:{"aria-label":i.fullDayName[t],role:"presentation"}},o));e!==a[5]&&e!==a[6]||(n.element.className+=" weekend"),r.addChild(n)}),r},os.prototype.calendarHeader=function(){var e=this.now.getMonth(),t=this.now.getFullYear(),n=new x({id:this.DATE_PICKER_DATE_ID_PREFIX+"date-picker-header"});this.addChild(n),this.monthName=new x({text:this.fullMonthName[e]+" "+t,className:["calendar-heading"]}),n.addChild(this.monthName);var o=new x({type:"img",className:["calendar_arrow-left"],attributes:{src:this.content.chevrons.left,"aria-label":this.content.previousMonth}});this.leftChevContainer=new x({type:"button",className:["calendar-chevron","date-picker-left-arrow"]}),this.leftChevContainer.addEventListener(this,"click",this.prevMonth),this.leftChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.leftChevContainer.addChild(o),this.leftChevContainer.hide();var i=new x({type:"img",className:["calendar_arrow-right"],attributes:{src:this.content.chevrons.right,"aria-label":this.content.nextMonth}});this.rightChevContainer=new x({type:"button",className:["calendar-chevron","date-picker-right-arrow"]}),this.rightChevContainer.addEventListener(this,"click",this.nextMonth),this.rightChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.rightChevContainer.addChild(i),n.addChild(this.leftChevContainer),n.addChild(this.rightChevContainer);var r=this.calendarDays();n.addChild(r),this.selectInitialDate(this.initialDate)},os.prototype.buildRow=function(c,e,d,u){var h=this;e.forEach(function(t){var e,n,o,i,r=new x({className:["date-box"]}),a={text:t,type:"button",attributes:{role:"button"},className:["date-value"]};""!==t&&(e=u+"-"+ga.padLeft(d+1)+"-"+ga.padLeft(Number(t)),o=(n=new Date(e)).getDay(),i=n.getMonth(),a.attributes={id:""+h.DATE_PICKER_DATE_ID_PREFIX+ga.padLeft(Number(t))+(d+1)+u,"aria-label":h.fullDayName[o]+" "+t+" "+h.fullMonthName[i]+" "+u,"data-date":e});var s=new W(a);""!==t?(h.disabledDate(t,d,u)?s.element.setAttribute("disabled","disabled"):s.addEventListener(h,"click",function(e){return h.dateClicked(e,new Date(u,d,Number(t)))}),h.isTodaysDate(t,d,u)&&(h.dateSelectedString=s.id,(h.prevDateSelectedString=s).className("today"))):s.element.setAttribute("disabled","disabled");var l=new Date(u,d,Number(t),0,0,0);s.addEventListener(h,"keydown",h.navigateCalendarFromDate,l),r.addChild(s),c.addChild(r),h.datesArray=Ka(h.datesArray,[s.element])})},os.prototype.buildMonths=function(e,t,n){void 0===n&&(n=12);for(var o=0;o<=n;o++){this.datesArray=[],this.buildMonth(e,t);var i=this.incrementMonth(e,t);e=i.month,t=i.year}},os.prototype.prevMonth=function(e){var t;e.sourceEvent.preventDefault(),this.leftChevContainer.element.style.outline="none",0<this.monthOffset&&(t=this.decrementMonth(this.monthSelected,this.yearSelected),this.monthSelected=t.month,this.yearSelected=t.year,this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected),this.monthOffset--,this.slideMonth(this.duration),this.monthChanged())},os.prototype.nextMonth=function(e){e.sourceEvent.preventDefault(),this.rightChevContainer.element.style.outline="none";var t;this.monthOffset<12&&(t=this.incrementMonth(this.monthSelected,this.yearSelected),this.monthSelected=t.month,this.yearSelected=t.year,this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected),this.monthOffset++,this.slideMonth(this.duration),this.monthChanged())},os.prototype.navigateMonth=function(e){e.sourceEvent.preventDefault();var t,n=e.sourceEvent.code,o=this.monthObject[this.monthSelected+1+"-"+this.yearSelected].filter(function(e){return!e.disabled}),i=o.filter(function(e){return e.classList.contains("selected")})[0];e.target===this.rightChevContainer?(n!==qa||e.sourceEvent.shiftKey?n===qa&&e.sourceEvent.shiftKey?this.leftChevContainer.element.focus():n!==Xa&&n!==Qa||this.nextMonth(e):i?i.focus():o[0].focus(),"none"===this.rightChevContainer.element.style.display&&(t=this.monthObject[this.monthSelected+1+"-"+this.yearSelected].filter(function(e){return!e.disabled})[0],setTimeout(function(){t.focus()},10))):n!==qa||e.sourceEvent.shiftKey?n===qa&&e.sourceEvent.shiftKey?this.dispatchEvent(new k(os.FOCUS_ON_DATE,this)):n!==Xa&&n!==Qa||this.prevMonth(e):"block"===this.rightChevContainer.element.style.display?this.rightChevContainer.element.focus():i?i.focus():o[0].focus()},os.prototype.getNumberOfDays=function(e,t){return 2===e?3&t||!(t%25)&&15&t?28:29:30+(e+(e>>3)&1)},os.prototype.dateArray=function(e,t){for(var n=[],o=this.getNumberOfDays(e,t),i=0;i<o;i++)n.push((i+1).toString());return n},os.prototype.showChevrons=function(){0===this.monthOffset?this.leftChevContainer.hide():this.monthOffset<12?(this.rightChevContainer.show(),this.leftChevContainer.show()):12===this.monthOffset&&this.rightChevContainer.hide()},os.prototype.highlightSelectedDate=function(e){var t=new Date(this.yearSelected,this.monthSelected,Number(e.target.textContent)),n=e.target;this.dateSelectedString=""+this.DATE_PICKER_DATE_ID_PREFIX+ga.padLeft(Number(e.target.textContent))+(this.monthSelected+1)+this.yearSelected,n.className("selected"),this.prevDateSelectedString=n,this.dispatchEvent(new k(os.DATE_SELECTED,this,t))},os.prototype.navigateCalendarFromDate=function(e){var t=this,n=e.sourceEvent.code,o=e.data,i=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3),r=this.getNumberOfDays(e.data.getMonth()+1,e.data.getFullYear());switch(n){case qa:e.sourceEvent.shiftKey?(e.sourceEvent.preventDefault(),this.rightChevContainer.element.focus()):this.closeDatePicker();break;case Xa:this.highlightSelectedDate(e);break;case ts:(i=this.getDate(o,"subtract",1)).getMonth()!==o.getMonth()?(this.prevMonth(e),setTimeout(function(){t.shiftDate(i)},50)):this.shiftDate(i);break;case Za:var a=this.getDate(o,"subtract",7);i.getDate()-7<=0?(this.prevMonth(e),setTimeout(function(){t.shiftDate(a)},50)):this.shiftDate(a);break;case Ja:(i=this.getDate(o,"add",1)).getMonth()!==o.getMonth()?(this.nextMonth(e),setTimeout(function(){t.shiftDate(i)},50)):this.shiftDate(i);break;case es:var s=this.getDate(o,"add",7);i.getDate()+7>r?(this.nextMonth(e),setTimeout(function(){t.shiftDate(s)},50)):this.shiftDate(s)}},os.prototype.disabledDate=function(e,t,n){return this.isDateBeforeToday(e,t,n)||this.isDateBeforeOneYear(e,t,n)},os.prototype.selectInitialDate=function(e){this.dateSelected=e,this.monthSelected=this.dateSelected.getMonth(),this.yearSelected=this.dateSelected.getFullYear(),this.monthOffset=this.dateSelected.getMonth()-this.now.getMonth(),this.now.getMonth()===this.monthSelected?this.leftChevContainer.hide():this.leftChevContainer.show(),this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected)},os.prototype.incrementMonth=function(e,t){return 12===++e&&(e=0,t++),{month:e,year:t}},os.prototype.decrementMonth=function(e,t){return-1===--e&&(e=11,t--),{month:e,year:t}},os.prototype.buildMonth=function(o,i){var r=this,a=new x({className:["month-container"],attributes:{id:this.fullMonthName[o]+"-"+i}});this.monthsContainer.addChild(a);var s=this.rows(this.padDays(o,i));s.forEach(function(e,t){var n=new x({className:["row"]});s.length-1===t&&n.className("last-row"),r.buildRow(n,e,o,i),a.addChild(n)}),this.monthObject[o+1+"-"+i]=this.datesArray},os.prototype.getDate=function(e,t,n){var o=new Date(e.valueOf());return"add"===t?o.setDate(o.getDate()+n):o.setDate(o.getDate()-n),o},os.prototype.shiftDate=function(e){var t=e.getMonth()===this.monthSelected?e.getMonth()+1:this.monthSelected+1,n=this.monthObject[t+"-"+this.yearSelected],o=""+this.DATE_PICKER_DATE_ID_PREFIX+ga.padLeft(e.getDate())+t+this.yearSelected;n.filter(function(e){return e.id===o})[0].focus()},os.prototype.closeDatePicker=function(){this.dispatchEvent(new k(os.CLOSE_CALENDAR,this))},os.prototype.isTodaysDate=function(e,t,n){var o=new Date;return parseInt(e,10)===o.getDate()&&t===o.getMonth()&&n===o.getFullYear()},os.prototype.isDateBeforeToday=function(e,t,n){var o=new Date;return parseInt(e,10)<o.getDate()&&t<=o.getMonth()&&n<=o.getFullYear()},os.prototype.isDateBeforeOneYear=function(e,t,n){var o=new Date;return parseInt(e,10)>=o.getDate()&&t===o.getMonth()&&n===o.getFullYear()+1},os.prototype.dateClicked=function(e,t){e.sourceEvent.preventDefault(),this.newDateClicked=""+this.DATE_PICKER_DATE_ID_PREFIX+ga.padLeft(Number(e.target.textContent))+(this.monthSelected+1)+this.yearSelected,this.prevDateSelectedString&&this.previousDateClicked!==this.newDateClicked&&this.prevDateSelectedString.element.classList.remove("selected"),this.previousDateClicked=this.newDateClicked,this.highlightSelectedDate(e),this.dateSelected=t},os.prototype.resetCalendar=function(){var e=this.dateSelected.getMonth(),t=this.dateSelected.getFullYear(),n=Object.keys(this.monthObject).indexOf(e+1+"-"+t);0===n&&(this.leftChevContainer.hide(),this.rightChevContainer.show()),12===n&&this.leftChevContainer.show(),this.monthOffset=n,this.monthSelected=e,this.yearSelected=t,this.monthName.textContent=this.calendarHeaderMonth(e,t),this.selectDate(),this.slideMonth(0)},os.prototype.selectDate=function(){var t=this;return this.monthObject[this.dateSelected.getMonth()+1+"-"+this.dateSelected.getFullYear()].filter(function(e){if(e.dataset&&e.dataset.date&&e.dataset.date===t.dateSelectedString&&!e.classList.contains("today"))return e.classList.add("selected")})[0]},os.prototype.rows=function(e){for(var t=[],n=0;n<e.length;n+=7)t.push(e.slice(n,n+7));return t},os.prototype.padDays=function(e,t){for(var n=this.dateArray(e+1,t),o=new Date(t,e,0).getDay(),i=0;i<o;i++)n.unshift("");return n},os.prototype.monthChanged=function(){this.dispatchEvent(new k(os.MONTH_CHANGED,this))},os.DATE_SELECTED="DATE_SELECTED",os.CLICKED="CLICKED",os.CLOSE_CALENDAR="CLOSE_CALENDAR",os.FOCUS_ON_DATE="FOCUS_ON_DATE",os.MONTH_CHANGED="MONTH_CHANGED",os);function os(e,t,n,o){void 0===n&&(n="date-picker-day-"),void 0===o&&(o={});var i=Ca.call(this,F.merge(o,{type:"calendar-container",className:["calendar-container"]}))||this;return i.content=e,i.initialDate=t,i.duration=0,i.addEventListener(i,os.CLICKED,i.resetCalendar),i.now=new Date,i.DATE_PICKER_DATE_ID_PREFIX=n,i.fullDayName=i.content.weekdays,i.fullMonthName=i.content.months,i.monthObject={},i.monthOffset=0,i.datesArray=[],i.calendarHeader(),i.initializeMonthsContainer(),i}var is,rs=pe&&he||pe,as=(ue(function(e,t){e.exports=function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),ordinal:function(e){return e+"."},relativeTime:{future:"in %s",past:"vor %s",s:"wenigen Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}};return e.locale(t,null,!0),t}(rs)}),e(ss,is=$i),ss.prototype.updateLabelText=function(e){var t=Eo.config.locale===ot.LOCALE.DE.country?ot.LOCALE.DE.language:ot.LOCALE.GB.language,n=rt.getDateFormat(Eo.config.locale,"long");he.locale(t);var o,i=he().startOf("day"),r=he().add(1,"day").startOf("day"),a=he(e).startOf("day");a.isSame(i)?this.input.value=Eo.content.global.today:a.isSame(r)?this.input.value=Eo.content.global.tomorrow:(o=he(a).format(n),this.input.value=o)},ss.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},ss.prototype.setError=function(){this.element.setAttribute("aria-invalid","true")},ss.prototype.clearError=function(){this.element.setAttribute("aria-invalid","false")},ss.prototype.activate=function(){},ss.prototype.inactive=function(){},ss.prototype.open=function(){},ss.prototype.close=function(){},ss);function ss(e,t){void 0===e&&(e={});var n=is.call(this,F.merge({attributes:{type:"text",placeholder:" ",required:"required",readonly:"readonly"}},e))||this;return n.active=!1,n.setLabel(Eo.content.form.arrivalDateLabel),n.icon=new x({type:"i",className:["wb-icon","wb-icon--calendar"]}),n.addChild(n.icon),t&&n.updateLabelText(t),n}var ls,cs=(e(ds,ls=ri),ds.prototype.closeDatePicker=function(){this.dispatchEvent(new k(Jo.CLOSE,this))},ds.prototype.datePickerClicked=function(){this.dispatchEvent(new k(ns.CLICKED,this))},ds.CLICKED="CLICKED",ds);function ds(e,t){void 0===e&&(e={});var n=ls.call(this,e)||this,o=Eo.content.form.datePicker;return n.calendar=new ns(o,t),n.calendar.addEventListener(n,ns.DATE_SELECTED,n.closeDatePicker),n.addEventListener(n.calendar,ds.CLICKED,n.datePickerClicked),n.addChild(n.calendar),n}var us,hs,ps,ms=(e(fs,us=Jo),fs.prototype.setError=function(){this.button.setError()},fs.prototype.clearError=function(){this.button.clearError()},fs.prototype.pickerButtonClicked=function(){this.dispatchEvent(new k(cs.CLICKED,this))},fs.prototype.buttonPressed=function(e){var t=e.sourceEvent.keyCode;13!==t&&32!==t||this.dispatchEvent(new k(cs.CLICKED,this))},fs);function fs(e,t,n,o){void 0===e&&(e=!1),void 0===t&&(t={}),void 0===n&&(n=new Date);var i=this,r=new as(null,n),a=new cs(null,n),i=us.call(this,r,a,e,F.merge({className:["pi-header-date-picker"]},t))||this;return a.calendar.addEventListener(i,ns.DATE_SELECTED,function(e){var t=e.data;r.updateLabelText(t),o&&o(t),i.date=t}),i.date=n,i.button=r,i.button.addEventListener(a,"click",i.pickerButtonClicked),i.button.addEventListener(a,"keydown",i.buttonPressed),i}(ps=hs=hs||{}).ALERT="alert",ps.GENERAL="general",ps.SUCCESS="success",ps.ERROR="error",ps.INFO="info";var gs,ys=(e(vs,gs=x),Object.defineProperty(vs.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0}),vs);function vs(e){var t,n,o=this;switch((e=F.merge({},e)).type){case hs.ALERT:t=hs.ALERT,n=hs.ALERT;break;case hs.GENERAL:t=hs.GENERAL,n=hs.INFO;break;case hs.SUCCESS:t=hs.SUCCESS,n=hs.SUCCESS;break;case hs.ERROR:t=hs.ERROR,n=hs.ERROR;break;default:t=hs.INFO,n=hs.INFO}return(o=gs.call(this,{className:["wb-push-middle--bottom"]})||this).notificationBanner=new x({type:"div",className:["wb-notification-new wb-notification-new__"+t]}),o.addChild(o.notificationBanner),o.notificationBanner.addChild(new x({type:"i",className:["wb-notification-new-icon","wb-icon","wb-icon--"+n]})),o.notificationContent=new x({type:"div",className:["wb-notification-new-content"]}),o.notificationBanner.addChild(o.notificationContent),e.headerText&&o.notificationContent.addChild(new x({type:"div",className:[e.headerClassName?e.headerClassName:"wb-notification-new-header"],text:e.headerText})),e.text&&(o.notificationText=new x({className:[e.textClassName?e.textClassName:"wb-notification-new-text"],text:e.text}),o.notificationContent.addChild(o.notificationText)),e.bannerHTML&&(o.notificationText=new x({className:[e.textClassName?e.textClassName:"wb-notification-new-text"]}),o.notificationText.innerHtml=e.bannerHTML,o.notificationContent.addChild(o.notificationText)),e.link&&(o._link=new x({type:"a",className:["wb-strong","wb-a"],text:e.link.text,attributes:{href:e.link.href}}),e.link.inline?o.notificationText.addChild(o._link):o.addChild(o._link)),o}var Es,bs=(e(ws,Es=x),ws.prototype.parseDate=function(e){var t=ft.padLeft(e.getDate()),n=ft.padLeft(e.getMonth()+1);return e.getFullYear()+"-"+n+"-"+t},ws.prototype.adjustFormHeight=function(){if(window.innerWidth>=ie.responsive.m)switch(this.errorState){case ws.ERROR:var e=this.invalidBookingContainer.element.clientHeight+parseInt(ie.spacing.s.replace("px",""),10)+"px";this.animateHeightChange(e);break;case ws.VALID:this.animateHeightChange("0");break;case ws.INVALID_BOOKING:this.animateHeightChange(ie.spacing.s)}},ws.prototype.animateHeightChange=function(e){this.to({duration:this.duration,toVars:{paddingBottom:e}})},ws.prototype.handleFormSubmit=function(t,n,o){var i=this;return So.getReservation(t,n,o).then(function(e){e.sessionId&&(i.hideInvalidBookingErrors(),Eo.config.features.dashboardRedirectEnabled?i.setDashboadCookieAndRedirect(o,n,t):i.element.submit())}).catch(function(e){i.invalidBookingContainer.removeAllChildren();var t=e.name===Eo.config.api.reservations.incorrectCBTBookingChannelExceptionCode?i.formContent.bookingTypeInvalid:i.formContent.bookingInvalid;To.track.findBookingFailed(e.description,e.code);var n=new ys({type:"error",text:t});i.invalidBookingContainer.addChild(n),i.showInvalidBookingErrors(),i.errorState=ws.INVALID_BOOKING,i.adjustFormHeight()})},ws.prototype.setDashboadCookieAndRedirect=function(e,t,n){Zi.setCookie(Eo.config.bookingSearch.dashboardRedirect.cookie.name,window.btoa(JSON.stringify({arrivalDate:e,surname:t})),0,Eo.config.bookingSearch.dashboardRedirect.cookie.minutesTillExpiry,Eo.config.bookingSearch.dashboardRedirect.cookie.domain||null),window.location.assign(Eo.config.bookingSearch.dashboardRedirect.url+"?"+Eo.config.bookingSearch.dashboardRedirect.bookingReference+"="+n)},ws.prototype.showInvalidBookingErrors=function(){this.datePicker.setError()},ws.prototype.hideInvalidBookingErrors=function(){this.bookingReference.hideError(),this.bookingSurname.hideError(),this.datePicker.clearError()},ws.prototype.isFormValid=function(){var e=ft.isRegexValid(this.ReferenceRegex,this.bookingReference.value),t=ft.isRegexValid(this.SurnameRegex,this.bookingSurname.value);return Eo.findBookingFormValidation(e,t),e&&t},ws.prototype.setInvalidState=function(e,t){this.toggleHighlightFieldError(e,this.bookingReference,this.formContent.invalidReference),this.toggleHighlightFieldError(t,this.bookingSurname,this.formContent.invalidSurname),this.errorState=e&&t?ws.VALID:ws.ERROR,this.errorState===ws.ERROR&&(e||To.track.findBookingFailed(this.formContent.invalidReference),t||To.track.findBookingFailed(this.formContent.invalidSurname)),this.adjustFormHeight()},ws.prototype.toggleHighlightFieldError=function(e,t,n){e?t.hideError():t.showError(n)},ws.HIDE_FORM="HIDE_FORM",ws.ERROR="ERROR",ws.VALID="VALID",ws.INVALID_BOOKING="INVALID_BOOKING",ws);function ws(e){void 0===e&&(e={});var o=Es.call(this,F.merge({type:"form",attributes:{method:"post",action:Eo.config.bookingSearch.bookingSearchPath},id:"find-booking-form",className:["find-booking-form"]},e))||this;o.errorState=ws.VALID,o.ReferenceRegex=/^[0-9a-zA-Z]{8,}$/,o.SurnameRegex=/^[^:;~0-9]{2,}$/,o.duration=.25,o.formContent=Eo.content.form,Eo.addEventListener(o,Eo.FIND_BOOKING_FORM_VALIDATION,function(e){o.setInvalidState(e.data.isReferenceValid,e.data.isSurnameValid)});var t=new x({text:Eo.isCIOLLP()?o.formContent.checkinOnlineLandingPageTitle:o.formContent.findBookingTitle,className:["find-booking-form--title"]}),n=new x({type:"p",text:Eo.isCIOLLP()?o.formContent.checkinOnlineLandingPageDescription:o.formContent.findBookingDescription,className:["find-booking-form--description"]});o.addChild(t),o.addChild(n),o.invalidBookingContainer=new x,o.addChild(o.invalidBookingContainer);var i=new x({className:["form-inputs-container"]});o.addChild(i),o.bookingReference=new $i({id:"booking-reference-input",className:["find-booking-reference"],attributes:{name:"searchForm.referenceNumber",placeholder:" ",autocomplete:"off",spellcheck:!1}},{},function(){var e=ft.isRegexValid(o.ReferenceRegex,o.bookingReference.value);o.toggleHighlightFieldError(e,o.bookingReference,o.formContent.invalidReference)}),o.bookingReference.setLabel(o.formContent.bookingReferenceLabel),i.addChild(o.bookingReference),o.bookingSurname=new $i({id:"booking-surname-input",className:["find-booking-surname","sessioncamhidetext"],attributes:{name:"searchForm.bookersLastName",placeholder:" ",autocomplete:"off",spellcheck:!1}},{},function(){var e=ft.isRegexValid(o.SurnameRegex,o.bookingSurname.value);o.toggleHighlightFieldError(e,o.bookingSurname,o.formContent.invalidSurname)}),o.bookingSurname.setLabel(o.formContent.bookingSurnameLabel),i.addChild(o.bookingSurname);var r=new x({className:["wb-form-input-field"]});return o.arrivalDay=new Cr({attributes:{type:"hidden",name:"searchForm.arrivalDay",placeholder:o.formContent.bookingReference,autocomplete:"off"}}),o.arrivalMonthYear=new Cr({attributes:{type:"hidden",name:"searchForm.arrivalMonthYear",placeholder:o.formContent.bookingReference,autocomplete:"off"}}),r.addChild(o.arrivalDay),r.addChild(o.arrivalMonthYear),o.datePicker=new ms(!1,{className:["find-booking-date-picker","pi-header-date-picker"]},new Date,function(e){o.arrivalDay.value=ft.padLeft(e.getDate());var t=ft.padLeft(e.getMonth()+1),n=e.getFullYear();o.arrivalMonthYear.value=""+n+t}),r.addChild(o.datePicker),i.addChild(r),o.findBookingButton=new Vo({attributes:{type:"submit"},text:o.formContent.search,id:"find-booking-form-button",className:["wb-btn","wb-btn--primary"]}),i.addChild(o.findBookingButton),window.addEventListener("resize",function(){o.adjustFormHeight()}),o.addEventListener(o,"submit",function(e){e.sourceEvent.preventDefault(),o.invalidBookingContainer.removeAllChildren(),o.isFormValid()&&o.handleFormSubmit(o.bookingReference.value,o.bookingSurname.value,o.parseDate(o.datePicker.date))}),o}var Cs,Ss=(e(Ls,Cs=x),Ls);function Ls(e){var t=Cs.call(this,F.merge({type:"find-booking",className:["find-booking-container"]},e))||this;return t.form=new bs,t.addChild(t.form),t}var Ds=(Os.setLoginFormOption=function(){Ai.isForgottenPasswordOpen()?To.track.loginForm(Oo.PasswordReset):Eo.getBusinessAccountCardTabOpen?To.track.loginForm(Oo.BusinessAccountCard):go.isBrand(se.business)?To.track.loginForm(Oo.BusinessBooker):To.track.loginForm(Oo.Personal)},Os);function Os(){}var _s,Ts=(e(As,_s=x),As.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},As.prototype.activate=function(){this.element.classList.add("activated")},As.prototype.inactive=function(){this.element.classList.remove("activated")},As.prototype.open=function(){},As.prototype.close=function(){},As);function As(e){return _s.call(this,{className:["nav-button","business"],text:e})||this}var Is,Rs=(e(Ns,Is=x),Ns.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},Ns.prototype.activate=function(){this.element.classList.add("activated")},Ns.prototype.inactive=function(){this.element.classList.remove("activated")},Ns.prototype.open=function(){},Ns.prototype.close=function(){},Ns);function Ns(e){return Is.call(this,F.merge({type:"span",className:["flag","flag-"+e.data.country[0].code,"nav-button","btn-language-select"],backgroundImage:"url("+e.data.country[0].flagUrl+")"},e))||this}var ks,Ps=(e(xs,ks=ri),xs.prototype.addCountryTabs=function(e){var n=this;e.forEach(function(e){n.currentCountry=Eo.config.locale.toLowerCase()===e.code.toLowerCase();var t=n.buildLanguageLabel(e);n.currentCountry&&t.className("selected"),n.addChild(t)})},xs.prototype.buildLanguageLabel=function(e){var t=new x({className:["pi-language__label"]}),n=new x({type:"a",className:["pi-language__label-link","font-size--s"],attributes:{href:e.url}});t.addChild(n);var o=new x({type:"span",className:["flag flag-"+e.code],backgroundImage:"url("+e.flagUrl+")"});n.addChild(o);var i,r=new x({type:"span",className:["pi-language__text"],text:e.language});return n.addChild(r),this.currentCountry&&(i=new x({type:"img",attributes:{src:Eo.content.menu.tick,alt:"Tick"},className:["pi-language__check"]}),n.addChild(i)),t},xs);function xs(e){var t=ks.call(this,F.merge({type:"desktop-language-wrap",className:["pi-language__panel"]},e),!1,!0)||this;return t.currentCountry=!1,t}var Ms,Bs=(e(Hs,Ms=x),Hs.prototype.layout=function(){!this.isDesktopView()&&this.loginBtnActive()&&(Eo.setBusinessAccountCardTabOpen=!1,To.track.loginForm(Oo.Closed),this.desktopAuthenticationButton.loginButton.deactive(),this.activeButton=null),this.isDesktopView()&&Eo.closeMobileMenu()},Hs.prototype.isDesktopView=function(){return X.width>=ie.responsive.m},Hs.prototype.loginBtnActive=function(){return this.desktopAuthenticationButton&&this.activeButton===this.desktopAuthenticationButton.loginButton},Hs.prototype.showModal=function(e){switch(e.target.data.type){case Eo.LOGIN_FORM:this.toggleLoginFormModal(e);break;case Eo.FIND_BOOKING:Eo.dispatchEvent(new k(Eo.OPEN_MODAL,null,{type:e.target.data.type})),To.track.findBooking()}},Hs.prototype.toggleLoginFormModal=function(e){Ai.isForgottenPasswordOpen()&&this.activeButton===this.desktopAuthenticationButton.loginButton?Eo.dispatchEvent(new k("CANCEL_FORGOTTEN_PASSWORD_FORM",this)):Eo.getResetPasswordMessageDisplayed(mo.Desktop)||(Eo.dispatchEvent(new k(Eo.OPEN_MODAL,null,{type:e.target.data.type})),Ds.setLoginFormOption()),Eo.dispatchEvent(new k(Eo.HIDE_PASSWORD_RESET_MESSAGE,this))},Hs.CHANGE="CHANGE",Hs);function Hs(e){var t=Ms.call(this,F.merge({type:"nav",className:["site-container","pi-header-nav"]},e))||this,n=Eo.config.features,o=n.bookingSearch,i=n.authentication,r=n.languageSelector,a=n.subNav,s=n.landingPagesMenu,l=Eo.emailLandingView(),c=new x({type:"nav-bar",className:["nav-bar"]});t.addChild(c);var d=new xi({display:"inline-block",verticalAlign:"middle"});c.addChild(d);var u,h,p,m,f,g,y,v,E,b,w,C,S,L,D,O,_,T,A,I,R,N=new x({type:"nav-menu"});return l||(c.addChild(N),Eo.addEventListener(c,Eo.CLOSE_HERO,function(){return c.element.classList.remove("toggle-hero")}),Eo.addEventListener(c,Eo.OPEN_HERO,function(){return c.element.classList.add("toggle-hero")}),(i||r||a)&&(u=new x({id:"pi-menu-button",className:["btn-mobile-menu"]}),h=new x({type:"span",text:Eo.content.menu.mobileMenuButton}),p=new Hi({type:"span",className:["burger-menu"]}),u.addChild(p),u.addChild(h),u.addEventListener(t,"click",function(){return Eo.openMobileMenu()}),N.addChild(u)),r&&(m=Eo.content.countries.filter(function(e){return e.code.toLowerCase()===Eo.config.locale.toLowerCase()}),(f=new Ps({display:"none",id:"language-menu"})).addCountryTabs(Eo.content.countries),g=new Rs({data:{type:Eo.LANGUAGE_SELECT,country:m}}),y=new Jo(g,f),N.addChild(y)),s&&(v=Eo.content.subNav.slice(1),(E=new ri({className:["discover-menu","menu","menu--center"],id:"discover-menu",display:"none"},!0,!0)).addMultiDropDownTabs(v),b=new Ts(Eo.content.menu.discoverPI),s||b.hide(),w=new Jo(b,E),N.addChild(w)),C=Eo.content.subNav[0].navOptions,(S=new ri({className:["business-menu","menu","menu--center"],id:"business-menu",display:"none"},!1,!0)).addDropDownTabs(C),L=new Ts(Eo.content.menu.business),D=new Jo(L,S),N.addChild(D),o&&((O=new Qo({id:"find-a-booking",className:["nav-button","find-a-booking"],text:Eo.content.menu.findBooking,data:{type:Eo.FIND_BOOKING},style:Eo.config.bookingSearch.show?void 0:{display:"none"}})).addEventListener(t,"click",t.showModal),N.addChild(O),t.findBooking=new Ss,t.findBookingModal=new Gi(null,!1,!1,{id:Eo.FIND_BOOKING,display:Eo.isCIOLLP()?"block":"none"}),t.findBookingModal.setContent(t.findBooking),t.findBookingModal.addToBody(),Eo.isCIOLLP()&&O.click()),i&&(t.desktopAuthenticationButton=new bi,t.desktopAuthenticationButton.loginButton.addEventListener(t,"click",t.showModal),N.addChild(t.desktopAuthenticationButton),Eo.addEventListener(t,Eo.DISPLAY_LOGIN_FORM,function(){t.isDesktopView()&&t.activeButton!==t.desktopAuthenticationButton.loginButton?t.desktopAuthenticationButton.loginButton.dispatchEvent(new k("click",t.desktopAuthenticationButton.loginButton)):t.isDesktopView()||(Eo.openMobileMenu(),Eo.dispatchEvent(new k(Eo.DISPLAY_MOBILE_LOGIN,null)))}),t.loginConsole=new Er(mo.Desktop),_=go.isBrand(se.business)?Eo.content.authentication.login.business.formLabel:Eo.content.authentication.login.leisure.formLabel,T=Eo.config.authentication.businessLoginEnabled&&Eo.config.experiments.betaBusiness,A=!go.profile,I=window.location.pathname===Eo.config.authentication.business.landingPagePathName,R=T&&A&&I,t.loginModal=new Gi(_,!0,R,{id:Eo.LOGIN_FORM,display:"none"}),t.loginModal.setContent(t.loginConsole),t.loginModal.addToBody()),window.addEventListener("resize",function(){t.layout()}),t.layout()),t}var Fs,Us=(e(Gs,Fs=x),Gs.prototype.post=function(e,t){this.contentWindow.postMessage(F.merge({action:e},t),this.src)},Object.defineProperty(Gs.prototype,"contentWindow",{get:function(){return this.element.contentWindow},enumerable:!0,configurable:!0}),Gs);function Gs(e,t){void 0===t&&(t={});var n=Fs.call(this,F.merge({type:"iframe",attributes:{src:e}},t))||this;return n.src=e,n}var js,Ws=(e(Vs,js=Us),Vs.prototype.updateRememberMeCookieIfRememberMeEnabled=function(e){Eo.config.authentication.rememberMeEnabled&&(e.data.isBusiness?this.updateRememberMeCookie(go.brandsProperties.business.rememberMe,go.brandsProperties.business.loginInputEmail,se.business):this.updateRememberMeCookie(go.brandsProperties.leisure.rememberMe,go.brandsProperties.leisure.loginInputEmail,se.leisure))},Vs.prototype.updateRememberMeCookie=function(e,t,n){e?Zi.setRememberMeEmail(n,t):Zi.clearRememberMeEmail(n)},Vs.prototype.addWindowAuthEventListener=function(){var n=this;window.addEventListener("message",function(e){var t=n.authListeners[n.extractEventName(e)];t&&t.active&&t.action.call(n,e)})},Vs.prototype.userLoggedOutAction=function(){var e,t=this,n=Eo.config.authentication.logoutRedirectPath||"/",o=((e={})[Et.LOG_OUT_REASONS.SESSION_EXPIRED]=function(){return window.location.assign(n+"?"+t.sessionExpiredParam)},e[Et.LOG_OUT_REASONS.DELETE_PROFILE]=function(){return window.location.assign(n)},e)[this.logOutReason];o?o():window.location.assign(n),this.logOutReason="",this.authListeners[this.IFRAME_USER_LOGGED_OUT].active=!1},Vs.prototype.userLogOutAction=function(e){this.authListeners[this.IFRAME_USER_LOGGED_OUT].active=!0,this.logOutReason=e.data.reason,Eo.logOutUser()},Vs.prototype.userLoggedInAction=function(e){this.updateRememberMeCookieIfRememberMeEnabled(e),Eo.config.authentication.rememberPreferredBrand&&(Zi.preferredBrand=go.brand),this.awaitingCall=!1,Eo.userLoggedIn(JSON.parse(e.data.profile))},Vs.prototype.logInErrorAction=function(e){this.awaitingCall=!1,Eo.loginError(e.data.error);var t=e.data.isBusiness?se.business:se.leisure;To.track.loginError(e.data.error.code,e.data.error.description,t)},Vs.prototype.isUserLoggedInAction=function(e){var t=e.data.sender;t&&this.post(Vs.IS_USER_LOGGED_IN,{sender:t})},Vs.prototype.postIfNotAwaitingCall=function(e,t){this.awaitingCall||(this.awaitingCall=!0,this.post(e,t))},Vs.prototype.extractEventName=function(e){return e.data.action||e.data},Vs.USER_LOG_OUT="USER_LOG_OUT",Vs.IS_USER_LOGGED_IN="isUserLoggedIn",Vs.IS_USER_LOGGED_IN_RESPONSE="isUserLoggedInResponse",Vs);function Vs(){var e,t=js.call(this,Eo.config.authentication.iframePath)||this;return t.IFRAME_USER_LOGGED_IN="userLoggedIn",t.IFRAME_LOG_IN="login",t.IFRAME_USER_LOGGED_OUT="userLoggedOut",t.IFRAME_LOG_OUT="logout",t.IFRAME_LOG_IN_ERROR="loginError",t.awaitingCall=!1,t.sessionExpiredParam="sessionExpired=true",t.authListeners=((e={})[t.IFRAME_USER_LOGGED_IN]={action:t.userLoggedInAction,active:!0},e[t.IFRAME_USER_LOGGED_OUT]={action:t.userLoggedOutAction,active:!1},e[t.IFRAME_LOG_IN_ERROR]={action:t.logInErrorAction,active:!0},e[Vs.USER_LOG_OUT]={action:t.userLogOutAction,active:!0},e[Vs.IS_USER_LOGGED_IN]={action:t.isUserLoggedInAction,active:!0},e),t.hide(),Eo.addEventListener(t,Eo.LOG_IN_USER,function(e){t.postIfNotAwaitingCall(t.IFRAME_LOG_IN,{username:e.data.email,password:e.data.password,isBusiness:e.data.isBusinessBrand})}),Eo.addEventListener(t,Eo.LOG_OUT_USER,function(){t.authListeners[t.IFRAME_USER_LOGGED_OUT].active=!0,t.postIfNotAwaitingCall(t.IFRAME_LOG_OUT,null)}),t.addWindowAuthEventListener(),t}var Ys,zs=(e($s,Ys=x),$s);function $s(e){void 0===e&&(e={});var t=this,n=(t=Ys.call(this,F.merge({type:"icon"},e))||this).element.style.color||ie.colours.primary.black;return t.innerHtml='\n            <svg width="100%" height="100%" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0h48v48H0z"/>\n                    <path d="M22 30h4v4h-4v-4zm0-16h4v12h-4V14zm1.98-10C12.94 4 4 12.96 4 24s8.94 20 19.98 20C35.04 44 44 35.04 44 24S35.04 4 23.98 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z" fill="'+n+'" fill-rule="nonzero"/>\n                </g>\n            </svg>\n        ',t}var Ks,qs=(e(Qs,Ks=W),Qs);function Qs(e){void 0===e&&(e={});var t=F.merge({fontSize:ie.fontSizes.s,lineHeight:ie.lineHeight.s},e.style);return Ks.call(this,F.merge(t,e))||this}var Xs,Zs=(e(Js,Xs=x),Js.prototype.updateMessage=function(e){e&&(this.alertMessage.textContent=e)},Js.prototype.setIcon=function(e,t,n){var o,i=n||{verticalAlign:"middle"};e&&t&&(o=new e(C({display:"inline-block",color:t,width:ie.margin.l,height:ie.margin.l,margin:ie.margin.xxs},i)),this.insertBefore(o,this.alertMessage))},Js);function Js(e,t){void 0===t&&(t={});var n=Xs.call(this,t)||this;return n.alertMessage=new qs({type:"span",display:"inline-block",verticalAlign:"middle",width:"calc(100% - 2.5rem)",padding:ie.margin.xxs,text:e}),n.addChild(n.alertMessage),n}var el,tl=(e(nl,el=Zs),nl);function nl(e,t,n,o){void 0===t&&(t={});var i=this,r={type:"error-alert-tertiary",backgroundColor:ie.colours.functionalAccent.errorRedLight},i=el.call(this,e,F.merge(r,t))||this;return o?i.setIcon(zs,ie.colours.functionalAccent.errorRedDark,o):i.setIcon(zs,ie.colours.functionalAccent.errorRedDark),n&&i.addChild(n),i}var ol,il=(e(rl,ol=Zs),rl);function rl(e,t){void 0===t&&(t={});var n=this,o={type:"warning-alert-tertiary",backgroundColor:ie.colours.functionalAccent.warningOrangeLight};return(n=ol.call(this,e,F.merge(o,t))||this).setIcon(zs,ie.colours.functionalAccent.warningOrangeDark),n}var al,sl=(e(ll,al=x),ll);function ll(e){void 0===e&&(e={});var t=this,n=(t=al.call(this,F.merge({type:"icon",display:"block"},e))||this).element.style.color||ie.colours.primary.black;return t.innerHtml='\n            <svg display="block" width="100%" height="100%" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0h48v48H0z"/>\n                    <path fill="'+n+'" fill-rule="nonzero" d="M22 34h4V22h-4v12zm2-30C12.96 4 4 12.96 4 24s8.96 20 20 20 20-8.96 20-20S35.04 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z"/>\n                </g>\n            </svg>\n        ',t}var cl,dl=(e(ul,cl=Zs),ul);function ul(e,t){void 0===t&&(t={});var n=this,o={type:"info-alert-tertiary",backgroundColor:ie.colours.functionalAccent.infoBlueLight};return(n=cl.call(this,e,F.merge(o,t))||this).setIcon(sl,ie.colours.functionalAccent.infoBlueDark),n}var hl,pl=(e(ml,hl=sr),ml);function ml(e){return void 0===e&&(e={}),hl.call(this,F.merge({fontSize:ie.buttons.default.fontSize,height:ie.buttons.default.height},e))||this}var fl,gl=(e(yl,fl=pl),yl);function yl(e){return void 0===e&&(e={}),fl.call(this,F.merge({color:ie.colours.primary.white,backgroundColor:ie.colours.primary.teal,hover:{backgroundColor:ie.colours.secondary.darkest}},e))||this}var vl,El=(e(bl,vl=W),bl.prototype.setSelectClosed=function(){this.chevron.element.className="wb-select__chevron chevron-down",this.selectOption.element.className="wb-select--closed"},bl.prototype.setSelectOpen=function(){this.chevron.element.className="wb-select__chevron chevron-up",this.selectOption.element.className="wb-select--open"},bl.prototype.handleChange=function(){this.setSelectClosed()},bl.prototype.handleClick=function(){"wb-select--closed"===this.selectOption.element.className?this.setSelectOpen():this.setSelectClosed()},bl.prototype.handleLoseFocus=function(){this.setSelectClosed()},bl.prototype.addOptions=function(e){var n=this;this.trackOptions.forEach(function(e){n.removeChild(e)}),this.selectOption.removeAllChildren(),this.trackOptions=e.map(function(e){var t=new x({text:e.text,type:"option",attributes:{value:e.value}});return e.disabled&&t.element.setAttribute("disabled",""),e.selected&&t.element.setAttribute("selected","selected"),n.selectOption.addChild(t),t})},Object.defineProperty(bl.prototype,"value",{get:function(){return this.selectOption.element.value},set:function(e){this.selectOption.element.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(bl.prototype,"selectedIndex",{get:function(){return this.selectOption.element.selectedIndex},set:function(e){this.selectOption.element.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(bl.prototype,"options",{get:function(){var e,t,n=this.selectOption.element,o=[];for(e in n.options){n.options.hasOwnProperty(e)&&(t=n.options[e],o.push({value:t.value,text:t.text}))}return o},set:function(e){this.addOptions(e)},enumerable:!0,configurable:!0}),bl);function bl(e,t){void 0===t&&(t="");var n=vl.call(this,Object.assign(e,{className:["wb-select"+(e.size?"--"+e.size:"")],text:""}))||this;n.trackOptions=[],n.selectLabel=new x({type:"label",text:t,className:["wb-select__label"]}),n.selectInputContainer=new x({type:"div",className:["wb-select__input-container"]}),e.icon&&(n.icon=new x({type:"i",className:["wb-select__image","wb-icon--"+e.icon]})),n.selectOption=new x({type:"select",className:["wb-select--closed"]}),n.chevron=new x({type:"i",className:["wb-select__chevron","chevron-down"]});var o=new x({type:"div",className:["wb-select__helper-text"],text:e.helperText});return n.addChild(n.selectInputContainer),n.addOptions(e.options),e.icon&&n.selectInputContainer.addChild(n.icon),n.selectInputContainer.addChild(n.selectOption),n.selectInputContainer.addChild(n.chevron),n.selectInputContainer.addChild(n.selectLabel),n.addChild(o),n.addEventListener(n,"click",n.handleClick),n.selectOption.addEventListener(n,"change",n.handleChange),n.addEventListener(n,"focusout",n.handleLoseFocus),n}var wl=(Cl.getNumberOfAdults=function(e){return e.roomData.reduce(function(e,t){return e+t.adults},0)},Cl.getOptions=function(e,t,n){var o=1===e.adults?{selectedIndex:1,options:[{value:t.double,text:n.double},{value:t.accessible,text:n.accessible}]}:{selectedIndex:0,options:[{value:t.double,text:n.double},{value:t.twin,text:n.twin},{value:t.accessible,text:n.accessible}]};return o.options=o.options.filter(function(e){return e.text=e.text+" "+Eo.content.global.room}),e.roomType&&(o.selectedIndex=this.getSelectedIndex(e.roomType,o)),o},Cl.getSelectedIndex=function(n,o){return o.options.forEach(function(e,t){e.value===n&&(o.selectedIndex=t)}),o.selectedIndex},Cl);function Cl(){}var Sl,Ll=(e(Dl,Sl=x),Dl.prototype.updateRoomTypeSelect=function(e){void 0===e&&(e=!1);var t=this.getRoomTypeOptions();this.roomTypeSelect.options=t.options,this.roomTypeSelect.selectedIndex=t.selectedIndex,Eo.updateRoomDetails(this.roomIndex,{roomType:this.roomTypeSelect.value,roomTypeName:this.getRoomTypeName(this.roomTypeSelect.value),cot:e})},Dl.prototype.adultsChange=function(e){Eo.updateRoomDetails(this.roomIndex,{adults:parseInt(e.target.value,10)}),this.updateRoomTypeSelect()},Dl.prototype.roomTypeChange=function(e){Eo.updateRoomDetails(this.roomIndex,{roomType:e.target.value,roomTypeName:this.getRoomTypeName(e.target.value)})},Dl.prototype.getRoomTypeName=function(t){return Object.keys(Eo.config.roomCodes).filter(function(e){return Eo.config.roomCodes[e]===t})[0]},Dl.prototype.getRoomTypeOptions=function(){var e=Eo.stayDetails.roomData[this.roomIndex];return wl.getOptions(e,Eo.config.roomCodes,Eo.content.global)},Dl);function Dl(e,t,n){void 0===n&&(n={});var o=Sl.call(this,F.merge(n,{type:"fieldset",border:"none",padding:"0",position:"relative",margin:"0"}))||this;o.roomIndex=e;var i=[{value:"1",text:"1 "+Eo.content.global.adult},{value:"2",text:"2 "+Eo.content.global.adults}];return o.adultsSelect=new El({options:i,name:Eo.content.global.adults,className:["search-console-form-adults-select"],fontSize:ie.fontSizes.base,display:"inline-block",backgroundColor:ie.colours.primary.white},Eo.content.global.adultsLabel),Eo.initialRender&&Eo.isSRP()&&Eo.updateRoomDetails(o.roomIndex,{adults:2}),0<t.adults&&(o.adultsSelect.value=t.adults.toString()),o.addChild(o.adultsSelect),o.adultsSelect.addEventListener(o,"change",o.adultsChange),o.roomTypeSelect=new El({options:[],name:"room",className:["search-console-form-room-select"],display:"inline-block",fontSize:ie.fontSizes.base,backgroundColor:ie.colours.primary.white},Eo.content.form.roomType),t.roomType&&o.updateRoomTypeSelect(t.cot),o.addChild(o.roomTypeSelect),o.roomTypeSelect.addEventListener(o,"change",o.roomTypeChange),o}var Ol,_l=(e(Tl,Ol=x),Tl.prototype.renderRooms=function(e){var o=this;this.trackRooms=e.map(function(e,t){var n=new Ll(t,e);return o.addChild(n),n})},Tl.prototype.removeAllRooms=function(){var t=this;this.trackRooms.forEach(function(e){t.removeChild(e)})},Tl);function Tl(e){void 0===e&&(e={});var t=Ol.call(this,F.merge({type:"rooms",display:"inline-block",className:["search-console-form-rooms-container","wb-form-item__field","wb-form-item--clean"]},e))||this;return t.trackRooms=[],t.renderRooms(Eo.stayDetails.roomData),Eo.addEventListener(t,Eo.UPDATE_STAY_DETAILS,function(){Eo.stayDetails.roomData&&(t.removeAllRooms(),t.renderRooms(Eo.stayDetails.roomData))}),t}var Al,Il=(e(Rl,Al=x),Rl.prototype.update=function(e,t){this.removeAllChildren(),this.resetSuggestionData(),t&&(this.searchTerm=t),null!==e&&(this.suggestionsData=e,this.populateList(e))},Rl.prototype.highLightSuggestion=function(e){var t=e.sourceEvent.keyCode;if(this.suggestionsOpen){var n=this.nextIndex,o=this.suggest[n-2],i=0===n?this.suggest[n]:this.suggest[n-1],r=this.suggest[n];switch(t){case 13:var a=0===n?this.suggestionsData[n]:this.suggestionsData[n-1];this.suggestionSelected(a),Rl.locationSelected=!0;break;case 38:e.sourceEvent.preventDefault(),i&&i.to(this.hoverStyle.out),o&&o.to(this.hoverStyle.over),0<n&&this.nextIndex--;break;case 40:if(e.sourceEvent.preventDefault(),n===this.suggest.length)return;i&&n!==this.suggest.length&&(i.to(this.hoverStyle.out),this.nextIndex++),r.to(this.hoverStyle.over)}}else 13===t&&Eo.resetStateAndSearch()},Rl.prototype.defaultSelection=function(e){this.suggestionsData&&this.suggestionsData.length?this.suggestionSelected(this.suggestionsData[0]):Eo.updateStayDetails({name:e.data.location})},Rl.prototype.open=function(){var e=this;this.suggestionsOpen=!0,this.killAnimations(),this.show(),this.to({duration:.2,ease:B.EaseOut,toVars:{opacity:"1",transform:"translateY(0rem)"}}).then(function(){e.style({zIndex:"3"})})},Rl.prototype.close=function(){var e=this;this.suggestionsOpen=!1,this.killAnimations(),this.style({zIndex:"1"}),this.to({duration:.3,toVars:{opacity:"0",transform:"translateY(-2rem)"}}).then(function(){e.hide()})},Rl.prototype.selectSuggestion=function(e){e.sourceEvent.preventDefault(),this.suggestionSelected(e.data),Rl.locationSelected=!0},Rl.prototype.resetSuggestionData=function(){this.suggest=[],this.suggestionsData=[],this.nextIndex=0},Rl.prototype.populateList=function(e){this.locationsExist(e)&&this.appendToList(this.locations(e)),this.hotelsExist(e)&&(this.addChild(this.hotelsLabel()),this.appendToList(this.hotels(e)))},Rl.prototype.locationsExist=function(e){return 0<this.locations(e).length},Rl.prototype.hotelsExist=function(e){return 0<this.hotels(e).length},Rl.prototype.locations=function(e){return e.filter(function(e){return!e.isHotel})},Rl.prototype.hotels=function(e){return e.filter(function(e){return e.isHotel})},Rl.prototype.hotelsLabel=function(){return new x({type:"hotels-label",text:Eo.content.form.hotelsLabel,className:["hotel-label"]})},Rl.prototype.appendToList=function(e){var t=this,n=new x({type:"ul",className:["suggestion-container"]});e.forEach(function(e){t.addListItem(n,e)}),this.addChild(n)},Rl.prototype.addListItem=function(e,t){var n=this.getListAttributes(t),o=n.classes,i=n.hotelCode,r=new x({type:"li",className:o});i&&r.element.setAttribute("data-hotelcode",i),e.addChild(r),this.suggest.push(r);var a=new x({type:"span",className:["suggestion"],text:""});r.addChild(a),this.highlightSuggestion(t).map(function(e){e.textContent=ft.alphaStripper(e.textContent),a.addChild(e)}),t.isHotel&&r.addChild(this.getLogo(t)),r.addEventListener(this,"mouseover",this.over),r.addEventListener(this,"mouseout",this.out),r.addEventListener(this,"mousedown",this.selectSuggestion,t)},Rl.prototype.highlightSuggestion=function(e){var t,n,o,i,r=this.searchTerm?this.searchTerm.trim().replace(/\W/g,"\\$&"):"",a=new RegExp(r,"i"),s=e.name.match(a),l=e.name.split(a,1).toString(),c=s?s[0]:"",d=e.name.replace(""+l+c,""),u=[];return s?(l&&(t=new x({type:"span",text:l}),u.push(t)),c&&(n=new x({type:"strong",text:c}),u.push(n)),o=new x({type:"span",text:d}),u.push(o)):(i=new x({type:"span",text:e.name}),u.push(i)),u},Rl.prototype.getLogo=function(e){var t=this.getBrandPrefix(e);return new x({type:"img",attributes:{src:Eo.content.global.brand[t+"Logo"],alt:Eo.content.global.brand[""+t]}})},Rl.prototype.getListAttributes=function(e){var t,n=[];return e.isHotel?(n.push("hotel-suggestion"),n.push("brand-"+this.getBrandPrefix(e)),t=e.hotelId):n.push("location-suggestion"),{classes:n,hotelCode:t}},Rl.prototype.getBrandPrefix=function(e){return-1===Object.keys(Eo.config.hotelBrands).map(function(e){return Eo.config.hotelBrands[e]}).indexOf(e.brand.toLowerCase())?Eo.config.hotelBrands.pi:e.brand.toLowerCase()},Rl.prototype.over=function(e){e.target.to(this.hoverStyle.over)},Rl.prototype.out=function(e){e.target.to(this.hoverStyle.out)},Rl.prototype.suggestionSelected=function(e){this.close();var t=e.name,n=e.isHotel,o=e.location,i=e.categoryName,r=e.brand,a=e.placeId,s=e.managedPlaceId,l={brand:r,categoryName:i,hotelCode:e.hotelId,isHotel:n,location:o,name:t,placeId:a,managedPlaceId:s};Eo.updateStayDetails(l)},Rl.OPEN="OPEN",Rl.CLOSE="CLOSE",Rl.FORCE_CLOSE="FORCE_CLOSE",Rl);function Rl(e){void 0===e&&(e={});var t=Al.call(this,F.merge({type:"search-suggestion",className:["search-suggestions"]},e))||this;return t.suggestionsOpen=!1,t.hoverStyle={over:{duration:0,toVars:{backgroundColor:ie.colours.darkNeutral.mid}},out:{duration:0,toVars:{backgroundColor:"inherit"}}},Rl.locationSelected=!1,t.searchTerm="",Eo.addEventListener(t,Eo.INVALID_LOCATION,t.resetSuggestionData),t}var Nl,kl=(e(Pl,Nl=x),Pl.prototype.clickLocationInput=function(){this.locationInput.element.click()},Pl.prototype.locationSearch=function(e){var t=e.target,n=e.sourceEvent.keyCode,o=ft.countNonWhitespaceCharacters(t.value);0<o?this.clearInput.show():this.clearInput.hide(),o<3?(Il.locationSelected=!1,this.dispatchEvent(new k(Pl.FORCE_CLOSE,this)),0===o&&(Eo.validLocation(),Eo.hideSnowdropError())):38!==n&&40!==n&&27!==n&&13!==n&&this.dispatchEvent(new k(Pl.LOCATION_UPDATED,this,{location:t.value}))},Pl.prototype.locationEvents=function(e){var t=e.target,n=e.sourceEvent.keyCode;if(3<=ft.countNonWhitespaceCharacters(t.value))switch(n){case 9:this.dispatchEvent(new k(Pl.FORCE_CLOSE,this));break;case 13:e.sourceEvent.preventDefault(),this.dispatchEvent(new k(Pl.FOCUS_ON_SUGGESTION,this,{},e.sourceEvent));break;case 38:case 40:this.dispatchEvent(new k(Pl.FOCUS_ON_SUGGESTION,this,{},e.sourceEvent))}},Pl.prototype.clearLocationInput=function(e){Eo.hideSnowdropError(),Eo.validLocation(),this.locationInput.hideFieldHighlightError(),this.dispatchEvent(new k(Pl.FORCE_CLOSE,this)),this.clearInput.hide(),this.locationInput.clear(),e.sourceEvent.preventDefault()},Pl.prototype.showInvalidSearchMessage=function(){this.locationInput.highlightFieldError(),Eo.setSuggestions=!1},Pl.prototype.hideInvalidSearchMessage=function(){this.locationInput.hideFieldHighlightError(),Eo.setSuggestions=!0},Pl.prototype.showWarningSearchMessage=function(){this.locationInput.highlightFieldWarning(),Eo.setSuggestions=!0},Pl.prototype.blur=function(e){var t=e.target.value;Il.locationSelected||this.dispatchEvent(new k(Pl.FORCE_SELECT,this,{location:t},e.sourceEvent)),this.clearInput.hide()},Pl.prototype.focus=function(e){var t=e.target.value,n=ft.countNonWhitespaceCharacters(t);0<n?this.clearInput.show():this.clearInput.hide(),0===n&&(Eo.hideSnowdropError(),Eo.validLocation())},Pl.LOCATION_UPDATED="LOCATION_UPDATED",Pl.FORCE_CLOSE="FORCE_CLOSE",Pl.FOCUS_ON_SUGGESTION="FOCUS_ON_SUGGESTION",Pl.FORCE_SELECT="FORCE_SELECT",Pl);function Pl(e){void 0===e&&(e={});var n=this;e=F.merge({type:"search-console-form-location-input",className:["wb-form-item__field","wb-form-item--clean"]},e),n=Nl.call(this,e)||this;var t=new x({className:["pi-search-input-container"]});n.locationInput=new Cr({cursor:"text",outline:Eo.emailLandingLocationsPage()?"0px":ie.colours.secondary.darkest+" solid 1px",attributes:{placeholder:Eo.content.form.whereEmailLandingPage,autocomplete:"off",spellcheck:!1}}),n.clearInput=new x({type:"clear-input",className:["clear-input"]});var o=new x({type:"clear-icon",className:["wb-icon_cross"]});return o.addEventListener(n,"mousedown",n.clearLocationInput),n.clearInput.addChild(o),t.addChild(n.locationInput),t.addChild(n.clearInput),n.locationInput.addEventListener(n,"keyup",n.locationSearch),n.locationInput.addEventListener(n,"keydown",n.locationEvents),n.locationInput.addEventListener(n,"click",n.focus),n.locationInput.addEventListener(n,"blur",n.blur),n.addChild(t),Eo.addEventListener(n,Eo.UPDATE_STAY_DETAILS,function(e){var t=e.data.name;n.locationInput.update(t)}),Eo.addEventListener(n,Eo.SHOW_SNOWDROP_ERROR,n.showInvalidSearchMessage),Eo.addEventListener(n,Eo.HIDE_SNOWDROP_ERROR,n.hideInvalidSearchMessage),Eo.addEventListener(n,Eo.VALID_LOCATION,n.hideInvalidSearchMessage),Eo.addEventListener(n,Eo.INVALID_LOCATION,n.showInvalidSearchMessage),Eo.addEventListener(n,Eo.SEARCH_REQUEST_LOCATION,function(){return n.locationInput.disable()}),Eo.addEventListener(n,Eo.FINISHED_SEARCH_REQUEST,function(){return n.locationInput.enable()}),Eo.addEventListener(n,Eo.NO_HOTELS_AVAILABLE,n.showWarningSearchMessage),Eo.addEventListener(n,Eo.RETRY_SNOWDROP_SUGGESTIONS,n.clickLocationInput),n}var xl,Ml=(e(Bl,xl=x),Bl.prototype.updateSuggestions=function(e,t){this.suggestions.update(e,t),this.suggestions.open()},Bl.prototype.sendKeyPressesToSuggestions=function(e){this.suggestions.highLightSuggestion(e)},Bl.prototype.selectDefaultSuggestion=function(e){this.suggestions.defaultSelection(e)},Bl.prototype.getSuggestions=function(e){var n=this,o=e.data.location;this.suggestionsDebouncedCall&&clearTimeout(this.suggestionsDebouncedCall),this.suggestionsDebouncedCall=setTimeout(function(){So.suggestions(o).then(function(e){var t;e.length?(Eo.validLocation(),Eo.setSuggestions=!0,t=e.filter(function(e){return!e.code}),n.updateSuggestions(t,o)):(n.closeSuggestions(),Eo.setSuggestions=!1)})},this.debounceTimer)},Bl.prototype.keyListener=function(e){27===e.keyCode&&this.closeSuggestions()},Bl.prototype.closeSuggestions=function(){this.suggestions.close()},Bl.prototype.interceptDownClick=function(e){var t=e.sourceEvent;t.stopImmediatePropagation(),t.stopPropagation()},Bl);function Bl(e){void 0===e&&(e={});var t=xl.call(this,F.merge(C({type:"search-console-form-location"},Eo.emailLandingLocationsPage()?{className:["pi-header-search-console-form-field","pi-header-search-console-location"]}:{},{marginBottom:"10px",responsive:[{minWidth:ie.responsive.xs,style:{display:"block",marginRight:"0px",width:"100%"}},{minWidth:ie.responsive.s,style:{marginRight:"10px",display:"inline-block",width:"58%",marginLeft:ie.spacing.m}},{minWidth:ie.responsive.m,style:{marginRight:"15px",display:"inline-block",width:"58%"}}]}),e))||this;return t.SEARCH_REQUEST="SEARCH_REQUEST",t.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",t.debounceTimer=Eo.config.api.snowdrop.autocomplete.debounce,t.input=new kl,t.suggestions=new Il,t.input.addEventListener(t,kl.LOCATION_UPDATED,t.getSuggestions),t.input.addEventListener(t,kl.FOCUS_ON_SUGGESTION,function(e){t.sendKeyPressesToSuggestions(e)}),t.input.addEventListener(t,kl.FORCE_SELECT,function(e){t.selectDefaultSuggestion(e)}),t.input.addEventListener(t,kl.FORCE_CLOSE,function(){t.closeSuggestions(),t.suggestions.update(null)}),t.addChild(t.input),t.suggestions.addEventListener(t,"click",t.interceptDownClick,{},!1),t.suggestions.addEventListener(t,Il.OPEN,t.suggestions.open),t.suggestions.addEventListener(t,Il.CLOSE,function(e){Eo.updateStayDetails(e.data)}),t.suggestions.addEventListener(t,Il.FORCE_CLOSE,t.closeSuggestions),t.addChild(t.suggestions),document.addEventListener("keyup",function(e){t.keyListener(e)}),document.addEventListener("click",function(e){t.element.contains(e.target)||t.closeSuggestions()},!1),t}var Hl=(Fl.normalizeStyles=function(e,t){if(e&&e[t]&&e[t].value){var n=e[t].value.split(", "),o={};return n.forEach(function(e){var t=e.split(":");o[t[0]]=t[1]}),o}return{}},Fl);function Fl(){}var Ul,Gl=(e(jl,Ul=x),jl.prototype.removeInvalidStates=function(){To.track.validationError(),this.removeInvalidRoomsState()},jl.prototype.showNoHotelsMessage=function(){To.track.validationError(Eo.content.results.notifications.noResults),this.noHotelsMessage.show()},jl.prototype.setInvalidRoomsState=function(){To.track.validationError(Eo.content.form.invalidRooms),Eo.emailLandingLocationsPage()||this.invalidRooms.show()},jl.prototype.removeInvalidRoomsState=function(){Eo.emailLandingLocationsPage()||this.invalidRooms.hide()},jl.HIDE_FORM="HIDE_FORM",jl);function jl(e){void 0===e&&(e={});var t,n=Ul.call(this,F.merge({type:"form",display:Eo.emailLandingLocationsPage()?"inline-block":"none",id:"search-console-form",className:["wb-form-item"]},e))||this;return n.formFieldHeight="2.375rem",n.errorHeight="34px",Eo.addEventListener(n,Eo.SEARCH_REQUEST_LOCATION,function(){return n.searchButton.disable()}),Eo.addEventListener(n,Eo.FINISHED_SEARCH_REQUEST,function(){return n.searchButton.enable()}),Eo.addEventListener(n,Eo.INVALID_ROOMS,function(){return n.setInvalidRoomsState()}),Eo.addEventListener(n,Eo.VALID_STAY_DETAILS,function(){return n.removeInvalidStates()}),Eo.addEventListener(n,Eo.NO_HOTELS_AVAILABLE,function(){return n.showNoHotelsMessage()}),Eo.emailLandingLocationsPage()||(t=new _l,n.addChild(t),n.noHotelsMessage=new il(Eo.content.results.notifications.noResults,{className:["warning-location-message"],minHeight:n.errorHeight,attributes:{role:"alert"}}),n.addAnotherRoom=new dl(Eo.content.results.notifications.addAnotherRoom,{className:["info-alert"],minHeight:n.errorHeight,padding:ie.spacing.xs+" 0",attributes:{role:"alert"}}),n.addChild(n.noHotelsMessage),n.invalidRooms=new tl(Eo.content.form.invalidRooms,{className:["invalid-rooms-message"],id:"rooms",minHeight:n.errorHeight,attributes:{"aria-live":"assertive",role:"alert"}}),n.addChild(n.invalidRooms),n.searchButton=new Vo({text:Eo.content.form.update,id:"search-console-form-button",className:["wb-btn","wb-btn--primary","search-console__search-button"],height:"56px",overflow:"hidden",textOverflow:"ellipsis"}),n.searchButton.addEventListener(n,"click",function(){Eo.resetStateAndSearch(),n.noHotelsMessage.hide()}),n.addChild(n.searchButton),n.addEventListener(n,"keydown",function(e){13===e.sourceEvent.keyCode&&e.sourceEvent.preventDefault()}),n.addChild(n.addAnotherRoom),n.addAnotherRoom.show()),Eo.emailLandingLocationsPage()&&(n.searchLocation=new Ml,n.addChild(n.searchLocation),n.searchButton=new gl(C({text:Eo.emailLandingPagesContent.elements.buttonLabel.value,id:"search-console-form-button",className:["wb-btn","wb-btn--primary","pi-header-search-console-search"],height:n.formFieldHeight,overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",responsive:[{minWidth:ie.responsive.xs,style:{display:"block",maxWidth:"100%"}},{minWidth:ie.responsive.s,style:{display:"inline-block",maxWidth:"34%"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"buttonStyles"))),n.searchButton.addEventListener(n,"click",function(){Eo.resetStateAndSearch()}),n.addChild(n.searchButton)),n}var Wl,Vl=(e(Yl,Wl=x),Yl);function Yl(e){var t=Wl.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" role="presentation" aria-hidden="true" style="display:block;fill:currentColor;" viewBox="0 0 24 24" focusable="false"><path fill-rule="evenodd" d="M 10.4 18.2 c -4.2 -0.6 -7.2 -4.5 -6.6 -8.8 c 0.6 -4.2 4.5 -7.2 8.8 -6.6 c 4.2 0.6 7.2 4.5 6.6 8.8 c -0.6 4.2 -4.6 7.2 -8.8 6.6 M 23 22 l -5 -5 c 1.4 -1.4 2.3 -3.1 2.6 -5.2 c 0.7 -5.1 -2.8 -9.7 -7.8 -10.5 c -5 -0.7 -9.7 2.8 -10.5 7.9 c -0.7 5.1 2.8 9.7 7.8 10.5 c 2.5 0.4 4.9 -0.3 6.7 -1.7 v 0.1 l 5 5 c 0.3 0.3 0.8 0.3 1.1 0 c 0.3 -0.3 0.4 -0.8 0.1 -1.1"/></svg>',t}var zl,$l=(e(Kl,zl=x),Kl.prototype.update=function(){var e=Eo.config.locale===ot.LOCALE.DE.country?",":"";this.change.show(),this.criteriaGuestsRoomType.element.style.display="inline",this.location.textContent=Eo.stayDetails.name+e,Eo.stayDetails.arrivalDate&&(Eo.isSRP()||(this.criteriaDateNight.textContent=this.getSummaryDateNight()),this.criteriaGuestsRoomType.textContent=this.criteriaDateNight.textContent?", "+this.getSummaryGuestsRoomType():this.getSummaryGuestsRoomType()),Eo.pageTitleSummary({summary:this.getSummary(),stayDetails:Eo.stayDetails})},Kl.prototype.getSummary=function(){var e=Eo.isSRP()?"":this.getSummaryDateNight();return e+=0===e.length?this.getSummaryGuestsRoomType():", "+this.getSummaryGuestsRoomType()},Kl.prototype.getSummaryDateNight=function(){var e=rt.getDateFormat(Eo.config.locale,"long");return[he(Eo.stayDetails.arrivalDate).format(e),ft.pluralise(Eo.stayDetails.nights,Eo.content.global.night,Eo.content.global.nights)].filter(function(e){return""!==e}).join(", ")},Kl.prototype.getSummaryGuestsRoomType=function(){return[ft.pluralise(wl.getNumberOfAdults(Eo.stayDetails),Eo.content.global.adult,Eo.content.global.adults),this.getRoomSummary(Eo.stayDetails.roomData)].filter(function(e){return""!==e}).join(", ")},Kl.prototype.getRoomSummary=function(e){var n=e.map(function(e){return e.roomTypeName});return e.reduce(function(e,t){return e.some(function(e){return e.roomTypeName===t.roomTypeName})?e[n.indexOf(t.roomTypeName)].roomCount++:e.push({roomCount:1,roomTypeName:t.roomTypeName}),e},[]).map(function(e){var t=1===e.roomCount?Eo.content.global.room:Eo.content.global.rooms,n=e.roomTypeName.charAt(0).toUpperCase()+e.roomTypeName.slice(1);return e.roomCount+" "+n+" "+t}).join(", ")},Kl.prototype.hideChangeBtn=function(){this.change.hide()},Kl.prototype.hideSummaryGuestsRoomType=function(){this.criteriaGuestsRoomType.hide()},Kl);function Kl(e){void 0===e&&(e={});var t=zl.call(this,F.merge({type:"search-summary",className:["search-summary-container"]},e))||this,n=new x({type:"search-summary-criteria",className:["search-summary"]});t.addChild(n);var o=Eo.stayDetails.name;t.location=new x({type:"span",text:o,className:["search-summary-location"]}),n.addChild(t.location),t.criteria=new x({type:"span",className:["search-summary-criteria"]}),n.addChild(t.criteria),t.criteriaDateNight=new x({type:"span",className:["search-summary-criteria-part"]}),t.criteria.addChild(t.criteriaDateNight),t.criteriaGuestsRoomType=new x({type:"span",className:["search-summary-criteria-part"]}),t.criteria.addChild(t.criteriaGuestsRoomType),t.change=new x({type:"search-summary-change-btn",className:["search-summary-change"]}),t.addChild(t.change);var i=new Vl({className:["search-summary-change-icon"]});t.change.addChild(i);var r=new Vo({text:Eo.content.form.changeGuestRoom,id:"search-summary-change-btn",className:["search-summary-change-btn"]});return t.change.addChild(r),t.addEventListener(t,"click",Eo.hideSummary),t.addEventListener(t,"click",t.hideChangeBtn),t.addEventListener(t,"click",t.hideSummaryGuestsRoomType),t}var ql,Ql=(e(Xl,ql=x),Xl.stylesSearchConsole=function(){return Eo.emailLandingLocationsPage()?C({responsive:[{maxWidth:ie.responsive.s,style:{width:"100%",height:"63%",display:"block"}},{minWidth:ie.responsive.s,style:{height:"100%",display:"inline-block",width:"60%",float:"left"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"headerStyles")):{responsive:[{maxWidth:ie.responsive.m-1,style:{backgroundImage:"none"}}]}},Xl.prototype.hideForm=function(){Eo.emailLandingLocationsPage()||(this.form.hide(),this.summary.update(),this.summary.show()),Eo.changeHeight()},Xl.prototype.hideSummary=function(){this.form.show(),Eo.changeHeight()},Xl);function Xl(e){var t,n,o,i,r,a=ql.call(this,F.merge(C({type:"search-console",className:["search-console","search-email-landing-console","cf"]},Xl.stylesSearchConsole()),e))||this;Eo.emailLandingLocationsPage()&&(t=new x(C({display:"inline-block",text:""+Eo.emailLandingPagesContent.elements.heading.value,paddingLeft:"19px",marginRight:"5px",marginBottom:"5px",responsive:[{minWidth:ie.responsive.xs,style:{textAlign:"center",display:"block",paddingTop:"25px"}},{minWidth:ie.responsive.s,style:{display:"inline-block",textAlign:"left",paddingTop:"45px"}},{minWidth:ie.responsive.m,style:{display:"inline-block",textAlign:"left",paddingTop:"62px"}},{minWidth:ie.responsive.l,style:{display:"inline-block",textAlign:"left",paddingTop:"71px"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"headingStyles"))),n=new x(C({display:"inline-block",text:""+Eo.emailLandingPagesContent.elements.label.value,width:"116px",verticalAlign:"bottom",height:"28px",borderRadius:"3px",margin:"auto",responsive:[{minWidth:ie.responsive.xs,style:{textAlign:"center",display:"block",paddingTop:"6px",lineHeight:"16px"}},{minWidth:ie.responsive.s,style:{display:"inline-block",paddingLeft:"0px",paddingTop:"0px",lineHeight:"26px"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"labelStyles"))),o=En.getParam("CAMPAIGNPRICE"),i=(""+Eo.emailLandingPagesContent.elements.subheading.value).replace(/{campaignPrice}/,""+o),r=new x(C({paddingLeft:"19px",text:i,color:""+Eo.emailLandingPagesContent.elements.headingStyles.value,display:"block",paddingTop:"6px",responsive:[{minWidth:ie.responsive.xs,style:{textAlign:"center"}},{minWidth:ie.responsive.s,style:{textAlign:"left"}},{minWidth:ie.responsive.m,style:{textAlign:"left"}},{minWidth:ie.responsive.l,style:{textAlign:"left"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"subheadingStyles"))),a.addChild(t),a.addChild(n),a.addChild(r));var s,l,c,d,u=new ee({className:["gutter-container"],responsive:[{minWidth:ie.responsive.xs,style:{width:"95%"}},{minWidth:ie.responsive.s,style:{width:"100%"}}]});return a.addChild(u),Eo.emailLandingLocationsPage()||(a.summary=new $l,u.addChild(a.summary),a.summary.addEventListener(a,Eo.HIDE_SUMMARY,a.hideSummary)),a.form=new Gl,u.addChild(a.form),Eo.emailLandingLocationsPage()&&(s=new x(C({type:"foot-note-wrapper",display:"block",responsive:[{minWidth:ie.responsive.xs,style:{textAlign:"center",maxWidth:"100%",margin:"0px 20px 0px 20px"}},{minWidth:ie.responsive.s,style:{textAlign:"left",maxWidth:"80%",margin:"6px 0px 29px 16px"}},{minWidth:ie.responsive.m,style:{textAlign:"left",maxWidth:"80%",margin:"16px 0px 48px 16px"}},{minWidth:ie.responsive.l,style:{textAlign:"left",maxWidth:"80%",margin:"22px 0px 73px 17px"}},{minWidth:ie.responsive.l,style:{maxWidth:"80%",margin:"22px 0px 73px 17px"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"footnoteStyles"))),l=new x({type:"a",color:ie.colours.secondary.darkest,textDecoration:"underline",text:""+Eo.emailLandingPagesContent.elements.tcLabel.value,attributes:{href:""+Eo.emailLandingPagesContent.elements.tcLink.value,target:"_blank"}}),c=new x({type:"a",color:ie.colours.secondary.darkest,textDecoration:"underline",text:"homepage",attributes:{href:window.location.origin,target:"_blank"}}),(d=new qs({type:"span",fontSize:ie.fontSizes.base,lineHeight:ie.lineHeight.xxs,width:"calc(100% - 3rem)",text:""+Eo.emailLandingPagesContent.elements.footnote.value})).innerHtml=d.innerHtml.replace(/{tcLabel}/g,l.element.outerHTML),d.innerHtml=d.innerHtml.replace(/{campaignPrice}/g,En.getParam("CAMPAIGNPRICE")),d.innerHtml=d.innerHtml.replace(/{altPrice}/g,En.getParam("ALTPRICE")),d.innerHtml=d.innerHtml.replace(/{homepage}/g,c.element.outerHTML),s.addChild(d),a.addChild(s)),Eo.addEventListener(a,Eo.SEARCH_REQUEST_HOTEL,function(){a.hideForm()}),Eo.addEventListener(a,Eo.HIDE_SUMMARY,a.hideSummary),Eo.addEventListener(a,Eo.CLOSE_SEARCH,a.hideForm),Eo.addEventListener(a,Eo.SEARCH_REQUEST_LOCATION,function(){a.hideForm(),(Eo.stayDetails.dateless||Eo.consoleError)&&Eo.changeHeight()}),Eo.addEventListener(a,Eo.HDP_STAYDETAILS_UPDATE,function(){Eo.stayDetails.dateless||Eo.consoleError?a.hideSummary():a.hideForm()}),Eo.addEventListener(a,Eo.NO_HOTELS_AVAILABLE,function(){return a.hideSummary()}),a}var Zl,Jl=(e(ec,Zl=x),ec.styles=function(){return Eo.emailLandingLocationsPage()?C({display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1024px",responsive:[{minWidth:ie.responsive.xs,style:{height:"480px"}},{minWidth:ie.responsive.s,maxWidth:ie.responsive.m,style:{height:"249px"}},{minWidth:ie.responsive.m,maxWidth:ie.responsive.l,style:{height:"268px"}},{minWidth:ie.responsive.l,style:{height:"308px"}}]},Hl.normalizeStyles(Eo.emailLandingPagesContent,"backgroundColor")):{}},ec.getConsoleManagerClass=function(){return Eo.emailLandingLocationsPage()?["homepage-analytics"]:Eo.emailLandingView()?["console-manager","console-manager-elp","homepage-analytics","site-container"]:["console-manager","homepage-analytics"]},ec);function ec(e){var t,n=Zl.call(this,F.merge(C({type:"console-manager",className:ec.getConsoleManagerClass()},ec.styles()),e))||this,o=Eo.config.features.hotelSearch;return Eo.emailLandingView()&&o&&(Eo.emailLandingLocationsPage()&&(t=new x(C({backgroundImage:"url("+Eo.emailLandingPagesContent.elements.headerImage.value+")"},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"headerStyles"),{display:"inline-block",responsive:[{maxWidth:ie.responsive.s,style:{width:"100%",display:"block",height:"40%"}},{minWidth:ie.responsive.s,style:{float:"right",height:"100%",display:"inline-block",width:"40%"}}]})),n.addChild(t)),n.searchEmailLandingConsole=new Ql,n.addChild(n.searchEmailLandingConsole)),n}var tc,nc=(e(oc,tc=x),oc.prototype.showError=function(e){this._input.element.classList.add("wb-form-error"),this.error.textContent=e,this.icon.show(),this.error.show()},oc.prototype.hideError=function(){this._input.element.classList.remove("wb-form-error"),this.icon.hide(),this.error.hide()},oc.prototype.setPlaceholder=function(e){this._input.element.setAttribute("placeholder",e)},Object.defineProperty(oc.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(oc.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value=e},enumerable:!0,configurable:!0}),oc.prototype.checkValidity=function(e){var t,n=this._input.element;!n.validity.valid&&n.validationMessage?(t=n.validationMessage,e&&e.customErrorMessage&&(t=e.customErrorMessage),this.showError(t)):this.hideError()},oc);function oc(e,t,n){void 0===e&&(e={});var o=tc.call(this,{type:"div",className:["wb-form-item","wb-push-middle--bottom"]})||this;return o.inputContainer=new x({type:"div",className:["wb-form-item__field"]}),o._input=new x(F.merge({type:"input",attributes:{type:"text"}},e)),o.icon=new x({type:"span",className:["form-item-msg__error-icon","wb-icon_disc-info-filled"]}),o.icon.hide(),o.error=new x({type:"span",className:["form-item-msg","form-item-msg--error"]}),o.error.hide(),o._input.addEventListener(o,"change",function(e){o.checkValidity(t),n&&n(e)}),o._input.addEventListener(o,"invalid",function(e){e.sourceEvent.preventDefault(),o.checkValidity(t)}),o.inputContainer.addChild(o.input),o.inputContainer.addChild(o.icon),o.addChild(o.inputContainer),o.addChild(o.error),o}var ic,rc=(e(ac,ic=pl),ac);function ac(e){void 0===e&&(e={});var t={color:ie.colours.primary.white,backgroundColor:ie.colours.secondary.darkest,hover:{backgroundColor:ie.colours.secondary.darker}};return ic.call(this,F.merge(t,e))||this}var sc,lc=(e(cc,sc=x),cc.prototype.renderSuccessComponent=function(){var e=new x({type:"success-wrapper",className:["success-wrapper"]});e.addChild(new ys({type:"success-unhoused",icon:"disc-checked-fill",text:this.content.successMessage}));var t=new rc({text:this.content.logInButton});e.addChild(t),t.addEventListener(this,"click",function(){Eo.dispatchEvent(new k(Eo.DISPLAY_LOGIN_FORM,null))}),this.addChild(e)},cc);function cc(e){var t=sc.call(this,F.merge({type:"reset-password-wrapper",className:["reset-password-wrapper"]},e))||this;t.validPassword=!1,t.validConfirmPassword=!1,t.content=Eo.content.authentication.resetPassword;var o=En.getParam("token"),n=/(?=^.{8,}$)(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*[\s\W]).*$/;t.formErrors=new x({type:"reset-form-errors"}),t.form=new x({type:"form",className:["wb-form-item","reset-password"]});var i=new x({color:ie.colours.primary.purple,text:t.content.resetPasswordTitle,className:["wb-strong","reset-password-title"]});t.form.addChild(i),t.emailField=new nc({id:"reset-email",className:["sessioncamhidetext","assist-no-show"],attributes:{required:"required",type:"email",name:"email",placeholder:t.content.email}},{customErrorMessage:Eo.content.authentication.login.invalidEmail}),t.form.addChild(t.emailField),t.passwordField=new nc({id:"reset-password",className:["sessioncamhidetext","assist-no-show"],attributes:{type:"password",name:"password",required:"required",placeholder:t.content.password}},{customErrorMessage:t.content.invalidPassword},function(){n.test(t.passwordField.value)?(t.validPassword=!0,""!==t.confirmPasswordField.value&&(t.passwordField.value!==t.confirmPasswordField.value?(t.confirmPasswordField.showError(t.content.invalidPasswordConfirmation),t.validConfirmPassword=!1):(t.confirmPasswordField.hideError(),t.validConfirmPassword=!0))):(t.passwordField.showError(t.content.invalidPassword),t.validPassword=!1)}),t.form.addChild(t.passwordField),t.confirmPasswordField=new nc({id:"reset-confirm-password",className:["sessioncamhidetext","assist-no-show"],attributes:{type:"password",name:"passwordConfirmation",required:"required",placeholder:t.content.passwordConfirmation}},{customErrorMessage:t.content.invalidPassword},function(){t.confirmPasswordField.value!==t.passwordField.value?(t.confirmPasswordField.showError(t.content.invalidPasswordConfirmation),t.validConfirmPassword=!1):t.validConfirmPassword=!0}),t.form.addChild(t.confirmPasswordField);var r=new x({className:["criteria-wrapper"]}),a=new x({type:"p",color:ie.colours.greyScale.dark,text:t.content.criteriaDescription});r.addChild(a);var s=t.content.criteria.split(","),l=new x({type:"ul"});return s.forEach(function(e){l.addChild(new x({type:"li",color:ie.colours.greyScale.dark,text:e}))}),r.addChild(l),t.submitButton=new gl({attributes:{type:"submit"},text:t.content.submitButton}),r.addChild(t.submitButton),t.form.addChild(r),t.form.addChild(t.formErrors),t.addChild(t.form),t.form.addEventListener(t,"submit",function(n){return c(t,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return(n.sourceEvent.preventDefault(),this.validPassword&&this.validConfirmPassword)?(this.formErrors.removeAllChildren(),[4,So.resetPassword(o,this.emailField.value,this.confirmPasswordField.value)]):[2];case 1:return(t=e.sent()).passwordChanged?(this.form.hide(),this.renderSuccessComponent()):this.formErrors.addChild(new ys({type:"alert",text:t.message.split(",")[1].match(/"([^"]+)"/)[1]})),[2]}})})}),t}var dc,uc=(e(hc,dc=x),hc.prototype.update=function(e){void 0===e&&(e={}),this.announcementContainer.removeChild(this.announcementNotification),this.announcementNotification=new ys(e),this.announcementContainer.addChild(this.announcementNotification)},hc);function hc(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=dc.call(this,F.merge({type:"announcement",className:["announcement"]},e))||this;return n.announcementContainer=new x({className:["site-container","announcement-text"]}),n.announcementNotification=new ys({bannerHTML:Eo.content.announcement.text,type:Eo.content.announcement.type,headerText:Eo.content.announcement.headerText}),0!==Object.keys(t).length&&(n.announcementNotification=new ys(t)),n.announcementContainer.addChild(n.announcementNotification),n.addChild(n.announcementContainer),Eo.addEventListener(n,Eo.SHOW_NOTIFICATION,function(e){e.eventData.type===n.data.type&&n.show()}),Eo.addEventListener(n,Eo.HIDE_NOTIFICATION,function(e){e.eventData.type===n.data.type&&n.hide()}),n}var pc,mc=(e(fc,pc=x),fc);function fc(e){void 0===e&&(e={});var t=pc.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n                <path d="M0 0H24V24H0z" transform="rotate(90 12 12)"/>\n                <path fill="#58595B" d="M8.47 6.53L9.53 5.47 16.061 12 9.53 18.53 8.47 17.47 13.939 12z"/>\n            </g>\n        </svg>',t}var gc,yc=(e(vc,gc=x),vc);function vc(e,t,n){void 0===e&&(e={});var o,i=gc.call(this,F.merge({className:["mobile-menu__button"]},e))||this;return n&&(o=new mc({type:"span",className:["chevron-right"]}),i.addChild(o)),t&&i.element.classList.add("grey-bg"),i}var Ec,bc=(e(wc,Ec=x),wc);function wc(e){return Ec.call(this,F.merge({type:"label",display:"inline-block",fontSize:ie.fontSizes.s},e))||this}var Cc,Sc=(e(Lc,Cc=x),Lc);function Lc(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var i=Cc.call(this,t)||this,r=new Ni({className:["language-flag-img"],path:e.flagUrl});i.addChild(r);var a,s,l=new bc({text:e.language,className:["language-label"],fontSize:ie.fontSizes.base,verticalAlign:"middle",cursor:"pointer"});return i.addChild(l),n&&(a=new mc({type:"span",className:["chevron-right"]}),i.addChild(a)),o&&(i.element.className+=" selected",s=new x({type:"img",className:["tick"],attributes:{src:Eo.content.menu.tick,alt:"Tick"}}),i.addChild(s)),i}var Dc,Oc=(e(_c,Dc=x),_c.prototype.showMenu=function(e){this.dispatchEvent(new k(_c.SLIDE,this,e.target.data.type))},_c.prototype.showModal=function(e){Eo.dispatchEvent(new k(Eo.OPEN_MODAL,null,{type:e.target.data.type}))},_c.prototype.populateAnonymousTabs=function(e){var t,n,o=e.authentication,i=e.bookingSearch;this.myPIContainer.removeAllChildren(),o&&((t=new yc({id:"mobile-login-tab",text:Eo.content.menu.logIn,data:{type:Eo.LOGIN_FORM}},!0,!1)).addEventListener(this,"click",this.showModal),this.myPIContainer.addChild(t),Eo.addEventListener(this,Eo.DISPLAY_MOBILE_LOGIN,function(){t.dispatchEvent(new k("click",t))})),i&&((n=new yc({text:Eo.content.menu.findBooking,data:{type:Eo.FIND_BOOKING}},!0,!1)).addEventListener(this,"click",this.showModal),this.myPIContainer.addChild(n))},_c.prototype.populatedMyPITabs=function(){var n=this;this.myPIContainer.removeAllChildren();var e,t,o=window.test&&window.test.account?Eo.config.authentication.abTestAccountLinksOverride:Eo.config.authentication.accountLinks,i=go.profile,r=go.isBusiness()?i.companyName:i.firstName+" "+i.lastName,a=new yc({className:["my-pi-wrapper__tab","my-pi-wrapper__profile","sessioncamhidetext"],text:r},!0,!1);this.myPIContainer.addChild(a),o.forEach(function(e){var t=new x({className:["my-pi-wrapper__tab"],type:"a",text:e.title,attributes:{href:e.url}});n.myPIContainer.addChild(t)}),go.isTravelManager()&&((e=new yc({className:["my-pi-wrapper__tab"],text:Eo.config.authentication.business.businessAccountLinks[0].title,data:{type:Eo.MOBILE_COMPANY},attributes:{"data-testid":"mobile-company"}},!0,!0)).addEventListener(this,"click",this.showMenu),this.myPIContainer.addChild(e),(t=new yc({className:["my-pi-wrapper__tab"],text:Eo.config.authentication.business.businessAccountLinks[1].title,data:{type:Eo.MOBILE_REPORTING},attributes:{"data-testid":"mobile-reporting"}},!0,!0)).addEventListener(this,"click",this.showMenu),this.myPIContainer.addChild(t));var s=new yc({text:Eo.content.authentication.logoutButton},!0,!1);s.addEventListener(this,"click",Eo.logOutUser),this.myPIContainer.addChild(s)},_c.SLIDE="SLIDE",_c);function _c(e){var t,n,o,i,r,a=Dc.call(this,F.merge({className:["mobile-menu"]},e))||this,s=Eo.config.features,l=s.authentication,c=s.bookingSearch,d=s.languageSelector,u=s.subNav,h=s.businessSubNav,p=Eo.emailLandingView();return d&&!p&&(t=Eo.content.countries.filter(function(e){return e.code.toLowerCase()===Eo.config.locale.toLowerCase()})[0],n=new x({className:["mobile-menu__language"]}),(o=new Sc(t,{data:{type:Eo.MOBILE_LANGUAGE}},!0)).addEventListener(a,"click",a.showMenu),n.addChild(o),a.addChild(n)),a.myPIContainer=new x({type:"my-pi-wrapper",className:["my-pi-wrapper"]}),a.populateAnonymousTabs({authentication:l,bookingSearch:c}),a.addChild(a.myPIContainer),h&&((i=new yc({text:Eo.content.menu.business,data:{type:Eo.MOBILE_BUSINESS}},!1,!0)).addEventListener(a,"click",a.showMenu),a.addChild(i)),u&&((r=new yc({id:"mobile-sub-nav",text:Eo.content.menu.discoverPI,data:{type:Eo.MOBILE_DISCOVER}},!1,!0)).addEventListener(a,"click",a.showMenu),a.addChild(r)),Eo.addEventListener(a,Eo.USER_LOGGED_IN,function(){To.track.loginForm(Oo.Closed),a.populatedMyPITabs()}),a}var Tc,Ac=(e(Ic,Tc=x),Ic.prototype.update=function(e,t){this.removeAllChildren(),this.resetSuggestionData(),t&&(this.searchTerm=t),null!==e&&(this.suggestionsData=e,this.populateList(e))},Ic.prototype.highLightSuggestion=function(e){var t=e.sourceEvent.keyCode;if(this.suggestionsOpen){var n=this.nextIndex,o=this.suggest[n-2],i=0===n?this.suggest[n]:this.suggest[n-1],r=this.suggest[n];switch(t){case 13:var a=0===n?this.suggestionsData[n]:this.suggestionsData[n-1];this.suggestionSelected(a),Ic.locationSelected=!0;break;case 38:e.sourceEvent.preventDefault(),i&&i.to(this.hoverStyle.out),o&&o.to(this.hoverStyle.over),0<n&&this.nextIndex--;break;case 40:if(e.sourceEvent.preventDefault(),n===this.suggest.length)return;i&&n!==this.suggest.length&&(i.to(this.hoverStyle.out),this.nextIndex++),r.to(this.hoverStyle.over)}}else 13===t&&Eo.resetStateAndSearch()},Ic.prototype.defaultSelection=function(e){this.suggestionsData&&this.suggestionsData.length?this.suggestionSelected(this.suggestionsData[0]):Eo.updateStayDetails({name:e.data.location}),Eo.setLocationErrorType=""},Ic.prototype.open=function(){var e=this;this.suggestionsOpen=!0,this.killAnimations(),this.show(),this.to({duration:.2,ease:B.EaseOut,toVars:{opacity:"1",transform:"translateY(0rem)"}}).then(function(){e.style({zIndex:"3"})})},Ic.prototype.close=function(){var e=this;this.suggestionsOpen=!1,this.killAnimations(),this.style({zIndex:"1"}),this.to({duration:.3,toVars:{opacity:"0",transform:"translateY(-2rem)"}}).then(function(){e.hide()})},Ic.prototype.selectSuggestion=function(e){e.sourceEvent.preventDefault(),this.suggestionSelected(e.data),Ic.locationSelected=!0},Ic.prototype.resetSuggestionData=function(){this.suggest=[],this.suggestionsData=[],this.nextIndex=0},Ic.prototype.populateList=function(e){this.locationsExist(e)&&this.appendToList(this.locations(e)),this.hotelsExist(e)&&(this.addChild(this.hotelsLabel()),this.appendToList(this.hotels(e)))},Ic.prototype.locationsExist=function(e){return 0<this.locations(e).length},Ic.prototype.hotelsExist=function(e){return 0<this.hotels(e).length},Ic.prototype.locations=function(e){return e.filter(function(e){return!e.isHotel})},Ic.prototype.hotels=function(e){return e.filter(function(e){return e.isHotel})},Ic.prototype.hotelsLabel=function(){return new x({type:"hotels-label",text:Eo.content.form.hotelsLabel,className:["hotel-label"]})},Ic.prototype.appendToList=function(e){var t=this,n=new x({type:"ul",className:["suggestion-container"]});e.forEach(function(e){t.addListItem(n,e)}),this.addChild(n)},Ic.prototype.addListItem=function(e,t){var n=this.getListAttributes(t),o=n.classes,i=n.hotelCode,r=new x({type:"li",className:o});i&&r.element.setAttribute("data-hotelcode",i),e.addChild(r),this.suggest.push(r);var a=new x({type:"span",className:["suggestion"],text:this.highlightSearch?"":t.name});r.addChild(a),this.highlightSearch&&this.highlightSuggestion(t).map(function(e){e.textContent=ft.alphaStripper(e.textContent),a.addChild(e)}),t.isHotel&&r.addChild(this.getLogo(t)),r.addEventListener(this,"mouseover",this.over),r.addEventListener(this,"mouseout",this.out),r.addEventListener(this,"mousedown",this.selectSuggestion,t)},Ic.prototype.highlightSuggestion=function(e){var t,n,o,i,r=this.searchTerm?this.searchTerm.trim().replace(/\W/g,"\\$&"):"",a=new RegExp(r,"i"),s=e.name.match(a),l=e.name.split(a,1).toString(),c=s?s[0]:"",d=e.name.replace(""+l+c,""),u=[];return s?(l&&(t=new x({type:"span",text:l}),u.push(t)),c&&(n=new x({type:"strong",text:c}),u.push(n)),o=new x({type:"span",text:d}),u.push(o)):(i=new x({type:"span",text:e.name}),u.push(i)),u},Ic.prototype.getLogo=function(e){var t=this.getBrandPrefix(e);return new x({type:"img",attributes:{src:Eo.content.global.brand[t+"Logo"],alt:Eo.content.global.brand[""+t]}})},Ic.prototype.getListAttributes=function(e){var t,n=[];return e.isHotel?(n.push("hotel-suggestion"),n.push("brand-"+this.getBrandPrefix(e)),t=e.hotelId):n.push("location-suggestion"),{classes:n,hotelCode:t}},Ic.prototype.getBrandPrefix=function(e){return-1===Object.keys(Eo.config.hotelBrands).map(function(e){return Eo.config.hotelBrands[e]}).indexOf(e.brand.toLowerCase())?Eo.config.hotelBrands.pi:e.brand.toLowerCase()},Ic.prototype.over=function(e){e.target.to(this.hoverStyle.over)},Ic.prototype.out=function(e){e.target.to(this.hoverStyle.out)},Ic.prototype.suggestionSelected=function(e){this.close();var t=e.name,n=e.isHotel,o=e.location,i=e.categoryName,r=e.brand,a=e.placeId,s=e.managedPlaceId,l={brand:r,categoryName:i,hotelCode:e.hotelId,isHotel:n,location:o,name:t,placeId:a,managedPlaceId:s};Eo.updateStayDetails(l)},Ic.OPEN="OPEN",Ic.CLOSE="CLOSE",Ic.FORCE_CLOSE="FORCE_CLOSE",Ic);function Ic(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=Tc.call(this,F.merge({type:"search-suggestion",className:["search-suggestions"]},e))||this;return n.highlightSearch=!1,n.suggestionsOpen=!1,n.hoverStyle={over:{duration:0,toVars:{backgroundColor:ie.colours.greyScale.lightest}},out:{duration:0,toVars:{backgroundColor:"inherit"}}},Ic.locationSelected=!1,n.searchTerm="",n.highlightSearch=t,Eo.addEventListener(n,Eo.INVALID_LOCATION,n.resetSuggestionData),n}var Rc,Nc=(e(kc,Rc=x),kc.prototype.clickLocationInput=function(){this.locationInput.element.click()},kc.prototype.locationSearch=function(e){var t=e.target,n=e.sourceEvent.keyCode,o=ft.countNonWhitespaceCharacters(t.value);0<o?this.clearInput.element.classList.add("show"):this.clearInput.element.classList.remove("show"),o<3?(Ac.locationSelected=!1,this.dispatchEvent(new k(kc.FORCE_CLOSE,this)),0===o&&(Eo.validLocation(),Eo.hideSnowdropError())):38!==n&&40!==n&&27!==n&&13!==n&&this.dispatchEvent(new k(kc.LOCATION_UPDATED,this,{location:t.value}))},kc.prototype.locationEvents=function(e){var t=e.target,n=e.sourceEvent.keyCode;if(3<=ft.countNonWhitespaceCharacters(t.value))switch(n){case 9:this.dispatchEvent(new k(kc.FORCE_CLOSE,this));break;case 13:e.sourceEvent.preventDefault(),this.dispatchEvent(new k(kc.FOCUS_ON_SUGGESTION,this,{},e.sourceEvent));break;case 38:case 40:this.dispatchEvent(new k(kc.FOCUS_ON_SUGGESTION,this,{},e.sourceEvent))}},kc.prototype.clearLocationInput=function(e){Eo.hideSnowdropError(),Eo.validLocation(),this.locationInput.hideError(),this.dispatchEvent(new k(kc.FORCE_CLOSE,this)),this.clearInput.element.classList.remove("show"),this.locationInput.clear(),e.sourceEvent.preventDefault()},kc.prototype.showInvalidSearchMessage=function(){this.locationInput.showError(Eo.content.form.invalidLocation),Eo.setSuggestions=!1},kc.prototype.hideInvalidSearchMessage=function(){this.locationInput.hideError(),Eo.setSuggestions=!0},kc.prototype.showWarningSearchMessage=function(){this.locationInput.showError(Eo.content.form.invalidLocation),Eo.setSuggestions=!0},kc.prototype.blur=function(e){var t=e.target.value;Ac.locationSelected||this.dispatchEvent(new k(kc.FORCE_SELECT,this,{location:t},e.sourceEvent)),this.clearInput.element.classList.remove("show")},kc.prototype.focus=function(e){var t=e.target.value,n=ft.countNonWhitespaceCharacters(t);0<n?this.clearInput.element.classList.add("show"):this.clearInput.element.classList.remove("show"),0===n&&(Eo.hideSnowdropError(),Eo.validLocation())},kc.LOCATION_UPDATED="LOCATION_UPDATED",kc.FORCE_CLOSE="FORCE_CLOSE",kc.FOCUS_ON_SUGGESTION="FOCUS_ON_SUGGESTION",kc.FORCE_SELECT="FORCE_SELECT",kc);function kc(e){void 0===e&&(e={});var n=this;e=F.merge({type:"search-console-form-location-input",className:["wb-form-item__field","wb-form-input-field__icons","search-location__container"]},e),(n=Rc.call(this,e)||this).locationInput=new $i({attributes:{placeholder:Eo.content.form.where,autocomplete:"off",spellcheck:!1},data:{iconLeft:"wb-icon--location"}},{customErrorMessage:Eo.content.form.invalidLocation},function(){switch(Eo.hasLocationErrorType){case Eo.LOCATION_INVALID:n.showInvalidSearchMessage();break;case Eo.LOCATION_NO_HOTELS:n.showWarningSearchMessage()}}),n.clearInput=new x({type:"clear-input",className:["clear-input"]});var t=new x({type:"clear-icon",className:["wb-icon","wb-icon--dismiss-small-grey-lighter"]});return t.addEventListener(n,"mousedown",n.clearLocationInput),n.clearInput.addChild(t),n.addChild(n.locationInput),n.locationInput.inputContainer.addChild(n.clearInput),n.locationInput.input.addEventListener(n,"keyup",n.locationSearch),n.locationInput.input.addEventListener(n,"keydown",n.locationEvents),n.locationInput.input.addEventListener(n,"click",n.focus),n.locationInput.input.addEventListener(n,"blur",n.blur),Eo.addEventListener(n,Eo.UPDATE_STAY_DETAILS,function(e){var t=e.data.name;n.locationInput.update(t)}),Eo.addEventListener(n,Eo.SHOW_SNOWDROP_ERROR,n.showInvalidSearchMessage),Eo.addEventListener(n,Eo.HIDE_SNOWDROP_ERROR,n.hideInvalidSearchMessage),Eo.addEventListener(n,Eo.VALID_LOCATION,n.hideInvalidSearchMessage),Eo.addEventListener(n,Eo.INVALID_LOCATION,n.showInvalidSearchMessage),Eo.addEventListener(n,Eo.SEARCH_REQUEST_LOCATION,function(){return n.locationInput.disable()}),Eo.addEventListener(n,Eo.FINISHED_SEARCH_REQUEST,function(){return n.locationInput.enable()}),Eo.addEventListener(n,Eo.NO_HOTELS_AVAILABLE,n.showWarningSearchMessage),Eo.addEventListener(n,Eo.RETRY_SNOWDROP_SUGGESTIONS,n.clickLocationInput),n}var Pc,xc=(e(Mc,Pc=x),Mc.prototype.updateSuggestions=function(e,t){this.suggestions.update(e,t),this.suggestions.open()},Mc.prototype.sendKeyPressesToSuggestions=function(e){this.suggestions.highLightSuggestion(e)},Mc.prototype.selectDefaultSuggestion=function(e){this.suggestions.defaultSelection(e)},Mc.prototype.getSuggestions=function(e){var t=this,n=e.data.location;this.suggestionsDebouncedCall&&clearTimeout(this.suggestionsDebouncedCall),this.suggestionsDebouncedCall=setTimeout(function(){So.suggestions(n).then(function(e){e.length?(Eo.validLocation(),Eo.setSuggestions=!0,t.updateSuggestions(e,n)):(t.closeSuggestions(),Eo.setSuggestions=!1)})},this.debounceTimer)},Mc.prototype.keyListener=function(e){27===e.keyCode&&this.closeSuggestions()},Mc.prototype.closeSuggestions=function(){this.suggestions.close()},Mc.prototype.interceptDownClick=function(e){var t=e.sourceEvent;t.stopImmediatePropagation(),t.stopPropagation()},Mc);function Mc(e){void 0===e&&(e={});var t=Pc.call(this,F.merge({type:"search-console-form-location",className:["search-console__location"]},e))||this;return t.SEARCH_REQUEST="SEARCH_REQUEST",t.UPDATE_SEARCH_TERM="UPDATE_SEARCH_TERM",t.debounceTimer=Eo.config.api.snowdrop.autocomplete.debounce,t.input=new Nc,t.suggestions=new Ac,t.input.addEventListener(t,Nc.LOCATION_UPDATED,t.getSuggestions),t.input.addEventListener(t,Nc.FOCUS_ON_SUGGESTION,function(e){t.sendKeyPressesToSuggestions(e)}),t.input.addEventListener(t,Nc.FORCE_SELECT,function(e){t.selectDefaultSuggestion(e)}),t.input.addEventListener(t,Nc.FORCE_CLOSE,function(){t.closeSuggestions(),t.suggestions.update(null)}),t.addChild(t.input),t.suggestions.addEventListener(t,"click",t.interceptDownClick,{},!1),t.suggestions.addEventListener(t,Ac.OPEN,t.suggestions.open),t.suggestions.addEventListener(t,Ac.CLOSE,function(e){Eo.updateStayDetails(e.data)}),t.suggestions.addEventListener(t,Ac.FORCE_CLOSE,t.closeSuggestions),t.addChild(t.suggestions),document.addEventListener("keyup",function(e){t.keyListener(e)}),document.addEventListener("click",function(e){t.element.contains(e.target)||t.closeSuggestions()},!1),t}var Bc,Hc=(e(Fc,Bc=$i),Fc.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},Fc.prototype.activate=function(){},Fc.prototype.inactive=function(){},Fc.prototype.open=function(){},Fc.prototype.close=function(){},Fc.prototype.updateStartDate=function(){var e=Eo.config.locale===ot.LOCALE.DE.country?ot.LOCALE.DE.language:ot.LOCALE.GB.language,t=rt.getDateFormat(Eo.config.locale,"standard");he.locale(e);var n,o=he().startOf("day"),i=he().add(1,"day").startOf("day"),r=he(Eo.stayDetails.arrivalDate).startOf("day");r.isSame(o)?this.startDate.textContent=Eo.content.global.today:r.isSame(i)?this.startDate.textContent=Eo.content.global.tomorrow:(n=he(Eo.stayDetails.arrivalDate).format(t),this.startDate.textContent=n),!this.invalidDate&&Eo.checkInSelected&&(this.endDate.textContent=Eo.content.form.datePicker.checkOut),this.input.value=this.startDate.textContent+"  |  "+this.endDate.textContent,this.invalidDate&&(this.input.value=Eo.content.form.datePicker.invalidDate)},Fc.prototype.updateDepartureDate=function(){var e=Eo.config.locale===ot.LOCALE.DE.country?ot.LOCALE.DE.language:ot.LOCALE.GB.language,t=rt.getDateFormat(Eo.config.locale,"standard");he.locale(e);var n,o=he().add(1,"day").startOf("day");he(Eo.stayDetails.departureDate).startOf("day").isSame(o)?this.endDate.textContent=Eo.content.global.tomorrow:(n=he(Eo.stayDetails.departureDate).format(t),this.endDate.textContent=n),this.input.value=this.startDate.textContent+"  |  "+this.endDate.textContent,this.invalidDate&&(this.input.value=Eo.content.form.datePicker.invalidDate)},Fc);function Fc(e){void 0===e&&(e={});var t=Bc.call(this,F.merge({attributes:{type:"text",required:"required",readonly:"readonly"},data:{iconLeft:"wb-icon--calendar"}},e))||this;t.invalidDate=!1,t.initialLoad=!0,t.setPlaceholder(Eo.content.form.searchDatesPlaceholder),t.text=new x({type:"span",className:["date-label"],attributes:{"aria-invalid":"false","aria-errormessage":"invalid-date-message","aria-describedby":"date"}}),t.startDate=new x({type:"checkInDate",className:["check-in"]}),t.text.addChild(t.startDate);var n=new x({type:"seperator",className:["calendar-seperator"],text:"  |  "});return t.text.addChild(n),t.endDate=new x({type:"checkOutDate",className:["check-out"]}),t.text.addChild(t.endDate),Eo.addEventListener(t,Eo.UPDATE_STAY_DETAILS,function(){Eo.stayDetails.arrivalDate&&t.updateStartDate()}),Eo.addEventListener(t,Eo.UPDATE_STAY_DETAILS,function(){(Eo.stayDetails.departureDate&&Eo.checkOutSelected||t.initialLoad||Eo.stayDetails.departureDate&&!Eo.checkOutSelected&&!Eo.checkInSelected)&&(t.updateDepartureDate(),t.initialLoad=!1)}),Eo.addEventListener(t,Eo.HIDE_SUMMARY,function(){t.endDate.textContent===Eo.content.form.datePicker.checkOut&&t.updateDepartureDate()}),Eo.addEventListener(t,Eo.INVALID_CHECKIN_DATE,function(){t.element.setAttribute("aria-invalid","true"),t.invalidDate=!0}),Eo.addEventListener(t,Eo.VALID_CHECKIN_DATE,function(){return t.invalidDate=!1}),Eo.addEventListener(t,Eo.VALID_STAY_DETAILS,function(){t.element.setAttribute("aria-invalid","false")}),Eo.config.experiments.dateless.message&&Eo.addEventListener(t,Eo.DATELESS_STATE,function(){t.element.setAttribute("aria-invalid","true")}),t}var Uc,Gc=(e(jc,Uc=ns),jc.prototype.initCalendarFooter=function(){var t=this,e=new x({type:"button",text:Eo.content.global.done,className:["done-button"]});this.addChild(e),e.addEventListener(this,"click",function(e){e.sourceEvent.preventDefault(),t.dispatchEvent(new k(jc.DONE_BUTTON_CLICKED,t))})},jc.prototype.initializeMonthsContainer=function(){this.datesObject={},this.monthsContainer?this.monthsContainer.removeAllChildren():(this.monthsContainer=new x({id:"date-picker-months",className:["date-picker-months"],attributes:{role:"presentation"}}),this.addChild(this.monthsContainer)),this.calendarDateArray=[],this.buildMonths(this.now.getMonth(),this.now.getFullYear())},jc.prototype.buildRow=function(p,e,m,f){var g=this;e.forEach(function(t,e){var n=new x({className:["date-box"]});0===e?n.element.classList.add("first"):6===e&&n.element.classList.add("last");var o,i,r,a,s,l,c,d={text:t,type:"button",className:["date-value"]},u=new W(d),h=new Date(f,m,Number(t),0,0,0);""!==t?(o=f+"-"+rt.addLeadingZero(m+1)+"-"+rt.addLeadingZero(Number(t)),r=(i=new Date(o)).getDay(),a=i.getMonth(),s=new x({className:["highlight-container"]}),n.addChild(s),d.attributes={id:""+g.DATE_PICKER_DATE_ID_PREFIX+rt.addLeadingZero(Number(t))+(m+1)+f,"aria-label":g.fullDayName[r]+" "+t+" "+g.fullMonthName[a]+" "+f,"data-date":o},l=new Date(f,m,1),c=new Date(f,m+1,0),o===he(l).format("YYYY-MM-DD")&&n.element.classList.add("first-day"),o===he(c).format("YYYY-MM-DD")&&n.element.classList.add("last-day"),u=new W(d),g.datesObject[o]={dateBox:n,button:u,highlighter:s},g.disabledDate(t,m,f)?u.element.setAttribute("disabled","disabled"):(u.addEventListener(g,"click",function(e){return g.handleDateClicked(e,new Date(f,m,Number(t)))}),n.addEventListener(g,"mouseenter",function(){g.handleDateHover(new Date(f,m,Number(t)))})),g.calendarDateArray=y(g.calendarDateArray,[h])):u.element.setAttribute("disabled","disabled"),u.addEventListener(g,"keydown",g.navigateCalendarFromDate,h),n.addChild(u),p.addChild(n),g.datesArray=y(g.datesArray,[u.element])})},jc.prototype.highlightSelectedDate=function(e){this.handleDateClicked(e,e.data)},jc.prototype.handleDateHover=function(e){var t,n,o,i,r,a=this;!this.startDate||this.startDate&&this.endDate||!e||this.startDate.getTime()>=e.getTime()||e.getTime()===this.startDate.getTime()||(this.hoverEndDate&&(t=this.getDateRange(this.startDate,this.hoverEndDate)).slice(1,t.length).forEach(function(e){var t=a.getDateBox(e);t.dateBox.element.classList.remove("range"),t.highlighter.element.classList.remove("range-end"),t.highlighter.element.classList.remove("selected"),t.button.element.classList.remove("range-selected")}),this.hoverEndDate=e,(n=this.getDateBox(this.startDate)).button.element.classList.add("selected"),n.highlighter.element.classList.add("selected"),n.dateBox.element.classList.remove("first"),o=this.getDateRange(this.startDate,e),(i=new Date(this.startDate)).setDate(this.startDate.getDate()+Eo.maxNights()),o.slice(1,o.length).forEach(function(e){var t=a.getDateBox(e);e.getTime()<=i.getTime()&&a.highlightRange(t)}),e.getTime()>i.getTime()&&(e=i),(r=this.getDateBox(e)).dateBox.element.classList.remove("range"),r.highlighter.element.classList.add("range-end"))},jc.prototype.handleDateClicked=function(e,t){var n=this;e.sourceEvent.preventDefault();var o=new Date;if(o.setHours(0,0,0,0),!this.startDate||this.startDate&&this.endDate){this.startDate&&this.endDate&&this.resetCalendarState(),this.startDate=t;var i=this.getDateBox(this.startDate);this.selectContainer(i,e.type),this.dispatchEvent(new k(jc.START_DATE,this,t));var r=new Date(this.startDate);r.setDate(this.startDate.getDate()+Eo.maxNights()),this.calendarDateArray.forEach(function(e){var t=n.getDateBox(e);(e.getTime()>r.getTime()||e.getTime()<n.startDate.getTime())&&n.disableDates(t)})}else if(this.startDate&&!this.endDate){if(!this.isValidEndDate(t))return;this.endDate=t;i=this.getDateBox(this.startDate);this.highlightDateBox(i);var a=this.getDateRange(this.startDate,this.endDate);a.slice(1,a.length-1).forEach(function(e){var t=n.getDateBox(e);n.highlightRange(t)});var s=this.getDateBox(this.endDate);s.dateBox.element.classList.add("check-out-date"),s.button.element.classList.add("selected"),s.button.element.classList.remove("range-selected"),"click"===e.type&&(s.dateBox.element.classList.add("date-box--clicked"),s.button.element.classList.add("selected--clicked")),this.dispatchEvent(new k(jc.END_DATE,this,t)),this.calendarDateArray.forEach(function(e){var t;e.getTime()>=o.getTime()&&(t=n.getDateBox(e),n.enableDates(t))})}},jc.prototype.selectContainer=function(e,t){e.button.element.classList.add("selected"),e.dateBox.element.classList.remove("first"),e.dateBox.element.classList.add("check-in-date"),"click"===t&&(e.dateBox.element.classList.add("date-box--clicked"),e.button.element.classList.add("selected--clicked"))},jc.prototype.disableDates=function(e){e.button.element.classList.add("disabled"),e.button.element.setAttribute("disabled","disabled")},jc.prototype.enableDates=function(e){e.button.element.classList.remove("disabled"),e.button.element.removeAttribute("disabled")},jc.prototype.highlightDateBox=function(e){e.button.element.classList.add("selected"),e.highlighter.element.classList.add("selected")},jc.prototype.highlightRange=function(e){e.dateBox.element.classList.add("range"),e.highlighter.element.classList.add("selected"),e.button.element.classList.add("range-selected")},jc.prototype.getDateBox=function(e){var t=this.createDateString(e);try{return this.datesObject[t]}catch(e){return null}},jc.prototype.createDateString=function(e){var t=rt.addLeadingZero(e.getDate()),n=rt.addLeadingZero(e.getMonth()+1);return e.getFullYear()+"-"+n+"-"+t},jc.prototype.getDateRange=function(e,t){var n=this.calendarDateArray.map(function(e){return e.getTime()}),o=n.indexOf(e.getTime()),i=t?n.indexOf(t.getTime(),o):this.calendarDateArray.length;return this.calendarDateArray.slice(o,i+1)},jc.prototype.stayDetailsUpdated=function(){var e;Eo.checkOutSelected||(e=Eo.stayDetails,this.dateSelected=e.arrivalDate?e.arrivalDate:this.now,this.monthSelected=this.dateSelected.getMonth(),this.yearSelected=this.dateSelected.getFullYear(),this.now.getMonth()===this.monthSelected?this.leftChevContainer.hide():this.leftChevContainer.show(),this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected))},jc.prototype.resetCalendarState=function(){var n=this,o=new Date;o.setHours(0,0,0,0),this.calendarDateArray.forEach(function(e){var t=n.getDateBox(e);t.button.element.classList.remove("selected"),t.button.element.classList.remove("range-selected"),t.button.element.classList.remove("selected--clicked"),t.dateBox.element.classList.remove("end-date"),t.dateBox.element.classList.remove("check-in-date"),t.dateBox.element.classList.remove("check-out-date"),t.dateBox.element.classList.remove("range"),t.dateBox.element.classList.remove("date-box--clicked"),t.dateBox.element.style.border="none",t.highlighter.element.classList.remove("selected"),t.highlighter.element.classList.remove("range-end"),t.highlighter.element.classList.remove("range-selected-end"),e.getTime()>=o.getTime()&&n.enableDates(t)}),this.startDate=null,this.endDate=null,Eo.setCheckOutSelected=!1,Eo.setCheckInSelected=!1},jc.prototype.isValidEndDate=function(e){return this.startDate.getTime()!==e.getTime()||this.resetCalendarState()},jc.prototype.selectDatesOnLoad=function(){var n=this;this.resetCalendarState();var e=Eo.stayDetails,t=e.arrivalDate,o=e.departureDate;this.startDate=t,this.endDate=o;var i=this.getDateBox(this.startDate);this.selectContainer(i,"click"),this.highlightDateBox(i);var r=this.getDateRange(this.startDate,this.endDate);r.slice(1,r.length-1).forEach(function(e){var t=n.getDateBox(e);n.highlightRange(t)});var a=this.getDateBox(this.endDate);a.dateBox.element.classList.add("check-out-date"),a.button.element.classList.add("selected"),a.highlighter.element.classList.add("selected"),a.highlighter.element.classList.add("range-end")},jc.START_DATE="START_DATE",jc.END_DATE="END_DATE",jc.DONE_BUTTON_CLICKED="DONE_BUTTON_CLICKED",jc);function jc(e){var t=this,n=Eo.content.form.datePicker,t=Uc.call(this,n,e,"search-date-picker-day-")||this,o=0;return Eo.addEventListener(t,Eo.UPDATE_STAY_DETAILS,function(){o<1&&(t.initializeMonthsContainer(),o++),t.stayDetailsUpdated(),t.slideMonth(t.duration)}),Eo.addEventListener(t,Eo.HIDE_SUMMARY,function(){t.selectDatesOnLoad()}),t.initCalendarFooter(),t}var Wc,Vc=(e(Yc,Wc=ri),Yc.prototype.startDateSelected=function(e){Eo.validCheckInDate(),Eo.setCheckInSelected=!0,Eo.setCheckOutSelected=!1,Eo.updateStayDetails({arrivalDate:e.data})},Yc.prototype.endDateSelected=function(e){Eo.validCheckInDate(),Eo.setCheckInSelected=!1,Eo.setCheckOutSelected=!0,Eo.updateStayDetails({departureDate:e.data})},Yc.prototype.datePickerClicked=function(){this.dispatchEvent(new k(Gc.CLICKED,this))},Yc.prototype.closeCalendar=function(){this.dispatchEvent(new k(Jo.CLOSE,this))},Yc.CLICKED="CLICKED",Yc);function Yc(e){void 0===e&&(e={});var t=Wc.call(this,F.merge({},e))||this,n=new Gc(new Date);n.addEventListener(t,Gc.START_DATE,t.startDateSelected),n.addEventListener(t,Gc.END_DATE,t.endDateSelected),n.addEventListener(t,Gc.DONE_BUTTON_CLICKED,t.closeCalendar),t.addEventListener(n,Yc.CLICKED,t.datePickerClicked),t.addChild(n);var o=new Vo({text:Eo.content.form.datePicker.unknownDates,className:["calendar-dateless-button"]});return o.addEventListener(t,"click",function(){o.hide()}),t.addChild(o),Eo.config.experiments.dateless.calendar&&(Eo.addEventListener(t,Eo.DATELESS_STATE,function(){return o.style({display:"inline-block"})}),Eo.addEventListener(t,Eo.DATED_STATE,function(){return o.hide()})),t}var zc,$c=(e(Kc,zc=Jo),Kc.prototype.pickerButtonClicked=function(){this.dispatchEvent(new k(Vc.CLICKED,this))},Kc.prototype.buttonPressed=function(e){var t=e.sourceEvent.keyCode;13!==t&&32!==t||this.dispatchEvent(new k(Vc.CLICKED,this))},Object.defineProperty(Kc.prototype,"field",{get:function(){return this.button},enumerable:!0,configurable:!0}),Kc);function Kc(e,t){void 0===e&&(e=!1),void 0===t&&(t={});var n=this,o=new Hc,i=new Vc({type:"search-calendar",zIndex:"3"});return(n=zc.call(this,o,i,e,t)||this).button=o,n.button.addEventListener(i,"click",n.pickerButtonClicked),n.button.addEventListener(i,"keydown",n.buttonPressed),Eo.config.experiments.dateless.calendar&&Eo.addEventListener(n,Eo.DATELESS_STATE,function(){return n.toggle()}),n}var qc=(Qc.getNumberOfAdults=function(e){return e.roomData.reduce(function(e,t){return e+t.adults},0)},Qc.getNumberOfChildren=function(e){return e.roomData.reduce(function(e,t){return e+t.children},0)},Qc.getOptions=function(e,t,n){var o;return 0<e.children?o={selectedIndex:0,options:[{value:t.family,text:n.family}]}:(o=1===e.adults?{selectedIndex:1,options:[{value:t.single,text:n.single},{value:t.double,text:n.double},{value:t.accessible,text:n.accessible}]}:{selectedIndex:0,options:[{value:t.double,text:n.double},{value:t.twin,text:n.twin},{value:t.accessible,text:n.accessible}]},e.roomType&&(o.selectedIndex=this.getSelectedIndex(e.roomType,o)),o)},Qc.getSelectedIndex=function(n,o){return o.options.forEach(function(e,t){e.value===n&&(o.selectedIndex=t)}),o.selectedIndex},Qc);function Qc(){}var Xc,Zc=(e(Jc,Xc=$i),Jc.prototype.setAriaOwns=function(e){this.element.setAttribute("aria-owns",e)},Jc.prototype.activate=function(){},Jc.prototype.inactive=function(){},Jc.prototype.open=function(){},Jc.prototype.close=function(){},Jc.prototype.updateLabel=function(e){this.input.value=e},Jc.prototype.getButtonLabel=function(){var e=1<=qc.getNumberOfAdults(Eo.stayDetails)?qc.getNumberOfAdults(Eo.stayDetails):1,t=ft.pluralise(e,Eo.content.global.adult,Eo.content.global.adults),n=1<=Eo.getNumberOfRooms()?Eo.getNumberOfRooms():1,o=ft.pluralise(n,Eo.content.global.room,Eo.content.global.rooms);return[t,ft.pluralise(qc.getNumberOfChildren(Eo.stayDetails),Eo.content.global.child,Eo.content.global.children),o].filter(function(e){return""!==e}).join(", ")},Jc);function Jc(e){void 0===e&&(e={});var t=Xc.call(this,F.merge({className:["room-picker-button"],attributes:{required:"required",type:"text",name:"text",placeholder:" ",readonly:"readonly"},data:{iconLeft:"wb-icon--adult"}},e))||this;return Eo.addEventListener(t,Eo.UPDATE_ROOM_DETAILS,function(){t.updateLabel(t.getButtonLabel())}),t.addEventListener(t,"click",function(){t.input.id="user-room-choice-label";var e=t.getButtonLabel();t.updateLabel(e)}),Eo.addEventListener(t,Eo.UPDATE_ROOM_DETAILS,function(){var e;Eo.stayDetails.roomData&&t.input.id&&(e=t.getButtonLabel(),t.updateLabel(e))}),Eo.addEventListener(t,Eo.INVALID_ROOMS,function(){t.style({outline:ie.colours.functionalAccent.errorRedDark}),t.element.setAttribute("aria-invalid","true")}),Eo.addEventListener(t,Eo.VALID_STAY_DETAILS,function(){t.style({borderBottom:"none"}),t.element.setAttribute("aria-invalid","false")}),t}var ed,td=(e(nd,ed=W),nd);function nd(e){void 0===e&&(e={});var t=F.merge({fontSize:ie.fontSizes.base,lineHeight:ie.lineHeight.xs},e.style);return ed.call(this,F.merge(t,e))||this}var od,id,rd=(e(ad,od=x),ad.prototype.check=function(){this.checked=!this.checked,this.dispatchEvent(new k(Eo.TOGGLE_UPDATED,this,this.checked))},Object.defineProperty(ad.prototype,"checked",{get:function(){return"true"===this.toggleInput.element.getAttribute("checked")},set:function(e){this.toggleInput.element.setAttribute("checked",e.toString())},enumerable:!0,configurable:!0}),ad);function ad(e,t){var n=od.call(this,F.merge(t,{}))||this;return n.toggleContainer=new x({className:["wb-toggle-container"]}),n.toggle=new x({type:"label",className:["wb-toggle"]}),e.checked?n.toggleInput=new x({type:"input",attributes:{type:"checkbox",checked:!0}}):n.toggleInput=new x({type:"input",attributes:{type:"checkbox"}}),n.toggleSlider=new x({type:"span",className:["wb-toggle__slider"]}),n.toggleLabel=new x({type:"label",className:["wb-toggle__label"],text:Eo.content.form.includeCot}),n.addChild(n.toggleContainer),n.toggle.addChild(n.toggleInput),n.toggle.addChild(n.toggleSlider),n.toggleContainer.addChild(n.toggle),n.toggleContainer.addChild(n.toggleLabel),n.toggleInput.addEventListener(n,"click",n.check),n}(id=id||{}).SMALL="small";var sd,ld=(e(cd,sd=x),cd.prototype.updateRoomTypeSelect=function(e){void 0===e&&(e=!1);var t=this.getRoomTypeOptions();this.roomTypeSelect.options=t.options,this.roomTypeSelect.selectedIndex=t.selectedIndex,Eo.updateRoomDetails(this.roomIndex,{roomType:this.roomTypeSelect.value,roomTypeName:this.getRoomTypeName(this.roomTypeSelect.value),cot:e}),this.roomTypeSelect.value===Eo.config.roomCodes.family?this.cotToggleContainer.show():this.cotToggleContainer.hide()},cd.prototype.adultsChange=function(e){Eo.updateRoomDetails(this.roomIndex,{adults:parseInt(e.target.value,10)}),this.updateRoomTypeSelect(this.cotToggle.checked)},cd.prototype.childrenChange=function(e){var t=parseInt(e.target.value,10);Eo.updateRoomDetails(this.roomIndex,{children:t}),t&&this.cotToggleContainer.show(),this.updateRoomTypeSelect()},cd.prototype.roomTypeChange=function(e){Eo.updateRoomDetails(this.roomIndex,{roomType:e.target.value,roomTypeName:this.getRoomTypeName(e.target.value)})},cd.prototype.getRoomTypeName=function(t){return Object.keys(Eo.config.roomCodes).filter(function(e){return Eo.config.roomCodes[e]===t})[0]},cd.prototype.cotChange=function(){Eo.updateRoomDetails(this.roomIndex,{cot:this.cotToggle.checked})},cd.prototype.getRoomTypeOptions=function(){var e=Eo.stayDetails.roomData[this.roomIndex];return qc.getOptions(e,Eo.config.roomCodes,Eo.content.global)},cd);function cd(e,t,n){void 0===n&&(n={});var o=sd.call(this,F.merge(n,{className:["room"]}))||this;o.roomNumber=e+1,o.roomIndex=e,o.heading=new x({className:["room__heading"]});var i=new x({text:Eo.content.global.roomLabel+" "+o.roomNumber,className:["room__title"]}),r=new qs({text:Eo.content.form.removeRoom,type:"a",attributes:{href:"#"},className:["room__remove-room"]});o.guestsSelectContainer=new x({className:["room__guests-select-container"]}),o.adultsSelect=new El({options:[{value:"1",text:"1"},{value:"2",text:"2"}],name:Eo.content.global.adults,size:id.SMALL,helperText:Eo.content.form.adultsHelperText,icon:"adult",id:"adult-select"},Eo.content.global.adultsLabel),o.childrenSelect=new El({options:[{value:"0",text:"0"},{value:"1",text:"1"},{value:"2",text:"2"}],name:Eo.content.global.children,size:id.SMALL,helperText:Eo.content.form.childrenHelperText,id:"children-select"},Eo.content.global.childrenLabel),o.roomTypeSelect=new El({options:[],name:Eo.content.global.room},Eo.content.form.roomType);var a=new x({type:"hr",className:["room__separator"]});o.cotToggleContainer=new x({className:["room__cot-toggle"]});var s={checked:t.cot};return o.cotToggle=new rd(s),o.addChild(o.heading),o.heading.addChild(i),1<Eo.stayDetails.roomData.length&&o.heading.addChild(r),o.addChild(o.guestsSelectContainer),o.guestsSelectContainer.addChild(o.adultsSelect),o.guestsSelectContainer.addChild(o.childrenSelect),o.cotToggleContainer.addChild(o.cotToggle),o.addChild(o.cotToggleContainer),o.cotToggleContainer.hide(),o.addChild(o.roomTypeSelect),o.roomIndex!==Eo.stayDetails.roomData.length-1&&o.addChild(a),r.addEventListener(o,"click",function(e){e.sourceEvent.preventDefault(),Eo.removeRoom(o.roomIndex)}),0<t.adults&&(o.adultsSelect.value=t.adults.toString()),o.adultsSelect.addEventListener(o,"change",o.adultsChange),0<t.children&&(o.childrenSelect.value=t.children.toString()),o.childrenSelect.addEventListener(o,"change",o.childrenChange),o.roomTypeSelect.addEventListener(o,"change",o.roomTypeChange),o.cotToggle.addEventListener(o,"change",o.cotChange),t.roomType&&o.updateRoomTypeSelect(t.cot),o}var dd,ud=(e(hd,dd=x),hd.prototype.renderRooms=function(e){var o=this;this.trackRooms=e.map(function(e,t){var n=new ld(t,e);return o.addChild(n),n})},hd.prototype.removeAllRooms=function(){var t=this;this.trackRooms.forEach(function(e){t.removeChild(e)})},hd);function hd(e){void 0===e&&(e={});var t=dd.call(this,F.merge({className:["rooms"]},e))||this;return t.trackRooms=[],t.renderRooms(Eo.stayDetails.roomData),Eo.addEventListener(t,Eo.UPDATE_STAY_DETAILS,function(){Eo.stayDetails.roomData&&(t.removeAllRooms(),t.renderRooms(Eo.stayDetails.roomData))}),Eo.addEventListener(t,Eo.USER_LOGGED_IN,function(){Eo.applyBookingPreferencesToRoomData()}),t}var pd,md=(e(fd,pd=x),fd.prototype.setGroupBookingContent=function(){return go.isBusiness()?Eo.content.results.notifications.businessGroupBookingMessage:Eo.content.results.notifications.groupBookingMessage},fd);function fd(e){void 0===e&&(e={});var t=pd.call(this,F.merge({className:"group-booking-message"},e))||this;return t.notification=new ys({bannerHTML:t.setGroupBookingContent(),type:"alert",headerText:Eo.content.results.notifications.groupBookingHeader}),t.addChild(t.notification),Eo.addEventListener(t,Eo.USER_LOGGED_IN,t.setGroupBookingContent),Eo.addEventListener(t,Eo.USER_LOGGED_OUT,t.setGroupBookingContent),t}var gd,yd=(e(vd,gd=ri),vd.prototype.toggleAddRoomButton=function(){go.selfBooker()?(this.addRoomContainer.hide(),this.groupBookingMessage.hide()):this.isUnderLimit()?(this.addRoomContainer.show(),this.groupBookingMessage.hide()):(this.addRoomContainer.hide(),this.groupBookingMessage.show())},vd.prototype.isUnderLimit=function(){return Eo.stayDetails.roomData.length<=Eo.maxRooms()-1},vd.prototype.scrollRoomPickerIntoView=function(){this.element.scrollIntoView({block:"end",behavior:"smooth"})},vd.CLOSE="CLOSE",vd.SCROLL="SCROLL",vd);function vd(e){void 0===e&&(e={});var t=gd.call(this,F.merge({id:"room-picker",className:["room-picker-menu"]},e))||this,n=new ud;t.addRoomContainer=new x({type:"div"});var o=new x({type:"div",className:["room-picker-menu__add-room-container"]}),i=new Vo({className:["wb-btn","wb-btn-circle","plus"]}),r=new td({text:Eo.content.global.addRoom,className:["room-picker-menu__add-room-text"]});t.groupBookingMessage=new md({className:["room-picker-menu__group-booking-message"]});var a=new Vo({className:["wb-btn","wb-btn--tertiary","wb-btn--tertiary--large"],text:Eo.content.global.done});return t.addChild(n),t.addChild(t.addRoomContainer),t.addRoomContainer.addChild(o),o.addChild(i),o.addChild(r),t.groupBookingMessage.hide(),t.addChild(t.groupBookingMessage),t.addChild(a),t.addRoomContainer.addEventListener(t,"click",function(e){t.isUnderLimit()?(e.sourceEvent.preventDefault(),Eo.addRoom(),t.scrollRoomPickerIntoView()):t.toggleAddRoomButton()}),a.addEventListener(t,"click",function(){t.dispatchEvent(new k(vd.CLOSE,t))}),Eo.addEventListener(t,Eo.UPDATE_ROOM_DETAILS,function(){t.toggleAddRoomButton()}),Eo.addEventListener(t,Eo.USER_LOGGED_IN,function(){t.toggleAddRoomButton()}),Eo.addEventListener(t,Eo.USER_LOGGED_IN,function(){t.toggleAddRoomButton()}),t}var Ed,bd=(e(wd,Ed=Jo),Object.defineProperty(wd.prototype,"field",{get:function(){return this.button},enumerable:!0,configurable:!0}),wd);function wd(e){var t=this,n=new Zc,o=new yd;return(t=Ed.call(this,n,o,!0,F.merge(e,{}))||this).button=n,o.addEventListener(yd,yd.SCROLL,function(){window.scrollTo({top:0,behavior:"smooth"})}),o.hide(),t}var Cd,Sd=(e(Ld,Cd=x),Ld.prototype.setBusinessMaxNights=function(){var t=this;return So.getCompanyDetails().then(function(){var e=Eo.maxNights();Eo.dispatchEvent(new k(Eo.AVAILABLE_NIGHTS,t,e)),t.getDateErrorState()&&(t.removeInvalidDateState(),Eo.closeSearch())})},Ld.prototype.removeInvalidStates=function(){To.track.validationError(),this.hideInvalidLocation(),this.removeInvalidDateState(),this.removeInvalidNightsState(),this.removeInvalidRoomsState()},Ld.prototype.showSnowdropError=function(){To.track.validationError(Eo.content.form.snowdropError),this.noHotelsMessage.hide(),this.snowdropError.show()},Ld.prototype.hideSnowdropError=function(){To.track.validationError(),this.snowdropError.hide()},Ld.prototype.showInvalidLocation=function(){To.track.validationError(Eo.content.form.invalidLocation),Eo.setLocationErrorType=Eo.LOCATION_INVALID,this.noHotelsMessage.hide()},Ld.prototype.showNoHotelsMessage=function(){To.track.validationError(Eo.content.results.notifications.noResults),Eo.setLocationErrorType=Eo.LOCATION_NO_HOTELS,this.noHotelsMessage.show()},Ld.prototype.hideInvalidLocation=function(){To.track.validationError(),this.defaultFormState()},Ld.prototype.setInvalidCheckInState=function(e,t){var n=t?Eo.content.form.invalidDate:e?Eo.content.form.invalidFutureDate:Eo.content.form.invalidPastDate;To.track.validationError(n),this.datePicker.field.showError(n)},Ld.prototype.setInvalidNightsState=function(){To.track.validationError(Eo.content.form.invalidNights),this.datePicker.field.showError(Eo.content.form.invalidNights)},Ld.prototype.removeInvalidNightsState=function(){this.datePicker.field.hideError()},Ld.prototype.setInvalidRoomsState=function(){To.track.validationError(Eo.content.form.invalidRooms),this.invalidRooms.show()},Ld.prototype.removeInvalidRoomsState=function(){this.invalidRooms.hide()},Ld.prototype.setInvalidDateState=function(){To.track.validationError(Eo.content.form.datePicker.pickADate),this.datePicker.field.showError(Eo.content.form.datePicker.pickADate)},Ld.prototype.getDateErrorState=function(){return this.datePicker.field.hasError()},Ld.prototype.removeInvalidDateState=function(){this.datePicker.field.hideError()},Ld.prototype.defaultFormState=function(){Eo.setLocationErrorType=""},Ld.HIDE_FORM="HIDE_FORM",Ld.RETRY_BUTTON_CLICKED="RETRY_BUTTON_CLICKED",Ld);function Ld(e){void 0===e&&(e={});var t=Cd.call(this,F.merge({type:"form",display:"block",id:"search-console-form",className:["search-console__form"]},e))||this;t.errorHeight="34px",t.snowdropErrorHeight="75px",Eo.addEventListener(t,Eo.USER_LOGGED_IN,function(){go.isGuest()&&t.hide()}),Eo.addEventListener(t,Eo.USER_LOGGED_OUT,function(){return t.show()}),Eo.addEventListener(t,Eo.SEARCH_REQUEST_LOCATION,function(){return t.searchButton.disable()}),Eo.addEventListener(t,Eo.FINISHED_SEARCH_REQUEST,function(){return t.searchButton.enable()}),Eo.addEventListener(t,Eo.INVALID_CHECKIN_DATE,function(e){return t.setInvalidCheckInState(e.data.futureDate,e.data.invalidDate)}),Eo.addEventListener(t,Eo.VALID_CHECKIN_DATE,function(){return t.removeInvalidDateState()}),Eo.addEventListener(t,Eo.INVALID_LOCATION,function(){return t.showInvalidLocation()}),Eo.addEventListener(t,Eo.SHOW_SNOWDROP_ERROR,function(){t.showSnowdropError()}),Eo.addEventListener(t,Eo.HIDE_SNOWDROP_ERROR,function(){return t.hideSnowdropError()}),Eo.addEventListener(t,Eo.VALID_LOCATION,function(){return t.hideInvalidLocation()}),Eo.addEventListener(t,Eo.INVALID_NIGHTS,function(){return t.setInvalidNightsState()}),Eo.addEventListener(t,Eo.INVALID_ROOMS,function(){return t.setInvalidRoomsState()}),Eo.addEventListener(t,Eo.VALID_STAY_DETAILS,function(){return t.removeInvalidStates()}),Eo.addEventListener(t,Eo.NO_HOTELS_AVAILABLE,function(){return t.showNoHotelsMessage()}),Eo.addEventListener(t,Eo.USER_WITH_ALLOWANCES_LOGGED_IN,function(){t.setBusinessMaxNights()}),Eo.config.experiments.dateless.message&&Eo.addEventListener(t,Eo.DATELESS_STATE,function(){return t.setInvalidDateState()});var n=new x({className:["search-console__container"]});t.addChild(n),t.searchLocation=new xc,n.addChild(t.searchLocation),t.noHotelsMessage=new il(Eo.content.results.notifications.noResults,{className:["warning-location-message"],minHeight:t.errorHeight,attributes:{role:"alert"}});var o=new x({className:["snowdrop-alert-buttons-wrapper"]}),i=new Qo({className:["nav-button"],text:Eo.content.form.snowdropErrorRetry,display:"inline-block",data:{type:Eo.SEARCH_CONSOLE}});i.addEventListener(t,"click",function(){return Eo.retrySnowdropSuggestions()},t);var r=new x({text:Eo.content.form.snowdropErrorLinkConnector,display:"inline-block",marginLeft:"5px",marginRight:"5px"}),a=new Qo({className:["nav-button"],type:"a",text:Eo.content.form.snowdropErrorHotelDirectory,wordBreak:"break-all",whiteSpace:"normal",display:"inline-block",attributes:{href:Eo.content.form.snowdropErrorUrl},data:{type:Eo.SEARCH_CONSOLE}});o.addChild(i),o.addChild(r),o.addChild(a),t.snowdropError=new tl(Eo.content.form.snowdropError,{className:["snowdrop-error-message"],minHeight:t.snowdropErrorHeight,attributes:{role:"alert"}},o,{verticalAlign:"top"}),t.addChild(t.snowdropError),t.addChild(t.noHotelsMessage);var s=new x({className:["search-console__container--date-and-room"]});n.addChild(s),t.datePicker=new $c(!0,{type:"search-console__form-date-picker",className:["search-console__dates","pi-header-date-picker"]}),s.addChild(t.datePicker),t.roomPicker=new bd({className:["search-console__rooms"],attributes:{"aria-describedby":"rooms"}}),s.addChild(t.roomPicker),t.invalidRooms=new tl(Eo.content.form.invalidRooms,{className:["invalid-rooms-message"],id:"rooms",minHeight:t.errorHeight,attributes:{"aria-live":"assertive",role:"alert"}}),t.addChild(t.invalidRooms);var l=new x({className:["search-console__container--search-button"]});t.searchButton=new Vo({id:"search-console__form-button",className:["wb-btn","wb-btn--primary","search-console__search-button"]});var c=new x({type:"span",text:Eo.content.form.search,className:["search-button__text"]}),d=new x({type:"i",className:["wb-icon","wb-icon--search-white-bold","search-button__icon"]});return t.searchButton.addChild(c),t.searchButton.addChild(d),t.searchButton.addEventListener(t,"click",function(){Eo.resetStateAndSearch(),t.noHotelsMessage.hide()}),l.addChild(t.searchButton),n.addChild(l),t.addEventListener(t,"keydown",function(e){13===e.sourceEvent.keyCode&&e.sourceEvent.preventDefault()}),go.isGuest()&&t.hide(),t}var Dd,Od=(e(_d,Dd=x),_d);function _d(e){void 0===e&&(e={});var t=Dd.call(this,F.merge({type:"hero",className:["pi-hero"]},e))||this,n=new x({className:["pi-hero-heading-container"]});t.addChild(n);var o=Eo.content.hero,i=o.headingTextShort,r=o.headingTextLong,a=o.headingFontWeight,s=o.headingFontColor,l=o.headingFontShadow,c=o.subHeadingText,d=o.subHeadingFontWeight,u=o.subHeadingFontColor,h=o.subHeadingFontShadow,p="0 2px 12px "+ie.colours.greyScale.darkest,m=new x({type:"h1",className:["pi-hero-heading-short"],text:i,style:{fontWeight:a,color:"#"+s,textShadow:l?p:"none"}}),f=new x({type:"h1",className:["pi-hero-heading-long"],text:r,fontWeight:a,color:"#"+s,textShadow:l?p:"none"}),g=new x({type:"h1",className:["pi-hero-sub-heading"],text:c,fontWeight:d,color:"#"+u,textShadow:h?p:"none"});return Eo.content.hero.subHeadingShow?(n.addChild(m),n.addChild(g)):n.addChild(f),Eo.addEventListener(t,Eo.CLOSE_HERO,t.hide),Eo.addEventListener(t,Eo.OPEN_HERO,t.show),t}var Td,Ad=(e(Id,Td=x),Id.prototype.update=function(){var e=Eo.config.locale===ot.LOCALE.DE.country?",":"";this.location.innerHtml=Eo.stayDetails.name+e,Eo.stayDetails.arrivalDate&&(this.dates.innerHtml=this.getDates("standard"),this.details.innerHtml=this.getRoomDetails(),this.fullSummary.innerHtml=this.getSummary()),Eo.pageTitleSummary({summary:this.getSummary(),stayDetails:Eo.stayDetails})},Id.prototype.manageClickHandler=function(){window.innerWidth>=ie.responsive.l?this.hasClickHandler||(this.addEventListener(this,"click",Eo.hideSummary),this.hasClickHandler=!0):this.hasClickHandler&&(this.hasClickHandler=!1,this.removeEventListener("click",Eo.hideSummary))},Id.prototype.getSummary=function(){return[this.getDates("long"),ft.pluralise(qc.getNumberOfAdults(Eo.stayDetails),Eo.content.global.adult,Eo.content.global.adults),ft.pluralise(qc.getNumberOfChildren(Eo.stayDetails),Eo.content.global.child,Eo.content.global.children),this.getRoomSummary(Eo.stayDetails.roomData)].filter(function(e){return""!==e}).join(", ")},Id.prototype.getDates=function(e){void 0===e&&(e="standard");var t=Eo.config.locale===ot.LOCALE.DE.country?ot.LOCALE.DE.language:ot.LOCALE.GB.language,n=rt.getDateFormat(Eo.config.locale,e);return he.locale(t),he(Eo.stayDetails.arrivalDate).format(n)+" &ndash; "+he(Eo.stayDetails.departureDate).format(n)},Id.prototype.getRoomDetails=function(){return[ft.pluralise(qc.getNumberOfAdults(Eo.stayDetails),Eo.content.global.adult,Eo.content.global.adults),ft.pluralise(qc.getNumberOfChildren(Eo.stayDetails),Eo.content.global.child,Eo.content.global.children),this.getRoomSummary(Eo.stayDetails.roomData)].filter(function(e){return""!==e}).join(", ")},Id.prototype.getRoomSummary=function(e){var n=e.map(function(e){return e.roomTypeName}).filter(function(e,t,n){return n.indexOf(e)===t});return e.reduce(function(e,t){return e.some(function(e){return e.roomTypeName===t.roomTypeName})?e[n.indexOf(t.roomTypeName)].roomCount++:e.push({roomCount:1,roomTypeName:t.roomTypeName}),e},[]).map(function(e){var t=1===e.roomCount?Eo.content.global.room:Eo.content.global.rooms,n=e.roomTypeName.charAt(0).toUpperCase()+e.roomTypeName.slice(1);return e.roomCount+" "+n+" "+t}).join(", ")},Id);function Id(e){void 0===e&&(e={});var t=Td.call(this,F.merge({type:"search-summary",className:["search-summary"]},e))||this,n=new x({type:"search-summary-container",className:["search-summary__container"]});t.addChild(n);var o=new x({className:["search-summary__location"]}),i=new x({type:"i",className:["wb-icon","wb-icon--search-teal-primary","search-summary__location--icon"]});t.location=new x({type:"span",text:Eo.stayDetails.name,className:["search-summary__location--text"]}),o.addChild(i),o.addChild(t.location),n.addChild(o);var r=new x({className:["search-summary__dates"]});t.dates=new x({type:"span",className:["search-summary__dates--text"]}),r.addChild(t.dates),n.addChild(r);var a=new x({className:["search-summary__details"]});t.details=new x({type:"span",className:["search-summary__details--text"]}),a.addChild(t.details),n.addChild(a),t.fullSummary=new x({className:["search-summary__full"]}),n.addChild(t.fullSummary);var s=new x({type:"search-summary-change-btn",className:["search-summary__change"]}),l=new Vo({text:Eo.content.form.change,id:"search-summary-change-btn",className:["search-summary__change--btn"]});return s.addChild(l),n.addChild(s),l.addEventListener(t,"click",Eo.hideSummary),t.manageClickHandler(),window.addEventListener("resize",function(){t.manageClickHandler()}),t}var Rd,Nd=(e(kd,Rd=x),kd.prototype.hideForm=function(){Eo.stayDetails.dateless||(this.form.hide(),this.summary.update(),this.summary.show(),Eo.changeHeight())},kd.prototype.hideHero=function(){this.style({height:"auto",padding:"16px 0"}),this.heroBackground.style({backgroundImage:"none",backgroundColor:""+ie.colours.primary.white,padding:"0",height:"auto"}),this.heroContent.hide(),this.bottomCaption.hide()},kd.prototype.hideSummary=function(){this.summary.hide(),this.form.show(),Eo.changeHeight()},kd.prototype.toggleHeroPanel=function(){"home"!==ho.currentPage()?(this.hideHero(),Eo.dispatchEvent(new k(Eo.CLOSE_HERO,this))):Eo.dispatchEvent(new k(Eo.OPEN_HERO,this))},kd);function kd(e){var t=Rd.call(this,F.merge({type:"search-console",className:["search-console","cf"]},e))||this,n=Eo.content.hero,o=n.backgroundImage,i=n.bottomCaptionShow,r=n.bottomCaptionText,a=n.bottomCaptionShadow,s=n.bottomCaptionArrowShow;t.heroBackgroundcolor="home"===ho.currentPage()?"#"+Eo.content.hero.backgroundColor:""+ie.colours.primary.white,t.heroBackground=new x({type:"hero-background",className:["search-console__hero-background"],backgroundImage:"url("+o+")",backgroundColor:o?"none":t.heroBackgroundcolor,paddingBottom:i?"24px":"56px"}),t.addChild(t.heroBackground),t.heroContent=new Od({type:"hero-content",className:["pi-hero-content"]}),window.addEventListener("route:change",function(){t.toggleHeroPanel()});var l=new ee({className:["site-container","gutter-container"]});t.heroBackground.addChild(l),l.addChild(t.heroContent),t.form=new Sd,l.addChild(t.form);var c="0 2px 12px "+ie.colours.greyScale.darkest;t.bottomCaption=new x({type:"h5",className:["pi-hero-bottom-caption-text"],text:r,responsive:[{maxWidth:ie.responsive.s,style:{textShadow:"none"}},{minWidth:ie.responsive.s,style:{textShadow:a?c:"none"}}]});var d=new x({type:"img",className:["pi-hero-bottom-caption-arrow","pi-hero-bottom-caption-arrow--dark"],attributes:{src:"https://www.premierinn.com/etc.clientlibs/pi/clientlibs/icons/resources/navigation/arrow-down.svg",alt:"arrow-down"}}),u=new x({type:"img",className:["pi-hero-bottom-caption-arrow","pi-hero-bottom-caption-arrow--light"],attributes:{src:"/etc/clientlibs/pi-header/resources/images/arrow-down-white.svg",alt:"arrow-down"}});return i&&(l.addChild(t.bottomCaption),s&&(t.bottomCaption.addChild(d),t.bottomCaption.addChild(u))),t.summary=new Ad,l.addChild(t.summary),t.summary.addEventListener(t,Eo.HIDE_SUMMARY,t.hideSummary),l.addChild(t.summary),Eo.addEventListener(t,Eo.SEARCH_REQUEST_HOTEL,function(){t.hideForm(),t.hideHero(),Eo.dispatchEvent(new k(Eo.CLOSE_HERO,t))}),Eo.addEventListener(t,Eo.HIDE_SUMMARY,t.hideSummary),Eo.addEventListener(t,Eo.CLOSE_SEARCH,t.hideForm),Eo.addEventListener(t,Eo.CLOSE_SEARCH,t.hideHero),Eo.addEventListener(t,Eo.SEARCH_REQUEST_LOCATION,function(){Eo.dispatchEvent(new k(Eo.CLOSE_HERO,t)),Eo.stayDetails.dateless||Eo.consoleError||(t.hideForm(),t.hideHero()),(Eo.stayDetails.dateless||Eo.consoleError)&&Eo.changeHeight()}),Eo.addEventListener(t,Eo.HDP_STAYDETAILS_UPDATE,function(){Eo.stayDetails.dateless||Eo.consoleError?t.hideSummary():(t.hideForm(),t.hideHero())}),t.element.setAttribute("data-analytics-id",""+Eo.content.hero.analyticsId),Eo.addEventListener(t,Eo.CLOSE_HERO,function(){t.element.removeAttribute("data-analytics-id")}),Eo.addEventListener(t,Eo.OPEN_HERO,function(){t.element.setAttribute("data-analytics-id",""+Eo.content.hero.analyticsId)}),t.toggleHeroPanel(),Eo.addEventListener(t,Eo.NO_HOTELS_AVAILABLE,function(){return t.hideSummary()}),t}var Pd=(Object.defineProperty(xd.prototype,"userProfile",{get:function(){return F.merge({},go.profile)},enumerable:!0,configurable:!0}),Object.defineProperty(xd.prototype,"isBusiness",{get:function(){return go.isBusiness()},enumerable:!0,configurable:!0}),xd);function xd(){}var Md,Bd={countries:[{language:"English",url:"http://premierinn.com",code:"gb",flagUrl:"/etc/clientlibs/pi-header/resources/images/british-round.svg"},{language:"Deutsch",url:"http://premierinn.de",code:"de",flagUrl:"/etc/clientlibs/pi-header/resources/images/germany-round.svg"}],hero:{analyticsId:"hero-image",headingTextShort:"Book with confidence",headingTextLong:"Treat yourself to a little extra with our Premier Plus rooms",headingFontColor:"ffffff",headingFontShadow:!0,headingFontWeight:"500",subHeadingShow:!0,subHeadingText:"With our new range of flexible rates, chging your plans has never been easier",subHeadingFontColor:"ffffff",subHeadingFontShadow:!0,subHeadingFontWeight:"400",backgroundImage:"",backgroundColor:"f0d065",bottomCaptionShow:!0,bottomCaptionText:"Explore why we're Premier",bottomCaptionShadow:!0,bottomCaptionArrowShow:!0},global:{child:"child",children:"children",adult:"adult",adults:"adults",night:"night",nights:"nights",room:"room",rooms:"rooms",roomLabel:"Room",roomsLabel:"Rooms",roomsAndGuestLabel:"Rooms and Guests",addRoom:"Add another room",family:"Family",double:"Double",single:"Single",accessible:"Accessible",twin:"Twin",maxRooms:4,offers:[{maxRooms:2,cellCode:"SHA02",page:"shareholder-offer",numberOfNights:9},{maxRooms:2,cellCode:"COSTA",page:"costa-offer",numberOfNights:9},{maxRooms:4,cellCode:"EMP01",page:"employee-offer",numberOfNights:9}],done:"Done",today:"Today",tomorrow:"Tomorrow",brand:{pi:"Premier Inn",hub:"hub by Premier Inn",zip:"Zip by Premier Inn",piLogo:"/images/pi-icon-disc.svg",hubLogo:"/images/pi-icon-disc-hub.svg",zipLogo:"/images/pi-icon-disc-zip.svg"}},menu:{mobileMenuButton:"Menu",languageButton:"English",discoverPI:"Discover Premier Inn",business:"Business Booker",logIn:"Log in",bookHotel:"Book a hotel",findBooking:"Manage booking",tick:"/etc/clientlibs/pi-header/resources/images/tick.svg",language:"Language"},form:{numberOfNights:9,hotelsLabel:"Hotels",search:"Search",change:"Change search",checkout:"Check out:",summary:"You searched for",where:"Enter place, postcode or hotel",whereEmailLandingPage:"Enter place or postcode",searchDatesPlaceholder:"Check in / Check out",bookingInvalid:"Some of these details are missing or invalid. Please provide correct details",bookingTypeInvalid:"To search for Business Booker stays, please visit our Business Booker portal",invalidLocation:"Please enter a valid location",invalidDate:"Please enter a valid date",invalidPastDate:"Your selected date is in the past",invalidFutureDate:"Unable to book over a year in advance",invalidNights:"Please enter a valid number of nights",invalidRooms:"Please enter a valid room composition",snowdropError:"Oh dear, something went wrong when we tried to load the suggestions.",snowdropErrorRetry:"Retry",snowdropErrorLinkConnector:"or",snowdropErrorHotelDirectory:"Load hotel directory",snowdropErrorUrl:"//www.premierinn.com/gb/en/hotels.html",removeRoom:"Remove room",includeCot:"Include a cot?",groupBooking:"Group booking",checkinOnlineLandingPageTitle:"Check in online",checkinOnlineLandingPageDescription:"Spend more time enjoying your stay by checking in online.When you check in online you can collect your room key as soon as you arrive, plus you can add breakfast and Ultimate Wi-Fi to your booking in advance.",checkinOnlineLandingPageFormTitle:"Find a booking",findBookingTitle:"Amend or cancel a booking",findBookingDescription:"Please enter your details below. You'll find your booking reference in your confirmation email.",bookingReferenceLabel:"Booking reference *",bookingReference:"Booking reference",bookingSurnameLabel:"Surname *",bookingSurname:"Surname",arrivalDateLabel:"Arrival date *",invalidReference:"invalidReference Copy required - 2 characters / special character",invalidSurname:"invalidSurname Copy required - 2 characters / special character",datePicker:{checkOut:"Check out",invalidDate:"Invalid date",unknownDates:"I don't know my dates",nextMonth:"Next month",previousMonth:"Previous month",pickADate:"Please select a date",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdaysShort:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],chevrons:{left:"/etc.clientlibs/pi/clientlibs/icons/resources/navigation/chevron-left.svg",right:"/etc.clientlibs/pi/clientlibs/icons/resources/navigation/chevron-right.svg"}},update:"Update",changeGuestRoom:"Change guest/room type",lowerPrices:"Lower prices",roomType:"Room Type"},results:{notifications:{groupBookingMessage:"If you'd like to book five rooms or more, please call us and we’ll be happy to help.",businessGroupBookingMessage:"If you'd like to make a booking for more than 4 rooms then please email Group.Enquiries@whitbread.com",noResults:"Sorry, we couldn’t find any hotels with available rooms. Try changing your search area.",addAnotherRoom:"To add another room, please make a separate booking."}},header:{image:"/etc/clientlibs/pi-header/resources/images/pi-refresh-logo.svg"},announcement:{text:"",type:"success",headerText:""},alerts:{updateProfile:{headerText:"Action required",type:"error",text:'You need to update your <a href="/gb/en/business/account/profile.html" class="wb-a">profile<a/>.'}},privacyPolicy:{link:"/gb/en/terms/privacy-policy.html",text:"Privacy Policy"},authentication:{loginButton:"Log in",logoutButton:"Log out",accountDescription:"Your account",login:{leisure:{emailPlaceholder:"Email",loginButton:"Continue",formLabel:"Log in",tab:"My Premier Inn",tabMobile:"My Premier Inn",signupButton:"Sign up to My Premier Inn",banner:{darkBackground:!1,imagePath:"https://www.premierinn.com/content/dam/pi/websites/desktop/Business/BusinessAccount/logo-premier-inn-hotel-24.png",header:"Log in to My Premier Inn to make booking even easier",body:"When you're logged in you can manage your bookings, save your preferences and find bookings you've made in the past"}},business:{emailPlaceholder:"Email",loginButton:"Continue",formLabel:"Log in",tab:"Business Booker",tabMobile:"Business Booker",signupButton:"Sign up to Business Booker",banner:{darkBackground:!0,imagePath:"https://www.premierinn.com/content/dam/pi/websites/desktop/Business/BusinessAccount/logo-briefcase-business-line-24.png",header:"Log in to Business Booker and save on bookings with our exclusive Business Flex rates.",body:"When you're logged in you can manage your bookings, save your preferences and find bookings you've made in the past"}},businessAccountCard:{tab:"Business Account card",tabMobile:"Acc. card",title:"Business Account card",textBody:"Were you looking for our Business Account Card?",buttonLabel:"Log in or Register",banner:{imagePath:"https://www.premierinn.com/content/dam/pi/websites/desktop/Business/BusinessAccount/business-account-card.png"}},forgotPassword:"Forgotten password?",passwordPlaceholder:"Password",genericError:"Looks like something went wrong, please try again later.",invalidEmail:"Please enter a valid e-mail address.",badCredentialsError:"Your email address or password is incorrect.",rememberMeLabel:"Remember me",sessionExpired:"Your session expired, please login again.",signupMessage:"Don't have an account yet?",signupLink:"Sign up here"},forgottenPassword:{leisure:{formTitle:"To reset your password",formLabel:"Enter the email address for your My Premier Inn account and we’ll send a single-use password reset link. This link will expire after 24 hours.",submitButton:"Send password reset link",emailPlaceholder:"Email"},business:{formTitle:"To reset your password",formLabel:"Enter the email address for your Business Booker account and we’ll send a single-use password reset link. This link will expire after 24 hours.",submitButton:"Send password reset link",emailPlaceholder:"Email"},emailSentHeader:"Email sent",emailSentMessage:"Follow the instructions in the email to reset your password. If you can't find the email, please check your junk folder.",cancel:"Cancel password reset",backToLogin:"Back to Log in",genericError:"Looks like something went wrong, please try again later.",notRegisteredError:"We don’t recognise this email address."},resetPassword:{resetPasswordTitle:"Enter the new password for My Account",email:"Email",password:"Password",invalidPassword:"Invalid password",passwordConfirmation:"Confirm password",invalidPasswordConfirmation:"Password does not match",criteriaDescription:"Your password should be",criteria:"8 characters minimum, 1 number required, 1 capital letter, No special characters",submitButton:"Submit",successMessage:"Your account password was successfully reset",logInButton:"Log in to Myaccount"}},subNav:[{title:"Business",navOptions:[{title:"Business home",url:"/gb/en/business"},{title:"Business account",url:"/gb/en/business/business-account"},{title:"Business Booker",url:"/gb/en/business/business-booker"}]},{title:"Short Breaks",navOptions:[{title:"All short breaks",url:"/gb/en/short-breaks"},{title:"Hiking breaks",url:"/gb/en/short-breaks/hiking-guide"},{title:"Beach Breaks",url:"/gb/en/short-breaks/coastal-breaks"}]},{title:"Locations",navOptions:[{title:"Book a hotel",url:"/gb/en/book-a-hotel"},{title:"Hotel directory",url:"/gb/en/hotels"},{title:"Local guide",url:"/gb/en/short-breaks/city-breaks"}]},{title:"About us",navOptions:[{title:"About us",url:"/gb/en/why"},{title:"Our rates explained",url:"/gb/en/why/rates"},{title:"Great for families",url:"/gb/en/why/family"}]}]},Hd={locale:"GB",groupBookingUrl:"/gb/en/why/groups.html",ciolUri:"gb/en/check-in-online-landing-page",resetPasswordUri:"gb/en/reset-password",hotelBrands:{hub:"hub",pi:"pi",zip:"zip",pid:"pid"},roomCodes:{double:"DB",twin:"TWIN",family:"FAM",accessible:"DIS",single:"SB"},api:{initialPageSize:40,lazyLoadPageSize:10,connectivity:!0,availability:{domain:"https://api-uat.whitbread.co.uk",preMethod:"/booking/hotels",postMethod:"/availability"},snowdrop:{autocomplete:{debounce:400,domain:"https://pro-premier-inn.emergyalabs.com/v1",method:"/autocomplete?input=",googlePlaces:"gplaces[components]=",defaultResponseLength:5,managedPlacesSize:1,googlePlacesSize:4,countryRestrictions:[{countries:"uk"}]},availabilities:{domain:"https://api.whitbread.co.uk",datelessUrl:"/snowdrop/search/hotels",method:"/snowdrop/search/hotels/availabilities"}},reservations:{domain:"https://api.whitbread.co.uk",method:"/reservation/hotels",incorrectCBTBookingChannelExceptionCode:"2001"},bookingChannel:{business:"CBT",leisure:"WEB"},stringEncryptionUrl:"/cypher"},hotelDetails:{hotelPath:"/gb/en/hotels",hotelDirectoryPath:"/gb/en/hoteldirectory",domain:{desktop:"//www."}},authentication:{defaultLoginTab:"leisure",businessLoginEnabled:!1,businessLegacyLoginEnabled:!1,businessLegacyLoginEndpoint:"https://bb-develop.ode.whitbread.digital/login",businessLoginRedirectEnabled:!1,leisureForgottenPasswordEnabled:!0,businessForgottenPasswordEnabled:!0,timeSwitchingTab:!1,iframePath:"https://secure2.uat.premierinn.digital/gb/en/common/login.html",leisure:{signupUrl:"https://secure.premierinn.com/en/mypremierinn/register.action",forgotPasswordLink:"https://secure.premierinn.com/en/mypremierinn/forgottenPassword.action"},business:{signupUrl:"https://business.premierinn.com/content/cbt/en/login.html",forgotPasswordLink:"https://business.premierinn.com/content/cbt/en/profile/reset-password.html",businessAccountLinks:[{title:"Company management",subMenuLinks:[{title:"Manage employees",url:"/gb/en/account/company-management.html#/manage-employees"},{title:"Booking Allowances",url:"/gb/en/account/company-management.html#/booking-allowances"},{title:"Booking Alerts",url:"/gb/en/account/company-management.html#/booking-alerts"},{title:"Payment options",url:"/gb/en/account/company-management.html#/payment-options"},{title:"Employee Questions",url:"/gb/en/account/company-management.html#/employee-questions"},{title:"Company details",url:"/gb/en/account/company-management.html#/company-details"}]},{title:"Reporting",subMenuLinks:[{title:"Management Information Report",url:"/gb/en/account/reporting.html#/management-information-report"},{title:"Emergency report",url:"/gb/en/account/reporting.html#/emergency-report"},{title:"Out of policy report",url:"/gb/en/account/reporting.html#/out-of-policy-report"}]}],landingPagePathName:"/gb/en/business/home.html",bookingDashboardRedirectPath:"/gb/en/account/dashboard.html"},businessAccountCardRedirectPath:"https://www.businessaccount.premierinn.com/Secure/Login.aspx?INTCMP=PI_BA_BA_1",businessLoginRedirectPath:"https://bb-develop.ode.whitbread.digital/content/cbt/en/dashboard.html",companyPath:"/company",accountLinks:[{title:"Bookings",url:"https://secure.premierinn.com/en/mypremierinn/pastBookings.action",icon:"bookings"}],abTestAccountLinksOverride:[{title:"Bookings",url:"https://www.premierinn.com/gb/en/account/dashboard.html",icon:"bookings"},{title:"Settings",url:"https://www.premierinn.com/gb/en/account/profile.html",icon:"settings"}],microserviceUri:"https://api.whitbread.co.uk",forgottenPasswordPath:"/auth/hotels/forgot-password",forgottenPasswordRequestUrl:"https://secure.premierinn.com/en/mypremierinn/resetPassword.action?business={isBusinessBrand}&token=",rememberPreferredBrand:{daysTillExpiry:7},rememberMeEnabled:!0,loggedInState:{userButtonBottomLineLength:26}},features:{authentication:!0,languageSelector:!0,landingPagesMenu:!0,subNav:!0,hotelSearch:!0,bookingSearch:!0,analytics:!1,dashboardRedirectEnabled:!0,businessSubNav:!0,announcement:!1},search:{route:!0,searchPath:"https://www.premierinn.com/gb/en/search.html"},bookingSearch:{show:!1,bookingSearchPath:"https://secure.premierinn.com.de-qa.nativ-systems.com/en/processSearchForBooking.action",dashboardRedirect:{url:"https://pi-bookings.netlify.com/en",bookingReference:"bookingReference",cookie:{name:"pi.single-booking",minutesTillExpiry:30}}},businessHours:{start:9,end:17},experiments:{flexOnlyRate:!1,snowDropRandom:!1,snowDropSortBy:!1,snowDropSortByKey:"suggestion",dateless:{calendar:!1,message:!1,overlay:!1},emailLandingPagesCode:"",emailLandingPageCampaign:"",emailLandingPageContent:"",betaBusiness:!1},businessContentPath:"/business"},Fd=(e(Ud,Md=x),Ud);function Ud(e){void 0===e&&(e={});var t=Md.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n                <path d="M0 0H24V24H0z" transform="rotate(-90 12 12)"/>\n                <path fill="#58595B" d="M14.47 5.47L15.53 6.53 10.061 12 15.53 17.47 14.47 18.53 7.939 12z"/>\n            </g>\n        </svg>',t}var Gd,jd=(e(Wd,Gd=x),Wd);function Wd(e,t,n){var o,i,r=Gd.call(this,F.merge({className:["options"]},e))||this;r.titleWrapper=new x({className:["options-header"]});var a=new Fd({type:"span",className:["chevron-left"]});r.titleWrapper.addChild(a);var s=new x({type:"span",text:t,className:["options-header__title"]});r.titleWrapper.addChild(s),r.addChild(r.titleWrapper);var l=this;try{for(var c=u(n),d=c.next();!d.done;d=c.next()){!function(e){var n=new x({className:["options-subNav"]}),t=new x({className:["options-subNav__header"],text:e.title});n.addChild(t),e.navOptions.forEach(function(e){var t=new x({className:["options-subNav__option"],type:"a",text:e.title,attributes:{href:e.url}});n.addChild(t)}),l.addChild(n)}(d.value)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return r}var Vd,Yd=(e(zd,Vd=x),zd);function zd(e,t,n){var o=Vd.call(this,F.merge({className:["options"]},e))||this;o.titleWrapper=new x({className:["options-header"]});var i=new Fd({type:"span",className:["chevron-left"]});o.titleWrapper.addChild(i);var r=new x({type:"span",text:t,className:["options-header__title"]});return o.titleWrapper.addChild(r),o.addChild(o.titleWrapper),n.forEach(function(e){var t=new x({className:["options-option"],type:"a",attributes:{href:e.url}});t.addChild(new x({type:"span",className:["options-option__title"],text:e.title})),o.addChild(t)}),o}var $d,Kd=(e(qd,$d=x),qd);function qd(e){var o=$d.call(this,F.merge({className:["options"]},e))||this;o.titleWrapper=new x({className:["options-header"]});var t=new Fd({type:"span",className:["chevron-left"]});o.titleWrapper.addChild(t);var n=new x({type:"span",text:Eo.content.menu.language,className:["options-header__title"]});o.titleWrapper.addChild(n),o.addChild(o.titleWrapper);var i=Eo.content.countries,r=Eo.config.locale.toLowerCase(),a=new x({className:["options-language-wrapper"]});return i.forEach(function(e){var t=r===e.code.toLowerCase(),n=new Sc(e,{className:["options-language"]},!1,t);t?n.addEventListener(o,"click",function(){Eo.closeMobileMenu()}):n.addEventListener(o,"click",function(){window.location.assign(e.url)}),a.addChild(n)}),o.addChild(a),o}var Qd,Xd,Zd=(e(Jd,Qd=x),Jd.prototype.update=function(e){switch(e){case Eo.MOBILE_LANGUAGE:this.currentState?this.currentState===this.languageMenu?(this.hideMenu(this.languageMenu),this.currentState=null):this.hideMenu(this.currentState):(this.showMenu(this.languageMenu),this.currentState=this.languageMenu);break;case Eo.MOBILE_BUSINESS:this.currentState?this.currentState===this.businessMenu?(this.hideMenu(this.businessMenu),this.currentState=null):this.hideMenu(this.currentState):(this.showMenu(this.businessMenu),this.currentState=this.businessMenu);break;case Eo.MOBILE_DISCOVER:this.currentState?this.currentState===this.discoverMenu?(this.hideMenu(this.discoverMenu),this.currentState=null):this.hideMenu(this.currentState):(this.showMenu(this.discoverMenu),this.currentState=this.discoverMenu);break;case Eo.MOBILE_COMPANY:this.currentState?this.currentState===this.companyManagementMenu?(this.hideMenu(this.companyManagementMenu),this.currentState=null):this.hideMenu(this.currentState):(this.showMenu(this.companyManagementMenu),this.currentState=this.companyManagementMenu);break;case Eo.MOBILE_REPORTING:this.currentState?this.currentState===this.reportingMenu?(this.hideMenu(this.reportingMenu),this.currentState=null):this.hideMenu(this.currentState):(this.showMenu(this.reportingMenu),this.currentState=this.reportingMenu)}},Jd.prototype.hideMenu=function(e){this.killAnimations(),this.hide(),this.fromTo({duration:this.duration,fromVars:{height:"100%",overflow:"hidden"},toVars:{height:"0",opacity:"0"}}),e.style({display:"none",opacity:"0",transform:"translateX(3rem)"})},Jd.prototype.showMenu=function(e){this.killAnimations(),this.show(),e.style({display:"flex"}),this.to({duration:this.duration,toVars:{opacity:"1",height:"100%"}}),e.to({duration:this.duration,toVars:{opacity:"1",transform:"translateX(0rem)"}})},Jd);function Jd(e){var t=Qd.call(this,F.merge({type:"options-manager",display:"none",height:"100%",className:["options-manager"]},e))||this;t.duration=.3,t.languageMenu=new Kd({display:"none"}),t.languageMenu.titleWrapper.addEventListener(t,"click",function(){return t.update(Eo.MOBILE_LANGUAGE)});var n=Eo.content.subNav[0],o=Eo.content.subNav.slice(1);t.businessMenu=new Yd({display:"none"},Eo.content.menu.business,n.navOptions),t.businessMenu.titleWrapper.addEventListener(t,"click",function(){return t.update(Eo.MOBILE_BUSINESS)}),t.discoverMenu=new jd({display:"none"},Eo.content.menu.discoverPI,o),t.discoverMenu.titleWrapper.addEventListener(t,"click",function(){return t.update(Eo.MOBILE_DISCOVER)});var i=Eo.config.authentication.business.businessAccountLinks;return t.companyManagementMenu=new Yd({display:"none"},i[0].title,i[0].subMenuLinks),t.companyManagementMenu.titleWrapper.addEventListener(t,"click",function(){return t.update(Eo.MOBILE_COMPANY)}),t.reportingMenu=new Yd({display:"none"},i[1].title,i[1].subMenuLinks),t.reportingMenu.titleWrapper.addEventListener(t,"click",function(){return t.update(Eo.MOBILE_REPORTING)}),t.addChild(t.languageMenu),t.addChild(t.businessMenu),t.addChild(t.discoverMenu),t.addChild(t.companyManagementMenu),t.addChild(t.reportingMenu),t}function eu(c,e,t){void 0===e&&(e={});var d=Xd.call(this,F.merge({type:"header",className:["header"]},e))||this;d.contentAndConfig=c,window.piConfig&&window.piConfig.header&&F.merge(c.config,window.piConfig.header);var n=F.getKeyName(Bd,c.content).join(","),o=F.getKeyName(c.content,Bd).join(","),i=F.getKeyName(Hd,c.config).join(","),r=F.getKeyName(c.config,Hd).join(",");o&&console.warn("The following default content missing from header -",o),n&&console.warn("The following content missing from header -",n),r&&console.warn("The following default config missing from header -",r),i&&console.warn("The following config missing from header -",i);var a={content:F.immutableMerge(Bd,c.content),config:F.immutableMerge(Hd,c.config)};Eo.updateConfigAndContent(a),!Eo.isSRP()&&Eo.emailLandingLocationsPage()&&t&&(Eo.emailLandingPagesContent=t),So.config=Eo.config,d.siteDomain=""+Eo.config.hotelDetails.domain.desktop+yt.resolveEnvironment(),Eo.config.features.analytics&&To.activate();var s=new Oc,l=new Zd({});s.addEventListener(d,Oc.SLIDE,function(e){l.update(e.data)});var u=new Mo(s,{className:["overlay-menu"]});Eo.addEventListener(u,Eo.OPEN_MOBILE_MENU,u.open),Eo.addEventListener(u,Eo.CLOSE_MOBILE_MENU,u.close),u.addChild(l),d.addChild(u);var h=new x({type:"header-background",className:["header-background"]});d.addChild(h);var p=new ee({type:"gutter-container",className:["gutter-container"]});h.addChild(p);var m=new Bs;p.addChild(m),Eo.config.features.authentication&&(d.authIframe=new Ws,d.addChild(d.authIframe));var f,g,y,v=new Jl;Eo.emailLandingLocationsPage()?(f=new x(C({className:["console-manager-elp-container"]},Hl.normalizeStyles(Eo.emailLandingPagesContent.elements,"headerStyles"))),d.addChild(f),f.addChild(v)):d.addChild(v),Eo.isResetPasswordPage()&&(g=new lc,d.addChild(g)),Eo.config.features.announcement&&(Eo.content.announcement.headerText||Eo.content.announcement.text)&&(y=new uc({data:{type:Eo.ANNOUNCEMENT_NOTIFICATION}}),d.addChild(y));var E,b,w=new uc({display:"none",data:{type:Eo.ANNOUNCEMENT_ALERT_NOTIFICATION}});return d.addChild(w),Eo.emailLandingView()||(E=new Nd,d.addChild(E)),Eo.addEventListener(d,Eo.USER_READY,function(){go.profile.business&&go.profile.business.miSetupRequired?(w.update({bannerHTML:Eo.content.alerts.updateProfile.text,type:Eo.content.alerts.updateProfile.type,headerText:Eo.content.alerts.updateProfile.headerText}),w.show(),To.track.addMandatoryQuestionAlert()):To.track.removeMandatoryQuestionAlert()}),Eo.addEventListener(d,Eo.HEIGHT_CHANGE,function(){d.dispatchEvent(new k(eu.HEIGHT_CHANGE,d))}),Eo.addEventListener(d,Eo.SEARCH_REQUEST_HOTEL,function(){d.searchSingleHotel()}),Eo.addEventListener(d,Eo.USER_READY,function(){Eo.updateStayDetails(Eo.stayDetails),Eo.dispatchEvent(new k(Eo.USER_LOGGED_IN,d))}),Eo.addEventListener(d,Eo.SEARCH_REQUEST_LOCATION,function(e){var t,n,o,i,r,a,s,l;c.config.search.route?(t=yn.discoverEnvironment(Eo.stayDetails,window.location.search),n=c.config.search.searchPath,Eo.emailLandingLocationsPage()?(o=En.getParam("CAMPAIGNPRICE"),i=En.getParam("ALTPRICE"),r=En.getParam("CID"),a=En.getParam("CAMPAIGNSTARTDATE"),s=En.getParam("CAMPAIGNENDDATE"),l=n+"?searchModel.searchTerm="+Eo.stayDetails.name+"&CID="+r+"&ALTPRICE="+i+"&CAMPAIGNPRICE="+o+"&CAMPAIGNSTARTDATE="+a+"&CAMPAIGNENDDATE="+s+"&PLACEID="+Eo.stayDetails.placeId,Tt.updateRoute(""+d.siteDomain+l),Eo.finishSearchRequest()):window.location.hostname.match(/premierinn/)?(l=yn.create(t,n),Tt.updateRoute(""+d.siteDomain+l)):(l=yn.create(t,n),Tt.updateRoute(l))):d.dispatchEvent(new k(eu.SEARCH_REQUEST_LOCATION,d,e.data))}),Eo.addEventListener(d,Eo.AVAILABILITY_ERROR,function(){d.dispatchEvent(new k(eu.AVAILABILITY_ERROR,d))}),Eo.addEventListener(d,Eo.RESET_FILTERS,function(e){d.dispatchEvent(new k(eu.RESET_FILTERS,d,e.data))}),Eo.addEventListener(d,Eo.RESET_FILTERS,function(e){d.dispatchEvent(new k(eu.RESET_FILTERS,d,e.data))}),Eo.addEventListener(d,Eo.RETRY_AVAILABILITIES,function(){Eo.searchForLocation()}),Eo.updateStayDetails(Eo.stayDetails),Eo.addEventListener(d,Eo.DATELESS_STATE,function(){return Eo.openSearch()}),Eo.config.experiments.dateless.overlay&&(b=new Fo,Eo.addEventListener(d,Eo.DATELESS_STATE,function(){return document.body.appendChild(b.element)}),Eo.addEventListener(d,Eo.DATED_STATE,function(){return b.hide()})),Eo.addEventListener(d,Eo.USER_LOGGED_IN,function(){d.dispatchEvent(new k(eu.USER_PROFILE_READY,d,Eo.stayDetails)),To.track.trackLoggedInState(),Eo.closeMobileMenu()}),Eo.addEventListener(d,Eo.UPDATE_PAGE_TITLE,function(e){d.dispatchEvent(new k(eu.UPDATE_PAGE_TITLE,d,e.data))}),window.addEventListener("message",function(e){e.data.action===eu.HEADER_LOGIN_DISPLAY&&(go.profile||Eo.dispatchEvent(new k(Eo.DISPLAY_LOGIN_FORM,null)))}),d.openLogInForm(),d.setupAuthenticationAnalytics(),d}return e(eu,Xd=x),eu.prototype.finishSearchRequest=function(){Eo.finishSearchRequest()},eu.prototype.changeHeight=function(){Eo.changeHeight()},eu.prototype.showNotification=function(){Eo.showNotification()},eu.prototype.hideNotification=function(){Eo.hideNotification()},eu.prototype.closeSearchConsole=function(){Eo.stayDetails.dateless||Eo.closeSearch()},eu.prototype.hdpstayDetails=function(e){Eo.hdpstayDetails(e)},eu.prototype.searchRequest=function(t,n){t.name&&(t.location||t.placeId?Eo.searchRequest(t,n):So.suggestions(t.name).then(function(e){0<e.length?(t=F.merge(t,e[0]),Eo.searchRequest(t,n)):(Eo.updateStayDetails(t),Eo.invalidLocation())}))},eu.prototype.noHotelsAvailable=function(){Eo.validStayDetails(),Eo.noHotelsAvailable()},eu.prototype.searchSingleHotel=function(){var u=this,h=Eo.stayDetails,e=Eo.config.api.availability,t=e.domain,n=e.preMethod,o=e.postMethod,i={locale:Eo.config.locale,availability:{domain:t,preMethod:n,postMethod:o},hotelDirectoryPath:Eo.config.hotelDetails.hotelDirectoryPath};Lt.get(h,i).then(function(e){var t,n,o,i,r,a,s,l,c,d;e.available?(t=e.hotelData.brand,n=e.hotelData.detailsPage,o=ft.alphaStripper(Eo.config.hotelDetails.hotelPath),r={},(i=Eo.emailLandingView())&&(r={CID:En.getParam("CID"),CAMPAIGNPRICE:En.getParam("CAMPAIGNPRICE"),ALTPRICE:En.getParam("ALTPRICE"),FILTERS:En.getParam("FILTERS")}),a={domain:Eo.config.hotelDetails.domain.desktop,detailsPage:n,hotelsPath:o,brand:t,stayDetails:h},i&&(a.miscParams=r),d=yt.create(a),Tt.updateRoute(d)):u.contentAndConfig.config.search.route?(s=yn.discoverEnvironment(h,window.location.search),l=Eo.config.search.searchPath,c=h.hotelCode,d=yn.create(s,l,c),window.location.hostname.match(/premierinn/)?Tt.updateRoute(""+u.siteDomain+d):Tt.updateRoute(d)):Eo.searchForLocation()}).catch(function(){u.contentAndConfig.config.search.route||Eo.availabilityError()})},eu.prototype.openLogInForm=function(){var e,t,n;Eo.isSessionExpired()?Eo.dispatchEvent(new k(Eo.DISPLAY_LOGIN_FORM,null)):(e=Eo.config.authentication.businessLoginEnabled&&Eo.config.experiments.betaBusiness,t=!!this.authIframe&&!go.profile,n=window.location.pathname===Eo.config.authentication.business.landingPagePathName,e&&t&&n&&Eo.dispatchEvent(new k(Eo.DISPLAY_LOGIN_FORM,null)))},eu.prototype.setupAuthenticationAnalytics=function(){var t=this;Eo.addEventListener(this,Eo.LOG_IN_USER,function(e){e.data.isBusinessBrand&&Eo.addEventListener(t,Eo.USER_LOGGED_IN,function(){To.track.loginSuccess(e.data.email)})})},eu.HEIGHT_CHANGE="HEIGHT_CHANGE",eu.SEARCH_REQUEST_HOTEL="SEARCH_REQUEST_HOTEL",eu.SEARCH_REQUEST_LOCATION="SEARCH_REQUEST_LOCATION",eu.HEADER_NAV_CLICKED="HEADER_NAV_CLICKED",eu.SHOW_SUMMARY="SHOW_SUMMARY",eu.SET_SORT_TO_DISTANCE="SET_SORT_TO_DISTANCE",eu.RESET_FILTERS="RESET_FILTERS",eu.AVAILABILITY_ERROR="AVAILABILITY_ERROR",eu.HEADER_LOGIN_DISPLAY="HEADER_LOGIN_DISPLAY",eu.UPDATE_PAGE_TITLE="UPDATE_PAGE_TITLE",eu.USER_PROFILE_READY="USER_PROFILE_READY",eu.USER_LOG_OUT=Ws.USER_LOG_OUT,eu.IS_USER_LOGGED_IN=Ws.IS_USER_LOGGED_IN,eu.userInterface=new Pd,eu}();