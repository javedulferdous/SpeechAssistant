var SRP=function(){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function E(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var b=function(){return(b=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function O(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function e(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(o<3?r(a):3<o?r(t,n,a):r(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function t(o,a,s,l){return new(s=s||Promise)(function(e,t){function n(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,i)}r((l=l.apply(o,a||[])).next())})}function o(n,i){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=i.call(n,s)}catch(e){t=[6,e],o=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function ie(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var r={api:{domain:"https://api.whitbread.co.uk",radius:50,initialPageSize:40,lazyLoadPageSize:10,connectivity:!0,imagesUrl:"https://www.premierinn.com",sortResultsKey:"",availability:{preMethod:"/booking/hotels",postMethod:"/availability"},snowdrop:{autocomplete:{domain:"https://pro-premier-inn.emergyalabs.com/v1",method:"/autocomplete?input=",defaultResponseLength:5,managedPlacesSize:3,googlePlacesSize:2,googlePlaces:"gplaces[components]=",countryRestrictions:[{countries:"uk"}]},availabilities:{hotels:"/hotels",datelessUrl:"/snowdrop/search/hotels",method:"/snowdrop/search/hotels/availabilities"}},emailLandingPage:{method:"/search/hotels",availabilitiesMethod:"/prices",calendarMethod:"/calendars"}},filtersOpen:!1,hotelBrands:{hub:"hub",pi:"pi",zip:"zip",pid:"pid"},map:{gmapKey:"gme-whitbreadgroupltd",gmapVersion:"quarterly",zoom:11,mapControls:!1,fullscreenControl:!1,zoomControl:!0,scaleControl:!1,streetViewControl:!0,rotateControl:!1,lazyLoadZoomTotal:50},locale:"GB",hotelDetails:{initialRateCardDisplay:4,domain:{desktop:"//www."},hotelPath:"/gb/en/hotels",hotelDirectoryPath:"/gb/en/hoteldirectory"},features:{hotelSearch:!0,languageSelector:!1,authentication:!1,analytics:!1,subNav:!1,bookingSearch:!1,campaignPriceFlag:!1},search:{route:!1,searchPath:"/"},experiments:{priceBreakdown:!1,flexOnlyRate:!1,snowDropRandom:!1,snowDropSortBy:!1,snowDropSortByKey:"suggestion",hotelResultsDivider:!1,emailLandingPagesCode:"",emailLandingPagesSorting:1,alternativePricePlaces:[""],urgencyMessage:{fontBold:!1,border:!1,text:""},dateless:{calendar:!1,message:!1,overlay:!1}},bookingChannel:{leisure:"WEB",business:"CBT"}},s={global:{brand:{pi:"",hub:"",zip:"Zip by Premier Inn",piLogo:"",hubLogo:"",hubLogoFull:"",hubLogoWhite:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/brand/pi-icon-hub-white.svg",zipLogo:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/brand/pi-icon-disc-zip.svg",zipLogoWhite:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/brand/pi-icon-zip-white.svg",zipBadge:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/brand/pi-icon-badge-zip.svg",hubBadge:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/brand/pi-icon-badge-hub.svg"}},results:{menu:{map:"Map",mapLong:"Map view",distance:"",price:"",filters:"Filter",filtersLong:"Filter by..."},notifications:{errorTitle:"",availabilitiesErrorMessage:"",retry:"",noInitialSearch:"",searchingLocation:"",fullyBooked:"",openingSoon:"",noFilteredHotels:"We couldn't find any hotels that matched your criteria.",dateRangeText:"Selected rooms {currency}{campaignPrice} & under ({currency}{altPrice} in London) valid {startDate} - {endDate}.",termsAndConditionsText:"View {termsAndConditions}.",searchAll:"To search all our hotels, visit our {homepage}."},result:{hubBanner:{text:"Our best value hotel.",additionalInfo:"Loren ipsum",additionalInfoLink:"http://www.premierinn.com"},zipBanner:{text:"Our best value hotel.",additionalInfo:"Loren ipsum",additionalInfoLink:"http://www.premierinn.com"},seeLessRates:"See less rates",seeMoreRates:"more rates available",availabilityWarning:"",urgencyAvailabilityWarning:"",imageAlt:"",openingSoon:"",openingOn:"Opening on",newHotel:"",newRooms:"",distanceUnit:"",distanceUnitPlural:"",fromLocation:"from your search",reviews:"",fullyBooked:"",tripAdvisor:"",hotelsDivider:"Unavailable hotels",tick:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/tick.svg",cross:"//www.premierinn.com/content/dam/pi/websites/desktop/icons/cross.svg",facilities:{chargeableOnsiteParking:"Chargeable onsite parking",freeParking:"Free parking",chargeableOffsiteParking:"Chargeable offsite parking",parking:"",restaurant:"",airCon:"",loading:"",premierPlusRoom:"",businessRoom:"",accessibleRoom:""},priceInformation:"",night:"",nights:"",room:"",rooms:"",priceFrom:"",promotions:{COSTA:"",EMP01:"",SHA02:"",COSTAUnavailable:"",EMP01Unavailable:"",SHA02Unavailable:"",discountApplied:"Discount applied",discountUnavailable:"Discount unavailable"},viewHotelDetails:"",moreHotelsMessage:"",pickDate:"",viewDetails:"",showHotels:""}},map:{list:"List",listLong:"List view",filters:"Filter",filtersLong:"Filter by..."},totalHotels:"",filter:{label:{header:"Filters applied when selected",parking:"",parkingGroup:"",allParking:"",freeParking:"",facilities:"",reset:"Clear all filters",apply:"",airCon:"",lift:"",meet:"",restaurant:"",hotels:"",pi:"",hub:"",zip:"",roomType:"Room type",wetRoom:"",loweredBath:"",underPrice:"",underPriceValue:"",overPrice:"",pricePerNight:""},code:{parking:"",freeParking:["CPF"],allParking:["COC","COP","CPF","CPP"],airCon:"",lift:"",meet:"",restaurant:"",pi:"",hub:"",zip:"ZIP",premierPlusRoom:"",businessRoom:"",wetRoom:"",loweredBath:"",underPrice:"",overPrice:""},id:{allParking:"",freeParking:""},info:{lift:"Some hotels are ground floor only. Please check directly with the hotel (local rate)"}},analytics:{noLabel:""},cookiePolicy:{cookieBannerText:"",cookieBannerLink:"",cookieSubText:"",cookieNoticeButton:"",cookieAgreeButton:"",additionalInfoHeading:"",additionalInfoMainText:"",additionalInfoText:"",additionalInfoLink:"",additionalInfoSubText:"",additionalAgreeButton:"",cookiesURL:""},datePicker:{unknownDates:"I don't know my dates",nextMonth:"Next month",previousMonth:"Previous month",pickADate:"Please select a date",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","Febuary","March","April","May","June","July","August","September","October","November","December"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],close:"Close",reset:"Reset",refreshNotice:"Prices refresh every 20 minutes",lowerPrices:"Lower prices",arrivalDateLabel:"Arriving",departureDateLabel:"Leaving",selectArrivingDatePlaceholder:"Select",selectLeavingDatePlaceholder:"Select",footerBtnSelectArriving:"Select arriving",footerBtnSelectDeparture:"Select departing",night:"Night",nights:"Nights",chevrons:{left:"https://www.premierinn.com/etc.clientlibs/pi/clientlibs/icons/resources/navigation/chevron-left.svg",right:"https://www.premierinn.com/etc.clientlibs/pi/clientlibs/icons/resources/navigation/chevron-right.svg"}},expiredPage:{url:"/gb/en/error-pages/expired.html"},termsAndConditions:{label:"T&Cs",url:"/terms/booking-terms-and-conditions.html"},homePage:{label:"homepage",url:"/home.html"}},l=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},n=(c.addEventListener=function(e,t,n){this.listeners||(this.listeners={}),this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({scope:e,type:t,callback:n})},c.removeEventListener=function(e,t){if(this.listeners){for(var n=void 0,i=0;i<this.listeners[e].length;i++)if(this.listeners[e].callback===t){n=i;break}this.listeners[e].splice(n,1)}},c.dispatchEvent=function(e){if(c.logEvents&&console.log("Bus dispatch: ",e),this.listeners){var t=e.type;if(this.listeners[t])try{for(var n=l(this.listeners[t]),i=n.next();!i.done;i=n.next()){var r=i.value;r.callback.call(r.scope,e)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}}}var o,a},c.logEvents=!1,c);function c(){}function d(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}var h=setTimeout;function u(e){return Boolean(e&&void 0!==e.length)}function p(){}function f(e){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(e,this)}function g(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,f._immediateFn(function(){var e,t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void v(i.promise,e)}m(i.promise,e)}else(1===n._state?m:v)(i.promise,n._value)})):n._deferreds.push(i)}function m(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof f)return t._state=3,t._value=e,void y(t);if("function"==typeof n)return void x((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,y(t)}catch(e){v(t,e)}var i,r}function v(e,t){e._state=2,e._value=t,y(e)}function y(e){2===e._state&&0===e._deferreds.length&&f._immediateFn(function(){e._handled||f._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)g(e,e._deferreds[t]);e._deferreds=null}function C(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function x(e,t){var n=!1;try{e(function(e){n||(n=!0,m(t,e))},function(e){n||(n=!0,v(t,e))})}catch(e){if(n)return;n=!0,v(t,e)}}f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,t){var n=new this.constructor(p);return g(this,new C(e,t,n)),n},f.prototype.finally=d,f.all=function(t){return new f(function(r,o){if(!u(t))return o(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(t);if(0===a.length)return r([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},o)}a[n]=e,0==--s&&r(a)}catch(e){o(e)}}(e,a[e])})},f.resolve=function(t){return t&&"object"==typeof t&&t.constructor===f?t:new f(function(e){e(t)})},f.reject=function(n){return new f(function(e,t){t(n)})},f.race=function(r){return new f(function(e,t){if(!u(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)f.resolve(r[n]).then(e,t)})},f._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){h(e,0)},f._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var S=function(e,t){this.width=e,this.height=t},k=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},D=(Object.defineProperty(L.prototype,"target",{get:function(){return this.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"type",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"data",{get:function(){return this.eventData},set:function(e){this.eventData=e},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"sourceEvent",{get:function(){return this.eventSourceEvent},enumerable:!0,configurable:!0}),L);function L(e,t,n,i){this.eventType=e,this.eventTarget=t,this.eventSourceEvent=i,this.eventData=n}var A=(P.prototype.hasEventListener=function(e,t){var n,i,r=!1;try{for(var o=k(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.type===e&&s.listener===t&&(r=!0)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},P.prototype.addEventListener=function(e,t,n,i,r,o){void 0===r&&(r=!1),this.hasEventListener(t,n)||this.listeners.push({scope:e,type:t,listener:n,useCapture:r,scopedEventListener:o,data:i})},P.prototype.removeEventListener=function(t,n){var e=this.listeners.filter(function(e){return e.type===t&&e.listener.toString()===n.toString()});return this.listeners=this.listeners.filter(function(e){return!(e.type===t&&e.listener.toString()===n.toString())}),e[0]},P.prototype.dispatchEvent=function(e){P.logEvents&&console.log("event dispatch: ",e);try{for(var t=k(this.listeners),n=t.next();!n.done;n=t.next()){var i=n.value;i.type===e.type&&(i.data&&(e.data=i.data),i.listener.call(i.scope,e))}}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(r)throw r.error}}var r,o},P.logEvents=!1,P);function P(){this.listeners=[]}var T=(N.style=function(e,t){var n=e.element?e.element:e;for(var i in t)t.hasOwnProperty(i)&&(n.style[i]=t[i])},N);function N(){}var _=(R.setRules=function(t,e){matchMedia&&(Array.isArray(e)||(e=[e]),e.forEach(function(e){R.addListeners(t,e)}))},R.addListeners=function(e,t){var n;t.minWidth&&t.maxWidth?n="(min-width: "+t.minWidth+"px) and (max-width: "+t.maxWidth+"px)":(t.minWidth&&(n="(min-width: "+t.minWidth+"px)"),t.maxWidth&&(n="(max-width: "+t.maxWidth+"px)")),R.applyRuleAddListener(e,t,n)},R.applyRuleAddListener=function(t,n,e){var i=window.matchMedia(e);R.applyRule(t,n,i),i.addListener(function(e){R.applyRule(t,n,e)})},R.applyRule=function(e,t,n){n.matches&&(t.duration&&0!==t.duration?e.to({duration:t.duration,toVars:t.style}):T.style(e,t.style))},R);function R(){}var I,H,M=(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),W=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},B=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e},re=(M(F,H=A),Object.defineProperty(F.prototype,"timeouts",{get:function(){return this.timeoutsArray},enumerable:!0,configurable:!0}),F.prototype.killAnimations=function(){this.timeoutsArray.forEach(function(e){clearTimeout(e)}),this.timeoutsArray=[]},F.prototype.addToBody=function(){document.body.appendChild(this.htmlElement)},F.prototype.style=function(e){T.style(this.htmlElement,e)},F.prototype.className=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.reduce(function(e,t){return e+" "+t});this.htmlElement.className?this.htmlElement.className=this.htmlElement.className+" "+n:this.htmlElement.className=n},F.prototype.insertBefore=function(e,t){e&&e.element&&this.htmlElement.insertBefore(e.element,t.element)},F.prototype.appendChild=function(e){e&&e.element&&this.element.appendChild(e.element)},F.prototype.addChild=function(e){this.appendChild(e)},F.prototype.removeChild=function(e){e&&this.htmlElement===e.htmlElement.parentNode&&this.htmlElement.removeChild(e.htmlElement)},F.prototype.removeAllChildren=function(){for(;this.htmlElement.hasChildNodes();)this.htmlElement.removeChild(this.htmlElement.lastChild)},F.prototype.to=function(n){var i=this,t=10;return n.delay&&(t=1e3*n.delay),this.timeoutsArray.push(setTimeout(function(){for(var e in n.toVars){var t;n.toVars.hasOwnProperty(e)&&(t={duration:0,count:0},0<=n.duration&&(t.duration=n.duration),i.transitions[e]&&(t.count=i.transitions[e].count+1),i.transitions[e]=t)}T.style(i.htmlElement,{transition:i.convertTransitionObjectToString(i.transitions)}),n.ease&&T.style(i.htmlElement,{transitionTimingFunction:n.ease.toString()}),T.style(i.htmlElement,n.toVars)},t)),n.resolve?(this.timeoutsArray.push(setTimeout(function(){T.style(i.htmlElement,{transition:i.removeCompletedTransitionsAndReapply(n.toVars)}),i.dispatchEvent(new D(F.TRANSITION_COMPLETE,i)),n.resolve(i)},1e3*n.duration+t)),null):new f(function(e){i.timeoutsArray.push(setTimeout(function(){T.style(i.htmlElement,{transition:i.removeCompletedTransitionsAndReapply(n.toVars)}),e(i),i.dispatchEvent(new D(F.TRANSITION_COMPLETE,i))},1e3*n.duration+t))})},F.prototype.fromTo=function(t){var n=this;return t.delay?(t.delay=1e3*t.delay,t.immediateRender&&T.style(this.htmlElement,t.fromVars)):(T.style(this.htmlElement,t.fromVars),t.delay=10),new f(function(e){n.timeoutsArray.push(setTimeout(function(){T.style(n.htmlElement,t.fromVars),n.timeoutsArray.push(setTimeout(function(){n.to({duration:t.duration,ease:t.ease,toVars:t.toVars,resolve:e})},10))},t.delay))})},F.prototype.addEventListener=function(t,n,i,r,e){void 0===e&&(e=!1);function o(e){i.apply(t,[new D(n,a,r,e)])}var a=this;H.prototype.addEventListener.call(this,t,n,i,r,e,o),this.htmlElement.addEventListener?this.htmlElement.addEventListener(n,o,e):this.htmlElement.attachEvent&&(this.htmlElement.attachEvent("on"+n,o),this.htmlElement.attachEvent("onpropertychange",function(e){e.eventType===n&&(e.cancelBubble=!0,e.returnValue=!1,e.data=e.customData,o(e))}))},F.prototype.removeEventListener=function(e,t){var n=H.prototype.removeEventListener.call(this,e,t);return n&&(this.htmlElement.removeEventListener?this.htmlElement.removeEventListener(e,n.scopedEventListener,n.useCapture):this.htmlElement.detachEvent&&this.htmlElement.detachEvent("on"+e,t)),n},F.prototype.hide=function(){this.originalDisplay="none"!==this.htmlElement.style.display?this.htmlElement.style.display:"",T.style(this.htmlElement,{display:"none"})},F.prototype.show=function(){var e=this.originalDisplay;e&&""!==e||(e="block"),T.style(this.htmlElement,{display:e})},F.prototype.fillContainer=function(){T.style(this.htmlElement,{minWidth:"100%",minHeight:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"})},F.prototype.centreHorizontal=function(){T.style(this.htmlElement,{display:"block",marginLeft:"auto",marginRight:"auto",position:"relative"})},F.prototype.centreHorizontalText=function(){T.style(this.htmlElement,{textAlign:"center"})},F.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},F.prototype.responsive=function(e){_.setRules(this,e)},F.prototype.convertTransitionObjectToString=function(e){var t="";for(var n in e){e.hasOwnProperty(n)&&(""!==t&&(t+=", "),t+=this.camelToHyphen(n)+" "+e[n].duration+"s",e[n].delay&&(t+=" "+e[n].delay+"s"))}return t},F.prototype.removeCompletedTransitionsAndReapply=function(e){for(var t in e)this.transitions[t]&&(0<this.transitions[t].count?this.transitions[t].count--:delete this.transitions[t]);return this.convertTransitionObjectToString(this.transitions)},F.prototype.camelToHyphen=function(e){return e.replace(/[a-z][A-Z]/g,function(e){var t=e.split("");t[2]=t[1],t[1]="-",t[2]=t[2].toLowerCase();var n="";return t.map(function(e){n+=e}),n})},Object.defineProperty(F.prototype,"width",{get:function(){return this.shadow().width},set:function(e){"number"==typeof e&&(e+="px"),T.style(this.htmlElement,{width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this.shadow().height},set:function(e){T.style(this.htmlElement,{height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"y",{get:function(){return this.htmlElement.offsetTop},set:function(e){T.style(this.htmlElement,{y:e})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"x",{get:function(){return this.htmlElement.offsetLeft},set:function(e){T.style(this.htmlElement,{x:e})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"alpha",{get:function(){return parseFloat(this.htmlElement.style.opacity)},set:function(e){T.style(this.htmlElement,{opacity:e.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"data",{get:function(){return this.instanceData},set:function(e){this.instanceData=e},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerText",{get:function(){return this.htmlElement.innerText},set:function(e){this.htmlElement.innerText=e},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"textContent",{get:function(){return this.htmlElement.textContent},set:function(e){this.htmlElement.textContent=e},enumerable:!0,configurable:!0}),F.prototype.shadow=function(){if(document.body.contains(this.htmlElement))return this.dimensionsPolyfill();var e=this.htmlElement.parentElement;document.body.appendChild(this.htmlElement);var t=this.dimensionsPolyfill();return document.body.removeChild(this.htmlElement),e?e.appendChild(this.htmlElement):document.body.removeChild(this.htmlElement),t},F.prototype.dimensionsPolyfill=function(){var e=this.htmlElement.getBoundingClientRect().height,t=this.htmlElement.getBoundingClientRect().width;return t||(t=this.htmlElement.scrollWidth,e=this.htmlElement.scrollHeight),new S(t,e)},Object.defineProperty(F.prototype,"value",{get:function(){return this.htmlElement.value},set:function(e){this.htmlElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"id",{get:function(){return this.htmlElement.id},set:function(e){this.htmlElement.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"element",{get:function(){return this.htmlElement},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"innerHtml",{get:function(){return this.htmlElement.innerHTML},set:function(e){this.htmlElement.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"href",{get:function(){return this.htmlElement.href},set:function(e){this.htmlElement.href=e},enumerable:!0,configurable:!0}),F.TRANSITION_COMPLETE="TRANSITION_COMPLETE",F);function F(e){var t=H.call(this)||this;if(t.transitions={},t.timeoutsArray=[],t.originalDisplay="block",e){for(var n in e.root&&!document.getElementById("app")?(t.htmlElement=document.createElement("div"),t.htmlElement.style.position="absolute",t.htmlElement.style.height="100%",t.htmlElement.style.width="100%",t.htmlElement.style.top="0px",t.htmlElement.style.left="0px",t.htmlElement.style.margin="0px",t.htmlElement.id="app",document.body.appendChild(t.htmlElement)):e.type?t.htmlElement=document.createElement(e.type):t.htmlElement=document.createElement("div"),e.id&&(t.htmlElement.id=e.id),e.text&&(t.htmlElement.textContent=e.text),e.name&&"select"===e.type&&(t.htmlElement.name=e.name),e.attributes)e.attributes.hasOwnProperty(n)&&t.htmlElement.setAttribute(n,e.attributes[n]);t.instanceData=e.data,e.styles&&e.styles.forEach(function(e){T.style(t.htmlElement,e)}),T.style(t.htmlElement,e.style),e.className&&t.className.apply(t,B(e.className)),T.style(t.htmlElement,e),e.responsive&&t.responsive(e.responsive)}else t.htmlElement=document.createElement("div");return t}var z=(j.Linear="linear",j.Ease="ease",j.EaseIn="ease-in",j.EaseOut="ease-out",j.EaseInOut="ease-in-out",j);function j(){}var oe=(U.merge=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),Array.isArray(t)&&"object"==typeof e&&0===Object.keys(e).length)e=[].concat(t);else if("object"!=typeof e||"object"!=typeof t)e=t;else{for(var i in t)if(t.hasOwnProperty(i)){if("object"==typeof t[i]){e[i]=n?U.immutableMerge(e[i],t[i]):U.merge(e[i],t[i]);continue}e[i]=t[i]}t instanceof Date&&(e=t)}return e},U.immutableMerge=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.merge({},e,!0);return this.merge(n,t,!0)},U.getKeyName=function(e,t){var n,i=[];for(var r in e){e.hasOwnProperty(r)&&"__proto__"!==r&&(t.hasOwnProperty(r)?e[r]===Object(e[r])?(n=U.getKeyName(e[r],t[r]),0<Object.keys(n).length&&i.push([r]+"."+n)):e[r]!==t[r]&&(void 0===e[r]&&(i[r]="undefined"),null===e[r]?i[r]=null:"function"==typeof e[r]?i[r]="function":"object"==typeof e[r]&&(i[r]="object")):i.push(r))}return i},U.flattenConfigStyles=function(e){if(e){var t=e;return e.styles&&e.styles.map(function(e){U.merge(t,e)}),e.style&&U.merge(t,e.style),t}return{}},U);function U(){}var V,$,G=((V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Y,$=re),Y.prototype.over=function(){var e;this.styles.hover&&(e=oe.flattenConfigStyles(this.styles.hover),this.to({duration:this.styles.hover.durationIn,toVars:e}))},Y.prototype.out=function(){if(this.styles.hover){var e=oe.flattenConfigStyles(this.styles.hover),t=oe.flattenConfigStyles(this.styles),n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t[i]?t[i]:"inherit");this.to({duration:this.styles.hover.durationOut,toVars:n})}},Y.prototype.updateStyle=function(e){void 0===e&&(e={}),this.styles=oe.flattenConfigStyles(e)},Y);function Y(e){var t=$.call(this,e)||this;return t.styles=oe.flattenConfigStyles(e),t.addEventListener(t,"mouseover",t.over),t.addEventListener(t,"mouseout",t.out),t}var K,X;(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Z,X=re),Z.prototype.update=function(e){(e=decodeURIComponent(e))!==this.currentPageName&&(this.routes&&history.pushState(null,null,e),this.changePage(e))},Z.prototype.changePage=function(e){var t,n,i=this;this.currentPageName=e,this.config.pages[e]?(clearTimeout(this.delayTimeout),this.currentPage&&(this.currentPage.sleep&&this.currentPage.sleep(),this.config.delayTransition?(t=this.currentPage,this.delayTimeout=setTimeout(function(){i.removeChild(t)},1e3*this.config.delayTransition)):this.removeChild(this.currentPage)),this.pages[e]||(n=new this.config.pages[e].view(this.config.pages[e].payload),this.pages[e]=n),this.currentPage=this.pages[e],this.currentPage.wake&&this.currentPage.wake(),this.addChild(this.currentPage)):this.config.redirect?this.update("/"):this.config.errorPage&&this.changePage(this.config.errorPage)};function Z(e){var n=X.call(this,{id:e.id,style:{position:"relative"}})||this;return n.pages={},n.routes=!0,n.config=e,n.style(e.style),!1===e.routes&&(n.routes=!1),n.routes&&(window.addEventListener("popstate",function(e){var t=null===e.state?window.location.pathname:e.state;n.changePage(t)}),n.changePage(window.location.pathname)),n}var q,J,Q=((q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(ee,J=re),ee);function ee(){return J.call(this,{root:!0})||this}var te=(ne.scrollY=function(){var e=document.body.scrollTop;return 0===e&&(e=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0),e},ne.scrollX=function(){var e=document.body.scrollLeft;return 0===e&&(e=window.pageXOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0),e},Object.defineProperty(ne,"height",{get:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(ne,"width",{get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},enumerable:!0,configurable:!0}),ne);function ne(){}var ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function se(e,t){function n(){this.constructor=e}ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var le=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function ce(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function de(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ce(arguments[t]));return e}var he={},ue={};function pe(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in gn(e,"__mobxDidRunLazyInitializers",!0),t){var i=t[n];i.propertyCreator(e,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function fe(c,d){return function(){function e(e,t,n,i){return!0===i?(d(e,t,n,e,l),null):("production"===process.env.NODE_ENV||ge(arguments)||ln("This function is a decorator, but it wasn't invoked like a decorator"),Object.prototype.hasOwnProperty.call(e,"__mobxDecorators")||(r=e.__mobxDecorators,gn(e,"__mobxDecorators",le({},r))),e.__mobxDecorators[t]={prop:t,propertyCreator:d,descriptor:n,decoratorTarget:e,decoratorArguments:l},(s=(a=c)?he:ue)[o=t]||(s[o]={configurable:!0,enumerable:a,get:function(){return pe(this),this[o]},set:function(e){pe(this),this[o]=e}}));var r,o,a,s}var l;return ge(arguments)?(l=rn,e.apply(null,arguments)):(l=Array.prototype.slice.call(arguments),e)}}function ge(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function me(){return!!An.spyListeners.length}function ve(e){if(An.spyListeners.length)for(var t=An.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function ye(e){ve(le({},e,{spyReportStart:!0}))}var be={spyReportEnd:!0};function we(e){ve(e?le({},e,{spyReportEnd:!0}):be)}function Ce(e,t){"production"!==process.env.NODE_ENV&&(cn("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||ln("actions should have valid names, got: '"+e+"'"));function n(){return function(e,t,n,i){var r=function(e,t,n){var i=me()&&!!e,r=0;if(i){r=Date.now();var o=n&&n.length||0,a=new Array(o);if(0<o)for(var s=0;s<o;s++)a[s]=n[s];ye({type:"action",name:e,object:t,arguments:a})}var l=Un();_n();var c=xe(!0);return{prevDerivation:l,prevAllowStateChanges:c,notifySpy:i,startTime:r}}(e,n,i);try{return t.apply(n,i)}finally{!function(e){Se(e.prevAllowStateChanges),Rn(),Vn(e.prevDerivation),e.notifySpy&&we({time:Date.now()-e.startTime})}(r)}}(e,t,this,arguments)}return n.isMobxAction=!0,n}function xe(e){var t=An.allowStateChanges;return An.allowStateChanges=e,t}function Se(e){An.allowStateChanges=e}function ke(){ln("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function De(o){return function(e,t,n){if(n){if("production"!==process.env.NODE_ENV&&void 0!==n.get)return ln("@action cannot be used with getters");if(n.value)return{value:Ce(o,n.value),enumerable:!1,configurable:!0,writable:!0};var i=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ce(o,i.call(this))}}}return r=o,function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:function(){},set:function(e){gn(this,t,Ee(r,e))}})}.apply(this,arguments);var r}}var Ee=function(e,t,n,i){return 1===arguments.length&&"function"==typeof e?Ce(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Ce(e,t):1===arguments.length&&"string"==typeof e?De(e):!0!==i?De(t).apply(null,arguments):void(e[t]=Ce(e.name||t,n.value))};function Oe(e,t,n){gn(e,t,Ce(t,n.bind(e)))}Ee.bound=function(e,t,n,i){return!0===i?(Oe(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Oe(this,t,n.value||n.initializer.call(this)),this[t]},set:ke}:{enumerable:!1,configurable:!0,set:function(e){Oe(this,t,e)},get:function(){}}};var Le=Object.prototype.toString;function Ae(e,t){return Pe(e,t)}function Pe(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"==r||"object"==r||"object"==typeof t)&&function(e,t,n,i){e=Te(e),t=Te(t);var r=Le.call(e);if(r!==Le.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];var l=(n=n||[]).length;for(;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Pe(e[l],t[l],n,i))return!1}else{var c,d=Object.keys(e);if(l=d.length,Object.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(t,c)||!Pe(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0}(e,t,n,i)}function Te(e){return tn(e)?e.peek():yn(e)||Ht(e)?bn(e.entries()):e}function Ne(e,t){return e===t}var _e={identity:Ne,structural:Ae,default:function(e,t){return i=t,"number"==typeof(n=e)&&"number"==typeof i&&isNaN(n)&&isNaN(i)||e===t;var n,i}};var Re=function(e){return e()};function Ie(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Re}function He(n,e,i){void 0===i&&(i=on),"boolean"==typeof i&&(i={fireImmediately:i},hn("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead")),"production"!==process.env.NODE_ENV&&(cn("function"==typeof n,"First argument to reaction should be a function"),cn("object"==typeof i,"Third argument of reactions should be an object"));var t,r,o,a=i.name||"Reaction@"+sn(),s=Ee(a,i.onError?(t=i.onError,r=e,function(){try{return r.apply(this,arguments)}catch(e){t.call(this,e)}}):e),l=!i.scheduler&&!i.delay,c=Ie(i),d=!0,h=!1,u=i.compareStructural?_e.structural:i.equals||_e.default,p=new Yn(a,function(){d||l?f():h||(h=!0,c(f))},i.onError);function f(){var t;h=!1,p.isDisposed||(t=!1,p.track(function(){var e=n(p);t=d||!u(o,e),o=e}),d&&i.fireImmediately&&s(o,p),d||!0!==t||s(o,p),d=d&&!1)}return p.schedule(),p.getDisposer()}var Me=(We.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==Sn.UP_TO_DATE)return;e.lowestObserverState=Sn.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===Sn.UP_TO_DATE&&(i.dependenciesState=Sn.POSSIBLY_STALE,i.isTracing!==Dn.NONE&&Hn(i,e),i.onBecomeStale())}}(this)},We.prototype.onBecomeUnobserved=function(){},We.prototype.onBecomeObserved=function(){},We.prototype.get=function(){this.isComputing&&ln("Cycle detected in computation "+this.name+": "+this.derivation),0!==An.inBatch||0!==this.observers.length||this.keepAlive?(In(this),Bn(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===Sn.STALE)return;e.lowestObserverState=Sn.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===Sn.POSSIBLY_STALE?i.dependenciesState=Sn.STALE:i.dependenciesState===Sn.UP_TO_DATE&&(e.lowestObserverState=Sn.UP_TO_DATE)}}(this)):Bn(this)&&(this.warnAboutUntrackedRead(),_n(),this.value=this.computeValue(!1),Rn());var e=this.value;if(Wn(e))throw e.cause;return e},We.prototype.peek=function(){var e=this.computeValue(!1);if(Wn(e))throw e.cause;return e},We.prototype.set=function(e){if(this.setter){cn(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else cn(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},We.prototype.trackAndCompute=function(){me()&&ve({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===Sn.NOT_TRACKING,n=this.computeValue(!0),i=t||Wn(e)||Wn(n)||!this.equals(e,n);return i&&(this.value=n),i},We.prototype.computeValue=function(e){var t;if(this.isComputing=!0,An.computationDepth++,e)t=zn(this,this.derivation,this.scope);else if(!0===An.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Mn(e)}return An.computationDepth--,this.isComputing=!1,t},We.prototype.suspend=function(){this.keepAlive||(jn(this),this.value=void 0)},We.prototype.observe=function(n,i){var r=this,o=!0,a=void 0;return function(e,t){var n;void 0===t&&(t=on),"production"!==process.env.NODE_ENV&&(cn("function"==typeof e,"Autorun expects a function as first argument"),cn(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var i,r,o,a=t&&t.name||e.name||"Autorun@"+sn(),s=!t.scheduler&&!t.delay;function l(){e(o)}return(o=s?new Yn(a,function(){this.track(l)},t.onError):(i=Ie(t),r=!1,new Yn(a,function(){r||(r=!0,i(function(){r=!1,o.isDisposed||o.track(l)}))},t.onError))).schedule(),o.getDisposer()}(function(){var e,t=r.get();o&&!i||(e=Un(),n({type:"update",object:r,newValue:t,oldValue:a}),Vn(e)),o=!1,a=t})},We.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&ln("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==Dn.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),An.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},We.prototype.toJSON=function(){return this.get()},We.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},We.prototype.valueOf=function(){return Cn(this.get())},We);function We(e){if(this.dependenciesState=Sn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Sn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+sn(),this.value=new Mn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Dn.NONE,"production"!==process.env.NODE_ENV&&!e.get)return ln("missing option for computed: get");this.derivation=e.get,this.name=e.name||"ComputedValue@"+sn(),e.set&&(this.setter=Ce(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?_e.structural:_e.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}Me.prototype[wn()]=Me.prototype.valueOf;var Be=vn("ComputedValue",Me);function Fe(e){return void 0!==e.interceptors&&0<e.interceptors.length}function ze(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),un(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function je(e,t){var n=Un();try{var i=e.interceptors;if(i)for(var r=0,o=i.length;r<o&&(cn(!(t=i[r](t))||t.type,"Intercept handlers should return nothing or a change object"),t);r++);return t}finally{Vn(n)}}function Ue(e){return void 0!==e.changeListeners&&0<e.changeListeners.length}function Ve(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),un(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function $e(e,t){var n=Un(),i=e.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](t);Vn(n)}}!function(){if(Rt)return;Rt=function(){function e(e){void 0===e&&(e="Atom@"+sn()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Sn.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return In(this)},e.prototype.reportChanged=function(){_n(),function(e){if(e.lowestObserverState===Sn.STALE)return;e.lowestObserverState=Sn.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===Sn.UP_TO_DATE&&(i.isTracing!==Dn.NONE&&Hn(i,e),i.onBecomeStale()),i.dependenciesState=Sn.STALE}}(this),Rn()},e.prototype.toString=function(){return this.name},e}(),It=vn("Atom",Rt)}();var Ge,Ye=(se(Ke,Ge=Rt),Ke.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},Ke.prototype.set=function(e){var t,n=this.value;(e=this.prepareNewValue(e))!==An.UNCHANGED&&((t=me())&&ye({type:"update",name:this.name,newValue:e,oldValue:n}),this.setNewValue(e),t&&we())},Ke.prototype.prepareNewValue=function(e){if(Fn(this),Fe(this)){var t=je(this,{object:this,type:"update",newValue:e});if(!t)return An.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:An.UNCHANGED},Ke.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Ue(this)&&$e(this,{type:"update",object:this,newValue:e,oldValue:t})},Ke.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},Ke.prototype.intercept=function(e){return ze(this,e)},Ke.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ve(this,e)},Ke.prototype.toJSON=function(){return this.get()},Ke.prototype.toString=function(){return this.name+"["+this.value+"]"},Ke.prototype.valueOf=function(){return Cn(this.get())},Ke);function Ke(e,t,n,i){void 0===n&&(n="ObservableValue@"+sn()),void 0===i&&(i=!0);var r=Ge.call(this,n)||this;return r.enhancer=t,r.hasUnreportedChange=!1,r.value=t(e,void 0,n),i&&me()&&ve({type:"create",name:r.name,newValue:""+r.value}),r}Ye.prototype[wn()]=Ye.prototype.valueOf;var Xe=vn("ObservableValue",Ye),Ze=(qe.prototype.read=function(e,t){if("production"!==process.env.NODE_ENV||this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},qe.prototype.write=function(e,t,n){var i=this.target;"production"===process.env.NODE_ENV&&i!==e&&this.illegalAccess(e,t);var r,o,a,s=this.values[t];if(s instanceof Me)s.set(n);else{if(Fe(this)){if(!(a=je(this,{type:"update",object:i,name:t,newValue:n})))return;n=a.newValue}(n=s.prepareNewValue(n))!==An.UNCHANGED&&(r=Ue(this),o=me(),a=r||o?{type:"update",object:i,oldValue:s.value,name:t,newValue:n}:null,o&&ye(le({},a,{name:this.name,key:t})),s.setNewValue(n),r&&$e(this,a),o&&we())}},qe.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Fe(this))if(!(o=je(this,{object:t,name:e,type:"remove"})))return;try{_n();var n=Ue(this),i=me(),r=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||i?{type:"remove",object:t,oldValue:r,name:e}:null;i&&ye(le({},o,{name:this.name,key:e})),n&&$e(this,o),i&&we()}finally{Rn()}}},qe.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},qe.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&cn(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),Ve(this,e)},qe.prototype.intercept=function(e){return ze(this,e)},qe.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new Xt(Object.keys(this.values).filter(function(e){return t.values[e]instanceof Ye}),Dt,"keys("+this.name+")",!0)),this.keys.slice()},qe);function qe(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}function Je(e,t,n){void 0===t&&(t=""),void 0===n&&(n=kt);var i=e.$mobx;return i||("production"!==process.env.NODE_ENV&&cn(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),fn(e)||(t=(e.constructor.name||"ObservableObject")+"@"+sn()),t=t||"ObservableObject@"+sn(),mn(e,"$mobx",i=new Ze(e,t,n)),i)}function Qe(e,t,n,i){var r,o,a,s=Je(e);if(r=e,o=t,"production"===process.env.NODE_ENV||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(r,o)||ln("Cannot make property '"+o+"' observable, it is not configurable and writable in the target object"),Fe(s)){var l=je(s,{object:e,name:t,type:"add",newValue:n});if(!l)return;n=l.newValue}n=(s.values[t]=new Ye(n,i,s.name+"."+t,!1)).value,Object.defineProperty(e,t,tt[a=t]||(tt[a]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,a)},set:function(e){this.$mobx.write(this,a,e)}})),s.keys&&s.keys.push(t),function(e,t,n,i){var r=Ue(e),o=me(),a=r||o?{type:"add",object:t,name:n,newValue:i}:null;o&&ye(le({},a,{name:e.name,key:n}));r&&$e(e,a);o&&we()}(s,e,t,n)}function et(e,t,n){var i,r=Je(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Me(n),Object.defineProperty(e,t,nt[i=t]||(nt[i]={configurable:!0,enumerable:!1,get:function(){return it(this).read(this,i)},set:function(e){it(this).write(this,i,e)}}))}var tt=Object.create(null),nt=Object.create(null);function it(e){var t=e.$mobx;return t||(pe(e),e.$mobx)}var rt=vn("ObservableObjectAdministration",Ze);function ot(e){return!!pn(e)&&(pe(e),rt(e.$mobx))}function at(o){var e=fe(!0,function(e,t,n,i,r){"production"!==process.env.NODE_ENV&&cn(!n||!n.get,'@observable cannot be used on getter (property "'+t+'"), use @computed instead.'),Qe(e,t,n?n.initializer?n.initializer.call(e):n.value:void 0,o)}),t="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?ln("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):e.apply(null,arguments)}:e;return t.enhancer=o,t}function st(e){return 1!==arguments.length&&ln("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),function(e,t){if(null==e)return;if(void 0===t)return ot(e)||!!e.$mobx||It(e)||Qn(e)||Be(e);if("production"!==process.env.NODE_ENV&&(Ht(e)||tn(e)))return ln("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."),0;if(ot(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return}(e)}function lt(e){return 1<arguments.length?(ln("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"),0):function(e,t){if(null==e)return;if(void 0===t)return Be(e);if(!1===ot(e))return;if(!e.$mobx.values[t])return;var n=Mt(e,t);return Be(n)}(e)}function ct(e,t,n){if("string"==typeof t)return dt.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return dt.apply(null,arguments);"production"!==process.env.NODE_ENV&&(cn("function"==typeof e,"First argument to `computed` should be an expression."),cn(arguments.length<3,"Computed takes one or two arguments if used as function"));var i="object"==typeof t?t:{};return i.get=e,i.set="function"==typeof t?t:i.set,i.name=i.name||e.name||"",new Me(i)}var dt=fe(!1,function(e,t,n,i,r){var o=n.get,a=n.set,s=r[0]||{};et(e,t,le({get:o,set:a},s))}),ht=dt({equals:_e.structural});ct.struct=ht;var ut={deep:!0,name:void 0,defaultDecorator:void 0},pt={deep:!1,name:void 0,defaultDecorator:void 0};function ft(e){/^(deep|name|defaultDecorator)$/.test(e)||ln("invalid option for (extend)observable: "+e)}function gt(e){if(null==e)return ut;if("string"==typeof e)return{name:e,deep:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return ln("expected options object");Object.keys(e).forEach(ft)}return e}function mt(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?Dt:kt}Object.freeze(ut),Object.freeze(pt);var vt=at(kt),yt=at(function(e,t,n){return null==e||ot(e)||tn(e)||Ht(e)?e:Array.isArray(e)?xt.array(e,{name:n,deep:!1}):fn(e)?xt.object(e,void 0,{name:n,deep:!1}):yn(e)?xt.map(e,{name:n,deep:!1}):ln("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects and maps")}),bt=at(Dt),wt=at(function(e,t,n){if("production"!==process.env.NODE_ENV&&st(e))throw"observable.struct should not be used with observable values";return Ae(e,t)?t:e});var Ct={box:function(e,t){2<arguments.length&&St("box");var n=gt(t);return new Ye(e,mt(n),n.name)},shallowBox:function(e,t){return 2<arguments.length&&St("shallowBox"),hn("observable.shallowBox","observable.box(value, { deep: false })"),xt.box(e,{name:t,deep:!1})},array:function(e,t){2<arguments.length&&St("array");var n=gt(t);return new Xt(e,mt(n),n.name)},shallowArray:function(e,t){return 2<arguments.length&&St("shallowArray"),hn("observable.shallowArray","observable.array(values, { deep: false })"),xt.array(e,{name:t,deep:!1})},map:function(e,t){2<arguments.length&&St("map");var n=gt(t);return new Nt(e,mt(n),n.name)},shallowMap:function(e,t){return 2<arguments.length&&St("shallowMap"),hn("observable.shallowMap","observable.map(values, { deep: false })"),xt.map(e,{name:t,deep:!1})},object:function(e,t,n){return"string"==typeof t&&St("object"),function(e,t,n,i){if("production"!==process.env.NODE_ENV&&(cn(2<=arguments.length&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),cn("object"==typeof e,"'extendObservable' expects an object as first argument"),cn(!Ht(e),"'extendObservable' should not be used on maps, use map.merge instead"),cn(!st(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n))for(var r in n)r in t||ln("Trying to declare a decorator for unspecified property '"+r+"'");var o=(i=gt(i)).defaultDecorator||(!1===i.deep?bt:vt);pe(e),Je(e,i.name,o.enhancer),_n();try{for(var r in t){var a=Object.getOwnPropertyDescriptor(t,r);"production"!==process.env.NODE_ENV&&(Object.getOwnPropertyDescriptor(e,r)&&ln("'extendObservable' can only be used to introduce new properties. Use 'set' or 'decorate' instead. The property '"+r+"' already exists on '"+e+"'"),lt(a.value)&&ln("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var s=n&&r in n?n[r]:a.get?dt:o;if("production"!==process.env.NODE_ENV&&"function"!=typeof s)return ln("Not a valid decorator for '"+r+"', got: "+s);var l=s(e,r,a,!0);l&&Object.defineProperty(e,r,l)}}finally{Rn()}return e}({},e,t,gt(n))},shallowObject:function(e,t){return"string"==typeof t&&St("shallowObject"),hn("observable.shallowObject","observable.object(values, {}, { deep: false })"),xt.object(e,{},{name:t,deep:!1})},ref:bt,shallow:yt,deep:vt,struct:wt},xt=function(e,t,n){if("string"==typeof t)return vt.apply(null,arguments);if(st(e))return e;var i=fn(e)?xt.object(e,t,n):Array.isArray(e)?xt.array(e,t):yn(e)?xt.map(e,t):e;if(i!==e)return i;ln("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function St(e){ln("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function kt(e,t,n){return st(e)?e:Array.isArray(e)?xt.array(e,{name:n}):fn(e)?xt.object(e,void 0,{name:n}):yn(e)?xt.map(e,{name:n}):e}function Dt(e){return e}function Et(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Ot(e,t){mn(e,Et(),t)}function Lt(e){return e[Et()]=At,e}function At(){return this}function Pt(e,t){void 0===t&&(t=void 0),_n();try{return e.apply(t)}finally{Rn()}}Object.keys(Ct).forEach(function(e){return xt[e]=Ct[e]});var Tt={},Nt=(_t.prototype._has=function(e){return this._data.has(e)},_t.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},_t.prototype.set=function(e,t){var n=this._has(e);if(Fe(this)){var i=je(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},_t.prototype.delete=function(e){var t=this;if(Fe(this)&&!(r=je(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=me(),i=Ue(this),r=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&ye(le({},r,{name:this.name,key:e})),Pt(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),i&&$e(this,r),n&&we(),!0}return!1},_t.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new Ye(t,Dt,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},_t.prototype._updateValue=function(e,t){var n,i,r,o=this._data.get(e);(t=o.prepareNewValue(t))!==An.UNCHANGED&&(n=me(),r=(i=Ue(this))||n?{type:"update",object:this,oldValue:o.value,name:e,newValue:t}:null,n&&ye(le({},r,{name:this.name,key:e})),o.setNewValue(t),i&&$e(this,r),n&&we())},_t.prototype._addValue=function(t,n){var i=this;Pt(function(){var e=new Ye(n,i.enhancer,i.name+"."+t,!1);i._data.set(t,e),n=e.value,i._updateHasMapEntry(t,!0),i._keys.push(t)});var e=me(),r=Ue(this),o=r||e?{type:"add",object:this,name:t,newValue:n}:null;e&&ye(le({},o,{name:this.name,key:t})),r&&$e(this,o),e&&we()},_t.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},_t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},_t.prototype.keys=function(){return this._keys[Et()]()},_t.prototype.values=function(){var e=this,t=0;return Lt({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},_t.prototype.entries=function(){var t=this,n=0;return Lt({next:function(){if(n<t._keys.length){var e=t._keys[n++];return{value:[e,t.get(e)],done:!1}}return{done:!0}}})},_t.prototype.forEach=function(t,n){var i=this;this._keys.forEach(function(e){return t.call(n,i.get(e),e,i)})},_t.prototype.merge=function(t){var r=this;return Ht(t)&&(t=t.toJS()),Pt(function(){fn(t)?Object.keys(t).forEach(function(e){return r.set(e,t[e])}):Array.isArray(t)?t.forEach(function(e){var t=ce(e,2),n=t[0],i=t[1];return r.set(n,i)}):yn(t)?t.forEach(function(e,t){return r.set(t,e)}):null!=t&&ln("Cannot initialize map from "+t)}),this},_t.prototype.clear=function(){var n=this;Pt(function(){var e,t;e=function(){n._keys.slice().forEach(function(e){return n.delete(e)})},t=Un(),e(),Vn(t)})},_t.prototype.replace=function(n){var i=this;return Pt(function(){var e,t=fn(e=n)?Object.keys(e):Array.isArray(e)?e.map(function(e){return ce(e,1)[0]}):yn(e)||Ht(e)?bn(e.keys()):ln("Cannot get keys from '"+e+"'");i._keys.filter(function(e){return-1===t.indexOf(e)}).forEach(function(e){return i.delete(e)}),i.merge(n)}),this},Object.defineProperty(_t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),_t.prototype.toPOJO=function(){var t=this,n={};return this._keys.forEach(function(e){return n[""+e]=t.get(e)}),n},_t.prototype.toJS=function(){var t=this,n=new Map;return this._keys.forEach(function(e){return n.set(e,t.get(e))}),n},_t.prototype.toJSON=function(){return this.toPOJO()},_t.prototype.toString=function(){var t=this;return this.name+"[{ "+this._keys.map(function(e){return e+": "+t.get(e)}).join(", ")+" }]"},_t.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&cn(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),Ve(this,e)},_t.prototype.intercept=function(e){return ze(this,e)},_t);function _t(e,t,n){if(void 0===t&&(t=kt),void 0===n&&(n="ObservableMap@"+sn()),this.enhancer=t,this.name=n,this.$mobx=Tt,this._keys=new Xt(void 0,Dt,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}Ot(Nt.prototype,function(){return this.entries()}),mn(Nt.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Map");var Rt,It,Ht=vn("ObservableMap",Nt);function Mt(e,t){if("object"==typeof e&&null!==e){if(tn(e))return void 0!==t&&ln("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e.$mobx.atom;if(Ht(e)){var n=e;return void 0===t?Mt(n._keys):((i=n._data.get(t)||n._hasMap.get(t))||ln("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+Wt(e)+"'"),i)}var i;if(pe(e),t&&!e.$mobx&&e[t],ot(e))return t?((i=e.$mobx.values[t])||ln("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+Wt(e)+"'"),i):ln("production"!==process.env.NODE_ENV&&"please specify a property");if(It(e)||Be(e)||Qn(e))return e}else if("function"==typeof e&&Qn(e.$mobx))return e.$mobx;return ln("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function Wt(e,t){var n=void 0!==t?Mt(e,t):(ot(e)||Ht(e)?function e(t,n){return t||ln("Expecting some object"),void 0!==n?e(Mt(t,n)):It(t)||Be(t)||Qn(t)||Ht(t)?t:(pe(t),t.$mobx?t.$mobx:void ln("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+t))}:Mt)(e);return n.name}function Bt(){}var Ft,zt,jt,Ut,Vt=(Ft=!1,zt={},Object.defineProperty(zt,"0",{set:function(){Ft=!0}}),!(Object.create(zt)[0]=1)===Ft),$t=0;jt=Bt,Ut=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(jt.prototype,Ut):void 0!==jt.prototype.__proto__?jt.prototype.__proto__=Ut:jt.prototype=Ut,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(Bt.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var Gt=(Yt.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},Yt.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&0<e.length?e.map(this.dehancer):e},Yt.prototype.intercept=function(e){return ze(this,e)},Yt.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ve(this,e)},Yt.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},Yt.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(t<e){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},Yt.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,0<t&&$t<e+t+1&&Qt(e+t+1)},Yt.prototype.spliceWithArray=function(e,t,n){var i=this;Fn(this.atom);var r=this.values.length;if(void 0===e?e=0:r<e?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=rn),Fe(this)){var o=je(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return rn;t=o.removedCount,n=o.added}var a=(n=0===n.length?n:n.map(function(e){return i.enhancer(e,void 0)})).length-t;this.updateArrayLength(r,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},Yt.prototype.spliceItemsIntoValues=function(e,t,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,de([e,t],n));var r=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),r},Yt.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&me(),r=Ue(this),o=r||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&ye(le({},o,{name:this.atom.name})),this.atom.reportChanged(),r&&$e(this,o),i&&we()},Yt.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&me(),r=Ue(this),o=r||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&ye(le({},o,{name:this.atom.name})),this.atom.reportChanged(),r&&$e(this,o),i&&we()},Yt);function Yt(n,i,e,t){this.array=e,this.owned=t,this.values=[],this.lastKnownLength=0,this.atom=new Rt(n||"ObservableArray@"+sn()),this.enhancer=function(e,t){return i(e,t,n+"[..]")}}var Kt,Xt=(se(Zt,Kt=Bt),Zt.prototype.intercept=function(e){return this.$mobx.intercept(e)},Zt.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},Zt.prototype.clear=function(){return this.splice(0)},Zt.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return tn(e)?e.peek():e}))},Zt.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},Zt.prototype.toJS=function(){return this.slice()},Zt.prototype.toJSON=function(){return this.toJS()},Zt.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},Zt.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&hn("The array.find fromIndex argument to find will not be supported anymore in the next major");var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},Zt.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&hn("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var i=this.peek(),r=i.length,o=n;o<r;o++)if(e.call(t,i[o],o,this))return o;return-1},Zt.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},Zt.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},Zt.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},Zt.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},Zt.prototype.shift=function(){return this.splice(0,1)[0]},Zt.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},Zt.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},Zt.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},Zt.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return-1<t&&(this.splice(t,1),!0)},Zt.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(t<=e)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}var i,r;hn("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,e),n.call(this,t),e!==t&&(i=this.$mobx.values,r=e<t?de(i.slice(0,e),i.slice(e+1,t+1),[i[e]],i.slice(t+1)):de(i.slice(0,t),[i[e]],i.slice(t,e),i.slice(e+1)),this.replace(r))},Zt.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},Zt.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){Fn(n.atom);var r=i[e];if(Fe(n)){var o=je(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,r))!==r&&(i[e]=t,n.notifyArrayChildUpdate(e,t,r))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},Zt);function Zt(e,t,n,i){void 0===n&&(n="ObservableArray@"+sn()),void 0===i&&(i=!1);var r,o=Kt.call(this)||this,a=new Gt(n,t,o,i);return mn(o,"$mobx",a),e&&e.length&&(r=xe(!0),o.spliceWithArray(0,0,e),Se(r)),Vt&&Object.defineProperty(a.array,"0",qt),o}Ot(Xt.prototype,function(){this.$mobx.atom.reportObserved();var e=this,t=0;return Lt({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(Xt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&gn(Xt.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];cn("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),gn(Xt.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)gn(e,t[n],e[t[n]])}(Xt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var qt=Jt(0);function Jt(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function Qt(e){for(var t,n=$t;n<e;n++)t=n,Object.defineProperty(Xt.prototype,""+t,Jt(t));$t=e}Qt(1e3);var en=vn("ObservableArrayAdministration",Gt);function tn(e){return pn(e)&&en(e.$mobx)}var nn="An invariant failed, however the error is obfuscated because this is an production build.",rn=[];Object.freeze(rn);var on={};function an(){return"undefined"!=typeof window?window:global}function sn(){return++An.mobxGuid}function ln(e){throw cn(!1,e),"X"}function cn(e,t){if(!e)throw new Error("[mobx] "+(t||nn))}Object.freeze(on);var dn=[];function hn(e,t){return"production"!==process.env.NODE_ENV&&(t?hn("'"+e+"', use '"+t+"' instead."):-1===dn.indexOf(e)&&(dn.push(e),console.error("[mobx] Deprecated: "+e),!0))}function un(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}function pn(e){return null!==e&&"object"==typeof e}function fn(e){if(null!==e&&"object"==typeof e){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}}function gn(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function mn(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function vn(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return pn(e)&&!0===e[n]}}function yn(e){return void 0!==an().Map&&e instanceof an().Map}function bn(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function wn(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Cn(e){return null===e?null:"object"==typeof e?""+e:e}var xn,Sn,kn,Dn,En,On=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1},Ln=!0,An=(0<(xn=an()).__mobxInstanceCount&&!xn.__mobxGlobals&&(Ln=!1),xn.__mobxGlobals&&xn.__mobxGlobals.version!==(new On).version&&(Ln=!1),Ln?xn.__mobxGlobals?(xn.__mobxInstanceCount+=1,xn.__mobxGlobals.UNCHANGED||(xn.__mobxGlobals.UNCHANGED={}),xn.__mobxGlobals):(xn.__mobxInstanceCount=1,xn.__mobxGlobals=new On):(setTimeout(function(){ln("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new On));function Pn(e){var t,n,i={name:e.name};return e.observing&&0<e.observing.length&&(i.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n.map(Pn))),i}function Tn(e,t){var n,i,r,o;1===e.observers.length?(e.observers.length=0,Nn(e)):(n=e.observers,i=e.observersIndexes,(r=n.pop())!==t&&((o=i[t.__mapid]||0)?i[r.__mapid]=o:delete i[r.__mapid],n[o]=r),delete i[t.__mapid])}function Nn(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,An.pendingUnobservations.push(e))}function _n(){An.inBatch++}function Rn(){if(0==--An.inBatch){qn();for(var e=An.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Me&&n.suspend())}An.pendingUnobservations=[]}}function In(e){var t=An.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,(t.newObserving[t.unboundDepsCount++]=e).isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&0<An.inBatch&&Nn(e),!1)}function Hn(e,t){var n,i;console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Dn.BREAK&&(n=[],function t(e,n,i){if(1e3<=n.length)return void n.push("(and many more)");n.push(""+new Array(i).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return t(e,n,i+1)})}(Pn(Mt(e,i)),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Me?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")())}(kn=Sn=Sn||{})[kn.NOT_TRACKING=-1]="NOT_TRACKING",kn[kn.UP_TO_DATE=0]="UP_TO_DATE",kn[kn.POSSIBLY_STALE=1]="POSSIBLY_STALE",kn[kn.STALE=2]="STALE",(En=Dn=Dn||{})[En.NONE=0]="NONE",En[En.LOG=1]="LOG",En[En.BREAK=2]="BREAK";var Mn=function(e){this.cause=e};function Wn(e){return e instanceof Mn}function Bn(e){switch(e.dependenciesState){case Sn.UP_TO_DATE:return;case Sn.NOT_TRACKING:case Sn.STALE:return 1;case Sn.POSSIBLY_STALE:for(var t=Un(),n=e.observing,i=n.length,r=0;r<i;r++){var o=n[r];if(Be(o)){if(An.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return Vn(t),1}if(e.dependenciesState===Sn.STALE)return Vn(t),1}}return $n(e),void Vn(t)}}function Fn(e){var t=0<e.observers.length;0<An.computationDepth&&t&&ln("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),An.allowStateChanges||!t&&"strict"!==An.enforceActions||ln("production"!==process.env.NODE_ENV&&(An.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function zn(e,t,n){$n(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++An.runId;var i,r=An.trackingDerivation;if(An.trackingDerivation=e,!0===An.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Mn(e)}return An.trackingDerivation=r,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=Sn.UP_TO_DATE,r=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,r!==a&&(n[r]=s),r++),s.dependenciesState>i&&(i=s.dependenciesState)}n.length=r,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&Tn(s,e),s.diffValue=0}for(;r--;){var s;1===(s=n[r]).diffValue&&(s.diffValue=0,function(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}(s,e))}i!==Sn.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),i}function jn(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Tn(t[n],e);e.dependenciesState=Sn.NOT_TRACKING}function Un(){var e=An.trackingDerivation;return An.trackingDerivation=null,e}function Vn(e){An.trackingDerivation=e}function $n(e){if(e.dependenciesState!==Sn.UP_TO_DATE){e.dependenciesState=Sn.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Sn.UP_TO_DATE}}function Gn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var i=function(e){switch(e.length){case 0:return An.trackingDerivation;case 1:return Mt(e[0]);case 2:return Mt(e[0],e[1])}}(e);if(!i)return ln("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly"),0;i.isTracing===Dn.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=n?Dn.BREAK:Dn.LOG}var Yn=(Kn.prototype.onBecomeStale=function(){this.schedule()},Kn.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,An.pendingReactions.push(this),qn())},Kn.prototype.isScheduled=function(){return this._isScheduled},Kn.prototype.runReaction=function(){if(!this.isDisposed){if(_n(),this._isScheduled=!1,Bn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&me()&&ve({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Rn()}},Kn.prototype.track=function(e){_n();var t,n=me();n&&(t=Date.now(),ye({name:this.name,type:"reaction"})),this._isRunning=!0;var i=zn(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&jn(this),Wn(i)&&this.reportExceptionInDerivation(i.cause),n&&we({time:Date.now()-t}),Rn()},Kn.prototype.reportExceptionInDerivation=function(t){var n=this;if(this.errorHandler)this.errorHandler(t,this);else{if(An.disableErrorBoundaries)throw t;var e="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(e,t),me()&&ve({type:"error",name:this.name,message:e,error:""+t}),An.globalReactionErrorHandlers.forEach(function(e){return e(t,n)})}},Kn.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(_n(),jn(this),Rn()))},Kn.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},Kn.prototype.toString=function(){return"Reaction["+this.name+"]"},Kn.prototype.trace=function(e){void 0===e&&(e=!1),Gn(this,e)},Kn);function Kn(e,t,n){void 0===e&&(e="Reaction@"+sn()),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=Sn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+sn(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Dn.NONE}var Xn=100,Zn=function(e){return e()};function qn(){0<An.inBatch||An.isRunningReactions||Zn(Jn)}function Jn(){An.isRunningReactions=!0;for(var e=An.pendingReactions,t=0;0<e.length;){++t===Xn&&(console.error("Reaction doesn't converge to a stable state after "+Xn+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}An.isRunningReactions=!1}var Qn=vn("Reaction",Yn);var ei,ti={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function ni(e,t,n,i){return i.detectCycles&&e.set(t,n),n}function ii(e,n,i){if(!n.recurseEverything&&!st(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Xe(e))return ii(e.get(),n,i);var t;if(st(e)&&(ot(t=e)?t.$mobx.getKeys():Ht(t)?t._keys.slice():tn(t)?t.map(function(e,t){return t}):ln("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays and maps")),!0===n.detectCycles&&null!==e&&i.has(e))return i.get(e);if(tn(e)||Array.isArray(e)){var r=ni(i,e,[],n),o=e.map(function(e){return ii(e,n,i)});r.length=o.length;for(var a=0,s=o.length;a<s;a++)r[a]=o[a];return r}if(Ht(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=ni(i,e,new Map,n);return e.forEach(function(e,t){l.set(t,ii(e,n,i))}),l}var c=ni(i,e,{},n);return e.forEach(function(e,t){c[t]=ii(e,n,i)}),c}var d=ni(i,e,{},n);for(var h in e)d[h]=ii(e[h],n,i);return d}function ri(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),(t=t||ti).detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),ii(e,t,n)}try{process.env.NODE_ENV}catch(e){var oi="undefined"!=typeof window?window:global;"undefined"==typeof process&&(oi.process={}),oi.process.env={}}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return An.spyListeners.push(t),un(function(){An.spyListeners=An.spyListeners.filter(function(e){return e!==t})})},extras:{getDebugName:Wt}}),"production"!==process.env.NODE_ENV&&"undefined"!=typeof module&&void 0!==module.exports&&(ei=!1,Object.defineProperty(module.exports,"default",{enumerable:!1,get:function(){ei||(ei=!0,console.warn('The MobX package does not have a default export. Use \'import { thing } from "mobx"\' (recommended) or \'import * as mobx from "mobx"\' instead."'))}}),["extras","Atom","BaseAtom","asFlat","asMap","asReference","asStructure","autorunAsync","createTranformer","expr","isModifierDescriptor","isStrictModeEnabled","map","useStrict","whyRun"].forEach(function(e){Object.defineProperty(module.exports,e,{enumerable:!1,get:function(){ln("'"+e+"' is no longer part of the public MobX api. Please consult the changelog to find out where this functionality went")},set:function(){}})}));function ai(e,t){return e(t={exports:{}},t.exports),t.exports}var si,li,ci,di,hi=ai(function(e,t){e.exports=function(){var n="millisecond",l="second",c="minute",d="hour",h="day",u="week",p="month",f="year",i=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,g=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},r=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},t={padStart:r,padZoneStr:function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return(e<=0?"+":"-")+r(n,2,"0")+":"+r(i,2,"0")},monthDiff:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months"),r=t-i<0,o=e.clone().add(n+(r?-1:1),"months");return Number(-(n+(t-i)/(r?i-o:o-i)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(e){return{M:p,y:f,w:u,d:h,h:d,m:c,s:l,ms:n}[e]||String(e||"").toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},o="en",a={};a[o]=e;var s=function(e){return e instanceof w},m=function(e,t,n){var i;if(!e)return null;if("string"==typeof e)a[e]&&(i=e),t&&(a[e]=t,i=e);else{var r=e.name;a[r]=e,i=r}return n||(o=i),i},v=function(e,t){if(s(e))return e.clone();var n=t||{};return n.date=e,new w(n)},y=function(e,t){return v(e,{locale:t.$L})},b=t;b.parseLocale=m,b.isDayjs=s,b.wrapper=y;var w=function(){function e(e){this.parse(e)}var t=e.prototype;return t.parse=function(e){var t,n;this.$d=null===(t=e.date)?new Date(NaN):b.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&/.*[^Z]$/i.test(t)&&(n=t.match(i))?new Date(n[1],n[2]-1,n[3]||1,n[5]||0,n[6]||0,n[7]||0,n[8]||0):new Date(t),this.init(e)},t.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||m(e.locale,null,!0)||o},t.$utils=function(){return b},t.isValid=function(){return!("Invalid Date"===this.$d.toString())},t.$compare=function(e){return this.valueOf()-v(e).valueOf()},t.isSame=function(e){return 0===this.$compare(e)},t.isBefore=function(e){return this.$compare(e)<0},t.isAfter=function(e){return this.$compare(e)>0},t.year=function(){return this.$y},t.month=function(){return this.$M},t.day=function(){return this.$W},t.date=function(){return this.$D},t.hour=function(){return this.$H},t.minute=function(){return this.$m},t.second=function(){return this.$s},t.millisecond=function(){return this.$ms},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var i=this,r=!!b.isUndefined(t)||t,n=function(e,t){var n=y(new Date(i.$y,t,e),i);return r?n:n.endOf(h)},o=function(e,t){return y(i.toDate()[e].apply(i.toDate(),r?[0,0,0,0].slice(t):[23,59,59,999].slice(t)),i)};switch(b.prettyUnit(e)){case f:return r?n(1,0):n(31,11);case p:return r?n(1,this.$M):n(0,this.$M+1);case u:return n(r?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case h:case"date":return o("setHours",0);case d:return o("setMinutes",1);case c:return o("setSeconds",2);case l:return o("setMilliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){switch(b.prettyUnit(e)){case h:this.$d.setDate(this.$D+(t-this.$W));break;case"date":this.$d.setDate(t);break;case p:this.$d.setMonth(t);break;case f:this.$d.setFullYear(t);break;case d:this.$d.setHours(t);break;case c:this.$d.setMinutes(t);break;case l:this.$d.setSeconds(t);break;case n:this.$d.setMilliseconds(t)}return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.add=function(i,e){var r=this;i=Number(i);var t,n=b.prettyUnit(e),o=function(e,t){var n=r.set("date",1).set(e,t+i);return n.set("date",Math.min(r.$D,n.daysInMonth()))},a=function(e){var t=new Date(r.$d);return t.setDate(t.getDate()+e*i),y(t,r)};if(n===p)return o(p,this.$M);if(n===f)return o(f,this.$y);if(n===h)return a(1);if(n===u)return a(7);switch(n){case c:t=6e4;break;case d:t=36e5;break;case l:t=1e3;break;default:t=1}var s=this.valueOf()+i*t;return y(s,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,n=e||"YYYY-MM-DDTHH:mm:ssZ",i=b.padZoneStr(this.$d.getTimezoneOffset()),r=this.$locale(),o=r.weekdays,a=r.months,s=function(e,t,n,i){return e&&e[t]||n[t].substr(0,i)};return n.replace(g,function(e){if(e.indexOf("[")>-1)return e.replace(/\[|\]/g,"");switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return String(t.$y);case"M":return String(t.$M+1);case"MM":return b.padStart(t.$M+1,2,"0");case"MMM":return s(r.monthsShort,t.$M,a,3);case"MMMM":return a[t.$M];case"D":return String(t.$D);case"DD":return b.padStart(t.$D,2,"0");case"d":return String(t.$W);case"dd":return s(r.weekdaysMin,t.$W,o,2);case"ddd":return s(r.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(t.$H);case"HH":return b.padStart(t.$H,2,"0");case"h":case"hh":return 0===t.$H?12:b.padStart(t.$H<13?t.$H:t.$H-12,"hh"===e?2:1,"0");case"a":return t.$H<12?"am":"pm";case"A":return t.$H<12?"AM":"PM";case"m":return String(t.$m);case"mm":return b.padStart(t.$m,2,"0");case"s":return String(t.$s);case"ss":return b.padStart(t.$s,2,"0");case"SSS":return b.padStart(t.$ms,3,"0");case"Z":return i;default:return i.replace(":","")}})},t.diff=function(e,t,n){var i=b.prettyUnit(t),r=v(e),o=this-r,a=b.monthDiff(this,r);switch(i){case f:a/=12;break;case p:break;case"quarter":a/=3;break;case u:a=o/6048e5;break;case h:a=o/864e5;break;case d:a=o/36e5;break;case c:a=o/6e4;break;case l:a=o/1e3;break;default:a=o}return n?a:b.absFloor(a)},t.daysInMonth=function(){return this.endOf(p).$D},t.$locale=function(){return a[this.$L]},t.locale=function(e,t){var n=this.clone();return n.$L=m(e,t,!0),n},t.clone=function(){return y(this.toDate(),this)},t.toDate=function(){return new Date(this.$d)},t.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},t.toJSON=function(){return this.toISOString()},t.toISOString=function(){return this.toDate().toISOString()},t.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},t.toString=function(){return this.$d.toUTCString()},e}();return v.extend=function(e,t){return e(t,w,v),v},v.locale=m,v.isDayjs=s,v.unix=function(e){return v(1e3*e)},v.en=a[o],v}()});(li=si=si||{})[li.Distance=1]="Distance",li[li.Price=2]="Price",(di=ci=ci||{})[di.Map=1]="Map",di[di.List=2]="List";var ui=(pi.LOCATION_FORMATS={managedPlaceId:"MANAGED-PLACEID",placeId:"PLACEID",latLong:"LATLONG"},pi.LOCALE={GB:{language:"en",country:"GB",currencyCode:"GBP",dateFormat:{short:"YYYY-MM-DD",long:"ddd D MMM YYYY"},distanceFormat:"MILES",currencyFirst:!0},DE:{language:"de",country:"DE",currencyCode:"EUR",dateFormat:{short:"YYYY-MM-DD",long:"dd. D MMM YYYY"},distanceFormat:"KILOMETERS",currencyFirst:!1}},pi.CURRENCY={EUR:"",GBP:""},pi.VIEW={MAP:"1",LIST:"2"},pi.SORT={DISTANCE:"1",PRICE:"2"},pi.facilityCodes={parking:["CPF","CPP","OP","COP"],airCon:["ACO","HAC"],accessibleRoom:["WET","LWB"]},pi.ROOM_CODES={FAM:{code:"FAM",name:"family"},SB:{code:"SB",name:"single"},DB:{code:"DB",name:"double"},DIS:{code:"DIS",name:"accessible"},TWIN:{code:"TWIN",name:"twin"}},pi.errorResponse={availabilities:"https://de93c997-7ae8-44a5-8531-661361ba047c.mock.pstmn.io/"},pi.DEFAULT_BOOKING_CHANNEL="WEB",pi);function pi(){}var fi=(gi.formatDateTimeString=function(e,t){var n=e.split("/");return new Date(n[2],n[1]-1,n[0],t,0,0,0)},gi.getWeekday=function(e){var t=this.formatDateTimeString(e,0);return this.WEEK_DAYS[t.getDay()]},gi.addLeadingZero=function(e){return("0"+e).slice(-2)},gi.getCurrentTime=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();return this.addLeadingZero(t)+":"+this.addLeadingZero(n)},gi.formatDate=function(e){var t=new Date(e);return this.addLeadingZero(t.getDate())+"/"+this.addLeadingZero(t.getMonth()+1)+"/"+t.getFullYear()},gi.setStartOfUTCDay=function(e){return e.setUTCHours(0,0,0,0)},gi.getFutureDate=function(e,t){var n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=new Date(n,i,r);return o.setDate(r+t),o},gi.getDateFormat=function(e,t){return e===ui.LOCALE.DE.country?ui.LOCALE.DE.dateFormat[t]:ui.LOCALE.GB.dateFormat[t]},gi.WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],gi);function gi(){}var mi=function(e,t){return(mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function vi(e,t){function n(){this.constructor=e}mi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function yi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bi(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}(arguments[t]));return e}var wi,Ci=(vi(xi,wi=Error),xi);function xi(e,t){var n=wi.call(this,"Error code: "+t+", Description: "+e)||this;return n.description=e,n.code=t,n}var Si=(ki.padLeft=function(e){return e<10?"0"+e.toString():e.toString()},ki.buildCSVString=function(e,t){return""!==e?e+","+t:t},ki.pluralise=function(e,t,n){return 0<e?1===e?e+" "+t:e+" "+n:""},ki.countNonWhitespaceCharacters=function(e){return e.replace(/\s/g,"").length},ki.alphaStripper=function(e){var t=new RegExp(/(alpha)(2)?(-)/gi);return e.replace(t,"")},ki.isRegexValid=function(e,t){return e.test(t)},ki);function ki(){}var Di=(Ei.create=function(e){var t=e.brand,n=e.domain,i=e.detailsPage,r=e.hotelsPath,o=e.stayDetails,a=e.miscParams;return""+n+Ei.resolveEnvironment()+r+Si.alphaStripper(i)+".html"+Ei.buildParameters(o,t,a)},Ei.resolveEnvironment=function(){var e=window.location.hostname.match(/whitbread.digital/)||window.location.hostname.match(/premierinn/)?window.location.hostname.replace(/.*?\./i,""):"premierinn.com";return e},Ei.buildParameters=function(e,t,n){var i,r,o,a=[],s=e.roomData,l=e.arrivalDate,c=e.nights,d=e.cellCodes;if(e.dateless||(s&&(o=s.reduce(function(e,t,n){return e.push("ADULT"+(n+1)+"="+t.adults),e.push("CHILD"+(n+1)+"="+t.children),e.push("COT"+(n+1)+"="+(t.cot?1:0)),e.push("INTTYP"+(n+1)+"="+t.roomType),e},[]),a.push("ARRdd="+Si.padLeft(l.getDate())),a.push("ARRmm="+Si.padLeft(l.getMonth()+1)),a.push("ARRyyyy="+l.getFullYear()),a.push("NIGHTS="+c),a.push("ROOMS="+s.length),a=bi(a,o),t&&a.push("BRAND="+t)),d&&a.push("CELLCODES="+d)),n)try{for(var h=yi(Object.keys(n)),u=h.next();!u.done;u=h.next()){var p=u.value;a.push(p+"="+n[p])}}catch(e){i={error:e}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}return 0===a.length?"":"?"+a.join("&")},Ei);function Ei(){}var Oi,Li=(vi(Ai,Oi=A),Ai.get=function(e){return this.load(e,this.httpMethods.GET)},Ai.post=function(e){return this.load(e,this.httpMethods.POST)},Ai.put=function(e){return this.load(e,this.httpMethods.PUT)},Ai.update=function(e){return this.load(e,this.httpMethods.UPDATE)},Ai.delete=function(e){return this.load(e,this.httpMethods.DELETE)},Ai.load=function(o,a){var s=this;return new f(function(e,t){var n,i,r=window.XDomainRequest;XMLHttpRequest?(n=new XMLHttpRequest,a===Ai.httpMethods.GET&&(o.url=o.url+s.concatParams(o.params)),n.open(a,o.url,!0),n.timeout=2e4,o.headers&&o.headers.map(function(e){n.setRequestHeader(e.value,e.variable)}),n.onload=function(){return s.loaded(n,e,t)},n.ontimeout=function(){return s.loaded(n,e,t)},n.onerror=function(){return t(new Error("Network Error"))},n.send(o.params)):((i=new r).open(a,o.url),i.onload=function(){return e(i.responseText)},i.onerror=function(){return t(new Error("Network Error"))},setTimeout(function(){i.send()},0))})},Ai.concatParams=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&(t=""+t+n+"="+encodeURI(e[n])+"&");return t=t.slice(0,-1)},Ai.loaded=function(e,t,n){if(200===e.status)return t(JSON.parse(e.responseText));var i=void 0;return 0===e.status?(i.details="Network Error 0x2ee7",i.code=e.status):i=JSON.parse(e.responseText),n(new Ci(JSON.stringify(i.details),i.code))},Ai.httpMethods={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE",UPDATE:"UPDATE"},Ai.COMPLETE="COMPLETE",Ai.ERROR="ERROR",Ai);function Ai(){return null!==Oi&&Oi.apply(this,arguments)||this}var Pi=(Ti.get=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return localStorage.getItem(t)}},Ti.set=function(e,t){"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},Ti.availability=function(){try{return window.sessionStorage.setItem("testKey","test"),window.sessionStorage.removeItem("testKey"),!0}catch(e){return!1}},Ti);function Ti(){}var Ni=(_i.updateRoute=function(e){window.location.href=e},_i.parseUrlLocation=function(e){var t=e.split(",");if(2===t.length){var n=parseFloat(t[0]),i=parseFloat(t[1]);if(n&&i)return{latitude:n,longitude:i}}return null},_i.parseUrlDate=function(e,t,n){var i=Number(e),r=Number(t),o=Number(n);if(isNaN(i)||isNaN(r)||isNaN(o)||0===i||0===r||0===o)return null;var a=new Date(o+"-"+fi.addLeadingZero(r)+"-"+fi.addLeadingZero(i));return isNaN(a.getTime())?null:new Date(a.getTime()+6e4*a.getTimezoneOffset())},_i.isDatelessByArrivalDate=function(e,t,n){return!(e&&t&&n)},_i.parseUrlNights=function(e){var t=parseInt(e,10);return 0<=t||t<=0?t:1},_i.parseUrlRooms=function(e){var t=parseInt(e,10);return t&&0<t?t:1},_i.parseUrlAdults=function(e){var t=parseInt(e,10);return t&&0<t?t:1},_i.parseUrlChildren=function(e){var t=parseInt(e,10);return t&&0<=t?t:0},_i.parseUrlRoomType=function(e){return e||"DB"},_i.parseUrlCot=function(e){return"1"===e||"0"!==e&&null},_i.parseUrlView=function(e){return e===ui.VIEW.MAP?ci.Map:ci.List},_i.parseUrlSort=function(e){return e===ui.SORT.PRICE?si.Price:si.Distance},_i.parseStateLocationName=function(e){return e?"searchModel.searchTerm="+e:null},_i.parseStatePlaceId=function(e){return e&&0<e.length?"PLACEID="+e:null},_i.parseStateLocationCoordinates=function(e){return e&&"number"==typeof e.latitude&&"number"==typeof e.longitude?"LOCATION="+e.latitude+","+e.longitude:null},_i.parseStateArrivalDate=function(e){return e&&hi(e).isValid()?"ARRdd="+e.getDate()+"&ARRmm="+(e.getMonth()+1)+"&ARRyyyy="+e.getFullYear():null},_i.parseStateNights=function(e){return 0<e?"NIGHTS="+e:"NIGHTS=1"},_i.parseStateCellCodes=function(e){return"CELLCODES="+e.toUpperCase()},_i.parseStateRoomData=function(e){if(e&&e.length){var a=[];if(e.forEach(function(e,t){var n,i,r,o;0<e.adults&&0<=e.children&&e.roomType&&(n="ADULT"+(t+1)+"="+e.adults,i="CHILD"+(t+1)+"="+e.children,r="COT"+(t+1)+"="+(e.cot?1:0),o="INTTYP"+(t+1)+"="+e.roomType,a.push(n,i,r,o))}),a.length)return"ROOMS="+e.length+"&"+a.join("&")}return"ROOMS=1&ADULT1=1&CHILD1=0&COT1=0&INTTYP1=DB"},_i.parseStateFilter=function(e){return e&&e.length?e:""},_i.parseBookingChannel=function(e){return"BOOKINGCHANNEL="+e.toUpperCase()},_i.parseNumberParam=function(e,t){return e&&t?e+"="+t:null},_i.parseMiscParams=function(t){if(!t)return null;return Object.keys({"searchModel.searchTerm":"",LOCATION:"",PLACEID:"",ARRdd:"",ARRmm:"",ARRyyyy:"",ROOMS:"",ADULT1:"",ADULT2:"",ADULT3:"",ADULT4:"",CHILD1:"",CHILD2:"",CHILD3:"",CHILD4:"",INTTYP1:"",INTTYP2:"",INTTYP3:"",INTTYP4:"",COT1:"",COT2:"",COT3:"",COT4:"",NIGHTS:"",SID:"",CID:"",CELLCODES:"",VIEW:"",SORT:"",FILTERS:"",BRAND:"",CODE:"",BOOKINGCHANNEL:"",CAMPAIGNPRICE:"",ALTPRICE:""}).forEach(function(e){delete t[e]}),t},_i.createQS=function(e){var t,n,i="";try{for(var r=yi(Object.keys(e)),o=r.next();!o.done;o=r.next()){var a=o.value;i+="&"+a+"="+e[a]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i.slice(1)},_i);function _i(){}function Ri(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n}function Ii(e,t){dr.apply(e,cr(t)?t:[t])}function Hi(e,t){var n=e,i=function(e){if(!e)return pr;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||pr.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ar.default;if(void 0!==e.format){if(!sr.call(ar.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ar.formatters[n],r=pr.filter;return"function"!=typeof e.filter&&!cr(e.filter)||(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:pr.addQueryPrefix,allowDots:void 0===e.allowDots?pr.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:pr.charsetSentinel,delimiter:void 0===e.delimiter?pr.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:pr.encode,encoder:"function"==typeof e.encoder?e.encoder:pr.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:pr.encodeValuesOnly,filter:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:pr.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:pr.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:pr.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):cr(i.filter)&&(s=i.filter);var r,o=[];if("object"!=typeof n||null===n)return"";r=t&&t.arrayFormat in lr?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=lr[r],s=s||Object.keys(n);i.sort&&s.sort(i.sort);for(var l=0;l<s.length;++l){var c=s[l];i.skipNulls&&null===n[c]||Ii(o,function e(t,n,i,r,o,a,s,l,c,d,h,u,p){var f,g=t;if("function"==typeof s?g=s(n,g):g instanceof Date?g=d(g):"comma"===i&&cr(g)&&(g=g.join(",")),null===g){if(r)return a&&!u?a(n,pr.encoder,p,"key"):n;g=""}if("string"==typeof(f=g)||"number"==typeof f||"boolean"==typeof f||"symbol"==typeof f||"bigint"==typeof f||er.isBuffer(g))return a?[h(u?n:a(n,pr.encoder,p,"key"))+"="+h(a(g,pr.encoder,p,"value"))]:[h(n)+"="+h(String(g))];var m,v,y=[];if(void 0===g)return y;v=cr(s)?s:(m=Object.keys(g),l?m.sort(l):m);for(var b=0;b<v.length;++b){var w=v[b];o&&null===g[w]||(cr(g)?Ii(y,e(g[w],"function"==typeof i?i(n,w):n,i,r,o,a,s,l,c,d,h,u,p)):Ii(y,e(g[w],n+(c?"."+w:"["+w+"]"),i,r,o,a,s,l,c,d,h,u,p)))}return y}(n[c],c,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var d=o.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),0<d.length?h+d:""}function Mi(e,t){var n,i,r,o,a,s,l={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,d),u=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?p="utf-8":"utf8=%26%2310003%3B"===h[n]&&(p="iso-8859-1"),u=n,n=h.length);for(n=0;n<h.length;++n){n!==u&&((s=-1===(o=-1===(r=(i=h[n]).indexOf("]="))?i.indexOf("="):r+1)?(a=t.decoder(i,vr.decoder,p,"key"),t.strictNullHandling?null:""):(a=t.decoder(i.slice(0,o),vr.decoder,p,"key"),t.decoder(i.slice(o+1),vr.decoder,p,"value")))&&t.interpretNumericEntities&&"iso-8859-1"===p&&(s=s.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),s&&"string"==typeof s&&t.comma&&-1<s.indexOf(",")&&(s=s.split(",")),-1<i.indexOf("[]=")&&(s=mr(s)?[s]:s),gr.call(l,a)?l[a]=er.combine(l[a],s):l[a]=s)}return l}function Wi(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,o=0<n.depth&&/(\[[^[\]]*])/.exec(i),a=o?i.slice(0,o.index):i,s=[];if(a){if(!n.plainObjects&&gr.call(Object.prototype,a)&&!n.allowPrototypes)return;s.push(a)}for(var l=0;0<n.depth&&null!==(o=r.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&gr.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+i.slice(o.index)+"]"),function(e,t,n){for(var i=t,r=e.length-1;0<=r;--r){var o,a,s,l=e[r];"[]"===l&&n.parseArrays?o=[].concat(i):(o=n.plainObjects?Object.create(null):{},a="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,s=parseInt(a,10),n.parseArrays||""!==a?!isNaN(s)&&l!==a&&String(s)===a&&0<=s&&n.parseArrays&&s<=n.arrayLimit?(o=[])[s]=i:o[a]=i:o={0:i}),i=o}return i}(s,t,n)}}function Bi(e,t){var n=function(e){if(!e)return vr;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?vr.charset:e.charset;return{allowDots:void 0===e.allowDots?vr.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:vr.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:vr.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:vr.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:vr.comma,decoder:"function"==typeof e.decoder?e.decoder:vr.decoder,delimiter:"string"==typeof e.delimiter||er.isRegExp(e.delimiter)?e.delimiter:vr.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:vr.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:vr.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:vr.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:vr.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:vr.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?Mi(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(i),a=0;a<o.length;++a)var s=o[a],l=Wi(s,i[s],n),r=er.merge(r,l,n);return er.compact(r)}var Fi=Object.prototype.hasOwnProperty,zi=Array.isArray,ji=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ui={arrayToObject:Ri,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],c=o[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:l}),n.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(zi(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n){if(0===e.length)return e;var i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var r="",o=0;o<i.length;++o){var a=i.charCodeAt(o);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?r+=i.charAt(o):a<128?r+=ji[a]:a<2048?r+=ji[192|a>>6]+ji[128|63&a]:a<55296||57344<=a?r+=ji[224|a>>12]+ji[128|a>>6&63]+ji[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&i.charCodeAt(o)),r+=ji[240|a>>18]+ji[128|a>>12&63]+ji[128|a>>6&63]+ji[128|63&a])}return r},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function i(r,o,a){if(!o)return r;if("object"!=typeof o){if(zi(r))r.push(o);else{if(!r||"object"!=typeof r)return[r,o];(a&&(a.plainObjects||a.allowPrototypes)||!Fi.call(Object.prototype,o))&&(r[o]=!0)}return r}if(!r||"object"!=typeof r)return[r].concat(o);var e=r;return zi(r)&&!zi(o)&&(e=Ri(r,a)),zi(r)&&zi(o)?(o.forEach(function(e,t){var n;Fi.call(r,t)?(n=r[t])&&"object"==typeof n&&e&&"object"==typeof e?r[t]=i(n,e,a):r.push(e):r[t]=e}),r):Object.keys(o).reduce(function(e,t){var n=o[t];return Fi.call(e,t)?e[t]=i(e[t],n,a):e[t]=n,e},e)}},Vi=Ui.arrayToObject,$i=Ui.assign,Gi=Ui.combine,Yi=Ui.compact,Ki=Ui.decode,Xi=Ui.encode,Zi=Ui.isBuffer,qi=Ui.isRegExp,Ji=Ui.merge,Qi=Object.freeze({default:Ui,__moduleExports:Ui,arrayToObject:Vi,assign:$i,combine:Gi,compact:Yi,decode:Ki,encode:Xi,isBuffer:Zi,isRegExp:qi,merge:Ji}),er=Qi?Ui:Qi,tr=String.prototype.replace,nr=/%20/g,ir={RFC1738:"RFC1738",RFC3986:"RFC3986"},rr=er.assign({default:ir.RFC3986,formatters:{RFC1738:function(e){return tr.call(e,nr,"+")},RFC3986:function(e){return String(e)}}},ir),or=Object.freeze({default:rr,__moduleExports:rr}),ar=or&&rr||or,sr=Object.prototype.hasOwnProperty,lr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},cr=Array.isArray,dr=Array.prototype.push,hr=Date.prototype.toISOString,ur=ar.default,pr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:er.encode,encodeValuesOnly:!1,format:ur,formatter:ar.formatters[ur],indices:!1,serializeDate:function(e){return hr.call(e)},skipNulls:!1,strictNullHandling:!1},fr=Object.freeze({default:Hi,__moduleExports:Hi}),gr=Object.prototype.hasOwnProperty,mr=Array.isArray,vr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:er.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yr=Object.freeze({default:Bi,__moduleExports:Bi}),br={formats:ar,parse:yr?Bi:yr,stringify:fr?Hi:fr},wr=(Cr.create=function(e,t,n){var i=e.stayDetails,r=[];return i.name?(i.dateless?r.push(Ni.parseStateLocationName(i.name)):(r=this.parseQueryParamsStayDetails(i),e.app.SORT&&r.push("SORT="+e.app.SORT)),e.app.VIEW&&r.push("VIEW="+e.app.VIEW),i.cellCodes&&r.push(Ni.parseStateCellCodes(i.cellCodes)),e.tracking&&(e.tracking.SID&&r.push("SID="+e.tracking.SID),e.tracking.CID&&r.push("CID="+e.tracking.CID),e.campaign.campaignPrice&&r.push("CAMPAIGNPRICE="+e.campaign.campaignPrice),e.campaign.altPrice&&r.push("ALTPRICE="+e.campaign.altPrice)),e.filters&&r.push("FILTERS="+e.filters),e.preservedQS&&(e.preservedQS.CAMPAIGNSTARTDATE&&r.push("CAMPAIGNSTARTDATE="+e.preservedQS.CAMPAIGNSTARTDATE),e.preservedQS.CAMPAIGNENDDATE&&r.push("CAMPAIGNENDDATE="+e.preservedQS.CAMPAIGNENDDATE)),n&&r.push("CODE="+n),t+"?"+r.join("&")):null},Cr.parseQueryParamsStayDetails=function(e){var t=[],n=Ni.parseStateLocationName(e.name);n&&t.push(n);var i=Ni.parseStateLocationCoordinates(e.location);i&&t.push(i);var r=Ni.parseStatePlaceId(e.placeId);r&&t.push(r);var o=Ni.parseStateArrivalDate(e.arrivalDate);o&&t.push(o);var a=Ni.parseStateNights(e.nights);a&&t.push(a);var s=Ni.parseStateRoomData(e.roomData);s&&t.push(s);var l=Ni.parseBookingChannel(e.bookingChannel);return l&&t.push(l),t},Cr.discoverEnvironment=function(e,t){var n=br.parse(t,{ignoreQueryPrefix:!0,delimiter:/&(?=[a-zA-Z0-9.]+\=)/}),i={stayDetails:0===Object.keys(e).length?this.parseStayDetails(n):e,app:{VIEW:Ni.parseUrlView(n.VIEW),SORT:Ni.parseUrlSort(n.SORT)},tracking:{},filters:"",code:"",preservedQS:Ni.parseMiscParams(oe.immutableMerge(n,{})),campaign:{}};return n.FILTERS&&(i.filters=Ni.parseStateFilter(n.FILTERS)),n.SID&&(i.tracking.SID=n.SID),n.CID&&(i.tracking.CID=n.CID),n.CODE&&(i.code=n.CODE),n.CAMPAIGNPRICE&&(i.campaign.campaignPrice=n.CAMPAIGNPRICE),n.ALTPRICE&&(i.campaign.altPrice=n.ALTPRICE),i},Cr.parseStayDetails=function(e){var t={};if(Object.keys(e).length&&e["searchModel.searchTerm"]){if(t.name=e["searchModel.searchTerm"],e.ARRdd&&e.ARRmm&&e.ARRyyyy){e.LOCATION&&(t.location=Ni.parseUrlLocation(e.LOCATION)),e.PLACEID&&(t.placeId=e.PLACEID);var n=Ni.parseUrlDate(e.ARRdd,e.ARRmm,e.ARRyyyy);t.arrivalDate=n,t.nights=Ni.parseUrlNights(e.NIGHTS);var i=[],r=Ni.parseUrlRooms(e.ROOMS);if(r)for(var o=1;o<=r;o++){var a,s,l,c=Ni.parseUrlAdults(e["ADULT"+o]);c&&(a=Ni.parseUrlChildren(e["CHILD"+o]),s=Ni.parseUrlCot(e["COT"+o]),l=Ni.parseUrlRoomType(e["INTTYP"+o]),i.push({adults:c,children:a,cot:s,roomType:l}))}else i.push({adults:1,children:0,cot:!1,roomType:"DB"});t.roomData=i}t.dateless=Ni.isDatelessByArrivalDate(e.ARRdd,e.ARRmm,e.ARRyyyy),e.CELLCODES&&(t.cellCodes=e.CELLCODES),e.BOOKINGCHANNEL&&(t.bookingChannel=e.BOOKINGCHANNEL)}return t},Cr);function Cr(){}var xr=(Sr.getParam=function(e,t){var n=t||window.location.search,i=new RegExp(e+"=([^&]*)","i").exec(n);return i&&unescape(i[1])||""},Sr.decodeURLParams=function(e){var t=e||window.location.search;return t.slice(t.indexOf("?")+1).split("&").reduce(function(e,t){var n,i=t.indexOf("="),r=t.slice(0,i),o=t.slice(i+1);return Object.assign(e,((n={})[r]=decodeURIComponent(o),n))},{})},Sr);function Sr(){}var kr,Dr=(E(Er,kr=n),Object.defineProperty(Er,"config",{get:function(){return this._config},set:function(e){var t=oe.getKeyName(r,e).join(","),n=oe.getKeyName(e,r).join(",");n.length&&console.warn("The following default config missing from search results -",n),t.length&&console.warn("The following config missing from search results -",t),this._config=oe.immutableMerge(r,e),this.state=this.defaultState},enumerable:!1,configurable:!0}),Object.defineProperty(Er,"content",{get:function(){return this._content},set:function(e){var t=oe.getKeyName(s,e).join(","),n=oe.getKeyName(e,s).join(",");n.length&&console.warn("The following default content is missing from search results -",n),t.length&&console.warn("The following content is missing from search results -",t),this._content=oe.immutableMerge(s,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Er,"headerConfig",{get:function(){return this._headerConfig},set:function(e){this._headerConfig=e},enumerable:!1,configurable:!0}),Object.defineProperty(Er,"headerContent",{get:function(){return this._headerContent},set:function(e){this._headerContent=e},enumerable:!1,configurable:!0}),Object.defineProperty(Er,"Header",{get:function(){return this._header},set:function(e){this._header=e},enumerable:!1,configurable:!0}),Object.defineProperty(Er,"firstLoad",{get:function(){var e=!!this._firstLoad;return this._firstLoad=!1,e},enumerable:!1,configurable:!0}),Er.setStateFromURL=function(){var e=wr.discoverEnvironment(ri(Er.state.stayDetails),window.location.search),t=xr.getParam("searchModel.searchTerm").toLowerCase(),n=!!this.config.experiments.alternativePricePlaces.filter(function(e){return-1<t.indexOf(e.toLocaleLowerCase())})[0];e.price=n?e.campaign.altPrice:e.campaign.campaignPrice,Er.state=e},Er.defaultState={app:{VIEW:ci.List,SORT:si.Distance},stayDetails:{},code:"",filters:"",tracking:{},campaign:{}},Er._firstLoad=!0,e([xt],Er,"state",void 0),Er);function Er(){return null!==kr&&kr.apply(this,arguments)||this}var Or=(Lr.button={whiteSpace:"nowrap",msTouchAction:"manipulation",touchAction:"manipulation",cursor:"pointer",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none",text:"Button",icon:{padding:"0.75rem"},type:"button",attributes:{type:"button"}},Lr);function Lr(){}var Ar,Pr=(E(Tr,Ar=G),Tr.prototype.over=function(){this.enabled&&Ar.prototype.over.call(this)},Tr.prototype.out=function(){this.enabled&&Ar.prototype.out.call(this)},Tr.prototype.click=function(){var e;this.enabled&&(e=new D(Tr.CLICK,this),this.dispatchEvent(e))},Tr.prototype.disable=function(){this.enabled=!1,this.style({cursor:"default"}),this.element.setAttribute("disabled","true")},Tr.prototype.enable=function(){this.enabled=!0,this.style({cursor:"pointer"}),this.element.removeAttribute("disabled")},Tr.prototype.style=function(e){oe.merge(this.styles,e),Ar.prototype.style.call(this,e)},Tr.buttonClicked=!1,Tr.CLICK="click",e([xt],Tr,"buttonClicked",void 0),Tr);function Tr(e){void 0===e&&(e={});var t=this;return e=oe.merge(oe.merge({},Or.button),e),(t=Ar.call(this,e)||this).enabled=!0,t.styles=oe.flattenConfigStyles(e),t}var Nr=(_r.colours={piColorPurple:"#511e62",piColorPurpleLight:"#c9bbd0",piColorSecondaryDarkest:"#6c3072",piColorSecondaryDarker:"#9f78a3",piColorSecondaryDark:"#b597b8",piColorSecondaryMid:"#c4acc7",piColorSecondaryLight:"#e2d6e3",piColorSecondaryLighter:"#e9e0ea",piColorSecondaryLightest:"#f8f4f8",piColorDarkneutralDarkest:"#617571",piColorDarkneutralDark:"#b6c4c1",piColorDarkneutralMid:"#ccd9d3",piColorDarkneutralLight:"#dae1e0",piColorDarkneutralLightest:"#f0f3f3",piColorNeutralDarkest:"#eeece9",piColorNeutralDark:"#f1f0ed",piColorNeutralMid:"#f3f2f0",piColorNeutralLight:"#f6f5f4",piColorNeutralLightest:"#f8f7f6",piColorLightneutralDark:"#e2e6e5",piColorLightneutralMid:"#e8ebea",piColorLightneutralLight:"#f0f2f2",piColorGreyscaleDarkest:"#333333",piColorGreyscaleDarker:"#58595b",piColorGreyscaleDark:"#979797",piColorGreyscaleMid:"#cccccc",piColorGreyscaleLight:"#dddddd",piColorGreyscaleLighter:"#e0e0e0",piColorGreyscaleLightest:"#f8f8f8",piColorBtnPrimary:"#00798e",piColorBtnPrimaryLight:"#008fa8",piColorBtnPrimaryDark:"#006475",piColorAccentOrange:"#fa9300",piColorAccentOrangeLight:"#fcbe66",piColorAccentOrangeLightest:"#feefd9",piColorAccentCoral:"#da3c21",piColorAccentCoralLight:"#e65c44",piColorAccentCoralLightest:"#fceeec",piColorAccentTeal:"#3c868b",piColorAccentTealLight:"#6da4a8",piColorAccentTealLighter:"#89b6b9",piColorAccentTealLightest:"#f5f9f9",piColorAccentAqua:"#80bfbd",piColorAccentYellow:"#fcb92a",piColorAccentDangerred:"#cd0325",piColorAccentErrorred:"#eb0324",piColorAccentDarkred:"#eb1130",piColorAccentBlue:"#217ace",piColorAccentMagenta:"#8d1a61",piColorAccentMagentaLight:"#bb157c",piColorAccentMaroon:"#73325b",piColorAccentMaroonLight:"#823668",piColorAccentDarkPink:"#ac467a",piColorAccentDarkPinkLighter:"#ba4c86",piColorAccentDarkBlue:"#0178a5",piColorWhite:"#fff",piColorBlack:"#000",piColorInfo:"#007fab",transparent:"transparent",hubColorPrimary:"#b3d402",hubColorSecondary:"#333333",black:"#000",grayDark:"#333",gray:"#58595b",grayLight:"#949494",zipColorPrimary:"#ff0139",zipColorSecondary:"#fff"},_r.variables={baseFont:"proxima-nova,helvetica,arial,sans-serif",baseSpacingXs:"6px",baseSpacingS:"8px",baseSpacingBase:"16px",baseSpacingM:"20px",baseSpacingL:"24px",baseSpacingXl:"32px",lineHeightXxs:"16px",lineHeightSubtext:"17px",lineHeightXs:"19px",lineHeightS:"21px",lineHeightM:"24px",lineHeightL:"28px",lineHeightXl:"45px",lineHeightXxl:"48px",lineHeightXxxl:"55px",fontSizeXs:"12px",fontSizeS:"14px",fontSizeBase:"16px",fontSizeM:"20px",fontSizeL:"23px",fontSizeXl:"37px",fontSizeXxl:"41px",fontSizeXxxl:"49px",mobileWidth:"320px",fontSizeMobile:"1em",mobileFormElement:"1.25em",fontSizeMobileLogin:"1.5em",hero:"49px",h1:"41px",h2:"37px",h3:"23px",h4:"19px",h5:"16px",h6:"14px",subtext:"12px",baseFontFamily:"ProximaNova,Helvetica,Arial,sans-serif",baseLineHeight:"18px",buttonLineHeight:"30px",buttonBorderWidth:"2px",zindexDropdown:"1000",zindexPopover:"1010",zindexTooltip:"1020",zindexFixedNavbar:"1030",zindexModalBackdrop:"1040",zindexModal:"1050",iconSpritePath:"'../img/glyphicons-halflings.png'",iconWhiteSpritePath:"'../img/glyphicons-halflings-white.png'",placeholderText:"#949494",hrBorder:"#ddd",navbarHeight:"40px",navbarBackground:"#333",navbarBackgroundHighlight:"#333",navbarLinkBackgroundHover:"transparent",navbarText:"#949494",navbarLinkColor:"#949494",navbarLinkColorHover:"#fff",standardBorderRadius:"3px",standardTransitionSpeed:".3s",longTransitionSpeed:"2s",notificationicon:"24px",gridColumns:"12",gridColumnWidth:"60px",gridGutterWidth:"20px",gridRowWidth:"940px",fluidGridColumnWidth:"6.382978723%",fluidGridGutterWidth:"2.127659574%",priceXlarge:"36px",priceLarge:"29px",priceMid:"23px",priceSmall:"19px",priceXsmall:"13px"},_r);function _r(){}var Rr=(Ir.iconPrefix="https://www.premierinn.com/etc.clientlibs/pi/clientlibs/",Ir.colours={primary:{white:Nr.colours.piColorWhite,black:Nr.colours.piColorBlack,purple:Nr.colours.piColorPurple,purpleLight:Nr.colours.piColorPurpleLight,btn:Nr.colours.piColorBtnPrimary,btnLight:Nr.colours.piColorBtnPrimaryLight,btnDark:Nr.colours.piColorBtnPrimaryDark,teal:"#00798e"},secondary:{darkest:Nr.colours.piColorSecondaryDarkest,darker:Nr.colours.piColorSecondaryDarker,dark:Nr.colours.piColorSecondaryDark,mid:Nr.colours.piColorSecondaryMid,light:Nr.colours.piColorSecondaryLight,lighter:Nr.colours.piColorSecondaryLighter,lightest:Nr.colours.piColorSecondaryLightest},darkNeutral:{darkest:Nr.colours.piColorDarkneutralDarkest,dark:Nr.colours.piColorDarkneutralDark,mid:Nr.colours.piColorDarkneutralMid,light:Nr.colours.piColorDarkneutralLight,lighter:Nr.colours.piColorDarkneutralLightest},neutral:{darkest:Nr.colours.piColorNeutralDarkest,dark:Nr.colours.piColorNeutralDark,mid:Nr.colours.piColorNeutralMid,light:Nr.colours.piColorNeutralLight,lighter:Nr.colours.piColorNeutralLightest},lightNeutral:{dark:Nr.colours.piColorLightneutralDark,mid:Nr.colours.piColorLightneutralMid,light:Nr.colours.piColorLightneutralLight},greyScale:{darkest:Nr.colours.piColorGreyscaleDarkest,darker:Nr.colours.piColorGreyscaleDarker,dark:Nr.colours.piColorGreyscaleDark,mid:Nr.colours.piColorGreyscaleMid,light:Nr.colours.piColorGreyscaleLight,lighter:Nr.colours.piColorGreyscaleLighter,lightest:Nr.colours.piColorGreyscaleLightest},accent:{orange:Nr.colours.piColorAccentOrange,orangeLight:Nr.colours.piColorAccentOrangeLight,orangeLightest:Nr.colours.piColorAccentOrangeLightest,coral:Nr.colours.piColorAccentCoral,coralLight:Nr.colours.piColorAccentCoralLight,coralLightest:Nr.colours.piColorAccentCoralLightest,teal:Nr.colours.piColorAccentTeal,tealLight:Nr.colours.piColorAccentTealLight,tealLighter:Nr.colours.piColorAccentTealLighter,tealLightest:Nr.colours.piColorAccentTealLightest,aqua:Nr.colours.piColorAccentAqua,yellow:Nr.colours.piColorAccentYellow,yellowLight:"#FFFAEC",pink:"#fc0f42",dangerRed:Nr.colours.piColorAccentDangerred,blue:Nr.colours.piColorAccentBlue,magentaLight:Nr.colours.piColorAccentMagentaLight,magenta:Nr.colours.piColorAccentMagenta,hubGreen:Nr.colours.hubColorPrimary,maroon:Nr.colours.piColorAccentMaroon,maroonLight:Nr.colours.piColorAccentMaroonLight,darkPink:Nr.colours.piColorAccentDarkPink,darkPinkLighter:Nr.colours.piColorAccentDarkPinkLighter,darkBlue:Nr.colours.piColorAccentDarkBlue},functionalAccent:{warningOrangeDark:"#F58C0A",warningOrangeLight:"#FEEFD9",errorRedDark:"#D90941",errorRedLight:"#F9D9E2",infoBlueDark:"#4E9EBA",infoBlueLight:"#E5F1F5",successGreenDark:"#3CB38E",successGreenLight:"#E2F5EF",greenDiscount:"#1c8754",piColorInfo:Nr.colours.piColorInfo},brands:{hub:{primary:Nr.colours.hubColorPrimary,secondary:Nr.colours.hubColorSecondary},pi:{primary:Nr.colours.piColorPurple,secondary:Nr.colours.zipColorSecondary},pid:{primary:Nr.colours.piColorPurple,secondary:Nr.colours.zipColorSecondary},zip:{primary:Nr.colours.zipColorPrimary,secondary:Nr.colours.zipColorSecondary}},transparent:Nr.colours.transparent},Ir.shadows={shadowFocus:"0 0 8px #ccc",shadowSubtle:"0 0 8px rgba(0,0,0,0.4)",faint:"0 -4px 8px 3px rgba(0,0,0,.1)",medium:"3px 3px 17px -6px rgba(0,0,0,0.5)",heavy:"0px 6px 17px -2px rgba(0,0,0,0.6)"},Ir.fontWeights={normal:"normal",medium:"500",semiBold:"600",bold:"bold"},Ir.borderRadius={standard:Nr.variables.standardBorderRadius},Ir.fontSizes={xxs:"0.625rem",xs:"0.75rem",s:"0.875rem",base:"1rem",m:"1.188rem",l:"1.4375rem",xl:"2.313rem",xxl:"2.563rem",xxxl:"3.063rem",h1:"2.563rem",h2:"2.313rem",h3:"1.438rem",h4:"1.188rem",h5:"1rem",h6:"0.875rem",subtext:"0.75rem",priceXlarge:"2.25rem",priceLarge:"1.813rem",priceMid:"1.4375rem",priceSmall:"1.188rem",priceXsmall:"0.8125rem"},Ir.lineHeight={xxs:Nr.variables.lineHeightXxs,subtext:Nr.variables.lineHeightSubtext,baseLineHeight:Nr.variables.baseLineHeight,xs:Nr.variables.lineHeightXs,s:Nr.variables.lineHeightS,m:Nr.variables.lineHeightM,l:Nr.variables.lineHeightL,xl:Nr.variables.lineHeightXl,xxl:Nr.variables.lineHeightXxl,xxxl:Nr.variables.lineHeightXxxl},Ir.spacing={xxs:"5px",xs:Nr.variables.baseSpacingXs,s:Nr.variables.baseSpacingS,base:Nr.variables.baseSpacingBase,m:Nr.variables.baseSpacingM,l:Nr.variables.baseSpacingL,xl:Nr.variables.baseSpacingXl},Ir.margin={xxl:"3rem",xl:"2rem",l:"1.5rem",m:"1rem",s:"0.625rem",xs:"0.5rem",xxs:"0.3rem"},Ir.borders={none:"none",transparent:"1px solid "+Ir.colours.transparent,white:"2px solid "+Ir.colours.primary.white,black:"1px solid "+Ir.colours.primary.black,secondaryDarkest:"1px solid "+Ir.colours.secondary.darkest,neutralDark:"1px solid "+Ir.colours.neutral.dark,piColorGreyLight:"1px solid "+Ir.colours.greyScale.light,greyscaleLight:"1px solid "+Ir.colours.greyScale.light,greyscaleLighter:"1px solid "+Ir.colours.greyScale.lighter,greyscaleMid:"1px solid "+Ir.colours.greyScale.mid,darkNeutralDark:"2px solid "+Ir.colours.darkNeutral.dark,primaryPurpleHeavy:"2px solid "+Ir.colours.primary.purple,tertiaryDarkest:"2px solid "+Ir.colours.secondary.darkest,secondaryDarker:"2px solid "+Ir.colours.secondary.darker,dangerRedNarrow:"1px solid "+Ir.colours.accent.dangerRed,dangerRed:"2px solid "+Ir.colours.accent.dangerRed},Ir.responsive={zip:524,xs:320,s:576,m:768,l:1280,xl:1440},Ir.columns={col1:(Ir.columnWidth=8.33)+"%",col2:2*Ir.columnWidth+"%",col3:3*Ir.columnWidth+"%",col4:4*Ir.columnWidth+"%",col5:5*Ir.columnWidth+"%",col6:6*Ir.columnWidth+"%",col7:7*Ir.columnWidth+"%",col8:8*Ir.columnWidth+"%",col9:9*Ir.columnWidth+"%",col10:10*Ir.columnWidth+"%",col11:11*Ir.columnWidth+"%",col12:12*Ir.columnWidth+"%"},Ir.zIndex={popups:"4",controls:"3",overlay:"2",base:"1"},Ir.field={height:"2.375rem"},Ir.buttons={default:{height:"2.5rem",fontSize:Ir.fontSizes.m},small:{height:"2.188rem",fontSize:Ir.fontSizes.base},xSmall:{height:"2.188rem",fontSize:Ir.fontSizes.xs}},Ir.font={baseFont:Nr.variables.baseFont},Ir.icons={info:Ir.iconPrefix+"icons/resources/notifications/info.svg",airCon:Ir.iconPrefix+"icons/resources/facilities/room/air-conditioning.svg",accessible:"/etc/clientlibs/pi-search-results/resources/images/grey-accessible.svg",parking:Ir.iconPrefix+"icons/resources/facilities/hotel/parking.svg",restaurant:Ir.iconPrefix+"icons/resources/facilities/hotel/restaurant.svg",chevronDown:"https://www.premierinn.com/etc.clientlibs/pi/clientlibs/icons/resources/navigation/chevron-down.svg"},Ir);function Ir(){}var Hr,Mr=(E(Wr,Hr=G),Wr);function Wr(e){void 0===e&&(e={});var t=oe.merge({fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.xs},e.style);return Hr.call(this,oe.merge(t,e))||this}var Br,Fr=(E(zr,Br=re),zr);function zr(e){void 0===e&&(e={});var t=Br.call(this,e)||this;return t.innerHtml='\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n            <g fill="none" fill-rule="evenodd">\n                <circle cx="16" cy="16" r="16" fill="#FFF"/>\n                <path fill="#58595B" d="M21.47 9.47L22.53 10.53 17.061 16 22.53 21.47 21.47 22.53 16 17.061 10.53 22.53 9.47 21.47 14.939 16 9.47 10.53 10.53 9.47 16 14.939z"/>\n            </g>\n        </svg>',t}var jr,Ur=(E(Vr,jr=G),Vr);function Vr(e){void 0===e&&(e={});var t=oe.merge({fontSize:Rr.fontSizes.h3,lineHeight:Rr.lineHeight.xs},e.style);return jr.call(this,oe.merge(t,e))||this}var $r,Gr=(E(Yr,$r=G),Yr);function Yr(e){void 0===e&&(e={});var t=oe.merge({fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.xs},e.style);return $r.call(this,oe.merge(t,e))||this}var Kr,Xr=(E(Zr,Kr=re),Zr.hasAcceptedCookies=function(){return-1<document.cookie.indexOf("hasAcceptedCookies=true")},Zr.prototype.toggleCookieBanner=function(){Zr.toggled?this.elementsForExpandedBanner():this.elementsForCollapsedBanner(),Zr.toggled=!Zr.toggled},Zr.prototype.elementsForCollapsedBanner=function(){this.wrapperToggled.style({display:"inline-block"}),this.wrapperExpanded.hide()},Zr.prototype.elementsForExpandedBanner=function(){this.wrapperToggled.hide(),this.wrapperExpanded.style({display:"inline-block"})},Zr.prototype.acceptCookies=function(){document.cookie="hasAcceptedCookies=true;max-age=2592000",this.hide()},Zr.toggled=!0,Zr);function Zr(e){var t=Kr.call(this,oe.merge({position:"fixed",display:"block",width:"100%",textAlign:"center",zIndex:"9000",bottom:"0",color:Rr.colours.primary.white,backgroundColor:Rr.colours.greyScale.darkest},e))||this;t.addEventListener(t,"click",function(e){e.sourceEvent.stopPropagation()});var n={lineHeight:Rr.lineHeight.s,fontSize:Rr.fontSizes.base,cursor:"pointer",border:"none",borderRadius:"0.2rem",fontWeight:Rr.fontWeights.bold,padding:Rr.spacing.xxs+" "+Rr.spacing.base},i=[{maxWidth:Rr.responsive.s,style:{paddingLeft:Rr.spacing.s,paddingRight:Rr.spacing.s}},{minWidth:Rr.responsive.s,style:{paddingLeft:Rr.spacing.m,paddingRight:Rr.spacing.m}}];t.contentWrapper=new re({maxWidth:"1140px",display:"inline-block"}),t.wrapperExpanded=new re({type:"wrapper-expanded",display:Zr.toggled?"none":"block",marginBottom:Rr.spacing.s,responsive:i});var r=new re({marginTop:Rr.spacing.s,position:"relative"}),o=new Fr({type:"cross-button-srp",fontSize:Rr.fontSizes.l,lineHeight:Rr.lineHeight.l,position:"absolute",color:Rr.colours.primary.white,width:Rr.fontSizes.s,height:Rr.fontSizes.s,top:"0",right:"0",cursor:"pointer"});o.addEventListener(t,"click",t.toggleCookieBanner),r.addChild(o),t.wrapperExpanded.addChild(r);var a=new Ur({text:Dr.content.cookiePolicy.additionalInfoHeading,display:"block",wordWrap:"normal",fontWeight:Rr.fontWeights.bold,lineHeight:Rr.lineHeight.l,marginBottom:Rr.fontSizes.m,textAlign:"left",marginTop:Rr.margin.m,marginRight:Rr.margin.s});t.wrapperExpanded.addChild(a);var s=new Gr({text:Dr.content.cookiePolicy.additionalInfoMainText,display:"block",wordWrap:"normal",type:"p",textAlign:"left",marginBottom:Rr.margin.m});t.wrapperExpanded.addChild(s);var l=new Gr({text:Dr.content.cookiePolicy.additionalInfoText+" ",type:"p",textAlign:"left"}),c=new Gr({text:Dr.content.cookiePolicy.cookieNoticeButton,type:"a",textAlign:"left",display:"inline",textDecoration:"underline",color:Rr.colours.primary.white,attributes:{href:Dr.content.cookiePolicy.cookiesURL,target:"_blank"}}),d=new Gr({text:" "+Dr.content.cookiePolicy.additionalInfoSubText,type:"p",textAlign:"left",display:"inline",paddingLeft:Rr.spacing.xxs});l.addChild(c),l.addChild(d),t.wrapperExpanded.addChild(s),t.wrapperExpanded.addChild(l),t.contentWrapper.addChild(t.wrapperExpanded);var h=new Pr({text:Dr.content.cookiePolicy.cookieAgreeButton,color:Rr.colours.primary.purple,backgroundColor:Rr.colours.primary.btn,display:"block",style:n});h.addEventListener(t,"click",t.acceptCookies),t.wrapperExpanded.addChild(h),t.wrapperToggled=new re({type:"wrapper-toggled",display:Zr.toggled?"block":"none",marginBottom:Rr.spacing.s,responsive:i});var u=new re({float:"left",responsive:[{maxWidth:Rr.responsive.m,style:{display:"block",maxWidth:"100%"}},{minWidth:Rr.responsive.l,style:{display:"inline-block",maxWidth:"50%"}}]}),p=new Mr({text:Dr.content.cookiePolicy.cookieBannerText+" ",type:"p",display:"inline-block",textAlign:"left"}),f=new Mr({text:Dr.content.cookiePolicy.cookieBannerLink,type:"a",display:"inline",lineHeight:Rr.lineHeight.subtext,textDecoration:"underline",color:Rr.colours.primary.white,attributes:{href:Dr.content.cookiePolicy.cookiesURL,target:"_blank"}}),g=new Mr({text:" "+Dr.content.cookiePolicy.cookieSubText,type:"p",display:"inline",lineHeight:Rr.lineHeight.subtext,textAlign:"left"});p.addChild(f),p.addChild(g),u.addChild(p),t.wrapperToggled.addChild(u);var m=new re({maxWidth:"50%",responsive:[{maxWidth:Rr.responsive.m,style:{textAlign:"left",marginTop:"0px",display:"block",float:"left",maxWidth:"100%"}},{minWidth:Rr.responsive.l,style:{marginTop:Rr.lineHeight.subtext,textAlign:"right",float:"right",display:"inline-block",maxWidth:"50%"}}]}),v=new Pr({text:Dr.content.cookiePolicy.additionalInfoLink,type:"cookie-notice-button-srp",color:Rr.colours.primary.white,backgroundColor:Rr.colours.secondary.darkest,marginBottom:Rr.lineHeight.m,display:"inline-block",marginRight:Rr.margin.m,style:n}),y=new Pr({type:"agree-toggled-button-srp",text:Dr.content.cookiePolicy.additionalAgreeButton,color:Rr.colours.primary.white,backgroundColor:Rr.colours.primary.btn,display:"inline-block",style:n});return y.addEventListener(t,"click",t.acceptCookies),v.addEventListener(t,"click",t.toggleCookieBanner),m.addChild(v),m.addChild(y),t.wrapperToggled.addChild(m),t.contentWrapper.addChild(t.wrapperToggled),t.addChild(t.contentWrapper),t}var qr=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in qr?qr.Promise.prototype.finally||(qr.Promise.prototype.finally=d):qr.Promise=f;var Jr=(Qr.filtersOpen=function(){return this.config.filtersOpen},Qr.suggestions=function(){return{domain:this.config.api.snowdrop.autocomplete.domain,method:this.config.api.snowdrop.autocomplete.method}},Qr.availabilities=function(){return{domain:this.config.api.domain,method:this.config.api.snowdrop.availabilities.method,dateless:this.config.api.snowdrop.availabilities.datelessUrl}},Qr.emailLandingPage=function(){return{domain:this.config.api.domain,method:this.config.api.emailLandingPage.method,availabilities:this.config.api.emailLandingPage.availabilitiesMethod,calendar:this.config.api.emailLandingPage.calendarMethod}},Qr.location=function(e){return this.config.locale===e.DE.country?{country:e.DE.country,language:e.DE.language,distanceFormat:e.DE.distanceFormat}:{country:e.GB.country,language:e.GB.language,distanceFormat:e.GB.distanceFormat}},Qr.slideOver=function(){return this.config.filtersOpen?{display:"inline-block",position:"",responsive:[{maxWidth:Rr.responsive.s,style:{padding:"1rem",position:"fixed",width:"15.63rem",boxShadow:"0 2px 4px "+Rr.colours.greyScale.darkest,backgroundColor:Rr.colours.neutral.dark}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{padding:"1rem",position:"fixed",width:"18.75rem",boxShadow:"0 2px 4px "+Rr.colours.greyScale.darkest,backgroundColor:Rr.colours.neutral.dark}},{minWidth:Rr.responsive.m-1,style:{padding:"0 1rem 0 0",position:"",width:"100%",boxShadow:"0 0 0 "+Rr.colours.greyScale.darkest,backgroundColor:"transparent"}}]}:{responsive:[{maxWidth:Rr.responsive.s,style:{width:"288px",padding:"12px 16px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"349px",padding:"12px 16px"}},{minWidth:Rr.responsive.m-1,maxWidth:Rr.responsive.l,style:{width:"409px",padding:"12px 23px"}},{minWidth:Rr.responsive.xl,style:{width:"437px",padding:"12px 27px"}}]}},Qr.closeFilterBtn=function(){return this.config.filtersOpen?{responsive:[{maxWidth:Rr.responsive.m-1,style:{display:"block"}},{minWidth:Rr.responsive.m-1,style:{display:"none"}}]}:{responsive:[{maxWidth:Rr.responsive.s-1,style:{left:"86%"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{left:"88%"}},{minWidth:Rr.responsive.m,style:{left:"89%"}}]}},Qr.filters=function(){return this.config.filtersOpen?{responsive:[{maxWidth:Rr.responsive.m-1,style:{backgroundColor:Rr.colours.neutral.dark}},{minWidth:Rr.responsive.m-1,style:{backgroundColor:"transparent"}}]}:{backgroundColor:Rr.colours.neutral.dark}},Qr.applyFilterButtons=function(){return this.config.filtersOpen?{responsive:[{maxWidth:Rr.responsive.m-1,style:{display:"block"}},{minWidth:Rr.responsive.m-1,style:{display:"none"}}]}:{display:"block"}},Qr.resetFiltersLink=function(){return{margin:"16px 0",width:"99%",textAlign:"left",height:"25px",fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.m}},Qr.listView=function(){return this.config.filtersOpen?{responsive:[{maxWidth:Rr.responsive.m-1,style:{width:"100%"}},{minWidth:Rr.responsive.m-1,style:{width:"77%"}}]}:{width:"100%"}},Qr.filtersSlide=function(){return this.config.filtersOpen?{verticalAlign:"top",responsive:[{maxWidth:Rr.responsive.m-1,style:{width:"100%",zIndex:"3",display:"block"}},{minWidth:Rr.responsive.m-1,style:{width:"23%",zIndex:"2",display:"inline-block"}}]}:{width:"100%",zIndex:"3"}},Qr.mapFiltersButton=function(){var e=this.config.filtersOpen?{responsive:[{maxWidth:Rr.responsive.m-1,style:{display:"inline-block"}},{minWidth:Rr.responsive.m-1,style:{display:"none"}}]}:{style:{display:"inline-block"},responsive:[{maxWidth:Rr.responsive.s-1,style:{width:"135px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.l-1,style:{width:"162px"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{width:"184px"}},{minWidth:Rr.responsive.xl,style:{width:"198px"}}]};return e},Qr.emailLandingView=function(){if(void 0!==this._isEmailLandingView)return this._isEmailLandingView;var e=this.config.experiments.emailLandingPagesCode;return 0!==e.length&&-1!==window.location.search.indexOf(e)&&xr.getParam("CAMPAIGNPRICE").length&&xr.getParam("ALTPRICE").length?this._isEmailLandingView=!0:this._isEmailLandingView=!1},Qr.showPriceFilter=function(){return this.config.features.campaignPriceFlag&&0<Number(Dr.content.filter.label.underPriceValue)},Qr);function Qr(){}var eo=(to.updateRoute=function(e){var t="",n=wr.create(e,"",e.code);n&&(e.preservedQS&&(t=Ni.createQS(e.preservedQS)),Jr.emailLandingView()||history.replaceState(null,null,n+(t?"&"+t:"")))},to);function to(){}var no={arrivalDateToday:!1,available:!0,cellCodes:[],distance:0,hotelBrand:"",hotelCode:"",hotelInfo:{address:{addressline1:"",addressline2:"",addressline3:"",country:"",postcode:""},brand:"",code:"",facilities:[{code:"",legend:""}],guestRating:{likelihoodToRecommend:0,rateLowerRange:0,rateUpperRange:0,rating:0,sampleSize:0,stepSize:0},hotelOpeningDate:"",headline:"",images:[{fileReference:""}],links:{detailsPage:""},map:{latitude:0,longitude:0},messagingFlag:{flagColor:"",flagText:""},name:"",price:{fromPrice:{amount:0,currencyCode:""},averagePrice:{amount:0,currencyCode:""}},restaurant:{brand:"",name:""},tripAdvisor:{hotelId:"",linkUrl:"",rateLowerRange:0,rateUpperRange:0,rating:0,ratingImageUrl:"",sampleSize:0,stepSize:0,tripAdvisorId:""}},index:0,limitedAvailability:!1,ratePlans:[]},io=(Object.defineProperty(ro,"config",{get:function(){return ro._config},set:function(e){ro._config=e},enumerable:!1,configurable:!0}),ro.buildAvailabilitiesRequest=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=ro.config.api.initialPageSize);var i=e.roomData.reduce(function(e,t){return{adults:ro.buildCSVString(e.adults,t.adults.toString()),children:ro.buildCSVString(e.children,t.children.toString()),cot:ro.buildCSVString(String(e.cot),String(t.cot)),roomType:ro.buildCSVString(e.roomType,t.roomType)}},{adults:"",children:"",cot:"",roomType:""}),r=Jr.availabilities(),o=r.domain,a=r.method,s=fi.getDateFormat(ro.config.locale,"short"),l=this.getLocation(e),c=l.location,d=l.locationFormat,h=l.country,u=l.language,p=l.distanceFormat,f=e.cellCodes&&"string"==typeof e.cellCodes?e.cellCodes.toUpperCase():"";1<t&&(n=ro.config.api.lazyLoadPageSize);var g=ro.config.api.sortResultsKey,m=g?{sort:g}:{};if(ro.config.api.connectivity){var v=h.toLowerCase(),y=u.toLowerCase();return{params:b({bookingChannel:e.bookingChannel?e.bookingChannel:this.config.bookingChannel.leisure,location:c,locationFormat:d,arrival:hi(e.arrivalDate).format(s),departure:hi(e.departureDate).format(s),adults:i.adults,children:i.children,cot:i.cot,type:i.roomType,rooms:e.roomData.length,cellCodes:f,page:t,size:n,country:v,language:y,radiusUnit:p,companyId:e.companyId?e.companyId:null,employeeId:e.employeeId?e.employeeId:null},m),url:""+o+a}}return{url:a}},ro.buildDatelessRequest=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=ro.config.api.initialPageSize);var i=this.getLocation(e),r=i.location,o=i.locationFormat,a=i.country,s=i.language,l=i.distanceFormat,c=Jr.availabilities(),d=c.domain,h=c.dateless;return 1<t&&(n=ro.config.api.lazyLoadPageSize),ro.config.api.connectivity?{params:{bookingChannel:"WEB",location:r,locationFormat:o,size:n,page:t,country:a.toLowerCase(),language:s.toLowerCase(),radiusUnit:l},url:""+d+h}:{url:h}},ro.buildEmailLandingAvailabilities=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=ro.config.api.initialPageSize);var i=this.getLocation(e),r=i.location,o=i.locationFormat,a=i.country,s=i.language,l=i.distanceFormat,c=Jr.emailLandingPage(),d=c.domain,h=c.method,u=c.availabilities;if(1<t&&(n=ro.config.api.lazyLoadPageSize),ro.config.api.connectivity){var p=a.toLowerCase(),f=s.toLowerCase(),g=xr.getParam("CAMPAIGNSTARTDATE"),m=xr.getParam("CAMPAIGNENDDATE"),v=xr.getParam("ALTPRICE"),y=xr.getParam("CAMPAIGNPRICE"),b=xr.getParam("searchModel.searchTerm").toLowerCase(),w=!!ro.config.experiments.alternativePricePlaces.filter(function(e){return-1<b.indexOf(e.toLocaleLowerCase())})[0]?v:y,C=new Date,x=C>new Date(g),S=fi.addLeadingZero(C.getDate()),k=fi.addLeadingZero(C.getMonth()+1),D=C.getFullYear(),E=e.roomData[0].roomType,g=x?D+"-"+k+"-"+S:g;return{params:{campaignPrice:w,location:r,locationFormat:o,size:n,page:t,country:p,language:f,radiusUnit:l,radius:ro.config.api.radius,startDate:g,endDate:m,roomType:E},url:""+d+h+u}}return{url:u}},ro.mapSnowdropResponse=function(e){for(var t in e){e.hasOwnProperty(t)&&e[t].map(function(e){e.suggestion&&(e.name=e.suggestion),e.geometry&&(e.location={longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]}),e.code&&(e.isHotel=!0,e.hotelId=e.code)})}var n=ro.config.api.snowdrop.autocomplete,i=n.managedPlacesSize,r=n.googlePlacesSize,o=n.defaultResponseLength,a=i||o,s=e.managedPlaces.splice(0,a),l=s.length<a?o-s.length:r||o;return w(s,e.places.splice(0,l),e.properties)},ro.buildCSVString=function(e,t){return""!==e?e+","+t:t},ro.getLocation=function(e){var t,n=Jr.location(ui.LOCALE),i=n.country,r=n.language,o=n.distanceFormat,a=e.placeId&&0<e.placeId.length?(t=e.placeId,ui.LOCATION_FORMATS.placeId):e.managedPlaceId&&0<e.managedPlaceId.length?(t=e.managedPlaceId,ui.LOCATION_FORMATS.managedPlaceId):(t=e.location.latitude+","+e.location.longitude,ui.LOCATION_FORMATS.latLong);return{location:t,locationFormat:a,country:i,language:r,distanceFormat:o}},ro.CONFIG_URL="config-url",ro.HEADER_CONFIG_URL="header-config-url",ro);function ro(){}var oo=(Object.defineProperty(ao,"config",{set:function(e){io.config=e},enumerable:!1,configurable:!0}),ao.hotel=function(e,t){void 0===t&&(t=0);var n=io.buildDatelessRequest(e,t);return Li.get({url:n.url,params:n.params}).then(function(e){var t=e.hotels;return t.length?ao.getNormalisedHotels(t,e.total):{availableHotels:[],total:e.total}})},ao.availabilities=function(e,t,n){void 0===t&&(t=0);var i=Jr.emailLandingView()?io.buildEmailLandingAvailabilities(e,t,n):io.buildAvailabilitiesRequest(e,t,n);return Li.get({url:i.url,params:i.params}).then(function(e){var t=Jr.emailLandingView()?e.hotels:e.hotelAvailabilities;return t.length?ao.getNormalisedHotels(t,e.total):{availableHotels:[],total:e.total}})},ao.content=function(){var e=document.getElementById(io.CONFIG_URL).getAttribute("href");return Li.get({url:e})},ao.headerContent=function(){var e=document.getElementById(io.HEADER_CONFIG_URL).getAttribute("href");return Li.get({url:e})},ao.hotelInfo=function(e){return Li.get({url:io.config.api.connectivity?""+io.config.api.domain+io.config.api.snowdrop.availabilities.hotels+"/"+e:io.config.api.snowdrop.availabilities.hotels,params:{format:"SHORT"}})},ao.hotelPath=function(){return io.config.hotelDetails.hotelPath},ao.getNormalisedHotels=function(e,t){return{availableHotels:e.map(function(e){return oe.immutableMerge(no,e)}),total:t}},ao);function ao(){}var so=(lo.currencySymbol=function(e){return ui.CURRENCY[e]?ui.CURRENCY[e]:ui.CURRENCY.GBP},lo.priceInteger=function(e){return parseInt(e,10).toString()},lo.priceFraction=function(e){return Number(e).toFixed(2).split(".")[1]},lo.cheapestRatePlan=function(e){var n=this;return e.reduce(function(e,t){return n.planPrice(e)>n.planPrice(t)?t:e})},lo.flexRatePlan=function(e){var t;return e.some(function(e){return"A"===e.classification&&(t=e,!0)}),t},lo.formatPrice=function(e,t){return ui.LOCALE[t].currencyFirst?""+this.currencySymbol(e.currency)+e.amount:e.amount.replace(".",",")+" "+this.currencySymbol(e.currency)},lo.removeRedundantDecimal=function(e){return e.replace(/[.|,]00/,"")},lo.planPrice=function(e){return parseFloat(e.totalCost.amount)},lo);function lo(){}var co=(ho.hasHotelOpened=function(e){if(e.hotelInfo&&e.hotelInfo.hotelOpeningDate){var t=this.adaptDate(e.hotelInfo.hotelOpeningDate);if(new Date<t&&e.hasOwnProperty("available")&&!e.available)return!1;if(e.ratePlans)return!0}return!0},ho.isHotelFullyBooked=function(e){return e.ratePlans&&0===Object.keys(e.ratePlans).length&&!e.available},ho.adaptDate=function(e){var t=parseInt(e.split(" ")[0].split("-")[0],10),n=parseInt(e.split(" ")[0].split("-")[1],10)-1,i=parseInt(e.split(" ")[0].split("-")[2],10);return new Date(Date.UTC(t,n,i))},ho);function ho(){}var uo=(po.isIframeReadyEvent=function(e){return this.isUserLoggedOutEvent(e)||this.isUserLoggedInEvent(e)},po.isUserLoggedOutEvent=function(e){return this.extractEventAction(e)===this.IFRAME_USER_LOGGED_OUT},po.isUserLoggedInEvent=function(e){return this.extractEventAction(e)===this.IFRAME_USER_LOGGED_IN},po.extractEventAction=function(e){return e.data.action||e.data},po.IFRAME_USER_LOGGED_OUT="userLoggedOut",po.IFRAME_USER_LOGGED_IN="userLoggedIn",po);function po(){}var fo=(go.setDefaultData=function(){this.add({browserTimeZone:this.getBrowserTimeZone(),currencyCode:ui.LOCALE[this.config.locale].currencyCode,currentTime:fi.getCurrentTime(),environment:"",language:ui.LOCALE[this.config.locale].language,breakPoint:this.getPageBreakpoint(),pageName:"Premier Inn Search Results",pageType:"search",pageURL:window.location.href,siteSection1:this.getSiteSection(0),siteSection2:this.getSiteSection(1),siteSection3:this.getSiteSection(2),siteSection4:this.getSiteSection(3),siteSection5:this.getSiteSection(4),siteSection6:this.getSiteSection(5),siteSection7:this.getSiteSection(6),siteType:"AEM 5.6",userLogin:"Not Logged In",userID:""}),window.addEventListener("message",this.handleAnalyticsOnLogin)},go.handleAnalyticsOnLogin=function(e){var t;uo.isUserLoggedInEvent(e)&&(t=JSON.parse(e.data.profile),go.add({userID:t.guestHistoryNumber,userLogin:"Logged In"}),t.business&&t.companyId&&go.add({companyId:t.companyId,userLevel:t.business.accessLevel}))},go.satelliteOnload=function(e){this.config=e.config,this.content=e.content,this.setDefaultData();var t=window._satellite;try{t.setDebug(!0)}catch(e){console.warn("satellite does not exist")}},go.convertToLowerCase=function(e){for(var t in e)"string"==typeof e[t]?e[t]=e[t].toLowerCase():"object"==typeof e[t]&&this.convertToLowerCase(e[t]);return e},go.add=function(e,t){void 0===t&&(t="analyticsData"),e&&(e.currentTime=fi.getCurrentTime(),e.breakPoint=this.getPageBreakpoint(),e=this.convertToLowerCase(e),window[t]=oe.merge(window[t],e))},go.track=function(e){var t=window._satellite;try{t.track(e)}catch(e){console.error(e.message)}},go.getPageLoadTime=function(){var e=(new Date).getTime()-window.performance.timing.domLoading;return Math.round(Math.floor(e)/1e3)},go.getBrowserTimeZone=function(){return window.Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:null},go.getUrl=function(){return window.location.protocol+"//"+window.location.hostname+window.location.pathname},go.getPageName=function(){return window.location.pathname.replace(/\.html/,"").split("/").pop()},go.getQueryParam=function(){var e=window.location.search.slice(1).replace(/&(?=[a-zA-Z0-9]+\=)/g,'","').replace(/=/g,'":"');if(e)try{return JSON.parse('{"'+e+'"}',function(e,t){return""===e?t:decodeURIComponent(t)})}catch(e){return!1}return!1},go.getPageBreakpoint=function(){var e=window.innerWidth,t=Rr.responsive.xl,n=Rr.responsive.l,i=Rr.responsive.m,r=Rr.responsive.s;return t<=e?"Extra Large":n<=e?"Large":i<=e?"Medium":r<=e?"Small":"Extra Small"},go.getSiteSection=function(e){var t=window.location.pathname.split("/");return t[e]?t[e].replace(/\.html/,""):""},go.getEndDate=function(e,t){e=fi.formatDateTimeString(e,0);var n=new Date(e);return n.setDate(e.getDate()+t),fi.addLeadingZero(n.getDate())+"/"+fi.addLeadingZero(n.getMonth()+1)+"/"+n.getFullYear()},go.totalNumberOfRooms=function(e){return-1<e.indexOf(":")?Number(e.split(":").length):1},go.weekdaysFromTo=function(e,t){return fi.getWeekday(e)+"-"+fi.getWeekday(t)},go.stayDetailsUpdate=function(e,t,n){var i=e.name,r=e.nights,o=e.arrivalDate,a=e.departureDate,s=this.getQueryParam().VIEW;n=n||new Date;var l=s+" view",c="",d="",h="",u="",p="",f="",g="",m="",v="",y="",b="",w="";e.dateless||(c=r,d=fi.formatDate(o),h=fi.formatDate(a),f=(u=this.getNumberOfAdults(e.roomData))+(p=this.getNumberOfChildren(e.roomData)),g=this.daysToCheckIn(e.arrivalDate,n),m=this.concatRoomTypes(e.roomData),v=(y=fi.getWeekday(d))+"-"+(b=fi.getWeekday(h)),w=e.roomData.length),this.add({analyticsDataSearchResult:{searchType:l,searchTerm:i,searchNumberOfNights:c,searchNumberOfRooms:w,searchCheckInDate:d,searchCheckOutDate:h,searchNumberOfAdults:u,searchNumberOfChildren:p,searchNumberOfGuests:f,searchDaysToCheckIn:g,searchRoomType:m,searchResults:t,searchWeekdayFromTo:v,searchWeekdayFrom:y,searchWeekdayTo:b}})},go.lazyLoadUpdate=function(e){this.add({analyticsDataSearchResult:{addedResults:e}})},go.updateELPParams=function(e){var t=e.campaignPrice,n=e.getStartDate,i=e.getEndDate;this.add({calendarCacheStartDate:new Date(n).toLocaleDateString("en-GB"),calendarCacheEndDate:new Date(i).toLocaleDateString("en-GB"),calendarCachePriceCap:t})},go.cheapestDate=function(e){this.add({pageName:"Search Results List Calendar Cache",pageType:"Calendar Cache",landingDate:new Date(e.date).toLocaleDateString("en-GB"),landingDatePrice:parseFloat(e.price).toFixed(2)})},go.createAnalyticsHotelArray=function(e,h){var u=this;void 0===e&&(e=[]),window.analyticsData&&window.analyticsData.analyticsDataSearchResult&&window.analyticsData.analyticsDataSearchResult.searchResultsDisplayed&&(window.analyticsData.analyticsDataSearchResult.searchResultsDisplayed=[]);var p=0,f={},t=e.map(function(e){var t,n,i,r,o,a,s,l,c;h.dateless?(t=e.hotelInfo.price&&e.hotelInfo.price.fromPrice?e.hotelInfo.price.fromPrice:null,f={from:{currencyCode:t?t.currencyCode:"",description:"",price:t?String(t.amount):"",rateCode:"",text:""}}):e.ratePlans&&e.ratePlans.length&&(r=(i=(n=u.config.experiments.flexOnlyRate?so.flexRatePlan(e.ratePlans):so.cheapestRatePlan(e.ratePlans)).totalCost).currency,o=i.amount,a=n.code,s=n.description,c={currencyCode:r,description:(l=n.name)?"premier "+l.toLowerCase():"",price:o,rateCode:a,text:s,lettingType:n.rooms.map(function(e){return e.lettingType}).join("_"),cellCode:h.cellCodes?h.cellCodes:""},f={0:c}),p++;var d={hotelCode:e.hotelCode,hotelAvailability:e.available?"available":"unavailable",hotelDistance:e.distance,hotelLabel:u.getHotelLabels(e),hotelResultPosition:p,hotelFacilityIcons:"",hotelRates:f};return h.dateless&&(d.hotelAvailability="unchecked"),d});this.add({analyticsDataSearchResult:{searchResults:t.length,searchResultsDisplayed:t,newSearch:!1}})},go.clearHotelList=function(){this.hotelList=[]},go.setFilters=function(n){var i;n&&Object.keys(n).length&&(i="",Object.keys(n).forEach(function(t){n[t]&&n[t].options&&n[t].options.length&&("parking"===t?n[t].options.filter(function(e){return e.checked}).length&&Object.keys(n[t].radios).filter(function(e){return n[t].radios[e].checked}).map(function(e){return i+=n[t].radios[e].text+","}):n[t].options.filter(function(e){return e.checked}).map(function(e){return i+=e.label+","}))}),i=i.substr(0,i.length-1),this.add({analyticsDataSearchResult:{searchFilter:i}}))},go.setSortBy=function(e){this.add({analyticsDataSearchResult:{searchSort:"sort by: "+e}})},go.setAsNewSearch=function(){this.add({analyticsDataSearchResult:{newSearch:!0}})},go.daysToCheckIn=function(e,t){return hi(e).startOf("day").diff(hi(t).startOf("day"),"day")},go.getEvent=function(e,t){void 0===t&&(t=!1);var n=t?"DATELESS":"DATED";return this.EVENTS[e][n]},go.validationMessaging=function(e){this.add({validation:e||""})},go.getHotelLabels=function(e){var t=[];return e.hotelInfo.messagingFlag&&e.hotelInfo.messagingFlag.flagText&&t.push(e.hotelInfo.messagingFlag.flagText),e.limitedAvailability&&t.push(this.content.results.result.availabilityWarning),co.hasHotelOpened(e)&&co.isHotelFullyBooked(e)&&t.push(this.content.results.result.fullyBooked),co.hasHotelOpened(e)||t.push(this.content.results.result.openingSoon),t.length||t.push(this.content.analytics.noLabel),t.join(", ")},go.getNumberOfAdults=function(e){return e.reduce(function(e,t){return e+t.adults},0)},go.getNumberOfChildren=function(e){return e.reduce(function(e,t){return e+t.children},0)},go.concatRoomTypes=function(e){return e.map(function(e){return e.roomTypeName}).join(":")},go.hotelList=[],go.EVENTS={SEARCH_LIST:{DATED:"avCheckedSearchList",DATELESS:"avUncheckedSearchList",ELP:"avUncheckedSearchListCalendarCache",ELP_MORE:"avUncheckedMoreResultsCalendarCache"},LAZY_LOAD:{DATED:"avCheckedMoreResults",DATELESS:"avUncheckedMoreResults"},SEARCH_MAP:{DATED:"avCheckedMap",DATELESS:"avUncheckedMap"},FILTER_UPDATE:{DATED:"avCheckedFilter",DATELESS:"avUncheckedFilter"},SORT_UPDATE:{DATED:"avCheckedSort",DATELESS:"avUncheckedSort"},CALENDAR_CACHE:{OPEN:"openCalendarCache",PREVIOUS:"openCalendarEarlierMonth",NEXT:"openCalendarLaterMonth"}},go);function go(){}var mo,vo=(E(yo,mo=re),yo);function yo(e){void 0===e&&(e={});var t=mo.call(this,e)||this;return t.innerHtml='<svg display="block" pointer-events="none" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 48 48"><g fill="none" fill-rule="evenodd"><path fill="#BED600" d="M22.5 0C10.074 0 0 9.973 0 22.275c0 10.122 6.822 18.667 16.161 21.377.886.269 1.68.747 2.32 1.379L22.5 49l4.019-3.97a5.632 5.632 0 0 1 2.319-1.378C38.179 40.942 45 32.397 45 22.275 45 9.973 34.927 0 22.5 0z"/><path fill="#FFF" d="M32 32.32c0 .958-.73 1.68-1.699 1.68-.987 0-1.731-.722-1.731-1.68v-8.87c0-2.91-1.577-4.578-4.327-4.578-2.79 0-4.813 2.031-4.813 4.83v8.618c0 .958-.731 1.68-1.7 1.68-.986 0-1.73-.722-1.73-1.68V10.68c0-.957.73-1.68 1.698-1.68.972 0 1.732.738 1.732 1.68v6.73c1.355-1.145 3.077-1.743 5.04-1.743 4.574 0 7.53 2.945 7.53 7.5v9.153z"/></g></svg>',t}var bo,wo=(E(Co,bo=re),Co);function Co(e){void 0===e&&(e={});var t=bo.call(this,e)||this;return t.innerHtml='<svg display="block" pointer-events="none" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 45 45"><g fill="none" fill-rule="evenodd"><path fill="#511E62" d="M22.395 0C10.027 0 0 9.918 0 22.152c0 12.234 10.027 22.152 22.395 22.152 12.37 0 22.396-9.918 22.396-22.152C44.79 9.918 34.764 0 22.395 0"/><g fill-rule="nonzero"><path fill="#FDB913" d="M13.456 24.595c1.47-.24 2.336-.542 2.336-.542a24.73 24.73 0 0 0-2.315-.407c.323-.553.594-.99.938-1.491 0 0-1.011.427-1.762.99 0 0-.334-.646-.699-1.21 0 0-.177.564-.354 1.513-1.012-.073-1.658-.073-1.658-.073.51.51 1.063.97 1.063.97a11.324 11.324 0 0 0-1.501 1.407c.615-.24 1.21-.354 1.825-.532a18.834 18.834 0 0 0-.094 2.242s.427-.876 1.136-2.096c.95.699 1.93 1.325 1.93 1.325a15.812 15.812 0 0 0-.845-2.096M12.663 15.721c2.002-.01 3.222-.24 3.222-.24a37.704 37.704 0 0 0-2.96-1.084 32.146 32.146 0 0 1 1.605-1.856s-1.44.375-2.576.98c0 0-.281-.97-.625-1.825 0 0-.376.74-.845 2.013-1.324-.334-2.169-.47-2.169-.47a24.727 24.727 0 0 0 1.179 1.575c-1.377.782-2.315 1.616-2.315 1.616.876-.198 1.678-.219 2.544-.333-.26.938-.49 1.939-.678 3.086 0 0 .782-1.116 2.013-2.648a55.782 55.782 0 0 0 2.22 2.262 24.927 24.927 0 0 0-.615-3.076M20.89 11.832c1.085-.042 1.742-.177 1.742-.177a17.318 17.318 0 0 0-1.616-.543c.292-.385.531-.688.844-1.032 0 0-.782.23-1.376.574 0 0-.167-.522-.365-.98 0 0-.188.406-.428 1.105a18.346 18.346 0 0 0-1.178-.22c.302.428.667.835.667.835-.73.448-1.23.918-1.23.918.47-.126.907-.146 1.376-.22-.125.511-.24 1.054-.312 1.68 0 0 .406-.626 1.053-1.47.605.625 1.24 1.188 1.24 1.188-.135-.636-.281-1.2-.417-1.658"/><path fill="#FFF" d="M28.044 19.454a8.576 8.576 0 0 1-.24 1.053c-.115.407-.22.626-.22.626-.208.427-.49.855-.792 1.178-.219.24-.375.407-.72.699-.103.083-.197.156-.291.24-.5.396-1.001.698-1.46.938-.26.136-.51.26-.74.365-.324.156-.595.282-.772.386-.24.125-.427.344-.459.615-.031.302.146.574.355.772.146.156.636.438.792.771.094.188.094.417-.125.636l-.094.084c-.354.27-.594.469-.76.584-.22.146-.282.25-.314.396-.02.344.22.521.46.72.312.27.938.719 1.75 1.042.491.198 1.064.344 1.68.365h.365c.458-.01.041.25.041.25-2.575 1.325-4.754-.594-5.36-1.147-.104-.094-.177-.146-.177-.146-.448-.302-1.021.01-1.032.01l-.042.022a15.397 15.397 0 0 1-6.308 1.334 15.99 15.99 0 0 1-3.702-.448c-.073-.02-.146-.02-.23-.02a1.05 1.05 0 0 0-.833 1.688l.031.042a16.48 16.48 0 0 0 12.899 6.173c9.102 0 16.475-7.32 16.475-16.35 0-7.966-5.735-14.598-13.337-16.058h-.031c-.063-.01.073.01 0 0-.845-.125-1.272.459-1.272 1.053 0 .303.125.584.333.772l.021.02c2.617 2.451 4.223 5.83 4.223 9.552 0 .594-.041 1.178-.125 1.752l.01.031zm1.345 5.662c-.855-.5-.939-1.387-.939-1.387s-.104-1.22.25-.417a2.539 2.539 0 0 0 1.054 1.158h.01s.657.427 1.522.354c.866-.073-.24.428-.24.428s-.813.365-1.657-.136z"/></g></g></svg>',t}var xo,So=(E(ko,xo=re),ko);function ko(e){void 0===e&&(e={});var t=xo.call(this,e)||this;return t.innerHtml='<svg display="block" pointer-events="none" xmlns="http://www.w3.org/2000/svg" width="22px" height="22px" viewBox="0 0 30 30"><g fill="none" fill-rule="evenodd"><circle cx="15" cy="15" r="15" fill="#FC0F42"/><g fill="#FFF" fill-rule="nonzero"><path d="M12.25 12.439l-3.371 4.62h3.37v1.891H6v-1.439l3.37-4.619H6V11h6.25zM16.352 11v7.95h-2.1V11zM24.987 13.719c0 1.733-1.118 2.743-3.03 2.743h-1.262v2.488h-2.1V11h3.362c1.912 0 3.03.986 3.03 2.719zm-2.108 0c0-.644-.431-.938-.937-.938h-1.255v1.9h1.255c.506 0 .937-.326.937-.962z"/></g></g></svg>',t}var Do=(Eo.formatter=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n},Eo);function Eo(){}var Oo=(Lo.sortPrice=function(e){var n=this;return e.forEach(function(e){Jr.emailLandingView()||e.ratePlans.sort(function(e,t){return parseFloat(e.totalCost.amount)>parseFloat(t.totalCost.amount)?1:-1})}),e.sort(function(e,t){return e.available&&t.available?Jr.emailLandingView()?n.sortByBestPrice(e,t):n.sortByPrice(e,t):n.sortByAvailable(e,t,!1)}),e},Lo.sortDistance=function(e){var n=this;return e.sort(function(e,t){return e.available&&t.available?n.magicSort(e.distance,t.distance):n.sortByAvailable(e,t,!0)})},Lo.sortByAvailable=function(e,t,n){if(void 0===n&&(n=!1),!e.available&&t.available)return 1;if(!e.available&&!t.available){if(co.hasHotelOpened(e)&&!co.hasHotelOpened(t))return 1;if(co.hasHotelOpened(e)===co.hasHotelOpened(t))return n?Lo.magicSort(e.distance,t.distance):e.hotelInfo&&t.hotelInfo?Lo.magicSort(e.hotelInfo.name,t.hotelInfo.name):Lo.magicSort(e.hotelCode,t.hotelCode)}return-1},Lo.magicSort=function(e,t){return t<e?1:-1},Lo.sortByPrice=function(e,t){var n=e.ratePlans,i=t.ratePlans;if(0<n.length&&0<i.length){if(parseFloat(n[0].totalCost.amount)>parseFloat(i[0].totalCost.amount))return 1}else{if(0===n.length&&parseFloat(i[0].totalCost.amount)<0)return 1;if(0===i.length&&0<parseFloat(n[0].totalCost.amount))return 1}return-1},Lo.sortByBestPrice=function(e,t){var n=e.bestPrice,i=t.bestPrice;if(n&&i){if(parseFloat(n.amount)>parseFloat(i.amount))return 1}else{if(0===n.length&&parseFloat(i.amount)<0)return 1;if(0===i.length&&0<parseFloat(n.amount))return 1}return-1},Lo);function Lo(){}var Ao=(Po.filterResults=function(e,t){var a=this;return void 0===e&&(e={hotels:[],facilities:[],parking:[],accessibleRoom:[],pricePerNight:[]}),this.filters=e,this.areAnyFilters()?t.filter(function(e){var t=a.resultHotelBrandMatchesFilterHotelBrand(e),n=a.resultFacilitiesMatchFilterFacilities(e),i=a.resultParkingFilterParking(e),r=a.resultAccessibleRoomsMatchFilterFacilities(e),o=a.resultPricePerNightMatchFilter(e);return n&&t&&i&&r&&o}):t},Po.areAnyFilters=function(){return 0<this.filters.hotels.length||0<this.filters.facilities.length||0<this.filters.parking.length||0<this.filters.accessibleRoom.length||0<this.filters.pricePerNight.length},Po.resultParkingFilterParking=function(e){return!this.filters.parking.length||this.filters.parking.some(function(t){return e.hotelInfo.facilities.some(function(e){return t===e.code})})},Po.resultHotelBrandMatchesFilterHotelBrand=function(e){return 0===this.filters.hotels.length||3===this.filters.hotels.length||-1<this.filters.hotels.indexOf(e.hotelBrand)},Po.resultAccessibleRoomsMatchFilterFacilities=function(e){return!this.filters.accessibleRoom.length||this.filters.accessibleRoom.every(function(t){return e.hotelInfo.facilities.some(function(e){return t===e.code})})},Po.resultPricePerNightMatchFilter=function(e){if(!e.ratePlans.length&&!Jr.emailLandingView())return!1;if(this.filters.pricePerNight.length){var t=this.filters.pricePerNight,n=void 0,n=Jr.emailLandingView()?e.bestPrice:Dr.config.experiments.flexOnlyRate?so.flexRatePlan(e.ratePlans).totalCost:so.cheapestRatePlan(e.ratePlans).totalCost,i=Number(n.amount),r=Dr.state.price?Number(Dr.state.price):Number(Dr.content.filter.label.underPriceValue),o=i<=r,a=r<=i;return-1<t.indexOf(Dr.content.filter.code.underPrice)&&-1<t.indexOf(Dr.content.filter.code.overPrice)||(-1<t.indexOf(Dr.content.filter.code.underPrice)?o:a)}return!0},Po.resultFacilitiesMatchFilterFacilities=function(e){var n=this;return!this.filters.facilities.length||this.filters.facilities.every(function(t){return t===Dr.content.filter.code.restaurant?n.restaurantExist(e):e.hotelInfo.facilities.some(function(e){return t===e.code})})},Po.isRestaurantFilterSelected=function(){return 0<=this.filters.facilities.indexOf(Dr.content.filter.code.restaurant)},Po.resultHasValidRestaurantAttributes=function(e){return!!e.hotelInfo.restaurant&&(""!==e.hotelInfo.restaurant.brand&&""!==e.hotelInfo.restaurant.name)},Po.restaurantExist=function(e){return this.isRestaurantFilterSelected()&&this.resultHasValidRestaurantAttributes(e)},Po);function Po(){}var To,No=(E(_o,To=n),Object.defineProperty(_o,"sort",{get:function(){return this._sort},set:function(e){this._sort=e,this._hotels=this.applyFiltersAndSort(this.allHotels),fo.createAnalyticsHotelArray(this.allHotels,Dr.state.stayDetails),this.isFirstSearch||fo.track(fo.getEvent("SORT_UPDATE",Dr.state.stayDetails.dateless))},enumerable:!1,configurable:!0}),_o.updateFilters=function(e){this.filters=e,this.filterUpdatePending=!0,this._hotels=this.applyFiltersAndSort(this.allHotels),fo.createAnalyticsHotelArray(this._hotels,Dr.state.stayDetails)},Object.defineProperty(_o,"hotels",{get:function(){return this._hotels},set:function(e){this.allHotels=w(this.allHotels,e),this._hotels=this.applyFiltersAndSort(this.allHotels),this.newHotel=w(e)},enumerable:!1,configurable:!0}),Object.defineProperty(_o,"newHotels",{get:function(){return this.newHotel},enumerable:!1,configurable:!0}),_o.setHotel=function(e){this.hotel=e,this.setHotelName(),this.setHotelCode()},_o.applyFiltersAndSort=function(e){return this.filters&&(e=Ao.filterResults(this.filters,e)),fo.setSortBy(this._sort),this._sort===si.Price?Oo.sortPrice(e):Oo.sortDistance(e)},_o.clearHotels=function(){this.allHotels=[],this.resultPageNum=1},_o.removeHotelCard=function(){return this.removeMapHotelCard=!this.removeMapHotelCard},_o.lazyLoadHotels=function(){this.resultPageNum=this.allHotels.length?Math.ceil(this.allHotels.length/10):1,this.resultPageNum++,this.availabilitiesError=!1,this.hotelAvailabilities()},_o.requestHotels=function(){var e;Jr.emailLandingView()&&(e=Dr.config.experiments.emailLandingPagesSorting,this.sort=e||si.Distance),this.allHotels=[],this._hotels=[],this.resultPageNum=1,this.availabilitiesError=!1,this.hotelAvailabilities()},_o.displayUnavailableMessage=function(e){var t,n=Dr.content.results.notifications,i=n.openingSoon,r=n.fullyBooked;!e&&Jr.emailLandingView()?this.hotelUnavailable=r:e&&e.hotelInfo.map&&Dr.state.stayDetails.location&&(t=co.hasHotelOpened(e)?r:i,this.hotelUnavailable=t)},_o.handleAvailabilitesError=function(){this.clearHotels(),this.availabilitiesError=!0,this.hotelUnavailable=""},_o.hotelAvailabilities=function(){return t(this,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:if(!Dr.state.stayDetails||!Dr.state.stayDetails.name)return[3,5];this.resultsLoading=!0,t=void 0,t=!Jr.emailLandingView()&&Dr.state.stayDetails.dateless?oo.hotel:oo.availabilities,n=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t(Dr.state.stayDetails,this.resultPageNum)];case 2:return n=e.sent(),[3,4];case 3:return e.sent(),this.availabilitiesError=!0,[3,4];case 4:this.hotelUnavailable="",this.totalAvailableHotelsNumber=n&&n.availableHotels?n.availableHotels.length:0,n&&((!n.availableHotels||0<n.total&&!n.availableHotels.length)&&(this.availabilitiesError=!0),this.totalHotelsNumber=n.total,this.hotels=n.availableHotels,this.warningMessage(),this.fireSearchAnalytics(n.availableHotels)),this.resultsLoading=!1,e.label=5;case 5:return this.isFirstSearch=!1,[2]}})})},_o.warningMessage=function(){var e,t;this.allHotels.length===_o.totalHotelsNumber&&!_o.hotels.length&&Dr.state.filters.length?(e=Dr.content.results.notifications.noFilteredHotels,fo.validationMessaging(e)):!(t=this.allHotels.filter(function(e){return e.hotelCode===Dr.state.code})[0])&&Dr.state.code&&Jr.emailLandingView()?this.displayUnavailableMessage():t&&!t.available?this.displayUnavailableMessage(t):fo.validationMessaging()},_o.setHotelName=function(){this.hotelName=this.hotel.hotelInfo.name},_o.setHotelCode=function(){this.hotelCode=this.hotel.hotelCode},_o.fireSearchAnalytics=function(e){fo.createAnalyticsHotelArray(this.hotels,Dr.state.stayDetails);var t=Dr.state.stayDetails.dateless;1<this.resultPageNum?(fo.lazyLoadUpdate(e.length),fo.track(fo.getEvent("LAZY_LOAD",t))):(Dr.state.stayDetails.dateless||fo.setAsNewSearch(),fo.stayDetailsUpdate(Dr.state.stayDetails,this.hotels.length),this.state.view===ci.List?fo.track(fo.getEvent("SEARCH_LIST",t)):fo.track(fo.getEvent("SEARCH_MAP",t)))},_o.allHotels=[],_o.newHotel=[],_o.state={view:ci.List,sort:si.Distance,filters:null},_o.isFirstSearch=!0,_o.filterUpdatePending=!1,_o.resultPageNum=1,_o.listFiltersOpen=!1,_o.filterPriceUnder=!1,_o.filterPriceOver=!1,_o.mapFiltersOpen=!1,_o.resultsLoading=!1,_o.showCalendar=!1,_o.availabilitiesError=!1,_o.hotelUnavailable="",_o.filteredOutHotels=!1,_o.removeMapHotelCard=!1,_o._hotels=[],e([xt],_o,"resultPageNum",void 0),e([xt],_o,"listFiltersOpen",void 0),e([xt],_o,"filterPriceUnder",void 0),e([xt],_o,"filterPriceOver",void 0),e([xt],_o,"mapFiltersOpen",void 0),e([xt],_o,"resultsLoading",void 0),e([xt],_o,"showCalendar",void 0),e([xt],_o,"availabilitiesError",void 0),e([xt],_o,"hotelUnavailable",void 0),e([xt],_o,"filteredOutHotels",void 0),e([xt],_o,"removeMapHotelCard",void 0),e([ct],_o,"hotels",null),e([ct],_o,"newHotels",null),e([xt],_o,"_hotels",void 0),e([xt],_o,"_sort",void 0),e([xt],_o,"filters",void 0),_o);function _o(){return null!==To&&To.apply(this,arguments)||this}var Ro,Io=(E(Ho,Ro=n),Object.defineProperty(Ho,"stringFilters",{get:function(){return this.normaliseToString(this.normaliseFilters(this.filters))},enumerable:!1,configurable:!0}),Object.defineProperty(Ho,"normalisedFilters",{get:function(){return this.normaliseFilters(this.filters)},enumerable:!1,configurable:!0}),Ho.updateAnalytics=function(){fo.setFilters(Ho.filters),Object.keys(Dr.state.stayDetails).length&&(fo.createAnalyticsHotelArray(No.hotels,Dr.state.stayDetails),fo.stayDetailsUpdate(Dr.state.stayDetails,0),fo.track(fo.getEvent("FILTER_UPDATE",Dr.state.stayDetails.dateless)))},Ho.updateOverPriceFilter=function(){Dr.state.filters="OVE",Ho.stringToFilters(Dr.state.filters)},Ho.normaliseToString=function(e){var t=e.facilities,n=e.parking,i=e.hotels,r=e.accessibleRoom,o=e.pricePerNight;return t||n||i||o?w(t,n,i,r,o).join():""},Ho.updatePricePerNightLabel=function(t){var n=this,i=ui.LOCALE[Dr.config.locale].currencyCode;Object.keys(this.filters).map(function(e){return n.filters[e].options}).map(function(e){e.forEach(function(e){"UND"===e.code?(e.label=""+ui.CURRENCY[i]+t+" "+Dr.content.filter.label.underPrice,e.checked=!0):"OVE"===e.code&&(e.label=""+ui.CURRENCY[i]+t+" "+Dr.content.filter.label.overPrice)})})},Ho.stringToFilters=function(e){var t,n,i,r=this,o=Dr.content.filter,a=e.split(",");Object.keys(this.filters).map(function(e){return r.filters[e].options}).map(function(e){e.forEach(function(t){a.forEach(function(e){e===t.code&&(t.checked=!0)})})}),-1!==a.indexOf(o.code.parking)&&(t=!0,n=o.code.freeParking[0],i=o.code.allParking.filter(function(e){return e!==n}),-1!==a.indexOf(n)?(a.forEach(function(e){-1===i.indexOf(e)||(t=!1)}),t?(this.filters.parking.radios.freeParking.checked=!0,this.filters.parking.radios.allParking.checked=!1):(this.filters.parking.radios.freeParking.checked=!1,this.filters.parking.radios.allParking.checked=!0)):this.filters.parking.radios.allParking.checked=!0)},Ho.updateCheckBox=function(e,t,n){var i,r;for(var o in this.filters)if(this.filters.hasOwnProperty(o)){var a=this.filters[o];if(a.label===e)try{for(var s=(i=void 0,ie(a.options)),l=s.next();!l.done;l=s.next()){var c=l.value;c.code===t&&(c.checked=n),"UND"===c.code&&(No.filterPriceUnder=!0),"UND"!==c.code&&(No.filterPriceUnder=!1),"OVE"!==c.code&&(No.filterPriceOver=!1)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}},Ho.updateRadios=function(e){var t=oe.merge({},this.filters.parking.radios),n=t;for(var i in n)n.hasOwnProperty(i)&&(n[i].checked=n[i].id===e);t=n,this.filters.parking.radios=t},Ho.setContent=function(){var e=ui.LOCALE[Dr.config.locale].currencyCode,t=Jr.emailLandingView()&&Dr.state.price?Do.formatter(Dr.state.price):Dr.content.filter.label.underPriceValue;this.filters={pricePerNight:{label:Dr.content.filter.label.pricePerNight,options:[{label:""+ui.CURRENCY[e]+t+" "+Dr.content.filter.label.underPrice,code:Dr.content.filter.code.underPrice,checked:!(!Jr.emailLandingView()||!Dr.state.price)},{label:""+ui.CURRENCY[e]+t+" "+Dr.content.filter.label.overPrice,code:Dr.content.filter.code.overPrice,checked:!1}]},accessibleRoom:{label:Dr.content.filter.label.roomType,options:[{label:Dr.content.filter.label.wetRoom,code:Dr.content.filter.code.wetRoom,checked:!1},{label:Dr.content.filter.label.loweredBath,code:Dr.content.filter.code.loweredBath,checked:!1}]},parking:{label:Dr.content.filter.label.parking,options:[{label:Dr.content.filter.label.parking,code:Dr.content.filter.code.parking,checked:!1}],radios:{allParking:{name:Dr.content.filter.label.parkingGroup,text:Dr.content.filter.label.allParking,id:Dr.content.filter.id.allParking,checked:!0},freeParking:{name:Dr.content.filter.label.parkingGroup,text:Dr.content.filter.label.freeParking,id:Dr.content.filter.id.freeParking,checked:!1}}},facilities:{label:Dr.content.filter.label.facilities,options:[{label:Dr.content.filter.label.airCon,code:Dr.content.filter.code.airCon,checked:!1},{label:Dr.content.filter.label.lift,code:Dr.content.filter.code.lift,checked:!1},{label:Dr.content.filter.label.meet,code:Dr.content.filter.code.meet,checked:!1},{label:Dr.content.filter.label.restaurant,code:Dr.content.filter.code.restaurant,checked:!1}]},hotels:{label:Dr.content.filter.label.hotels,options:[{label:Dr.content.filter.label.pi,code:Dr.content.filter.code.pi,icon:this.premierInnLogo,checked:!1},{label:Dr.content.filter.label.hub,code:Dr.content.filter.code.hub,icon:this.hubLogo,checked:!1},{label:Dr.content.filter.label.zip,code:Dr.content.filter.code.zip,icon:this.zipLogo,checked:!1}]}}},Ho.normaliseFilters=function(e){var t=this.getSelectedFilters(e.facilities),n=this.getSelectedFilters(e.hotels),i=e.parking.options[0].checked?w(this.getSelectedParkingFilter(e.parking.radios),[e.parking.options[0].code]):[],r=this.getSelectedFilters(e.accessibleRoom),o=this.getSelectedFilters(e.pricePerNight);return{facilities:w(t),parking:w(i),hotels:n,accessibleRoom:r,pricePerNight:o}},Ho.getSelectedFilters=function(e){return e.options.filter(function(e){return e.checked}).map(function(e){return e.code})},Ho.getSelectedParkingFilter=function(e){var t=[],n=Dr.content.filter.code.allParking,i=Dr.content.filter.code.freeParking;return e.freeParking.checked?t=i:e.allParking.checked&&(t=n),t},Ho.zipLogo=new So(Ho.logosStyles={height:Ho.filterModelStyleSize="1.429rem",width:Ho.filterModelStyleSize}),Ho.hubLogo=new vo(Ho.logosStyles),Ho.premierInnLogo=new wo(Ho.logosStyles),e([xt],Ho,"filters",void 0),e([ct],Ho,"stringFilters",null),e([ct],Ho,"normalisedFilters",null),Ho);function Ho(){return null!==Ro&&Ro.apply(this,arguments)||this}var Mo,Wo=(E(Bo,Mo=re),Bo);function Bo(e){return Mo.call(this,oe.merge({type:"gutter",display:"block",width:"100%",margin:"0 auto"},e))||this}var Fo,zo=(E(jo,Fo=re),jo);function jo(e){return void 0===e&&(e={}),Fo.call(this,oe.merge({type:"background-overlay",zIndex:Rr.zIndex.overlay,display:"none",opacity:"0.5",backgroundColor:Rr.colours.primary.black,height:"100%",width:"100%",position:"fixed",top:"0",left:"0"},e))||this}var Uo,Vo=(E($o,Uo=re),$o.prototype.open=function(){var e=this;$o.slideOverState=!0,this.killAnimations(),this.show(),this.to({duration:.1,ease:z.EaseIn,toVars:{transform:"translateX(0)"}}).then(function(){e.element.setAttribute("aria-expanded","true")})},$o.prototype.close=function(){var e=this;$o.slideOverState=!1,this.killAnimations(),this.to({duration:.1,ease:z.EaseIn,toVars:{transform:"translateX(-30rem)"}}).then(function(){e.hide(),e.element.setAttribute("aria-expanded","false")})},$o.prototype.hidden=function(){this.hide(),this.close()},$o.prototype.closeOverlay=function(){this.close(),$o.slideOverState=!1},$o.slideOverState=!0,$o.CLOSE="CLOSE",e([xt],$o,"slideOverState",void 0),$o);function $o(e){void 0===e&&(e={});var t=Uo.call(this,oe.merge(b({type:"slide-over",zIndex:Rr.zIndex.popups,top:"0",bottom:"0",left:"0",right:"0",transform:"translateX(-30rem)",width:"409px",padding:"12px 23px",attributes:{"aria-expanded":"false"}},Jr.slideOver()),e))||this,n=new re(b({type:"close-button",display:"block",position:"absolute",cursor:"pointer",top:"5px",width:"32px",height:"32px",backgroundColor:Rr.colours.primary.white,zIndex:Rr.zIndex.popups},Jr.closeFilterBtn())),i=new Fr({});return n.addChild(i),t.addChild(n),n.addEventListener(t,"click",t.closeOverlay),t}var Go,Yo=(E(Ko,Go=re),Ko.prototype.render=function(e){var t=this;this.overlay=new zo(this.overlayConfig),this.overlay.addEventListener(this,"click",this.close),this.addChild(this.overlay),this.slideOver=new Vo({display:"none",position:"fixed",boxShadow:"0 2px 4px "+Rr.colours.greyScale.darkest,backgroundColor:Rr.colours.primary.white}),this.slideOver.addChild(e),this.addChild(this.slideOver),this.filtersOpen&&(window.innerWidth>=Rr.responsive.m?this.open():this.close()),He(function(){return Vo.slideOverState},function(e){e||t.close()})},Ko.prototype.close=function(){this.overlay.hide(),this.slideOver.close(),Ko.slideOverState=!1},Ko.prototype.open=function(){!this.filtersOpen||this.filtersOpen&&window.innerWidth<Rr.responsive.m?this.overlay.show():this.overlay.hide(),this.slideOver.open(),Ko.slideOverState=!0},Ko.prototype.hidden=function(){this.overlay.hide(),this.slideOver.hidden(),Ko.slideOverState=!1},Ko.slideOverState=!0,e([xt],Ko,"slideOverState",void 0),Ko);function Ko(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=Go.call(this,t)||this;return i.overlayConfig=n,i.render(e),i.filtersOpen=Jr.filtersOpen(),i}var Xo,Zo=(E(qo,Xo=Pr),qo.prototype.disable=function(){Xo.prototype.disable.call(this),this.style({backgroundColor:Rr.colours.greyScale.lightest,color:Rr.colours.greyScale.light})},qo.prototype.enable=function(){Xo.prototype.enable.call(this),this.style(this.enabledColours)},qo);function qo(e){var t=this,n={fontSize:Rr.fontSizes.m,height:"40px",border:"none",outline:"none",borderRadius:"4px",textAlign:"center",fontWeight:Rr.fontWeights.semiBold,hover:{durationIn:0,durationOut:.5}};return(t=Xo.call(this,oe.merge(n,e))||this).enabledColours={color:e.color,backgroundColor:e.backgroundColor},t}var Jo,Qo=(E(ea,Jo=Zo),ea);function ea(e){void 0===e&&(e={});var t={height:Rr.lineHeight.xs,color:Rr.colours.primary.purple,zIndex:"4",backgroundColor:"transparent",fontWeight:Rr.fontWeights.normal,padding:"0",textDecoration:"underline"};return Jo.call(this,oe.merge(t,e))||this}var ta,na=(E(ia,ta=re),ia);function ia(e){void 0===e&&(e={});var t=ta.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25">\n            <g fill="none" fill-rule="evenodd">\n                <path d="M0 0H24V24H0z" transform="translate(0 .714)"/>\n                <path fill="#979797" d="M21 2c.552 0 1 .448 1 1v18c0 .552-.448 1-1 1H3c-.552 0-1-.448-1-1V3c0-.552.448-1 1-1h18zm0 1H3v18h18V3z" transform="translate(0 .714)"/>\n            </g>\n        </svg>',t}var ra,oa=(E(aa,ra=re),aa);function aa(e){void 0===e&&(e={});var t=ra.call(this,e)||this;return t.innerHtml='\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25">\n            <g fill="none" fill-rule="evenodd" transform="translate(0 .714)">\n                <path d="M0 0H24V24H0z"/>\n                <rect width="20" height="20" x="2" y="2" fill="#00798E" rx="1"/>\n                <path fill="#FFF" d="M17.47 7.47L18.53 8.53 10 17.061 5.47 12.53 6.53 11.47 10 14.939z"/>\n            </g>\n        </svg>',t}var sa,la=(E(ca,sa=re),ca);function ca(e){return sa.call(this,oe.merge({type:"label",display:"inline-block",fontSize:Rr.fontSizes.s},e))||this}var da,ha=(E(ua,da=re),ua.prototype.check=function(){this.checkboxTicked.style({opacity:this.checked?"1":"0"})},ua.prototype.labelWidth=function(e){return e.icon?"8rem":"auto"},Object.defineProperty(ua.prototype,"checked",{get:function(){return this.checkboxInput.element.checked},set:function(e){this.checkboxInput.element.checked=e,this.checkboxTicked.style({opacity:e?"1":"0"})},enumerable:!1,configurable:!0}),ua.checkboxUpdated={},e([xt],ua,"checkboxUpdated",void 0),ua);function ua(e,t){var n=da.call(this,t)||this;n.checkBoxStyles={medium:{size:"25px",labelPadding:"0 0 0 "+Rr.margin.xl},large:{size:Rr.spacing.xl,labelPadding:Rr.spacing.xxs+" 0 0 "+Rr.fontSizes.xxl}},n.checkBoxStyles[e.size]?n.currentStyle=n.checkBoxStyles[e.size]:n.currentStyle=n.checkBoxStyles.medium,n.checkboxInput=new re({type:"input",id:e.code.toLowerCase()+"-checkbox",attributes:{type:"checkbox"},style:{visibility:"hidden",position:"absolute",left:"0px"}}),n.checkboxLabel=new la({text:"",attributes:{for:e.code.toLowerCase()+"-checkbox"},style:{position:"relative",padding:n.currentStyle.labelPadding,cursor:"pointer"}}),n.addChild(n.checkboxLabel),n.checkboxLabel.addChild(n.checkboxInput);var i,r={width:n.currentStyle.size,height:n.currentStyle.size,position:"absolute",left:"0",top:"0"},o=new re({type:"span",text:e.label,maxWidth:n.labelWidth(e),display:"block",lineHeight:Rr.lineHeight.m,position:"relative",top:"1px",fontSize:Rr.fontSizes.base,color:Rr.colours.greyScale.darkest});return n.checkboxEmpty=new na({type:"checkbox-empty",style:r,display:"block"}),n.checkboxTicked=new oa({type:"checked-icon",style:r,transition:"all .3s ease-in-out",opacity:"0"}),e.icon&&((i=e.icon).style({display:"inline-block",marginRight:Rr.margin.s,height:"1.35rem"}),n.checkboxLabel.addChild(i)),n.checkboxLabel.addChild(o),n.checkboxLabel.addChild(n.checkboxEmpty),n.checkboxLabel.addChild(n.checkboxTicked),n.checked=e.checked,n.checkboxLabel.addEventListener(n,"change",function(){ua.checkboxUpdated={checked:n.checked,code:e.code},n.check()}),n}var pa,fa=(E(ga,pa=re),ga.prototype.load=function(e){this.element.setAttribute("src",e)},ga.prototype.setAlt=function(e){this.element.setAttribute("alt",e)},ga.COMPLETE="load",ga.ERROR="error",ga);function ga(e){void 0===e&&(e={});var t,n=this;return e.type="img",e.path&&(t=e.path,e.path=null),e.src&&(t=e.src,e.src=null),(n=pa.call(this,e)||this).load(t),e.alt&&n.setAlt(e.alt),n}var ma,va=(E(ya,ma=re),ya.prototype.toolTip=function(){this.infoIconToolTipContainer=new G({id:"info-tooltip-container",display:"inline-block",width:"auto",position:"relative",overflow:"hidden",verticalAlign:"middle",attributes:{role:"tooltip"},hover:{overflow:"visible"}});var e=new fa({src:Rr.icons.info,alt:"",attributes:{"data-testid":"icon-info"},style:{marginLeft:Rr.spacing.s,cursor:"pointer",marginTop:"2px"}}),t=new re({width:"auto",zIndex:"1",top:"36px",left:"calc(100% - 36px)",position:"absolute"}),n=new re({width:"160px",minWidth:"initial",className:["wb-tooltip wb-tooltip__facilities"],responsive:[{maxWidth:Rr.responsive.s,style:{width:"160px"}},{minWidth:Rr.responsive.m,style:{width:"186px"}}]}),i=new re({className:["wb-tooltip__chevron wb-tooltip__chevron--top"],zIndex:"0"});n.addChild(i);var r=new re({className:["wb-tooltip__chevron-outline wb-tooltip__chevron-outline--top"]});n.addChild(r);var o=new re({className:["wb-tooltip-text"],text:Dr.content.filter.info.lift});n.addChild(o),t.addChild(n),this.infoIconToolTipContainer.addChild(e),this.infoIconToolTipContainer.addChild(t)},ya.toggleParkingOptions=!1,e([xt],ya,"toggleParkingOptions",void 0),ya);function ya(n,e,i){var r=ma.call(this,oe.merge({marginBottom:"24px"},e))||this,t=new la({text:n.label,fontWeight:Rr.fontWeights.semiBold,fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.m,color:Rr.colours.greyScale.darkest,marginBottom:"8px"});return r.toolTip(),n.options&&0<n.options.length&&(r.addChild(t),n.options.forEach(function(e){var t=new ha(e,{marginBottom:"16px",position:"relative"});r.addChild(t),e.label===Dr.content.filter.label.lift&&t.addChild(r.infoIconToolTipContainer)}),He(function(){return ha.checkboxUpdated},function(e){var t=e.checked;Io.updateCheckBox(n.label,e.code,t),i&&(ya.toggleParkingOptions=!0)})),r}var ba,wa=(E(Ca,ba=re),Ca.prototype.check=function(){this.radioInput.element.setAttribute("checked","")},Ca.prototype.uncheck=function(){this.radioInput.element.removeAttribute("checked")},Object.defineProperty(Ca.prototype,"checked",{get:function(){return this.radioInput.element.hasAttribute("checked")},enumerable:!1,configurable:!0}),Ca);function Ca(e,t,n){var i=ba.call(this,oe.merge({type:"label",className:["wb-radio__label"]},n))||this,r=e.id.toLowerCase();return i.radioInput=new re({type:"input",id:r,attributes:{type:"radio",name:e.name}}),i.addChild(i.radioInput),e.checked&&i.check(),i.addChild(t),i.addEventListener(i,"click",function(){i.check()}),i}var xa,Sa=(E(ka,xa=wa),ka.radioUpdated=null,e([xt],ka,"radioUpdated",void 0),ka);function ka(e,t,n){var i=xa.call(this,e,t,n)||this;return i.addEventListener(i,"click",function(){ka.radioUpdated=i}),i}var Da,Ea=(E(Oa,Da=re),Oa);function Oa(e,t){return Da.call(this,oe.merge({type:"radio-label",className:["wb-radio__label__inner"],attributes:{for:e},fontFamily:Rr.font.baseFont},t))||this}var La,Aa=(E(Pa,La=Ea),Pa);function Pa(e,t,n){return La.call(this,e,oe.merge({text:t},n))||this}var Ta;E(Na,Ta=Ea);function Na(e,t,n,i){var r=Ta.call(this,e,{className:["wb-radio__label__inner","wb-radio__label__rate-card"]})||this,o=new re({type:"text-container",className:["wb-radio__text-container"]}),a=new re({type:"rate-title",text:t,className:["wb-radio__label__inner__title"]});o.appendChild(a);var s=new re({type:"rate-description",text:n,className:["wb-radio__label__inner-info"]});o.appendChild(s),r.appendChild(o);var l=new re({type:"price-container",className:["wb-radio__price-container"],minWidth:"6rem",textAlign:"right"});return l.appendChild(i),r.appendChild(l),r}var _a,Ra=(E(Ia,_a=re),Ia.prototype.toggle=function(){this.allParking.checked?this.freeParking.uncheck():this.freeParking.checked&&this.allParking.uncheck()},Ia.prototype.defaultToAllParking=function(e){e?(this.freeParking.uncheck(),this.allParking.check()):(this.freeParking.check(),this.allParking.uncheck())},Ia.prototype.updateModel=function(e){Io.updateRadios(e),this.toggle()},Ia);function Ia(e){var t=_a.call(this,oe.merge({margin:"24px 0px",paddingTop:Rr.margin.m,borderTop:"1px solid "+Rr.colours.greyScale.lighter,className:["wb-form-item","wb-form-item--compact"]},e))||this,n=new re({type:"ul",className:["wb-radio__group"]}),i=Io.filters.parking.radios,r=new re({type:"li",className:["wb-radio__inner"]}),o=new Aa(i.allParking.id,i.allParking.text,{fontSize:Rr.fontSizes.base});t.allParking=new Sa(i.allParking,o),r.appendChild(t.allParking),n.addChild(r);var a=new re({type:"li",className:["wb-radio__inner"]}),s=new Aa(i.freeParking.id,i.freeParking.text);return t.freeParking=new Sa(i.freeParking,s,{marginTop:Rr.spacing.s,fontSize:Rr.fontSizes.base}),a.appendChild(t.freeParking),n.addChild(a),t.appendChild(n),He(function(){return Sa.radioUpdated},function(e){t.updateModel(e.radioInput.id)}),t}var Ha,Ma=(E(Wa,Ha=re),Wa.prototype.displayAccessibleFilters=function(){var e=Dr.state.stayDetails.roomData;e&&e.length&&(e.some(function(e){return"DIS"===e.roomType})?this.accessibleFilters.show():this.accessibleFilters.hide())},Wa.prototype.renderFilters=function(){var t=this;this.removeAllChildren();var e=Io.filters,n=new re({id:"filter-header",text:Dr.content.filter.label.header,color:Rr.colours.greyScale.darkest,fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.m,fontWeight:"500",height:"24px"});this.addChild(n);var i=new Qo(b({id:"reset-filters-btn",text:Dr.content.filter.label.reset},Jr.resetFiltersLink()));i.addEventListener(this,"click",function(){return Io.setContent()}),this.addChild(i);var r,o=new va(e.pricePerNight);this.addChild(o),He(function(){return Dr.state.price},function(){Jr.emailLandingView()&&Dr.state.price?o.show():o.hide()}),Jr.showPriceFilter()&&!Dr.state.price&&o.show(),Jr.showPriceFilter()||Jr.emailLandingView()||o.hide(),Jr.filtersOpen()?(r=new va(e.parking,{},!0),He(function(){return va.toggleParkingOptions},function(e){e&&t.toggleParkingRadioBtns()})):(r=new va(e.parking)).addEventListener(this,"click",this.toggleParkingRadioBtns),this.addChild(r),this.parkingRadios=new Ra,e.parking.options[0].checked?this.selectParkingRadio(e.parking.radios):this.parkingRadios.hide(),this.addChild(this.parkingRadios);var a=new va(e.facilities);this.addChild(a),e.parking.options[0].checked?this.selectParkingRadio(e.parking.radios):this.parkingRadios.hide(),this.accessibleFilters=new va(e.accessibleRoom),this.addChild(this.accessibleFilters),this.displayAccessibleFilters(),He(function(){return Dr.state.stayDetails},function(){return t.displayAccessibleFilters()})},Wa.prototype.selectParkingRadio=function(e){this.parkingRadios.defaultToAllParking(e.allParking.checked)},Wa.prototype.toggleParkingRadioBtns=function(){Io.filters.parking.options[0].checked?(this.parkingRadios.defaultToAllParking(!0),this.parkingRadios.show()):this.parkingRadios.hide()},Wa);function Wa(e){var t=Ha.call(this,oe.merge({type:"filters",height:"100%",overflow:"auto",position:"relative",display:"block",color:Rr.colours.greyScale.dark},e))||this;return He(function(){return Io.stringFilters},function(){t.renderFilters()},{equals:_e.structural}),t.renderFilters(),t}var Ba,Fa=(E(za,Ba=re),za);function za(e){void 0===e&&(e={});var t=this,n=(t=Ba.call(this,oe.merge({type:"icon",display:"block"},e))||this).element.style.color||Rr.colours.primary.black;return t.innerHtml='\n            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 32 43">\n                <g fill="none" fill-rule="evenodd">\n                    <path fill-opacity="0" d="M46-29h-60V71h60z"/>\n                    <path fill="'+n+'" d="M21.296 11.933c-.488 0-.884-.408-.884-.913V1L31 11.933h-9.704zM1 29.155V40.33C1 41.252 1.727 42 2.624 42h26.752c.897 0 1.624-.753 1.624-1.676V29.155l-3.602-3.627-3.704 3.921-3.895-3.92-3.704 3.92-3.894-3.92-3.705 3.92-3.894-3.92L1 29.154zM2.617 1h16.03v11.392c0 .753.59 1.364 1.32 1.364H31v12.661l-3.507-3.662-3.895 3.921-3.704-3.92L16 26.675l-3.704-3.92-3.894 3.92-3.704-3.92L1 26.476V2.671C1 1.747 1.724 1 2.617 1z"/>\n                </g>\n            </svg>\n        ',t}var ja,Ua=(E(Va,ja=re),Va.prototype.updateCopy=function(e){e.titleText&&(this.alertTitle.textContent=e.titleText),e.messageText&&(this.alertMessage.textContent=e.messageText),e.buttonText&&(this.alertButton.textContent=e.buttonText)},Va.prototype.setIcon=function(e){var t;e&&(t=new e({display:"inline-block",verticalAlign:"middle",color:Rr.colours.primary.white,width:"4rem",height:"4rem",padding:Rr.margin.s}),this.insertBefore(t,this.contentWrapper))},Va.clickAlertActionButton=!1,Va.CLICKED_ALERT_ACTION_BUTTON="CLICKED_ALERT_ACTION_BUTTON",e([xt],Va,"clickAlertActionButton",void 0),Va);function Va(e,t){void 0===t&&(t={});var n=this;return(n=ja.call(this,oe.merge({width:"100%"},t))||this).contentWrapper=new re({display:"inline-block",verticalAlign:"middle",width:"calc(100% - 4rem)",padding:Rr.margin.m}),n.addChild(n.contentWrapper),n.alertTitle=new Mr({type:"span",display:"block",fontWeight:Rr.fontWeights.bold,marginBottom:Rr.margin.xs,text:"Alert Title",attributes:{role:"alert"}}),n.contentWrapper.addChild(n.alertTitle),n.alertMessage=new Mr({type:"span",display:"block",marginBottom:Rr.margin.xs,text:"alert message"}),n.contentWrapper.addChild(n.alertMessage),n.alertButton=new Qo({fontWeight:Rr.fontWeights.bold,fontSize:Rr.fontSizes.m,text:"button"}),n.alertButton.addEventListener(n,"click",function(){Va.clickAlertActionButton||(Va.clickAlertActionButton=!0)}),n.contentWrapper.addChild(n.alertButton),e&&n.updateCopy(e),n}var $a,Ga=(E(Ya,$a=Ua),Ya);function Ya(e,t){void 0===t&&(t={});var n=this,i={type:"warning-alert-primary",display:"block",backgroundColor:Rr.colours.functionalAccent.warningOrangeDark};return(n=$a.call(this,e,oe.merge(i,t))||this).contentWrapper.style({backgroundColor:Rr.colours.functionalAccent.warningOrangeLight}),n.alertButton.style({color:Rr.colours.functionalAccent.warningOrangeDark}),n.setIcon(Fa),He(function(){return Ua.clickAlertActionButton},function(e){e&&(Ua.clickAlertActionButton=!1)}),n}var Ka,Xa=(E(Za,Ka=re),Za);function Za(e){void 0===e&&(e={});var t=this,n=(t=Ka.call(this,oe.merge({type:"icon",display:"block"},e))||this).element.style.color||Rr.colours.primary.black;return t.innerHtml='\n            <svg display="block" width="100%" height="100%" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0h48v48H0z"/>\n                    <path d="M22 30h4v4h-4v-4zm0-16h4v12h-4V14zm1.98-10C12.94 4 4 12.96 4 24s8.94 20 19.98 20C35.04 44 44 35.04 44 24S35.04 4 23.98 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z" fill="'+n+'" fill-rule="nonzero"/>\n                </g>\n            </svg>\n        ',t}var qa,Ja=(E(Qa,qa=re),Qa.prototype.updateMessage=function(e){e&&(this.alertMessage.textContent=e)},Qa.prototype.setIcon=function(e){var t;e&&(t=new e({display:"inline-block",verticalAlign:"middle",color:Rr.colours.primary.white,width:Rr.margin.xxl,height:Rr.margin.xxl,padding:Rr.margin.s}),this.insertBefore(t,this.alertMessage))},Qa);function Qa(e,t){void 0===t&&(t={});var n=this;return(n=qa.call(this,oe.merge({width:"100%"},t))||this).alertMessage=new Mr({type:"span",display:"inline-block",verticalAlign:"middle",width:"calc(100% - "+Rr.margin.xxl+")",padding:Rr.margin.m,text:e,attributes:{role:"alert"}}),n.addChild(n.alertMessage),n}var es,ts=(E(ns,es=Ja),ns);function ns(e,t){void 0===t&&(t={});var n=this,i={type:"warning-alert-secondary",display:"block",backgroundColor:Rr.colours.functionalAccent.warningOrangeDark};return(n=es.call(this,e,oe.merge(i,t))||this).alertMessage.style({backgroundColor:Rr.colours.functionalAccent.warningOrangeLight}),n.setIcon(Xa),n}var is,rs=(E(os,is=re),os.prototype.getDistanceCopy=function(e){var t=e||0,n=Dr.content.results.result.distanceUnitPlural;return 1===(t=parseFloat(t.toFixed(1)))&&(n=Dr.content.results.result.distanceUnit),t+" "+n},os);function os(e,t){void 0===t&&(t={type:"distance"});var n=is.call(this,oe.merge({display:"block",color:Rr.colours.greyScale.darkest},t))||this,i=new re({text:n.getDistanceCopy(e),display:"inline",fontSize:Rr.fontSizes.s,fontWeight:Rr.fontWeights.medium,lineHeight:"20px"});n.appendChild(i);var r=new re({type:"span",text:" "+Dr.content.results.result.fromLocation,fontSize:Rr.fontSizes.s,lineHeight:"20px"});return n.appendChild(r),n}var as,ss=(E(ls,as=re),ls);function ls(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i={});var r=as.call(this,oe.merge({type:"hotel-name",display:"block",color:Rr.colours.greyScale.darkest},i))||this;e=e.replace(/Alpha \b|Alpha2\b/g,"").trim(),e="HUB"===t?e.replace("hub","hub by Premier Inn"):e;var o=new re({type:"name",attributes:{itemscope:"",itemtype:"http://schema.org/name"},text:e,style:{color:Rr.colours.greyScale.darkest,display:"inline-block",fontWeight:Rr.fontWeights.semiBold,fontSize:n?Rr.fontSizes.h6:Rr.fontSizes.base,lineHeight:n?"20px":Rr.lineHeight.m,marginRight:"0.3rem",marginBottom:n?Rr.spacing.s:Rr.spacing.xxs}});return r.addChild(o),r}var cs,ds=(E(hs,cs=re),hs);function hs(e,t,n){var i=cs.call(this,oe.merge({type:"hotel-core-info",display:"inline-block",responsive:[{maxWidth:Rr.responsive.s-1,style:{margin:"0 0 "+Rr.margin.xs+" "+Rr.margin.xs,height:"auto"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{margin:"0 0 "+Rr.margin.xs+" 0",height:t?"74px":"auto"}},{minWidth:Rr.responsive.m,style:{margin:"0 0 "+Rr.margin.xs+" 0",height:"auto"}}]},n))||this,r=e.hotelInfo.name,o=new ss(r,e.hotelBrand);i.addChild(o);var a=new rs(e.distance);return i.addChild(a),i}var us,ps=(E(fs,us=re),fs.prototype.handleMouseOver=function(){window.innerWidth>=Rr.responsive.s?this.tooltipWrapper.show():this.tooltipWrapper.hide()},fs.prototype.handleMouseOut=function(){window.innerWidth>=Rr.responsive.s&&this.tooltipWrapper.hide()},fs);function fs(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=us.call(this,{style:t})||this,i=e.src,r=e.attributes,o=e.text,a=e.alt;n.icon=new fa({src:i,alt:a,attributes:r}),n.addChild(n.icon),n.tooltipWrapper=new re({className:["wb-tooltip","wb-tooltip__facilities"],display:"none",zIndex:"2",position:"absolute",minWidth:"auto",maxWidth:"auto",left:"-18px",marginTop:"8px",whiteSpace:"nowrap"});var s=new re({className:["wb-tooltip__chevron","wb-tooltip__chevron--top"]}),l=new re({className:["wb-tooltip__chevron-outline","wb-tooltip__chevron-outline--top"]}),c=new re({type:"span",className:["wb-tooltip-text"],text:o});return n.tooltipWrapper.addChild(s),n.tooltipWrapper.addChild(l),n.tooltipWrapper.addChild(c),n.addChild(n.tooltipWrapper),n.icon.addEventListener(n,"mouseover",function(){return n.handleMouseOver()}),n.icon.addEventListener(n,"mouseout",function(){return n.handleMouseOut()}),n}var gs,ms=(E(vs,gs=re),vs.prototype.hasRestaurant=function(e){return e&&e.brand&&e.name},vs.prototype.searchingForAccessibleRooms=function(){return!!Dr.state.stayDetails.roomData&&!!Dr.state.stayDetails.roomData.find(function(e){return e.roomType===ui.ROOM_CODES.DIS.code})},vs.prototype.getParkingLabel=function(e){var t;switch(e){case"CPP":t=Dr.content.results.result.facilities.chargeableOnsiteParking;break;case"CPF":t=Dr.content.results.result.facilities.freeParking;break;case"COP":t=Dr.content.results.result.facilities.chargeableOffsiteParking;break;default:t=""}return t},vs);function vs(e,t){var n,i,r,o,a,s;void 0===t&&(t={});var l,c=gs.call(this,oe.merge({className:["result-facilities"],color:Rr.colours.greyScale.dark,display:"flex"},t))||this;if(e.hotelInfo&&e.hotelInfo.facilities){try{for(var d=ie(e.hotelInfo.facilities),h=d.next();!h.done;h=d.next()){var u,p=h.value;-1!==ui.facilityCodes.airCon.indexOf(p.code)&&(u=new ps({src:Rr.icons.airCon,text:Dr.content.results.result.facilities.airCon,alt:Dr.content.results.result.facilities.airCon,attributes:{"data-testid":"icon-aircon"}},{marginRight:Rr.margin.xs,position:"relative"}),c.addChild(u))}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}try{for(var f=ie(e.hotelInfo.facilities),g=f.next();!g.done;g=f.next()){p=g.value;if(-1!==ui.facilityCodes.parking.indexOf(p.code)){var m=new ps({src:Rr.icons.parking,text:c.getParkingLabel(p.code),alt:Dr.content.results.result.facilities.parking,attributes:{"data-testid":"icon-parking"}},{marginRight:Rr.margin.xs,position:"relative"});c.addChild(m);break}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}c.hasRestaurant(e.hotelInfo.restaurant)&&(l=new ps({src:Rr.icons.restaurant,text:e.hotelInfo.restaurant.name,alt:Dr.content.results.result.facilities.restaurant,attributes:{"data-testid":"icon-restaurant"}},{marginRight:Rr.margin.xs,position:"relative"}),c.addChild(l));try{for(var v=ie(e.hotelInfo.facilities),y=v.next();!y.done;y=v.next()){var b=y.value.code;if(-1!==ui.facilityCodes.accessibleRoom.indexOf(b)&&c.searchingForAccessibleRooms()){var w=new ps({src:Rr.icons.accessible,text:Dr.content.results.result.facilities.accessibleRoom,alt:Dr.content.results.result.facilities.accessibleRoom,attributes:{"data-testid":"icon-accessible"}},{position:"relative"});c.addChild(w);break}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}return c}var ys={fontSize:"13px",fontWeight:Rr.fontWeights.bold,height:"24px",textAlign:"center",lineHeight:"20px",borderRadius:"11px",padding:"2px "+Rr.spacing.xs,margin:"0 "+Rr.margin.xs+" "+Rr.margin.xs+" 0"},bs={fontSize:Rr.fontSizes.s,fontWeight:Rr.fontWeights.semiBold,height:"24px",textAlign:"left",borderRadius:"0",margin:"0"},ws=(Cs.openingSoonStyle=b({color:Rr.colours.accent.maroon,backgroundColor:"transparent",border:"1px solid "+Rr.colours.accent.maroonLight},ys),Cs.openingOnDateStyle=b({color:Rr.colours.functionalAccent.piColorInfo,backgroundColor:"transparent",border:"none",padding:"0",lineHeight:1.43},bs),Cs.fullyBookedStyle=b(b({color:Rr.colours.greyScale.darker,backgroundColor:"transparent",border:"none",padding:"0",lineHeight:1.43},bs),{fontSize:Rr.fontSizes.m,fontWeight:Rr.fontWeights.bold}),Cs.messagingFlagStyle=b({color:Rr.colours.accent.maroon,backgroundColor:"transparent",border:"1px solid "+Rr.colours.accent.maroonLight},ys),Cs.facilitiesTypeStyle=b({color:Rr.colours.accent.darkPink,backgroundColor:"transparent",border:"1px solid "+Rr.colours.accent.darkPinkLighter},ys),Cs.businessRoomFacilitiesTypeStyle=b({color:""+Rr.colours.accent.darkBlue,backgroundColor:"transparent",border:"1px solid "+Rr.colours.accent.darkBlue},ys),Cs.limitedAvailabilityStyle=b({color:Rr.colours.accent.coral,backgroundColor:"transparent",border:"none",padding:"0",lineHeight:"normal"},bs),Cs);function Cs(){}var xs,Ss=(E(ks,xs=re),ks);function ks(e,t,n,i){var r=ws[e].color,o=ws[e].backgroundColor,a=ws[e].border,s=ws[e].borderRadius,l=ws[e].fontSize,c=ws[e].fontWeight,d=ws[e].height,h=ws[e].margin,u=ws[e].padding,p=ws[e].textAlign,f=ws[e].lineHeight,g={display:"inline-block",width:"auto",verticalAlign:"top",margin:n?Rr.spacing.s+" "+Rr.spacing.s+" 0 0":h,height:d,padding:u,fontWeight:c,color:r,backgroundColor:o,border:a,borderRadius:s,fontSize:l,textAlign:p,lineHeight:f};return xs.call(this,oe.merge({type:e,text:t,style:g},i))||this}var Ds,Es=(E(Os,Ds=re),Os);function Os(e,t,n){return Ds.call(this,oe.merge({type:"img",style:{zIndex:Rr.zIndex.base},attributes:{alt:e,src:t},position:"absolute",responsive:[{minWidth:Rr.responsive.s,style:{marginTop:Rr.spacing.s}},{maxWidth:Rr.responsive.s,style:{marginTop:Rr.spacing.s}}]},n))||this}var Ls,As=(E(Ps,Ls=re),Ps);function Ps(e){var t=this,n=encodeURI(""+Dr.config.api.imagesUrl+e),i=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,r=n+".piimage.thumbnail."+Math.round(240*i)+"."+Math.round(160*i)+".jpg",o={type:"hotel-photo",position:"relative",display:"inline-block",verticalAlign:"top",overflow:"hidden",responsive:[{maxWidth:Rr.responsive.s-1,style:{width:"100%",height:"auto",margin:"-33% 0 4px 0"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"120px",height:"74px",margin:"0 "+Rr.spacing.base+" 0 0"}},{minWidth:Rr.responsive.m,style:{width:"188px",height:"116px",margin:"0 "+Rr.spacing.base+" 0 0"}}]},t=Ls.call(this,o)||this,a=new re({className:["lazy-resizable-image"],type:"img",left:"0",right:"0",margin:"auto",minWidth:"100%",transform:"none",attributes:{largeimage:n,smallimage:r,alt:Dr.content.results.result.imageAlt,itemscope:"",itemtype:"http://schema.org/photo"},responsive:[{maxWidth:Rr.responsive.s-1,style:{height:"auto",position:"relative",top:"0",bottom:"0"}},{minWidth:Rr.responsive.s,style:{height:"100%",position:"absolute",top:"-100%",bottom:"-100%"}}]});return t.addChild(a),t}var Ts,Ns=(E(_s,Ts=re),_s.prototype.fractionSplit=function(e){var t="."+so.priceFraction(e.amount);return Dr.config.locale===ui.LOCALE.DE.country&&(t=t.replace(".",",")),t},_s);function _s(e,t,n){void 0===t&&(t=!1),void 0===n&&(n={});var i=Ts.call(this,oe.merge({type:"hotel-price",fontSize:t?Rr.fontSizes.base:Rr.fontSizes.m,lineHeight:"23px",fontWeight:Rr.fontWeights.bold,color:Rr.colours.greyScale.darkest,marginBottom:"-4px",display:"flex"},n))||this,r=new re({type:"currency-sign",text:so.currencySymbol(e.currency),display:"inline-block"}),o=new re({type:"price-integer",text:so.priceInteger(e.amount),style:{display:"inline-block"}});i.appendChild(o);var a=new re({type:"price-fraction",text:i.fractionSplit(e),display:"inline-block"});return".00"!==i.fractionSplit(e)&&",00"!==i.fractionSplit(e)&&i.appendChild(a),Dr.config.locale===ui.LOCALE.DE.country?(i.addChild(r),r.style({marginLeft:Rr.spacing.xxs})):i.element.insertBefore(r.element,i.element.firstChild),i}var Rs,Is=(E(Hs,Rs=re),Hs.prototype.priceLabel=function(){var e=Dr.state.stayDetails,t=e.roomData,n=e.nights;if(Dr.config.experiments.priceBreakdown&&(1<t.length||1<n)){var i=Dr.content.results.result,r=i.priceFrom.toLowerCase(),o=1<t.length?i.rooms:i.room;return n+" "+(1<n?i.nights:i.night)+", "+t.length+" "+o+" "+r}return Dr.content.results.result.priceFrom},Hs);function Hs(e,t,n){void 0===t&&(t=!1);var i,r=Rs.call(this,oe.merge({type:"hotel-rate",display:"flex",position:"relative",top:t?"5px":"0",responsive:[{maxWidth:Rr.responsive.m-1,style:{flexDirection:t?"row":"column"}},{minWidth:Rr.responsive.m,style:{flexDirection:"row"}}]},n))||this,o=new re({text:r.priceLabel(),fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.xxs,position:"relative",color:Rr.colours.greyScale.darkest,display:"flex",width:Dr.config.experiments.priceBreakdown?"100px":"initial",responsive:[{maxWidth:Rr.responsive.s-1,style:{margin:t?"4px 8px 0 0":"21px 8px 4px 0"}},{minWidth:Rr.responsive.s,style:{margin:"4px 8px 4px 0"}}]});return e.ratePlans.length&&(i=Dr.config.experiments.flexOnlyRate?so.flexRatePlan(e.ratePlans).totalCost:so.cheapestRatePlan(e.ratePlans).totalCost,Dr.config.experiments.flexOnlyRate||r.appendChild(o),r.appendChild(new Ns(i,t))),Jr.emailLandingView()&&r.appendChild(new Ns(e.bestPrice,t)),r}var Ms,Ws=(E(Bs,Ms=Zo),Bs);function Bs(e){void 0===e&&(e={});var t={fontSize:Rr.buttons.default.fontSize,height:Rr.buttons.default.height};return Ms.call(this,oe.merge(t,e))||this}var Fs,zs=(E(js,Fs=Ws),js);function js(e){void 0===e&&(e={});var t=oe.merge({color:Rr.colours.primary.white,backgroundColor:Rr.colours.primary.btn,height:"2.5rem",verticalAlign:"middle",lineHeight:"2.5rem",hover:{backgroundColor:Rr.colours.primary.btnLight,boxShadow:"0 4px 8px 0 "+Rr.colours.greyScale.dark}},e.style);return Fs.call(this,oe.merge(t,e))||this}var Us,Vs=(E($s,Us=zs),$s);function $s(e){var t={text:Jr.emailLandingView()?Dr.content.results.result.pickDate:Dr.content.results.result.viewDetails,marginTop:"9px",width:"100px",fontSize:Rr.fontSizes.s};return Us.call(this,oe.merge(t,e))||this}var Gs,Ys=(E(Ks,Gs=re),Ks);function Ks(e){void 0===e&&(e={});var t=Gs.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n                <circle cx="12" cy="12" r="12" fill="#00798E"/>\n                <path fill="#FFF" d="M9.47 17.47L10.53 18.53 17.061 12 10.53 5.47 9.47 6.53 14.939 12z"/>\n            </g>\n        </svg>',t}var Xs,Zs=(E(qs,Xs=re),qs);function qs(e,t,n){return Xs.call(this,oe.merge({type:"promotion-wrapper",color:e.colour,text:e.promoText,fontSize:Rr.fontSizes.s,lineHeight:"normal",fontWeight:Rr.fontWeights.semiBold,textAlign:"left",display:"block",padding:"0",margin:t?Rr.spacing.s+" 0 0 0":"0 0 "+Rr.spacing.s+" 0"},n))||this}var Js,Qs=(E(el,Js=G),el.prototype.emailLandingPage=function(e){this.addEventListener(this,"click",function(){No.setHotel(e),No.showCalendar=!0,fo.track(fo.EVENTS.CALENDAR_CACHE.OPEN)})},el.prototype.initHotelBadge=function(e){var t,n,i,r=Dr.config.hotelBrands;switch(e.toLocaleLowerCase()){case r.zip:t="/etc/clientlibs/pi-search-results/images/images/manifest-icons/pi-icon-badge-zip.svg",n=e.toLocaleUpperCase();break;case r.hub:t="/etc/clientlibs/pi-search-results/images/images/manifest-icons/pi-icon-badge-hub.svg",n=e.toLocaleLowerCase()}t&&n&&(i=new Es(n,t),this.addChild(i))},el.prototype.calculateFlagPlaceholderHeight=function(e,t){var n;return e&&(n="0"),t&&(n="40px"),n},el.prototype.calculateDiscountPlaceholderHeight=function(e,t){var n;return e&&(n="0"),t&&(n="40px"),n},el.prototype.formatDate=function(e){var t=parseInt(e.split(" ")[0].split("-")[0],10),n=parseInt(e.split(" ")[0].split("-")[1],10)-1;return parseInt(e.split(" ")[0].split("-")[2],10)+" "+Dr.content.datePicker.months[n]+" "+t},el.customHeight="130px",el);function el(e,t,n){var i,r,o=this,a=oe.merge({type:"a",id:"hotel-card-"+e.index,display:"inline-block",position:"relative",verticalAlign:"top",cursor:"pointer",textAlign:"left",minHeight:el.customHeight,backgroundColor:Rr.colours.primary.white,border:Rr.borders.greyscaleLighter,overflow:window.innerWidth>=Rr.responsive.s?"visible":"hidden",marginBottom:Rr.spacing.s,hover:{border:Rr.borders.greyscaleLight,boxShadow:"0 0 "+Rr.spacing.s+" 0 "+Rr.colours.greyScale.mid},attributes:{"data-test-id":e.hotelCode,itemscope:"",itemtype:"https://schema.org/HotelRoom https://schema.org/Product"},responsive:[{maxWidth:Rr.responsive.s-1,style:{width:"100%",padding:"0 0 12px 0",minHeight:"auto",height:"auto"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"100%",padding:Rr.spacing.base,minHeight:"140px",height:"140px"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{width:"100%",padding:Rr.spacing.base,minHeight:el.customHeight,height:"auto"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{width:"808px",padding:Rr.spacing.base,minHeight:el.customHeight,height:"auto"}},{minWidth:Rr.responsive.xl,style:{width:"864px",padding:Rr.spacing.base,minHeight:el.customHeight,height:"auto"}}]},n),o=Js.call(this,a)||this;window.addEventListener("resize",function(){window.innerWidth>=Rr.responsive.s?o.style({overflow:"visible"}):o.style({overflow:"hidden"})}),Jr.emailLandingView()?o.emailLandingPage(e):o.element.setAttribute("href",Di.create({brand:e.hotelBrand,detailsPage:e.hotelInfo.links.detailsPage,domain:Dr.config.hotelDetails.domain.desktop,hotelsPath:Dr.config.hotelDetails.hotelPath,stayDetails:t,miscParams:Ni.parseMiscParams(Dr.state.preservedQS)}));var s=e.hotelInfo.images[0].fileReference,l=e.hotelBrand;Pi.availability()&&o.addEventListener(o,"click",function(){Pi.set("hotelDistance",{code:e.hotelCode,distance:parseFloat(e.distance.toFixed(1))})}),o.initHotelBadge(l);var c=new As(s);o.addChild(c);var d=new re({display:"inline-block",position:"relative",marginTop:"0",responsive:[{maxWidth:Rr.responsive.s-1,style:{width:"100%"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"calc(100% - 282px)"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{width:"calc(100% - 407px)"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{width:"calc(100% - 422px)"}},{minWidth:Rr.responsive.xl,style:{width:"calc(100% - 436px)"}}]}),h=e.hotelInfo,u=h.messagingFlag,p=h.facilities,f=new ds(e,!0);d.addChild(f);var g=new re({type:"message-wrapper",fontSize:Rr.fontSizes.xs,lineHeight:Rr.lineHeight.subtext,position:"relative",right:"0",responsive:[{maxWidth:Rr.responsive.s-1,style:{position:"relative",display:"block",width:"273px",left:Rr.margin.xs,marginBottom:Rr.margin.xs}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{position:"relative",display:"inline-block",width:"100%",marginBottom:"0",left:"0"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{position:"relative",display:"inline-block",width:"100%",marginBottom:"0",left:"0"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{position:"relative",display:"inline-block",width:"338px",marginBottom:"0",left:"0"}},{minWidth:Rr.responsive.xl,style:{position:"relative",display:"inline-block",width:"370px",marginBottom:"0",left:"0"}}]}),m=new re({type:"hotel-card-line-breaker",borderLeft:"1px solid "+Rr.colours.greyScale.lighter,height:"calc(100% - 32px)",position:"absolute",top:"16px",responsive:[{maxWidth:Rr.responsive.s-1,style:{display:"none",right:"0"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{display:"block",right:"144px"}},{minWidth:Rr.responsive.m,style:{display:"block",right:"192px"}}]});o.addChild(m);var v,y=!1;if(co.hasHotelOpened(e)||(v=new Ss("openingSoonStyle",Dr.content.results.result.openingSoon),g.appendChild(v),y=!0),u&&Object.keys(u).length&&(C=void 0,u.flagText&&""!==u.flagText.trim()&&"hub"!==u.flagText.trim().toLowerCase()&&(C=u.flagText),C&&(w=new Ss("messagingFlagStyle",C),g.addChild(w),y=!0)),p&&p.length){var b,w,C=void 0,x=Dr.content.filter.code,S=x.premierPlusRoom,k=x.businessRoom;try{for(var D=ie(p),E=D.next();!E.done;E=D.next()){switch(E.value.code){case S:C=Dr.content.results.result.facilities.premierPlusRoom,y=!0;break;case k:C=Dr.content.results.result.facilities.businessRoom,y=!0}}}catch(e){i={error:e}}finally{try{E&&!E.done&&(r=D.return)&&r.call(D)}finally{if(i)throw i.error}}C&&(b=C===Dr.content.results.result.facilities.businessRoom?"businessRoomFacilitiesTypeStyle":"facilitiesTypeStyle",w=new Ss(b,C),g.addChild(w),y=!0)}var O,L=!1,A=!1,P=!1,T=!1;e.cellCodes.length&&(A=!0),e.limitedAvailability&&(L=!0),co.hasHotelOpened(e)||e.hotelInfo&&e.hotelInfo.hotelOpeningDate&&(L=!0),A&&L&&(P=!0),(L||A)&&(T=!0),O=T&&y||L||A?"auto":"50px";var N=new re({type:"facilities-wrapper",responsive:[{maxWidth:Rr.responsive.s-1,style:{display:"block",height:O}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{display:"none",height:"auto"}},{minWidth:Rr.responsive.m,style:{display:"block",height:"auto"}}]}),_=new re({type:"facilities-wrapper-tablet",position:"absolute",left:"16px",bottom:"16px",responsive:[{maxWidth:Rr.responsive.s-1,style:{display:"none"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{display:"block"}},{minWidth:Rr.responsive.m,style:{display:"none"}}]}),R=new ms(e),I=new ms(e);N.addChild(R),_.addChild(I),g.addChild(N),o.addChild(_);var H,M,W,B,F,z=new re({type:"flag-wrapper",position:"relative",display:"flex",flexDirection:"column",flexWrap:"wrap",float:"right",fontSize:Rr.fontSizes.xs,lineHeight:Rr.lineHeight.subtext,right:"0",responsive:[{maxWidth:Rr.responsive.s-1,style:{left:Rr.spacing.s,top:"0",marginTop:"0"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{left:"0",top:P?"4px":"18px"}},{minWidth:Rr.responsive.m,style:{left:"0",top:P?"14px":"16px"}}]});d.addChild(g),o.addChild(d),e.limitedAvailability&&(H=new Ss("limitedAvailabilityStyle",Dr.content.results.result.availabilityWarning),z.addChild(H)),co.hasHotelOpened(e)||e.hotelInfo&&e.hotelInfo.hotelOpeningDate&&(M=new re({type:"opening-label-wrapper",responsive:[{maxWidth:Rr.responsive.s-1,style:{position:"relative",margin:"0 0 "+Rr.margin.xs+" 0",height:"32px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{position:"absolute",bottom:"auto",margin:"0",height:"auto"}},{minWidth:Rr.responsive.m,style:{position:"relative",margin:"0 0 "+Rr.margin.xs+" 0",height:"auto"}}]}),z.appendChild(M),W=new Ss("openingOnDateStyle",Dr.content.results.result.openingOn),M.appendChild(W),B=e.hotelInfo.hotelOpeningDate,F=new re({text:o.formatDate(B)}),W.addChild(F));var j=new re({type:"cta-wrapper",display:"flex",responsive:[{maxWidth:Rr.responsive.s-1,style:{float:"left",flexDirection:"row",flexWrap:"wrap",width:"auto",height:"auto"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{float:"right",flexDirection:"column",flexWrap:"nowrap",width:"113px",height:P?"106px":"96px"}},{minWidth:Rr.responsive.m,style:{float:"right",flexDirection:"column",flexWrap:"nowrap",width:"160px",height:P?"140px":"auto"}}]});o.appendChild(j),j.addChild(z);var U=new re({responsive:[{maxWidth:Rr.responsive.s,style:{height:o.calculateFlagPlaceholderHeight(!0,L)}},{minWidth:Rr.responsive.s,style:{height:o.calculateFlagPlaceholderHeight(!1,L)}}]});j.addChild(U);var V=new re({responsive:[{maxWidth:Rr.responsive.s,style:{height:o.calculateDiscountPlaceholderHeight(!0,A)}},{minWidth:Rr.responsive.s,style:{height:o.calculateDiscountPlaceholderHeight(!1,A)}}]});j.addChild(V);var $,G,Y,K,X,Z,q,J,Q,ee,te,ne=new re({type:"hotel-rate",display:"flex",position:"absolute",responsive:[{maxWidth:Rr.responsive.s-1,style:{flexDirection:"row",flexWrap:"nowrap",right:Rr.spacing.s,bottom:Rr.spacing.base,width:"120px",marginLeft:"0",marginTop:"0"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"113px",marginLeft:Rr.spacing.base,marginTop:Rr.spacing.base,flexDirection:"column",flexWrap:"wrap",right:Rr.spacing.base,bottom:Rr.spacing.base}},{minWidth:Rr.responsive.m,style:{width:"170px",marginLeft:Rr.spacing.base,marginTop:Rr.spacing.base,bottom:Rr.spacing.base,flexDirection:"row",flexWrap:"wrap",right:"6px"}}]});return j.appendChild(ne),o.hotelRate=new Is(e),ne.addChild(o.hotelRate),co.isHotelFullyBooked(e)&&co.hasHotelOpened(e)&&($=new re({type:"sold-out",position:"absolute",responsive:[{maxWidth:Rr.responsive.s-1,style:{right:Rr.spacing.base,bottom:"17px",width:"120px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"113px",right:Rr.spacing.base,bottom:"18px"}},{minWidth:Rr.responsive.m,style:{width:"170px",bottom:"72px",right:"4px"}}]}),j.appendChild($),G=new Ss("fullyBookedStyle",Dr.content.results.result.fullyBooked),$.appendChild(G)),co.hasHotelOpened(e)||(Y=new re({type:"opening-soon",position:"absolute",responsive:[{maxWidth:Rr.responsive.s-1,style:{right:Rr.spacing.base,bottom:Rr.spacing.base,width:"120px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"113px",right:Rr.spacing.base,bottom:Rr.spacing.base}},{minWidth:Rr.responsive.m,style:{width:"170px",bottom:"72px",right:"4px"}}]}),K=new re({type:"opening-soon-view-hotel",text:Dr.content.results.result.viewDetails,color:Rr.colours.primary.purple,textDecoration:"underline",fontSize:Rr.fontSizes.base,fontWeight:Rr.fontWeights.semiBold,lineHeight:Rr.lineHeight.m,responsive:[{maxWidth:Rr.responsive.m-1,style:{display:"inline-block"}},{minWidth:Rr.responsive.m,style:{display:"none"}}]}),j.appendChild(Y),Y.appendChild(K)),o.ctaButton=new Vs({type:"cta-button",height:"2.5rem",width:"160px",fontSize:"18px",display:"none",responsive:[{maxWidth:Rr.responsive.m-1,style:{display:"none"}},{minWidth:Rr.responsive.m,style:{display:"inline-block"}}]}),o.ctaChevron=new Ys({type:"cta-chevron",position:"absolute",right:"0",bottom:"-4px",responsive:[{maxWidth:Rr.responsive.s-1,style:{display:"block",marginTop:"35px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{display:"block",marginTop:"0"}},{minWidth:Rr.responsive.m,style:{display:"none"}}]}),ne.addChild(o.ctaButton),ne.addChild(o.ctaChevron),e.cellCodes.length&&!co.isHotelFullyBooked(e)&&co.hasHotelOpened(e)&&(X=Dr.content.results.result.promotions,Z=Object.keys(X),q="",Q=!1,(ee=e.cellCodes.map(function(e){var t=e.value;return-1<Z.indexOf(t)&&(e.rateAvailable?(q=Dr.content.results.result.promotions.discountApplied,J=Rr.colours.functionalAccent.greenDiscount,Q=!0):(q=Dr.content.results.result.promotions.discountUnavailable,J=Rr.colours.greyScale.darkest)),{promoText:q,colour:J,promotionAvailable:Q}})[0]).promoText.length&&(te=new Zs(ee),z.addChild(te))),o}var tl,nl=(E(il,tl=re),il);function il(e){void 0===e&&(e={});var t={id:"loading-message",text:"Loading...",fontSize:Rr.fontSizes.m,fontWeight:Rr.fontWeights.bold,textAlign:"center",width:"100%",display:"block",padding:Rr.margin.xl};return tl.call(this,oe.merge(t,e))||this}var rl,ol=(E(al,rl=Mr),al);function al(){var e={type:"notification",display:"block",zIndex:"1",text:Dr.content.results.notifications.noInitialSearch,opacity:"0",marginBottom:Rr.spacing.l,marginTop:Rr.spacing.l,transform:"translateY(-0.5rem)"};return rl.call(this,e)||this}var sl,ll=(E(cl,sl=re),cl);function cl(e){void 0===e&&(e={});var t={id:"more-hotels-message",text:Dr.content.results.result.moreHotelsMessage,fontSize:Rr.fontSizes.base,fontWeight:Rr.fontWeights.bold,textAlign:"center",width:"280px",display:"block",padding:Rr.margin.xl,margin:"0 auto"};return sl.call(this,oe.merge(t,e))||this}var dl,hl=(E(ul,dl=re),ul.prototype.update=function(e){document.removeEventListener("scroll",this.observeHotelPhotos,!0),window.removeEventListener("resize",this.observeHotelPhotos,!1);var t,n=e.hotels,i=e.allHotels,r=e.filterUpdatePending,o=e.noFilteredHotels,a=e.stayDetails,s=e.totalHotelsNumber;0!==i.length?(this.createHotelList({hotels:n,allHotels:i,stayDetails:a,totalHotelsNumber:s}),this.observeHotelPhotos(),document.addEventListener("scroll",this.observeHotelPhotos,!0),window.addEventListener("resize",this.observeHotelPhotos,!1),r&&this.animateList(),i.length!==n.length?0!==n.length||this.isElementInViewport(this.loadingMessage)?(No.filteredOutHotels=!1,No.hotelUnavailable=""):(t=o,No.hotelUnavailable=t,No.filteredOutHotels=!0,fo.validationMessaging(t)):(No.hotelUnavailable="",No.warningMessage())):(this.clearList(),s||this.progress.hide())},ul.prototype.clearList=function(){this.removeChild(this.loadingMessage),this.removeChild(this.moreHotelsMessage),this.removeChild(this.btnShowHotels),No.filterPriceOver=!1,this.resultsContainer&&this.removeChild(this.resultsContainer),this.resultsError&&this.removeChild(this.resultsError),this.progress.show(),this.progress.fromTo({duration:.5,fromVars:{opacity:"0"},toVars:{opacity:"1"},immediateRender:!0}),this.progress.textContent=Dr.content.results.notifications.searchingLocation+" "+Dr.state.stayDetails.name},ul.prototype.animateList=function(){this.resultsContainer.fromTo({duration:.75,fromVars:{opacity:"0"},toVars:{opacity:"1"}})},ul.prototype.createHotelList=function(e){var a=this,s=!1,t=e.hotels,n=e.allHotels,l=e.stayDetails,i=e.totalHotelsNumber;this.removeChild(this.resultsError);var r=this.resultsContainer;this.initialiseResultsList(),t.map(function(e,t){var n,i,r,o;e.index=t,e.hotelInfo.name&&(!a.experiments.hotelResultsDivider||s||e.available||(i=new re({text:Dr.content.results.result.hotelsDivider,style:{textAlign:"center",width:"100%",display:"block",margin:"14px 0 "+Rr.spacing.s+" 0",fontSize:Rr.fontSizes.base}}),s=!0,a.resultsContainer.addChild(i)),r=new re({type:"li",textAlign:"center",attributes:((n={})["data-test-id"]="hotel-wrapper",n)}),o=new Qs(e,l),r.addChild(o),a.resultsContainer.addChild(r))}),this.addChild(this.resultsContainer),this.removeChild(r),this.progress.hide(),No.filteredOutHotels=!1;var o=-1<Dr.state.filters.indexOf("UND")&&-1<Dr.state.filters.indexOf("OVE")||-1===Dr.state.filters.indexOf("UND")&&-1===Dr.state.filters.indexOf("OVE");No.newHotels.length?(this.showNoMoreResults(),n.length<i?(this.addLoadingMessage(),this.moreHotelsMessage.hide(),this.btnShowHotels.hide()):o||(n.length!==i||i===No.totalAvailableHotelsNumber)&&(n.length===i&&!No.totalAvailableHotelsNumber||n.length===i&&i===No.totalAvailableHotelsNumber)?(this.moreHotelsMessage.hide(),this.btnShowHotels.hide()):(this.moreHotelsMessage.show(),this.btnShowHotels.show())):this.showNoMoreResults()},ul.prototype.observeHotelPhotos=function(){[].slice.call(document.querySelectorAll("img.lazy-resizable-image")).forEach(function(e){var t;e.getBoundingClientRect().top<=window.innerHeight&&0<=e.getBoundingClientRect().bottom&&"none"!==getComputedStyle(e).display&&(t=te.width>Rr.responsive.s?e.attributes.smallimage.value:e.attributes.largeimage.value,e.src!==t&&(e.src=t))})},ul.prototype.availabilityErrorResponse=function(){this.clearList(),this.progress.hide();var e=Dr.content.results.notifications;fo.validationMessaging(e.availabilitiesErrorMessage),this.addChild(this.resultsError),this.showNoMoreResults()},ul.prototype.addLoadingMessage=function(){this.addChild(this.loadingMessage),this.startTimer()},ul.prototype.startTimer=function(){var e=this;clearInterval(this.intervalID),this.intervalID=setInterval(function(){e.checkElementInViewPort()},100)},ul.prototype.checkElementInViewPort=function(){this.loadingMessage&&this.isElementInViewport(this.loadingMessage)&&(window.clearInterval(this.intervalID),No.lazyLoadHotels())},ul.prototype.isElementInViewport=function(e){var t=e.element.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+1&&0!==t.bottom&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&0!==t.right},ul.prototype.showNoMoreResults=function(){var e=this;this.removeChild(this.loadingMessage),Jr.emailLandingView()&&-1<Dr.state.filters.indexOf("UND")&&!(-1<Dr.state.filters.indexOf("OVE"))&&(this.addChild(this.moreHotelsMessage),this.addChild(this.btnShowHotels),this.btnShowHotels.addEventListener(this,"click",function(){-1<Dr.state.filters.indexOf("UND")&&!(-1<Dr.state.filters.indexOf("OVE"))&&(No.filterPriceOver=!0,e.removeChild(e.moreHotelsMessage),e.removeChild(e.btnShowHotels),fo.track(fo.EVENTS.SEARCH_LIST.ELP_MORE),e.addLoadingMessage())})),this.progress.hide()},ul.prototype.initialiseResultsList=function(){this.resultsContainer=new re({type:"ol",listStyleType:"none",padding:"0",margin:"0",display:"block",width:"100%"})},ul);function ul(e){var t=dl.call(this,oe.merge(b({type:"results-list",display:"inline-block"},Jr.listView()),e))||this;t.experiments=Dr.config.experiments,t.progress=new ol,t.addChild(t.progress),t.moreHotelsMessage=new ll,t.btnShowHotels=new zs({text:Dr.content.results.result.showHotels,marginLeft:"auto",marginRight:"auto",padding:"0 "+Rr.spacing.base,textAlign:"center",display:"block",width:"162px",fontSize:Rr.fontSizes.base,marginBottom:Rr.spacing.l}),t.warningAlert=new ts("",{marginBottom:Rr.margin.m}),t.warningAlert.hide(),t.addChild(t.warningAlert);var n=Dr.content.results.notifications,i=n.errorTitle,r=n.availabilitiesErrorMessage,o=n.retry;return t.resultsError=new Ga({titleText:i,messageText:r,buttonText:o},{margin:Rr.margin.m+" auto",responsive:[{maxWidth:Rr.responsive.s,style:{width:"100%"}},{minWidth:Rr.responsive.s,style:{width:"500px"}}]}),He(function(){return Ga.clickAlertActionButton},function(e){e&&(t.removeChild(t.resultsError),t.progress.show(),No.hotelAvailabilities())}),t.loadingMessage=new nl,He(function(){return No.availabilitiesError},function(e){e&&t.availabilityErrorResponse(),No.availabilitiesError=!1}),He(function(){return No.hotelUnavailable},function(e){e?(t.warningAlert.updateMessage(e),t.warningAlert.show()):t.warningAlert.hide()}),He(function(){return No.hotels},function(){t.update({hotels:No.hotels,allHotels:No.allHotels,filterUpdatePending:No.filterUpdatePending,noFilteredHotels:Dr.content.results.notifications.noFilteredHotels,stayDetails:Dr.state.stayDetails,totalHotelsNumber:No.totalHotelsNumber}),No.filterUpdatePending=!1}),He(function(){return No.filterPriceUnder},function(e){e&&(t.moreHotelsMessage.show(),t.btnShowHotels.show())}),t}var pl,fl=(E(gl,pl=Zo),gl);function gl(e){void 0===e&&(e={});var t={fontSize:Rr.buttons.small.fontSize,height:Rr.buttons.small.height};return pl.call(this,oe.merge(t,e))||this}var ml,vl=(E(yl,ml=fl),yl);function yl(e){var t={border:Rr.borders.greyscaleMid,color:Rr.colours.greyScale.darkest,fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.m,fontWeight:Rr.fontWeights.normal,backgroundColor:Rr.colours.primary.white,borderRadius:"4px",hover:{border:"1px solid "+Rr.colours.primary.teal}};return ml.call(this,oe.merge(t,e))||this}var bl=ai(function(e,t){!function(){if(null===(typeof window!=="undefined"?window:null))throw new Error("Google-maps package can be used only in browser");e.exports=function(){var n="3.31",i=null,r=null,o=false,a=[],s=[],l=null,c={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};c.VERSION=n,c.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",c._googleMockApiObject={},c.load=function(e){if(r===null){if(o===true){if(e){a.push(e)}}else{o=true;window[c.WINDOW_CALLBACK_NAME]=function(){t(e)};c.createLoader()}}else if(e){e(r)}},c.createLoader=function(){i=document.createElement("script");i.type="text/javascript";i.src=c.createUrl();document.body.appendChild(i)},c.isLoaded=function(){return r!==null},c.createUrl=function(){var e=c.URL;e+="?callback="+c.WINDOW_CALLBACK_NAME;if(c.KEY){e+="&key="+c.KEY}if(c.LIBRARIES.length>0){e+="&libraries="+c.LIBRARIES.join(",")}if(c.CLIENT){e+="&client="+c.CLIENT}if(c.CHANNEL){e+="&channel="+c.CHANNEL}if(c.LANGUAGE){e+="&language="+c.LANGUAGE}if(c.REGION){e+="&region="+c.REGION}if(c.VERSION){e+="&v="+c.VERSION}return e},c.release=function(e){var t=function(){c.KEY=null;c.LIBRARIES=[];c.CLIENT=null;c.CHANNEL=null;c.LANGUAGE=null;c.REGION=null;c.VERSION=n;r=null;o=false;a=[];s=[];if(typeof window.google!=="undefined"){delete window.google}if(typeof window[c.WINDOW_CALLBACK_NAME]!=="undefined"){delete window[c.WINDOW_CALLBACK_NAME]}if(l!==null){c.createLoader=l;l=null}if(i!==null){i.parentElement.removeChild(i);i=null}if(e){e()}};if(o){c.load(function(){t()})}else{t()}},c.onLoad=function(e){s.push(e)},c.makeMock=function(){l=c.createLoader;c.createLoader=function(){window.google=c._googleMockApiObject;window[c.WINDOW_CALLBACK_NAME]()}};var t=function(e){var t;o=false;if(r===null){r=window.google}for(t=0;t<s.length;t++){s[t](r)}if(e){e(r)}for(t=0;t<a.length;t++){a[t](r)}a=[]};return c}()}()}),wl=(Cl.createMarker=function(e){var t=e.hotel,n=e.hotel,i=n.hotelCode,r=n.hotelBrand,o=n.hotelInfo,a=o.links,s=o.map,l=e.stayDetails,c=e.showMarker,d=Di.create({brand:r,detailsPage:a.detailsPage,domain:Dr.config.hotelDetails.domain.desktop,hotelsPath:Dr.config.hotelDetails.hotelPath,stayDetails:l,miscParams:Ni.parseMiscParams(Dr.state.preservedQS)});return{hotelCode:i,hotel:t,position:new google.maps.LatLng(s.latitude,s.longitude),hdpUrl:d,showMarker:c}},Cl.createCentreMarker=function(e){return{centerPoint:!0,position:new google.maps.LatLng(e.location.latitude,e.location.longitude),location:e.name}},Cl);function Cl(){}var xl,Sl=(E(kl,xl=re),kl);function kl(e){void 0===e&&(e={});var t=xl.call(this,e)||this;return t.innerHtml='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><circle cx="12" cy="12" r="12" fill="#00798E"/><path fill="#FFF" d="M9.47 17.47L10.53 18.53 17.061 12 10.53 5.47 9.47 6.53 14.939 12z"/></g></svg>',t}var Dl,El=(E(Ol,Dl=re),Ol);function Ol(e){void 0===e&&(e={});var t=Dl.call(this,e)||this;return t.innerHtml='<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>actions/light/close-24px</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Hotel+cards_Map_Pins_info" transform="translate(-1436.000000, -1751.000000)"><g id="actions/dark/close-24px" transform="translate(1436.000000, 1751.000000)"><circle id="oval" fill="#58595B" fill-rule="evenodd" cx="12" cy="12" r="12"></circle><path d="M8,16 L16,8 M16,16 L8,8" id="Combined-Shape" stroke="#FFFFFF" stroke-width="1.5"></path></g></g></g</svg>',t}var Ll,Al=(E(Pl,Ll=re),Pl.prototype.initHotelBadge=function(e){var t,n,i,r=Dr.config.hotelBrands;switch(e.toLocaleLowerCase()){case r.zip:t="/etc/clientlibs/pi-search-results/images/images/manifest-icons/pi-icon-badge-zip.svg",n=e.toLocaleUpperCase();break;case r.hub:t="/etc/clientlibs/pi-search-results/images/images/manifest-icons/pi-icon-badge-hub.svg",n=e.toLocaleLowerCase()}t&&n&&(i=new re({type:"img",id:"brandBadge-"+n,attributes:{alt:n,src:t},position:"absolute",style:{zIndex:Rr.zIndex.base,top:Rr.spacing.base,left:Rr.spacing.s}}),this.contentWrapper.addChild(i))},Pl);function Pl(e,t){var n,i,r=this,o=oe.merge({type:"span",id:"hotelCard",position:"relative",display:"block",cursor:"pointer",overflow:"visible",responsive:[{maxWidth:Rr.responsive.s,style:{width:"95%"}},{minWidth:Rr.responsive.s,style:{width:"300px"}}]},t),r=Ll.call(this,o)||this,a=e.photoUrl,s=e.name,l=e.hotelBrand,c=e.distance,d=e.ratePlans,h=e.bestPrice,u=e.cellCodes,p=e.hotelInfo,f=e.available,g=e.limitedAvailability,m=new El({type:"close-card-button",attributes:{tabindex:"0"},responsive:[{maxWidth:Rr.responsive.s,style:{position:"absolute",top:"-28px",right:"0"}},{minWidth:Rr.responsive.s,style:{display:"none"}}]});r.appendChild(m),m.addEventListener(r,"click",function(){var e=document.getElementById("hotelCard");e.parentNode.removeChild(e)}),r.contentWrapper=new re({type:"button",position:"relative",display:"block",cursor:"pointer",height:"auto",border:"none",textAlign:"initial",width:"100%",backgroundColor:Rr.colours.primary.white,style:{backgroundColor:Rr.colours.primary.white,boxShadow:"0 2px 12px 0 "+Rr.colours.greyScale.dark,padding:Rr.spacing.s+" "+Rr.spacing.s+" 0 "+Rr.spacing.s}}),r.appendChild(r.contentWrapper),r.contentWrapper.element.addEventListener("click",function(){window.location.href=Di.create({brand:l,detailsPage:p.links.detailsPage,domain:Dr.config.hotelDetails.domain.desktop,hotelsPath:Dr.config.hotelDetails.hotelPath,stayDetails:Dr.state.stayDetails,miscParams:Ni.parseMiscParams(Dr.state.preservedQS)})});var v=new re({type:"hotel-card-details",style:{display:"flex"}});r.contentWrapper.appendChild(v);var y=encodeURI(""+Dr.config.api.imagesUrl+a),b=new re({type:"img",style:{height:"75px",width:"109px",display:"inline-block",marginRight:Rr.margin.xs},attributes:{src:y,largeimage:y,smallimage:y,alt:Dr.content.results.result.imageAlt,itemscope:"",itemtype:"http://schema.org/photo"}});v.appendChild(b),r.initHotelBadge(l);var w=new re({type:"hotel-card-description",style:{verticalAlign:"top",flexGrow:"1"}});v.appendChild(w);var C=new ss(s,l,!0),x=new rs(c);w.appendChild(C),w.appendChild(x);var S=new re({type:"hotel-card-badges",style:{display:"flex",fontSize:Rr.fontSizes.xs,lineHeight:"12px"}});r.contentWrapper.appendChild(S);var k,D=p.messagingFlag,E=p.facilities,O={ratePlans:d,available:f,hotelInfo:p};if(co.hasHotelOpened(O)||(k=new Ss("openingSoonStyle",Dr.content.results.result.openingSoon,!0),S.appendChild(k)),D&&Object.keys(D).length&&(A=void 0,D.flagText&&""!==D.flagText.trim()&&"hub"!==D.flagText.trim().toLowerCase()&&(A=D.flagText),A&&(L=new Ss("messagingFlagStyle",A,!0),S.addChild(L))),E&&E.length){var L,A=void 0,P=Dr.content.filter.code,T=P.premierPlusRoom,N=P.businessRoom;try{for(var _=ie(E),R=_.next();!R.done;R=_.next()){switch(R.value.code){case T:A=Dr.content.results.result.facilities.premierPlusRoom;break;case N:A=Dr.content.results.result.facilities.businessRoom}}}catch(e){n={error:e}}finally{try{R&&!R.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}A&&(L=new Ss("facilitiesTypeStyle",A,!0),S.addChild(L))}var I=new re({type:"hotel-card-line-break",style:{width:"100%",border:"1px solid "+Rr.colours.greyScale.lighter,marginTop:Rr.margin.xs,display:"block"}});r.contentWrapper.appendChild(I);var H,M,W,B,F,z,j,U=!1;u.length&&(H=Dr.content.results.result.promotions,M=Object.keys(H),W="",F=!"none",(z=u.map(function(e){var t=e.value;return-1<M.indexOf(t)&&(e.rateAvailable?(W=Dr.content.results.result.promotions.discountApplied,B=Rr.colours.functionalAccent.greenDiscount,F=!0):(W=Dr.content.results.result.promotions.discountUnavailable,B=Rr.colours.greyScale.darkest)),{promoText:W,colour:B,backgroundColor:"none",promotionAvailable:F,textAlign:"left"}})[0]).promoText.length&&(j=new Zs(z,!0),r.contentWrapper.addChild(j),U=!0));var V,$=new re({type:"hotel-card-rate-wrapper",style:{display:"flex",width:"100%",justifyContent:g?"space-between":"flex-end",alignItems:"center",padding:U?"0 0 "+Rr.spacing.s+" 0":"4px 0 "+Rr.spacing.s+" 0"}});r.contentWrapper.appendChild($),g&&(V=new re({type:"hotel-card-last-few-rooms-warning",text:Dr.content.results.result.availabilityWarning,style:{color:Rr.colours.accent.coral,fontWeight:Rr.fontWeights.semiBold,display:"inline-block",fontSize:Rr.fontSizes.s,lineHeight:"12px",marginTop:Rr.spacing.s}}),$.addChild(V));var G={ratePlans:d,bestPrice:h},Y=new re({type:"hotel-card-rate-and-cta-wrapper",style:{display:"flex"}});$.addChild(Y);var K,X=new Is(G,!0,{type:"hotel-price-label",marginRight:Rr.spacing.s}),Z=new Sl({type:"arrow-button",position:"relative",top:"4px"});return co.isHotelFullyBooked(O)&&co.hasHotelOpened(O)&&(K=new re({type:"fully-booked-label",text:Dr.content.results.result.fullyBooked,color:Rr.colours.greyScale.darker,fontSize:Rr.fontSizes.base,fontWeight:Rr.fontWeights.bold,margin:"6px 4px 0 0"}),Y.appendChild(K)),Y.addChild(X),Y.addChild(Z),r}function Tl(e){var o,t=e.OverlayView,n=void 0===t?google.maps.OverlayView:t,c=O(e,["OverlayView"]);function i(){var e=o.call(this)||this,t=c.position,n=c.map,i=c.marker,r=c.isSmallScreen;return e.marker=i,e.position=t,e.isSmallScreen=r,e.setMap(n),He(function(){return No.removeMapHotelCard},function(){e.getPanes().floatPane.removeChild(e.div.element),e.div.hide()}),e}return new(E(i,o=n),i.prototype.draw=function(){this.div||(this.createDiv(),this.appendDivToOverlay()),this.positionDiv()},i.prototype.remove=function(){this.div&&this.div.element.parentElement&&(this.div.element.parentElement.innerHTML="")},i.prototype.createDiv=function(){this.div=new re({type:"hotel-card-container"}),this.card=new Al(c.hotelCardProps),this.isSmallScreen?c.mapContainer.appendChild(this.card.element):this.div.element.appendChild(this.card.element)},i.prototype.appendDivToOverlay=function(){this.getPanes().floatPane.appendChild(this.div.element)},i.prototype.positionDiv=function(){var e,t=this.getProjection().fromLatLngToDivPixel(this.position),n=t.x,i=t.y,r=this.card.element.getBoundingClientRect(),o=c.mapContainer.getBoundingClientRect(),a=this.marker.element.clientWidth/2,s=Dr.state.stayDetails.dateless?this.marker.element.clientHeight:this.marker.element.clientHeight+8,l=c.isSmallScreen?(e=o.height-r.height-10+"px",o.width/2-r.width/2+"px"):(e=i-s-r.height-10+"px",n-a/2-r.width/2+"px");this.card.style({top:e,left:l})},i)}var Nl,_l=(E(Rl,Nl=G),Rl);function Rl(e){var t=this,n=oe.merge({type:"marker",position:"absolute",backgroundColor:Rr.colours.primary.white,border:Rr.borders.black,borderRadius:"5px",padding:"0 "+Rr.spacing.xs,width:"auto",minWidth:"3.25rem",display:"table",lineHeight:Rr.lineHeight.subtext,fontWeight:Rr.fontWeights.semiBold,fontSize:Rr.fontSizes.xs,fontFamily:Rr.font.baseFont,textAlign:"center",color:Rr.colours.brands.hub.secondary,cursor:"pointer",zIndex:"-2",whiteSpace:"nowrap",hover:{durationIn:0,durationOut:.25,style:{border:Rr.borders.transparent}}},e);(t=Nl.call(this,n)||this).textContent="",t.text=new re({type:"span",text:n.text}),t.addChild(t.text);var i=new G({width:"0",height:"0",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderTop:"5px solid "+n.backgroundColor,position:"absolute",left:"calc(50% - 3px)",hover:{durationIn:0,durationOut:.25,borderTop:"5px solid "+n.hover.style.backgroundColor}}),r=new G({width:"0",height:"0",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderTop:"5px solid "+Rr.colours.primary.black,position:"absolute",zIndex:"-1",top:"-4px",left:"calc(50% - 3px)",hover:{durationIn:0,durationOut:.25,borderTop:"5px solid "+n.hover.style.backgroundColor}});return i.addChild(r),t.chevronIcon=i,t.chevronBorderObject=r,t.addChild(t.chevronIcon),t.addEventListener(t,"mouseover",function(){t.chevronIcon.over(),t.chevronBorderObject.over()}),t.addEventListener(t,"mouseout",function(){t.chevronIcon.out(),t.chevronBorderObject.out()}),t}var Il,Hl=(E(Ml,Il=re),Ml);function Ml(e){void 0===e&&(e={});var t=Il.call(this,oe.merge(e,{display:"block",type:"marker",position:"absolute",cursor:"pointer",width:"18px",zIndex:"-2"}))||this,n=new XMLSerializer,i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=i.namespaceURI,o=document.createElementNS(r,"path");return i.setAttribute("height","31"),i.setAttribute("width","22"),i.setAttribute("viewBox","0 0 22 31"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("d","m85 3155c-4.976 0-9 3.912-9 8.75 0 6.563 9 16.25 9 16.25s9-9.688 9-16.25c0-4.838-4.024-8.75-9-8.75z"),o.setAttribute("fill",Rr.colours.primary.purple),o.setAttribute("stroke",Rr.colours.primary.white),o.setAttribute("transform","translate(-74 -3153)"),o.setAttribute("onmouseover",'evt.target.setAttribute("fill","'+Rr.colours.primary.btn+'")'),o.setAttribute("onmouseout",'evt.target.setAttribute("fill","'+Rr.colours.primary.purple+'")'),i.appendChild(o),t.innerHtml=n.serializeToString(i),t}var Wl,Bl=(E(Fl,Wl=_l),Fl);function Fl(e){var t=oe.merge({backgroundColor:Rr.colours.greyScale.light,fontWeight:Rr.fontWeights.normal,color:Rr.colours.greyScale.darkest,hover:{style:{border:Rr.borders.black}}},e);return Wl.call(this,t)||this}var zl,jl=(E(Ul,zl=_l),Ul);function Ul(e){var t=oe.merge({backgroundColor:Rr.colours.primary.white,fontWeight:Rr.fontWeights.normal,color:Rr.colours.greyScale.darkest,hover:{style:{border:Rr.borders.black}}},e);return zl.call(this,t)||this}var Vl,$l=(E(Gl,Vl=re),Gl);function Gl(e){var t,n,i,r,o,a,s,l=Vl.call(this)||this;return co.hasHotelOpened(e.hotel)?co.isHotelFullyBooked(e.hotel)?l.markerIcon=new Bl({text:Dr.content.results.result.fullyBooked}):(t={},e.hotel.hotelBrand&&(n=e.hotel.hotelBrand.toLowerCase(),Rr.colours.brands[n]&&(t={style:{backgroundColor:Rr.colours.brands[n].primary,color:Rr.colours.brands[n].secondary}})),e.hotel.ratePlans.length?(i=so.cheapestRatePlan(e.hotel.ratePlans).totalCost,r=so.formatPrice(i,Dr.config.locale),o=so.removeRedundantDecimal(r),l.markerIcon=new _l({text:o,hover:t})):e.hotel.bestPrice?(a=so.formatPrice(e.hotel.bestPrice,Dr.config.locale),s=so.removeRedundantDecimal(a),l.markerIcon=new _l({text:s,hover:t})):l.markerIcon=new Hl):l.markerIcon=new jl({text:Dr.content.results.result.openingSoon}),l.markerIcon}var Yl,Kl=(E(Xl,Yl=re),Xl.prototype.show=function(){var e=this;Yl.prototype.show.call(this),this.map?this.renderPending?(this.style({opacity:"0"}),this.renderPending=!1,setTimeout(function(){e.update({hotels:No.hotels,allHotels:No.allHotels,noFilteredHotels:Dr.content.results.notifications.noFilteredHotels,totalHotelsNumber:No.totalHotelsNumber}),e.style({opacity:"100"}),e.centerMap()},10)):setTimeout(function(){e.centerMap()},10):(bl.CLIENT=Dr.config.map.gmapKey,bl.VERSION=Dr.config.map.gmapVersion,bl.load(function(){e.renderPending=!1,e.map=new google.maps.Map(e.mapContainer.element,e.options),e.update({hotels:No.hotels,allHotels:No.allHotels,noFilteredHotels:Dr.content.results.notifications.noFilteredHotels,totalHotelsNumber:No.totalHotelsNumber})}))},Xl.prototype.update=function(e){var t=this,n=e.hotels,i=e.allHotels,r=e.noFilteredHotels;0!==i.length?(No.hotels.map(function(e){return t.filteredHotels[e.hotelCode]=e.hotelCode}),n.length<i.length?n.length||i.length!==No.totalHotelsNumber?(No.hotelUnavailable||this.warningAlerts.hide(),No.filteredOutHotels=!0):(this.warningAlerts.updateMessage(r),this.warningAlerts.show(),this.createMap(),No.filteredOutHotels=!1):No.hotelUnavailable||this.warningAlerts.hide(),this.toggleMarkerDisplay(),(this.initialLoad||this.lazyLoading)&&(this.createMap(),this.initialLoad=!1)):(this.initialLoad=!0,this.filteredHotels={})},Xl.prototype.toggleMarkerDisplay=function(){var e,o,a,t;this.mapMarker&&(e=this.mapMarker.getPanes(),o=new google.maps.LatLngBounds,e&&(a={},t=e.overlayImage.children,No.hotels.map(function(e){a[e.hotelCode]={longitude:e.hotelInfo.map.longitude,latitude:e.hotelInfo.map.latitude}}),[].forEach.call(t,function(e){var t,n,i,r;a[e.attributes.hotelcode.value]?(e.style.display="block",n=(t=a[e.attributes.hotelcode.value]).latitude,i=t.longitude,r=new google.maps.LatLng(n,i),o.extend(r)):e.style.display="none"}),No.allHotels.length!==No.totalHotelsNumber&&No.newHotel||(this.map.fitBounds(o),this.map.panToBounds(o))))},Xl.prototype.createMap=function(){var t,e,n=this;if(this.map){this.initialLoad&&this.mapMarker&&(this.markers[0].remove(),this.markers=[]);var i,r,o,a,s=this.initialLoad?"allHotels":"newHotels",l=new google.maps.LatLngBounds,c=No[s].filter(function(e){return e.hotelInfo.map.latitude&&e.hotelInfo.map.longitude}).map(function(e){var t=!1;return 0<No.hotels.length&&(t=!Object.keys(n.filteredHotels).length||!!n.filteredHotels[e.hotelCode]),wl.createMarker({hotel:e,stayDetails:Dr.state.stayDetails,showMarker:t})});if(c.length){try{for(var d=ie(c),h=d.next();!h.done;h=d.next()){var u=h.value,p=u.hotelCode,f=u.showMarker,g=u.hdpUrl,m=u.position,v=u.hotel,y=v.hotelInfo,b=v.hotelBrand,w=v.distance,C=v.ratePlans,x=v.bestPrice,S=v.cellCodes,k=v.available,D=v.limitedAvailability;this.mapMarker=function(e){var o,t=e.OverlayView,n=void 0===t?google.maps.OverlayView:t,u=O(e,["OverlayView"]);function i(){var h=o.call(this)||this;h.shouldMarkerCenter=function(){var e=u.mapContainer.getBoundingClientRect(),t=e.top,n=e.left,i=e.right,r=e.bottom,o=h.marker.element.getBoundingClientRect(),a=o.top,s=o.left,l=o.right,c=o.bottom,d=u.isSmallScreen;return a-t<(d?50:300)||s-n<(d?0:150)||i-l<(d?0:150)||r-c<(d?200:50)},h.desktopClickEventHandler=function(e){var t;e?(t=google.maps.event.addDomListener(u.map,"idle",function(){Tl({position:h.position,marker:h.marker,map:u.map,mapContainer:u.mapContainer,isSmallScreen:u.isSmallScreen,hotelCardProps:u.hotelCardProps}),google.maps.event.removeListener(t)}),u.map.panTo(h.position)):Tl({position:h.position,marker:h.marker,map:u.map,mapContainer:u.mapContainer,isSmallScreen:u.isSmallScreen,hotelCardProps:u.hotelCardProps})},h.mobileClickEventHandler=function(e){var t=document.getElementById("hotelCard");t&&t.parentNode&&t.parentNode.removeChild(t),e?(Tl({position:h.position,marker:h.marker,map:u.map,mapContainer:u.mapContainer,isSmallScreen:u.isSmallScreen,hotelCardProps:u.hotelCardProps}),u.map.panTo(h.position)):Tl({position:h.position,marker:h.marker,map:u.map,mapContainer:u.mapContainer,isSmallScreen:u.isSmallScreen,hotelCardProps:u.hotelCardProps})};var e=u.position,t=u.hotelCode,n=u.marker,i=u.map,r=u.showMarker;return h.position=e,h.hotelCode=t,h.marker=n,h.setMap(i),h.showMarker=r,h}return new(E(i,o=n),i.prototype.draw=function(){this.div||(this.createDiv(),this.appendDivToOverlay()),this.positionDiv()},i.prototype.remove=function(){this.div&&this.div.element.parentElement&&(this.div.element.parentElement.innerHTML="")},i.prototype.createDiv=function(){var t=this;this.div=new re({type:"marker-container",display:this.showMarker?"block":"none",attributes:{hotelCode:this.hotelCode}}),this.marker&&this.div.element.appendChild(this.marker.element),google.maps.event.addDomListener(this.div.element,"click",function(){var e=t.shouldMarkerCenter();u.isSmallScreen?t.mobileClickEventHandler(e):t.desktopClickEventHandler(e)})},i.prototype.appendDivToOverlay=function(){this.getPanes().overlayImage.appendChild(this.div.element)},i.prototype.positionDiv=function(){var e=this.getProjection().fromLatLngToDivPixel(this.position),t=e.x,n=e.y,i=this.marker.element.clientWidth/2,r=Dr.state.stayDetails.dateless?this.marker.element.clientHeight:this.marker.element.clientHeight+8;this.marker.style({top:n-r+"px",left:t-i+"px"})},i)}({hotelCode:p,showMarker:f,hdpUrl:g,position:m,isSmallScreen:this.isSmallScreen,marker:new $l(u),map:this.map,mapContainer:this.mapContainer.element,hotelCardProps:{photoUrl:y.images[0].fileReference,name:y.name,hotelBrand:b,distance:w,ratePlans:C,bestPrice:x,cellCodes:S,hotelInfo:y,available:k,limitedAvailability:D}}),this.markers.push(this.mapMarker),l.extend(u.position)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}this.map.addListener("zoom_changed",function(){n.isSmallScreen||No.removeHotelCard()}),google.maps.event.addDomListener(this.mapContainer.element,"mousedown",function(){var e=document.getElementById("hotelCard"),t=e&&e.contains(event.target);event.target===e||n.isSmallScreen||t||No.removeHotelCard()}),google.maps.event.addDomListener(this.mapContainer.element,"touchstart",function(){var e=document.getElementById("hotelCard"),t=e&&e.contains(event.target);event.target===e||n.isSmallScreen||t||No.removeHotelCard()}),0===No.allHotels.length?(i=new google.maps.LatLng(49.383639452689664,-17.39866406249996),r=new google.maps.LatLng(59.53530451232491,8.968523437500039),o=new google.maps.LatLngBounds(i,r),this.map.fitBounds(o)):No.allHotels.length<=Dr.config.map.lazyLoadZoomTotal&&this.map.fitBounds(l),this.lazyLoading||this.map.fitBounds(l)}1===No.hotels.length&&(a=google.maps.event.addListener(this.map,"idle",function(){n.map.getZoom()>Dr.config.map.zoom&&n.map.setZoom(Dr.config.map.zoom),google.maps.event.removeListener(a)}))}},Xl.prototype.centerMap=function(){var e;this.map&&(e=this.map.getCenter(),google.maps.event.trigger(this.map,"resize"),this.map.setCenter(e))},Xl);function Xl(e){void 0===e&&(e={});var t=Yl.call(this,oe.merge({type:"map",display:"block",position:"relative",width:"100%",height:"100%"},e))||this;t.markers=[],t.filteredHotels={},t.listButtonStyle={boxShadow:Rr.colours.greyScale.dark+" 0px 2px 8px 0px",narrowHeight:"45px"},t.initialLoad=!0,t.renderPending=!1,t.lazyLoading=!1,t.isSmallScreen=window.innerWidth<Rr.responsive.s,t.mapContent=Dr.content.map,t.filtersOpen=Jr.filtersOpen();var n=new re({position:"absolute",width:"100%",zIndex:Rr.zIndex.base,pointerEvents:"none",marginTop:"16px"});t.addChild(n);var i=new Wo({className:["site-container","gutter-container"]});n.addChild(i);var r=new vl(b({text:window.innerWidth<Rr.responsive.s?t.mapContent.filters:t.mapContent.filtersLong,boxShadow:t.listButtonStyle.boxShadow,pointerEvents:"auto",height:Rr.buttons.default.height},Jr.mapFiltersButton()));i.addChild(r);var o,a=new vl({text:window.innerWidth<Rr.responsive.s?t.mapContent.list:t.mapContent.listLong,boxShadow:t.listButtonStyle.boxShadow,pointerEvents:"auto",height:Rr.buttons.default.height,marginLeft:"24px",responsive:[{maxWidth:Rr.responsive.s-1,style:{width:"137px",marginLeft:"16px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"168px",marginLeft:"24px"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{width:"162px"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{width:"184px"}},{minWidth:Rr.responsive.xl,style:{width:"198px"}}]});a.addEventListener(t,"click",function(){Dr.state.app.VIEW=ci.List,fo.stayDetailsUpdate(Dr.state.stayDetails,No.hotels.length),fo.track(fo.getEvent("SEARCH_LIST",Dr.state.stayDetails.dateless))}),i.addChild(a),window.addEventListener("resize",function(){window.innerWidth<Rr.responsive.s?(a.innerText=t.mapContent.list,r.innerText=t.mapContent.filters):(a.innerText=t.mapContent.listLong,r.innerText=t.mapContent.filtersLong)}),t.filtersOpen?r.addEventListener(t,"click",function(){No.mapFiltersOpen=!0}):r.addEventListener(t,"click",function(){No.listFiltersOpen=!0}),t.warningAlerts=new ts("",{width:"100%",responsive:[{maxWidth:Rr.responsive.m,style:{marginTop:Rr.spacing.s}},{minWidth:Rr.responsive.m,style:{marginTop:Rr.spacing.m}}]}),t.warningAlerts.hide(),i.addChild(t.warningAlerts),He(function(){return No.hotelUnavailable},function(e){e?(t.warningAlerts.updateMessage(e),t.warningAlerts.show(),fo.validationMessaging(e)):t.warningAlerts.hide()}),He(function(){return No.resultPageNum},function(e){1===e&&(t.initialLoad=!0)}),t.filtersOpen&&(o=new Wo({paddingLeft:Rr.spacing.s,zIndex:Rr.zIndex.popups,position:"relative"}),n.addChild(o),He(function(){return Dr.state.app.VIEW},function(e){e===ci.Map?(t.mapFilters=new Ma({padding:Rr.spacing.s}),t.mapFiltersSlideOver=new Yo(t.mapFilters,{backgroundColor:Rr.colours.neutral.light,display:"block",marginTop:Rr.spacing.m,position:"absolute",type:"filters-slide",width:Rr.columns.col3,boxShadow:"rgba(0, 0, 0, 0.1) 0px 2px 3px 0px"},{zIndex:Rr.zIndex.popups}),o.appendChild(t.mapFiltersSlideOver),t.filtersOpen&&window.innerWidth>=Rr.responsive.m?(t.mapFiltersSlideOver.open(),o.appendChild(t.mapFiltersSlideOver)):(t.mapFiltersSlideOver.hidden(),t.insertBefore(t.mapFiltersSlideOver,t.mapContainer))):o.removeChild(t.mapFiltersSlideOver),He(function(){return No.mapFiltersOpen},function(e){e&&t.mapFiltersSlideOver.open(),e||t.mapFiltersSlideOver.close()}),He(function(){return Yo.slideOverState},function(e){e||(No.mapFiltersOpen=!1)})}),window.addEventListener("resize",function(){Dr.state.app.VIEW===ci.Map&&(window.innerWidth>=Rr.responsive.m?(t.removeChild(t.mapFiltersSlideOver),o.appendChild(t.mapFiltersSlideOver),t.mapFiltersSlideOver.open()):(o.removeChild(t.mapFiltersSlideOver),t.insertBefore(t.mapFiltersSlideOver,t.mapContainer),t.mapFiltersSlideOver.hidden()),Dr.Header.changeHeight())}));var s=Dr.config.map,l=s.zoom,c=s.minZoom,d=s.mapControls,h=s.fullscreenControl,u=s.zoomControl,p=s.scaleControl,f=s.streetViewControl,g=s.rotateControl;return t.options={zoom:l,minZoom:c,mapTypeControl:d,fullscreenControl:h,zoomControl:!t.isSmallScreen&&u,scaleControl:p,streetViewControl:!t.isSmallScreen&&f,rotateControl:g},t.mapContainer=new re({type:"map-display",display:"block",height:"100%",width:"100%"}),t.addChild(t.mapContainer),window.addEventListener("resize",function(){t.centerMap(),Dr.Header.changeHeight()}),He(function(){return No.hotels},function(){t.renderPending=!0,Dr.state.app.VIEW===ci.Map&&(t.update({hotels:No.hotels,allHotels:No.allHotels,noFilteredHotels:Dr.content.results.notifications.noFilteredHotels,totalHotelsNumber:No.totalHotelsNumber}),t.renderPending=!1),No.filteredOutHotels&&(No.newHotels.length&&No.allHotels.length<No.totalHotelsNumber&&No.hotels.length<No.allHotels.length?(t.lazyLoading=!0,No.lazyLoadHotels(),t.lazyLoading=!0):t.lazyLoading=!1)}),t}var Zl,ql=(E(Jl,Zl=re),Jl.prototype.updateTextContent=function(e){this.hotelsTotal.textContent=e.toString()+" "},Jl);function Jl(e){void 0===e&&(e={});var t=Zl.call(this,oe.merge({type:"total-hotels",display:"none",fontSize:Rr.fontSizes.base,color:Rr.colours.greyScale.darker},e))||this;t.hotelsTotal=new re({type:"span",fontWeight:Rr.fontWeights.semiBold,text:"0 "}),t.addChild(t.hotelsTotal);var n=new re({type:"span",text:Dr.content.totalHotels});return t.addChild(n),t}var Ql,ec=(E(tc,Ql=fa),tc.prototype.rotateDown=function(){this.style({transform:"rotate( -180deg )",transition:"transform 550ms ease"})},tc.prototype.rotateUp=function(){this.style({transform:"rotate( -360deg )",transition:"transform 550ms ease"})},tc);function tc(e){return void 0===e&&(e={}),Ql.call(this,oe.merge({src:Rr.icons.chevronDown,alt:"Downward chevron"},e))||this}var nc,ic=(E(rc,nc=re),rc.prototype.addOptions=function(e){var n=this;this.trackOptions.forEach(function(e){n.removeChild(e)}),this.trackOptions=e.map(function(e){var t=new re({text:e.text,type:"option",fontWeight:"normal",attributes:{value:e.value}});return n.appendChild(t),t})},rc.CHANGE="change",rc);function rc(e){var t=nc.call(this,{type:"select",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",width:"100%",color:"inherit",cursor:"pointer",fontSize:"inherit",backgroundColor:"inherit",height:"100%",padding:"0 26px 0 16px",border:"none",outline:"none",borderRadius:"inherit"})||this;return t.trackOptions=[],t.element.name=e.name,t.addOptions(e.options),t}var oc,ac=(E(sc,oc=G),Object.defineProperty(sc.prototype,"value",{get:function(){return this.select.element.value},set:function(e){this.select.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(sc.prototype,"selectedIndex",{get:function(){return this.select.element.selectedIndex},set:function(e){this.select.element.selectedIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(sc.prototype,"options",{get:function(){var e,t=this.select.element,n=[];for(var i in t.options){t.options.hasOwnProperty(i)&&(e=t.options[i],n.push({value:e.value,text:e.text}))}return n},set:function(e){this.select.addOptions(e)},enumerable:!1,configurable:!0}),sc);function sc(e){var t=oc.call(this,oe.merge({height:Rr.field.height,position:"relative",cursor:"pointer"},e))||this;return t.select=new ic(e),t.select.addEventListener(t,"focus",t.over),t.select.addEventListener(t,"blur",t.out),t.addChild(t.select),t.chevron=new ec({color:Rr.colours.greyScale.darkest,cursor:"pointer",position:"absolute",width:"36px",right:"6px",top:"7px",pointerEvents:"none",height:"24px"}),t.addChild(t.chevron),t}var lc,cc=(E(dc,lc=ac),dc.prototype.updateSelectedSortOption=function(e){this.selectedIndex=e-1},dc);function dc(e){return lc.call(this,oe.merge({options:e.options,type:"results-sort",cursor:"pointer",name:"results-sort-select",display:"inline-block",fontSize:Rr.fontSizes.base,lineHeight:Rr.lineHeight.m,fontWeight:Rr.fontWeights.normal,fontFamily:"inherit",border:Rr.borders.greyscaleMid,color:Rr.colours.greyScale.darkest,height:Rr.buttons.default.height,borderRadius:"4px",verticalAlign:"top",backgroundColor:Rr.colours.primary.white,hover:{border:"1px solid "+Rr.colours.primary.teal,durationIn:0,durationOut:.5}},e))||this}var hc,uc=(E(pc,hc=re),pc.prototype.updateResultsPending=function(e){e&&this.totalHotels.show()},pc.prototype.updateHotels=function(e){var t=e.dateless,n=e.hotelLength,i=e.totalHotels;n?(this.totalHotels.updateTextContent(i),this.totalHotels.show(),t&&!Jr.emailLandingView()?this.searchResultsSort.hide():this.searchResultsSort.style({display:"inline-block"})):this.totalHotels.hide()},pc.prototype.renderChildren=function(){var t=this,e=[{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{width:"184px"}},{minWidth:Rr.responsive.xl,style:{width:"198px"}}],n=new vl({text:window.innerWidth>=Rr.responsive.s?this.listContent.filtersLong:this.listContent.filters,id:"filterButton",height:"40px",padding:"0 "+Rr.spacing.s,responsive:w([{maxWidth:Rr.responsive.s-1,style:{width:"60px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.l-1,style:{width:"162px"}}],e)});n.addEventListener(this,"click",function(){return No.listFiltersOpen=!0}),this.addChild(n),this.searchResultsSort=new cc({margin:"0 16px",responsive:w([{maxWidth:Rr.responsive.s-1,style:{margin:"0 16px",width:"136px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{margin:"0 12px",width:"162px"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{margin:"0 24px",width:"162px"}}],e),options:[{value:si.Distance.toString(),text:this.listContent.distance},{value:si.Price.toString(),text:this.listContent.price}]}),this.addChild(this.searchResultsSort),this.searchResultsSort.addEventListener(this.searchResultsSort,"change",function(e){+e.target.value===si.Price?No.sort=si.Price:No.sort=si.Distance});var i=new vl({text:window.innerWidth>=Rr.responsive.s?this.listContent.mapLong:this.listContent.map,verticalAlign:"top",id:"mapButton",height:"40px",padding:"0 "+Rr.spacing.s,responsive:w([{maxWidth:Rr.responsive.s-1,style:{width:"60px"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{width:"168px"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{width:"162px"}}],e)});i.addEventListener(this,"click",function(){Dr.state.app.VIEW=ci.Map,fo.createAnalyticsHotelArray(No.hotels,Dr.state.stayDetails),fo.stayDetailsUpdate(Dr.state.stayDetails,No.hotels.length),fo.track(fo.getEvent("SEARCH_MAP",Dr.state.stayDetails.dateless))}),this.addChild(i),window.addEventListener("resize",function(){window.innerWidth>=Rr.responsive.s?(i.innerText=t.listContent.mapLong,n.innerText=t.listContent.filtersLong):(i.innerText=t.listContent.map,n.innerText=t.listContent.filters)}),Jr.filtersOpen()?(window.addEventListener("resize",function(){window.innerWidth>=Rr.responsive.m?n.hide():n.style({display:"inline-block"})}),window.innerWidth>=Rr.responsive.m&&n.hide(),this.totalHotels=new ql({responsive:[{maxWidth:Rr.responsive.m,style:{display:"block",paddingTop:Rr.spacing.m}},{minWidth:Rr.responsive.m,style:{display:"inline-block",paddingTop:"8px"}}]})):this.totalHotels=new ql({display:"inline-block",width:"100%",textAlign:"left",margin:Rr.spacing.base+" 0 0",pointerEvents:"none",position:"relative",top:"0px"}),this.addChild(this.totalHotels),He(function(){return No.resultsLoading},function(){No.hotels&&t.updateResultsPending(No.hotels.length)}),He(function(){return No.sort},function(e){return t.searchResultsSort.updateSelectedSortOption(e)}),He(function(){return No.hotels},function(){t.updateHotels({dateless:Dr.state.stayDetails.dateless,hotelLength:No.hotels.length,sort:Dr.state.app.SORT,totalHotels:No.totalHotelsNumber})}),this.totalHotels.hide()},pc);function pc(e){void 0===e&&(e={});var t=hc.call(this,oe.merge({type:"results-controls",style:{display:"none",paddingBottom:Rr.spacing.base,width:"100%"},responsive:[{maxWidth:Rr.responsive.s-1,style:{margin:"unset",display:"flex",flexWrap:"wrap",width:"100%",textAlign:"left"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.m-1,style:{margin:"unset",display:"flex",flexWrap:"wrap",width:"100%",textAlign:"left"}},{minWidth:Rr.responsive.m,maxWidth:Rr.responsive.l-1,style:{margin:"unset",width:"100%"}},{minWidth:Rr.responsive.l,maxWidth:Rr.responsive.xl-1,style:{margin:"auto",width:"808px"}},{minWidth:Rr.responsive.xl,style:{margin:"auto",width:"864px"}}]},e))||this;return t.listContent=Dr.content.results.menu,t.renderChildren(),t}var fc,gc=(E(mc,fc=re),mc);function mc(e){void 0===e&&(e={});var t=this,n=(t=fc.call(this,oe.merge({type:"icon",display:"block"},e))||this).element.style.color||Rr.colours.primary.black;return t.innerHtml='\n            <svg display="block" width="100%" height="100%" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0h48v48H0z"/>\n                    <path fill="'+n+'" fill-rule="nonzero" d="M22 34h4V22h-4v12zm2-30C12.96 4 4 12.96 4 24s8.96 20 20 20 20-8.96 20-20S35.04 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z"/>\n                </g>\n            </svg>\n        ',t}var vc,yc=(E(bc,vc=G),bc);function bc(e){void 0===e&&(e={});var t=oe.merge({fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.s},e.style);return vc.call(this,oe.merge(t,e))||this}var wc,Cc=(E(xc,wc=re),xc.prototype.heightChange=function(e){this.headerHeight=e,Dr.state.app.VIEW===ci.Map?this.style({height:"calc(100% - "+e+"px)"}):this.style({minHeight:"calc(100% - "+e+"px)"})},xc.prototype.createDateNotification=function(){var e=new re({type:"date-range-notification",backgroundColor:Rr.colours.functionalAccent.infoBlueLight,fontSize:Rr.fontSizes.xs,width:"100%",float:"left",marginTop:Rr.spacing.s,marginBottom:Rr.spacing.s,display:"block"});this.gutters.insertBefore(e,this.controls);var t=new gc({type:"icon",color:Rr.colours.accent.blue,width:"3rem",height:"3rem",padding:"12px",verticalAlign:"middle",display:"inline-block"}),n=new re({type:"notification-icon-wrapper",display:"inline-block",marginLeft:"-5px",verticalAlign:"middle"});n.addChild(t),e.addChild(n);var i=Dr.content.results.notifications.dateRangeText,r=ui.LOCALE[Dr.config.locale].currencyCode,o=ui.CURRENCY[r],a=xr.getParam("CAMPAIGNPRICE"),s=xr.getParam("CAMPAIGNSTARTDATE"),l=xr.getParam("ALTPRICE"),c=xr.getParam("CAMPAIGNENDDATE"),d=new Date(s),h=new Date(c);fo.updateELPParams({campaignPrice:a,getStartDate:s,getEndDate:c}),fo.track(fo.EVENTS.SEARCH_LIST.ELP);var u=new re({type:"notification-text-wrapper",paddingTop:"12px",paddingBottom:"12px",width:"92%",display:"inline-block",fontSize:Rr.fontSizes.s,verticalAlign:"middle"});e.addChild(u),i=i.replace(/{currency}/g,o).replace("{campaignPrice}",a).replace("{altPrice}",l).replace("{startDate}",this.formatDate(d)).replace("{endDate}",this.formatDate(h));var p=new yc({type:"span",fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.xs,verticalAlign:"middle",width:"calc(100% - 3rem)",text:i,attributes:{role:"alert"}});u.addChild(p);var f=new re({type:"a",color:Rr.colours.secondary.darkest,textDecoration:"underline",fontSize:Rr.fontSizes.s,text:Dr.content.termsAndConditions.label,attributes:{href:Dr.content.termsAndConditions.url,target:"_blank"}}),g=new yc({type:"span",fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.xs,paddingLeft:Rr.margin.xs,width:"calc(100% - 3rem)",text:Dr.content.results.notifications.termsAndConditionsText});g.innerHtml=g.innerHtml.replace(/{termsAndConditions}/g,f.element.outerHTML),p.addChild(g);var m=new re({type:"a",color:Rr.colours.secondary.darkest,fontSize:Rr.fontSizes.s,textDecoration:"underline",text:Dr.content.homePage.label,attributes:{href:Dr.content.homePage.url,target:"_blank"}}),v=new yc({type:"span",fontSize:Rr.fontSizes.s,lineHeight:Rr.lineHeight.xs,paddingLeft:Rr.margin.xs,width:"calc(100% - 3rem)",text:Dr.content.results.notifications.searchAll});v.innerHtml=v.innerHtml.replace(/{homepage}/g,m.element.outerHTML),p.addChild(v)},xc.prototype.formatDate=function(e){var t=Dr.content.datePicker.months,n=e.getDate(),i=e.getMonth(),r=e.getFullYear();return""+n+this.nthDay(n)+" "+t[i]+" "+r},xc.prototype.nthDay=function(e){if(3<e&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},xc.prototype.updateView=function(e){e===ci.Map?(this.filtersSlideOver.close(),this.gutters.hide(),this.controls.hide(),this.list.hide(),this.map.show(),this.style({height:"calc(100% - "+this.headerHeight+"px)"}),this.setHtmlAndBodyHeight("100%"),window.innerWidth<=Rr.responsive.s&&Dr.Header.hideNotification()):(this.map.hide(),this.controls.show(),this.gutters.show(),this.filtersOpen&&window.innerWidth>=Rr.responsive.m?this.filtersSlideOver.open():this.filtersSlideOver.hidden(),this.list.style({display:"inline-block"}),this.style({height:"auto",minHeight:"calc(100% - "+this.headerHeight+"px)"}),this.setHtmlAndBodyHeight("auto"),Dr.Header.showNotification()),Dr.Header.changeHeight()},xc.prototype.setHtmlAndBodyHeight=function(e){document.querySelector("html").style.height=e,document.querySelector("body").style.height=e},xc);function xc(){var t=wc.call(this,{type:"results",display:"block",position:"relative",backgroundColor:Rr.colours.primary.white,marginTop:"16px"})||this;return t.filtersOpen=Jr.filtersOpen(),t.gutters=new Wo({type:"results-gutters",className:["site-container","gutter-container"]}),t.addChild(t.gutters),t.controls=new uc,t.gutters.addChild(t.controls),t.listFilters=new Ma({}),t.filtersSlideOver=new Yo(t.listFilters,b({type:"filters-slide",position:"relative",zIndex:"3"},Jr.filtersSlide())),He(function(){return Yo.slideOverState},function(e){e||(No.listFiltersOpen=!1)}),window.addEventListener("resize",function(){t.filtersOpen&&Dr.state.app.VIEW===ci.List&&(window.innerWidth>=Rr.responsive.m?t.filtersSlideOver.open():t.filtersSlideOver.hidden())}),t.filtersOpen?t.gutters.addChild(t.filtersSlideOver):t.addChild(t.filtersSlideOver),t.list=new hl,t.gutters.addChild(t.list),t.map=new Kl,t.addChild(t.map),Jr.emailLandingView()&&t.createDateNotification(),He(function(){return No.hotels},function(e){e.length?(t.controls.show(),Jr.filtersOpen()&&window.innerWidth>=Rr.responsive.m&&(t.filtersSlideOver.open(),t.filtersSlideOver.style({display:"inline-block"}))):t.list.clearList()}),He(function(){return No.filteredOutHotels},function(e){e&&t.controls.show()}),He(function(){return Dr.state.app.VIEW},function(e){t.updateView(e)}),He(function(){return No.listFiltersOpen},function(e){e?t.filtersSlideOver.open():t.filtersSlideOver.close()},{equals:_e.default}),He(function(){return No.availabilitiesError},function(e){e&&t.controls.hide()}),setTimeout(function(){Dr.state.app.VIEW===ci.Map&&t.updateView(Dr.state.app.VIEW)},10),t.map.hide(),t.controls.hide(),t.filtersSlideOver.close(),t}var Sc,kc,Dc=(Sc=function(e,t){return(Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Sc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ec=function(){return(Ec=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Oc=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},Lc="Tab",Ac="Space",Pc="Enter",Tc="ArrowUp",Nc="ArrowRight",_c="ArrowDown",Rc="ArrowLeft",Ic=(Dc(Hc,kc=re),Object.defineProperty(Hc.prototype,"selectedDate",{get:function(){return this.dateSelected},enumerable:!0,configurable:!0}),Hc.prototype.calendarHeaderMonth=function(e,t){return this.fullMonthName[e]+" "+t},Hc.prototype.initializeMonthsContainer=function(){this.monthsContainer?this.monthsContainer.removeAllChildren():(this.monthsContainer=new re({id:"date-picker-months",className:["date-picker-months"],attributes:{role:"presentation"}}),this.addChild(this.monthsContainer)),this.buildMonths(this.now.getMonth(),this.now.getFullYear())},Hc.prototype.slideMonth=function(e){var t=this.monthsContainer.element.children[this.monthOffset];this.monthsContainer.element.style.height=t?t.clientHeight+"px":"0",this.monthsContainer.to({duration:e,toVars:{transform:"translateX("+-1*this.monthOffset+"00%)"}}),this.showChevrons()},Hc.prototype.calendarDays=function(i){var r=this;void 0===i&&(i={});var o=new re({id:"date-picker-days",className:["date-picker-days"]}),a=this.content.weekdaysShort;return a.forEach(function(e,t){var n=new re(Ec({text:e,className:["day-name"],attributes:{"aria-label":r.fullDayName[t],role:"presentation"}},i));e!==a[5]&&e!==a[6]||(n.element.className+=" weekend"),o.addChild(n)}),o},Hc.prototype.calendarHeader=function(){var e=this.now.getMonth(),t=this.now.getFullYear(),n=new re({id:this.DATE_PICKER_DATE_ID_PREFIX+"date-picker-header"});this.addChild(n),this.monthName=new re({text:this.fullMonthName[e]+" "+t,className:["calendar-heading"]}),n.addChild(this.monthName);var i=new re({type:"img",className:["calendar_arrow-left"],attributes:{src:this.content.chevrons.left,"aria-label":this.content.previousMonth}});this.leftChevContainer=new re({type:"button",className:["calendar-chevron","date-picker-left-arrow"]}),this.leftChevContainer.addEventListener(this,"click",this.prevMonth),this.leftChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.leftChevContainer.addChild(i),this.leftChevContainer.hide();var r=new re({type:"img",className:["calendar_arrow-right"],attributes:{src:this.content.chevrons.right,"aria-label":this.content.nextMonth}});this.rightChevContainer=new re({type:"button",className:["calendar-chevron","date-picker-right-arrow"]}),this.rightChevContainer.addEventListener(this,"click",this.nextMonth),this.rightChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.rightChevContainer.addChild(r),n.addChild(this.leftChevContainer),n.addChild(this.rightChevContainer);var o=this.calendarDays();n.addChild(o),this.selectInitialDate(this.initialDate)},Hc.prototype.buildRow=function(c,e,d,h){var u=this;e.forEach(function(t){var e,n,i,r,o=new re({className:["date-box"]}),a={text:t,type:"button",attributes:{role:"button"},className:["date-value"]};""!==t&&(e=h+"-"+Si.padLeft(d+1)+"-"+Si.padLeft(Number(t)),i=(n=new Date(e)).getDay(),r=n.getMonth(),a.attributes={id:""+u.DATE_PICKER_DATE_ID_PREFIX+Si.padLeft(Number(t))+(d+1)+h,"aria-label":u.fullDayName[i]+" "+t+" "+u.fullMonthName[r]+" "+h,"data-date":e});var s=new G(a);""!==t?(u.disabledDate(t,d,h)?s.element.setAttribute("disabled","disabled"):s.addEventListener(u,"click",function(e){return u.dateClicked(e,new Date(h,d,Number(t)))}),u.isTodaysDate(t,d,h)&&(u.dateSelectedString=s.id,(u.prevDateSelectedString=s).className("today"))):s.element.setAttribute("disabled","disabled");var l=new Date(h,d,Number(t),0,0,0);s.addEventListener(u,"keydown",u.navigateCalendarFromDate,l),o.addChild(s),c.addChild(o),u.datesArray=Oc(u.datesArray,[s.element])})},Hc.prototype.buildMonths=function(e,t,n){void 0===n&&(n=12);for(var i=0;i<=n;i++){this.datesArray=[],this.buildMonth(e,t);var r=this.incrementMonth(e,t);e=r.month,t=r.year}},Hc.prototype.prevMonth=function(e){var t;e.sourceEvent.preventDefault(),this.leftChevContainer.element.style.outline="none",0<this.monthOffset&&(t=this.decrementMonth(this.monthSelected,this.yearSelected),this.monthSelected=t.month,this.yearSelected=t.year,this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected),this.monthOffset--,this.slideMonth(this.duration),this.monthChanged())},Hc.prototype.nextMonth=function(e){e.sourceEvent.preventDefault(),this.rightChevContainer.element.style.outline="none";var t;this.monthOffset<12&&(t=this.incrementMonth(this.monthSelected,this.yearSelected),this.monthSelected=t.month,this.yearSelected=t.year,this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected),this.monthOffset++,this.slideMonth(this.duration),this.monthChanged())},Hc.prototype.navigateMonth=function(e){e.sourceEvent.preventDefault();var t,n=e.sourceEvent.code,i=this.monthObject[this.monthSelected+1+"-"+this.yearSelected].filter(function(e){return!e.disabled}),r=i.filter(function(e){return e.classList.contains("selected")})[0];e.target===this.rightChevContainer?(n!==Lc||e.sourceEvent.shiftKey?n===Lc&&e.sourceEvent.shiftKey?this.leftChevContainer.element.focus():n!==Pc&&n!==Ac||this.nextMonth(e):r?r.focus():i[0].focus(),"none"===this.rightChevContainer.element.style.display&&(t=this.monthObject[this.monthSelected+1+"-"+this.yearSelected].filter(function(e){return!e.disabled})[0],setTimeout(function(){t.focus()},10))):n!==Lc||e.sourceEvent.shiftKey?n===Lc&&e.sourceEvent.shiftKey?this.dispatchEvent(new D(Hc.FOCUS_ON_DATE,this)):n!==Pc&&n!==Ac||this.prevMonth(e):"block"===this.rightChevContainer.element.style.display?this.rightChevContainer.element.focus():r?r.focus():i[0].focus()},Hc.prototype.getNumberOfDays=function(e,t){return 2===e?3&t||!(t%25)&&15&t?28:29:30+(e+(e>>3)&1)},Hc.prototype.dateArray=function(e,t){for(var n=[],i=this.getNumberOfDays(e,t),r=0;r<i;r++)n.push((r+1).toString());return n},Hc.prototype.showChevrons=function(){0===this.monthOffset?this.leftChevContainer.hide():this.monthOffset<12?(this.rightChevContainer.show(),this.leftChevContainer.show()):12===this.monthOffset&&this.rightChevContainer.hide()},Hc.prototype.highlightSelectedDate=function(e){var t=new Date(this.yearSelected,this.monthSelected,Number(e.target.textContent)),n=e.target;this.dateSelectedString=""+this.DATE_PICKER_DATE_ID_PREFIX+Si.padLeft(Number(e.target.textContent))+(this.monthSelected+1)+this.yearSelected,n.className("selected"),this.prevDateSelectedString=n,this.dispatchEvent(new D(Hc.DATE_SELECTED,this,t))},Hc.prototype.navigateCalendarFromDate=function(e){var t=this,n=e.sourceEvent.code,i=e.data,r=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3),o=this.getNumberOfDays(e.data.getMonth()+1,e.data.getFullYear());switch(n){case Lc:e.sourceEvent.shiftKey?(e.sourceEvent.preventDefault(),this.rightChevContainer.element.focus()):this.closeDatePicker();break;case Pc:this.highlightSelectedDate(e);break;case Rc:(r=this.getDate(i,"subtract",1)).getMonth()!==i.getMonth()?(this.prevMonth(e),setTimeout(function(){t.shiftDate(r)},50)):this.shiftDate(r);break;case Tc:var a=this.getDate(i,"subtract",7);r.getDate()-7<=0?(this.prevMonth(e),setTimeout(function(){t.shiftDate(a)},50)):this.shiftDate(a);break;case Nc:(r=this.getDate(i,"add",1)).getMonth()!==i.getMonth()?(this.nextMonth(e),setTimeout(function(){t.shiftDate(r)},50)):this.shiftDate(r);break;case _c:var s=this.getDate(i,"add",7);r.getDate()+7>o?(this.nextMonth(e),setTimeout(function(){t.shiftDate(s)},50)):this.shiftDate(s)}},Hc.prototype.disabledDate=function(e,t,n){return this.isDateBeforeToday(e,t,n)||this.isDateBeforeOneYear(e,t,n)},Hc.prototype.selectInitialDate=function(e){this.dateSelected=e,this.monthSelected=this.dateSelected.getMonth(),this.yearSelected=this.dateSelected.getFullYear(),this.monthOffset=this.dateSelected.getMonth()-this.now.getMonth(),this.now.getMonth()===this.monthSelected?this.leftChevContainer.hide():this.leftChevContainer.show(),this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected)},Hc.prototype.incrementMonth=function(e,t){return 12===++e&&(e=0,t++),{month:e,year:t}},Hc.prototype.decrementMonth=function(e,t){return-1===--e&&(e=11,t--),{month:e,year:t}},Hc.prototype.buildMonth=function(i,r){var o=this,a=new re({className:["month-container"],attributes:{id:this.fullMonthName[i]+"-"+r}});this.monthsContainer.addChild(a);var s=this.rows(this.padDays(i,r));s.forEach(function(e,t){var n=new re({className:["row"]});s.length-1===t&&n.className("last-row"),o.buildRow(n,e,i,r),a.addChild(n)}),this.monthObject[i+1+"-"+r]=this.datesArray},Hc.prototype.getDate=function(e,t,n){var i=new Date(e.valueOf());return"add"===t?i.setDate(i.getDate()+n):i.setDate(i.getDate()-n),i},Hc.prototype.shiftDate=function(e){var t=e.getMonth()===this.monthSelected?e.getMonth()+1:this.monthSelected+1,n=this.monthObject[t+"-"+this.yearSelected],i=""+this.DATE_PICKER_DATE_ID_PREFIX+Si.padLeft(e.getDate())+t+this.yearSelected;n.filter(function(e){return e.id===i})[0].focus()},Hc.prototype.closeDatePicker=function(){this.dispatchEvent(new D(Hc.CLOSE_CALENDAR,this))},Hc.prototype.isTodaysDate=function(e,t,n){var i=new Date;return parseInt(e,10)===i.getDate()&&t===i.getMonth()&&n===i.getFullYear()},Hc.prototype.isDateBeforeToday=function(e,t,n){var i=new Date;return parseInt(e,10)<i.getDate()&&t<=i.getMonth()&&n<=i.getFullYear()},Hc.prototype.isDateBeforeOneYear=function(e,t,n){var i=new Date;return parseInt(e,10)>=i.getDate()&&t===i.getMonth()&&n===i.getFullYear()+1},Hc.prototype.dateClicked=function(e,t){e.sourceEvent.preventDefault(),this.newDateClicked=""+this.DATE_PICKER_DATE_ID_PREFIX+Si.padLeft(Number(e.target.textContent))+(this.monthSelected+1)+this.yearSelected,this.prevDateSelectedString&&this.previousDateClicked!==this.newDateClicked&&this.prevDateSelectedString.element.classList.remove("selected"),this.previousDateClicked=this.newDateClicked,this.highlightSelectedDate(e),this.dateSelected=t},Hc.prototype.resetCalendar=function(){var e=this.dateSelected.getMonth(),t=this.dateSelected.getFullYear(),n=Object.keys(this.monthObject).indexOf(e+1+"-"+t);0===n&&(this.leftChevContainer.hide(),this.rightChevContainer.show()),12===n&&this.leftChevContainer.show(),this.monthOffset=n,this.monthSelected=e,this.yearSelected=t,this.monthName.textContent=this.calendarHeaderMonth(e,t),this.selectDate(),this.slideMonth(0)},Hc.prototype.selectDate=function(){var t=this;return this.monthObject[this.dateSelected.getMonth()+1+"-"+this.dateSelected.getFullYear()].filter(function(e){if(e.dataset&&e.dataset.date&&e.dataset.date===t.dateSelectedString&&!e.classList.contains("today"))return e.classList.add("selected")})[0]},Hc.prototype.rows=function(e){for(var t=[],n=0;n<e.length;n+=7)t.push(e.slice(n,n+7));return t},Hc.prototype.padDays=function(e,t){for(var n=this.dateArray(e+1,t),i=new Date(t,e,0).getDay(),r=0;r<i;r++)n.unshift("");return n},Hc.prototype.monthChanged=function(){this.dispatchEvent(new D(Hc.MONTH_CHANGED,this))},Hc.DATE_SELECTED="DATE_SELECTED",Hc.CLICKED="CLICKED",Hc.CLOSE_CALENDAR="CLOSE_CALENDAR",Hc.FOCUS_ON_DATE="FOCUS_ON_DATE",Hc.MONTH_CHANGED="MONTH_CHANGED",Hc);function Hc(e,t,n,i){void 0===n&&(n="date-picker-day-"),void 0===i&&(i={});var r=kc.call(this,oe.merge(i,{type:"calendar-container",className:["calendar-container"]}))||this;return r.content=e,r.initialDate=t,r.duration=0,r.addEventListener(r,Hc.CLICKED,r.resetCalendar),r.now=new Date,r.DATE_PICKER_DATE_ID_PREFIX=n,r.fullDayName=r.content.weekdays,r.fullMonthName=r.content.months,r.monthObject={},r.monthOffset=0,r.datesArray=[],r.calendarHeader(),r.initializeMonthsContainer(),r}var Mc,Wc=(E(Bc,Mc=re),Bc);function Bc(e,t,n){var i=Mc.call(this,oe.merge({id:("date-schedule-"+e).toLowerCase(),text:e,className:["date-schedule"],flexBasis:"calc((100% - 36.9%) / 2)",fontSize:Rr.fontSizes.xs,color:Rr.colours.greyScale.darkest,marginRight:Rr.spacing.s,responsive:[{minWidth:Rr.responsive.s,style:{flexBasis:"calc((100% - 32.17%) / 2)"}},{minWidth:Rr.responsive.m,style:{flexBasis:"calc((100% - 35.69%) / 2)"}}]},n))||this;return i.calendarFooterDate=new re({type:"span",text:t,className:["date-selection"],id:("date-selected-"+e).toLowerCase(),display:"block",fontSize:Rr.fontSizes.s,color:Rr.colours.greyScale.dark,paddingTop:"4px",responsive:[{minWidth:Rr.responsive.s,style:{paddingTop:"2px",fontSize:Rr.fontSizes.base}}]}),i.addChild(i.calendarFooterDate),i}var Fc,zc=(E(jc,Fc=re),jc.prototype.updateDates=function(e,t){var n=Dr.content.datePicker,i=n.selectArrivingDatePlaceholder,r=n.selectLeavingDatePlaceholder;e?(this.startDate=e,this.calendarFooterContentArrival.calendarFooterDate.textContent=this.formatDate(e)):this.calendarFooterContentArrival.calendarFooterDate.textContent=i,t?(this.endDate=t,this.calendarFooterContentDeparture.calendarFooterDate.textContent=this.formatDate(t)):this.calendarFooterContentDeparture.calendarFooterDate.textContent=e&&!t?"-":r,e&&t?this.enableContinueBtn():this.disableContinueBtn()},jc.prototype.enableContinueBtn=function(){var e=this.calcNights(this.startDate,this.endDate),t="Continue <br> "+e+" "+(1===e?Dr.content.datePicker.night:Dr.content.datePicker.nights);this.calendarFooterBtn.innerHtml=t,this.calendarFooterBtn.enable()},jc.prototype.disableContinueBtn=function(){var e=Dr.content.datePicker,t=e.footerBtnSelectArriving,n=e.footerBtnSelectDeparture;this.calendarFooterBtn.disable(),this.calendarFooterBtn.textContent=this.startDate?n:t},jc.prototype.calcNights=function(e,t){return Math.floor((t.getTime()-e.getTime())/864e5)},jc.prototype.handleBtnClick=function(){this.startDate&&this.endDate&&this.dispatchEvent(new D(jc.CONTINUE_BTN_CLICKED,this))},jc.prototype.formatDate=function(e){var t=Dr.content.datePicker,n=t.weekdays,i=t.monthsShort;return n[e.getDay()].slice(0,3)+" "+e.getDate()+" "+i[e.getMonth()]},jc.CONTINUE_BTN_CLICKED="CONTINUE_BTN_CLICKED",jc);function jc(e){var t=Fc.call(this,oe.merge({type:"date-picker-footer",backgroundColor:Rr.colours.primary.white,boxShadow:"0 2px 7px 0 rgba(159, 159, 159, 0.5)",padding:"16px 24px",display:"flex",id:"calendar-footer",zIndex:2,justifyContent:"center",alignItems:"center",width:"100%"},e))||this,n=Dr.content.datePicker,i=n.arrivalDateLabel,r=n.selectArrivingDatePlaceholder,o=n.departureDateLabel,a=n.selectLeavingDatePlaceholder,s=n.footerBtnSelectArriving;return t.calendarFooterContentArrival=new Wc(i,r),t.addChild(t.calendarFooterContentArrival),t.calendarFooterContentDeparture=new Wc(o,a),t.addChild(t.calendarFooterContentDeparture),t.calendarFooterBtn=new Ws({text:s,id:"calendar-footer-btn",borderRadius:"5px",fontSize:Rr.fontSizes.s,padding:"16px 13px",marginLeft:""+Rr.spacing.base,flex:"36.9%",backgroundColor:Rr.colours.primary.purple,color:Rr.colours.primary.white,height:"auto",minHeight:"70px",attributes:{disabled:"disabled"},responsive:[{minWidth:Rr.responsive.s,style:{flex:"32.17%"}},{minWidth:Rr.responsive.m,style:{flex:"35.69%"}}]}),t.calendarFooterBtn.disable(),t.addChild(t.calendarFooterBtn),t.calendarFooterBtn.addEventListener(t,"click",t.handleBtnClick),t}var Uc,Vc=(E($c,Uc=re),$c.RESET_CALENDAR="RESET_CALENDAR",$c.CLOSE_CALENDAR="CLOSE_CALENDAR",$c);function $c(e,t){void 0===t&&(t={});var n=Uc.call(this,oe.merge({type:"date-picker-header",width:"100%",display:"block",padding:"12px 15px",color:Rr.colours.primary.white,textAlign:"center",backgroundColor:Rr.colours.primary.purple,responsive:[{maxWidth:Rr.responsive.s,style:{height:"95px",padding:"12px 15px"}},{minWidth:Rr.responsive.s,style:{height:"112px",padding:"12px 24px"}},{minWidth:Rr.responsive.l,style:{padding:"12px 32px"}}]},t))||this,i=new re({type:"date-picker-container",display:"flex",justifyContent:"space-between",responsive:[{maxWidth:Rr.responsive.s,style:{marginBottom:"8px"}},{minWidth:Rr.responsive.s,style:{marginBottom:Rr.spacing.m}}]});n.addChild(i);var r=new Qo({text:Dr.content.datePicker.close,color:Rr.colours.primary.white,marginTop:"21px",textDecoration:"none"});r.addEventListener(n,"click",function(){return No.showCalendar=!1}),i.addChild(r),n.hotelName=new re({text:No.hotelName,marginTop:"18px",textAlign:"center",fontWeight:"bold",lineHeight:Rr.lineHeight.m,fontSize:Rr.fontSizes.m,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",responsive:[{maxWidth:Rr.responsive.s,style:{width:"60%"}},{minWidth:Rr.responsive.s,style:{width:"82%"}}]}),i.addChild(n.hotelName);var o=new Qo({text:Dr.content.datePicker.reset,color:Rr.colours.primary.white,marginTop:"21px",textDecoration:"none"});return o.addEventListener(n,"click",function(){n.dispatchEvent(new D($c.RESET_CALENDAR,n))}),i.addChild(o),n.addChild(e),n}var Gc=(Yc.baseCalendarStyle={position:"fixed",top:"0",zIndex:Rr.zIndex.popups},Yc.baseDatePickerHighlightStyle={background:"none",height:"100%",position:"absolute",top:"0",width:"calc(100% + 2px)"},Yc.highlightHoverBg="#cce4e8",Yc.endDateContainers={left:"auto",right:"50%",width:"4em",zIndex:"0"},Yc);function Yc(){}var Kc,Xc=(E(Zc,Kc=Ic),Zc.prototype.calendarHeader=function(){var e=this.calendarDays({width:"14.285%",textAlign:"center",display:"inline-block",fontWeight:"bold",background:"none",color:Rr.colours.primary.white,opacity:"0.75",fontSize:Rr.fontSizes.s,padding:Rr.spacing.xxs,responsive:[{minWidth:Rr.responsive.xs,style:{fontSize:Rr.fontSizes.s}}]}),t=new Vc(e);t.addEventListener(this,Vc.RESET_CALENDAR,this.resetCalendarState),this.addChild(t);var n=new re({type:"refresh-notice",padding:"10px 15px",backgroundColor:Rr.colours.neutral.dark,fontSize:Rr.fontSizes.xs,display:"flex",justifyContent:"space-between",width:"100%",responsive:[{maxWidth:Rr.responsive.s,style:{padding:"10px 15px"}},{minWidth:Rr.responsive.s,style:{padding:"10px 24px"}},{minWidth:Rr.responsive.l,style:{padding:"10px 32px"}}]});this.addChild(n);var i=new re({text:Dr.content.datePicker.refreshNotice,color:Rr.colours.greyScale.darkest,lineHeight:"20px"});n.addChild(i)},Zc.prototype.initCalendarFooter=function(){var m=this;this.calendarFooter=new zc,this.calendarFooter.addEventListener(this,zc.CONTINUE_BTN_CLICKED,function(){var e=Di.create({brand:No.hotel.hotelBrand,detailsPage:No.hotel.hotelInfo.links.detailsPage,domain:Dr.config.hotelDetails.domain.desktop,hotelsPath:Dr.config.hotelDetails.hotelPath,stayDetails:Dr.state.stayDetails,miscParams:Ni.parseMiscParams(Dr.state.preservedQS)}),t=e.split("?")[0],n=e.split("?")[1],i=new Date(m.startDate),r=new Date(m.endDate),o=Math.round(Math.abs((i.getTime()-r.getTime())/864e5)),a=fi.addLeadingZero(i.getDate()),s=fi.addLeadingZero(i.getMonth()+1),l=i.getFullYear(),c=xr.decodeURLParams(n);c.ARRdd=a,c.ARRmm=s,c.ARRyyyy=l,c.NIGHTS=o,c.CID=xr.getParam("CID"),c.CAMPAIGNPRICE=xr.getParam("CAMPAIGNPRICE"),c.ALTPRICE=xr.getParam("ALTPRICE"),c.FILTERS=xr.getParam("FILTERS");var d=Dr.state.stayDetails.roomData[0],h=d.adults,u=d.children,p=d.cot,f=d.roomType;c.ADULT1=h,c.CHILD1=u,c.COT1=p?1:0,c.INTTYP1=f,c.ROOMS=Dr.state.stayDetails.roomData.length;var g=Object.keys(c).map(function(e){return e+"="+c[e]}).join("&");Ni.updateRoute(t+"?"+g)}),this.addChild(this.calendarFooter)},Zc.prototype.initializeMonthsContainer=function(){},Zc.prototype.initCalendarDates=function(){var r=this;this.months={},this.flatMonths=[],this.startDate=null,this.endDate=null,this.datesObject={},this.nextUnavailDate=null;var o=this.getMonthsAvailable(),e=Object.keys(o).length-1,t=Object.keys(o)[0];this.monthSelected=Number(t.split("-")[1])-1,this.yearSelected=Number(t.split("-")[0]),this.dates.forEach(function(e){var t=new Date(e.date),n=r.yearMonthKey(t),i=t.getDate()-1;o[n][i].price=e.price,r.months[n]=o[n][0][0]});var n=this.dates.filter(function(e){return null!=e.price}).sort(function(e,t){return parseFloat(e.price)-parseFloat(t.price)});fo.cheapestDate(n[0]);var i=new Date(xr.getParam("CAMPAIGNENDDATE")),a=i.getMonth(),s=i.getFullYear(),l=new Date(n[0].date);this.monthSelected=l.getMonth(),this.yearSelected=l.getFullYear();var c=12*s+a-(12*this.yearSelected+this.monthSelected);this.monthOffset=e-c,Object.keys(o).forEach(function(e){var t=o[e].filter(function(e){return e.date});r.flatMonths=w(r.flatMonths,t)}),Object.keys(o).map(function(e){r.months[e]=r.createWeekRowArrays(o[e])})},Zc.prototype.initializeMonthsCalendarContainer=function(){var e=this.getMonthNavigation();this.addChild(e),this.monthsContainer?this.monthsContainer.removeAllChildren():(this.monthsContainer=new re({id:"date-picker-months",style:{whiteSpace:"nowrap"},attributes:{role:"presentation"}}),this.addChild(this.monthsContainer)),this.buildCalendarMonths(),this.monthName.textContent=this.calendarHeaderMonth(this.monthSelected,this.yearSelected),this.slideMonth(0)},Zc.prototype.showChevrons=function(){var e=Object.keys(this.months).length-1;0===this.monthOffset&&1<=e?(this.leftChevContainer.style({visibility:"hidden"}),this.rightChevContainer.style({display:"inline-block",visibility:"visible"})):this.monthOffset<e?(this.rightChevContainer.style({display:"inline-block",visibility:"visible"}),this.leftChevContainer.style({display:"inline-block",visibility:"visible"})):this.monthOffset===e&&(this.rightChevContainer.style({display:"inline-block",visibility:"hidden"}),this.leftChevContainer.style({display:"inline-block",visibility:"visible"})),0===this.monthOffset&&0==e&&(this.rightChevContainer.style({display:"inline-block",visibility:"hidden"}),this.leftChevContainer.style({display:"inline-block",visibility:"hidden"}))},Zc.prototype.resetCalendarState=function(){var i=this;this.getDateRange(this.startDate,this.endDate).forEach(function(e){var t=i.getDateBox(e.date);t.highlighter.style({left:"auto",right:"auto",width:"100%",backgroundColor:"transparent"}),t.priceContainer.style({visibility:"visible"}),!t.priceContainer.innerHtml&&i.endDate!==i.nextUnavailDate||i.unhighlightDateBox(t)}),this.dates.forEach(function(e){var t=new Date(e.date),n=i.getDateBox(t);n.dateBox.style({backgroundColor:"transparent"}),n.button.style({backgroundColor:"transparent",color:Rr.colours.primary.purple,borderRadius:"0"}),n.button.element.removeAttribute("disabled")}),this.nextUnavailDate&&this.disableDate(this.getDateBox(this.nextUnavailDate).button),this.endDate&&this.getDateBox(this.endDate).priceContainer.show(),this.startDate=null,this.endDate=null,this.calendarFooter.updateDates(this.startDate,this.endDate)},Zc.prototype.buildCalendarMonths=function(){var r=this;Object.keys(this.months).map(function(e){var t=Number(e.split("-")[1])-1,n=e.split("-")[0],i=new re({className:["month-container"],attributes:{id:r.fullMonthName[t]+"-"+n},padding:"0"});r.monthsContainer.addChild(i),r.months[e].forEach(function(e){var t=new re({className:["weekWrap"],position:"relative"});r.buildCalendarRow(t,e),i.addChild(t)})})},Zc.prototype.getMonthNavigation=function(){var e=this,t=new re({id:"month-navigation",style:{margin:"auto",padding:"15px 0",position:"relative",textAlign:"center",width:""+Rr.responsive.xs}});this.monthName=new re({type:"span",text:this.fullMonthName[this.monthSelected]+" "+this.yearSelected,fontSize:Rr.fontSizes.base,color:Rr.colours.greyScale.darkest,display:"inline-block",padding:"0 25px",width:"200px",responsive:[{minWidth:Rr.responsive.s,style:{fontSize:"1.125rem"}}]}),this.addEventListener(this,Ic.MONTH_CHANGED,function(){e.monthName.textContent=e.fullMonthName[e.monthSelected]+" "+e.yearSelected}),this.initChevrons();var n=Object.keys(this.months).length-1;return t.addChild(this.leftChevContainer),t.addChild(this.monthName),n&&t.addChild(this.rightChevContainer),t},Zc.prototype.initChevrons=function(){var e={border:"1px solid "+Rr.colours.greyScale.light,borderRadius:"3px",top:"9px",position:"relative",display:"inline-block",lineHeight:"30px",height:"auto"},t={width:"32px",height:"30px",fontSize:"2rem"},n=new re({className:["wb-icon_arrow-left"],attributes:{"aria-label":this.content.previousMonth},style:b({},t)});this.leftChevContainer=new re({type:"button",className:["calendar-chevron","date-picker-left-arrow"],style:b({},e)}),this.leftChevContainer.addEventListener(this,"click",this.prevMonth),this.leftChevContainer.addEventListener(this,"click",this.trackMonthChevrons,"previous"),this.leftChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.leftChevContainer.addChild(n),this.leftChevContainer.style({visibility:"hidden"});var i=new re({className:["wb-icon_arrow-right"],attributes:{"aria-label":this.content.nextMonth},style:b({},t)});this.rightChevContainer=new re({type:"button",className:["calendar-chevron","date-picker-right-arrow"],style:b({},e)}),this.rightChevContainer.addEventListener(this,"click",this.nextMonth),this.rightChevContainer.addEventListener(this,"click",this.trackMonthChevrons,"next"),this.rightChevContainer.addEventListener(this,"keydown",this.navigateMonth),this.rightChevContainer.addChild(i)},Zc.prototype.trackMonthChevrons=function(e){fo.track(fo.EVENTS.CALENDAR_CACHE[e.data.toUpperCase()])},Zc.prototype.getMonthsAvailable=function(){var i=this,n=this.dates.map(function(e){var t=new Date(e.date),n=fi.addLeadingZero(t.getMonth()+1);return t.getFullYear()+"-"+n+"-01"});return n.filter(function(e,t){return n.indexOf(e)===t}).reduce(function(e,t){if(!e)return{};var n=new Date(t);return e[i.yearMonthKey(n)]=i.createDefaultDatesArray(n.getMonth()+1,n.getFullYear()),e},{})},Zc.prototype.createDefaultDatesArray=function(t,n){for(var e=this.getNumberOfDays(t,n),i=[],r=0;r<e;r++)i.push(r);return i.map(function(e){return{date:new Date(n+"-"+fi.addLeadingZero(t)+"-"+fi.addLeadingZero(e+1)),price:null}})},Zc.prototype.createWeekRowArrays=function(e){var t=[];e=this.padCalendarDays(e);for(var n=0;n<e.length;n+=7)t.push(e.slice(n,n+7));return t},Zc.prototype.buildCalendarRow=function(v,e){var y=this;e.forEach(function(e){var t,n,i,r,o,a,s,l,c=new G({className:["date-box"],height:"3rem",padding:"0",verticalAlign:"top",position:"relative",marginBottom:Rr.spacing.xxs,responsive:[{minWidth:Rr.responsive.m,style:{height:"4rem"}}]}),d={position:"relative",zIndex:"2",width:"3rem",margin:"auto",height:"100%",textAlign:"center",display:"block",textAlignLast:"center",font:"inherit",borderRadius:"0",attributes:{role:"button"},color:Rr.colours.primary.purple,background:"none",transition:"none",responsive:[{minWidth:Rr.responsive.m,style:{width:"4rem"}}]},h=b({type:"button",className:["date-value"]},d),u=new re(h),p=e.date?e.date.getDate().toString():"",f=new re({type:"span",text:p,display:"block",fontWeight:"600",fontSize:Rr.fontSizes.s,responsive:[{minWidth:Rr.responsive.m,style:{fontSize:Rr.fontSizes.base}}]}),g=e.price?""+parseFloat(e.price).toFixed(2):"",m=new re({text:g,type:"span",height:"0.8125rem",display:"block",fontSize:Rr.fontSizes.xxs,responsive:[{minWidth:Rr.responsive.m,style:{fontSize:Rr.fontSizes.xs}}]});g||m.responsive({minWidth:Rr.responsive.m,style:{height:"1rem"}}),e.date&&(t=e.date.getMonth()+1,n=e.date.getFullYear(),i=fi.addLeadingZero(e.date.getDate()),r=fi.addLeadingZero(t),o=y.createDateString(e.date),a=e.date.getDay(),s=e.date.getMonth(),h.attributes={id:""+y.DATE_PICKER_DATE_ID_PREFIX+i+r+n,"aria-label":y.fullDayName[a]+" "+e.date.getDate()+" "+y.fullMonthName[s]+" "+n,"data-date":o},l=new re({className:["highlight-container"],style:Gc.baseDatePickerHighlightStyle}),c.addChild(l),y.datesObject[o]={dateBox:c,button:u,highlighter:l,priceContainer:m}),e.price||y.disableDate(u),c.addEventListener(y,"click",function(){y.handleDateClicked(e)}),c.addEventListener(y,"mouseenter",function(){y.handleDateHover(e)}),u.addChild(f),u.addChild(m),c.addChild(u),v.addChild(c),y.datesArray=w(y.datesArray,[u.element])})},Zc.prototype.handleDateHover=function(e){var t,n,i,r,o=this;this.startDate&&e.date&&(this.startDate&&this.endDate||this.startDate.getTime()>=e.date.getTime()||(this.hoverEndDate&&(t=this.getDateRange(this.startDate,this.hoverEndDate.date)).slice(1,t.length).forEach(function(e){var t=o.getDateBox(e.date);t.highlighter.style({background:"none",left:"auto",right:"auto",width:"100%"}),t.button.style({background:"none",borderRadius:"none"})}),(this.hoverEndDate=e).date.getTime()!==this.startDate.getTime()&&((n=this.getDateBox(this.startDate)).highlighter.style({background:Gc.highlightHoverBg,left:"50%",right:"auto",width:"3rem",zIndex:"1"}),n.highlighter.responsive([{minWidth:Rr.responsive.m,style:{width:"4rem"}}]),(i=this.getDateRange(this.startDate,e.date)).slice(1,i.length).forEach(function(e){var t=o.getDateBox(e.date);t.highlighter.style({left:"auto",right:"auto",width:"100%"});var n=new Date(o.startDate);n.setDate(o.startDate.getDate()+Dr.headerContent.form.numberOfNights),e.date.getTime()<=n.getTime()?o.highlightRange(t):r.button.style({backgroundColor:"transparent"})}),(r=this.getDateBox(e.date)).button.style({background:Gc.highlightHoverBg,borderRadius:"50%"}),r.highlighter.style(b({},Gc.endDateContainers)),r.highlighter.responsive([{minWidth:Rr.responsive.m,style:{width:"4rem"}}]))))},Zc.prototype.highlightRange=function(e){e.dateBox.style({backgroundColor:"transparent"}),e.highlighter.style({backgroundColor:Gc.highlightHoverBg}),e.button.style({backgroundColor:"transparent"})},Zc.prototype.disableDates=function(e){e.button.style({color:Rr.colours.greyScale.mid}),e.button.element.setAttribute("disabled","disabled")},Zc.prototype.handleDateClicked=function(e){var i=this;if(!this.startDate||this.startDate&&this.endDate){this.startDate&&this.endDate&&this.resetCalendarState(),this.enableDisableUnavailDates(e);var r=new Date(this.startDate);r.setDate(r.getDate()+Dr.headerContent.form.numberOfNights),this.dates.forEach(function(e){var t=new Date(e.date),n=i.getDateBox(t);(t.getTime()>r.getTime()||t.getTime()<i.startDate.getTime())&&i.disableDates(n)})}else if(this.startDate&&!this.endDate){if(!this.isValidEndDate(e))return;if(this.dates.forEach(function(e){var t=new Date(e.date),n=i.getDateBox(t);n.button.style({color:Rr.colours.primary.purple}),n.button.element.removeAttribute("disabled")}),!this.isValidEndDate(e))return;this.endDate=e.date;var t,n=this.getDateBox(this.startDate);n.highlighter.style({left:"50%",right:"auto",width:"2.8rem"}),n.highlighter.responsive({minWidth:Rr.responsive.m,style:{width:"4rem"}}),this.highlightDateBox(n),(t=this.getDateRange(this.startDate,this.endDate)).slice(1,t.length-1).forEach(function(e){var t=i.getDateBox(e.date);t.highlighter.style(b({left:"auto",right:"auto"},Gc.baseDatePickerHighlightStyle)),i.highlightDateBox(t)});var o=this.getDateBox(this.endDate);o.priceContainer.style({visibility:"hidden"}),this.highlightDate(o.button),o.highlighter.style({left:"auto",right:"50%",width:"2.8rem"}),o.highlighter.responsive({minWidth:Rr.responsive.m,style:{width:"4rem"}}),this.highlightDateBox(o)}else{this.nextUnavailDate&&this.resetCalendarState(),(t=this.getDateRange(this.startDate,this.endDate)).forEach(function(e){var t=i.getDateBox(e.date);t.highlighter.style({left:"auto",right:"auto",width:"100%"}),i.nextUnavailDate||i.unhighlightDateBox(t)}),this.enableDisableUnavailDates(e)}this.calendarFooter.updateDates(this.startDate,this.endDate)},Zc.prototype.enableDisableUnavailDates=function(e){var t,n,i,r;e.price&&(t=this.nextUnavailDate,this.nextUnavailDate=null,this.startDate=e.date,this.endDate&&((n=this.getDateBox(this.endDate)).priceContainer.style({visibility:"visible"}),this.unhighlightDate(n.button)),this.endDate=null,i=this.getDateBox(e.date).button,this.highlightDate(i),t&&this.disableDate(this.getDateBox(t).button),(r=this.findNextUnavailDate())&&(this.nextUnavailDate=r,this.enableDate(this.getDateBox(this.nextUnavailDate).button)))},Zc.prototype.getDateBox=function(e){var t=this.createDateString(e);try{return this.datesObject[t]}catch(e){return null}},Zc.prototype.findNextUnavailDate=function(){var t,e,n=this,i=this.flatMonths.filter(function(e){return e.date.getTime()>n.startDate.getTime()});try{for(var r=ie(i),o=r.next();!o.done;o=r.next()){var a=o.value;if(!a.price)return a.date}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return null},Zc.prototype.isValidEndDate=function(e){if(this.startDate.getTime()===e.date.getTime())return this.resetCalendarState();if(this.startDate.getTime()>=e.date.getTime())return!1;var t=this.getDateRange(this.startDate,e.date);return!(10<t.length)&&(e.price||t.pop(),!(!t.every(function(e){return e.price})&&1<t.length))},Zc.prototype.getDateRange=function(e,t){var n=this.flatMonths.map(function(e){return e.date}),i=n.indexOf(e),r=n.indexOf(t,i);return t||(r=this.flatMonths.length),this.flatMonths.slice(i,r+1)},Zc.prototype.yearMonthKey=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)},Zc.prototype.createDateString=function(e){var t=fi.addLeadingZero(e.getDate()),n=fi.addLeadingZero(e.getMonth()+1);return e.getFullYear()+"-"+n+"-"+t},Zc.prototype.enableDate=function(e){e.element.removeAttribute("disabled")},Zc.prototype.disableDate=function(e){e.element.setAttribute("disabled","disabled"),e.style({textDecoration:"line-through",color:Rr.colours.greyScale.mid})},Zc.prototype.highlightDateBox=function(e){e.highlighter.style({background:"#00798e"}),e.button.style({color:Rr.colours.primary.white})},Zc.prototype.unhighlightDateBox=function(e){e.button.style({background:"none",borderRadius:"none",color:Rr.colours.primary.purple}),e.highlighter.style(Gc.baseDatePickerHighlightStyle)},Zc.prototype.highlightDate=function(e){e.style({background:"#00798e",borderRadius:"50%",color:Rr.colours.primary.white})},Zc.prototype.unhighlightDate=function(e){e.style({background:"none",borderRadius:"none",color:Rr.colours.primary.purple})},Zc.prototype.padCalendarDays=function(e){for(var t=e[0].date.getMonth(),n=e[0].date.getFullYear(),i=new Date(n,t,0).getDay(),r=0;r<i;r++)e.unshift({date:null,price:null});return e},Zc.prototype.buildAPIRequest=function(e){var t=this,n=xr.getParam("CAMPAIGNSTARTDATE"),i=xr.getParam("CAMPAIGNENDDATE"),r=Jr.emailLandingPage(),o=r.domain,a=r.method,s=r.calendar,l=new Date,c=l>new Date(n),d=fi.addLeadingZero(l.getDate()),h=fi.addLeadingZero(l.getMonth()+1),u=l.getFullYear(),p=""+o+a+"/"+e+s+"?startDate="+(n=c?u+"-"+h+"-"+d:n)+"&endDate="+i;return Li.get({url:p}).then(function(e){(t.dates=e).length&&(t.initCalendarDates(),t.calendarOrientationHeight(),t.initializeMonthsCalendarContainer(),t.initCalendarFooter())})},Zc.prototype.calendarOrientationHeight=function(){this.responsive([{maxWidth:Rr.responsive.s,style:{margin:"0",width:"100%"}},{minWidth:Rr.responsive.s,maxWidth:Rr.responsive.l,style:{width:"82%",margin:"0 8%"}},{minWidth:Rr.responsive.l,style:{width:"784px",margin:"0 calc(50% - (784px/2))"}}]),this.style({maxHeight:"99%",overflowY:"auto",left:"auto",top:"50%",position:"fixed",transform:"translateY(-50%)"})},Zc);function Zc(){var e=this,t=Dr.content.datePicker;return(e=Kc.call(this,t,new Date,"search-calendar",{position:"fixed",top:"50%",zIndex:"4",width:"0",transform:"translateY(-50%)"})||this).monthOffset=0,window.onresize=function(){e.calendarOrientationHeight()},e.buildAPIRequest(No.hotelCode),e}var qc,Jc=(E(Qc,qc=re),Qc);function Qc(e){void 0===e&&(e={});var t=qc.call(this,oe.merge(b({},Gc.baseCalendarStyle),e))||this,n=new Xc;return t.addChild(n),t}var ed,td=(E(nd,ed=re),nd.prototype.render=function(){this.overlay=new zo({display:"block",zIndex:Rr.zIndex.popups}),this.overlay.addEventListener(this,"click",this.close),this.addChild(this.overlay);var e=new Jc;this.addChild(e),e.addEventListener(this,nd.CLOSE,this.close)},nd.prototype.close=function(){No.showCalendar=!1,No.hotelName=""},nd.CLOSE="CLOSE",nd);function nd(e){void 0===e&&(e={});var t=ed.call(this,oe.merge({type:"calendar"},e))||this;return t.render(),t}var id,rd=(E(od,id=Q),od.prototype.main=function(){return t(this,void 0,void 0,function(){var t,r=this;return o(this,function(e){switch(e.label){case 0:this.style({color:Rr.colours.greyScale.darkest}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,oo.content()];case 2:return t=e.sent(),Dr.content=t.content,Dr.config=t.config,[3,4];case 3:return e.sent(),Dr.content={},Dr.config={},console.warn("no config / content, falling back to default"),[3,4];case 4:return e.trys.push([4,6,,7]),[4,oo.headerContent()];case 5:return t=e.sent(),Dr.headerContent=t.content,Dr.headerConfig=t.config,[3,7];case 6:return e.sent(),Dr.headerContent={},Dr.headerConfig={},console.warn("no config / content, falling back to default"),[3,7];case 7:window.piConfig&&window.piConfig.srp&&oe.merge(Dr.config,window.piConfig.srp),window.piContent&&window.piContent.srp&&oe.merge(Dr.content,window.piContent.srp),Dr.headerContent=Dr.headerContent?oe.merge(Dr.headerContent,Dr.content):Dr.content,Dr.headerConfig=Dr.headerConfig?oe.merge(Dr.headerConfig,Dr.config):Dr.config,oo.config=Dr.config,Jr.config=Dr.config,Io.setContent();try{this.initHeader()}catch(e){return console.log("Header is not available.",e),[2]}return this.results=new Cc,this.addChild(this.results),Xr.hasAcceptedCookies()||this.addChild(new Xr),He(function(){return Io.stringFilters},function(e){Dr.state.filters=e}),He(function(){return Io.normalisedFilters},function(e){No.updateFilters(e)}),He(function(){return[Dr.state.filters,Dr.state.stayDetails,Dr.state.app.VIEW,Dr.state.app.SORT]},function(){eo.updateRoute(Dr.state)}),He(function(){return No.sort},function(e){Dr.state.app.SORT=e}),He(function(){return Dr.state.app.SORT},function(e){No.sort=e}),He(function(){return Dr.state.filters},function(e){Io.stringToFilters(e),Io.updateAnalytics()}),He(function(){return No.filterPriceOver},function(e){e&&Io.updateOverPriceFilter()}),He(function(){return Dr.state.price},function(){Jr.emailLandingView()&&(Io.setContent(),r.emailLandingPageCalendar())}),He(function(){return No.resultsLoading},function(e){e||(r.header.finishSearchRequest(),r.header.changeHeight()),e||0!==No.totalHotelsNumber||r.header.noHotelsAvailable()}),He(function(){return[Vo.slideOverState,No.showCalendar]},function(e){var t=a(e,2),n=t[0],i=t[1];n||i?(r.scrollToValue=window.pageYOffset,r.style({position:"fixed",top:"-"+r.scrollToValue+"px"})):(r.style({position:"absolute",top:"0"}),window.scrollTo(0,r.scrollToValue))}),Dr.setStateFromURL(),this.initialLoad(),[2]}})})},od.prototype.initHeader=function(){var t=this;this.header=new window.Header({content:Dr.headerContent,config:Dr.headerConfig}),this.addChild(this.header),this.header.addEventListener(this,window.Header.HEIGHT_CHANGE,function(){return t.results.heightChange(t.header.height)}),this.header.addEventListener(this,window.Header.SEARCH_REQUEST_LOCATION,function(e){Dr.state.code=e.data.hotelCode?e.data.hotelCode:"",Dr.state.stayDetails=e.data,window.innerWidth<=Rr.responsive.s?Dr.state.app.VIEW===ci.Map&&t.header.hideNotification():t.header.showNotification(),No.requestHotels(),Dr.firstLoad||(Io.setContent(),Dr.state.price&&(Dr.state.filters="UND"))}),this.header.addEventListener(this,window.Header.SEARCH_REQUEST_HOTEL,function(e){Dr.state.code=e.data.hotelCode,Dr.state.stayDetails=e.data}),this.header.addEventListener(this,window.Header.AVAILABILITY_ERROR,function(){No.handleAvailabilitesError()}),this.header.addEventListener(this,window.Header.SET_SORT_TO_DISTANCE,function(){Dr.state.app.SORT=si.Distance}),this.header.addEventListener(this,window.Header.UPDATE_PAGE_TITLE,function(e){void 0===t.defaultPageTitle&&(t.defaultPageTitle=document.title),document.title=t.defaultPageTitle+" | "+e.data.stayDetails.name+" "+e.data.summary}),Dr.Header=this.header},od.prototype.initialLoad=function(){var t=this,n=function(e){uo.isIframeReadyEvent(e)&&(uo.isUserLoggedOutEvent(e)&&(Dr.state.stayDetails.bookingChannel=Dr.config.bookingChannel.leisure),t.header.searchRequest(ri(Dr.state.stayDetails),Dr.state.code),window.removeEventListener("message",n))};Dr.state.stayDetails.bookingChannel===Dr.config.bookingChannel.business?window.addEventListener("message",n):this.header.searchRequest(ri(Dr.state.stayDetails),Dr.state.code),fo.satelliteOnload({content:Dr.content,config:Dr.config})},od.prototype.emailLandingPageCalendar=function(){var e,t=this;Jr.emailLandingView()&&(e=xr.getParam("CAMPAIGNENDDATE"),new Date<new Date(e)?He(function(){return No.showCalendar},function(e){e?(t.calendar=new td,t.addChild(t.calendar)):t.removeChild(t.calendar)}):window.location.href=Dr.content.expiredPage.url)},od);function od(){var e=id.call(this)||this;return e.main(),e}return window.onload=function(){new rd},rd}();