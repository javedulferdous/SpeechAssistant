(window.webpackJsonp=window.webpackJsonp||[]).push([["@kroger/site-building-components/src/components/CmsImageNav"],{"5XcW":function(e,t,n){e.exports=n.p+"2b9cbcd7089d6c53a6e49b3f3096eff5.png"},tqCI:function(e,t,n){},wOCb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e?e.replace(/[^a-zA-Z0-9]/g," ").replace(/\s\s+/g," ").toLowerCase().trim():""}},xHTH:function(e,t,n){"use strict";n.r(t);var a=n("pVnL"),i=n.n(a),r=n("8OQS"),s=n.n(r),o=n("q1tI"),l=n.n(o),c=n("PJYZ"),m=n.n(c),d=n("VbXa"),u=n.n(d),p=n("/MKj"),h=n("acPk"),g=n("wOCb"),v=n("YTD2"),f=n("BUFb"),b=n("TSje"),k=n("KdP7"),w=(n("17x9"),function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hidden:!1,currentWidthLabel:""},n.setCurrentWidth=n.debounce(n.setCurrentWidth.bind(m()(n))),n.handleOnError=n.handleOnError.bind(m()(n),t.hideOnError),n}u()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.hideOnError&&window.MutationObserver&&window.addEventListener("resize",this.setCurrentWidth)},n.componentWillUnmount=function(){window.MutationObserver&&window.removeEventListener("resize",this.setCurrentWidth)},n.handleOnError=function(e,t){e&&"error"===t.type&&this.setState({hidden:!0})},n.getPicture=function(){var e=this.props,t=e.imageSet,n=e.altText,a=e.tabletMinWidth,i=e.desktopMinWidth,r=t.imageDesktop||t.imageTablet||t.imageMobile;return l.a.createElement("picture",{onError:this.handleOnError},t.imageMobile&&l.a.createElement("source",{srcSet:t.imageMobile,media:"(max-width: "+(t.imageTablet?a:i)+"px)"}),t.imageTablet&&l.a.createElement("source",{srcSet:t.imageTablet,media:"(max-width: "+i+"px)"}),l.a.createElement(v.a,{lazyLoadProps:{height:350,offset:100,once:!0}},l.a.createElement("img",{className:"ImageLink-image block mx-auto w-full",src:r,alt:n}),l.a.createElement(f.a,{name:"ImageLink"})))},n.getCurrentWidth=function(e,t){var n="";return window.innerWidth>=e?n="Desktop":window.innerWidth<e&&window.innerWidth>=t?n="Tablet":window.innerWidth<t&&(n="Mobile"),n},n.setCurrentWidth=function(){var e=this.props,t=this.state.currentWidthLabel,n=this.getCurrentWidth(e.desktopMinWidth,e.tabletMinWidth);n!==t&&this.setState({currentWidthLabel:n,hidden:!1})},n.debounce=function(e,t){var n,a=arguments,i=this;return void 0===t&&(t=250),function(){var r=a,s=!n;clearTimeout(n),n=setTimeout((function(){n=null}),t),s&&e.apply(i,r)}},n.renderComponent=function(e,t,n){return l.a.createElement(e,t,n)},n.getPayload=function(e,t){return"espot"===e.componentName?i()({usageContext:"espot click",espotSource:e.componentName},e,{espotName:t}):i()({usageContext:t},e)},n.getDocumentURL=function(e){return e.data.document.url},n.createEspotOverlay=function(){var e=this.props,t=e.isEspot,n=e.overlayText;return t&&n&&""!==n.trim()&&l.a.createElement("div",{className:"espot-overlay absolute pin-l pin-r pin-b h-64 flex items-center justify-between text-left bg-default-50 text-default-900"},l.a.createElement(b.a,{size:"l",className:"mt-0 mb-1 ml-16"},n),l.a.createElement(k.a,{className:"mt-0 mr-16 mb-0 ml-8 "}))},n.getComponentChildren=function(){return l.a.createElement(l.a.Fragment,null,this.getPicture(),this.createEspotOverlay())},n.render=function(){var e,t=this.state.hidden,n=this.props,a=n.linkTitle,r=n.inverse,s=n.headerText,o=n.subText,c=n.altText,m=n.url,d=n.omnitureTag,u=n.openInNewTab,p=n.usageMetrics,v=n.isEspot,f=n.document,b=r?" text-default-50":"",k={title:a||o||c||s,className:"ImageLink w-full block"},w="div",x=""===d?o||c||a||s:d,I=this.getPayload(p,Object(g.a)(x));if(v&&f){var E=this.getDocumentURL(f);w=h.a,k=Object.assign({},k,{to:E,payload:I,target:"_blank"})}else if(m&&(w=h.a,k=Object.assign({},k,{to:m,payload:I}),v&&u)){var N={target:"_blank"};e=N,k=Object.assign({},k,i()({},N,{aProps:e}))}return!t&&l.a.createElement("div",{className:"ImageLink-wrapper block mx-auto text-center"},this.renderComponent(w,k,this.getComponentChildren()),s&&this.renderComponent(w,Object.assign({},k,i()({tabIndex:-1},e,{className:"ImageLink-headerText block heading-l kds-Link kds-Link--implied kds-Link--xl font-secondary "+b})),s),o&&this.renderComponent(w,Object.assign({},k,i()({tabIndex:-1},e,{className:"ImageLink-subText kds-Link kds-Link--l kds-Link--implied p-6 "+b})),o))},t}(l.a.Component));w.defaultProps={imageSet:{imageMobile:"",imageTablet:"",imageDesktop:""},url:"",altText:"",omnitureTag:"",linkTitle:"",inverse:!1,headerText:"",subText:"",desktopMinWidth:640,tabletMinWidth:420,hideOnError:!1,usageMetrics:{}};var x=w,I=function(e){return{type:"departmentpage/imagenav/TOGGLE_VIEW_ALL",payload:i()({},e)}},E=n("i8i4"),N=n.n(E),C=n("5XcW"),y=n.n(C),T=(n("tqCI"),function(e){function t(t){var n;n=e.call(this,t)||this;var a=t.navItems,i=n.getNavItemsToRender(a);return n.state={navItemsToRender:i,expanded:!1},n.handleOnClick=n.handleOnClick.bind(m()(n)),n.focus=n.focus.bind(m()(n)),n}u()(t,e);var n=t.prototype;return n.getNavItemsToRender=function(e){return this.props.showAllItems||e.length<=6?e:e.slice(0,5)},n.UNSAFE_componentWillReceiveProps=function(e){var t=e.navItems,n=this.getNavItemsToRender(t);JSON.stringify(e.navItems)!==JSON.stringify(this.props.navItems)&&this.setState({expanded:!1,navItemsToRender:n})},n.componentDidUpdate=function(){return this.state.expanded?this.focus():null},n.focus=function(){N.a.findDOMNode(this.refs.image0).children[0].focus()},n.imageNavAlignmentClass=function(){return this.props.alignment?"ImageNav-align-"+this.props.alignment.toLowerCase():"ImageNav-align-left"},n.renderViewAllLink=function(){var e=this.props,t=e.inverse,n=e.navItems,a=e.columns,i=a.mobile,r=a.desktop;if(e.showAllItems)return null;var s=t?" text-default-50":"";return n.length>6&&!this.state.expanded?l.a.createElement("div",{key:"viewAll",className:"ImageNav-itemWrapper ImageNav-viewAll text-center my-8 \n        col-mobile-"+i+"\n        col-desktop-"+r},l.a.createElement("button",{className:"ImageLink w-full block",onClick:this.handleOnClick},l.a.createElement("picture",null,l.a.createElement(v.a,{lazyLoadProps:{height:350,offset:100,once:!0}},l.a.createElement("img",{className:"ImageLink-image block mx-auto w-full",src:y.a,alt:"View All"})))),l.a.createElement("button",{className:"ImageLink-subText kds-Link kds-Link--l kds-Link--implied p-6"+s,onClick:this.handleOnClick},"View All")):null},n.handleOnClick=function(){this.props.viewAllOmniture({componentName:"txnmy",usageContext:"view all"}),this.setState({navItemsToRender:this.props.navItems,expanded:!0})},n.render=function(){var e=this.props,t=e.columns,n=t.mobile,a=t.desktop,r=e.isEspot,o=e.style,c=void 0===o?{}:o,m=e.espotPosition,d=e.monetization,u=e.usageMetrics,p=e.showAllItems,h=s()(e,["columns","isEspot","style","espotPosition","monetization","usageMetrics","showAllItems"]),g=!!p||this.state.expanded;return l.a.createElement("div",{className:"ImageNav flex flex-wrap w-full mx-auto expanded-"+g+" "+this.imageNavAlignmentClass(),style:c},this.state.expanded&&l.a.createElement("p",{"aria-live":"assertive",className:"ViewAllAccessibility screen-reader"},"New items have been added to the page!"),this.state.navItemsToRender.map((function(e,t){var s=i()({},e),o=i()({componentName:r?"espot":"txnmy",scenarioName:r?"espot_click":"route_change",itemIndex:r?m+t+1:t+1},d,u),c=r?" espot rounded-8 overflow-hidden":"",p=r&&s&&s.elevated?" elevated-8":"",g=r&&s&&s.overlayText&&""!==s.overlayText.trim()?" relative":"";return l.a.createElement("div",{key:t,className:"ImageNav-itemWrapper col-mobile-"+n+" col-desktop-"+a+c+p+g},l.a.createElement(x,i()({},s,h,{isEspot:r,usageMetrics:o,ref:"image"+t})))})),this.renderViewAllLink())},t}(l.a.Component));T.defaultProps={navItems:[{}],columns:{mobile:3,desktop:6},alignment:"",isEspot:!1,espotPosition:0,usageMetrics:{},inverse:!1};var L=Object(p.connect)((function(e,t){return t}),(function(e){return{viewAllOmniture:function(t){return e(I(t))}}}))(T),O=function(e){var t=e.navItems,n=s()(e,["navItems"]);return l.a.createElement(L,i()({navItems:t.map((function(e){var t=e.imageSet,n=s()(e,["imageSet"]),a={};return"object"==typeof t&&("object"==typeof t.data&&t.data.hasOwnProperty("images")&&Array.isArray(t.data.images)?a=t.data.images.reduce((function(e,t){var n,a;return Object.assign(e,((n={})["image"+(a=t.target,a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))]=t.url,n))}),{}):Object.keys(t).forEach((function(e){var n=((t[e].data||{}).images||[{url:""}])[0].url;n&&(a[e]=n)}))),i()({imageSet:a},n)}))},n))};O.defaultProps={navItems:[{imageSet:{}}]};t.default=O}}]);
//# sourceMappingURL=CmsImageNav.840ed5c9709655a4fd13.js.map