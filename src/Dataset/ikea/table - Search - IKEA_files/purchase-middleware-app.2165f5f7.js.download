(window.webpackJsonpPurchaseMiddleware=window.webpackJsonpPurchaseMiddleware||[]).push([[2],[,,,,function(n,e,o){"use strict";o.r(e);function t(){return new Promise(function(t,r){if(window.ikea&&window.ikea.getSession){var n={baseUrl:"https://iows.ikea.com"},e="us/en".split("/"),o=c()(e,2),u=o[0],i=o[1];u&&(n.retailId=u),i&&(n.languageCode=i),window.ikea.getSession(function(n,e){n?r(n):t(e)},n)}else r(new Error("getSession is not found"))})}function u(){return i(t,3e3,3).then(function(n){return{status:a,userId:n.userId,userType:n.userType}}).catch(function(n){return{status:s,error:n}})}var r=o(8),c=o.n(r),i=o(12),a="SESSION_CONTEXT_SUCCESS",s="SESSION_CONTEXT_FAIL",f=!0;e.default=function(){o.e(0).then(function(n){var e=o(22).default;if(f)e(o(23).purchaseHandler);else{var t=o(24),r=t.purchaseFunc;e(new t.purchaseHandler(u,r))}}.bind(null,o)).catch(o.oe),o.e(1).then(function(n){var e=o(25).default,t=o(26);e(u,t)}.bind(null,o)).catch(o.oe)}},,,,function(n,e,t){var r=t(9),o=t(10),u=t(11);n.exports=function(n,e){return r(n)||o(n,e)||u()}},function(n,e){n.exports=function(n){if(Array.isArray(n))return n}},function(n,e){n.exports=function(n,e){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var t=[],r=!0,o=!1,u=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!e||t.length!==e);r=!0);}catch(n){o=!0,u=n}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return t}}},function(n,e){n.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(n,e){n.exports=function r(o,u,i){return new Promise(function(e,t){return o().then(e).catch(function(n){1===i?t(n):setTimeout(function(){return e(r(o,u,i-1))},u)})}).catch(function(n){return Promise.reject(n)})}}]]);
//# sourceMappingURL=purchase-middleware-app.2165f5f7.js.map