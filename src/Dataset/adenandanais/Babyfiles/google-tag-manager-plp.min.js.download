define(['jquery','Magento_GoogleTagManager/js/google-analytics-universal',],function($,GoogleAnalyticsUniversal){'use strict';$.widget('mage.gtmPlp',{options:{dlCurrencyCode:window.dlCurrencyCode||'',dataLayer:window.dataLayer||[],staticImpressions:window.staticImpressions||[],staticPromotions:window.staticPromotions||[],updatedImpressions:window.updatedImpressions||[],updatedPromotions:window.updatedPromotions||[],blockNames:[],events:{AJAX_RELOAD_PLP:'ajax:reloadPlp'},actions:{}},_create:function(){this.googleAnalyticsUniversal=new GoogleAnalyticsUniversal({blockNames:this.options.blockNames,dlCurrencyCode:this.options.dlCurrencyCode,dataLayer:this.options.dataLayer,staticImpressions:this.options.staticImpressions,staticPromotions:this.options.staticPromotions,updatedImpressions:this.options.updatedImpressions,updatedPromotions:this.options.updatedPromotions});this._setListeners();},_setListeners:function(){let events=this.options.events;$(document).on(events.AJAX_RELOAD_PLP,function(){this.googleAnalyticsUniversal.staticImpressions=window.staticImpressions;this.googleAnalyticsUniversal.updateImpressions();}.bind(this));}});return $.mage.gtmPlp;});