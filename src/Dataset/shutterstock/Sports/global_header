extole.define("json!https://origin.xtlo.net/type=creativeArchive:clientId=1528233037:creativeArchiveId=6875336770860067609:version=29:coreAssetsVersion=27/variables/buildtime-variables.json",[],function(){return JSON.parse('{"buttonHeight":"55px","defaultLocale":"en","enabledLocales":"en","bodyFontFamilyUrl":"https://fonts.googleapis.com/css?family=Roboto","headerFontFamilyUrl":"https://fonts.googleapis.com/css?family=Roboto:700","enableContentSharing":false,"autoPopWidget":false,"autoPopDelay":"0","extoleHostedCallToAction":true,"redirectToPromoteDestination":false,"displayButton":true,"displayButtonIconImage":false,"displayImage":false,"referenceElement":""}')});
extole.define("text!https://origin.xtlo.net/type=creativeArchive:clientId=1528233037:creativeArchiveId=6875336770860067609:version=29:coreAssetsVersion=27/html/template.html",[],function(){return'<div id="extole-6875336770860067609">\n            <button class="extole-cta-button" type="button">\n\n<b>Refer & Get $50</b>            </button>\n</div>\n'});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/logger.js",[],function(){function n(m,a,g){g=g||{};g.pageId=l;g.referer=c;try{var d=[a||"no message","START_JSON",JSON.stringify(g),"END_JSON"].join(" ")}catch(b){e("Failed to stringify log's json data",{exception:b});return}extole.LOG_EXCLUDE_REGEX&&d.match(extole.LOG_EXCLUDE_REGEX)||(q[d]=++q[d]||1,h[m]>=h[extole.LOG_LEVEL_CONSOLE]&&window.console&&window.console.log&&window.console.log(m+" "+d),h[m]>=
h[extole.LOG_LEVEL_REMOTE]&&(a=q[d],p[a]&&r(m,d+(1<a?" log count: "+a:""))))}function r(c,a){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/api.js"],function(g){g.post("/api/v4/debug/logs",{level:c,message:a})})}function e(c,a){n("ERROR",c,a)}if("undefined"===typeof window)return{debug:function(){},info:function(){},warn:function(){},error:function(){},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var l=String((new Date).getTime()),c=window.location.href,
h={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},p={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||"OFF";extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var q={};return{debug:function(c,a){n("DEBUG",c,a)},info:function(c,a){n("INFO",c,a)},warn:function(c,a){n("WARN",c,a)},error:e,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/dom.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/logger.js"],function(n){function r(a,g){return(g||document).querySelectorAll(a)}function e(a,g){return r(a,g)[0]}function l(a,g){function d(){clearTimeout(k);g(b);h.removeListener(b,"load",d)}g=g||function(){};if(m[a]||!a)return g(m[a]),m[a]||null;m[a]=document.createElement("link");var b=m[a];p.setAttribute(b,
"rel","stylesheet");p.setAttribute(b,"href",a);q.append(e("head"),b);h.addListener(b,"load",d);var k=setTimeout(function(){n.warn("Load timeout reached for stylesheet: ",{url:a});d()},5E3);return b}var c={each:function(a,g){var d;if(a.length===Number(a.length))for(d=0;d<a.length;d++){var b=g(a[d],d);if(!1===b)return!1}else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(b=g(a[d],d),!1===b))return!1},extend:function(){var a,g,d=arguments[0]||{},b=1,k=arguments.length,f=!1,u=this.extend;"boolean"===
typeof d&&(f=d,d=arguments[1]||{},b=2);for("object"===typeof d||this.isFunction(d)||(d={});b<k;b++){var c=arguments[b];if(null!==c)for(a in c){var e=d[a],t=c[a];d!==t&&(f&&t&&(this.isPlainObject(t)||(g=this.isArray(t)))?(g?(g=!1,e=e&&this.isArray(e)?e:[]):e=e&&this.isPlainObject(e)?e:{},d[a]=u(f,e,t)):void 0!==t&&(d[a]=t))}}return d},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}return!0},isArray:function(a){return a instanceof Array}};c.each.BREAK=!1;var h=function(){function a(b,a,f){for(var k=[],c=0;c<d.length;c++){var g=d[c];g.element==b&&g.eventType==a&&g.listener==f&&k.push({index:c,eventListener:g})}return k}function g(b){this.originalEvent=b;this.type=b.type;this.keyCode=b.keyCode;this.target=b.srcElement?b.srcElement:b.target}
var d=[];g.prototype={preventDefault:function(){var b=this.originalEvent;b.preventDefault?b.preventDefault():b.returnValue=!1},stopPropagation:function(){var b=this.originalEvent;b.stopPropagation&&b.stopPropagation();b.cancelBubble=!0}};return{addListener:function(b,k,f){function c(a){e&&(a=window.event);return f.call(b,new g(a))}if(0<a(b,k,f).length)n.warn("events.add - Listener already exists for event "+k+" on element "+b);else{var e=!b.addEventListener;d.push({element:b,eventType:k,listener:f,
listenerWrapper:c});b.addEventListener?b.addEventListener(k,c,!1):b.attachEvent("on"+k,c)}},triggerEvent:function(b,a,f){var d=document.createEvent("Event");d.initEvent(a,!0,!1);c.extend(d,f);b.dispatchEvent(d)},removeListener:function(b,k,f){f=a(b,k,f);0>=f.length?n.info("events.remove - Couldn't find exiting event listener for type \""+k+'" listener on element '+b):c.each(f,function(a){var f=a.index;a=a.eventListener;b.removeEventListener?b.removeEventListener(k,a.listenerWrapper,!1):b.detachEvent("on"+
k,a.listenerWrapper);d.splice(f,1)})}}}(),p=function(){function a(a){a=a.className;var b={};if(!a)return b;c.each(a.split(" "),function(a){b[a]=1});return b}function g(a){var b="";c.each(a,function(a,f){b+=" "+f});return b.slice(1)}return{setAttribute:function(a,b,k){a.setAttribute(b,k);a[b]=k},getAttribute:function(a,b){return a.getAttribute(b)},addClass:function(d,b){var k=a(d);k[b]||(k[b]=1,d.className=g(k))},removeClass:function(d,b){var k=a(d);delete k[b];d.className=g(k)},getClassNames:function(a){return a.className.split(" ")}}}(),
q=function(){function a(a){var b=document.createDocumentFragment(),d=document.createElement("div");d.innerHTML=a;c.each(d.childNodes,function(a){1==a.nodeType&&b.appendChild(a)});return b}function g(a){var b;c.each(a.childNodes,function(a){if(!b&&1==a.nodeType)return b=a,c.each.BREAK});return b}return{prepend:function(d,b){var k=g(d),f=b;"string"===typeof b&&(f=a(b));k?d.insertBefore(f,k):d.appendChild(f)},append:function(d,b){var k=b;"string"===typeof b&&(k=a(b));d.appendChild(k)}}}(),m={};return{addEventListener:h.addListener,
removeEventListener:h.removeListener,triggerEvent:h.triggerEvent,getAttribute:p.getAttribute,setAttribute:p.setAttribute,addClass:p.addClass,removeClass:p.removeClass,getClassNames:p.getClassNames,prepend:q.prepend,append:q.append,query:r,queryFirst:e,isVisible:function(a,c){return!!(e(a,c)||{}).offsetParent},injectStylesheet:l,injectStylesheets:function(a,g){function d(a){--b||g(k)}g=g||function(){};if(0===a.length)g();else{var b=0,k=[];c.each(a,function(a){b++;setTimeout(function(){k.push(l(a,d))},
1)})}},scrollIntoViewIfNeeded:function(a,c){function d(a,b){return{start:a,length:b,end:a+b}}function b(a,b){return!1===c||b.start<a.end&&a.start<b.end?Math.min(a.start,Math.max(b.start,a.end-b.length)):(a.start+a.end-b.length)/2}function k(a,b){return{x:a,y:b,translate:function(f,d){return k(a+f,b+d)}}}function f(a,b){for(;a;)b=b.translate(a.offsetLeft,a.offsetTop),a=a.offsetParent;return b}var g=f(a,k(0,0)),e=k(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var h;a instanceof HTMLElement;)h=f(a,
k(a.clientLeft,a.clientTop)),a.scrollLeft=b(d(g.x-h.x,e.x),d(a.scrollLeft,a.clientWidth)),a.scrollTop=b(d(g.y-h.y,e.y),d(a.scrollTop,a.clientHeight)),g=g.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/type.js",[],function(){function n(e,l){return function(c){return r(e,c,l)}}function r(e,l,c){c=c||{};e=Object.prototype.toString.call(l)==="[object "+e+"]";l=l&&c.construct?l.constructor===c.construct:!0;return(c.negate?!e:e)&&l}return{isPlainObject:n("Object",{construct:Object}),isPlainFunction:n("Function"),isArray:n("Array"),isString:n("String"),isBoolean:n("Boolean"),isNumber:n("Number"),isUndefined:n("Undefined"),
isDefined:n("Undefined",{negate:!0}),isNull:n("Null"),test:r}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/zone-url-builder.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/type.js"],function(n){function r(e){function l(a,b){if(n.isPlainObject(a))for(var f in a)l(f,a[f]);else a&&g.push(encodeURIComponent(a)+(b?"="+encodeURIComponent(b):""));return q}function c(a,b,d){a&&l(b,d);return q}function h(){c(!!m,"journey.campaign_id",m.getCampaign().getId());return q}function p(f){return"http"+
(b?"s":"")+"://"+k+"/zone/"+(a||f)+(g.length?"?"+g.join("&"):"")+(d?"#"+encodeURIComponent(d):"")}var q=this,m=e||null,a,g=[],d="",b=!0,k=e?e.getProgram().getProgramDomain():"no_context";this.setZone=function(b){a=b||a;return q};this.setSsl=function(a){b=!1!==a;return q};this.setQuery=l;this.setQueryIf=c;this.setCampaign=h;this.setDomain=function(a){k=a||k;return q};this.setHash=function(a){d=a||d;return q};this.build=p;this.promote=function(a,b){h();l("source",a||m.getZone().getName());c(b,"email",
b);return p("promote_destination")};this.terms=function(){h();return p("terms")};this.unsubscribe=function(a,b){h();l("unsubscribe_type",(b||"FRIEND").toUpperCase());c(a,"unsubscribe_email",a);return p("optout")};this.secureUnsubscribe=function(a,b){h();l("unsubscribe_type",(b||"FRIEND").toUpperCase());c(a,"unsubscribe_email",e.getServices().getSecureEmailService().encrypt(a));return p("optout")};this.verification=function(a,b){h();c(b,"extole_secret",b);c(a,"email",a);return p("advocate_stats")};
this.closeWindow=function(a){h();l("close","true");return p(a||"microsite")}}return function(e){return new r(e)}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/uri.js",[],function(){function n(e){var l={};(function q(e,p){for(var h in e){var a=e[h],g=(p?p+".":"")+h;"[object Object]"===Object.prototype.toString.call(a)?q(a,g):l[g]=a}})(e);return l}function r(e){try{return decodeURIComponent(e)}catch(l){return e}}return{serialize:function(e){var l="",c;for(c in e)l+="&"+encodeURIComponent(c)+"="+encodeURIComponent(String(e[c]));return l.replace(/^&/,"?")},deserialize:function(e){var l=
{};if(!e)return l;e=(e.match(/^\?/)?e.slice(1):e).split("&");for(var c=0;c<e.length;c++){var h=e[c].split("=");l[r(h[0])]=r(h[1])}return l},objectToDotNotation:n,dotNotationToObject:function(e){var l={};e=n(e);for(var c in e){for(var h=l,p=c.split("."),q=p.pop();p.length;){var m=p.shift();h[m]=h[m]||{};h=h[m]}h[q]=e[c]}return l},decodeComponent:r,encodeComponent:function(e){return encodeURIComponent(e)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/create-zone-builder.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/type.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/uri.js"],function(n,r){function e(e){function c(a){b.name=a;return m}function h(a,b){if(n.isPlainObject(a))for(var f in a)h(f,a[f]);else a&&(d[a]=b);return m}function l(){a&&(d.target="campaign_id:"+a.getCampaign().getId());
return m}function q(b){b?d.source=b:!d.source&&a&&(d.source=r.deserialize(location.search).extole_source||a.getZone().getName());return m}var m=this,a=e,g=null,d=e?e.getZone().getParameters():{},b={data:d};this.setName=c;this.setElementId=function(a){delete b.element;b.element_id=a;return m};this.setElement=function(a){delete b.element_id;b.element=a;return m};this.setData=function(a){d=a;b.data=d;return m};this.addData=h;this.setCampaign=l;this.setSource=q;this.setContentZone=function(a){a&&"false"!==
a&&(d.content_zone=!0);return m};this.setEmbedded=function(a){a&&"false"!==a&&(d.widgetIsEmbedded=!0);return m};this.setCallback=function(a){g=a;return m};this.create=function(a){a&&c(a);l();q();extole.createZone(b,g)};this.build=function(){extole.createZone(b,g)}}return function(l){return new e(l)}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/user-service.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/uri.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/logger.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/event-bus.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/api.js".split(" "),function(n,
r,e,l,c,h){function p(a){function c(f,d){if(d||f!==a.get()){var c=b&&b.parameters&&b.parameters.cookie_consent;c=extole.CORE_CONFIG.cookieConsentEnabled&&!c;a.set(f,d||(c?"SESSION":"YEAR"))}}function d(a){a.parameters=r.merge({},b.parameters,a.parameters);return r.merge({},b,a)}var b={},k={getAccessToken:function(){return b.access_token},getId:function(){return b.id},getEmail:function(){return b.email},getFirstName:function(){return b.first_name},getLastName:function(){return b.last_name},getProfilePictureUrl:function(){return b.profile_picture_url},
getPartnerUserId:function(){return b.partner_user_id},getLocale:function(){return b.locale},getParameters:function(){return b.parameters},getMe:function(){return JSON.parse(JSON.stringify(b))},getCapabilities:function(){return Array.isArray(b.capabilities)?b.capabilities.slice():[]},getScopes:function(){return Array.isArray(b.scopes)?b.scopes.slice():[]}};r.merge(this,k);(function(){var a=e.deserialize(window.location.search);a.extole_access_token&&c(a.extole_access_token,a.extole_access_token_type)})();
this.asReadOnly=function(){return k};this.fetchAccessToken=function(f){h.get("/api/v4/token",function(a,e){a?f(a):(c(e.access_token,e.access_token_type),b=d(e),f())},{noAuthorizationHeader:!a.get()})};this.upgradeAccessToken=function(f,c){var e="/api/v4/token/"+(a.get()||"")+"/upgrade";h.post(e,{extole_secret:f},function(a,f){a?c(a):(b=d(f),c())})};this.deleteAccessToken=function(d){b={};h.del("/api/v4/token",function(b,c){a.remove();d(b,c)})};this.fetchAttributes=function(a){h.get("/api/v4/me",function(c,
f){c?a(c):(b=d(f),a(null,b))})};this.saveAttributes=function(a,c){var f={email:a.email,first_name:a.first_name,last_name:a.last_name,profile_picture_url:a.profile_picture_url,partner_user_id:a.partner_user_id};h.post("/api/v4/me",f,function(a,e){a?c(a):(b=d(f),c(null,b))})};this.fetchParameters=function(a){h.get("/api/v4/me/parameters",function(c,f){c?a(c):(b=d({parameters:f}),a(null,b.parameters))})};this.saveParameters=function(f,e,g){e="PRIVATE"===(e||"PRIVATE").toUpperCase()?"PRIVATE":"PUBLIC";
g=g||function(){};f.processing_consent&&(f.processing_consent_type="EXTOLE");f.cookie_consent&&(f.cookie_consent_type="EXTOLE");h.post("/api/v4/me/parameters",{type:e,parameters:f},function(e,t){e?g(e):(f.cookie_consent&&c(a.get(),"YEAR"),b=d({parameters:f}),g(null,b.parameters))})};this.fetchAdvocates=function(a){h.get("/api/v4/me/advocates",function(b,c){a(b,c)})};this.getPerson=function(a,b){h.get("/api/v4/person/"+a,function(a,c){b(a,c)})};this.setAccessToken=c}function q(){var a=0,c=[],d=this;
this.push=function(a){c.push(a);this.next()};this.next=function(){for(;a<m&&c.length;)c.shift()(function(){a--;d.next()}),a++}}var m=1;return new function(){function a(a){k.push(function(b){f.getAccessToken()?a(null,b):g(function(c){a(c,b)})})}function g(a){function c(b){!b&&m&&(m=!1,h.events.trigger("login",f.asReadOnly()));a(b)}f.fetchAccessToken(function(e){e?"invalid_access_token"===e.code?d(c):a(e):b(c)})}function d(a){f.deleteAccessToken(function(b){f.fetchAccessToken(a)})}function b(a){f.fetchAttributes(function(b){var c=
r();b||!c?setTimeout(a,0):f.upgradeAccessToken(c,function(b){a(null)})})}var k=new q,f=new p(n),h=this,m=!0;this.events=c.create();this.setAccessToken=f.setAccessToken;this.getUser=function(b){b=b||function(){};a(function(a,c){a?b(a):b(null,f.asReadOnly());c()})};this.flush=function(a){a=a||function(){};k.push(function(b){g(function(c){c?a(c):a(null,f.asReadOnly());b()})})};n.events.on("change:access_token",this.flush);this.updateMe=function(b,c){c=c||function(){};a(function(a,d){function e(a,b){c(a,
b);d()}a?e(a):b.email||b.first_name||b.last_name||b.profile_picture_url||b.partner_user_id?f.saveAttributes(b,function(a){a?e(a):e(null,f.asReadOnly())}):e(null,f.asReadOnly())})};this.updateProfile=function(a,b){l.warn("userService.updateProfile is deprecated");return this.updateMe(a,b)};this.updateParameters=function(b,c,d){"function"!==typeof c||d||(d=c,c=void 0);d=d||function(){};a(function(a,e){a?(d(a,void 0),e()):f.saveParameters(b,c,function(a){a?d(a,void 0):(a=f.asReadOnly(),d(null,a));e()})})};
this.fetchParameters=function(b){b=b||function(){};a(function(a,c){a?(b(a,void 0),c()):f.fetchParameters(function(a,d){a?b(a,void 0):b(null,d);c()})})};this.fetchAdvocates=function(b){b=b||function(){};a(function(a,c){a?(b(a,void 0),c()):f.fetchAdvocates(function(a,d){a?b(a,void 0):b(null,d);c()})})};this.getPerson=function(b,c){c=c||function(){};a(function(a,d){a?(c(a,void 0),d()):f.getPerson(b,function(a,b){a?c(a,void 0):c(null,b);d()})})};this.logout=function(b){b=b||function(){};a(function(a,
c){a?(b(a),c()):f.deleteAccessToken(function(a){m=!0;h.events.trigger("logout",f.asReadOnly());b(null);c();h.getUser(function(){})})})};var r=function(){var a=e.deserialize(window.location.search).extole_secret;return function(){var b=a;b&&(a=null);return b}}()}});
extole.define("global_header305711646.2", "https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/zone-url-builder.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/create-zone-builder.js text!https://origin.xtlo.net/type=creativeArchive:clientId=1528233037:creativeArchiveId=6875336770860067609:version=29:coreAssetsVersion=27/html/template.html json!https://origin.xtlo.net/type=creativeArchive:clientId=1528233037:creativeArchiveId=6875336770860067609:version=29:coreAssetsVersion=27/variables/buildtime-variables.json https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=27/common/user-service.js".split(" "),function(n,
r,e,l,c,h){return function(p){function q(h){if("true"===h||-1!==location.href.search("my.extole.com")){h=p.getZone();var a=c.referenceElement&&n.queryFirst(c.referenceElement)||h.getElement();h=p.getLocale();n.addEventListener(a,"click",function(a){a.preventDefault();c.redirectToPromoteDestination?location.href=r(p).promote():e(p).setContentZone(c.enableContentSharing).create("share_experience")});n.injectStylesheets([c.bodyFontFamilyUrl,c.headerFontFamilyUrl,"https://origin.xtlo.net/type=creativeArchive:clientId=1528233037:creativeArchiveId=6875336770860067609:version=29:coreAssetsVersion=27/css/main"+
(h?"-"+h:"")+".css"],function(){c.extoleHostedCallToAction&&!c.referenceElement&&(a.innerHTML=l);c.autoPopWidget&&setTimeout(function(){e(p).setContentZone(c.enableContentSharing).create("share_experience")},1E3*c.autoPopDelay)})}}h.getUser(function(c,a){a&&(c=a.getParameters().user_is_active,q(c))})}});
extole.require([
    "global_header305711646.2",
    "pending-zone-service",
    "core-root:///common/collection.js"
], function (
    legacyRender,
    pendingZoneService,
    collection
) {

    function render(context) {
        var legacyContext = collection.merge(context, {
            getCampaign: function () {
                return {
                    getId: function () {
                        return "6875336769601540687";
                    },
                     getProgramLabel: function () {
                        return "refer-a-friend";
                    }
                  };
            },
            getInputConsumerEvent: function () { return {"id":"6893112625866385940","name":"global_header","data":{}}; },
            getStepConsumerEvent: function () { return {"id":"6893112625597059249","name":"promotion_viewed","data":{}}; }
        });
        legacyRender(legacyContext);
    };

    pendingZoneService
        .get("305711646.2")
        .resolve(render, "DCN58ND7IDR45B5DEKCB3DOJR0", "YEAR",              "en");

});
