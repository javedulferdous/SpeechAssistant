window._bttTagInit;(function(w){if(w._bttTagInit != undefined){return false;}w._bttTagInit = true;w._bttUtil={version:"3.9.6",WP:window.performance,lnst:0,lpn:'',lpg:'',resP: {},ci: 0,wcdLog: false,rm: false,changeCheckFlag: true,sendDataFlag: true,mutObs:false,tlg:[],tti:0,ftti:0,totFrames:0,xhrActive:[],nvgTmg:function(){var x={};try{x=this.WP.getEntriesByType('navigation')[0]}catch(e){x={};}return x;},resTmg:function(){var x={};try{x=this.WP.getEntriesByType('resource')}catch(e){x=false;}return x;},wcdHandler: function(){var _b = w._bttUtil, lastResP = _b.resP, c = 1, i = 0;if(Object.keys(_b.resP).length === 0){return false;}var changeCheck = setInterval(function(){!_b.changeCheckFlag && clearInterval(changeCheck);_b.wcdLog && console.log('check');if(lastResP != _b.resP){i = 0;}if(c % 8 === 0){if( i <= 7 ){if(_b.wcdLog){console.group('send data');console.log(_b.resP);console.log(_b.ci);console.groupEnd('send data');}_b.ci = w.bttUT.sendResPost(_b.resP, _b.ci);_b.clearWCD();lastResP = _b.resP;i++;}}c++;}, 500);},setLastState: function(nst, pn, pg){this.lnst = nst;this.lpn = pn;this.lpg = pg;},clearWCD: function(){try{if(this.resCnt() >= 400){this.WP.clearResourceTimings();}}catch(e){}},fp:function(c){var fp=0,t=this;try{if(c!=undefined&&c==="c"){if(t.WP.getEntriesByType('paint').length>1){fp=parseInt(t.WP.getEntriesByType('paint')[1].startTime);}}else{if(t.WP.getEntriesByType('paint').length>0){fp=parseInt(t.WP.getEntriesByType('paint')[0].startTime);}}}catch(e){fp=0}return fp;},fmp:function(p){return 0;},pgSz:function(a){var totalPgEncSize=0,totalPgDecSize=0,imgEncSize=0,jsEncSize=0;if(a==undefined){a=0;}try{var WP= window.performance;var nvgTmg=WP.getEntriesByType('navigation')[0];var resTmg=WP.getEntriesByType('resource');var pgEncSize=nvgTmg["encodedBodySize"],pgDecSize=nvgTmg["decodedBodySize"];if(a>0){resTmg=resTmg.slice(a,resTmg.length);pgEncSize=0; pgDecSize=0;}for(var i in resTmg){var encSz=resTmg[i].encodedBodySize!=undefined?resTmg[i].encodedBodySize:0,decSz=resTmg[i].decodedBodySize!=undefined?resTmg[i].decodedBodySize:0,init=resTmg[i].initiatorType;totalPgEncSize += encSz;totalPgDecSize += decSz;imgEncSize += init==="img"||init==="image"||init==="icon"?encSz:0;jsEncSize += init==="script"?encSz:0;}}catch(e){totalPgEncSize=0,totalPgDecSize=0,imgEncSize=0,jsEncSize=0}return {pgSzEnc:totalPgEncSize,pgSzDec:totalPgDecSize,imgSz:imgEncSize,jsSz:jsEncSize}},resCnt:function(i){var x;try{var resTmg=this.resTmg();if(resTmg===false){return 0;}var resLen=resTmg.length;if(i==undefined){x=resLen;}else{x=resTmg.slice(i, resLen).length;}}catch(e){x=0;}return x;},cors: function(method, url) {var bx=new XMLHttpRequest();if(bx!=null){bx.open(method,url,true);bx.withCredentials=true;bx.setRequestHeader("Content-Type","application/json;charset=UTF-8");}else if(typeof XDomainRequest!="undefined"){bx=new XDomainRequest();bx.open(method,url);}else{bx=null;}return bx;},trfChk:function(srch,url){if(typeof(srch)!='undefined'&&(srch.indexOf('|||')===-1&&url.indexOf(srch)!=-1)){return true;}else if(typeof(srch)!='undefined' && srch.indexOf('|||')!=-1){var srchArr = srch.split('|||'),srchLength=srchArr.length,ctr=0;for(var i in srchArr){if(url.indexOf(srchArr[i])!=-1){ctr++;}}if(ctr === srchLength){return true;}else{return false;}}else{return false;}},getTTI: function(){if(this.ftti > 0 && this.tti > 0){return Math.round(Math.min(this.ftti, this.tti));}else{if(typeof(this.ftti) === 'undefined'){this.ftti = 0;}if(typeof(this.tti) === 'undefined'){this.tti = 0;}return Math.round(Math.max(this.ftti, this.tti));}},getDomain: function(s){var d;if (s.match(/\/\//g) === null) {d = "NoDomain";}else {if (s.indexOf("//") > -1) {d = s.split('/')[2];}else {d = s.split('/')[0];}var nd = d;try {nd = nd.replace(/\./g, '');nd = nd.replace(/\:/g, '');if (isNaN(nd)) {if ((d.match(/\./g).length > 1)) {d = d.substring(d.indexOf(".") + 1);}else if ((d.match(/\./g).length == 0)) {d = "NoDomain";}}} catch (e) {d = s.split('://')[0];}}return d;}};w._bttFPS={init: false,QW: 1000,maxFrameLength: 50,totFrames: 0,fpsRuntime: 0,frmArr: [],lf: false,lsf: false,fps: 0,fpsLog: [],longFrames: 0,start: false,stopFps: false,frameCheck: function(t){var _BF=_bttFPS;if (_BF.stopFps || _BF.totFrames > 2000) {_BF.reset();return}if (!_BF.start){_BF.start = t;}_BF.totFrames++;_BF.frmArr.push(t);window.requestAnimationFrame(_BF.frameCheck);},reset: function(){var _BF = _bttFPS;_BF.stopFps = false;_BF.totFrames = 0;_BF.fpsRuntime = 0;_BF.frmArr = [];_BF.fps = 0;_BF.lf = false;_BF.lsf = false;_BF.longFrames = 0;},startFps: function(){var _BF = _bttFPS;if(!_BF.stopFps){_BF.reset();window.requestAnimationFrame(_BF.frameCheck);}},calcFps: function(spa, nstDiff){var _BU = window._bttUtil, _BF = this, frmLen = _BF.frmArr.length;_BF.stopFps = false;_BF.fpsRuntime = frmLen > 1 ? _BF.frmArr[frmLen - 1] - _BF.frmArr[0] : 0;if(_BF.totFrames == 0 || _BF.fpsRuntime == 0){_BF.fps = 0;}else{_BF.fps = Math.floor(_BF.totFrames / (_BF.fpsRuntime / 1000));}_BU.ftti = _BF.calcFTTI();_BF.reset();},calcFTTI: function(){var frmLen = this.frmArr.length,fcp = this.getFCP(),start = false; for(var i=0; i<frmLen; i++){var t = this.frmArr[i];if (!this.start) this.start = t;var secondIndex = Math.floor(t/1000);if(typeof this.fpsLog[secondIndex] === "undefined"){this.fpsLog[secondIndex] = 1;}else{this.fpsLog[secondIndex]++;}if(t < fcp){continue;}if(this.lsf && (t - this.lsf) >= this.QW){var tti = this.lsf;return Math.round(tti);}if(this.lf && (t - this.lf) >= this.maxFrameLength){this.longFrames++;this.lsf = t;}if(!this.lsf){this.lsf = t;}this.lf = t;}},getFCP: function(){try{var p = window.performance;if(typeof(p)=="object"){var fp = p.getEntriesByType('paint'), fcp;if(fp.length===2){fcp = fp[1].startTime;}else if(fp.length===1){fcp = fp[0].startTime;}else{fcp = p.timing.domContentLoadedEventEnd - p.timing.navigationStart;}}else{fcp = 0;}}catch(e){fcp=0;}return fcp;}};w._bttWebVitals = {lcp: 0,fidDur: 0,fidStart:0,clsScore: 0,clsStart: 0,navigationTimings: {},lcpLog: [],fidEventLog: [],fidLog: [],clsLog: [],init:function(){var self = this;this.initLCP();this.initFID();this.initCLS();},getTBT: function() {try {fcp = _bttFPS.getFCP();tti = _bttUtil.getTTI();tbt = 0;if (tti == 0 || fcp > tti) {return 0;}for (var i = 0; i < _bttUtil.tlg.length; i++) {dur = _bttUtil.tlg[i].duration;stTm = _bttUtil.tlg[i].startTime;if (stTm > fcp && stTm < tti && dur > 50) {tbt += (dur - 50);}}return Math.round(tbt);}catch (e) {return 0}},updateLCP: function(entry){_bttWebVitals.lcp = Math.round(entry.startTime);},updateCLS: function(entry){if (!entry.hadRecentInput) {_bttWebVitals.clsScore += entry.value;_bttWebVitals.clsStart = Math.round(entry.startTime);}},updateFID: function(entry, po){_bttWebVitals.fidDur = Math.round(entry.processingStart - entry.startTime);_bttWebVitals.fidStart = Math.round(entry.startTime);po.disconnect();},initLCP: function(){var self = this;try{const po = new PerformanceObserver(function(entryList, po){entryList.getEntries().forEach(self.updateLCP);});po.observe({type: 'largest-contentful-paint',buffered: true,});}catch(e){}},initFID: function(){var self = this;try{const po = new PerformanceObserver(function(entryList, po){entryList.getEntries().forEach(function(entry){self.updateFID(entry, po)});});po.observe({type: 'first-input',buffered: true,});}catch(e){}},initCLS: function(){try {var self = this;const po = new PerformanceObserver(function(entryList, po){entryList.getEntries().forEach(self.updateCLS);});po.observe({type: 'layout-shift',buffered: true,});} catch (e) {}},};_bttWebVitals.init();w._bttErr={a:[],b:[],c:0,post: function(p) {try {var t=this,jStr="",url = 'https://d.btttag.com/err.rcv?siteID=marriott&nStart=' +p.nStart+'&pageName='+p.pageName+'&txnName='+p.txnName+'&sessionID='+p.sID+'&pgTm='+p.pgTm+'&pageType='+p.pageType+'&AB='+p.AB+'&DCTR='+p.DCTR+'&CmpN='+p.CmpN+'&CmpM='+p.CmpM+'&CmpS='+p.CmpS,c=0;if(t.a.length===0||t.c>30){return false;}var bx=window._bttUtil.cors('POST', url);t.a=t.errDup(t.a);jStr=JSON.stringify(t.a);t.a=[];var SnDENC=btoa(jStr);bx.send(SnDENC);t.c++;}catch(e){}return true;},errDup: function(b) {var c=[],m=[];try{var ln=b.length;for(var i=0;i<ln;i++){k=b[i].msg+String(b[i].line);if(m[k]===undefined){c.push(b[i]);m[k]=b[i];}else{m[k].eCnt+=1;}}} catch (e) {c=b;}return c;},capture:function(msg, url, lineNo, columnNo, error, errorType){try{var str=msg.toLowerCase(),eTp="",_b=this,t=+new Date(),                st;                if(error.hasOwnProperty('stack') && error.stack.indexOf('\n') != -1){                    st=error.stack.split('\n    ').join("~~");                }                else{                    st=error;                }                if(str.indexOf("script error")!=-1){var message = {msg: "Script error",time: t};_b.a.push(message);_b.b.push(message);}else{if(typeof(errorType) != "undefined"){eTp=errorType;}else if(error.name!==undefined){eTp=error.name;}else{eTp='Other';}var eObj = {msg:st,eTp:eTp,eCnt:1,url:url,line:lineNo,col:columnNo,time:t};_b.a.push(eObj);_b.b.push(eObj);}}catch(e){}},captSec:function(url, lineNo, ts, src, disp){try{if(url!="eval"||url.split('//').length>1){var fqdn=url.split('//')[1].split('?')[0].split('/')[0];var fqdnArr=fqdn.split(".");var dmn=fqdnArr.length>2?fqdnArr.slice(1).join('.'):fqdn;}else{var dmn=url;}var _b=this, eTp="CSPViolation";if(typeof(disp)!='undefined'&&disp=="report"){eTp="CSPReportViolation";}var eObj = {msg:"",stack:"",eTp:eTp,gTp:"security",eCnt:1,url:url,line:lineNo,fNm:dmn,col:0,src:src,time:ts};_b.a.push(eObj);_b.b.push(eObj);}catch(e){}}};})(window);window.btt_NA = navigator.userAgent;window.btt_NP = navigator.platform;window.btt_NV = navigator.vendor;window._bttbdkt={init: function(){this.browser=this.sstg(this.DBR)||"";this.version=this.VR(navigator.userAgent)||this.VR(navigator.appVersion)||"";this.OS=this.sstg(this.dataOS)||"";this.OSVersion=this.sstg(this.dataOSVersion)||"";},sstg: function(data){for(var i=0;i<data.length;i++){var dataString=data[i].T;var dataProp=data[i].prop;this.vstn=data[i].V||data[i].I;if(dataString){if(dataString.indexOf(data[i].S) != -1){return data[i].I;}}else if(dataProp){return data[i].I;}}},VR: function(dataString){var index=dataString.indexOf(this.vstn);if(index== -1)return;return parseFloat(dataString.substring(index+this.vstn.length+1));},DBR:[{T:window.btt_NA,S:"OmniWeb",V:"OmniWeb/",I:"OmniWeb"},{T:window.btt_NV,S:"Apple",I:"Safari",V:"Version"},{T:window.btt_NA,S:"Edge",I:"Edge"},{T:window.btt_NA,S:"Chrome",I:"Chrome"},{prop:window.opera,I:"Opera",V:"Version"},{T:window.btt_NV,S:"iCab",I:"iCab"},{T:window.btt_NV,S:"KDE",I:"Konqueror"},{T:window.btt_NA,S:"Firefox",I:"Firefox"},{T:window.btt_NV,S:"Camino",I:"Camino"},{T:window.btt_NA,S:"Netscape",I:"Netscape"},{T:window.btt_NA,S:"MSIE",I:"Explorer",V:"MSIE"},{T:window.btt_NA,S:"Trident",I:"MSIE",V:"rv"},{T:window.btt_NA,S:"Android",I:"Android",V:"SCH-"},{T:window.btt_NA,S:"Gecko",I:"Mozilla",V:"rv"},{T:window.btt_NA,S:"Mozilla",I:"Bot",V:"Mozilla"}],dataOS:[{T:window.btt_NP,S:"Win",I:"Windows"},{T:window.btt_NP,S:"Mac",I:"Mac"},{T: window.btt_NA,S: "CrOS",I: "Chrome OS"},{T: window.btt_NA,S: "Windows Phone",I: "Windows Phone"},{T:window.btt_NA,S:"iPhone",I:"iPhone"},{T:window.btt_NA,S:"iPad",I:"iPad"},{T:window.btt_NA,S:"Android",I:"Android"},{T:window.btt_NP,S:"Linux",I:"Linux"}],dataOSVersion: [{T: window.btt_NA,S: "Windows NT 10",I: "10"}, {T: window.btt_NA,S: "Windows NT 6.4",I: "10"}, {T: window.btt_NA,S: "Windows NT 6.3",I: "8.1"}, {T: window.btt_NA,S: "Windows NT 6.2",I: "8"}, {T: window.btt_NA,S: "Windows NT 6.1",I: "7"}, {T: window.btt_NA,S: "Windows NT 5.2",I: "XP x64"}, {T: window.btt_NA,S: "Windows NT 5.1",I: "XP"}, {T: window.btt_NA,S: "Windows NT 5.01",I: "2000 SP1"}, {T: window.btt_NA,S: "Windows NT 5.0",I: "2000"}, {T: window.btt_NA,S: "Windows NT 4.0",I: "NT 4.0"}, {T: window.btt_NA,S: "Windows 98",I: "98"}, {T: window.btt_NA,S: "Windows 95",I: "95"}, {T: window.btt_NA,S: "Windows CE",I: "CE"}, {T: window.btt_NA,S: "OS X 10_10",I: "OS X 10.10"}, {T: window.btt_NA,S: "OS X 10_9",I: "OS X 10.9"}, {T: window.btt_NA,S: "OS X 10_8",I: "OS X 10.8"}, {T: window.btt_NA,S: "OS X 10_7",I: "OS X 10.7"}, {T: window.btt_NA,S: "OS X 10_6",I: "OS X 10.6"}, {T: window.btt_NA,S: "OS X 10_5",I: "OS X 10.5"}, {T: window.btt_NA,S: "OS X 10_4",I: "OS X 10.4"}, {T: window.btt_NA,S: "OS X 10_3",I: "OS X 10.3"}, {T: window.btt_NA,S: "OS X 10_2",I: "OS X 10.2"}, {T: window.btt_NA,S: "OS X 10_1",I: "OS X 10.1"}, {T: window.btt_NA,S: "iPhone OS 9",I: "OS 9"}, {T: window.btt_NA,S: "iPhone OS 8",I: "OS 8"}, {T: window.btt_NA,S: "iPhone OS 7",I: "OS 7"}, {T: window.btt_NA,S: "iPhone OS 6",I: "OS 6"}, {T: window.btt_NA,S: "iPhone OS 5",I: "OS 5"}, {T: window.btt_NA,S: "CPU OS 9",I: "OS 9"}, {T: window.btt_NA,S: "CPU OS 8",I: "OS 8"}, {T: window.btt_NA,S: "CPU OS 7",I: "OS 7"}, {T: window.btt_NA,S: "CPU OS 6",I: "OS 6"}, {T: window.btt_NA,S: "CPU OS 5",I: "OS 5"}, {T: window.btt_NA,S: "Android 2.0",I: "2.0"}, {T: window.btt_NA,S: "Android 2.1",I: "2.1"},{T: window.btt_NA,S: "Android 2.3",I: "2.3"},{T: window.btt_NA,S: "Android 3.0",I: "3.0"},{T: window.btt_NA,S: "Android 3.1",I: "3.1"},{T: window.btt_NA,S: "Android 3.2",I: "3.2"},{T: window.btt_NA,S: "Android 4.0",I: "4.0"},{T: window.btt_NA,S: "Android 4.1",I: "4.1"},{T: window.btt_NA,S: "Android 4.2",I: "4.2"},{T: window.btt_NA,S: "Android 4.3",I: "4.3"},{T: window.btt_NA,S: "Android 4.4",I: "4.4"},{T: window.btt_NA,S: "Android 5.0",I: "5.0"},{T: window.btt_NA,S: "Android 5.1",I: "5.1"},{T: window.btt_NA,S: "Android 6.0",I: "6.0"}]};(function(){(function(){var TO=new Date(),_BU=window._bttUtil,_BF=window._bttFPS,_BWV=window._bttWebVitals,start = new Date(TO.getFullYear(), 0, 0),diff = TO - start,doy = Math.floor(diff / 86400000),doy_diff=0,LTM=TO.getTime(),BTT_GUID=0,GUID_N="BTT_GUID_PV",GUIDC='',LPurV=0,LPurD=0,NVSTR=0,LEC=0,LLET=GTM(),orderTND=0,LDCT=GTM(),LDIT=GTM(),NOWT=GTM(),SHi=screen.height,SWi=screen.width,TY=TO.getFullYear(),yyyydoy=TY+'',TULC='BTT_ULTM',SIDC="BTT_X0siD",tver="eRev4.0.1",t_ul=LTM,t_ul=0,bd=document.getElementsByTagName('BODY')[0],TxN="Unnamed_Pages",bttCamp="",CVL='0',CSID='0',WCDp=0.55140000582,WCDctt='Onload',WCDctv=0,WCDc='BTT_WCD_Collect',WCDs='off',wcd=0,WCDtt='c',cnm="BTT_Collect",BTT_CL='on',ECL=0,TYP="",PTDB="",PNM="Unnamed_Page",BVL=0,pgTm=0,firstPaint=0,fCPnt=0,fmp=0,tti=0,fps_tti=0,lt_tti=0,avgFPS=0,FIDs=0,FIDd=0,LCP=0,TBT=0,CLSe=0,CLS=0,ScrnH=0,ScrnW=0,ZiCd=0,SERank=0,PGV=0,CV1='0',CV2='0',CV3='0',CV4='0',CV5='0',CV6='0',CV7='0',CV8='0',CV9='0',CV10='0',CV11='0',CV12='0',CV13='0',CV14='0',CV15='0',CN1=0,CN2=0,CN3=0,CN4=0,CN5=0,CN6=0,CN7=0,CN8=0,CN9=0,CN10=0,CN11=0,CN12=0,CN13=0,CN14=0,CN15=0,CN16=0,CN17=0,CN18=0,CN19=0,CN20=0,ST1=0,ST2=0,ST3=0,ST4=0,ST5=0,c_count='0',co_count='0',ONumBr='0',RTM=0,NTS=1,NvsR=1,btt_URL=window.location.href,URLq=GUtQ(btt_URL),DM=GtDmn(window.location.href),ruleNo = 0,AB="Default",CmpS="Other",CmpM="None",CmpN="",DCTR="Default",RefURL=document.referrer.slice(0,700),docRef=document.referrer,gCS={},glbCmpMed={},campSrcKey='marriott-campSource',campMedKey ='marriott-campMedium';var TM=TO.getTime();var TMs=rdm3D()+''+rdm3D()+''+rdm3D()+''+rdm3D()+''+rdm3D()+''+rdm3D();var BTT_X0siD=TMs.substring(0,19)+'';var EXPs=TM + 1800000;var ses_exp = TO.setTime(EXPs);try{var gCS=JSON.parse('{"1":{"sourceName":"Google","sourceUrlSearch":"google.com","pageUrlSearch":""},"3":{"sourceName":"Bing","sourceUrlSearch":"bing.com","pageUrlSearch":""},"5":{"sourceName":"Yahoo","sourceUrlSearch":"yahoo.com","pageUrlSearch":""},"9":{"sourceName":"Facebook","sourceUrlSearch":"facebook.com","pageUrlSearch":""},"11":{"sourceName":"Yahoo","sourceUrlSearch":"yahoo.com","pageUrlSearch":""},"13":{"sourceName":"Twitter","sourceUrlSearch":"twitter.com","pageUrlSearch":""},"15":{"sourceName":"LinkedIn","sourceUrlSearch":"linkedin.com","pageUrlSearch":""},"17":{"sourceName":"Monetate","sourceUrlSearch":"monetate.com","pageUrlSearch":""},"21":{"sourceName":"Instagram","sourceUrlSearch":"instagram.com","pageUrlSearch":""},"23":{"sourceName":"Facebook","sourceUrlSearch":"","pageUrlSearch":"fbclid"},"25":{"sourceName":"Google","sourceUrlSearch":"","pageUrlSearch":"gclid"}}');}catch(e){}var CmpSJson = lclgt(campSrcKey,"json");if(CmpSJson == 0){if(RefURL.length===0){CmpS="Direct";CmpM="None";}for(var src in gCS){var refSrch=gCS[src].sourceUrlSearch,pgSrch=gCS[src].pageUrlSearch,rFlg=false,pFlg=false;if(refSrch!==null&&refSrch!=""){rFlg=refSrch;}else{rFlg=true;}if(pgSrch!==null&&pgSrch!=""){pFlg=pgSrch;}else{pFlg=true;}if(rFlg===true&&pFlg===true){continue;}if(rFlg!=true){rFlg=_BU.trfChk(rFlg,docRef);}if(pFlg!=true){pFlg=_BU.trfChk(pFlg,btt_URL);}if(rFlg===true&&pFlg===true){CmpS = gCS[src].sourceName;break;}}if(CmpS==="Other"){CmpS=GtDmn(document.referrer);if(CmpS==="NoDomain"){CmpS="Other";}}}else{CmpS=CmpSJson}lclst(campSrcKey,'{"value":"'+CmpS+'","expires":'+EXPs+'}');try{var glbCmpMed=[{"mediumName":"Display","referrerSearch":"","hrefSearch":"fbclid=","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"cm_mmc=InternalEmail","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"utm_medium=email","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"cm_mmc=EMAIL","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"utm_medium=Email","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"gclid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"bing.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"yahoo.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"aol.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=CPC|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=PPC|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=ppc|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=cpc|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"dclid","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=fb","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=ig","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=mg","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=an","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=CPM|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=banner|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=display|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=cpm|||utm_source=","customCode":""},{"mediumName":"Social","referrerSearch":"linkedin.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"facebook.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"tumblr.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"twitter.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"instagram.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"plus.google.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"plus.url.google.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"pinterest.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"https://t.co","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"like2buy.curalate","hrefSearch":"","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"cm_mmc=DIS","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=TW","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=FB","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=IG","customCode":""},{"mediumName":"Organic Search","referrerSearch":"bing","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"google","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"search.yahoo.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"www.ask.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"isearch.avg.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"baidu.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"yandex","hrefSearch":"","customCode":""}]}catch(e){}try{}catch(e){}var CmpMJson = lclgt(campMedKey,"json");if(CmpMJson == 0){for(var src in glbCmpMed){var refSrch, hrefSrch, custCodeSrch, custCodeVal, refFlag = false, hrefFlag = false, custCodeFlag = false;if(glbCmpMed[src].referrerSearch !== null && glbCmpMed[src].referrerSearch != ""){refSrch = glbCmpMed[src].referrerSearch;}else{refFlag = true;}if(glbCmpMed[src].hrefSearch !== null && glbCmpMed[src].hrefSearch != ""){hrefSrch = glbCmpMed[src].hrefSearch;}else{hrefFlag = true;}if(glbCmpMed[src].customCode !== null && glbCmpMed[src].customCode != ""){custCodeSrch = glbCmpMed[src].customCode;}else{custCodeFlag = true;}if(typeof(refSrch)!='undefined' && (refSrch.indexOf('|||')===-1 && document.referrer.indexOf(refSrch)!=-1)){refFlag = true;}else if(typeof(refSrch)!='undefined' && refSrch.indexOf('|||')!=-1){var srchArr = refSrch.split('|||'),srchLength=srchArr.length,ctr=0;for(var i in srchArr){if(window.location.href.indexOf(srchArr[i])!=-1){ctr++;}}if(ctr === srchLength){refFlag = true;}}if(typeof(hrefSrch)!='undefined' && (hrefSrch.indexOf('|||')===-1 && window.location.href.indexOf(hrefSrch)!=-1)){hrefFlag = true;}else if(typeof(hrefSrch)!='undefined' && hrefSrch.indexOf('|||')!=-1){var srchArr = hrefSrch.split('|||'),srchLength=srchArr.length,ctr=0;for(var i in srchArr){if(window.location.href.indexOf(srchArr[i])!=-1){ctr++;}}if(ctr === srchLength){hrefFlag = true;}}if(typeof(custCodeSrch)!='undefined' && custCodeSrch != ""){custCodeFlag = true;custCodeVal = custCodeSrch;}if(refFlag === true && hrefFlag === true && custCodeFlag === true){CmpM=glbCmpMed[src].mediumName;if(typeof(custCodeVal)!="undefined"){CmpM=custCodeVal;}break;}}}else{CmpM=CmpMJson}lclst(campMedKey,'{"value":"'+CmpM+'","expires":'+EXPs+'}');var pageURL = window.location.href;var rules = {};var testURLSource = function(url, ruleset) {var rule, match, success = 0,RG;for (var key in ruleset) {if (ruleset.hasOwnProperty(key)) {rule = ruleset[key];match = 0;}for (var idx in rule.t) {if (rule.t.hasOwnProperty(idx)) {if(url.indexOf(rule.t[idx]) > -1){match++;}}}if (match == rule.t.length) {success = 1;RG = rule.i;break;}};if (success == 1) {return RG;}else {return 0;}};var ruleNo = testURLSource(pageURL, rules);function RDM(){return Math.random()*100;}if(cku(TULC)!=0){t_ul=cku(TULC);}function RND(v){return Math.round(v);}var BTT_Perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};try{var PT=performance.timing||{},WP=window.performance||{};}catch(e){var PT={},WP={};}if ((PT)&&(PT.navigationStart)){var RCd='unset';try{var RL=WP.getEntriesByType("resource");if((RL.length)>0){RTM=1;WP.setResourceTimingBufferSize(400);}}catch(e){console.log("Resource timings not supported");}}else{NTS=0;if(typeof(Storage)!=="undefined"){var SIH=window.setInterval(function(){lclst(TULC,'{"value":"'+new Date().getTime()+'"}')},2000);}else{var SIH=window.setInterval(function(){CKI(TULC)},2000);}}function GtDmn(s){var d;if(s.match(/\:\/\//g) === null){d = "NoDomain";}else{if (s.indexOf("//") > -1){d = s.split('/')[2];}else{d = s.split('/')[0];}var nd = d;try{nd = nd.replace(/\./g,'');nd = nd.replace(/\:/g,'');if(isNaN(nd)){if((d.match(/\./g).length > 1 )){d = d.substring(d.indexOf(".") + 1);}else if((d.match(/\./g).length== 0)){d = "NoDomain";}}}catch(e){d = s.split('://')[0];}}return d;}function GUtQ(s){try{var u=s.split('?')[0];}catch(err){return "NoURLtoQMark";}return u;}PT.legacyNavigationStart=GTM;CSID=cku("sessionID");function rdm3D(){var TD=Math.floor((Math.random()*888)+100);return TD;}if(lclgt(SIDC,"json")!=0){BTT_X0siD=lclgt(SIDC,"json");}if(typeof(Storage)!=="undefined"){GUIDC=lclgt(GUID_N,"json");}else{GUIDC=cku(GUID_N);}if(GUIDC != 0){try{var r=JSON.parse(GUIDC);BTT_GUID=r.GUID,LPurD=r.cartValDOY,LPurV=r.cartVal;doy_diff=doy-LPurD}catch(e){GUIDC = 0;}}if(typeof(window.bttUT)!='undefined'){window.bttUT.GUID = BTT_GUID;window.bttUT.GUIDC = GUIDC;}if(typeof(Storage)!=="undefined"){lclst(SIDC,'{"value":"'+BTT_X0siD+'","expires":"'+EXPs+'"}');}else{document.cookie=SIDC+"="+BTT_X0siD+";expires="+ses_exp+";path=/";}var EXPg=TM + 31536000000;var gID_exp=TO.setTime(EXPg);window.BTTtag_ssI=BTT_X0siD;if(lclgt(cnm,"json")!=0){BTT_CL=lclgt(cnm,"json");}else{if((RDM())>100){BTT_CL='off';}if(typeof(Storage)!=="undefined"){lclst(cnm,'{"value":"'+BTT_CL+'","expires":"'+EXPs+'"}');}else{document.cookie=cnm+"="+BTT_CL+";expires="+ses_exp+";path=/";}}if(BTT_CL=='off'){return;}function NA(){return navigator.userAgent;}function NP(){return navigator.platform;}function NV(){return navigator.vendor;}if(window.bttTag_Running == undefined){window.bttTag_Running = 'Running';if(document.readyState==="complete"){BTTGetTMGS();}else{if (window.addEventListener){window.addEventListener('load',BTTGetTMGS,false);}else if(window.attachEvent){window.attachEvent('onload',BTTGetTMGS);}}}function EUCi(s){return encodeURIComponent(s);}function CKI(c_nm){var TO=new Date();var TM=TO.getTime();document.cookie=c_nm+"="+TM+";expires=0;path=/";}function cku(c_name){var i,x,y,ARRc=document.cookie.split(";");for(i=0;i< ARRc.length;i++){x=ARRc[i].substr(0,ARRc[i].indexOf("="));y=ARRc[i].substr(ARRc[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}return 0;}function lclst(k,v){localStorage.setItem(k,v);}function lclgt(k,t){if(typeof(Storage)!=="undefined"){var r=0;if(localStorage.getItem(k)!==null){if(t=="json"){try{var lclJSON=JSON.parse(localStorage.getItem(k));if(lclJSON.hasOwnProperty('GUID')){r=JSON.stringify(lclJSON);}else if(lclJSON.hasOwnProperty('expires')){if(lclJSON.expires > TM){r=lclJSON.value;}}}catch(e){console.log(1+" "+e);if(k.indexOf("-campaign")!= -1){r=0;}else{r=localStorage.getItem(k);}}}else{r=localStorage.getItem(k);}}return r;}else{return cku(k);}}function BTTGetTMGS(){NOWT=GTM();LEC++;setTimeout(function(){try{if(typeof dataLayer.res_room_nights_total!=undefined){CV1 = dataLayer.res_room_nights_total;}}catch(err){}try{if(typeof (function(){var x=location.href.indexOf('hotels/travel/') != -1;if(x){var guestReviews=document.querySelector('div[id^="GuestReviews"] > div');var hotelReviews=document.querySelector('div[id^="HotelReviews"] > div');var keyAmenities=document.querySelector('div[id^="KeyAmenities"] > div');if(guestReviews!=null&&guestReviews.getAttribute('data-component-name')=="guestReviewsCta"){return "Tier 3";}else if(hotelReviews!=null&&hotelReviews.getAttribute('data-component-name')=="hotelReviews"){return "Tier 2";}else if(keyAmenities!=null&&keyAmenities.getAttribute('data-component-name')=="keyAmenities"){return "Tier 1";}else{return void 0;}}else{return void 0;}})()!=undefined){CV6 = (function(){var x=location.href.indexOf('hotels/travel/') != -1;if(x){var guestReviews=document.querySelector('div[id^="GuestReviews"] > div');var hotelReviews=document.querySelector('div[id^="HotelReviews"] > div');var keyAmenities=document.querySelector('div[id^="KeyAmenities"] > div');if(guestReviews!=null&&guestReviews.getAttribute('data-component-name')=="guestReviewsCta"){return "Tier 3";}else if(hotelReviews!=null&&hotelReviews.getAttribute('data-component-name')=="hotelReviews"){return "Tier 2";}else if(keyAmenities!=null&&keyAmenities.getAttribute('data-component-name')=="keyAmenities"){return "Tier 1";}else{return void 0;}}else{return void 0;}})();}}catch(err){}var PMs=BG(1);if(PMs[0]!='none'){if(RTM==1){if(lclgt(WCDc,'json')!=0){WCDs=lclgt(WCDc,'json');}else{if((RDM())<=WCDp){WCDs='on';wcd=1;}else{WCDs='off';wcd=0;}}if(WCDs=='off'){wcd=0;}else{wcd=1;}if(typeof(Storage)!=="undefined"){lclst(WCDc,'{"value":"'+WCDs+'","expires":"'+EXPs+'"}');}else{document.cookie=WCDc+"="+WCDs+";expires="+ses_exp+";path=/";}}var tU="//d1.btttag.com/btt.gif",BV=NA(),PixPar=NA();var pNM=PMs[2];if(BTT_GUID === BTT_X0siD || BTT_GUID === 0){NvsR = 0;}else{NvsR = 1;}RefURL=encodeURIComponent(RefURL);tU+='?'+PMs[0]+"&sID="+BTT_X0siD+"&gID="+BTT_GUID+"&SHi="+SHi+"&SWi="+SWi+"&CSID="+CSID+"&CV1="+CV1+"&CV2="+CV2+"&CV3="+CV3+"&CV4="+CV4+"&CV5="+CV5+"&CV6="+CV6+"&CV7="+CV7+"&CV8="+CV8+"&CV9="+CV9+"&CV10="+CV10+"&CV11="+CV11+"&CV12="+CV12+"&CV13="+CV13+"&CV14="+CV14+"&CV15="+CV15+"&CN1="+CN1+"&CN2="+CN2+"&CN3="+CN3+"&CN4="+CN4+"&CN5="+CN5+"&CN6="+CN6+"&CN7="+CN7+"&CN8="+CN8+"&CN9="+CN9+"&CN10="+CN10+"&CN11="+CN11+"&CN12="+CN12+"&CN13="+CN13+"&CN14="+CN14+"&CN15="+CN15+"&CN16="+CN16+"&CN17="+CN17+"&CN18="+CN18+"&CN19="+CN19+"&CN20="+CN20+"&wcd="+wcd+"&LTM="+LTM+"&WCDtt="+WCDtt+"&NVSTR="+NVSTR+"&RV="+NvsR+"&collectAt="+100+"&CmpS="+CmpS+"&CmpM="+CmpM+"&CmpN="+CmpN+"&RefURL="+RefURL;var tUObj={thisURL: btt_URL};var tUArr=tU.split("?")[1].split("&");var tULen=tUArr.length;for(var i=0;i<tULen;i++){if(typeof(tUArr[i])!="undefined"&&tUArr[i].indexOf("=")!=-1){var pArr=tUArr[i].split("=");tUObj[pArr[0]]=decodeURIComponent(pArr[1]);}}(function(pname){var BTT_URL = "https://d1.btttag.com/analytics.rcv?pgNm="+PMs[2]+"&trSeg="+PMs[3]+"&navStart="+PMs[1];var bx=_BU.cors('POST', BTT_URL);var jStr=JSON.stringify(tUObj);var SnDENC=btoa(jStr);bx.send(SnDENC);var INCLU="y";var Sstr="";if(((WCDs=='on')||(WCDtt=='s')) &&(INCLU=="y")){var urlNoPrm=btt_URL.split('?')[0],b_a=(urlNoPrm.indexOf('://')+3),b_b=urlNoPrm.indexOf('.',b_a),bLen = urlNoPrm.split('/').length,file=urlNoPrm.split('/')[bLen-1];var resParams = {nStart: PMs[1],pageName: PMs[2],pageType: PTDB,txnName: PMs[3],trig: pgTm,pgTm: pgTm,sID: BTT_X0siD,gID: BTT_GUID,WCDtt: "c",NVSTR: "0",fullPage: "true",bRes:{URL:EUCi(urlNoPrm),h:urlNoPrm.substring(b_a,b_b),dmn:GtDmn(btt_URL),f:EUCi(file),rdS:PMs[5],rdE:PMs[6],fS:PMs[7],dLS:PMs[8],dLE:PMs[9],cS:PMs[10],sCS:PMs[11],cE:PMs[12],rqS:PMs[13],rS:PMs[14],rE:PMs[15],d:PMs[16],sT:0,e:"document",i:"html",dz:0,ez:0,xz:0}};_bttUtil.resP = resParams;window._bttUtil.ci = 0;_bttUtil.wcdHandler();var errParams={pageName:PMs[2],pageType:PTDB,txnName:PMs[3],AB:AB,DCTR:DCTR,CmpN:CmpN,CmpS:CmpS,CmpM:CmpM,nStart:PMs[1],sID:BTT_X0siD,gID:BTT_GUID,pgTm:pgTm,};var errIntvl=setInterval(function(){window._bttErr.post(errParams);}, 4000);}function bttcors(method, url){var bx = new XMLHttpRequest();if (bx!= null){bx.open(method, url, true);bx.withCredentials=true;bx.setRequestHeader("Content-Type", "application/json;charset=UTF-8");}else if (typeof XDomainRequest != "undefined"){bx = new XDomainRequest();bx.open(method, url);}else{bx = null;}return bx;}})(pNM);}},2000);}function LIM(t){var l=120000;if(t<0){return 0;}if(t>l){return l;}else{return t;}}function BG(eT){var p7299=undefined,p35=undefined,p38=undefined,p7244=undefined,p9250=undefined,p64=undefined,p42=undefined,p54=undefined,p65=undefined,p43=undefined,p55=undefined,p66=undefined,p56=undefined,p67=undefined,p45=undefined,p68=undefined,p46=undefined,p69=undefined,p47=undefined,p59=undefined,p70=undefined,p61=undefined,p50=undefined,p62=undefined,p3651=undefined,p63=undefined,p39=undefined,p44=undefined,p34=undefined,p36=undefined,p1247=undefined,p48=undefined,p49=undefined,p25=undefined,p15=undefined,p52=undefined,p53=undefined,p3=undefined,p16=undefined,p27=undefined,p17=undefined,p28=undefined,p6=undefined,p60=undefined,p8=undefined,p7=undefined,p57=undefined,p58=undefined,p2=undefined,p9=undefined,p10=undefined,p32=undefined,p18=undefined,p29=undefined,p30=undefined,p20=undefined,p21=undefined,p11=undefined,p1=undefined,p22=undefined,p12=undefined,p23=undefined;try{if((typeof (function(){var BTMURL=window.location.href;return (BTMURL.indexOf("/hotels/")!=-1)?"HWS":(BTMURL.match(/\/\/(.*)\?/g)!=null)?BTMURL.match(/\/\/(.*)\?/g)[0].replace("//","").replace("?",""):(BTMURL.match(/\/\/(.*)/g)!=null)?BTMURL.match(/\/\/(.*)/g)[0].replace("//",""):void 0;})() != 'undefined')&&((function(){var BTMURL=window.location.href;return (BTMURL.indexOf("/hotels/")!=-1)?"HWS":(BTMURL.match(/\/\/(.*)\?/g)!=null)?BTMURL.match(/\/\/(.*)\?/g)[0].replace("//","").replace("?",""):(BTMURL.match(/\/\/(.*)/g)!=null)?BTMURL.match(/\/\/(.*)/g)[0].replace("//",""):void 0;})() != null)){p34=(function(){var BTMURL=window.location.href;return (BTMURL.indexOf("/hotels/")!=-1)?"HWS":(BTMURL.match(/\/\/(.*)\?/g)!=null)?BTMURL.match(/\/\/(.*)\?/g)[0].replace("//","").replace("?",""):(BTMURL.match(/\/\/(.*)/g)!=null)?BTMURL.match(/\/\/(.*)/g)[0].replace("//",""):void 0;})();}}catch(err){}try{if((typeof (function(){return $("body#hws.MC.HWHOM.lite.homepage.l-responsive").length>0?"Lite Homepage":void 0})() != 'undefined')&&((function(){return $("body#hws.MC.HWHOM.lite.homepage.l-responsive").length>0?"Lite Homepage":void 0})() != null)){p36=(function(){return $("body#hws.MC.HWHOM.lite.homepage.l-responsive").length>0?"Lite Homepage":void 0})();}}catch(err){}try{if((typeof (function(){return window._satellite.data.URI.split('/')[window._satellite.data.URI.split('/').length-2]})() != 'undefined')&&((function(){return window._satellite.data.URI.split('/')[window._satellite.data.URI.split('/').length-2]})() != null)){p3=(function(){return window._satellite.data.URI.split('/')[window._satellite.data.URI.split('/').length-2]})();}}catch(err){}try{if((typeof (function(){var BTMURL=window.location.href;return BTMURL.split('/')[3].split('?')[0].trim().length>0?BTMURL.split('/')[3].split(/\?|\./g)[0]:BTMURL.split('/')[3].trim().length>0?BTMURL.split('/')[3]:void 0})() != 'undefined')&&((function(){var BTMURL=window.location.href;return BTMURL.split('/')[3].split('?')[0].trim().length>0?BTMURL.split('/')[3].split(/\?|\./g)[0]:BTMURL.split('/')[3].trim().length>0?BTMURL.split('/')[3]:void 0})() != null)){p17=(function(){var BTMURL=window.location.href;return BTMURL.split('/')[3].split('?')[0].trim().length>0?BTMURL.split('/')[3].split(/\?|\./g)[0]:BTMURL.split('/')[3].trim().length>0?BTMURL.split('/')[3]:void 0})();}}catch(err){}try{if((typeof (function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&"Home Page ".concat(dc[dc.length-1].toUpperCase())})() != 'undefined')&&((function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&"Home Page ".concat(dc[dc.length-1].toUpperCase())})() != null)){p18=(function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&"Home Page ".concat(dc[dc.length-1].toUpperCase())})();}}catch(err){}try{if((typeof (function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&dc[1]!="marriott"&&"Home Page ".concat(dc[1].charAt(0).toUpperCase()+dc[1].slice(1))})() != 'undefined')&&((function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&dc[1]!="marriott"&&"Home Page ".concat(dc[1].charAt(0).toUpperCase()+dc[1].slice(1))})() != null)){p20=(function(){var dc=window.location.hostname.split('.');return window.location.pathname.startsWith('/default.mi')&&dc[1]!="marriott"&&"Home Page ".concat(dc[1].charAt(0).toUpperCase()+dc[1].slice(1))})();}}catch(err){}var PSA={"p7299":{pS:"marriott-re-2019ncovc-cn.com",PNM:"url_search",txn:"Prod",pN:"re-2019ncovc-cn",pT: p7299,bV:"0"},"p35":{pS:"/hotels/einterface/",PNM:"url_search",txn:"Prod",pN:"Einterface",pT: p35,bV:"0"},"p38":{pS:"/hotels/local",PNM:"url_search",txn:"Prod",pN:"Hotels-Local",pT: p38,bV:"0"},"p7244":{pS:"/reservation/confirmation.mi",PNM:"url_search",txn:"Prod",pN:"confirmation",pT: p7244,bV:"0"},"p9250":{pS:"www.marriott.com/hotels/hotel-deals/",PNM:"url_search",txn:"Prod",pN:"HWS - Offers Landing",pT: p9250,bV:"0"},"p64":{pS:"/hotels/restaurants/",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p64,bV:"0"},"p42":{pS:"/golf/hotels/hotel-information/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Golf Module",pT: p42,bV:"0"},"p54":{pS:"/hotels/photo-tours",PNM:"url_search",txn:"Prod",pN:"HWS - Photo Tour",pT: p54,bV:"0"},"p65":{pS:"/hotels/travel-guide/",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p65,bV:"0"},"p43":{pS:"/golf-hotels/",PNM:"url_search",txn:"Prod",pN:"HWS - Golf Module",pT: p43,bV:"0"},"p55":{pS:"/hotels/hotel-photos",PNM:"url_search",txn:"Prod",pN:"HWS - Photo Tour",pT: p55,bV:"0"},"p66":{pS:"/hotels/things-to-do.mi",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p66,bV:"0"},"p56":{pS:"/hotels/event-planning",PNM:"url_search",txn:"Prod",pN:"HWS - Plan Events and Meetings",pT: p56,bV:"0"},"p67":{pS:"/hotels/travel-guide-info-search.mi",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p67,bV:"0"},"p45":{pS:"/hotels/hotels-reviews/",PNM:"url_search",txn:"Prod",pN:"HWS - Reviews",pT: p45,bV:"0"},"p68":{pS:"/hotels/events.mi",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p68,bV:"0"},"p46":{pS:"calendars.marriott.com",PNM:"url_search",txn:"Prod",pN:"HWS - Calendar Module",pT: p46,bV:"0"},"p69":{pS:"/hotels/city-map.mi",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p69,bV:"0"},"p47":{pS:"/hotels/hotel-rooms/",PNM:"url_search",txn:"Prod",pN:"HWS - Guest Rooms In Detail",pT: p47,bV:"0"},"p59":{pS:"/hotel-restaurants/",PNM:"url_search",txn:"Prod",pN:"HWS - Restaurant Module",pT: p59,bV:"0"},"p70":{pS:"/wedding/hotels/hotel-information/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Wedding Module",pT: p70,bV:"0"},"p61":{pS:"/spa/hotels/hotel-information/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Spa Module",pT: p61,bV:"0"},"p50":{pS:"/hotels/buy-timeshare/",PNM:"url_search",txn:"Prod",pN:"HWS - Learn About Ownership",pT: p50,bV:"0"},"p62":{pS:"/hotels/rewards-points/",PNM:"url_search",txn:"Prod",pN:"HWS - Use Marriott Rewards Points",pT: p62,bV:"0"},"p3651":{pS:"meeting-event-hotels/group-corporate-travel/",PNM:"url_search",txn:"Prod",pN:"meeting-event-hotels-group-corporate-travel",pT: p3651,bV:"0"},"p63":{pS:"/hotels/local-",PNM:"url_search",txn:"Prod",pN:"HWS - Visit Local Area",pT: p63,bV:"0"},"p39":{pS:"/hotels/hotel-information",PNM:"url_search",txn:"Prod",pN:"HWS - Explore",pT: p39,bV:"0"},"p44":{pS:"/hotel-info/",PNM:"url_search",txn:"Prod",pN:"HWS - Hotel Info Module",pT: p44,bV:"0"},"p34":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p34,bV:"0"},"p36":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p36,bV:"0"},"p1247":{pS:"/aries-auth/loginWithCredentials.comp",PNM:"url_search",txn:"Prod",pN:"loginWithCredentials",pT: p1247,bV:"0"},"p48":{pS:"/hotels/hotel-deals",PNM:"url_search",txn:"Prod",pN:"HWS - Find Offers and Promotions",pT: p48,bV:"0"},"p49":{pS:"/hotels/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Hotel Website Home Page",pT: p49,bV:"0"},"p25":{pS:"/reservation/reviewDetails.mi",PNM:"url_search",txn:"Prod",pN:"Reservation - Review Details",pT: p25,bV:"0"},"p15":{pS:"/hotel-info/",PNM:"JSCode",txn:"Prod",pN:"Hotel-Info",pT: p15,bV:"0"},"p52":{pS:"/hotels/maps/directions",PNM:"url_search",txn:"Prod",pN:"HWS - Maps and Transportation",pT: p52,bV:"0"},"p53":{pS:"/hotels/maps/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Maps and Transportation",pT: p53,bV:"0"},"p3":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p3,bV:"0"},"p16":{pS:"/travelagents",PNM:"JSCode",txn:"Prod",pN:"TravelAgents",pT: p16,bV:"0"},"p27":{pS:"/reservation/reviewChanges.mi",PNM:"JSCode",txn:"Prod",pN:"Reservation - Review Changes",pT: p27,bV:"0"},"p17":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p17,bV:"0"},"p28":{pS:"/reservation/submitReviewDetails.mi",PNM:"url_search",txn:"Prod",pN:"Reservation - Submit Review Detail",pT: p28,bV:"0"},"p6":{pS:"/hotels/travel",PNM:"JSCode",txn:"Prod",pN:"Hotels/Travel",pT: p6,bV:"0"},"p60":{pS:"/spas/",PNM:"url_search",txn:"Prod",pN:"HWS - Spa Module",pT: p60,bV:"0"},"p8":{pS:"mi-testq10.com",PNM:"url_search",txn:"QA",pN:"QA Pages",pT: p8,bV:"0"},"p7":{pS:"mi-testq10.com/default.mi",PNM:"JSCode",txn:"QA",pN:"Home Page",pT: p7,bV:"0"},"p57":{pS:"/hotels/fact-sheet",PNM:"url_search",txn:"Prod",pN:"HWS - Printable Hotel Fact Sheet",pT: p57,bV:"0"},"p58":{pS:"/restaurant/hotels/hotel-information/travel/",PNM:"url_search",txn:"Prod",pN:"HWS - Restaurant Module",pT: p58,bV:"0"},"p2":{pS:"/marriott/innovention-network",PNM:"JSCode",txn:"Prod",pN:"innovention-network",pT: p2,bV:"0"},"p9":{pS:"m/signIn",PNM:"JSCode",txn:"Prod",pN:"Signin",pT: p9,bV:"0"},"p10":{pS:"m/logout",PNM:"JSCode",txn:"Prod",pN:"logout",pT: p10,bV:"0"},"p32":{pS:"/search/refineSearch.mi",PNM:"url_search",txn:"Prod",pN:"Search - Refine Search",pT: p32,bV:"0"},"p18":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p18,bV:"0"},"p29":{pS:"/reservation/cancelReservation.mi",PNM:"url_search",txn:"Prod",pN:"Reservation - Cancel",pT: p29,bV:"0"},"p30":{pS:"/search/default.mi",PNM:"url_search",txn:"Prod",pN:"Search - Advanced Search",pT: p30,bV:"0"},"p20":{pS:"",PNM:"JSCode",txn:"Prod",pN:"auto",pT: p20,bV:"0"},"p21":{pS:"/online-booking-details.mi",PNM:"url_search",txn:"Prod",pN:"Book Right",pT: p21,bV:"0"},"p11":{pS:"sessionTimedOut",PNM:"JSCode",txn:"Prod",pN:"sessionTimeOut",pT: p11,bV:"0"},"p1":{pS:"m/default.mi",PNM:"url_search",txn:"Prod",pN:"Home Page",pT: p1,bV:"0"},"p22":{pS:"/reservation/confirmation.mi",PNM:"url_search",txn:"Prod",pN:"confirmation",pT: p22,bV:"0"},"p12":{pS:"Password",PNM:"JSCode",txn:"Prod",pN:"Password",pT: p12,bV:"0"},"p23":{pS:"/reservation/rateListMenu.mi",PNM:"url_search",txn:"Prod",pN:"Reservation - Rate List Menu",pT: p23,bV:"0"}};var btt_URL=window.location.href;for(var aid in PSA){var pS=PSA[aid]["pS"];PTDB=PSA[aid]["pT"];if((PTDB != undefined)&&(PTDB.length>0)){var PNDB=PTDB;var TN=PSA[aid]["txn"];BVL=PSA[aid]["bV"];break;}if((pS.length>0)&&(btt_URL.indexOf(pS)!= -1)){var PNDB=PSA[aid]["pN"];var TN=PSA[aid]["txn"];BVL=PSA[aid]["bV"];break;}}if(PNDB!=undefined){PNM=PNDB;}if (window.btttag_TxN==undefined){if(TN==undefined){}else{TxN=TN;}}else{TxN=window.btttag_TxN;}try{if ((function(){if(typeof(dataLayer)!='undefined'&&dataLayer.hasOwnProperty('site_id')){return "Brands"; }else{return void 0;}})()!=undefined){TxN=TxN+'-'+(function(){if(typeof(dataLayer)!='undefined'&&dataLayer.hasOwnProperty('site_id')){return "Brands"; }else{return void 0;}})();}}catch(err){}try{if ((function() {try {if (location.href.indexOf('marrOfferId=') != -1) {return location.href.split('marrOfferId=')[1].split('&')[0];} return void 0;} catch (e) {return void 0;}})()!=undefined){bttCamp=(function() {try {if (location.href.indexOf('marrOfferId=') != -1) {return location.href.split('marrOfferId=')[1].split('&')[0];} return void 0;} catch (e) {return void 0;}})();}}catch(err){}if(lclgt("marriott-campaign","json")!=0){bttCamp=lclgt("marriott-campaign","json");}lclst("marriott-campaign",'{"value":"'+bttCamp+'","expires":"'+EXPs+'"}');try{if ((function(){var ref=document.referrer,thisHref=location.href,prgm=''; if(document.cookie.indexOf('MI_SITE=prod10')!=-1){return dataLayer.env_site_id +'-P10-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod13')!=-1){return dataLayer.env_site_id +'-P13-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod15')!=-1){return dataLayer.env_site_id +'-P15-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod16')!=-1){return dataLayer.env_site_id +'-P16-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod17')!=-1){return dataLayer.env_site_id +'-P17-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod1')!=-1){return dataLayer.env_site_id +'-P1-Legacy'+prgm}else if(document.cookie.indexOf('MI_SITE=prod7')!=-1){return dataLayer.env_site_id +'-P7-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod8')!=-1){return dataLayer.env_site_id +'-P8-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod9')!=-1){return dataLayer.env_site_id +'-P9-RAM'+prgm}else  if(document.cookie.indexOf('MI_SITE=qa1')!=-1){return 'qa1-'+dataLayer.env_site_id+prgm}})()!=undefined){DCTR=(function(){var ref=document.referrer,thisHref=location.href,prgm=''; if(document.cookie.indexOf('MI_SITE=prod10')!=-1){return dataLayer.env_site_id +'-P10-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod13')!=-1){return dataLayer.env_site_id +'-P13-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod15')!=-1){return dataLayer.env_site_id +'-P15-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod16')!=-1){return dataLayer.env_site_id +'-P16-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod17')!=-1){return dataLayer.env_site_id +'-P17-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod1')!=-1){return dataLayer.env_site_id +'-P1-Legacy'+prgm}else if(document.cookie.indexOf('MI_SITE=prod7')!=-1){return dataLayer.env_site_id +'-P7-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod8')!=-1){return dataLayer.env_site_id +'-P8-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod9')!=-1){return dataLayer.env_site_id +'-P9-RAM'+prgm}else  if(document.cookie.indexOf('MI_SITE=qa1')!=-1){return 'qa1-'+dataLayer.env_site_id+prgm}})();}}catch(err){}if(lclgt("marriott-datacenter","json")!=0){DCTR=lclgt("marriott-datacenter","json");}lclst("marriott-datacenter",'{"value":"'+DCTR+'","expires":"'+EXPs+'"}');if(lclgt("marriott-abtest","json")!=0){AB=lclgt("marriott-abtest","json");}if(AB!="Default"){lclst("marriott-abtest",'{"value":"'+AB+'","expires":"'+EXPs+'"}');}try{if(PNM == "confirmation"){try{if ((function() {PTDB = (function() {if (typeof (dataLayer) != 'undefined' && dataLayer.hasOwnProperty('site_id')) {return dataLayer.site_id;} else {return PTDB;}})();if (dataLayer.res_cash_points_mix == "Points") {return cartValue = 0.01;} else {if (PNDB == "confirmation") {return dataLayer.res_revenue_total_usd;}}})() != undefined){CVL=(function() {PTDB = (function() {if (typeof (dataLayer) != 'undefined' && dataLayer.hasOwnProperty('site_id')) {return dataLayer.site_id;} else {return PTDB;}})();if (dataLayer.res_cash_points_mix == "Points") {return cartValue = 0.01;} else {if (PNDB == "confirmation") {return dataLayer.res_revenue_total_usd;}}})();}}catch(err){}}else{try{if ((function() {PTDB = (function() {if (typeof (dataLayer) != 'undefined' && dataLayer.hasOwnProperty('site_id')) {return dataLayer.site_id;} else {return PTDB;}})();if (dataLayer.res_cash_points_mix == "Points") {return cartValue = 0.01;} else {if (PNDB == "confirmation") {return dataLayer.res_revenue_total_usd;}}})() != undefined){PGV=(function() {PTDB = (function() {if (typeof (dataLayer) != 'undefined' && dataLayer.hasOwnProperty('site_id')) {return dataLayer.site_id;} else {return PTDB;}})();if (dataLayer.res_cash_points_mix == "Points") {return cartValue = 0.01;} else {if (PNDB == "confirmation") {return dataLayer.res_revenue_total_usd;}}})();}}catch(err){}}try{if(CVL==""){CVL=0}}catch(e){console.log(3+" "+e);}var currencyCode="";if(CVL>0||PGV>0||BVL>0){try{currencyCode="USD";}catch(e){}}try{}catch(e){}    }catch(err){}PNM=encodeURIComponent(PNM);PTDB=encodeURIComponent(PTDB);TxN=(ruleNo==0)?encodeURIComponent(TxN):encodeURIComponent(TxN+"|"+ruleNo.toString());PNDB=encodeURIComponent(PNDB);window._bttbdkt.init();var bvzn=window._bttbdkt.browser+"-"+window._bttbdkt.version;window.BTTtag_bvzn=bvzn;var EUOSVers=(window._bttbdkt.OSVersion!=undefined)?window._bttbdkt.OSVersion:'';var EUOS=(["Windows","Mac","iPhone","iPad","Android"].indexOf(window._bttbdkt.OS)!=-1)?window._bttbdkt.OS+" "+EUOSVers:window._bttbdkt.OS;EUOS=EUOS.trim();var params="",RDs=0,RDe=0,btt_FS=0,Fs=0,DLs=0,DLe=0,CsT=0,SCsT=0,CeT=0,RqT=0,RsT=0,ReT=0,dU=0,eT=5,top=0,THR=0,fByte=0,nst=0,UST=0,RDS=0,RE=0,DST=0,DSE=0,CST=0,btt_CE=0,SCS=0,RS=0,RES=0,REE=0,DL=0,DI=0,DLS=0,DLE=0,DC=0,LS=0,LE=0,NT=0,RC=0,totRD=0,dns=0,tcp=0,ttDI=0,dom=0,BPT=0,ssl=0;var today=new Date();var NTM=today.getTime();if(GUIDC != 0){if(CVL!=0){var orderNum=lclgt("marriott-"+ONumBr);if(ONumBr!=0&&(orderNum!=0&&orderNum==CVL)){PGV=CVL;CVL=0;}else if((ONumBr==0&&CVL>0)&&(CVL==LPurV)&&(doy_diff<3)){PGV=CVL;CVL=0;}else{LPurV=CVL;LPurD=doy;}}}else{BTT_GUID = BTT_X0siD;LPurV=CVL;LPurD=doy;}if(GUIDC != 0){var GUIDCTemp = JSON.parse(GUIDC);GUIDCTemp.cartValDOY = LPurD;GUIDCTemp.cartVal = LPurV;GUIDC = JSON.stringify(GUIDCTemp)}else{GUIDC = '{"GUID":"'+BTT_GUID+'","cartValDOY":"'+LPurD+'","cartVal":"'+LPurV+'"}';}if(window.bttUT!=undefined){window.bttUT.GUID = BTT_GUID;window.bttUT.GUIDC = GUIDC;}if(typeof(Storage)!=="undefined"){lclst(GUID_N,GUIDC);if(lclgt("marriott-"+ONumBr)==0){lclst("marriott-"+ONumBr, CVL);}}else{document.cookie=GUID_N+"="+GUIDC+";expires="+gID_exp+";path=/";}if(NTS==1){nst=PT.navigationStart,UST=PT.unloadEventStart,RDS=PT.redirectStart,RDs=RDS-nst,RE=PT.redirectEnd,RDe=RE-nst,btt_FS=PT.fetchStart,Fs=btt_FS-nst,DST=PT.domainLookupStart,DLs=DST-nst,DSE=PT.domainLookupEnd,DLe=DSE-nst,CST=PT.connectStart,CsT=CST-nst,btt_CE=PT.connectEnd,CeT=btt_CE-nst,SCS=PT.secureConnectionStart||0,SCsT=SCS-nst,RS=PT.requestStart,RqT=RS-nst,RES=PT.responseStart,RsT=RES-nst,REE=PT.responseEnd,ReT=REE-nst,dU=REE-nst;DL=PT.domLoading,DI=PT.domInteractive,DLS=PT.domContentLoadedEventStart,DLE=PT.domContentLoadedEventEnd,DC=PT.domComplete,LS=PT.loadEventStart,LE=PT.loadEventEnd,NT=1,RC=(BTT_Perf!=undefined&&BTT_Perf.navigation!=undefined)?BTT_Perf.navigation.redirectCount:0,totRD=LIM(RE-RDS),top=UST-LE,dns=LIM(DSE-DST),tcp=LIM(btt_CE-CST),ttDI=LIM(DI-DL),dom=LIM(DC-DL);pgTm=LIM(LS-nst);THR=pgTm;if(LEC>1){if(LDCT > DC){DC = LDCT;DLE = LDCT;dom=LIM(DC-DL);}if(LDIT > DI){DI = LDIT;}if(NOWT > LS){LS = NOWT;LE = NOWT;pgTm=LIM(NOWT-nst);}}if((LS==0)&&(LE>LS)){pgTm=LIM(LE-nst);}if(SCS>0){ssl=LIM(RS-SCS);}fByte=LIM(RES-RS);BPT=LIM(REE-RES);firstPaint=_BU.fp();fCPnt=_BU.fp('c');fmp=_BU.fmp(PNM);_BF.calcFps();avgFPS = _BF.fps; tti = _BU.getTTI();lt_tti = _BU.tti;fps_tti = _BU.ftti;FIDs = _BWV.fidStart;FIDd = _BWV.fidDur;LCP = _BWV.lcp;CLSe = _BWV.clsStart;CLS = _BWV.clsScore;TBT = _BWV.getTBT();ScrnH = screen.height;ScrnW = screen.width;var szObj=_BU.pgSz();var totalPgEncSize=szObj.pgSzEnc;var totalPgDecSize=szObj.pgSzDec;var imgEncSize=szObj.imgSz;var jsEncSize=szObj.jsSz;if((PTDB=="undefined")||(PTDB==undefined)||(typeof PTDB=="undefined")||(PTDB.trim().length<1)){PTDB=encodeURIComponent("Main Group");}try{if(typeof(window.bttUT) != 'undefined'){var _b=window.bttUT;_b.txnName=TxN;_b.pageGroup=PTDB;_b.pageName=PNM;_b.campaign=bttCamp;_b.datacenter=DCTR;_b.abtesting=AB;_b.guid=BTT_GUID;_b.sessionID=BTT_X0siD;_b.CmpM=CmpM;_b.CmpS=CmpS;_b.rdy=1;}}catch(e){}params="pageName="+PNM+"&nst="+nst+"&unloadEventStart="+UST+"&redirectStart="+RDS+"&c_count="+c_count+"&co_count="+co_count+"&totRD="+totRD+"&fetchStart="+btt_FS+"&domainLookupStart="+DST+"&connectStart="+CST+"&secureConnectionStart="+SCS+"&requestStart="+RS+"&responseStart="+RES+"&REE="+REE+"&BPT="+BPT+"&domLoading="+DL+"&domInteractive="+DI+"&domContentLoadedStart="+DLS+"&domContentLoadedEnd="+DLE+"&loadEventStart="+LS+"&navigationType="+NT+"&redirectCount="+RC+"&pageType="+PTDB+"&pageValue="+PGV+"&pgTm="+pgTm+"&dns="+dns+"&tcp="+tcp+"&dom="+dom+"&fByte="+fByte+"&ssl="+ssl+"&firstPaint="+firstPaint+"&fCPnt="+fCPnt+"&fmp="+fmp+"&tti="+tti+"&lt_tti="+lt_tti+"&fps_tti="+fps_tti+"&fps="+avgFPS+"&FIDs="+FIDs+"&FIDd="+FIDd+"&LCP="+LCP+"&CLSe="+CLSe+"&CLS="+CLS+"&TBT="+TBT+"&ScrnH="+ScrnH+"&ScrnW="+ScrnW+"&pWSz="+totalPgEncSize+"&pSz="+totalPgDecSize+"&IMAGE_SIZE="+imgEncSize+"&JS_SIZE="+jsEncSize+"&elementCount="+_BU.resCnt()+"&cartValue="+CVL+"&ONumBr="+ONumBr+"&orderTND="+orderTND+"&eT="+eT+"&siteID=marriott&txnName="+TxN+"&campaign="+bttCamp+"&AB="+AB+"&DCTR="+DCTR+"&top="+top+"&bv="+BVL+"&bvzn="+bvzn+"&tul="+t_ul+"&EUOS="+EUOS+"&currencyCode="+currencyCode;THR=pgTm;}else{pgTM=0;THR=pgTm;if (t_ul>0){pgTM=NTM-t_ul;}else{pgTM=NTM-LTM;}params="pageName="+PNM+"&nst="+t_ul+"&unloadEventStart="+t_ul+"&pageType="+PTDB+"&pageValue="+PGV+"&pgTm="+pgTM+"&navigationType=1"+"&cartValue="+CVL+"&ONumBr="+ONumBr+"&eT="+eT+"&siteID=marriott&txnName="+TxN+"&campaign="+bttCamp+"&top="+top+"&bv="+BVL+"&bvzn="+bvzn+"&EUOS="+EUOS;}if(RDs<0){RDs=0;}if(RDe<0){RDe=0;}if(SCsT<0){SCsT=0;}return [params,nst,PNM,TxN,THR,RDs,RDe,Fs,DLs,DLe,CsT,SCsT,CeT,RqT,RsT,ReT,dU,bttCamp,PTDB];}function GTM(){var m=new Date().getTime();return m;}})();})();(function(){var _bE=window._bttErr;var origErr=window.onerror;if(typeof(_bttErrorListener)==='undefined'){window.onerror = function (msg, url, lineNo, columnNo, error) {origErr && origErr(msg, url, lineNo, columnNo, error);_bE.capture(msg, url, lineNo, columnNo, error);return false;};try{document.addEventListener('securitypolicyviolation',function(e){window._bttErr.captSec(e.blockedURI,e.lineNumber, +new Date(),e.sourceFile,e.disposition)});}catch(e){}}if(typeof(_bttErrorListener)!=="undefined"){var e=_bttErrorListener,a=e.get('a'),b=e.get('b'),aL=a.length,bL=b.length;if(aL>0){for(var i=0;i < aL;i++){_bE.capture(a[i].message, a[i].filename, a[i].lineno, a[i].colno, a[i].error);}}if(bL>0){for(var i=0;i < bL;i++){_bE.captSec(b[i][0], b[i][1], b[i][2], b[i][3], b[i][4]);}}}})();window.bttUT={rdy:0,GUID:0,GUIDC:0,doy_diff:0,lclst:function(k,v){localStorage.setItem(k,v);},lclgt:function(k,t){if(typeof(Storage)!=="undefined"){var r=0;if(localStorage.getItem(k)!==null){if(t=="json"){try{var lclJSON=JSON.parse(localStorage.getItem(k));var thisTM=new Date().getTime();if(lclJSON.hasOwnProperty('GUID')){r=JSON.stringify(lclJSON);}else if(lclJSON.hasOwnProperty('expires')){if(lclJSON.expires > thisTM){r=lclJSON.value;}}}catch(e){console.log(19+" "+e);if(k.indexOf("-campaign")!= -1){r=0;}else{r=localStorage.getItem(k);}}}else{r=localStorage.getItem(k);}}return r;}},timingObj:{},measuredMarksArray:[],mark:function(key){window.bttUT.timingObj[key] = new Date().getTime();},measure:function(name, startKey, endKey){if(window.bttUT.timingObj.hasOwnProperty(endKey) && window.bttUT.timingObj.hasOwnProperty(startKey) && name != undefined){var duration = window.bttUT.timingObj[endKey] - window.bttUT.timingObj[startKey];window.bttUT.measuredMarksArray.push({"duration":duration,"name":name});}},checkUT: function(){var pm;try{var p=window.performance;pm=p.getEntriesByType("measure");}catch(e){pm=undefined;}if(window.hasOwnProperty('performance') && pm!=undefined && p.mark!=undefined && p.measure!=undefined){return true;}else{return false;}},GTM: function(){var m=new Date().getTime();return m;},EUOS: function(){window._bttbdkt.init();var bvzn = window._bttbdkt.browser + "-" + window._bttbdkt.version;window.BTTtag_bvzn = bvzn;return  window._bttbdkt.OS;},resIndex:0,resObj: {},vtNaming:function(arg){try{var pageGroup="Custom Timer",pageName,txnName,ajaxUrl="",postData="";if(arg.hasOwnProperty('ajaxUrl')){ajaxUrl = arg.ajaxUrl;}if(arg.hasOwnProperty('postData')){postData = arg.postData;}if(arg.hasOwnProperty('type') && arg.type === "start"){}else if(arg.hasOwnProperty('type') && arg.type === "end"){}if(pageName!=undefined && txnName!=undefined){return {pageName:pageName, txnName:txnName, pageGroup:pageGroup};}else{return {pageName:undefined, txnName:undefined, pageGroup:undefined};}}catch(e){console.log("23 "+e)}},vtFetchNaming:function(arg){try{var pageGroup="Custom Timer",pageName,txnName,ajaxUrl="",postData="";if(arg.hasOwnProperty('ajaxUrl')){ajaxUrl = arg.ajaxUrl;}if(arg.hasOwnProperty('postData')){postData = arg.postData;}if(arg.hasOwnProperty('type') && arg.type === "start"){}else if(arg.hasOwnProperty('type') && arg.type === "end"){}if(pageName!=undefined && txnName!=undefined){return {pageName:pageName, txnName:txnName, pageGroup:pageGroup};}else{return {pageName:undefined, txnName:undefined, pageGroup:undefined};}}catch(e){console.log("23 "+e)}},cors: function(method, url) {var bx = new XMLHttpRequest();if (bx != null) {bx.open(method, url, true);bx.withCredentials = true;bx.setRequestHeader("Content-Type", "application/json;charset=UTF-8");} else if (typeof XDomainRequest != "undefined") {bx = new XDomainRequest();bx.open(method, url);} else {bx = null;}return bx;},getIndex: function(arr,objKey,objVal){var arrLen = arr.length, searchIndex = 0;for(var i=0;i<arrLen;i++){if(arr[i][objKey] === objVal){return i;}}},getResIndex: function(){try{var resLen = performance.getEntriesByType('resource').length;}catch(e){resLen = false;}if(resLen === false){return resLen;}return resLen - 1;},getNstDif: function(v, d){return (v - d) > 0 ? v - d : 0;},sendResPost: function(p, thisIndex) {try {var startUrl, _b = bttUT, resIndex;if(p.hasOwnProperty('startUrl')){startUrl = p.startUrl;}var url = '//d.btttag.com/wcdv02.rcv?siteID=marriott&nStart=' +p.nStart + '&pageName=' + p.pageName + '&txnName=' + p.txnName + "&trig=" + p.trig + "&sessionID=" + p.sID +"&WCDtt=" + p.WCDtt + "&pgTm=" + p.pgTm + "&NVSTR=" + p.NVSTR + "&pageType=" + p.pageType;var RL = performance.getEntriesByType("resource");var nstDif = p.nStart - performance.timing.navigationStart;if(typeof(thisIndex) != 'undefined'){resIndex = thisIndex;}else if(typeof(startUrl)!='undefined'){resIndex = this.getIndex(RL,"name", startUrl);}var RSi = [], c = 0;var bx = this.cors('POST', url);if(p.hasOwnProperty('fullPage') && p.fullPage === 'true' && p.hasOwnProperty('bRes') && thisIndex == 0){RSi[0] = {};for(var i in p.bRes){RSi[0][i] = p.bRes[i];}c++;}for (var i = resIndex; i < RL.length - 1; i++) {resIndex++;var b = RL[i].name.split('?')[0];var b_a = (b.indexOf('://') + 3), b_b = b.indexOf('.', b_a), bLen = b.split('/').length, f = b.split('/')[bLen - 1], jStr = '', dsz = 0, esz = 0, xsz = 0;var z = _bttUtil.getDomain(b);if (f.length < 1) {f = '...' + b.substring((b.length - 125), b.length);}if (RL[i].decodedBodySize) {dsz = RL[i].decodedBodySize;}if (RL[i].encodedBodySize) {esz = RL[i].encodedBodySize;}if (RL[i].transferSize) {xsz = RL[i].transferSize;}RSi[c] = {dmn: encodeURIComponent(z),f: encodeURIComponent(f),URL: encodeURIComponent(b),cE: Math.round(_b.getNstDif(RL[i].connectEnd, nstDif)),cS: Math.round(_b.getNstDif(RL[i].connectStart, nstDif)),dLE: Math.round(_b.getNstDif(RL[i].domainLookupEnd, nstDif)),dLS: Math.round(_b.getNstDif(RL[i].domainLookupStart, nstDif)),d: Math.round(RL[i].duration),fS: Math.round(_b.getNstDif(RL[i].fetchStart, nstDif)),rdE: Math.round(_b.getNstDif(RL[i].redirectEnd, nstDif)),rdS: Math.round(_b.getNstDif(RL[i].redirectStart, nstDif)),rqS: Math.round(_b.getNstDif(RL[i].requestStart, nstDif)),rE: Math.round(_b.getNstDif(RL[i].responseEnd, nstDif)),rS: Math.round(_b.getNstDif(RL[i].responseStart, nstDif)),sCS: Math.round(_b.getNstDif(RL[i].secureConnectionStart, nstDif)),sT: Math.round(_b.getNstDif(RL[i].startTime, nstDif)),e: RL[i].entryType,i: RL[i].initiatorType,h: b.substring(b_a, b_b),dz: dsz,ez: esz,xz: xsz};c++;}jStr = JSON.stringify(RSi);var SnDENC = btoa(jStr);bx.send(SnDENC);} catch (e) {}return resIndex;},pTNaming:function(url){var pageGroup = "Custom Timer", pageName, txnName;if(url.indexOf('signInOverlay.mi') !== -1){pageName = 'Sign In Overlay';txnName = 'Prod';}else if(url.indexOf('/reservation/viewRateRules.mi') !== -1){pageName = 'Reservation - Rate Details';txnName = 'Prod';}else if(url.indexOf('/reservation/viewRoomPool.mi') !== -1){pageName = 'Reservation - Room Details';txnName = 'Prod';}else if(url.indexOf('/hotels/travel/') !== -1){pageName = 'HWS';txnName = 'Perf';}if(pageName!=undefined && txnName!=undefined){return {pageName:pageName, txnName:txnName, pageGroup:pageGroup};}else{return {pageName:undefined, txnName:undefined, pageGroup:undefined};}},pTFetchNaming:function(url){var pageGroup = "Custom Timer", pageName, txnName;if(pageName!=undefined && txnName!=undefined){return {pageName:pageName, txnName:txnName, pageGroup:pageGroup};}else{return {pageName:undefined, txnName:undefined, pageGroup:undefined};}},ptNamingLogicCheck:function(sub,srchStr){var flg=false;if(sub.length > 0){if(Array.isArray(sub)){for(i=0;i<sub.length;i++){flg = srchStr.indexOf(sub[i])!=-1?true:false;}}else{flg = srchStr.indexOf(sub)!=-1?true:false;}}else{flg = true;}return flg;},pTNamingOBJ:function(searchObj){var pageGroup = "AJAX";try{var rulesJSON = JSON.parse('{}');for(var index in rulesJSON){var rule=rulesJSON[index],xhrURL="",pstDt="",pgUrl=window.location.href,pgFlg=false, xhrFlg=false, pstFlg=false,pgSb=rule['page_url_substring'], xhrSb=rule['ajax_substring'], pstSb=rule['post_data_substring'],pageName, txnName, pageGroup;if(searchObj.hasOwnProperty('ajaxURL')){xhrURL = searchObj.ajaxURL;}if(searchObj.hasOwnProperty('postData')){pstDt = searchObj.postData;}if(typeof(xhrURL)=='undefined'){xhrURL='';}if(typeof(pstDt)=='undefined'){pstDt='';}pgFlg = window.bttUT.ptNamingLogicCheck(pgSb,pgUrl);xhrFlg = window.bttUT.ptNamingLogicCheck(xhrSb,xhrURL);pstFlg = window.bttUT.ptNamingLogicCheck(pstSb,pstDt);if(pgFlg==true && xhrFlg==true && pstFlg==true){pageName = rule['pageName'];txnName = rule['txnName'];pageGroup = rule['pageGroup'];break;}}}catch(e){console.log(5+" "+e);}if(pageName!=undefined && txnName!=undefined){return {pageName:pageName, txnName:txnName, pageGroup:pageGroup};}else{return {pageName:undefined, txnName:undefined, pageGroup:undefined};}},start: function(arg){if(typeof arg !== 'object'){return false;	}var pageName = arg.pageName,txnName = arg.txnName,pageGroup = "--Custom Timer",type = arg.type,key = "",captureResources = true,uniqueKey = arg.uniqueKey,_BF = _bttFPS;if(arg.hasOwnProperty('captureResources')){captureResources = arg.captureResources;}if(pageName && txnName){if(arg.hasOwnProperty('key')){key = "--"+arg.key;}if(arg.hasOwnProperty('pageGroup')){pageGroup = "--"+arg.pageGroup;}if(captureResources === true){if(this.getResIndex() != false){this.resObj[txnName+"--"+pageName+pageGroup+key] = this.getResIndex();}}try{if(window.bttUT.checkUT()){performance.mark(txnName+"--"+pageName+pageGroup+key+"--start");}else{window.bttUT.mark(txnName+"--"+pageName+pageGroup+key+"--start");}_BF.startFps();}catch(e){console.log("6a "+e);}}else if(uniqueKey){if(captureResources === true){if(this.getResIndex() != false){this.resObj[uniqueKey] = this.getResIndex();}}try{if(window.bttUT.checkUT()){performance.mark(uniqueKey+"--start");}else{window.bttUT.mark(uniqueKey+"--start");}_BF.startFps();}catch(e){console.log("6b "+e);}}},update: function(arg){if(typeof arg !== 'object'){return false;	}var pageName = arg.pageName,txnName = arg.txnName,pageGroup = "--Custom Timer",type = arg.type, key = "", uniqueKey = arg.uniqueKey;if(pageName && txnName && type){if(arg.hasOwnProperty('key')){key = "--"+arg.key;}if(arg.hasOwnProperty('pageGroup')){pageGroup = "--"+arg.pageGroup;}try{if(window.bttUT.checkUT()){performance.mark(txnName+"--"+pageName+pageGroup+key+"--"+type);}else{window.bttUT.mark(txnName+"--"+pageName+pageGroup+key+"--"+type);}}catch(e){console.log("7a "+e);}}else if(uniqueKey){try{if(window.bttUT.checkUT()){performance.mark(uniqueKey+"--"+type);}else{window.bttUT.mark(uniqueKey+"--"+type);}}catch(e){console.log("7b "+e);}}},end: function(arg){if(typeof arg !== 'object'){return false;	}var pageName = arg.pageName,txnName = arg.txnName,pageGroup = "--Custom Timer",key = "",PGV = 0,CVL = 0,brandVal = 0,pageURL = (arg.pageURL === undefined) ? window.location.href : arg.pageURL;var pageVal = (PGV != 0 && arg.pageVal === undefined) ? PGV : arg.pageVal;var cartVal = (CVL != 0 && arg.cartVal === undefined) ? CVL : arg.cartVal;var brandVal = (arg.brandVal === undefined) ? 0 : arg.brandVal;if(pageName && txnName){var optionalArgs = {};if(arg.hasOwnProperty('key')){key = "--"+arg.key;optionalArgs.key = arg.key;}if(arg.hasOwnProperty('pageGroup')){pageGroup = "--"+arg.pageGroup;optionalArgs.pageGroup = arg.pageGroup;}else{optionalArgs.pageGroup = "Custom Timer";}try{if(arg.hasOwnProperty('uniqueKey') && arg.uniqueKey.length > 0){var uniqueKey = optionalArgs.uniqueKey = arg.uniqueKey;if(window.bttUT.checkUT()){performance.mark(uniqueKey+"--end");}else{window.bttUT.mark(uniqueKey+"--end");}}else{if(window.bttUT.checkUT()){performance.mark(txnName+"--"+pageName+pageGroup+key+"--end");}else{window.bttUT.mark(txnName+"--"+pageName+pageGroup+key+"--end");}}setTimeout(function(){try{window.bttUT.bttMeasure(pageName, txnName, pageURL, pageVal, cartVal, brandVal, optionalArgs);}catch(e){console.log("30"+e);}},2000);}catch(e){console.log("8 "+e);}}},checkMark: function(v){try{if(performance.getEntriesByName(v, 'mark').length > 0){return true;}else{return false;}}catch(e){return false}},cku: function(c_name){var i,x,y,ARRc=document.cookie.split(";");for(i=0;i< ARRc.length;i++){x=ARRc[i].substr(0,ARRc[i].indexOf("="));y=ARRc[i].substr(ARRc[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}return 0;},bttMeasure: function(name, txn, pageURL, pageVal, cartVal, brandVal, optionalArgs){var key = "", pageGroup = "", pageGroupNoDash = "AJAX", measureKey = "", perfMeasure, _BU=window._bttUtil, _BF=window._bttFPS;if(typeof optionalArgs != 'undefined'){if(optionalArgs.hasOwnProperty('key')){key = "--"+optionalArgs.key;}if(optionalArgs.hasOwnProperty('pageGroup')){pageGroup = "--"+optionalArgs.pageGroup;pageGroupNoDash = optionalArgs.pageGroup;}}if(typeof optionalArgs != 'undefined' && optionalArgs.hasOwnProperty('uniqueKey')){measureKey = optionalArgs.uniqueKey;}else{measureKey = txn+"--"+name+pageGroup+key;}if(this.checkUT()){try{performance.measure(measureKey+"--domInteractive", measureKey+"--start", measureKey+"--domInt");}catch(e){}try{performance.measure(measureKey+"--domContentLoaded", measureKey+"--start", measureKey+"--domContLoaded");}catch(e){}try{if(window.bttUT.checkMark(measureKey+"--start") && window.bttUT.checkMark(measureKey+"--end")){performance.measure(measureKey, measureKey+"--start", measureKey+"--end");}else{return false;}}catch(e){return false;}try{perfMeasure = performance.getEntriesByType("measure");}catch(e){return false;}}else{try{window.bttUT.measure(measureKey+"--domInteractive", measureKey+"--start", measureKey+"--domInt");}catch(e){}try{window.bttUT.measure(measureKey+"--domContentLoaded", measureKey+"--start", measureKey+"--domContLoaded");}catch(e){}window.bttUT.measure(measureKey, measureKey+"--start", measureKey+"--end");var perfMeasure = window.bttUT.measuredMarksArray; }var perfName,perfDuration,perfStartTime=0,domContentLoadedEnd = "",domInteractive = "",dclEpoch = 0,domIntEpoch = 0,dclDuration,domIntDuration,wcd=0,bttCamp="",AB="Default",CmpS="Other",CmpM="None",CmpN="",DCTR="Default",RefURL=document.referrer.slice(0,700),gCS={},campSrcKey='marriott-campSource',campMedKey='marriott-campMedium',elementCount=0,szObj={},totalPgEncSize=0,totalPgDecSize=0,imgEncSize=0,jsEncSize=0;for (var i = 0; i < perfMeasure.length; i++){if(perfMeasure[i].name === measureKey){perfName = perfMeasure[i].name;perfDuration = Math.round(perfMeasure[i].duration); perfStartTime = Math.round(perfMeasure[i].startTime);}if(perfMeasure[i].name === measureKey+"--domInteractive"){domIntDuration = Math.round(perfMeasure[i].duration); }if(perfMeasure[i].name === measureKey+"--domContentLoaded"){dclDuration = Math.round(perfMeasure[i].duration); }}var BTT_Before = window._bttUtil.WP.timing.navigationStart + perfStartTime;if(domIntDuration != undefined){domIntEpoch = BTT_Before + domIntDuration;domInteractive = "&domInteractive="+domIntEpoch;}if(dclDuration != undefined){dclEpoch = BTT_Before + dclDuration;domContentLoadedEnd = "&domContentLoadedEnd="+dclEpoch;}if(performance.clearMarks!=undefined){performance.clearMarks(measureKey+"--start");performance.clearMarks(measureKey+"--end");}try{if ((function() {try {if (location.href.indexOf('marrOfferId=') != -1) {return location.href.split('marrOfferId=')[1].split('&')[0];} return void 0;} catch (e) {return void 0;}})()!=undefined){bttCamp=(function() {try {if (location.href.indexOf('marrOfferId=') != -1) {return location.href.split('marrOfferId=')[1].split('&')[0];} return void 0;} catch (e) {return void 0;}})();}}catch(err){}if(window.bttUT.lclgt("marriott-campaign","json")!=0){bttCamp=window.bttUT.lclgt("marriott-campaign","json");}var thisEXPs=new Date().getTime() + 1800000;window.bttUT.lclst("marriott-campaign",'{"value":"'+bttCamp+'","expires":"'+thisEXPs+'"}');try{if((function(){var ref=document.referrer,thisHref=location.href,prgm=''; if(document.cookie.indexOf('MI_SITE=prod10')!=-1){return dataLayer.env_site_id +'-P10-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod13')!=-1){return dataLayer.env_site_id +'-P13-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod15')!=-1){return dataLayer.env_site_id +'-P15-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod16')!=-1){return dataLayer.env_site_id +'-P16-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod17')!=-1){return dataLayer.env_site_id +'-P17-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod1')!=-1){return dataLayer.env_site_id +'-P1-Legacy'+prgm}else if(document.cookie.indexOf('MI_SITE=prod7')!=-1){return dataLayer.env_site_id +'-P7-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod8')!=-1){return dataLayer.env_site_id +'-P8-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod9')!=-1){return dataLayer.env_site_id +'-P9-RAM'+prgm}else  if(document.cookie.indexOf('MI_SITE=qa1')!=-1){return 'qa1-'+dataLayer.env_site_id+prgm}})()!=undefined){DCTR=(function(){var ref=document.referrer,thisHref=location.href,prgm=''; if(document.cookie.indexOf('MI_SITE=prod10')!=-1){return dataLayer.env_site_id +'-P10-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod13')!=-1){return dataLayer.env_site_id +'-P13-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod15')!=-1){return dataLayer.env_site_id +'-P15-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod16')!=-1){return dataLayer.env_site_id +'-P16-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod17')!=-1){return dataLayer.env_site_id +'-P17-Aries'+prgm}else if(document.cookie.indexOf('MI_SITE=prod1')!=-1){return dataLayer.env_site_id +'-P1-Legacy'+prgm}else if(document.cookie.indexOf('MI_SITE=prod7')!=-1){return dataLayer.env_site_id +'-P7-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod8')!=-1){return dataLayer.env_site_id +'-P8-RAM'+prgm}else if(document.cookie.indexOf('MI_SITE=prod9')!=-1){return dataLayer.env_site_id +'-P9-RAM'+prgm}else  if(document.cookie.indexOf('MI_SITE=qa1')!=-1){return 'qa1-'+dataLayer.env_site_id+prgm}})();}}catch(err){}if(window.bttUT.lclgt("marriott-datacenter","json")!=0){DCTR=window.bttUT.lclgt("marriott-datacenter","json");}window.bttUT.lclst("marriott-datacenter",'{"value":"'+DCTR+'","expires":"'+thisEXPs+'"}');if(window.bttUT.lclgt("marriott-abtest","json")!=0){AB=window.bttUT.lclgt("marriott-abtest","json");}if(AB!="Default"){window.bttUT.lclst("marriott-abtest",'{"value":"'+AB+'","expires":"'+thisEXPs+'"}');}var pageName = name; var txnName = txn; var siteID = "marriott";var PGV = (pageVal === undefined)?0:pageVal; var CVL = (cartVal === undefined)?0:cartVal;var BVL = (brandVal === undefined)?0:brandVal;var ONumBr = 0;var orderTND = 0;var CV4=0;var orders=0;var currencyCode="";if(CVL>0||PGV>0||BVL>0){try{currencyCode="USD";}catch(e){}}var bttssI = "undefined" != typeof window.BTTtag_ssI ? window.BTTtag_ssI : "22222222";var TO=new Date(),start = new Date(TO.getFullYear(), 0, 0),diff = TO - start,doy = Math.floor(diff / 86400000),doy_diff=0;var bttGUID = bttssI;var r=JSON.parse(window.bttUT.lclgt("BTT_GUID_PV"));if(r.hasOwnProperty('ajaxCartValDOY') && r.hasOwnProperty('ajaxCartVal')){var bttGUID=r.GUID,LPurD=r.ajaxCartValDOY,LPurV=r.ajaxCartVal;}else{var bttGUID=r.GUID,LPurD=doy,LPurV=0;}doy_diff=doy-LPurD;try{var prsdGUIDC = window.bttUT.GUIDC;if(CVL!=0){var orderNum=window.bttUT.lclgt("marriott-"+ONumBr);if(ONumBr!=0&&(orderNum!=0&&orderNum==CVL)){PGV=CVL;CVL=0;}else if((ONumBr==0&&CVL>0)&&(CVL==LPurV)&&(doy_diff<3)){PGV=CVL;CVL=0;}else{LPurV=CVL;LPurD=doy;}}r.ajaxCartVal = LPurV;r.ajaxCartValDOY = LPurD;window.bttUT.GUIDC = JSON.stringify(r);if(typeof(Storage)!=="undefined"){window.bttUT.lclst("BTT_GUID_PV",window.bttUT.GUIDC);if(window.bttUT.lclgt("marriott-"+ONumBr)==0){window.bttUT.lclst("marriott-"+ONumBr, CVL);}}else{document.cookie="BTT_GUID_PV="+window.bttUT.GUIDC+";expires="+gID_exp+";path=/";}}catch(e){console.log(20+" "+e);}var bttbvzn = "undefined" != typeof window.BTTtag_bvzn ? window.BTTtag_bvzn : "Undetected";var BTT_After = window.bttUT.GTM(),pgTM = perfDuration,btt_URL_Proto = ("https:" == document.location.protocol ? "https" : "http" ),PNDB_enc = pageName,BTT_TxName_enc = txnName;var NvsR = 0;if(bttGUID === bttssI){NvsR = 0;}else{NvsR = 1;}try{var gCS=JSON.parse('{"1":{"sourceName":"Google","sourceUrlSearch":"google.com","pageUrlSearch":""},"3":{"sourceName":"Bing","sourceUrlSearch":"bing.com","pageUrlSearch":""},"5":{"sourceName":"Yahoo","sourceUrlSearch":"yahoo.com","pageUrlSearch":""},"9":{"sourceName":"Facebook","sourceUrlSearch":"facebook.com","pageUrlSearch":""},"11":{"sourceName":"Yahoo","sourceUrlSearch":"yahoo.com","pageUrlSearch":""},"13":{"sourceName":"Twitter","sourceUrlSearch":"twitter.com","pageUrlSearch":""},"15":{"sourceName":"LinkedIn","sourceUrlSearch":"linkedin.com","pageUrlSearch":""},"17":{"sourceName":"Monetate","sourceUrlSearch":"monetate.com","pageUrlSearch":""},"21":{"sourceName":"Instagram","sourceUrlSearch":"instagram.com","pageUrlSearch":""},"23":{"sourceName":"Facebook","sourceUrlSearch":"","pageUrlSearch":"fbclid"},"25":{"sourceName":"Google","sourceUrlSearch":"","pageUrlSearch":"gclid"}}');}catch(e){}var CmpSJson = window.bttUT.lclgt(campSrcKey,"json");if(CmpSJson == 0){if(RefURL.length===0){CmpS="Direct";CmpM="None";}for(var src in gCS){var refSrch=gCS[src].sourceUrlSearch,pgSrch=gCS[src].pageUrlSearch,rFlg=false,pFlg=false;if(refSrch!==null&&refSrch!=""){rFlg=refSrch;}else{rFlg=true;}if(pgSrch!==null&&pgSrch!=""){pFlg=pgSrch;}else{pFlg=true;}if(rFlg===true&&pFlg===true){continue;}if(rFlg!=true){rFlg=_BU.trfChk(rFlg,docRef);}if(pFlg!=true){pFlg=_BU.trfChk(pFlg,btt_URL);}if(rFlg===true&&pFlg===true){CmpS = gCS[src].sourceName;break;}}if(CmpS==="Other"){CmpS=GtDmn(document.referrer);if(CmpS==="NoDomain"){CmpS="Other";}}}else{CmpS=CmpSJson}window.bttUT.lclst(campSrcKey,'{"value":"'+CmpS+'","expires":'+thisEXPs+'}');try{var glbCmpMed=[{"mediumName":"Display","referrerSearch":"","hrefSearch":"fbclid=","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"cm_mmc=InternalEmail","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"utm_medium=email","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"cm_mmc=EMAIL","customCode":""},{"mediumName":"Email","referrerSearch":"","hrefSearch":"utm_medium=Email","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"gclid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"bing.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"yahoo.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"aol.com","hrefSearch":"msclkid","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=CPC|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=PPC|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=ppc|||utm_source=","customCode":""},{"mediumName":"Paid Search","referrerSearch":"","hrefSearch":"utm_medium=cpc|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"dclid","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=fb","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=ig","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=mg","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"source=an","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=CPM|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=banner|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=display|||utm_source=","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"utm_medium=cpm|||utm_source=","customCode":""},{"mediumName":"Social","referrerSearch":"linkedin.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"facebook.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"tumblr.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"twitter.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"instagram.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"plus.google.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"plus.url.google.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"pinterest.com","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"https://t.co","hrefSearch":"","customCode":""},{"mediumName":"Social","referrerSearch":"like2buy.curalate","hrefSearch":"","customCode":""},{"mediumName":"Display","referrerSearch":"","hrefSearch":"cm_mmc=DIS","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=TW","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=FB","customCode":""},{"mediumName":"Social","referrerSearch":"","hrefSearch":"cm_mmc=IG","customCode":""},{"mediumName":"Organic Search","referrerSearch":"bing","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"google","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"search.yahoo.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"www.ask.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"isearch.avg.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"baidu.com","hrefSearch":"","customCode":""},{"mediumName":"Organic Search","referrerSearch":"yandex","hrefSearch":"","customCode":""}]}catch(e){}try{}catch(e){}var CmpMJson = window.bttUT.lclgt(campMedKey,"json");if(CmpMJson == 0){for(var src in glbCmpMed){var refSrch, hrefSrch, custCodeSrch, custCodeVal, refFlag = false, hrefFlag = false, custCodeFlag = false;if(glbCmpMed[src].referrerSearch !== null && glbCmpMed[src].referrerSearch != ""){refSrch = glbCmpMed[src].referrerSearch;}else{refFlag = true;}if(glbCmpMed[src].hrefSearch !== null && glbCmpMed[src].hrefSearch != ""){hrefSrch = glbCmpMed[src].hrefSearch;}else{hrefFlag = true;}if(glbCmpMed[src].customCode !== null && glbCmpMed[src].customCode != ""){custCodeSrch = glbCmpMed[src].customCode;}else{custCodeFlag = true;}if(typeof(refSrch)!='undefined' && (refSrch.indexOf('|||')===-1 && document.referrer.indexOf(refSrch)!=-1)){refFlag = true;}else if(typeof(refSrch)!='undefined' && refSrch.indexOf('|||')!=-1){var srchArr = refSrch.split('|||'),srchLength=srchArr.length,ctr=0;for(var i in srchArr){if(window.location.href.indexOf(srchArr[i])!=-1){ctr++;}}if(ctr === srchLength){refFlag = true;}}if(typeof(hrefSrch)!='undefined' && (hrefSrch.indexOf('|||')===-1 && window.location.href.indexOf(hrefSrch)!=-1)){hrefFlag = true;}else if(typeof(hrefSrch)!='undefined' && hrefSrch.indexOf('|||')!=-1){var srchArr = hrefSrch.split('|||'),srchLength=srchArr.length,ctr=0;for(var i in srchArr){if(window.location.href.indexOf(srchArr[i])!=-1){ctr++;}}if(ctr === srchLength){hrefFlag = true;}}if(typeof(custCodeSrch)!='undefined' && custCodeSrch != ""){custCodeFlag = true;custCodeVal = custCodeSrch;}if(refFlag === true && hrefFlag === true && custCodeFlag === true){CmpM=glbCmpMed[src].mediumName;if(typeof(custCodeVal)!="undefined"){CmpM=custCodeVal;}break;}}}else{CmpM=CmpMJson}window.bttUT.lclst(campMedKey,'{"value":"'+CmpM+'","expires":'+thisEXPs+'}');var CV1='0',CV2='0',CV3='0',CV4='0',CV5='0',CV6='0',CV7='0',CV8='0',CV9='0',CV10='0',CV11='0',CV12='0',CV13='0',CV14='0',CV15='0',CN1=0,CN2=0,CN3=0,CN4=0,CN5=0,CN6=0,CN7=0,CN8=0,CN9=0,CN10=0,CN11=0,CN12=0,CN13=0,CN14=0,CN15=0,CN16=0,CN17=0,CN18=0,CN19=0,CN20=0;try{if(typeof dataLayer.res_room_nights_total!=undefined){CV1 = dataLayer.res_room_nights_total;}}catch(err){}try{if(typeof (function(){var x=location.href.indexOf('hotels/travel/') != -1;if(x){var guestReviews=document.querySelector('div[id^="GuestReviews"] > div');var hotelReviews=document.querySelector('div[id^="HotelReviews"] > div');var keyAmenities=document.querySelector('div[id^="KeyAmenities"] > div');if(guestReviews!=null&&guestReviews.getAttribute('data-component-name')=="guestReviewsCta"){return "Tier 3";}else if(hotelReviews!=null&&hotelReviews.getAttribute('data-component-name')=="hotelReviews"){return "Tier 2";}else if(keyAmenities!=null&&keyAmenities.getAttribute('data-component-name')=="keyAmenities"){return "Tier 1";}else{return void 0;}}else{return void 0;}})()!=undefined){CV6 = (function(){var x=location.href.indexOf('hotels/travel/') != -1;if(x){var guestReviews=document.querySelector('div[id^="GuestReviews"] > div');var hotelReviews=document.querySelector('div[id^="HotelReviews"] > div');var keyAmenities=document.querySelector('div[id^="KeyAmenities"] > div');if(guestReviews!=null&&guestReviews.getAttribute('data-component-name')=="guestReviewsCta"){return "Tier 3";}else if(hotelReviews!=null&&hotelReviews.getAttribute('data-component-name')=="hotelReviews"){return "Tier 2";}else if(keyAmenities!=null&&keyAmenities.getAttribute('data-component-name')=="keyAmenities"){return "Tier 1";}else{return void 0;}}else{return void 0;}})();}}catch(err){}if(window.bttUT.resObj.hasOwnProperty(measureKey)){var resObjKey=window.bttUT.resObj[measureKey];var wcdCollect = "off";if(window.bttUT.lclgt('BTT_WCD_Collect') != 0){wcdCollect = JSON.parse(window.bttUT.lclgt('BTT_WCD_Collect'))['value'];}else if(document.cookie.indexOf('BTT_WCD_Collect=on')!=-1){wcdCollect = "on";}try{elementCount=_BU.resCnt(resObjKey);szObj=_BU.pgSz(resObjKey);totalPgEncSize=szObj.pgSzEnc;totalPgDecSize=szObj.pgSzDec;imgEncSize=szObj.imgSz;jsEncSize=szObj.jsSz;}catch(e){}}if(wcdCollect === "on"){wcd=1;}var nstDif = BTT_Before - _BU.WP.timing.navigationStart;_BF.calcFps();var lt_tti = 0;var fps_tti = (_BU.ftti > 0 && (_BU.ftti - nstDif > 0)) ? _BU.ftti - nstDif : 0;var tti = fps_tti;var jsonPst = {"pageName":PNDB_enc,"nst":BTT_Before,"unloadEventStart":BTT_Before,"pageType":pageGroupNoDash,"pageValue":PGV,"pgTm":pgTM,domContentLoadedEnd: dclEpoch,domInteractive: domIntEpoch,"navigationType":3,"cartValue":CVL,"currencyCode":currencyCode,"ONumBr":ONumBr,"orderTND":orderTND,"eventType":5,"siteID":siteID,"txnName":BTT_TxName_enc,"campaign":bttCamp,"top":0,"bv":BVL,"thisURL":pageURL,"bvzn":bttbvzn,"EUOS":this.EUOS(),"sID":bttssI,"gID":bttGUID,"CV4":CV4,"RV":NvsR,"wcd":wcd,"AB":AB,"CmpS":CmpS,"CmpM":CmpM,"CmpN":CmpN,"DCTR":DCTR,"RefURL":RefURL,"orders":orders,"pWSz":totalPgEncSize,"pSz":totalPgDecSize,"IMAGE_SIZE":imgEncSize,"JS_SIZE":jsEncSize,"elementCount":elementCount,"tti":tti,"lt_tti":lt_tti,"fps_tti":fps_tti,"CV1":CV1,"CV2":CV2,"CV3":CV3,"CV4":CV4,"CV5":CV5,"CV6":CV6,"CV7":CV7,"CV8":CV8,"CV9":CV9,"CV10":CV10,"CV11":CV11,"CV12":CV12,"CV13":CV13,"CV14":CV14,"CV15":CV15,"CN1":CN1,"CN2":CN2,"CN3":CN3,"CN5":CN5,"CN6":CN6,"CN7":CN7,"CN8":CN8,"CN9":CN9,"CN10":CN10,"CN11":CN11,"CN12":CN12,"CN13":CN13,"CN14":CN14,"CN15":CN15,"CN16":CN16,"CN17":CN17,"CN18":CN18,"CN19":CN19,"CN20":CN20};var BTT_URL = btt_URL_Proto + "://d1.btttag.com/analytics.rcv?pgNm="+PNDB_enc+"&trSeg="+BTT_TxName_enc+"&navStart="+BTT_Before;var bx=_BU.cors('POST', BTT_URL);var jStr=JSON.stringify(jsonPst);var SnDENC=btoa(jStr);bx.send(SnDENC);if(wcdCollect === "on"){var currentResIndex = resObjKey;var resParams = {nStart: BTT_Before,pageName: PNDB_enc,pageType: pageGroupNoDash,txnName: BTT_TxName_enc,trig: pgTM,pgTm: pgTM,sID: bttssI,gID: bttGUID,WCDtt: "c",NVSTR: "0",};var ctr=1;window._bttUtil.ci = currentResIndex;window._bttUtil.resP = resParams;}},sendGif: function(pageName, requiredArgs, optionalArgs){var sessionID,guid,campaign="",txnName="",timing=100,pageGroup="",orderNumber="",excluded=0,cartValue=0,brandValue=0,pageValue=0,datacenter="",abtesting="",pgTm=0,CmpM="",CmpS="",nvSt=0,ldEvtSt=0,wcd=0,totalPgEncSize=0,totalPgDecSize=0,imgEncSize=0,jsEncSize=0,elementCount=0,rstSess=0, tti=0, lt_tti=0, fps_tti=0, siteID="marriott", CSID="", optArray=[], optString="";try{if(typeof requiredArgs != 'undefined'){var rArgs=requiredArgs;rArgs.a = rArgs.hasOwnProperty;if(rArgs.a('sessionID')){sessionID = rArgs.sessionID;}else if(bttUT.lclgt('BTT_X0siD', 'json') != 0){sessionID = bttUT.lclgt('BTT_X0siD', 'json');}if(rArgs.a('guid')){guid = rArgs.guid;}else if(bttUT.lclgt('BTT_GUID_PV', 'json') != 0){guid = JSON.parse(bttUT.lclgt('BTT_GUID_PV', 'json'))["GUID"];}if(rArgs.a('campaign')){campaign = rArgs.campaign;}else if(bttUT.lclgt(siteID+'-campaign', 'json') != 0){campaign = bttUT.lclgt(siteID+'-campaign', 'json');}if(rArgs.a('txnName')){txnName = rArgs.txnName;}}else{console.log("Unable to send gif");return false;}if(typeof optionalArgs != 'undefined'){var oArgs=optionalArgs;oArgs.a = oArgs.hasOwnProperty;if(oArgs.a('timing')){timing = oArgs.timing;}if(oArgs.a('pageGroup')){pageGroup = decodeURIComponent(oArgs.pageGroup);}if(oArgs.a('orderNumber')){orderNumber = oArgs.orderNumber;}if(oArgs.a('excluded')){excluded = oArgs.excluded;}if(oArgs.a('cartValue')){cartValue = oArgs.cartValue;}if(oArgs.a('brandValue')){brandValue = oArgs.brandValue;}if(oArgs.a('datacenter')){datacenter = "&DCTR="+oArgs.datacenter;}if(oArgs.a('abtesting')){abtesting = "&AB="+oArgs.abtesting;}if(oArgs.a('pgTm')){pgTm = oArgs.pgTm;}if(oArgs.a('CmpM')){CmpM = "&CmpM="+oArgs.CmpM;}if(oArgs.a('CmpS')){CmpS = "&CmpS="+oArgs.CmpS;}if(oArgs.a('nvSt')){nvSt = oArgs.nvSt;}if(oArgs.a('ldEvtSt')){ldEvtSt = oArgs.ldEvtSt;}if(oArgs.a('pageValue')){pageValue = oArgs.pageValue;}if(oArgs.a('rstSess')){rstSess = oArgs.rstSess;}if(oArgs.a('tti')){tti = oArgs.tti;}if(oArgs.a('lt_tti')){lt_tti = oArgs.lt_tti;}if(oArgs.a('fps_tti')){fps_tti = oArgs.fps_tti;}if(oArgs.a('CSID')){CSID = oArgs.CSID;}for(var key in oArgs){if(key.substring(0,2) == "CN" || key.substring(0,2) == "CV"){optArray.push(key+"="+oArgs[key]);}}optString = "&"+optArray.join("&");}}catch(e){console.log("Error sending beacon"); return false;}var nowTime = window.bttUT.GTM();if(nvSt > 0){var BTT_Before = nvSt;}else{var BTT_Before = nowTime - timing;}var pageURL = window.location.href,btt_URL_Proto = ("https:" == document.location.protocol ? "https" : "http" ),PNDB_enc = pageName,pageGroupEnc = pageGroup,BTT_TxName_enc = txnName;var pgTmStr = "&pgTm="+timing,nvStStr = "&nst="+BTT_Before,unldStr = "&unloadEventStart="+BTT_Before,ldEvtStStr = "";if(pgTm>0){pgTmStr="&pgTm="+pgTm;}if(nvSt>0){nvStStr="&nst="+nvSt;unldStr="&unloadEventStart="+nvSt;}if(ldEvtSt>0){ldEvtStStr="&loadEventStart="+ldEvtSt;}if(window.bttUT.resObj.hasOwnProperty(nvSt)){var resObjKey=window.bttUT.resObj[nvSt];window.bttUT.resObj={};var wcdCollect="off";if(window.bttUT.lclgt('BTT_WCD_Collect')!=0){wcdCollect=JSON.parse(window.bttUT.lclgt('BTT_WCD_Collect'))['value'];}else if(document.cookie.indexOf('BTT_WCD_Collect=on')!=-1){wcdCollect="on";}try{elementCount=_BU.resCnt(resObjKey);szObj=_BU.pgSz(resObjKey);totalPgEncSize=szObj.pgSzEnc;totalPgDecSize=szObj.pgSzDec;imgEncSize=szObj.imgSz;jsEncSize=szObj.jsSz;}catch(e){}}if(wcdCollect==="on"){wcd=1;}var BTT_URL = btt_URL_Proto + "://d1.btttag.com/analytics.rcv?pgNm="+PNDB_enc+"&trSeg="+BTT_TxName_enc+"&navStart="+BTT_Before;var tU="pageName=" + PNDB_enc +nvStStr+unldStr+ldEvtStStr+"&pageType="+pageGroupEnc+pgTmStr+"&tti="+tti+"&lt_tti="+lt_tti+"&fps_tti="+fps_tti+"&navigationType=3"+"&eventType=5"+"&siteID="+siteID+"&wcd="+wcd+"&txnName="+BTT_TxName_enc+"&campaign="+campaign+CmpS+CmpM+abtesting+datacenter+"&top=0"+"&thisURL="+encodeURIComponent(pageURL)+"&sID="+sessionID+"&gID="+guid+"&excluded="+excluded+"&bv="+brandValue+"&cartValue="+cartValue+"&pageValue="+pageValue+"&ONumBr="+orderNumber+"&pWSz="+totalPgEncSize+"&pSz="+totalPgDecSize+"&IMAGE_SIZE="+imgEncSize+"&JS_SIZE="+jsEncSize+"&elementCount="+elementCount+"&rstSess="+rstSess+"&CSID="+CSID+optString;var tUObj={};var tUArr=tU.split("&");var tULen=tUArr.length;for(var i=0;i<tULen;i++){if(typeof(tUArr[i])!="undefined"&&tUArr[i].indexOf("=")!=-1){var pArr=tUArr[i].split("=");tUObj[pArr[0]]=decodeURIComponent(pArr[1]);}}var bx=window._bttUtil.cors('POST', BTT_URL);var jStr=JSON.stringify(tUObj);var SnDENC=btoa(jStr);bx.send(SnDENC);if(wcdCollect === "on"){var currentResIndex = resObjKey;var resParams = {nStart: nvSt,pageName: PNDB_enc,pageType: pageGroupEnc,txnName: BTT_TxName_enc,trig: pgTm,pgTm: pgTm,sID: sessionID,gID: guid,WCDtt: "c",NVSTR: "0",};var ctr=1;window._bttUtil.ci = currentResIndex;window._bttUtil.resP = resParams;}},getValue: function(key){try{guid = JSON.parse(window.bttUT.lclgt(key)).value;}catch(e){guid = window.bttUT.cku(key);}},};if(typeof window._bttMgcCntr=="undefined"){window._bttMgcCntr = 0;}else{window._bttMgcCntr++}if(window._bttMgcCntr==0){window.btt_ajaxListener = new Object();window.btt_ajaxListener.tempOpen=XMLHttpRequest.prototype.open;window.btt_ajaxListener.tempSend=XMLHttpRequest.prototype.send;window.btt_ajaxListener.tempstate = {};XMLHttpRequest.prototype.open=function(a,b){if(!a){var a = '';}if(!b){var b = '';}var xhrApply = window.btt_ajaxListener.tempOpen.apply(this, arguments);try{this.tempError = new Error(xhrApply);this.bttXhrVerb = a;this.bttXhrUrl = b;var pageName, txnName, url = b;var pTObj = window.bttUT.pTNaming(url);if(pTObj.pageName!==undefined && pTObj.txnName!==undefined){var key = +new Date();this.bttStartKey = key;this.pageName = pTObj.pageName;this.txnName = pTObj.txnName;this.pageGroup = "Custom Timer";window.bttUT.start({pageName:pTObj.pageName, txnName:pTObj.txnName, pageGroup:pTObj.pageGroup, key:key, captureResources:false});}}catch(e){console.log(21+" "+e);}};XMLHttpRequest.prototype.send = function(){window.btt_ajaxListener.tempSend.apply(this, arguments);try{var pageName, txnName, method=this.bttXhrVerb,vtStartArgs={};vtStartArgs["ajaxUrl"]=this.bttXhrUrl;vtStartArgs["type"]="start";if(method === "POST"){vtStartArgs["postData"]=arguments[0];this.bttPostData=arguments[0];}var vtStartObj = window.bttUT.vtNaming(vtStartArgs);if(vtStartObj.pageName!==undefined && vtStartObj.txnName!==undefined){window.bttUT.start({pageName:vtStartObj.pageName, txnName:vtStartObj.txnName, pageGroup:vtStartObj.pageGroup, captureResources:true});}var dtIndx = +(Math.floor(Math.random() * (99999 - 10000)) + 10000).toString()+(+new Date()).toString()+(Math.floor(Math.random() * (9999 - 1000)) + 1000).toString();window.btt_ajaxListener.tempstate[dtIndx] = this.onload;this.onload = function(){if(window.btt_ajaxListener.tempstate[dtIndx] != null){window.btt_ajaxListener.tempstate[dtIndx].apply(this, arguments);}if(this.readyState == 4 && this.status >= 200 && this.status < 300){var pageName, txnName, method=this.bttXhrVerb,vtEndArgs={};var url = this.responseURL;vtEndArgs["ajaxUrl"]=this.bttXhrUrl;vtEndArgs["type"]="end";if(method === "POST"){if(this.hasOwnProperty('bttPostData')){vtEndArgs["postData"]=this.bttPostData;}else{vtEndArgs["postData"]="";}}var vtEndObj = window.bttUT.vtNaming(vtEndArgs);if(vtEndObj.pageName!==undefined && vtEndObj.txnName!==undefined){window.bttUT.end({pageName:vtEndObj.pageName,pageGroup:vtEndObj.pageGroup,txnName:vtEndObj.txnName, pageURL:location.href});}if(this.hasOwnProperty('pageName') && this.hasOwnProperty('txnName') && this.hasOwnProperty('bttStartKey')){var url = this.responseURL;var key = this.bttStartKey;window.bttUT.end({pageName:this.pageName,pageGroup:this.pageGroup,txnName:this.txnName, pageURL:url, key:key});}}else if(this.readyState == 4 && this.status >= 400){try{var msg = this.bttXhrVerb+" "+this.responseURL+" "+this.status+" ("+this.statusText+")";_bttErr.capture(msg, this.responseURL, 0, 0, msg, "XHRError");}catch(e){}}}}catch(e){console.log(22+" "+e);}};if(typeof(fetch)!="undefined"){window.btt_fetchReq = fetch;fetch = function(url, opt) {var promise = window.btt_fetchReq.apply(this, arguments);try{if(typeof(url)==="object"){url = url.url != undefined ? url.url : '';}else if(typeof(url)!="string"){url = '';}}catch(e){url = '';}try {var pageName, txnName;var pTObj = window.bttUT.pTFetchNaming(url);if (pTObj.pageName !== undefined && pTObj.txnName !== undefined) {var key = +new Date();var f_bttStartKey = key;var f_pageName = pTObj.pageName;var f_txnName = pTObj.txnName;var f_pageGroup = "Custom Timer";window.bttUT.start({pageName: pTObj.pageName,txnName: pTObj.txnName,pageGroup: pTObj.pageGroup,key: key,captureResources: false});}} catch (e) {console.log(21 + " " + e);}try {var vtArgs = {};vtArgs["ajaxUrl"] = url;vtArgs["type"] = "start";if(typeof(opt)!="undefined" && opt.hasOwnProperty('method') && opt.method.toLowerCase() === "post" && opt.hasOwnProperty('body')) {vtArgs["postData"] = opt.body;}var vtStartObj = window.bttUT.vtFetchNaming(vtArgs);if (vtStartObj.pageName !== undefined && vtStartObj.txnName !== undefined) {window.bttUT.start({pageName: vtStartObj.pageName,txnName: vtStartObj.txnName,pageGroup: vtStartObj.pageGroup,captureResources: true});}} catch (e) {console.log(22 + " " + e);}return promise.then(function(response) {if (response.status >= 200 && response.status < 300) {if(typeof(f_pageName) != 'undefined' && typeof(f_txnName) != 'undefined' && typeof(f_bttStartKey) != 'undefined') {window.bttUT.end({pageName: f_pageName,pageGroup: f_pageGroup,txnName: f_txnName,pageURL: response.url,key: f_bttStartKey});}vtArgs["type"] = "end";var vtEndObj = window.bttUT.vtFetchNaming(vtArgs);if (vtEndObj.pageName !== undefined && vtEndObj.txnName !== undefined) {window.bttUT.end({pageName: vtEndObj.pageName,pageGroup: vtEndObj.pageGroup,txnName: vtEndObj.txnName,pageURL: location.href});}}else if(response.status >= 400){try{var method = opt.hasOwnProperty('method') ? opt["method"]+" " : "";var msg = method+response.url+" "+response.status+" ("+response.statusText+")";_bttErr.capture(msg, response.url, 0, 0, msg, "FetchError");}catch(e){}}return response;}, function(reason){throw reason;});}}}window._bttPerfObs;(function(){if(window._bttPerfObs != undefined || typeof(PerformanceObserver) == 'undefined' || typeof(PerformanceLongTaskTiming) == "undefined"){return false;}try{var ttiTmt, clstTmt, durTot = 0, lastStart = 0, _b = window._bttUtil;window._bttPerfObs = "r";function checkTTI(endTime){var dcle = performance.timing.domContentLoadedEventEnd;if(dcle > +new Date()){return;}ttiTmt = setTimeout(function(){var dcl = dcle - performance.timing.navigationStart;var tti = Math.max(endTime, dcl);if(typeof(_b)!='undefined'){_b.tti = parseInt(tti);}observer.disconnect();},1000);}var observer = new PerformanceObserver(function(list) {var perfEntries = list.getEntries();var dur, stTm;try{for(var i=0; i<perfEntries.length; i++){dur = perfEntries[i].duration;stTm = perfEntries[i].startTime;if(typeof(dur)!='undefined' && typeof(stTm)!='undefined'){durTot += dur;var timeBetween = stTm - lastStart;if(typeof(_b)!='undefined'){_b.tlg.push(perfEntries[i]);}}else{dur = perfEntries[i-1].duration;stTm = perfEntries[i-1].startTime;break;}}lastStart = stTm + dur;clearTimeout(clstTmt);if(timeBetween > 1000 && durTot < 250){return;}clearTimeout(ttiTmt);clstTmt = setTimeout(function(){var endTime = stTm + dur;checkTTI(endTime);}, 1000);}catch(e){}});observer.observe({entryTypes: ["longtask"]});}catch(e){}})();