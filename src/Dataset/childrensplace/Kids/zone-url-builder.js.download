extole.define("https://origin.xtlo.net/type=core:clientId=2131529793:coreAssetsVersion=1544591110306/common/zone-url-builder.js",["https://origin.xtlo.net/type=core:clientId=2131529793:coreAssetsVersion=1544591110306/common/type.js"],function(r){function t(h){function d(a,b){if(r.isPlainObject(a))for(var c in a)d(c,a[c]);else a&&l.push(encodeURIComponent(a)+(b?"="+encodeURIComponent(b):""));return e}function c(a,b,c){a&&d(b,c);return e}function f(){c(!!m,"journey.campaign_id",m.getCampaign().getId());
return e}function g(a){return"http"+(q?"s":"")+"://"+n+"/zone/"+(p||a)+(l.length?"?"+l.join("&"):"")+(k?"#"+encodeURIComponent(k):"")}var e=this,m=h||null,p,l=[],k="",q=!0,n=h?h.getProgram().getProgramDomain():"no_context";this.setZone=function(a){p=a||p;return e};this.setSsl=function(a){q=!1!==a;return e};this.setQuery=d;this.setQueryIf=c;this.setCampaign=f;this.setDomain=function(a){n=a||n;return e};this.setHash=function(a){k=a||k;return e};this.build=g;this.promote=function(a,b){f();d("source",
a||m.getZone().getName());c(b,"email",b);return g("promote_destination")};this.terms=function(){f();return g("terms")};this.unsubscribe=function(a,b){f();d("unsubscribe_type",(b||"FRIEND").toUpperCase());c(a,"unsubscribe_email",a);return g("optout")};this.secureUnsubscribe=function(a,b){f();d("unsubscribe_type",(b||"FRIEND").toUpperCase());c(a,"unsubscribe_email",h.getServices().getSecureEmailService().encrypt(a));return g("optout")};this.verification=function(a,b){f();c(b,"extole_secret",b);c(a,
"email",a);return g("advocate_stats")};this.closeWindow=function(a){f();d("close","true");return g(a||"microsite")}}return function(h){return new t(h)}});