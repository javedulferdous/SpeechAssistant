(function() { function bxBootstrap() {
	if (!(window.bouncex&&bouncex.website)) {
		var pushedData = [];
		if(window.bouncex && bouncex.push && bouncex.length){
			pushedData = bouncex;
		}
		window.bouncex = {};
		bouncex.pushedData = pushedData;
		bouncex.website = {"id":1400,"name":"Sears","cookie_name":"bounceClientVisit1400","domain":"sears.com","ct":"bind_to_domain","ally":0,"ei":1,"tcjs":"","cjs":"if (bouncex.testmode.bxdev) {\nvar cachedPoints = bouncex.vars.telluride_points;\n\nwindow.bxTellurideCallback = function(data) {\n\tvar points = data && data.Recommendations && data.Recommendations[0] && data.Recommendations[0].strategyitems && data.Recommendations[0].strategyitems[0] && data.Recommendations[0].strategyitems[0] && data.Recommendations[0].strategyitems[0].attributes && data.Recommendations[0].strategyitems[0].attributes.MemberPoints || 0;\n\tbouncex.setVarAndReload('telluride_points', points);\n};\n\nif (cachedPoints === false) {\n\tvar sywrDataCookie = memberMessaging.custInfoParmsRaw;\n\tvar clickThroughEsywr = encodeURIComponent(bouncex.utils.url.getParam('mmpesywr'));\n\n\tvar loggedInUser = sywrDataCookie.uType === 'R';\n\tvar clickThroughUser = !!clickThroughEsywr;\n\n\tvar encryptedSywrNo;\n\n\tif (loggedInUser) {\n\t\tencryptedSywrNo = sywrDataCookie.sywr;\n\t} else if (clickThroughUser) {\n\t\tencryptedSywrNo = clickThroughEsywr;\n\t}\n\n\tif (encryptedSywrNo) {\n\t\tvar baseUrl = 'https://pop.telluride.sears.com/tellurideAS/MemberMessaging?';\n\n\t\tvar params = {\n\t\t\t'sywr': encryptedSywrNo,\n\t\t\t'psid': sywrDataCookie.psid,\n\t\t\t'uid': sywrDataCookie.uid,\n\t\t\t'uuid': sywrDataCookie.uuid,\n\t\t\t// 'uType': sywrDataCookie.uType,\n\t\t\t'uType': 'R',\n\t\t\t'source': sywrDataCookie.source,\n\t\t\t'location': 'BounceX',\n\t\t\t'callback': 'bxTellurideCallback'\n\t\t};\n\n\t\tvar tellurideSrc = baseUrl + bouncex.utils.url.generateQuerystring(params);\n\t\tvar tellscript =  document.createElement('script');\n\t\ttellscript.setAttribute('src', tellurideSrc);\n\t\tdocument.head.appendChild(tellscript);\n\t}\n}\n}\n\n/*** START: OMNITURE TRACKING ***/\n\nwindow.bouncex.omnitureLinkTrackEvergreen = function(label, event) {\n    if (typeof window.s == 'object' && typeof window.s.tl == 'function') {\n        s.linkTrackVars='eVar94,events';\n        s.linkTrackEvents='';\n        s.eVar94 = 'BX - ' +  label;\n        s.events = event || '';\n        s.tl(true,'o','bouncex event');\n    }\n};\n\nwindow.bouncex.report_ga = function(action, label, bypass) {\n    var event;\n    if (action == 'impression') event = 'event209';\n    else if (action == 'click') event = 'event210';\n    else if (action == 'submission') event = 'event208';\n    else if (action == 'close') event = 'event211';\n    else if (action == 'close-inside') event = 'event212';\n    window.bouncex.omnitureLinkTrackEvergreen(label, event);\n};\n\n/** DESKTOP HELPERS **/\nbouncex.omnitureLinkTrack = function(label) {\n  // Store omniture campaign names for sprop22 that are IMPRESSIONS in visit persistent CV delimited by a comma \",\". \n  // Used to make omniture \"bx_addcart\" link tracking for all impressed campaigns when \"Add to Cart\" button is clicked\n  var campaignLabel = label.split('bx_imp_')[1];\n  if (label.indexOf('bx_imp') > -1 && bouncex.vars.s_prop22_storage.indexOf(campaignLabel) === -1) {\n    var sProp22 = bouncex.vars.s_prop22_storage;\n    if (bouncex.vars.s_prop22_storage !== '') sProp22 += ',' + campaignLabel;\n    else sProp22 = campaignLabel;\n    \n    bouncex.setv('s_prop22_storage',sProp22);\n    bouncex.setBounceCookie();\n  }\n  \n  window.s.linkTrackVars = 'prop22';\n  window.s.prop22 = label;\n  window.s.tl(true,'o',label);\n};\n\nbouncex.omnitureDesktopAddToCartHandler = function() {\n  var labelsArr = bouncex.vars.s_prop22_storage.split(',');\n\n  if (!!labelsArr.length && labelsArr[0] !== '') {\n    jQuery(document).on('ajaxComplete.bx_omniture_add_to_cart', function(event, xhr, settings) {\n      try{\n        var condition1 = settings && settings.url.indexOf('/content/pdp/v2/members/') > -1,   // URL search split up to account for guest/logged in users\n            condition2 = settings && settings.url.indexOf('/cart') > -1,                      // URL search split up to account for guest/logged in users\n            condition3 = xhr.statusText == 'OK',\n            condition4 = xhr.responseText.indexOf('addedItems') > -1;\n\n        if (condition1 && condition2 && condition3 && condition4) {\n          labelsArr.forEach(function(label, idx) {\n            var campaignName = 'bx_addcart_' + label;\n            // console.debug(campaignName)\n            window.s.linkTrackVars = 'prop22';\n            window.s.prop22 = campaignName;\n            window.s.tl(true, 'o', campaignName);\n          });\n        }\n      } catch (e) {bouncex.err(e);}\n    });\n  }\n};\n\n/** MOBILE HELPERS **/\nbouncex.omnitureMobileLinkTrack = function(label) {\n  // Store omniture campaign names for sprop23 that are IMPRESSIONS in visit persistent CV delimited by a comma \",\". \n  // Used to make omniture \"bx_addcart\" link tracking for all impressed campaigns when \"Add to Cart\" button is clicked\n  var campaignLabel = label.split('bx_imp_')[1];\n  if (label.indexOf('bx_imp') > -1 && bouncex.vars.s_prop23_storage.indexOf(campaignLabel) === -1) {\n    var sProp23 = bouncex.vars.s_prop23_storage;\n    if (bouncex.vars.s_prop23_storage !== '') sProp23 += ',' + campaignLabel;\n    else sProp23 = campaignLabel;\n    \n    bouncex.setv('s_prop23_storage',sProp23);\n    bouncex.setBounceCookie();\n  }\n  \n  // Use setTimeout to avoid double impression calls\n  setTimeout(function(){\n    window.s.linkTrackVars = 'prop23';\n    window.s.prop23 = label;\n    window.s.tl(true,'o',label);\n    window.s.prop23 = undefined; // Reset prop23 so it doesn't get linked to their page tracking calls on routeChangeSuccess  \n  }, 1000);\n};\n\nbouncex.omnitureMobileAddToCartHandler = function() {\n  var labelsArr = bouncex.vars.s_prop23_storage.split(',');\n\n  if (!!labelsArr.length && labelsArr[0] !== '') {\n    jQuery(document).on('click.bx_omniture_add_to_cart', 'button[ng-click=\"addToCart()\"]', function() {\n      var ms = 0;\n      var intervals = 100;\n      var $addToCartDisplay = jQuery('#swordfish-addtocart-animation');\n      \n      // Check if successfully added to cart (can't hook into ajaxComplete)\n      var checkAddToCart = setInterval(function(){\n        // Check for 3 seconds if successful add to cart\n        if (ms > 3000) {\n          clearInterval(checkAddToCart);\n          ms = intervals = 0;\n        } else if (!!$addToCartDisplay.length && $addToCartDisplay.css('display') === 'block') {\n          // Omniture Track\n          labelsArr.forEach(function(label, idx) {\n            var campaignName = 'bx_addcart_' + label;\n            // console.debug(campaignName)\n            window.s.linkTrackVars = 'prop23';\n            window.s.prop23 = campaignName;\n            window.s.tl(true, 'o', campaignName);\n          });\n          \n          // Reset Variables\n          clearInterval(checkAddToCart);\n          ms = intervals = 0;\n        }\n        ms += intervals;\n      }, intervals);\n    });\n  }\n};\n\n/** WEBSITE LEVEL OMNITURE ADD TO CART LINK TRACKING **/\n// DN: Temporary measure to link track shown campaigns on product pages until client confirms they can give us an eVar\n\n// DESKTOP Omniture \"bx_addcart\" link tracking\nif (\n  bouncex.vars.product_page                                 // on product page\n  && !!jQuery('button[data-id=\"addToCart\"]').length         // add to cart button exists\n  && window.location.hostname.indexOf('m.sears.com') === -1 // desktop site only\n  && !!bouncex.vars.s_prop22_storage.length                 // CV: s_prop22_storage not empty\n) {\n  bouncex.omnitureDesktopAddToCartHandler();\n}\n\n// MOBILE Omniture \"bx_addcart\" link tracking (refer to angular \"locationChangeSuccess\" handler in website settings below for MOBILE \"bx_addcart\" link tracking)\n\n\n/*** END: OMNITURE TRACKING ***/\n\n// R.L. & D.A. website CSS override for...\nbouncex.addCss(\".bxc.bx-custom button, .bxc.bx-custom input { box-shadow: none !important; height: auto !important; } .bxc.bx-custom input::-webkit-input-placeholder { font-style: normal !important; }\", bouncex.head[0]); \n\n\n\n/* SDO: Angular Fix */\nvar ele = window.angular ? angular.element(document.querySelector('.ng-scope')) : null;\nvar rootScope = ele && ele.injector() ? ele.injector().get('$rootScope') : false;\nif ( rootScope ) {\n    rootScope.$on( '$locationChangeSuccess', function(event, next, current) {\n        //document.body.appendChild(bouncex.local_storage_frame);\n        setTimeout(function(){\n            init_vars();\n            bouncex.cookie.vpv++;\n            bouncex.pa = 0;\n            setBounceCookie();\n            for (var ca_id in bouncex.campaigns) {\n                if (bouncex.campaigns.hasOwnProperty(ca_id)) {\n                    bouncex.destroy_ad(ca_id);\n                }\n            }\n            bouncex.body = jQuery('body').eq(0);\n            bouncex.calling_url = encodeURIComponent(window.location.href);\n            bouncex.reload_campaigns();\n            // attempting to fix SPA fix\n            if (bouncex.utk && bouncex.utk.init) {\n                bouncex.log('bouncex.utk exists: ', bouncex.utk);\n                bouncex.utk.init();\n            }\n            \n            init_ibx_tracking();\n            if ('bxISR' in window.top.bouncex) { window.top.bouncex.bxISR.init(); }\n        }, 600);\n    });\n    \n    rootScope.$on('$routeChangeSuccess',function(event, next, current){\n      setTimeout(function(){\n        // MOBILE OMNITURE \"bx_addcart\" link tracking when route changes (accounts for fresh page reloads as well)\n        // DN: Temporary measure to link track shown campaigns on product pages until client confirms they can give us an eVar\n        \n        // Unbind any add to cart click handlers for omniture calls on new location change\n        jQuery(document).off('click.bx_omniture_add_to_cart');\n        \n        if (\n            window.location.hostname.indexOf('m.sears.com') > -1  // Mobile site only\n            && !!jQuery('button[ng-click=\"addToCart()\"]').length  // Add to cart button exists\n            && bouncex.vars.product_page                          // On product Page\n            && !!bouncex.vars.s_prop23_storage.length             // CV: s_prop23_storage is not empty\n        ) {\n            bouncex.omnitureMobileAddToCartHandler();\n        }\n      }, 4000);\n    });\n    \n} else {\n    //console.log('bouncex: check rootscope');\n}\n\n// // SSM ISR\n// if (localStorage.bxTest) {\n// (function() {\n// \twindow.bouncex = window.bouncex || {};\n\n// \twindow.bouncex.bxISR = {\n// \t\t/* --- INITIALIZATION --- */\n// \t\tversion: 'Version 7.0 | 8/5/16',\n// \t\tstartTime: Date.now(),\n// \t\tsettings: {\n// \t\t\tcurrentProduct: {},\n// \t\t\tgeneral: {\n// \t\t\t\tproductPageIdentifier: (('bt' in window.top && typeof window.top.bt.pageType !== 'undefined' && window.top.bt.pageType === 'product') || (jQuery('body[id=product]').length > 0 && !jQuery('body').hasClass('compare')) || ('utag' in window.top && 'data' in window.top.utag && typeof window.top.utag.data.pageType !== 'undefined' && window.top.utag.data.pageType === 'Product Details')),\n// \t\t\t\tmobileIdentifier: (window.top.bouncex.state.mobile),\n// \t\t\t\tmaxProducts: 20,\n// \t\t\t\tcategoryHistory: JSON.parse(window.localStorage.getItem('bxCatHist')) || [],\n// \t\t\t\tproductHistory: JSON.parse(window.localStorage.getItem('bxProdHist')) || [],\n// \t\t\t\tcategoryHistoryLength: 0,\n// \t\t\t\tproductHistoryLength: 0\n// \t\t\t}\n// \t\t},\n\n// \t\tinit: function() {\n// \t\t\tthis.productMap();\n// \t\t\tthis.setItemHistoryLengths();\n// \t\t\tthis.trackProductHistory();\n// \t\t\tthis.trackCategoryHistory();\n// \t\t\tthis.maxProducts();\n// \t\t},\n\n// \t\tproductMap: function() {\n// \t\t\tif (!this.settings.general.productPageIdentifier) {return; }\n\n// \t\t\tif (!this.settings.general.mobileIdentifier) {\n// \t\t\t\tvar desktopProductValues = {\n// \t\t\t\t\turl: (jQuery('link[rel=canonical]').attr('href')),\n// \t\t\t\t\tname: (('bt' in window.top && typeof window.top.bt.productName !== 'undefined') ? window.top.bt.productName : jQuery('meta[property=\"og:title\"]').attr('content')),\n// \t\t\t\t\tsku: (('bt' in window.top && typeof window.top.bt.id !== 'undefined') ? window.top.bt.id : window.top.location.pathname.split('/').pop().split('-').pop()),\n// \t\t\t\t\tcategory: [{ categoryName: (''), categoryUrl: ('') }],\n// \t\t\t\t\tdescription: (('bt' in window.top && typeof window.top.bt.productDescription !== 'undefined') ? window.top.bt.productDescription : jQuery('meta[property=\"og:description\"]').attr('content')),\n// \t\t\t\t\tprice: (('bt' in window.top && typeof window.top.bt.salePrice !== 'undefined' && window.top.bt.salePrice !== '0') ? window.top.bt.salePrice : (('bt' in window.top && typeof window.top.bt.itemPrice !== 'undefined' && window.top.bt.itemPrice !== '0') ? window.top.bt.itemPrice : jQuery('#rightrail').find('.price-wrapper').last().text().trim().replace('$', ''))),\n// \t\t\t\t\tmainImgUrl: (('bt' in window.top && typeof window.top.bt['meta.og:image'] !== 'undefined') ? window.top.bt['meta.og:image'] : jQuery('meta[property=\"og:image\"]').attr('content')),\n// \t\t\t\t\ttimeStamp: Date.now(),\n// \t\t\t\t\tviewCount: 1,\n// \t\t\t\t\tsessionId: window.bouncex.cookie.vid\n// \t\t\t\t};\n// \t\t\t\tthis.settings.currentProduct = desktopProductValues;\n// \t\t\t}\n// \t\t\tif (this.settings.general.mobileIdentifier) {\n\n// \t\t\t\tvar mobileProductValues = {\n// \t\t\t\t\turl: (window.top.location.pathname),\n// \t\t\t\t\tname: (('utag' in window.top && 'data' in window.top.utag && typeof window.top.utag.data.productName !== 'undefined') ? window.top.utag.data.productName : jQuery('meta[property=\"og:title\"]').attr('content')),\n// \t\t\t\t\tsku: (('utag' in window.top && 'data' in window.top.utag && typeof window.top.utag.data.id !== 'undefined') ? window.top.utag.data.id : window.top.location.pathname.split('/').pop().split('-').pop()),\n// \t\t\t\t\tcategory: [{ categoryName: (''), categoryUrl: ('') }],\n// \t\t\t\t\tdescription: (jQuery('#description-container').find('p:eq(0)').find('strong').text()),\n// \t\t\t\t\tprice: (('utag' in window.top && 'data' in window.top.utag && typeof window.top.utag.data.salePrice !== 'undefined' && window.top.utag.data.salePrice !== '0') ? window.top.utag.data.salePrice : (('utag' in window.top && 'data' in window.top.utag && typeof window.top.utag.data.itemPrice !== 'undefined' && window.top.utag.data.itemPrice !== '0') ? window.top.utag.data.itemPrice : jQuery('#overview').find('meta[itemprop=price]').attr('content'))),\n// \t\t\t\t\tmainImgUrl: (jQuery('#pdpNewCarousel').find('img').attr('src')),\n// \t\t\t\t\ttimeStamp: Date.now(),\n// \t\t\t\t\tviewCount: 1,\n// \t\t\t\t\tsessionId: window.bouncex.cookie.vid\n// \t\t\t\t};\n// \t\t\t\tthis.settings.currentProduct = mobileProductValues;\n// \t\t\t}\n// \t\t},\n\n// \t\t/* --- END OF INITIALIZATION --- */\n// \t\t/* --- HELPER FUNCTIONS --- */\n\n// \t\taddProductToHistory: function(product) {\n// \t\t\tvar productHistory = this.settings.general.productHistory;\n// \t\t\tproductHistory.unshift(product);\n// \t\t\tthis.setProductHistory(productHistory);\n// \t\t},\n\n// \t\taddCategoryToHistory: function(currentCategory) {\n// \t\t\tvar categoryHistory = this.settings.general.categoryHistory;\n// \t\t\tvar newCategory = {\n// \t\t\t\tcategory: currentCategory,\n// \t\t\t\tviewCount: 1,\n// \t\t\t\ttimeStamp: Date.now()\n// \t\t\t};\n\n// \t\t\tcategoryHistory.unshift(newCategory);\n// \t\t\twindow.bouncex.bxISR.setCategoryHistory(categoryHistory);\n// \t\t},\n\n// \t\tcompareProducts: function(productA, productB) {\n// \t\t\tif (productA.mainImgUrl === productB.mainImgUrl) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t\tif (productA.sku === productB.sku) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t\tif (productA.name === productB.name) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t\tif (productA.url === productB.url) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t\treturn false;\n// \t\t},\n\n// \t\ttrackProductHistory: function() {\n// \t\t\tvar productHistory = this.settings.general.productHistory;\n// \t\t\tif (!this.settings.general.productPageIdentifier) {\n// \t\t\t\treturn;\n// \t\t\t}\n\n// \t\t\tif (this.settings.general.productHistoryLength > 0) {\n// \t\t\t\tvar historyUpdated = false;\n\n// \t\t\t\tfor (var i = 0; i < this.settings.general.productHistoryLength; i++) {\n// \t\t\t\t\tif (this.compareProducts(productHistory[i], this.settings.currentProduct)) {\n// \t\t\t\t\t\tproductHistory[i].viewCount++;\n// \t\t\t\t\t\tproductHistory[i].timeStamp = Date.now();\n// \t\t\t\t\t\tproductHistory.unshift(productHistory[i]);\n\n// \t\t\t\t\t\tproductHistory.splice(i + 1, 1);\n// \t\t\t\t\t\thistoryUpdated = true;\n// \t\t\t\t\t\tthis.setProductHistory(productHistory);\n// \t\t\t\t\t\treturn;\n// \t\t\t\t\t}\n// \t\t\t\t}\n\n// \t\t\t\tif (!historyUpdated) {\n// \t\t\t\t\tthis.addProductToHistory(this.settings.currentProduct);\n// \t\t\t\t}\n// \t\t\t} else {\n// \t\t\t\tthis.addProductToHistory(this.settings.currentProduct);\n// \t\t\t}\n// \t\t},\n\n// \t\ttrackCategoryHistory: function() {\n// \t\t\tvar categoryHistory = this.settings.general.categoryHistory;\n// \t\t\tif (!this.settings.general.productPageIdentifier) {\n// \t\t\t\treturn;\n// \t\t\t}\n\n// \t\t\tvar currentCategoriesLength = this.settings.currentProduct.category.length;\n// \t\t\tfor (var i = 0; i < currentCategoriesLength; i++) {\n// \t\t\t\tvar currentCategory = this.settings.currentProduct.category[i];\n\n// \t\t\t\tif (this.settings.general.categoryHistoryLength > 0) {\n// \t\t\t\t\tvar historyUpdated = false;\n// \t\t\t\t\tfor (var j = 0; j < this.settings.general.categoryHistoryLength; j++) {\n// \t\t\t\t\t\tif (categoryHistory[j].category.categoryName === currentCategory.categoryName) {\n// \t\t\t\t\t\t\tcategoryHistory[j].viewCount++;\n// \t\t\t\t\t\t\tcategoryHistory[j].timeStamp = Date.now();\n// \t\t\t\t\t\t\thistoryUpdated = true;\n// \t\t\t\t\t\t\tthis.setCategoryHistory(categoryHistory);\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n\n// \t\t\t\t\tif (!historyUpdated) {\n// \t\t\t\t\t\tthis.addCategoryToHistory(currentCategory);\n// \t\t\t\t\t}\n// \t\t\t\t} else {\n// \t\t\t\t\tthis.addCategoryToHistory(currentCategory);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t},\n\n// \t\t/* --- END OF HELPER FUNCTIONS --- */\n// \t\t/* --- GETTER FUNCTIONS --- */\n\n// \t\tgetTopCategories: function(criteria, number) {\n// \t\t\tvar categories = this.settings.general.categoryHistory;\n// \t\t\tif (!number) { number = categories.length; }\n\n// \t\t\tif (criteria === 'views') {\n// \t\t\t\treturn categories.sort(function(a, b) {\n// \t\t\t\t\treturn b.viewCount - a.viewCount;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t} else if (criteria === 'time') {\n// \t\t\t\treturn categories.sort(function(a, b) {\n// \t\t\t\t\treturn b.timeStamp - a.timeStamp;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t} else if (criteria === 'recency') {\n// \t\t\t\treturn categories.sort(function(a, b) {\n// \t\t\t\t\treturn b.viewCount - a.viewCount;\n// \t\t\t\t}).slice(0, number).sort(function(c, d) {\n// \t\t\t\t\treturn d.timeStamp - c.timeStamp;\n// \t\t\t\t});\n// \t\t\t}\n// \t\t},\n\n// \t\tgetTopProducts: function(criteria, number) {\n// \t\t\tvar products = this.settings.general.productHistory;\n// \t\t\tif (!number) { number = products.length; }\n// \t\t\tif (criteria === 'views') {\n// \t\t\t\treturn products.sort(function(a, b) {\n// \t\t\t\t\treturn b.viewCount - a.viewCount;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t} else if (criteria === 'time') {\n// \t\t\t\treturn products.sort(function(a, b) {\n// \t\t\t\t\treturn b.timeStamp - a.timeStamp;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t} else if (criteria === 'recency') {\n// \t\t\t\treturn productHistory.sort(function(a, b) {\n// \t\t\t\t\treturn b.viewCount - a.viewCount;\n// \t\t\t\t}).slice(0, number).sort(function(c, d) {\n// \t\t\t\t\treturn d.timeStamp - c.timeStamp;\n// \t\t\t\t});\n// \t\t\t} else if (criteria === 'cartThenView') {\n// \t\t\t\treturn productHistory.sort(function(a, b) {\n// \t\t\t\t\treturn b.ac - a.ac || b.viewCount - a.viewCount || b.timeStamp - a.timeStamp;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t} else if (criteria === 'cart') {\n// \t\t\t\treturn productHistory.sort(function(a, b) {\n// \t\t\t\t\treturn b.ac - a.ac || b.viewCount - a.viewCount || b.timeStamp - a.timeStamp;\n// \t\t\t\t}).slice(0, number);\n// \t\t\t}\n// \t\t},\n\n// \t\tmaxProducts: function() {\n// \t\t\tvar maxProducts = this.settings.general.maxProducts;\n// \t\t\tif (this.settings.general.productHistoryLength > maxProducts) {\n// \t\t\t\tvar topProducts = this.getTopProducts('time', maxProducts);\n// \t\t\t\tthis.setProductHistory(topProducts);\n// \t\t\t}\n// \t\t},\n\n// \t\t/* --- END GETTER FUNCTIONS --- */\n// \t\t/* --- SETTER FUNCTIONS --- */\n\n// \t\tsetItemHistoryLengths: function() {\n// \t\t\tthis.settings.general.categoryHistoryLength = this.settings.general.categoryHistory.length;\n// \t\t\tthis.settings.general.productHistoryLength = this.settings.general.productHistory.length;\n// \t\t},\n\n// \t\tsetProductHistory: function(productHistory) {\n// \t\t\twindow.localStorage.setItem('bxProdHist', JSON.stringify(productHistory));\n// \t\t\tthis.settings.general.productHistory = productHistory;\n// \t\t\tthis.settings.general.productHistoryLength = productHistory.length;\n// \t\t},\n\n// \t\tsetCategoryHistory: function(categoryHistory) {\n// \t\t\twindow.localStorage.setItem('bxCatHist', JSON.stringify(categoryHistory));\n// \t\t\tthis.settings.general.categoryHistory = categoryHistory;\n// \t\t\tthis.settings.general.categoryHistoryLength = categoryHistory.length;\n// \t\t},\n\n// \t\t/* --- END SETTER FUNCTIONS --- */\n// \t\t/* --- CAMPAIGN TEMPLATING --- */\n\n//     populateCampaignProductsV2: function(params) {\n//       if (!params || !params.campaignId || !params.numberProducts) {\n//         return false;\n//       }\n//       if (!params.sortBy) { params.sortBy = 'time'; }\n//       if (!params.productAction) { params.productAction = 'link'; }\n//       if (!params.linkAction) { params.linkAction = 'new'; }\n//       var campaign = jQuery('#bx-campaign-' + params.campaignId);\n//       var campaignProductArray = [];\n//       campaignProductElements = {};\n//       jQuery.each(params.campaignSteps, function(x, y) {\n//         campaignStepProductElements = [];\n//         for (var i = 0; i < params.numberProducts; i++) {\n//           var campaignStepProductObject = {};\n//           if (y.productImages) {\n//             campaignStepProductObject.img = campaign.find('#bx-form-' + params.campaignId + '-step-' + y.stepNumber + ' .bx-group .bx-row-image-custom:eq(' + i + ') img');\n//             if (campaignStepProductObject.img.length === 0) { campaignStepProductObject.img = campaign.find('#bx-form-' + params.campaignId + '-step-' + y.stepNumber + ' .bx-group .bx-row-line-custom:eq(' + i + ') div'); }\n//           }\n//           if (y.productLinkElems) { campaignStepProductObject.link = campaign.find('#bx-form-' + params.campaignId + '-step-' + y.stepNumber + ' .bx-group .bx-row-submit:eq(' + i + ')'); }\n//           if (y.productHoverStates) { campaignStepProductObject.hoverTitle = campaign.find('#bx-form-' + params.campaignId + '-step-' + y.stepNumber + ' .bx-group .bx-row-image-custom:eq(' + i + ')').siblings('.bx-row-text').find('div'); }\n//           campaignStepProductElements.push(campaignStepProductObject);\n//         }\n//         campaignProductElements['step-' + x] = campaignStepProductElements;\n//       });\n//       var productArray = window.bouncex.bxISR.getTopProducts(params.sortBy, params.numberProducts);\n//       var self = this;\n//       jQuery.each(campaignProductElements, function(x, y) {\n//         var productAction = function() {};\n//         for (var i = 0; i < y.length; i++) {\n//           if (typeof productArray[i] !== 'undefined' && typeof productArray[i].url !== 'undefined') {\n//             if (params.campaignSteps[(x.split('-')[1])].productsLink) {\n//               var productLink = (productArray[i].url.indexOf('http') > -1) ? productArray[i].url : window.top.location.origin + productArray[i].url;\n//               productAction = self.makeProductAction(productLink, params);\n//             }\n//             if (y[i].img) {\n//               var imgSrc = productArray[i].mainImgUrl,\n//                 productImageElem = jQuery(y[i].img);\n//               productImageElem.attr('src', imgSrc).css('background-image', 'url(' + imgSrc + ')').addClass('isr-image isr' + x + '').bind('click.bx_' + params.campaignId + '_isr_' + i, productAction);\n//             }\n//             if (y[i].link) {\n//               var productLink = (productArray[i].url.indexOf('http') > -1) ? productArray[i].url : window.top.location.origin + productArray[i].url,\n//                 productLinkElem = jQuery(y[i].link);\n//               productLinkElem.attr('bx-href', productLink).bind('click.bx_' + params.campaignId + '_isr_' + i, productAction);\n//             }\n//             if (y[i].hoverTitle) {\n//               var productTitle = productArray[i].name,\n//                 productHoverTitleElem = jQuery(y[i].hoverTitle);\n//               productHoverTitleElem.text(productTitle).bind('click.bx_' + params.campaignId + '_isr_' + i, productAction);\n//             }\n//           }\n//         }\n//       });\n//     },\n\n//     makeProductAction: function(productLink, campaignParams) {\n//       var productAction = function() {};\n\n//       if (campaignParams.productAction === 'link') {\n//         if (campaignParams.linkAction === 'new') {\n//           if (campaignParams.reportClicks) {\n//             productAction = function() {\n//               window.bouncex.report(campaignParams.campaignId, 'click');\n//               window.top.open(productLink);\n//             };\n//           } else {\n//             productAction = function() {\n//               window.top.open(productLink);\n//             };\n//           }\n//         } else if (campaignParams.linkAction === 'current') {\n//           if (campaignParams.reportClicks) {\n//             productAction = function() {\n//               window.bouncex.report(campaignParams.campaignId, 'click');\n//               window.top.location.replace(productLink);\n//             };\n//           } else {\n//             productAction = function() {\n//               window.top.location.replace(productLink);\n//             };\n//           }\n//         }\n//       }\n\n//       return productAction;\n//     }\n// \t}\n// \twindow.bouncex.bxISR.init();\n// })();\n// }\n//jQuery('<img src=\"https://api.bounceexchange.com/capture/aws_ping.gif\"/>');\n\n//KK 2/1/17 tracks pids added to cart on desktop\nif ( bouncex.vars.product_page && window.location.hostname.indexOf('m.sears.com') === -1 ) {\n    jQuery(document).on('ajaxComplete.bx-prodids', function(event, xhr, settings) {\n      try{\n        var condition1 = settings && settings.url.indexOf('/content/pdp/v2/members/') > -1,   // URL search split up to account for guest/logged in users\n            condition2 = settings && settings.url.indexOf('/cart') > -1,                      // URL search split up to account for guest/logged in users\n            condition3 = xhr.statusText == 'OK',\n            condition4 = xhr.responseText.indexOf('addedItems') > -1;\n\n        if (condition1 && condition2 && condition3 && condition4) {\n              var prodId = window.top.location.pathname.split('?')[0].split('/').pop(),\n                ids = bouncex.vars.prod_id ? JSON.parse(bouncex.vars.prod_id) : [];\n              ids.push(prodId);\n              bouncex.setv('prod_id', JSON.stringify(ids));\n              bouncex.setBounceCookie();\n        }\n      } catch (e) {bouncex.err(e);}\n    });\n}\n// //namik: the 4 lines below is code to debug cookie bug\n// var did=bouncex.util.cookies.read('bxDID');\n// if(!did){\n//     bouncex.util.cookies.create({domain:\".sears.com\",days:14, name:\"bxDID\", value:bouncex.cookie.did});\n// }\n// bouncex.setVar('cookie_bug_debug', bouncex.cookie.did);\n","force_https":false,"waypoints":false,"content_width":0,"gai":"","swids":"","sd":0,"ljq":"auto","campaign_id":0,"is_preview":false,"aco":{"first_party_limit":"3500","local_storage":"1"},"cmp":{"gdpr":1,"gmp":0,"whitelist_check":0},"burls":[{"prop":"contains","val":"qa2.ecom.sears.com"},{"prop":"contains","val":"qa3.ecom.sears.com"},{"prop":"contains","val":"qa4.ecom.sears.com"},{"prop":"contains","val":"smobilevip.qa"},{"prop":"contains","val":"smobile2vip.qa"},{"prop":"contains","val":"smobile3vip.qa"},{"prop":"contains","val":"smobilevip.stag"},{"prop":"contains","val":"smobile2vip.stag"},{"prop":"contains","val":"smobile3vip.stag"},{"prop":"contains","val":"smobile4vip.stag"},{"prop":"contains","val":"i-pilot.ch4.intra.sears"}],"ple":false,"fbe":true,"mas":2,"map":1,"gar":true,"ete":1,"ettm":false,"etjs":"bouncex.util = {\n\n\taddNamespace: function(obj, name) {\n\t\tvar namespacedObj = {};\n\t\tfor (var k in obj) {\n\t\t\tif (obj.hasOwnProperty(k)) {\n\t\t\t\tvar namespacedKey = k;\n\t\t\t\tif (k.indexOf(':') === -1) {\n\t\t\t\t\tnamespacedKey = name + ':' + k;\n\t\t\t\t}\n\t\t\t\tnamespacedObj[namespacedKey] = obj[k];\n\t\t\t}\n\t\t}\n\t\treturn namespacedObj;\n\t},\n\n\tgetOrigin: function() {\n\t\treturn window.location.origin || window.location.protocol + '//' + window.location.hostname + (window.location.port ? (':' + window.location.port) : '');\n\t},\n\n\t//copied from bouncex.ibx\n\tgetParam: function(name, qstring) {\n\t\tvar param_string = qstring ? ('?' + qstring) : window.location.href;\n\t\tname = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\t\tvar regexS = \"[\\\\?&#]\"+name+\"=([^&#]*)\";\n\t\tvar regex = new RegExp( regexS );\n\t\tvar results = regex.exec( param_string );\n\t\tif( results == null ) return \"\";\n\t\telse return decodeURIComponent(results[1]);\n\t},\n\n\tgetTimeMs: function() {\n\t\treturn (new Date().getTime());\n\t},\n\n\tisValidInteger: function(val) {\n\t\t// returns true for 0, '0', 1, '1'. False for '', undefined\n\t\treturn !isNaN(parseInt(val));\n\t},\n\n\t//copied from bouncex.ibx\n\tisValidEmail: function(email) {\n\t\tvar regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\treturn regex.test(email);\n\t},\n\n\tisValidUrl: function(url, type) {\n\t\t//JKMD: type could differentiate between absolute/relative, allow mailto links, etc\n\t\tvar regex = /^(http|https):\\/\\/(([a-zA-Z0-9$\\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])) {3})|localhost|([a-zA-Z0-9\\-\\u00C0-\\u017F]+\\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\\/(([a-zA-Z0-9$\\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\\/([a-zA-Z0-9$\\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\\?([a-zA-Z0-9$\\-_.+!*'(),;:@&=\\/?]|%[0-9a-fA-F]{2})*)?(\\#([a-zA-Z0-9$\\-_.+!*'(),;:@&=\\/?]|%[0-9a-fA-F]{2})*)?)?$/;\n\t\treturn regex.test(url);\n\t},\n\n\tmakeQuerystring: function(o) {\n\t\tvar a=[],s='';\n\t\tfor(var k in o) {\n\t\t\tif(!o.hasOwnProperty(k)) continue;\n\t\t\ta.push(k+'='+encodeURIComponent(o[k]));\n\t\t}\n\t\treturn a.join('&');\n\t},\n\n\tmergeObject: function () {\n\t\tvar o = {};\n\t\tfor (var k in arguments) {\n\t\t\tvar a = arguments[k];\n\t\t\tif (typeof a == 'object') {\n\t\t\t\tfor (var k in a) {\n\t\t\t\t\tif (a.hasOwnProperty(k)) o[k] = a[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn o;\n\t}\n};\n\nbouncex.util.cookies = {\n\n\tdomain: window.bouncex.cookie_domain,\n\n\tcreate: function(obj){\n\t\tdefaults = {\n\t\t\tname : '',\n\t\t\tvalue : '',\n\t\t\tdomain : false,\n\t\t\tdays : 14\n\t\t};\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\n\t\tif (!obj.name) { return false; }\n\n\t\tvar date = new Date();\n\t\tdate.setTime(date.getTime() + obj.days * 24 * 60 * 60 * 1e3);\n\t\tvar exp = '; expires=' + date.toGMTString();\n\n\t\tvar cookieString = obj.name + '=' + obj.value + exp + '; path=/;';\n\t\tif (obj.domain){\n\t\t\tcookieString += 'domain=' + obj.domain + ';';\n\t\t}\n\t\tdocument.cookie = cookieString;\n\t},\n\n\tdestroy: function (name) {\n\t\treturn this.create({\n\t\t\tname : name,\n\t\t\tdays : -1,\n\t\t});\n\t},\n\n\tread: function (name) {\n\t\t//return this.multi.get(name);\n\t\tvar t = name + \"=\", vars = document.cookie.split(\";\");\n\t\tfor (var r = 0; r < vars.length; r++) {\n\t\t\tvar i = vars[r];\n\t\t\twhile (i.charAt(0) == \" \")i = i.substring(1, i.length);\n\t\t\tif (i.indexOf(t) == 0)return i.substring(t.length, i.length);\n\t\t}\n\t\treturn null;\n\t}\n};\n\n// if utk is already defined persist whatever listeners it has before wipe\nvar previousListeners = bouncex.utk && bouncex.utk.listeners;\n\nbouncex.utk = {\n\t\n\tlisteners: previousListeners || {},\n\n\taddMetadata: function(obj) {\n\t\tvar m = this.getMetadata();\n\t\treturn bouncex.util.mergeObject(obj, m);\n\t},\n\n\tgetMetadata: function() {\n\t\treturn {\n\t\t\t'page:type': this.getPageType(),\n\t\t\t'customer:hasconverted': (bouncex.cookie.lc?1:0)\n\t\t};\n\t},\n\n\tgetPageType: function() {\n\t\treturn \"\";\n\t},\n\n\thoverItem: function(obj) {\n\t\tvar defaults = {\n\t\t\teventName: 'hover item',\n\t\t\titemTracking: false,\n\t\t\tselector: '',\n\t\t\tmaxItems: 5,\n\t\t\ttimeoutMs: 1000,\n\t\t\tgetItemData: function(el) { return null; },\n\t\t};\n\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\n\t\t//validation here\n\t\tif (!obj.selector) { return null; }\n\n\t\t//register the tracker\n\t\tobj.stop = removeHoverTracking;\n\t\tvar trackerId = bouncex.utk.register(obj);\n\t\tvar timeout;\n\t\tvar ids = [];\n\n\t\tfunction onMouseenter() {\n\t\t\tclearTimeout(timeout);\n\t\t\tvar el = this;\n\t\t\ttimeout = setTimeout(function() {\n\t\t\t\tvar item = obj.getItemData(el);\n\t\t\t\tif (!item.id) { return; }\n\t\t\t\t//if not already tracked\n\t\t\t\tif (ids.indexOf(item.id) === -1) {\n\t\t\t\t\t//add id to list of tracked items\n\t\t\t\t\tids.push(item.id);\n\t\t\t\t\t//track the event\n\t\t\t\t\tvar itemEventData = { eventName: obj.eventName, item: item };\n\t\t\t\t\tbouncex.utk.trackItemInteraction(itemEventData);\n\t\t\t\t\t//track the item\n\t\t\t\t\tif (obj.itemTracking) {\n\t\t\t\t\t\tbouncex.utk.trackItem(item);\n\t\t\t\t\t}\n\t\t\t\t\t//check limits\n\t\t\t\t\tif (ids.length >= obj.maxItems) {\n\t\t\t\t\t\tremoveHoverTracking();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, obj.timeoutMs);\n\t\t}\n\n\t\tfunction onMouseleave() {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\n\t\tfunction addHoverTracking() {\n\t\t\tjQuery(document).on('mouseenter.bx-tracking-hover.' + trackerId, obj.selector, onMouseenter);\n\t\t\tjQuery(document).on('mouseleave.bx-tracking-hover.' + trackerId, obj.selector, onMouseleave);\n\t\t}\n\n\t\tfunction removeHoverTracking() {\n\t\t\tjQuery(document).off('mouseenter.bx-tracking-hover.' + trackerId, obj.selector);\n\t\t\tjQuery(document).off('mouseleave.bx-tracking-hover.' + trackerId, obj.selector);\n\t\t\tclearTimeout(timeout);\n\t\t}\n\n\t\taddHoverTracking();\n\t\treturn trackerId;\n\t},\n\n\tisIdentified: function(){\n\t\treturn !!(bouncex.cookie.uid || bouncex.getBounceCookie('__ibxu'));\n\t},\n\n\tmiw: function(obj) {\n\t\tvar defaults = {\n\t\t\tselector: 'input:not(input[type=button], :input[type=submit], :input[type=reset], :input[type=hidden], :input[type=radio], :input[type=checkbox], :input[type=image], :input[type=password])',\n\t\t\tgetUserData: function(el) {\n\t\t\t\treturn {\n\t\t\t\t\temail : jQuery(el).val(),\n\t\t\t\t\tsource : el.id,\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\t\tif (!obj.selector) { return null; }\n\n\t\t//register the tracker\n\t\tobj.stop = removeUserTracking;\n\t\tvar trackerId = bouncex.utk.register(obj);\n\n\t\tfunction onBlur() {\n\t\t\tvar user = obj.getUserData(this);\n\t\t\tbouncex.utk.trackUser(user);\n\t\t}\n\n\t\tfunction removeUserTracking() {\n\t\t\tjQuery(document).off('blur.miw.' + trackerId, obj.selector);\n\t\t}\n\n\t\tjQuery(document).on('blur.miw.' + trackerId, obj.selector, onBlur);\n\n\t\treturn trackerId;\n\t},\n\n\tmuu: function(){\n\t\tvar match = location.href.match(/([a-zA-Z0-9._\\+-]+(?:@|%40)[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi);\n\t\tif (match){\n\t\t\tbouncex.utk.trackUser({\n\t\t\t\temail: decodeURIComponent(match[0]),\n\t\t\t\tsource: 'URL'\n\t\t\t});\n\t\t}\n\t},\n\n\tquickviewItem: function(obj) {\n\t\tvar defaults = {\n\t\t\teventName: 'view item',\n\t\t\titemTracking: false,\n\t\t\tselector: '',\n\t\t\tgetItemData: function(el) { return null; }\n\t\t};\n\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\t\t//validation here\n\t\tif (!obj.selector) { return null; }\n\n\t\tvar prevVisible = false,\n\t\t\tvisible;\n\n\t\treturn bouncex.utk.setInterval({\n\t\t\tcallback: function() {\n\t\t\t\tvisible = jQuery(obj.selector).is(':visible');\n\t\t\t\tif (visible && !prevVisible) {\n\t\t\t\t\tvar item = obj.getItemData(obj.selector);\n\n\t\t\t\t\tvar itemEventData = { eventName: obj.eventName, item: item };\n\t\t\t\t\tbouncex.utk.trackItemInteraction(itemEventData);\n\t\t\t\t\t//track the item\n\t\t\t\t\tif (obj.itemTracking) {\n\t\t\t\t\t\tbouncex.utk.trackItem(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprevVisible = visible;\n\t\t\t}\n\t\t});\n\t},\n\n\trequestEmail: function(obj) {\n\t\t//make sure email is specified and valid\n\t\tif (!obj['email'] && !obj['user:email']){\n\t\t\treturn false;\n\t\t}\n\n\t\tif (obj['email'] && !bouncex.util.isValidEmail(obj['email'])){\n\t\t\treturn false;\n\t\t}\n\n\t\tif (obj['user:email'] && !bouncex.util.isValidEmail(obj['user:email'])){\n\t\t\treturn false;\n\t\t}\n\n\t\t//JKMD: bouncex.push right now automatically adds namespacing, which would mess up \"campaignid\"\n\t\tparams = {};\n\t\tfor (var k in obj) {\n\t\t\tif (obj.hasOwnProperty(k)){\n\t\t\t\tparams[k.toLowerCase()] = obj[k];\n\t\t\t}\n\t\t}\n\t\tevent_stream_report('requestemail', params);\n\t},\n\n\t//JKMD: long-term plan is to put all of our polling into a single setInterval\n\tsetInterval: function(obj) {\n\t\tvar defaults = {\n\t\t\tmilliseconds: 1000,\n\t\t\tcallback: function() { return null; }\n\t\t};\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\t\tvar intervalId = setInterval(obj.callback, obj.milliseconds);\n\n\t\tobj.stop = removeInterval;\n\t\tvar trackerId = bouncex.utk.register(obj);\n\t\tfunction removeInterval() {\n\t\t\tclearInterval(intervalId);\n\t\t}\n\t\treturn trackerId;\n\t},\n\n\ttrackItem: function(item) {\n\t\tif (typeof(item.id) === 'string'){\n\t\t\titem.id = item.id.trim().toLowerCase();\n\t\t}\n\t\tif (!this.validateItem(item)) {\n\t\t\t//bouncex.log('item failed validation', item);\n\t\t\treturn false;\n\t\t}\n\t\titem = bouncex.util.addNamespace(item, 'item');\n\t\tbouncex.push(['item', item]);\n\t},\n\n\ttrackItemInteraction: function(obj) {\n\t\tvar id = obj.item.id;\n\t\tif (typeof(id) === 'string'){\n\t\t\tid = id.trim().toLowerCase();\n\t\t}\n\t\tvar o = { 'item:id': id };\n\t\to = this.addMetadata(o);\n\t\tbouncex.push([obj.eventName, o]);\n\t},\n\n\ttrackListPage: function(obj){\n\t\tvar defaults = {\n\t\t\teventName: 'view ' + this.getPageType(),\n\t\t\tmaxItems: 6,\n\t\t\tselector: '',\n\t\t\ttitle: '',\n\t\t\turl: jQuery('link[rel=canonical]').attr('href') || window.location.href.split('?')[0],\n\t\t\titemTracking : false,\n\t\t\tgetItemData: function(el) { return null;},\n\t\t\textraEventData: {}\n\t\t};\n\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\n\t\tvar items = jQuery(obj.selector);\n\t\tif (!items || !items.length){\n\t\t\treturn false;\n\t\t}\n\t\tvar itemsTracked = 0;\n\t\tvar itemIds = [];\n\t\tfor (var i = 0; i < items.length && itemsTracked < obj.maxItems; i++) {\n\t\t\tvar item = obj.getItemData(items[i]);\n\t\t\tif (item.id){\n\t\t\t\tif (typeof(item.id) === 'string'){\n\t\t\t\t\titem.id = item.id.trim().toLowerCase();\n\t\t\t\t}\n\t\t\t\t// add id to list\n\t\t\t\titemIds.push(item.id);\n\t\t\t\tif (obj.itemTracking){\n\t\t\t\t\t//track full item\n\t\t\t\t\tthis.trackItem(item);\n\t\t\t\t}\n\t\t\t\titemsTracked++;\n\t\t\t}\n\t\t}\n\n\t\tvar o = {'items:ids' : itemIds.join(','), 'page:url' : obj.url};\n\t\tif (obj.title){\n\t\t\to['page:title'] = obj.title;\n\t\t}\n\t\to = this.addMetadata(o);\n\t\to = bouncex.util.mergeObject(o, obj.extraEventData);\n\t\tbouncex.push([obj.eventName, o]);\n\t},\n\n\ttrackUser: function(user) {\n\t\tif (!user.email && !user.emailHash) {\n\t\t\treturn false;\n\t\t}\n\t\tif (user.email && !bouncex.util.isValidEmail(user.email)){\n\t\t\treturn false;\n\t\t}\n\t\tvar params = bouncex.util.addNamespace(user, 'user');\n\t\tif (user.email) {\n\t\t\tparams['user:email'] = user.email;\n\t\t}\n\t\tif (user.emailHash) {\n\t\t\tparams['user:emailhash'] = user.emailHash;\n\t\t}\n\t\tif (user.campaignId) {\n\t\t\tparams['campaignid'] = user.campaignId;\n\t\t}\n\t\tparams['user:gcr'] = (bouncex && bouncex.cookie) ? bouncex.cookie.gcr : 99;\n\t\tparams['agent'] = 'js';\n\t\tparams['eq'] = 1;\n\n\t\tevent_stream_report('user', params);\n\n\t\tbouncex.cookie.uid = 1;\n\t\tsetBounceCookie();\n\t\t//legacy support\n\t\tbouncex.util.cookies.create({\n\t\t\tname: '__ibxu',\n\t\t\tvalue : '1',\n\t\t\tdomain : '.' + bouncex.util.cookies.domain,\n\t\t\tdays : 365,\n\t\t});\n\n\t},\n\n\tvalidateItem: function(item) {\n\t\tif (!item) { return false; }\n\t\tif (!item.id) { return false; }\n\t\tif (!item.copy) { return false; }\n\t\tif (!item.imageurl || !bouncex.util.isValidUrl(item.imageurl)) { return false; }\n\t\tif (!item.url || !bouncex.util.isValidUrl(item.url)) { return false; }\n\t\treturn true;\n\t},\n\n\tviewItem: function(obj) {\n\t\tvar defaults = {\n\t\t\teventName: 'view item',\n\t\t\titemTracking: true,\n\t\t\tgetItemData: function() { return null; }\n\t\t};\n\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\n\t\tvar item = obj.getItemData();\n\n\t\tif (obj.itemTracking) {\n\t\t\tthis.trackItem(item);\n\t\t}\n\n\t\tif (item.id) {\n\t\t\tvar itemEventData = { eventName: obj.eventName, item: item };\n\t\t\tbouncex.utk.trackItemInteraction(itemEventData);\n\t\t} else {\n\t\t\t//bouncex.log('no item id', obj.eventName, item);\n\t\t}\n\t},\n\n\t//keeping track of the listeners inside tracking\n\tregister: function(obj) {\n\t\tvar id = bouncex.util.getTimeMs() + Math.random();\n\t\tbouncex.utk.listeners[id] = obj;\n\t\treturn id;\n\t},\n\n\t//remove single tracker\n\tstop: function(id) {\n\t\tif (bouncex.utk.listeners.hasOwnProperty(id)) {\n\t\t\tbouncex.utk.listeners[id].stop();\n\t\t\tdelete bouncex.utk.listeners[id];\n\t\t}\n\t},\n\n\t//remove all listeners\n\tstopAll: function() {\n\t\tfor (var id in bouncex.utk.listeners) {\n\t\t\tbouncex.utk.stop(id);\n\t\t}\n\t}\n};\n\nbouncex.utk.cart = {\n\n\tgetCart: function() {\n\t\tif (this.state) {\n\t\t//cached here once we look it up or save\n\t\t\treturn this.state;\n\t\t}else if (this.config.storeCartVariable && bouncex.vars[this.config.storeCartVariable]) {\n\t\t//look up from cvar if it exists\n\t\t\tthis.state = JSON.parse(bouncex.vars[this.config.storeCartVariable]);\n\t\t\treturn this.state;\n\t\t}else {\n\t\t\treturn {};\n\t\t}\n\t},\n\n\tgetCount: function(){\n\t\treturn bouncex.vars[this.config.cartCountVariable];\n\t},\n\n\tinferCount: function(cart) {\n\t\t// return cart.count if specified and valid\n\t\tif (bouncex.util.isValidInteger(cart.count)) {\n\t\t\treturn parseInt(cart.count);\n\t\t} else if (cart.items) {\n\t\t\t// deduce from items length (using qty property if specified)\n\t\t\tvar count = 0;\n\t\t\tfor (var i = 0; i < cart.items.length; i++) {\n\t\t\t\tvar qty = parseInt(cart.items[i].qty) || 1;\n\t\t\t\tcount += qty;\n\t\t\t}\n\t\t\treturn count;\n\t\t}else if (bouncex.util.isValidInteger(this.getCount())){\n\t\t\treturn parseInt(this.getCount());\n\t\t}else{\n\t\t\treturn 0;\n\t\t}\n\t},\n\n\tinit: function(obj) {\n\t\tvar defaults = {\n\t\t\t// lastReplenishment: false,\n\t\t\tstoreCartVariable: 'cart',\n\t\t\tcartCountVariable: 'cart_qty',\n\t\t\tmaxVariableSize: 400,\n\t\t\tstoreValues: ['count', 'items'],\n\t\t\tmaxItems: 10\n\t\t};\n\t\tobj = bouncex.util.mergeObject(defaults, obj);\n\t\tthis.config = obj;\n\n\t\t//JKMD: should we do this via init, or just override explicitly...?\n\t\tthis.replenish = obj.replenish || this.replenish;\n\t\tthis.validateReplenishment = obj.validateReplenishment || this.validateReplenishment;\n\t\tthis.reportReplenishment = obj.reportReplenishment || this.reportReplenishment;\n\n\t\tthis.initFromQuerystring();\n\t\tthis.reportReplenishment();\n\t},\n\n\tinitFromQuerystring: function() {\n\t\tvar bx_cart = bouncex.util.getParam('bx_cart');\n\t\tvar cart = {};\n\t\tthis.replenishing = false;\n\n\t\tif (bx_cart) {\n\t\t\t//JKMD: support base64\n\t\t\tif (bx_cart.charAt(0) !== '{') {\n\t\t\t\tbx_cart = atob(bx_cart);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcart = JSON.parse(bx_cart);\n\t\t\t} catch(e) { console.log(e); return false; }\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.validateReplenishment(cart)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar cartCopy = jQuery.extend(true,{},cart);\n\t\tthis.save(cartCopy);\n\t\tthis.replenishing = true;\n\t\treturn this.replenish(cart);\n\t},\n\n\treplenish: function(cart) {\n\t\treturn null;\n\t},\n\n\tsave: function(cart) {\n\t\tif (!cart) { return false; }\n\t\tthis.state = cart;\n\t\tif (this.config.storeCartVariable) {\n\t\t\tvar storedCart = {};\n\t\t\tif (cart.count === 0) {\n\t\t\t\t// if count is 0, don't store any other info\n\t\t\t\tstoredCart = { count: 0 };\n\t\t\t}else{\n\t\t\t\t//store values specified in settings\n\t\t\t\tfor (var i = 0; i < this.config.storeValues.length; i++) {\n\t\t\t\t\tvar k = this.config.storeValues[i];\n\t\t\t\t\tif (cart.hasOwnProperty(k)) {\n\t\t\t\t\t\tstoredCart[k] = cart[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.checkAndSetVar(storedCart);\n\t\t}\n\t},\n\n\tcheckAndSetVar: function(storedCart) {\n\t\tvar cartString = JSON.stringify(storedCart);\n\t\tif (cartString.length <= this.config.maxVariableSize) {\n\t\t\tbouncex.setv(this.config.storeCartVariable, cartString);\n\t\t\tsetBounceCookie();\n\t\t} else if (storedCart.items && storedCart.items.length) {\n\t\t\tvar lastItemLength = JSON.stringify(storedCart.items[storedCart.items.length-1]).length;\n\t\t\tif ( lastItemLength >= this.config.maxVariableSize) {\n\t\t\t\tstoredCart.items.pop();\n\t\t\t} else {\n\t\t\t\tstoredCart.items.shift();\n\t\t\t}\n\t\t\tthis.checkAndSetVar(storedCart);\n\t\t}\n\t},\n\n\ttrack: function(cart) {\n\t\tvar trackCart = bouncex.util.mergeObject(cart);\n\t\tif (trackCart.items) trackCart.items = JSON.stringify(trackCart.items);\n \t\tif (trackCart.ids) trackCart.ids = trackCart.ids.join(',');\n\t\ttrackCart = bouncex.util.addNamespace(trackCart, 'cart');\n\t\tbouncex.push(['cart', trackCart]);\n\t},\n\n\tupdate: function (cart) {\n\n\t\tif (this.replenishing){\n\t\t\t/* don't fire cart events while replenishing */\n\t\t\treturn false;\n\t\t}\n\n\t\tif (cart.newItem) {\n\t\t\t//if partial, merge new item with stored items\n\t\t\tvar oldCart = this.getCart();\n\t\t\tvar allItems = oldCart.items || [];\n\t\t\tallItems.push(cart.newItem);\n\t\t\tcart.items = allItems;\n\t\t}\n\n\t\t// remove items from beginning of items array if over limit\n\t\tif (this.config.maxItems && cart.items && cart.items.length > this.config.maxItems) {\n\t\t\tcart.items = cart.items.slice(cart.items.length - this.config.maxItems);\n\t\t}\n\n\t\t//set count\n\t\tcart.count = this.inferCount(cart);\n\n\t\t//auto parse ids from items variable if no ids specified\n\t\tif (!cart.ids && cart.items) {\n\t\t\tvar ids = [];\n\t\t\tfor (var i = 0; i < cart.items.length; i++) {\n\t\t\t\tif (cart.items[i].id) {\n\t\t\t\t\tids.push(cart.items[i].id);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ids.length) { cart.ids = ids; }\n\t\t}\n\n\t\tif (cart.newItem || cart.addToCart){\n\t\t\tbouncex.push(['add to cart', bouncex.utk.getMetadata()]);\n\t\t}\n\t\t\n\t\tdelete cart.newItem;\n\t\tdelete cart.addToCart;\n\t\t// save in cart.state, and in cvar if specified\n\t\tthis.save(cart);\n\t\t//track cart\n\t\tthis.track(cart);\n\t\t//fire add to cart event if new item or addToCart flag\n\t},\n\n\tvalidateReplenishment: function(cart) {\n\t\tvar cartCount = bouncex.utk.cart.getCount();\n\t\tif (bouncex.util.isValidInteger(cartCount) && cartCount > 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!cart) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!cart.value && !cart.token && !cart.items) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\treportReplenishment: function() {\n\t\tvar bx_replen = bouncex.util.getParam('bx_replen');\n\t\tif (bx_replen) {\n\t\t\tsetTimeout(function(){\n\t\t\t\tvar cartCount = bouncex.utk.cart.getCount();\n\t\t\t\tbouncex.push(['cart replenish', {'cart:count': cartCount, 'cart:success': cartCount > 0}]);\n\t\t\t}, 1100);\n\t\t}\n\t}\n};\n\n\nbouncex.utk.getPageType = function() {\n\n    if (jQuery('#product').length > 0 || jQuery('#pdp-wrapper').length > 0) {\n\t\treturn 'product';\n\t}\n\tif (jQuery('body').is('.category-page')) {\n\t\treturn 'category';\n\t}\n\tif (document.location.pathname.indexOf('search=') > -1 ) {\n\t\treturn 'search';\n\t}\n\tif (jQuery('body#shoppingcart').length) {\n\t\treturn 'cart';\n\t}\n\tif (document.location.origin.indexOf('mobilecheckout') > -1 && jQuery('.sal-cart-view, .sears-empty-cart-tc-view').length){\n\t\treturn 'mobile cart';\n\t}\n\tif (document.location.hostname == 'm.sears.com' && document.location.hash.indexOf('/cart') > -1 && jQuery('.sal-cart-view, .kmart-empty-cart-tc-view').length){\n\t\treturn 'mobile cart';\n\t}\n\tif (window.utag && utag.data && utag.data.pageType == 'deals'){\n\t\treturn 'deals';\n\t}\n\n\treturn '';\n\n};\n\nbouncex.utk.validateItem = function(item) {\n\tif (!item) { return false; }\n\tif (!item.id) { return false; }\n\tif (!item.copy) { return false; }\n\tif (!item.imageurl || !bouncex.util.isValidUrl(item.imageurl)) { return false; }\n\tif (!item.url || !bouncex.util.isValidUrl(item.url)) { return false; }\n\t/* prevent es urls from being tracked */\n\tif (item.url.indexOf('es/us') > -1){return false};\n\t/* common broken url pattern on translated pages */\n\tif (item.url.indexOf('sears.com//') > -1){return false};\n\t/* prevent non-us prices from being tracked */\n\tif (item.price && item.price.indexOf('$') == -1){return false};\n\treturn true;\n};\n\n//item helpers\nfunction getIdFromUrl(url){\n\treturn typeof url == \"string\" && url.split('?').shift().split('/').pop().toLowerCase();\n}\n\nfunction getPrice(){\n\t/* need to deal with ranges, but exclude other text that may be within price div */\n\tvar priceEls = jQuery('.productdetails-page').find('.product-price-big .price-wrapper');\n\tvar priceTextArr = [];\n\tpriceEls.each(function(){\n\t\tpriceTextArr.push(jQuery(this).text().trim())\n\t})\n\treturn priceTextArr.join(' - ');\n}\n\nfunction getMobileProductId(){\n\tvar url = window.location.href;\n\treturn {\n\t\tid: getIdFromUrl(url)\n\t}\n}\n\nfunction getListpageId(el){\n\tvar url = jQuery(el).find('.card-title > a[bo-href=\"product.url\"]').attr('href');\n\treturn {\n\t\tid: getIdFromUrl(url),\n\t}\n}\n\nfunction getListpageIdMobile(el){\n\tvar url = jQuery(el).find('a:visible[bot-href]').first().attr('bot-href');\n\treturn {\n\t\tid: getIdFromUrl(url),\n\t}\n}\n\nfunction getDealsPageId(el){\n\tvar url = jQuery(el).find('.card-link').first().attr('href');\n\treturn {\n\t\tid: getIdFromUrl(url),\n\t}\n}\n\nfunction addProtocol(urlString){\n\tif (urlString && urlString.indexOf('http') == -1){\n\t\turlString = location.protocol + urlString;\n\t}\n\treturn urlString;\n}\n\nfunction getProductItemData(){\n\tvar url =  addProtocol(jQuery('link[rel=canonical]').attr('href'));\n\tvar imageUrl = addProtocol(jQuery('#overview').find('div[data-id=\"product-image-main\"] > img').attr('src') || jQuery('.media-image.firstImage > img.main-image').attr('src') || utag.data['meta.og:image']);\n\treturn {\n\t\timageurl : imageUrl,\n\t\tid       : getIdFromUrl(url),\n\t\tcopy     : utag.data.productDescription,\n\t\turl      : url,\n\t\tcategory : utag.data.subCategoryName || utag.data.categoryName,\n\t\tpresaleprice : jQuery('.productdetails-page').find('.product-price-regular strike').text().trim(),\n        price: getPrice(),\n        isappliance : bouncex.vars.vertical_name === 'appliances'\n\t}\n}\n\n//cart helpers\nfunction customReport() {\n\tvar bx_replen = bouncex.util.getParam('bx_replen') || (document.location.href.indexOf('https://mobilecheckout.sears.com/wlcc-sal/') > -1 && bouncex.util.getParam('bx_replen', document.referrer));\n\tif (bx_replen) {\n\t\tsetTimeout(function(){\n\t\t\tvar cartCount = bouncex.utk.cart.getCount();\n\t\t\tbouncex.push(['cart replenish', {'cart:count': cartCount, 'cart:success': cartCount > 0}]);\n\t\t}, 1100);\n\t}\n}\n\nfunction customValidate (cart) {\n\tif (!cart) {\n\t\treturn false;\n\t}\n\n\tif (!cart.value && !cart.token && !cart.items) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nfunction replenish(cart){\n\tvar cartCount = bouncex.utk.cart.getCount();\n    bouncex.log(cart)\n\n\tvar mobileSite = location.hostname.indexOf('m.sears.com') > -1;\n\tvar redirectUrl = mobileSite ? 'https://m.sears.com/cart?bx_replen=true' : 'https://www.sears.com/crsp/mx/cart#/cart#bx_replen=true';\n\t\n\tif (bouncex.util.isValidInteger(cartCount) && cartCount > 0) {\n\t/* if items already in cart, redirect to cart */\n\t\twindow.location.href = redirectUrl;\n\t\treturn;\n\t}\n\n\t// Cross-device replen only works if not-logged in.\n\t// if on desktop + user was NOT logged in on Mobile at time of add_to_cart, replenish\n\tif (!mobileSite && cart.value.indexOf('mobile loggedin') < 0) {\n\t\tbouncex.util.cookies.create({\n\t\t\tname: 'irp',\n\t\t\tvalue: cart.token,\n\t\t});\n\t\twindow.location.href = redirectUrl;\n\t// if on mobileSite + user was NOT logged in on Desktop at time of add_to_cart event, replenish \n\t} else if (mobileSite && cart.value.indexOf('desktop loggedin') < 0) {\n\t\tbouncex.util.cookies.create({\n\t\t\tname: 'irp',\n\t\t\tvalue: cart.token,\n\t\t});\n\t\twindow.location.href = redirectUrl;\n\t} else {\n\t\twindow.location.href = \"https://www.sears.com/?bx_replen=true\";\n\t}\n\t\n\t// if (!mobileSite && cart.value == 'desktop') {\n\t// /* desktop to desktop replen */\n\t// \tbouncex.util.cookies.create({\n\t// \t\tname: 'irp',\n\t// \t\tvalue: cart.token,\n\t// \t});\n\t// \twindow.location.href = redirectUrl;\n\t// } else{\n\t// \t/* if we can't replenish and no items in cart, redirect to deals page */\n\t// \twindow.location.href = \"//www.sears.com/deals/center/hot-deals.html/dealGrid?bx_replen=true\";\n\t// }\n}\n\nfunction updateFullCart(currentCount, oldCount){\n\tvar cartData = {\n\t\tcount: currentCount,\n\t};\n\n\tif (currentCount != 0){\n\t\tcartData.items = getCartItems();\n\t\tcartData.addToCart = (currentCount > oldCount);\n\n\t\tif (currentCount > 0 && !cartData.items.length){\n\t\t\t/* prevent event if no ids */\n\t\t\treturn false;\n\t\t}\n\n\t\tif (isMobile()){\n\t\t\tcartData.value = bouncex.vars.logged_in ? \"mobile loggedin\" : 'mobile';\n\t\t\tcartData.token = getBounceCookie('irp');\n\t\t\tcartData.loggedin = bouncex.vars.logged_in ? 1 : 0;\n\t\t} else{\n\t\t\tcartData.value = bouncex.vars.logged_in ? \"desktop loggedin\" : 'desktop';\n\t\t\tcartData.token = getBounceCookie('irp');\n\t\t\tcartData.loggedin = bouncex.vars.logged_in ? 1 : 0;\n\t\t}\t\t    \n\n\t\t// if (isMobile()){\n\t\t// \tcartData.value = 'mobile';\n\t\t// \tcartData.token = getBounceCookie('irp');\n\t\t// \tcartData.loggedin = bouncex.vars.logged_in ? 1 : 0;\n\t\t// } else{\n\t\t// \tcartData.value = 'desktop';\n\t\t// \tcartData.token = getBounceCookie('irp');\n\t\t// \tcartData.loggedin = bouncex.vars.logged_in ? 1 : 0;\n\t\t// }\n\n\t}\n\n\tbouncex.utk.cart.update(cartData);\n}\n\n\nfunction isMobile(){\n\treturn document.location.hostname == \"mobilecheckout.sears.com\" || document.location.hostname == \"m.sears.com\";\n}\n\nfunction onCountChange(callback) {\n\tvar currentCount = bouncex.utk.cart.getCount();\n\tvar oldCount = bouncex.utk.cart.getCart().count || 0;\n\tif (currentCount != oldCount) {\n\t\treturn callback(currentCount, oldCount);\n\t}\n}\n\nfunction trackEmptyCart(currentCount, oldCount){\n\tif (oldCount > 0 && currentCount == 0){\n\t\tbouncex.utk.cart.update({ count: 0});\n\t}\n}\n\nfunction trackNewItem(currentCount, oldCount){\n\tvar cart = {\n\t\tcount: currentCount\n\t};\n\tif (cart.count > 0){\n\t\tcart.value = bouncex.vars.logged_in ? \"desktop loggedin\" : 'desktop';\n\t\t// cart.value = 'desktop';\n\t\tcart.token = getBounceCookie('irp');\n\t\tcart.newItem = {id: getIdFromUrl(location.href)};\n\t\tcart.loggedin = bouncex.vars.logged_in ? 1 : 0;\n\t}\n\tbouncex.utk.cart.update(cart);\n}\n\nfunction getCartItems() {\n\tvar items = [];\n\tif (bouncex.utk.getPageType() == 'cart'){\n\t\tvar itemEls = jQuery('.description-item > a.item-desc');\n\t\tif (itemEls.length){\n\t\t\titemEls.each(function(i, el){\n\t\t\t\titems.push({ id: getIdFromUrl(itemEls.eq(i).attr('href'))});\n\t\t\t});\n\t\t\treturn items;\n\t\t}\n\t}\n\tif (bouncex.utk.getPageType() == 'mobile cart' && window.certona && certona.itemid && typeof(certona.itemid) == 'string'){\n\t\tvar cartItems = certona.itemid.split(';');\n\t\tfor (var i = 0; i < cartItems.length; i++) {\n\t\t\tvar id = 'p-' + cartItems[i].toLowerCase();\n\t\t\titems.push({id: id });\n\t\t}\n\t\treturn items;\n\t}\n\n\treturn items;\n}\n\nfunction getGroupId(){\n    var skuRegex = /([0-9A-Z])\\w+/;\n    return window.location.href.split('?').shift().split('/').pop().match(skuRegex)[0];\n}\n\nfunction skuTrack() {\n    var groupId = getGroupId();\n    var id = isMobile() ? getIdFromUrl(window.location.href) : getIdFromUrl(addProtocol(jQuery('link[rel=canonical]').attr('href')));\n\n    var item_feed = window.variantSelectedSku && window.variantSelectedSku.sku ? window.variantSelectedSku.sku : false;\n\n    if (bouncex.vars.item_feed_id && groupId && id && item_feed) {\n\t  \tbouncex.push(['select_sku', {\n\t  \t\t'item:id': id,\n\t  \t\t'item:itemgroupid': groupId,\n\t  \t\t'item:feedid': item_feed\n\t  \t}]);\n    }\n}\n\nbouncex.utk.init = function() {\n\tbouncex.utk.stopAll();\n\tif (document.location.pathname.indexOf('gift-cards.html') === -1 && document.location.pathname.indexOf('giftCard/emailCards') == -1){\n\t\t/* exclude gift card inputs */\n\t\tbouncex.utk.miw({\n\t\t\tselector: 'input:not(#find_registry #email, #thirdPartyEmail, #multi_recip_email, #gc_multi_confirm_email, .gfrecpntinput, .gfCnfrmInput, form[data-share=\"email\"] > fieldset > input, .third-party-email-input, .third-party-name-input, input[type=button], :input[type=submit], :input[type=reset], :input[type=hidden], :input[type=radio], :input[type=checkbox], :input[type=image], :input[type=password])'\n\t\t});\n\t}\n\n    var pageType = bouncex.utk.getPageType();\n\tif (pageType == 'product'){\n\t\tif (isMobile()){\n\t\t\tvar outOfStock = jQuery('.font-color-savings:visible:contains(Out of stock)').length && jQuery('.noPickupAvailableBundles:visible').length;\n\t\t\tif ( !outOfStock ){\n\t\t\t    if(bouncex.testmode.bxdev){\n    \t\t\t\tbouncex.utk.viewItem({\n    \t\t\t\t\titemTracking: false,\n    \t\t\t\t\tgetItemData: getMobileProductId\n    \t\t\t\t});\n\t\t\t    }else{\n\t\t\t        bouncex.push(['view item', {\n                \t\t'item:id': getIdFromUrl(window.location.href),\n                \t\t'item:itemgroupid': getGroupId()\n                \t}]);\n\t\t\t    }\n\t\t\t}\n\t\t}else{\n\t\t\t/* do not track out of stock items */\n\t\t\tvar langAttr = jQuery('html').attr('lang');\n\t\t\t//usData should be false if on non US version of product page, to prevent item data tracking\n\t\t\tvar usData = window.location.hostname == \"www.sears.com\" && (!langAttr || langAttr == 'en') && window.location.pathname.indexOf('/es/') === -1 && !(window.i18nCookieData && i18nCookieData.currencyCode != \"USD\");\n\t\t\t\n\t\t\tif(bouncex.testmode.bxdev){\n\t\t\t\tbouncex.utk.viewItem({\n\t\t\t\t\titemTracking: usData,\n\t\t\t\t\tgetItemData: getProductItemData,\n\t\t\t\t});\n\t\t\t}else{ \n\t\t\t\tvar url =  addProtocol(jQuery('link[rel=canonical]').attr('href'));\n\t\t\t\tvar imageUrl = addProtocol(jQuery('#overview').find('div[data-id=\"product-image-main\"] > img').attr('src') || jQuery('.media-image.firstImage > img.main-image').attr('src') || utag.data['meta.og:image']);\n\t\t\t\tvar instock = jQuery('.save-story').text().toLowerCase().indexOf('temporarily unavailable') === -1;\n\t\t\t\t\t\n\t\t\t\tbouncex.push(['item', {\n\t\t\t\t\tid: getIdFromUrl(url),\n\t\t\t\t\tcopy: window.bt.productDescription,\n\t\t\t\t\timageurl: imageUrl,\n\t\t\t\t\tcategory: window.bt.categoryName,\n\t\t\t\t\turl: url,\n\t\t\t\t\tpresaleprice : jQuery('.productdetails-page').find('.product-price-regular strike').text().trim(),\n\t\t\t\t\tprice:  getPrice(),\n                    instock: instock ? 1 : 0,\n                    isappliance : bouncex.vars.vertical_name === 'appliances'\n\t\t\t\t}]);\n\t\t\t\t\n\t\t\t\tbouncex.push(['view item', {\n\t\t\t\t\t'item:id': getIdFromUrl(url),\n\t\t\t\t\t'item:itemgroupid': getGroupId()\n\t\t\t\t}]);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pageType == 'category' || pageType == 'search'){\n\t\tbouncex.utk.hoverItem({\n\t\t\tselector: '.card-container.card-border, .card-container[tire-card=\"tire-card\"]',\n\t\t\titemTracking: false,\n\t\t\tgetItemData: getListpageId\n\t\t});\n\n\t\tif (isMobile()){\n\t\t\t/* view search + category events on mobile */\n\t\t\tbouncex.utk.trackListPage({\n\t\t\t\turl: bouncex.utils.url.allowParams().replace('m.sears.com', 'www.sears.com'),\n\t\t\t\tselector: '.largecard',\n\t\t\t\tgetItemData: getListpageIdMobile,\n\t\t\t\tmaxItems: 12,\n\t\t\t});\n\t\t}else{\n\t\t\t/* view search + category events on desktop */\n\t\t\tbouncex.utk.trackListPage({\n\t\t\t\turl: bouncex.utils.url.allowParams(),\n\t\t\t\tselector: '.card-container.card-border, .card-container[tire-card=\"tire-card\"]',\n\t\t\t\tgetItemData: getListpageId,\n\t\t\t\tmaxItems: 12,\n\t\t\t});\n\t\t}\n\n\t}\n\n\tif (pageType == 'deals'){\n\t\tbouncex.utk.hoverItem({\n\t\t\tselector: '.product-promo-card, .rewards-product-promo',\n\t\t\titemTracking: false,\n\t\t\tgetItemData: getDealsPageId\n\t\t});\n\t}\n\n\tvar emInput = jQuery('#emailSignupInput');\n\tif (isMobile() && emInput.length && !bouncex.vars.requested_email){\n\t\tvar email;\n\t\temInput.on('blur.ibx', function(){\n\t\t\temail = emInput.val();\n\t\t});\n\t\tvar submitIntId = bouncex.utk.setInterval({\n\t\t\tcallback: function(){\n\t\t\t\tif (jQuery('email-component').find('.emailSignupSuccess').is(':visible') && email && !bouncex.vars.requested_email){\n\t\t\t\t\tvar parentInboxCampaign = 553588;\n\t\t\t\t\tvar requestData = { campaignId: parentInboxCampaign, \"user:email\": email, \"email\":email };\n\t\t\t\t\tif (bouncex.vars.ibx_test) { requestData.testmode = 1; }\n\t\t\t\t\tbouncex.utk.requestEmail(requestData);\n\t\t\t\t\tbouncex.setv('requested_email', true);\n\t\t\t\t\tbouncex.setBounceCookie();\n\t\t\t\t\tbouncex.utk.stop(submitIntId);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\n\tbouncex.utk.cart.init({\n\t\tcartCountVariable: 'items_in_cart',\n\t\tstoreValues: ['count', 'items', 'loggedin', 'token', 'value'],\n\t\treplenish: replenish,\n\t\treportReplenishment : customReport,\n\t\tvalidateReplenishment : customValidate\n\t});\n\n\t/* fire cart event if newly logged in (but do NOT fire add to cart event) -SK */\n\tif (bouncex.vars.logged_in && !bouncex.utk.cart.getCart().loggedin && bouncex.utk.cart.getCount() > 0){\n\t\tif(isMobile()){\n\t\t\tbouncex.utk.cart.update({\n\t\t\t\tloggedin:1,\n\t\t\t\tvalue:'mobile loggedin',\n\t\t\t\ttoken: getBounceCookie('irp'),\n\t\t\t\titems: bouncex.utk.cart.getCart().items || '',\n\t\t\t\tcount: bouncex.utk.cart.getCount(),\n\t\t\t\taddToCart: false,\n\t\t\t});\n\t\t} else {\n\t\t\tbouncex.utk.cart.update({\n\t\t\t\tloggedin:1,\n\t\t\t\tvalue:'desktop loggedin',\n\t\t\t\ttoken: getBounceCookie('irp'),\n\t\t\t\titems: bouncex.utk.cart.getCart().items || '',\n\t\t\t\tcount: bouncex.utk.cart.getCount(),\n\t\t\t\taddToCart: false,\n\t\t\t});\n\t\t}\n\n\t// if (!isMobile() && bouncex.vars.logged_in && !bouncex.utk.cart.getCart().loggedin && bouncex.utk.cart.getCount() > 0){\n\t\t// bouncex.utk.cart.update({\n\t\t// \tloggedin:1,\n\t\t// \tvalue:'desktop',\n\t\t// \ttoken: getBounceCookie('irp'),\n\t\t// \titems: bouncex.utk.cart.getCart().items || '',\n\t\t// \tcount: bouncex.utk.cart.getCount(),\n\t\t// \taddToCart: false,\n\t\t// });\n\t}\n\n\tif (!isMobile() && jQuery('#checkout[subid=fulfillment]').length){\n\t\t/* if on first step of checkout flow, fire new cart event because token may need to be updated -SK */\n\t\tvar newCartInfo = {\n\t\t\ttoken : getBounceCookie('irp'),\n\t\t\taddToCart: false,\n\t\t};\n\t\tbouncex.utk.cart.update(jQuery.extend(bouncex.utk.cart.getCart(), newCartInfo));\n\t}\n\n\tvar replenishing = document.location.href.indexOf('bx_replen=true') > -1;\n\tif (pageType == 'mobile cart' && !replenishing){\n\t\t/* on mobile, only track cart changes on cart page load */\n\t\tonCountChange(updateFullCart);\n\t\t/* track if cart empties */\n\t\tbouncex.utk.setInterval({\n\t\t\tcallback : function(){\n\t\t\t\tonCountChange(trackEmptyCart);\n\t\t\t},\n\t\t});\n\t} else if (pageType == 'cart' && !replenishing){\n\t\tonCountChange(updateFullCart);\n\t\tbouncex.utk.setInterval({\n\t\t\tcallback : function(){\n\t\t\t\tonCountChange(updateFullCart);\n\t\t\t},\n\t\t});\n\t} else if (pageType == 'product' && !isMobile()){\n\t\tbouncex.utk.setInterval({\n\t\t\tcallback : function(){\n\t\t\t\tonCountChange(trackNewItem);\n\t\t\t},\n\t\t});\n\t}\n\n\t\t/* custom tracking for logged in users -SK */\n\tif (!bouncex.utk.isIdentified() && !isMobile()){\n\t\ttry {\n\t\t\tvar userCookie = getBounceCookie('cust_info');\n\t\t\tvar emailId = JSON.parse(decodeURIComponent(userCookie)).customerinfo.emailId;\n\t\t\tif (emailId){\n\t\t\t\tbouncex.utk.trackUser({\n\t\t\t\t\temailHash: emailId,\n\t\t\t\t\tsource: 'LoggedIn'\n\t\t\t\t});\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tbouncex.err(e);\n\t\t}\n\t}\n\n    bouncex.et.onVarChange('item_feed_id', skuTrack);\n\n};\n\n\nbouncex.utk.init();\n","dge":true,"bxidLoadFirst":false,"gbi_enabled":0,"gbi":{"rblocks":null},"bpush":false,"pt":null,"els":{"PDPDesktopBreadcrumbs":"#product #gnf_breadcrumb","PDPMobilePageWrapper":"#pdp-wrapper"},"vars":[{"name":"logged_in","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var $desktopMenu = jQuery('#profileArea');\n    if ( $desktopMenu.length > 0 ) {\n        return $desktopMenu.hasClass('loggedIn');\n    } else if ( window.localStorage && window.localStorage.loginStatus ) {\n        return localStorage.loginStatus !== 'guest';\n    }\n})()","trigger":""},{"name":"items_in_cart","polling":"all","persist":"no","page_types":[],"testmode":false,"default":0,"code":"(function() {\n    var $desktopCartItems = jQuery('.cartItems');\n    var $mobileCartItems = jQuery('.header-button.cart');\n    if ($desktopCartItems.length > 0) {\n        if ($desktopCartItems.text() === '') {\n            return '0';\n        } else {\n            return $desktopCartItems.text();\n        }\n    } else if ($mobileCartItems.length > 0) {\n        if ($mobileCartItems.find('.count.cart').length > 0) {\n            return $mobileCartItems.find('.count.cart').text();\n        } else {\n            return '0';\n        }\n    }\n})();","trigger":""},{"name":"product_page","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"jQuery('#product').length > 0 || jQuery('#pdp-wrapper').length > 0","trigger":""},{"name":"modal_present","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"jQuery('#modalIframe').length > 0","trigger":""},{"name":"category","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var $desktopCategoryHeader = jQuery('#subcat-title').find('h1');\n    var $mobileCategoryHeader = jQuery('.resultsFound').find('.ptext');\n    if ( $desktopCategoryHeader.length > 0 ) {\n        return jQuery.trim($desktopCategoryHeader.text());\n    } else if ( $mobileCategoryHeader.length > 0 ) {\n        return jQuery.trim($mobileCategoryHeader.text());\n    } else {\n        return false;\n    }\n})()","trigger":""},{"name":"items_in_category","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var $desktopCategoryHeader = jQuery('#subcat-title').find('span');\n    var $mobileCategoryHeader = jQuery('.resultsFound').find('.pcount');\n    if ( $desktopCategoryHeader.length > 0 ) {\n        return jQuery.trim($desktopCategoryHeader.text().replace('items',''));\n    } else if ( $mobileCategoryHeader.length > 0 ) {\n        return jQuery.trim($mobileCategoryHeader.text().replace('results found',''));\n    } else {\n        return false;\n    }\n})()","trigger":""},{"name":"cbar_step","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"null","trigger":""},{"name":"page_type","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n    if (jQuery('#product').length > 0 || jQuery('#pdp-wrapper').length > 0) {\n        return 'product';\n    } else if ( typeof window.getPageType === 'function') {\n        return window.getPageType();\n    } else if ( window.shc && typeof window.shc.getPageType === 'function') {\n      return window.shc.getPageType();\n    }\n}());","trigger":""},{"name":"vertical_name","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){ \n    var vertical = false;\n      if ( typeof window.omVrt === 'string' ) { \n          vertical =  window.omVrt.toLowerCase(); \n      } else if ( localStorage.getItem('CurrentVertical') !== null ) { \n          vertical= localStorage.getItem('CurrentVertical').toLowerCase().split('-').join(' & '); \n      } else if ( bouncex.getBounceCookie('__CurrentVertical') !== null ) { \n          vertical =  bouncex.getBounceCookie('__CurrentVertical').toLowerCase().split('-').join(' & ');\n      } \n      \n      var vertical_list = [\"baby\",\"beauty & health\", \"home\", \"outdoor\", \"fitness & sports\", \"seasonal\", \"automotive\", \"lawn & garden\", 'beauty', 'health & wellness', 'auto', 'baby', 'home', 'outdoor', ''];      \n      if (vertical_list.indexOf(vertical) > -1){\n          vertical += \" products\";\n      }\n      return vertical;\n  })();","trigger":""},{"name":"specific_category","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n\tvar category = false;\n    var $desktopBreadcrumbs = jQuery('.breadcrumb:not(.home):not(.parbase)');\n    var $mobileCategory = jQuery('.resultsFound').find('.ptext');\n    var $difMobileCategory = jQuery('.h1-title-style span');\n    \n    if ( $desktopBreadcrumbs.length ) {\n        var difference = window.getPageType() === 'product' ? 2 : 1;\n        category = $desktopBreadcrumbs.eq($desktopBreadcrumbs.length-difference).text().trim().toLowerCase();\n    } else if ( $mobileCategory.length ) {\n        category = $mobileCategory.text().trim().toLowerCase();\n    } else if($difMobileCategory.length && window.location.href.indexOf('m.kmart') > -1){\n\t\tcategory = $difMobileCategory.text().toLowerCase();\n\t} else if ( typeof window.z === 'string' ) {\n        var breadcrumbs = decodeURIComponent(window.z).replace(/,\\d+$/, '').split(' > ');\n        category = breadcrumbs[breadcrumbs.length-1].toLowerCase();\n    } else if ( typeof window.omVrt === 'string' ) {\n        category = window.omVrt.toLowerCase();\n    }\n\n    var category_list = [\"baby\",\"beauty & health\", \"home\", \"outdoor\", \"fitness & sports\", \"seasonal\", \"automotive\", \"lawn & garden\", 'beauty', 'health & wellness', 'auto', 'baby', 'home', 'outdoor'];\n    if (category_list.indexOf(category) > -1){\n        category += \" products\";\n    }\n    return category;\n}());","trigger":""},{"name":"s_prop22_storage","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"","code":"null;","trigger":""},{"name":"s_prop23_storage","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"","code":"null;","trigger":""},{"name":"points_customer","polling":"all","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"jQuery('.redeem-container-right strong, .white-text strong').text().replace(/[^0-9.]/g,'') || null;","trigger":""},{"name":"points_cart","polling":"all","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"(function() {\r\n    var points = jQuery('.syw-dollar-amt:last,.sywDollarAmt:last').contents();\r\n    if (points.length > 0) {\r\n        if (points[2]) {\r\n            return points[1].textContent + '.' + points[2].textContent;\r\n        } else {\r\n            return points[1].textContent;\r\n        }\r\n    }\r\n    return null;\r\n})();","trigger":""},{"name":"products_tracked","polling":"none","persist":"no","page_types":[],"testmode":true,"default":"false","code":"/*JSON.parse(localStorage.getItem('bxProdHist')).length;*/","trigger":""},{"name":"ibx_test","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"location.href.indexOf('ibx_test') >= 0 || null;","trigger":""},{"name":"prod_id","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"(function(){\n\tif (\n\t\twindow.location.hostname.indexOf('m.sears.com') === -1 &&\n\t\twindow.location.pathname.indexOf('/cart') > -1 &&\n\t\twindow.utag &&\n\t\twindow.utag.data &&\n\t\twindow.utag.data.items &&\n\t\twindow.utag.data.items.length\n\t) {\n\t\tvar ids = utag.data.items.map(function(item){\n\t\t\treturn item.ssin;\n\t\t});\n\n\t\tids = ids.filter(function(item){\n\t\t\treturn !!item;\n\t\t});\n\n\t\treturn JSON.stringify(ids);\n\t}\n\telse {\n\t\treturn null;\n\t}\n}());","trigger":""},{"name":"test_vertical","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n\tif ( typeof window.omVrt === 'string' ) {\n\t\treturn window.omVrt;\n\t} else if ( localStorage.getItem('CurrentVertical') !== null ) {\n\t\treturn localStorage.getItem('CurrentVertical');\n\t} else if ( bouncex.getBounceCookie('__CurrentVertical') !== null ) {\n\t\treturn bouncex.getBounceCookie('__CurrentVertical');\n\t}\n})();","trigger":""},{"name":"load_perf","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"","code":"/*namik:testing*/\n(function(){\n  if(typeof performance != 'undefined' && performance.timing && performance.timing.navigationStart){\n\t\t\treturn (getTimeMs()-performance.timing.navigationStart);\n\t\t} else {\n\t\t\treturn -1;\n\t\t}})();","trigger":""},{"name":"is_syw_member","polling":"none","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"(function() {if ('localStorage' in window && window.localStorage !== null) {\n  if (localStorage.encryptedMemberID) {\n    return true;\n  }\n}})();","trigger":""},{"name":"is_marketplace","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    if (jQuery('#pdp-wrapper').length > 0) {\n        return jQuery('#fulfillmentContainer').find('.soldBy').text().indexOf('Sold by Sears') === -1;\n    }\n    if (    \n    jQuery('#product').length > 0) {\n        if (window.utag && window.utag.data && typeof window.utag.data.isProductMarketplace !== 'undefined') {\n            return window.utag.data.isProductMarketplace == 'true';\n        }\n    }\n})();","trigger":""},{"name":"product_price","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var desktopClothes = jQuery('.span8.col2').find('li.product-price-big').text().trim().replace('$', '') || null;\n    var desktopOther = jQuery('#rightrail').find('.price-wrapper:visible').last().text().replace('$','') || null;\n    var mobileSale = jQuery('.pdp_orginialpricewrapper').find('div.title-2.font-Open-Sans-Semibold.font-Open-Sans.lowestPrice').find('span.ng-binding:first').text().replace('$', '');\n    var mobileNonSale = jQuery('.pdp-float-height.ng-scope').text().replace(/[^0-9.]/g, '').trim()\n\n    var total = desktopClothes || desktopOther || mobileSale || mobileNonSale\n\n    total.indexOf('-') > -1 ? total = total.split(' - ')[0] : total = total\n    return total.replace(',', '')\n})()","trigger":""},{"name":"eligible_points","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n\tvar rewardText = jQuery('#dynamic-pricing-section_rewards-summary .rewards').text();\n\treturn rewardText.indexOf('$') > -1 ? rewardText.replace(/[^\\d$.-]/g, '').replace(/\\$/g,'')  : jQuery('.breakdown-panel_total-points').text().replace(/[^\\d$.-]/g, '').replace(/\\$/g,'');\n})();","trigger":""},{"name":"dollars_saved","polling":"vars","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n\tvar match;\n\tvar saved; \n\t\n\tif (jQuery('li.product-clearance').length > 0){\n\t    var regularPrice = parseFloat(jQuery('figure.productPricePanel-page .regular-price-messaging .price-wrapper').text().replace('$', '')).toFixed(2);\n\t    var clearancePrice = parseFloat(jQuery('.redSalePrice').text().trim().replace('$', '')).toFixed(2);\n\t    saved = regularPrice - clearancePrice;\n    } else if (window.location.href.indexOf('m.sears.com') > -1) {\n        if (jQuery('#mapPriceModule .font-color-savings').text().match(/(\\$[0-9]+)[.]*/) !== null){\n            match = jQuery('#mapPriceModule .font-color-savings').text().match(/(\\$[0-9]+)[.]*/);\n        } else {\n            saved = parseFloat(jQuery('.pdp-line-through').text().trim().replace('$','')).toFixed(2) - parseFloat(jQuery('div.lowestPrice').clone().children().remove().end().text().trim().replace('$','')).toFixed(2);\n        }\n\t} else {\n        match = jQuery('.product-price-savings .price-wrapper').text().match(/(\\$[0-9]+)[.]*/);\n\t}\n\t\n\t\n\tif (saved){\n\t    return '$' + saved.toFixed(2);\n\t} else if (match && match.length > 1) {\n\t\treturn match[1];\n\t}\n})();","trigger":""},{"name":"number_of_items","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"0","code":"Number(jQuery('.pcount span').text());","trigger":""},{"name":"shipping_unavailable","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    if (bouncex.vars.product_page) {\n        if (window.location.href.indexOf('m.sears.com') > -1) {\n            return jQuery('.shipDeliveryOption p:contains(\"Out of stock\"):visible').length > 0;\n        } else {\n            return jQuery('span:contains(\"Shipping Temporarily Unavailable\")').length > 0;\n        }\n    }\n})();","trigger":""},{"name":"percentage_off","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n  var fullPrice; \n  var salePrice; \n  var inlinePercent; \n  \n  if (bouncex.vars.product_page && bouncex.vars.dollars_saved) {\n    if (window.location.href.indexOf('m.sears.com') > -1) {\n        inlinePercent = parseInt(jQuery('span[ng-hide=\"softPrice\"] span.title-5').text().split('%')[0]);\n    } else if (jQuery('li.product-clearance').length > 0){\n        fullPrice = parseFloat(jQuery('figure.productPricePanel-page .regular-price-messaging .price-wrapper').text().replace('$', '')).toFixed(2);\n        salePrice = fullPrice - parseFloat(bouncex.vars.dollars_saved.replace(/^\\D/g,''));\n    } else {\n        fullPrice = jQuery('.product-price-regular .price-wrapper:eq(0)').length > 0 ? parseFloat(jQuery('.product-price-regular .price-wrapper:eq(0)').text().replace(/^\\D|,/g,'')) : parseFloat(jQuery('.pdp_originalpricetext .pdp-line-through:eq(0)').text().trim().replace(/^\\D|,/g,''));\n        salePrice = fullPrice - parseFloat(bouncex.vars.dollars_saved.replace(/^\\D/g,''));\n    }\n  }\n  \n  return inlinePercent ? inlinePercent : Math.round((fullPrice - salePrice) / fullPrice * 100);   \n})();","trigger":""},{"name":"ever_logged_in","polling":"all","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"bouncex.vars.logged_in || null;","trigger":""},{"name":"discount_number","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"0","code":"(function() {\n  if (bouncex.vars.category) {\n    return Number(jQuery('.sub-filter:contains(\"All Discounted Items\"):eq(0) .count').text().replace(/[\\D]/g, ''));\n  }\n}());","trigger":""},{"name":"requested_email","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"null;","trigger":""},{"name":"cart","polling":"none","persist":"permanent","page_types":[],"testmode":false,"default":"","code":"null;","trigger":""},{"name":"free_cash","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var getParam = function(name, qstring) {\n        var param_string = qstring ? ('?' + qstring) : window.location.href;\n        name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n        var regexS = \"[\\\\?&#]\"+name+\"=([^&#]*)\";\n        var regex = new RegExp( regexS );\n        var results = regex.exec( param_string );\n        if( results == null ) return \"\";\n        else return decodeURIComponent(results[1]);\n    };\n\n    return getParam('FCID') ? getParam('FCID') : false;\n})()","trigger":""},{"name":"mobile_checkout_prod_id","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"(function() {\n\tif (\n\t\twindow.location.host === 'm.sears.com' &&\n\t\twindow.WLCC_SRV &&\n\t\twindow.WLCC_SRV.checkoutItemSrv &&\n\t\twindow.WLCC_SRV.checkoutItemSrv.allItems\n\t) {\n\t\tvar items = window.WLCC_SRV.checkoutItemSrv.allItems;\n\t\tvar prodIds = [];\n\n\t\titems.forEach(function(item) {\n\t\t\tif (item.ssin) prodIds.push(item.ssin);\n\t\t});\n\n\t\treturn JSON.stringify(prodIds);\n\t}\n})();","trigger":""},{"name":"checkout_page_type","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n  var checkoutBreadcrumbs = jQuery('title').text();\n  var mobileCheckout = jQuery('.acc-tab-inner').text();\n  var mobileDeliverySchedule = jQuery('.sal-shipping-fulfillment.delivery-calendar-fulfillment.ng-scope .container h5.ng-binding');\n  var payment = jQuery('.text-center.page-title.show-for-phone-only.denim.ng-scope').text().trim();\n  \n  if(window.location.href.indexOf('m.sears') > -1){\n    if(mobileCheckout == 'Shipping'){\n      return 'shipping';\n    }else if(payment== 'Payment Options'){\n      return 'billing';\n    }else if(mobileCheckout == \"Delivery\" || mobileDeliverySchedule == \"Schedule Delivery\"){\n      return 'delivery';\n    }\n  }else{\n    if(checkoutBreadcrumbs === \"Fulfillment\" && jQuery('.page-title.ng-scope').text().trim() === \"Delivery\" || checkoutBreadcrumbs === \"Fulfillment\" && jQuery('.page-title.ng-scope').text().trim() == \"Shipping&Delivery\"){\n      return 'delivery';\n    }else if(checkoutBreadcrumbs === \"Payment\"){\n      return 'billing';\n    }else if(checkoutBreadcrumbs === \"Review\"){\n      return 'review';\n    }\n  }\n})();","trigger":""},{"name":"user_identified","polling":"vars","persist":"no","page_types":[],"testmode":false,"default":"false","code":"!!(bouncex.cookie.uid || bouncex.getBounceCookie('__ibxu'));","trigger":""},{"name":"scheduler_completed","polling":"none","persist":"visit","page_types":[],"testmode":true,"default":"false","code":"jQuery('iframe[title=\"Repair Scheduler iframe\"]').length > 0 ? true : null;","trigger":""},{"name":"best_deals_headline","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var vertical_name = bouncex.vars.vertical_name;\n    var specific_category = bouncex.vars.specific_category;\n    var message = \"best deals\";\n    \n    /* mw - remove specific category as sometimes it doesn't work\n    if (!!specific_category && specific_category !== 'sears' && bouncex.vars.page_type !== 'subcategory') {\n        return message + ' on ' + specific_category.toUpperCase();\n    }*/\n    \n    if (!!vertical_name && vertical_name !== 'sears') {\n        return message + ' on ' + vertical_name.toUpperCase();\n    }\n    \n    return message;\n})();","trigger":""},{"name":"item_feed_id","polling":"vars","persist":"no","page_types":[],"testmode":false,"default":"false","code":"window.variantSelectedSku && window.variantSelectedSku.sku ? window.variantSelectedSku.sku : false","trigger":"pageload"},{"name":"cart_total","polling":"all","persist":"visit","page_types":[],"testmode":false,"default":"0","code":"bouncex.vars.items_in_cart ? jQuery('.est-total-bottom,.cart-sub,.price-row:contains(\"Estimated Total\")').text().replace(/[^\\d.]/g,'') || null : 0;","trigger":"pageload"},{"name":"five_star_count","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"0","code":"jQuery('.ratings-graph').find('[data-star=\"5\"].filter-quality').text().replace(/[^0-9]/g,'') || 0;","trigger":"pageload"},{"name":"avg_review_count","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"jQuery(\".product-nav .star-rating meta:eq(1)\").prop('content')/5 * 100;","trigger":"pageload"},{"name":"full_eligible_points","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n\tvar mobileEls = jQuery('.text-price:visible > span:not(.ng-hide)');\n\tvar desktopInDollars = jQuery('.breakdown-panel_total-points .cents').length > 0;\n\tif (mobileEls.length === 1) {\n\t\treturn mobileEls[0].innerText.replace(/Get /, '');\n\t} else if (mobileEls.length === 2) {\n\t\treturn mobileEls.text().replace(/\\s\\s+/g, ' ').replace(/Get/g, '').trim();\n\t} else if (desktopInDollars) {\n\t\treturn jQuery('#dynamic-pricing-section_rewards-summary').text().replace(/\\s\\s+/g, ' ').replace(/Get/, '').trim();\n\t} else {\n\t\treturn jQuery('.breakdown-panel_total-points').text().replace(/\\s\\s+/g, ' ').replace(/Get/, '').trim();\n\t}\n})();","trigger":"pageload"},{"name":"protect_agreement","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n    if(jQuery('.product-nav li:last').length > 0 && jQuery('.product-nav li:last').text().trim().indexOf('Sears Protection Agreements') > -1 && jQuery('#product').length > 0){return true}\n    if(window.location.href.indexOf('m.sears') > -1 && jQuery('div[modaltitle=\"Protection Agreements\"]').length > 0 && jQuery('#pdp-wrapper').length > 0){return true}\n})();","trigger":"pageload"},{"name":"prod_discount","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"jQuery('.product-price-savings span, #mapPriceModule .lowestPrice span.title-5').eq(0).text().replace(/[^0-9%$.]/g, '') || null;","trigger":"pageload"},{"name":"engaged_filter","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n\tvar queryParams = window.location.search;\n\tvar desktopTabFilters = queryParams.indexOf('searsTab=true') > -1 || queryParams.indexOf('unitNo=') > -1 || queryParams.indexOf('sortOption=') > -1;\n\tvar refineButton = jQuery('#stickyRefineButton .refine-margin.form-button');\n\tvar mobileRefined = refineButton.length > 0 && refineButton.text().indexOf(\"Refined  | 0\") === -1;\n\tvar mobileTabFilters = jQuery('#storeTab:checked').length > 0;\n\tvar filtersSelected = jQuery('#filters-selected:visible').length > 0;\n\n\tif(filtersSelected || mobileRefined || desktopTabFilters || mobileTabFilters) {\n\t\treturn true;\n\t}\n\treturn false;\n})();","trigger":"pageload"},{"name":"cookie_bug_debug","polling":"vars","persist":"no","page_types":[],"testmode":true,"default":"false","code":"/* test*/","trigger":"pageload"},{"name":"tabid","polling":"none","persist":"no","page_types":[],"testmode":true,"default":"false","code":"(function(){\n    var tabid=sessionStorage.getItem('bxTabId');\n    if(!tabid){\n        tabid=Math.floor(Math.random()*1000000) + 1;\n        sessionStorage.setItem('bxTabId', tabid);\n    }\n    return tabid+\"\";\n})();","trigger":"pageload"},{"name":"session_cookie","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function () {\n    var value = '; ' + document.cookie;\n    var parts = value.split('; irp=');\n    if (parts.length == 2) {\n        return parts.pop().split(';').shift();\n    }\n})();","trigger":"pageload"},{"name":"omniture_vn","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.prop3', false);","trigger":"pageload"},{"name":"omniture_vcs","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.prop2', false);","trigger":"pageload"},{"name":"omniture_uid","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.prop9', false);","trigger":"pageload"},{"name":"omniture_pid","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.prop10', false);","trigger":"pageload"},{"name":"omniture_zip","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.eVar17', false);","trigger":"pageload"},{"name":"omniture_ut","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('s.eVar45', false);","trigger":"pageload"},{"name":"out_of_stock_page","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"jQuery('.productOOSMessageModule-container, #regionalPrice div:contains(Product Unavailable):visible, #swordfish-view .page-404').length > 0;","trigger":"pageload"},{"name":"dark_dma","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getParam('darkdma') || bouncex.utils.getNestedProp('darkdma', false) || null;","trigger":"pageload"},{"name":"cso_code","polling":"none","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    if (bouncex.utils.getParam('CSO') || bouncex.utils.getParam('cso') || bouncex.utils.getParam('coupon')) {\n        return bouncex.utils.getParam('CSO') || bouncex.utils.getParam('cso') || bouncex.utils.getParam('coupon') + \".bx\";\n    }\n    return null;\n})();","trigger":"pageload"},{"name":"submitted_this_session","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"null;","trigger":"pageload"},{"name":"telluride_points","polling":"none","persist":"visit","page_types":[],"testmode":false,"default":"false","code":"null;","trigger":"pageload"},{"name":"member_first_name","polling":"all","persist":"permanent","page_types":[],"testmode":false,"default":"false","code":"window.memberMessaging && memberMessaging.custInfoParmsRaw && memberMessaging.custInfoParmsRaw.name || null;","trigger":"pageload"},{"name":"delivery_unavail","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.vars.page_type === 'product' ? jQuery('a[data-method=\"delivery\"] span:contains(Delivery Not Available), p[class*=noPickupAvailable]:contains(Delivery unavailable),span[class*=\"product-fulfillmentNav\"]:contains(Shipping Unavailable), p[class*=noPickupAvailable]:contains(Shipping unavailable)').length > 0 : null;","trigger":"pageload"},{"name":"pickup_unavail","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.vars.page_type === 'product' ? jQuery('div[data-method=\"pickup\"] span:contains(Store Pickup Unavailable), p[class*=noPickupAvailable]:contains(Store Pickup Unavailable),span[class*=\"product-fulfillmentNav\"]:contains(Store Pickup Unavailable)').length > 0 : null;","trigger":"pageload"},{"name":"cart_savings","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function(){\n    var $savings = jQuery('[ng-if=\"itemPriceCtrl.item.prices.indSavings\"] .red-text');\n    var $regPrices = jQuery('.cart-item-sell-price-details');\n\n    if ($savings.length > 0) {\n        var $quantities = jQuery('[name=\"quantityForm\"] input');\n        var savingsTotal = 0;\n        jQuery.each($savings, function(index){\n            savingsTotal += Number($savings.eq(index).text().replace(/[^0-9.]/g, '')) * Number($quantities.eq(index).val().replace(/[^0-9.]/g, ''));\n        });\n        return savingsTotal.toFixed(2);\n    } else if ($regPrices.length > 0) {\n        var $itemQty = jQuery('.item-edit-section');\n        var sellPricesTotal = Number(jQuery('.cart-orderSum-merchandiseSubtotal').text().replace(/[^0-9.]/g, ''));\n        var regPricesTotal = 0;\n\n        jQuery.each($regPrices, function(index){\n            var itemPrice = $regPrices.eq(index).find('[ng-bind-html=\"cartItem.prices.indReg | price\"]').text() || $regPrices.eq(index).find('.new-cart-item-sell-price').text();\n            var itemQty = $itemQty.eq(index).find('.qty-input-text input').attr('placeholder') || $itemQty.eq(index).find('.qty-input').text();\n            regPricesTotal += Number(itemPrice.replace(/[^0-9.]/g, '')) * Number(itemQty.replace(/[^0-9.]/g, ''));\n        });\n\n        return (regPricesTotal - sellPricesTotal).toFixed();\n    }\n    return false;\n})();","trigger":"pageload"},{"name":"delivery_dur_calc","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() {\n    var pdp = jQuery('.productdetails-page .deliveryStatus, .productdetails-page .shippingStatus, div[ng-include*=\"product-details/views\"] .deliveryMessage.ng-binding, div[ng-include*=\"product-details/views\"] .shippingMessage.ng-binding, div[ng-include*=\"product-details/views\"] #pdp-wrapper');\n    if (pdp.length > 0) {\n    var today = new Date();\n    var delDate;\n    if (jQuery('.productdetails-page .deliveryStatus, .productdetails-page .shippingStatus, .deliveryMessage.ng-binding').length > 0 && window.location.href.indexOf('m.sears.com') === -1) {\n        var arr = jQuery('.productdetails-page .deliveryStatus, .productdetails-page .shippingStatus, .deliveryMessage.ng-binding').text().trim().split(\",\");\n        var data = arr[arr.length-1].trim();\n        if (data.indexOf('tomorrow') > -1) {\n            delDate = (today.getMonth()+1) + ' ' + (today.getDate()+1) + ' ' + today.getFullYear();\n        }\n        if (data.indexOf('tomorrow') === -1) {\n            delDate = data;\n        }\n    }\n    if (jQuery('.deliveryMessage, .shippingMessage, div[ng-if=\"soonestDelivery\"] span.ng-binding').length > 0 && window.location.href.indexOf('m.sears.com') > -1) {\n        var data = jQuery('.deliveryMessage, .shippingMessage, div[ng-if=\"soonestDelivery\"] span.ng-binding').eq(0).text().trim();\n        if (data.indexOf('tomorrow') > -1) {\n            delDate = (today.getMonth()+1) + ' ' + (today.getDate()+1) + ' ' + today.getFullYear();\n        }\n        if (data.indexOf(',') > -1 && data.indexOf('tomorrow') === -1) {\n            delDate = jQuery('.deliveryMessage, .shippingMessage, div[ng-if=\"soonestDelivery\"] span.ng-binding').eq(0).text().trim() || jQuery('div[ng-if=\"soonestDelivery\"] span.ng-binding').text().split('.')[0].split(',')[1].trim();\n        }\n    }\n    var delivery = new Date(delDate);\n    if (delivery.toString() === 'Invalid Date') {\n        return false;\n    }\n    var dFinal;\n    if ((today.getMonth()+1) <= (delivery.getMonth()+1)) {\n        dFinal = new Date((delivery.getMonth()+1)+'/'+delivery.getDate()+'/'+today.getFullYear());\n    } else {\n        dFinal = new Date((delivery.getMonth()+1)+'/'+delivery.getDate()+'/'+(today.getFullYear()+1));\n     }\n    var difference_in_time = dFinal.getTime() - today.getTime();\n    var difference_in_days = difference_in_time / (1000 * 3600 * 24); \n    return Math.ceil(difference_in_days);\n    }\n})();","trigger":"pageload"},{"name":"cart_total_savings","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"bouncex.utils.getNestedProp('localStorage.cartTotalSavings', 0, window);","trigger":"pageload"},{"name":"cart_total_savings_original","polling":"all","persist":"visit","page_types":[],"testmode":true,"default":"false","code":"(function() {\n    if (jQuery('body#shoppingcart').length > 0) {\n        /* pull discounted subtotal */\n        /* var subTotal = jQuery('div.badge-header div.est-total:contains(\"Estimated Total\") strong[ng-bind-html*=\"itemsSubtotal\"]:visible').text().replace(/[^0-9.]/g, ''); */\n        var subPrices = jQuery('span[ng-bind-html*=\"cartItem.prices.sell\"]:visible');\n        /* calculate reg pricing */\n        var qtys = jQuery('span.qty-input:visible');\n        var regPrices = jQuery('span[ng-bind-html*=\"cartItem.prices.indReg\"]:visible, span[ng-bind-html*=\"cartItem.prices.indSell\"]:visible, span[ng-bind-html*=\"cartItem.prices.indInterim\"]:visible');\n        var len = regPrices.length;\n        var subTotal = 0;\n        var regTotal = 0;\n        for (var i = 0; i < len; i++) {\n            var qty = Number(qtys.eq(i).text());\n            var regPrice =  Number(regPrices.eq(i).text().replace(/[^0-9.]/g, ''));\n            var subPrice = Number(subPrices.eq(i).text().replace(/[^0-9.]/g, ''));\n            subTotal += subPrice;\n            regTotal += (regPrice * qty);\n        }\n        /* give cart page time to load regTotal elements */\n        if (subTotal > regTotal || jQuery('div.spin-spinner-overlay:visible').length > 0) {\n            return null;\n        }\n        /* calculate difference between regTotal and subTotal */\n        return Number((regTotal - subTotal).toFixed(2)) || null;\n    }\n    if (window.location.href.indexOf('m.sears.com') > -1 && window.location.href.indexOf('/cart') > -1) {\n        var discounts = jQuery('div.red-text:contains(\"-$\")');\n        var len2 = discounts.length;\n        var savingsTotal = 0;\n        for (var j = 0; j< len2; j++) {\n            var discount = Number(discounts.eq(j).text().replace(/[^0-9.]/g, ''));\n            savingsTotal += discount;\n        }\n        return savingsTotal || null;\n    }\n    return null;\n})();","trigger":"pageload"},{"name":"marketplace_seller","polling":"all","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() { \n    var site = window.location.href;\n    if (site.indexOf('//m.') > -1) {\n       return (jQuery('.soldBy span[aria-hidden=\"false\"] #sellerDetailsContainer.seller span.link').length > 0);\n    }\n    return (jQuery('.seller-name-sears').length === 0);\n})();","trigger":"pageload"},{"name":"sold_by","polling":"none","persist":"no","page_types":[],"testmode":false,"default":"false","code":"(function() { \n    var site = window.location.href;\n    if (site.indexOf('//m.') > -1) {\n        var $mobileSeller = jQuery('.soldBy span[aria-hidden=\"false\"] #sellerDetailsContainer.seller span.link');\n        if ($mobileSeller.length > 0) {\n            return ($mobileSeller.text().trim());\n        }\n        return \"Sears\";\n    }\n    return (jQuery('#soldBy, .seller-name-sears, .clickable-seller-name').text().trim());\n})();","trigger":"pageload"}],"dgu":"pixel.cdnwidget.com","dgp":false,"ba":{"enabled":0,"fbte":0},"biu":"assets.bounceexchange.com","bau":"api.bounceexchange.com","beu":"events.bouncex.net","ibx":{"tjs":"","cjs":"","miw":0,"mibcx":1,"te":1,"cart_rep":{"get":"","set":""},"ulpj":{"recipientID":"espemailid"},"cus":"","miw_exclude":""},"etjson":null,"osre":true,"osru":"osr.bounceexchange.com/v1/osr/items","checkDfp":false,"spa":0,"spatm":1,"preinit_cjs":"","mat":0,"math":0,"cpnu":"coupons.bounceexchange.com","dfpcms":0}
;
		bouncex.tag = 'tag3';
		bouncex.$ = window.jQuery;
		bouncex.env = 'production';
		bouncex.restrictedTlds = {"casl":{"ca":1},"gdpr":{"ad":1,"al":1,"at":1,"ax":1,"ba":1,"be":1,"bg":1,"by":1,"xn--90ais":1,"ch":1,"cy":1,"cz":1,"de":1,"dk":1,"ee":1,"es":1,"eu":1,"fi":1,"fo":1,"fr":1,"uk":1,"gb":1,"gg":1,"gi":1,"gr":1,"hr":1,"hu":1,"ie":1,"im":1,"is":1,"it":1,"je":1,"li":1,"lt":1,"lu":1,"lv":1,"mc":1,"md":1,"me":1,"mk":1,"xn--d1al":1,"mt":1,"nl":1,"no":1,"pl":1,"pt":1,"ro":1,"rs":1,"xn--90a3ac":1,"ru":1,"su":1,"xn--p1ai":1,"se":1,"si":1,"sj":1,"sk":1,"sm":1,"ua":1,"xn--j1amh":1,"va":1,"tr":1}};
		bouncex.push = function(pushData) {
			bouncex.pushedData.push(pushData);
		}
		var script = document.createElement('script');
		script.setAttribute('src', '//assets.bounceexchange.com/assets/smart-tag/versioned/ijs_all_modules_cjs_min_b19dd8a269a840099e3c8c030ccae4e7.js');

		var scriptAttrs = [{"Key":"id","Value":"c.js"},{"Key":"async","Value":"true"},{"Key":"data-gm","Value":"1"},{"Key":"data-fire","Value":"1"},{"Key":"data-wt","Value":"0"},{"Key":"data-apikey","Value":"2^HIykD"},{"Key":"data-cb","Value":"bouncex.dg.initPostDeviceGraph"},{"Key":"data-bx","Value":"1"}];
		if (scriptAttrs) {
			for (var i = 0; i < scriptAttrs.length; i++) {
				script.setAttribute(scriptAttrs[i].Key, scriptAttrs[i].Value);
			}
		}

		document.body.appendChild(script);
	}
}
if (document.readyState === "loading") {
	document.addEventListener("DOMContentLoaded", bxBootstrap);
} else {
	bxBootstrap();
}})();