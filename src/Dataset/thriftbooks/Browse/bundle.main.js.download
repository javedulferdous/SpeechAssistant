webpackJsonp([1],{125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=h(o),i=h(n(1)),l=h(n(2)),s=h(n(3)),u=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(12)),f=h(n(5)),d=n(13),p=h(n(9));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={selection:0,results:[],input:r.props.searchParams.searchTerm||"",loading:!1},r.clickListener=function(e){r.clearResults()},r.handleModifyInput=function(e){clearTimeout(r._searchTimeout),r.setState({input:e.target.value,selection:-1}),e.target.value.length>2&&r.props.useAutocomplete&&(r._searchTimeout=setTimeout(r.getAutocompleteResults,250))},r.getAutocompleteResults=function(){r._lastRequest&&r._lastRequest.abort(),r._lastRequest=f.default.post("/stateless/browse/autocomplete").type("form").send({searchValue:r.state.input}).end(function(e,t){r.setState({results:t.body})})},r.goToSearch=function(){r.loadSearch(),c.goTo(""+r.props.searchUrl+encodeURIComponent(r.state.input))},r.loadSearch=function(){r.setState({loading:!0})},r.clearResults=function(){r.setState({results:[]})},r.handleKeyDown=function(e){13===e.keyCode?(e.preventDefault(),r.goToSearch()):38===e.keyCode?(e.preventDefault(),r.setState({selection:Math.max(r.state.selection-1,0),input:r.state.results[Math.max(r.state.selection-1,0)]})):40===e.keyCode?(e.preventDefault(),r.setState({selection:Math.min(r.state.selection+1,r.state.results.length-1),input:r.state.results[Math.min(r.state.selection+1,r.state.results.length-1)]})):27===e.keyCode&&r.clearResults()},r.handleResetClick=function(){r.setState({input:""})},r.handleSubmit=function(e){e.preventDefault(),r.state.loading||r.goToSearch()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.clickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(this.clickListener)}},{key:"render",value:function(){var e=this,t=a.default.createElement("div",null,a.default.createElement("svg",{className:"Icon","aria-hidden":"true"},a.default.createElement("use",{xlinkHref:"#Icon--search"})),a.default.createElement("div",{className:"tb-hiddenText"},"Search Button")),n=this.state.results,r=this.state.selection;return a.default.createElement("div",{className:"Search"},a.default.createElement("input",{className:(0,l.default)("Search-input",{"is-empty":!this.state.input}),"aria-label":"Search 13 million titles by title, author or ISBN",onChange:this.handleModifyInput,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,type:"text",value:this.state.input}),a.default.createElement("button",{className:"Search-reset",onClick:this.handleResetClick,type:"button"},"Ã—"),a.default.createElement("a",{id:"ScanButton",className:"ScanButton",href:"/app/scan/"},a.default.createElement("svg",{className:"Icon"},a.default.createElement("use",{xlinkHref:"#Icon--barcode"})),a.default.createElement("div",{className:"tb-hiddenText"},"Scan a barcode")),a.default.createElement(s.default,{className:"Search-submit",isFlat:!0,onClick:this.handleSubmit},this.state.loading?a.default.createElement(p.default,{className:"Loading-white"}):t),a.default.createElement("ul",{className:(0,l.default)("Search-results",{"u-hidden":0===n.length})},n.map(function(t,n){return a.default.createElement("li",{className:(0,l.default)("Search-result",{"is-selected":r===n}),key:n,onClick:e.loadSearch},a.default.createElement("a",{dangerouslySetInnerHTML:{__html:t},href:"/browse/?b.search="+encodeURIComponent((0,d.removeHtml)(t))}))})))}}]),t}();y.displayName="Search",y.propTypes={placeholder:i.default.string,searchUrl:i.default.string,useAutocomplete:i.default.bool,searchParams:i.default.shape({searchTerm:i.default.string})},y.defaultProps={placeholder:"Search 13 million titles by title, author, or ISBN",searchUrl:document.location.protocol+"//"+document.location.host+"/browse/?b.search=",useAutocomplete:!0,searchParams:{searchTerm:""}},t.default=(0,u.connect)(function(e){return{searchParams:e.searchV2}})(y),e.exports=t.default},228:function(e,t,n){var r=n(613),o=n(55),a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},i=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var r;n=o.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=o.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var a=this.path.getTotalLength();this.path.style.strokeDasharray=a+" "+a,this.set(0)};i.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},i.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(o.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},i.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},i.prototype.animate=function(e,t,n){t=t||{},o.isFunction(t)&&(n=t,t={});var a=o.extend({},t),i=o.extend({},this._opts);t=o.extend(i,t);var l=this._easing(t.easing),s=this._resolveFromAndTo(e,l,a);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),c=this._progressToOffset(e),f=this;this._tweenable=new r,this._tweenable.tween({from:o.extend({offset:u},s.from),to:o.extend({offset:c},s.to),duration:t.duration,easing:l,step:function(e){f.path.style.strokeDashoffset=e.offset;var n=t.shape||f;t.step(e,n,t.attachment)},finish:function(e){o.isFunction(n)&&n()}})},i.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},i.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},i.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},i.prototype._calculateFrom=function(e){return r.interpolate(this._opts.from,this._opts.to,this.value(),e)},i.prototype._calculateTo=function(e,t){return r.interpolate(this._opts.from,this._opts.to,e,t)},i.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},i.prototype._easing=function(e){return a.hasOwnProperty(e)?a[e]:e},e.exports=i},229:function(e,t,n){var r=n(86),o=n(55),a=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return o.render(this._pathTemplate,{radius:n,"2radius":2*n})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.tbGrayLighter="#808080",t.tbGrayLight="#d7d7d7",t.white="#FFFFFF",t.tbPurple="#442783"},231:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.default=function(e){return e.invalidEmail?o.default.createElement("div",{className:"invalid-error"},"The email you entered was invalid. Please try again."):null}},232:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.default=function(e){var t=e.closeModal,n=e.invalidEmail,r=e.isMobile;return o.default.createElement("div",null,o.default.createElement("p",{className:"text-finePrint"},"Coupon code will be sent to this email address."),o.default.createElement("p",{className:"text-finePrint"},"By joining our mailing list, you agree to our"," ",o.default.createElement("a",{href:"/terms-of-use/",target:"_blank"},"Terms of Use")," ","and"," ",o.default.createElement("a",{href:"/privacy-policy/",target:"_blank"},"Privacy Policy"),"."),o.default.createElement("p",{onClick:t,className:"text-rejectOffer "+(n&&r?"small-margin":"")},"No thanks"))}},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPin=function(e,t){return!!window&&e-(window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0))<=t}},55:function(e,t){var n="Webkit Moz O ms".split(" "),r=.001;function o(e,t,r){for(var o=e.style,i=0;i<n.length;++i){o[n[i]+a(t)]=r}o[t]=r}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&("object"===typeof e&&!!e)}function l(e,t){for(var n in e){if(e.hasOwnProperty(n))t(e[n],n)}}e.exports={extend:function e(t,n,r){for(var o in t=t||{},n=n||{},r=r||!1,n)if(n.hasOwnProperty(o)){var a=t[o],l=n[o];r&&i(a)&&i(l)?t[o]=e(a,l,r):t[o]=l}return t},render:function(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],a=new RegExp("\\{"+r+"\\}","g");n=n.replace(a,o)}return n},setStyle:o,setStyles:function(e,t){l(t,function(t,n){null!==t&&void 0!==t&&(i(t)&&!0===t.prefix?o(e,n,t.value):e.style[n]=t)})},capitalize:a,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:i,forEachObject:l,floatEquals:function(e,t){return Math.abs(e-t)<r},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},596:function(e,t,n){n(597)},597:function(e,t,n){"use strict";n(598),n(626),n(628),n(630),n(632)},598:function(e,t,n){"use strict";var r=n(16),o=c(n(599)),a=c(n(608)),i=c(n(125)),l=c(n(620)),s=c(n(621)),u=c(n(622));function c(e){return e&&e.__esModule?e:{default:e}}(0,r.render)(function(){return o.default},".SuperMenu",{links:window.MenuLinks}),(0,r.render)(function(){return i.default},"#GlobalSearch",{}),(0,r.render)(function(){return u.default},"#CartEyebrowContainer",{}),(0,r.render)(function(){return l.default},"#GdprEyebrow",{getEyebrowFn:function(){return s.default}}),(0,r.render)(function(){return a.default},"#UserComponent",{})},599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=u(o),i=u(n(1)),l=u(n(600)),s=u(n(607));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.links.filter(function(e){return e.ShowOnDesktop}).map(function(e,t){var n=e.DropdownItems&&e.DropdownItems.length&&e.DropdownItems.filter(function(e){return e.ShowOnDesktop}).length,r=e.FeaturedContent&&e.FeaturedContent.length&&e.FeaturedContent.filter(function(e){return e.ShowOnDesktop}).length;return n||r?a.default.createElement(l.default,{linksHtml:e.LinksHtml,href:e.Url,dropdownItems:e.DropdownItems,featuredContent:e.FeaturedContent,key:t},e.Title):a.default.createElement(s.default,{href:e.Url,key:t},e.Title)});return a.default.createElement("div",{className:"SuperMenu",role:"menubar"},e)}}]),t}();c.displayName="SuperMenu",c.propTypes={account:i.default.shape({email:i.default.string,id:i.default.number,loaded:i.default.bool,loggedIn:i.default.bool,name:i.default.string,inLoyaltyProgram:i.default.bool,bookRewards:i.default.number,earnedPercentage:i.default.number}),links:i.default.array.isRequired},t.default=c,e.exports=t.default},600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=f(o),i=f(n(1)),l=f(n(2)),s=f(n(4)),u=f(n(601)),c=f(n(605));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1,selectedIndex:0},n.selectIndex=function(e){return function(){n.setState({selectedIndex:e})}},n.handleMouseEnter=function(){n.setState({isOpen:!0})},n.onBlurHandler=function(){n.blurTimeout=setTimeout(function(){n.setState({isOpen:!1})})},n.onFocusHandler=function(){clearTimeout(n.blurTimeout),n.setState({isOpen:!0})},n.handleMouseLeave=function(){n.setState({isOpen:!1,selectedIndex:0})},n.generateMenuLink=function(){return n.props.featuredContent&&n.props.featuredContent.length?a.default.createElement("span",{className:"SuperMenuItem-link",role:"menuitem"},n.props.children,a.default.createElement(s.default,{icon:"chevron-down","aria-hidden":!0})):a.default.createElement("a",{className:"SuperMenuItem-link",href:n.props.href,role:"menuitem"},n.props.children,a.default.createElement(s.default,{icon:"chevron-down","aria-hidden":!0}))},n.escFunction=n.escFunction.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"escFunction",value:function(e){27===e.keyCode&&!0===this.state.isOpen&&this.handleMouseLeave()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"fillDropdownContent",value:function(){if(this.props.dropdownItems&&this.props.dropdownItems.length){var e={dropdownName:this.props.children,href:this.props.href,subcategories:this.props.dropdownItems.filter(function(e){return e.ShowOnDesktop}),linksHtml:this.props.linksHtml};return a.default.createElement("div",{className:"MenuDropdown-container"},a.default.createElement(u.default,{data:e}))}if(this.props.featuredContent&&this.props.featuredContent.length)return a.default.createElement("div",{className:"MenuDropdown-container"},a.default.createElement(c.default,{featuredContentItems:this.props.featuredContent}))}},{key:"render",value:function(){return a.default.createElement("div",{className:(0,l.default)("SuperMenuItem",this.props.className,{"is-right":"right"===this.props.direction},{"is-open":this.state.isOpen}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onBlur:this.onBlurHandler,onFocus:this.onFocusHandler},this.generateMenuLink(),this.fillDropdownContent())}}]),t}();d.displayName="MenuDropdown",d.propTypes={children:i.default.node.isRequired,className:i.default.string,direction:i.default.oneOf(["left","right"]),href:i.default.string,dropdownItems:i.default.array,featuredContent:i.default.array,name:i.default.string,title:i.default.string},d.defaultProps={direction:"left"},t.default=d,e.exports=t.default},601:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(2)),u=n(602),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fillSubSections=function(){if(!this.props.data||!this.props.data.subcategories.length)return l.default.createElement("div",null);var e=this.props.data,t=e.dropdownName,n=e.href,r=e.subcategories;return u.getBlockBySubcategoryCount({DropdownItems:r,Name:t,Url:n})},t.prototype.render=function(){var e=this.props.data,t=e.linksHtml,n=e.subcategories;return l.default.createElement("div",{className:s.default("MenuDropdown-submenu",u.getHeightCssByCategoryCount(n.length))},l.default.createElement("div",{className:s.default("Submenu-container")},l.default.createElement("div",{className:s.default("Submenu-leftOption")},this.fillSubSections()),l.default.createElement("div",{className:s.default("Submenu-rightOption")},l.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))))},t}(l.Component);t.default=c},602:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=r(n(603)),i=r(n(604));t.getBlockBySubcategoryCount=function(e){return 1===e.DropdownItems.length?o.default.createElement(i.default,{data:e.DropdownItems[0]}):e.DropdownItems.length>1?o.default.createElement(a.default,{data:e}):o.default.createElement(i.default,{data:e})},t.getHeightCssByCategoryCount=function(e){return 1===e?"MenuDropdown-submenuHeightMedium":e>1?"MenuDropdown-submenuHeightFull":""}},603:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(2)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.formatDropdownItems=function(){return this.props.data.DropdownItems.slice(0,8)},t.prototype.renderSubblock=function(e){var t=e.Name,n=e.Url,r=e.DropdownItems;return l.default.createElement("div",{className:s.default("SubcategoryBlock-container2x4")},l.default.createElement("div",{className:s.default("SubcategoryBlock-name")},l.default.createElement("a",{href:n},t)),r.slice(0,5).map(function(e,t){var n=e.Name,r=e.Url;return l.default.createElement("div",{key:t},l.default.createElement("a",{href:r},n))}),l.default.createElement("div",null,l.default.createElement("a",{href:n},"Shop All")))},t.prototype.render=function(){var e=this;return l.default.createElement(l.default.Fragment,null,this.formatDropdownItems().map(function(t){return e.renderSubblock(t)}))},t}(l.Component);t.default=u},604:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(2)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.data,t=e.Url,n=e.Name,r=e.DropdownItems;return l.default.createElement("div",{className:s.default("SubcategoryBlock-containerFull")},l.default.createElement("div",{className:s.default("SubcategoryBlock-name")},l.default.createElement("a",{href:t},n)),l.default.createElement("div",{className:s.default("SubcategoryBlock-containerFullList")},r.slice(0,40).map(function(e,t){var n=e.Name,r=e.Url;return l.default.createElement("div",{key:t},l.default.createElement("a",{href:r},n))})))},t}(l.Component);t.default=u},605:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(606)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.featuredContentItems.length,t=e%4!=0?4-e%4:0,n=[];if(n=this.props.featuredContentItems,0!==t)for(var r=0;r<t;r++)n.push({ImageUrl:"",Title:"emptyFeaturedContent-",LinkUrl:"/",Priority:500,ShowOnDesktop:!0,ShowOnMobile:!0,ShowOnApp:!0,isEmpty:!0});return l.default.createElement("div",{className:"MenuDropdown-submenu"},l.default.createElement("div",{className:"Submenu-container Submenu-container-FeaturedContent"},n.map(function(e,t){return l.default.createElement(s.default,{key:e.Title+t,featuredContentItem:e})})))},t}(l.Component);t.default=u},606:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return this.props.featuredContentItem.isEmpty?i.default.createElement("div",{className:"Submenu-FeaturedContentItem"}):i.default.createElement("div",{className:"Submenu-FeaturedContentItem"},i.default.createElement("a",{className:"Submenu-FeaturedContentItem-Link",href:this.props.featuredContentItem.LinkUrl},i.default.createElement("img",{src:this.props.featuredContentItem.ImageUrl,alt:"ThriftBooks "+this.props.featuredContentItem.Title}),i.default.createElement("span",null,this.props.featuredContentItem.Title)))},t}(i.Component);t.default=l},607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=u(a),l=u(n(1)),s=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpen:!0})},n.handleMouseLeave=function(){n.setState({isOpen:!1})},n.state={isOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return i.default.createElement("div",{className:(0,s.default)("SuperMenuItem",{"is-open":this.state.isOpen}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.default.createElement("a",r({className:"SuperMenuItem-link MenuLink"},this.props,{role:"menuitem"}),this.props.children))}}]),t}();c.displayName="MenuLink",c.propTypes={children:l.default.node.isRequired},t.default=c,e.exports=t.default},608:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=n(6),u=n(11),c=i(n(2)),f=i(n(609)),d=i(n(610)),p=i(n(615)),h=a(n(12)),m=i(n(616)),y=i(n(78)),v=function(e){function t(t){var n=e.call(this,t)||this;return n.onFocusHandler=function(){clearTimeout(n.timeOutId),n.setState({isFocus:!0})},n.onBlurHandler=function(){n.timeOutId=setTimeout(function(){n.setState({isFocus:!1})})},n.getDropdown=function(e){return l.default.createElement("div",{className:c.default("UserComponent-hoverDropdown")},e.sort(function(e,t){return e.Order-t.Order}).map(function(e){return l.default.createElement("a",{key:e.Order,href:e.Url},e.Name)}))},n.state={isFocus:!1},n.timeOutId=null,n.onFocusHandler=n.onFocusHandler.bind(n),n.onBlurHandler=n.onBlurHandler.bind(n),n.getDropdown=n.getDropdown.bind(n),n.escFunction=n.escFunction.bind(n),n}return o(t,e),t.prototype.componentWillMount=function(){this.props.getAccountData()},t.prototype.escFunction=function(e){27===e.keyCode&&!0===this.state.isFocus&&this.onBlurHandler()},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.escFunction,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction,!1)},t.prototype.render=function(){var e=this.props.account,t=this.props.account.inLoyaltyProgram,n=this.props.account.numBookCredits||0,r=this.props.account.earnedPercentage||0;if(!e||!e.loaded)return l.default.createElement("div",{className:c.default("UserComponent")});if(e&&e.loaded&&e.loggedIn)return l.default.createElement("div",{className:c.default("UserComponent-container")},l.default.createElement("div",{className:c.default("UserComponent")},l.default.createElement("span",null,l.default.createElement("span",{className:"SuperMenu-userGradient"}),t&&l.default.createElement(d.default,{bookRewards:n,earned:r,isActive:!0})),l.default.createElement("div",{className:c.default({"UserComponent-readingReward":e.inLoyaltyProgram}),onClick:function(){return e.inLoyaltyProgram?h.goTo("/account/yourrewards/"):h.goTo("/readingrewards/")}},l.default.createElement(p.default,{inLoyaltyProgram:e.inLoyaltyProgram})),l.default.createElement("div",{className:c.default("UserComponent-container",{"UserComponent-hover":this.state.isFocus}),onMouseEnter:this.onFocusHandler,onMouseLeave:this.onBlurHandler,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler,tabIndex:0},l.default.createElement("div",{className:c.default("UserComponent-greetingContainer")},l.default.createElement("div",{className:c.default("UserComponent-greeting"),onClick:function(){return h.goTo("/account/ordersummary/")}},l.default.createElement("span",{className:"bold"},"Hi ",e.name.length>5?e.name.slice(0,5)+"...":e.name,"!"),l.default.createElement("div",{className:"UserComponent-login"},"Your Account")),l.default.createElement(f.default,{icon:"chevron-down",className:c.default("UserComponent-chevron"),"aria-hidden":"true"}),this.state.isFocus&&this.getDropdown(_)))));var o=e.showEmailModal;return l.default.createElement("div",null,l.default.createElement("div",{className:c.default("UserComponent-container",{"UserComponent-hover":this.state.isFocus}),onMouseEnter:this.onFocusHandler,onMouseLeave:this.onBlurHandler,onFocus:this.onFocusHandler,onBlur:this.onBlurHandler,tabIndex:0},l.default.createElement("div",{className:c.default("UserComponent","UserComponent-greetingContainer"),onClick:function(){return h.goTo(y.default.links.login)}},l.default.createElement("div",{className:c.default("UserComponent-greeting")},l.default.createElement("span",{className:"bold"},"Hi Reader!"),l.default.createElement("div",{className:"UserComponent-login"},"Log In")),l.default.createElement(f.default,{icon:"chevron-down",className:c.default("UserComponent-chevron"),"aria-hidden":"true"})),this.state.isFocus&&this.getDropdown(b)),e.loaded&&o&&l.default.createElement(m.default,{isMobile:!1}))},t}(l.Component);t.default=s.connect(function(e){return{account:e.account}},function(e){var t=n(74);return{getAccountData:u.bindActionCreators(t.getAccountData,e)}})(v);var b=[{Order:1,Name:"Create Account",Url:y.default.links.create,ShowOnDesktop:!0},{Order:2,Name:"Wish List",Url:"/list/",ShowOnDesktop:!0},{Order:3,Name:"Orders",Url:"/account/ordersummary/",ShowOnDesktop:!0},{Order:4,Name:"ReadingRewards",Url:"/readingrewards/",ShowOnDesktop:!0},{Order:5,Name:"Help & Support",Url:"/help/",ShowOnDesktop:!0},{Order:6,Name:"Log In",Url:y.default.links.login,ShowOnDesktop:!0}],_=[{Order:1,Name:"My Account",Url:"/account/ordersummary/",ShowOnDesktop:!0},{Order:2,Name:"Wish List",Url:"/list/",ShowOnDesktop:!0},{Order:3,Name:"Orders",Url:"/account/ordersummary/",ShowOnDesktop:!0},{Order:4,Name:"ReadingRewards",Url:"/account/yourrewards/",ShowOnDesktop:!0},{Order:5,Name:"Help & Support",Url:"/help/",ShowOnDesktop:!0},{Order:6,Name:"Log Out",Url:"/account/logout/",ShowOnDesktop:!0}]},609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=c(a),l=c(n(1)),s=c(n(2)),u=c(n(35));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.shouldComponentUpdate=u.default,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return i.default.createElement("svg",r({},this.props,{className:(0,s.default)("Icon",this.props.classes,this.props.className)}),i.default.createElement("use",{"data-classes":this.props.className||"",xlinkHref:"#Icon--"+this.props.icon}))}}]),t}();d.displayName="Icon",d.propTypes={classes:l.default.object,className:l.default.string,icon:l.default.string.isRequired},t.default=d,e.exports=t.default},610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=c(a),l=c(n(1)),s=c(n(611)),u=n(230);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.props.isMobile?"#RrCircle-Mobile":"#RrCircle",t=this.props.isMobileApp?u.white:u.tbGrayLight,n=new s.default.Circle(e,{strokeWidth:16,color:u.tbPurple,trailColor:t,trailWidth:18,svgStyle:{strokeLinecap:"round"}}),r=this.props.earned/100;n.set(r)}},{key:"render",value:function(){var e={};this.props.isActive||(e.tabIndex="-1");var t=this.props.bookRewards,n=t>9?"RrCircle-ellipse doubleDigit":"RrCircle-ellipse";return i.default.createElement("div",{className:"RrCircle-container"},i.default.createElement("a",r({className:"RrCircle-Link",href:"/account/yourrewards/"},e),this.props.isMobile?i.default.createElement("div",{id:"RrCircle-Mobile"}):i.default.createElement("div",{id:"RrCircle"}),this.props.bookRewards>0&&i.default.createElement("div",{className:n},t<100?"+"+t:"99+"),i.default.createElement("div",{className:"tb-hiddenText"},"Reading Rewards Icon, ",this.props.earned+" points earned")))}}]),t}();f.propTypes={bookRewards:l.default.number.isRequired,earned:l.default.number.isRequired,isActive:l.default.bool,isMobile:l.default.bool,isMobileApp:l.default.string},f.defaultProps={isMobile:!1},t.default=f,e.exports=t.default},611:function(e,t,n){e.exports={Line:n(612),Circle:n(229),SemiCircle:n(614),Path:n(228),Shape:n(86),utils:n(55)}},612:function(e,t,n){var r=n(86),o=n(55),a=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},a.prototype._pathString=function(e){return o.render(this._pathTemplate,{center:e.strokeWidth/2})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},613:function(e,t,n){(function(){var t=this||Function("return this")(),n=function(){"use strict";var n,r,o,a,i,l,s="linear",u=1e3/60,c=Date.now?Date.now:function(){return+new Date},f="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:c;function d(){}function p(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function h(e,t){return p(t,function(n){e[n]=t[n]}),e}function m(e,t){p(t,function(n){void 0===e[n]&&(e[n]=t[n])})}function y(e,t,r,o,a,i,l){var s,u,c,f=e<i?0:(e-i)/a;for(s in t)t.hasOwnProperty(s)&&(c="function"==typeof(u=l[s])?u:n[u],t[s]=v(r[s],o[s],c,f));return t}function v(e,t,n,r){return e+(t-e)*n(r)}function b(e,t){var n=w.prototype.filter,r=e._filterArgs;p(n,function(o){void 0!==n[o][t]&&n[o][t].apply(e,r)})}function _(e,t,n,r,s,c,d,p,h,m,v){o=t+n+r,a=Math.min(v||f(),o),i=a>=o,l=r-(o-a),e.isPlaying()&&(i?(h(d,e._attachment,l),e.stop(!0)):(e._scheduleId=m(e._timeoutHandler,u),b(e,"beforeTween"),a<t+n?y(1,s,c,d,1,1,p):y(a,s,c,d,r,t+n,p),b(e,"afterTween"),h(s,e._attachment,l)))}function g(e,t){var n={},r=typeof t;return p(e,"string"===r||"function"===r?function(e){n[e]=t}:function(e){n[e]||(n[e]=t[e]||s)}),n}function w(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=r,void 0!==t&&this.setConfig(t)}return r="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,w.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=f(),this._start(this.get(),this._attachment),this.resume())},w.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||d,this._step=e.step||d,this._finish=e.finish||d,this._duration=e.duration||500,this._currentState=h({},e.from||this.get()),this._originalState=this.get(),this._targetState=h({},e.to||this.get());var t=this;this._timeoutHandler=function(){_(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,r=this._targetState;return m(r,n),this._easing=g(n,e.easing||s),this._filterArgs=[n,this._originalState,r,this._easing],b(this,"tweenCreated"),this},w.prototype.get=function(){return h({},this._currentState)},w.prototype.set=function(e){this._currentState=e},w.prototype.pause=function(){return this._pausedAtTime=f(),this._isPaused=!0,this},w.prototype.resume=function(){return this._isPaused&&(this._timestamp+=f()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},w.prototype.seek=function(e){e=Math.max(e,0);var t=f();return this._timestamp+e===0?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,_(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},w.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=d,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(b(this,"beforeTween"),y(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),b(this,"afterTween"),b(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},w.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},w.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},w.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},w.prototype.filter={},w.prototype.formula={linear:function(e){return e}},n=w.prototype.formula,h(w,{now:f,each:p,tweenProps:y,tweenProp:v,applyFilter:b,shallowCopy:h,defaults:m,composeEasingObject:g}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=_),e.exports=w,w}();n.shallowCopy(n.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){function e(e,t,n,r,o,a){var i=0,l=0,s=0,u=0,c=0,f=0;function d(e){return((i*e+l)*e+s)*e}function p(e){return e>=0?e:0-e}return i=1-(s=3*t)-(l=3*(r-t)-s),u=1-(f=3*n)-(c=3*(o-n)-f),function(e,t){return n=function(e,t){var n,r,o,a,u,c,f;for(o=e,c=0;c<8;c++){if(p(a=d(o)-e)<t)return o;if(p(u=(3*i*(f=o)+2*l)*f+s)<1e-6)break;o-=a/u}if(r=1,(o=e)<(n=0))return n;if(o>r)return r;for(;n<r;){if(p((a=d(o))-e)<t)return o;e>a?n=o:r=o,o=.5*(r-n)+n}return o}(e,t),((u*n+c)*n+f)*n;var n}(e,function(e){return 1/(200*e)}(a))}n.setBezierFunction=function(t,r,o,a,i){var l=function(t,n,r,o){return function(a){return e(a,t,n,r,o,1)}}(r,o,a,i);return l.displayName=t,l.x1=r,l.y1=o,l.x2=a,l.y2=i,n.prototype.formula[t]=l},n.unsetBezierFunction=function(e){delete n.prototype.formula[e]}}(),function(){var e=new n;e._filterArgs=[],n.interpolate=function(t,r,o,a,i){var l=n.shallowCopy({},t),s=i||0,u=n.composeEasingObject(t,a||"linear");e.set({});var c=e._filterArgs;c.length=0,c[0]=l,c[1]=t,c[2]=r,c[3]=u,n.applyFilter(e,"tweenCreated"),n.applyFilter(e,"beforeTween");var f=function(e,t,r,o,a,i){return n.tweenProps(o,t,e,r,1,i,a)}(t,l,r,o,u,s);return n.applyFilter(e,"afterTween"),f}}(),function(e){var t=/(\d|\-|\.)/,n=/([^\-0-9\.]+)/g,r=/[0-9.\-]+/g,o=new RegExp("rgb\\("+r.source+/,\s*/.source+r.source+/,\s*/.source+r.source+"\\)","g"),a=/^.*\(/,i=/#([0-9]|[a-f]){3,6}/gi,l="VAL";function s(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(i)&&(t[e]=d(i,n,u))})}function u(e){var t=function(e){3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);return c[0]=f(e.substr(0,2)),c[1]=f(e.substr(2,2)),c[2]=f(e.substr(4,2)),c}(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}var c=[];function f(e){return parseInt(e,16)}function d(e,t,n){var r=t.match(e),o=t.replace(e,l);if(r)for(var a,i=r.length,s=0;s<i;s++)a=r.shift(),o=o.replace(l,n(a));return o}function p(e){for(var t=e.match(r),n=t.length,o=e.match(a)[0],i=0;i<n;i++)o+=parseInt(t[i],10)+",";return o=o.slice(0,-1)+")"}function h(r){var o={};return e.each(r,function(e){var a,i,s=r[e];if("string"==typeof s){var u=b(s);o[e]={formatString:(a=s,i=a.match(n),i?(1===i.length||a.charAt(0).match(t))&&i.unshift(""):i=["",""],i.join(l)),chunkNames:function(e,t){var n,r=[],o=e.length;for(n=0;n<o;n++)r.push("_"+t+"_"+n);return r}(u,e)}}}),o}function m(t,n){e.each(n,function(e){for(var r=b(t[e]),o=r.length,a=0;a<o;a++)t[n[e].chunkNames[a]]=+r[a];delete t[e]})}function y(t,n){e.each(n,function(e){var r=t[e],a=function(e,t){v.length=0;for(var n=t.length,r=0;r<n;r++)v.push(e[t[r]]);return v}(function(e,t){for(var n,r={},o=t.length,a=0;a<o;a++)n=t[a],r[n]=e[n],delete e[n];return r}(t,n[e].chunkNames),n[e].chunkNames);r=function(e,t){for(var n=e,r=t.length,o=0;o<r;o++)n=n.replace(l,+t[o].toFixed(4));return n}(n[e].formatString,a),t[e]=d(o,r,p)})}var v=[];function b(e){return e.match(r)}e.prototype.filter.token={tweenCreated:function(e,t,n,r){s(e),s(t),s(n),this._tokenData=h(e)},beforeTween:function(t,n,r,o){!function(t,n){e.each(n,function(e){var r,o=n[e].chunkNames,a=o.length,i=t[e];if("string"==typeof i){var l=i.split(" "),s=l[l.length-1];for(r=0;r<a;r++)t[o[r]]=l[r]||s}else for(r=0;r<a;r++)t[o[r]]=i;delete t[e]})}(o,this._tokenData),m(t,this._tokenData),m(n,this._tokenData),m(r,this._tokenData)},afterTween:function(t,n,r,o){y(t,this._tokenData),y(n,this._tokenData),y(r,this._tokenData),function(t,n){e.each(n,function(e){var r=n[e].chunkNames,o=r.length,a=t[r[0]];if("string"==typeof a){for(var i="",l=0;l<o;l++)i+=" "+t[r[l]],delete t[r[l]];t[e]=i.substr(1)}else t[e]=a})}(o,this._tokenData)}}}(n)}).call(null)},614:function(e,t,n){var r=n(86),o=n(229),a=n(55),i=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,r.apply(this,arguments)};(i.prototype=new r).constructor=i,i.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},i.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?a.setStyle(n,"transform","translate(-50%, 0)"):a.setStyle(n,"transform","translate(-50%, 50%)"))},i.prototype._pathString=o.prototype._pathString,i.prototype._trailString=o.prototype._trailString,e.exports=i},615:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2)),l=n(0),s=n(230),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderUnloyalWeeble=function(){return{__html:'\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48.07 48.98" aria-label="Not a ReadingRewards member">\n          <g data-name="Layer 2">\n          <g fill='+(this.props.isMobileApp?s.white:s.tbGrayLighter)+' data-name="Layer 1">\n              <path d="M36.91 49V34.21c0-4.85-3.73-9-8.83-10.33A10.78 10.78 0 0 1 27 25a13.23 13.23 0 0 1-8.5 3 13.27 13.27 0 0 1-8.32-2.84 11.83 11.83 0 0 1-1.3-1.25C3.73 25.23 0 29.36 0 34.21V49"/>\n              <path d="M18.45 0A12.26 12.26 0 0 0 6.19 12.26a12.11 12.11 0 0 0 2.64 7.56 12.71 12.71 0 0 0 1.3 1.44A12.22 12.22 0 0 0 27 21.09a11.39 11.39 0 0 0 1.13-1.27A12.23 12.23 0 0 0 18.45 0z"/>\n          </g>\n          </g>\n      </svg>\n      <div class="tb-hiddenText">Reading Rewards Icon</div>\n  '}},t.prototype.renderLoyalWeeble=function(){return{__html:'\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48.07 48.98" aria-label="ReadingRewards member">\n        <g data-name="Layer 2">\n        <g fill="'+(this.props.isMobileApp?s.white:s.tbPurple)+'" data-name="Layer 1">\n            <path d="M47 25.45a1.22 1.22 0 0 0-1.33 1.07l-.33 3a1.21 1.21 0 0 0 2.4.26l.33-3A1.22 1.22 0 0 0 47 25.45zM2.41 26.58a1.23 1.23 0 0 0-.45-.8 1 1 0 0 0-.25-.14 1.13 1.13 0 0 0-.5-.13h-.13A1.2 1.2 0 0 0 0 26.85l.32 3a1.21 1.21 0 0 0 1.34 1.05 1.11 1.11 0 0 0 .61-.28.78.78 0 0 0 .2-.16 1.21 1.21 0 0 0 .26-.89zM35.82 14.67a12.52 12.52 0 0 0 .26-2.46 12.21 12.21 0 1 0-24.42 0 11.83 11.83 0 0 0 .27 2.47A47.19 47.19 0 0 1 23.86 22a46.61 46.61 0 0 1 11.96-7.33z"/>\n            <path d="M44 26.34a2.91 2.91 0 0 1 2.27-2.53l.6-5.35a23.75 23.75 0 0 0-3.49.4 10.16 10.16 0 0 0 0-2.53l-.07-.4-.4.07a34.71 34.71 0 0 0-7.08 2.11 46.91 46.91 0 0 0-12 7.28 47 47 0 0 0-11.93-7.26A34.48 34.48 0 0 0 4.81 16l-.4-.07-.06.4a9.52 9.52 0 0 0 0 2.52 23.62 23.62 0 0 0-3.47-.39l.6 5.35a2.86 2.86 0 0 1 1.52.62 3 3 0 0 1 1.08 2l.32 3a2.88 2.88 0 0 1-.63 2.15 2.91 2.91 0 0 1-1.33.94l1 9.31c8.38 1.75 16 7.2 16 7.2l-.37-22.07v-1.71a40.93 40.93 0 0 0-5.73-3.31 36.48 36.48 0 0 0-8.75-3l.51-.08a11.28 11.28 0 0 1-.08-2 34.87 34.87 0 0 1 7.08 2.22 47.22 47.22 0 0 1 10.53 6.32h-1.24V49h5V25.4h-1.31a47 47 0 0 1 10.5-6.33 34.06 34.06 0 0 1 7-2.21 9.58 9.58 0 0 1-.08 2l.53.08a36.54 36.54 0 0 0-8.74 3 39.77 39.77 0 0 0-5.69 3.26v1.72L28.2 49s7.64-5.45 16-7.2l1.06-9.51a2.93 2.93 0 0 1-1.65-3z"/>\n        </g>\n        </g>\n    </svg>\n    <div class="tb-hiddenText">Reading Rewards Icon</div>\n'}},t.prototype.render=function(){var e=i.default({"SuperMenu-weeble":!0,"weeble-mobile":this.props.isMobile,gray:!this.props.inLoyaltyProgram}),t=this.props.inLoyaltyProgram?this.renderLoyalWeeble():this.renderUnloyalWeeble();return l.createElement("div",{className:e,dangerouslySetInnerHTML:t})},t.defaultProps={isMobile:!1,isMobileApp:!1},t}(l.Component);t.default=u},616:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(18)),u=n(14),c=n(15),f=i(n(5)),d=i(n(617)),p=i(n(618)),h=n(619),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",showEmailSignupModal:!0,loading:!1,invalidEmail:!1,submitSuccess:!1,couponCreated:!1},t.dispatchError=function(){u.getDispatch()(c.showErrorMessage("Something went wrong and your email could not be submitted.",function(){return t.submitEmail()}))},t.submitEmail=function(){t.setState({loading:!0}),f.default.post("/api/marketingemail/newcustomeremailcollection").set("Accept","application/json").set("Content-Type","application/json").send(JSON.stringify(t.state.email)).end(function(e,n){e||n.body.generalError?(t.dispatchError(),t.setState({loading:!1,invalidEmail:!1,showEmailSignupModal:!1})):n.body.emailError?t.setState({invalidEmail:!0,loading:!1}):t.setState({submitSuccess:!0,loading:!1,invalidEmail:!1,couponCreated:n.body.couponCreated,showEmailSignupModal:n.body.couponCreated})})},t.handleInput=function(e){t.setState({email:e.currentTarget.value})},t.handleEnter=function(e){13===e.keyCode&&t.submitEmail()},t.closeModal=function(){t.setState({showEmailSignupModal:!1})},t}return o(t,e),t.prototype.render=function(){if(!this.state.showEmailSignupModal)return null;var e=this.props.isMobile?"EmailMobileModal-container":"EmailModal-container";this.props.isMobile&&this.state.couponCreated&&(e="EmailMobileModal-container-short");var t=(this.props.isMobile?h.iOSVersion():[null])[0];return l.default.createElement(s.default,{className:e,closeModal:this.closeModal,showCloseButton:!1},this.props.isMobile?l.default.createElement(d.default,{closeModal:this.closeModal,loading:this.state.loading,handleInput:this.handleInput,email:this.state.email,submitEmail:this.submitEmail,invalidEmail:this.state.invalidEmail,legacyIOS:t&&t<=9,couponCreated:this.state.couponCreated,handleEnter:this.handleEnter}):l.default.createElement(p.default,{closeModal:this.closeModal,loading:this.state.loading,handleInput:this.handleInput,email:this.state.email,submitEmail:this.submitEmail,invalidEmail:this.state.invalidEmail,couponCreated:this.state.couponCreated,handleEnter:this.handleEnter}))},t.defaultProps={isMobile:!1},t}(l.Component);t.default=m},617:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=r(n(3)),i=r(n(9)),l=r(n(231)),s=r(n(232)),u=r(n(2));t.default=function(e){var t=e.closeModal,n=e.loading,r=e.handleInput,c=e.email,f=e.submitEmail,d=e.invalidEmail,p=e.legacyIOS,h=e.couponCreated,m=e.handleEnter,y=p?"legacy-iOS-fix":"",v=h?"Congratulations!":"Take 15% Off Your First Purchase";return o.default.createElement("div",{className:"EmailSignupModal-flexContainer EmailSignupModal-bgImage is-mobile"},o.default.createElement("div",{className:"EmailSignupModal-imageContainer is-mobile "+y},o.default.createElement("img",{onClick:t,src:"https://static.thriftbooks.com/site_images/svgs/close.svg"})),o.default.createElement("div",{className:"EmailSignupModal-content is-mobile"},o.default.createElement("h2",null,v),h&&o.default.createElement("p",{className:"message-block"},"Check your email for your unique coupon code and enter it at checkout for 15% off your first purchase."),!h&&o.default.createElement("input",{className:u.default("tbpii",{"Input-errorBorder":d}),type:"text",value:c,placeholder:"Email address",onChange:r,onKeyDown:m}),!h&&o.default.createElement(l.default,{invalidEmail:d}),o.default.createElement("div",{className:"EmailSignup-buttonContainer"},n?o.default.createElement(i.default,null):h?o.default.createElement(a.default,{onClick:t},"Continue Shopping"):o.default.createElement(a.default,{onClick:f},"Get My Discount")),!h&&o.default.createElement(s.default,{invalidEmail:d,closeModal:t,isMobile:!0})))}},618:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),a=r(n(3)),i=r(n(9)),l=r(n(2)),s=r(n(231)),u=r(n(232));t.default=function(e){var t=e.closeModal,n=e.loading,r=e.handleInput,c=e.email,f=e.submitEmail,d=e.invalidEmail,p=e.couponCreated,h=e.handleEnter,m=p?"Congratulations!":"Take 15% Off Your First Purchase",y=p?"Check your email for your unique coupon code and enter it at checkout for 15% off your first purchase.":"Join millions of other ThriftBooks members who enjoy personalized recommendations, sale notifications, and exclusive offers!";return o.default.createElement("div",{className:"EmailSignupModal-flexContainer"},o.default.createElement("div",{className:"EmailSignupModal-imageContainer"},o.default.createElement("img",{src:"https://static.thriftbooks.com/site_images/new-customer-modal.jpeg"})),o.default.createElement("div",{className:"EmailSignupModal-content"},o.default.createElement("h2",null,m),o.default.createElement("p",{className:"message-block"},y),!p&&o.default.createElement("input",{className:l.default("tbpii",{"Input-errorBorder":d}),type:"text",value:c,placeholder:"Email address","aria-label":"Enter your email address for 15 percent off your first purchase.",onChange:r,onKeyDown:h}),!p&&o.default.createElement(s.default,{invalidEmail:d}),o.default.createElement("div",{className:"EmailSignup-buttonContainer"},n?o.default.createElement(i.default,null):p?o.default.createElement(a.default,{onClick:t},"Continue Shopping"):o.default.createElement(a.default,{onClick:f},"Get My Discount")),!p&&o.default.createElement(u.default,{invalidEmail:d,closeModal:t,isMobile:!1})))}},619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIOSBrowser=function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},t.iOSVersion=function(){if(t.isIOSBrowser()){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||"0",10)]}return[]}},620:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=n(6),u=i(n(59)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.manageCookies=function(e){if(e){u.default.get("SeenGdprEyebrow")||u.default.set("SeenGdprEyebrow",1,{expires:31536e3})}},n.handleClose=function(e){e.preventDefault(),n.setState({closed:!0})},n.state={closed:!1},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.account;e.getEyebrowFn;if(!t.loaded||u.default.get("SeenGdprEyebrow"))return null;this.manageCookies(t.loaded);var n=this.props.getEyebrowFn();return l.default.createElement(n,{onClose:this.handleClose})},t}(l.Component);t.default=s.connect(function(e){return{account:e.account}})(c)},621:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return i.default.createElement("div",{className:"GdprEyebrow Desktop"},i.default.createElement("div",{className:"GdprEyebrow-container"},i.default.createElement("div",{className:"GdprEyebrow-item"},i.default.createElement("p",null,"We use Cookies to collect information when you visit our site. You can learn more about how we use this information in our"," ",i.default.createElement("a",{href:"/privacy-policy/",target:"_blank"},"Privacy Policy"),". By closing this banner or continuing to use our site, you consent to our use of Cookies.")),i.default.createElement("div",{className:"GdprEyebrow-item GdprEyebrow-no-shrink Gdpreyebrow-align-right"},i.default.createElement("button",{className:"GdprEyebrow-close-button",onClick:this.props.onClose},"Accept & Close"))))},t}(i.Component);t.default=l},622:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=n(6),u=n(11),c=n(17),f=i(n(623)),d=i(n(624)),p=i(n(625)),h=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){var e="/shopping-cart/"===window.location.pathname||"/shopping-cart"===window.location.pathname;if(window.location.pathname.includes("addtocart")||e||!this.props.cart.justAdded)return null;var t=this.props.cart,n=t.cartCount,r=t.total,o=t.justAdded,a=p.default.isApp(),i=this.props.isMobile?d.default:f.default;return l.default.createElement(i,{itemCount:n,cartSubtotal:r,workName:o.title,workUrl:o.cleanUrl,idWork:o.idWork,pinnedClass:"pinned",scrollDistance:3,dismissFunction:this.props.actions.dismissCartMessages,isApp:this.props.isMobile&&parseInt(a)>0,shippingHurdle:10})},t}(l.Component),m=s.connect(function(e){return{account:e.account,cart:e.cart}},function(e){return{actions:u.bindActionCreators(c.actions,e)}})(h);t.default=m},623:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(2)),u=n(13),c=n(233),f=i(n(4)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.eyebrowRef=l.default.createRef(),n.state={isPinned:!1,offset:0,mounted:!1},n.handleScroll=n.handleScroll.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){this.setState({offset:this.eyebrowRef.current.offsetTop,mounted:!0}),window.addEventListener("scroll",this.handleScroll)},t.prototype.componentDidUpdate=function(e,t){!t.mounted&&this.state.mounted&&this.handleScroll()},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},t.prototype.handleScroll=function(){this.setState({isPinned:c.shouldPin(this.state.offset,this.props.scrollDistance)})},t.prototype.render=function(){var e,t=this.props,n=t.itemCount,r=t.cartSubtotal,o=t.workName,a=t.workUrl,i=t.idWork;return l.default.createElement("div",{className:"Content Eyebrow-container"},l.default.createElement("div",{ref:this.eyebrowRef,id:"Eyebrow",className:s.default((e={"AddToCart-EyebrowCenter":!0},e[this.props.pinnedClass]=this.state.isPinned,e))},l.default.createElement("div",{className:"AddToCart-EyebrowContainer"},l.default.createElement("div",{className:"Eyebrow-left"},l.default.createElement("p",null,"Added to your cart!"),l.default.createElement("div",{className:"Eyebrow-work"},l.default.createElement("div",{className:"WorkInfo-Check"},l.default.createElement(f.default,{icon:"check","aria-hidden":"true"})),l.default.createElement("a",{href:"/w/"+a+"/"+i+"/"},o))),l.default.createElement("div",{className:"Eyebrow-right"},l.default.createElement("p",null,"Cart Subtotal (",n," ",n>1?"items":"item","):"," ",l.default.createElement("span",{className:"Eyebrow-cartTotal"},"$",u.formatPrice(r))," "),r<this.props.shippingHurdle?l.default.createElement("div",{className:"Eyebrow-shipHurdle"},"Add"," ",l.default.createElement("b",null,"$",""+u.formatPrice(this.props.shippingHurdle-r))," ","to get FREE U.S. Shipping"):l.default.createElement("div",{className:"Eyebrow-shipHurdle"},"Plus ",l.default.createElement("b",null,"FREE")," U.S. Shipping")),l.default.createElement("div",{className:"Eyebrow-controls",id:"EyebrowControls"},l.default.createElement("div",{className:"AddToCart-ButtonContainer viewcart-btn"},l.default.createElement("a",{href:"/shopping-cart/",className:"Button btn-ViewCart"},"View Cart")),l.default.createElement("div",{className:"AddToCart-ButtonContainer checkout-btn"},l.default.createElement("a",{href:"/checkout/",className:"Button btn-Checkout"},"Proceed to Checkout"))))))},t}(l.Component);t.default=d},624:function(e,t,n){"use strict";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),s=i(n(2)),u=n(13),c=n(233),f=i(n(4)),d=function(e){function t(t){var n=e.call(this,t)||this;return n.eyebrowRef=l.default.createRef(),n.eyebrowContainerRef=l.default.createRef(),n.state={isPinned:!1,offset:0,mounted:!1},n.handleScroll=n.handleScroll.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.isApp?40:58;this.setState({offset:this.eyebrowRef.current.offsetTop-e,mounted:!0}),window.addEventListener("scroll",this.handleScroll),this.handleAppMargins(!1)},t.prototype.componentDidUpdate=function(e,t){!t.mounted&&this.state.mounted&&this.handleScroll()},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll),this.handleAppMargins(!0)},t.prototype.handleAppMargins=function(e){if(this.props.isApp){var t=document.getElementById("GlobalResponsiveSearch"),n=document.getElementsByClassName("NonHeaderContentWrapper")[0];e?n.style.marginTop="none"===t.style.display?"3.5rem":"6rem":(n.style.marginTop="0",this.eyebrowContainerRef.current.style.marginTop="none"===t.style.display?"3rem":"6rem")}},t.prototype.handleScroll=function(){this.setState({isPinned:c.shouldPin(this.state.offset,this.props.scrollDistance)})},t.prototype.render=function(){var e,t=this.props,n=t.itemCount,r=t.cartSubtotal,o=t.workName,a=t.workUrl,i=t.idWork;return l.default.createElement("div",null,l.default.createElement("div",{ref:this.eyebrowContainerRef,className:"AddToCart-MobileEyebrowContainer"},l.default.createElement("p",null,"Added to your cart!"),l.default.createElement("div",{className:"Eyebrow-work"},l.default.createElement("div",{className:"WorkInfo-Check"},l.default.createElement(f.default,{icon:"check","aria-hidden":"true"})),l.default.createElement("a",{href:"/w/"+a+"/"+i+"/"},o))),l.default.createElement("div",{className:"Content EyebrowPlaceholder"},l.default.createElement("div",{ref:this.eyebrowRef,id:"Eyebrow",className:s.default((e={"Eyebrow-PinnedContainer-app":this.props.isApp,"Eyebrow-PinnedContainer":!this.props.isApp},e[this.props.pinnedClass]=this.state.isPinned,e))},l.default.createElement("div",{className:"AddToCart-CartInfoContainer"},l.default.createElement("div",{className:"AddToCart-CartInfo"},l.default.createElement("p",null,"Cart Subtotal (",n," ",n>1?"items":"item","):"," ",l.default.createElement("span",{className:"Eyebrow-cartTotal"},"$",u.formatPrice(this.props.cartSubtotal))),r<this.props.shippingHurdle?l.default.createElement("div",{className:"Eyebrow-shipHurdle"},"Add"," ",l.default.createElement("b",null,"$",""+u.formatPrice(this.props.shippingHurdle-r))," ","to get FREE U.S. Shipping"):l.default.createElement("div",{className:"Eyebrow-shipHurdle"},"Plus ",l.default.createElement("b",null,"FREE")," U.S. Shipping")),l.default.createElement("div",{className:"AddToCart-ViewCartContainer"},l.default.createElement("a",{href:"/shopping-cart/"},"View Cart"))),l.default.createElement("div",{className:"Eyebrow-controls is-mobile"},l.default.createElement("a",{href:"/checkout/",className:"Button btn-Checkout"},"Proceed to Checkout")))),l.default.createElement("div",{className:"u-horizontalDivider addToCart-divider"}))},t}(l.Component);t.default=d},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(59),a=(r=o)&&r.__esModule?r:{default:r};t.default={isApp:function(){return a.default.get("thrift-app-cookie")}},e.exports=t.default},626:function(e,t,n){"use strict";var r,o=n(16),a=n(627),i=(r=a)&&r.__esModule?r:{default:r};(0,o.render)(function(){return i.default},"#GlobalCartContainer")},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=m(a),l=m(n(1)),s=n(6),u=m(n(3)),c=m(n(4)),f=m(n(2)),d=n(13),p=n(11),h=n(17);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=(0,s.connect)(function(e){return{account:e.account,cart:e.cart}},function(e){return{actions:(0,p.bindActionCreators)(h.actions,e)}})(r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={isCheckout:"/shopping-cart/"===window.location.pathname||"/shopping-cart"===window.location.pathname},r.readdToCart=function(e,t,n){return function(){var o={idiq:e,idAmazon:n,quantity:t,getCart:!0,reAdd:!0};r.props.actions.addToCart(o)}},r.readdCollectibleToCart=function(e,t){return function(){var n={idCollectible:e,idAmazon:t,getCart:!0,reAdd:!0};r.props.actions.addCollectibleToCart(n)}},r.getDeletedItems=function(){return r.props.cart.deleted.length||r.props.cart.deletedCollectibles.length?r.props.cart.deleted.map(function(e){return i.default.createElement("div",{className:"GlobalCart-removedItem",key:e.idiq},i.default.createElement("div",{className:"GlobalCart-removedItem-text"},"Removed ",i.default.createElement("a",{href:e.link},(0,d.cutStringOnSpace)(e.title,75)),"."),i.default.createElement(u.default,{className:"GlobalCart-removedItem-link",isLink:!0,onClick:r.readdToCart(e.idiq,e.quantity,e.idAmazon)},"Undo"))}).concat(r.props.cart.deletedCollectibles.map(function(e){return i.default.createElement("div",{className:"GlobalCart-removedItem",key:"collectible-"+e.idCollectible},i.default.createElement("div",{className:"GlobalCart-removedItem-text"},"Removed ",i.default.createElement("a",{href:e.link},(0,d.cutStringOnSpace)(e.title,75)),"."),i.default.createElement(u.default,{className:"GlobalCart-removedItem-link",isLink:!0,onClick:r.readdCollectibleToCart(e.idCollectible,e.idAmazon)},"Undo"))})):null},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=null;!this.props.cart.loading&&!0===this.props.cart.initializeState?e=this.props.cart.cartCount:this.props.account.loaded&&(e=this.props.account.cartCount);var t="is-tripleDigit";return e<10?t="is-singleDigit":e<=99&&(t="is-doubleDigit"),i.default.createElement("div",{className:"GlobalCart-container"},i.default.createElement("a",{className:"GlobalCart-button is-desktop Header-button Header-cart",href:"/shopping-cart/"},i.default.createElement(c.default,{icon:"cart","aria-hidden":"true"}),i.default.createElement("div",{className:(0,f.default)("GlobalCart-count",t)},e<=99?e:"99+"),i.default.createElement("div",{className:"tb-hiddenText"},1!=e?"books":"book"," in your cart")),i.default.createElement("a",{className:"GlobalCart-button is-mobile Header-button Header-cart",href:"/shopping-cart/"},i.default.createElement(c.default,{icon:"cart","aria-hidden":"true"}),i.default.createElement("div",{className:(0,f.default)("GlobalCart-count",t)},e<=99?e:"99+"),i.default.createElement("div",{className:"tb-hiddenText"},1!=e?"books":"book"," in your cart")))}}]),t}())||r;v.propTypes={account:l.default.shape({cartCount:l.default.number,loaded:l.default.bool}),actions:l.default.shape({addToCart:l.default.function,addCollectibleToCart:l.default.function,dismissCartMessages:l.default.function,readdToCart:l.default.function,clearRemovedItems:l.default.function,readdCollectibleToCart:l.default.function,getCart:l.default.function}),cart:l.default.shape({cartCount:l.default.number,collectibles:l.default.array,deleted:l.default.array.isRequired,deletedCollectibles:l.default.array.isRequired,justAdded:l.default.object,id:l.default.number,initializeState:l.default.oneOfType([l.default.object,l.default.bool]),items:l.default.array,loading:l.default.bool,total:l.default.number,totalWithGiftCards:l.default.number,couponPending:l.default.bool,couponUpdated:l.default.bool,couponCode:l.default.string,couponMessage:l.default.string,couponDescription:l.default.string,couponError:l.default.string,giftCardApplied:l.default.bool,giftCardBalance:l.default.number,giftCardError:l.default.string,giftCardPending:l.default.bool,giftCardUpdated:l.default.bool})},t.default=v,e.exports=t.default},628:function(e,t,n){"use strict";var r,o=n(16),a=n(629),i=(r=a)&&r.__esModule?r:{default:r};(0,o.render)(function(){return i.default},"#GlobalMessenger")},629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=y(a),l=y(n(1)),s=y(n(3)),u=y(n(4)),c=y(n(200)),f=y(n(2)),d=n(11),p=n(6),h=n(25),m=y(n(32));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=(0,p.connect)(function(e){return{activeMessages:e.messenger.activeMessages}},function(e){return{actions:(0,d.bindActionCreators)(h.actions,e)}})(r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.outsideClickListener=function(e){var t=e.target;t&&t.parentElement&&t.parentElement.className&&(0,m.default)(t.parentElement.className,"GlobalMessage")&&r.props.activeMessages.length&&r.props.activeMessages.map(function(e){return r.props.actions.cancelMessage(e.id)})},r.handleDismiss=function(e){return function(){return r.props.actions.cancelMessage(e)}},r.handleHover=function(e){return function(t){return r.props.actions.setTimeoutActive(e,!t)}},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.outsideClickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.outsideClickListener)}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"GlobalMessenger"},this.props.activeMessages.map(function(t){return i.default.createElement(c.default,{activeChangeFn:e.handleHover(t.id),className:(0,f.default)("GlobalMessage",{"has-icon":null!==t.icon&&void 0!==t.icon}),key:t.id,onClick:e.handleDismiss(t.id),stickyActive:!0},t.icon?i.default.createElement(u.default,{icon:t.icon,"aria-hidden":"true"}):null,i.default.createElement("div",{className:"GlobalMessage-text"},t.text),t.link?i.default.createElement(s.default,{className:"GlobalMessage-link",isLink:!0,onClick:t.link.cb},t.link.text):null)}))}}]),t}())||r;b.displayName="Messenger",b.propTypes={actions:l.default.shape({cancelMessage:l.default.func,setTimeoutActive:l.default.func}),activeMessages:l.default.array},t.default=b,e.exports=t.default},630:function(e,t,n){"use strict";var r,o=n(16),a=n(631),i=(r=a)&&r.__esModule?r:{default:r};(0,o.render)(function(){return i.default},"#NotificationModal")},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),l=y(i),s=y(n(1)),u=n(6),c=n(11),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(97)),d=y(n(3)),p=y(n(18)),h=n(156),m=y(n(155));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=(0,u.connect)(function(e){return a({},e.notificationModal)},function(e){return{actions:(0,c.bindActionCreators)(f,e)}})(r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.app=(0,m.default)(),r.signMeUp=function(){(0,h.signUpAndHandleResponse)(r.app.subscribeToNotifications),(0,h.setWantsNotifications)(h.wantsNotificationsEnum.YES),r.props.actions.hideOptInModal()},r.maybeLater=function(){(0,h.getWantsNotifications)()==h.wantsNotificationsEnum.MAYBE_LATER?(0,h.setWantsNotifications)(h.wantsNotificationsEnum.NO):(0,h.setWantsNotifications)(h.wantsNotificationsEnum.MAYBE_LATER),r.props.actions.hideOptInModal()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){return this.props.showing?l.default.createElement(p.default,{closeModal:this.maybeLater},l.default.createElement("div",{className:"PushNotification-modalContent"},l.default.createElement("p",{className:"bold"},this.props.title),l.default.createElement("p",null,this.props.message),l.default.createElement(d.default,{className:"PushNotification-modalButton",onClick:this.signMeUp},"Sign Me Up"),l.default.createElement(d.default,{className:"PushNotification-modalButton PushNotification-modalButtonGray",onClick:this.maybeLater},"Maybe Later"))):null}}]),t}())||r;b.propTypes={actions:s.default.shape({hideOptInModal:s.default.function}),message:s.default.string,showing:s.default.bool,title:s.default.string},t.default=b,e.exports=t.default},632:function(e,t,n){"use strict"},86:function(e,t,n){var r=n(228),o=n(55),a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=o.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),o.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),o.isObject(n)&&o.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var a,i=this._createSvgView(this._opts);if(!(a=o.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=a,this._container.appendChild(i.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&o.setStyles(i.svg,this._opts.svgStyle),this.svg=i.svg,this.path=i.path,this.trail=i.trail,this.text=null;var l=o.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new r(i.path,l),o.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.animate(e,t,n)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error("Object is destroyed");void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error("Object is destroyed");this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw new Error("Object is destroyed");return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw new Error("Object is destroyed");null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),o.isObject(e)?(o.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),n=o.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},a.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},a.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),o.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},a.prototype._initializeTextContainer=function(e,t,n){},a.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);o.floatEquals(this.containerAspectRatio,n/r)}},e.exports=a}},[596]);