/*wfsw:banner_placement*/define("banner_placement",["exports","react","prop-types","lazy_component","onsitemedia_shapes","pl_block","classnames","scribe_in_view_tracker","apn_media_constants","react_intersection_observer","lazy!apn_media_admin_overlay","trans","lazy!apn_feedback_modal","pl_toast","pl_button","pl-text","@styles/onsitemedia/app_nexus/banner_placement","turbine_helper_babel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.default=void 0;var s=r.interopRequireWildcard(b);var t=r.interopRequireDefault(c);var u=r.interopRequireDefault(d);var v=r.interopRequireDefault(g);var w=r.interopRequireDefault(j);var x=r.interopRequireDefault(k);var y=r.interopRequireDefault(l);var z=r.interopRequireDefault(m);var A=r.interopRequireDefault(n);var B=r.interopRequireDefault(o);var C=r.interopRequireDefault(p);var D=r.interopRequireDefault(q);var E=f.SPACING.SPACE_3;var F=function BannerAd(a){var b=a.placementId,c=a.width,d=a.height,e=a.creativeId,g=a.isPhone,j=a.apnBannerAdMarkup,k=a.srcUrl,l=a.isIFrameContentLoaded,m=a.gridSize,n=a.flexOrder,o=a.margins,p=a.isAdminOverlayEnabled,q=a.adsWrapStyles,t=a.showAdvertisementFeedback,D=a.advertisementFeedback,F=a.updateIsIFrameContentLoaded,G=a.decoratedObserverChange;var H=(0,s.useState)(false),I=r.slicedToArray(H,2),J=I[0],K=I[1];var L=(0,s.useState)(false),M=r.slicedToArray(L,2),N=M[0],O=M[1];var P=(0,s.useState)(false),Q=r.slicedToArray(P,2),R=Q[0],S=Q[1];var T=s["default"].createRef();var U=function checkIframeContent(){var a,b,c;var d=(T===null||T===void 0?void 0:(a=T.current)===null||a===void 0?void 0:a.contentDocument)||(T===null||T===void 0?void 0:(b=T.current)===null||b===void 0?void 0:(c=b.contentWindow)===null||c===void 0?void 0:c.document);if(d!==null&&d.body!==null&&d.body.childElementCount>0){F();}};var V=function handleAdFeedbackModal(){return K(true);};var W=function handleAdFeedbackNotification(a){if(a){S(true);}O(a);};var X=function shouldShowAdvertisementFeedback(){return t&&!R&&D!=null&&l;};return s["default"].createElement(f.Block,{mt:o?o.mt:null,mb:o?o.mb:null,flexDirection:null,isGridItem:m!=null,size:m,flexOrder:n},s["default"].createElement(s["default"].Fragment,null,s["default"].createElement("div",{className:"MediaBannerPlacement",style:q,"aria-hidden":"true"},s["default"].createElement(h.InView,{type:h.ONSITEMEDIA_PLACEMENT,threshold:i.AD_VIEWABILITY_THRESHOLD,data:{placementId:b,creativeId:e,adtype:i.AUTOTRACK_AD_TYPE}},s["default"].createElement(w["default"],{threshold:i.AD_VIEWABILITY_THRESHOLD,onChange:G,onlyOnce:true},s["default"].createElement("div",{className:"MediaBannerPlacement-wrap",style:{maxWidth:c>1?c:null}},s["default"].createElement("div",{style:{paddingBottom:c===0?0:"calc(".concat(d/c*100,"% + 8px)")}},s["default"].createElement("iframe",{title:"apnMediaSSP-".concat(b),id:"apnMediaSSP-".concat(b),scrolling:"no",frameBorder:"0",tabIndex:"-1",marginWidth:"0",className:(0,v["default"])('MediaBannerPlacement-iframe',{'u-hiddenNode':!l}),src:k,srcDoc:j,ref:T,onLoad:U}))))),p&&s["default"].createElement(u["default"],{component:x["default"],placementId:parseInt(b,10),creativeId:e,isPhone:g,adPlacementWidth:c,adPlacementHeight:d,placementType:"Banner RTB Placement"}),X()&&s["default"].createElement(s["default"].Fragment,null,s["default"].createElement(C["default"],{mt:E,size:"small",textAlign:"center"},s["default"].createElement(B["default"],{isPlainText:true,dataEventName:"advertisement_feedback",onClick:V,key:"feedbackButton",testIds:{enzyme:'advertisement_feedback'}},s["default"].createElement(y["default"],{msgid:"stores.onSiteMedia.advertisementFeedback"}))),s["default"].createElement(u["default"],{component:z["default"],creativeId:e,adHeight:d,adWidth:c,advertisementFeedback:D,isOpen:J,handleClose:function handleClose(){return K(false);},toggleToast:function toggleToast(){return W(true);},key:"feedbackModal"})),s["default"].createElement(A["default"],{isOpen:N,status:"success",onRequestClose:function onRequestClose(){return W(false);}},s["default"].createElement(y["default"],{msgid:"stores.onSiteMedia.advertisementFeedbackThankYouMessage"})))));};F.defaultProps={placementId:'',width:0,height:0,creativeId:0,apnBannerAdMarkup:'',isATF:false,isIFrameContentLoaded:false,isPhone:false,shouldPreRender:false,preRenderHeight:0,gridSize:null,margins:{mb:'',mt:''},adsWrapStyles:{minHeight:0,maxWidth:0},flexOrder:0,advertisementFeedback:null,showAdvertisementFeedback:true,srcUrl:''};var G=D["default"].hoc(F);a.default=G;});
/*wfsw*//*wfsw:pl_toast*/define("pl_toast",["exports","@wayfair-homebase-stores-toast","@styles/_components/toast/pl_toast","turbine_helper_babel"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.default=void 0;var e=d.interopRequireDefault(b);var f=d.interopRequireDefault(c);var g=f["default"].hoc(e["default"]);a.default=g;});
/*wfsw*/;(function(){var k="unencoded__stores.onSiteMedia.advertisementFeedback";var wf=window.wf=(window.wf||{});wf.translations=wf.translations||{};wf.translations[k]="Advertisement Feedback";define("_t!%5B%22stores.onSiteMedia.advertisementFeedback%22%2C%22LNRS2%22%2Ctrue%5D",[], function() {return wf.translations[k];});})();
/*wfsw*/;(function(){var k="unencoded__stores.onSiteMedia.advertisementFeedbackThankYouMessage";var wf=window.wf=(window.wf||{});wf.translations=wf.translations||{};wf.translations[k]="Thank you for your feedback!";define("_t!%5B%22stores.onSiteMedia.advertisementFeedbackThankYouMessage%22%2C%22LNRS2%22%2Ctrue%5D",[], function() {return wf.translations[k];});})();
/*wfsw*//*wfsw:@wayfair-homebase-stores-toast*/define("@wayfair-homebase-stores-toast",["react","prop-types","@wayfair-homebase-common","pl-close-button","classnames"],function(_t,_e,_o,_n,_r){var _turbine_helper_amd=require("turbine_helper_amd"),t=_turbine_helper_amd.interopRequireAmd(_t),e=_turbine_helper_amd.interopRequireAmd(_e),o=_turbine_helper_amd.interopRequireAmd(_o),n=_turbine_helper_amd.interopRequireAmd(_n),r=_turbine_helper_amd.interopRequireAmd(_r);return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports;}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n});},o.n=function(t){var e=t&&t.__esModule?function(){return t.default;}:function(){return t;};return o.d(e,"a",e),e;},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e);},o.p="",o(o.s=1);}([function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t;};},function(t,e,o){"use strict";var n=o(2),r=o(3);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(o(4)),a=r(o(5)),u=r(o(0)),i=r(o(6)),c=r(o(8)),f=r(o(10)),l=r(o(11)),p=n(o(12)),m=(r(o(13)),o(14)),d=r(o(15)),y=r(o(16));function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0;}catch(t){return!1;}}();return function(){var o,n=(0,f.default)(t);if(e){var r=(0,f.default)(this).constructor;o=Reflect.construct(n,arguments,r);}else o=n.apply(this,arguments);return(0,c.default)(this,o);};}o(17);var v=function(t){(0,i.default)(o,t);var e=b(o);function o(){var t;(0,s.default)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r)),(0,l.default)((0,u.default)(t),"state",{isOpen:t.props.isOpen}),(0,l.default)((0,u.default)(t),"handleToastOpen",function(){t.props.manualDismiss&&t.toastRef&&t.toastRef.focus(),t.props.manualDismiss||t.closeWithTimeout();}),(0,l.default)((0,u.default)(t),"clearToastTimeout",function(){t.activeTimeout&&clearTimeout(t.activeTimeout);}),(0,l.default)((0,u.default)(t),"closeWithTimeout",function(){t.activeTimeout=setTimeout(function(){return t.setState({isOpen:!1},function(){t.activeTimeout=null,t.props.onRequestClose&&t.props.onRequestClose();});},t.props.duration);}),(0,l.default)((0,u.default)(t),"requestClose",function(e){t.props.onRequestClose&&t.props.manualDismiss?t.props.onRequestClose(e):e.preventDefault();}),t;}return(0,a.default)(o,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.handleToastOpen();}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;this.setState({isOpen:t.isOpen},function(){e.clearToastTimeout(),t.isOpen&&e.handleToastOpen();});}},{key:"componentWillUnmount",value:function(){this.clearToastTimeout();}},{key:"render",value:function(){var t=this,e={bottom:this.props.bottomOffset};return p.default.createElement(m.Portal,{isOpen:this.state.isOpen},p.default.createElement("div",{className:(0,y.default)("Toast Toast-transition--fadeInBottomCss",{"is-dismissible":this.props.manualDismiss}),style:e,role:"alert",tabIndex:"-1","aria-labelledby":"toast-message",ref:function(e){return t.toastRef=e;},"data-enyzme-id":"toast","data-hb-id":"pl_toast"},p.default.createElement("div",{className:"Toast-message",id:"toast-message"},this.props.children),this.props.manualDismiss&&p.default.createElement("div",{className:"Toast-close"},p.default.createElement(d.default,{variation:"inverted",onClick:this.requestClose,dataEventName:this.props.dataEventName||this.props.dataGroupName,label:this.props.dismissText,"data-event-name":this.props.dataEventName,"data-group-name":this.props.dataGroupName,"data-enzyme-id":"toastDismiss"}))));}}]),o;}(p.Component);(0,l.default)(v,"defaultProps",{bottomOffset:100,dismissText:null,duration:6e3,isOpen:!1,manualDismiss:!1,dataEventName:null,dataGroupName:null,onRequestClose:function(){}});var h=v;e.default=h;},function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};n.get||n.set?Object.defineProperty(e,o,n):e[o]=t[o];}return e.default=t,e;};},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t};};},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");};},function(t,e){function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t;};},function(t,e,o){var n=o(7);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e);};},function(t,e){function o(e,n){return t.exports=o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t;},o(e,n);}t.exports=o;},function(t,e,o){var n=o(9),r=o(0);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?r(t):e;};},function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t;}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t;})(t);}function n(e){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?t.exports=n=function(t){return o(t);}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t);},n(e);}t.exports=n;},function(t,e){function o(e){return t.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t);},o(e);}t.exports=o;},function(t,e){t.exports=function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t;};},function(e,o){e.exports=t;},function(t,o){t.exports=e;},function(t,e){t.exports=o;},function(t,e){t.exports=n;},function(t,e){t.exports=r;},function(t,e,o){"use strict";t.exports={};}]);});
/* Requested File List: bundler:{"modules":["banner_placement"],"omit":["init_page","react_factory","tungsten_react_wrapper","desktop_unibrowse_page_container","recent_pages","nav_header_webpack","sf-cart-dropdown-container","@wayfair-sf-nav-department-dropdown","responsive_footer_ssr_wrapper","media_placement_fetcher_container","browse_header_wrapper_container","browse_header_minimized","pl-heading","dropdown_filter","product_card_option_wrapper","desktop_browse_footer"]} */
/** nbs--315360000-315360000 **/window.wf = window.wf || {}; window.wf._bundles = window.wf._bundles || {}; window.wf._bundles["689e8c3c241875f4d75da74701fb047c.js"] = 12611;

/* CB:c9fb6afdb21ce7b3a6d RqV:c9fb6afdb21ce7b3a6d */
/* RtV:c9fb6afdb21ce7b3a6d */
/* Timer[finished]: 104.809999 ms */
/* lang: eng_us*/
