var DYO=DYO||{};"undefined"==typeof window.DY&&(window.DY={}),"undefined"==typeof window.DY.API&&(window.DY.API=function(){(DY.API.actions=DY.API.actions||[]).push(arguments),DYO&&DYO.PerformanceData&&arguments&&arguments[0]&&"spa"===arguments[0]&&(DYO.PerformanceData.loadType="SPA")}),function(){function e(e){if(DYO.sectionFeatures&&DYO.sectionFeatures[e]){var t=Object.keys(DYO.sectionFeatures[e]);return-1!==t.indexOf("enabled")&&-1!==t.indexOf("value")?DYO.sectionFeatures[e]:null}return null}function t(t){var n=e(t);return n&&n.enabled}function n(e){return DYO.sectionConfig?DYO.sectionConfig[e]:null}function r(e){try{return DYJSON.parse(n(e))}catch(t){return null}}var o=!1;o&&"undefined"==typeof setTimeout&&(setTimeout=function(e){e()}),DYO.getSectionFeature=e,DYO.isFeatureEnabled=t,DYO.getSectionConfigValue=n,DYO.getSectionConfigJSON=r,DYO.isMobile=o,DYO.version=12450}(),function(){function escapeContServerVariationSet(e){for(var t=experiments[e].variations.slice(0),n=0;n<t.length;n++)t[n].id=t[n].id,"undefined"!=typeof t[n].name&&null!=t[n].name&&"undefined"==typeof t[n].__name_escaped_flag&&(t[n].name=escape(t[n].name),t[n].__name_escaped_flag=!0),"undefined"!=typeof t[n].weight&&DYO.StringUtils.isN(t[n].weight)||(t[n].weight=null);return t}function escapeClientVariationSet(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=new Object;r.id=escape(DYJSON.stringify(e[n].id)),"undefined"!=typeof e[n].name&&null!=e[n].name&&(r.name=escape(e[n].name)),"undefined"!=typeof e[n].weight&&DYO.StringUtils.isN(e[n].weight)&&(r.weight=e[n].weight),t.push(r)}return t}function generateHash(e){var t=e.slice(0);t.sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0});var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=t[r].id,n+=DYO.ExpUtils.verSep);return""+hashCode(n)}function checkArrMatch(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&e[n]==t[r])return!0;return!1}function expNameToId(e){for(var t in experiments)if(experiments.hasOwnProperty(t)&&experiments[t].name.toLowerCase()==e.toLowerCase())return t;return null}function varNameToId(e,t){if(experimentExists(e))for(var n=0;n<experiments[e].variations.length;n++)if(experiments[e].variations[n].name.toLowerCase()==t.toLowerCase())return experiments[e].variations[n].id;return null}function setForceCalculationOption(e){return void 0!==e&&null!=e||(e=[]),null!=e&&(e[OPTION_FORCE_CALCULATION]=!0),e}function getForceCalculationOption(e,t){var n=!1;return null!=t&&"undefined"!=typeof t[OPTION_FORCE_CALCULATION]&&null!=t[OPTION_FORCE_CALCULATION]&&(n=t[OPTION_FORCE_CALCULATION]),n||getVariationIdsFromQueryParam(e)}function setDebug(e){debug=e,DYO.d=debug}function experimentExists(e){return"undefined"!=typeof experiments[e]&&null!=experiments[e]}function checkAudience(e){if(experiments[e].audiences.length>0){var t=[];if("undefined"==typeof DY||"undefined"==typeof DY.aud)return!0;if(!((t=DY.aud.split(".")).length>0))return!1;checkArrMatch(experiments[e].audiences,t)}return!0}function calculateDist(e){var t=!1;checkAudience(e)?t=Math.floor(1e3*Math.random())<10*("undefined"!=typeof experiments[e].traffic?experiments[e].traffic:100):t=!1;return t}function getVariationIdsFromQueryParam(e){return!!DYO.StringUtils.getUrlParam("__dyfc_"+e)&&DYO.StringUtils.getUrlParam("__dyfc_"+e).split(",")}function storeExpVisitId(e,t){var n=e.split(DYO.ExpUtils.verSep);return n[DYO.Enums.ENUMS.VERSIONDATASTR.STATIC_DIST]=t,n.join(DYO.ExpUtils.verSep)}function generateSeedFuncs(e,t,n,r,o){var i=0;if(e===DYO.Props.LIFETIME_SCOPE||e===DYO.Props.SESSION_SCOPE){var a=function(){return c.stickinessFactorVars},s=function(){return c.stickinessFactorCGTG};i=(c=DYO.staticAllocation.getStaticAllocationDist(t,n,r,o)).stickinessFactorVars}else if(e===DYO.Props.PAGEVIEW_SCOPE){var c=DYO.staticAllocation.getStaticAllocationDist(t,n,r,o);a=function(){return Math.random()},s=function(){return c.stickinessFactorCGTG}}else a=function(){return Math.random()},s=function(){return Math.random()};return{seedFuncVars:a,seedFuncCGTG:s,stickinessFactorVars:i}}function setSeedInfo(e){var t=DY.dyid||DYO.StorageUtilsInternal.getItem("_dyid");if(t&&DYO.staticAllocation.shouldStaticAllocate()){var n=DYO.oexps[e].stickiness.toString();if(n===DYO.Props.LIFETIME_SCOPE){var r=generateSeedFuncs(n,t,DYO.oexps[e].version);DYO.logBlock.info(function(){return"static allocation version for expID "+e},"exp-"+e)}else if(n===DYO.Props.SESSION_SCOPE){r=generateSeedFuncs(n,t,DYO.oexps[e].version,DYO.oexps[e].reweightId||0,DYO.Seqs.sesLoadSeq.toString());DYO.logBlock.info(function(){return"static allocation session for expID "+e},"exp-"+e)}else{r=generateSeedFuncs(n,t,DYO.oexps[e].version);DYO.logBlock.info(function(){return"page view for expId "+e},"exp-"+e)}}else r=generateSeedFuncs();return{seedFuncVars:r.seedFuncVars,seedFuncCGTG:r.seedFuncCGTG,stickinessFactorVars:r.stickinessFactorVars}}function setMultipleVariations(e,t,n,r,o){var i=[],a=getCurrentVersionDataStr(e),s=setSeedInfo(e),c=s.seedFuncVars,u=s.seedFuncCGTG;t=storeExpVisitId(t,s.stickinessFactorVars);var l=experiments[e],d=DYO.Props.isControlGroupChoose(l,a,t,u),p=DYO.Props.MANUAL_MECHANISM,f=[DYO.ExpUtils.SUB_MECHANISM_NA],m=void 0!==o&&null!=o&&"undefined"!=typeof o.varArr&&null!=o.varArr&&o.varArr.length>=r;if(r>n.length||r<=0);else if(getVariationIdsFromQueryParam(e))for(var h=getVariationIdsFromQueryParam(e),g=0;g<h.length;g++)for(var O=0;O<n.length;O++)h[g]===n[O].id.toString()&&i.push(n[O]);else if(d){var D=!0;if(l.controlGroup.method==DYO.Props.CGM_RANDOM&&null!=n&&n.length>0)i=DYO.Chooser.equalDecisions(n,r,c);else if(l.controlGroup.method==DYO.Props.CGM_PRESET_VARS&&"undefined"!=typeof l.controlGroup.varIds){var y=(""+l.controlGroup.varIds).split(DYO.ExpUtils.variSep);for(g=0;g<y.length&&g<r;g++){var v=y[g].split(DYO.ExpUtils.verSep);v.length>1?i.push({id:v[0],name:v[1]}):i.push({id:v[0]})}}else D=!1;D&&(p=DYO.Props.CONTROL_GROUP_MECHANISM,f=[m?DYO.ExpUtils.SUB_MECHANISM_CG_WITH_PREDICT:DYO.ExpUtils.SUB_MECHANISM_CG_WITHOUT_PREDICT])}else if(m)i=o.varArr,p=DYO.Props.PREDICT_MECHANISM,"undefined"!=typeof o.smechArr&&null!=o.smechArr&&o.smechArr.length>0&&(f=o.smechArr);else if(null!=n&&n.length>0&&null==n[0].weight)i=DYO.Chooser.equalDecisions(n,r,c),p=DYO.Props.MANUAL_MECHANISM;else{if(r<=1){var Y=DYO.Chooser.weightedDecision(n,c);null!=Y&&null!=Y.loc&&i.push(n[Y.loc])}else null!=n&&n.length>0&&(i=DYO.Chooser.wRandomChoose(n,r,c));p=DYO.Props.getMechanismRepresentingWeights(l);var _=DYO.Props.getSubMechanismRepresentingWeights(l);null!=_&&(f=[_])}t=DYO.Props.resetVersionDataMechanism(t,p,f);var w=new Array,E=new Array;for(g=0;g<r&&g<i.length;g++){var I="undefined"!=typeof i[g].name&&null!=i[g].name;w[g]={id:DYJSON.parse(unescape(i[g].id)),name:I?unescape(i[g].name):""},E[g]=i[g].id+(I?DYO.ExpUtils.verSep+i[g].name:"")}return setVariations(e,t,E),w}function calculateMultipleProgVariation(e,t){var n=DYO.Props.expProgVersionData(experiments[e]),r=experiments[e].variations.slice(0),o=[];calculateDist(e)?o=setMultipleVariations(e,n,r,t,getProgPredictionDecisions(e,n,r,t)):(setVariation(e,n,DYO.ExpUtils.notInExp),log("out of experiment"));var i=DYO.CoreUtils.map(function(e){return e.id},o),a=DYO.getSectionFeature("DECISION_ON_BATCH");return a&&a.enabled&&!DYO.staticAllocation.shouldStaticAllocate()&&DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.DECISION,expId:e,variationIds:i,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}),DY.API("pub",{on:"dy-after-render",args:[DYO.Enums.ENUMS.EXECUTION_EVENTS.EXPERIMENT_DECISION,{experiment:e,variationIds:i,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}]}),DY.API("pub",{on:"dy-decision-made",args:[DYO.Enums.ENUMS.EXECUTION_EVENTS.EXPERIMENT_DECISION,{experiment:e,variationIds:i,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}]}),o}function calculateMultipleContVariation(e,t,n,r){var o=DYO.Props.expContVersionData(experiments[e],n),i=t.slice(0),a=[];calculateDist(e)?(experiments[e].variations.length>0&&DYO.Props.verifyClientIdsOfServerAndClientSynced(experiments[e],n)&&t.length==experiments[e].variations.length&&(i=escapeContServerVariationSet(e)),a=setMultipleVariations(e,o,i,r,getContPredictionDecisions(e,o,i,n,r))):(setVariation(e,o,DYO.ExpUtils.notInExp),log("out of experiment"));var s=DYO.CoreUtils.map(function(e){return e.id},a),c=DYO.getSectionFeature("DECISION_ON_BATCH");return c&&c.enabled&&!DYO.staticAllocation.shouldStaticAllocate()&&DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.DECISION,expId:e,variationIds:s,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}),DY.API("pub",{on:"dy-after-render",args:[DYO.Enums.ENUMS.EXECUTION_EVENTS.EXPERIMENT_DECISION,{experiment:e,variationIds:s,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}]}),DY.API("pub",{on:"dy-decision-made",args:[DYO.Enums.ENUMS.EXECUTION_EVENTS.EXPERIMENT_DECISION,{experiment:e,variationIds:s,attributionProps:DYO.Props.getCurrentAttributionProps(),versionDataStr:DYO.getCurrentVersionDataStr(e)}]}),a}function getProgPredictionDecisions(e,t,n,r){return getPredictionDecisions(e,t,n,r)}function getContPredictionDecisions(e,t,n,r,o){if(DYO.Props.verifyClientIdsOfServerAndClientSynced(experiments[e],r))return getPredictionDecisions(e,t,n,o)}function getPredictionDecisions(e,t,n,r){var o=DYO.Predict.getPrediction(e,DYO.Props.getVersionId(t));return void 0!==o&&null!=o&&"undefined"!=typeof o.varIdArr&&null!=o.varIdArr&&o.varIdArr.length>=r?(o.varArr=orderVariationsByPrediction(o.varIdArr,n,r),o):null}function orderVariationsByPrediction(e,t,n){for(var r=[],o=0,i=0;i<e.length;i++)for(var a=0;a<t.length;a++){var s=t[a];if(e[i]==s.id){if(r.push(s),++o==n)return r;break}}return r}function cleanupExperiments(){experimentTree={},refreshExperiments()}function refreshExperiments(){cleanupTreeAndStore(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree,!1);var e={};cleanupTreeAndStore(DYO.ExpUtils.storageAttKey,DYO.ExpUtils.cookieAttKey,e,!0)}function cleanupTreeAndStore(e,t,n,r){try{var o=getStoredExperiments(e,t);if(void 0!==o&&""!=o&&null!=o){for(var i=o.split(DYO.ExpUtils.expSep),a=0;a<i.length;a++)try{var s=i[a].split(DYO.ExpUtils.dataSep);if("undefined"!=typeof experiments[s[0]]){var c=s[1].split(DYO.ExpUtils.verSep),u=s.length>4?s[4].split(DYO.ExpUtils.verSep):null;if(DYO.Props.isStoredVersionValidDuringCleanup(experiments[s[0]],c,u))if(r){var l=u;DYO.Props.isStoredAttributionValidDuringCleanup(experiments[s[0]],c,l)&&(n[s[0]]=s.join(DYO.ExpUtils.dataSep))}else n[s[0]]=null==u?s.join(DYO.ExpUtils.dataSep)+DYO.ExpUtils.dataSep+DYO.Props.generateSelectionDataPart(experiments[s[0]]):s.join(DYO.ExpUtils.dataSep)}}catch(d){log("error cleaning experiment "+i[a])}storeExperiments(e,t,n)}}catch(d){log("error cleaning experiments")}}function storeExperiments(e,t,n){var r=[],o=[];for(var i in n)n.hasOwnProperty(i)&&(DYO.ExpUtils.isExpCookieManaged(i)?o.push(n[i]):r.push(n[i]));DYO.StorageUtilsInternal.setItem(e,r.join(DYO.ExpUtils.expSep)),DYO.StorageUtilsInternal.setItem(t,o.join(DYO.ExpUtils.expSep))}function getStoredExperiments(e,t){var n=DYO.StorageUtilsInternal.getItem(e),r=DYO.StorageUtilsInternal.getItem(t);return DYO.ExpUtils.merge(r,n)}function emptyMethod(){}function forceChooseVariation(e,t){return chooseVariation(e,t=setForceCalculationOption(t))}function chooseVariation(e,t){var n=chooseMultipleVariations(e,1,t);if(null!=n&&n.length>0&&null!=n[0].id){"number"!=typeof e&&(e=expNameToId(e));for(var r=0;r<experiments[e].variations.length;r++)if(experiments[e].variations[r].id==n[0].id)return r}return 0}function forceChooseMultipleVariations(e,t,n){return chooseMultipleVariations(e,t,n=setForceCalculationOption(n))}function chooseMultipleVariations(e,t,n){var r=[],o=getForceCalculationOption(e,n);if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)?((null==(r=o?null:getDynamicVariations(e,DYO.Props.expProgVersionData(experiments[e])))||r.length!=t&&!isInPresetVarsCG(e))&&(r=calculateMultipleProgVariation(e,t)),varRimpSelectedVariations(e,r)):log("non existing experiment"),null!=r&&null!=experiments[e]&&experiments[e].autoExecuteAction)for(var i=0;i<r.length;++i)if(null!=r[i]&&null!=r[i].id){var a=r[i].id;executeVariation(parseInt(e),a)}return r}function isInPresetVarsCG(e){var t=experiments[e];if("undefined"!=typeof t.controlGroup&&t.controlGroup.method==DYO.Props.CGM_PRESET_VARS&&"undefined"!=typeof t.controlGroup.varIds){var n=DYO.getCurrentVersionDataStr(e);return DYO.Props.isCurrentlyInControlGroup(n)}return!1}function forceChooseMultipleDynamicVariations(e,t,n,r){return chooseMultipleDynamicVariations(e,t,n,r=setForceCalculationOption(r))}function chooseMultipleDynamicVariations(e,t,n,r){var o=getForceCalculationOption(e,r);null!=r&&"undefined"!=typeof r[OPTION_EXP_DEFAULT]&&r[OPTION_EXP_DEFAULT];var i=[];if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)){var a;if(t=escapeClientVariationSet(t),null!=r&&"undefined"!=typeof r[OPTION_VARIATION_SET_ID]&&null!=r[OPTION_VARIATION_SET_ID]&&0!=r[OPTION_VARIATION_SET_ID].length)a=""+r[OPTION_VARIATION_SET_ID];else a=generateHash(t);var s=DYO.Props.expContVersionData(experiments[e],a);(null==(i=o?null:getDynamicVariations(e,s))||i.length!=n&&!isInPresetVarsCG(e))&&(i=calculateMultipleContVariation(e,t,a,n)),varRimpSelectedVariations(e,i)}else log("non existing experiment");return i}function forceChooseDynamicVariation(e,t,n){return chooseDynamicVariation(e,t,n=setForceCalculationOption(n))}function chooseDynamicVariation(e,t,n){var r=chooseMultipleDynamicVariations(e,t,1,n);return null!=r&&r.length>0?r[0]:null}function reportExperimentEvent(e){try{"number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)&&DY.API("experiment",{name:experiments[e].name})}catch(t){}}function setAndPublishContext(e){null!=e&&(DY.recommendationContext=e,DY.API("context",e))}function getServerVariations(e){return"number"!=typeof e&&(e=expNameToId(e)),experiments[e].variations}function getDynamicVariations(e,t){var n=null,r=null,o=experimentTree[e];if(null!=o){var i=o.split(DYO.ExpUtils.dataSep),a=i[1],s=a.split(DYO.ExpUtils.verSep),c=i[4].split(DYO.ExpUtils.verSep),u=t.split(DYO.ExpUtils.verSep);if(DYO.Props.isStoredVersionValidForChoose(experiments[e],s,u,c)){r=i[2],n=new Array;var l=new Array;if(r.length>0){r=r.split(DYO.ExpUtils.variSep);for(var d=0;d<r.length;d++){var p=r[d].split(DYO.ExpUtils.verSep);p.length>0&&p[0].length>0&&(n[d]={id:DYJSON.parse(unescape(p[0])),name:"undefined"!=typeof p[1]?unescape(p[1]):""},l.push(n[d].id))}}var f=DYO.Props.generateSelectionDataPart(experiments[e]);if(i[4]=f,experimentTree[e]=i.join(DYO.ExpUtils.dataSep),storeExperiments(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree),DYO.Props.isAttributionStoredOnGet(experiments[e])){var m=DYO.Props.getCurrentAttributionProps(experiments[e]);DYO.ExpUtils.attributeVariationsExplicitly(DYO.ExpUtils.DECISION_EVENT,e,a,l,m)}}}return n}function getVariationData(e){var t=e,n=null;"number"!=typeof e&&(e=expNameToId(e));var r=experimentTree[e];if(null==r)return{code:0,exp:t,msg:"experiment "+e+" is not defined"};var o=r.split(DYO.ExpUtils.dataSep)[2].split(DYO.ExpUtils.verSep);n=o[0];o[1];if(n==DYO.ExpUtils.notInExp)return{code:0,exp:t,msg:"user not in experiment"};for(var i=0;i<experiments[e].variations.length;i++)if(experiments[e].variations[i].id==n)return 1!=experiments[e].type&&experiments[e].variations[i].name,{code:1,exp:t,value:experiments[e].variations[i]};return{code:0,exp:t,msg:"error getting variation data, check the experiment settings"}}function getVariationProperties(e){var t=e,n=null;"number"!=typeof e&&(e=expNameToId(e));var r=experimentTree[e];if(null==r)return{code:0,exp:t,msg:"experiment "+e+" is not defined"};var o=r.split(DYO.ExpUtils.dataSep)[2].split(DYO.ExpUtils.verSep);n=o[0];o[1];if(n==DYO.ExpUtils.notInExp)return{code:0,exp:t,msg:"user not in experiment"};for(var i=0;i<experiments[e].variations.length;i++)if(experiments[e].variations[i].id==n)return 1!=experiments[e].type&&experiments[e].variations[i].name,experiments[e].variations[i].props||{};return{code:0,exp:t,msg:"error getting variation data, check the experiment settings"}}function getCurrentVersionDataStr(e){try{if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)&&null!=experimentTree[e]){var t=experimentTree[e].split(DYO.ExpUtils.dataSep);if(null!=t&&t.length>1)return t[1]}}catch(n){log("error in getCurrentVersionDataStr")}return null}function isLegacyExpSession(e){return DYO.StringUtils.isN(e)&&parseFloat(e)<=1e5&&parseFloat(e)>=0}function calcExpVisitId(e,t,n){var r=null==t?null:t.split(DYO.ExpUtils.verSep);if(n||(n="undefined"!=typeof DY&&"undefined"!=typeof DY.dyid?DY.dyid:""),null!==r&&r[DYO.Enums.ENUMS.VERSIONDATASTR.STATIC_DIST]&&"0"!==r[DYO.Enums.ENUMS.VERSIONDATASTR.STATIC_DIST])t=r[8];else if(null!==r&&!r[DYO.Enums.ENUMS.VERSIONDATASTR.STATIC_DIST]&&r.length>5){if(!isLegacyExpSession(r[5])){var o=r.slice(0);o[5]="",t=o.join(DYO.ExpUtils.verSep)}}if(e<9e3){var i=""+n+DYO.ExpUtils.dataSep+t;return DYO.dyhash.hashCode(i)}var a=4294967295&DYO.dyhash.hashCode(n),s=(i=""+t,4294967295&DYO.dyhash.hashCode(i));return new DYO.Long(s,a,!1).toString()}function externalSetVariation(e,t){var n=e,r=t;return"number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)?("number"!=typeof t&&(t=varNameToId(e,t)),null==t?{code:0,exp:n,variation:r,msg:"Variation is not defined"}:(setVariation(e,DYO.Props.expManualSetVersionData(experiments[e]),t),{code:1,exp:n,variation:r,msg:"variation "+t+" is set for experiment "+e})):{code:0,exp:n,variation:r,msg:"experiment "+e+" is not defined"}}function externalSetVariationByPosition(e,t){var n=e;if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)){var r=new Array;return"undefined"==typeof experiments[e].variations[t]?{code:0,exp:n,pos:t,msg:"no variation in position "+t}:(r[0]=experiments[e].variations[t].id,setVariations(e,DYO.Props.expManualSetVersionData(experiments[e]),r),{code:1,exp:n,pos:t,msg:"variation at position "+t+"is set for experiment "+e})}return{code:0,exp:n,pos:t,msg:"experiment "+e+" is not defined"}}function setVariation(e,t,n){var r=new Array;r[0]=n,setVariations(e,t,r)}function setVariations(e,t,n){if(experimentExists(e)){var r=DYO.Props.expCompleteVersionData(experiments[e],t),o=DYO.Props.getAttributionMethodForGet(experiments[e]),i=DYO.Props.generateSelectionDataPart(experiments[e]);if(experimentTree[e]=e+DYO.ExpUtils.dataSep+r+DYO.ExpUtils.dataSep+n.toString()+DYO.ExpUtils.dataSep+o+DYO.ExpUtils.dataSep+i,storeExperiments(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree),DYO.Props.isAttributionStoredOnGet(experiments[e])){var a=DYO.Props.getCurrentAttributionProps(experiments[e]);DYO.ExpUtils.attributeVariationsExplicitly(DYO.ExpUtils.DECISION_EVENT,e,r,n,a)}}else log("ignoring non-existent experiment")}function varRimpSelectedVariations(e,t){if(experimentExists(e)&&null!=t&&DYO.Props.isVarRimpOnGet(experiments[e])&&t.length>0){for(var n=[],r=0;r<t.length;++r)null!=t[r]&&null!=t[r].id&&n.push(t[r].id);var o=getCurrentVersionDataStr(e),i=DYO.Props.getCurrentAttributionProps(e),a=DYO.getSectionFeature("RIMPS_ON_BATCH");if(a&&a.enabled)DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.REAL_IMPRESSION,expId:e,variationIds:n,attributionProps:i,versionDataStr:o});else{var s=function(){"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",e,n,i,o)};window.DY.API("callback",s)}}}function varCVariations(e,t){if(experimentExists(e)&&null!=t&&t.length>0){for(var n=[],r=0;r<t.length;++r)null!=t[r]&&null!=t[r].id&&n.push(t[r].id);var o=getCurrentVersionDataStr(e),i=DYO.Props.getCurrentAttributionProps(e),a=DYO.getSectionFeature("CLICKS_ON_BATCH");if(a&&a.enabled)DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.CLICK,expId:e,variationIds:n,attributionProps:i,versionDataStr:o});else{var s=function(){"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("c",e,n,i,o)};window.DY.API("callback",s)}}}function executeVariation(expId,variationId){var e=expId,v=variationId,jsExec=!1,htmlExec=!1;if("number"!=typeof expId&&(expId=expNameToId(expId)),experimentExists(expId)){if("number"!=typeof variationId&&(variationId=varNameToId(expId,variationId)),null==variationId)return{code:0,exp:e,variation:v,msg:"Variation is not defined"};for(var i=0;i<experiments[expId].variations.length;i++)if(experiments[expId].variations[i].id==variationId){var execScript=experiments[expId].variations[i].script,htmlInsert=experiments[expId].variations[i].html,htmlInsertPos=experiments[expId].variations[i].htmlPos;if(void 0!==execScript&&""!=execScript){try{eval("(function(){"+execScript+"})();")}catch(e){}jsExec=!0}if(void 0!==htmlInsert&&""!=htmlInsert&&void 0!==htmlInsertPos&&""!=htmlInsertPos){var div=document.createElement("div");DYO.DOM.setInnerHtml(div,htmlInsert);var contDiv=document.getElementById(htmlInsertPos);contDiv&&(contDiv.insertBefore(div,contDiv.firstChild),htmlExec=!0)}}return{code:1,exp:e,variation:v,msg:"executed "+(jsExec&&htmlExec?"javascript and html insertion":jsExec?"javascript":htmlExec?"html insertion":"nothing")+" for variation "+variationId+" in experiment "+expId}}return{code:0,exp:e,variation:v,msg:"experiment "+expId+" is not defined"}}function makeSmartImage(e,t){try{var n=e;"number"!=typeof n&&(n=parseInt(expNameToId(n)));var r=chooseVariation(n,null);if(!experimentExists(n))return{code:0,exp:n,msg:"experiment "+n+" is not defined"};var o=experiments[n].elementWidth;void 0!==o&&null!=o||(o=0);var i=experiments[n].elementHeight;void 0!==i&&null!=i||(i=0);var a=experiments[n].variations[r];if(void 0===a||"undefined"==typeof a.props||"undefined"==typeof a.props.image_url)return{code:0,exp:n,v:a.id,msg:"experiment "+n+" has no image variation "+a.id};{var s=document.createElement("div");s.className="dy_unit dy_image_"+n;var c='<img src="'+a.props.image_url+'" width="'+o+'" height="'+i+'" style="border:none;" />';"undefined"!=typeof a.props.image_click_url&&null!=a.props.image_click_url&&""!=a.props.image_click_url&&(c='<a href="'+a.props.image_click_url+'" target="'+(a.props.image_click_url_target||"_top")+'">'+c+"</a>"),s.innerHTML=c;var u=!0;if(void 0!==t&&""!=t){var l=document.getElementById(t);void 0!==l&&null!=l&&(l.appendChild(s),u=!1)}if(u){var d=document.getElementsByTagName("script");d[d.length-1].parentElement.appendChild(s)}var p=getCurrentVersionDataStr(n);function f(){"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection?DY.AdDetection.markExpUnit(s,n,a.id,!1,!1,p):setTimeout(f,100)}f()}return{code:1,exp:n,msg:"executing make smart image on experiment "+n}}catch(m){return{code:0,exp:e,msg:"error while executing make smart image on experiment "+e}}}function makeSmartSlider(e,t){try{var n=e;if("number"!=typeof n&&(n=parseInt(expNameToId(n))),!experimentExists(n))return{code:0,exp:n,msg:"experiment "+n+"is not defined"};var r=experiments[n].elementWidth;void 0!==r&&null!=r||(r=0);var o=experiments[n].elementHeight;void 0!==o&&null!=o||(o=0);var i=experiments[n].autoScrollSpeed;void 0!==i&&null!=i||(i=0);var a=experiments[n].slideCount;void 0!==a&&null!=a&&0!=a||(a=experiments[n].variations.length);var s=chooseMultipleVariations(n,a,null),c=getCurrentVersionDataStr(n),u=document.createElement("div");u.setAttribute("style","position:relative;max-width:"+r+"px;max-height:"+o+"px;"),u.className="dy_unit dy_slider_"+n;var l=!0;if(void 0!==t&&""!=t){var d=document.getElementById(t);void 0!==d&&null!=d&&(d.appendChild(u),l=!1)}if(l){var p=document.getElementsByTagName("script");p[p.length-1].parentElement.appendChild(u)}for(var f=0;f<s.length;f++){for(var m=null,h=0;h<experiments[n].variations.length;h++)if(s[f].id==experiments[n].variations[h].id){m=experiments[n].variations[h].props;break}if(void 0!==m&&null!=m&&"undefined"!=typeof m.image_url){"undefined"!=typeof m.image_click_url&&null!=m.image_click_url&&""!=m.image_click_url||(m.image_click_url="#");var g=s[f].id;s[f]=m,s[f].id=g}}function O(){"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection&&"undefined"!=typeof DY.renderSmartCarousel?DY.renderSmartCarousel(u,{expId:n,width:r,height:o,scrollSpeed:i,versionDataStr:c},s):setTimeout(O,100)}return O(),{code:1,exp:n,msg:"executing make smart slider on experiment "+n}}catch(D){return{code:0,exp:e,msg:"error while executing make smart slider on experiment "+e}}}function getVariationImpressionReport(e,t){try{return{type:DYO.Enums.ENUMS.REPORT_API.TYPES.IMPRESSION,expId:e,variationIds:t,attributionProps:DYO.Props.getCurrentAttributionProps(e),versionDataStr:DYO.getCurrentVersionDataStr(e)}}catch(n){DY.API("internal_error",{name:"reportVariationImpression error",error:n})}}function reportVariationImpression(e,t){var n=getVariationImpressionReport(e,t);n&&window.DY.API("report",n)}function reportOverlayVariationImpression(e,t,n){n&&"rcom"==n.renderType?DYO.logBlock.debug(function(){return"variation "+t+" impression waiting for rcom render"},"exp-"+e):reportVariationImpression(e,[t])}function makeSmartContainer(expName,insertionId,asPureHTML){try{var expId=expName;"number"!=typeof expId&&(expId=parseInt(expNameToId(expId))),!0!==asPureHTML&&(asPureHTML=!1);var varPos=chooseVariation(expId,null);if(!experimentExists(expId))return{code:0,exp:expId,msg:"experiment "+expId+" is not defined"};var width=experiments[expId].elementWidth;void 0!==width&&null!=width||(width=0);var height=experiments[expId].elementHeight;void 0!==height&&null!=height||(height=0);var varElem=experiments[expId].variations[varPos];if(void 0===varElem||"undefined"==typeof varElem.props||"undefined"==typeof varElem.props.html_code)return{code:0,exp:expId,v:varElem.id,msg:"experiment "+expId+" has no container variation "+varElem.id};{var cont,source=null;if(asPureHTML)cont=document.createElement("div"),cont.className="dy_unit dy_container_"+expId,cont.innerHTML="<style type='text/css'>"+decodeURIComponent(varElem.props.css_code)+"</style>"+decodeURIComponent(varElem.props.html_code);else{cont=document.createElement("iframe"),cont.className="dy_unit dy_container_"+expId,cont.setAttribute("scrolling","no"),cont.setAttribute("style","overflow:hidden;background-color:#ffffff;border:0;width:"+width+"px;height:"+height+"px;"),cont.setAttribute("width",width),cont.setAttribute("height",height);var bodyStyle="margin:0;position: absolute;";bodyStyle+="width:"+width+"px;",bodyStyle+="height:"+height+"px;",source='<!DOCTYPE html><html><head><style type="text/css">',source+=decodeURIComponent(varElem.props.css_code),source+='</style></head><body style="'+bodyStyle+'">',source+=decodeURIComponent(varElem.props.html_code),source+='<script type="text/javascript">',source+=decodeURIComponent(varElem.props.js_code),source+="</script></body></html>"}var notAdded=!0;if(void 0!==insertionId&&""!=insertionId){var insertionPoint=document.getElementById(insertionId);void 0!==insertionPoint&&null!=insertionPoint&&(insertionPoint.appendChild(cont),notAdded=!1)}if(notAdded){var arrScripts=document.getElementsByTagName("script"),currScript=arrScripts[arrScripts.length-1];currScript.parentElement.appendChild(cont)}asPureHTML?eval("try{(function(){"+decodeURIComponent(varElem.props.js_code)+"})();}catch(e){}"):null!=source&&(cont.contentWindow.document.open(),cont.contentWindow.document.write(source),cont.contentWindow.document.close());var versionDataStr=getCurrentVersionDataStr(expId);function waitForDy(){"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection?DY.AdDetection.markExpUnit(cont,expId,varElem.id,!1,!1,versionDataStr):setTimeout(waitForDy,100)}waitForDy()}return{code:1,exp:expId,msg:"executing make smart image on experiment "+expId}}catch(exception){return{code:0,exp:expName,msg:"error while executing make smart image on experiment "+expName}}}function addFindifyInitScript(){try{if(DYO.Findify.isFindifyEnabled()){var e=DYO.getSectionConfigJSON("FINDIFY");DYO.CoreUtils.loadScriptWithUrl("//"+e.scriptUrl),DYO.logBlock.info(function(){return"loaded Findify script "+e.scriptUrl},"flow")}}catch(t){DYO.logBlock.critical(function(){return"failed loading Findify script"},"exception")}}function executeContextGetterEvaluator(){try{if("undefined"!=typeof DYO.contextGetterOccurred)return;if(DYO.contextGetterOccurred=1,!DYO.oevals)return;for(var e=null,t=Object.keys(DYO.oevals),n=0;n<t.length;n++)if(DYO.oevals[t[n]].hasOwnProperty("type")&&"context"===DYO.oevals[t[n]].type){e=DYO.oevals[t[n]];break}e&&e.code&&(DYO.CoreUtils.safeEval(e.code),DYO.logBlock.info(function(){return"executed context evaluator"},"flow"))}catch(r){DY.API("internal_error",{name:"executeContextGetterEvaluator() error",error:r})}}function checkIfLandingPage(){var e=document.getElementsByTagName("script");DYO.PerformanceData&&e&&e[0]&&e[0].outerText&&-1!==e[0].outerText.indexOf("DY = {")&&(DYO.PerformanceData.loadType="landingPage")}function setPreviewCookie(){var e=DYO.StringUtils.getUrlParam("dyPreview");e&&DYO.StorageUtilsInternal.setItem("_dy_preview_",e)}function setupServerExperiments(){if(DYO.logBlock.info(function(){return"DYO setupServerExperiments started"},"flow"),"undefined"!=typeof DYExps&&"undefined"!=typeof DYExps.oexps){DYO.section=DYExps.section,DYO.oexps=experiments=DYExps.oexps,DYO.sectionFeatures=DYExps.sectionFeatures||{},DYO.hooks=DYExps.hooks||{},DYO.otags=smartTags=DYExps.otags,DYO.oevals=DYExps.oevals,DYO.cookieManagedExperiments=cookieManagedExperiments=DYExps.cookieManagedExperiments,DYO.dynamicVariablesV0=DYExps.dynamicVariablesV0,DYO.smartVariableExperimentsMapV1=DYExps.smartVariableExperimentsMapV1,DYO.smartVariableExperimentsV1=DYExps.smartVariableExperimentsV1,DYO.rcom=rcom=DYExps.rcom,DYO.translations=translations=DYExps.translations,DYO.sectionConfig=DYExps.sectionConfig,DYO.consentDefault="undefined"==typeof DYExps.consentDefault||DYExps.consentDefault,DYO.hosts=DYExps.hosts||{st:"st.dynamicyield.com",px:"px.dynamicyield.com",rcom:"rcom.dynamicyield.com",pii:"opt.%s.dynamicyield.com",link:"link.dynamicyield.com",metadata:"https://gw.metadata.dynamicyield.com",cdn:"cdn.dynamicyield.com"},DYO.StorageUtilsInternal.init(DYO.section),DYO.ActiveConsent.init(),DYO.Consent._init(),setPreviewCookie(),DYO.ready=!0,DYO.setupTime=(new Date).getTime(),DYO.HybridState.isHybridStateSection()&&DYO.HybridState.setUpHybridState(),DYO.chosenVariations={},clearNullWeatherCookies(["8769149","8770674"]),DYO._ready&&DYO._ready();try{if(window.location.search.indexOf("dyIsPreview=true")>-1||"dy_preview_session"===window.name||window.location.search.indexOf("dyPreview")>-1){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(DYO.CoreUtils.safeEval(e.response),execAndEmbed())},e.open("GET","//"+DYO.hosts.cdn+"/dy-preview/dy_preview.js",!1),e.send()}else execAndEmbed();DYO.PerformanceData&&(DYO.PerformanceData.postData({type:"static",timestamp:DYO.apiStaticArrivalTime}),checkIfLandingPage())}catch(t){DYO.logBlock.error(function(){return t+"was caught in setupServerExperiments"},"exception"),execAndEmbed()}}}function clearNullWeatherCookies(e){try{e.forEach(function(e){var t=DYO.StorageUtilsInternal.getItem("_dy_cweather_"+e);t&&"null"!==t&&"null"!=t.substr(0,4)||DYO.StorageUtilsInternal.removeItem("_dy_cweather_"+e)})}catch(t){}}function execAndEmbed(){DYO.SessionUtils.setHybridSession(),DYO.Seqs.loadSequences(),DYO.csc.init(),DYO.SmartsPreWork.notifyTimeoutForEachSmartTag(),
DYO.CoreUtils.addToCommonStyleBlock(".dy-wysiwyg{line-height:normal;direction:ltr;align-text:left;margin:0;padding:0;background-color:transparent}.dy-wysiwyg a{text-decoration:none;color:#00E}.dy-full-width-notifications-close,.dy-lb-close{color:#fff;display:inline-block;position:absolute}.dynotifyjs-wrapper .dy-lb-close{z-index:1;top:-8px;right:-9px;border:none;transition:opacity .15s;opacity:.7;background-size:14px;background-repeat:no-repeat;background-position:2px;width:18px;height:18px}.dynotifyjs-wrapper .dy-lb-close:hover{opacity:1}.dynotifyjs-corner{position:fixed;margin:0;z-index:1050}.dynotifyjs-corner .dynotifyjs-container,.dynotifyjs-corner .dynotifyjs-wrapper{position:relative;display:block;height:inherit;width:inherit;margin:11px 8px}.dynotifyjs-wrapper{z-index:1;position:absolute;display:inline-block;height:0;width:0}.dynotifyjs-container{display:none;z-index:1;position:absolute}[data-dynotify-html],[data-dynotify-text]{position:relative}.dynotifyjs-arrow{position:absolute;z-index:2;width:0;height:0}.dy-lb-close{top:-12px;right:-11px;cursor:pointer;border:1px solid #918686;border-radius:30px;height:22px;width:22px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTUgNTUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU1IDU1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iY2xvc2UiPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNDMuNSwxNC43IDQwLjMsMTEuNSAyNy41LDI0LjMgMTQuNywxMS41IDExLjUsMTQuNyAyNC4zLDI3LjUgMTEuNSw0MC4zIDE0LjcsNDMuNSAyNy41LDMwLjcgNDAuMyw0My41IDQzLjUsNDAuMyAzMC43LDI3LjUgIi8+PC9nPjwvc3ZnPg==) #575757;background-size:22px}.dy-full-width-notifications-close{top:5px;right:5px;z-index:1;border:none;transition:opacity .15s;-webkit-transition:opacity .15s;opacity:.7;width:18px;height:18px;cursor:pointer;border-radius:30px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTUgNTUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU1IDU1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iY2xvc2UiPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNDMuNSwxNC43IDQwLjMsMTEuNSAyNy41LDI0LjMgMTQuNywxMS41IDExLjUsMTQuNyAyNC4zLDI3LjUgMTEuNSw0MC4zIDE0LjcsNDMuNSAyNy41LDMwLjcgNDAuMyw0My41IDQzLjUsNDAuMyAzMC43LDI3LjUgIi8+PC9nPjwvc3ZnPg==) 2px no-repeat #575757;background-size:14px}.dy-full-width-notifications-close:hover{opacity:1}.dy_full_width_notifications_container{position:fixed;left:0;right:0;z-index:1040}.dy_full_width_notifications_container.dy_bottom_notification{bottom:0}.dy_full_width_notifications_container.dy_top_notification{top:0}.dy_full_width_notifications_container .dy_full_width_notification_instance{opacity:0;-webkit-transition:opacity .15s;transition:opacity .15s;position:relative}.dy_full_width_notifications_container .dy_full_width_notification_instance.dy_notification_instance_active{opacity:1}.dy_full_width_notifications_container .dy_full_width_notification_instance.dy_notification_from_bottom{-webkit-animation:dy_appear_from_bottom .25s;animation:dy_appear_from_bottom .25s}.dy_full_width_notifications_container .dy_full_width_notification_instance.dy_notification_from_top{-webkit-animation:dy_appear_from_top .25s;animation:dy_appear_from_top .25s}.dy_full_width_notifications_container .dy_full_width_notification_instance.dy_notification_instance_will_exit_top{-webkit-animation:dy_exit_top .25s;animation:dy_exit_top .25s;animation-fill-mode:forwards;-webkit-animation-fill-mode:forwards}.dy_full_width_notifications_container .dy_full_width_notification_instance.dy_notification_instance_will_exit_bottom{-webkit-animation:dy_exit_bottom .25s;animation:dy_exit_bottom .25s;animation-fill-mode:forwards;-webkit-animation-fill-mode:forwards}@-webkit-keyframes dy_appear_from_bottom{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes dy_appear_from_bottom{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes dy_appear_from_top{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes dy_appear_from_top{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes dy_exit_top{100%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes dy_exit_top{100%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@-webkit-keyframes dy_exit_bottom{100%{-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes dy_exit_bottom{100%{-webkit-transform:translateY(100%);transform:translateY(100%)}}.dy-modal-container{position:fixed;z-index:99999;top:0;left:0;bottom:0;right:0;width:100%;height:100vh;display:table;-webkit-transition:opacity .2s ease;transition:opacity .2s ease}.dy-modal-container .dy-modal-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;background-color:#000}.dy-modal-container .dy-modal-wrapper{position:relative;z-index:1;display:table-cell;vertical-align:middle;text-align:center;width:100%}.dy-modal-container .dy-modal-wrapper.dy-modal-bottom{padding-bottom:20px;vertical-align:bottom}.dy-modal-container .dy-modal-wrapper.dy-modal-top{padding-top:20px;vertical-align:top}.dy-modal-container .dy-modal-wrapper .dy-modal-contents{position:relative;display:inline-block;-webkit-animation:dy-modal-enter .25s;animation:dy-modal-enter .25s;visibility:hidden}.dy-modal-container .dy-modal-wrapper .dy-modal-contents .dy-lb-close{z-index:1;top:-9px;right:-9px;border:none;opacity:.7;transition:opacity .15s;width:18px;height:18px;cursor:pointer;position:absolute;border-radius:30px;color:#fff;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTUgNTUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU1IDU1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iY2xvc2UiPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNDMuNSwxNC43IDQwLjMsMTEuNSAyNy41LDI0LjMgMTQuNywxMS41IDExLjUsMTQuNyAyNC4zLDI3LjUgMTEuNSw0MC4zIDE0LjcsNDMuNSAyNy41LDMwLjcgNDAuMyw0My41IDQzLjUsNDAuMyAzMC43LDI3LjUgIi8+PC9nPjwvc3ZnPg==) 2px no-repeat #575757;background-size:14px}.dy-modal-container .dy-modal-wrapper .dy-modal-contents .dy-lb-close:hover{opacity:1}@-webkit-keyframes dy-modal-enter{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}85%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}"),DYO.AntiFlicker.init(DY.antiFlicker),executeContextGetterEvaluator(),addFindifyInitScript(),cleanupExperiments(),DYO.spaSupport(),DYO.otagsUtils(),DYO.exps=experimentTree,"undefined"!=typeof window.DY.ssae&&window.DY.ssae&&!DYO.isMobile||"undefined"!=typeof DYO.executeSmartActions&&(window.DY.ssae=!0,DYO.executeSmartActions(DYO.otagsUtils.filterOutTouchPoints(DYO.otagsUtils.smartActionsList))),"undefined"!=typeof window.DY.skipAutoEmbed&&window.DY.skipAutoEmbed||(window.DY.skipAutoEmbed=!0,DYO.autoEmbedSmarts(DYO.otagsUtils.filterOutTouchPoints(DYO.otagsUtils.dynamicContentEmbedList)))}function enableCookies(){DYO.StorageUtils.forceCookies();var e=function(){"undefined"!=typeof window.DY&&"undefined"!=typeof window.DY.StorageUtils&&"undefined"!==window.DY.StorageUtils.forceCookies&&window.DY.StorageUtils.forceCookies()};window.DY.API("callback",e)}function getProductInterest(){if(DY.pd2&&"object"!==(DY.pd2,!1)&&0!==Object.keys(DY.pd2).length){var e=function(e){switch(e){case"v0x13":return"view";case"p0x11":return"purchase";case"d0x22":return"daily";case"m0x32":return"monthly";case"dt0x4":return"twoDays";case"wt0x4":return"twoWeeks";case"w0x6":return"weekly";case"c0x22":return"city";case"ct0x4":return"country";case"s0x44":return"state";default:return e}},t=function(e){try{return parseInt(e.replace(/^.{4}(.*).{2}$/,"$1"))}catch(t){return 0}},n={},r=["c0x22","ct0x4","s0x44"];for(var o in DY.pd2)if(DY.pd2.hasOwnProperty(o))for(var i in n[e(o)]={},DY.pd2[o])if(DY.pd2[o].hasOwnProperty(i))if(-1!==r.indexOf(o))for(var a in n[e(o)][e(i)]={},DY.pd2[o][i])DY.pd2[o][i].hasOwnProperty(a)&&(n[e(o)][e(i)][e(a)]=t(DY.pd2[o][i][a]));else n[e(o)][e(i)]=t(DY.pd2[o][i]);return n}return{}}var apiStaticArrivalTime=Date.now(),experimentTree={},debug=!1,OPTION_VARIATION_SET_ID="variationSetId",OPTION_EXP_DEFAULT="expDefault",OPTION_FORCE_CALCULATION="isForceCalculation",experiments={},smartTags={},cookieManagedExperiments=[],rcom={},translations={},hashCode=function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t&=t}return t},log=function(e){DYO.logBlock.debug(function(){return e},"debug")};DYO.chooseVariation=chooseVariation,DYO.forceChooseVariation=forceChooseVariation,DYO.chooseMultipleVariations=chooseMultipleVariations,DYO.forceChooseMultipleVariations=forceChooseMultipleVariations,DYO.OPTION_EXP_DEFAULT=OPTION_EXP_DEFAULT,DYO.OPTION_VARIATION_SET_ID=OPTION_VARIATION_SET_ID,DYO.OPTION_FORCE_CALCULATION=OPTION_FORCE_CALCULATION,DYO.chooseDynamicVariation=chooseDynamicVariation,DYO.forceChooseDynamicVariation=forceChooseDynamicVariation,DYO.chooseMultipleDynamicVariation=chooseMultipleDynamicVariations,DYO.chooseMultipleDynamicVariations=chooseMultipleDynamicVariations,DYO.forceChooseMultipleDynamicVariations=forceChooseMultipleDynamicVariations,DYO.getDynamicVariations=getDynamicVariations,DYO.getServerVariations=getServerVariations,DYO.setVariation=externalSetVariation,DYO.setVariationByPosition=externalSetVariationByPosition,DYO.setVariations=setVariations,DYO.getVariationData=getVariationData,DYO.getVariationProperties=getVariationProperties,DYO.getCurrentVersionDataStr=getCurrentVersionDataStr,DYO.calcExpVisitId=calcExpVisitId,DYO.getVariationImpressionReport=getVariationImpressionReport,DYO.reportVariationImpression=reportVariationImpression,DYO.reportOverlayVariationImpression=reportOverlayVariationImpression,DYO.reportExperimentEvent=reportExperimentEvent,DYO.storeAttributeVariations=emptyMethod,DYO.exps=experimentTree,DYO.execute=executeVariation,DYO.oexps=experiments,DYO.otags=smartTags,DYO.rcom=rcom,DYO.varNameToId=varNameToId,DYO.expNameToId=expNameToId,DYO.sd=setDebug,DYO.d=debug,DYO.log=log,DYO.smartImage=makeSmartImage,DYO.smartSlider=makeSmartSlider,DYO.smartContainer=makeSmartContainer,DYO.setupServerExperiments=setupServerExperiments,DYO.enableCookies=enableCookies,DYO.setAndPublishContext=setAndPublishContext,DYO.ready=!1,DYO.refreshExperiments=refreshExperiments,DYO.removeFromVariationsIgnoreList=emptyMethod,DYO.waitersTimeouts={},DYO._evalErrors=[],DYO.getProductInterest=getProductInterest,DYO.cleanupExperiments=cleanupExperiments,DYO.generateHash=generateHash,DYO.apiStaticArrivalTime=apiStaticArrivalTime}(),DYO.Memoize=function(){function e(e,t){function n(){i=e(),a=!0,t.purgeImmediately&&(DYO.Q?DYO.Q().then(r):"Promise"in window?window.Promise.resolve().then(r):setTimeout(r,0))}function r(){i=null,a=!1}function o(){return a||n(),i}var i,a;return t=t||{},o.purge=r,o}return{sync:e}}(),
/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
function(e,t){"use strict";DYO.Q=DYO&&DYO.Q||t()||e()}(function(){"use strict";function e(e,t){var n=e;return n&&n.toString().indexOf("[native code]")>-1?n:t}function t(e){return function(){return $.apply(e,arguments)}}function n(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ae(e)||e instanceof J}function o(e,t){if(B&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(se)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var o=n.join("\n"+se+"\n");e.stack=i(o)}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var o=t[r];c(o)||a(o)||!o||n.push(o)}return n.join("\n")}function a(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function s(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function c(e){var t=s(e);if(!t)return!1;var n=t[0],r=t[1];return n===H&&r>=X&&r<=pe}function u(){if(B)try{throw new Error}catch(n){var e=n.stack.split("\n"),t=s(e[0].indexOf("@")>0?e[1]:e[2]);if(!t)return;return H=t[0],t[1]}}function l(e){return function(){return"undefined"!=typeof console&&console.warn,e.apply(e,arguments)}}function d(e){return e instanceof h?e:y(e)?C(e):b(e)}function p(){function e(e){t=e,d.longStackSupport&&B&&(i.source=e),te(n,function(t,n){d.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],o=oe(p.prototype),i=oe(h.prototype);if(i.promiseDispatch=function(e,o,i){var a=ee(arguments);n?(n.push(a),"when"===o&&i[1]&&r.push(i[1])):d.nextTick(function(){t.promiseDispatch.apply(t,a)})},i.valueOf=function(){if(n)return i;var e=O(t);return D(e)&&(t=e),e},i.inspect=function(){return t?t.inspect():{state:"pending"}},d.longStackSupport&&B)try{throw new Error}catch(a){i.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(n){t||e(d(n))},o.fulfill=function(n){t||e(b(n))},o.reject=function(n){t||e(S(n))},o.notify=function(e){t||te(r,function(t,n){d.nextTick(function(){n(e)})},void 0)},o}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=p();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function m(e){return f(function(t,n){for(var r=0,o=e.length;r<o;r++)d(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return S(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=oe(h.prototype);if(r.promiseDispatch=function(n,o,i){var a;try{a=e[o]?e[o].apply(r,i):t.call(r,o,i)}catch(s){a=S(s)}n&&n(a)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function g(e,t,n,r){return d(e).then(t,n,r)}function O(e){if(D(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function D(e){return e instanceof h}function y(e){return n(e)&&"function"==typeof e.then}function v(e){return D(e)&&"pending"===e.inspect().state}function Y(e){return!D(e)||"fulfilled"===e.inspect().state}function _(e){return D(e)&&"rejected"===e.inspect().state}function w(){ce.length=0,ue.length=0,de||(de=!0)}function E(e,t){de&&("object"==typeof process&&"function"==typeof process.emit&&d.nextTick.runAfter(function(){-1!==ne(ue,e)&&(process.emit("unhandledRejection",t,e),le.push(e))}),ue.push(e),t&&"undefined"!=typeof t.stack?ce.push(t.stack):ce.push("(no stack) "+t))}function I(e){if(de){var t=ne(ue,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&d.nextTick.runAfter(function(){var n=ne(le,e);-1!==n&&(process.emit("rejectionHandled",ce[t],e),le.splice(n,1))}),ue.splice(t,1),ce.splice(t,1))}}function S(e){var t=h({when:function(t){return t&&I(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return E(t,e),t}function b(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ie(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=p();return d.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function T(e){return h({isDef:function(){}},function(t,n){return k(e,t,n)},function(){return d(e).inspect()})}function x(e,t,n){return d(e).spread(t,n)}function A(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(s){return S(s)}return a.done?d(a.value):g(a.value,o,i)}try{a=n[e](t)}catch(s){return r(s)?d(s.value):S(s)}return g(a,o,i)}var n=e.apply(this,arguments),o=t.bind(t,"next"),i=t.bind(t,"throw");return o()}}function P(e){d.done(d.async(e)())}function N(e){throw new J(e)}function U(e){return function(){return x([this,R(arguments)],function(t,n){return e.apply(t,n)})}}function k(e,t,n){return d(e).dispatch(t,n)}function R(e){return g(e,function(e){var t=0,n=p();return te(e,function(r,o,i){var a;D(o)&&"fulfilled"===(a=o.inspect()).state?e[i]=a.value:(++t,g(o,function(r){e[i]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:i,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function M(e){if(0===e.length)return d.resolve();var t=d.defer(),n=0;return te(e,function(r,o,i){function a(e){t.resolve(e)}function s(e){0===--n&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function c(e){t.notify({index:i,value:e})}var u=e[i];n++,g(u,a,s,c)},undefined),t.promise}function j(e){return g(e,function(e){return e=re(e,d),g(R(re(e,function(e){return g(e,Z,Z)})),function(){return e})})}function V(e){return d(e).allSettled()}function L(e,t){return d(e).then(void 0,void 0,t)}function F(e,t){return d(e).nodeify(t)}var B=!1;try{throw new Error}catch(fe){B=!!fe.stack}var H,G,q,W,Q,z,J,X=u(),Z=function(){},K=function(){function e(){for(var e,r;n.next;)e=(n=n.next).task,n.task=void 0,(r=n.domain)&&(n.domain=void 0,r.enter()),t(e,r);for(;s.length;)t(e=s.pop());o=!1}function t(t,n){try{t()}catch(fe){if(a)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),fe;setTimeout(function(){throw fe},0)}n&&n.exit()}var n={task:void 0,next:null},r=n,o=!1,i=void 0,a=!1,s=[];if(K=function(e){r=r.next={task:e,domain:a&&process.domain,next:null},o||(o=!0,i())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)a=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){i=u,c.port1.onmessage=e,e()};var u=function(){c.port2.postMessage(0)};i=function(){setTimeout(e,0),u()}}else i=function(){setTimeout(e,0)};return K.runAfter=function(e){s.push(e),o||(o=!0,i())},K}(),$=Function.call,ee=t(Array.prototype.slice),te=t(e(Array.prototype.reduce,function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,o=0;if(2==arguments.length)t=arguments[1];else{for(;o<r&&!(o in n);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<r;o++)o in n&&(t=e(t,n[o],o,n));return t})),ne=t(e(Array.prototype.indexOf,function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=+t||0;if(Math.abs(i)===Infinity&&(i=0),i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in r&&r[n]===e)return n;n++}return-1})),re=t(e(Array.prototype.map,function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),o=0;o<a;){var s,c;o in i&&(s=i[o],c=e.call(n,s,o,i),r[o]=c),o++}return r})),oe=e(Object.create,(G=function(){},function(e){if(arguments.length>1)throw Error("Second argument not supported");if(e!==Object(e))throw TypeError("Argument must be an object");if(null===e)throw Error("null [[Prototype]] not supported");G.prototype=e;var t=new G;return G.prototype=null,t})),ie=(t(Object.prototype.hasOwnProperty),e(Object.keys,(q=Object.prototype.hasOwnProperty,W=!{toString:null}.propertyIsEnumerable("toString"),z=(Q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,r=[];for(t in e)q.call(e,t)&&r.push(t);if(W)for(n=0;n<z;n++)q.call(e,Q[n])&&r.push(Q[n]);return r}))),ae=t(Object.prototype.toString);J="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var se="From previous event:";d.resolve=d,d.nextTick=K,d.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(d.longStackSupport=!0),d.defer=p,p.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(ee(arguments,1)):e.resolve(n)}},d.Promise=f,d.promise=f,f.race=m,f.all=R,f.reject=S,f.resolve=d,d.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},d.join=function(e,t){return d(e).join(t)},h.prototype.join=function(e){return d([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},d.race=m,h.prototype.race=function(){return this.then(d.race)},d.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(n){return S(n)}}function i(e){if("function"==typeof t){o(e,s);try{return t(e)}catch(n){return S(n)}}return S(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,c=p(),u=!1;return d.nextTick(function(){s.promiseDispatch(function(e){u||(u=!0,c.resolve(r(e)))},"when",[function(e){u||(u=!0,c.resolve(i(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(fe){if(n=!0,!d.onerror)throw fe;d.onerror(fe)}n||c.notify(t)}]),c.promise},d.tap=function(e,t){return d(e).tap(t)},h.prototype.tap=function(e){return e=d(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},d.when=g,h.prototype.thenResolve=function(e){return this.then(function(){return e})},d.thenResolve=function(e,t){return d(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},d.thenReject=function(e,t){return d(e).thenReject(t)},d.nearer=O,d.isPromise=D,d.isPromiseAlike=y,d.isPending=v,h.prototype.isPending=function(){return"pending"===this.inspect().state},d.isFulfilled=Y,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},d.isRejected=_,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ce=[],ue=[],le=[],de=!0;d.resetUnhandledRejections=w,d.getUnhandledReasons=function(){return ce.slice()},d.stopUnhandledRejectionTracking=function(){w(),de=!1},w(),d.reject=S,d.fulfill=b,d.master=T,d.spread=x,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},d.async=A,d.spawn=P,d["return"]=N,d.promised=U,d.dispatch=k,h.prototype.dispatch=function(e,t){var n=this,r=p();return d.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},d.get=function(e,t){return d(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},d.set=function(e,t,n){return d(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},d.del=d["delete"]=function(e,t){return d(e).dispatch("delete",[t])},h.prototype.del=h.prototype["delete"]=function(e){return this.dispatch("delete",[e])},d.mapply=d.post=function(e,t,n){return d(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},d.send=d.mcall=d.invoke=function(e,t){return d(e).dispatch("post",[t,ee(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,ee(arguments,1)])},d.fapply=function(e,t){return d(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},d["try"]=d.fcall=function(e){return d(e).dispatch("apply",[void 0,ee(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,ee(arguments)])},d.fbind=function(e){var t=d(e),n=ee(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(ee(arguments))])}},h.prototype.fbind=function(){var e=this,t=ee(arguments);return function(){return e.dispatch("apply",[this,t.concat(ee(arguments))])}},d.keys=function(e){return d(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},d.all=R,h.prototype.all=function(){return R(this)},d.any=M,h.prototype.any=function(){return M(this)},d.allResolved=l(j,"allResolved","allSettled"),h.prototype.allResolved=function(){return j(this)},d.allSettled=V,h.prototype.allSettled=function(){return this.then(function(e){return R(re(e,function(e){function t(){return e.inspect()}return(e=d(e)).then(t,t)}))})},d.fail=d["catch"]=function(e,t){return d(e).then(void 0,t)},h.prototype.fail=h.prototype["catch"]=function(e){return this.then(void 0,e)},d.progress=L,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},d.fin=d["finally"]=function(e,t){return d(e)["finally"](t)},h.prototype.fin=h.prototype["finally"]=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=d(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},d.done=function(e,t,n,r){return d(e).done(t,n,r)},h.prototype.done=function(e,t,n){var r=function(e){d.nextTick(function(){if(o(e,i),!d.onerror)throw e;d.onerror(e)})},i=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),i.then(void 0,r)},d.timeout=function(e,t,n){return d(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=p(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},d.delay=function(e,t){return void 0===t&&(t=e,e=void 0),d(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=p();return setTimeout(function(){n.resolve(t)},e),n.promise})},d.nfapply=function(e,t){return d(e).nfapply(t)},h.prototype.nfapply=function(e){var t=p(),n=ee(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},d.nfcall=function(e){var t=ee(arguments,1);return d(e).nfapply(t)},h.prototype.nfcall=function(){var e=ee(arguments),t=p();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},d.nfbind=d.denodeify=function(e){if(e===undefined)throw new Error("Q can't wrap an undefined function");var t=ee(arguments,1);return function(){var n=t.concat(ee(arguments)),r=p();return n.push(r.makeNodeResolver()),d(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=ee(arguments);return e.unshift(this),d.denodeify.apply(void 0,e)},d.nbind=function(e,t){var n=ee(arguments,2);return function(){function r(){return e.apply(t,arguments)}var o=n.concat(ee(arguments)),i=p();return o.push(i.makeNodeResolver()),d(r).fapply(o).fail(i.reject),i.promise}},h.prototype.nbind=function(){var e=ee(arguments,0);return e.unshift(this),d.nbind.apply(void 0,e)},d.nmapply=d.npost=function(e,t,n){return d(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=ee(t||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},d.nsend=d.nmcall=d.ninvoke=function(e,t){var n=ee(arguments,2),r=p();return n.push(r.makeNodeResolver()),d(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=ee(arguments,1),n=p();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},d.nodeify=F,h.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){d.nextTick(function(){e(null,t)})},function(t){d.nextTick(function(){e(t)})})},d.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var pe=u();return d},function(){function e(){return window.Promise&&Promise.toString().indexOf("[native code]")>-1}function t(e,t){return this.then(function(t){return Promise.resolve(e.apply(this,t))},t)}function n(e){var t=this;return r(new Promise(function(n,r){t.then(n),setTimeout(function(){r("Timed out")},e)}))}function r(e){return e.spread=t,e.done=e.then,e.fail=e["catch"],e.promise=e,e.timeout=n,e}function o(){var e=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this));this.promise=r(e)}if(e()){var i=function(e){return Promise.resolve(e)};i.all=function(e){return r(Promise.all(e))},i.race=function(e){return Promise.race(e)},i.allSettled=function(e){return i.all(e.map(function(e){return e.then(function(e){return{state:"fulfilled",value:e}})["catch"](function(e){return{state:"rejected",reason:e}})}))},i.any=function(e){return Promise.race(e)},i.delay=function(e){return new Promise(function(t){setTimeout(t,e)})},i.defer=function(){return new o},i.fcall=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return new Promise(function(n,r){try{n(e.apply(null,t))}catch(o){r(o)}})},i.nfcall=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return new Promise(function(n,r){t.push(function(e,t){e?r(e):n(t)}),e.apply(null,t)})},i.spread=function(e,t,n){return i.all(e).spread(t,n)};var a=function(e){return new Promise(e)};return a.all=function(e){return r(Promise.all(e))},i.Promise=a,i.promise=a,i.ptype="native",i}}),DYO.MozillaImplementations={arrayMap:function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),o=0;o<a;){var s,c;o in i&&(s=i[o],c=e.call(n,s,o,i),r[o]=c),o++}return r},arrayReduce:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,o=0;if(2==arguments.length)t=arguments[1];else{for(;o<r&&!(o in n);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<r;o++)o in n&&(t=e(t,n[o],o,n));return t},arrayFilter:function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in t){var a=t[i];e.call(o,a,i,t)&&r.push(a)}return r},arrayForEach:function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;r<i;){var a;r in o&&(a=o[r],e.call(n,a,r,o)),r++}},arrayFind:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t;return undefined},arrayIndexOf:function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=+t||0;if(Math.abs(i)===Infinity&&(i=0),i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in r&&r[n]===e)return n;n++}return-1},arrayEvery:function(e,t){"use strict";var n,r;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(n=t),r=0;r<i;){var a;if(r in o&&(a=o[r],!e.call(n,a,r,o)))return!1;r++}return!0},objectKeys:function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,a,s=[];for(i in o)e.call(o,i)&&s.push(i);if(t)for(a=0;a<r;a++)e.call(o,n[a])&&s.push(n[a]);return s}}()},DYO.CookiesAPI=function(){function e(e){return new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)","i")}function t(e){return e!==undefined&&null!==e}function n(e,t,n,r,o,i){return e+"="+encodeURIComponent(t)+(n?";expires="+n:"")+(i?";Max-Age="+i:"")+(r?";path="+r:"")+(o?";domain="+o:";domain="+document.domain)}function r(){return t(c)||(c=document.cookie,DYO.Q().then(o)),c}function o(){c=null}function i(n,o){var i=r().match(e(n));if(t(i)){var a=i[1];if(!o)return a;try{return decodeURIComponent(a)}catch(s){return a}}}function a(e,t,r,i,a,s){if(!(DYO.CoreUtils.getStringSizeInBytes(t)>3200||u.indexOf(t)>-1)){var c;if(r){var l=new Date;l.setDate(l.getDate()+r),c=l.toGMTString()}else c="0";o(),document.cookie=n(e,t,c,i,a,s)}}function s(e,t,r){o(),document.cookie=n(e,"","Thu, 01-Jan-1970 00:00:01 GMT",t,r)}var c,u=["_dyexps","_dy_att_exps"];return{get:i,set:a,remove:s}}(),DYO.CoreUtils=function(){function e(e){try{return eval.call(window,e)}catch(t){return DYO.logBlock.warn(function(){return t+" caught when during safeEval"},"exception"),window.DYO&&DYO._evalErrors&&DYO._evalErrors.push({code:e,exception:t}),null}}function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("async","false"),n.setAttribute("src",e),t.appendChild(n)}function n(e,t){var n=window.addEventListener?"addEventListener":"attachEvent";window[n](e,t)}function r(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}function o(e,t,n){var o=DYO.Q.defer(),i=e.split(".");i.unshift(window);var a=setInterval(function(){r.apply(undefined,i)&&(clearInterval(a),"function"==typeof n&&n(),o.resolve())},t);return o.promise}function i(e){for(var t=e.length,n=e.length-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}function a(){var e=document.getElementsByTagName("script");return e[e.length-1]}function s(e,t){if(void 0!==e&&""!==e)return e&&1===e.nodeType?e:t?document.dyQuerySelector(e):document.getElementById(e)}function c(e,t,n,r){var o=s(t,r);null!=o?o.innerHTML="":o=(n||a()).parentElement;o.appendChild(e)}function u(e){if(!e)return e;var t,n=Array.isArray(e)?[]:{};for(var r in e)t=e[r],n[r]="object"==typeof t?u(t):t;return n}function l(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;var t;for(var n in t=e instanceof Date?new e.constructor:e.nodeType&&"function"==typeof e.cloneNode?e.cloneNode(!0):e.constructor(),e)Object.prototype.hasOwnProperty.call(e,n)&&(e.isActiveClone=null,t[n]=l(e[n]),delete e.isActiveClone);return t}function d(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){return DYO.Q.all(e).then(function(e){return X(function(e,t){return e||t},undefined,e)})}function f(e){for(var t=0;t<e.length;t++)if(e[t])return!0;return!1}function m(e){for(var t=0;t<e.length;t++)if(!e[t])return!1;return!0}function h(e){return DYO.Q.all(e).then(function(e){return X(function(e,t){return e?t:e},!0,e)})}function g(e){return DYO.Q.all(e).then(function(e){return e&&e.length?e:[!0]})}function O(e,t){return DYO.Q(e).then(function(e){return e?DYO.Q(e):DYO.Q(t)})}function D(e,t){return DYO.Q(e).then(function(e){return e?DYO.Q(t):DYO.Q(e)})}function y(e){var t=e.length;return function n(){var r=Array.prototype.slice.call(arguments,0);return r.length>=t?e.apply(null,r):function(){var e=Array.prototype.slice.call(arguments,0);return n.apply(null,r.concat(e))}}}function v(e,t,n){return Z(e,n)===t}function Y(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function _(e,t){var n=!1;return function(){return n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function w(e){return J(function(t,n){return J(function(e){return e[n]},e)},e[0])}function E(){var e=arguments,t=e.length;return function(){for(var n=t-1,r=e[n].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function I(e){return E.apply(this,e.reverse())}function S(e){if("undefined"!=typeof document&&"undefined"!=typeof document.getElementsByClassName){var t=document.head||document.getElementsByTagName("head")[0];if(!document.getElementById("dy-common-style")){var n=document.createElement("style");n.id="dy-common-style",n.className="dy-common-style","string"==typeof e&&t&&n&&(n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n))}}}function b(e,t,n){var r,o,i=(r=t,o=n,function(){if(void 0===o||o-- >0){setTimeout(i,r);try{e.call(null)}catch(t){throw o=0,t.toString()}}});setTimeout(i,t)}function C(e,t){var n=e;return n&&n.toString().indexOf("[native code]")>-1?n:t}function T(e,t){return X(function(e,t){return t(e)},e,t)}function x(e){return null!==e}function A(e){return X(function(e,t){return e.concat(t)},[],e)}function P(e,t){try{return{success:!0,retVal:e.apply(null,t)}}catch(n){return{success:!1,retVal:n}}}function N(){if(void 0!==DYO&&"number"==typeof DYO.setupTime)return(new Date).getTime()-DYO.setupTime}function U(){if(void 0!==DYO&&"number"==typeof DYO.setupTime)return N()-DYO.stHookTime}function k(){if(void 0!==DYO&&"number"==typeof DYO.setupTime)return N()-DYO.rcomReqTime}function R(e){var t=DYO.Q.defer(),n=!1,r=function(e){n||(n=!0,t.resolve(e))};return DYO.Q.all(e).then(function(e){for(var t=0;t<e.length;t++){DYO.CoreUtils.every(function(e){return!!e},e[t])?r(e[t]):t!==e.length-1||n||r([!1])}}),t.promise}function M(){for(var e=arguments[0],t=[].slice.call(arguments,1),n=0;n<t.length;n++){var r=t[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}function j(){var e=Object.assign;return"function"!=typeof e&&(e=M),e.apply(null,arguments)}function V(e){return!0===e||!1===e}function L(e){return null!=e}var F=C(Array.prototype.map,DYO.MozillaImplementations.arrayMap),B=C(Array.prototype.reduce,DYO.MozillaImplementations.arrayReduce),H=C(Array.prototype.filter,DYO.MozillaImplementations.arrayFilter),G=C(Array.prototype.forEach,DYO.MozillaImplementations.arrayForEach),q=C(Array.prototype.every,DYO.MozillaImplementations.arrayEvery),W=C(Array.prototype.find,DYO.MozillaImplementations.arrayFind),Q=C(Array.prototype.indexOf,DYO.MozillaImplementations.arrayIndexOf),z=C(Object.keys,DYO.MozillaImplementations.objectKeys),J=function(e,t){return F.call(t,e)},X=function(e,t,n){return B.call(n,e,t)},Z=function(e,t,n){return Q.call(t,e,n)};return{any:f,all:m,reverseCompose:I,flatArray:A,getCurrentScriptLoc:a,compose:E,zip:w,runFunc1OnceAfterRunFunc2:_,onlyUnique:v,runFuncOnce:Y,runFuncWithParams:P,curry:y,orPromiseArray:p,andPromiseArray:h,resolvePromiseArray:g,orReduceFunction:O,andReduceFunction:D,safeEval:e,isEmpty:d,addWindowEventListener:n,getStringSizeInBytes:i,insertElement:c,getElement:s,addToCommonStyleBlock:S,setInterval:b,map:J,arrayMap:F,reduce:X,filter:function(e,t){return H.call(t,e)},arrayFilter:H,forEach:function(e,t){return G.call(t,e)},every:function(e,t){return q.call(t,e)},find:function(e,t){return W.call(t,e)},arrayFind:W,clone:l,deepClone:u,keys:z,AsyncTouchPointPromiseRacePositive:R,indexOf:Z,composeOn:T,isNotNull:x,getTimeFromSetup:N,getTimeFromStHook:U,getTimeFromRcomRequest:k,waitForVariable:o,loadScriptWithUrl:t,assign:j,isBoolean:V,isDefined:L}}(),function(){function e(){function e(){s=c=null}d=!0,window.addEventListener("scroll",e),window.addEventListener("resize",e)}function t(t,n){d||e(),u.push({element:t,callback:n}),l||setInterval(i,1e3)}function n(e){0===(u=u.filter(function(t){return t.element!==e})).length&&clearInterval(l)}function r(){return{width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}function o(){return{top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}}function i(){if(u.length>0){s=s||r(),c=c||o();for(var e=0;e<u.length;e++){var t=u[e],n=t.element,i=t.callback;if(document.body.contains(n)){var l,d,p,f=a.DOM.size(n),m=a.DOM.offset(n),h=n.__dy_inview;if(!c||!s)return;m.top+f.height>c.top&&m.top<c.top+s.height&&m.left+f.width>c.left&&m.left<c.left+s.width?(p=(l=c.left>m.left?"right":c.left+s.width<m.left+f.width?"left":"both")+"-"+(d=c.top>m.top?"bottom":c.top+s.height<m.top+f.height?"top":"both"),h&&h===p||(n.__dy_inview=p,i.apply(n,[!0,l,d]))):h&&(n.__dy_inview=!1,i.apply(n,[!1]))}}}}var a=DYO;a.DOM=a.DOM||{},a.CoreUtils.assign(a.DOM,{inView:{monitor:t,stopMonitor:n}});var s,c,u=[],l=null,d=!1}(),function(){function e(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,16)}function t(e,t){return(e.msMatchesSelector||e.matches).call(e,t)}function n(){var e=document.documentElement;return{left:(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}}function r(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}function o(e){return{left:e.offsetLeft,top:e.offsetTop}}function i(e){var t=window.getComputedStyle(e),n=e.offsetHeight,r=e.offsetWidth,o=parseFloat(t.borderTopWidth),i=parseFloat(t.borderLeftWidth),a=parseFloat(t.borderBottomWidth),s=parseFloat(t.borderRightWidth),c=parseFloat(t.paddingTop),u=parseFloat(t.paddingLeft);return{height:n-a-o-c-parseFloat(t.paddingBottom),width:r-i-s-parseFloat(t.paddingRight)-u}}function a(e,t){do{if(b.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function s(e,t){for(var n=[];e&&e.parentNode&&(e.parentNode.matches||e.parentNode.msMatchesSelector);)b.matches(e.parentNode,t)&&n.push(e.parentNode),e=e.parentNode;return n}function c(e){var t=[],n=[];return window.DYO.CoreUtils.forEach(function(e){if(e.tagName&&"script"===e.tagName.toLowerCase())t.push(e);else if(n.push(e),e.querySelectorAll){var r=e.querySelectorAll("script");[].push.apply(t,[].slice.call(r)),window.DYO.CoreUtils.forEach(function(e){e.parentNode.removeChild(e)},r)}},e),{scripts:t,nonScripts:n}}function u(e,t){for(var n=null,r=0;r<e.length&&(1!==e[r].nodeType||!(n=e[r].querySelector(t)));r++);return n}function l(e,t){window.DYO.CoreUtils.forEach(function(t){e.appendChild(t)},t)}function d(e,t){window.DYO.CoreUtils.forEach(function(t){e.insertBefore&&e.firstChild&&e.insertBefore(t,e.firstChild)},t)}function p(e,t){var n=c(t);window.DYO.CoreUtils.forEach(function(t){e.appendChild(t)},n.nonScripts),window.DYO.CoreUtils.forEach(function(e){e.src?C.loadScriptWithUrl(e.src):C.safeEval(e.text)},n.scripts)}function f(e,t){var n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;t=(t=t||"").replace(n,"<$1></$2>"),e.innerHTML=t}function m(e,t,n){try{var r=document.createElement("div");f(r,n?t:decodeURIComponent(t));for(var o=0;o<r.childNodes.length;o++)e.appendChild(r.childNodes[o])}catch(i){}}function h(e,t){for(var n=[],r=0;r<e.length;r++)1===e[r].nodeType&&[].push.apply(n,e[r].querySelectorAll(t));return n}function g(e,t,n,r){r=r||[],window.DYO.CoreUtils.forEach(function(e){var o=1===e.nodeType,i=null!=n,a="string"==typeof e.tagName&&-1===r.indexOf(e.tagName.toLowerCase());o&&i&&a&&e.setAttribute(t,n)},e)}function O(e){var t=document.createDocumentFragment(),n=document.createElement("div");f(n,e);for(var r=[].slice.call(n.childNodes),o=0;r[o];o++){var i=r[o];if(1===i.nodeType){var a=i.getElementsByTagName("script");r.splice.apply(r,[o+1,0].concat([].slice.call(a)))}t.appendChild(i)}return[].slice.call(t.childNodes)}function D(e){var t=document.createElement("style");return t.setAttribute("rel","stylesheet"),
t.innerHTML=e,t}function y(e){var t=document.createElement("script");return t.text=e,t}function v(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}function Y(e,t,n){var r=new MouseEvent(e,{buttons:n||0});t.dispatchEvent(r)}function _(e,t,n){var r=window.CustomEvent;"function"!=typeof r&&((r=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype);var o=new r(e,{bubbles:!0,cancelable:!0,detail:n||null});t.dispatchEvent(o)}function w(t,n){(n=n||{}).done=n.done||function(){},n.duration=n.duration||200;var r=+Date.now(),o=function(){var i=(+Date.now()-r)/n.duration;i=Math.min(i,1),t(i),i<1?e(o):n.done()};o()}function E(t){var n=window.getComputedStyle(t).overflow;t.style.overflow="hidden",t.style.display="block";var r=t.offsetHeight;e(function(){b.animate(function(e){t.style.height=r*(1-e)+"px"},{done:function(){t.style.display="none",t.style.height=r+"px",t.style.overflow=n}})})}function I(t){var n=window.getComputedStyle(t).overflow;t.style.overflow="hidden",t.style.opacity=0,t.style.display="block",e(function(){var e=t.offsetHeight;t.style.height="0px",t.style.opacity=1,b.animate(function(n){t.style.height=e*n+"px"},{done:function(){t.style.height=e+"px",t.style.overflow=n}})})}var S=DYO;S.DOM=S.DOM||{};var b=S.DOM,C=S.CoreUtils;C.assign(b,{matches:t,windowScroll:n,offset:r,position:o,size:i,closest:a,parentsBySelector:s,extractScripts:c,queryNodes:u,queryNodesAll:h,appendNodes:l,prependNodes:d,appendNodesWithScripts:p,setInnerHtml:f,setAttrOnNodes:g,nodesFromMarkup:O,styleTagWithCss:D,scriptTagWithCode:y,ready:v,triggerEvent:_,triggerMouseEvent:Y,animate:w,slideDown:I,slideUp:E,appendChildWithoutTag:m})}(),DYO.Enums=function(){function e(e){return t(r,e)}function t(e,r){if("object"==typeof e){var o=n(e);if("undefined"!=typeof o[r])return o[r];for(var i in e)if(e.hasOwnProperty(i)){var a=t(e[i],r);if(a)return a}return null}}function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}var r={REPORT_API:{TYPES:{IMPRESSION:"imp",REAL_IMPRESSION:"ri",CLICK:"c",DECISION:"dec",TIME_METRICS:{AUD_CALC_TO_ST_HOOK:"asd",RCOM_REQ:"rcom",ST_TIME:"sttime"},METRICS:{AUTO_EMBED_ERROR:"aee",PII_EMAIL_ERROR:"pee",ON_DEMEND_VARIATIONS_ERROR:"odve",ON_DEMEND_VARIATIONS_RETRY:"odvr",TEALIUM_METADATA_ERROR:"tme",EVENT_TRANSFORMED:"et",USING_GET_TAG_VAR_PROP:"ugtvp",NO_UA:"noua",NO_DEVICE_INFO:"nodeviceinfo"}}},EXECUTION_EVENTS:{SINGLE_DYNAMIC_CONTENT:"Single Item Dynamic Content",MULTIPLE_DYNAMIC_CONTENT:"Multiple Item Dynamic Content",SLIDER_DYNAMIC_CONTENT:"Slider Item Dynamic Content",OVERLAY_ACTION:"Overlay Action",NOTIFICATION_ACTION:"Notification Action",JAVASCRIPT_ACTION:"Custom JavaScript Action",EXPERIMENT_DECISION:"Experiment Decision"},VERSIONDATASTR:{MECHANISM:6,SUBMECHANISM:7,STATIC_DIST:8},PII_EVENT:{OPT_IN:"message-optin-v1",OPT_OUT:"message-optout-v1"},OTAGS_INFO:{TYPE:{ANOTHER_SMART:"another_smart",MULTIPLE_SMARTS:"multiple_other_smarts",SELECTOR:"selector",SMART:"smart"},REASON:{SELECTOR_NOT_FOUND:"no_selector",SELECTOR_POPULATED:"selector_populated",ANOTHER_OVERLAY:"another_overly_selected",WAIT_FOR_SELECTOR:"waiting_for_selector",CAMPAIGN_DEPS:"campaign_deps",FREQUENCY:"frequency",TIME:"time",PAGE_EVENT:"_PageEvent",PREVIEW:"_Preview",NO_EXPERIMENT:"no_experiment",OPT_OUT:"opt_out"},EMBED:{REPLACE:"replace"}}};return{ENUMS:r,getEnumNameByValue:e}}(),DYO.ExpUtils=DYO&&DYO.ExpUtils||function(){function e(e){var t=DYO.cookieManagedExperiments;if("object"!=typeof t||"undefined"==typeof t.length||0===t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function t(t,o,i,a,s){try{if(void 0!==i&&null!=i&&i.length>0&&void 0!==s&&null!=s&&"undefined"!=typeof s.method){if(s.method==h&&t!==y)return;if(s.method==g&&t!==v)return;if(s.method==O&&t!==Y)return;if(s.method==D&&t!==_)return;var c,f=e(o);c=f?DYO.StorageUtilsInternal.getItem(l):DYO.StorageUtilsInternal.getItem(u);var w=new Array;void 0!==c&&""!=c&&null!=c&&(w=c.split(d));for(var E=!1,I=0;I<w.length;I++){var S=w[I].split(p);if(o==S[0]){if(s.method==g&&i==S[1]){var b=n(S[2].split(m).concat(a));w[I]=r(o,i,b,s)}else w[I]=r(o,i,a,s);E=!0;break}}E||(w.push(r(o,i,a,s)),E=!0),f?DYO.StorageUtilsInternal.setItem(l,w.join(d)):DYO.StorageUtilsInternal.setItem(u,w.join(d))}}catch(C){}}function n(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n]===t[r]&&t.splice(r--,1);return t}function r(e,t,n,r){var i=o(r);return e+p+t+p+n.join(m)+p+c+p+i}function o(e){var t=(new Date).getTime();return""+e.sesLoadSeq+f+t}function i(e,t){var n="",r=void 0!==e&&""!==e&&null!==e,o=void 0!==t&&""!==t&&null!==t;if(!r&&!o)return n;if(!r)return t;if(!o)return e;try{for(var i=e.split(d),a=t.split(d),s={},c=0;c<a.length;++c){s[a[c].split(p)[0]]=a[c]}for(c=0;c<i.length;++c){s[i[c].split(p)[0]]=i[c]}for(var u in s)s.hasOwnProperty(u)&&(n=""!==n?n+d+s[u]:s[u])}catch(l){n=e+d+t}return n}function a(e){try{if(void 0===DYO)return!1;if(!s)for(var t in s=[],DYO.otags)if(DYO.otags.hasOwnProperty(t))for(var n=0;n<w.length;n++)0===DYO.otags[t].name.indexOf(w[n])&&s.push(t);if(s.length){var r=!1;for(n=0;n<s.length;n++)"undefined"!=typeof DYO.otags[s[n]].rules&&"undefined"!=typeof DYO.otags[s[n]].rules[0]&&"undefined"!=typeof DYO.otags[s[n]].rules[0].smartObject&&"undefined"!=typeof DYO.otags[s[n]].rules[0].smartObject.experiment&&DYO.otags[s[n]].rules[0].smartObject.experiment===e&&(r=!0);return r}return!1}catch(o){return!1}}var s,c="2",u="_dy_att_exps",l="_dy_c_att_exps",d="##",p="|",f=":",m=",",h="0",g="1",O="2",D="3",y="get",v="ri",Y="c",_="cust",w=["Smart_Object_For_Placement","Smart_Action_For_Placement","_dy_collection_inject"];return{expSep:d,dataSep:p,verSep:f,variSep:m,notInExp:"-1",storageKey:"_dyexps",storageAttKey:u,cookieKey:"_dy_c_exps",cookieAttKey:l,SELECTION_AND_ATTRIBUTION:"0",SELECTION:"1",ATTRIBUTION:c,SUB_MECHANISM_NA:"0",SUB_MECHANISM_CG_WITH_PREDICT:"1",SUB_MECHANISM_CG_WITHOUT_PREDICT:"2",SUB_MECHANISM_REWEIGHT_EXPLORE:"3",SUB_MECHANISM_REWEIGHT_KICK_IN:"4",IMPLICIT_ATTRIBUTION:h,ATTRIBUTION_AFTER_RI:g,ATTRIBUTION_AFTER_C:O,EXPLICIT_ATTRIBUTION:D,DECISION_EVENT:y,IMPRESSION_EVENT:v,CONVERSION_EVENT:Y,attributeVariationsExplicitly:t,isExpCookieManaged:e,isInternalAction:a,merge:i}}(),
/*
 Copyright 2013 Daniel Wirtz <dcode@dcode.io>
 Copyright 2009 The Closure Library Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
function(e){"use strict";var t=function(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n};t.isLong=function(e){return!0===(e&&e instanceof t)};var n={},r={};t.fromInt=function(e,o){var i,a;return o?0<=(e>>>=0)&&e<256&&(a=r[e])?a:(i=new t(e,(0|e)<0?-1:0,!0),0<=e&&e<256&&(r[e]=i),i):-128<=(e|=0)&&e<128&&(a=n[e])?a:(i=new t(e,e<0?-1:0,!1),-128<=e&&e<128&&(n[e]=i),i)},t.fromNumber=function(e,n){return n=!!n,isNaN(e)||!isFinite(e)?t.ZERO:!n&&e<=-c?t.MIN_VALUE:!n&&e+1>=c?t.MAX_VALUE:n&&e>=s?t.MAX_UNSIGNED_VALUE:e<0?t.fromNumber(-e,n).negate():new t(e%a|0,e/a|0,n)},t.fromBits=function(e,n,r){return new t(e,n,r)},t.fromString=function(e,n,r){if(0===e.length)throw Error("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if("number"==typeof n&&(r=n,n=!1),(r=r||10)<2||36<r)throw Error("radix out of range: "+r);var o;if((o=e.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+e);if(0===o)return t.fromString(e.substring(1),n,r).negate();for(var i=t.fromNumber(Math.pow(r,8)),a=t.ZERO,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+c),r);if(c<8){var l=t.fromNumber(Math.pow(r,c));a=a.multiply(l).add(t.fromNumber(u))}else a=(a=a.multiply(i)).add(t.fromNumber(u))}return a.unsigned=n,a},t.fromValue=function(e){return"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e):t.isLong(e)?e:new t(e.low,e.high,e.unsigned)};var o=65536,i=1<<24,a=o*o,s=a*a,c=s/2,u=t.fromInt(i);t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*a+(this.low>>>0):this.high*a+(this.low>>>0)},t.prototype.toString=function(e){if((e=e||10)<2||36<e)throw new RangeError("radix out of range: "+e);if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(t.MIN_VALUE)){var r=t.fromNumber(e),o=this.div(r);return n=o.multiply(r).subtract(this),o.toString(e)+n.toInt().toString(e)}return"-"+this.negate().toString(e)}var i=t.fromNumber(Math.pow(e,6),this.unsigned);n=this;for(var a="";;){var s=n.div(i),c=(n.subtract(s.multiply(i)).toInt()>>>0).toString(e);if((n=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,n=31;n>0&&0==(e&1<<n);n--);return 0!=this.high?n+33:n+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isOdd=function(){return 1==(1&this.low)},t.prototype.isEven=function(){return 0==(1&this.low)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},t.prototype.notEquals=function(e){return t.isLong(e)||(e=t.fromValue(e)),!this.equals(e)},t.prototype.lessThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)<0},t.prototype.lessThanOrEqual=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)<=0},t.prototype.greaterThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)>0},t.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.subtract(e).isNegative()?-1:1},t.prototype.negate=function(){return!this.unsigned&&this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,l=0,d=0,p=0;return d+=(p+=i+(65535&e.low))>>>16,p&=65535,l+=(d+=o+c)>>>16,d&=65535,u+=(l+=r+s)>>>16,l&=65535,u+=n+a,u&=65535,t.fromBits(d<<16|p,u<<16|l,this.unsigned)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.negate())},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(u)&&e.lessThan(u))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=65535&e.low,d=0,p=0,f=0,m=0;return f+=(m+=i*l)>>>16,m&=65535,p+=(f+=o*l)>>>16,f&=65535,p+=(f+=i*c)>>>16,f&=65535,d+=(p+=r*l)>>>16,p&=65535,d+=(p+=o*c)>>>16,p&=65535,d+=(p+=i*s)>>>16,p&=65535,d+=n*l+r*c+o*s+i*a,d&=65535,t.fromBits(f<<16|m,d<<16|p,this.unsigned)},t.prototype.div=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,r,o;{if(this.equals(t.MIN_VALUE))return e.equals(t.ONE)||e.equals(t.NEG_ONE)?t.MIN_VALUE:e.equals(t.MIN_VALUE)?t.ONE:(n=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(r=this.subtract(e.multiply(n)),o=n.add(r.div(e)));if(e.equals(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO}if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(o=t.ZERO,r=this;r.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),a=i<=48?1:Math.pow(2,i-48),s=t.fromNumber(n),c=s.multiply(e);c.isNegative()||c.greaterThan(r);)n-=a,c=(s=t.fromNumber(n,this.unsigned)).multiply(e);s.isZero()&&(s=t.ONE),o=o.add(s),r=r.subtract(c)}return o},t.prototype.modulo=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.subtract(this.div(e).multiply(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),0===(e&=63))return this;var n=this.high;if(e<32){var r=this.low;return t.fromBits(r>>>e|n<<32-e,n>>>e,this.unsigned)}return 32===e?t.fromBits(n,0,this.unsigned):t.fromBits(n>>>e-32,0,this.unsigned)},t.prototype.toSigned=function(){return this.unsigned?new t(this.low,this.high,!1):this},t.prototype.toUnsigned=function(){return this.unsigned?this:new t(this.low,this.high,!0)},e.Long=t}(DYO),DYO.Predict=DYO&&DYO.Predict||function(){function e(e,t){return e+c+t}function t(t,n,r){var o=e(n,r);return void 0!==t&&null!=t?t.hasOwnProperty(o)?t[o]:d:l}function n(){var t={};if("undefined"!=typeof DY.prd&&null!=DY.prd){for(var n=0;n<DY.prd.length;n++){var r=DY.prd[n];t[e(r.expId,r.verId)]=r.vars}return t}}function r(){var t={};if("undefined"!=typeof DY.prd&&null!=DY.prd){for(var n=0;n<DY.prd.length;n++){var r=DY.prd[n],o=e(r.expId,r.verId),i=p(r.vars,r.smech);t[o]=i}return t}}function o(e,n){var o=t(r(),e,n);return o==l?undefined:o==d?[]:o}function i(e,n){var r=window.DYO.StorageUtilsInternal.getItem("_dyprdobj");if(void 0!==r&&null!=r&&""!=r){var o=t(window.DYO.StringUtils.pkv(r),e,n);if(o==l)return null;if(o==d)return a=p([],null);var i=window.DYO.StringUtils.pkv(o),a=p(null,null);return"undefined"!=typeof i.varIdArr&&null!=i.varIdArr&&i.varIdArr.length>0&&(a.varIdArr=i.varIdArr.split(u)),"undefined"!=typeof i.smechArr&&null!=i.smechArr&&i.smechArr.length>0&&(a.smechArr=i.smechArr.split(u)),a}return null}function a(){try{var e=r();if(void 0!==e&&null!=e){var t=window.DYO.StringUtils.skv(e);window.DYO.StorageUtilsInternal.setItem("_dyprdobj",t)}else window.DYO.StorageUtilsInternal.removeItem("_dyprdobj");var o=n();if(void 0!==o&&null!=o){var i=window.DYO.StringUtils.skv(o);window.DYO.StorageUtilsInternal.setItem("_dyprd",i)}else window.DYO.StorageUtilsInternal.removeItem("_dyprd")}catch(a){}}function s(e,t){try{var n=o(e,t);return null==n?i(e,t):n}catch(r){}}var c="|",u=",",l="NP",d="NE",p=function(e,t){var n=new Object;return n.varIdArr=void 0!==e?e:null,n.smechArr=void 0!==t?t:null,n.toString=function(){return DYO.StringUtils.skv({varIdArr:this.varIdArr,smechArr:this.smechArr})},n};return{updatePredictStorage:a,getPrediction:s}}(),DYO.pubSub={},function(e){var t={},n=-1;e.sub=function(e,r){t[e]||(t[e]=[]);var o=(++n).toString();return t[e].push({token:o,func:r}),o},e.pub=function(e,n){return!!t[e]&&(DYO.CoreUtils.forEach(function(e){e.func.apply(null,n)},t[e]),!0)},e.off=function(e){for(var n in t)if(t[n])for(var r=0,o=t[n].length;r<o;r++)if(t[n][r].token===e)return t[n].splice(r,1),e;return!1}}(DYO.pubSub),document.dyQuerySelectorAll||("function"==typeof document.querySelectorAll?document.dyQuerySelectorAll=function(){return document.querySelectorAll.apply(document,arguments)}:function(e,t){e=document,t=e.createStyleSheet(),e.dyQuerySelectorAll=function(n,r,o,i,a){for(a=e.all,r=[],o=(n=n.replace(/\[for\b/gi,"[htmlFor").split(",")).length;o--;){for(t.addRule(n[o],"k:v"),i=a.length;i--;)a[i].currentStyle.k&&r.push(a[i]);t.removeRule(0)}return r}}()),document.dyQuerySelector||("function"==typeof document.querySelector?document.dyQuerySelector=function(){return document.querySelector.apply(document,arguments)}:document.dyQuerySelector=function(e){return document.dyQuerySelectorAll(e)[0]||null}),DYO.SessionUtils=window.DYO&&DYO.SessionUtils||function(){function e(e,t){var n=e.split(":");if(n.length>=2){var r=n[0],o=n[1];if(DYO.StringUtils.isN(o)&&(null==DY.jsession||r===DY.jsession)&&parseFloat(o)+s>t)return!1}return!0}function t(){return DYO.StringUtils.removeHttp(location.href.toLowerCase()).replace(/(\#.*)|(\/$)/,"")}function n(){var e=t();return DYO.StorageUtilsInternal.setItem("dy_fs_page",e),e}function r(){return DYO.StorageUtilsInternal.getItem("dy_fs_page")}function o(){return DYO.isFeatureEnabled("API_CAMPAIGNS_FOR_WEB")}function i(){for(var e="",t=0;t<8;t++)e+=Math.random().toString(36).slice(-4);return e}var a={},s=18e5,c=1800;a.expirationPeriodMs=s,a.expirationPeriodSec=c,a.accurateNow=function(){var e=parseInt(DYO.StorageUtilsInternal.getItem("_dy_toffset")),t=(new Date).valueOf();return isNaN(e)||(t+=1e3*e),new Date(t)},a.firstPageInLUSession=function(){if(!o()){var t=!0,r=(new Date).getTime(),i=DYO.StorageUtilsInternal.getItem("_dy_lu_ses");i&&(t=e(i,r)),t&&n(),DY.jsession&&DYO.StorageUtilsInternal.setItem("_dy_lu_ses",[DY.jsession,r].join(":"))}},a.calcAndSetFirstPageInSession=n,a.getFirstPageInSession=r,a.genExpSes=function(e){return(1+Math.abs(DYO.dyhash.hashCode(e))%1e5).toString()},a.isHybridSession=o;var u={value:null,isNew:!1};return a.setHybridSession=function(){if(o()){var e=DYO.StorageUtilsInternal.getItem("_dyjsession");e?u.isNew=!1:(e=i(),u.isNew=!0),u.value=e,DYO.StorageUtilsInternal.setItem("_dyjsession",u.value)}},a.getHybridSession=function(){return u},a}(),DYO.StorageUtils=DYO&&DYO.StorageUtils||function(){function e(){try{if(document.domain.split(".").length<=2||/^([0-9]+\.){3}[0-9]+$/.test(document.domain))return document.domain;var e=/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{2,}|[-\w]{2,3}\.[-\w]{2})$/i.exec(document.domain);if(!e)return document.domain;var t=e[0],n=t.split("."),r=["ru","de"],o=["ac","co","com","net","tp","gov","edu","int","ltd","mil","org","pp","msk"];if(3===n.length){var i=n[2],a=n[1];if(r.indexOf(i)>-1)return o.indexOf(a)>-1?t:[a,i].join(".")}return t}catch(s){return document.domain}}function t(){return null==m&&(m="undefined"==typeof DY||"undefined"==typeof DY.sst||!DY.sst),m}function n(e,t,n){if(!DYO.CoreUtils.isDefined(t))return null;if("string"==typeof t&&(t=[t]),c(n)){var r=d.memoryStorage.getItem(e);if(DYO.CoreUtils.isDefined(r))return r}else for(var o=0;o<t.length;o++){r=d[t[o]].getItem(e,n);if(DYO.CoreUtils.isDefined(r))return r}return null}function r(e,t,n,r){if(DYO.CoreUtils.isDefined(n))if("string"==typeof n&&(n=[n]),c(r))d.memoryStorage.setItem(e,t);else for(var o=0;o<n.length;o++)d[n[o]].setItem(e,t,r),DYO.StorageUtilsInternal.markNonCoreItems(e,n[o],r)}function o(e,t,n){if(DYO.CoreUtils.isDefined(t)){"string"==typeof t&&(t=[t]),c(n)&&d.memoryStorage.removeItem(e);for(var r=0;r<t.length;r++)DYO.StorageUtilsInternal.unmarkNonCoreItems(e,t[r],n),d[t[r]].removeItem(e,n)}}function i(e){return p[e]}function a(){console.info("forceCookie function was deprecated and removed")}function s(){try{return DYO.CoreUtils.getStringSizeInBytes(document.cookie)}catch(e){return 0}}function c(e){return DYO.ActiveConsent.isUserOptOut()&&(!e||!e.ignoreActiveConsent)}var u=30,l=["_dyid","_dyjsession"],d={},p={},f=window._dy_memStore=window._dy_memStore||{},m=null;return d.memoryStorage=function(){function e(e){return f[e]}function t(e,t){f[e]=t}function n(e){delete f[e]}return p.memoryStorage=!0,{getItem:function(t){return e(t)},setItem:function(e,n){return t(e,n)},removeItem:function(e){return n(e)}}}(),d.localStorage=function(){if(!t())return p.localStorage=!1,d.memoryStorage;try{return window.localStorage.setItem("dy_______test","1"),window.localStorage.getItem("dy_______test"),window.localStorage.removeItem("dy_______test"),p.localStorage=!0,window.localStorage}catch(e){return p.localStorage=!1,d.memoryStorage}}(),d.sessionStorage=function(){if(!t())return p.sessionStorage=!1,d.memoryStorage;try{return window.sessionStorage.setItem("dy_______test","1"),window.sessionStorage.getItem("dy_______test"),window.sessionStorage.removeItem("dy_______test"),p.sessionStorage=!0,window.sessionStorage}catch(e){return p.sessionStorage=!1,d.memoryStorage}}(),d.cookieStorage=function(){function e(){try{var e=!!navigator.cookieEnabled;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e}catch(t){return!1}}function t(e){return p.localStorage&&DY.noCookies&&-1===l.indexOf(e)}function n(e,n){if(t(e)){var r=DYO.CoreUtils.find(function(t){return t.toLowerCase()===e.toLowerCase()},Object.keys(window.localStorage)),o=d.localStorage.getItem(r);return o||DYO.CookiesAPI.get(e,n)}return DYO.CookiesAPI.get(e,n)}function r(e,n,r,o,i,a){if(t(e))return d.localStorage.setItem(e,n);DYO.CookiesAPI.set(e,n,r,o,i,a)}function o(e,r,o){t(e)&&d.localStorage.removeItem(e),DYO.CoreUtils.isDefined(n(e))&&DYO.CookiesAPI.remove(e,r,o)}function i(e,t){document.cookie=e+"=;Expires=Thu, 01 Jan 1970 00:00:01 GMT;Path=/;Domain=."+t.join(".")+";",t.length>1&&i(e,t.slice(1))}return e()?(p.cookieStorage=!0,{getItem:function(e,t){return t=t||{},DYO.CoreUtils.isDefined(t.unescape)||(t.unescape=!0),n(e,t.unescape)},setItem:function(e,t,n){var a=0===(n=n||{}).expire?0:n.expire||u,s=n.path||"/",c=n.domain||document.domain,l=n.maxAge||null;try{n.domain&&n.domain!==document.domain&&o(e,s,document.domain)}catch(d){}return-1!=["8769066","8769296"].indexOf(DY.section)&&i(e,location.hostname.split(".")),r(e,t,a,s,c,l)},removeItem:function(e,t){var n=(t=t||{}).path||"/",r=t.domain||document.domain;try{t.domain&&t.domain!==document.domain&&o(e,n,document.domain)}catch(i){}return o(e,n,r)}}):(p.cookieStorage=!1,d.memoryStorage)}(),{get:n,set:r,remove:o,enabled:i,getSecondLevelDomain:e,getTotalCookieSize:s,forceCookies:a}}(),DYO.StorageUtilsInternal=DYO&&DYO.StorageUtilsInternal||function(){function e(e){var t=DYO.StorageUtils.getSecondLevelDomain();for(var n in(D={_dyid:{key:"_dyid",storages:[m,f],options:{domain:t}},_dyid_server:{key:"_dyid_server",storages:[m],options:{domain:t}},_dyjsession:{key:"_dyjsession",storages:[m,h],options:{domain:t,expire:0}},_dy_csc_ses:{key:"_dy_csc_ses",storages:[m,h],options:{domain:t,expire:0}},_dy_lu_ses:{key:"_dy_lu_ses",storages:[m,f],options:{domain:t,expire:0}},_dy_ses_load_seq:{key:"_dy_ses_load_seq",storages:[m,f],options:{domain:t}},_dy_soct:{key:"_dy_soct",storages:[m,f],options:{domain:t,expire:365}},_dy_csc:{key:"_dy_csc",storages:[f,g]},dy_fs_page:{key:"dy_fs_page",storages:[m,f],options:{domain:t,expire:0}},_dyexps:{key:"_dyexps",storages:[f],options:{domain:t}},_dy_att_exps:{key:"_dy_att_exps",storages:[f],options:{domain:t}},_dy_c_exps:{key:"_dy_c_exps",storages:[m,f],options:{domain:t}},_dy_c_att_exps:{key:"_dy_c_att_exps",storages:[m,f],options:{domain:t}},_dy_device:{key:"_dy_device",storages:[f]},_dyprd:{key:"_dyprd",storages:[f]},_dyprdobj:{key:"_dyprdobj",storages:[f]},_dy_toffset:{key:"_dy_toffset",storages:[m,f],options:{domain:t}},_dyrc:{key:"_dyrc",storages:[f]},_dybatch:{key:"_dybatch",storages:[f]},_dyfs:{key:"_dyfs",storages:[m],options:{domain:t,expire:0}},_dycmc:{key:"_dycmc",storages:[m,f],options:{domain:t}},_dy_df_geo:{key:"_dy_df_geo",storages:[m,f],options:{domain:t}},_dy_geo:{key:"_dy_geo",storages:[m,f],options:{domain:t}},_dy_tsrc:{key:"_dy_tsrc",storages:[f]},_dyaud_nchc:{key:"_dyaud_nchc",storages:[f,g]},_dyaud_page:{key:"_dyaud_page",storages:[f,g]},_dyaud_sess:{key:"_dyaud_sess",storages:[h,g]},_dycnst:{key:"_dycnst",storages:[m,f],options:{domain:t}},_dycst:{key:"_dycst",storages:[m,f],options:{domain:t}},_dyabc:{key:"_dycabc",storages:[m,f],options:{domain:t}},_dy_preview_:{key:"_dy_preview_",storages:[h]},__dy_preview_session:{key:"__dy_preview_session",storages:[m],options:{domain:t}},_dy_preview_mode:{key:"_dy_preview_mode",storages:[h],options:{ignoreActiveConsent:!0}},_dyEventsSessionLog:{key:"_dyEventsSessionLog",storages:[h]},_dy_tealium_hash_data_and_ts:{key:"_dy_tealium_hash_data_and_ts",storages:[f]},tealium_va:{key:"tealium_va",storages:[f]},_dy_findify_enabled:{key:"_dy_findify_enabled",storages:[m]},_dyadnxs:{key:"_dyadnxs",storages:[f]},_dy_cs_storage_items:{key:"_dy_cs_storage_items",storages:[m,f],options:{domain:t,expire:365}},_dy_cs_cookie_items:{key:"_dy_cs_cookie_items",storages:[m],options:{expire:365}},_dy_cs_local_items:{key:"_dy_cs_local_items",storages:[f],options:{}},_dy_cs_session_items:{key:"_dy_cs_session_items",storages:[h],options:{}},_dy_error_report:{key:"_dy_error_report",storages:[h]},_dy_loglevel:{key:"_dy_loglevel",storages:[f]},_dy_subscribe_decisions:{key:"_dy_subscribe_decisions",storages:[f]},_dy_subscribe_overlays:{key:"_dy_subscribe_overlays",storages:[f]},_dy_subscribe_notifications:{key:"_dy_subscribe_notifications",storages:[f]},_dy_subscribe_js_actions:{key:"_dy_subscribe_js_actions",storages:[f]},_dy_subscribe_single_so:{key:"_dy_subscribe_single_so",storages:[f]},_dy_subscribe_multiple_so:{key:"_dy_subscribe_multiple_so",storages:[f]},_dy_subscribe_slider_so:{key:"_dy_subscribe_slider_so",storages:[f]},_dy_subscribe_after_render:{key:"_dy_subscribe_after_render",storages:[f]}})["_dyus_"+e]={key:"_dyus_"+e,storages:[m]},D["_dysvar_"+e]={key:"_dysvar_"+e,storages:[h]},D["_dyuss_"+e]={key:"_dyuss_"+e,storages:[h]},D["_dynuss_"+e]={key:"_dynuss_"+e,storages:[m]},D["_dy_cweather_"+e]={key:"_dy_cweather_"+e,storages:[f]},D["_dy_weather_"+e]={key:"_dy_weather_"+e,storages:[f]},D["_dyri_"+e]={key:"_dyri_"+e,storages:[f]},DYO.SessionUtils.isHybridSession()&&(D._dyjsession.storages=[m],D._dyjsession.options={domain:t,maxAge:DYO.SessionUtils.expirationPeriodSec},D._dy_csc_ses.storages=[m,f],D._dy_csc_ses.options={domain:t,maxAge:DYO.SessionUtils.expirationPeriodSec+600}),D)Object.prototype.hasOwnProperty.call(D,n)&&(D[n].options?D[n].options.coreItem=!0:D[n].options={coreItem:!0})}function t(e){var t=o(e);return DYO.CoreUtils.isDefined(t)?DYO.StorageUtils.get(t.key,t.storages,t.options):null}function n(e,t){var n=o(e);DYO.CoreUtils.isDefined(n)&&DYO.StorageUtils.set(n.key,t,n.storages,n.options)}function r(e){var t=o(e);DYO.CoreUtils.isDefined(t)&&DYO.StorageUtils.remove(t.key,t.storages,t.options)}function o(e){return D[e]}function i(){for(var e in s(),D)if(Object.prototype.hasOwnProperty.call(D,e)){var n=o(e),r=t(e);n.options.ignoreActiveConsent||(DYO.StorageUtils.remove(n.key,[m,f,h],n.options),DYO.StorageUtils.set(n.key,r,[g],n.options))}}function a(){for(var e in D)if(Object.prototype.hasOwnProperty.call(D,e)){var t=o(e),n=DYO.StorageUtils.get(t.key,[g],t.options);n&&(DYO.StorageUtils.remove(t.key,[g],t.options),DYO.StorageUtils.set(t.key,n,t.storages,t.options))}}function s(){p().forEach(function(e){var t=DYO.StorageUtils.get(e,[m,f,h,g],{domain:DYO.StorageUtils.getSecondLevelDomain()})||DYO.StorageUtils.get(e,[m]);DYO.StorageUtils.remove(e,[m,f,h],{domain:DYO.StorageUtils.getSecondLevelDomain()}),DYO.StorageUtils.set(e,t,[g])})}function c(e){switch(e){case m:return"_dy_cs_cookie_items";case f:return"_dy_cs_local_items";case h:return"_dy_cs_session_items";default:return null}}function u(e,t,r){if(!r||!r.coreItem){e=encodeURIComponent(e);var o=c(t);if(o){var i=d(o);-1!==i.indexOf(e)||i.push(e),n(o,i.join(O))}}}function l(e,t,r){if(!r||!r.coreItem){e=encodeURIComponent(e);var o=c(t);if(o){var i=d(o),a=i.indexOf(e);-1!==a&&(i.splice(a,1),n(o,i.join(O)))}}}function d(e){var n=t(e),r=[];return n&&(r=n.split(O)),r}function p(){var e=y.map(function(e){return d(e).map(function(e){return decodeURIComponent(e)})});return DYO.CoreUtils.flatArray(e).filter(DYO.CoreUtils.onlyUnique)}var f="localStorage",m="cookieStorage",h="sessionStorage",g="memoryStorage",O=":",D={},y=["_dy_cs_cookie_items","_dy_cs_local_items","_dy_cs_session_items","_dy_cs_storage_items"];return{getItem:t,setItem:n,removeItem:r,init:e,clearFootprint:i,restoreFootprint:a,markNonCoreItems:u,unmarkNonCoreItems:l}}(),DYO.StringUtils=function(){function e(e){for(var t=e.split("."),n={},r=0;r<t.length;r++){var o=t[r].split("@");n[o[0]]="nu"==o[1]?null:o[1].replace(/\%1\%/g,"@").replace(/\%0\%/g,".")}return n}function t(e){var t=[];for(var n in e)t.push(n+"@"+(null==e[n]?"nu":e[n].toString().replace(/\./g,"%0%").replace(/\@/g,"%1%")));return t.join(".")}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,t){t||(t=location.href.toLowerCase()),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(t);return null===n?null:n[1]}function o(e){return e.replace(/^(.+?:)?\/\//,"")}return{pkv:e,skv:t,isN:n,getUrlParam:r,removeHttp:o}}(),DYO.userAgent=function(){var e={chrome:/^(?!.*(edge|Opera|OPR|OPiOS|FxiOS|Firefox)).*(chrome|crios)/i,firefox:/firefox|FxiOS/i,safari:/^(?!.*(chrome|edge|crios|Opera|OPR|OPiOS|FxiOS|Firefox)).*safari/i,opera:/Opera|OPR|OPiOS/i,unknown:/chrome|firefox|safari|msie|trident|OPiOS|Opera|OPR|crios|FxiOS|fbav/i,facebookWebView:/fbav/i};return{isChrome:function(t){return e.chrome.test(t)},isFirefox:function(t){return e.firefox.test(t)},isSafari:function(t){return e.safari.test(t)},isOpera:function(t){return"object"==typeof window.opera||e.opera.test(t)},isUnknown:function(t){return!e.unknown.test(t)&&"object"!=typeof window.opera},isFacebookWebView:function(t){return e.facebookWebView.test(t)},isOldBrowser:function(){try{var e=navigator.userAgent.toLowerCase();return parseFloat((e.match(/msie ([0-9]{1,}[\.0-9]{0,})/)||[])[1])<9}catch(t){return!1}}}}(),DYO.UserUtils=DYO&&DYO.UserUtils||function(){function e(){return DY.dyid||DYO.StorageUtilsInternal.getItem("_dyid_server")||DYO.StorageUtilsInternal.getItem("_dyid")}return{getDyid:e}}(),DYO.ATF=function(){function e(e,r){var i=DYO.getSectionFeature("ABOVE_THE_FOLD");if(!(i&&i.enabled&&e&&e.length))return t(e,r);for(var a=!0,s=new IntersectionObserver(function(e){o(e)&&(c(),r())},{rootMargin:n(i.value)}),c=function(){return!!a&&(s.disconnect(),a=!1,!0)},u=0;u<e.length;u++)s.observe(e[u]);return{cancel:c}}function t(e,t){t()}function n(e){return"string"==typeof e?e:"number"==typeof e?e+"px":i}function r(){return"IntersectionObserver"in window&&window.IntersectionObserver&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function o(e){for(var t=0;t<e.length;t++)if(e[t].isIntersecting)return!0}var i="200px";return{waitFor:r()?e:t}}(),DYO.AntiFlicker=function(e){return{init:function(t){if(DYO.isFeatureEnabled("Anti_flickering"))try{var n=e();n.init(t),this.protect=n.protect,this.forget=n.forget}catch(r){DYO.log.error(r)}},protect:function(){},forget:function(){}}}(function(){function e(e){p=(e=e||{}).hasOwnProperty("timeout")?e.timeout:5e3,d=document.getElementById(m),u=[],f=[]}function t(e){if(a(e)&&!s(e)){var t=e.embedOptions.selector;f.push(e),u.push(t),r()}}function n(e){s(e)&&(u=u.filter(function(t){return t!=e.embedOptions.selector}),r())}function r(){l||(l=DYO.Q().then(o))}function o(){l=null,c(),i(u)}function i(e){var t=e.map(function(e){return e+h}).join(","),n=t.length>0?t+"{opacity:0;visibility:hidden;}":"";d?d.innerHTML=n:((d=DYO.DOM.styleTagWithCss(n)).id=m,(document.head||document.getElementsByTagName("head")[0]).appendChild(d))}function a(e){if(!DYO.isFeatureEnabled("Anti_flickering"))return!1;if(!e)return!1;var t=e.embedOptions;return t&&t.replaceOption==DYO.Enums.ENUMS.OTAGS_INFO.EMBED.REPLACE}function s(e){return u.indexOf(e.embedOptions.selector)>-1}function c(){var e=f;f=[],setTimeout(function(){e.forEach(n)},p)}var u,l,d,p,f,m="dy-css-masking",h=":not(["+"dy-masking"+'="'+{never:"never"}.never+'"])';return{init:e,protect:t,forget:n}}),DYO.EventValidator=function(){function e(e,t){if(e)return e.filter(function(e,n,r){return r.map(function(e){return e[t]}).indexOf(e[t])===n})}function t(e,t,n){e.valid=!1,e.validationErrors=e.validationErrors||[],e.validationErrors.push({key:t,text:a[t],details:n})}function n(e){for(var t=0;t<e.length;t++)if(!e[t].productId)return!0}function r(e,t,n){if(n=n||{},t&&-1!==i.indexOf(t)){var r=!1,o={dytype:"dyType",productid:"productId",itemprice:"itemPrice",uniquetransactionid:"uniqueTransactionId"};function a(e,t){var n=o[t.toLowerCase()];n&&n!==t&&(r=!0,e[n]=e[t],delete e[t])}function c(e,t){e[t]&&"number"==typeof e[t]&&(r=!0,e[t]=e[t].toString())}function u(e,t){var o=!isNaN(e[t]),i="string"==typeof e[t];if(e[t]&&i&&o){var a=parseFloat(e[t]);r=!0,e[t]=a}else!i||""!==e[t]&&o||(n.errorTransforming=!0,n.errorKeys||(n.errorKeys=[]),s[t]&&n.errorKeys.push(s[t]))}function l(e){for(var t in e){a(e,t);var n=t.toLowerCase();switch(n){case"productid":case"uniquetransactionid":c(e,o[n]);break;case"itemprice":case"value":case"quantity":u(e,o[n]||n)}}}if(e){if(l(e),e.cart)for(var d=0;d<e.cart.length;d++)l(e.cart[d]);r&&(DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.EVENT_TRANSFORMED,isPerSection:!0}),n.transformed=!0)}}}function o(n){var o={transformed:!1};if(r(n.properties,n.name,o),o.event=n,n&&n.properties&&c[n.properties.dyType]?c[n.properties.dyType](o):(o.valid=!1,o.type="Unknown",o.validationErrors=[]),o.errorTransforming&&(o.valid=!1,o.errorKeys)){for(var i=0;i<o.errorKeys.length;i++)t(o,o.errorKeys[i]);o.validationErrors=e(o.validationErrors,"key")}return o.validationErrors=o.validationErrors||[],o}var i=["Add to Cart","Remove from Cart","Purchase","Sync cart"],a={invalidValue:"Value must be at least 1",invalidNumberValue:"Value must be a number",invalidNumberQuantity:"Quantity must be a number",invalidNumberItemPrice:"itemPrice must be a number",noCurrency:"Currency property is missing",noCart:"Items in cart property is missing",noSku:"SKU property is missing",invalidQuantity:"Item quantity must be at least 1",cartValueMismatch:"Total value of item(s) in cart does not match purchase value",missingSKU:"SKU is missing in product feed",missingOneOfMoreSKUs:"Several SKUs are missing in product feed",couldNotValidate:"Could not validate SKU/s - Missing product feed"},s={value:"invalidValue",quantity:"invalidQuantity",itemPrice:"invalidNumberItemPrice"},c={"purchase-v1":function(n){n.type="Purchase Event",n.valid=!0;var r=n.event.properties;(!r.value||r.value<=0)&&t(n,"invalidValue"),isNaN(r.value)&&t(n,"invalidNumberValue");var o=r.cart;if(o){o.length||t(n,"noCart");o.forEach(function(e){e.productId||t(n,"noSku"),(!e.quantity||e.quantity<1)&&t(n,"invalidQuantity"),isNaN(e.quantity)&&t(n,"invalidNumberQuantity"),isNaN(e.itemPrice)&&t(n,"invalidNumberItemPrice"),Number(e.itemPrice)*e.quantity})}else t(n,"noCart");n.validationErrors=e(n.validationErrors,"key")},"sync-cart-v1":function(e){e.type="Sync Cart",e.valid=!0;var r=e.event.properties.cart;r?r.length&&n(r)&&t(e,"noSku"):t(e,"noCart")},"add-to-cart-v1":function(e){e.valid=!0,e.type="Add to Cart";var n=e.event.properties;(!n.value||n.value<=0)&&t(e,"invalidValue"),isNaN(n.value)&&t(e,"invalidNumberValue"),n.productId||t(e,"noSku"),(!n.quantity||n.quantity<1)&&t(e,"invalidQuantity"),isNaN(n.quantity)&&t(e,"invalidNumberQuantity")},"add-to-wishlist-v1":function(e){e.valid=!0,e.type="Add To Wishlist"},"remove-from-cart-v1":function(e){var n=e.event.properties;e.valid=!0,e.type="Remove From Cart",n.productId||t(e,"noSku")},"keyword-search-v1":function(e){e.valid=!0,e.type="Keyword Search"},"filter-items-v1":function(e){e.type="Filter Items";var t=e.event.properties||{};e.valid=!(!t.filterType||!(t.filterNumericValue&&"number"==typeof t.filterNumericValue||t.filterStringValue&&"string"==typeof t.filterStringValue))},"change-attr-v1":function(e){e.type="Change Attribute";var t=e.event.properties||{};e.valid=!(!t.attributeType||!t.attributeValue)},"sort-items-v1":function(e){e.valid=!0,e.type="Sort Items"},"newsletter-subscription-v1":function(e){var t=e.event.properties||{};e.valid=!(!t||!t.hashedEmail),e.type="Newsletter Subscription"},"enter-promo-code-v1":function(e){var t=e.event.properties||{};e.type="Promo Code Entered",e.valid=!(!t||!t.code)},"login-v1":function(e){var t=e.event.properties||{};e.valid=!!(t.hashedEmail||t.cuid&&t.cuidType),e.type="Login"},"signup-v1":function(e){var t=e.event.properties||{};e.type="Signup",e.valid=!(!t||!t.hashedEmail)},"video-watch-v1":function(e){e.type="Video Watch",e.valid=!0}};return{isEventValid:o,transformProps:r}}(),function(){var e={};DYO.lifeCycleHooks={HOOKS:{BEFORE_TAG_RUN:"beforeSmartExecution",AFTER_EXP_SELECT:"afterExperienceSelected",AFTER_VARIATION_SELECT:"afterVariationSelected",AFTER_TAG_RENDER:"afterVariationRendered",BEFORE_RCOM_REQUEST:"beforeRcomRequest",AFTER_RCOM_RESPONSE:"afterRcomResponse"},prepareRecommendationsResponse:function(e){try{return{strategy:e.name,fallback:e.fallback,widgetId:e.wId,slots:e.slots,success:!0}}catch(t){return{success:!1}}},runHook:function(t,n){function r(){if(n&&"_dy_collection_inject"!==n[1]){var e={smartObject:n[3],tagId:o,chosenVariations:n[4]};if(DYO.debuggerUtils.selectorAlreadyPopulated(o))return;DYO.debuggerUtils.assignChosenVariation(o,e)}}switch(t){case DYO.lifeCycleHooks.HOOKS.BEFORE_TAG_RUN:case DYO.lifeCycleHooks.HOOKS.AFTER_EXP_SELECT:case DYO.lifeCycleHooks.HOOKS.AFTER_TAG_RENDER:case DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT:var o=n[0],i=DYO.otags[o];if(t===DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT&&r(),i&&i.internal||i&&i.ignoreHooks&&!i.previewKey)return}DYO.hooks&&DYO.hooks[t]&&DYO.CoreUtils.runFuncWithParams(DYO.hooks[t],n);var a=e[t];if(a)for(var s=0;s<a.length;s++)DYO.CoreUtils.runFuncWithParams(a[s],n)},addVariations:function(e){for(var t=e.cv||[],n=e.so,r=e.expVars,o=[],i=0;i<r.length;i++){var a=t[i]||n.variations[r[i].name];a&&(a.id=r[i].name),o.push(a)}return o},addHook:function(t,n){var r=DYO.lifeCycleHooks.HOOKS[t];r&&(e[r]=e[r]||[],e[r].push(n))}}}(),function(){function e(t,r){this.options={},this.id=n++,this.isOpen=!1,this.element=t.element,this.openCallback=t.callback,this.options.backdropColor=r.background,this.options.showBackdrop=2!==r.background,this.options.backdropOpacity=r.opacity,this.options.smartTagId=r.smartTagId,
this.options.duration=r.duration||0,this.options.addClose=0===r.closing||2===r.closing,this.options.backdropClose=2===r.closing||1===r.closing,this.options.position=r.position,this.options.backdropAnimationDuration=200,this.createDom(this.element),this.attachHandlers(),e.overlays[this.id]=this}function t(e,t){e=e||"div";var n=document.createElement(e);return n.className=t,n}var n=0,r=0,o=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),!0):e.attachEvent?e.attachEvent("on"+t,n):void 0};e.prototype.attachHandlers=function(){var e=this;o(this.closeButton,"click",function(){e.close(!0)}),o(this.modalWrapper,"click",function(t){var n=t||window.event;if(n.target===e.modalWrapper){if(!e.options.backdropClose)return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1;e.close(!1),n.stopPropagation()}})},e.prototype.createDom=function(e){switch(this.modalElement=t("div","dy-modal-container dy-act-overlay"),this.modalBackdrop=t("div","dy-modal-backdrop lb_overlay js_lb_overlay"),this.modalBackdrop.style.backgroundColor=0===this.options.backdropColor?"black":"white",this.modalWrapper=t("div","dy-modal-wrapper"),this.modalContents=t("div","dy-modal-contents"),this.closeButton=t("div","dy-lb-close"),this.options.addClose&&this.modalContents.appendChild(this.closeButton),this.modalElement.appendChild(this.modalBackdrop),this.modalElement.appendChild(this.modalWrapper),this.modalContents.appendChild(e),this.options.position){case 0:break;case 1:this.modalWrapper.className+=" dy-modal-top";break;case 2:this.modalWrapper.className+=" dy-modal-bottom"}},e.prototype.afterOpen=function(){"function"==typeof this.openCallback&&this.openCallback.call(window)},e.prototype.open=function(e){if((!r||e)&&!DYO.StringUtils.getUrlParam("_dy_page_action_start")){var t=this;null!==document.body?(r++,this.isOpen=!0,document.body.appendChild(this.modalElement),this.options.showBackdrop?setTimeout(function(){t.modalBackdrop.style.opacity=t.options.backdropOpacity,setTimeout(function(){t.modalWrapper.appendChild(t.modalContents),t.afterOpen()},t.options.backdropAnimationDuration)},0):(this.modalWrapper.appendChild(this.modalContents),this.afterOpen(),this.modalBackdrop.style.display="none"),this.options.duration>0&&setTimeout(function(){t.close(!1)},this.options.duration),setTimeout(function(){t.modalContents.style.visibility="visible"},10)):setTimeout(function(){t.open(e)},100)}},e.prototype.close=function(t){if(this.isOpen){this.isOpen=!1;var n=this;if(r--,this.modalElement.style.opacity=0,setTimeout(function(){n.modalElement.parentNode.removeChild(n.modalElement)},200),this.options.smartTagId&&t)try{DYO.csc.markEvent("closeAction_"+this.options.smartTagId)}catch(o){}delete e.overlays[this.id]}},e.closeAll=function(){for(var t in e.overlays)e.overlays.hasOwnProperty(t)&&e.overlays[t].close(!0)},e.overlays={},DYO.Overlay=e}(),DYO.PerformanceData=function(){function e(e){e=e||{};var t=DYO.section||"",n=DYO.UserUtils.getDyid();r||(r=t+""+Date.now()+DYO.apiStaticArrivalTime+(n||"")),!DYO.firstLoadTS&&window&&window.performance&&window.performance.timing&&(DYO.firstLoadTS=window.performance.timing.fetchStart);var i={firstLoadTS:DYO.firstLoadTS,url:window&&window.location?window.location.href:"",sectionId:t,dyid:n,pageviewId:r,sessionPageview:DYO.StorageUtilsInternal.getItem("_dyuss_"+t),sessionId:DYO.StorageUtilsInternal.getItem("_dyjsession"),context:DY.recommendationContext&&DY.recommendationContext.type?DY.recommendationContext.type:"",loadType:DYO.PerformanceData.loadType||"regular",type:e.type,subType:e.subType||"",variationId:e.actionId,timestamp:e.timestamp||Date.now(),measure:e.measure};return o[i.type]=i,s(i),i}function t(t){try{DY.API("stats_report",e(t))}catch(n){}}function n(t){try{DY.API("performance_report",e(t))}catch(n){}}var r,o={},i=function(e){return o[e]?o[e].timestamp:undefined},a=function(e,t){var n=e-i(t);return isNaN(n)?-1:n},s=function(e){switch(e.type){case"dynamicContent":"variationRenderEnd"===e.subType&&(e.stToRenderVar=a(e.timestamp,"st"),e.audCalcToRenderVar=a(e.timestamp,"audCalc"));break;case"static":e.pageviewId=r;break;case"st":e.staticToSt=a(e.timestamp,"static")}};return{postData:t,postPerfData:n}}(),function(){function e(e){try{var t=window.location&&window.location.search||"";if(new RegExp("[?&]_dy_skip_embed="+e+"(&|$|#)","i").test(t))return!0}catch(n){return!1}return!1}var t=DYO.CoreUtils.curry,n=t(DYO.CoreUtils.map),r=t(DYO.CoreUtils.filter),o=t(DYO.CoreUtils.forEach),i=DYO.CoreUtils.composeOn,a={};DYO.embedTag=function(e){function t(){clearTimeout(r),delete a[e];try{DYO.smartObject(e,{target:s,useQuerySelector:!0,inline:!p,embed:i})}catch(t){DYO.AntiFlicker.forget(o),DY.API("internal_error",{name:"AutoEmbedTag",error:t})}}function n(e,t,n,r){e&&(DYO.debuggerUtils.save({tagId:r,reason:n,param:s,type:DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR}),DYO.AntiFlicker.forget(o))}var r,o=DYO.otags[e],i=o.embedOptions,s=i.selector,c=i.repeats||100,u=i.delay||50,l=i.replaceOption,d=1,p=i.inIframe||!1;try{a[e].cancelWait()}catch(f){}DYO.debuggerUtils.save({tagId:e,reason:DYO.Enums.ENUMS.OTAGS_INFO.REASON.WAIT_FOR_SELECTOR,param:s,type:DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR}),a[e]=DYO.waitForElement(s,t,d,u,c,n,e,l===DYO.Enums.ENUMS.OTAGS_INFO.EMBED.REPLACE),-1!==c&&(r=setTimeout(function(){DY.API("internal_error",{name:"Auto Embed Place not found for tag "+e,clientOnly:!0})},c*u+100))},DYO.autoEmbedSmarts=function(t){try{window.DY.skipAutoEmbed=undefined,t=t||DYO.otagsUtils.dynamicContentEmbedList;var a=i(t,[n(function(e){return{key:e,tag:DYO.otags[e],embed:DYO.otags[e].embedOptions}}),r(function(t){return!e(t.key)}),n(function(e){return DYO.isInAudience({rule:e.embed.conditions,session:!0}).then(function(t){var n=DYO.CoreUtils.all(t);return n?DYO.AntiFlicker.protect(e.tag):(DYO.otagsUtils.markTouchPoint(e.key,!1),DYO.debuggerUtils.prepareAndSave({tagId:e.key,isInAudArray:t,conditions:e.embed.conditions})),n?e.key:null})})]);DYO.Q.all(a).then(function(e){i(e,[r(DYO.CoreUtils.isNotNull),o(function(e){try{DYO.embedTag(e)}catch(t){DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.AUTO_EMBED_ERROR,isPerSection:!0})}})])})["catch"](function(){DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.AUTO_EMBED_ERROR,isPerSection:!0})})}catch(s){DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.AUTO_EMBED_ERROR,isPerSection:!0})}}}();var DYO=DYO||{};DYO.Chooser=function(){function e(e,t,n){for(var r=s(e),o=[],i=Object.keys(e).length,a=0;a<t&&a<i;a++)o.push(c(r,n));return o}function t(e,t,n){this.value=e.slice(0),this.weight=t,this.id=n}function n(e,r,o,i,a,s){if(!(r.length-o<i))if(i>0)for(var c=o;c<r.length+1-i;++c)a.push(r[c]),n(e,r,c+1,i-1,a,s*r[c].weight),a.pop(r[c]);else{var u=new t(a,s,e.length);e.push(u)}}function r(e,t){var n=Math.floor(t()*e.length);return{opt:e[n].id,loc:n}}function o(e,t,n){for(var o=[],i=0;i<t&&e.length>0;i++){var a=r(e,n);null!=a&&null!=a.loc&&(o.push(e[a.loc]),e.splice(a.loc,1))}return o}function i(e,t){for(var n=0,o=e[n].id,i=0,a=[],s=0;s<e.length;s++)a.push(e[s].weight+i),i+=e[s].weight;if(i<=0)return r(e,t);var c=Math.floor(t()*i);for(s=0;s<a.length;s++)if(c<a[s]){o=e[s].id,n=s;break}return{opt:o,loc:n}}var a=function(e,t,n){var r=new Object;return r.value=e,r.weight=t,r.totalWeight=n,r},s=function(e){var t=[undefined];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=null==r.weight?0:r.weight;t.push(a(r,o,o))}for(var i=t.length-1;i>1;i--)t[i>>1].totalWeight+=t[i].totalWeight;return t},c=function(e,t){for(var n=e[1].totalWeight*t(),r=1;n>e[r].weight;)(n-=e[r].weight)>e[r<<=1].totalWeight&&(n-=e[r].totalWeight,r+=1);var o=e[r].weight,i=e[r].value;for(e[r].weight=0;0!==r;)e[r].totalWeight-=o,r>>=1;return i},u=function(t,r,o){var a=[4e4,4e4,256,64,32,24,20,18,18],s=r<t.length-r?r:t.length-r;if(s>=a.length||t.length>a[s])return e(t,r,o);var c=[];if(n(c,t,0,r,[],1),c.length>0){var u=i(c,o);if(u.loc>=0&&u.loc<c.length)return c[u.loc].value}return[]};return{wRandomChoose:function(t,n,r){for(var i=[],a=[],s=0;s<t.length;s++)null==t[s].weight||t[s].weight<=0?i.push(t[s]):a.push(t[s]);var c=[];i.length>0&&a.length<n&&(c=o(i,n-a.length,r));var l=n-c.length,d=u(a,l,r);return null==d?[]:((d=e(d,d.length,r)).length<n&&c.length>0&&(d=d.concat(c)),d)},equalDecisions:o,weightedDecision:i,wRandomOrderedNoReplacement:e,wRandomOrderlessNoReplacement:u}}(),function(e,t){function n(){return"PerformanceObserver"in window}function r(){return Math.random()<a||t.getUrlParam("_dy_perf")}function o(){new PerformanceObserver(i("first-contentful-paint","fcp")).observe({type:"paint",buffered:!0})}function i(t,n){return function(r,o){r.getEntries().forEach(function(r){r.name==t&&(e.postPerfData({type:"perf",subType:n,measure:Math.round(r.startTime)}),o.disconnect())})}}var a=.05;n()&&r(a)&&o()}(DYO.PerformanceData,DYO.StringUtils);var DYO=DYO||{};DYO.Props=function(){function e(e,t){return e.length>2&&t.length>2&&e[2]==t[2]||e.length>2&&e[2]==F||t.length>2&&t[2]==F}function t(e,t){return e.length>=5&&t.length>=5&&e[4]==t[4]}function n(e,t,n){return e.length>t.sessionIdx&&e[t.sessionIdx]==n}function r(e,t){if("undefined"!=typeof e.calcExpirationPeriodMs&&DYO.StringUtils.isN(e.calcExpirationPeriodMs)&&e.calcExpirationPeriodMs>=0){var n=(new Date).getTime();if(t.length<4||!DYO.StringUtils.isN(t[3])||parseFloat(t[3])+e.calcExpirationPeriodMs<n)return!1}return!0}function o(e,t){return e.version==t[0]}function i(e,t){return e.length>1&&t.length>1&&e[1]==t[1]}function a(e){return"undefined"!=typeof e.isIgnoreReweightInc&&e.isIgnoreReweightInc}function s(e){return void 0!==e&&null!=e&&"undefined"!=typeof e.stickiness&&e.stickiness==M}function c(e,t,n,r){var o=e.version,i=(new Date).getTime();return o+DYO.ExpUtils.verSep+t+DYO.ExpUtils.verSep+n+DYO.ExpUtils.verSep+i+DYO.ExpUtils.verSep+DYO.Seqs.loadSeq+DYO.ExpUtils.verSep+DYO.Seqs.sesLoadSeq+DYO.ExpUtils.verSep+r+DYO.ExpUtils.verSep+l([DYO.ExpUtils.SUB_MECHANISM_NA])}function u(e){var t=null==e?[]:e.split(DYO.ExpUtils.verSep);return t.length<7?null:t[6]}function l(e){return(void 0===e||null==e?[]:e).join(L)}function d(e){return void 0!==e&&null!=e&&"undefined"==typeof e.attributionMethod&&"undefined"!=typeof e.isExplicitlyAttributed&&e.isExplicitlyAttributed?DYO.ExpUtils.ATTRIBUTION_AFTER_C:void 0===e||null==e||"undefined"==typeof e.attributionMethod||e.attributionMethod!=DYO.ExpUtils.ATTRIBUTION_AFTER_RI&&e.attributionMethod!=DYO.ExpUtils.ATTRIBUTION_AFTER_C&&e.attributionMethod!=DYO.ExpUtils.EXPLICIT_ATTRIBUTION?DYO.ExpUtils.IMPLICIT_ATTRIBUTION:e.attributionMethod}function p(e){return"undefined"!=typeof e.attributionTtlS&&DYO.StringUtils.isN(e.attributionTtlS)&&(e.attributionTtlS>=0||e.attributionTtlS==B)}function f(e,t,i){try{return o(e,t)&&(r(e,t)||null!=i&&n(i,G,DYO.Seqs.sesLoadSeq))}catch(a){return!1}}function m(e,t,n){try{if(!o(e,t))return!1;if(!p(e))return!0;if(e.attributionTtlS==B)return n[0]==DYO.Seqs.sesLoadSeq;var r=(new Date).getTime();return!(n.length<2||!DYO.StringUtils.isN(n[1])||parseFloat(n[1])+1e3*e.attributionTtlS<r)}catch(i){return!1}}function h(e,t,a,c){try{return o(e,t)&&(r(e,t)||n(c,G,a[H.sessionIdx]))&&i(t,a)&&(!s(e)&&!y(e)||n(t,H,a[H.sessionIdx]))}catch(u){return!0}}function g(r,o,i,c){try{return h(r,o,i,c)&&(!s(r)||t(o,i))&&(a(r)||s(r)||y(r)||n(c,G,i[H.sessionIdx])||e(o,i))}catch(u){return!1}}function O(e,t,n,r){if("undefined"==typeof e.controlGroup||null==e.controlGroup||"undefined"==typeof e.controlGroup.share||"undefined"==typeof e.controlGroup.method||!DYO.StringUtils.isN(e.controlGroup.share))return!1;var o=!1;if(null==t||!h(e,t.split(DYO.ExpUtils.verSep),n.split(DYO.ExpUtils.verSep))){var i=parseFloat(e.controlGroup.share);Math.floor(100*r())<i&&(o=!0)}else o=D(t);return o}function D(e){return u(e)==j}function y(e){return void 0!==e&&null!=e&&"undefined"!=typeof e.stickiness&&e.stickiness==R}function v(e){var t=d(e);return t==DYO.ExpUtils.ATTRIBUTION_AFTER_RI||t==DYO.ExpUtils.ATTRIBUTION_AFTER_C||t==DYO.ExpUtils.EXPLICIT_ATTRIBUTION}function Y(e){return void 0!==e&&null!=e&&"undefined"!=typeof e.isVarRimpOnGet&&e.isVarRimpOnGet}function _(e){return p(e)||v(e)?DYO.ExpUtils.SELECTION:DYO.ExpUtils.SELECTION_AND_ATTRIBUTION}function w(e){var t=d(e);return p(e)&&t==DYO.ExpUtils.IMPLICIT_ATTRIBUTION}function E(e){return{method:d(e),sesLoadSeq:DYO.Seqs.sesLoadSeq}}function I(){var e=(new Date).getTime();return""+DYO.Seqs.sesLoadSeq+DYO.ExpUtils.verSep+e}function S(e,t){return e.versionHash==t}function b(e){return null!=e&&"undefined"!=typeof e.weightMechanism?e.weightMechanism:DYO.Props.REWEIGHT_MECHANISM}function C(e){return null!=e&&"undefined"!=typeof e.weightSubMechanism?e.weightSubMechanism:null}function T(e,t,n){var r=e.split(DYO.ExpUtils.verSep);return r[6]=t,r[7]=l(n),r.join(DYO.ExpUtils.verSep)}function x(e){return c(e,k,null==e.reweightId?0:e.reweightId,V)}function A(e,t){return c(e,t,null==e.reweightId?0:e.reweightId,V)}function P(e){return c(e,k,F,V)}function N(e){return e.split(DYO.ExpUtils.verSep)[0]}function U(e,t){var n=null;if(null==t)n=P(e);else{"number"==typeof t&&(t=""+t);var r=t.split(DYO.ExpUtils.verSep);r.length<=1?(n=P(e),DYO.log.info("setting dont-care-weight due to version-data being without reweight-id data")):2==r.length?(n=A(e,r[1]),DYO.log.info("setting dont-care-weight due to version-data being without reweight-id data")):3==r.length?n=c(e,r[1],r[2],V):r.length<=7?(n=t,4==r.length&&(n=n+DYO.ExpUtils.verSep+DYO.Seqs.loadSeq),r.length<=5&&(n=n+DYO.ExpUtils.verSep+DYO.Seqs.sesLoadSeq),r.length<=6&&(n=n+DYO.ExpUtils.verSep+V),r.length<=7&&(n=n+DYO.ExpUtils.verSep+l([DYO.ExpUtils.SUB_MECHANISM_NA]))):n=t}return n}var k="",R="1",M="2",j="0",V="1",L=".",F="__dontcareweight",B=-1,H={sessionIdx:5,timestampIdx:3},G={sessionIdx:0,timestampIdx:1};return{DONT_CARE_WEIGHT:F,CONTROL_GROUP_MECHANISM:j,MANUAL_MECHANISM:V,REWEIGHT_MECHANISM:"2",PREDICT_MECHANISM:"3",LIFETIME_SCOPE:"0",SESSION_SCOPE:R,PAGEVIEW_SCOPE:M,isStoredVersionValidDuringCleanup:f,isStoredVersionValidForChoose:g,isStoredAttributionValidDuringCleanup:m,isExplicitlyAttributed:v,isVarRimpOnGet:Y,getAttributionMethodForGet:_,verifyClientIdsOfServerAndClientSynced:S,expProgVersionData:x,expContVersionData:A,expManualSetVersionData:P,getVersionId:N,expCompleteVersionData:U,resetVersionDataMechanism:T,getMechanismRepresentingWeights:b,getSubMechanismRepresentingWeights:C,isControlGroupChoose:O,isCurrentlyInControlGroup:D,isAttributionStoredOnGet:w,getCurrentAttributionProps:E,generateSelectionDataPart:I,CGM_PRESET_VARS:"0",CGM_RANDOM:"1",SESSION_SCOPE_ATTRIBUTION_TTL:B,VERSION_DATA_IDX:H,MODE_DATA_IDX:G,subMechanismsArrToStr:l,getVersionDataMechanism:u,isSameReweight:e}}();var DYO=DYO||{};DYO.Seqs=function(){function e(){var e=DYO.SessionUtils.expirationPeriodMs;"undefined"!=typeof DYExps.expSesMs&&DYO.StringUtils.isN(DYExps.expSesMs)&&(e=DYExps.expSesMs);try{if(t=DYO.HybridState.isHybridStateSection()?DY.esession:(1+Math.floor(99999*Math.random())).toString(),DYO.SessionUtils.isHybridSession()){var r=DYO.SessionUtils.getHybridSession().value;n=DYO.SessionUtils.genExpSes(r)}else{n=t;var o=DYO.StorageUtilsInternal.getItem("_dy_ses_load_seq"),i=(new Date).getTime();if(null!=o){var a=o.split(DYO.ExpUtils.verSep);a.length>=2&&DYO.StringUtils.isN(a[1])&&parseFloat(a[1])+e>=i&&(n=a[0])}DYO.StorageUtilsInternal.setItem("_dy_ses_load_seq",""+n+DYO.ExpUtils.verSep+i)}}catch(s){DYO.log.info("error setting up load sequences")}finally{try{DYO.Seqs.loadSeq=t,DYO.Seqs.sesLoadSeq=n}catch(c){}}}var t=0,n=0;return{loadSequences:e,loadSeq:t,sesLoadSeq:n}}(),DYO.ServeTagUtils=function(){function e(e){for(var e in DYO.otags)for(var t=DYO.otags[e],n=0;n<t.rules.length;n++)if(1!=t.rules[n].smartObject.objectType){var r=t.rules[n].smartObject.variations;for(var o in r)if(("image"==r[o].renderType||"flash"==r[o].renderType)&&"undefined"!=typeof r[o].imageLink&&null!=r[o].imageLink&&""!=r[o].imageLink){for(var i,a=t.rules[n].smartObject.experiment,s=0;s<DYO.oexps[a].variations.length;s++)if(DYO.oexps[a].variations[s].name==o){i=DYO.oexps[a].variations[s].id;break}r[o].doNotMarkUnit=!0,r[o].imageLink="http://"+DYO.hosts.px+"/var?t=c&e="+a+"&va=%5B"+i+"%5D&_="+Math.random()+"&red="+encodeURIComponent(r[o].imageLink)}}}return{updateImageVariations:e}}(),DYO.SmartsPreWork=function(){function e(e){var t=m[e];if(!t.executed){var n=t.audParts.pageEventAudRules;if(void 0!==n)for(var r=0;r<n.length;r++)if("undefined"!=typeof n[r])return;if(DYO.otags[e].hasOwnProperty("ttw")&&DYO.otags[e].ttw>0){var o=t.depConds;if(void 0!==o)for(var i=0;i<o.length;i++)if("undefined"!=typeof o[i]&&"campaigns"!==o[i])return}if(t.depConds&&t.depConds.indexOf("campaigns")>-1){if(!DYO.otagsUtils.doneWithCampaigns(e))return;if("tag"==DYO.otags[e].subType&&DYO.otags[e].campaignDeps)for(r=0;r<DYO.otags[e].campaignDeps.length;r++)if(DYO.otagsUtils.isTouchPointExecuted(DYO.otags[e].campaignDeps[r]))return void DYO.debuggerUtils.save({tagId:e,reason:DYO.Enums.ENUMS.OTAGS_INFO.REASON.CAMPAIGN_DEPS,param:[DYO.otags[e].campaignDeps[r]],type:DYO.Enums.ENUMS.OTAGS_INFO.TYPE.MULTIPLE_SMARTS})}t.executed=!0,DYO.logBlock.info(function(){return"tag "+DYO.otags[e].name+" started execution"},"tag-"+e),t.callback(t.audParts.cleanAudRules)}}function t(t,n,r,o){var a=i(t,n);DYO.staticAllocation.shouldWaitForStForStaticAllocation(t,n,a)&&(a.push("stScript"),DYO.otags[n].ttw=3e3),!DYO.otags[n].isMultiTouch&&!DYO.otags[n].isTouchPoint&&DYO.otags[n].campaignDeps&&DYO.otags[n].campaignDeps.length&&a.push("campaigns"),m[n]={callback:o,executed:!1,audParts:r,depConds:a};for(var s=0;s<m[n].depConds.length;s++)!function(){function t(){delete m[n].depConds[o],e(n)}function r(){e(n)}var o=s;"undefined"!=typeof m[n].depConds[o]&&("campaigns"===m[n].depConds[o]?(DYO.pubSub.sub("dy-dep-cond-campaigns-finished",r),DYO.logBlock.info(function(){return"tag "+DYO.otags[n].name+" has campagin dependency"},"tag-"+n)):(DYO.pubSub.sub("dy-dep-cond-done-smartTag-"+n,t),DYO.pubSub.sub("dy-dep-cond-max-timeouts",t),DYO.logBlock.info(function(){return"tag "+DYO.otags[n].name+" has stScript dependency"},"tag-"+n)))}();e(n)}function n(n,r,i){var a=["LeavePage","ClickOnElement","HoverOnElement"];"object"==typeof n&&void 0!==r||i();var s=u(n.pageEventDisjs||[]),c=s.pageEventAudRules;t(n,r,s,i);for(var l=0;l<c.length;l++){var d=c[l]?c[l].condType:"";DYO.debuggerUtils.prepareAndSave({tagId:r,conditions:[c[l]]});for(var p=0;c[l]&&p<c[l].conds.length;p++)!function(){function t(){var t=c&&c[i]?c[i].conds:[];delete c[i],e(r);var n=c&&!Object.keys(c).length,o=-1===a.indexOf(s.selectMethod);(n||o)&&DYO.debuggerUtils.changeStatus(r,d,t,n)}function n(){var e=c[i];t(),c[i]=e}var i=l,s=c[l].conds[p];switch(s.selectMethod){case"LeavePage":DY.API("sub",{on:"dy-mouse-leave-doc",callback:n});break;case"SiteEvent":DY.API("sub",{on:"dy-event-"+s.selectParameter.toLowerCase(),callback:t});break;case"TimeOnPage":if(0==s.selectParameter)t();else{var u=setTimeout(t,1e3*parseFloat(s.selectParameter));DYO.isMobile&&DY.API("page_handlers",u)}break;case"WaitForElement":DYO.waitForElement(s.selectParameter,t);break;case"WaitForExternalComponent":o(s.selectParameter.split(","),t);break;case"ClickOnElement":case"HoverOnElement":var f;switch(s.selectMethod){case"ClickOnElement":f="mousedown";break;case"HoverOnElement":f="mouseover"}DY.API("callback",function(){document.body.addEventListener(f,function(e){DYO.DOM.matches(e.target,s.selectParameter)&&n()})})}}()}e(r)}function r(e,t,n){void 0===n&&(n=20),DYO.CoreUtils.waitForVariable(e,n,t)}function o(e,t,n){for(var o=0,i=0;i<e.length;i++)r(e[i],function(){o++,e.length===o&&t()},n)}function i(e,t){var n=[];if(DYO.waitersTimeouts._dy_max_timeout||DYO.waitersTimeouts[t])return n;var r=DYO.Conditions.webConditionsWithDependencies,o=null===DYO.StorageUtilsInternal.getItem("_dy_device");if("undefined"!=typeof e.rules)for(var i=0;i<e.rules.length;i++)if("undefined"!=typeof e.rules[i].ruleDisjs){var a=e.rules[i].ruleDisjs;e.isMultiTouch&&(a=a.concat(e.rules[i].touchPointsDisjs));for(var s=0;s<a.length;s++){var c,u=a[s];void 0!==(c=void 0!==u&&"undefined"!=typeof u.condType&&"_"!==u.condType[0]?{isPerSession:!1}:r.stScript[u.condType])&&(!c.isPerSession||c.isPerSession&&o)&&n.push("stScript")}}return n}function a(){var e=DYO.CoreUtils.keys(DYO.otags);d(c,e)}function s(){var e=3e3;f(DYO.CoreUtils.keys(DYO.otags),[p(function(e){return{key:e,tag:DYO.otags[e]}}),d(function(t){if(DYO.staticAllocation.shouldStaticAllocate())var n=e;else n=isNaN(t.tag.ttw)?e:Math.min(e,t.tag.ttw);DYO.Q.delay(n).then(function(){c(t.key)})})])}function c(e){DYO.pubSub.pub("dy-dep-cond-done-smartTag-"+e),DYO.waitersTimeouts[e]=!0}function u(e){for(var t=[],n=[],r=0;r<e.length;r++)"_PageEvent"===e[r].condType?t.push(e[r]):n.push(e[r]);return{pageEventAudRules:t,cleanAudRules:n}}var l=DYO.CoreUtils.curry,d=l(DYO.CoreUtils.forEach),p=l(DYO.CoreUtils.map),f=DYO.CoreUtils.composeOn,m={};return{notifyTimeoutForEachSmartTag:s,notifyAllSmartTags:a,executeWithPageEvents:n,waitForDependencies:t}}(),DYO.IntervalWaiter=function(){function e(e,t){this.interval=e,this.retries=t,this._timeoutId=null}return e.prototype.waitFor=function(e,t,n){this._count=0,this.loop(e,t,n)},e.prototype.stop=function(){return null!==this._timeoutId&&(clearTimeout(this._timeoutId),!0)},e.prototype.count=function(){return this.count},e.prototype.loop=function(e,t,n){this._timeoutId=null;var r=e();this._count++,r!==undefined?t(r):-1===this.retries||this._count<=this.retries?this._timeoutId=setTimeout(this.loop.bind(this,e,t,n),this.interval):n()},e}(),DYO.MutationWaiter=function(){function e(e,t){this.timeout=t,this.interval=e,this._sleepHandle=null,this._observer,this._timeoutHandle}return e.prototype.waitFor=function(e,t,n){this.loop(e,t);var r=this;this.timeout>=0&&(this._timeoutHandle=setTimeout(function(){r.stop(),n()},this.timeout))},e.prototype.stop=function(){return clearTimeout(this._timeoutHandle),null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._observer.disconnect(),this._timeoutId=null,!0)},e.prototype.loop=function(e,t){this._timeoutId=null;var n=e();n!==undefined?(clearTimeout(this._timeoutHandle),t(n)):DYO.Q.all([this.sleep(),this.onMutation()]).then(this.loop.bind(this,e,t))},e.prototype.sleep=function(){var e=this;return new DYO.Q.Promise(function(t){e._timeoutId=setTimeout(t,e.interval)})},e.prototype.onMutation=function(){var e=this;return new DYO.Q.Promise(function(t){e._observer=new MutationObserver(function(e,n){t(),n.disconnect()}),e._observer.observe(document.documentElement,{childList:!0,subtree:!0})})},e}(),DYO.waitForElement=function(e,t,n,r,o,i,a,s){function c(){DYO.debuggerUtils.isTagUnmatched(a)||(DYO.debuggerUtils.populatedSelectors[e]&&Object.keys(DYO.debuggerUtils.populatedSelectors[e]).length?(m=new Error("Selector "+e+" already populated"),h=DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED,p=DYO.debuggerUtils.populatedSelectors[e][Object.keys(DYO.debuggerUtils.populatedSelectors[e]).length-1],DYO.debuggerUtils.populatedSelectors[e].push(a)):DYO.debuggerUtils.populatedSelectors[e]=[a])}function u(){var t=document.dyQuerySelectorAll(e);if(t.length>=n)return t}function l(e){f="FOUND",t(e),s&&c(),i(m,e,h,p)}function d(){f="NOT_FOUND",i(new Error("Element not found"),[],h,a),DYO.otagsUtils.markTouchPoint(a)}void 0===n&&(n=1),void 0===r&&(r=100),void 0===o&&(o=-1),void 0===i&&(i=function(){});var p,f="LOOPING",m=null,h=DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_NOT_FOUND,g=DYO.isFeatureEnabled("WAIT_FOR_ELEMENT_DEBOUNCE")?new DYO.MutationWaiter(r,r*o):new DYO.IntervalWaiter(r,o);return g.waitFor(u,l,d),{status:function(){return f},count:function(){return g.count?g.count():null},cancelWait:function(){return g.stop()}}},DYO.waitForElementAsync=function(e,t,n,r){return DYO.Q.Promise(function(o,i){DYO.waitForElement(e,function(){},t,n,r,function(e,t){e?i(e):o(t)})})},DYO.SmartAction=function(){function e(e,t){try{for(var n=DYO.otags[e],r=0;r<n.rules.length;r++)if(n.rules[r].smartObject.id===t)return parseInt(n.rules[r].smartObject.frequency)}catch(o){return NaN}}function t(e){return 7200===e&&DYO.SessionUtils.isHybridSession()}function n(n,r){var o=(DYO.StorageUtilsInternal.getItem("_dy_soct")||"").split("*");return r=r||{},DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.BEFORE_TAG_RUN,[n,DYO.otags[n]&&DYO.otags[n].displayName]),function(){for(var n=0;n<o.length;n++){var i=o[n].split(".");if(!(i.length<3)){var a=parseInt(i[0]);if(!isNaN(a)){var s=parseInt(i[1]);if(!isNaN(s)){var c=parseInt(i[2]);if(!isNaN(c)){var u=i[3],l=e(a,s);if(!isNaN(l)){if(t(l)){if(u!==DYO.SessionUtils.getHybridSession().value)continue}else if(c+l<=Date.now()/1e3)continue;r[[a,s]]=c}}}}}}}(),r}function r(n){var r=[];for(var o in n){var i=o.split(","),a=parseInt(i[0]),s=parseInt(i[1]),c=parseInt(n[o]);if(t(e(a,s))){var u=DYO.SessionUtils.getHybridSession().value;r.push(a+"."+s+"."+c+"."+u)}else r.push(a+"."+s+"."+c)}r.length>0?DYO.StorageUtilsInternal.setItem("_dy_soct",r.join("*")):DYO.StorageUtilsInternal.removeItem("_dy_soct")}function o(e){return DYO.ActiveConsent.isUserOptOut()&&-1!==l.indexOf(e.smartObject.objectType)&&!DYO.ExpUtils.isInternalAction(e.smartObject.experiment)?DYO.Enums.ENUMS.OTAGS_INFO.REASON.OPT_OUT:null}function i(e,t,n){return"undefined"!=typeof t[[e,n.smartObject.id]]?DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY:null}function a(e){return!!DYO.otags[e].showOnce&&null!==DYO.csc.readEvent("closeAction_"+e)}function s(e,t,n){if(n.smartObject.objectType==u.OVERLAY){if(!t.value)return DYO.Enums.ENUMS.OTAGS_INFO.REASON.ANOTHER_OVERLAY;if(a(e))return DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY}else if(n.smartObject.objectType==u.NOTIFICATION&&a(e))return DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY;return null}function c(e,t,n,r){return i(e,t,r)||s(e,n,r)||o(r)}var u={OVERLAY:3,NOTIFICATION:4,JAVASCRIPT:5,MULTI_TOUCH:22},l=[u.OVERLAY,u.NOTIFICATION,u.JAVASCRIPT];return{shallNotPassOnRuleReason:c,TYPES:u,writeToStorageUtils:r,update:n}}(),DYO.GAUtils=function(){function e(e,t,n,r,o,i){var a=o||decodeURIComponent(r.name);return{event:t,eventCategory:e,eventAction:n,eventLabel:decodeURIComponent(i)+" ("+a+")"}}function t(e,t,n,o,i,a,s){var c=[];if(s&&s.length&&"undefined"!=typeof s[0])c=s;else for(var u in e)for(var l=0;l<t.length;++l)t[l].name==u&&c.push(e[u]);r(n,c,o,i,a)}function n(e){var t="Control Group: ";return{no_action:t+"No Action",random:t+"Random",explicit:e.length>1?t+"Multiple variations":t+unescape(e[0].name)}}function r(e,t,r,o,i){if(DYO.otags[r].gaScriptType)try{var a=n(t);i&&(t=[t[0]]);for(var s=0;s<t.length;++s){var c=t[s];"universal"==DYO.otags[r].gaScriptType?function(t){function n(){try{var n=i?a[i]:unescape(t.name);window.ga("send","event",e,DYO.otags[r].displayName,unescape(o)+" ("+n+")",{nonInteraction:1})}catch(s){}}function s(){"undefined"!=typeof window.ga?n():setTimeout(s,100)}s()}(c):"classic"==DYO.otags[r].gaScriptType?function(t){function n(){try{var n=i?a[i]:unescape(t.name);window._gaq.push(["_trackEvent",e,DYO.otags[r].displayName,unescape(o)+" ("+n+")",undefined,!0])}catch(s){}}function s(){"undefined"!=typeof window._gaq?n():setTimeout(s,100)}s()}(c):"tag_manager"==DYO.otags[r].gaScriptType&&function(t){if(DYO.otags[r].tagManagerData)try{var n=DYO.otags[r].tagManagerData.data_layer_name;window[n]=window[n]||[];var s=i?a[i]:null,c=DYO.GAUtils.createGaEventInfo(e,DYO.otags[r].tagManagerData.data_event_name,DYO.otags[r].displayName,t,s,o);window[n].push(c)}catch(u){}}(c)}}catch(u){}}return{createGaEventInfo:e,setVariationDataForGA:t}}(),DYO.ThirdPartyUtils=function(){function e(e,t,n,r,o,i,a,s){DYO.Consent.runWithConsent(function(){var c;c=DY.isLP==e?"DY Landing Page":s?"DY Smart Action":"DY Smart Object";for(var u=0;u<r.length;++u)switch(r[u].system){case"GA":DYO.GAUtils.setVariationDataForGA(n,t,c,e,o,i,a)}})}return{reportToThirdParties:e}}(),DYO.ActiveConsent=function(){function e(){g=DYO.UserUtils.getDyid(),O=t(),p=DYO.isFeatureEnabled("ACTIVE_CONSENT"),f=(DY.userActiveConsent||{}).accepted,m=DYO.CoreUtils.isBoolean(f),u(),o()&&DYO.StorageUtilsInternal.clearFootprint()}function t(){var e=DYO.StringUtils.getUrlParam("dyPreviewMode");return e===D?(DYO.StorageUtilsInternal.setItem("_dy_preview_mode",e),!0):DYO.StorageUtilsInternal.getItem("_dy_preview_mode")===D}function n(){return O}function r(){return!g}function o(){return!!n()||!!p&&(h?!h.accepted:m?!f:r())}function i(e){c(e),DYO.StorageUtilsInternal.restoreFootprint(),y&&y.resolve()}function a(e){DYO.StorageUtilsInternal.clearFootprint(),c(e),u()}function s(e){return!(!p||!DYO.CoreUtils.isBoolean(e))&&(e?i(e):a(e),!0)}function c(e){h={accepted:e}}function u(){y=DYO.Q.defer(),o()||y.resolve()}function l(){return y.promise}function d(e){var t=e,n=DYO.ActiveConsent.isUserOptOut();return n&&(t+="&noConsent="+n),t}var p=null,f=null,m=null,h=null,g=null,O=!1,D="noactiveconsent",y=null;return{init:e,isUserOptOut:o,updateConsentAcceptedStatus:s,isInPreviewMode:n,runWithActiveConsent:l,addStatusToQueryParams:d}}(),DYO.Conditions=function(){function e(e,t){"string"==typeof t&&(t=[t]);var n="and"===e.relation.toString().toLowerCase();if(n&&t.length!==e.values.length)return!1;for(var r=0;r<t.length;r++)if(s.match("match_item_with_array")(e.method,e.values,t[r].toString().toLowerCase())!==n)return!n;return n}function t(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];t[o.toLowerCase()]=e[o]}return t}function n(n,r){for(var o="and"===r.relation.toString().toLowerCase(),i=0;i<r.conditions.length;i++){var a=r.conditions[i],c=a.values,u=t(n)[a.field]||"";if(!("undefined"!=typeof a.field&&"undefined"!=typeof a.method&&c instanceof Array&&u))return!1;var l=!1;if("undefined"!=typeof a.multi?l=e(a,u):(u=u.toString().toLowerCase(),c=(c[0]||"").toString().toLowerCase(),l=s.match(a.method)(u,c)),l&&!o)return!0;if(!l&&o)return!1}return o}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e){i=r(i,e)}var i={},a={createConditionsParams:function(e,t,n,r){var o={parameter:null,selectParameter:null,selectParameter2:null,selectMethod:null,context:null,eventName:null,includeUrlParams:null,jsCode:null,hitCountMethod:null,hitCount:null,timeZoneOffset:null,weatherMethod:null,weatherParameter:null,weatherCondDaysMethod:null,audienceItem:null,out:null};return o.parameter=e.parameter,o.selectParameter=e.selectParameter,"string"==typeof o.selectParameter&&(o.selectParameter=o.selectParameter.toLowerCase()),o.selectParameter2=e.selectParameter2,"string"==typeof o.selectParameter2&&(o.selectParameter2=o.selectParameter2.toLowerCase()),o.selectMethod=e.selectMethod,o.context=r,o.includeUrlParams=e.includeUrlParams||"undefined"==typeof e.includeUrlParams,o.jsCode=e.jsCode,o.hitCountMethod=e.hitCountMethod,o.hitCount=e.hitCount,o.timeZoneOffset=e.timeZoneOffset,o.weatherMethod=e.weatherMethod,o.weatherParameter=e.weatherParameter,o.weatherCondDaysMethod=e.weatherCondDaysMethod,o.eventName=e.eventName,o.evaluatorTimeout=e.evaluatorTimeout||4e3,o.out=n,null!=t&&(o.audienceItem=t,"string"==typeof o.audienceItem.data&&(o.audienceItem.data=o.audienceItem.data.toLowerCase())),o},matchNow:function(e,t,n,r){var o=a.createConditionsParams(t,null,n,r);"Audience"===e&&(e="_Audience");try{return i[e](o)}catch(s){return!1}},asyncMatchNow:function(e,t,n,r){var o=a.createConditionsParams(t,null,n,r);"Audience"===e&&(e="_Audience");try{return(i["_Async"+e]||i[e])(o)}catch(s){return!1}},match:function(e,t){var n=a.createConditionsParams(t,e);"not_equals"!==n.selectMethod&&"pair_not_equals"!==n.selectMethod||(n.selectMethod="equals");try{return i[e.type](n)}catch(r){return!1}}},s={match:function(e){switch(e.toLowerCase()){case"=":case"eq":case"equals":return c.equals;case"not":case"not_equals":return c.not_equals;case"pair_contains":case"contains":return c.contains;case"not_contains":return c.not_contains;case"pair_regexp":case"regexp":return c.regexp;case"pair_equals":return c.equals;case"gt":case">":case"above":case"pair_bigger":return c.greaterThan;case"lt":case"<":case"below":case"pair_smaller":return c.lowerThan;case"gte":case"ge":case">=":case"pair_eq_bigger":return c.greaterEquals;case"lte":case"le":case"<=":case"pair_eq_smaller":return c.lowerEquals;case"exists":case"pair_exists":return c.exists;case"match_item_with_array":return c.matchItemWithArray;case"match_array_with_array":return c.matchArrayWithArray;default:return function(){return!1}}},multipleMatcher:function(e,t){return"undefined"!=typeof t.conditions&&"undefined"!=typeof t.relation&&"undefined"!=typeof t.negation&&void 0!==e&&!t.negation==n(e,t)}},c={equals:function(e,t,n){return(!(n||{}).isMandatory1||void 0!==e)&&((n||{}).floatingPointComparisonErrorMargin?Math.abs(parseFloat(e)-parseFloat(t))<(n||{}).floatingPointComparisonErrorMargin:e==t)},not_equals:function(e,t){return e!=t},
contains:function(e,t){try{return-1!==(e=e.toString()).indexOf(t)}catch(n){return!1}},not_contains:function(e,t){try{return-1===(e=e.toString()).indexOf(t)}catch(n){return!1}},regexp:function(e,t){return new RegExp(t).test(e)},exists:function(e){return e&&void 0!==e&&""!==e},greaterThan:function(e,t,n){return parseFloat(e)>parseFloat(t)+((n||{}).floatingPointComparisonErrorMargin||0)},greaterEquals:function(e,t,n){return parseFloat(e)>=parseFloat(t)-((n||{}).floatingPointComparisonErrorMargin||0)},lowerThan:function(e,t,n){return parseFloat(e)<parseFloat(t)-((n||{}).floatingPointComparisonErrorMargin||0)},lowerEquals:function(e,t,n){return parseFloat(e)<=parseFloat(t)+((n||{}).floatingPointComparisonErrorMargin||0)},matchItemWithArray:function(e,t,n){DYJSON.parse(DYJSON.stringify(t))instanceof Array||(t=[t]);for(var r="not_equals"===e||"not_contains"===e,o=0;o<t.length;o++){var i=t[o];if(void 0!==i){"string"==typeof i&&(i=i.toLowerCase());var a=s.match(e)(i,n);if(r!==a){r=a;break}}}return r},matchArrayWithArray:function(e,t,n){DYJSON.parse(DYJSON.stringify(t))instanceof Array||(t=[t]);var r="equals"===e||"contains"===e,o=n.length;"equals"!==e&&"not_equals"!==e||(o=t.length>n.length?t.length:n.length);for(var i=0;i<o;i++){var a=n[i];if(void 0!==a){var s=c.matchItemWithArray(e,t,a);if(r!==s){r=s;break}}}return r}},u={stScript:{_Audience:{isPerSession:!1},_Metadata:{isPerSession:!1},_Country:{isPerSession:!0},_Continent:{isPerSession:!0},_Region:{isPerSession:!0},_City:{isPerSession:!0},_Weather:{isPerSession:!0},_WeekDay:{isPerSession:!0},_Date:{isPerSession:!0},_TimeOfDay:{isPerSession:!0},_DeviceType:{isPerSession:!0},_DeviceBrand:{isPerSession:!0},_TrafficSource:{isPerSession:!0},_ProductPurchased:{isPerSession:!1},_ProductViewed:{isPerSession:!1},_SharedAudience:{isPerSession:!1},_ProductFeaturesViews:{isPerSession:!1},_FirstPageInSession:{isPerSession:!1}}};return{asyncMatchNow:a.asyncMatchNow,matchNow:a.matchNow,match:a.match,addConditions:o,Matcher:s,webConditionsWithDependencies:u}}(),function(){var e=DYO.Conditions.Matcher;DYO.sharedConditions={_URLParam:function(t){if(t.selectParameter&&t.selectParameter2&&t.selectMethod){var n=DYO.StringUtils.getUrlParam(t.selectParameter,location.href);return n?(n=n.toLowerCase(),e.match(t.selectMethod)(n,t.selectParameter2)):"not_equals"===t.selectMethod||"Not_exists"===t.selectMethod||"not_contains"===t.selectMethod}return!1},_Random:function(e){return 100*Math.random()<parseFloat(e.selectParameter)},_PageType:function(t){if("undefined"==typeof window.DY)return!1;if("undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type)return"not_equals"===t.selectMethod;if("string"!=typeof t.selectParameter||""===t.selectParameter)return!1;var n=window.DY.recommendationContext.type.toLowerCase();return"post"===n&&(n="product"),e.match(t.selectMethod)(n,t.selectParameter)},_ProductPage:function(t){return"undefined"!=typeof window.DY&&"undefined"!=typeof window.DY.recommendationContext&&"undefined"!=typeof window.DY.recommendationContext.type&&("product"===window.DY.recommendationContext.type.toLowerCase()||"post"===window.DY.recommendationContext.type.toLowerCase())&&("object"!=typeof window.DY.recommendationContext.data||null===typeof window.DY.recommendationContext.data||"undefined"==typeof window.DY.recommendationContext.data[0]?"not_equals"===t.selectMethod:"string"==typeof t.selectParameter&&""!==t.selectParameter&&e.match(t.selectMethod)(window.DY.recommendationContext.data[0].toString().toLowerCase(),t.selectParameter))},_CartPage:function(t){return"undefined"!=typeof window.DY&&"undefined"!=typeof window.DY.recommendationContext&&"undefined"!=typeof window.DY.recommendationContext.type&&"cart"===window.DY.recommendationContext.type.toLowerCase()&&("object"!=typeof window.DY.recommendationContext.data||null===typeof window.DY.recommendationContext.data||"undefined"==typeof window.DY.recommendationContext.data[0]?"not_equals"===t.selectMethod||"not_contains"===t.selectMethod:"string"==typeof t.selectParameter&&""!==t.selectParameter&&e.match("match_item_with_array")(t.selectMethod,window.DY.recommendationContext.data,t.selectParameter))},_CategoryPage:function(t){if("undefined"==typeof window.DY||"undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type||"category"!==window.DY.recommendationContext.type.toLowerCase())return!1;if(null===typeof window.DY.recommendationContext.data||!(window.DY.recommendationContext.data instanceof Array))return"not_equals"===t.selectMethod||"not_contains"===t.selectMethod;var n=t.selectParameter.toString().toLowerCase().split("|");return e.match("match_array_with_array")(t.selectMethod,window.DY.recommendationContext.data,n)},_Continent:function(t){return window.DY.geoCont&&"undefined"!=typeof window.DY.geoCont&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCont.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_Country:function(t){return window.DY.geoCode&&"undefined"!=typeof window.DY.geoCode&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCode.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_Region:function(t){return window.DY.geoRegionCode&&"undefined"!=typeof window.DY.geoRegionCode&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoRegionCode.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_City:function(t){return window.DY.geoCity&&"undefined"!=typeof window.DY.geoCity&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCity.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_PageEvent:function(){return!0},_RVCount:function(t){return e.match(t.selectMethod)(window.DY.rvCount||0,t.selectParameter)}}}(),function(){var e=DYO.Conditions.Matcher;DYO.cpFunctions={ProductFeaturesViewsFunc:function(t){try{t.selectParameter=DYJSON.parse(t.selectParameter)}catch(o){return!1}if("object"==typeof t.selectParameter&&"undefined"!=typeof t.selectParameter.conditions&&t.selectParameter.conditions instanceof Array&&"undefined"!=typeof window.DY.recommendationContext||"undefined"!=typeof window.DY.recommendationContext.type){var n=window.DY.recommendationContext.type.toString().toLowerCase();if("product"!==n&&"post"!==n)return!1;if(0===t.selectParameter.conditions.length)return!0;var r=DY.feedProperties||{};return r.price&&(r.price=parseFloat(r.price)),"object"==typeof window.DY.recommendationContext.data&&"undefined"!=typeof window.DY.recommendationContext.data[0]&&(r.sku=window.DY.recommendationContext.data[0].toString().toLowerCase()),e.multipleMatcher(r,t.selectParameter)}return!1}}}(),function(){DYO.Conditions.Matcher;DYO.cpConditions={_Audience:function(e){var t=-1!=("."+(window.DY&&window.DY.aud||"")+"."+DYO.AudienceCookies.loadCHCCookies(!0).auds.join(".")+"."+DYO.AudienceCookies.loadSessionCookies(!0).sauds.join(".")+".").indexOf("."+e.parameter+".");switch(e.hitCountMethod){case">=":return t;case"<":return!t;default:return!1}},_Metadata:function(e){try{for(var t=!1,n=0;n<DY.audienceRules.length;n++)DY.audienceRules[n].audience===e.parameter&&(t=DY.audienceRules[n].rule[0].conds[0].condMatched);return!!t}catch(r){return!1}},_SharedAudience:function(e){var t=-1!=("."+(window.DY&&window.DY.shrAud||"")+".").indexOf("."+e.parameter+".");switch(e.hitCountMethod){case">=":return t;case"<":return!t;default:return!1}},_Date:function(e){var t=DYO.accurateNow(),n=0;switch("undefined"!=typeof e.parameter&&1==e.parameter&&(n=60*DYO.accurateNow().getTimezoneOffset()*1e3),e.selectMethod){case"after":return t>=new Date(1e3*parseInt(e.selectParameter)+n);case"before":return t<=new Date(1e3*parseInt(e.selectParameter2)+n);case"between":return t>=new Date(1e3*parseInt(e.selectParameter)+n)&&t<=new Date(1e3*parseInt(e.selectParameter2)+n);default:return!1}},_TimeOfDay:function(e){function t(e){return 60*e.getHours()+e.getMinutes()}var n=t(DYO.accurateNow()),r=0;"undefined"!=typeof e.parameter&&1==e.parameter&&(r=60*new Date(0).getTimezoneOffset()*1e3);var o=t(new Date(1e3*parseInt(e.selectParameter)+r));return n<=t(new Date(1e3*parseInt(e.selectParameter2)+r))&&n>=o},_Weather:function(e){function t(e,t,n,r){for(var o=0;o<=n;++o){var i=r[o];switch(t){case"equals":if(i.condition===e)return!0;break;case"not_equals":if(i.condition!==e)return!0;break;default:return!1}}return!1}function n(e,t,n,r,o,i){for(var a=0;a<=n;++a){var s=r[a][o];switch(s=void 0!==i?parseFloat(s[i]):parseFloat(s),t){case"Above":if(s>e)return!0;break;case"Below":if(s<e)return!0;break;default:return!1}}return!1}if(!(e.selectParameter&&e.selectMethod&&e.weatherMethod&&e.weatherParameter&&e.weatherCondDaysMethod))return!1;var r,o;switch("now"===e.weatherCondDaysMethod?(r=window.DY.currentWeather&&[window.DY.currentWeather],o=0):(r=window.DY.weather,o=parseInt(e.weatherCondDaysMethod.match(/\d+/)[0])),e.selectParameter.toLowerCase()){case"weatherconditions":return t(e.weatherParameter,e.selectMethod,o,r);case"temperature":return n(parseFloat(e.weatherParameter),e.selectMethod,o,r,"temp","max");case"windspeed":return n(parseFloat(e.weatherParameter),e.selectMethod,o,r,"windspeed");case"humidity":return n(parseFloat(e.weatherParameter),e.selectMethod,o,r,"humidity");default:return!1}},_WeekDay:function(e){var t=DYO.accurateNow();return"undefined"!=typeof e.selectParameter&&1==e.selectParameter?t.getDay()===e.parameter:(t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3+60*e.timeZoneOffset*60*1e3),e.parameter==t.getDay())},_ProductFeaturesViews:DYO.cpFunctions.ProductFeaturesViewsFunc}}(),function(){function e(e,t,n){return{selectParameter:e,selectParameter2:t,selectMethod:n}}function t(e,t){var n=!1,r=new RegExp("[?&]"+t,"g"),o=e.split("?");return o&&o[1]&&(o=o[1].split("&"))&&o[0]&&-1!==o[0].indexOf(t)&&o.length>1&&(n=!0),e=e.replace(r,""),n&&(e=e.replace(/(&)/,"?")),e}function n(){var e=!1,t=DYO.StringUtils.getUrlParam("dyPreview");return t&&(e="dyPreview="+(t=t.replace("/",""))),e}function r(e,t){return t?e:!e}function o(e,t){var n="";if("RightNow"===t.selectMethod)n="5min";else if("InThePast"===t.selectMethod)switch(t.selectParameter){case"hour":n="hourly";break;case"day":n="daily";break;case"twodays":n="twoDays";break;case"week":n="weekly";break;case"twoweeks":n="twoWeeks";break;case"month":n="monthly"}var r=DYO.getProductInterest();return"anywhere"===t.selectParameter2||"undefined"==typeof t.selectParameter2?i.match(t.hitCountMethod)(r[e][n],t.hitCount):i.match(t.hitCountMethod)(r[t.selectParameter2][e][n],t.hitCount)}var i=DYO.Conditions.Matcher,a={_Audience:DYO.cpConditions._Audience,_Metadata:DYO.cpConditions._Metadata,_SharedAudience:DYO.cpConditions._SharedAudience,_Browser:function(e){var t=navigator.userAgent.toLowerCase(),n=function(e){return null!=/msie ([0-9]{1,}[\.0-9]{0,})/.exec(t)?parseInt(RegExp.$1)==e:!(!/trident/.test(t)||null==/rv\:([0-9]{1,}[\.0-9]{0,})/.exec(t))&&parseInt(RegExp.$1)==e};switch(e.parameter){case 12:return DYO.userAgent.isChrome(t);case 13:return n(6);case 14:return n(7);case 15:return n(8);case 16:return n(9);case 17:return n(10);case 18:return DYO.userAgent.isFirefox(t);case 33:return DYO.userAgent.isOpera(t);case 34:return DYO.userAgent.isSafari(t);case 36:return DYO.userAgent.isUnknown(t);case 39:return n(11);default:return!1}},_City:DYO.sharedConditions._City,_CurrentPage:function(e){var r=n(),o=DYO.StringUtils.removeHttp(location.href.toLowerCase());if(o=o.replace(/\#.*/,""),e.includeUrlParams)r&&(o=t(o,r.toLowerCase()));else if(o=o.replace(/\?.*/,""),"regexp"!==e.selectMethod){var a=DYO.StringUtils.removeHttp(e.selectParameter.toLowerCase()).replace(/\?.*/,"");return i.match(e.selectMethod)(o,a)}return i.match(e.selectMethod)(o,e.selectParameter)},_Continent:DYO.sharedConditions._Continent,_CookieParam:function(e,t){if(e.selectParameter&&e.selectParameter2&&e.selectMethod){var n=DYO.StorageUtils.get(e.selectParameter,t||["cookieStorage"]);return n?i.match(e.selectMethod)(n.toLowerCase(),e.selectParameter2):"not_equals"===e.selectMethod||"Not_exists"===e.selectMethod}return!1},_Date:DYO.cpConditions._Date,_Country:DYO.sharedConditions._Country,_DeviceBrand:function(e){return i.match(e.selectMethod)(window.DY.deviceInfo.brand.toLowerCase(),e.selectParameter)},_DeviceType:function(e){return i.match(e.selectMethod)(window.DY.deviceInfo.type.toLowerCase(),e.selectParameter)},_Evaluator:function(e){var t;return"string"==typeof(t=DYO.CoreUtils.safeEval(e.jsCode))&&(t=t.toLowerCase()),"boolean"==typeof t&&(t=t.toString()),i.match(e.selectMethod)(t,e.selectParameter)},_Async_Evaluator:function(e){var t;t=DYO.CoreUtils.safeEval(e.jsCode);var n=DYO.Q.delay(e.evaluatorTimeout).then(function(){return"promise Timeout"});return DYO.Q.race([t,n]).then(function(t){return"promise Timeout"!==t&&("boolean"==typeof t&&(t=t.toString()),"string"==typeof t&&(t=t.toLowerCase()),i.match(e.selectMethod)(t,e.selectParameter))},function(){return!1})},_FirstPageInSession:function(e){var t=DYO.SessionUtils.getFirstPageInSession();if(null===t&&(t=DYO.SessionUtils.calcAndSetFirstPageInSession()),"regexp"!==e.selectMethod&&(e.selectParameter=DYO.StringUtils.removeHttp(e.selectParameter.toLowerCase()).replace(/\/$/,"")),!e.includeUrlParams&&"undefined"!=typeof e.includeUrlParams&&(t=t.replace(/\?.*/,""),"regexp"!==e.selectMethod)){var n=e.selectParameter.replace(/\?.*/,"");return i.match(e.selectMethod)(t,n)}return i.match(e.selectMethod)(t,e.selectParameter)},_OSDeviceName:function(e){var t=navigator.userAgent.toLowerCase(),n=navigator.platform.toLowerCase(),o="equals"===e.selectMethod;switch(e.parameter){case 0:return r(/iphone|ipod|blackberry|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|sonyericsson|symbian|treo mini/.test(t)||/silk|ipad|android|kindle/.test(t),o);case 1:return r(/iphone|ipod/.test(t),o);case 2:return r(/silk|ipad|android|kindle/.test(t)&&(!/android/.test(t)||screen.width>1024),o);case 3:return r(/android/.test(t)&&screen.width<=1024,o);case 4:return r(/win/.test(n)||/win/.test(t),o);case 5:return r((/mac/.test(n)||/mac/.test(t))&&!/iphone|ipod|ipad/.test(t),o);case 35:return r(/linux/.test(n)||/linux/.test(t),o);default:return!1}},_PageEvent:DYO.sharedConditions._PageEvent,_ProductViewed:function(e){return o("view",e)},_ProductPurchased:function(e){return o("purchase",e)},_Random:DYO.sharedConditions._Random,_Referrer:function(e){var t=DYO.StringUtils.removeHttp(document.referrer.toLowerCase());if(t=t.replace(/\#.*/,""),!e.includeUrlParams&&"undefined"!=typeof e.includeUrlParams&&(t=t.replace(/\?.*/,""),"regexp"!==e.selectMethod)){var n=DYO.StringUtils.removeHttp(e.selectParameter.toLowerCase()).replace(/\?.*/,"");return i.match(e.selectMethod)(t,n)}return i.match(e.selectMethod)(t,e.selectParameter)},_Region:DYO.sharedConditions._Region,_ScreenSize:function(e){var t=window.innerWidth,n="equals"===e.selectMethod;switch(e.parameter){case 26:return r(t>1366,n);case 27:return r(t<=1366&&t>1024,n);case 28:return r(t<=1024,n);default:return!1}},_PageType:DYO.sharedConditions._PageType,_ProductPage:DYO.sharedConditions._ProductPage,_CartPage:DYO.sharedConditions._CartPage,_CategoryPage:DYO.sharedConditions._CategoryPage,_TimeOfDay:DYO.cpConditions._TimeOfDay,_TimeSince:function(e){var t=e.selectParameter.replace(/\$\{smartTagId\}/gi,e.context.smartTagId),n=DYO.csc.readEvent(t);if(null===n)return!1;var r=0;switch(e.parameter){case 0:r=n.timeSince/1e3;break;case 1:r=n.sessionsSince;break;default:return!1}return i.match(e.hitCountMethod)(r,e.hitCount)},_URLParam:DYO.sharedConditions._URLParam,_VisitorType:function(e){if(DYO.ActiveConsent.isUserOptOut())return!1;var t=!1,n=DYO.StorageUtilsInternal.getItem("_dyfs");return n=parseInt(n),(!isNaN(n)&&Date.now()-n<18e5||null===DYO.StorageUtilsInternal.getItem("_dyid"))&&(t=!0),e.parameter?t:!t},_WeekDay:DYO.cpConditions._WeekDay,_Weather:DYO.cpConditions._Weather,_TrafficSource:function(e){return i.match(e.selectMethod)(window.DY.trafficSource.toLowerCase(),e.selectParameter)},_ProductFeaturesViews:DYO.cpConditions._ProductFeaturesViews,_RVCount:DYO.sharedConditions._RVCount,_Preview:function(t){var n=e("dyPreview",t.selectParameter,t.selectMethod),r=e("_dy_preview_",t.selectParameter,t.selectMethod),o=DYO.sharedConditions._URLParam(n),i=!o&&this._CookieParam(r,"sessionStorage");return o||i},_ActiveConsent:function(e){if(DYO.isFeatureEnabled("ACTIVE_CONSENT")){var t=!DYO.ActiveConsent.isUserOptOut();return e.parameter?t:!t}return!1}};DYO.Conditions.addConditions(a)}(),DYO.preview=function(){function e(e){return null==e||""===e||e==={}||e===[]}function t(){try{var t="true"===DYO.StringUtils.getUrlParam("dyPersistSession"),n=DYO.StorageUtils.enabled("cookieStorage");if(t&&n&&!e(b)&&!e(C)&&!e(T)&&!e(x)){var r=b+";"+C+";"+d(T)+";"+x;DYO.StorageUtilsInternal.setItem("__dy_preview_session",r),window.name="dy_preview"}}catch(o){DY.API("internal_error",{name:"preview persistIfNeeded",error:o})}}function n(e,t){_(e)||(k.push(e+""),P=t,A?r(e,t):O(e,x,"DYO.preview.parseData"))}function r(n,r){try{t();var o={},i=null;if(!e(DYO.otags[n].rules))for(var a=0;a<DYO.otags[n].rules.length;a++)if(!e(DYO.otags[n].rules[a].smartObject)&&!e(DYO.otags[n].rules[a].smartObject.id)&&DYO.otags[n].rules[a].smartObject.id===C){i=DYO.otags[n].rules[a].smartObject;break}if(e(i))throw y("Preview could not be displayed. The Dynamic Content was not found on the page."),{code:0,tag:n,msg:"no rule matched for Smart Tag on preview"+n};var c=v(n,i.id);try{switch(i.objectType){case R:var l=u(T,i,1)[0],d=DYO.renderSmartObjectVariation(n,i.id,c,l,r);r.returnVar||DYO.CoreUtils.insertElement(d.el,r.target),d.cb();break;case M:var p=e(i.autoScrollSpeed)?0:i.autoScrollSpeed,f=e(i.slideCount)||0===i.slideCount?Object.keys(i.variations).length:i.slideCount,m=u(T,i,f),h=[],g=function(){};for(a=0;a<m.length;a++){var O=DYO.renderSmartObjectVariation(n,i.id,c,m[a],r);!function(){var e=g,t=O.cb;g=function(){e(),t()}}(),h.push({element:O.el,variation:T[a]})}var D=document.createElement("div");D.className="dy_unit dy_smart_object_"+i.id,DYO.CoreUtils.insertElement(D,r.target),s(function(){DY.renderSmartTagSlider(D,{expId:null,width:i.width,height:i.height,scrollSpeed:p},h),g()});break;case j:(D=document.createElement("div")).className="dy_unit dy_smart_object_"+i.id;var Y=function(){};for(f=e(i.slideCount)||0===i.slideCount?Object.keys(i.variations).length:i.slideCount,m=u(T,i,f),a=0;a<m.length;a++){O=DYO.renderSmartObjectVariation(n,i.id,c,m[a],r);if(D.appendChild(O.el),function(){var e=Y,t=O.cb;Y=function(){e(),t()}}(),a+1<T.length){var _=document.createElement("div");DYO.DOM.setInnerHtml(_,decodeURIComponent(i.htmlSeparator||""));for(var w=0;w<_.childNodes.length;w++)D.appendChild(_.childNodes[w])}}DYO.CoreUtils.insertElement(D,r.target),Y();break;default:throw{code:0,tag:n,msg:'unsupported object type "'+i.objectType+'" for Smart Tag preview'+n+" in Smart Object "+i.id}}}catch(I){}"function"==typeof r.afterRenderCallback&&r.afterRenderCallback();var E={code:1,tag:n,msg:"executing preview Smart Tag on tag "+n};return r.returnVar&&(E.soProps=o),E}catch(I){return DY.API("internal_error",{name:"previewSmartObject",error:I}),{code:0,tag:n,msg:"error while executing preview Smart Tag on tag "+n,ex:I}}}function o(e){_(e)||(k.push(e+""),O(e,x,"DYO.preview.parseData"))}function i(){var t=document.getElementsByClassName("lb_overlay js_lb_overlay")[0],n=document.getElementsByClassName("dy-act-overlay")[0];e(n)||n.parentNode.removeChild(n),e(t)||t.parentNode.removeChild(t),DYO.Overlay.closeAll()}function a(n){t();var r=null;if(!e(DYO.otags[n].rules))for(var o=0;o<DYO.otags[n].rules.length;o++)if(!e(DYO.otags[n].rules[o].smartObject)&&!e(DYO.otags[n].rules[o].smartObject.id)&&DYO.otags[n].rules[o].smartObject.id===C){r=DYO.otags[n].rules[o].smartObject;break}if(e(r))return DY.API("internal_error",{name:"preview smart action no smartObject"}),void y("Preview could not be displayed. The Dynamic Content was not found on the page.");var a=v(n,r.id),s=u(T,r,1)[0],l=null;switch(DYO.Params.initParams(s.params),r.objectType){case DYO.SmartAction.TYPES.OVERLAY:i();var d=c(n,r.id,a,s),p=DYO.getPropsForOverlaysAndNotification(n,r);DY.API("callback",function(){new DYO.Overlay(d,p).open(!0)});break;case DYO.SmartAction.TYPES.NOTIFICATION:d=c(n,r.id,a,s),p=DYO.getPropsForOverlaysAndNotification(n,r);l=function(){window.DY.WindowActions.notify(d,p)};break;case DYO.SmartAction.TYPES.JAVASCRIPT:var f={};try{f=DYJSON.parse(decodeURIComponent(s.resources))}catch(m){}DYO.loadExternalResources(f),DYO.CoreUtils.safeEval("(function(){"+DYO.Params.searchAndReplace("js",s.jsCode)+"\n})();")}e(l)||DY.API("callback",l)}function s(t){e(window.DY)||e(window.DY.renderSmartTagSlider)?DY.API("callback",t):t()}function c(e,t,n,r){var o=DYO.renderSmartObjectVariation(e,t,n,r,{});return o.element=o.el,o.callback=o.cb,delete o.el,delete o.cb,o}function u(t,n,r){var o=[];if("random"!==t&&"object"==typeof t){if(t.length)for(var i=0;i<t.length;i++){if(!e(n.variations[t[i]]))(s=n.variations[t[i]]).id=t[i],o.push(s)}}else{t=Object.keys(n.variations);var a=[];for(i=0;i<t.length;i++)n.variations[t[i]].isPaused||a.push(t[i]);t=a;for(i=0;i<r&&t.length;i++){var s,c=Math.floor(Math.random()*t.length),u=t[c];t.splice(c,1),(s=n.variations[u]).id=isNaN(u)?u:parseInt(u),o.push(s)}}return 0===o.length&&(DY.API("internal_error",{name:"preview error - no variations for smart "+n.id,clientOnly:!0}),y("Preview could not be displayed. No variations were selected for preview. Please contact us if the problem persists.")),o}function l(t){if(e(t)||"random"===t)return"random";try{return t.substr(1,t.length-2).split(",")}catch(n){return"random"}}function d(e){return"string"==typeof e&&"random"===e?e:"["+e.toString()+"]"}function p(){return"undefined"!=typeof window.name&&"dy_preview"===window.name}function f(t){if(b&&C&&T&&x&&!e(t)&&!e(b)&&!e(C)&&!e(DYO.otags[b])&&!e(DYO.otags[b].name)&&(DYO.otags[b].name===t||parseInt(t)===b))return!0;var n,r=null,o=m();if(o&&(n=o[0],a=o[1],s=o[2],c=o[3],r=o[4]),e(t)||e(n)||e(a)||e(s)||e(DYO.otags[a])){if(e(n)&&p()){var i=w();if(i){var a=i[0],s=i[1],c=i[2];r=i[3];if(!(e(a)||e(s)||e(c)||e(DYO.otags[a])||(h(a,s,c,r),g(),e(DYO.otags[a].name)||DYO.otags[a].name!==t&&parseInt(t)!==a)))return!0}}}else if(h(a,s,c,r),!e(DYO.otags[a].name)&&(DYO.otags[a].name===t||parseInt(t)===a))return!0;return!1}function m(){var t=DYO.StringUtils.getUrlParam("dyIsPreview"),n=DYO.StringUtils.getUrlParam("dySmartId"),r=DYO.StringUtils.getUrlParam("dyExperienceId"),o=DYO.StringUtils.getUrlParam("dyVariationId"),i=DYO.StringUtils.getUrlParam("dyIsDraft");return t=null!==t?decodeURIComponent(t):null,n=null!==n?decodeURIComponent(n):null,r=null!==r?decodeURIComponent(r):null,o=null!==o?decodeURIComponent(o):null,!isNaN(n)&&!isNaN(r)&&(n=parseInt(n),r=parseInt(r),!(e(t)||e(n)||e(r)||e(o)||e(i))&&[t,n,r,o,i])}function h(e,t,n,r){b=e,C=t,T=l(n),x=r}function g(){if(!e(window.history)&&"function"==typeof window.history.pushState){var t="?dyIsPreview=true&dySmartid="+b+"&dyIsDraft="+x+"&dyExperienceId="+C+"&dyVariationId="+d(T)+"&dyPersistSession=true";window.history.pushState({},{},t)}}function O(e,t,n){var r=document.createElement("script");r.src="https://gateway.dynamicyield.com/api/open/smart_tags/"+e+"?_="+(new Date).getTime()+"&is_draft="+t+"&callback="+n,r.async=!1,document.getElementsByTagName("head")[0].appendChild(r),setTimeout(function(){A||y("Preview is taking longer than expected, please try again or contact us if the problem persists.")},N)}function D(t){if(!A){A=!0;try{e(t)||e(t.id)||e(t.name)||e(t.rules)||e(t.subType)?y("Preview could not be displayed. Please contact us if the problem persists."):(DYO.otags[b]=t,"tag"===t.subType?r(b,P):"action"===t.subType?a(b):(DY.API("internal_error",{name:"preview parseData unknown type"}),y("Preview could not be displayed. Please contact us if the problem persists.")))}catch(n){DY.API("internal_error",{name:"preview parseData",error:n,clientOnly:!0}),y("Preview could not be displayed. Please contact us if the problem persists.")}}}function y(e){var t={},n="'Apercu'";t.element='<div class="dy_preview_err_notification" style="background:#0091ea;padding:5px; border-radius:3px;"><img src="//cdn.dynamicyield.com/api/8765813/images/357cd161a4f53__8bb87646647948dcb856c7c372e1e106.png" style="display:inline-block;width: 15px;height:15px;margin:5px 5px 3px 5px;"><div class="dy_preview_err_text" style="font-family:'+n+', arial, sans-serif;font-size: 13px;color:white;display:inline-block;line-height:1.5;margin-top:3px;margin-right:5px;vertical-align:super;">'+e+"</div> </div>",DY.API("callback",function(){DY.WindowActions.notify(t,{duration:U,position:2})})}function v(t,n){if(e(DYO.otags[t])||e(DYO.otags[t].rules))return null;for(var r=0;r<DYO.otags[t].rules.length;r++)if(!e(DYO.otags[t].rules[r].smartObject)&&!e(DYO.otags[t].rules[r].smartObject.id)&&DYO.otags[t].rules[r].smartObject.id==n)return r}function Y(t,n){var r=DYO.StringUtils.getUrlParam("dyIsPreview");if(r=null!==r?decodeURIComponent(r):null,!p()&&e(r)||e(n)||e(n.objectType)||n.objectType!==DYO.SmartAction.TYPES.OVERLAY)return!1;if(o=null!==(o=DYO.StringUtils.getUrlParam("dySmartId"))?decodeURIComponent(o):null,isNaN(o)||e(t))return!1;if(!(e(DYO.otags[o])||e(DYO.otags[o].rules)||e(DYO.otags[o].rules[0].smartObject)||e(DYO.otags[o].rules[0].smartObject.objectType)||DYO.otags[o].rules[0].smartObject.objectType!==DYO.SmartAction.TYPES.OVERLAY||e(DYO.otags[o])||o===t))return!0;if(p()){var o,i=w();if(i)if(!(e(o=i[0])||e(DYO.otags[o])||e(DYO.otags[o].name)||e(DYO.otags[o].rules)||e(DYO.otags[o].rules[0].smartObject)||e(DYO.otags[o].rules[0].smartObject.objectType)||DYO.otags[o].rules[0].smartObject.objectType!==DYO.SmartAction.TYPES.OVERLAY||o===t))return!0}return!1}function _(e){return-1!==k.indexOf(e+"")}function w(){if(DYO.StorageUtils.enabled("cookieStorage")){var e=DYO.StorageUtilsInternal.getItem("__dy_preview_session");if(e){var t=e.split(";");if(4===t.length&&!isNaN(t[0])&&!isNaN(t[1]))return t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),t}}return!1}function E(){var t,n,r,o,i=null,a=m();if(a)t=a[0],n=a[1],r=a[2],o=a[3],i=a[4];else if(p()){var s=w();s&&(t=!0,n=s[0],r=s[1],o=s[2],i=s[3])}e(t)||"true"!==i||e(n)||e(r)||e(o)||(h(n,r,o,i),p()&&s&&g(),O(n,!0,"DYO.preview.parseDataForUnpublished"))}function I(t){try{if(A)return;if(A=!0,!(e(t)||e(t.id)||e(t.name)||e(t.rules)||e(t.subType)))if(DYO.otags[b]=t,"tag"===t.subType)t.embedOptions&&DYO.embedTag(b);else if("action"===t.subType){function n(){DYO.loadServerData(function(){a(b)})}t.pageEventDisjs?DYO.SmartsPreWork.executeWithPageEvents(DYO.otags[b],b,n):n()}else DY.API("internal_error",{name:"preview parseDataForUnpublished unknown type"})}catch(r){DY.API("internal_error",{name:"preview parseDataForUnpublished",error:r})}}function S(e){"true"!==x&&o(e)}var b,C,T,x,A,P,N=4e3,U=1e4,k=[],R=0,M=1,j=2;return{previewSmartObjectWithUncachedData:n,isPreviewForAnotherOverlay:Y,isPreviewForSmartTag:f,previewPublishedSmartAction:S,parseData:D,previewUnpublishedSmarts:E,parseDataForUnpublished:I}}(),DYO.debuggerEnabledFor=function(e){return new RegExp("(^|,)"+e+"(,|$)").test(DYO.StringUtils.getUrlParam("dy_debugger"))},DYO.optionalDebuggerFor=function(e){return DYO.debuggerEnabledFor(e)?"debugger;":""},DYO.AudienceCookies=function(){function e(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function t(t){for(var n=e(t.split(".")),r={},o=0;o<n.length;o++){var i=n[o].split("@");r[i[0]]="nu"==i[1]?null:i[1]}return r}function n(e){var t=h();return null==t&&e?{auds:[],tchc:{},chc:{},audCache:{}}:t}function r(e){var t=o();return null==t&&e?{sauds:[],schc:{},saudCache:{}}:t}function o(){var n=DYO.StorageUtilsInternal.getItem(m);return null==n?null:{sauds:e((n=n.split("*"))[0].split(".")),schc:t(n[1]),saudCache:t(n[2])}}function i(e){var t=[];for(var n in e)t.push(n+"@"+(null==e[n]?"nu":e[n]));return t.join(".")}function a(){var t=DY.StorageUtilsInternal.getItem(p);if(null==t)return null;for(var n={},r=e((t=t.split("*"))[0].split(".")),o=0;o<r.length;o++){var i=r[o].split("@");n[i[0]]={hash:i[1],session:i[2],conds:i[3].split("-")}}return{audRules:{},ld:t[1],ldart:t[2]}}function s(e){var t=a()||{},n={},r=e.ld||t.ld,o=e.ldart||t.ldart,i=[];for(var s in n)i.push(s+"@"+n[s].hash+"@"+n[s].session+"@"+n[s].conds.join("-"));i=i.join(".")+"*"+r+"*"+o,DY.StorageUtilsInternal.setItem(p,i)}function c(e){var t=n()||{},r=DY.Util.uniqueStringArray(e.auds||t.auds||[]),o=e.tchc||t.tchc||{},a=e.chc||t.chc||{},s=e.audCache||t.audCache||{},c=r.join(".")+"*"+i(o)+"*"+i(a)+"*"+i(s);DY.StorageUtilsInternal.setItem(f,c),h.purge()}function u(e){var t=r()||{},n=DY.Util.uniqueStringArray(e.sauds||t.sauds||[]),o=e.schc||t.schc||{},a=e.saudCache||t.saudCache||{},s=n.join(".")+"*"+i(o)+"*"+i(a);DY.StorageUtilsInternal.setItem(m,s)}function l(){var e,t,o;if(void 0===e||void 0===t){var i=n(!0);e=i.tchc,t=i.chc}return void 0===o&&(o=r(!0).schc),{tchc:e,chc:t,schc:o}}function d(){DYO.StorageUtilsInternal.removeItem(f),DYO.StorageUtilsInternal.removeItem(p),DYO.StorageUtilsInternal.removeItem(m),h.purge()}var p="_dyaud_page",f="_dyaud_nchc",m="_dyaud_sess",h=DYO.Memoize.sync(function(){var n=DYO.StorageUtilsInternal.getItem(f);return null==n?null:{auds:e((n=n.split("*"))[0].split(".")),tchc:t(n[1]),chc:t(n[2]),audCache:t(n[3])}},{purgeImmediately:!0});return{loadPageCookies:a,loadCHCCookies:n,loadSessionCookies:r,savePageCookies:s,saveCHCCookies:c,saveSessionCookies:u,load:l,clear:d}}(),DYO.Embedder=function(){function e(e,r,o){var i=DYO.CoreUtils.getElement(e,r);return o&&o.replaceOption&&null!=i&&i!=undefined&&(t(o)&&(i=n(o.container,i,o.replaceOption)),i.setAttribute("data-dy-embedded-object","true")),i}function t(e){return e&&("before"===e.replaceOption||"after"===e.replaceOption)}function n(e,t,n){e=e||{type:"div","class":"dy-auto-embedded-object"};var i=document.createElement(e.type||"div");return e["class"]&&(i.className=e["class"]),"before"===n?o(i,t):"after"===n&&r(i,t),i}function r(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function o(e,t){t.parentNode.insertBefore(e,t)}return{prepareEmbedParent:e}}(),DYO.accurateNow=function(){var e=parseInt(DYO.StorageUtilsInternal.getItem("_dy_toffset")),t=(new Date).valueOf();return isNaN(e)||(t+=1e3*e),new Date(t)},DYO.Params=function(){function e(e,t,n){i[e][t]=n}function t(e,t){return i[e]?i[e][t]:undefined}function n(e){if(a={html:{},css:{},js:{}},void 0!==e&&null!=e&&""!=e)try{a=DYJSON.parse(decodeURIComponent(e))}catch(t){}}function r(e,t){for(var n in t=decodeURIComponent(t),a[e])if(a[e].hasOwnProperty(n)){var r=i[e][n],s="";s=null!=r&&void 0!==r&&""!=r?r:DYO.dynamicField(unescape(a[e][n].value));var c=new RegExp(o(n),"gm");t=t.replace(c,s.replace(/\$/g,"$$$$"))}return t}function o(e){return"\\$(ext|img|image|select|unique|)\\{\\s*"+e.replace(/\ /g,"\\ ")+"(?:\\s*,\\s*(?:\\d+|{[^}]+})\\s*)?\\s*\\}"}var i={html:{},css:{},js:{}},a={html:{},css:{},js:{}};return{initParams:n,getRemoteValue:t,searchAndReplace:r,setParam:e}}(),DYO.dynamicField=function(){function e(e){if(DY.geoFields&&DY.geoFields[e])return DY.geoFields[e];var t=DYO.StorageUtilsInternal.getItem("_dy_df_geo");if(!t)return null;var n=t.split("."),r=null;switch(e){case"country":n[0]&&(r=n[0]);break;case"state":n[1]&&(r=n[1]);break;case"city":n[2]&&(r=n[2])}return r&&"undefined"!==r&&""!==r?r:null}function t(e,t,n,r){return e.replace(t,o(n,r.before_txt,r.after_txt,r.fallback))}function n(e,t,n){try{var r=DYO.getProductInterest();return void 0===r||"undefined"==typeof r.view?0:void 0===n||"anywhere"===n||null===n?parseInt(r[e][t])||0:"undefined"!=typeof r[n]&&parseInt(r[n][e][t])||0}catch(o){return DY.API("internal_error",{name:"getProductInterest func error",error:o}),0}}function r(e){return DYO.oevals&&DYO.oevals[e]&&DYO.oevals[e].hasOwnProperty("code")?DYO.CoreUtils.safeEval(DYO.oevals[e].code):null}function o(e,t,n,r){return null!=e?(t&&(e=t+e),n&&(e+=n)):e=r||""===r?r:"-NA-",e}function i(e,t){return e===t||e.id===t||e.name===t}function a(e){return i(e,"day")?"daily":i(e,"daily")?"daily":i(e,"twoDays")?"twoDays":i(e,"week")?"weekly":i(e,"weekly")?"weekly":i(e,"twoWeeks")?"twoWeeks":i(e,"monthly")?"monthly":"weekly"}return function(o){for(var i;null!==(i=/\$dy\$<<<(.*?)>>>/g.exec(o));)try{var s=DYJSON.parse(i[1]);switch("views_number"!==s.type&&"purchases_number"!==s.type||(s.resolution=a(s.resolution)),s.type){case"views_number":try{var c=n("view",s.resolution,s.location);o=o.replace(i[0],c)}catch(l){o=o.replace(i[0],0)}break;case"purchases_number":try{c=n("purchase",s.resolution,s.location);o=o.replace(i[0],c)}catch(l){o=o.replace(i[0],0)}break;case"last_purchased_date":break
;case"evaluator-value":try{var u=r(s.key);o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;case"url-param-value":try{if("undefined"!=typeof s.key&&null!==s.key)u=DYO.StringUtils.getUrlParam(s.key,location.href);else u=null;o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;case"cookie-value":try{u=DYO.StorageUtils.get(s.key,["cookieStorage"]);o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;case"city":try{u=e("city");o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;case"country":try{u=e("country");o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;case"state":try{u=e("state");o=t(o,i[0],u,s)}catch(l){o=o.replace(i[0],"-NA-")}break;default:o=o.replace(i[0],"-NA-"),DY.API("internal_error",{name:"dynamicField func type not according to contract: "+s.type})}}catch(l){o=o.replace(i[0],"-NA-"),DY.API("internal_error",{name:"dynamicField func invalid JSON or variable type error",error:l})}return o}}(),function(){function e(e,t,n,r,o){var i="";switch(r){case"dyTagName":e&&DYO.otags[e]&&DYO.otags[e].displayName&&(i=escape(DYO.otags[e].displayName));break;case"dyTagId":e&&!isNaN(e)&&(i=parseInt(e));break;case"dyObjectWidth":i=t&&t.width?t.width:0;break;case"dyObjectHeight":i=t&&t.height?t.height:0;break;case"dyExperienceName":t&&t.name&&(i=escape(decodeURIComponent(t.name)));break;case"dyExperienceId":t&&t.id&&(i=t.id);break;case"dyVariationName":t&&t.variations&&t.variations[n.name]&&t.variations[n.name].name&&(i=escape(decodeURIComponent(t.variations[n.name].name)));break;case"dyVariationId":n.name&&!isNaN(n.name)&&(i=parseInt(n.name));break;case"dyCappingUrl":if(t&&t.experiment&&DYO.oexps[t.experiment]){var a=DYO.getCurrentVersionDataStr(t.experiment),s=a.split(DYO.ExpUtils.verSep),c=s[DYO.Enums.ENUMS.VERSIONDATASTR.MECHANISM]||null,u=s[DYO.Enums.ENUMS.VERSIONDATASTR.SUBMECHANISM]||null;u===DYO.ExpUtils.SUB_MECHANISM_NA&&(u=null);var l=DYO.StorageUtilsInternal.getItem("_dyid");i="//"+DYO.hosts.st+"/capping/click/?sectionId="+DYO.section+"&expId="+t.experiment+"&expVerId="+DYO.oexps[t.experiment].version+"&expVarId="+n.id+"&expVisitId="+DYO.calcExpVisitId(t.experiment,a,l)+"&varId="+n.name+"&dyid="+l+"&expSes="+DYO.Props.getCurrentAttributionProps(DYO.oexps[t.experiment]).sesLoadSeq+"&mech="+c+"&smech="+u+"&url="+encodeURIComponent(o)}}return i}function t(t,n,r,o){for(var i=Object.keys(o),a=0;a<i.length;a++)if(-1!==pe.indexOf(i[a]))for(var s=Object.keys(o[i[a]]),c=0;c<s.length;c++){var u=e(t,n,r,s[c],o[i[a]][s[c]].value);(u||0===u)&&(o[i[a]][s[c]].value=u)}return o}function n(e,n,r,o,i){function a(e){return"\\$(ext|img|image|select|unique|)\\{\\s*"+e.replace(/\ /g,"\\ ")+"(?:\\s*,\\s*(?:\\d+|{[^}]+})\\s*)?\\s*\\}"}function s(e,t){var n=DYO.Params.getRemoteValue(e,t);return null!=n&&void 0!==n&&""!=n?n:DYO.dynamicField(unescape(c[e][t].value))}var c={html:{},css:{},js:{}};if(void 0!==o&&null!=o&&""!=o)try{c=t(e,n,r,DYJSON.parse(decodeURIComponent(o)))}catch(u){}return function(e,t){for(var n in t=i?"":decodeURIComponent(t),c[e])if(c[e].hasOwnProperty(n)){var r=s(e,n),o=new RegExp(a(n),"gm");i?c[e][n].value=r:t=t.replace(o,r.replace(/\$/g,"$$$$"))}return i?c[e]:t}}function r(e){var t=window.DY&&DY.referrer||document.referrer;switch(t=(t=null!=t&&void 0!==t&&""!=t?t.split("/")[2]:"").toLowerCase(),e.selectMethod){case"equals":case"not_equals":return t==e.selectParameter.toLowerCase();case"contains":return-1!==t.indexOf(e.selectParameter.toLowerCase());case"not_contains":return-1===t.indexOf(e.selectParameter.toLowerCase());default:return!1}}function o(e,t,n,o,i,a){if("undefined"==typeof t.hitCountMethod||"undefined"==typeof t.hitCount)return!1;var s=n?o[t.id]||0:(parseInt(i[t.id])||0)+parseInt(a[t.id]||0);switch("Referrer"==e&&r(t)&&s++,t.hitCountMethod){case"=":return s==t.hitCount;case">=":return s>=t.hitCount;case"<=":return s<=t.hitCount;case">":return s>t.hitCount;case"<":return s<t.hitCount;default:return!1}}function i(e){return de(e.conds,function(e){return null!=e&&"undefined"!=typeof e.id})}function a(e,t,n,r,i,a,s,c){return"_"===s.charAt(0)||"Audience"===s?DYO.Conditions.asyncMatchNow(s,c,e,t):o(s,c,n,r,i,a)}function s(e,t,n,r,i,a,s,c){return"_"===s.charAt(0)||"Audience"===s?DYO.Conditions.matchNow(s,c,e,t):o(s,c,n,r,i,a)}function c(e,t,n,r,o,s,c){var u=ue(i(c),function(i){return a(e,t,n,r,o,s,c.condType,i)});return DYO.CoreUtils.orPromiseArray(u)}function u(e,t,n,r,o,a,c){var u=ue(i(c),function(i){return s(e,t,n,r,o,a,c.condType,i)});return DYO.CoreUtils.any(u)}function l(e){if("undefined"==typeof DY.audienceRules)return undefined;var t=de(DY.audienceRules,function(e){return void 0!==e&&"undefined"!=typeof e.audience});return le(t,function(t){return t.audience==e})}function d(e){return("number"!=typeof e||void 0!==(e=l(e)))&&{rule:de(e.rule,function(e){return void 0!==e&&"undefined"!=typeof e.condType&&"undefined"!=typeof e.conds}),session:e.session}}function p(e){var t=DYO.AudienceCookies.load(),n=d(e);return!!n&&{out:{},cookies:t,foundAudience:n}}function f(e,t){var n=p(e),r=n.foundAudience.rule,o=ue(r,function(r){return c(n.out,t,e.session,n.cookies.schc,n.cookies.chc,n.cookies.tchc,r)});return DYO.CoreUtils.resolvePromiseArray(o)}function m(e,t){var n=p(e),r=n.foundAudience.rule;return r&&r.length?ue(r,function(r){return u(n.out,t,e.session,n.cookies.schc,n.cookies.chc,n.cookies.tchc,r)}):[!0]}function h(e){var t=[];if(e&&e.css)for(var n=0;n<e.css.length;n++)t.push('<link rel="stylesheet" type="text/css" href="'+e.css[n]+'" />');if(e&&e.js)for(n=0;n<e.js.length;n++)t.push('<script type="text/javascript" src="'+e.js[n]+'"></script>');return t.join("\n")}function g(e,t,r,o,i,a,s,c,u){if("undefined"==typeof t.variations[o.name])throw{type:"invalid position",vari:o.name};u=u||{};var l,d,p=s||t.variations[o.name],f=n(e,t,o,p.params),m=f("html",p.htmlCode),g=f("css",p.cssCode),O=f("js",p.jsCode),D={};try{D=DYJSON.parse(decodeURIComponent(p.resources))}catch(k){}var y='<style type="text/css">';switch(y+=g,y+="</style>",p.renderType){case"multi":var v=DYO.otagsUtils.getDynamicContentList(p.touchPoints),Y=DYO.otagsUtils.getDynamicContentEmbedList(v);DYO.autoEmbedSmarts(Y);var _=DYO.otagsUtils.getSmartActionsList(p.touchPoints);DYO.executeSmartActions(_);break;case"src":l="<!DOCTYPE html><html><head>",l+=y+"</head><body>",l+=m+(""!==O?'<script type="text/javascript">'+O+"</script>":"")+"</body></html>",d=function(){};break;case"html":var w=DYO.userAgent.isOldBrowser();if(i){var E=u.type?u.type:"div";if(l=document.createElement(E),t&&t.objectType===he){var I=n(e,t,o,u.params),S=u.customClass?I("customClass",u.customClass):"";r+=" "+(Oe+e)+(S?" "+S:"")}l.className=r,w?DYO.DOM.setInnerHtml(l,m+y):DYO.DOM.setInnerHtml(l,y+m),DYO.loadExternalResources(D),d=function(){var t=DYO.optionalDebuggerFor(e);DYO.CoreUtils.safeEval(t+"(function(){"+O+"\n})();")}}else{(l=document.createElement("iframe")).className=r,l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("vspace","0"),l.setAttribute("hspace","0"),l.setAttribute("frameborder","0"),l.setAttribute("frameBorder","0"),l.setAttribute("style","overflow:hidden;background-color:#ffffff;border:0;width:"+t.width+"px;height:"+t.height+"px;"),l.setAttribute("width",t.width),l.setAttribute("height",t.height);var b="margin:0;position: absolute;";b+="width:"+t.width+"px;",b+="height:"+t.height+"px;";var C="<!DOCTYPE html><html><head>";C+=h(D),w||(C+=y),C+='</head><body style="'+b+'">',C+=m,C+='<script type="text/javascript">',C+=O,C+="</script>",w&&(C+=y),C+="</body></html>",d=function(){"undefined"!=typeof l.contentWindow&&null!==l.contentWindow&&(l.contentWindow.document.open(),l.contentWindow.document.write(C),l.contentWindow.document.close())}}break;case"rcom":l=document.createElement("div"),DYO.loadExternalResources(D),l.className=r,d=function(){DYO.renderRcomSOVariation(e,p,"."+l.className.split(" ")[1],DYO.getVariationImpressionReport(t.experiment,[o.id]),n(e,t,o,p.params,!0),c)};break;case"image":a?(l="<!DOCTYPE html><html><head></head><body>",t.width=t.height="100%"):(l=document.createElement("div")).className=r;var T='<img src="'+p.imageUrl+'" width="'+t.width+'" height="'+t.height+'" style="border:none;z-index:10000;" />',x=p.imageLink;"undefined"!=typeof p.imageLink&&null!=p.imageLink&&""!=p.imageLink&&("undefined"!=typeof DYO.redirects[e]&&""!=DYO.redirects[e]&&(x=DYO.redirects[e]+x),T='<a href="'+x+'" target="'+p.imageLinkTarget+'">'+T+"</a>"),a?(l+=T,l+="</body></html>"):l.innerHTML=T,d=function(){};break;case"flash":var A=!1,P="";(l=document.createElement("div")).className=r;var N=p.imageLink;"undefined"!=typeof p.imageLink&&null!=p.imageLink&&""!=p.imageLink&&(A=!0),A&&("undefined"!=typeof DYO.redirects[e]&&""!=DYO.redirects[e]&&(N=DYO.redirects[e]+N),P="clickTAG="+escape(N));var U='  <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+t.width+'" height="'+t.height+'" id="dyFlashContent">    <param name="movie" value="'+p.imageUrl+"?"+P+'">    <param name="wmode" value="transparent">    <param name="quality" value="autohigh">    <!--[if !IE]>-->    <object type="application/x-shockwave-flash" data="'+p.imageUrl+"?"+P+'" width="'+t.width+'" height="'+t.height+'">';"undefined"!=typeof p.backupImageUrl&&""!=p.backupImageUrl?U+='    <img src="'+p.backupImageUrl+'" alt="Get Adobe Flash player" />':U+='      <a href="//www.adobe.com/go/getflashplayer">        <img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />      </a>',U+="      <!--[if !IE]>-->    </object>    <!--<![endif]-->  </object>",A&&(U='<a href="'+N+'" target="'+p.imageLinkTarget+'">'+U+"</a>"),l.innerHTML=U,d=function(){};break;default:throw{code:0,tag:e,msg:'unsupported render type "'+p.renderType+'" for Smart Tag '+e+" in Smart Object "+t.id+' in variation "'+o.name+'"'}}return DYO.PerformanceData&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"variationRenderEnd",timestamp:Date.now(),variation:o,smartTag:t,actionId:e}),{element:l,callback:d}}function O(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.geoCode){var e=DYO.StorageUtilsInternal.getItem("_dy_geo");if(null!==e){var t=e.split(".");return window.DY.geoCode=t[0],void(t.length>1&&(window.DY.geoCont=t[1],window.DY.geoRegionCode=t[2],window.DY.geoCity=t[3]))}}}function D(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.weather){var e=DYO.StorageUtilsInternal.getItem("_dy_weather_"+window.DY.scsec),t=DYO.StorageUtilsInternal.getItem("_dy_cweather_"+window.DY.scsec);if(null!==e)try{window.DY.weather=DYJSON.parse(e)}catch(n){}if(null!==t)try{window.DY.currentWeather=DYJSON.parse(t)}catch(n){}}}function y(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.deviceInfo){var e=DYO.StorageUtilsInternal.getItem("_dy_device");if(null!==e)try{window.DY.deviceInfo=DYJSON.parse(e)}catch(t){}}}function v(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.trafficSource){var e=DYO.StorageUtilsInternal.getItem("_dy_tsrc");null!==e&&(window.DY.trafficSource=e)}}function Y(e,t,n,r,o,i,a){a||(a=[]);var s=i[0],c=s.name,u=g(n,r,o,s,t.inline,!1,a[0],t.context),l=u.element,d=u.callback,p=L(r.variations[c]);DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT,[n,DYO.otags[n].displayName,decodeURIComponent(r.name),r,DYO.lifeCycleHooks.addVariations({so:r,expVars:[s],cv:a}),p]);var f=DYO.getCurrentVersionDataStr(r.experiment),m=DYO.Props.isCurrentlyInControlGroup(f)&&r.gaControlGroupMethod?r.gaControlGroupMethod:null;DYO.ThirdPartyUtils.reportToThirdParties(n,[{name:c}],r.variations,[{system:"GA"}],r.name,m,a,!1);var h=DYO.Props.getCurrentAttributionProps(DYO.oexps[r.experiment]);return e.hasRcom&&!p||DYO.reportVariationImpression(r.experiment,[s.id]),{variationIsInDoNothingCg:p,dyCallback:function(){var e=r.experiment,t=s.id;if(!0!==r.variations[c].doNotMarkUnit)"undefined"!=typeof window.DY.AdDetection.markExpUnit_new&&window.DY.AdDetection.markExpUnit_new(l,e,t,!1,f,undefined,h);else{var o=DYO.getSectionFeature("RIMPS_ON_BATCH");o&&o.enabled?DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.REAL_IMPRESSION,expId:e,variationIds:[t],attributionProps:h,versionDataStr:f}):"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",e,[t],h,f)}ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.SINGLE_DYNAMIC_CONTENT,n,r,e,[{name:c}])},callback:d,element:l,chosenVars:[s]}}function _(e,t,n,r,o,i,a){a||(a=[]);var s=L(r.variations[i[0].name]),c=document.createElement("div");c.className=o;var u=function(){},l=function(){},d=r.autoScrollSpeed;void 0!==d&&null!=d&&0!=d||(d=0);for(var p=[],f=[],m=0;m<i.length;m++){var h=g(n,r,"",i[m],t.inline,!1,a[m],t.context);!function(){var e=l,t=h.callback;l=function(){e(),t()}}(),p.push({element:h.element,variation:i[m].id}),f.push({id:i[m].id,idx:m})}var O=DYO.getCurrentVersionDataStr(r.experiment),D=(DYO.Props.isCurrentlyInControlGroup(O),r.gaControlGroupMethod);DYO.ThirdPartyUtils.reportToThirdParties(n,i,r.variations,[{system:"GA"}],r.name,D,a,!1);var y=DYO.Props.getCurrentAttributionProps(DYO.oexps[r.experiment]);return DYO.reportVariationImpression(r.experiment,f),DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT,[n,DYO.otags[n].displayName,decodeURIComponent(r.name),r,DYO.lifeCycleHooks.addVariations({so:r,expVars:i,cv:a}),s]),{variationIsInDoNothingCg:s,dyCallback:function(){DY.renderSmartTagSlider(c,{expId:r.experiment,width:r.width,height:r.height,scrollSpeed:d,versionDataStr:O,attributionProps:y},p),l(),ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.SLIDER_DYNAMIC_CONTENT,n,r,r.experiment,i)},callback:u,element:c,chosenVars:i}}function w(e,t,r,o){function i(){var e=DYO.userAgent.isOldBrowser(),i=n(t,r,o,d.params),c=d.htmlCodeBefore?i("htmlCodeBefore",d.htmlCodeBefore):"";f=d.htmlCodeAfter?i("htmlCodeAfter",d.htmlCodeAfter):"";var p=d.cssCode?i("css",d.cssCode):"";s=d.jsCode?i("js",d.jsCode):"",u=d.customClass?i("customClass",d.customClass):"",l=De+t;var m=p?'<style type="text/css">'+p+"</style>":"",h=e?c+m:m+c;h&&DYO.DOM.setInnerHtml(a,h)}var a,s,c,u,l,d=e&&e.container?e.container:{},p="div",f="";try{var m=d&&d.type?d.type:p;a=document.createElement(m),i(),a.className=l+(u?" "+u:""),c=function(){s&&DYO.CoreUtils.safeEval("(function(){"+s+"\n})();")}}catch(h){DYO.log.error("error in createMultipleItemsContainer for tagId "+t),a=document.createElement(p),c=function(){}}return{element:a,callback:c,htmlCodeAfter:f}}function E(e,t,n,r,o,i,a){a||(a=[]);for(var s=L(r.variations[i[0].name]),c=w(e.embedOptions,n,r,i),u=c.element,l=null,d=function(){},p=[],f=[],m=e.embedOptions&&e.embedOptions.variations?e.embedOptions.variations:{},h=0;h<i.length;h++){var O=g(n,r,o+"_"+i[h].id,i[h],t.inline,!1,a[h],t.context,m);u.appendChild(O.element),function(){var e=d,t=O.callback;d=function(){e(),t()}}(),p.push({element:O.element,variation:i[h]}),h+1<i.length&&DYO.DOM.appendChildWithoutTag(u,r.htmlSeparator),f.push({id:i[h].id,idx:h})}var D=DYO.getCurrentVersionDataStr(r.experiment),y=(DYO.Props.isCurrentlyInControlGroup(D),r.gaControlGroupMethod);DYO.ThirdPartyUtils.reportToThirdParties(n,i,r.variations,[{system:"GA"}],r.name,y,a,!1);var v=DYO.Props.getCurrentAttributionProps(DYO.oexps[r.experiment]);return DYO.reportVariationImpression(r.experiment,f),DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT,[n,DYO.otags[n].displayName,decodeURIComponent(r.name),r,DYO.lifeCycleHooks.addVariations({so:r,expVars:i,cv:a}),s]),l=function(){for(var e=r.experiment,t=0;t<p.length;t++)if(!0!==r.variations[p[t].variation.name].doNotMarkUnit)"undefined"!=typeof window.DY.AdDetection.markExpUnit_new&&window.DY.AdDetection.markExpUnit_new(p[t].element,e,p[t].variation.id,!0,D,t,v);else{var o=DYO.getSectionFeature("RIMPS_ON_BATCH");o&&o.enabled?DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.REAL_IMPRESSION,expId:e,variationIds:[p[t].variation.id],attributionProps:v,versionDataStr:D}):"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",e,[p[t].variation.id],v,D)}window.DY.AdDetection.ne(),ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.MULTIPLE_DYNAMIC_CONTENT,n,r,r.experiment,i)},c.htmlCodeAfter&&DYO.DOM.appendChildWithoutTag(u,c.htmlCodeAfter,!0),{variationIsInDoNothingCg:s,dyCallback:l,callback:d,element:u,chosenVars:i,containerCallback:c.callback}}function I(e,t,n,r){if(null!=t){var o=DYO.getCurrentVersionDataStr(n.experiment),i=DYO.Props.getCurrentAttributionProps(DYO.oexps[n.experiment]);t.className+=" "+e,window.DY.AdDetection.markExpUnit_new(t,n.experiment,r[0].id,!1,o,undefined,i)}}function S(e){var t=DYO.CoreUtils.clone(e);return t.scriptLoc=DYO.CoreUtils.getCurrentScriptLoc(),t}function b(e,t){var n=ue(e.rules,function(e){if(t){var n=[],r=Object.keys(e.touchPointRules);return DYO.CoreUtils.forEach(function(t){n=n.concat(e.touchPointRules[t])},r),n}return e.ruleDisjs});return n=DYO.CoreUtils.flatArray(n),n=de(n,function(e){return"_Evaluator"===e.condType}),n=ue(n,function(e){return e.conds}),n=DYO.CoreUtils.flatArray(n),(n=de(n,function(e){return e.jsCode.indexOf("DYO.Q")>-1||e.jsCode.indexOf("DY.Q")>-1})).length>0}function C(e,t){var n=DYO.otags[e];DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_EXP_SELECT,[e,n.displayName,decodeURIComponent(t.name),t])}function T(e){if(e.objectType===fe||e.objectType===ge)o=DYO.chooseMultipleVariations(e.experiment,1);else{var t=e.slideCount;if(void 0===t||null==t||0==t){var n=Object.keys(e.variations);t=n.length;for(var r=0;r<n.length;r++)L(e.variations[n[r]])&&t--}var o=new Array;if(e.objectType!==fe&&e.objectType!==ge)if("undefined"==typeof e.pinnedVariation)o=DYO.chooseMultipleVariations(e.experiment,t);else if(t>1){if(null==(o=DYO.getDynamicVariations(e.experiment,DYO.Props.expProgVersionData(DYO.oexps[e.experiment])))||(o.length!=t||o[0].id!=e.pinnedVariation.id)&&!L(e.variations[o[0].name])){o=DYO.chooseMultipleVariations(e.experiment,t-1),L(e.variations[o[0].name])||o.unshift(e.pinnedVariation);for(var i=new Array,a=0;a<o.length;a++)i.push(o[a].id+":"+o[a].name);var s=DYO.exps[e.experiment]?DYO.exps[e.experiment].split(DYO.ExpUtils.dataSep)[1]:DYO.Props.expProgVersionData(DYO.oexps[e.experiment]);DYO.setVariations(e.experiment,s,i)}}else{var c=null!=(o=DYO.getDynamicVariations(e.experiment,DYO.Props.expProgVersionData(DYO.oexps[e.experiment])))&&o.length>0?o[0]:e.pinnedVariation;if(null==o||1!=o.length||o[0].id!=e.pinnedVariation.id&&!L(e.variations[o[0].name])){i=new Array;o=DYO.chooseMultipleVariations(e.experiment,1);var u=e.pinnedVariation.id+":"+e.pinnedVariation.name;o.length>0&&L(e.variations[o[0].name])&&(u=o[0].id+":"+o[0].name,c=o[0]),i.push(u);s=DYO.exps[e.experiment]?DYO.exps[e.experiment].split(DYO.ExpUtils.dataSep)[1]:DYO.Props.expProgVersionData(DYO.oexps[e.experiment]);DYO.setVariations(e.experiment,s,i)}o=[c]}}return o}function x(e,t,n,r,o,i,a){var s=null;switch(DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"variationRenderStart",timestamp:Date.now(),variation:i,actionId:n}),r.objectType){case fe:s=Y(e,t,n,r,o,i,a);break;case me:s=_(e,t,n,r,o,i,a);break;case he:s=E(e,t,n,r,o,i,a)}return s}function A(e,t,n,r,o,i,a){var s=x(e,t,n,r,o,i,a);if(s){var c=s.variationIsInDoNothingCg,u=s.callback,l=s.element,d=s.dyCallback,p=s.chosenVars;DYO.logBlock.info(function(){for(var e="tag "+DYO.otags[n].name+" chosen variations: ",t=0;t<p.length;t++)e=e+decodeURIComponent(r.variations[p[t].name].name)+" (id: "+p[0].name+") ";return e},"tag-"+n);var f=DYO.Embedder.prepareEmbedParent(t.target,t.useQuerySelector,t.embed);function m(){"undefined"==typeof window.DY||"undefined"==typeof window.DY.AdDetection||1===r.objectType&&"undefined"==typeof DY.renderSmartTagSlider?setTimeout(m,100):(d(),c&&I(o,f,r,p))}t.returnVar||c||DYO.CoreUtils.insertElement(l,f,t.scriptLoc),u(),"function"==typeof t.afterRenderCallback&&t.afterRenderCallback(),"function"==typeof s.containerCallback&&s.containerCallback(),null!==d&&m()}else DYO.log.error("unsupported Object Type for "+r.objectType);DYO.AntiFlicker.forget(e)}function P(e,t,n,r,o,i,a){var s=i.map(function(e){return Z(X(DYO.section,n,e.name,r.variations[e.name].hash))});DYO.Q.all(s).then(function(a){for(var s=a.map(function(e){return DYJSON.parse(e)}),c=r,u=0;u<i.length;u++)c.variations[i[u].name]=s[u];A(e,t,n,c,o,i,s),DYO.log.warn("succesfuly executed on demand variation. tagId "+n+" variation: "+i.map(function(e){return e.name}))})["catch"](function(s){a?(P(e,t,n,r,o,i,--a),DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.ON_DEMEND_VARIATIONS_RETRY,isPerSection:!0,isPerBrowser:!0}),DYO.log.warn("Error with on demand variation. Retrying for tagId "+n+" variations: "+i.map(function(e){return e.name}))):(A(e,t,n,r,o,i),DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.ON_DEMEND_VARIATIONS_ERROR,isPerSection:!0,isPerBrowser:!0}),DY.API("internal_error",{name:"onDemandVariations error",error:s}),DYO.log.error(s),DYO.log.warn("Error with on demand variation. Used fallback. tagId "+n+" variations: "+i.map(function(e){return e.name})))})}function N(e,t,n,r){if(!r)return DYO.otagsUtils.markTouchPoint(e,!1),void DYO.AntiFlicker.forget(t);DYO.otagsUtils.markTouchPoint(e,!0),C(e,r.smartObject);var o="dy_unit dy_smart_object_"+r.smartObject.id,i=T(r.smartObject);if($(i[0],r)){var a=1;P(t,n,e,r.smartObject,o,i,a)}else A(t,n,e,r.smartObject,o,i)}function U(e,t,n){return b(t,!0)?DYO.CoreUtils.AsyncTouchPointPromiseRacePositive(k(e,t,n)):DYO.Q.fcall(function(){return R(e,t,n)})}function k(e,t,n){var r,o,i,a=n[0],s=Object.keys(a.touchPointRules),u=[];return DYO.CoreUtils.forEach(function(t){var n=a.touchPointRules[t],s=[];n&&!n.length&&s.push(!0),DYO.CoreUtils.forEach(function(t){try{o={rule:t,session:!0},r=p({rule:[t],session:!0}),s.push(c(r.out,i,o.session,r.cookies.schc,r.cookies.chc,r.cookies.tchc,t))}catch(n){DYO.log.error("Failed checking touch point conds for multi touch "+e),DYO.log.error(n)}},n),u.push(DYO.Q.all(s))},s),u}function R(e,t,n){var r,o,i,a=n[0],s=Object.keys(a.touchPointRules);return s.length?[!!DYO.CoreUtils.find(function(t){var n=a.touchPointRules[t];return DYO.CoreUtils.every(function(t){try{return o={rule:t,session:!0},u((r=p({rule:[t],session:!0})).out,i,o.session,r.cookies.schc,r.cookies.chc,r.cookies.tchc,t)}catch(n){return DYO.log.error("Failed checking touch point conds for multi touch "+e),DYO.log.error(n),!1}},n)},s)]:[!0]}function M(e,t,n){if(b(t))return F(e,t.rules).then(function(r){N(e,t,n,r)})["catch"](function(){DYO.AntiFlicker.forget(t),DYO.otagsUtils.markTouchPoint(e,!1)});try{var r=G(e,t.rules);N(e,t,n,r)}catch(o){DYO.AntiFlicker.forget(t),DYO.otagsUtils.markTouchPoint(e,!1)}}function j(e){if("number"!=typeof e){for(var t in DYO.otags)if(DYO.otags[t].name==e){e=parseInt(t);break}"number"!=typeof e&&(e=parseInt(e))}return{tag:DYO.otags[e],tagId:e}}function V(e,t){try{var n;window.XDomainRequest?((n=new XDomainRequest).CacheControl="no-cache",n.onerror=function(){},n.ontimeout=function(){},n.onprogress=function(){},n.onload=function(){t(n)}):n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){4===n.readyState&&t&&t(n)},n.open("GET",e,!0),n.send()}catch(r){}}function L(e){return"undefined"!=typeof e.isDoNothingCg&&e.isDoNothingCg}function F(e,t){var n=ue(t,function(t){return f({rule:t.ruleDisjs,session:!0},{smartTagId:e}).then(function(n){var r=t.smartObject?t.smartObject.id:"";return DYO.debuggerUtils.prepareAndSave({tagId:e,isInAudArray:n,conditions:t.ruleDisjs,expId:r}),n=DYO.CoreUtils.all(n),B(t,n)})});return DYO.Q.all(n).then(function(e){return le(e,DYO.CoreUtils.isNotNull)}).then(function(e){if(void 0===e)throw"Rule Not In Audience";return e})}function B(e,t){return t?e:null}function H(e,t){DYO.logBlock.info(function(){var n="tag "+DYO.otags[t].name+" (id "+t+"), chosen experience name: "+decodeURIComponent(e.smartObject.name+" (id: "+e.smartObject.id+")");if(e.ruleDisjs.length){n+=", met conditions: ";for(var r=0;r<e.ruleDisjs.length;r++){n=n+e.ruleDisjs[r].condType+" ";for(var o=0;o<e.ruleDisjs[r].conds.length;o++)n=n+"(id "+e.ruleDisjs[r].conds[o].id+"), "}}return n},"tag-"+t)}function G(e,t){var n=ue(t,function(t){var n=m({rule:t.ruleDisjs,session:!0},{smartTagId:e}),r=t.smartObject?t.smartObject.id:"";return DYO.debuggerUtils.prepareAndSave({tagId:e,isInAudArray:n,conditions:t.ruleDisjs,expId:r}),DYO.CoreUtils.all(n)?t:null}),r=le(n,DYO.CoreUtils.isNotNull);if(void 0===r)throw"Rule Not In Audience";return H(r,e),r}function q(e,t,n,r){var o=t.smartObject.experiment,i=n.id,a=DYO.Props.getCurrentAttributionProps(DYO.oexps[o]);DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT,[e,DYO.otags[e].displayName,decodeURIComponent(t.smartObject.name),t.smartObject,DYO.lifeCycleHooks.addVariations({so:t.smartObject,expVars:[n]}),!0]);var s=function(){DYO.reportVariationImpression(o,[i]);var e=DYO.getSectionFeature("RIMPS_ON_BATCH");e&&e.enabled?DY.API("report",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.REAL_IMPRESSION,expId:o,variationIds:[i],attributionProps:a,versionDataStr:r}):"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",o,[i],a,r)};return{writeData:[e,t.smartObject.id,parseInt((new Date).getTime()/1e3)],callback:s}}function W(e,t,n,r,o){var i=void 0!==o&&"undefined"!=typeof o[n.name]?o:t.smartObject.variations,a=DYO.Props.isCurrentlyInControlGroup(r)&&t.smartObject.gaControlGroupMethod?t.smartObject.gaControlGroupMethod:null;DYO.ThirdPartyUtils.reportToThirdParties(e,[n],i,[{system:"GA"}],t.smartObject.name,a,[o],!0)}function Q(e,t,n,r,o,i){var a="dy_unit dy_smart_object_"+n.smartObject.id;if(L(i))switch(n.smartObject.objectType){case DYO.SmartAction.TYPES.OVERLAY:return t.value?(t.value=!1,q(e,n,r,o)):{writeData:null,callback:null};default:return q(e,n,r,o)}else switch(DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_VARIATION_SELECT,[e,DYO.otags[e].displayName,decodeURIComponent(n.smartObject.name),n.smartObject,DYO.lifeCycleHooks.addVariations({so:n.smartObject,expVars:[r],cv:[i]}),!1]),n.smartObject.objectType){case DYO.SmartAction.TYPES.OVERLAY:return ve(e,n,r,o,a,t,i);case DYO.SmartAction.TYPES.NOTIFICATION:return Ye(e,n,r,o,a,i);case DYO.SmartAction.TYPES.JAVASCRIPT:return _e(e,n,r,o,i);case DYO.SmartAction.TYPES.MULTI_TOUCH:return ye(e,n,r,o,a,i);default:throw"Unsupported Object Type"}}function z(e,t){var n=t.writeData;n&&(e[[n[0],n[1]]]=n[2]);var r=t.callback;r&&window.DY.API("callback",r)}function J(e,t,n,r,o,i,a){DYO&&DYO.PerformanceData&&r&&r.smartObject&&"_dy_collection_inject"!==r.smartObject.name&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"variationRenderStart",timestamp:Date.now(),variation:o,actionId:e}),z(t,Q(e,n,r,o,i,a)),DYO.SmartAction.writeToStorageUtils(t)}function X(e,t,n,r){return location.protocol+"//"+DYO.hosts.cdn+"/variations/"+e+"/"+t+"/"+n+"/"+r+".json"}function Z(e){return DYO.Q.Promise(function(t,n){var r;(r=window.XDomainRequest?new XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4===r.readyState&&(200===r.status?t(r.responseText):n(new Error("Error with xhr status: "+r.status)))},r.onerror=function(e){n(new Error("Error with xhr req: "+e.target.status))},r.open("GET",e,!0),r.send(null)})}function K(e,t,n,r,o,i,a){DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"vodStart",timestamp:Date.now(),variation:o,actionId:e}),Z(X(DYO.section,e,o.name,r.smartObject.variations[o.name].hash)).then(function(a){var s=DYJSON.parse(a);DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"vodEnd",timestamp:Date.now(),variation:o,actionId:e}),W(e,r,o,i,s),J(e,t,n,r,o,i,s),DYO.log.warn("succesfuly executed on demand variation. tagId "+e+" variation: "+o.name)})["catch"](function(s){if(a)K(e,t,n,r,o,i,--a),DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.ON_DEMEND_VARIATIONS_RETRY,isPerSection:!0,isPerBrowser:!0}),DYO.log.warn("Error with on demand variation. Retrying for tagId "+e+" variation: "+o.name);else{DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.ON_DEMEND_VARIATIONS_ERROR,isPerSection:!0,isPerBrowser:!0}),DY.API("internal_error",{name:"onDemandVariations error",error:s}),DYO.log.error(s);var c=r.smartObject.variations[o.name];W(e,r,o,i,c),J(e,t,n,r,o,i,c),DYO.log.warn("Error with on demand variation. Used fallback. tagId "+e+" variation: "+o.name)}})}function $(e,t){return!!t.smartObject.variations[e.name].hash}function ee(e,t,n,r){try{var o,i,a=DYO.SmartAction.shallNotPassOnRuleReason(e,t,n,r);if(a)switch(DYO.otagsUtils.markTouchPoint(e,!1),a){case DYO.Enums.ENUMS.OTAGS_INFO.REASON.OPT_OUT:o=r.smartObject?r.smartObject.experiment:"";break;case DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY:DYO.SmartAction.writeToStorageUtils(t),o=r.smartObject.frequency;break;case DYO.Enums.ENUMS.OTAGS_INFO.REASON.ANOTHER_OVERLAY:o=n.first,i=DYO.Enums.ENUMS.OTAGS_INFO.TYPE.ANOTHER_SMART}else{C(e,r.smartObject);var s=DYO.chooseMultipleVariations(r.smartObject.experiment,1)[0];DYO.otagsUtils.markTouchPoint(e,!0),r.smartObject.objectType===DYO.SmartAction.TYPES.OVERLAY&&"undefined"==typeof n.first&&(n.first=e);var c=DYO.getCurrentVersionDataStr(r.smartObject.experiment);if($(s,r))K(e,t,n,r,s,c,1);else W(e,r,s,c),J(e,t,n,r,s,c,r.smartObject.variations[s.name])}}catch(u){DYO.otagsUtils.markTouchPoint(e,!1),a=DYO.Enums.ENUMS.OTAGS_INFO.REASON.NO_EXPERIMENT,o=r.smartObject?r.smartObject.experiment:""}a&&DYO.debuggerUtils.save({tagId:e,reason:a,param:o,type:i||a})}function te(e,t,n,r,o){if(b(t))return F(e,n).then(function(t){ee(e,o,r,t)})["catch"](function(n){ne(n,t,e)});try{var i=G(e,n);ee(e,o,r,i)}catch(a){ne(a,t,e),t.isMultiTouch?DYO.otagsUtils.markCampaign():DYO.otagsUtils.markTouchPoint(e,!1)}}function ne(e,t,n){"Rule Not In Audience"===e?DYO.logBlock.info(function(){return"Rule Not In Audience for tag "+t.name},"tag-"+n):DYO.logBlock.error(function(){return"exception in checkCondsAndExecuteSA - "+e},"exception")}function re(e,t,n,r){r=DYO.SmartAction.update(e,r),DYO.otags[e].isMultiTouch?U(e,DYO.otags[e],t).then(function(o){DYO.CoreUtils.any(o)?te(e,DYO.otags[e],t,n,r):DYO.otagsUtils.markCampaign()}):te(e,DYO.otags[e],t,n,r)}function oe(){DYO.DOM.ready(function(){try{document.body.appendChild(document.createElement("script")).src="//"+DYO.hosts.cdn+"/preview/bookmarklet.js"}catch(e){}})}function ie(){try{return DY.loggedInSites&&DY.loggedInSites.length>0&&DY.loggedInSites.indexOf("adm")>-1}catch(e){return!1}}function ae(e){if(window.$dy&&"function"==typeof $dy.noConflict)e();else{var t=document.createElement("script");t.onload=e||function(){};var n=DYO.version>0?DYO.version:"latestBuild",r="static.dynamicyield.com",o=DYO.getSectionFeature("SERVE_COLLECTION_FROM_CDN");o&&o.enabled&&(r=DYO.hosts.cdn),t.src="//"+r+"/scripts/"+n+"/dyjq-min.js",document.body.appendChild(t)}}function se(){try{ie()&&DY.Util.isDesktop()&&("undefined"==typeof DY.slim||"true"!=DY.slim)&&DYO.DOM.ready(function(){try{ae(function(){document.body.appendChild(document.createElement("script")).src="//"+DYO.hosts.cdn+"/onsite/init.js"})}catch(e){}})}catch(e){}}function ce(e,t,n,r,o){try{if(DY&&"function"==typeof DY.ExpUtils.isInternalAction&&DY.ExpUtils.isInternalAction(r))return;var i=DYO.otags[t]&&DYO.otags[t].displayName?DYO.otags[t]&&DYO.otags[t].displayName:"N/A",a=n&&n.id?n.id:"N/A",s={tagId:t,tagName:i,experienceName:n&&n.name?decodeURIComponent(n.name):"N/A",experienceId:a,experimentId:r,experimentVariations:o},c=[];if(o.length)for(var u=0;u<o.length;u++){var l=o[u].name||"N/A",d=n&&n.variations&&n.variations[l]&&n.variations[l].name?decodeURIComponent(n.variations[l].name):"N/A";c.push({variationId:l,variationName:d})}var p=document.getElementsByClassName("dy_smart_object_"+n.id);switch(DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_TAG_RENDER,[t,DYO.otags[t].displayName,decodeURIComponent(n.name),n,DYO.lifeCycleHooks.addVariations({so:n,expVars:o.length?o:[o]}),p[0]]),s.variations=c,e){case DYO.Enums.ENUMS.EXECUTION_EVENTS.SINGLE_DYNAMIC_CONTENT:DY.API("pub",{on:"dy-single-render",args:[e,s]});break;case DYO.Enums.ENUMS.EXECUTION_EVENTS.MULTIPLE_DYNAMIC_CONTENT:DY.API("pub",{on:"dy-multiple-render",args:[e,s]});break;case DYO.Enums.ENUMS.EXECUTION_EVENTS.SLIDER_DYNAMIC_CONTENT:DY.API("pub",{on:"dy-slider-render",args:[e,s]});break;case DYO.Enums.ENUMS.EXECUTION_EVENTS.OVERLAY_ACTION:DY.API("pub",{on:"dy-overlay-render",args:[e,s]});break;case DYO.Enums.ENUMS.EXECUTION_EVENTS.NOTIFICATION_ACTION:DY.API("pub",{on:"dy-notification-render",args:[e,s]});break;case DYO.Enums.ENUMS.EXECUTION_EVENTS.JAVASCRIPT_ACTION:
DY.API("pub",{on:"dy-js-render",args:[e,s]})}DY.API("pub",{on:"dy-after-render",args:[e,s]})}catch(f){DY.API("internal_error",{name:"publishAfterRender",error:f})}}var ue=function(e,t){return DYO.CoreUtils.arrayMap.call(e,t)},le=function(e,t){return DYO.CoreUtils.arrayFind.call(e,t)},de=function(e,t){return DYO.CoreUtils.arrayFilter.call(e,t)},pe=["html","css","js","customClass","htmlCodeBefore","htmlCodeAfter"];DYO.setRemoteParameters=function(e){try{for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&"undefined"!=typeof e[t].paramName&&("undefined"==typeof e[t].paramType?(DYO.setRemoteParameter("html",e[t].paramName,e[t].paramValue),DYO.setRemoteParameter("css",e[t].paramName,e[t].paramValue),DYO.setRemoteParameter("js",e[t].paramName,e[t].paramValue)):DYO.setRemoteParameter(e[t].paramType,e[t].paramName,e[t].paramValue))}catch(n){}},DYO.setRemoteParameter=DYO.Params.setParam,DYO.loadExternalResources=function(e){var t,n,r=document.getElementsByTagName("head")[0];if(e&&e.css)for(n=0;n<e.css.length;n++){var o=e.css[n];o&&((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",o),r.appendChild(t))}if(e&&e.js)for(n=0;n<e.js.length;n++){var i=e.js[n];i&&((t=document.createElement("script")).setAttribute("type","text/javascript"),t.setAttribute("src",i),r.appendChild(t))}},DYO.loadServerData=function(e){O(),D(),y(),v(),"function"==typeof e&&e()},DYO.getTagVariationProperties=function(e){try{DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.METRICS.USING_GET_TAG_VAR_PROP,isPerSection:!0})}catch(s){}var t=e;if("number"!=typeof t){for(var n in DYO.otags)if(DYO.otags[n].name==t){t=parseInt(n);break}"number"!=typeof t&&(t=parseInt(t))}var r=DYO.otags[t];if(void 0===r||null==r)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};var o=null;for(var i in r.rules)if(null==r.rules[i].ruleDisjs||f({rule:r.rules[i].ruleDisjs,session:!0},{smartTagId:t})){o=r.rules[i].smartObject;break}if(null==o)throw{code:0,tag:e,msg:"no rule matched for Smart Tag "+e};var a=DYO.getVariationData(o.experiment);return"undefined"!=typeof a.value&&null!=a.value?{code:1,tag:e,variation:{id:a.value.name,name:a.value.name,display:r.rules[i].smartObject.variations[a.value.name]}}:{code:0,tag:e,msg:"no variation found for tag"}},DYO.redirects={},DYO.addRedirect=function(e,t){try{if("number"!=typeof e){for(var n in DYO.otags)if(DYO.otags[n].name==e){e=parseInt(n);break}"number"!=typeof e&&(e=parseInt(e))}DYO.redirects[e]=t,DYO.setRemoteParameter("html","rdclick",t),DYO.setRemoteParameter("css","rdclick",t),DYO.setRemoteParameter("js","rdclick",t),DYO.setRemoteParameter("html","dy_rdclick",t),DYO.setRemoteParameter("css","dy_rdclick",t),DYO.setRemoteParameter("js","dy_rdclick",t)}catch(r){return{code:0,tag:e,msg:"error while executing add redirect on tag "+e,ex:r}}},DYO.smartTag=function(e,t,n,r){DYO.smartObject(e,{target:t,inline:n,afterRenderCallback:r})};var fe=0,me=1,he=2,ge=100,Oe="dy-item-",De="dy-container-";DYO.smartObject=function(e,t,n){try{if("string"==typeof t)try{t=DYJSON.parse(t)}catch(l){t={}}"object"!=typeof t&&(t={}),!0!==t.inline&&(t.inline=!1),t=S(t);var r=j(e),o=r.tag;e=r.tagId;if(void 0===o||null==o||"tag"!==o.subType)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};if(o.autoArchived){var i="//"+DYO.hosts.st+"/ffst?&smt="+e;if(null!=o.smartObjects){for(var a in i+="&exps=",o.smartObjects){i+=o.smartObjects[a].experiment+","}i=i.substring(0,i.length-1)}return void V(i,function(n){try{DYO.CoreUtils.safeEval(n.response)}catch(o){DY.API("internal_error",{name:"Error when trying to force fetch an auto archived smart tag. smtId: "+e,error:o})}for(var r in DYO.otags[e]=DYExps.otags[e],DYExps.oexps)DYO.oexps[r]=DYExps.oexps[r];"undefined"==typeof DYO.otags[e].autoArchived&&DYO.smartObject(e,t)})}var s,c={};if(DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.BEFORE_TAG_RUN,[e,o.displayName]),o.embedOptions&&o.embedOptions.enabled?DYO.SmartsPreWork.executeWithPageEvents(o,e,function(){DYO.loadServerData(),s=M(e,o,t)}):DYO.SmartsPreWork.waitForDependencies(o,e,{},function(){DYO.loadServerData(),s=M(e,o,t)}),n)return s;var u={code:1,tag:e,msg:"executing make Smart Tag on tag "+e};return t.returnVar&&(u.soProps=c),u}catch(l){return DYO.AntiFlicker.forget(o),{code:0,tag:e,msg:"error while executing make Smart Tag on tag "+e,ex:l}}},DYO.dynamicContent=function(e,t,n){return t.useQuerySelector=!0,t.inline="undefined"==typeof t.inline||t.inline,DYO.smartObject(e,t,n)},DYO.ACTION_TYPES={OVERLAY:3,NOTIFICATION:4,JAVASCRIPT:5,MULTI_TOUCH:22};var ye=function(e,t,n,r,o,i){try{DYO.otagsUtils.markCampaign(i.touchPoints);g(e,t.smartObject,o,n,!0,!1,i,null);var a=t.smartObject.experiment,s=n.id;DYO.Props.getCurrentAttributionProps(DYO.oexps[a]);return DYO.reportVariationImpression(a,[s]),{writeData:[e,t.smartObject.id,parseInt((new Date).getTime()/1e3)]}}catch(c){return{writeData:null,callback:null}}},ve=function(e,t,n,r,o,i,a){try{if(i.value&&i.first===e){i.value=!1;var s=g(e,t.smartObject,o,n,!0,!1,a,null),c=DYO.getPropsForOverlaysAndNotification(e,t.smartObject),u=t.smartObject.experiment,l=n.id,d=DYO.Props.getCurrentAttributionProps(DYO.oexps[u]),p=s.callback;DYO.reportOverlayVariationImpression(u,l,a),s.callback=function(){"undefined"!=typeof window.DY.AdDetection.markExpUnit_new&&window.DY.AdDetection.markExpUnit_new(s.element,u,l,!1,r,undefined,d),p()};var f=function(){new DYO.Overlay(s,c).open(),ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.OVERLAY_ACTION,e,t.smartObject,u,[n])};return{writeData:[e,t.smartObject.id,parseInt((new Date).getTime()/1e3)],callback:f}}return DYO.debuggerUtils.save({tagId:e,reason:DYO.Enums.ENUMS.OTAGS_INFO.REASON.ANOTHER_OVERLAY,param:i.first,type:DYO.Enums.ENUMS.OTAGS_INFO.TYPE.ANOTHER_SMART}),{writeData:null,callback:null}}catch(m){return i.value||(i.value=!0),{writeData:null,callback:null}}},Ye=function(e,t,n,r,o,i){try{var a=g(e,t.smartObject,o,n,!0,!1,i,null),s=DYO.getPropsForOverlaysAndNotification(e,t.smartObject),c=t.smartObject.experiment,u=n.id,l=DYO.Props.getCurrentAttributionProps(DYO.oexps[c]),d=a.callback;DYO.reportOverlayVariationImpression(c,u,i),a.callback=function(){"undefined"!=typeof window.DY.AdDetection.markExpUnit_new&&window.DY.AdDetection.markExpUnit_new(a.element,c,u,!1,r,undefined,l),d()};var p=function(){window.DY.WindowActions.notify(a,s),ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.NOTIFICATION_ACTION,e,t.smartObject,c,[n])};return{writeData:[e,t.smartObject.id,parseInt((new Date).getTime()/1e3)],callback:p}}catch(f){return{writeData:null,callback:null}}},_e=function(e,t,r,o,i){var a=!1;try{var s=t.smartObject.experiment,c=r.id,u=DYO.Props.getCurrentAttributionProps(DYO.oexps[s]),l={};try{l=DYJSON.parse(decodeURIComponent(i.resources))}catch(h){}DYO.loadExternalResources(l);var d=n(e,t.smartObject,r,i.params),p=DYO.optionalDebuggerFor(e);if("_dy_collection_inject"===t.smartObject.name?DYO.stRequestTime=(new Date).getTime():DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"dynamicContent",subType:"variationRenderEnd",timestamp:Date.now(),variation:r,actionId:e}),i.cssCode){var f=document.createElement("style");f.setAttribute("type","text/css"),f.innerHTML=d("css",i.cssCode),document.getElementsByTagName("head")[0].appendChild(f)}i.jsCode&&DYO.CoreUtils.safeEval(p+"(function(){"+d("js",i.jsCode)+"\n})();"),a=!0}catch(h){DYO.log.error("executeJSAction error"+h.stack)}var m=a?[e,t.smartObject.id,parseInt((new Date).getTime()/1e3)]:null;return DYO.reportVariationImpression(s,[c]),{writeData:m,callback:function(){var n=DYO.getSectionFeature("RIMPS_ON_BATCH");n&&n.enabled?DY.API("report",{type:DY.Enums.ENUMS.REPORT_API.TYPES.REAL_IMPRESSION,expId:s,variationIds:[c],attributionProps:u,versionDataStr:o}):"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",s,[c],u,o),ce(DYO.Enums.ENUMS.EXECUTION_EVENTS.JAVASCRIPT_ACTION,e,t.smartObject,s,[r])}}};DYO.executeSmartActions=function(e){window.DY.ssae=undefined,e=e||DYO.otagsUtils.smartActionsList;var t=DYO.otagsUtils.executedActionObjects||{},n=window.location&&window.location.search||"";try{for(var r=DYO.otagsUtils.firstOverlay,o=0;o<e.length;o++){var i=e[o];try{if(new RegExp("[?&]_dy_ssae="+i+"(&|$)","i").test(n))continue;!function(){var e=i,n=DYO.otags[e].rules;DYO.SmartsPreWork.executeWithPageEvents(DYO.otags[e],e,function(){DYO.loadServerData(),re(e,n,r,t)})}()}catch(a){DYO.d&&(DY.API("internal_error",{name:"error while executing Smart Action "+i,error:a}),DYO.log.error("error while executing Smart Actions, error: "+a))}}return{code:1,msg:"executed Smart Actions"}}catch(a){DYO.log.error("error while executing Smart Actions, error: "+a)}},DYO.renderSmartObjectVariation=function(e,t,n,r,o){try{if(o=o||{},"number"!=typeof e){for(var i in DYO.otags)if(DYO.otags[i].name==e){e=parseInt(i);break}"number"!=typeof e&&(e=parseInt(e))}var a=DYO.otags[e];if(void 0===a||null==a)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};var s=a.rules[n].smartObject,c="";switch(s.objectType){case 0:case 3:case 4:c="dy_unit dy_smart_object_"+s.id,o.inline=!0;break;case 5:c="dy_unit dy_smart_object_"+s.id;break;case 1:c="";break;case 2:c="dy_unit dy_smart_object_"+s.id;break;default:throw{code:0,tag:e,msg:'unsupported object type "'+s.objectType+'" for Smart Tag '+e+" in Smart Object "+s.id}}var u=g(e,s,c,{name:r.id},o.inline,!1,null,null);return{el:u.element,cb:u.callback}}catch(l){return{code:0,tag:e,msg:"error while executing make Smart Tag on tag "+e,ex:l}}},DYO.getPropsForOverlaysAndNotification=function(e,t){return{smartTagId:e,position:t.position,background:t.background,opacity:t.opacity,delay:t.delay,duration:t.duration,closing:t.closing,showDuration:t.showDuration||200,hideDuration:t.hideDuration||200,showAnimation:t.showAnimation||1,hideAnimation:t.hideAnimation||1}},DYO.getRenderedObjectsOnPage=function(){var e=document.dyQuerySelectorAll("[data-dy-var-id]"),t={};for(var n in DYO.oexps)for(var r in DYO.oexps[n].variations){var o=DYO.oexps[n].variations[r].name;isNaN(parseInt(o))||(t[DYO.oexps[n].variations[r].id]=parseInt(o))}for(var i={},a=0;a<e.length;a++){var s=e[a].getAttribute("data-dy-var-id");if(s){var c=t[s];if(c)for(var u in DYO.otags){var l=DYO.otags[u].rules;if(l)for(var d=0;d<l.length;d++)if(l[d].smartObject.variations[c]){i[u]=i[u]||{name:DYO.otags[u].name,so:l[d].smartObject,variations:[]};var p=l[d].smartObject.variations[c];p.varName=c,p.name=decodeURIComponent(p.name),i[u].variations.push(p)}}}}return i},DYO.smartPlacement=function(e,t){try{var n,r,o=!1,i=!1;if(!t.target)throw"Illegal call to smartPlacement, no target is defined";for(r in DYO.otags)if(DYO.otags[r].placements)for(n=0;n<DYO.otags[r].placements.length;n++)if(DYO.otags[r].placements[n]==e){o=parseInt(r);break}if(!o)for(r in DYO.rcom.widgets)if(DYO.rcom.widgets[r].placements)for(n=0;n<DYO.rcom.widgets[r].placements.length;n++)if(DYO.rcom.widgets[r].placements[n]==e){i=parseInt(r);break}if(!o&&!i)throw"Couldn't find object id for placement: "+e;o?DYO.smartObject(o,t):i&&DYO.recommendationWidget(i,t)}catch(a){return{code:0,placement:e,msg:"error while executing placement on placement id: "+e,ex:a}}},DYO.getUserObjectsAndVariations=function(){function e(e){switch(parseInt(e.objectType)){case 0:return"SmartObject - Single";case 1:return"SmartObject - Slider";case 2:return"SmartObject - ItemList";case 3:return"SmartAction - Overlay";case 4:return"SmartAction - Notification";case 5:return"SmartAction - Javascript Action";default:return"SmartObject"}}function t(t){var r=n[t];if(r){var o=DYO.otags[r.tId];if(o){var i=o.name;if(i.indexOf("_dy_collection_inject")>-1||i.indexOf("Smart_Action_For_Placement_")>-1)return}var a=DYO.otags[r.tId].rules[r.rIdx].smartObject;s[r.tId]=s[r.tId]||{tagId:r.tId,variations:[],ruleName:decodeURIComponent(a.name),ruleId:a.id,tagName:DYO.otags[r.tId].name,objectType:e(a)};var c=a.variations[t];s[r.tId].variations.push({id:t,name:decodeURIComponent(c.name)})}}var n={};for(var r in DYO.otags){var o=DYO.otags[r].rules;if(o)for(var i=0;i<o.length;i++)for(var a in o[i].smartObject.variations)n[a]={rIdx:i,tId:r}}var s={},c=DYO.exps;for(var r in DYO.exps)try{c[r].split("|")[2].split(",").forEach(function(e){t(e.split(":")[1])})}catch(p){}var u=[];for(var l in s){var d=s[l];u.push({objectId:parseInt(l),objectName:d.tagName,conditionName:d.ruleName,conditionId:d.ruleId,objectType:d.objectType,variations:d.variations.map(function(e){return e.name}),variationIds:d.variations.map(function(e){return parseInt(e.id)})})}return u},DYO.isInAudience=f,DYO.syncIsInAudience=m;try{-1!==location.href.indexOf("__dy__open_bookmarklet=true")&&ie()&&DY.API("callback",oe)}catch(we){}DY.API("callback",se)}(),function(){function e(){this.widgetsData=[],this.queueBatches=[],this.inflightWidgets=[];var n=e.getBatchDebounceTimeout();this.log("queue debounceTimeout is",n),this.flushRequest=n>0?t(this.flushRequestImpl,n):this.flushRequestImpl}function t(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}function n(t){e.initOnFirstCall();var n=e.queueInstances[e.queueInstances.length-1],r=t&&t.data&&t.data[0]?t.data[0].wId:"";n.metric("getWidgetData",r);var o=DYO.Q.defer();return n.enqueue({wId:r,params:t,deferred:o,widgetDefinition:DYO.rcom.widgets[r]}),n.flushRequest(),o.promise}function r(e){return DY.ServerUtil.ajaxPost("//"+DYO.hosts.rcom+"/v3/recommend/"+DY.scsec,e).then(function(e){try{if(e&&e.responseText){var t=DYJSON.parse(e.responseText);if(t&&t.response&&t.response[0])return t.response[0]}}catch(n){}return{slots:[]}})}e.TIMEOUTS={serverRequestDebounceTimeout:50,maxServerRequestDebounceTimeout:1e3},e.maxBatchSize=10,e.queueInstances=[],e.initOnFirstCall=function(){e.queueInstances.length>0||(e.queueInstances.push(new e),DY.API("sub",{on:"spa_start",callback:e.resetPageView}))},e.prototype.enqueue=function(e){var t=this.getBatchSize(),n=this.queueBatches.length,r=this.queueBatches[this.queueBatches.length-1];0===n||r.length>=t?this.queueBatches.push([e]):r.push(e)},e.prototype.flushRequest=function(){throw new Error("debounce was not configured")},e.prototype.flushRequestImpl=function(){var e=this;this.log("trying to flush request");var t=this.inflightWidgets.length;if(t>0)return this.metric("enqueuedWhenInflight",t),!1;if(0===this.queueBatches.length)return this.log("queue is empty. nothing to flush"),!1;var n=this.takeNextBatch();this.sortBatchInPlace(n);var r=n.map(function(t){return e.assignExclude(t.params,"group_id",e.widgetsData),t.params});return this.inflightWidgets=n,this.metric("sendBatch",n.length),DY.API("callback",function(){e.ajaxCall(r).then(function(t){e.metric("batchResolved",n.length),e.handleAjaxResponse(t)})["catch"](function(t){e.metric("batchRejected",n.length),e.handleAjaxError(t)})}),!0},e.prototype.getBatchSize=function(){return e.maxBatchSize},e.getBatchDebounceTimeout=function(){var t=e.TIMEOUTS.serverRequestDebounceTimeout,n=t,r=DYO.getSectionFeature("RCOM_DEDUP_BATCH_DEBOUNCE_TIMEOUT");return r&&r.enabled&&(n=parseInt(r.value),(isNaN(n)||n<0||n>e.TIMEOUTS.maxServerRequestDebounceTimeout||String(n)!==String(r.value))&&(n=t)),n},e.prototype.takeNextBatch=function(){return this.queueBatches.shift()||[]},e.prototype.sortBatchInPlace=function(e){e.sort(function(e,t){var n=(e.widgetDefinition.name||"").toLowerCase(),r=(t.widgetDefinition.name||"").toLowerCase();return n===r?0:n<r?-1:1})},e.prototype.assignExclude=function(e,t,n){e.data[0].filtering=e.data[0].filtering||[],DYO.CoreUtils.find(function(e){return e.field===t&&"exclude"===e.type},e.data[0].filtering)||e.data[0].filtering.push({type:"exclude",field:t,value:[]});var r=DYO.CoreUtils.find(function(e){return e.field===t&&"exclude"===e.type},e.data[0].filtering),o=this.takeProp(n,t);return Array.isArray(o)||(o=[o]),[].push.apply(r.value,o),this.log("assigned filters",e.data[0].filtering),e},e.prototype.takeProp=function(e,t){var n=e.map(function(e){return e.slots.map(function(e){return e.item[t]})}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return null!=e});return n=DYO.CoreUtils.filter(function(e,t){return n.indexOf(e)===t},n)},e.prototype.transformWidgetsForV2Endpoint=function(e){return e.reduce(function(e,t){var n=e.ctx||t.data.ctx||t.ctx,r=e.uid||t.uid;delete t.data.ctx;var o=t.skusOnly||!1,i=t.data&&t.data[0]?t.data[0]:{};return e.data.push(i),{uid:r,ctx:n,data:e.data,skusOnly:o}},{data:[]})},e.prototype.ajaxCall=function(e){var t=this,n=t.transformWidgetsForV2Endpoint(e);return DY.Ajax.post("//"+DYO.hosts.rcom+"/v3/recommend/"+DY.scsec,DYJSON.stringify(n),{noPreflight:!0,cacheBust:!0}).then(function(e){return t.log("ajax response"),DYJSON.parse(e.responseText).response})},e.prototype.handleAjaxResponse=function(e){var t=this;this.log("request complete. count",e.length),e.forEach(function(e,n){e.errorMessage?(t.inflightWidgets[n].deferred.reject(e.errorMessage),t.metric("widgetDataRejected",e.wId)):(t.widgetsData.push(e),t.inflightWidgets[n].deferred.resolve(e),t.metric("widgetDataResolved",e.wId))}),this.inflightWidgets=[],this.log("current queue",this.queueBatches),this.flushRequestImpl()},e.prototype.handleAjaxError=function(e){var t=this;this.error("rcom-queue request failed",e),this.inflightWidgets.forEach(function(n){n.deferred.reject(e),t.metric("widgetDataRejected",n.wId)}),this.inflightWidgets=[],this.flushRequestImpl()},e.resetPageView=function(){e.queueInstances.push(new e)},e.prototype.error=function(e,t){DY.API("internal_error",{name:t,error:e}),this.log("error",t,e)},e.prototype.log=function(){var e=[].slice.call(arguments);DYO.logBlock.info(function(){return e.map(function(e){try{return"object"==typeof e?JSON.stringify(e):e}catch(t){return String(e)}}).join(" :: ")},"rcom-queue")},e.prototype.metric=function(e,t){if(DYO&&DYO.PerformanceData){this.log("sending metric",e,t);try{DYO.PerformanceData.postData({type:"rcomQueue",subType:e,timestamp:Date.now(),actionId:String(t)})}catch(n){this.error("metrics error",e,t)}}},DYO.recommendationsUtils=DYO.recommendationsUtils||{},DYO.recommendationsUtils.getRcomWidgetData=n,DYO.recommendationsUtils.getRcomWidgetDataClientApi=r}(),function(){function e(e,t){function r(e){return{id:e.id,type:e.type,slots:e.slots,isContextAware:e.isContextAware}}function o(e){var t=(new Date).valueOf();return e.valid_from<=t&&(null===e.valid_to||e.valid_to>=t)}var i=[];e=e||[];for(var a=0;a<e.length;a++){var s=e[a];o(s)&&(null===s.ruleDisjs?i.push(r(s)):DYO.syncIsInAudience({rule:s.ruleDisjs,session:!0})&&i.push(r(s)))}return t&&(i=n(i,t)),i}function t(e){function t(e){return{id:e.id,type:e.type,slots:e.slots,isContextAware:e.isContextAware}}function n(e){var t=(new Date).valueOf();return e.valid_from<=t&&(null===e.valid_to||e.valid_to>=t)}function r(e,t){var n=e?{smartTagId:e}:null;return DYO.isInAudience({rule:t.ruleDisjs,session:!0},n).then(function(e){return(e=DYO.CoreUtils.all(e))?t:null})}e||(e=[]);var o=[u(n),c(function(e){return null===e.ruleDisjs?e:r(null,e)})],i=l(e,o);return DYO.Q.all(i).then(function(e){return l(e,[u(DYO.CoreUtils.isNotNull),c(t)])})}function n(e,t){try{"string"==typeof t&&(t=JSON.parse(t));var n=new Array(e.length||0+t.length||0),r=0;DYO.CoreUtils.forEach(function(e){var t=e.priority;if(t){for(;n[t];)t++;n[t]=e}else n[r++]=e},t);var o=0;if(DYO.CoreUtils.forEach(function(e){for(;n[o];)o++;n[o]=e},e),n.length>e.length+t.length){var i=[];DYO.CoreUtils.forEach(function(e){i.push(e)},n),n=i}return n}catch(a){return e}}function r(e){var t=(DYO.rcom||{}).widgets||{};for(var n in t)if(n==e)return DYO.CoreUtils.clone(t[e]);return!1}function o(e){for(var t=e.slots,n=[],r=1,o=!1,i=0;i<t.length;i++){var a=t[i];n.push(a.item),o||-1!=a.strId&&(r=a.strId,o=!0)}var s=[{items:n,id:r,name:e.name}];return delete e.slots,e.strategies=s,e}function i(e){return e.getAttribute("data-dy-widget-id")}function a(e){return e.querySelectorAll("[data-dy-product-id]")}var s=DYO.CoreUtils.curry,c=s(DYO.CoreUtils.map),u=s(DYO.CoreUtils.filter),l=DYO.CoreUtils.composeOn;DYO.recommendationsUtils=DYO.recommendationsUtils||{},DYO.recommendationsUtils.getSyncMatchedRules=e,DYO.recommendationsUtils.backwardCompRcomResponse=o,DYO.recommendationsUtils.getWidgetElementId=i,DYO.recommendationsUtils.getMatchedRules=t,DYO.recommendationsUtils.findWidgetById=r,DYO.recommendationsUtils.findProductElements=a,DYO.recommendationsUtils.addRealtimeRules=n}(),function(e){function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(){DY.recommendationContext!==e&&(U=DY.recommendationContext,j=D(),R=!0,v(),_())}function r(e){var t=(DYO.rcom||{}).tpls||{};for(var n in t)if(n==e)return t[e];return!1}function o(e,t){var n=document.dyQuerySelector(e.options.target);if(!n)throw{msg:"Could not find target element for widget "+e.id+" target: "+e.options.target};var o=r(t.widgetTplId);if(!o)throw{msg:"Could not find template id "+t.widgetTplId};var i=s(o,t.staticParams,!0);return DYO.DOM.setAttrOnNodes(i,"data-dy-widget-id",t.id),DYO.DOM.setAttrOnNodes(i,"data-dy-feed-id",t.feedId),DYO.DOM.setAttrOnNodes(i,"data-dyCtx",DYJSON.stringify(t.options.context||U||"")),{target:n,widget:i}}function i(e,n){for(var r in n){var o=n[r];if("object"!=typeof o&&"function"!=typeof o){o&&"function"==typeof o.replace&&(o=o.replace(/\$/g,"$$$"));var i=new RegExp("\\$\\{"+t(r)+"\\}","g");e=e.replace(i,o)}}return e}function a(t,n){var r=DYO.DOM.queryNodes(t,"[data-dy-strategy-tpl]"),o=null;if(r&&(o=r.getAttribute("data-dy-strategy-tpl")),null===o||o===e){var a=DYO.DOM.queryNodes(t,"[data-dy-strategy-container]");a||(a=DYO.DOM.queryNodes(t,"[data-dy-recommendation-item-container]")).setAttribute("data-dy-strategy-container",""),o=i((a=a.parentNode).innerHTML,n),DYO.DOM.setInnerHtml(a,o),a.setAttribute("data-dy-strategy-tpl",o)}else{var s=DYO.DOM.queryNodes(t,"[data-dy-strategy-container]");DYO.DOM.appendNodes(s,DYO.DOM.nodesFromMarkup(o))}var c=DYO.DOM.queryNodesAll(t,"[data-dy-strategy-container]"),u=c[c.length-1];return u.setAttribute("data-dy-strategy-id",n.id),u}function s(t,n,r){n!==e&&null!==n||(n={});var o=i(t.html,n),a=DYO.DOM.nodesFromMarkup(o),s=null==t.css?null:i(t.css,n);if(null!==s){var c=DYO.DOM.styleTagWithCss(s);DYO.CoreUtils.forEach(function(e){DYO.DOM.prependNodes(e,[c])},a)}if(!0===r){var u=null==t.js?null:i(t.js,n);null!==u&&DYO.CoreUtils.safeEval(u)}return a}function c(e,t,n,r){for(var o=[],i=e.querySelector("[data-dy-recommendation-item-container]"),a=0;a<t.length;a++){var c=!1;0===r&&0===a&&(c=!0);var u=s(n,t[a],c);DYO.DOM.setAttrOnNodes(u,"data-dy-product-id",t[a].sku,["script","style"]);var l=t[a]._dy_decision;"undefined"!==l&&DYO.DOM.setAttrOnNodes(u,"data-dy-rcom-decision",encodeURIComponent(DYJSON.stringify(l)),["script","style"]),DYO.CoreUtils.forEach(function(e){1===e.nodeType&&-1===["style","script"].indexOf(e.tagName.toLowerCase())&&o.push(e)},u),i&&DYO.DOM.appendNodes(i,u)}return o}function u(e,t,n){var o=r(e.itemTplId);if(!o)throw{msg:"Failed to find item template id:"+e.itemTplId};for(var i=n.strategies,s=[],u=0;u<i.length;u++){var l=c(a(t.widget,i[u]),n.strategies[u].items,o,u);[].push.apply(s,l)}return s}function l(){return DYO.CoreUtils.deepClone(F)}function d(e,t){function n(e,t){DYO.CoreUtils.forEach(function(n){Array.isArray(e[n])&&r[0].filtering.push({type:t,field:n,value:e[n]})},Object.keys(e))}t.options.realtimeRules&&(e=DYO.recommendationsUtils.addRealtimeRules(e,t.options.realtimeRules));var r=[{wId:t.id,fId:t.feedId,maxProducts:t.options.maxProducts||t.numOfItems,rules:e,filtering:[]}],o=t.options.context||U;n(t.options.exclude||{},"exclude"),n(t.options.include||{},"include");var i={data:r,ctx:o};DYO.ActiveConsent.isUserOptOut()||(i.uid=DYO.UserUtils.getDyid());var a=t.skusOnly;return a&&(i.skusOnly=a),t.options.pagination&&(r[0].page=t.options.pagination.page,r[0].page_size=t.options.pagination.pageSize),i}function p(e,t){return t=t||{},DYO.recommendationsUtils.getMatchedRules(e.rules).then(function(t){return d(t,e)}).then(function(t){return DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"rcom",subType:"rcomRequestStart",timestamp:Date.now(),actionId:e?e.id:null}),e.ignoreHooks||DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.BEFORE_RCOM_REQUEST,[e.id,t.data[0].rules,t.ctx]),t}).then(function(e){return DYO.rcomReqTime=DYO.CoreUtils.getTimeFromSetup(),DYO.logBlock.info(function(){return"RcomQueue - bypassQueue:"+t.bypassQueue},"rcom-queue"),t.bypassQueue?DYO.recommendationsUtils.getRcomWidgetDataClientApi(e):DYO.recommendationsUtils.getRcomWidgetData(e)}).then(function(e){F.push(e),DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.TIME_METRICS.RCOM_REQ,timeInMS:DYO.CoreUtils.getTimeFromRcomRequest(),isPerBrowser:!0,isPerSection:!0});var t=DYO.CoreUtils.clone(e);return{newResponse:e,oldResponse:DYO.recommendationsUtils.backwardCompRcomResponse(t)}}).then(function(t){var n=DYO.lifeCycleHooks.prepareRecommendationsResponse(t.newResponse);return e.ignoreHooks||DYO.lifeCycleHooks.runHook(DYO.lifeCycleHooks.HOOKS.AFTER_RCOM_RESPONSE,[n]),DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"rcom",subType:"rcomRequestEnd",timestamp:Date.now(),actionId:e?e.id:null}),t})["catch"](function(e){DY.API("internal_error",{name:"getRecommendationDataForWidget error",error:e})})}function f(t){if(DYO.translations===e)return"";var n=DY.recommendationContext.lng;return n=n?n.split("_")[0]:L,DYO.translations[t]?DYO.translations[t][n]||DYO.translations[t][L]:""}function m(e){if(R){var t=e.id;e.options="object"==typeof e.options?e.options:{};var n=DYO.recommendationsUtils.findWidgetById(t);if(n.id=t,!n)throw{msg:"Could not find widget with id "+t};n.options=e.options;var r={bypassQueue:e.bypassQueue},i=p(n,r)["catch"](function(t){throw DY.API("internal_error",{name:"recommendations error - rcom server returned !== 200",error:t}),e.skipRender&&e.callback(new Error("rcom failure")),"Stop Execution"}).then(function(e){var t=e.oldResponse;if(t.strategies)for(var n=t.strategies,r=0;r<n.length;r++){var o=n[r];if(o.name){var i=o.items;o[V]=f(o.name);for(var a=0;a<i.length;a++)i[a][V]=o[V]}}return e});e.skipRender?i.then(function(n){M[t]=B(E)(n),e.callback(null,n.newResponse)}):i.then(function(t){var r=o(e,n);return r.target.innerHTML="",DYO.DOM.appendNodesWithScripts(r.target,r.widget),{elementsToMonitor:u(n,r,t.oldResponse),recommendationsData:t.newResponse,context:U}}).then(X)["catch"](function(e){DY.API("internal_error",{name:"drawWidget catch",error:e})})}else k.push(e)}function h(e){var t=e.recommendationsData,n=J(t.slots,[H(function(e){return{wId:t.wId,fId:t.fId,expData:t.expData,fallbackData:t.fallback,strId:e&&e.strId,pId:e&&e.item&&e.item.sku,md:e&&e.md||{}}})]),r=J(n,[H(function(e){return e.strId}),q(DYO.CoreUtils.onlyUnique),H(function(e){return Q(function(t){return t.strId===e},n)}),H(function(e){var t=DYO.CoreUtils.deepClone(e);return delete t.pId,t})]);return{elementsToMonitor:e.elementsToMonitor,reportData:n,strReportData:r,context:e.context}}function g(e){var t,n,r,o;return t=e,n=e.context,r=t.reportData,o=J(r,[H(function(e){return Z("PIMP",e)})]),j.add(n,o),function(t){var n=e.context,r=t.strReportData,o=J(r,[H(function(e){return K("WIMP",e)})]);j.add(n,o)}(e),e}function O(e){var t=e.context,n=e.strReportData,r=e.elementsToMonitor,o=J(n,[H(function(e){return[e.strId,K("WRIMP",e)]}),H(function(e){return[e[0],DYO.CoreUtils.runFunc1OnceAfterRunFunc2(e[1],function(e){return e})]}),W(function(e,t){var n=DYO.CoreUtils.deepClone(e);return n[t[0]]=t[1],n},{})]);J(z([e.reportData,r]),[G(function(e){var n=e[0],r=o[n.strId],i=DYO.CoreUtils.runFunc1OnceAfterRunFunc2(Z("PRIMP",n),function(e){return e});DY.AdDetection.monitorInView(e[1],function(){j.add(t,[i,r])});var a=Z("PCLICK",n);e[1].addEventListener("mousedown",function(){j.add(t,[a,r,i])})})])}function D(){function e(e,t){var n=Q(function(t){return t.context===e},r);if(!n){var o=r.push({context:e,reportFuncs:[]});n=r[o-1]}n.reportFuncs=n.reportFuncs.concat(t)}function t(){return H(function(e){var t=e.context,n=e.reportFuncs,r=function(e){return{ctx:e,widgets:{}}}(t);return W(function(e,t){return t(e)},r,n)},r)}function n(){r=[]}var r=[];return{add:e,getReports:t,clean:n}}function y(e,t,n,r){var o=DYO.CoreUtils.deepClone(r),i=e(t,n,o.widgets[n.wId]&&o.widgets[n.wId].events||[]);return o.widgets[n.wId]=function(e,t){return{fId:e.fId,fallbackData:e.fallbackData,expData:e.expData,events:t}}(n,i),o}function v(){for(var t=k.pop();t!==e;){try{m(t)}catch(n){DY.API("internal_error",{name:"recommendations drawing error",error:n})}t=k.pop()}}function Y(){DY.recommendationContext!==e&&n(),DY.PubSub.sub({on:"recommendationContextChanged",callback:function(){n()}}),DY.API("sub",{on:"dy-pageview",callback:function(){F=[]}})}function _(){function e(){if(null!==j){var e=j.getReports();J(e,[q(function(e){return 0!==DYO.CoreUtils.keys(e.widgets).length}),G(function(e){DY.ServerUtil.logRcom(e)})]),j.clean()}}function t(){clearTimeout(n),n=setTimeout(function(){t(),e()},r)}var n,r=5e3;"undefined"!=typeof DY.rcomFlushTimer&&(r=DY.rcomFlushTimer),window.addEventListener("beforeunload",e),t()}function w(e){var t=e;"string"==typeof e&&(t=document.dyQuerySelector(e));var n=t.getAttribute("data-dy-widget-id"),r=t.querySelectorAll("[data-dy-product-id]"),o=[];return DYO.CoreUtils.forEach(function(e){o.push(e.getAttribute("data-dy-product-id"))},r),{widgetId:n,productIds:o,elementsToMonitor:r}}function E(e,t,n){var r=J(e.newResponse.slots,[q(function(e){return Q(function(t){return e.item.sku==t[0]},t)})]),o=J(r,[H(function(e){return Q(function(t){return e.item.sku==t[0]},t)[1]})]),i=DYO.CoreUtils.deepClone(e.newResponse);i.slots=r,X({elementsToMonitor:o,recommendationsData:i,context:n})}function I(e){var t=e;return void 0!==e&&""!==e||(t=U),t}function S(e,t,n,r){try{3!==arguments.length&&"function"==typeof r||(r=function(){});var o=b(t=I(t))||C(n);if(o)return void r(o);var i=w(e);if(o=T(i.widgetId,n.wId)||x(i.productIds,n))return r(o);E({newResponse:DYO.CoreUtils.deepClone(n)},z([i.productIds,i.elementsToMonitor]),t),r()}catch(o){r(o)}}function b(e){return e?e.type?"HOMEPAGE"!==e.type&&"OTHER"!==e.type&&"object"!=typeof e.data&&"RecommendationContext without data":"RecommendationContext without type":"Missing RecommendationContext"}function C(e){if(!e.wId)return"ServerData without wId";if(!e.fId)return"ServerData without fId";if("[object Array]"!==Object.prototype.toString.call(e.slots))return"ServerData with incompatible type slots";for(var t=0;t<e.slots.length;t++){var n=e.slots[t];if("[object Object]"!==Object.prototype.toString.call(n))return"ServerData with incompatible type for slot at position "+t;if("[object Object]"!==Object.prototype.toString.call(n.item))return"ServerData with incompatible type in slots for item at position "+t;if(!n.strId)return"ServerData  with no strId in slots at position "+t;if(!n.item.sku)return"ServerData slot with no sku in slots at position "+t;if(!n.md)return"ServerData with no md in slots at position "+t}return!1}function T(e,t){return e!=t&&"ServerData and widget Id are not correlated"}function x(e,t){var n,r={};for(n=0;n<t.slots.length;n++){r[t.slots[n].item.sku]=!0}for(n=0;n<e.length;n++)if(!r[e[n]])return"Product "+e[n]+" on DOM and not in serverData";return!1}function A(e){var t=(DYO.rcom||{}).widgets||{};for(var n in t)if(t.hasOwnProperty(n)&&t[n].name===e)return t[n].id=n,t[n];return!1}function P(e,t){var n=b(t=I(t));if(n)throw n;var r=w(e),o=z([r.productIds,r.elementsToMonitor]);M[r.widgetId](o,t)}function N(e,t,n,r){n||(n=function(){});var o=DYJSON.stringify({id:e,opts:t}),i=$[o];if(i)n(null,i);else{var a=(t=t||{}).context||U,s=t.skusOnly||!1,c=DYO.recommendationsUtils.findWidgetById(e);if(c)c.id=e;else if(!(c=A(e)))throw{msg:"Could not find widget with id "+e};if(!a)throw{msg:"Context not defined"};c.skusOnly=s,c.options={context:a,maxProducts:t.maxProducts};var u=t.realtimeRules;u&&Array.isArray(u)&&(c.options.realtimeRules=u),p(c,r).then(function(t){return M[e]=B(E)(t),t}).then(function(e){var t=e?e.oldResponse:e;$[o]=t,n(null,t)})["catch"](function(e){n(e)})}}var U=null,k=[],R=!1,M={},j=null,V="_dyStrategyTitle_",L="Default",F=[],B=DYO.CoreUtils.curry,H=B(DYO.CoreUtils.map),G=B(DYO.CoreUtils.forEach),q=B(DYO.CoreUtils.filter),W=B(DYO.CoreUtils.reduce),Q=B(DYO.CoreUtils.find),z=B(DYO.CoreUtils.zip),J=DYO.CoreUtils.composeOn,X=DYO.CoreUtils.compose(O,g,h),Z=B(y)(function(e,t,n){var r=Q(function(n){return n.type===e&&n.strId===t.strId},n),o=(r&&r.pId||[]).concat(t.pId),i={type:e,pId:o,strId:t.strId,md:t.md};return q(function(n){return!(n.type===e&&n.strId===t.strId)},n).concat(i)}),K=B(y)(function(e,t,n){return n.concat({type:e,strId:t.strId})});DY.API("callback",Y),DYO.recommendationWidget=function(e,t){try{m({id:e,options:t})}catch(n){
DY.API("internal_error",{name:"recommendations drawing error",error:n})}},DYO.recommendationWidgetData=function(e,t,n){if("function"!=typeof n)return!1;try{m({id:e,options:t,callback:n,skipRender:!0,bypassQueue:!0})}catch(r){DY.API("internal_error",{name:"recommendations drawing error",error:r})}return!0};var $={};DYO.recommendations={draw:m,getRcomData:N,registerElements:P,registerElementsAndServerData:S,getRecommendationDataForWidget:p,getTranslatedStrategyName:f,getLoadedWidgets:l}}(),function(){function e(){O=!0,DYO.CoreUtils.forEach(function(e){DYO.renderRcomSOVariation(e.tagId,e.rcomVariation,e.elementId,e.impReport,e.searchAndReplace,e.contextOverride)},D)}function t(e,t){return DYO.CoreUtils.filter(function(e){return!1!==e},DYO.CoreUtils.map(function(e){var n=DYO.recommendationsUtils.findWidgetById(e.widgetId);return o(n,e,t),n},n(e)))}function n(e){var t=r(e).rcom;return t?DYO.CoreUtils.map(function(e){return{widgetId:t[e].value,numOfItems:parseInt(t[e].numOfItems)}},Object.keys(t)):[]}function r(e){try{return DYJSON.parse(decodeURIComponent(e.params))}catch(t){return DYO.logBlock.error(function(){return"error parsing rcom variation params - "+t},"exception"),{}}}function o(e,t,n){!1!==e&&(e.id=t.widgetId,e.numOfItems=t.numOfItems,e.options={},e.options.context=n)}function i(e,t){var n=[];return DYO.CoreUtils.forEach(function(e){var r={};r.context=t,r.wId=e.wId,r.fId=e.fId,r.fallback=e.fallback,r.slots=[],DYO.CoreUtils.forEach(function(e,t){r.slots[t]={pId:e.item.sku,strId:e.strId,md:e.md||{}}},e.slots),n.push(r)},e),n}function a(e,t,n,o){var i="dy-rcom-slot-info",a=u(r(e).rcom,t,i,n),l=c(decodeURIComponent(e.htmlCode),s(a,o("html"))),d=c(decodeURIComponent(e.cssCode),s(a,o("css"))),p=c(decodeURIComponent(e.jsCode),s(a,o("js"))),f=DYO.DOM.nodesFromMarkup(l),m=null;return null!==d&&(m=DYO.DOM.styleTagWithCss(d)),{elementHtmlNodes:f,elementStyle:m,cssCode:d,jsCode:p,_dyAttr:i}}function s(e,t){var n=DYO.CoreUtils.clone(e);return DYO.CoreUtils.forEach(function(e){n[e]=t[e].value},Object.keys(t)),n}function c(e,t){return DYO.Mustache.render(e,t)}function u(e,t,n,r){var o={};return o._dyAttr=n,o[y]=DYO.recommendations.getTranslatedStrategyName(t[0].name),DYO.CoreUtils.map(function(i){o[i]=[],l(o[i],t,e[i],n,r)},Object.keys(e)),o}function l(e,t,n,r,o){var i=p(t,n.value);i&&DYO.CoreUtils.forEach(function(t,a){var s={};DYO.CoreUtils.forEach(function(e){e!==r&&"undefined"!=typeof t.item[n.nested[e]]&&(s[e]=t.item[n.nested[e]])},Object.keys(n.nested)),s[r]=d(i,o,a),e.push(s)},i.slots)}function d(e,t,n){try{return encodeURIComponent(DYJSON.stringify({context:t,fId:e.fId,wId:e.wId,fallback:e.fallback,slot:n,pId:e.slots[n].item.sku,strId:e.slots[n].strId}))}catch(r){DYO.logBlock.error(function(){return"problem getting info from rcomDataResult - "+r},"exception")}}function p(e,t){return DYO.CoreUtils.find(function(e){return e.wId===t},e)}function f(e,t,n,r){for(var o=0;o<n.length;o++){var i=n[o],a=e._dyAttr,s=e.elementHtmlNodes.map(function(e){return e.cloneNode(!0)}),c=DYO.DOM.styleTagWithCss(e.cssCode);i.appendChild(c),DYO.DOM.appendNodesWithScripts(i,s),0===o&&h(m(i,a),a),DYO.logBlock.info(function(){return"tag "+DYO.otags[t].name+" added rcom in element "+r},"tag-"+t)}var u=DYO.optionalDebuggerFor(t);DYO.CoreUtils.safeEval(u+"(function(){"+e.jsCode+"\n})();")}function m(e,t){function n(e){for(var o=e.childNodes[0];o;)o.nodeType===g&&o.textContent.indexOf(t)>-1&&r.push(o),o.childNodes.length>0&&n(o),o=o.nextSibling}var r=[];return n(e),r}function h(e,t){for(var n=0;n<e.length;n++){for(var r=e[n].textContent.replace(t+":",""),o=e[n].nextSibling;o&&(o.nodeType!==g||o.textContent.indexOf(t)<0);)o.setAttribute&&o.setAttribute(t,r),o=o.nextSibling;e[n].parentNode.removeChild(e[n])}}var g=8,O=!1,D=[],y="_dyStrategyTitle_";DYO.renderRcomSOVariation=function(e,n,r,o,s,c){if(O){var u=c||DY.recommendationContext,l=t(n,u).map(function(e){return DYO.recommendations.getRecommendationDataForWidget(e)});DYO.Q.allSettled(l).then(function(e){return e.map(function(e){return"fulfilled"===e.state?e.value.newResponse:(DY.API("internal_error",{name:"recommendations error - rcom server returned !== 200",error:e.err}),"rcomDataErr")}).filter(function(e){return"rcomDataErr"!==e})}).then(function(t){0===t.length&&(t=[{name:"",slots:[]}]),o.rcomInfo=i(t,u),DY.API("report",o),DYO.logBlock.info(function(){return"render rcom variation "+n.name},"rcom-"+e);var c=document.dyQuerySelectorAll(r);DYO.ATF.waitFor(c,function(){f(a(n,t,u,s),e,c,r)})})}else D.push({tagId:e,rcomVariation:n,elementId:r,impReport:o,searchAndReplace:s,contextOverride:c})},DY.API("callback",e)}(),"object"!=typeof DYJSON&&(DYJSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toDYJSON&&(c=c.toDYJSON(e)),c instanceof Date&&(c=isFinite(c.valueOf())?c.getUTCFullYear()+"-"+f(c.getUTCMonth()+1)+"-"+f(c.getUTCDate())+"T"+f(c.getUTCHours())+":"+f(c.getUTCMinutes())+":"+f(c.getUTCSeconds())+"Z":null),(c instanceof String||c instanceof Number||c instanceof Boolean)&&(c=c.valueOf()),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&a.push(quote(r)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof DYJSON.stringify&&(DYJSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"undefined"!=typeof JSON&&"function"==typeof JSON.parse&&(DYJSON.parse=JSON.parse),"function"!=typeof DYJSON.parse&&(DYJSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&((r=walk(o,n))!==undefined?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),DYO.csc=function(){function e(){try{var e=DYO.StorageUtilsInternal.getItem("_dy_csc");return DYJSON.parse(e)||{}}catch(t){return{}}}function t(e){return DYO.StorageUtilsInternal.setItem("_dy_csc",DYJSON.stringify(e))}function n(t){return e()[t.toLowerCase()]}function r(n,r){var o=e();return o[n.toLowerCase()]=r,t(o),!0}function o(e){r(e,{ts:(new Date).valueOf(),ses:p,pv:f})}function i(e){return void 0===n(e)&&o(e)}function a(e,t){return e-t}function s(e){var t=n(e);return t?{timeSince:a(Date.now(),t.ts),sessionsSince:a(p,t.ses),pageviewsSince:a(f,t.pv)}:null}function c(){f=n("_pv")||0,r("_pv",++f)}function u(){if(p=n("_ses")||0,DYO.SessionUtils.isHybridSession()){var e=DYO.StorageUtilsInternal.getItem("_dy_csc_ses"),t=DYO.SessionUtils.getHybridSession().value;t!==e&&"t"!==e&&(r("_ses",++p),DYO.SessionUtils.calcAndSetFirstPageInSession()),DYO.StorageUtilsInternal.setItem("_dy_csc_ses",t)}else{"t"!==DYO.StorageUtilsInternal.getItem("_dy_csc_ses")&&r("_ses",++p),DYO.StorageUtilsInternal.setItem("_dy_csc_ses","t")}}function l(){c(),u(),i("firstPV"),DY.API("sub",{on:"dy-event",callback:function(e,t){DYO.csc.markEvent("lastEvent_"+t)}})}var d={},p=0,f=0;return d.init=l,d.computePageviewIndex=c,d.computeSessionIndex=u,d.createEvent=i,d.readEvent=s,d.markEvent=o,d}(),function(){function e(){var e=!1,t={};return function(){if(!e){var n=Object.keys(DYO.otags).filter(function(e){return!!DYO.otags[e].dynamicVariables&&DYO.otags[e].dynamicVariables.length});DYO.CoreUtils.forEach(function(e){DYO.CoreUtils.forEach(function(n){t[n]=e},DYO.otags[e].dynamicVariables||[])},n)}return t}}function t(e,t){try{var n;n=t?t.params.html[e].value:DYO.dynamicVariablesV0[e]?DYO.dynamicVariablesV0[e]:null}catch(r){n=null}if("string"==typeof n)try{n=unescape(n),n=decodeURIComponent(n)}catch(o){}return n}DYO.getDynamicVariableValue=function(n,r){if(void 0!==r)try{var o=DYJSON.parse(r);if("undefined"!=typeof o[n])return o[n]}catch(a){return null}var i=e()();return t(n,DYO.smartObject(i[n],{returnVar:!0}).soProps)}}(),function(){try{for(var e=[{key:"_dy_subscribe_decisions",name:"dy-decision-made"},{key:"_dy_subscribe_overlays",name:"dy-overlay-render"},{key:"_dy_subscribe_notifications",name:"dy-notification-render"},{key:"_dy_subscribe_js_actions",name:"dy-js-render"},{key:"_dy_subscribe_single_so",name:"dy-single-render"},{key:"_dy_subscribe_multiple_so",name:"dy-multiple-render"},{key:"_dy_subscribe_slider_so",name:"dy-slider-render"},{key:"_dy_subscribe_after_render",name:"dy-after-render"}],t=0;t<e.length;t++){var n=e[t];DYO.StorageUtilsInternal.getItem(n.key)&&DY.API("sub",{on:n.name,callback:function(e,t,n){console.log("name: "+t),console.log(n)}})}}catch(r){}}(),DYO.loadSTHook=DYO.CoreUtils.runFuncOnce(function(){DYO.stHookTime=DYO.CoreUtils.getTimeFromSetup(),"number"==typeof DYO.stRequestTime&&DY.API("report_metric",{type:DYO.Enums.ENUMS.REPORT_API.TYPES.TIME_METRICS.ST_TIME,timeInMS:(new Date).getTime()-DYO.stRequestTime,isPerBrowser:!0,isPerSection:!0}),"dy_all_static"===DY.scriptType&&(DYO.logBlock.info(function(){return"loading collection - unified script"},"flow"),DY.loadCollection()),DYO&&DYO.PerformanceData&&DYO.PerformanceData.postData({type:"st",timestamp:Date.now()}),DYO.logBlock.info(function(){return"st finished loading : time from setup : "+DYO.stHookTime},"flow"),(!DYO.sectionFeatures.EVAL_TAGS_AFTER_AUDIENCE||DYO.sectionFeatures.EVAL_TAGS_AFTER_AUDIENCE&&!DYO.sectionFeatures.EVAL_TAGS_AFTER_AUDIENCE.enabled)&&DYO.SmartsPreWork.notifyAllSmartTags(),DYO.Consent._stLoaded(),DYO.debuggerUtils.saveHiddenAudParams()}),
/*! loglevel - v1.4.1 - https://github.com/pimterry/loglevel - (c) 2016 Tim Perry - licensed MIT */
function(e,t){"use strict";DYO.log=t()}(0,function(){"use strict";function e(e){return typeof console!==s&&(console[e]!==undefined?t(console,e):console.log!==undefined?t(console,"log"):a)}function t(e,t){var n=e[t];if("function"==typeof n.apply)return function(){var r={};if("object"==typeof arguments[0])(r=arguments[0]).message=arguments[1];else{var o=new Date;r={level:t,context:"none",time:o.toLocaleTimeString("en-US",{hour12:!1})+"."+o.getMilliseconds(),message:arguments[0]}}this.logQueue.push(r),n.apply(e,arguments)};try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t,n){return function(){typeof console!==s&&(r.call(this,t,n),this[e].apply(this,arguments))}}function r(e,t){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<e?a:this.methodFactory(r,e,t)}}function o(t){return e(t)||n.apply(this,arguments)}function i(e,t,n){function i(e){var t=(c[e]||"silent").toUpperCase();try{DYO.StorageUtilsInternal.setItem(d,t)}catch(n){}}function a(){var e;try{e=localStorage.getItem(d)}catch(t){}return l.levels[e]===undefined&&(e=undefined),e}var u,l=this,d="_dy_loglevel";e&&(d+=":"+e),l.logQueue=function(){function e(){return i}function t(e){e<i&&(o=o.slice(-e)),i=e}function n(e){o.length==i&&o.shift(),o.push(e)}function r(){console.log(o)}var o=[],i=100;return{push:n,setSize:t,getSize:e,flush:r}}(),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||o,l.getLevel=function(){return u},l.setLevel=function(t,n){if("string"==typeof t&&l.levels[t.toUpperCase()]!==undefined&&(t=l.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(u=t,!1!==n&&i(t),r.call(l,t,e),typeof console===s&&t<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){a()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var p=a();null==p&&(p=null==t?"SILENT":t),l.setLevel(p,!1)}var a=function(){},s="undefined",c=["trace","debug","info","warn","error"],u=new i,l={};u.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new i(e,u.getLevel(),u.methodFactory)),t};var d=typeof window!==s?window.log:undefined;return u.noConflict=function(){return typeof window!==s&&window.log===u&&(window.log=d),u},u}),function(){var e=["trace","debug","info","warn","error"],t={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};DYO.log.critical=function(e,t){DY.API("internal_error",{name:e,error:t}),DYO.logBlock.error(function(){return"internal_error "+e+" exception thrown - "+t},"exception")},DYO.logBlock=[];for(var n=0;n<e.length;n++){var r=e[n];DYO.logBlock[r]=function(e){return function(n,r){if(t[e.toUpperCase()]>=DYO.log.getLevel()){var o=new Date,i={level:e,context:r,time:o.toLocaleTimeString("en-US",{hour12:!1})+"."+o.getMilliseconds()};DYO.log[e](i,n())}}}(r)}}(),DYO.dyhash=function(){function e(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function t(e,t){var n,r,o,i,a,s,c,u;for("string"!=typeof e&&(e=e.toString()),void 0===t&&(t=0),n=3&e.length,r=e.length-n,o=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}return{murmurhash3_32_gc:t,sha256:function(){function e(e){return n(t(r(e)))}function t(e){return i(m(o(e),8*e.length))}function n(e){for(var t,n=g?"0123456789ABCDEF":"0123456789abcdef",r="",o=0;o<e.length;o++)t=e.charCodeAt(o),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function r(e){for(var t,n,r="",o=-1;++o<e.length;)t=e.charCodeAt(o),n=o+1<e.length?e.charCodeAt(o+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),o++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function o(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function i(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function a(e,t){return e>>>t|e<<32-t}function s(e,t){return e>>>t}function c(e,t,n){return e&t^~e&n}function u(e,t,n){return e&t^e&n^t&n}function l(e){return a(e,2)^a(e,13)^a(e,22)}function d(e){return a(e,6)^a(e,11)^a(e,25)}function p(e){return a(e,7)^a(e,18)^s(e,3)}function f(e){return a(e,17)^a(e,19)^s(e,10)}function m(e,t){var n,r,o,i,a,s,m,g,D,y,v,Y,_=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),w=new Array(64);for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,D=0;D<e.length;D+=16){for(n=_[0],r=_[1],o=_[2],i=_[3],a=_[4],s=_[5],m=_[6],g=_[7],y=0;y<64;y++)w[y]=y<16?e[y+D]:h(h(h(f(w[y-2]),w[y-7]),p(w[y-15])),w[y-16]),v=h(h(h(h(g,d(a)),c(a,s,m)),O[y]),w[y]),Y=h(l(n),u(n,r,o)),g=m,m=s,s=a,a=h(i,v),i=o,o=r,r=n,n=h(v,Y);_[0]=h(n,_[0]),_[1]=h(r,_[1]),_[2]=h(o,_[2]),_[3]=h(i,_[3]),_[4]=h(a,_[4]),_[5]=h(s,_[5]),_[6]=h(m,_[6]),_[7]=h(g,_[7])}return _}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var g=0,O=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);return{hex:e}}().hex,hashCode:e}}(),
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
function(e,t){e.Mustache={},t(e.Mustache)}(DYO,function(e){function t(e){return"function"==typeof e}function n(e){return h(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}function i(e,t){return g.call(e,t)}function a(e){return!i(O,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return D[e]})}function c(t,n){function o(){if(O&&!D)for(;g.length;)delete m[g.pop()];else g=[];O=!1,D=!1}function i(e){if("string"==typeof e&&(e=e.split(v,2)),!h(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),c=new RegExp("\\s*"+r(e[1])),p=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var s,c,p,f=[],m=[],g=[],O=!1,D=!1;i(n||e.tags);for(var E,I,S,b,C,T,x=new d(t);!x.eos();){if(E=x.pos,S=x.scanUntil(s))for(var A=0,P=S.length;A<P;++A)a(b=S.charAt(A))?g.push(m.length):D=!0,m.push(["text",b,E,E+1]),E+=1,"\n"===b&&o();if(!x.scan(s))break;if(O=!0,I=x.scan(w)||"name",x.scan(y),"="===I?(S=x.scanUntil(Y),x.scan(Y),x.scanUntil(c)):"{"===I?(S=x.scanUntil(p),x.scan(_),x.scanUntil(c),I="&"):S=x.scanUntil(c),!x.scan(c))throw new Error("Unclosed tag at "+x.pos);if(C=[I,S,E,x.pos],m.push(C),"#"===I||"^"===I)f.push(C);else if("/"===I){if(!(T=f.pop()))throw new Error('Unopened section "'+S+'" at '+E);if(T[1]!==S)throw new Error('Unclosed section "'+T[1]+'" at '+E)}else"name"===I||"{"===I||"&"===I?D=!0:"="===I&&i(S)}if(T=f.pop())throw new Error('Unclosed section "'+T[1]+'" at '+x.pos);return l(u(m))}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function l(e){for(var t,n=[],r=n,o=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}function d(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var m=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===m.call(e)},g=RegExp.prototype.test,O=/\S/,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,v=/\s+/,Y=/\s*=/,_=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var i,a,s=this,c=!1;s;){if(e.indexOf(".")>0)for(n=s.view,i=e.split("."),a=0;null!=n&&a<i.length;)a===i.length-1&&(c=o(n,i[a])),n=n[i[a++]];else n=s.view[e],c=o(s.view,e);if(c)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=c(e,t)),r},f.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof p?t:new p(t);return this.renderTokens(r,o,n,e)},f.prototype.renderTokens=function(e,t,n,r){for(var o,i,a,s="",c=0,u=e.length;c<u;++c)a=undefined,"#"===(i=(o=e[c])[0])?a=this.renderSection(o,t,n,r):"^"===i?a=this.renderInverted(o,t,n,r):">"===i?a=this.renderPartial(o,t,n,r):"&"===i?a=this.unescapedValue(o,t):"name"===i?a=this.escapedValue(o,t):"text"===i&&(a=this.rawValue(o)),a!==undefined&&(s+=a);return s},f.prototype.renderSection=function(e,n,r,o){function i(e){return a.render(e,n,r)}var a=this,s="",c=n.lookup(e[1]);if(c){if(h(c))for(var u=0,l=c.length;u<l;++u)s+=this.renderTokens(e[4],n.push(c[u]),r,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],n.push(c),r,o);else if(t(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(n.view,o.slice(e[3],e[5]),i))&&(s+=c)}else s+=this.renderTokens(e[4],n,r,o);return s}},f.prototype.renderInverted=function(e,t,n,r){var o=t.lookup(e[1]);if(!o||h(o)&&0===o.length)return this.renderTokens(e[4],t,n,r)},f.prototype.renderPartial=function(e,n,r){if(r){var o=t(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),n,r,o):void 0}},f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},f.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},f.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var E=new f;return e.clearCache=function(){return E.clearCache()},e.parse=function(e,t){return E.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(e,t,r)},e.to_html=function(n,r,o,i){var a=e.render(n,r,o);if(!t(i))return a;i(a)},e.escape=s,e.Scanner=d,e.Context=p,e.Writer=f,e.tags=["${","}"],e.escape=function(e){return e},f.prototype.renderSection=function(n,r,o,i){function a(e){return c.render(e,r,o)}function s(t,n,r,o){var i=n.substr(r,o-r),a="<!--"+d+":${"+d+"}-->";return e.tags[0]+"#"+t+e.tags[1]+a+i+e.tags[0]+"/"+t+e.tags[1]}var c=this,u="",l=r.lookup(n[1]),d=r.lookup("_dyAttr")||"dy-unique-attr";if(l){if(h(l))for(var p=s(n[1],i,n[3],n[5]),f=this.parse(p)[0],m=0,g=l.length;m<g;++m){u+=this.renderTokens(f[4],r.push(l[m]),o,p)}else if("object"==typeof l||"string"==typeof l||"number"==typeof l)u+=this.renderTokens(n[4],r.push(l),o,i);else if(t(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,i.slice(n[3],n[5]),a))&&(u+=l)}else u+=this.renderTokens(n[4],r,o,i);return u}},e}),DYO.staticAllocation=function(){function e(){return DYO&&DYO.sectionFeatures&&DYO.sectionFeatures.DETERMENISTIC_STICKINESS&&DYO.sectionFeatures.DETERMENISTIC_STICKINESS.enabled}function t(t,n,r){if(e()&&-1===r.indexOf("stScript")&&!DYO.otags[n].internal){var o=DYO.StorageUtilsInternal.getItem("_dyid"),i=DYO.otags[n].containsSessionStickiness,a=DYO.otags[n].containsVersionStickiness;return!o&&(i||a)}return!1}function n(e,t,n,r){var o=r?e+r+n+t:e+t,i="static control group string",a=r?e+r+n+t+i:e+t+i;return{stickinessFactorVars:o=DYO.dyhash.murmurhash3_32_gc(o)/Math.pow(2,32),stickinessFactorCGTG:a=DYO.dyhash.murmurhash3_32_gc(a)/Math.pow(2,32)}}return{shouldStaticAllocate:e,shouldWaitForStForStaticAllocation:t,getStaticAllocationDist:n}}(),DYO.Findify=function(){function e(){return DYO.CoreUtils.waitForVariable("FindifyAnalytics",20).then(function(){return window.FindifyAnalytics({key:n().apiKey})})}function t(){return O?DYO.Q.fcall(function(){return O}):e()}function n(){return DYO.getSectionConfigJSON("FINDIFY")||{}}function r(){var e=n();return!!e&&!(!(o(e)||e.enabled)||!i(e))}function o(e){return e.enabledInCookie&&"true"===DYO.StorageUtilsInternal.getItem("_dy_findify_enabled")}function i(e){return e.scriptUrl&&e.apiKey}function a(e){return t().then(function(t){t.sendEvent(e.event,e.properties)})["catch"](function(e){DYO.log.error("FindifyAnalytics promise error",e)})}function s(e,t){return p(e,t)}function c(e){return DYO.CoreUtils.map(function(e){return{item_id:e.productId,unit_price:e.itemPrice,quantity:e.quantity}},e)}function u(e){return{event:"purchase",properties:{order_id:g(e),currency:e.currency||"USD",revenue:e.value,line_items:c(e.cart)}}}function l(e){return{event:"update-cart",properties:{line_items:c(e.cart)}}}function d(e){var t={event:"view-page",properties:{url:e.url,width:window.innerWidth,height:window.innerHeight}};document.referrer&&(t.properties.ref=document.referrer);try{var n=DYJSON.parse(e.ctx);"PRODUCT"===n.type&&(t.properties.item_id=n.data[0])}catch(r){}return t}function p(e,t){try{if("UIA"===e)return d(t);switch(t.dyType){case"purchase-v1":return u(t);case"add-to-cart-v1":case"sync-cart-v1":case"remove-from-cart-v1":return l(t)}}catch(n){DY.logger.warn("failed transforming event with props name:",e,"props:",t,"error:",n)}return null}function f(e,t){return DYO.CoreUtils.waitForVariable("findifyCreateFeature",20,function(){window.findifyCreateFeature(e,{type:t})})}function m(e){return f(e,"autocomplete")}function h(e){return f(e,"search")}function g(e){return e.uniqueTransactionId||Math.random().toString()}var O=null;return{isFindifyEnabled:r,dyEventToFindify:s,reportFindifyEvent:a,renderAutoComplete:m,renderSearch:h}}(),DYO.otagsUtils=function(){function e(e){return e.sort(function(e,t){var n=DYO.otags[e].priority,r=DYO.otags[e].isMultiTouch,o=DYO.otags[e].isTouchPoint,i=parseInt(e),a=DYO.otags[t].priority,s=DYO.otags[t].isMultiTouch,c=DYO.otags[t].isTouchPoint,u=parseInt(t);return r&&!s?-1:!r&&s?1:o&&!c?-1:!o&&c?1:n===a||!n&&!a?i>u?1:-1:n&&!a?-1:!n&&a?1:n<a?-1:n>a?1:0})}function t(){var t=Object.keys(DYO.otags);try{return e(t)}catch(n){return DYO.log.error(n),t}}function n(e){for(var t=0,n=0;n<e.length&&DYO.otags[e[n]].isMultiTouch;n++)t++;return t}function r(e){return DYO.CoreUtils.filter(function(e){return"action"===DYO.otags[e].subType},e)}function o(e){return DYO.CoreUtils.filter(function(e){return"tag"===DYO.otags[e].subType},e)}function i(e){return DYO.CoreUtils.filter(function(e){return DYO.otags[e].embedOptions&&DYO.otags[e].embedOptions.enabled},e)}function a(e){return DYO.CoreUtils.filter(function(e){return DYO.otags[e].isSPACompat},e)}function s(e){return DYO.CoreUtils.filter(function(e){return!DYO.otags[e].isTouchPoint},e)}function c(e){if(e)for(var t=0;t<e.length;t++)g[e[t]]=!1,DYO.otagsUtils.touchPointsLeft.push(e[t]);DYO.otagsUtils.campaignsLeft--,l()}function u(e,t){if(DYO.otags[e]&&DYO.otags[e].isTouchPoint){var n=DYO.otagsUtils.touchPointsLeft.indexOf(e);n>-1&&DYO.otagsUtils.touchPointsLeft.splice(n,1),g[e]=t,l()}}function l(){d()&&DYO.pubSub.pub("dy-dep-cond-campaigns-finished")}function d(e){return e?!DYO.otagsUtils.isRelevantTouchPointLeft(e)&&DYO.otagsUtils.campaignsLeft<=0:0===DYO.otagsUtils.touchPointsLeft.length&&DYO.otagsUtils.campaignsLeft<=0}function p(e){return g[e]}function f(e){e=e||DYO.otagsUtils.priorityOtagsList,g={},DYO.otagsUtils.campaignsLeft=n(e),DYO.otagsUtils.touchPointsLeft=[],DYO.otagsUtils.firstOverlay={value:!0}}function m(){f(DYO.CoreUtils.filter(function(e){return DYO.otagsUtils.smartActionsSPAList.indexOf(e)>-1||DYO.otagsUtils.dynamicContentSPAList.indexOf(e)>-1},DYO.otagsUtils.priorityOtagsList))}function h(e){if(e&&DYO.otagsUtils.touchPointsLeft)for(var t=0;t<DYO.otagsUtils.touchPointsLeft.length;t++){var n=DYO.otagsUtils.touchPointsLeft[t];if(e&&DYO.otags[e]&&DYO.otags[e].campaignDeps&&-1!==DYO.otags[e].campaignDeps.indexOf(n))return!0}return!1}var g={};DYO.otagsUtils.priorityOtagsList=t(),DYO.otagsUtils.smartActionsList=r(DYO.otagsUtils.priorityOtagsList),DYO.otagsUtils.smartActionsSPAList=a(DYO.otagsUtils.smartActionsList),DYO.otagsUtils.dynamicContentList=o(DYO.otagsUtils.priorityOtagsList),DYO.otagsUtils.dynamicContentEmbedList=i(DYO.otagsUtils.dynamicContentList),DYO.otagsUtils.dynamicContentSPAList=a(DYO.otagsUtils.dynamicContentEmbedList),DYO.otagsUtils.executedActionObjects={},f(),DYO.otagsUtils.initCampaignsUtils=f,DYO.otagsUtils.initCampaignsUtilsSPA=m,DYO.otagsUtils.getSmartActionsList=r,DYO.otagsUtils.getDynamicContentEmbedList=i,DYO.otagsUtils.getDynamicContentList=o,DYO.otagsUtils.filterOutTouchPoints=s,DYO.otagsUtils.markCampaign=c,DYO.otagsUtils.doneWithCampaigns=d,DYO.otagsUtils.markTouchPoint=u,DYO.otagsUtils.isTouchPointExecuted=p,DYO.otagsUtils.isRelevantTouchPointLeft=h},DYO.spaSupport=function(){try{window.DY.API("sub",{on:"dy-pageview",callback:function(){DYO.otagsUtils.executedActionObjects={},DYO.otagsUtils.initCampaignsUtilsSPA(),"undefined"==typeof window.DY.ssae&&DYO.executeSmartActions(DYO.otagsUtils.filterOutTouchPoints(DYO.otagsUtils.smartActionsSPAList)),"undefined"==typeof window.DY.skipAutoEmbed&&DYO.autoEmbedSmarts(DYO.otagsUtils.filterOutTouchPoints(DYO.otagsUtils.dynamicContentSPAList))}}),window.DY.API("sub",{on:"recommendationContextChanged",callback:function(){DY.spaReady=!1,DYO.SessionUtils.setHybridSession(),DYO.Seqs.loadSequences(),DYO.csc.computeSessionIndex();var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","true");var n="//"+DYO.hosts.st+"/spa?sec="+DY.section+"&id="+DY.dyid+"&ref="+encodeURIComponent(document.referrer);DYO.SessionUtils.isHybridSession()?n+="&jsession="+DYO.SessionUtils.getHybridSession().value+"&isSesNew="+DYO.SessionUtils.getHybridSession().isNew:n+="&jsession="+DYO.StorageUtilsInternal.getItem("_dyjsession");var r=encodeURIComponent(DYJSON.stringify(DY.recommendationContext||null));"null"!==r&&(n+="&ctx="+r),n=DYO.ActiveConsent.addStatusToQueryParams(n),DYO.SessionUtils.firstPageInLUSession(),t.setAttribute("src",n),e.appendChild(t)}})}catch(e){DYO.log.warn("error with spaSupport error: "+e)}},DYO.Consent=function(){function e(e){return e===y.DEFAULT_GIVEN||e===y.EXPLICIT_GIVEN||e===y.INTEGRATION_GIVEN}function t(e){return e===y.DEFAULT_REVOKED||e===y.EXPLICIT_REVOKED||e===y.INTEGRATION_REVOKED}function n(e){return e===y.INTEGRATION_GIVEN||e===y.INTEGRATION_REVOKED}function r(e){return e===y.EXPLICIT_GIVEN||e===y.EXPLICIT_REVOKED}function o(){v||(v=!0,Y=DYO.StorageUtilsInternal.getItem("_dycnst")||y.PENDING,O?n(Y)||(Y=y.PENDING):r(Y)||(Y=y.PENDING),l(),w&&i())}function i(){w=!0,v&&(O||Y!==y.PENDING||s())}function a(){DYO.StorageUtilsInternal.removeItem("_dycnst"),Y=y.PENDING,l(),O||s()}function s(){DY.consentBlacklisted?u(y.EXPLICIT_REVOKED):DYO.consentDefault?u(y.DEFAULT_GIVEN):u(y.DEFAULT_REVOKED)}function c(t){(Y!==y.EXPLICIT_GIVEN||t===y.EXPLICIT_REVOKED||O)&&DY.ServerUtil.reportConsentChangeToBlacklist(e(Y))}function u(e){var t=Y;O&&!n(e)||(Y=e,DYO.StorageUtilsInternal.setItem("_dycnst",Y),l()),r(e)&&c(t)}function l(){if(e(Y)?DYO.Consent.available=!0:delete DYO.Consent.available,D.resolve(e(Y)),D=DYO.Q.defer(),e(Y)?D.resolve(!0):t(Y)?D.resolve(!1):O||D.resolve(DYO.consentDefault),e(Y))for(var n;_.length>0;)n=_.pop(),setTimeout(n,0)}function d(){return D.promise}function p(e){DYO.isFeatureEnabled("ACTIVE_CONSENT")?DYO.ActiveConsent.runWithActiveConsent().then(e):f(e)}function f(t){e(Y)?t():_.push(t)}function m(){u(y.EXPLICIT_GIVEN)}function h(){u(y.EXPLICIT_REVOKED)}function g(e){u(e?y.INTEGRATION_GIVEN:y.INTEGRATION_REVOKED)}var O=!!DY.consentIntegrationActive,D=DYO.Q.defer(),y={PENDING:"pp",DEFAULT_GIVEN:"dg",DEFAULT_REVOKED:"dr",EXPLICIT_GIVEN:"eg",EXPLICIT_REVOKED:"er",INTEGRATION_GIVEN:"ig",INTEGRATION_REVOKED:"ir"},v=!1,Y=y.PENDING,_=[],w=!1;return{_init:o,_stLoaded:i,_clear:a,runWithConsent:p,readStatus:d,optin:m,optout:h,updateStatus:g}}(),DYO.HybridState=function(){function e(){return"hybrid"===DYO.getSectionConfigValue("platform")}function t(){try{window.DY||(window.DY={}),DY=window.DY,window.DYWork||(window.DYWork={}),DYWork=window.DYWork;var e=document.dyQuerySelector('script[type="text/x-dy-data"]').textContent;e=DYJSON.parse(e);function t(){void 0!==DYO&&"function"==typeof DYO.loadSTHook?DYO.loadSTHook():setTimeout(t,50)}if(Object.keys(e).forEach(function(t){DY[t]=e[t]}),t(),"undefined"==typeof DY.ServerUtil){var n=document.createElement("script"),r=DYO.version>0?DYO.version:"latestBuild",o="dy-coll-nojq-min.js",i=DYO.getSectionFeature("INCLUDE_JQUERY");(!i||i&&i.enabled)&&(o="dy-coll-min.js");var a="static.dynamicyield.com",s=DYO.getSectionFeature("SERVE_COLLECTION_FROM_CDN");s&&s.enabled&&(a=DYO.hosts.cdn),n.setAttribute("src","//"+a+"/scripts/"+r+"/"+o),n.setAttribute("type","text/javascript"),n.setAttribute("async","true");var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(n,c)}}catch(u){DY.API("internal_error_with_sample_rate",{name:"hybridStateJson contains errors",error:u,sampleRate:1e6})}}return{setUpHybridState:t,isHybridStateSection:e}}(),DYO.debuggerUtils=function(){function e(e,t){switch(e){case DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_NOT_FOUND:case DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED:case DYO.Enums.ENUMS.OTAGS_INFO.REASON.WAIT_FOR_SELECTOR:return DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR;case DYO.Enums.ENUMS.OTAGS_INFO.REASON.ANOTHER_OVERLAY:return"overlay";case DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY:case DYO.Enums.ENUMS.OTAGS_INFO.REASON.TIME:return e;default:return t}}function t(e){return!!(DYO.chosenVariations[e]&&DYO.chosenVariations[e].noMatch&&DYO.chosenVariations[e].noMatch.selector&&DYO.chosenVariations[e].noMatch.selector.reason===DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED)}function n(e){return DYO.otags[e].embedOptions&&DYO.otags[e].embedOptions.selector&&DYO.otags[e].embedOptions.replaceOption===DYO.Enums.ENUMS.OTAGS_INFO.EMBED.REPLACE?DYO.otags[e].embedOptions.selector:null}function r(t){function r(){a[t.tagId]?a[t.tagId].noMatch||(a[t.tagId].noMatch={}):a[t.tagId]={noMatch:{}},t.experienceId&&!a[t.tagId].noMatch[t.experienceId]&&(a[t.tagId].noMatch[t.experienceId]={})}function o(){var e=t.experienceId?a[t.tagId].noMatch[t.experienceId]:a[t.tagId].noMatch;e?e[t.type]||(e[t.type]=[]):(e={})[t.type]=[],e[t.type].push(t);var r=n(t.tagId);r&&a[t.tagId].noMatch.selector&&(a[t.tagId].noMatch.selector={param:r,type:DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR,tagId:t.tagId,reason:DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED})}function i(){a[t.tagId].noMatch&&a[t.tagId].noMatch.selector&&a[t.tagId].noMatch.selector.reason===DYO.Enums.ENUMS.OTAGS_INFO.REASON.WAIT_FOR_SELECTOR&&delete a[t.tagId].noMatch.selector;var e=n(t.tagId);if(e&&d[e]&&d[e].length&&d[e][Object.keys(d).length-1]==t.tagId){var r=d[d.length-2];a[r]&&a[r].selector&&a[r].selector.reason===DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED&&delete a[t.tagId].noMatch.selector}}if(t&&t.tagId&&DYO.otags[t.tagId]&&!DYO.otags[t.tagId].internal){var a=DYO.chosenVariations;r(),t.type!==DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR&&i(),-1===f.indexOf(t.type)?o():a[t.tagId].noMatch[e(t.reason,t.type)]=t}}function o(e,t,n){return n=n||{},-1!==m.indexOf(e.condType)?e.conds[t].parameter:"N"===e.condType?n.param:"_Weather"===e.condType?e.conds[t].weatherParameter:-1!==h.indexOf(e.condType)?e.conds[t].hitCount:e.conds[t].selectParameter}function i(e){function t(){switch(e.conditions[i].condType){case"_Audience":case"N":return e.conditions[i].conds[a].hitCountMethod;default:return e.conditions[i].conds[a].selectMethod}}function n(){return p[e.conditions[i].conds[a].id]}try{if(e&&e.conditions&&e.conditions[0]&&e.conditions[0].conds&&e.conditions[0].conds[0])for(var i=0;i<e.conditions.length;i++)if(!e.isInAudArray||!e.isInAudArray[i])for(var a=0;a<e.conditions[i].conds.length;a++){var s;s="N"===e.conditions[i].condType?n()||{}:{condType:e.conditions[i].condType},r({tagId:e.tagId,reason:s.condType,param:o(e.conditions[i],a,s),param2:"N"===e.conditions[i].condType?s.param2:e.conditions[i].conds[a].selectParameter2,method:t(),type:s.condType,experienceId:e.expId})}}catch(c){}}function a(e,t,n,r){try{DYO.CoreUtils.forEach(function(n){for(var o=DYO.chosenVariations[e]&&DYO.chosenVariations[e].noMatch&&DYO.chosenVariations[e].noMatch[t]?DYO.chosenVariations[e].noMatch[t]:[],i=o.length-1;i>=0;i--){var a=o[i],s=!a.param2&&!n.selectParameter2||a.selectParameter2===n.selectParameter2;a&&a.method===n.selectMethod&&a.param===n.selectParameter&&s&&(r||1===o.length?delete DYO.chosenVariations[e].noMatch[t]:o.splice(i,1))}},n)}catch(o){}}function s(e){if(DYO.chosenVariations[e]&&DYO.chosenVariations[e].noMatch)for(var t in DYO.chosenVariations[e].noMatch)if(DYO.chosenVariations[e].noMatch[t].reason!==DYO.Enums.ENUMS.OTAGS_INFO.REASON.WAIT_FOR_SELECTOR)return!0;return!1}function c(){try{DYO.CoreUtils.forEach(function(e){e.hidden&&e.rule&&e.rule.length&&DYO.CoreUtils.forEach(function(e){if(e&&e.conds&&e.conds[0]){var t=e.condType,n=e.conds[0].id;DYO.debuggerUtils.hiddenAudCondType[n]={condType:t,param:o(e,0),param2:e.conds[0].selectParameter2}}},e.rule)},DY.audienceRules)}catch(e){}}function u(e){try{if(DYO.chosenVariations[e]&&DYO.chosenVariations[e].noMatch)for(var t in DYO.chosenVariations[e].noMatch)t&&isNaN(t)&&delete DYO.chosenVariations[e].noMatch[t]}catch(n){}}function l(e,t){DYO.chosenVariations[e]||(DYO.chosenVariations[e]={}),u(e),DYO.CoreUtils.assign(DYO.chosenVariations[e],t)}var d={},p={},f=[DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_NOT_FOUND,DYO.Enums.ENUMS.OTAGS_INFO.REASON.SELECTOR_POPULATED,DYO.Enums.ENUMS.OTAGS_INFO.REASON.WAIT_FOR_SELECTOR,DYO.Enums.ENUMS.OTAGS_INFO.TYPE.SELECTOR,DYO.Enums.ENUMS.OTAGS_INFO.REASON.ANOTHER_OVERLAY,DYO.Enums.ENUMS.OTAGS_INFO.REASON.FREQUENCY,DYO.Enums.ENUMS.OTAGS_INFO.REASON.TIME,DYO.Enums.ENUMS.OTAGS_INFO.REASON.PREVIEW],m=["_Audience","_VisitorType","_TimeSince","_Browser","_ScreenSize","UnitClick","Goal","_WeekDay"],h=["ProductFeaturesAddToCarts","ProductFeaturesPurchases","PageViews"];return{save:r,prepareAndSave:i,populatedSelectors:d,selectorAlreadyPopulated:t,changeStatus:a,isTagUnmatched:s,hiddenAudCondType:p,saveHiddenAudParams:c,assignChosenVariation:l}}(),function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e){e.exports=JSON.parse('{"a":"12450"}')},function(e,t,n){"use strict";function r(){n.p||(n.p="https://"+DYO.hosts.cdn+"/api/"+d+"/")}function o(e){var t=document.createElement("div");return t.className="dy_full_width_notifications_container "+e,DYO.waitForElement("body",function(){document.body.appendChild(t)}),t}function i(){u||(u=o("dy_bottom_notification"))}function a(){l||(l=o("dy_top_notification"))}function s(e,t){"top"===t.position?(a(),l.appendChild(e.el)):(i(),u.appendChild(e.el))}function c(e,t){void 0===t&&(t={});var n,r=t.smartTagId;if(r){if(n=f[r])return n.el.replaceChild(e,n.el.lastChild),n;t.onRemove=function(){delete f[r]}}return t.delay=t.delay||0,t.closeAfter=t.closeAfter||-1,t.position=t.position||"top",t.showClose=t.showClose||!1,t.bodyClickClose=t.bodyClickClose||!1,n=new p(t),r&&(f[r]=n),n.el.appendChild(e),s(n,t),n}n.r(t);var u,l,d=n(0).a,p=function(){function e(e){var t=this;this.options=e,this.el=document.createElement("div"),this.el.className="dy_full_width_notification_instance",e.showClose&&this.addCloseButton(),this.isTop="top"===e.position,0===e.delay?this.activate():setTimeout(function(){t.activate()},e.delay),-1!==e.closeAfter&&setTimeout(function(){t.remove()},e.closeAfter+e.delay),this.options.bodyClickClose&&(this.removeFunc=function(){return t.remove()},document.body.addEventListener("click",this.removeFunc))}return e.prototype.activate=function(){this.el.className+=" dy_notification_instance_active",this.isTop?this.el.className+=" dy_notification_from_top":this.el.className+=" dy_notification_from_bottom"},e.prototype.remove=function(){var e=this;this.isTop?this.el.className+=" dy_notification_instance_will_exit_top":this.el.className+=" dy_notification_instance_will_exit_bottom",this.options.smartTagId&&DYO.csc.markEvent("closeAction_"+this.options.smartTagId),setTimeout(function(){e.el.parentNode.removeChild(e.el)},230),this.options.bodyClickClose&&this.removeFunc&&document.body.removeEventListener("click",this.removeFunc),this.options.onRemove&&this.options.onRemove()},e.prototype.addCloseButton=function(){var e=this,t=document.createElement("div");t.className="dy-full-width-notifications-close",this.el.appendChild(t),t.addEventListener("click",function(t){return e.remove(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1})},e}(),f={},m={appendBottomContainer:i,appendTopContainer:a,addInstance:s,create:c};DYO.FullWidthNotifications=m,DYO._ready=function(){r()}}]),DYO.setupServerExperiments();