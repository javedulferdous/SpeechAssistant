(window.jsonpWebpackPUW=window.jsonpWebpackPUW||[]).push([[2],{136:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},137:function(t,e,n){"use strict";n.r(e);var o,i,s,r,a=n(156),c=n.n(a),u=n(136),h=n.n(u),l=n(76),p=n.n(l),g=n(43),I=n.n(g),T={hrs_search:"hrs_search",hrs_search_1_0:"hrs_search_1_0"},d={CAPTION:"Matchmaker__suggestion-list-caption",ERROR_EMPTY_SEARCH:"Matchmaker__error--empty-search",MATCHMAKER:"Matchmaker",MATCHMAKER_HIDDEN:"Matchmaker--hidden",MATCHMAKER_FLAT:"Matchmaker--flat",SEARCH_INPUT_INVALID:"Matchmaker__search-input--invalid",SEARCH_TERM:"Matchmaker__search-term",SUGGESTION_ITEM:"Matchmaker__suggestion-item",SUGGESTION_ITEM_ACTIVE:"Matchmaker__suggestion-item--active",SUGGESTION_EMPTY:"Matchmaker__suggestion--empty",SUGGESTION_LIST:"Matchmaker__suggestion-list",SUGGESTION_LIST_POWERED_BY_GOOGLE:"Matchmaker__suggestion-list--powered-by-google",LOCATION_INPUT:"Matchmaker__location-input",SUGGESTIONS:"Matchmaker__suggestions",SEARCH_ICON:"Matchmaker__search-icon",SEARCH_ICON_LOC:"Matchmaker__search-icon--LOC",SEARCH_ICON_HOTEL:"Matchmaker__search-icon--hotel",SEARCH_ICON_POI:"Matchmaker__search-icon--POI",SEARCH_ICON_ADDRESS:"Matchmaker__search-icon--ADDRESS",SEARCH_ICON_MOT:"Matchmaker__search-icon--MoT"},S={DOWN:"down",UP:"up"},f={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},O={LOCATION:"LOC",POINT_OF_INTEREST:"POI",COMPANY_POINT_OF_INTEREST:"FPOI",REGION:"REG",DISTRICT:"DIST",HOTEL:"hotel",ADDRESS:"ADDR",MEANS_OF_TRANSPORT:"MoT"},_=(o={},h()(o,O.POINT_OF_INTEREST,"*"),h()(o,O.COMPANY_POINT_OF_INTEREST,"*"),h()(o,O.LOCATION,"%"),h()(o,O.DISTRICT,"%"),h()(o,O.REGION,"%"),h()(o,O.HOTEL,"#"),h()(o,O.ADDRESS,"^"),o),E={10:O.MEANS_OF_TRANSPORT,20:O.POINT_OF_INTEREST,30:O.MEANS_OF_TRANSPORT,40:O.POINT_OF_INTEREST,50:O.POINT_OF_INTEREST,60:O.POINT_OF_INTEREST,71:O.POINT_OF_INTEREST,70:O.POINT_OF_INTEREST,90:O.POINT_OF_INTEREST,100:O.POINT_OF_INTEREST,hotel:O.HOTEL,LOC:O.LOCATION,DIST:O.LOCATION,REG:O.LOCATION,ADDR:O.ADDRESS},y={MoT:d.SEARCH_ICON_MOT,hotel:d.SEARCH_ICON_HOTEL,LOC:d.SEARCH_ICON_LOC,ADDR:d.SEARCH_ICON_ADDRESS,POI:d.SEARCH_ICON_POI},m={STATION:10,EXHIBITION:20,AIRPORT:30,EXIT_MOTORWAY:40,PUBLIC_TRANSPORT:50,POI:60,CENTER_LOCATION:70,CENTER_DISTRICT:71,REGION:90,UNKNOWN:100},N=["%","*","#","$","~","!","@","^"],C={FPOI:5,LOCATION:5,HOTEL:5,POINT_OF_INTEREST:5,AIRPORTS_AND_STATIONS:5,ADDITIONAL_RESULTS:5},A=n(154),v=n.n(A),R=n(153),D=n.n(R),M=n(157),L=n.n(M),P=n(155),b=n.n(P),H={CATEGORY_CODE:"categoryCode",COUNTRY_ID:"countryId",ECS_NAME:"ecsName",HOTEL_CITY:"hotelCity",HOTEL_COUNTRY:"hotelCountry",HOTEL_DISPLAY_NAME:"hotelDisplayName",HOTEL_ID:"hotelId",IDENTIFIER:"identifier",LANGUAGE:"language",LOCATION_ID:"locationId",LOCATION_NAME:"locationName",POI_ID:"poiId",POI_TYPE:"poiType",SCORE:"score"},w=(i={},h()(i,H.CATEGORY_CODE,"Category"),h()(i,H.COUNTRY_ID,"LID"),h()(i,H.ECS_NAME,"ecs_name"),h()(i,H.HOTEL_CITY,"City"),h()(i,H.HOTEL_COUNTRY,"Country"),h()(i,H.HOTEL_DISPLAY_NAME,"HotelName_Display"),h()(i,H.HOTEL_ID,"HotelID"),h()(i,H.IDENTIFIER,"Identifier"),h()(i,H.LANGUAGE,"Language"),h()(i,H.LOCATION_ID,"LocationID"),h()(i,H.LOCATION_NAME,"LocationName"),h()(i,H.POI_ID,"POI_ID"),h()(i,H.POI_TYPE,"POI_TYP"),h()(i,H.SCORE,"score"),i),k=(s={},h()(s,H.CATEGORY_CODE,"category"),h()(s,H.COUNTRY_ID,"l_id"),h()(s,H.ECS_NAME,"ecs_name"),h()(s,H.HOTEL_CITY,"city"),h()(s,H.HOTEL_COUNTRY,"country"),h()(s,H.HOTEL_DISPLAY_NAME,"hotel_name_display"),h()(s,H.HOTEL_ID,"hotel_id"),h()(s,H.IDENTIFIER,"identifier"),h()(s,H.LANGUAGE,"language"),h()(s,H.LOCATION_ID,"location_id"),h()(s,H.LOCATION_NAME,"location_name"),h()(s,H.POI_ID,"poi_id"),h()(s,H.POI_TYPE,"poi_type"),h()(s,H.SCORE,"score"),s),G={HOT:O.HOTEL},x=(r={},h()(r,T.hrs_search,w),h()(r,T.hrs_search_1_0,k),r),U=h()({},T.hrs_search_1_0,h()({},H.CATEGORY_CODE,G)),F=window.jQuery_v3_3_1,Y=function(){function t(e){p()(this,t),this.categoryCode=e[H.CATEGORY_CODE],this.countryId=e[H.COUNTRY_ID],this.ecsName=e[H.ECS_NAME],this.identifier=e[H.IDENTIFIER],this.language=e[H.LANGUAGE],this.locationId=e[H.LOCATION_ID],this.locationName=e[H.LOCATION_NAME],this.score=e[H.SCORE],this.prefix=rt(this.categoryCode)}return I()(t,[{key:"toListItem",value:function(){return F('<li\n    class="'.concat(d.SUGGESTION_ITEM," ").concat(d.SUGGESTION_ITEM,"--").concat(this.categoryCode,'"\n    data-suggestedid="').concat(this.suggestedId,'"\n    data-location-id="').concat(this.locationId,'"\n    data-category="').concat(this.categoryCode,'"\n    data-score="').concat(this.score,'"\n>\n    ').concat(this.label,"\n</li>"))}},{key:"country",get:function(){return ot(this.countryId)}},{key:"countrySuffix",get:function(){return this.country.length?", ".concat(this.country):""}},{key:"label",get:function(){return this.ecsName}},{key:"suggestedId",get:function(){return this.prefix+this.locationId}}]),t}(),W=function(t){function e(t){var n;return p()(this,e),(n=v()(this,D()(e).call(this,t))).hotelCity=t[H.HOTEL_CITY],n.hotelCountry=t[H.HOTEL_COUNTRY],n.hotelDisplayName=t[H.HOTEL_DISPLAY_NAME],n.hotelId=t[H.HOTEL_ID],n}return b()(e,t),I()(e,[{key:"toListItem",value:function(){var t=L()(D()(e.prototype),"toListItem",this).call(this);return t.attr("data-suggestedid",this.prefix+this.hotelId),window.HRS_PUW&&(t.attr("data-top-hotel-id",this.hotelId),t.attr("data-suggestedid","%"+this.locationId)),t}},{key:"country",get:function(){return this.hotelCountry}},{key:"label",get:function(){return"<em>".concat(this.hotelDisplayName,"</em>, ").concat(this.hotelCity,", ").concat(this.country)}}]),e}(Y),V=function(t){function e(t){var n;return p()(this,e),(n=v()(this,D()(e).call(this,t))).poiType=t[H.POI_TYPE],n}return b()(e,t),I()(e,[{key:"toListItem",value:function(){return L()(D()(e.prototype),"toListItem",this).call(this).attr("data-poi-type",this.poiType)}},{key:"label",get:function(){return"<em>".concat(this.locationName,"</em>").concat(this.countrySuffix)}}]),e}(Y),j=window.jQuery_v3_3_1,K=HRS_COMMON.MATCHMAKER.COUNTRIES;function B(){return"true"===window.HRS_COMMON.MATCHMAKER.FLAT_VIEW}function z(t){return t.poiType===m.AIRPORT.toString()}function Q(t){return t.categoryCode===O.DISTRICT}function q(t){return t instanceof W}function J(t){return"string"==typeof t?t[0]===_[O.HOTEL]:t.attr("data-top-hotel-id")}function X(t){return t.categoryCode===O.COMPANY_POINT_OF_INTEREST}function $(t){return t.categoryCode===O.LOCATION}var Z=null!==document.getElementById("myhrs");function tt(t){return t instanceof V}function et(t){return t.categoryCode===O.REGION}function nt(t){return t.poiType===m.STATION.toString()}function ot(t){var e=K[t];return void 0===e?"":e}function it(t,e){return e.score-t.score}function st(t,e){for(var n=t.filter((function(t){return!X(t)})),o=t.filter((function(t){return X(t)})),i={},s=0;s<o.length;s+=1){var r=o[s],a=JSON.stringify({locationId:r.locationId,poiId:r.poiId,poiType:r.poiType});i[a]||(i[a]={}),i[a][r.language]=r}var c=[];return Object.keys(i).map((function(t){var n=i[t];if(1===Object.keys(n).length){var o=Object.keys(n)[0];c.push(n[o])}else n[e]?c.push(n[e]):c.push(n.en)})),n.concat(c)}function rt(t){return _[t]}var at=function(t){return y[t]};function ct(){j("#start_stayPeriod").focus()}var ut=function(t){return/\d/.test(t)},ht=function(t,e){var n=!0;return!(!t||!t.length)&&(t.forEach((function(t){var o=t.find(".".concat(d.SUGGESTION_ITEM)),i=o.length;if(i)for(var s=0;s<i;s+=1)if(j(o[s]).data("score")>=e){n=!1;break}})),n)},lt=function(t,e,n){var o=t?"<em>".concat(e,"</em>"):"".concat(e),i=n?", ".concat(n):"";return"".concat(o).concat(i).trim()},pt=window.jQuery_v3_3_1,gt=HRS_COMMON.i18n.matchmaker;function It(t){return pt('<p class="'.concat(d.SUGGESTION_EMPTY,'">\n    <strong class="').concat(d.SEARCH_TERM,'">\n        ').concat(t,"\n    </strong>\n    <span> ").concat(gt.NO_RESULTS,"</span>\n</p>"))}function Tt(){return pt('<div class="'.concat(d.MATCHMAKER," ").concat(d.MATCHMAKER_HIDDEN,'">\n    <div class="').concat(d.SUGGESTIONS,'">\n    </div>\n</div>'))}function dt(t,e){var n=pt('<ul class="'.concat(d.SUGGESTION_LIST," ").concat(e?d.SUGGESTION_LIST_POWERED_BY_GOOGLE:"",'"></ul>'));return n.append(t.map((function(t,e){return t.toListItem().attr("data-suggestion-index",e)}))),n}function St(t,e){return null==e||0===e.length?[]:[(n=t.label,o=t.shortName,i="".concat(d.CAPTION," ").concat(d.CAPTION,"--").concat(o),pt('<h6 class="'.concat(i,'"><span>').concat(n,"</span></h6>"))),dt(e)];var n,o,i}var ft=function(t){function e(t){var n;return p()(this,e),(n=v()(this,D()(e).call(this,t))).poiId=t[H.POI_ID],n.poiType=t[H.POI_TYPE],n}return b()(e,t),I()(e,[{key:"identifierSuffix",get:function(){return this.identifier?", ".concat(this.identifier.replace(/^\(/,"").replace(/\)$/,"")):""}},{key:"label",get:function(){return"<em>".concat(this.locationName,"</em>").concat(this.identifierSuffix).concat(this.countrySuffix)}}]),e}(Y),Ot=function(){function t(){p()(this,t)}return I()(t,null,[{key:"createWithMapper",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return new Y(t);var o={};switch(Object.keys(H).forEach((function(i){var s=H[i],r=t[e[s]];if(n[s]){var a=n[s];o[s]=a[r]||r}else o[s]=r})),o[H.CATEGORY_CODE]){case O.DISTRICT:case O.LOCATION:case O.COMPANY_POINT_OF_INTEREST:case O.REGION:return new ft(o);case O.POINT_OF_INTEREST:return new V(o);case O.HOTEL:return new W(o)}return new Y(o)}}]),t}();function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var Et=HRS_COMMON.Util.abortableFetchFactory,yt=function(){function t(e){p()(this,t);var n={lang:"de",version:T.hrs_search,ecs_params:"L10|P10|D10|R10|H10|F10",limit:50};this.fetch=Et(),this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{},e),this.fieldNamesMapper=x[this.options.version],this.fieldValuesMapper=U[this.options.version]}return I()(t,[{key:"getURL",value:function(t){var e=this.options,n=e.endpoint,o=e.version,i=e.lang,s=e.ecs_params,r=e.limit,a=new URLSearchParams({p:o,sv:"suggest",q:t,language:i,ecs_params:s,limit:r});return window.HRS_CBP&&window.HRS_CBP.F_KEY&&a.set("filter","0|"+window.HRS_CBP.F_KEY),"".concat(n.url).concat(n.path,"?").concat(a.toString())}},{key:"categorizeSuggestions",value:function(t){var e={};return this.options.categories.forEach((function(n){e[n.name]=t.filter(n.filter),e[n.name].splice(n.limit)})),e}},{key:"mapToSuggestions",value:function(t){var e=this;return t.map((function(t){return Ot.createWithMapper(t,e.fieldNamesMapper,e.fieldValuesMapper)}))}},{key:"suggestionsToHTML",value:function(t){return B()?this.getFlatHTML(t):this.getCategorizedHTML(t)}},{key:"getCategorizedHTML",value:function(t){for(var e=this.options.categories,n=this.categorizeSuggestions(t),o=[],i=0,s=e.length;i<s;i+=1){var r=e[i],a=n[r.name];a.length&&o.push.apply(o,c()(St(r,a)))}return o}},{key:"getFlatHTML",value:function(t){for(var e=[],n=[],o={},i=0;i<t.length;i+=1){var s=t[i];if(n.length>=10)break;o[s.categoryCode]||(o[s.categoryCode]=0),o[s.categoryCode]>=2||(o[s.categoryCode]+=1,n.push(s))}return n.length>0&&e.push(dt(n)),e}},{key:"getSuggestions",value:function(t){var e=this;return this.fetch(this.getURL(t),{mode:"cors"}).then((function(t){return t.json()})).then(this.mapToSuggestions.bind(this)).then((function(t){return st(t,e.options.lang)})).then((function(t){return t.sort(it)})).then(this.suggestionsToHTML.bind(this)).catch((function(t){"AbortError"!==t.name&&console.error("Matchmaker fetch error: ",t)}))}}]),t}(),mt=HRS_COMMON.i18n.matchmaker,Nt=new google.maps.places.AutocompleteService;function Ct(){this.sessionToken=new google.maps.places.AutocompleteSessionToken,this.validTokenPeriod=null}Ct.prototype.startSessionTokenTimeout=function(){var t=this;this.validTokenPeriod||(this.validTokenPeriod=window.setTimeout((function(){window.clearTimeout(t.validTokenPeriod),t.sessionToken=new google.maps.places.AutocompleteSessionToken,t.validTokenPeriod=null}),18e4))},Ct.prototype.getPlaces=function(t){var e=this;return this.startSessionTokenTimeout(),new Promise((function(n,o){try{Nt.getQueryPredictions({input:t,sessionToken:e.sessionToken},n)}catch(t){o(t)}}))},Ct.predictionToSuggestion=function(t){var e,n=t.structured_formatting,o=n.main_text,i=n.secondary_text;return new Y((e={},h()(e,H.CATEGORY_CODE,O.ADDRESS),h()(e,H.LOCATION_ID,""),h()(e,H.ECS_NAME,lt(!0,o,i)),h()(e,H.POI_TYPE,""),e))},Ct.predictionsToHTML=function(t){return B()?Ct.getFlatHTML(t):Ct.getCategorizedHTML(t)},Ct.getCategorizedHTML=function(t){return St({label:mt.ADDRESS,shortName:O.ADDRESS},t&&t.map(Ct.predictionToSuggestion))},Ct.getFlatHTML=function(t){return t&&0!==t.length?[dt(t&&t.map(Ct.predictionToSuggestion),!0)]:[]},Ct.prototype.getSuggestions=function(t){return this.getPlaces(t).then(Ct.predictionsToHTML)};var At=Ct;function vt(t,e){var n=window.s,o=n.pageName,i=null,s=null,r="No Choice";t&&(i=t.category,s=t.index,i&&s>-1&&(r=e+";"+i+":"+(s+1))),n.linkTrackVars="events,channel,pageName,prop28,eVar27",n.linkTrackEvents="",n.prop28=o+";New_Matchmaker;"+r,n.eVar27=o,n.channel="Public Web",function(t){var e=window.s,n={};n.prop28=e.pageName+";New_Matchmaker;"+t+";",window.Cookie.write("clickTracking",JSON.encode(n),{duration:10,path:"/"})}(r)}function Rt(t,e){var n=window.s;vt(t,e),n.events="event125,event126",n.tl(!0,"o","New_Matchmaker;Select")}function Dt(t,e){var n=window.s;vt(t,e),n.events="event127,event128",n.tl(!0,"o","New_Matchmaker;Submit")}var Mt,Lt=window.jQuery_v3_3_1,Pt=HRS_COMMON.MATCHMAKER;window.HRS_PUW&&window.HRS_PUW.GTM&&(Mt=HRS_PUW.GTM);var bt=HRS_COMMON.Util.debounce,Ht=new At;console.info("Matchmaker initialization started");var wt=HRS_COMMON.i18n.matchmaker,kt=Pt.suggestedID,Gt=[{name:"companyLocations",shortName:"FPOI",label:wt.COMPANY_POINT_OF_INTEREST,limit:C.FPOI,filter:function(t){return X(t)}},{name:"locations",shortName:"LOC",label:wt.LOCATION,limit:C.LOCATION,filter:function(t){return $(t)||Q(t)||et(t)}},{name:"hotels",shortName:"hotel",label:wt.HOTEL,limit:C.HOTEL,filter:q},{name:"airportsAndStations",shortName:"MoT",label:wt.AIRPORT_AND_STATION,limit:C.AIRPORTS_AND_STATIONS,filter:function(t){return z(t)||nt(t)}},{name:"pointsOfInterest",shortName:"POI",label:wt.POINT_OF_INTEREST,limit:C.POINT_OF_INTEREST,filter:function(t){return tt(t)&&!z(t)&&!nt(t)}},{name:"adress",shortName:"ADDR",label:wt.ADDRESS,limit:C.ADDITIONAL_RESULTS,filter:function(){}}],xt={endpoint:{url:Pt.url,path:"/SearchBridge/search"},lang:Pt.language,categories:Gt,version:Pt.searchBridgeVersion},Ut=new yt(xt);function Ft(t){this.options=Object.assign({debounce:250,inactiveSuggestionIndex:-1,searchTermMinLength:2},t),this.searchForm=document.querySelector("#searchForm"),this.locationInput=document.querySelector("#destiny"),this.init()}Ft.prototype.init=function(){this.isDirectSearch=!1,this.template=Tt(),this.suggestedID=this.getSuggestInput(),this.topHotelID=Lt("#topHotelId"),this.locationInputLabel=Lt('label[for="destiny"]'),this.searchIcon=this.createSearchIcon(),this.searchCategoryTypeInput=Lt("#searchCategoryType"),this.emptyLocationError=this.getErrorMessage(wt.LOCATION_EMPTY),this.noResultsError=this.getErrorMessage(wt.NO_RESULTS),this.searchTermNode=this.template.find(".".concat(d.SEARCH_TERM)),this.suggestionsList=this.template.find(".".concat(d.SUGGESTIONS)),Lt("body").append(this.template),this.setActiveSuggestionIndex(this.options.inactiveSuggestionIndex),this.hideSubmitError(),this.updatePosition(),this.initEventHandlers(),this.setupLocationInput(),console.info("Matchmaker initialized")},Ft.prototype.initEventHandlers=function(){var t=this,e=bt((function(){t.handleWindowResize()}),this.options.debounce);Lt(window).on("resize",e),Lt(this.locationInput).on("keydown",(function(e){t.handleKeyDown(e)})),Lt(this.searchForm).on("submit",(function(e){t.handleSearchSubmit(e)})),Lt(this.suggestionsList).on("click",".".concat(d.SUGGESTION_ITEM),(function(e){t.handleClick(e)})),Lt(document).on("click",(function(e){t.handleOutsideClick(e)})),this.locationInputLabel.on("click",".deleteValueIcon",(function(){t.clearSearchInputsData(),t.setSearchIcon()}))},Ft.prototype.handleWindowResize=function(){this.updatePosition()},Ft.prototype.handleKeyDown=function(t){var e=this,n=this.isMatchmakerTemplateVisible(),o=n&&this.suggestionIndex>this.options.inactiveSuggestionIndex;switch(t.keyCode){case f.TAB:case f.ESC:this.hide();break;case f.ARROW_UP:o&&this.handleArrowUpDown(S.UP);break;case f.ARROW_DOWN:n?this.handleArrowUpDown(S.DOWN):n||this.isSuggestionsListEmpty()||this.isSearchInputEmpty()||this.show();break;case f.ENTER:this.isDirectSearch?this.handleSearchSubmit(t):o?this.selectActiveSuggestion(t):this.submitWithTopGoogleSuggestion(t);break;default:bt((function(){return e.handleInput()}),this.options.debounce)()}},Ft.prototype.setActiveSuggestionIndex=function(t){this.suggestionIndex=t},Ft.prototype.handleArrowUpDown=function(t){var e,n=this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM)),o=this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM_ACTIVE));t===S.DOWN?this.suggestionIndex<n.length-1&&this.setActiveSuggestionIndex(this.suggestionIndex+1):this.suggestionIndex>0&&this.setActiveSuggestionIndex(this.suggestionIndex-1),e=n.get(this.suggestionIndex),Lt(o).removeClass(d.SUGGESTION_ITEM_ACTIVE),Lt(e).addClass(d.SUGGESTION_ITEM_ACTIVE)},Ft.prototype.getCategoryIndex=function(t){var e=null;return Gt.forEach((function(n,o){n.shortName==t&&(e=o+1)})),e},Ft.prototype.handleSearchSubmit=function(t){if(t.preventDefault(),this.isDirectSearch||this.isSuggestionChosen()||this.isAddressSearch())Dt(this.chosenSuggestionData,this.getCategoryIndex(this.chosenSuggestionData&&this.chosenSuggestionData.category)),t.keyCode&&Mt&&Mt.SearchHandler.trackSearchSubmitEvent(),Lt(this.searchForm)[0].submit();else if(this.isSuggestionsListEmpty()){var e=this.isSearchInputEmpty();this.showSubmitError(e)}else this.submitWithTopGoogleSuggestion(t)},Ft.prototype.submitWithTopGoogleSuggestion=function(t){var e=this;t.preventDefault(),Ht.getPlaces(this.locationInput.value).then((function(n){e.hide();var o=n&&n[0];if(o){var i=o.structured_formatting,s=i.main_text,r=i.secondary_text;e.setInputValue(e.suggestedID,_[O.ADDRESS]),e.setInputValue(e.locationInput,lt(!1,s,r)),e.setSearchCategoryType(),Rt(),e.handleSearchSubmit(t)}else e.showSubmitError(!1)})).catch((function(n){console.log("Error while getting results from Autocomplete, using top MM suggestion",n),e.submitWithTopSuggestion(t)}))},Ft.prototype.submitWithTopSuggestion=function(t){t.preventDefault();var e=this.getFirstSuggestion();if(this.isSuggestionChosen()||this.isAddressSearch())this.handleSearchSubmit(t);else{if(!e.length){var n=this.isSearchInputEmpty();return this.hide(),void this.showSubmitError(n)}this.hide(),this.hideSubmitError(),this.setInputValue(this.suggestedID,e.data("suggestedid")),this.setInputValue(this.locationInput,e.get(0).innerText),J(e)&&this.setInputValue(this.topHotelID,e.data("topHotelId")),this.setChosenSuggestionData({locationId:e.data("locationId"),category:e.data("category"),poiType:e.data("poiType"),index:e.data("suggestionIndex")}),this.setSearchCategoryType(),Rt(this.chosenSuggestionData,this.getCategoryIndex(this.chosenSuggestionData.category)),this.handleSearchSubmit(t)}},Ft.prototype.selectActiveSuggestion=function(t){t.preventDefault();var e=this.getActiveSuggestion();e.length&&(this.setInputValue(this.suggestedID,e.data("suggestedid")),this.setInputValue(this.locationInput,e.get(0).innerText),J(e)&&this.setInputValue(this.topHotelID,e.data("topHotelId")),this.setChosenSuggestionData({locationId:e.data("locationId"),category:e.data("category"),poiType:e.data("poiType"),index:e.data("suggestionIndex")}),this.setSearchCategoryType(),Rt(this.chosenSuggestionData,this.getCategoryIndex(this.chosenSuggestionData.category)),this.hide(),window.HRS_PUW&&ct())},Ft.prototype.setupLocationInput=function(){this.locationInput.addClass(d.LOCATION_INPUT)},Ft.prototype.setSearchIcon=function(t){var e=this.searchIcon.get(0),n=e.classList[1],o=at(t);e.classList.remove(n),o&&e.classList.add(o)},Ft.prototype.setSearchCategoryType=function(){var t=this.chosenSuggestionData||{},e=t.category,n=t.poiType,o=E[n||e]||E.ADDR;this.searchCategoryTypeInput.val(o),this.setSearchIcon(o)},Ft.prototype.isSuggestionChosen=function(){return""!==this.suggestedID.val()&&this.suggestedID.val()!==_[O.ADDRESS]},Ft.prototype.isAddressSearch=function(){return this.suggestedID.val()===_[O.ADDRESS]&&""!==this.locationInput.value},Ft.prototype.handleOutsideClick=function(t){Lt(t.target).hasClass(d.MATCHMAKER)||this.hide()},Ft.prototype.handleInput=function(){this.clearSearchInputsData(),this.hideSubmitError(),this.updateSearchTerm(this.locationInput.value),this.setActiveSuggestionIndex(this.options.inactiveSuggestionIndex),this.setDirectSearch(N.indexOf(this.locationInput.value[0])>-1),this.isDirectSearch?(this.handleDirectSearch(),this.hide()):this.locationInput.value.trim().length>this.options.searchTermMinLength-1?(this.show(),this.getSuggestions()):this.hide()},Ft.prototype.getSuggestions=function(){var t=this;Ut.getSuggestions(this.locationInput.value).then((function(e){return t.shouldQueryAutocompleteService(e)?Ht.getSuggestions(t.locationInput.value).then((function(t){if(e&&t)return[].concat(c()(e),c()(t))})):e})).then((function(e){e&&t.fillSuggestions(e)}))},Ft.prototype.shouldQueryAutocompleteService=function(t){var e=parseInt(Pt.MIN_SCORE_VALUE,10)||240,n=parseInt(Pt.INPUT_MIN_LENGTH,10)||8;return ht(t,e)||this.locationInput.value.length>n&&ht(t,e)||!this.isDirectSearch&&ut(this.locationInput.value)||t&&!t.length},Ft.prototype.handleDirectSearch=function(){this.setInputValue(this.suggestedID,this.locationInput.value),J(this.locationInput.value)&&this.setInputValue(this.topHotelID,this.locationInput.value.slice(1))},Ft.prototype.setDirectSearch=function(t){this.isDirectSearch=t},Ft.prototype.clearSearchInputsData=function(){this.setInputValue(this.suggestedID),this.setInputValue(this.topHotelID)},Ft.prototype.handleClick=function(t){var e=this.getSuggestedID(t),n=this.getChosenSuggestion(t);this.setInputValue(this.suggestedID,e),this.setInputValue(this.locationInput,n.get(0).innerText),J(n)&&this.setInputValue(this.topHotelID,n.data("topHotelId")),this.setChosenSuggestionData({locationId:n.data("locationId"),category:n.data("category"),poiType:n.data("poiType"),index:n.data("suggestionIndex")}),this.setSearchCategoryType(),Rt(this.chosenSuggestionData,this.getCategoryIndex(this.chosenSuggestionData.category)),this.hide(),window.HRS_PUW&&ct()},Ft.prototype.isMatchmakerTemplateVisible=function(){return Lt(this.template).is(":visible")},Ft.prototype.isSuggestionsListEmpty=function(){return this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM)).length<1},Ft.prototype.isSearchInputEmpty=function(){var t=this.locationInput.value.trim();return t===window.vorabBelegung||""===t},Ft.prototype.showSubmitError=function(t){Lt(this.locationInput).addClass(d.SEARCH_INPUT_INVALID),t?this.emptyLocationError.show():this.noResultsError.show()},Ft.prototype.hideSubmitError=function(){Lt(this.locationInput).removeClass(d.SEARCH_INPUT_INVALID),this.emptyLocationError.hide(),this.noResultsError.hide()},Ft.prototype.getSuggestedID=function(t){return this.getChosenSuggestion(t).data("suggestedid")},Ft.prototype.getFirstSuggestion=function(){return this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM)).first()},Ft.prototype.getChosenSuggestion=function(t){var e=t.target,n=Lt(e).parent(),o="";return e.hasClass(d.SUGGESTION_ITEM)?o=Lt(e):n.hasClass(d.SUGGESTION_ITEM)&&(o=Lt(n)),o},Ft.prototype.getActiveSuggestion=function(){return this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM_ACTIVE))},Ft.prototype.setInputValue=function(t,e){Lt(t).val(e||"")},Ft.prototype.setChosenSuggestionData=function(t){this.chosenSuggestionData=t},Ft.prototype.getChosenSuggestionData=function(){return this.chosenSuggestionData},Ft.prototype.getTargetPosition=function(){var t=this.locationInput.getPosition(),e=this.locationInput.getSize();return{x:t.x,y:t.y+e.y-1}},Ft.prototype.updatePosition=function(){var t=this.getTargetPosition();if(Z){var e=document.body.scrollWidth-(t.x+this.locationInput.offsetWidth);return document.body.scrollWidth>document.body.clientWidth&&(e-=document.body.scrollWidth-document.body.clientWidth),void this.template.css({top:t.y,right:e})}this.template.css({top:t.y,left:t.x})},Ft.prototype.updateSearchTerm=function(t){this.searchTermNode.text(t)},Ft.prototype.fillSuggestions=function(t){this.template.find(".".concat(d.SUGGESTIONS)).html(t.length>0?t:It(this.locationInput.value)),this.updateSearchTerm(this.locationInput.value),this.isSearchInputEmpty()&&this.hide()},Ft.prototype.getErrorMessage=function(t){var e=Lt('<span class="'.concat(d.ERROR_EMPTY_SEARCH,' error">').concat(t,"</span>"));return this.locationInputLabel.append(e),e},Ft.prototype.createSearchIcon=function(){var t=at(Pt.searchCategoryType)||"",e=Lt('<i class="'.concat(d.SEARCH_ICON," ").concat(t,'" />'));return this.locationInputLabel.append(e),e},Ft.prototype.getSuggestInput=function(){var t=Lt("#suggestedID");return t.length>0?(t.val(kt),t):((t=Lt('<input type="hidden" name="suggestedID" id="suggestedID" />')).val(kt),Lt(this.searchForm).append(t),t)},Ft.prototype.show=function(){this.isVisible()||(this.updatePosition(),this.template.removeClass(d.MATCHMAKER_HIDDEN),B()?this.template.addClass(d.MATCHMAKER_FLAT):this.template.removeClass(d.MATCHMAKER_FLAT))},Ft.prototype.hide=function(){this.template.addClass(d.MATCHMAKER_HIDDEN),this.resetActiveSuggestion()},Ft.prototype.isVisible=function(){return!this.isHidden()},Ft.prototype.isHidden=function(){return this.template.hasClass(d.MATCHMAKER_HIDDEN)},Ft.prototype.resetActiveSuggestion=function(){var t=this.suggestionsList.find(".".concat(d.SUGGESTION_ITEM_ACTIVE));this.setActiveSuggestionIndex(this.options.inactiveSuggestionIndex),Lt(t).removeClass(d.SUGGESTION_ITEM_ACTIVE)},Ft.prototype.getDataForGTM=function(){var t=this.getChosenSuggestionData();return t?{availabilityLocationID:t.locationId.toString(),searchCategory:t.category,searchPOIType:t.poiType}:null},Pt.instance=Pt.instance||new Ft(xt)},153:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},154:function(t,e,n){var o=n(161),i=n(162);t.exports=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?i(t):e}},155:function(t,e,n){var o=n(164);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}},156:function(t,e,n){var o=n(158),i=n(159),s=n(160);t.exports=function(t){return o(t)||i(t)||s()}},157:function(t,e,n){var o=n(163);function i(e,n,s){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=o(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(n):s.value}},i(e,n,s||e)}t.exports=i},158:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},159:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},160:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},161:function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},162:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},163:function(t,e,n){var o=n(153);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}},164:function(t,e){function n(e,o){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,o)}t.exports=n},43:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},76:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}}]);