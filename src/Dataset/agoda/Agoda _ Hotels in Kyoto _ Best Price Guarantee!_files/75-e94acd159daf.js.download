(window.AgodaWebpackJsonp=window.AgodaWebpackJsonp||[]).push([[75],{1026:function(e,t){},2315:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n,o=r(77),i=r(55);!function(e){var t=function(e,t){return i.b.count(e,t)};e.TrackSortUsage=function(e,r){var n={sortClick:e+"_"+r};t(o.a.SORTBAR_CLICK,n)},e.TrackPriceFilterUsage=function(e){var r={type:e};t(o.a.PRICEFILTER_USAGE,r)}}(n||(n={}))},2899:function(e,t){},2900:function(e,t){},3079:function(e,t,r){"use strict";r.r(t),r.d(t,"SortBar",(function(){return P}));var n=r(4),o=r(3),i=r(8),s=r(14),a=r(951),l=r(44),p=(r(28),function(e){return Object(o.createElement)("svg",e,Object(o.createElement)("path",{d:"M20.738 16.96L11.9 8.121l-8.838 8.84a1.5 1.5 0 0 1-2.122-2.122l9.9-9.9a1.5 1.5 0 0 1 2.121 0l9.9 9.9a1.5 1.5 0 1 1-2.122 2.121z"}))});p.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var c=function(e){return Object(o.createElement)(l.a,e,Object(o.createElement)(p,{width:"1em",height:"1em"}))};c.displayName="ControlThinArrowUpFilledIcon";var d=c,u=function(e){return Object(o.createElement)("svg",e,Object(o.createElement)("path",{d:"M3.06 6.839l8.84 8.839 8.838-8.84A1.5 1.5 0 1 1 22.86 8.96l-9.9 9.9a1.5 1.5 0 0 1-2.121 0l-9.9-9.9A1.5 1.5 0 0 1 3.061 6.84z"}))};u.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var m=function(e){return Object(o.createElement)(l.a,e,Object(o.createElement)(u,{width:"1em",height:"1em"}))};m.displayName="ControlThinArrowDownFilledIcon";var h=m,f=function(e){return Object(o.createElement)("svg",e,Object(o.createElement)("path",{d:"M7.6 17.95l-3.479-3.914a1.5 1.5 0 0 0-2.242 1.993l4.645 5.226a1.5 1.5 0 0 0 2.28-.045L22.16 4.952a1.5 1.5 0 0 0-2.318-1.904L7.6 17.95z"}))};f.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var S=function(e){return Object(o.createElement)(l.a,e,Object(o.createElement)(f,{width:"1em",height:"1em"}))};S.displayName="BadgePositiveFilledIcon";var O=S,v=function(e){var t=e.isSelected,r=e.label;return t?o.createElement(i.p,{spacing:"S",justify:"space-between",alignItems:"center"},o.createElement(i.p.Item,{sm:10},o.createElement(i.A,{textSize:"M",color:"primary"},r)),o.createElement(i.p.Item,{sm:2},o.createElement(O,{size:"L",color:"primary"}))):o.createElement(i.A,{color:800,textSize:"M",light:!0},r)},g=(r(2899),r(89)),w=r(106),E=r(779),x=r(16),y=function(e){function t(t){var r=e.call(this,t)||this;return r.dataElements={},r.closeOnDocumentsClick=function(e){r.wrapperRef&&Object(g.a)(r.wrapperRef.contains)&&r.wrapperRef.contains(e.target)||r.close()},r.handleRef=function(e){return r.wrapperRef=e},r.handleListRef=function(e){return r.listRef=e},r.handleItemClick=function(e){r.props.onChange&&r.props.onChange(e),r.close()},r.handleClick=function(e){e.stopPropagation(),e.preventDefault(),r.toggle()},r.renderListItem=function(e,t){var n;return(null===(n=r.props.experiments)||void 0===n?void 0:n.condenseSortBar)?o.createElement(v,{isSelected:e,label:t}):t},r.renderNewHeader=function(e){return o.createElement(i.d,{minHeight:"40px",height:"100%",background:20,display:"flex",clone:!0,pt:"M",pl:"L",pr:"L"},o.createElement(i.A,{textSize:"M",strong:!0,color:500},e))},r.renderSingleHeaderWithOptions=function(){var e=r.props.multipleOptionsWithHeader&&r.props.multipleOptionsWithHeader[0]?r.props.multipleOptionsWithHeader[0].items:[];return o.createElement(o.Fragment,null,r.renderHeader(),o.createElement("ul",{className:"dropdown-list__items"},r.renderOptions(e)))},r.renderMultipleOptionsWithHeaderTitle=function(e){var t;return e?(null===(t=r.props.experiments)||void 0===t?void 0:t.condenseSortBar)?r.renderNewHeader(e):o.createElement("div",{className:"dropdown-list__subheader"},e):null},r.renderMultipleOptionsWithHeader=function(){return r.props.multipleOptionsWithHeader?r.props.multipleOptionsWithHeader.map((function(e,t){return o.createElement(o.Fragment,{key:t},r.renderMultipleOptionsWithHeaderTitle(e.title),o.createElement("ul",{className:"dropdown-list__subitems",key:t},r.renderMultipleOptions(e.items)))})):null},r.renderMultipleOptions=function(e){var t;return e.map((function(e){return t=e.id===r.props.selectedItemKey,o.createElement(E.a,{key:e.id,selected:t,onClick:r.handleItemClick,value:e.id,trackingElementName:r.props.isDistanceSorting?"search-sort-distance-landmark-item":null,trackingElementIndex:r.props.isDistanceSorting?Number(e.id):null},r.renderListItem(t,e.text))}))},r.state={opened:!1,offsetLeft:"0px",buttonHovering:!1},r.props.trackingElementName&&(r.dataElements["data-element-name"]=t.trackingElementName),r}return Object(n.c)(t,e),t.prototype.componentDidUpdate=function(e,t){t.opened!==this.state.opened&&(this.state.opened?document.addEventListener("click",this.closeOnDocumentsClick):document.removeEventListener("click",this.closeOnDocumentsClick))},t.prototype.toggle=function(){this.state.opened?this.close():this.open()},t.prototype.close=function(){this.props.onClose&&this.props.onClose(),this.setState({opened:!1})},t.prototype.setListStyle=function(){if("center"===this.props.alignment){var e=this.wrapperRef.offsetWidth;if(this.triggerWidth!==e){this.triggerWidth=e;var t=(this.triggerWidth-this.listRef.offsetWidth)/2;this.setState({offsetLeft:t+"px"})}}},t.prototype.open=function(){var e=this;this.props.onOpen&&this.props.onOpen(),this.setState({opened:!0},(function(){e.setListStyle()}))},t.prototype.getListClass=function(){var e="dropdown-list ";return"center"!==this.props.alignment&&(e+=" dropdown-list--align-"+this.props.alignment+" "),this.props.listClass&&(e+=this.props.listClass),this.state.opened&&(e+=" dropdown-list--opened "),this.props.sortOptionId===s.M.DistanceFromLandmark&&(e=Object(x.a)(e," dropdown-list--multiple-options ")),e},t.prototype.getDropdownStyle=function(){var e={};return e.display=this.state.opened?"block":"none","center"===this.props.alignment&&(e.left=this.state.offsetLeft),e},t.prototype.renderStaticOptions=function(){var e=this;return 0===o.Children.count(this.props.children)?[]:o.Children.toArray(this.props.children).map((function(t){var r=t.props.value===e.props.selectedItemKey,n={onClick:e.handleItemClick.bind(e,t.props.value),selected:r};return o.cloneElement(t,n)}))},t.prototype.renderOptions=function(e){var t=this,r=e.map((function(e){var r=e[t.props.keyProp],n=e[t.props.labelProp],i=r===t.props.selectedItemKey;return o.createElement(E.a,{key:r,selected:i,onClick:t.handleItemClick,value:r},t.renderListItem(i,n))}));return this.renderStaticOptions().concat(r)},t.prototype.renderHeader=function(){var e;return this.props.header?(null===(e=this.props.experiments)||void 0===e?void 0:e.condenseSortBar)?this.renderNewHeader(this.props.header):o.createElement("div",{className:"dropdown-list__header"},this.props.header):null},t.prototype.renderHeaderOptionIcon=function(){if(this.props.headerOptionIcon){var e=Object(x.a)("ficon ficon-18",this.props.headerOptionIcon);return o.createElement(w.a,{iconClass:e})}return null},t.prototype.renderText=function(){return o.createElement("div",{className:"dropdown-list__textContainer"},this.props.headerOptionText?o.createElement("span",{className:"dropdown-list__headerText"},this.props.headerOptionText):null,o.createElement("span",{className:"dropdown-list__text"},this.props.text))},t.prototype.renderTextWrapper=function(){return this.props.headerOptionText||this.props.headerOptionIcon?o.createElement("div",{className:"dropdown-list__Container text-wrapper"},this.renderHeaderOptionIcon(),this.renderText()):this.props.separateTextAndArrow?o.createElement("span",{className:"text-wrapper"},this.props.text):this.props.text},t.prototype.renderLink=function(){var e,t="ficon-icon-arrow-"+(this.state.opened?"up":"down"),r=this.props,n=r.experiments,i=r.renderDropdownButton;return(null===(e=n)||void 0===e?void 0:e.condenseSortBar)&&i?i(this.state.opened,this.state.buttonHovering):o.createElement("span",{className:"dropdown-list__link"},this.renderTextWrapper(),o.createElement("span",{className:"icon-wrapper"},o.createElement(w.a,{iconClass:t})))},t.prototype.renderDropDownArrow=function(){return this.props.showArrow?o.createElement("span",{className:"dropdown-list__arrow",style:{display:this.state.opened?"block":"none"}}):null},t.prototype.render=function(){var e,t=this,r=this.props.as||"div",i=(this.props.className||"")+(this.state.opened?" dropdown-wrapper--opened":""),s=null===(e=this.props.experiments)||void 0===e?void 0:e.condenseSortBar;return o.createElement(r,Object(n.a)({ref:this.handleRef,onClick:this.handleClick,className:"dropdown-wrapper "+i,onMouseEnter:s?function(){return t.setState({buttonHovering:!0})}:null,onMouseLeave:s?function(){return t.setState({buttonHovering:!1})}:null},this.dataElements),this.props.trigger||this.renderLink(),this.renderDropDownArrow(),o.createElement("div",{ref:this.handleListRef,className:this.getListClass(),tabIndex:-1,style:this.getDropdownStyle()},this.props.header?this.renderSingleHeaderWithOptions():this.renderMultipleOptionsWithHeader()))},t.displayName="DropdownList",t.defaultProps={alignment:"center",showArrow:!0,multipleOptionsWithHeader:[]},t}(o.PureComponent),I=function(e){var t,r=!!e.isUseNewPropertyCard,n=e.sortOptionId===s.M.DistanceFromLandmark,l=n&&e.sortOptionId===e.selectedSortOptionId,p=function(t){n?r?e.onItemSelection(e.sortOptionId,e.defaultSortOrderId,t,e.analyticText+"_"+t):e.onItemSelection(e.sortOptionId,t,null,e.analyticText+"_"+t):e.onItemSelection(t,e.defaultSortOrderId,null,e.analyticText+"_"+t)},c=function(){return n?u(e.listItems):Object(a.a)(e.items,(function(t){return r?t.sortType===e.selectedSortOptionId:t.id===e.selectedSortOptionId}))>-1},u=function(t){return e.sortOptionId!==e.selectedSortOptionId?null:t.map((function(t){return t.items.find((function(t){return r?t.id===e.selectedSortParamsId:t.id===e.selectedSortOrder}))}))},m=!e.experiments.condenseSortBar&&c()?Object(x.a)("selected",e.experiments.condenseSortBar?"":e.experiments.showSortByPriceHighlights?e.descriptionText&&!e.forcePartialSelectEnabled?"with-description":"":e.descriptionText?"with-description":""):"",f=l?e.isUseNewPropertyCard?e.selectedSortParamsId:e.selectedSortOrder:e.selectedSortOptionId,S=function(e){return c()?0:e?"primary":800},O=o.createElement(y,{as:"a",alignment:"left",listClass:"dropdown-list--sort-option",header:n?null:e.listTitle,keyProp:"id",labelProp:"text",text:e.captionText,onChange:p,showArrow:!1,onOpen:function(){c()||n||p(e.defaultSortOptionId)},selectedItemKey:f,className:m,trackingElementName:"search-sort-"+e.analyticText,multipleOptionsWithHeader:n?e.listItems:null,sortOptionId:e.sortOptionId,isDistanceSorting:n,experiments:e.experiments,renderDropdownButton:e.experiments.condenseSortBar?function(t,r){return o.createElement(i.d,{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"nowrap",p:"S"},e.captionText,function(e,t){return o.createElement(i.d,{clone:!0,display:"inline-block",mr:"S",ml:"S",flexShrink:0},e?o.createElement(d,{size:"XS",color:S(t)}):o.createElement(h,{size:"XS",color:S(t)}))}(t,r))}:null},n?null:function(t,i){return null==t?null:t.map((function(t,s){var a=n&&r?t.sortType:t.id;return o.createElement(E.a,{key:t.id,value:a,trackingElementName:"search-sort-"+e.analyticText,trackingElementIndex:s},function(t,r){var n;return(null===(n=e.experiments)||void 0===n?void 0:n.condenseSortBar)?o.createElement(v,{isSelected:t,label:r}):r}(i===a,t.text))}))}(e.items,f));return e.experiments.condenseSortBar?(t=O,o.createElement(i.d,{clone:!0,className:Object(x.c)("SortBar__Item",c()?"Selected":null)},t)):O};I.displayName="SortOptionList";var b=function(e){var t=e.selectedSortOptionId===e.sortOptionId,r="";e.experiments.condenseSortBar||(r=t?Object(x.a)("selected",e.experiments.showSortByPriceHighlights?e.descriptionText&&!e.forcePartialSelectEnabled?"with-description":"":e.descriptionText?"with-description":""):"",r=e.experiments.showSortByPriceHighlights&&e.forcePartialSelectEnabled&&e.sortOptionId===s.M.Price&&!t?Object(x.a)(r,"partial-selection"):r);var n,a=o.createElement("a",{className:r,onClick:function(){t||(e.isUseNewPropertyCard?e.onSelect(e.sortOptionId,e.defaultSortOrderId,e.sortParamsId,e.analyticText):e.onSelect(e.sortOptionId,e.defaultSortOrderId,null,e.analyticText))},"data-element-name":"search-sort-"+e.analyticText},o.createElement("span",null,e.captionText));return e.experiments.condenseSortBar?(n=a,o.createElement(i.d,{clone:!0,className:Object(x.c)("SortBar__Item",t?"Selected":null)},n)):a};b.displayName="SortOptionSingle";r(2900);var k,C=r(191),N=r(2315);(k||(k={})).createSortAction=function(e,t,r,n){var o={selectedSortOptionId:e,selectedSortParamsId:r,selectedOrderId:t,type:C.a.SEARCH_SORTING};return N.a.TrackSortUsage(n,t),o};var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSortSelection=function(e,r,n,o){var i=k.createSortAction(e,r,n,o);t.props.onSearch(i)},t.renderSortOptions=function(){var e,r=(null===(e=t.props.experiments)||void 0===e?void 0:e.condenseSortBar)?t.renderNewDivider():t.renderDivider();return t.props.sortOptions.map((function(e,n){var o;switch(e.type){case s.K.SortOptionSingle:o=t.renderSortOptionSingle(e.props);break;case s.K.SortOptionList:o=t.renderSortOptionList(e.props)}return[o,n<t.props.sortOptions.length-1?r:null]}))},t.renderDivider=function(){return o.createElement("span",{key:"divider",className:"sort-bar__divider"})},t.renderNewDivider=function(){return o.createElement("div",{className:"SortBar__Divider"})},t.renderSortOptionSingle=function(e){return o.createElement(b,Object(n.a)({},e,{key:t.props.selectedSortOptionId,selectedSortOptionId:t.props.selectedSortOptionId,onSelect:t.handleSortSelection,experiments:t.props.experiments,isUseNewPropertyCard:t.props.isUseNewPropertyCard,forcePartialSelectEnabled:!t.props.hasRankingInfo&&!t.props.isPackagePage&&!t.props.isChanged}))},t.renderSortOptionList=function(e){return o.createElement(I,Object(n.a)({},e,{key:t.props.selectedSortOptionId,selectedSortOptionId:t.props.selectedSortOptionId,onItemSelection:t.handleSortSelection,experiments:t.props.experiments,selectedSortOrder:t.props.selectedSortOrder,selectedSortParamsId:t.props.selectedSortParamsId,isUseNewPropertyCard:t.props.isUseNewPropertyCard,forcePartialSelectEnabled:!t.props.hasRankingInfo&&!t.props.isPackagePage&&!t.props.isChanged}))},t.renderHeader=function(){return o.createElement("a",{className:"sort-bar__header"},o.createElement("span",null,t.props.title))},t}return Object(n.c)(t,e),t.prototype.render=function(){var e,t=this.props.experiments;if(!this.props.sortOptions)return null;if(null===(e=t)||void 0===e?void 0:e.condenseSortBar)return this.renderCondensed();var r="sort-bar_col-"+(this.props.sortOptions&&this.props.sortOptions.length>0?this.props.sortOptions.length:"");return o.createElement("div",{className:Object(x.a)("sort-bar",r)},this.renderHeader(),this.renderSortOptions())},t.prototype.renderCondensed=function(){return o.createElement(i.d,{className:"SortBar",mt:"M",mb:"M"},this.renderSortOptions())},t}(o.PureComponent);t.default=P},779:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(4),o=r(3),i=r(16),s=(r(1026),function(e){var t=Object(i.a)(Object(i.c)("dropdown-list__item",e.modifiers),[e.className,e.disabled?"disabled":"",e.selected?"selected":""]),r={};return e.selenium&&(r["data-selenium"]=e.selenium),e.trackingElementName&&(r["data-element-name"]=e.trackingElementName),null!=e.trackingElementIndex&&(r["data-element-index"]=e.trackingElementIndex),o.createElement("li",Object(n.a)({key:e.value,className:t,onClick:function(t){t.stopPropagation(),t.preventDefault(),!e.disabled&&e.onClick&&e.onClick(e.value)},"data-element-name":"occ-child-age-dropdown"},r),e.children)});s.defaultProps={className:"",modifiers:"",disabled:!1,selected:!1,value:"",onClick:function(){}}}}]);