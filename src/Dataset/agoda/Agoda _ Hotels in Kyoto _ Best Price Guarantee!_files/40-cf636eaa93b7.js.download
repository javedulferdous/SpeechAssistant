(window.AgodaWebpackJsonp=window.AgodaWebpackJsonp||[]).push([[40,114],{1027:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var o=n(4),r=n(3),a=(n(1807),n(16)),i=n(86),s=n(602),c=n(192);n.d(t,"a",(function(){return c.a}));var l=n(307),p=n(553),u=r.lazy(Object(i.a)((function(){return n.e(135).then(n.bind(null,2031))})));function m(e){var t=Object(l.b)(e.backgroundImage)?Object(p.a)(e.backgroundImage,200,200):Object(p.b)(e.backgroundImage,200,200);return e.useAkamaiImageManager?t:e.backgroundImage}var d=function(e){if(!e.backgroundImage)return null;var t={image:m(e),className:e.imageContainerClassName,imageClassName:e.imageClassName,alt:e.altImage,withoutContainer:!e.imageContainerClassName,placeholderColor:!0},n=e.imageType?r.createElement(r.Suspense,{fallback:null},r.createElement(u,Object(o.a)({},t,{imageType:e.imageType}))):r.createElement(c.a,Object(o.a)({},t));return e.offsetVertical>=0?r.createElement(s.a,{offsetVertical:e.offsetVertical,isLazyLoadingLegacy:!0},n):n},f=function(e){var t=Object(a.a)(e.className,Object(a.c)("c-image-container",e.modifier)),n="none"===e.position?e.children:r.createElement("span",{className:"c-image-container__"+e.position},e.children);return r.createElement("div",{className:t},e.link?r.createElement("a",{className:"c-image-container__content",href:e.link},d(e),n):r.createElement("div",{className:"c-image-container__content"},d(e),n))};f.displayName="PostCard"},1807:function(e,t){},2044:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(3),r=function(e){var t=e.iconClassName||"ficon-noti-check-mark-sharp";return o.createElement("span",{className:e.containerClassName},o.createElement("input",{type:"checkbox"}),o.createElement("span",{className:"checkbox-icon"},!0===e.isSelected&&o.createElement("i",{className:"ficon filteritem-checkmark filteritem-checkmark--checked "+t}),null==e.isSelected&&o.createElement("i",{className:"ficon filteritem-checkmark filteritem-checkmark--indeterminate ficon-minus-thin"})))};r.displayName="CheckBox"},2047:function(e,t,n){"use strict";var o=n(95),r=n.n(o);t.a=r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node])},2052:function(e,t){},2055:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var o,r,a=n(3);n(2052);!function(e){e[e.Oval=0]="Oval",e[e.Square=1]="Square",e[e.TopNotch=2]="TopNotch",e[e.BottomNotch=3]="BottomNotch",e[e.BorderSquare=4]="BorderSquare"}(r||(r={}));var i=((o={})[r.Oval]="homes-badge--oval",o[r.Square]="homes-badge--square",o[r.TopNotch]="homes-badge--top-notch",o[r.BottomNotch]="homes-badge--bottom-notch",o[r.BorderSquare]="homes-badge--border-square",o),s=function(e){return a.createElement("div",{className:"homes-badge "+i[e.style?e.style:r.Oval]},a.createElement("img",{alt:"",className:"homes-badge__logo",src:"//cdn6.agoda.net/images/agoda-homes/homes-logo.svg"}),a.createElement("span",null,e.text))};s.displayName="HomesBadge"},2056:function(e,t,n){"use strict";var o=n(95),r=n.n(o);t.a=r.a.oneOfType([r.a.arrayOf(r.a.number),r.a.shape({lat:r.a.number,lng:r.a.number}),r.a.shape({lat:r.a.number,lon:r.a.number})])},2066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!0;var i={},s=void 0,c=void 0;for(s=0,c=n.length;s<c;s++)i[n[s]]=!0;for(s=0,c=r.length;s<c;s++){var l=r[s],p=e[l],u=t[l];if(p!==u){if(!i[l]||null===p||null===u||"object"!==(void 0===p?"undefined":o(p))||"object"!==(void 0===u?"undefined":o(u)))return!0;var m=Object.keys(p),d=Object.keys(u);if(m.length!==d.length)return!0;for(var f=0,h=m.length;f<h;f++){var g=m[f];if(p[g]!==u[g])return!0}}}return!1}},2067:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,r=n(960),a=n(45),i=n(191);!function(e){e.createStaticAction=function(e){switch(e){case i.a.MAPS_INITIALIZED:return{type:e,launchTimer:a.a.performanceNowWithFallback()}}},e.createToggleMapsAction=function(e,t,n){return{isMapOpened:e,actionInfo:t,propertyId:n,type:i.a.MAPS_TOGGLE_MAP}},e.createMapsReadyAction=function(e){return{map:e,type:i.a.MAPS_READY}},e.createToggleMapActionOnOpen=function(e,t,n){return{actionInfo:{action_type:r.a.LAUNCH_MAPS.action_type.CLICK,action_element_type:function(e){return void 0===e?r.a.LAUNCH_MAPS.action_element_type.ICON:r.a.LAUNCH_MAPS.action_element_type.LINK}(n),action_element_name:function(e,t){return void 0===t?e?r.a.LAUNCH_MAPS.action_element_name.MAP_OPEN_ICON_STICKY:r.a.LAUNCH_MAPS.action_element_name.MAP_OPEN_ICON_STATIC:r.a.LAUNCH_MAPS.action_element_name.MAP_OPEN_CARD_AREA_NAME}(t,n)},propertyId:n,type:i.a.MAPS_TOGGLE_MAP,isMapOpened:!0}},e.createToggleMapActionOnOpenThroughNumberOfUsers=function(e,t,n){return{actionInfo:{action_type:r.a.LAUNCH_MAPS.action_type.CLICK,action_element_type:r.a.LAUNCH_MAPS.action_element_type.ICON,action_element_name:function(e){return e?r.a.LAUNCH_MAPS.action_element_name.MAP_OPEN_ICON_STICKY:r.a.LAUNCH_MAPS.action_element_name.MAP_OPEN_ICON_STATIC}(t),action_element_value:String(n)},type:i.a.MAPS_TOGGLE_MAP,isMapOpened:!0}},e.createToggleMapActionOnClose=function(e){return{actionInfo:{action_type:r.a.CLOSE_MAPS.action_type.CLICK,action_element_type:-1!==e.currentTarget.className.indexOf("SearchPageReactMap-modal-closeIcon")?r.a.CLOSE_MAPS.action_element_type.ICON:r.a.CLOSE_MAPS.action_element_type.BLACK_AREA,action_element_name:r.a.CLOSE_MAPS.action_element_name.MAP_CLOSE},type:i.a.MAPS_TOGGLE_MAP,isMapOpened:!1}},e.createScrollToAction=function(e){return{propertyId:e,type:i.a.MAPS_SCROLL_TO_PROPERTY_CARD}}}(o||(o={}))},2076:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r);t.a=a.a.instanceOf(o.Map)},2077:function(e,t,n){"use strict";var o=n(95),r=n.n(o);t.a=r.a.oneOf(["topleft","topright","bottomleft","bottomright"])},2096:function(e,t,n){"use strict";var o=n(95),r=n.n(o),a=n(3),i=n.n(a),s=n(2129),c=n(2047),l=n(2137),p=n(2076),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var h=function(e){function t(){return m(this,t),d(this,e.apply(this,arguments))}return f(t,e),t.prototype.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},t.prototype.updateLeafletElement=function(e,t){},t.prototype.componentWillMount=function(){e.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},t.prototype.render=function(){var e=this.props.children;return a.Children.count(e)>1?i.a.createElement("div",{style:{display:"none"}},e):null==e?null:e},u(t,[{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),t}(s.a);h.propTypes={children:c.a},h.contextTypes={layerContainer:l.a,map:p.a,pane:r.a.string},t.a=h},2106:function(e,t,n){"use strict";var o=n(562),r=n(788),a=n(278);t.a=function(e,t,n){for(var i=-1,s=t.length,c={};++i<s;){var l=t[i],p=Object(o.a)(e,l);n(p,l)&&Object(r.a)(c,Object(a.a)(l,e),p)}return c}},2116:function(e,t,n){"use strict";n(592);var o=n(3),r=n(2077),a=n(2076);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},t.prototype.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},t.prototype.componentWillMount=function(){this.leafletElement=this.createLeafletElement(this.props)},t.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map)},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){this.leafletElement.remove()},t.prototype.render=function(){return null},t}(o.Component);l.propTypes={position:r.a},l.contextTypes={map:a.a},t.a=l},2118:function(e,t,n){"use strict";var o=n(95),r=n.n(o);t.a=r.a.object},2129:function(e,t,n){"use strict";var o=n(1666),r=n(353),a=n(119);var i=function(e,t,n,o,r){return r(e,(function(e,r,a){n=o?(o=!1,e):t(n,e,r,a)})),n},s=n(78);var c=function(e,t,n){var c=Object(s.a)(e)?o.a:i,l=arguments.length<3;return c(e,Object(a.a)(t,4),n,l,r.a)},l=n(196),p=n(362),u=n(2245),m=n(3),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var h=/^on(.+)$/i,g=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r._leafletEvents={},r}return f(t,e),t.prototype.componentWillMount=function(){this._leafletEvents=this.extractLeafletEvents(this.props)},t.prototype.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},t.prototype.componentWillReceiveProps=function(e){var t=this.extractLeafletEvents(e);this._leafletEvents=this.bindLeafletEvents(t,this._leafletEvents)},t.prototype.componentWillUnmount=function(){var e=this.leafletElement;e&&Object(p.a)(this._leafletEvents,(function(t,n){e.off(n,t)}))},t.prototype.extractLeafletEvents=function(e){return c(Object(l.a)(e),(function(t,n){if(h.test(n)){var o=n.replace(h,(function(e,t){return t.toLowerCase()}));null!=e[n]&&(t[o]=e[n])}return t}),{})},t.prototype.bindLeafletEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.leafletElement;if(null==n||null==n.on)return{};var o=Object(u.a)(t);return Object(p.a)(t,(function(t,r){e[r]&&t===e[r]||(delete o[r],n.off(r,t))})),Object(p.a)(e,(function(e,r){t[r]&&e===t[r]||(o[r]=e,n.on(r,e))})),o},t.prototype.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},t.prototype.getOptions=function(e){var t=null==e.pane?this.context.pane:e.pane;return t?d({},e,{pane:t}):e},t}(m.Component);t.a=g},2137:function(e,t,n){"use strict";var o=n(95),r=n.n(o);t.a=r.a.shape({addLayer:r.a.func.isRequired,removeLayer:r.a.func.isRequired})},2180:function(e,t,n){"use strict";var o=n(362),r=n(592),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter(Boolean)};t.a=function(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&Object(o.a)(a(t),(function(t){r.DomUtil.removeClass(e,t)})),null!=n&&n.length>0&&Object(o.a)(a(n),(function(t){r.DomUtil.addClass(e,t)})))}},2188:function(e,t,n){"use strict";e.exports=n(2189).default},2189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),i=u(a),s=u(n(95)),c=u(n(2190)),l=u(n(2191)),p=n(2198);function u(e){return e&&e.__esModule?e:{default:e}}var m=function(){return!0},d=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return f.call(o),o.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null},o.justPressedUpDown=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,c.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?(e.highlightFirstSuggestion&&this.highlightFirstSuggestion(),this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onSuggestionHighlighted;if(n){var o=this.state,r=o.highlightedSectionIndex,a=o.highlightedSuggestionIndex;if(r!==t.highlightedSectionIndex||a!==t.highlightedSuggestionIndex)n({suggestion:this.getHighlightedSuggestion()})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){this.setState((function(o){var r=o.valueBeforeUpDown;return null===t?r=null:null===r&&void 0!==n&&(r=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,valueBeforeUpDown:r}}))}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:e?null:n}}))}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,o=n.suggestions,r=n.multiSection,a=n.getSectionSuggestions;return r?a(o[e])[t]:o[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var o=this.props.inputProps,r=o.value,a=o.onChange;t!==r&&a(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,o=e.shouldRenderSuggestions,r=n.value;return t.length>0&&o(r)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value;return(this.state.valueBeforeUpDown||e).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,r=t.renderInputComponent,a=t.onSuggestionsFetchRequested,s=t.renderSuggestion,c=t.inputProps,u=t.multiSection,d=t.renderSectionTitle,f=t.id,h=t.getSectionSuggestions,g=t.theme,y=t.getSuggestionValue,P=t.alwaysRenderSuggestions,_=this.state,O=_.isFocused,b=_.isCollapsed,v=_.highlightedSectionIndex,S=_.highlightedSuggestionIndex,C=_.valueBeforeUpDown,I=P?m:this.props.shouldRenderSuggestions,E=c.value,M=c.onFocus,L=c.onKeyDown,T=this.willRenderSuggestions(this.props),w=P||O&&!b&&T,j=w?n:[],A=o({},c,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=I(E);e.setState({isFocused:!0,isCollapsed:!n}),M&&M(t),n&&a({value:E,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,o=I(n);e.maybeCallOnChange(t,n,"type"),e.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!o}),o?a({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,o){switch(t.key){case"ArrowDown":case"ArrowUp":if(b)I(E)&&(a({value:E,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var r=o.newHighlightedSectionIndex,i=o.newHighlightedItemIndex,s=void 0;s=null===i?null===C?E:C:e.getSuggestionValueByIndex(r,i),e.updateHighlightedSuggestion(r,i,E),e.maybeCallOnChange(t,s,"ArrowDown"===t.key?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout((function(){e.justPressedUpDown=!1}));break;case"Enter":if(229===t.keyCode)break;var c=e.getHighlightedSuggestion();if(w&&!P&&e.closeSuggestions(),null!==c){var l=y(c);e.maybeCallOnChange(t,l,"enter"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:S,sectionIndex:v,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout((function(){e.justSelectedSuggestion=!1}))}break;case"Escape":w&&t.preventDefault();var p=w&&!P;if(null===C){if(!p){e.maybeCallOnChange(t,"","escape"),I("")?a({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,C,"escape");p?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}L&&L(t)}}),R={query:this.getQuery()};return i.default.createElement(l.default,{multiSection:u,items:j,renderInputComponent:r,renderItemsContainer:this.renderSuggestionsContainer,renderItem:s,renderItemData:R,renderSectionTitle:d,getSectionItems:h,highlightedSectionIndex:v,highlightedItemIndex:S,inputProps:A,itemProps:this.itemProps,theme:(0,p.mapToAutowhateverTheme)(g),id:f,ref:this.storeAutowhateverRef})}}]),t}(a.Component);d.propTypes={suggestions:s.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:s.default.func,onSuggestionHighlighted:s.default.func,renderInputComponent:s.default.func,renderSuggestionsContainer:s.default.func,getSuggestionValue:s.default.func.isRequired,renderSuggestion:s.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:s.default.func,alwaysRenderSuggestions:s.default.bool,multiSection:s.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:s.default.bool,highlightFirstSuggestion:s.default.bool,theme:s.default.object,id:s.default.string},d.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return i.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:p.defaultTheme,id:"1"};var f=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var o=n.sectionIndex,r=n.itemIndex;e.updateHighlightedSuggestion(o,r)},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var o=e.props,r=o.alwaysRenderSuggestions,a=o.onSuggestionSelected,i=o.onSuggestionsFetchRequested;a&&a(t,n),r?i({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,o=n.alwaysRenderSuggestions,r=n.focusInputOnSuggestionClick,a=e.getSuggestionIndices(e.findSuggestionElement(t.target)),i=a.sectionIndex,s=a.suggestionIndex,c=e.getSuggestion(i,s),l=e.props.getSuggestionValue(c);e.maybeCallOnChange(t,l,"click"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:s,sectionIndex:i,method:"click"}),o||e.closeSuggestions(),!0===r?e.input.focus():e.onBlur(),setTimeout((function(){e.justSelectedSuggestion=!1}))},this.onBlur=function(){var t=e.props,n=t.inputProps,o=t.shouldRenderSuggestions,r=n.value,a=n.onBlur,i=e.getHighlightedSuggestion(),s=o(r);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!s}),a&&a(e.blurEvent,{highlightedSuggestion:i})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,o=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:o,query:e.getQuery()})}};t.default=d},2190:function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}},2191:function(e,t,n){"use strict";e.exports=n(2192).default},2192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(3),s=d(i),c=d(n(95)),l=d(n(2193)),p=d(n(2194)),u=d(n(2195)),m=d(n(2196));function d(e){return e&&e.__esModule?e:{default:e}}var f={},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,o=t.inputProps,a=t.highlightedSectionIndex,i=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var s="ArrowDown"===e.key?"next":"prev",c=n.sectionIterator[s]([a,i]),l=r(c,2),p=l[0],u=l[1];o.onKeyDown(e,{newHighlightedSectionIndex:p,newHighlightedItemIndex:u});break;default:o.onKeyDown(e,{highlightedSectionIndex:a,highlightedItemIndex:i})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map((function(t){return e.getSectionItems(t)})),this.sectionsLengths=this.sectionsItems.map((function(e){return e.length})),this.allSectionsAreEmpty=this.sectionsLengths.every((function(e){return 0===e})))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,l.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,p.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,o=n.id,r=n.items,a=n.renderItem,i=n.renderItemData,c=n.renderSectionTitle,l=n.highlightedSectionIndex,p=n.highlightedItemIndex,d=n.itemProps;return r.map((function(n,r){var f="react-autowhatever-"+o+"-",h=f+"section-"+r+"-",g=0===r;return s.default.createElement("div",t(h+"container","sectionContainer",g&&"sectionContainerFirst"),s.default.createElement(u.default,{section:n,renderSectionTitle:c,theme:t,sectionKeyPrefix:h}),s.default.createElement(m.default,{items:e.sectionsItems[r],itemProps:d,renderItem:a,renderItemData:i,sectionIndex:r,highlightedItemIndex:l===r?p:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:f,ref:e.storeItemsListReference}))}))}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,o=n.id,r=n.renderItem,a=n.renderItemData,i=n.highlightedSectionIndex,c=n.highlightedItemIndex,l=n.itemProps;return s.default.createElement(m.default,{items:e,itemProps:l,renderItem:r,renderItemData:a,highlightedItemIndex:null===i?c:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+o+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,o=t.scrollTop;n<o?o=n:n+e.offsetHeight>o+t.offsetHeight&&(o=n+e.offsetHeight-t.offsetHeight),o!==t.scrollTop&&(t.scrollTop=o)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,r=t.multiSection,a=t.renderInputComponent,i=t.renderItemsContainer,c=t.highlightedSectionIndex,l=t.highlightedItemIndex,p=this.state.isInputFocused,u=r?this.renderSections():this.renderItems(),m=null!==u,d=this.getItemId(c,l),f=e("react-autowhatever-"+n+"-container","container",m&&"containerOpen"),h="react-autowhatever-"+n,g=a(o({type:"text",value:"",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":h,"aria-expanded":m,"aria-haspopup":m,"aria-activedescendant":d},e("react-autowhatever-"+n+"-input","input",m&&"inputOpen",p&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),y=i({containerProps:o({id:h},e("react-autowhatever-"+n+"-items-container","itemsContainer",m&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:u});return s.default.createElement("div",f,g,y)}}]),t}(i.Component);h.propTypes={id:c.default.string,multiSection:c.default.bool,renderInputComponent:c.default.func,renderItemsContainer:c.default.func,items:c.default.array.isRequired,renderItem:c.default.func,renderItemData:c.default.object,renderSectionTitle:c.default.func,getSectionItems:c.default.func,inputProps:c.default.object,itemProps:c.default.oneOfType([c.default.object,c.default.func]),highlightedSectionIndex:c.default.number,highlightedItemIndex:c.default.number,theme:c.default.oneOfType([c.default.object,c.default.array])},h.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return s.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return s.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:f,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},inputProps:f,itemProps:f,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=h},2193:function(e,t,n){"use strict";var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.exports=function(e){var t=e.data,n=e.multiSection;function r(e){var r=o(e,2),a=r[0],i=r[1];return n?null===i||i===t[a]-1?null===(a=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(a))?[null,null]:[a,0]:[a,i+1]:0===t||i===t-1?[null,null]:null===i?[null,0]:[null,i+1]}return{next:r,prev:function(e){var r=o(e,2),a=r[0],i=r[1];return n?null===i||0===i?null===(a=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(a))?[null,null]:[a,t[a]-1]:[a,i-1]:0===t||0===i?[null,null]:null===i?[null,t-1]:[null,i-1]},isLast:function(e){return null===r(e)[1]}}}},2194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a,i=n(600),s=(a=i)&&a.__esModule?a:{default:a},c=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=o(t,2),a=n[0],i=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var l=n.map((function(e){return a[e]})).filter(c);return"string"==typeof l[0]||"function"==typeof i?{key:e,className:i?i.apply(void 0,r(l)):l.join(" ")}:{key:e,style:s.default.apply(void 0,[{}].concat(r(l)))}}},e.exports=t.default},2195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(3),a=c(r),i=c(n(95)),s=c(n(2066));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return l(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"shouldComponentUpdate",value:function(e){return(0,s.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,o=e.theme,r=e.sectionKeyPrefix,i=n(t);return i?a.default.createElement("div",o(r+"title","sectionTitle"),i):null}}]),t}(r.Component);u.propTypes={section:i.default.any.isRequired,renderSectionTitle:i.default.func.isRequired,theme:i.default.func.isRequired,sectionKeyPrefix:i.default.string.isRequired},t.default=u},2196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),i=p(a),s=p(n(95)),c=p(n(2197)),l=p(n(2066));function p(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;u(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.storeHighlightedItemReference=function(e){o.props.onHighlightedItemChange(null===e?null:e.item)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.itemProps,a=t.renderItem,s=t.renderItemData,l=t.sectionIndex,p=t.highlightedItemIndex,u=t.getItemId,m=t.theme,d=t.keyPrefix,f=null===l?d:d+"section-"+l+"-",h="function"==typeof r;return i.default.createElement("ul",o({role:"listbox"},m(f+"items-list","itemsList")),n.map((function(t,n){var d=0===n,g=n===p,y=f+"item-"+n,P=h?r({sectionIndex:l,itemIndex:n}):r,_=o({id:u(l,n)},m(y,"item",d&&"itemFirst",g&&"itemHighlighted"),P);return g&&(_.ref=e.storeHighlightedItemReference),i.default.createElement(c.default,o({},_,{sectionIndex:l,isHighlighted:g,itemIndex:n,item:t,renderItem:a,renderItemData:s}))})))}}]),t}(a.Component);d.propTypes={items:s.default.array.isRequired,itemProps:s.default.oneOfType([s.default.object,s.default.func]),renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,sectionIndex:s.default.number,highlightedItemIndex:s.default.number,onHighlightedItemChange:s.default.func.isRequired,getItemId:s.default.func.isRequired,theme:s.default.func.isRequired,keyPrefix:s.default.string.isRequired},d.defaultProps={sectionIndex:null},t.default=d},2197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),i=l(a),s=l(n(95)),c=l(n(2066));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,o;p(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.storeItemReference=function(e){null!==e&&(o.item=e)},o.onMouseEnter=function(e){var t=o.props,n=t.sectionIndex,r=t.itemIndex;o.props.onMouseEnter(e,{sectionIndex:n,itemIndex:r})},o.onMouseLeave=function(e){var t=o.props,n=t.sectionIndex,r=t.itemIndex;o.props.onMouseLeave(e,{sectionIndex:n,itemIndex:r})},o.onMouseDown=function(e){var t=o.props,n=t.sectionIndex,r=t.itemIndex;o.props.onMouseDown(e,{sectionIndex:n,itemIndex:r})},o.onClick=function(e){var t=o.props,n=t.sectionIndex,r=t.itemIndex;o.props.onClick(e,{sectionIndex:n,itemIndex:r})},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,r=e.renderItem,a=e.renderItemData,s=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete s.sectionIndex,delete s.itemIndex,"function"==typeof s.onMouseEnter&&(s.onMouseEnter=this.onMouseEnter),"function"==typeof s.onMouseLeave&&(s.onMouseLeave=this.onMouseLeave),"function"==typeof s.onMouseDown&&(s.onMouseDown=this.onMouseDown),"function"==typeof s.onClick&&(s.onClick=this.onClick),i.default.createElement("li",o({role:"option"},s,{ref:this.storeItemReference}),r(n,o({isHighlighted:t},a)))}}]),t}(a.Component);m.propTypes={sectionIndex:s.default.number,isHighlighted:s.default.bool.isRequired,itemIndex:s.default.number.isRequired,item:s.default.any.isRequired,renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onClick:s.default.func},t.default=m},2198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},2246:function(e,t,n){"use strict";var o=n(95),r=n.n(o),a=n(2056);t.a=r.a.arrayOf(a.a)},2295:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2096),s=n(2047);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return p(t,e),t.prototype.createLeafletElement=function(e){return new o.GridLayer(this.getOptions(e))},t.prototype.updateLeafletElement=function(e,t){var n=t.opacity,o=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),o!==e.zIndex&&this.leafletElement.setZIndex(o)},t.prototype.render=function(){return null},t}(i.a);u.propTypes={children:s.a,opacity:a.a.number,zIndex:a.a.number},t.a=u},2356:function(e,t){},2369:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(4),r=n(3),a=n(94),i=(n(2370),function(e){var t=e.isPriceBeforeGiftcard?{"data-element-name":"price-before-giftcard"}:{},n=r.createElement("span",Object(o.a)({className:"price dark-gray-text","data-selenium":"display-price-cor"},t),e.formattedRate);e.isDisplayLine&&(n=r.createElement("del",{className:"crossout-line","data-element-name":e.dataElementName?e.dataElementName:"","data-element-cor":e.dataElementCor,"data-element-type":e.dataElementType,"data-is-original-cor":e.isOriginalCor,"data-hasown-cor":e.hasOwnCOR,"data-room-price":e.dataRoomPrice,"data-element-value":e.dataElementValue},n));var i="cor-container-display "+(e.containerClass?e.containerClass:"");return r.createElement("div",{className:i,"data-selenium":"cor-container"},e.text?r.createElement("span",{className:"price-text"},e.text):null,e.toolTipText?r.createElement(a.a,{placement:"topRight",overlayClassName:"cor-tooltip",overlay:e.toolTipText},n):n)});i.displayName="CrossOutRateDisplay"},2370:function(e,t){},2371:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(3),r=(n(2372),o.memo((function(e){return e&&e.title?o.createElement("div",{className:"SimplePropertyCardHeader"},e.title):null})));r.displayName="SimplePropertyCardHeader"},2372:function(e,t){},2373:function(e,t){},2396:function(e,t,n){"use strict";var o=n(2106),r=n(1702);var a=function(e,t){return Object(o.a)(e,t,(function(t,n){return Object(r.a)(e,n)}))},i=n(717),s=Object(i.a)((function(e,t){return null==e?{}:a(e,t)})),c=n(698),l=n(2096),p=n(2047),u=n(2118);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var h=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],g=function(e){function t(){return m(this,t),d(this,e.apply(this,arguments))}return f(t,e),t.prototype.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.setStyleIfChanged(t,this.props)},t.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},t.prototype.getPathOptions=function(e){return s(e,h)},t.prototype.setStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.leafletElement.setStyle(e)},t.prototype.setStyleIfChanged=function(e,t){var n=this.getPathOptions(t);Object(c.a)(n,this.getPathOptions(e))||this.setStyle(n)},t}(l.a);g.childContextTypes={children:p.a,popupContainer:u.a};t.a=g},2400:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(4),r=n(3),a=(n(2356),n(89)),i=function(e){var t,n;return r.createElement("li",{key:e.option.key,className:"select-dropdown-list__item"+(e.option&&e.option.optionClass||"")+(e.option.isSelected?" selected":""),onClick:function(t){if(t.stopPropagation(),Object(a.a)(e.option.onMapSortClick)){var n={selectedSortOptionId:e.option.sortOptionId,selectedSortOrder:e.option.sortOrder};e.option.onMapSortClick(n)}Object(a.a)(e.option.onClick)&&t.target instanceof HTMLElement&&e.option.onClick(t.currentTarget.innerText)}},r.createElement("span",null,(e.option.isSelected?(t=e.option.icon,n="selected-icon selected"):n="selected-icon",r.createElement("span",{className:n},t)),r.createElement("span",null,e.children)))},s=n(106),c=function(e){function t(t){var n=e.call(this,t)||this;return n.closeOnDocumentsClick=function(e){n.wrapperRef&&Object(a.a)(n.wrapperRef.contains)&&n.wrapperRef.contains(e.target)||n.close()},n.handleRef=function(e){return n.wrapperRef=e},n.handleListRef=function(e){return n.listRef=e},n.handleMapSortItemClick=function(e){Object(a.a)(n.props.functions.onMapSortChange)&&n.props.functions.onMapSortChange(e),n.close()},n.handleItemClick=function(e){Object(a.a)(n.props.functions.onChange)&&n.props.functions.onChange(e),Object(a.a)(n.props.functions.onClick)&&n.props.functions.onClick()},n.handleClick=function(e){e.stopPropagation(),Object(a.a)(n.props.functions.onClick)&&n.props.functions.onClick(),n.toggle()},n.state={opened:!1,offsetLeft:"0px"},n}return Object(o.c)(t,e),t.prototype.componentDidUpdate=function(e,t){t.opened!==this.state.opened&&(this.state.opened?document.addEventListener("click",this.closeOnDocumentsClick):document.removeEventListener("click",this.closeOnDocumentsClick))},t.prototype.toggle=function(){this.state.opened?this.close():this.open()},t.prototype.close=function(){Object(a.a)(this.props.functions.onClose)&&this.props.functions.onClose(),this.setState({opened:!1})},t.prototype.setListStyle=function(){if("center"===this.props.viewProps.alignment){var e=this.wrapperRef.offsetWidth;if(this.triggerWidth!==e){this.triggerWidth=e;var t=(this.triggerWidth-this.listRef.offsetWidth)/2;this.setState({offsetLeft:t+"px"})}}},t.prototype.open=function(){var e=this;Object(a.a)(this.props.functions.onOpen)&&this.props.functions.onOpen(),this.setState({opened:!0},(function(){e.setListStyle()}))},t.prototype.getListClass=function(){var e="";return"center"!==this.props.viewProps.alignment&&(e+="select-dropdown-list--align-"+this.props.viewProps.alignment+" "),this.props.viewProps.listClass&&(e+=this.props.viewProps.listClass),e},t.prototype.getDropdownStyle=function(){var e={};return e.display=this.state.opened?"block":"none","center"===this.props.viewProps.alignment&&(e.left=this.state.offsetLeft),e},t.prototype.renderOptions=function(){var e=this;return this.props.options.map((function(t){var n=t.key===e.props.selectedOption.selectedItemKey,a=Object(o.a)(Object(o.a)({},t),{isSelected:n,onMapSortClick:e.handleMapSortItemClick,onClick:e.handleItemClick});return r.createElement(i,{key:t.key,option:a},t.text)}))},t.prototype.renderText=function(){for(var e="",t=0;t<this.props.options.length;t+=1){var n=this.props.options[t];if(this.props.selectedOption.selectedItemKey===n.key){e=Object(a.a)(n.getTextWithUnit)?n.getTextWithUnit(n.text):n.text;break}}return e},t.prototype.renderLink=function(){var e=r.createElement("span",{className:"icon-wrapper"},r.createElement(s.a,{iconClass:"ficon-icon-arrow-down"}));return r.createElement("span",null,this.props.viewProps&&this.props.viewProps.dropdownIconElement,this.renderText(),this.props.viewProps&&this.props.viewProps.iconElement||e)},t.prototype.render=function(){var e=this.props.viewProps.parentElement||"div";return r.createElement(e,{ref:this.handleRef,onClick:this.handleClick,onChange:Object(a.a)(this.props.functions.onChange)?this.props.functions.onChange:null,onMouseLeave:Object(a.a)(this.props.functions.onMouseLeave)?this.props.functions.onMouseLeave:null,className:"select-dropdown-wrapper "+(this.props.viewProps.dropdownClass||""),"data-selenium":this.props.viewProps.dataSelenium,value:this.props.selectedOption.selectedItemKey,"data-element-name":this.props.viewProps.dataElement},this.renderLink(),r.createElement("div",{ref:this.handleListRef,className:"select-dropdown-list "+this.getListClass(),tabIndex:-1,style:this.getDropdownStyle()},r.createElement("ul",{className:"select-dropdown-list__items"},this.renderOptions())))},t.displayName="SelectDropdownList",t}(r.PureComponent)},2602:function(e,t,n){"use strict";n.r(t),n.d(t,"CMA_MONEY_EARNED_BANNER_STORAGE_KEY",(function(){return p})),n.d(t,"CmaMoneyEarnedBannerClass",(function(){return u})),n.d(t,"CmaMoneyEarnedBanner",(function(){return m}));var o=n(4),r=n(3),a=(n(2373),n(10)),i=n(48),s=n(59),c=n(16),l=n(134),p="CmaMoneyEarnedBannerClosed",u=function(e){function t(t){var n=e.call(this,t)||this;return n.onCloseBanner=function(){setTimeout((function(){return Object(s.e)(p,"true")}),0),n.setState({isClosed:!0})},n.state={isClosed:!0},n}return Object(o.c)(t,e),t.prototype.componentDidMount=function(){this.setState({isClosed:!!Object(s.a)(p)})},t.prototype.render=function(){var e=Object(c.c)("CmaMoneyEarnedBanner",this.props.bannerModifiers);return this.state.isClosed?null:r.createElement("div",{className:e,"data-element-name":"cma-ssr-money-earned-banner"},r.createElement("div",{className:"CmaMoneyEarnedBanner__Content"},r.createElement("div",{className:"CmaMoneyEarnedBanner__ContentText"},this.props.bannerText),r.createElement("div",{className:"CmaMoneyEarnedBanner__ContentClose"},r.createElement("i",{className:"ficon ficon-12 ficon-line-close",onClick:this.onCloseBanner,"data-element-name":"cma-ssr-money-earned-banner-close"}))))},t.displayName="CmaMoneyEarnedBanner",t}(r.Component),m=Object(i.withoutFeature)(Object(a.withTranslations)(u,(function(e){return{bannerText:e.CmaMoneyEarnedBannerText}})),l.a.RegulationHideRankingInfo);t.default=m},2672:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2295),s=n(2047);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return p(t,e),t.prototype.createLeafletElement=function(e){return new o.TileLayer(e.url,this.getOptions(e))},t.prototype.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n),n.url!==t.url&&this.leafletElement.setUrl(n.url)},t}(i.a);u.propTypes={children:s.a,opacity:a.a.number,url:a.a.string.isRequired,zIndex:a.a.number},t.a=u},2673:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2116),s=n(2077);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return p(t,e),t.prototype.createLeafletElement=function(e){return new o.Control.Attribution(e)},t}(i.a);u.propTypes={position:s.a,prefix:a.a.string},t.a=u},2674:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2096),s=n(2047),c=n(2056),l=n(2118);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d=function(e){function t(){return p(this,t),u(this,e.apply(this,arguments))}return m(t,e),t.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},t.prototype.createLeafletElement=function(e){return new o.Marker(e.position,this.getOptions(e))},t.prototype.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},t}(i.a);d.propTypes={children:s.a,draggable:a.a.bool,icon:a.a.instanceOf(o.Icon),opacity:a.a.number,position:c.a.isRequired,zIndexOffset:a.a.number},d.childContextTypes={popupContainer:l.a},t.a=d},2675:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2116),s=n(2077);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return p(t,e),t.prototype.createLeafletElement=function(e){return new o.Control.Zoom(e)},t}(i.a);u.propTypes={position:s.a,zoomInText:a.a.string,zoomInTitle:a.a.string,zoomOutText:a.a.string,zoomOutTitle:a.a.string},t.a=u},2676:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(2116),s=n(2077);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u=function(e){function t(){return c(this,t),l(this,e.apply(this,arguments))}return p(t,e),t.prototype.createLeafletElement=function(e){return new o.Control.Scale(e)},t}(i.a);u.propTypes={imperial:a.a.bool,maxWidth:a.a.number,metric:a.a.bool,position:s.a,updateWhenIdle:a.a.bool},t.a=u},2903:function(e,t,n){"use strict";function o(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),o=URL.createObjectURL(n);try{t=new Worker(o),e=!0}catch(t){e=!1}t&&t.terminate();return URL.revokeObjectURL(o),e}()&&"Uint8ClampedArray"in window&&function(e){void 0===r[e]&&(r[e]=function(e){var t=document.createElement("canvas"),n=Object.create(o.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e));return r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=o:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=o);var r={};o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},2904:function(e,t){},2905:function(e,t){},2906:function(e,t){},2907:function(e,t){},2908:function(e,t){},2909:function(e,t){},2910:function(e,t){},2911:function(e,t){},2912:function(e,t){},2913:function(e,t){},2914:function(e,t){},2915:function(e,t){},2916:function(e,t){},2917:function(e,t){},2918:function(e,t){},2919:function(e,t){},2920:function(e,t){},2921:function(e,t){},2922:function(e,t){},2923:function(e,t){},2924:function(e,t){},2925:function(e,t){},2926:function(e,t){},2927:function(e,t){},2928:function(e,t){},2929:function(e,t){},2930:function(e,t){},2931:function(e,t){},2932:function(e,t){},2933:function(e,t){},2934:function(e,t){},2935:function(e,t){},2936:function(e,t){},2937:function(e,t){},2938:function(e,t){},2939:function(e,t){},2940:function(e,t){},3014:function(e,t,n){"use strict";var o=n(829),r=n(276),a=n(592),i=n(95),s=n.n(i),c=n(3),l=n.n(c),p=n(2129),u=n(2246),m=s.a.oneOfType([s.a.instanceOf(a.LatLngBounds),u.a]),d=n(2047),f=n(2056),h=n(2137),g=n(2076),y=s.a.shape({center:f.a,zoom:s.a.number}),P=n(2180);function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var O=["children","className","id","style","useFlyTo","whenReady"],b=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},v=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.viewport={center:void 0,zoom:void 0},r._updating=!1,r.onViewportChange=function(){var e=r.leafletElement.getCenter();r.viewport={center:e?[e.lat,e.lng]:void 0,zoom:r.leafletElement.getZoom()},r.props.onViewportChange&&!r._updating&&r.props.onViewportChange(r.viewport)},r.onViewportChanged=function(){r.props.onViewportChanged&&!r._updating&&r.props.onViewportChanged(r.viewport)},r.bindContainer=function(e){r.container=e},r.className=n.className,r}return _(t,e),t.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,map:this.leafletElement}},t.prototype.createLeafletElement=function(e){var t=e.viewport,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["viewport"]);return t&&(t.center&&(n.center=t.center),"number"==typeof t.zoom&&(n.zoom=t.zoom)),new a.Map(this.container,n)},t.prototype.updateLeafletElement=function(e,t){this._updating=!0;var n=t.animate,o=t.bounds,r=t.boundsOptions,a=t.boxZoom,i=t.center,s=t.className,c=t.doubleClickZoom,l=t.dragging,p=t.keyboard,u=t.maxBounds,m=t.scrollWheelZoom,d=t.tap,f=t.touchZoom,h=t.useFlyTo,g=t.viewport,y=t.zoom;if(Object(P.a)(this.container,e.className,s),g&&g!==e.viewport){var _=g.center?g.center:i,O=null==g.zoom?y:g.zoom;!0===h?this.leafletElement.flyTo(_,O,{animate:n}):this.leafletElement.setView(_,O,{animate:n})}else i&&this.shouldUpdateCenter(i,e.center)?!0===h?this.leafletElement.flyTo(i,y,{animate:n}):this.leafletElement.setView(i,y,{animate:n}):"number"==typeof y&&y!==e.zoom&&(null==e.zoom?this.leafletElement.setView(i,y):this.leafletElement.setZoom(y));u&&this.shouldUpdateBounds(u,e.maxBounds)&&this.leafletElement.setMaxBounds(u),o&&(this.shouldUpdateBounds(o,e.bounds)||r!==e.boundsOptions)&&(!0===h?this.leafletElement.flyToBounds(o,r):this.leafletElement.fitBounds(o,r)),a!==e.boxZoom&&(!0===a?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),c!==e.doubleClickZoom&&(!0===c?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable()),l!==e.dragging&&(!0===l?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),p!==e.keyboard&&(!0===p?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),m!==e.scrollWheelZoom&&(!0===m||"string"==typeof m?(this.leafletElement.options.scrollWheelZoom=m,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),d!==e.tap&&(!0===d?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),f!==e.touchZoom&&(!0===f||"string"==typeof f?(this.leafletElement.options.touchZoom=f,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},t.prototype.componentDidMount=function(){var t=Object(o.a)(this.props,O);this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),Object(r.a)(t.bounds)||this.leafletElement.fitBounds(t.bounds,t.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),e.prototype.componentDidMount.call(this),this.forceUpdate()},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},t.prototype.shouldUpdateCenter=function(e,t){return!t||(e=b(e),t=b(t),e[0]!==t[0]||e[1]!==t[1])},t.prototype.shouldUpdateBounds=function(e,t){return!t||!Object(a.latLngBounds)(e).equals(Object(a.latLngBounds)(t))},t.prototype.render=function(){var e=this.leafletElement?this.props.children:null;return l.a.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},e)},t}(p.a);v.propTypes={animate:s.a.bool,bounds:m,boundsOptions:s.a.object,center:f.a,children:d.a,className:s.a.string,id:s.a.string,maxBounds:m,maxZoom:s.a.number,minZoom:s.a.number,style:s.a.object,useFlyTo:s.a.bool,viewport:y,whenReady:s.a.func,zoom:s.a.number},v.childContextTypes={layerContainer:h.a,map:g.a};t.a=v},3017:function(e,t,n){"use strict";var o=n(592),r=n(95),a=n.n(r),i=n(3),s=n(28),c=n(2129),l=n(2180);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d=function(e){function t(){var n,o;p(this,t);for(var r=arguments.length,a=Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=o=u(this,e.call.apply(e,[this].concat(a))),o.onClose=function(){o.removeContent(),o.props.onClose&&o.props.onClose()},o.onOpen=function(){o.renderContent(),o.props.onOpen&&o.props.onOpen()},o.renderContent=function(){null==o.props.children?o.removeContent():Object(s.render)(i.Children.only(o.props.children),o.leafletElement._contentNode,(function(){o.leafletElement.update(),o.onRender()}))},o.removeContent=function(){o.leafletElement._contentNode&&Object(s.unmountComponentAtNode)(o.leafletElement._contentNode)},u(o,n)}return m(t,e),t.prototype.updateLeafletElement=function(e,t){},t.prototype.componentDidUpdate=function(e){Object(l.a)(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&this.renderContent()},t.prototype.onRender=function(){},t.prototype.render=function(){return null},t}(c.a);d.propTypes={children:a.a.node,onClose:a.a.func,onOpen:a.a.func};var f=d,h=n(2056),g=n(2118),y=n(2076),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var v=function(e){function t(){var n,o;_(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=O(this,e.call.apply(e,[this].concat(a))),o.onPopupOpen=function(e){e.popup===o.leafletElement&&o.onOpen()},o.onPopupClose=function(e){e.popup===o.leafletElement&&o.onClose()},o.onRender=function(){!1!==o.props.autoPan&&o.leafletElement.isOpen()&&(o.leafletElement._map&&o.leafletElement._map._panAnim&&(o.leafletElement._map._panAnim=void 0),o.leafletElement._adjustPan())},O(o,n)}return b(t,e),t.prototype.getOptions=function(t){return P({},e.prototype.getOptions.call(this,t),{autoPan:!1})},t.prototype.createLeafletElement=function(e){return new o.Popup(this.getOptions(e),this.context.popupContainer)},t.prototype.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)},t.prototype.componentWillMount=function(){e.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.leafletElement.options.autoPan=!1!==this.props.autoPan,this.context.map.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose})},t.prototype.componentDidMount=function(){var e=this.props.position,t=this.context,n=t.map,o=t.popupContainer,r=this.leafletElement;o?o.bindPopup(r):(e&&r.setLatLng(e),r.openOn(n))},t.prototype.componentWillUnmount=function(){this.removeContent(),this.context.map.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),this.context.map.removeLayer(this.leafletElement),e.prototype.componentWillUnmount.call(this)},t}(f);v.propTypes={children:a.a.node,onClose:a.a.func,onOpen:a.a.func,position:h.a},v.contextTypes={map:y.a,popupContainer:g.a,pane:a.a.string},v.defaultProps={pane:"popupPane"};t.a=v},3071:function(e,t,n){"use strict";n.r(t),n.d(t,"MapsSearchPageRoot",(function(){return Ar}));var o,r=n(4),a=n(3),i=n(89),s=n(191),c=n(436),l=n(45),p=n(767);!function(e){e.closeMaps=function(e,n){t(e,n)&&Object(p.d)({map_time_spent:l.a.diff(n.trackingEvents.launchTimer)/1e3,action_info:e.displayInfo.actionInfo})},e.closePage=function(e,t){t.displayInfo.isMapInitialized&&null!=t.trackingEvents.launchTimer&&Object(p.d)({map_time_spent:l.a.diff(t.trackingEvents.launchTimer)/1e3,action_info:{action_type:c.a.CLOSE_MAPS.action_type.LEAVE,action_element_type:c.a.CLOSE_MAPS.action_element_type.PAGE,action_element_name:c.a.CLOSE_MAPS.action_element_name.MAP_CLOSE}})};var t=function(e,t){return e&&e.displayInfo&&e.displayInfo.actionInfo&&t&&t.trackingEvents&&null!=t.trackingEvents.launchTimer}}(o||(o={}));var u,m="OnMouseLeavePropertyCard",d="OnMouseEnterPropertyCard",f="OnClickPropertyCard",h="OnMapLaunchedUpdater",g="OnMapLaunchedCallback",y=n(18),P=n(2144),_=n(2903),O=function(){return _({failIfMajorPerformanceCaveat:!1})},b=n(592),v=n(64),S=function(){function e(){}return e.load=function(t){var n=this,o=Object(r.a)(Object(r.a)({},this.defaultResource),t);return new Promise((function(t,r){b.mapboxGL?t({}):e.mapboxIsLoading||(e.mapboxIsLoading=!0,Promise.all([n.loadJS(o),n.loadCSS(o)]).then((function(){e.mapboxIsLoading=!1,t({})})).catch((function(){e.mapboxIsLoading=!1,r({})})))}))},e.loadJS=function(e){return new Promise((function(t,n){var o=v.parse(e.apiURL,!0),r=v.format(o),a=document.createElement("script");a.onerror=function(){n()},a.onload=function(){t({})},a.type="text/javascript",a.src=r,document.body.appendChild(a)}))},e.loadCSS=function(e){return new Promise((function(t,n){var o=v.parse(e.cssURL,!0),r=v.format(o),a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.media="all",a.href=r,a.onerror=function(){n()},a.onload=function(){t({})},document.body.appendChild(a)}))},e.mapboxIsLoading=!1,e.defaultResource={apiURL:"//api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js",cssURL:"//api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css"},e}(),C=n(1023);!function(e){e.clickHotelNameOnPropertyCard=function(e,n,o){t(n,o)&&Object(p.c)({action_info:{action_type:c.a.CLICK_THROUGH.action_type.CLICK,action_element_type:c.a.CLICK_THROUGH.action_element_type.PROPERTY_NAME,action_element_name:c.a.CLICK_THROUGH.action_element_name.MAP_TO_PROPERTY_NAME,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId)})},e.clickMoreDetailsButtonOnPropertyCard=function(e,n,o){t(n,o)&&Object(p.c)({action_info:{action_type:c.a.CLICK_THROUGH.action_type.CLICK,action_element_type:c.a.CLICK_THROUGH.action_element_type.BUTTON,action_element_name:c.a.CLICK_THROUGH.action_element_name.MAP_TO_PROPERTY_BUTTON,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId)})},e.clickPopupOnMap=function(e,n,o){t(n,o)&&Object(p.c)({action_info:{action_type:c.a.CLICK_THROUGH.action_type.CLICK,action_element_type:c.a.CLICK_THROUGH.action_element_type.POPUP,action_element_name:c.a.CLICK_THROUGH.action_element_name.MAP_TO_PROPERTY_POPUP,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId)})},e.clickHotelNameOnPropertyPreview=function(e,n,o){t(n,o)&&Object(p.c)({action_info:{action_type:c.a.CLICK_THROUGH.action_type.CLICK,action_element_type:c.a.CLICK_THROUGH.action_element_type.PROPERTY_NAME,action_element_name:c.a.CLICK_THROUGH.action_element_name.MAP_PREVIEW_TO_PROPERTY_NAME,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId)})},e.clickButtonOnPropertyPreview=function(e,n,o){t(n,o)&&Object(p.c)({action_info:{action_type:c.a.CLICK_THROUGH.action_type.CLICK,action_element_type:c.a.CLICK_THROUGH.action_element_type.BUTTON,action_element_name:c.a.CLICK_THROUGH.action_element_name.MAP_PREVIEW_TO_PROPERTY_BUTTON,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId)})};var t=function(e,t){return t&&null!=t.propertyId&&e&&e.properties}}(u||(u={}));var I,E,M,L=n(701),T=n(430);!function(e){e.dragMap=function(e,n,o){t(n,{action_type:c.a.MOVE_MAPS.action_type.DRAG,action_element_type:c.a.MOVE_MAPS.action_element_type.MAP,action_element_name:c.a.MOVE_MAPS.action_element_name.MAP_MOVE})},e.zoomMap=function(e,n,o){t(n,{action_type:c.a.MOVE_MAPS.action_type.CLICK,action_element_type:c.a.MOVE_MAPS.action_element_type.MAP,action_element_name:c.a.MOVE_MAPS.action_element_name.MAP_ZOOM})};var t=function(e,t){n(e)&&Object(T.g)({action_info:Object(r.a)({},t),map_info:Object(L.a)(e.mapInfo.previousRectangle.bounds,e.mapInfo.previousRectangle.zoom),map_next_info:Object(L.d)(e.mapInfo.currentRectangle.bounds,e.mapInfo.currentRectangle.zoom)})},n=function(e){return e&&e.mapInfo&&e.mapInfo.previousRectangle&&e.mapInfo.previousRectangle.bounds&&e.mapInfo.previousRectangle.zoom&&e.mapInfo.currentRectangle&&e.mapInfo.currentRectangle.bounds&&e.mapInfo.currentRectangle.zoom}}(I||(I={})),(M=E||(E={})).handleMapsDragEnd=function(e,t,n){return new Promise((function(o,r){n.mapInfo.isMapsReady&&I.dragMap(t,n,e)}))},M.handleMapsZoomEnd=function(e,t,n){return new Promise((function(o,r){n.mapInfo.isMapsReady&&I.zoomMap(t,n,e)}))},M.handlePropertyNameClick=function(e,t,n){return new Promise((function(o,r){u.clickHotelNameOnPropertyCard(t,n,e)}))},M.handlePropertyMoreDetailsClick=function(e,t,n){return new Promise((function(o,r){u.clickMoreDetailsButtonOnPropertyCard(t,n,e)}))},M.handlePopupClick=function(e,t,n){return new Promise((function(o,r){u.clickPopupOnMap(t,n,e)}))};var w,j,A,R=n(700),N=n(100);(j=w||(w={})).renderCloseButton=function(e){return a.createElement("div",{className:"SearchPageReactMap-modal-close"},a.createElement("span",{className:"SearchPageReactMap-modal-closeIcon ficon ficon-24 ficon-x-icon","data-selenium":"search-map-close",onClick:e}))},j.getGooglePlaceService=function(){return new(Object(y.h)().google.maps.places.PlacesService)(Object(y.f)().createElement("div"))},j.getGoogleAutoCompleteService=function(){return new(Object(y.h)().google.maps.places.AutocompleteService)},j.getGooglePlaceServiceStatus=function(){return Object(y.h)().google.maps.places.PlacesServiceStatus},j.getGoogleLatLng=function(e,t){return new(Object(y.h)().google.maps.LatLng)(e,t)},function(e){e.WF_EVENTS={MAP_INIT:"map_init"},e.WF_TAGS={REACT_IMPLEMENTATION:"react"},e.ACTION_NAMES={},e.STAR_RATING_CLASS="mapsStarRating",e.SOLD_OUT_PIN_ICON_CLASS="pin-soldout",e.NHA_PIN_ICON_CLASS="pin-nha",e.HOMES_PIN_ICON_CLASS="pin-homes",e.ACTIVE_PIN_ICON_CLASS="active-pin-icon",e.GOOGLE_PLACE_RADIUS=5e4}(A||(A={}));var x,k,D,H,U,B,F,G,z,V,K,Z,W,q=function(){function e(){}return e.MAP_LOAD_CHECKING_INTERVAL=100,e.GOOGLE_CHANNEL="agoda",e.SEARCHPAGE_GOOGLE_CHANNEL="agoda-ssr",e.GOOGLE_CLIENT="gme-booking",e}(),Y=n(46);k=x||(x={}),D=null,H=!1,U=q.GOOGLE_CHANNEL,B=q.GOOGLE_CLIENT,k.loadGoogleApi=function(e){if(H&&D)return D;var t=Object(y.h)();return t&&t.google&&t.google.maps&&t.google.maps.places?Promise.resolve():D=new Promise((function(t,n){H=!0;var o=e.userData&&e.userData.twoLetterISOLanguageName,r="https://maps.googleapis.com/maps/api/js?libraries=places&client="+B+"&channel="+U+(null!==o?"&language="+o:"");Object(Y.j)(r,(function(){t(),H=!1}),(function(){n(new Error("failed to load google script")),H=!1}))}))},(G=F||(F={})).sendRealTimeMapLoadStatus=function(e,t,n){R.a.measure(A.WF_EVENTS.MAP_INIT,n,{status:t,provider:e,implementation:A.WF_TAGS.REACT_IMPLEMENTATION})},G.sendMapBoxOpenGLTracking=function(e){R.a.count("mapbox_rendering",{supportedgl:e?"y":"n"})},G.sendPoiDetailsStatus=function(e,t){var n=""+t;R.a.count("custom_poi_details",{status:e,google_status:n})},(V=z||(z={})).onAutoSuggestionComplete=function(e,t,n,o,r){r({googleStatus:o,status:t,failureMessage:n,autoSuggestionItems:e,type:s.a.MAPS_POI_SEARCH_POIS_FULFILLED})},V.onPoiDetailsComplete=function(e,t,n,o,r,a){F.sendPoiDetailsStatus(t,o),r({googleStatus:o,status:t,failureMessage:n,type:s.a.MAPS_POI_FETCH_POI_DETAILS_FULFILLED,poiDetails:e})},(Z=K||(K={})).populateCustomPoisForAutoComplete=function(e){var t=[],n="",o="failed";try{e&&(t=e.map((function(e){return{id:e.place_id,name:e.structured_formatting&&e.structured_formatting.main_text||e.description,fullAddress:e.structured_formatting&&e.structured_formatting.secondary_text||"",matchedSubstrings:e.matched_substrings}}))),o="ok"}catch(e){t=[],n=e&&e.message?e.message:"unable to map results to custom poi. probable cause : google api result format changed"}return{autoSuggestionItems:t,status:o,failureMessage:n}},Z.populateCustomPoisDetails=function(e,t){var n=null,o="",r="failed";try{n={placeId:e.place_id,name:t,latlng:b.latLng(e.geometry.location.lat(),e.geometry.location.lng()),viewport:e.geometry.viewport},r="ok"}catch(e){o=e&&e.message?e.message:"unable to map results to custom poi. probable cause : google api result format changed"}return{customPoiDetails:n,status:r,failureMessage:o}},function(e){var t=A.GOOGLE_PLACE_RADIUS,n=null;e.getCustomPoisAutoSuggestionList=function(t,n,o,r,a){x.loadGoogleApi(n).then((function(){e.loadPois(t,n,o,r,a)})).catch((function(e){z.onAutoSuggestionComplete([],"failed",e&&e.message?e.message:"unknown error occurred",null,r)}))},e.poiDetailsFromGoogle=function(e,t,o,r,a){var i=e.placeId;n||(n=w.getGooglePlaceService()),i||z.onPoiDetailsComplete(null,"failed","placeId is blank",null,r,i);var s={placeId:i};n.getDetails(s,(function(t,n){if(Object(N.a)(n)||n!==w.getGooglePlaceServiceStatus().OK)z.onPoiDetailsComplete(null,"failed","google api failed to retrieve results",n,r,i);else{var o=K.populateCustomPoisDetails(t,e.placeName);z.onPoiDetailsComplete(o.customPoiDetails,o.status,o.failureMessage,n,r,i)}}))},e.loadPois=function(e,t,n,r,a){o(e,t,n,r,a)};var o=function(e,n,o,r,a){if(e.input){var i=w.getGoogleAutoCompleteService(),s=e.input,c=o&&o.mapInfo&&o.mapInfo.currentRectangle&&o.mapInfo.currentRectangle.latlng,l=w.getGoogleLatLng(c&&c.lat||0,c&&c.lng||0),p={input:s,radius:t,location:l};i.getPlacePredictions(p,(function(e,t){if(Object(N.a)(t)||t!==w.getGooglePlaceServiceStatus().OK&&t!==w.getGooglePlaceServiceStatus().ZERO_RESULTS)z.onAutoSuggestionComplete([],"failed","google api failed to retrieve results",t,r);else{var n=K.populateCustomPoisForAutoComplete(e);z.onAutoSuggestionComplete(n.autoSuggestionItems,n.status,n.failureMessage,t,r)}}))}else r(null)}}(W||(W={}));var J,X,Q,$=n(2312);X=J||(J={}),Q=null,X.handleSearchFocus=function(e,t,n){return new Promise((function(o,r){$.a.focusPoiSearch(t,n,e),o(null)}))},X.handleFetchAutoSuggestion=function(e,t,n,o){return new Promise((function(t,n){Q=t,setTimeout((function(){Q===t?(R.a.count("req_autosuggest"),t({type:s.a.MAPS_POI_SEARCH_POIS,input:e.input})):t(null)}),1e3)}))},X.handleSearchPois=function(e,t,n){return new Promise((function(o,r){W.getCustomPoisAutoSuggestionList(e,t,n,o,r),$.a.makePoiSearch(t,n,e)}))},X.handleSearchPoisFulfilled=function(e,t,n){return new Promise((function(t,n){R.a.count("rec_autosuggest",{count:e.autoSuggestionItems?e.autoSuggestionItems.length.toString():"0",status:e.status}),t(null)}))},X.handleFetchPoiDetails=function(e,t,n){return new Promise((function(o,r){W.poiDetailsFromGoogle(e,t,n,o,r),$.a.clickPoiSuggestion(t,n,e)}))},X.handleFetchPoiDetailsFulfilled=function(e,t,n){return new Promise((function(t,n){"ok"===e.status?t({type:s.a.MAPS_POI_DISPLAY_POI_ON_MAPS,placeDisplayId:e.poiDetails.placeId,placeLocation:e.poiDetails.latlng,shouldDoSearch:!0,placeName:e.poiDetails.name}):t(null)}))},X.handleMoveComplete=function(e,t,n,o){return new Promise((function(e,t){n.mapsPoiInfo.shouldSearchPropertiesOnMapUpdate&&o.search({type:s.a.MAPS_SEARCH_CURRENT_VIEWPORT}),e(null)}))};var ee,te=n(110),ne=n(960);!function(e){e.launchMaps=function(e,n){t(e,n)&&Object(ne.b)({map_provider_name:e.mapProvider,property_city_id:e.searchPageState.criteria.CityId,property_area_id:2===e.searchPageState.criteria.SearchType?e.searchPageState.criteria.ObjectID:0,property_id:e.displayInfo.propertyId,map_poi_id:3===e.searchPageState.criteria.SearchType?e.searchPageState.criteria.ObjectID:0,action_info:e.displayInfo.actionInfo,search_result_info:Object(p.a)(e.searchPageState.properties),map_info:Object(L.a)(n.mapInfo.currentRectangle.bounds,n.mapInfo.currentRectangle.zoom)})};var t=function(e,t){return e&&e.mapProvider&&e.searchPageState&&e.searchPageState.criteria&&null!=e.searchPageState.criteria.CityId&&null!=e.searchPageState.criteria.SearchType&&n(e.searchPageState.criteria.SearchType,e.searchPageState.criteria.ObjectID)&&e.displayInfo&&e.displayInfo.actionInfo&&e.searchPageState&&e.searchPageState.properties&&t&&t.mapInfo&&t.mapInfo.currentRectangle&&t.mapInfo.currentRectangle.bounds&&null!=t.mapInfo.currentRectangle.zoom},n=function(e,t){return 2!==e&&3!==e||null!=t}}(ee||(ee={}));var oe,re,ae=n(14);(oe||(oe={})).getFirstLoadPositionAction=function(e,t,n){var o=[];if(!(n&&n.mapInfo&&n.mapInfo.currentRectangle&&n.mapInfo.currentRectangle.bounds))return null;var r=n.mapInfo.currentRectangle.bounds;if(!n.properties||n.properties.length<1)return{propertiesOnViewport:[],action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.RecomendedPosition,center:t.latlng,zoom:t.zoom}};if(1===n.properties.length)return{action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.RecomendedPosition,center:b.latLng(n.properties[0].Latitude,n.properties[0].Longitude),zoom:t.zoom},propertiesOnViewport:n.properties};if(n.searchType!==ae.H.CitySearch)return{action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.FitAllPins,bounds:r},propertiesOnViewport:n.properties};var a=r.pad(-.05),i=0;if(o=[],n.properties.forEach((function(e){a.contains([e.Latitude,e.Longitude])&&(i+=1,o.push(e))})),i>20)return{propertiesOnViewport:o,action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.RecomendedPosition,center:t.latlng,zoom:t.zoom}};var c=r.pad(.5).pad(-.05);return i=0,o=[],n.properties.forEach((function(e){c.contains([e.Latitude,e.Longitude])&&(i+=1,o.push(e))})),i>20?{propertiesOnViewport:o,action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.RecomendedZoomOutPosition,center:t.latlng,zoom:t.zoom-1}}:{propertiesOnViewport:n.properties,action:{type:s.a.MAPS_ADJUST_MAPS_VIEWPORT,mode:ae.o.FitAllPins,bounds:r}}},(re||(re={})).topLandmarksFulfilled=function(e){return{type:s.a.MAPS_TOP_LANDMARK_FULFILLED,topLandmarks:e&&null!=e.topLandmarks?e.topLandmarks:[]}};var ie,se,ce,le,pe,ue=n(29),me=null;(ie||(ie={})).fetchPOIs=function(e,t){return me&&me.abort(),new Promise((function(n,o){me=ue.a.send("POST",e,t,n,o)}))},(ce=se||(se={})).buildRequest=function(e,t){return{cityId:t&&t.criteria&&null!=t.criteria.CityId?t.criteria.CityId:0}},ce.buildURL=function(e,t,n){var o=e&&e.userData&&null!=e.userData.culture?e.userData.culture:"";return"/api/"+(o=Object(N.a)(o)||0===o.length?"":o+"/")+n},(le||(le={})).loadPOIs=function(e,t){var n=se.buildRequest(e,t),o=se.buildURL(e,t,"SearchPersonalization/GetMapsPOIs");return ie.fetchPOIs(o,n)},function(e){e.visitMaps=function(e,o,r){var a=o&&o.criteria&&o.criteria.SearchType?o.criteria.SearchType:null,i=o&&o.criteria&&o.criteria.CityId?o.criteria.CityId:null,s=o&&o.properties?o.properties.length:0;n(r)&&Object(p.k)({action_info:{action_type:c.a.VISIT_MAPS.action_type.REVEAL,action_element_name:c.a.VISIT_MAPS.action_element_name.MAP,action_element_value:t(r.action)},search_result_info:{map_favorites_count:C.a.getFavoritePropertyCount(r.propertiesOnViewport),search_type:a,search_target_id:i,search_result_property_count:s,search_result_property_count_in_viewport:r.propertiesOnViewport.length}})};var t=function(e){if(e.type!==s.a.MAPS_ADJUST_MAPS_VIEWPORT)return"";switch(e.mode){case ae.o.FitAllPins:return c.a.VISIT_MAPS.action_element_value.SHOW_ALL_PAGE;case ae.o.RecomendedPosition:return c.a.VISIT_MAPS.action_element_value.RECOMMENDED_ZOOMING;case ae.o.RecomendedZoomOutPosition:return c.a.VISIT_MAPS.action_element_value.RECOMMENDED_ZOOMING_MINUS_1}return"unknown"},n=function(e){return e&&e.action&&e.propertiesOnViewport}}(pe||(pe={}));var de,fe,he,ge,ye,Pe,_e,Oe,be,ve,Se,Ce=n(2579),Ie=n(34),Ee=n(147),Me=n(2233);(fe=de||(de={})).handleMapsLoaded=function(e,t,n){return new Promise((function(n,o){F.sendRealTimeMapLoadStatus(t.mapProvider,e.mapLoadStatus,e.time),n(null)}))},fe.handleMapsChanged=function(e,t,n,r){return new Promise((function(e,r){t.displayInfo.isMapOpened||o.closeMaps(t,n),e(null)}))},fe.handleMapsReady=function(e,t,n,o){return new Promise((function(r,a){if(n.criteria.SortField===ae.M.SecretDeal&&C.a.areAllPropretiesASD(n.properties))o.search({type:s.a.MAPS_SEARCH_CURRENT_VIEWPORT,sortOrder:ae.L.Descending,sortOptionId:ae.M.Ranking}),r(null);else{Object(te.a)(n.displayInfo.activePropertyId)&&P.a.scrollToProperty(n.displayInfo.activePropertyId),ee.launchMaps(t,n);var i=oe.getFirstLoadPositionAction(e,t,n);pe.visitMaps(t,n,i),Ee.a.isJtbWhitelabel()||!n||n.topLandmarks&&0!==n.topLandmarks.length||le.loadPOIs(t,n).then((function(e){o.dispatch(re.topLandmarksFulfilled(e))})).catch((function(e){R.a.count("loadpois.failed")})),"mapbox"===t.mapProvider&&F.sendMapBoxOpenGLTracking(O()),t.experiments.isJagermeister&&!t.experiments.isTequilaMap&&o.dispatch(Me.a.loadMapResultsForJagermeister({type:s.a.MAPS_CALL_DICTATOR_ON_OPEN})),t.experiments.isTequilaMap&&t.searchPageState&&t.searchPageState.criteria.ProductType===Ie.n.AllRooms&&o.dispatch(Ce.a.enrichMapWithHomes({type:s.a.SEARCH_MAP_ENRICH_WITH_HOMES})),r(i.action)}}))},function(e){e.clickPropertyCard=function(e,n,o){t(n,o,o.propertyId)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.CLICK,action_element_type:c.a.INTERACT_MAPS.action_element_type.LIST_ITEM,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_PROPERTY_LIST,action_element_value:String(o.propertyId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.propertyId),map_property_position_in_list:C.a.getPropertyPositionInTheList(n.properties,o.propertyId)})},e.hoverPropertyCard=function(e,n,o){t(n,o,o.args.propertyId)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.HOVER,action_element_type:c.a.INTERACT_MAPS.action_element_type.LIST_ITEM,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_PROPERTY_LIST,action_element_value:String(o.args.propertyId)},map_property_position_in_list:C.a.getPropertyPositionInTheList(n.properties,o.args.propertyId),is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.args.propertyId)})},e.clickPropertyMarker=function(e,n,o){t(n,o,o.targetId)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.CLICK,action_element_type:c.a.INTERACT_MAPS.action_element_type.MARKER,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_PROPERTY_MARKER,action_element_value:String(o.targetId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.targetId)})},e.hoverPropertyMarker=function(e,n,o){t(n,o,o.targetId)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.HOVER,action_element_type:c.a.INTERACT_MAPS.action_element_type.MARKER,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_PROPERTY_MARKER,action_element_value:String(o.targetId)},is_property_favorite:C.a.isFavoriteByPropertyId(n.properties,o.targetId)})};var t=function(e,t,n){return e&&e.properties&&t&&null!=n};e.clickTopLandmarkMarker=function(e,t,o){n(o)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.CLICK,action_element_type:c.a.INTERACT_MAPS.action_element_type.MARKER,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_LANDMARK_MARKER,action_element_value:String(o.targetId)}})},e.hoverTopLandmarkMarker=function(e,t,o){n(o)&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.HOVER,action_element_type:c.a.INTERACT_MAPS.action_element_type.MARKER,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_INTERACT_LANDMARK_MARKER,action_element_value:String(o.targetId)}})},e.clickGoogleMapMarker=function(e,t){null!=e&&null!=t&&Object(p.f)({action_info:{action_type:c.a.INTERACT_MAPS.action_type.CLICK,action_element_type:t,action_element_name:c.a.INTERACT_MAPS.action_element_name.MAP_GOOGLE_POI_MARKER,action_element_value:e}})};var n=function(e){return e&&null!=e.targetId}}(he||(he={})),(ye=ge||(ge={})).handleMarkerMouseOver=function(e,t,n){return new Promise((function(o,r){if(e.targetType)switch(e.targetType){case"topLandmark":he.hoverTopLandmarkMarker(t,n,e);break;case"property":he.hoverPropertyMarker(t,n,e)}o(null)}))},ye.handleMarkerClicked=function(e,t,n){return new Promise((function(o,r){switch(e.targetType){case"topLandmark":he.clickTopLandmarkMarker(t,n,e),o(null);break;case"property":he.clickPropertyMarker(t,n,e),null!=e.targetId?(P.a.scrollToProperty(e.targetId),o(null)):o(null)}}))},ye.handlePropertyMarkerMouseOut=function(e,t,n){return new Promise((function(t,n){e.delayed&&t(null),setTimeout((function(){e.delayed=!0,t(e)}),100)}))},(_e=Pe||(Pe={})).handleScroll=function(e,t,n){return new Promise((function(t,n){P.a.scrollToProperty(e.propertyId),t(null)}))},_e.handlePropertyCardClicked=function(e,t,n){return new Promise((function(o,r){he.clickPropertyCard(t,n,e),o(null)}))},_e.handlePropertyCardMouseEnter=function(e,t,n){return new Promise((function(o,r){he.hoverPropertyCard(t,n,e),o(null)}))},(be=Oe||(Oe={})).handleScrollFromPropertyPreview=function(e,t,n){return new Promise((function(t,n){e.doScrolling&&null!=e.targetId&&"property"===e.targetType&&t({type:s.a.MAPS_SCROLL_TO_PROPERTY_CARD,propertyId:e.targetId})}))},be.handlePreviewPropertyNameClick=function(e,t,n){return new Promise((function(o,r){u.clickHotelNameOnPropertyPreview(t,n,e),o(null)}))},be.handlePreviewPropertyButtonClick=function(e,t,n){return new Promise((function(o,r){u.clickButtonOnPropertyPreview(t,n,e),o(null)}))},(ve||(ve={})).handle=function(e,t,n,o){switch(e.type){case s.a.MAPS_PREVIEW_PANEL_EXIT:return Oe.handleScrollFromPropertyPreview(e,t,n);case s.a.MAPS_PREVIEW_PROPERTY_NAME_CLICK:return Oe.handlePreviewPropertyNameClick(e,t,n);case s.a.MAPS_PREVIEW_PROPERTY_BUTTON_CLICK:return Oe.handlePreviewPropertyButtonClick(e,t,n);case s.a.MAPS_SCROLL_TO_PROPERTY_CARD:return Pe.handleScroll(e,t,n);case s.a.MAPS_PROPERTY_CARD_CLICK:return Pe.handlePropertyCardClicked(e,t,n);case s.a.MAPS_PROPERTY_CARD_MOUSE_ENTER:return Pe.handlePropertyCardMouseEnter(e,t,n);case s.a.MAPS_MARKER_MOUSE_OVER:return ge.handleMarkerMouseOver(e,t,n);case s.a.MAPS_MARKER_CLICK:return ge.handleMarkerClicked(e,t,n);case s.a.MAPS_MARKER_MOUSE_OUT:return ge.handlePropertyMarkerMouseOut(e,t,n);case s.a.MAPS_LOADED:return de.handleMapsLoaded(e,t,n);case s.a.MAPS_TOGGLE_MAP:return de.handleMapsChanged(e,t,n,o);case s.a.MAPS_READY:return de.handleMapsReady(e,t,n,o);case s.a.MAPS_DRAG_END:return E.handleMapsDragEnd(e,t,n);case s.a.MAPS_ZOOM_END:return E.handleMapsZoomEnd(e,t,n);case s.a.MAPS_PROPERTY_NAME_CLICK:return E.handlePropertyNameClick(e,t,n);case s.a.MAPS_PROPERTY_MORE_DETAILS_CLICK:return E.handlePropertyMoreDetailsClick(e,t,n);case s.a.MAPS_POPUP_CLICK:return E.handlePopupClick(e,t,n);case s.a.MAPS_POI_SEARCH_FOCUS:return J.handleSearchFocus(e,t,n);case s.a.MAPS_POI_FETCH_AUTOSUGGESTION:return J.handleFetchAutoSuggestion(e,t,n,o);case s.a.MAPS_POI_SEARCH_POIS:return J.handleSearchPois(e,t,n);case s.a.MAPS_POI_SEARCH_POIS_FULFILLED:return J.handleSearchPoisFulfilled(e,t,n);case s.a.MAPS_POI_FETCH_POI_DETAILS:return J.handleFetchPoiDetails(e,t,n);case s.a.MAPS_POI_FETCH_POI_DETAILS_FULFILLED:return J.handleFetchPoiDetailsFulfilled(e,t,n);case s.a.MAPS_MOVE_END:return J.handleMoveComplete(e,t,n,o)}return new Promise((function(e,t){e(null)}))},function(e){e.reduce=function(e,n,o){switch(o.type){case s.a.MAPS_TOGGLE_MAP:return Object(r.a)(Object(r.a)({},e),{actionInfo:n.displayInfo.actionInfo,propertyId:n.displayInfo.propertyId,activePropertyId:Object(te.a)(n.displayInfo.propertyId)?n.displayInfo.propertyId:t(n)});case s.a.MAPS_INITIALIZED:return Object(r.a)(Object(r.a)({},e),{isMapInitialized:!0});case s.a.MAPS_PROPERTY_CARD_MOUSE_ENTER:return Object(r.a)(Object(r.a)({},e),{activePropertyId:o.args.propertyId});case s.a.MAPS_PROPERTY_CARD_MOUSE_LEAVE:return Object(r.a)(Object(r.a)({},e),{activePropertyId:null});case s.a.MAPS_PROPERTY_CARD_CLICK:return Object(r.a)(Object(r.a)({},e),{activePropertyId:o.propertyId});case s.a.MAPS_TOGGLE_CITY_CENTER:return Object(r.a)(Object(r.a)({},e),{isSelectedCityCenter:!e.isSelectedCityCenter});case s.a.MAPS_MARKER_CLICK:return null!=o.targetId?Object(r.a)(Object(r.a)({},e),{activePropertyId:o.targetId}):e;default:return e}};var t=function(e){var t=null;return e.searchPageState.properties&&e.searchPageState.properties.forEach((function(e){(e.IsMSE||e.IsPPC)&&(t=e.HotelID)})),t}}(Se||(Se={}));var Le,Te,we=n(2541),je=n(2548);!function(e){e.reduce=function(e,o,a){switch(a.type){case s.a.MAPS_TOGGLE_MAP:return n(e,o,a);case s.a.MAPS_READY:return Object(r.a)(Object(r.a)({},e),{currentRectangle:{bounds:Object(je.a)(a.map),latlng:Object(je.b)(a.map),zoom:Object(je.c)(a.map),mode:ae.n.ByLatLng},isMapsReady:!0,mapsInstance:a.map});case s.a.MAPS_LOADED:return Object(r.a)(Object(r.a)({},e),{isMapsLoaded:"ok"===a.mapLoadStatus});case s.a.MAPS_DRAG_END:case s.a.MAPS_MOVE_END:case s.a.MAPS_ZOOM_END:return Object(r.a)(Object(r.a)({},e),{currentRectangle:{bounds:Object(je.a)(a.map),latlng:Object(je.b)(a.map),zoom:Object(je.c)(a.map),mode:ae.n.ByLatLng}});case s.a.MAPS_MOVE_START:case s.a.MAPS_ZOOM_START:return Object(r.a)(Object(r.a)({},e),{previousRectangle:Object(r.a)(Object(r.a)({},e.previousRectangle),e.currentRectangle),isMapsReady:e.isMapsReady});case s.a.MAPS_ADJUST_MAPS_VIEWPORT:return Object(r.a)(Object(r.a)({},e),{currentRectangle:{bounds:a.bounds?a.bounds:e.currentRectangle.bounds,latlng:a.center?a.center:e.currentRectangle.latlng,zoom:a.zoom?a.zoom:e.currentRectangle.zoom,mode:a.bounds?ae.n.ByBound:ae.n.ByLatLng}});case s.a.MAPS_SEARCH_CURRENT_VIEWPORT:case s.a.SEARCH_MAP_ENRICH_WITH_HOMES:return Object(r.a)(Object(r.a)({},e),{searchRectangle:Object(r.a)({},e.currentRectangle)});case s.a.MAPS_POI_DISPLAY_POI_ON_MAPS:return t(e,o,a);case s.a.MAPS_PROPERTY_CARD_CLICK:return Object(r.a)(Object(r.a)({},e),{currentRectangle:Object(r.a)(Object(r.a)({},e.currentRectangle),{latlng:a.latlng,mode:ae.n.ByLatLng})});default:return e}};var t=function(e,t,n){var o=e.currentRectangle.zoom>17||e.currentRectangle.zoom<14?16:e.currentRectangle.zoom;return Object(r.a)(Object(r.a)({},e),{currentRectangle:Object(r.a)(Object(r.a)({},e.currentRectangle),{latlng:n.placeLocation,zoom:o,mode:ae.n.ByLatLng}),landmarkLocation:null})},n=function(e,t,n){return Object(r.a)(Object(r.a)({},e),{currentRectangle:Object(r.a)(Object(r.a)({},e.currentRectangle),{mode:ae.n.ByLatLng,latlng:t.latlng,zoom:t.zoom}),landmarkLocation:o(t)})},o=function(e){return e.searchPageState.searchType===ae.H.LandmarkSearch?e.latlng:null}}(Le||(Le={})),function(e){e.reduce=function(e,a,i){switch(i.type){case s.a.MAPS_READY:return Object(r.a)(Object(r.a)({},e),{autoSuggestionItems:[]});case s.a.MAPS_TOGGLE_MAP:return Object(r.a)(Object(r.a)({},e),{placeDisplayId:"",searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{textToSearch:"",suggestionStatus:"ok"})});case s.a.MAPS_POI_SEARCH_POIS_FULFILLED:return Object(r.a)(Object(r.a)({},e),{searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{suggestionStatus:0===i.autoSuggestionItems.length?"noresult":"ok"}),autoSuggestionItems:i.autoSuggestionItems.map((function(e){return Object(r.a)({},e)}))});case s.a.MAPS_POI_FETCH_AUTOSUGGESTION:return Object(r.a)(Object(r.a)({},e),{searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{textToSearch:i.input,suggestionStatus:"searching"})});case s.a.MAPS_POI_SEARCH_CLEAR:return o(e,i);case s.a.MAPS_POI_FETCH_POI_DETAILS:return Object(r.a)(Object(r.a)({},e),{searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{textToSearch:i.placeName})});case s.a.MAPS_POI_FETCH_POI_DETAILS_FULFILLED:return n(e,i);case s.a.MAPS_POI_DISPLAY_POI_ON_MAPS:return t(e,i);case s.a.MAPS_POI_CLEAR_AUTOSUGGESTION:return Object(r.a)(Object(r.a)({},e),{autoSuggestionItems:[]});case s.a.MAPS_SEARCH_CURRENT_VIEWPORT:return Object(r.a)(Object(r.a)({},e),{shouldSearchPropertiesOnMapUpdate:!1});default:return e}};var t=function(e,t){return Object(r.a)(Object(r.a)({},e),{placeDisplayId:t.placeDisplayId,shouldSearchPropertiesOnMapUpdate:!0,placeName:t.placeName})},n=function(e,t){return"ok"===t.status?Object(r.a)(Object(r.a)({},e),{searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{textToSearch:t.poiDetails.name}),placeList:e.placeList?[].concat(e.placeList,t.poiDetails):[].concat(t.poiDetails)}):e},o=function(e,t){return Object(r.a)(Object(r.a)({},e),{searchPOI:Object(r.a)(Object(r.a)({},e.searchPOI),{textToSearch:""}),placeDisplayId:"",placeName:""})}}(Te||(Te={}));var Ae=n(2546),Re=n(2543),Ne=n(2544),xe=n(170),ke=n(149),De=n(576),He=n(143),Ue=xe.a.isFinite,Be=Math.min;var Fe,Ge=function(e){var t=Math[e];return function(e,n){if(e=Object(De.a)(e),(n=null==n?0:Be(Object(ke.a)(n),292))&&Ue(e)){var o=(Object(He.a)(e)+"e").split("e"),r=t(o[0]+"e"+(+o[1]+n));return+((o=(Object(He.a)(r)+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}("ceil"),ze=n(51),Ve=n(19);!function(e){e.decideShouldShowPoiSearch=function(e){return"googlemaps"===e||"googlemapscn"===e}}(Fe||(Fe={}));var Ke,Ze=n(1572),We=n(490);!function(e){e.reduce=function(e,o,a){if(!a||!a.newState||0===Object(Ve.a)(a.newState.properties)&&0===Object(Ve.a)(a.newState.propertiesGql))return[];var i=o&&o.mapsPoiInfo&&o.mapsPoiInfo.placeList||[],s=Object(ze.a)(i,(function(e){return e.placeId===o.mapsPoiInfo.placeDisplayId})),c=t(e,o,a),l=a.newState.properties||[];return a.newState.propertiesGql&&a.newState.propertiesGql.length>0&&(l=a.newState.propertiesGql.filter((function(e){return e.propertyResultType!==We.a.RemainingProperty})).map((function(t){return Object(Ze.a)(t,o,e)}))),l.map((function(e){return Object(r.a)(Object(r.a)({},e),{autoPan:e.autoPan,Distance:c?n(e,s,o):e.Distance})}))};var t=function(e,t,n){return Fe.decideShouldShowPoiSearch(e.mapProvider)&&t&&t.mapInfo&&null!=t.mapInfo.mapsInstance&&Object(Ve.a)(t.mapsPoiInfo.placeDisplayId)>0&&!Object(N.a)(Object(ze.a)(t.mapsPoiInfo.placeList,(function(e){return e.placeId===t.mapsPoiInfo.placeDisplayId})))},n=function(e,t,n){var o=n.mapInfo.mapsInstance.distance(t.latlng,new b.LatLng(e.Latitude,e.Longitude));return Ge(o/1e3,2)}}(Ke||(Ke={}));var qe,Ye,Je=n(2610),Xe=n(2540),Qe=n(2547),$e=n(2542),et=n(2545);(qe||(qe={})).reduce=function(e,t,n){switch(n.type){case s.a.MAPS_MARKER_MOUSE_OVER:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{isActiveLandmark:!0,isPopupOpened:!0}):e})):e;case s.a.MAPS_MARKER_MOUSE_OUT:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{isActiveLandmark:e.isPersistentPopup||!n.delayed,isPopupOpened:!n.delayed}):e})):e;case s.a.MAPS_MARKER_CLICK:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{isActiveLandmark:!0,isPopupOpened:!0,isPersistentPopup:!0}):e.isPersistentPopup?Object(r.a)(Object(r.a)({},e),{isActiveLandmark:!1,isPersistentPopup:!1,isPopupOpened:!1}):e})):e;case s.a.MAPS_POPUP_MOUSE_ENTER:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{curMouseOvrLandmarkOfNonPersistentPopup:!0}):e})):e;case s.a.MAPS_POPUP_MOUSE_LEAVE:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{curMouseOvrLandmarkOfNonPersistentPopup:!1}):e})):e;case s.a.MAPS_TOP_LANDMARK_FULFILLED:return n.topLandmarks?n.topLandmarks:e;case s.a.MAPS_POPUP_CLOSED:return n.targetId?e.map((function(e){return e.landmarkId===n.targetId?Object(r.a)(Object(r.a)({},e),{isActiveLandmark:!1,isPopupOpened:!1,isPersistentPopup:!1,curMouseOvrLandmarkOfNonPersistentPopup:!1}):e})):e;case s.a.MAPS_VOID_ACTION:return e.map((function(e){return Object(r.a)(Object(r.a)({},e),{isActiveLandmark:!1,isPopupOpened:!1,isPersistentPopup:!1,curMouseOvrLandmarkOfNonPersistentPopup:!1})}));default:return e}},(Ye||(Ye={})).reduce=function(e,t,n){switch(n.type){case s.a.MAPS_INITIALIZED:return Object(r.a)(Object(r.a)({},e),{launchTimer:n.launchTimer});case s.a.MAPS_TOGGLE_MAP:return Object(r.a)(Object(r.a)({},e),{propertyRenderEvents:h});case s.a.MAPS_PROPERTY_CARD_MOUSE_ENTER:return Object(r.a)(Object(r.a)({},e),{propertyRenderEvents:d});case s.a.MAPS_PROPERTY_CARD_MOUSE_LEAVE:return Object(r.a)(Object(r.a)({},e),{propertyRenderEvents:m});case s.a.MAPS_PROPERTY_CARD_CLICK:return Object(r.a)(Object(r.a)({},e),{propertyRenderEvents:f});default:return e}};var tt,nt=n(2549),ot=n(2550),rt=n(2551);!function(e){e.reduce=function(e){return function(a,i){var c=Object(r.a)(Object(r.a)({},e),{experiments:i.experiments});return c.type===s.a.SEARCH_COMPLETED?t(a,i,c):c.type===s.a.SEARCH_COMPLETED_WITH_NHA?o(a,i,c):n(a,i,c)}};var t=function(e,t,n){return Object(r.a)(Object(r.a)(Object(r.a)({},e),n.newState),{properties:Ke.reduce(t,e,n),propertiesGql:void 0})},n=function(e,t,n){return Object(r.a)(Object(r.a)({},e),{isLoading:we.a.reduce(e.isLoading,n),isError:!1,displayInfo:Se.reduce(e.displayInfo,t,n),resultsSummary:Xe.a.reduce(e.resultsSummary,n),properties:Je.a.reduce(e.properties,n),filterValues:ot.a.reduce(e.filterValues,n),searchType:Qe.a.reduce(e.searchType,n),selectedPropertyId:$e.a.reduce(e.selectedPropertyId,n),polling:Re.a.reduce(e.polling,n),sortValue:et.a.reduce(e.sortValue,n),pagination:Ae.a.reduce(e.pagination,n),pricingInfo:Ne.a.reduce(e.pricingInfo,n),trackingEvents:Ye.reduce(e.trackingEvents,t,n),mapInfo:Le.reduce(e.mapInfo,t,n),mapsPoiInfo:Te.reduce(e.mapsPoiInfo,t,n),topLandmarks:qe.reduce(e.topLandmarks,t,n),cheapestRooms:nt.a.reduce(e.cheapestRooms,n),flightItinerary:Object(rt.a)(e.flightItinerary,n)})},o=function(e,t,n){return Object(r.a)(Object(r.a)({},e),{properties:n.newState.properties||[],propertiesGql:void 0,isLoading:n.newState.isLoading})}}(tt||(tt={}));var at=n(2067),it=n(86),st=n(3014),ct=(n(2904),n(2079)),lt=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.defaultProps={mapContainerClassName:"AgodaMapsContainer",tilesAndProviders:{mapName:ct.a.GoogleMaps,experiments:{}},useCustomZoomControl:{showZoomControl:!1},useCustomScaleControl:{showScaleControl:!1},animate:!0,zoomControl:!1},t}(st.a),pt=n(2673),ut=function(e){function t(t){var n=e.call(this,t)||this;return n.mapLoadCompleted=!1,n.mapLoadErrorOccurred=!1,n}return Object(r.c)(t,e),t.prototype.initMapLoadPromise=function(){var e=this;this.timer=l.a.performanceNowWithFallback(),this.mapLoadPromise=new Promise((function(t,n){var o=function(){setTimeout((function(){e.mapLoadErrorOccurred?n("failed"):e.mapLoadCompleted&&!e.mapLoadErrorOccurred?t("ok"):o()}),q.MAP_LOAD_CHECKING_INTERVAL)};o()})),this.mapLoadPromise.then((function(){e.props.getMapLoadStatus&&e.props.getMapLoadStatus("ok",l.a.diffWithFallback(e.timer))})).catch((function(){e.props.getMapLoadStatus&&e.props.getMapLoadStatus("failed",l.a.diffWithFallback(e.timer))}))},t.prototype.createLeafletElement=function(e){this.initMapLoadPromise();var t=new b.TileLayer(e.url,this.getOptions(e));return t.on("tileerror",this.mapLoadFailed,this),t.on("load",this.mapLoadSuccessful,this),t},t.prototype.removeMapLoadListener=function(){null!=this.leafletElement&&(this.leafletElement.off("load",this.mapLoadSuccessful,this),this.leafletElement.off("tileerror",this.mapLoadFailed,this))},t.prototype.mapLoadFailed=function(){this.removeMapLoadListener(),this.mapLoadErrorOccurred=!0},t.prototype.mapLoadSuccessful=function(){this.removeMapLoadListener(),this.mapLoadCompleted=!0},t}(n(2672).a),mt=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.defaultAttribution='© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',t.mapboxKeyURL="//api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYWdvZGEiLCJhIjoiY2pjdW5kZDFkM2NyaDJ5cGc1MXljbHoydyJ9.RjtPVQxjWdH3skIu73al8w",t.defaultProps={mapName:ct.a.MapBox,attribution:t.defaultAttribution,url:t.mapboxKeyURL,tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"pk.eyJ1IjoiYWdvZGEiLCJhIjoiY2pjdW5kZDFkM2NyaDJ5cGc1MXljbHoydyJ9.RjtPVQxjWdH3skIu73al8w",experiments:{}},t}(ut),dt=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map),this.leafletElement.addAttribution(mt.defaultAttribution)},t}(pt.a),ft=function(e){var t,n;switch(e.mapName){case ct.a.GoogleMaps:return null;case ct.a.MapBox:return(null===(n=null===(t=e)||void 0===t?void 0:t.experiments)||void 0===n?void 0:n.isMapBoxDisabled)?null:a.createElement(dt,null);default:return null}};ft.defaultProps={mapName:ct.a.GoogleMaps};var ht=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.defaultProps={mapName:ct.a.GaodeMaps,url:"//webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",maxZoom:18,subdomains:["1","2","3","4"],experiments:{}},t}(ut),gt=n(48),yt=n(2295),Pt=function(){function e(){}return e.loadUrl=function(t,n){return e.googleApiLoading&&e.googleLoaderPromise||(e.googleApiLoading=!0,e.googleLoaderPromise=new Promise((function(o,r){var a=window.google&&window.google.maps;if(n&&(a=a&&window.google.maps.places),a)o({});else{window[e.callBackFunctionName]||(window[e.callBackFunctionName]=function(){o({})});var i=v.parse(t,!0);i.query.callback=e.callBackFunctionName,i.search="";var s=v.format(i),c=document.createElement("script");c.id="googleapi-script",c.type="text/javascript",c.src=s,c.onerror=function(){r(),e.googleApiLoading=!1},document.body.appendChild(c)}}))),e.googleLoaderPromise},e.googleLoaderPromise=null,e.googleApiLoading=!1,e.callBackFunctionName="__AGODA_GOOGLE_MAPS_API_LOADER_CALLBACK__",e}(),_t=n(606),Ot=n(699),bt=function(e){function t(n,o,a){var i=e.call(this,o)||this;return i.setElementSize=function(e,t){e.style.width=t.x+"px",e.style.height=t.y+"px"},i.addClickEventHandler=function(e){e.addListener("click",(function(e){e&&e.placeId&&i.placeService&&i.placeService.getDetails({placeId:e.placeId},(function(e,t){t===Object(Ot.a)().maps.places.PlacesServiceStatus.OK&&e&&e.place_id&&e.types&&e.types.length>=1&&he.clickGoogleMapMarker(e.place_id,e.types[0])}))}))},i.initMapObject(),i.update(),i.options=Object(r.a)(Object(r.a)({},t.DefaultOptions),o),i.type=n||"SATELLITE",i.experiments=a||{},i}return Object(r.c)(t,e),t.prototype.onAdd=function(e){return this.map=e,this.initContainer(),this.initMapObject(),e.on("viewreset",this.reset,this),this.limitedUpdate=b.Util.throttle(this.update,150,this),e.on("move",this.update,this),e.on("zoomanim",this.handleZoomAnim,this),Object(_t.a)(e,"_controlCorners.bottomright.style.marginBottom","20px"),this.reset(),this.update(),this},t.prototype.onRemove=function(e){return e._container.removeChild(this.container),e.off("viewreset",this.reset,this),e.off("move",this.update,this),e.off("zoomanim",this.handleZoomAnim,this),Object(_t.a)(e,"_controlCorners.bottomright.style.marginBottom","0em"),this},t.prototype.getAttribution=function(){return this.options.attribution},t.prototype.setOpacity=function(e){return this.options.opacity=e,e<1&&b.DomUtil.setOpacity(this.container,e),this},t.prototype.initContainer=function(){var e=this.map._container,t=e.firstChild;this.container||(this.container=b.DomUtil.create("div","leaflet-google-layer"),this.container.id="_GMapContainer_"+b.Util.stamp(this),this.container.style.zIndex="auto"),e.insertBefore(this.container,t),this.setOpacity(this.options.opacity),this.setElementSize(this.container,this.map.getSize())},t.prototype.initMapObject=function(){var e=this;if(this.container){this.googleCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this.container,{center:this.googleCenter,zoom:0,tilt:0,mapTypeId:google.maps.MapTypeId[this.type],disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.mapOptions.styles,backgroundColor:this.options.mapOptions.backgroundColor,scaleControl:!0});this.reposition=google.maps.event.addListenerOnce(t,"center_changed",(function(){e.onReposition()})),this.google=t,google.maps.event.addListenerOnce(t,"idle",(function(){e.checkZoomLevels()})),google.maps.event.addListenerOnce(t,"tilesloaded",(function(){e.fire("load")})),this.fire("MapObjectInitialized",{mapObject:t}),this.placeService=new google.maps.places.PlacesService(t),this.addClickEventHandler(t)}},t.prototype.checkZoomLevels=function(){void 0!==this.map.getZoom()&&this.google.getZoom()!==Math.round(this.map.getZoom())&&this.map.setZoom(this.google.getZoom())},t.prototype.reset=function(){this.initContainer()},t.prototype.update=function(){if(this.google){this.resize();var e=this.map.getCenter(),t=new google.maps.LatLng(e.lat,e.lng);this.google.setCenter(t),void 0!==this.map.getZoom()&&this.google.setZoom(Math.round(this.map.getZoom())),this.checkZoomLevels()}},t.prototype.resize=function(){var e=this.map.getSize();this.container.style.width===e.x&&this.container.style.height===e.y||(this.setElementSize(this.container,e),this.onReposition())},t.prototype.handleZoomAnim=function(e){var t=e.center,n=new google.maps.LatLng(t.lat,t.lng);this.google.setCenter(n),this.google.setZoom(Math.round(e.zoom))},t.prototype.onReposition=function(){this.google&&google.maps.event.trigger(this.google,"resize")},t.DefaultOptions={minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,scaleControl:!1,mapOptions:{backgroundColor:"#dddddd"}},t}(b.Layer),vt=n(54),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.url="//maps.googleapis.com/maps/api/js?client=gme-booking&v=3&async=2",t.baseUrl="//maps.googleapis.com/maps/api/js?v=3",t}return Object(r.c)(t,e),t.prototype.componentWillMount=function(){var e=this;this.timer=l.a.performanceNowWithFallback(),this._leafletEvents=this.extractLeafletEvents(this.props),this.leafletElement=this.createLeafletElement(this.props);var t=this.getScriptUrl(),n=this.props.libraries&&this.props.libraries.some((function(e){return"places"===e}));Pt.loadUrl(t,n).then((function(){e.initMapLoadPromise(),e.layerContainer.removeLayer(e.leafletElement),e.leafletElement=new bt(e.props.type,{maxZoom:e.props.maxZoom},e.props.experiments),e.leafletElement.on("tileerror",e.layerLoadFailed,e),e.leafletElement.on("load",e.layerLoadSuccessful,e),e.layerContainer.addLayer(e.leafletElement)})).catch((function(){e.mapLoadFailed()}))},t.prototype.componentDidUpdate=function(e){this.props.opacity!==e.opacity&&this.leafletElement.setOpacity(this.props.opacity),this.props.zIndex!==e.zIndex&&this.leafletElement.setZIndex(this.props.zIndex)},t.prototype.initMapLoadPromise=function(){var e=this;this.mapLoadPromise=new Promise((function(t,n){var o=function(){setTimeout((function(){e.mapLoadErrorOccurred?n("failed"):e.mapLoadCompleted&&!e.mapLoadErrorOccurred?t("ok"):o()}),q.MAP_LOAD_CHECKING_INTERVAL)};o()})),this.mapLoadPromise.then((function(t){e.mapLoadSuccessful()})).catch((function(t){e.mapLoadFailed()}))},t.prototype.removeMapLoadListener=function(){null!=this.leafletElement&&(this.leafletElement.off("load",this.layerLoadSuccessful,this),this.leafletElement.off("tileerror",this.layerLoadFailed,this))},t.prototype.layerLoadFailed=function(){this.removeMapLoadListener(),this.mapLoadErrorOccurred=!0},t.prototype.layerLoadSuccessful=function(){this.removeMapLoadListener(),this.mapLoadCompleted=!0},t.prototype.mapLoadFailed=function(){this.props.getMapLoadStatus&&this.props.getMapLoadStatus("failed",l.a.diffWithFallback(this.timer))},t.prototype.mapLoadSuccessful=function(){this.props.getMapLoadStatus&&this.props.getMapLoadStatus("ok",l.a.diffWithFallback(this.timer))},t.prototype.getScriptUrl=function(){if(this.props.experiments.isNewGmaps){var e=this.props.googleMaps.parameters,t=e.client,n=e.channel,o=e.key,r=e.region,a=this.baseUrl;return t&&(a+="&client="+t),n&&(a+="&channel="+n),o&&(a+="&key="+o),r&&(a+="&region="+r),!Object(N.a)(this.props.libraries)&&Object(Ve.a)(this.props.libraries)>0&&(a+="&libraries="+this.props.libraries.join(",")),this.props.language&&(a+="&language="+this.props.language),a}return this.url+("&channel="+this.props.channel)+(!Object(N.a)(this.props.libraries)&&Object(Ve.a)(this.props.libraries)>0?"&libraries="+this.props.libraries.join(","):"")+"&language="+this.props.language},t.defaultProps={mapName:ct.a.GoogleMaps,type:"ROADMAP",maxZoom:17,experiments:{},language:"en",channel:q.GOOGLE_CHANNEL,libraries:[]},t}(yt.a),Ct=Object(gt.withFeature)(St,vt.q),It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.url="//www.google.cn/maps/api/js?client=gme-booking&v=3&sensor=false&async=2",t.baseUrl="//www.google.cn/maps/api/js",t}return Object(r.c)(t,e),t.defaultProps={mapName:ct.a.GoogleMapsCN,type:"ROADMAP",maxZoom:17,experiments:{},language:"en",channel:q.GOOGLE_CHANNEL,libraries:[]},t}(St),Et=Object(gt.withFeature)(It,vt.q),Mt=n(21),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.componentWillMount=function(){var e=this;this.timer=l.a.performanceNowWithFallback(),this._leafletEvents=this.extractLeafletEvents(this.props),this.leafletElement=this.createLeafletElement(this.props),S.load(null).then((function(){var t,n;t=b,n=Object(Mt.F)().mapboxgl,t.MapboxGL=t.Layer.extend({options:{updateInterval:32},initialize:function(e){if(t.setOptions(this,e),!e.accessToken)throw new Error("You should provide a Mapbox GL access token as a token option.");var o,r,a,i,s,c,l;n.accessToken=e.accessToken,this._throttledUpdate=(o=t.Util.bind(this.update,this),r=this.options.updateInterval,a=this,l=function(){i=!1,s&&(c.apply(a,s),s=!1)},c=function(){i?s=arguments:(o.apply(a,arguments),setTimeout(l,r),i=!0)})},onAdd:function(e){var n=this;this._glContainer||this.initContainer(),this.getPane().appendChild(this._glContainer),this.initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),e.options.zoomAnimation&&t.DomEvent.on(e._proxy,t.DomUtil.TRANSITION_END,this.transitionEnd,this),this._glMap.on("load",(function(){n.fire("mapload")})),this._glMap.on("error",(function(){n.fire("maperror")}))},onRemove:function(e){this._map.options.zoomAnimation&&this._map._proxy&&t.DomEvent.off(this._map._proxy,t.DomUtil.TRANSITION_END,this.transitionEnd,this),this.getPane().removeChild(this._glContainer),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this.animateZoom,zoom:this.pinchZoom,zoomstart:this.zoomStart,zoomend:this.zoomEnd}},initContainer:function(){var e=t.DomUtil.create("div","leaflet-gl-layer");this._glContainer=t.DomUtil.create("div","leaflet-gl-layer");var n=this._map.getSize();e.style.width=n.x+"px",e.style.height=n.y+"px"},initGL:function(){var e=this._map.getCenter(),o=t.extend({},this.options,{container:this._glContainer,interactive:!1,center:[e.lng,e.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new n.Map(o),this._glMap.transform.latRange=null,this._glMap._canvas.canvas?this._glMap._actualCanvas=this._glMap._canvas.canvas:this._glMap._actualCanvas=this._glMap._canvas,t.DomUtil.addClass(this._glMap._actualCanvas,"leaflet-image-layer"),t.DomUtil.addClass(this._glMap._actualCanvas,"leaflet-zoom-animated")},update:function(e){if(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming){var o=this._map.getSize(),r=this._glContainer,a=this._glMap,i=this._map.containerPointToLayerPoint([0,0]);t.DomUtil.setPosition(r,i);var s=this._map.getCenter(),c=a.transform;c.center=n.LngLat.convert([s.lng,s.lat]),c.zoom=this._map.getZoom()-1,a.transform.width!==o.x||a.transform.height!==o.y?(r.style.width=o.x+"px",r.style.height=o.y+"px",null!==a._resize&&void 0!==a._resize?a._resize():a.resize()):null!==a._update&&void 0!==a._update?a._update():a.update()}},pinchZoom:function(e){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=this._map._latLngToNewLayerPoint(this._map.getBounds().getNorthWest(),e.zoom,e.center);t.DomUtil.setTransform(this._glMap._actualCanvas,o.subtract(this._offset),n)},zoomStart:function(e){this._zooming=!0},zoomEnd:function(){var e=this._map.getZoomScale(this._map.getZoom()),n=this._map._latLngToNewLayerPoint(this._map.getBounds().getNorthWest(),this._map.getZoom(),this._map.getCenter());t.DomUtil.setTransform(this._glMap._actualCanvas,n.subtract(this._offset),e),this._zooming=!1},transitionEnd:function(e){t.Util.requestAnimFrame((function(){var e=this._map.getZoom(),n=this._map.getCenter(),o=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());t.DomUtil.setTransform(this._glMap._actualCanvas,o,1),this._glMap.once("moveend",t.Util.bind((function(){this.zoomEnd()}),this)),this._glMap.jumpTo({center:n,zoom:e-1})}),this)}}),t.mapboxGL=function(e){return new t.MapboxGL(e)},e.layerContainer.removeLayer(e.leafletElement),e.leafletElement=b.mapboxGL({style:"mapbox://styles/agoda/cjg7it1yf5rnh2sqrkoro5o6c",accessToken:"pk.eyJ1IjoiYWdvZGEiLCJhIjoiY2lndzRhNWpzMHMxOXZrbTUyam53bnBieSJ9.gbg447Hzrqv02vsVy_JeUg"}),e.leafletElement.on("maperror",e.layerLoadFailed,e),e.leafletElement.on("mapload",e.layerLoadSuccessful,e),e.layerContainer.addLayer(e.leafletElement)})).catch((function(){}))},t.prototype.componentDidUpdate=function(e){this.props.opacity!==e.opacity&&this.leafletElement.setOpacity(this.props.opacity),this.props.zIndex!==e.zIndex&&this.leafletElement.setZIndex(this.props.zIndex)},t.prototype.layerLoadFailed=function(){this.removeMapLoadListener(),this.props.getMapLoadStatus&&this.props.getMapLoadStatus("failed",l.a.diffWithFallback(this.timer))},t.prototype.layerLoadSuccessful=function(){this.removeMapLoadListener(),this.props.getMapLoadStatus&&this.props.getMapLoadStatus("ok",l.a.diffWithFallback(this.timer))},t.prototype.removeMapLoadListener=function(){null!=this.leafletElement&&(this.leafletElement.off("mapload",this.layerLoadSuccessful,this),this.leafletElement.off("maperror",this.layerLoadFailed,this))},t.defaultProps={language:"en",mapName:ct.a.GoogleMaps,type:"ROADMAP",maxZoom:17,experiments:{},libraries:[]},t}(yt.a),Tt=function(e){return a.createElement(mt,Object(r.a)({},e))},wt=function(e){return a.createElement(Lt,Object(r.a)({},e))},jt=function(e){var t,n;switch(e.mapName){case ct.a.MapBox:return(null===(n=null===(t=e)||void 0===t?void 0:t.experiments)||void 0===n?void 0:n.isMapBoxDisabled)?null:function(e){return O()?wt(e):Tt(e)}(e);case ct.a.GaodeMaps:return function(e){return a.createElement(ht,Object(r.a)({},e))}(e);case ct.a.GoogleMapsCN:return function(e){return a.createElement(Et,Object(r.a)({},e))}(e);case ct.a.GoogleMaps:default:return function(e){return a.createElement(Ct,Object(r.a)({},e))}(e)}};jt.defaultProps={mapName:ct.a.GoogleMaps},jt.displayName="AgodaMapsTilesAndProviders";var At=n(2676),Rt=(n(2905),function(e){return e.showScaleControl?a.createElement(At.a,Object(r.a)({},e)):null});Rt.defaultProps={showScaleControl:!0};var Nt=n(2675),xt=(n(2906),function(e){return e.showZoomControl?a.createElement(Nt.a,Object(r.a)({},e)):null});xt.defaultProps={showZoomControl:!0,zoomInText:"<i class='ficon ficon-control-expand' />",zoomOutText:"<i class='ficon ficon-control-collapse' />",position:"topleft"},xt.displayName="AgodaZoomControl";var kt,Dt,Ht,Ut,Bt,Ft,Gt=function(e){function t(t){var n=e.call(this,t)||this;return n.onMapReady=function(e){e&&n.setState({mapsInstance:e.leafletElement},(function(){return n.props.onMapReady&&n.props.onMapReady(n.state.mapsInstance)}))},n.onMoveStart=function(e){return n.props.onMoveStart&&n.props.onMoveStart(e)},n.onMoveEnd=function(e){return n.props.onMoveEnd&&n.props.onMoveEnd(e)},n.onZoomStart=function(e){return n.props.onZoomStart&&n.props.onZoomStart(e)},n.onZoomEnd=function(e){return n.props.onZoomEnd&&n.props.onZoomEnd(e)},n.onDragStart=function(e){return n.props.onDragStart&&n.props.onDragStart(e)},n.onDragEnd=function(e){return n.props.onDragEnd&&n.props.onDragEnd(e)},n.onClick=function(e){return n.props.onClick&&n.props.onClick(e)},n.state={mapsInstance:null},n}return Object(r.c)(t,e),t.prototype.render=function(){return a.createElement(lt,Object(r.a)({},this.props.agodaMapsProps,{ref:this.onMapReady,onmovestart:this.onMoveStart,onmoveend:this.onMoveEnd,onzoomstart:this.onZoomStart,onzoomend:this.onZoomEnd,ondragstart:this.onDragStart,ondragend:this.onDragEnd,onclick:this.onClick}),a.createElement(ft,Object(r.a)({},this.props.agodaMapsProps.tilesAndProviders)),a.createElement(xt,Object(r.a)({},this.props.agodaMapsProps.useCustomZoomControl)),a.createElement(Rt,Object(r.a)({},this.props.agodaMapsProps.useCustomScaleControl)),a.createElement(jt,Object(r.a)({},this.props.agodaMapsProps.tilesAndProviders)),this.props.children)},t}(a.PureComponent),zt=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){var e=this;this.bindLeafletEvents(this._leafletEvents,{}),this.layerContainer.addLayer(this.leafletElement),this.props.isOpenPopup&&(this.open(),this.leafletElement.on("add",(function(){e.open()}))),this.props.overrideDefaultClick&&(this.leafletElement.off("click"),Object(i.a)(this.props.onclick)&&this.leafletElement.on("click",this.props.onclick)),this.delayedOptionUpdates(this.props.delayedOptions)},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props),!e.isOpenPopup&&this.props.isOpenPopup?this.open():e.isOpenPopup&&!this.props.isOpenPopup&&this.close(),this.props.delayedOptions&&this.props.delayedOptions.timeToDelay>0&&this.props.delayedOptions.updateOnPositionChanged&&this.props.position!==e.position&&this.delayedOptionUpdates(this.props.delayedOptions)},t.prototype.updateLeafletElement=function(e,t){t.isUpdateElementAll?this.updateAllLeafletElement(e,t):(t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),e.extraClassName!==t.extraClassName&&this.removeClassList(e.extraClassName),e.extraClassName!==t.extraClassName&&t.extraClassName&&this.addClassList(t.extraClassName),e.position!==t.position&&this.leafletElement.setLatLng(t.position))},t.prototype.updateAllLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},t.prototype.removeClassList=function(e){var t=this;e.split(/[\s]+/).forEach((function(e){e&&t.leafletElement._icon&&t.leafletElement._icon.classList.remove(e)}))},t.prototype.addClassList=function(e){var t=this;e.split(/[\s]+/).forEach((function(e){e&&t.leafletElement._icon&&t.leafletElement._icon.classList.add(e)}))},t.prototype.delayedOptionUpdates=function(e){var t=this;!e||e.timeToDelay<=0||(setTimeout((function(){e.containerClassName&&e.containerClassName.trim().length>0&&(t.removeClassList(e.containerClassName),t.addClassList(e.containerClassName))}),e.timeToDelay),this.removeClassList(e.containerClassName))},t.prototype.open=function(){this.leafletElement.openPopup()},t.prototype.close=function(){this.leafletElement.closePopup()},t}(n(2674).a),Vt=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.componentDidUpdate=function(e){},t}(n(3017).a),Kt=(n(2907),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.el=null,t.onMouseEnterHandler=function(e){e.stopPropagation(),t.props.onPropertyPopupMouseEnter&&t.props.onPropertyPopupMouseEnter(t.props.propertyId)},t.onClicked=function(e){e.stopPropagation(),t.props.onClick&&t.props.onClick(t.props.propertyId)},t.onMouseLeaveHandler=function(e){e.stopPropagation(),t.props.onPropertyPopupMouseLeave&&t.props.onPropertyPopupMouseLeave(t.props.propertyId)},t.renderStarRating=function(){return t.props.starRatingCss?a.createElement("div",{className:"rating-container "+t.props.starRatingColor,"data-selenium":"sidebar-hotel-star-rating"},a.createElement("i",{className:"ficon ficon-"+t.props.starRatingCss})):null},t.renderReviewScore=function(){if(!t.props.isDisplayReviewScore)return null;var e=t.props.numberOfReview>0?a.createElement("span",{className:"numberOfReviews review-row-half"}," ","("+t.props.numberOfReview+")"):null;return a.createElement("div",{className:"review-container"},a.createElement("span",{className:"review-score-spk-box"},t.props.reviewScoreFormatted),a.createElement("span",{className:"reviewText review-row-half"},t.props.reviewText),e)},t.renderHotelName=function(){var e=t.props.isDomesticLanguage?t.props.translatedHotelName:t.props.hotelDisplayName,n=t.props.displayNameFromPapi?t.props.hotelDisplayName:e;return a.createElement("div",{className:"hotelName-container"},a.createElement("div",{className:"hotelName-container-hotelName"},n))},t.renderPropertyContent=function(){return a.createElement("div",{className:"propertyMarkerPopup-popup-content-container"},t.renderHotelName(),t.renderStarRating(),t.renderReviewScore(),t.props.children)},t.getBottomInfoIcon=function(){return a.createElement("i",{className:"ficon "+t.props.propertyPopupBottomInfo.iconClassName,"data-selenium":t.props.propertyPopupBottomInfo.dataSeleniumIcon})},t.getBottomInfoText=function(){return a.createElement("span",{className:"text","data-selenium":t.props.propertyPopupBottomInfo.dataSeleniumText},t.props.propertyPopupBottomInfo.text)},t.renderCardBottomInfo=function(){if(!t.props.propertyPopupBottomInfo||!t.props.propertyPopupBottomInfo.shouldShow)return null;var e="propertyMarkerPopup-btmContent\n            "+(t.props.propertyPopupBottomInfo.containerClass?t.props.propertyPopupBottomInfo.containerClass:"");return a.createElement("div",{className:e,"data-selenium":"propertyMarkerPopup-btmContent"},t.getBottomInfoIcon(),t.getBottomInfoText())},t}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.el=Object(y.f)().querySelector('[data-propertypopup="'+this.props.propertyId+'"]'),this.el&&(this.el.addEventListener("mouseenter",this.onMouseEnterHandler),this.el.addEventListener("mouseleave",this.onMouseLeaveHandler))},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("mouseenter",this.onMouseEnterHandler),this.el.removeEventListener("mouseleave",this.onMouseLeaveHandler))},t.prototype.renderFavoriteIcon=function(){return this.props.isFavorite?a.createElement("div",{className:"favorite-icon"},a.createElement("i",{className:"ficon ficon-favorite-filled"}),a.createElement("i",{className:"ficon ficon-favorite"})):null},t.prototype.renderPropertyImage=function(){return a.createElement("div",null,this.renderFavoriteIcon(),a.createElement("figure",{className:"propertyMarkerPopup-popup-media"},a.createElement("img",{alt:"",className:"propertyMarkerPopup-popup-img unfold","data-selenium":"propertyMarkerPopup-popup-img",src:this.props.mainPhotoUrl,srcSet:this.props.mainPhotoUrl+" 1x, "+this.props.mainPhotoRetinaUrl+" 2x"})))},t.prototype.render=function(){return a.createElement("div",{"data-selenium":"propertyMarkerPopup-"+this.props.propertyId,"data-propertypopup":""+this.props.propertyId,onClick:this.onClicked},a.createElement("a",{href:this.props.propertyUrl,target:"_blank",className:"propertyMarkerPopup-popup-link","data-selenium":"propertyMarkerPopup-popup-link"},a.createElement("div",{className:"propertyMarkerPopup-popup","data-selenium":"propertyMarkerPopup-popup","data-hotelid":this.props.propertyId,"data-isready":this.props.isReady},this.renderPropertyImage(),this.renderPropertyContent()),this.renderCardBottomInfo()))},t}(a.PureComponent)),Zt=n(293);Dt=kt||(kt={}),Ht="propertyMarkerIcon",Ut='<span data-id="{1}" data-selenium="propertyMarkerIcon-{1}" class="propertyMarkerIcon-placeholder"><div class="propertyMarkerIcon-content"><span>{0}</span>{2}</div></span>',Bt='<span class="exceptional-price-pin"><i class="ficon ficon-thumb-up-solid-map" data-selenium="exceptional-price-location-icon"></i></span>',Ft='<span class="favorite-icon-pin"><i class="ficon ficon-favorite-filled" data-selenium="favorite-marker-icon"></i></span>',Dt.createClassNameList=function(e,t,n){var o=[];return null!=e.containerClassName?o.push(e.containerClassName):o.push(t),null!=e.extraClassName&&o.push(e.extraClassName),n&&o.push("no-scrolling"),o},Dt.getDefaultIcon=function(e){var t=null!=e.html?e.html:Object(Zt.a)(Ut,e.propertyDisplayText,e.id,"");return b.divIcon({html:t,className:Dt.createClassNameList(e,Ht).join(" "),iconAnchor:[20,12],popupAnchor:[0,-32],iconSize:null})},Dt.getIcon=function(e){var t=[Bt,Ft].join(""),n=null!=e.html?e.html:Object(Zt.a)(Ut,e.propertyDisplayText,e.id,t);return b.divIcon({html:n,className:Dt.createClassNameList(e,Ht).join(" "),iconAnchor:[20,12],popupAnchor:[0,-32],iconSize:null})};var Wt,qt;n(2908);(qt=Wt||(Wt={})).generatePopups=function(e){return null==e.popupProps?null:(e.popupProps=Object(r.a)(Object(r.a)({},e.popupProps),{className:kt.createClassNameList(e.popupProps.propertyPopupContentProps,"propertyMarkerPopup-container",e.popupProps.propertyPopupContentProps.isNoScroll).join(" ")}),a.createElement(Vt,Object(r.a)({},e.popupProps),a.createElement(Kt,Object(r.a)({},e.popupProps.propertyPopupContentProps))))},qt.generateMarkers=function(e){return Object(Ve.a)(e)?e.map((function(e,t){return e.icon=kt.getIcon(e),a.createElement(zt,Object(r.a)({key:t},e),qt.generatePopups(e))})):[]};n(2909);var Yt,Jt,Xt,Qt,$t,en,tn,nn,on,rn,an,sn,cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.el=null,t.onMouseEnterHandler=function(e){e.stopPropagation(),t.props.onLandmarkPopupMouseEnter(t.props.id)},t.onMouseLeaveHandler=function(e){e.stopPropagation(),t.props.onLandmarkPopupMouseLeave(t.props.id)},t.renderLandmarkName=function(){return a.createElement("div",{className:"landmarkMarkerPopup-name-container"},a.createElement("b",{className:"landmarkMarkerPopup-name-landmarkName"},t.props.name))},t.renderLandmarkCategory=function(){return a.createElement("div",{className:"landmarkMarkerPopup-type-container"},a.createElement("span",{className:"landmarkMarkerPopup-type-category"},t.props.landmarkTypeName))},t.renderLandmarkContent=function(){return a.createElement("div",{className:"landmarkMarkerPopup-popup-content-container"},t.renderLandmarkName(),t.renderLandmarkCategory())},t}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.el=Object(y.f)().querySelector('[data-landmarkpopup="'+this.props.id+'"]'),this.el&&(this.el.addEventListener("mouseenter",this.onMouseEnterHandler),this.el.addEventListener("mouseleave",this.onMouseLeaveHandler))},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("mouseenter",this.onMouseEnterHandler),this.el.removeEventListener("mouseleave",this.onMouseLeaveHandler))},t.prototype.renderLandmarkImage=function(){return a.createElement("div",null,a.createElement("figure",{className:"landmarkMarkerPopup-popup-media"},a.createElement("img",{alt:"",className:"landmarkMarkerPopup-popup-img unfold","data-selenium":"landmarkMarkerPopup-popup-img",src:this.props.photos[0],srcSet:this.props.photos[0]+" 1x, "+this.props.photos[1]+" 2x, "+this.props.photos[2]+" 3x"})))},t.prototype.render=function(){return a.createElement("div",{className:"landmarkMarkerPopup","data-selenium":"landmarkMarkerPopup-"+this.props.id,"data-landmarkpopup":""+this.props.id},this.renderLandmarkImage(),this.renderLandmarkContent())},t}(a.PureComponent);n(2910);Jt=Yt||(Yt={}),Xt=function(e,t,n){var o=[];return null!=e.containerClassName?o.push(e.containerClassName):o.push(t),null!=e.extraClassName&&o.push(e.extraClassName),n&&o.push("no-scrolling"),o},Jt.generateMarkers=function(e){return Object(Ve.a)(e)?e.map((function(e,t){var n=null!=e.html?e.html:Object(Zt.a)('<span data-id="{0}" data-selenium="landmarkMarkerIcon-{0}" class="landmarkMarkerIcon-placeholder"><div class="landmarkMarkerIcon-content"><span>{1}</span></div></span>',e.id,'<i class="ficon ficon-map-attraction"></i>'),o=b.divIcon({html:n,className:"landmarkMarkerIcon",iconAnchor:[0,31],popupAnchor:[0,-35],iconSize:null}),i=Object(r.a)(Object(r.a)({},e),{icon:o});return a.createElement(zt,Object(r.a)({key:t},i),function(e){return null==e.popupProps?null:(e.popupProps=Object(r.a)(Object(r.a)({},e.popupProps),{className:Xt(e.popupProps.landmarkPopupContentProps,"landmarkMarkerPopup-container",e.popupProps.landmarkPopupContentProps.isNoScroll).join(" ")}),a.createElement(Vt,Object(r.a)({},e.popupProps),a.createElement(cn,Object(r.a)({},e.popupProps.landmarkPopupContentProps))))}(e))})):[]},(Qt||(Qt={})).generateMarkers=function(e){var t=e&&e.propertyMarkerPropsList?e.propertyMarkerPropsList:[],n=e&&e.landmarkMarkerPropsList?e.landmarkMarkerPropsList:[];return Object(r.g)(Wt.generateMarkers(t),Yt.generateMarkers(n))},en=$t||($t={}),tn=function(e){return Object(Zt.a)('<div class="{0}">{1}</div>',nn(e),Object(Zt.a)('<img src="{0}" class="{1}" />',"//cdn6.agoda.net/images/MAPS-456/default/ic-choose-area.svg",on(e))+Object(Zt.a)('<div class="{0}" />',rn(e)))},nn=function(e){return e.containerClassName},on=function(e){return e.iconClassName},rn=function(e){return e.radiusClassName},en.generatePOIMarkers=function(e){return Object(Ve.a)(e)?e.map((function(e,t){var n=b.divIcon({html:tn(e),className:e.containerClassName,iconAnchor:[20,37],popupAnchor:[0,-20],iconSize:null}),o=Object(r.a)(Object(r.a)({},e),{icon:n});return a.createElement(zt,Object(r.a)({key:t},o))})):null},(sn=an||(an={})).onMoveStart=function(e){return{map:e,type:s.a.MAPS_MOVE_START}},sn.onMoveEnd=function(e){return{map:e,type:s.a.MAPS_MOVE_END}},sn.onZoomStart=function(e){return{map:e,type:s.a.MAPS_ZOOM_START}},sn.onZoomEnd=function(e){return{map:e,type:s.a.MAPS_ZOOM_END}},sn.onDragStart=function(e){return{map:e,type:s.a.MAPS_DRAG_START}},sn.onDragEnd=function(e){return{map:e,type:s.a.MAPS_DRAG_END}},sn.onClick=function(e){return{map:e,type:s.a.MAPS_CLICK}},sn.onMapLoadStatus=function(e){return function(t,n){e.update({mapLoadStatus:t,time:n,type:s.a.MAPS_LOADED})}},sn.onMapReady=function(e,t){t.update({map:e,type:s.a.MAPS_LEAFLET_READY})},sn.onMarkerMouseover=function(e,t){return function(n){n&&n.target&&n.target.options&&null!=n.target.options.id&&e.update({targetType:t,targetId:n.target.options.id,type:s.a.MAPS_MARKER_MOUSE_OVER})}},sn.onMarkerMouseout=function(e){return function(t){t&&t.target&&t.target.options&&null!=t.target.options.id&&e.update({targetId:t.target.options.id,type:s.a.MAPS_MARKER_MOUSE_OUT,delayed:!1})}},sn.onMarkerClicked=function(e,t,n){return function(o){o&&null!=o.latlng&&null!=t&&null!=n&&e.update({targetId:t,targetType:n,type:s.a.MAPS_MARKER_CLICK,latlng:o.latlng})}},sn.onMarkerClosePopup=function(e,t){return function(n){null!=t&&e.update({targetId:t,type:s.a.MAPS_POPUP_CLOSED})}},sn.onPopupMouseEnter=function(e){return function(t){null!=t&&e.update({targetId:t,type:s.a.MAPS_POPUP_MOUSE_ENTER})}},sn.onPopupMouseLeave=function(e){return function(t){null!=t&&e.update({targetId:t,type:s.a.MAPS_POPUP_MOUSE_LEAVE})}},sn.onPropertyPopupClick=function(e){return function(t){null!=t&&e.update({propertyId:t,type:s.a.MAPS_POPUP_CLICK})}};var ln=n(2188),pn=(n(2911),function(e){function t(t){var n=e.call(this,t)||this;return n.getContainerID=function(){return"POISearchSuggestionList"},n.getContainerClass=function(){return"POISearchSuggestion__list"},n.state={textToSearch:""},n}return Object(r.c)(t,e),t.prototype.componentWillUpdate=function(e){""===e.autoSuggestionProps.inputProps.value&&e.autoSuggestionProps.inputProps.value!==this.state.textToSearch&&this.setState({textToSearch:""})},t.prototype.render=function(){var e=this,t=Object(r.a)(Object(r.a)({},this.props.autoSuggestionProps),{inputProps:Object(r.a)(Object(r.a)({},this.props.autoSuggestionProps.inputProps),{value:this.state.textToSearch,onChange:function(t,n){e.setState({textToSearch:n.newValue}),e.props.autoSuggestionProps.inputProps.onChange(t,n)}})});return a.createElement("div",{id:this.getContainerID(),className:this.getContainerClass()},a.createElement(ln,Object(r.a)({},t)))},t}(a.PureComponent)),un=(n(2912),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getIconClassName=function(){return["POISearchSuggestion__icon","POISearchSuggestion__poiIcon","ficon",t.props.iconClassName].join(" ")},t.getClearClassName=function(){var e=["POISearchSuggestion__icon","POISearchSuggestion__clearIcon","ficon",t.props.clearIconClassName];return t.props.shouldShowClearBtn||e.push("hide"),e.join(" ")},t.onClearInput=function(){t.props.handleClearInput({type:s.a.MAPS_POI_SEARCH_CLEAR})},t}return Object(r.c)(t,e),t.prototype.render=function(){return this.props.isVisible?a.createElement("div",{className:"POISearchSuggestion__container","data-selenium":"POISearchSuggestionContainer"},a.createElement("i",{className:this.getIconClassName()}),a.createElement(pn,Object(r.a)({},this.props.poiSearchSuggestionList)),a.createElement("i",{className:this.getClearClassName(),onClick:this.onClearInput})):null},t}(a.PureComponent)),mn=(n(2913),function(e){var t;return e.ShouldShowPropertyType?(t="map-legend-homes",a.createElement("div",{className:"map-legend-position-container"},a.createElement("div",{className:"map-legend-position-box"},a.createElement("div",{className:"map-legend-hotel"},a.createElement("div",{className:"map-legend map-legend-hotel-rec"}),e.PropertyText),a.createElement("div",{className:t},a.createElement("div",{className:"map-legend map-legend-homes-rec"}),e.ApartmentText)))):null});mn.displayName="PropertyType",mn.defaultProps={ApartmentText:"Homes and apartments",PropertyText:"Hotels, resorts, and more"};n(2914);var dn=function(e){var t;return a.createElement("div",{className:(t=["SearchOnMapsBtn__container"],e.isSearchOnMapsBtnAtCenter&&t.push("SearchOnMapsBtn__container--center"),t.join(" "))},a.createElement("div",{className:"SearchOnMapsBtn__button","data-selenium":"radius-update-search-box",onClick:function(){e.onMapSearch({type:s.a.MAPS_SEARCH_CURRENT_VIEWPORT})}},a.createElement("i",{className:"SearchOnMapsBtn__icon ficon ficon-refresh-bold","data-selenium":"radius-update-search-icon"}),a.createElement("span",{className:"SearchOnMapsBtn__text","data-selenium":"radius-update-search-link"},e.searchOnMapText)))};dn.displayName="SearchMoveMap",dn.defaultProps={searchOnMapText:"CLICK TO SEARCH THIS AREA"};n(2915),n(2916);var fn=n(2044),hn=n(95),gn=n.n(hn),yn=n(2396),Pn=n(2047),_n=n(2246);function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var Sn=gn.a.arrayOf(_n.a),Cn=function(e){function t(){return On(this,t),bn(this,e.apply(this,arguments))}return vn(t,e),t.prototype.createLeafletElement=function(e){return new b.Polygon(e.positions,this.getOptions(e))},t.prototype.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(yn.a);Cn.propTypes={children:Pn.a,positions:gn.a.oneOfType([_n.a,Sn,gn.a.arrayOf(Sn)]).isRequired};var In,En=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.componentDidUpdate=function(e){e!==this.props&&this.updateLeafletElement(e,this.props)},t}(Cn);!function(e){e.getPolygonProps=function(e){return{positions:e,color:"#5392F9"}}}(In||(In={}));var Mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMapReady=function(e){return t.props.update(at.a.createMapsReadyAction(e))},t.onMoveStart=function(e){return t.props.update(an.onMoveStart(e.target))},t.onMoveEnd=function(e){return t.props.update(an.onMoveEnd(e.target))},t.onZoomStart=function(e){return t.props.update(an.onZoomStart(e.target))},t.onZoomEnd=function(e){return t.props.update(an.onZoomEnd(e.target))},t.onDragStart=function(e){return t.props.update(an.onDragStart(e.target))},t.onDragEnd=function(e){return t.props.update(an.onDragEnd(e.target))},t.onClick=function(e){return t.props.update(an.onClick(e.target))},t.renderPolygon=function(){return t.props.isSelectedCityCenter&&Object(Ve.a)(t.props.polygonCoordinates)?a.createElement(En,Object(r.a)({},In.getPolygonProps(t.props.polygonCoordinates))):null},t.renderCityCenterBox=function(){return Object(Ve.a)(t.props.polygonCoordinates)?a.createElement("div",{onClick:t.onClickCheckBox,className:"MapsAreaContainer__CityCenterBox","data-element-name":"search-map-city-center-box"},a.createElement(fn.a,{isSelected:t.props.isSelectedCityCenter}),a.createElement("span",{className:"MapsAreaContainer__CityCenterBox__Text"},t.props.showCityCenterText)):null},t.onClickCheckBox=function(){t.props.update({type:s.a.MAPS_TOGGLE_CITY_CENTER,isSelectedCityCenter:t.props.isSelectedCityCenter})},t}return Object(r.c)(t,e),t.prototype.render=function(){return a.createElement("div",{className:"maps-mapsArea","data-selenium":"maps-mapsArea"},a.createElement(Gt,Object(r.a)({},this.props.agodaMapsContainerProps,{onMapReady:this.onMapReady,onMoveStart:this.onMoveStart,onMoveEnd:this.onMoveEnd,onZoomStart:this.onZoomStart,onZoomEnd:this.onZoomEnd,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onClick:this.onClick}),Qt.generateMarkers(this.props.agodaMarkerPropsList),$t.generatePOIMarkers(this.props.landmarkMarkers),this.renderPolygon()),a.createElement(dn,Object(r.a)({},this.props.searchOnMap)),this.renderCityCenterBox(),a.createElement(un,Object(r.a)({},this.props.poiSuggestionContainerProps)),this.props.propertyTypeProps&&a.createElement(mn,Object(r.a)({},this.props.propertyTypeProps)))},t}(a.PureComponent),Ln=n(10),Tn=(n(2917),function(e){if(!e.isShow)return null;var t,n;return a.createElement("div",{className:"map-datedisplay","data-selenium":"map-datedisplay"},a.createElement("i",{className:(n=["ficon"],e.iconClassName.length&&n.push(e.iconClassName),n.join(" "))}),a.createElement("h3",{className:(t=["map-searchbox-header"],e.className.length&&t.push(e.className),t.join(" ")),"data-selenium":"map-searchbox-header"},e.textToShow))});Tn.displayName="DateDisplay";var wn=n(106),jn=new(function(){function e(){this.getSearchFilterPillElementName=function(t,n){switch(n){case"Benefits":return t+"-"+e.roomOffer;case"Areas":return t+"-"+e.neighborhood;case"Facilities":return t+"-"+e.facilities;case"AccomodationType":return t+"-"+e.propertyType;case"ProductType":return t+"-"+e.productType;case"ReviewScores":return t+"-"+e.guestRating;case"PaymentOptions":return t+"-"+e.paymentOption;case"Transportations":return t+"-"+e.transportation;case"Landmarks":return t+"-"+e.landmark;case"StarRating":return t+"-"+e.starRating;default:return t}}}return e.prototype.getElementName=function(e,t,n){var o;switch(e){case"search-filter-pill-remove":o=this.getSearchFilterPillElementName(e,t&&t.group)}return o?o.toLowerCase():o},e.roomOffer="roomoffer",e.neighborhood="neighborhood",e.facilities="facilities",e.propertyType="propertytype",e.guestRating="guestrating",e.paymentOption="payment",e.transportation="transportation",e.landmark="landmark",e.starRating="starrating",e.productType="producttype",e}()),An=(n(2918),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onSearch({filterCriteriaKey:e,type:s.a.SEARCH_CLEAR_SPECIFIC_FILTER})},t.renderTags=function(){return t.props.items.map((function(e,n){var o="filter-tag-item"+(t.props.disabled?" filter-tag-item--disabled":"");return a.createElement("li",{key:n,className:o,"data-selenium":"filter-tag-item"},a.createElement("span",{className:"filter-tag-item__title","data-selenium":"filter-tag-text"},e.label),a.createElement(wn.a,{iconClass:"ficon ficon-negative filter-tag-item__icon",iconSelenium:"close-tag",onClick:t.onClick.bind(t,e.filterCriteriaKey),elementName:jn.getElementName("search-filter-pill-remove",{group:""}),elementIndex:n}))}))},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props.items;return e&&0!==e.length?a.createElement("div",{className:"filter-tag"},a.createElement("span",{className:"filter-tag__label","data-selenium":"applied-filter"},this.props.title),a.createElement("ul",null,this.renderTags())):null},t}(a.PureComponent)),Rn=function(e){if(!e.isShow)return null;var t;return a.createElement("div",{className:"map-sidebar-header"},a.createElement("h3",{className:(t=["properties-available"],e.className.length&&t.push(e.className),t.join(" "))},e.text))};Rn.displayName="PropertiesAvailable";n(2919);var Nn=n(6),xn=function(e){return e.shouldRender?a.createElement("li",{className:"mapsPropertyListBottomInformation"},a.createElement("div",{className:"image-map-search-container"},a.createElement("img",Object(r.a)({alt:"",src:e.photoURL,srcSet:e.photoURL+" 1x, "+e.photo2xURL+" 2x, "+e.photo3xURL+" 3x",className:"image-map-search"},"loading"in HTMLImageElement.prototype&&Nn.a.isLazyLoadImage&&{loading:"lazy"}))),a.createElement("div",{className:"informationText"},e.informationText,a.createElement("br",null),e.informationText2)):null};xn.displayName="BottomInformation";var kn=n(602),Dn=(n(2920),function(e){return e.isVisible?a.createElement("div",{className:"zero-result__container","data-selenium":"zero-result-container"},a.createElement("div",{className:"zero-result__image"},a.createElement("img",{alt:"",src:e.photoURL,srcSet:e.photoURL+" 1x, "+e.photo2xURL+" 2x, "+e.photo3xURL+" 3x",className:"image-map-search"})),a.createElement("div",{className:"zero-result__informationText","data-selenium":"zero-result-text"},e.noResultTitle),a.createElement("div",{className:"zero-result__informationText2","data-selenium":"zero-result-text2"},e.noResultDescription,a.createElement("br",null),a.createElement("ul",{className:"zero-result__suggestionList","data-selenium":"zero-result-suggestionList"},a.createElement("li",null,e.noResultSuggestion1),a.createElement("li",null,e.noResultSuggestion2),a.createElement("li",null,e.noResultSuggestion3)))):null});Dn.displayName="NoResultPage";n(2921);var Hn=function(e){if(!e.isVisible)return null;return a.createElement("div",{className:["mapsPropertyCard-btmContent",e.containerClassName].join(" ").trim(),"data-selenium":"mapsPropertyCard-btmContent"},a.createElement("i",{className:["ficon",e.iconClassName].join(" ").trim()}),a.createElement("span",{className:["top-location-text",e.textClassName].join(" ").trim()},e.text))};Hn.displayName="BottomContent";n(2922);var Un=function(e){if(!e.isVisible)return null;return a.createElement("div",{className:["mapsPropertyCard-discountBadge",e.className].join(" ").trim(),"data-selenium":"mapsPropertyCard-discountBadge"},a.createElement("strong",{className:"price-text"},e.discountPercentage),a.createElement("span",{className:"map-discount-ribbon-today"},a.createElement("b",{className:"off-text"},e.discountText)))};Un.displayName="DiscountBadge";var Bn=n(8),Fn=(n(2923),function(e){return a.createElement("h3",{className:"mapsPropertyCard-name","data-selenium":"mapsPropertyCard-name"},a.createElement("a",{href:e.URL,target:"_blank",onClick:function(t){t.stopPropagation(),e.onClick(e.propertyId)}},e.propertyName))});Fn.displayName="Name";n(2924);var Gn=function(e){if(!e.isVisible)return null;var t=function(){return a.createElement("div",{className:"review-col"},a.createElement("div",{className:"review-score-spk-box "+(e.direction===ae.D.IconThenText?"TipRight":"TipLeft")},e.reviewScore))};return a.createElement("div",{className:"mapsPropertyCard-reviewScore","data-selenium":"mapsPropertyCard-reviewScore"},e.direction===ae.D.IconThenText&&t(),a.createElement("div",{className:"review-col"},a.createElement("span",{className:"reviewText review-row-half"},e.reviewText),a.createElement("span",{className:"numberOfReviews review-row-half"},e.numberOfReview)),e.direction===ae.D.TextThenIcon&&t())};Gn.displayName="ReviewScore";n(2925);var zn=function(e){if(!e.isVisible||e.benefitList.length<1)return null;var t=function(e){return a.createElement("div",{key:e.key,className:e.benefitClass},a.createElement("i",{className:e.iconClass,"data-selenium":e.dataSelenium}),a.createElement("span",{className:e.benefitTextClass},e.benefitText))};return a.createElement("div",{className:"mapsPropertyCard-benefits","data-selenium":"mapsPropertyCard-benefits"},e.benefitList.map((function(e){return t(e)})))};zn.displayName="Benefits";var Vn=n(2055),Kn=(n(2926),n(94)),Zn=(n(2927),function(e){if(!e.isVisible)return null;var t=function(){return e.containerClassName},n=function(){return["ficon",e.iconClassName].join(" ")};return e.shouldShowTooltip?a.createElement(Kn.a,{placement:"top",overlay:e.tooltipText},a.createElement("div",{className:t(),"data-selenium":"distanceDetails-container"},a.createElement("i",{className:n()}),a.createElement("span",{className:"distanceDetail-text"},e.distanceText))):a.createElement("div",{className:t(),"data-selenium":"distanceDetails-container"},a.createElement("i",{className:n()}),a.createElement("span",{className:"distanceDetail-text"},e.distanceText))});Zn.displayName="DistanceDetails";var Wn=n(1027),qn=a.memo(Object(Ln.withTranslations)((function(e){var t="AdvanceGuaranteeProgram";return a.createElement(Kn.a,{placement:Object(y.i)()?"topRight":"topLeft",overlay:e.overlayText,overlayClassName:"AdvanceGuaranteeProgram",align:{offset:[0,-3]}},a.createElement(Wn.a,{image:{id:"AdvanceGuaranteeProgramLogo",url:{original:"https://cdn6.agoda.net/images/MIN-11586/default/agoda_preferred_logo.png",autoAppend2x:!0}},className:t+"__Logo",imageClassName:t+"__Image"}))}),(function(e){return{overlayText:e.AdvanceGuaranteeProgram}}))),Yn=n(2054),Jn=n(2243),Xn=function(e){return a.createElement("div",{className:"mapsPropertyCard-infobox","data-selenium":"mapsPropertyCard-infobox"},e.showAgpLogo?a.createElement(qn,null):null,a.createElement(Fn,Object(r.a)({},e.name)),function(){if(!e.agodaHomesText)return null;if(e.experiments.nhaRemoveHomesBadgeSSRPP&&!e.HomesOrHomesStayAccommodationType)return a.createElement(Jn.a,{text:e.accommodationType});var t=e.experiments.nhaRemoveHomesBadgeSSRPP?"XS":"NONE";return a.createElement(Bn.d,{pt:t},a.createElement(Vn.a,{text:e.agodaHomesText}))}(),e.experiments.nhaRemoveHomesBadgeSSRPP?a.createElement(Bn.d,{pb:"XS"},a.createElement(Yn.a,Object(r.a)({},e.starRating))):a.createElement(Yn.a,Object(r.a)({},e.starRating)),e.reviewScore.isVisible?a.createElement(Gn,Object(r.a)({},e.reviewScore)):null,e.distanceDetails&&e.distanceDetails.isVisible?a.createElement(Zn,Object(r.a)({},e.distanceDetails)):null,e.benefits.isVisible?a.createElement(zn,Object(r.a)({},e.benefits)):null)};Xn.displayName="InfoBox";n(2928);var Qn=function(e){if(!e.isVisible)return null;return a.createElement("a",{className:["mapsPropertyCard-moreDetails",e.className].join(" ").trim(),"data-selenium":"mapsPropertyCard-moreDetails",href:e.url,target:"_blank",onClick:function(t){t.stopPropagation(),e.onClick(e.propertyId)}},e.text)};Qn.displayName="MoreDetails";var $n=n(2369),eo=(n(2929),function(e){if(!e.isVisible)return null;var t;return a.createElement("div",{className:"mapsPropertyCard-priceData","data-selenium":"mapsPropertyCard-priceData"},e.doubleCrossOut&&a.createElement($n.a,Object(r.a)({},e.doubleCrossOut)),e.crossOut?a.createElement($n.a,Object(r.a)({},e.crossOut)):e.hasCrossOutPrice?a.createElement("div",{className:"maps-crossOutPrice"},a.createElement("del",null,a.createElement("strong",{"data-selenium":"crossOutPrice-value",className:"mapsPropertyCard-item-crossOutPrice"},e.crossOutPrice))):void 0,(t=e.isGiftcardApplied?"giftcard-applied":e.hasCrossOutPrice?"":"no-crossOutPrice",a.createElement("div",{className:"maps-price "+t},a.createElement("span",{className:"maps-currency"},e.displayCurrency," "),a.createElement("strong",{"data-selenium":"price-value",className:"mapsPropertyCard-item-price"},e.price))),a.createElement("span",{className:"price-view-text  map-subinfo","data-selenium":"price-view-text"},e.priceViewText))});eo.displayName="PriceData";n(2930);var to=function(e){return a.createElement("div",{className:"mapsPropertyCard-pricePolling","data-selenium":"mapsPropertyCard-pricePolling"},a.createElement("img",{src:e.pollingAnimationURL,alt:"loading"}))};to.displayName="PricePolling";n(2931);var no=function(e){return a.createElement("div",{className:"mapsPropertyCard-priceSoldout","data-selenium":"mapsPropertyCard-priceSoldout"},a.createElement("strong",{className:"soldout-info maps-price"},e.soldoutText),a.createElement("span",{className:"soldout-subinfo map-subinfo"},e.soldoutSupText))};no.displayName="PriceSoldout";n(2932);var oo=function(e){return a.createElement("div",{className:"mapsPropertyCard-priceBox","data-selenium":"mapsPropertyCard-priceBox"},function(){if(e.priceData.isVisible)return a.createElement(eo,Object(r.a)({},e.priceData))}(),function(){if(e.pricePolling.isVisible)return a.createElement(to,Object(r.a)({},e.pricePolling))}(),function(){if(e.soldOutPrice.isVisible)return a.createElement(no,Object(r.a)({},e.soldOutPrice))}())};oo.displayName="PriceBox";n(2933);var ro=n(553),ao=function(e){var t=e.useAkamaiImageManager?Object(ro.b)(e.photoURL,150):e.photoURL,n=e.useAkamaiImageManager?Object(ro.b)(e.photo2xURL,150):e.photo2xURL;return a.createElement("div",null,a.createElement("figure",{className:"mapsPropertyCard-propertyPhoto","data-selenium":"mapsPropertyCard-propertyPhoto"},a.createElement("img",Object(r.a)({className:"mapsPropertyCard-img unfold",src:t,srcSet:t+" 1x, "+n+" 2x",alt:e.alterText},"loading"in HTMLImageElement.prototype&&Nn.a.isLazyLoadImage&&{loading:"lazy"}))))};ao.displayName="PropertyPhoto";n(2934);var io=n(2371),so=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnMouseEnterPropertyCard=function(){t.props.functionPointers.update({type:s.a.MAPS_PROPERTY_CARD_MOUSE_ENTER,args:{propertyId:t.props.propertyId,userData:t.props.userData}})},t.handleOnMouseLeavePropertyCard=function(){t.props.functionPointers.update({type:s.a.MAPS_PROPERTY_CARD_MOUSE_LEAVE,args:{propertyId:t.props.propertyId,userData:t.props.userData}})},t.handleOnClickPropertyCard=function(){t.props.functionPointers.update({type:s.a.MAPS_PROPERTY_CARD_CLICK,propertyId:t.props.propertyId,latlng:t.props.latlng})},t.getContainerClassName=function(){var e=[];return e.push("mapsPropertyCard-container"),t.props.showHeader&&e.push(t.props.headerClassName),t.props.activeState&&e.push("active"),t.props.scrollTo&&e.push("scrollToElement"),e.join(" ")},t.renderHeader=function(){return t.props.showHeader?a.createElement(io.a,{title:t.props.headerText}):null},t}return Object(r.c)(t,e),t.prototype.renderMoreDetails=function(){if(this.props.moreDetail.isVisible)return a.createElement(Qn,Object(r.a)({},this.props.moreDetail))},t.prototype.renderInfoBox=function(){return a.createElement(Xn,Object(r.a)({},this.props.info))},t.prototype.renderPriceBox=function(){return a.createElement(oo,Object(r.a)({},this.props.price))},t.prototype.renderDiscountBadge=function(){if(this.props.discountBadge.isVisible)return a.createElement(Un,Object(r.a)({},this.props.discountBadge))},t.prototype.renderDiscountBadgeInBtmRight=function(){return this.renderDiscountBadge()},t.prototype.renderMoreDetailsInBtmRight=function(){return this.renderMoreDetails()},t.prototype.renderPhotoBox=function(){return this.props.photos.enableLazyLoading?a.createElement(kn.a,{offset:500,isLazyLoadingLegacy:!0},a.createElement(ao,Object(r.a)({},this.props.photos,{useAkamaiImageManager:this.props.useAkamaiImageManager}))):a.createElement(ao,Object(r.a)({},this.props.photos,{useAkamaiImageManager:this.props.useAkamaiImageManager}))},t.prototype.renderBottomContent=function(){return a.createElement(Hn,Object(r.a)({},this.props.cardButtom))},t.prototype.renderPropertyCardContents=function(){return a.createElement("div",{className:"mapsPropertyCard-content-container"},this.renderInfoBox(),a.createElement("div",{className:"mapsPropertyCard-btmRight-container"},this.renderDiscountBadgeInBtmRight(),this.renderPriceBox(),this.renderMoreDetailsInBtmRight()))},t.prototype.renderMainContent=function(){return a.createElement("div",{className:"mapsPropertyCard-content-main"},this.renderPhotoBox(),this.renderPropertyCardContents())},t.prototype.renderButtomContent=function(){return a.createElement("div",{className:"mapsPropertyCard-content-btm"},this.renderBottomContent())},t.prototype.render=function(){return a.createElement("div",{className:"mapsPropertyCard-divContainer","data-propertycard":this.props.propertyId},this.renderHeader(),a.createElement("li",{className:this.getContainerClassName(),"data-selenium":"mapsPropertyCard-container",onMouseEnter:this.handleOnMouseEnterPropertyCard,onMouseLeave:this.handleOnMouseLeavePropertyCard,onClick:this.handleOnClickPropertyCard},this.renderMainContent(),this.renderButtomContent()))},t}(a.PureComponent),co=(n(2935),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPropertyList=function(){if(t.props.propertyCardProps.length>0)return t.props.propertyCardProps.map((function(e,n){return a.createElement(so,Object(r.a)({key:e.propertyId,useAkamaiImageManager:t.props.experiments.useAkamaiImageManager},e))}))},t.renderBottomInformation=function(){if(t.props.bottomInformationProps.shouldRender)return a.createElement(kn.a,{offset:100,isLazyLoadingLegacy:!0},a.createElement(xn,Object(r.a)({},t.props.bottomInformationProps)))},t.renderNoResultPage=function(){if(t.props.noResultPage.isVisible)return a.createElement(Dn,Object(r.a)({},t.props.noResultPage))},t}return Object(r.c)(t,e),t.prototype.render=function(){return this.props.shouldRender?a.createElement("ul",{className:"mapsPropertyList propertyListContainer"},this.renderPropertyList(),this.renderBottomInformation(),this.renderNoResultPage()):null},t}(a.PureComponent)),lo=n(2310),po=n(2400),uo=(n(2936),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleItemSelection=function(e){t.props.functions.onSearch({selectedSortOptionId:e.selectedSortOptionId,selectedOrderId:e.selectedSortOrder,type:s.a.SEARCH_SORTING})},t.renderDropDown=function(){if(!t.props.sortOptions||0===t.props.sortOptions.length)return null;var e,n=a.createElement(wn.a,{iconClass:"ficon-12 ficon-noti-check-mark-sharp"}),o=t.props.sortOptions.map((function(e){return{icon:n,key:e.id,text:e.text,sortOptionId:e.sortOptionId,sortOrder:e.sortOrder}}));t.props.sortOptions.forEach((function(n){if(n.sortOptionId===t.props.selectedSortOptionId&&n.sortOrder===t.props.selectedSortOrder)return e=n,!1}));var r=ae.M.DistanceFromLandmark,i={selectedItemKey:e&&e.id===r?e.sortOrder:e?e.id:0},s={onMapSortChange:t.handleItemSelection};return a.createElement("div",{className:"select-dropdown-list-container"},a.createElement("div",{className:"select-dropdown-list-label"},t.props.sortByTitle),a.createElement(po.a,{options:o,selectedOption:i,viewProps:{dropdownClass:"select-dropdown-list-header",alignment:"left",listClass:"select-dropdown-list-sort-option",dataSelenium:"maps-sort-options"},functions:s}))},t}return Object(r.c)(t,e),t.prototype.render=function(){return this.renderDropDown()},t}(a.PureComponent)),mo=(n(2937),n(134)),fo=(n(2938),n(16)),ho=function(e){var t=Object(fo.c)("MoneyEarnedInfo",e.className);return a.createElement("div",{className:t},e.text)};ho.displayName="MoneyEarnedInfo";var go=Object(gt.withoutFeature)(Object(Ln.withTranslations)(ho,(function(e){return{text:e.CmaMoneyEarnedStaticText}})),mo.a.RegulationHideRankingInfo),yo=function(e){return a.createElement("div",{className:"scrollable-container sidebar-content"},e.propertiesAvailable&&e.propertiesAvailable.isShow?a.createElement(Rn,Object(r.a)({},e.propertiesAvailable)):null,e.dateDisplay&&e.dateDisplay.isShow?a.createElement(Tn,Object(r.a)({},e.dateDisplay)):null,a.createElement(An,Object(r.a)({},e.filterTagsProps)),e.sort&&e.sort.shouldRender?a.createElement(uo,Object(r.a)({},e.sort)):null,a.createElement(lo.a,Object(r.a)({},e.loadingAnimation)),a.createElement(go,{className:"TextContainer"}),a.createElement(co,Object(r.a)({},e.propertyList)))};yo.displayName="MapsSearchPageSidebar",yo.defaultProps={propertiesAvailable:{isShow:!1,text:"map",className:"map"},dateDisplay:{isShow:!1,className:"map",textToShow:"map",iconClassName:"icon"},sort:{},propertyList:{}};var Po=Object(Ln.withExperiments)(yo),_o=n(397),Oo=(n(2939),n(1664)),bo=n(1665),vo=n(2602),So=n(432),Co=n(55),Io=a.lazy(Object(it.a)((function(){return n.e(99).then(n.bind(null,3095))}))),Eo=function(e){return a.createElement(_o.default,Object(r.a)({},e.modalProps),a.createElement(bo.ExperimentContext.Provider,{value:e.experiments},a.createElement(Oo.TranslationsContext.Provider,{value:e.cmsValues},a.createElement("div",{className:"maps-container-inner","data-selenium":"maps-container-inner"},a.createElement("div",{className:"maps-header"},a.createElement("div",{className:"mapsFilterContainerRoot mapsFilterContainer fit-container-agoda","data-selenium":"maps-header"},a.createElement(a.Suspense,{fallback:null},a.createElement(Io,Object(r.a)({},e.mapTopFiltersProps))))),a.createElement("div",{className:"maps-body","data-selenium":"maps-body"},a.createElement(Mn,Object(r.a)({},e.mapsAreaContainerProps)),a.createElement("div",{className:"maps-sidePanel","data-selenium":"maps-sidePanel"},e.experiments&&e.experiments.isCmaShowMoneyEarnedBanner?a.createElement(vo.CmaMoneyEarnedBanner,null):null,a.createElement(Po,Object(r.a)({},e.sidePanelProps))))))))};Eo.displayName="MapsSearchPage",Eo.defaultProps={modalProps:{},mapTopFiltersProps:{},sidePanelProps:{},mapsAreaContainerProps:{}};var Mo,Lo=Object(So.a)(Eo,null,(function(e,t,n){e&&Co.a.log({level:"error",message:"MapsSearchPage error",exceptionMessage:e.message,stackTrace:e.stack})})),To=n(2612),wo=n(2609);(Mo||(Mo={})).mapToProps=function(e,t,n){var o=To.a.getTransformer(e,t,n);return Object(r.a)(Object(r.a)({},t.filterProps),{filters:o(wo.a.getFilterUIConfig(e,t,ae.i.MapTop)),filterContainerType:ae.i.MapTop})};var jo=function(e,t){return No(e,t)?xo(e,t)?b.latLng(t.properties[0].Latitude,t.properties[0].Longitude):b.latLng(0,0):t.mapInfo.currentRectangle&&t.mapInfo.currentRectangle.latlng},Ao=function(e,t){return No(e,t)&&!xo(e,t)?0:t.mapInfo.currentRectangle&&t.mapInfo.currentRectangle.zoom},Ro=function(e,t){return No(e,t)&&!xo(e,t)?function(e){if(e&&!(e.length<1))return new b.LatLngBounds(e.map((function(e){return[e.Latitude,e.Longitude]})))}(t.properties):void 0},No=function(e,t){return t.mapInfo.currentRectangle&&t.mapInfo.currentRectangle.mode===ae.n.ByBound},xo=function(e,t){return 1===t.properties.length};var ko,Do,Ho,Uo,Bo,Fo=function(e,t){return null==e||e!=e?t:e},Go=n(148);!function(e){e.getAgodaMapExperiments=function(e,t,n){return{isNewGmaps:e.experiments.isNewGmaps,isMapBoxDisabled:e.experiments.isMapBoxDisabled}}}(ko||(ko={})),function(e){var t=["en-gb","zh-tw","zh-cn"];e.getTileProvider=function(e,t,a){return"googlemaps"===e.mapProvider||"googlemapscn"===e.mapProvider?r(e,t,a):"gaodemaps"===e.mapProvider?n(e,t,a):o(e,t,a)};var n=function(e,t,n){return{url:Object(Zt.a)("//webrd0{s}.is.autonavi.com/appmaptile?lang={0}&scale=1&size=1&style=8&x={x}&y={y}&z={z}","zh"===e.userData.twoLetterISOLanguageName?"zh_cn":"en"),mapName:e.mapProvider,experiments:ko.getAgodaMapExperiments(e,t,n),getMapLoadStatus:an.onMapLoadStatus(n)}},o=function(e,t,n){return{mapName:e.mapProvider,experiments:ko.getAgodaMapExperiments(e,t,n),getMapLoadStatus:an.onMapLoadStatus(n)}},r=function(e,n,o){var r;return r=e.userData.culture,{libraries:["places"],language:Object(Go.a)(t,(function(e){return e.toLowerCase()===r.toLowerCase()}))?e.userData.culture:Fo(e.userData.twoLetterISOLanguageName,"en"),mapName:e.mapProvider,experiments:ko.getAgodaMapExperiments(e,n,o),getMapLoadStatus:an.onMapLoadStatus(o)}}}(Do||(Do={})),(Ho||(Ho={})).mapToProps=function(e,t,n){return{tilesAndProviders:Do.getTileProvider(e,t,n),style:{},zoomControl:!1,attributionControl:!1,className:"AgodaMapsContainer",animate:!0,minZoom:4,useCustomZoomControl:{showZoomControl:!0,position:"bottomright"},useCustomScaleControl:{showScaleControl:!("googlemaps"===e.mapProvider||"googlemapscn"===e.mapProvider)},center:jo(e,t),zoom:Ao(e,t),bounds:Ro(e,t)}},(Uo||(Uo={})).mapToProps=function(e,t,n){return{agodaMapsProps:Ho.mapToProps(e,t,n)}},(Bo||(Bo={})).mapToProps=function(e,t,n){var o=[];if(t.mapsPoiInfo.placeDisplayId.length){if(t.mapsPoiInfo.placeList&&t.mapsPoiInfo.placeList.length){var r=Object(ze.a)(t.mapsPoiInfo.placeList,(function(e){return e.placeId===t.mapsPoiInfo.placeDisplayId}));r&&o.push({experiments:e.experiments,type:Ie.k.Landmark,latitude:r.latlng.lat,longitude:r.latlng.lng,position:r.latlng,radiusClassName:"LandmarkMarker-radius",iconClassName:"LandmarkMarker-icon",containerClassName:"LandmarkMarker-container",isUpdateElementAll:!1,zIndexOffset:60,delayedOptions:{timeToDelay:1e3,containerClassName:"done",updateOnPositionChanged:!0}})}}else t.mapInfo.landmarkLocation&&o.push({experiments:e.experiments,type:Ie.k.Landmark,latitude:t.mapInfo.landmarkLocation.lat,longitude:t.mapInfo.landmarkLocation.lng,position:t.mapInfo.landmarkLocation,radiusClassName:"LandmarkMarker-radius",iconClassName:"LandmarkMarker-icon",containerClassName:"LandmarkMarker-container",zIndexOffset:60,delayedOptions:{timeToDelay:1e3,containerClassName:"done",updateOnPositionChanged:!1}});return o};var zo,Vo=n(1602);!function(e){var t=function(e,t,n){return e.isActiveLandmark||e.curMouseOvrLandmarkOfNonPersistentPopup?A.ACTIVE_PIN_ICON_CLASS:" "},n=function(e,t){return e.isActiveLandmark?100:5},o=function(e,t,n){return{landmarkPopupContentProps:{isNoScroll:!0,key:e.landmarkId,id:e.landmarkId,name:e.landmarkName,landmarkTypeId:e.landmarkTypeId,landmarkTypeName:e.landmarkTypeName,photos:e.photos.slice(3,6),onLandmarkPopupMouseEnter:an.onPopupMouseEnter(n),onLandmarkPopupMouseLeave:an.onPopupMouseLeave(n)},maxWidth:240,minWidth:239,maxHeight:224,autoClose:!1,closeButton:!1,autoPanPaddingTopLeft:new b.Point(80,60),offset:new b.Point(0,15)}};e.mapToProps=function(e,t,n){var o=[];return t.isLoading&&r.cache.clear(),t.topLandmarks&&t.topLandmarks.forEach((function(t){a(t)&&o.push(r(t,e,n))})),o},e.toSingleMarker=function(e,r,a){return{experiments:r.experiments,type:Ie.k.TopLandmark,key:e.landmarkId,latitude:e.latitude,longitude:e.longitude,position:new b.LatLng(e.latitude,e.longitude),extraClassName:t(e),zIndexOffset:n(e),riseOnHover:!0,popupProps:o(e,0,a),isOpenPopup:e.isPopupOpened||e.isPersistentPopup||e.curMouseOvrLandmarkOfNonPersistentPopup,onmouseover:an.onMarkerMouseover(a,"topLandmark"),onmouseout:an.onMarkerMouseout(a),onclick:an.onMarkerClicked(a,e.landmarkId,"topLandmark"),onpopupclose:an.onMarkerClosePopup(a,e.landmarkId),overrideDefaultClick:!0,isUpdateElementAll:!1,id:e.landmarkId,name:e.landmarkName,landmarkTypeId:e.landmarkTypeId,landmarkTypeName:e.landmarkTypeName,photos:e.photos.length>0?e.photos:["https://cdn6.agoda.net/images/desktop/slider-no-image-thumb.jpg"],cityId:e.cityId,categoryId:e.categoryId,distanceFormattedString:e.distanceFormattedString,distance:e.distance}};var r=Object(Vo.a)(e.toSingleMarker),a=function(e){return["landmarkId","latitude","longitude","landmarkName","landmarkTypeId","landmarkTypeName","photos","cityId","categoryId","distanceFormattedString","distance"].forEach((function(t){if(null==e[t])return!1})),!0}}(zo||(zo={}));var Ko,Zo,Wo,qo=n(53),Yo=n(321);!function(e){var t=function(e,t,o){var r=[];return e.IsReady&&(e.IsSoldOut||e.isSoldOutProperty)?r.push(A.SOLD_OUT_PIN_ICON_CLASS):e.ShouldShowAccommodationTypeLabel&&r.push(A.HOMES_PIN_ICON_CLASS),(e.IsActiveHotel||e.curMouseOvrPropertyOfNonPersistentPopup)&&r.push(A.ACTIVE_PIN_ICON_CLASS),(r=n(e,t,o,r)).join(" ")},n=function(e,t,n,o){return i(e,t,n)&&o.push("propertyMarkerIcon--exceptional-price"),e.IsFavoriteHotel&&o.push("propertyMarkerIcon--favorite-icon"),o},o=function(e,t){var n=40;return e.IsActiveHotel?n=100:e.IsFavoriteHotel&&(n=50),n},a=function(e,t){if(C.a.isReadyAndNotSoldOut(e)){var n=Object(Yo.d)(e,t);return e.DisplayCurrency+" "+n}return C.a.isReadyAndSoldOut(e)?Object(qo.c)("SoldOutPinText"):""},i=function(e,t,n){return e&&e.TopLocationForMoneyViewModel&&e.TopLocationForMoneyViewModel.ShouldDisplayTopLocationForMoney},s=function(e,t,n){var o={shouldShow:!1,iconClassName:null,text:null,dataSeleniumIcon:null,dataSeleniumText:null};if(i(e,t,n))o=Object(r.a)(Object(r.a)({},o),{shouldShow:!0,text:Object(qo.c)("ExceptionalPriceThisLocationMaps"),iconClassName:"ficon-thumb-up-solid-map",containerClass:"exceptional-price",dataSeleniumIcon:"exceptional-price-location-icon",dataSeleniumText:"exceptional-price-location-text"});else if(function(e,t,n){return C.a.isReadyAndNotSoldOut(e)&&Object(te.a)(e.PeopleLooking)&&e.PeopleLooking>0}(e)){var a=1===e.PeopleLooking?Object(Zt.a)(Object(qo.c)("PersonLookingWithReplacement"),e.PeopleLooking):Object(Zt.a)(Object(qo.c)("PersonsLookingWithReplacement"),e.PeopleLooking);o=Object(r.a)(Object(r.a)({},o),{text:a,shouldShow:!0,iconClassName:"ficon-hotel-people-looking",containerClass:"traveler-considering",dataSeleniumIcon:"traveler-considering-icon",dataSeleniumText:"traveler-considering-text"})}return o},c=function(e,t,n){return{propertyPopupContentProps:{propertyPopupBottomInfo:s(e,t,n),isNoScroll:!0,isFavorite:e.IsFavoriteHotel,key:e.HotelID,propertyId:e.HotelID,propertyUrl:e.HotelUrl,isReady:e.IsReady,mainPhotoUrl:e.MainPhotoUrl,mainPhotoRetinaUrl:e.MainPhotoRetinaUrl,hotelDisplayName:e.HotelDisplayName,translatedHotelName:e.TranslatedHotelName,starRatingCss:e.StarRatingCss,starRatingColor:e.StarRatingColor,shouldShowAccommodationTypeLabel:e.ShouldShowAccommodationTypeLabel,accommodationType:e.AccommodationType,isDisplayReviewScore:e.IsDisplayReviewScore,reviewScoreFormatted:e.ReviewScoreFormatted,reviewText:e.ReviewText,numberOfReview:e.NumberOfReview,onPropertyPopupMouseEnter:an.onPopupMouseEnter(n),onPropertyPopupMouseLeave:an.onPopupMouseLeave(n),onClick:an.onPropertyPopupClick(n),isDomesticLanguage:e.isDomesticLanguage,displayNameFromPapi:t.experiments.displayNameFromPapi},maxWidth:300,minWidth:226,autoClose:!1,closeButton:!1,autoPanPaddingTopLeft:new b.Point(80,60),offset:new b.Point(0,15)}};e.mapToProps=function(e,t,n){var o=[];if(t.isLoading&&l.cache.clear(),t.properties){var r=t.properties;e.features&&!e.features[mo.a.RegulationShowSoldoutCards]&&(r=r.filter((function(e){return t.displayInfo.propertyId===e.HotelID||t.selectedPropertyId===e.HotelID||!e.isSoldOutProperty}))),r.forEach((function(r){C.a.isHiddenOnMaps(r)||C.a.isReady(r)&&o.push(l(r,e,t,n))}))}return o},e.toSingleMarker=function(e,n,r,s){return{experiments:n.experiments,type:Ie.k.Property,position:new b.LatLng(e.Latitude,e.Longitude),extraClassName:t(e,n,s),zIndexOffset:o(e),propertyDisplayText:a(e,r),id:e.HotelID,latitude:e.Latitude,isFavorite:e.IsFavoriteHotel,longitude:e.Longitude,key:e.HotelID,riseOnHover:!0,popupProps:c(e,n,s),isOpenPopup:e.IsPopupOpened||e.IsPersistentPopup||e.curMouseOvrPropertyOfNonPersistentPopup,onmouseover:an.onMarkerMouseover(s,"property"),onmouseout:an.onMarkerMouseout(s),onclick:an.onMarkerClicked(s,e.HotelID,"property"),onpopupclose:an.onMarkerClosePopup(s,e.HotelID),overrideDefaultClick:!0,isUpdateElementAll:!1,isExceptionalPrice:i(e,n,s)}};var l=Object(Vo.a)(e.toSingleMarker)}(Ko||(Ko={})),(Zo||(Zo={})).mapToProps=function(e,t,n){return{propertyMarkerPropsList:Ko.mapToProps(e,t,n),landmarkMarkerPropsList:zo.mapToProps(e,t,n)}},function(e){e.DO_NOTHING="doNothing",e.NO_RESULT="noResult",e.HAS_RESULT="hasResult",e.SEARCHING="searching"}(Wo||(Wo={}));n(2940);var Jo,Xo,Qo,$o,er,tr,nr,or=function(e){return a.createElement("div",{className:"POILoading__container"},a.createElement("div",{className:"placeholder__animation-container POILoading__loading"},a.createElement("div",{className:"placeholder__animation__moving"}),a.createElement("div",{className:"placeholder__animation__moving"}),a.createElement("div",{className:"placeholder__animation__moving"}),a.createElement("div",{className:"placeholder__animation__moving"}),a.createElement("div",{className:"placeholder__animation__moving"})))},rr=function(e){if(0===e.matchedSubstrings.length)return a.createElement("div",{key:e.id,className:"POISearchSuggestion__suggestionItem__content"},e.name,", ",e.fullAddress);var t=e.matchedSubstrings[0],n=t.offset,o=t.length,r=e.name;return a.createElement("div",{key:e.id,className:"POISearchSuggestion__suggestionItem__content"},a.createElement("i",{className:["POISearchSuggestion__suggestionItem__icon","POISearchSuggestion__suggestionItem__poiIcon","ficon",e.iconClassName].join(" ")}),a.createElement("span",null,a.createElement("span",null,0!==n?r.substr(0,n):"",a.createElement("b",null,r.substr(n,o)),n+o===r.length?"":r.substr(n+o,r.length-n-o)),a.createElement("span",null,", "+e.fullAddress)))},ar=function(e){return a.createElement("div",{className:"POISearchSuggestion__noSuggestionItems"},a.createElement("img",{alt:"",src:e.imageUrl,className:"POISearchSuggestion__noSuggestionItems__image"}),a.createElement("div",{className:"POISearchSuggestion__noSuggestionItems__title"},e.title),a.createElement("div",{className:"POISearchSuggestion__noSuggestionItems__description"},e.description))};!function(e){e.onSuggestionsFetchRequested=function(e,t,n,o){"input-changed"===o.reason&&n.update({type:s.a.MAPS_POI_FETCH_AUTOSUGGESTION,input:o.value})},e.onSuggestionsClearRequested=function(e,t,n){n.update({type:s.a.MAPS_POI_CLEAR_AUTOSUGGESTION})},e.getSuggestionValue=function(e,t,n,o){return o.name},e.renderSuggestion=function(e,t,n,o,i){switch(o.type){case Wo.HAS_RESULT:return a.createElement(rr,Object(r.a)({},o));case Wo.SEARCHING:return a.createElement(or,Object(r.a)({},o));case Wo.NO_RESULT:return a.createElement(ar,Object(r.a)({},o))}},e.renderSectionTitle=function(e,t,n,o,r){return null},e.getSectionSuggestions=function(e,t,n,o){return[]},e.handleRenderSuggestionsContainer=function(e,n){var o=e.containerProps,i=e.children;e.query;return a.createElement("div",Object(r.a)({},o),i,t(i,n))};var t=function(e,t){return Object(N.a)(e)||"ok"!==t?null:a.createElement("div",{className:"Suggestion__googleLabel"})};e.handleSuggestionSelection=function(e,t,o,r,a){if(a.suggestion.type!==Wo.NO_RESULT&&a.suggestion.type!==Wo.SEARCHING){var i=n(t.mapsPoiInfo.placeList,a.suggestion.id);i?(o.update({type:s.a.MAPS_POI_DISPLAY_POI_ON_MAPS,placeDisplayId:a.suggestion.id,placeLocation:i.latlng,shouldDoSearch:!0,placeName:a.suggestion.name}),R.a.count("req_place",{cache:"hit"})):(o.update({type:s.a.MAPS_POI_FETCH_POI_DETAILS,placeId:a.suggestion.id,placeName:a.suggestion.name}),R.a.count("req_place",{cache:"miss"}))}};var n=function(e,t){return e&&0!==e.length?Object(ze.a)(e,(function(e){return e.placeId===t})):null};e.onChange=function(e,t,n,o,r){r.newValue&&!r.newValue.length&&n.update({type:s.a.MAPS_POI_FETCH_AUTOSUGGESTION,input:""})},e.onKeyDown=function(){},e.onFocus=function(e){e.update({type:s.a.MAPS_POI_SEARCH_FOCUS})}}(Jo||(Jo={})),function(e){e.mapToProps=function(e,o,r){var a=n(o,e);return{isVisible:Fe.decideShouldShowPoiSearch(e.mapProvider),isRtl:e.isRtl,iconClassName:"ficon-neighborhood-line",clearIconClassName:"ficon-line-close",shouldShowClearBtn:o.mapsPoiInfo.searchPOI.textToSearch&&o.mapsPoiInfo.searchPOI.textToSearch.trim().length>0,handleClearInput:r.update,poiSearchSuggestionList:{autoSuggestionProps:{theme:{container:"POISearchSuggestion__inputContainer",input:"form-control poi-name-text-editor POISearchSuggestion__input",sectionTitle:"POISearchSuggestion__title",suggestion:"autosuggest-item react-suggestion POISearchSuggestion__suggestionItem",suggestionHighlighted:t(o)?"POISearchSuggestion__suggestionHighlighted":"POISearchSuggestion__disableHilighted",suggestionsList:"POISearchSuggestion__suggestionsList",suggestionsContainer:"POISearchSuggestion__suggestionsContainer",suggestionsContainerOpen:"POISearchSuggestion__suggestionsContainer--Open"},onSuggestionsFetchRequested:function(t){Jo.onSuggestionsFetchRequested(e,o,r,t)},onSuggestionsClearRequested:function(){Jo.onSuggestionsClearRequested(e,o,r)},getSuggestionValue:function(t){return Jo.getSuggestionValue(e,o,r,t)},renderSuggestion:function(t,n){return Jo.renderSuggestion(e,o,r,t,n)},renderSectionTitle:function(t,n){return Jo.renderSectionTitle(e,o,r,t,n)},getSectionSuggestions:function(t){return Jo.getSectionSuggestions(e,o,r,t)},onSuggestionSelected:function(t,n){return Jo.handleSuggestionSelection(e,o,r,t,n)},renderSuggestionsContainer:function(e){return Jo.handleRenderSuggestionsContainer(e,o.mapsPoiInfo.searchPOI.suggestionStatus)},multiSection:!1,highlightFirstSuggestion:!(1===a.length&&a[0].type!==Wo.HAS_RESULT),suggestions:a,inputProps:{value:o.mapsPoiInfo.searchPOI.textToSearch,placeholder:Object(qo.c)("PoiBoxContainerInputBoxAltText"),onChange:function(t,n){Jo.onChange(e,o,r,t,n)},onKeyDown:function(){Jo.onKeyDown()},onFocus:function(){Jo.onFocus(r)}}}}}};var t=function(e){return e.mapsPoiInfo&&e.mapsPoiInfo.autoSuggestionItems&&e.mapsPoiInfo.autoSuggestionItems.length>0},n=function(e,t){if(Object(N.a)(e.mapsPoiInfo)||Object(N.a)(e.mapsPoiInfo.searchPOI))return o("");if(0===e.mapsPoiInfo.autoSuggestionItems.length&&e.mapsPoiInfo.searchPOI.textToSearch.length>0)switch(e.mapsPoiInfo.searchPOI.suggestionStatus){case"noresult":return o(e.mapsPoiInfo.searchPOI.textToSearch);case"searching":return a()}return e.mapsPoiInfo.autoSuggestionItems.map((function(e){return Object(r.a)({type:Wo.HAS_RESULT,iconClassName:"ficon-poi",experiments:t.experiments},e)}))},o=function(e){return[{type:Wo.NO_RESULT,title:Object(qo.b)(Object(qo.c)("CustomPoiSearchNoResultTitle"),e),description:Object(qo.c)("CustomPoiSearchNoResultDescription"),imageUrl:"https://cdn6.agoda.net/images/illustration/generic/svg/notfound-small.svg",name:e}]},a=function(){return[{type:Wo.SEARCHING}]}}(Xo||(Xo={})),function(e){e.mapToProps=function(e,t){return{ApartmentText:e.cmsValues.HomesAndApartment,PropertyText:e.cmsValues.HotelResortsAndMore,ShouldShowPropertyType:t.hasNHAOnFirstPage}}}(Qo||(Qo={})),($o||($o={})).mapToProps=function(e,t,n){return{searchOnMapText:e.cmsValues.RadiusUpdateSearchText,onMapSearch:n.search,isSearchOnMapsBtnAtCenter:!e.experiments.isAddCityCenterOnMap&&!Fe.decideShouldShowPoiSearch(e.mapProvider)}},(er||(er={})).mapToProps=function(e,t,n){return{agodaMapsContainerProps:Uo.mapToProps(t,e,n),agodaMarkerPropsList:Zo.mapToProps(t,e,n),landmarkMarkers:Bo.mapToProps(t,e,n),searchOnMap:$o.mapToProps(t,e,n),propertyTypeProps:Qo.mapToProps(t,e),poiSuggestionContainerProps:Xo.mapToProps(t,e,n),update:n.update,isSelectedCityCenter:e.displayInfo&&e.displayInfo.isSelectedCityCenter,showCityCenterText:t.experiments.isAddCityCenterOnMap?t.cmsValues.MapShowCityCenter:null,polygonCoordinates:t.experiments.isAddCityCenterOnMap?e.mapInfo&&e.mapInfo.polygonCoordinates:null}},function(e){e.mapToProps=function(e,o,r){return{isOpen:o.displayInfo.isMapOpened,noDefaultStyle:!0,className:"SearchPageReactMap-modal maps-container",style:{content:{overflow:"hidden",borderRadius:0,background:"transparent",padding:0},overlay:{background:"rgba(0, 0, 0, 0.9)"}},closeButton:t(o.functionPointers),shouldCloseOnOverlayClick:!0,onRequestClose:n(o.functionPointers.dispatch),bodyOpenClassName:"SearchPageReactMap-modal-body--open",isScrollable:!1}};var t=function(e){return w.renderCloseButton(n(e.dispatch))},n=function(e){return function(t){e(at.a.createToggleMapActionOnClose(t))}}}(tr||(tr={})),(nr||(nr={})).mapToProps=function(e,t,n){if(!t.dateDisplayInfo)return{isShow:!1,textToShow:"",className:"",iconClassName:""};var o=1!==t.dateDisplayInfo.lengthOfStay?Object(qo.c)("NightsWithCheckIn"):Object(qo.c)("NightWithCheckIn");return{textToShow:Object(Zt.a)(o,"",t.dateDisplayInfo.lengthOfStay,t.dateDisplayInfo.shortCheckin,t.dateDisplayInfo.shortCheckout),isShow:!0,iconClassName:"ficon-calendar-onmap",className:""}};var ir,sr,cr,lr,pr,ur,mr,dr,fr=n(80),hr=n(135);!function(e){e.buildFilterTags=function(e,n,o,r){return void 0===r&&(r=!1),{experiments:n,onSearch:o.search,events:{updateFilterTags:"updateFilterTags",onClearFilterGroup:"onClearFilterGroup"},disabled:r,title:Object(qo.c)("AppliedFiltersTitle"),items:t(e.filterUI,e.filterValues)}};var t=function(e,t){var r=t.filter(n).map((function(e){return e.filterCriteriaKey})).reduce(o,{}),a=c(r,t);return e.reduce(a,[])},n=function(e){switch(typeof e.value){case"boolean":return e.value;case"string":return e.value&&""!==e.value;case"number":return 0!==e.value}},o=function(e,t){return void 0===e&&(e={}),e[t]=t,e},a=function(e){return e.label&&e.filterUIKey},i=function(e){return function(t,n){var o=t;return function(e,t){return a(t)&&Object(Go.a)(t.items)&&t.items.every((function(n){return void 0!==e[n.filterCriteriaKey]&&n.filterCriteriaKey===t.items[0].filterCriteriaKey}))}(e,o)||l(e,o)?Object(r.g)(n,[{filterCriteriaKey:e[o.items[0].filterCriteriaKey],label:t.label}]):n}},s=function(e,t){return a(t)&&void 0!==e[t.filterCriteriaKey]},c=function(e,t){return function(n,o){var a=i(e),c=function(e){return function(t,n){var o=t;return s(e,t)?Object(r.g)(n,[{filterCriteriaKey:o.filterCriteriaKey,label:t.label}]):n}}(e),l=function(e){return function(t,n,o){var a=t;if(s(e,t)){var i=Object(ze.a)(o,(function(e){return e.filterCriteriaKey===t.filterCriteriaKey}));return Object(fr.a)(i)||Object(fr.a)(i.value)||Object(Go.a)(n,(function(e){return e.filterCriteriaKey===t.filterCriteriaKey}))?n:Object(r.g)(n,[{filterCriteriaKey:a.filterCriteriaKey,label:i.value}])}return n}}(e);switch(o.type){case ae.l.Checkbox:case ae.l.Radio:return a(o,n);case ae.l.Price:return c(o,n);case ae.l.Text:return l(o,n,t);default:return n}}},l=function(e,t){return t.filterUIKey===hr.a.FilterUIKey.Family&&void 0!==e[hr.a.FilterUIKey.Family]}}(ir||(ir={})),(sr||(sr={})).mapToProps=function(e,t,n){if(t.resultsSummary&&null!==t.resultsSummary.totalProperties){var o=1===t.resultsSummary.totalProperties?Object(qo.c)("OnlyOneProperty"):Object(qo.c)("MoreThanOneOrZeroProperties");return{isShow:!0,text:Object(Zt.a)(o,t.resultsSummary.totalProperties),className:"properties-available"}}return{isShow:!1,text:"",className:""}},(cr||(cr={})).mapToProps=function(e,t,n){var o={isVisible:!1,containerClassName:"",iconClassName:"",textClassName:"",text:""};return e.TopLocationForMoneyViewModel&&e.TopLocationForMoneyViewModel.ShouldDisplayTopLocationForMoney?Object(r.a)(Object(r.a)({},o),{isVisible:!0,containerClassName:"grey-bg",iconClassName:"ficon-thumb-up-solid-map purple-primary-font",textClassName:"purple-primary-font",text:Object(qo.c)("ExceptionalPriceThisLocationMaps")}):o},(lr||(lr={})).mapToProps=function(e,t,n){return e.PromotionDiscount?{isVisible:!0,discountPercentage:Object(qo.c)("DiscountMessageOnMap").replace("{0}",e.FormattedDiscountValue),discountText:Object(qo.c)("HotelCardDiscountRibbonToday"),className:"thinBadge",experiments:t.experiments}:{isVisible:!1,experiments:t.experiments}},(pr||(pr={})).mapToProps=function(e,t,n,o){if(n.searchType===ae.H.LandmarkSearch){var r=Ln.StringFormatter.formatToJsx(Object(qo.c)("XKm"),e.Distance),i=Ln.StringFormatter.formatToJsx(Object(qo.c)("XKmFromPlace"),a.createElement("span",{className:"mapsPropertyCard-DistanceDetails-distance"},r),n.resultsSummary.destinationName);return{isVisible:!0,containerClassName:"mapsPropertyCard-DistanceDetails",iconClassName:"ficon-map-pin-fat blue mapsPropertyCard-DistanceDetails-icon",tooltipText:Object(qo.c)("DistanceIsCal"),distanceText:i,shouldShowTooltip:!0}}if(n.searchType===ae.H.Rectangle&&n.mapsPoiInfo&&n.mapsPoiInfo.placeName&&""!==n.mapsPoiInfo.placeName.trim()&&e.Distance>0&&e.Distance<=100)return{isVisible:!0,containerClassName:"mapsPropertyCard-DistanceDetails",iconClassName:"ficon-map-pin-fat blue mapsPropertyCard-DistanceDetails-icon",tooltipText:Object(qo.c)("DistanceIsCal"),distanceText:Ln.StringFormatter.formatToJsx(Object(qo.c)("XKmFromPlace"),a.createElement("span",{className:"mapsPropertyCard-DistanceDetails-distance"},Ln.StringFormatter.formatToJsx(Object(qo.c)("XKm"),e.Distance)),n.mapsPoiInfo.placeName),shouldShowTooltip:!0}},function(e){e.mapToProps=function(e,t,n,o){var r=e.isDomesticLanguage?e.TranslatedHotelName:e.HotelDisplayName;return{propertyName:t.experiments.displayNameFromPapi?e.HotelDisplayName:r,URL:e.HotelUrl,propertyId:e.HotelID,experiments:t.experiments,onClick:null}}}(ur||(ur={})),(mr||(mr={})).mapToProps=function(e,t,n,o){return{isVisible:e.NumberOfReview>0,numberOfReview:e.NumberOfReview>1?Object(Zt.a)(Object(qo.c)("ReviewsWithReplacement"),e.NumberOfReview):Object(Zt.a)(Object(qo.c)("ReviewWithReplacement"),e.NumberOfReview),reviewScore:e.ReviewScoreFormatted,reviewText:e.ReviewText,direction:null}},(dr||(dr={})).mapToProps=function(e,t,n,o){return t.experiments&&t.experiments.isCH1318?{isShow:e.StarRating>0,colorClass:e.StarRatingColor,tooltipText:e.StarRatingTooltip,cssClass:e.StarRatingCss,containerClass:A.STAR_RATING_CLASS,experiments:t.experiments,hasHostExperience:e.HasHostExperience}:{isShow:e.StarRating>0,colorClass:e.StarRatingColor,tooltipText:e.StarRatingTooltip,cssClass:e.StarRatingCss,containerClass:A.STAR_RATING_CLASS,titleCms:Object(Zt.a)(Object(qo.c)("NumberOfStar"),e.StarRating),experiments:t.experiments,hasHostExperience:e.HasHostExperience}};var gr,yr,Pr,_r=n(723);!function(e){e.mapToProps=function(e,r,a,i){return{showAgpLogo:!(!r.features||r.features[mo.a.RegulationHideAgodaPreferredRankingInfo])&&e.isAgp,name:t(e,r,a,i),starRating:dr.mapToProps(e,r,a,i),agodaHomesText:e.HasHostExperience&&Object(qo.c)("AgodaHomesRebrand"),accommodationType:e.AccommodationType,reviewScore:n(e,r,a,i),benefits:o(e,r,a),distanceDetails:pr.mapToProps(e,r,a,i),experiments:r.experiments,HomesOrHomesStayAccommodationType:Object(_r.a)(e.AccommodationTypeId)}};var t=function(e,t,n,o){return Object(r.a)(Object(r.a)({},ur.mapToProps(e,t,n,o)),{onClick:function(e){o.update({propertyId:e,type:s.a.MAPS_PROPERTY_NAME_CLICK})}})},n=function(e,t,n,o){return Object(r.a)(Object(r.a)({},mr.mapToProps(e,t,n,o)),{direction:ae.D.IconThenText})},o=function(e,t,n){var o=0,r=[];return a(t,n)?{isVisible:!1,benefitList:[]}:(e.FreeWifi&&(r.push({iconClass:"ficon ficon-hotel-wifi",dataSelenium:"ficon-hotel-wifi",benefitText:Object(qo.c)("MAPS_WiFi"),benefitClass:"green benefit-row",benefitTextClass:"",key:"wifi"}),o+=1),e.IsBreakfastIncluded&&(r.push({iconClass:"ficon ficon-breakfast",dataSelenium:"ficon-breakfast",benefitText:Object(qo.c)("MAPS_Breakfast"),benefitClass:"green benefit-row",benefitTextClass:"",key:"breakfast"}),o+=1),{benefitList:r,isVisible:o>0})},a=function(e,t){return t.searchType===ae.H.LandmarkSearch||t.searchType===ae.H.Rectangle&&t.mapsPoiInfo&&t.mapsPoiInfo.placeName&&""!==t.mapsPoiInfo.placeName.trim()}}(gr||(gr={})),(yr||(yr={})).mapToProps=function(e,t,n){return{text:Object(qo.c)("MapMoreDetails"),url:e.HotelUrl,propertyId:e.HotelID,isVisible:e.IsReady&&!(e.IsSoldOut||e.isSoldOutProperty),experiments:t.experiments,className:"lightBtn",onClick:function(e){n.update({propertyId:e,type:s.a.MAPS_PROPERTY_MORE_DETAILS_CLICK})}}},function(e){e.mapToProps=function(e,t,n,o){return{photoURL:e.MainPhotoUrl,photo2xURL:e.MainPhotoRetinaUrl,alterText:e.HotelDisplayName,isFavorite:e.IsFavoriteHotel,enableLazyLoading:!n.mapInfo.isMapsLoaded,useAkamaiImageManager:t.experiments.useAkamaiImageManager}}}(Pr||(Pr={}));var Or,br,vr=n(2390);!function(e){e.mapToProps=function(t,n,a,i){return{priceData:e.mapPriceData(t,a),pricePolling:o(t),soldOutPrice:r(t)}};var t=function(e,t,n,o){return{formattedRate:e,toolTipText:o||Object(qo.c)(t),text:null,containerClass:"mapsPropertyCard-item-crossOutPrice",isDisplayLine:n}};e.mapPriceData=function(e,o){if(C.a.isReadyAndNotSoldOut(e)){var r=e.CorSummary&&e.CorSummary.hasCor,a=r?e.CorSummary.corType:Ie.d.NoCOR,i=!!e.FormattedGiftcardApplied;return{isGiftcardApplied:i,isVisible:!0,price:Object(Yo.d)(e,o),hasCrossOutPrice:r,crossOutPrice:r||i?e.FormattedCrossedOutPrice:null,doubleCrossOut:r&&e.FormattedDoubleCrossedOutPrice?t(e.FormattedDoubleCrossedOutPrice,Object(vr.c)(a,Object(vr.d)(e)),!0,n(e)):null,priceViewText:e.PriceDetail&&e.PriceDetail.PriceViewText,crossOut:e.FormattedGiftcardApplied?t(e.FormattedCrossedOutPrice,"PriceBeforeGcTooltip",!1,n(e)):null,displayCurrency:e.DisplayCurrency}}return{isVisible:!1}};var n=function(e){return e.CorSummary?e.CorSummary.corText:null},o=function(e){return C.a.isReady(e)?{isVisible:!1}:{isVisible:!0,pollingAnimationURL:"//cdn6.agoda.net//images/desktop/preloader_v2.gif"}},r=function(e){return C.a.isReadyAndSoldOut(e)?{isVisible:!0,soldoutText:Object(qo.c)("SoldOutOnMap"),soldoutSupText:Object(qo.c)("YouAreTooLate")}:{isVisible:!1}}}(Or||(Or={})),function(e){e.mapToPropsWithMemoize=function(e,t,n){if(t.isLoading)return wr.cache.clear(),[];var o=[],r=t.properties;return e.features&&!e.features[mo.a.RegulationShowSoldoutCards]&&(r=r.filter((function(e){return t.displayInfo.propertyId===e.HotelID||t.selectedPropertyId===e.HotelID||!e.isSoldOutProperty}))),r.forEach((function(r){C.a.isHiddenOnMaps(r)||o.push(wr(r,e,t,n))})),o};e.mapToPropsImpl=function(e,t,n,o){return Object(r.a)({functionPointers:o,propertyId:e.HotelID,activeState:e.IsActiveHotel,scrollTo:!1,photos:Pr.mapToProps(e,t,n,o),info:gr.mapToProps(e,t,n,o),latlng:b.latLng(e.Latitude,e.Longitude),moreDetail:yr.mapToProps(e,t,o),discountBadge:lr.mapToProps(e,t,o),price:Or.mapToProps(e,t,n,o),cardButtom:cr.mapToProps(e,t,o),experiments:t.experiments,userData:t.userData},function(e,t){var n={showHeader:!0,headerClassName:"mapsPropertyCard--withHeader",activeState:!1};return t.features&&!t.features[mo.a.RegulationHideSponsoredHeader]&&e.sponsoredType!==ae.N.NoSponosored?Object(r.a)(Object(r.a)({},n),{headerText:Object(qo.c)("SponsoredForPropertyCardHeader")}):t.features&&!t.features[mo.a.RegulationHideAgodaPreferredRankingInfo]&&e.isAgp?Object(r.a)(Object(r.a)({},n),{headerText:Object(qo.c)("AgodaPreferredHeader")}):{}}(e,t))}}(br||(br={}));var Sr,Cr,Ir,Er,Mr,Lr,Tr,wr=Object(Vo.a)(br.mapToPropsImpl);Cr=Sr||(Sr={}),Ir={isVisible:!1,photoURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search.png",photo2xURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search@2x.png",photo3xURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search@3x.png"},Er={shouldRender:!1,photoURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search.png",photo2xURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search@2x.png",photo3xURL:"https://cdn6.agoda.net/images/MAPS-454/default/image-map-search@3x.png",informationText:"",informationText2:""},Cr.mapToProps=function(e,t,n){var o=e.experiments.isTequilaMap&&e.experiments.isJagermeister,a=Object(r.a)(Object(r.a)({},Ir),{isVisible:null!=t.properties&&(o?t.isComplete:t.resultsSummary.isComplete)&&0===t.properties.length,noResultTitle:Object(qo.c)("NoResultTitle"),noResultDescription:Object(qo.c)("NoResultDescription"),noResultSuggestion1:Object(qo.c)("NoResultSuggestion1"),noResultSuggestion2:Object(qo.c)("NoResultSuggestion2"),noResultSuggestion3:Object(qo.c)("NoResultSuggestion3")});return{functionPointers:n,bottomInformationProps:Object(r.a)(Object(r.a)({},Er),{shouldRender:o?t.resultsSummary.totalProperties>t.properties.length:t.resultsSummary.totalPage>1,informationText:Object(Zt.a)(Object(qo.c)("PropertyListBottomInformation"),t.resultsSummary.totalProperties),informationText2:Object(qo.c)("PropertyListBottomInformation2")}),noResultPage:a,propertyCardProps:br.mapToPropsWithMemoize(e,t,n),shouldRender:!t.isLoading,eventType:t.trackingEvents.propertyRenderEvents,experiments:e.experiments}},function(e){var t=0,n=null;e.mapToProps=function(e,i,c){return t=0,n=n||d(),{sortByTitle:Object(qo.c)("MapSortByTitle"),selectedSortOptionId:o(i),selectedSortOrder:i.sortValue.selectedSortOrder,sortOptions:s(e.sortings.sortOptions,e.experiments),functions:{onSearch:c.search},shouldRender:r(e.sortings.sortOptions)&&a(i.properties),experiments:e.experiments}};var o=function(e){return m(e.sortValue.selectedSortOptionId)?ae.M.AllGuestsReviewScore:e.sortValue.selectedSortOptionId},r=function(e){return e&&e.length>0},a=function(e){return e&&0!==e.length},i=function(){return(t+=1)-1},s=function(e,t){var n=[];return e.forEach((function(e){switch(e.type){case 0:n=c(n,e,t);break;case 2:n=l(n,e)}})),n},c=function(e,t,n){var o=t.props;return u(o.sortOptionId,o.defaultSortOrderId,n)||e.push({id:i(),text:p(o.sortOptionId,o.defaultSortOrderId,o.captionText),sortOptionId:o.sortOptionId,sortOrder:o.defaultSortOrderId}),e},l=function(e,t){return t&&t.props&&t.props.sortOptionId===ae.M.DistanceFromLandmark||e.push({id:i(),text:p(ae.M.AllGuestsReviewScore,ae.L.Descending),sortOptionId:ae.M.AllGuestsReviewScore,sortOrder:ae.L.Descending}),e},p=function(e,t,o){return Object(fr.a)(n[t][e])?(console.error("Sort options is not defined on Maps, Check comments in code for more info."),o):n[t][e]},u=function(e,t,n){return n&&n.isJagermeister?e===ae.M.SecretDeal:e===ae.M.SecretDeal&&t===ae.L.Descending},m=function(e){return e>=ae.M.AllGuestsReviewScore&&e<=ae.M.GroupsReviewScore},d=function(){return{0:{1:Object(qo.c)("SortByPriceAscending"),5:Object(qo.c)("MapSortOptionStarRatingZero2Five"),13:Object(qo.c)("MapSortOptionDistance")},1:{0:Object(qo.c)("MapSortOptionRecommended"),1:Object(qo.c)("MapSortOptionPriceHigh2Low"),5:Object(qo.c)("MapSortOptionStarRatingFive2Zero"),6:Object(qo.c)("MapSortOptionGuestRating"),14:Object(qo.c)("ValueForMoneySortOnMaps"),18:Object(qo.c)("PersonalizeSortItem")}}}}(Mr||(Mr={})),(Lr||(Lr={})).mapToProps=function(e,t,n){return{propertyList:Sr.mapToProps(t,e,n),propertiesAvailable:sr.mapToProps(t,e,n),dateDisplay:nr.mapToProps(t,e,n),sort:Mr.mapToProps(t,e,n),filterTagsProps:ir.buildFilterTags(e,t.experiments,n),loadingAnimation:Object(r.a)(Object(r.a)({},t.loadingAnimation),{isLoading:t.experiments.isTequilaMap?t.loadingAnimation.isLoading:e.isLoading})}},(Tr||(Tr={})).mapToProps=function(e,t,n){return{modalProps:tr.mapToProps(e,t,n),mapTopFiltersProps:Mo.mapToProps(e,t,n),mapsAreaContainerProps:er.mapToProps(e,t,n),sidePanelProps:Lr.mapToProps(e,t,n),experiments:t.experiments,cmsValues:t.cmsValues}};var jr=n(77),Ar=function(e){function t(t){var n=e.call(this,t)||this;return n.functionPointers=null,n.shortDateFormat=function(e){var t=e.getDate(),o=e.toLocaleString(n.props.userData.culture,{month:"short"});return n.props.isRtl?t+" "+o:o+" "+t},n.dispatch=function(e,t){void 0===t&&(t=null),Object(i.a)(e)?e(n.dispatch,n.state,n.props):n.setState(tt.reduce(e),t?function(){return t(n.state,n.props)}:null)},n.update=function(e){var t=Object(r.a)(Object(r.a)({},e),{experiments:n.props.experiments});n.setState(tt.reduce(t),(function(){ve.handle(t,n.props,n.state,n.functionPointers).then((function(e){e&&n.update(e)}))}))},n.isMapBeingOpenedFirstTime=function(e){return!n.state.displayInfo.isMapInitialized&&e.displayInfo.isMapOpened&&!n.props.displayInfo.isMapOpened},n.isMapBeingOpened=function(e){return!n.props.displayInfo.isMapOpened&&e.displayInfo.isMapOpened},n.isMapBeingClosed=function(e){return n.props.displayInfo.isMapOpened&&!e.displayInfo.isMapOpened},n.state=Object(r.a)(Object(r.a)({},t.searchPageState),{displayInfo:{isMapInitialized:!1,actionInfo:t.displayInfo.actionInfo,propertyId:t.displayInfo.propertyId,isSelectedCityCenter:!0,activePropertyId:t.displayInfo.propertyId},isLogin:!1,isLoading:!1,isError:!1,trackingEvents:{propertyRenderEvents:g,launchTimer:0},mapInfo:{activeMarkers:{},currentRectangle:{mode:1,latlng:t.latlng,zoom:t.zoom,bounds:null},searchRectangle:null,isMapsReady:!1,isMapsLoaded:!1,mapsInstance:null,polygonCoordinates:t.searchPageState.mapInfo&&t.searchPageState.mapInfo.polygonCoordinates},mapsPoiInfo:{autoSuggestionItems:[],searchPOI:{textToSearch:"",suggestionStatus:"init"},placeList:[],placeDisplayId:"",placeName:"",onboardingTooltipExp:!0},topLandmarks:[],cheapestRooms:{},filterUI:null,filterValues:null,shouldShowHomesFirst:!1,memberGiftCard:t.memberGiftCard}),n.functionPointers={search:function(e){return n.dispatch(Me.a.searchOnMap(e))},update:n.update,dispatch:n.dispatch},window.update=n.update,n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){var e=this;Object(y.h)().addEventListener("beforeunload",(function(){return o.closePage(e.props,e.state)})),"mapbox"===this.props.mapProvider&&O()&&!Nn.a.bVariants.isB("CH-908")&&Object(y.h)().addEventListener("load",(function(){S.load(null)}))},t.prototype.convertGqlProperties=function(e){var t=this;if(!e.propertiesGql||0===e.propertiesGql.length)return e;if(!this.props.experiments.isTequilaMap||e.isLoading)return Object(r.a)(Object(r.a)({},e),{propertiesGql:void 0});var n=l.a.performanceNow(),o=e.propertiesGql.filter((function(e){return e.propertyResultType!==We.a.RemainingProperty})).map((function(n){return Object(Ze.a)(n,e,t.props)})),a=o.filter((function(e){return!e.isSoldOutProperty&&e.DisplayPrice})).length,i=new Date(e.criteria.CheckIn),s=new Date(e.criteria.CheckOut),c={shortCheckin:this.shortDateFormat(i),shortCheckout:this.shortDateFormat(s),lengthOfStay:e.criteria.LengthOfStay};return Co.b.measure(jr.a.MAP_CONVERT_GQL_PROPERTIES,l.a.performanceNow()-n,{}),Object(r.a)(Object(r.a)({},e),{dateDisplayInfo:c,properties:a>0?o:[],propertiesGql:void 0})},t.prototype.componentWillReceiveProps=function(e){this.isMapBeingOpened(e)&&this.update({newState:this.convertGqlProperties(Object(r.a)(Object(r.a)({},e.searchPageState),{propertiesGql:e.searchPageState.propertiesGql})),type:s.a.SEARCH_COMPLETED})},t.prototype.componentWillUpdate=function(e){this.isMapBeingOpenedFirstTime(e)&&this.update(at.a.createStaticAction(s.a.MAPS_INITIALIZED)),(this.isMapBeingOpened(e)||this.isMapBeingClosed(e))&&this.update(at.a.createToggleMapsAction(e.displayInfo.isMapOpened,e.displayInfo.actionInfo,e.displayInfo.propertyId))},t.prototype.componentWillUnmount=function(){var e=this;Object(y.h)().removeEventListener("beforeunload",(function(){return o.closePage(e.props,e.state)}))},t.prototype.render=function(){if(!this.state.displayInfo.isMapInitialized)return null;var e=this.props.experiments.isTequilaMap?a.createElement(Lo,Object(r.a)({},Tr.mapToProps(this.state,this.props,this.functionPointers))):a.createElement(Eo,Object(r.a)({},Tr.mapToProps(this.state,this.props,this.functionPointers)));return a.createElement("div",{className:P.a.getMapsRootClassName(this.state,this.props),"data-selenium":"map-popup-container"},e)},t}(a.PureComponent);t.default=Ar},321:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p}));var o=n(4),r=n(91),a=function(e,t){return e.Packaging&&t.criteria?r.PriceFormatter.format(e.Packaging.DisplayPrice,t.criteria.CultureInfo):e.FormattedDisplayPrice},i=function(e,t){return t&&!!e},s=function(e,t){var n=t?e.totalBundlePricePerPassenger:e.totalDiffPricePerPassenger;return Object(o.a)(Object(o.a)({},n),{value:Math.abs(n.value)})},c=function(e,t,n){return i(e,t)&&e.totalDiffPricePerPassenger&&!n?l(e.totalDiffPricePerPassenger.value):null},l=function(e){return e<0?"-":"+"},p=function(e){return e.package&&e.package.packagePricing&&e.package.packagePricing.totalDiffPricePerPassenger&&e.package.packagePricing.totalDiffPricePerPassenger.value}},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return f}));var o=new function e(){var t=this;this.createVisitMapsMessage=function(t){return(new e).actionInfo(t.action_info).build()},this.createLaunchMapsMessage=function(t){return(new e).mapProviderName(t.map_provider_name).actionInfo(t.action_info).mapInfo(t.map_info).propertyId(t.property_id).propertyPoisInfo(t.property_pois_info).build()},this.createSwitchMapsMessage=function(t){return(new e).actionInfo(t.action_info).build()},this.createInteractMapsMessage=function(t){return(new e).actionInfo(t.action_info).propertyId(t.property_id).mapPoiPhotoCount(t.map_poi_photo_count).build()},this.createMoveMapsMessage=function(t){return(new e).actionInfo(t.action_info).mapInfo(t.map_info).mapNextInfo(t.map_next_info).build()},this.createClickThroughMapsMessage=function(t){return(new e).actionInfo(t.action_info).propertyId(t.property_id).build()},this.createNavigationMapsMessage=function(t){return(new e).actionInfo(t.action_info).mapPoiPhotoSeqNumber(t.map_poi_photo_seq_number).build()},this.createCloseMapsMessage=function(t){return(new e).actionInfo(t.action_info).mapTimeSpent(t.map_time_spent).build()},this.build=function(){return t.message},this.mapProviderName=function(e){return t.message.map_provider_name=e,t},this.actionInfo=function(e){return t.message.action_type=e.action_type,t.message.action_element_type=e.action_element_type,t.message.action_element_name=e.action_element_name,t.message.action_element_value=e.action_element_value,t},this.mapInfo=function(e){return t.message.map_top_left_lat=e.map_top_left_lat,t.message.map_top_left_lng=e.map_top_left_lng,t.message.map_bottom_right_lat=e.map_bottom_right_lat,t.message.map_bottom_right_lng=e.map_bottom_right_lng,t.message.map_zoom_level=e.map_zoom_level,t},this.mapNextInfo=function(e){return t.message.map_next_top_left_lat=e.map_next_top_left_lat,t.message.map_next_top_left_lng=e.map_next_top_left_lng,t.message.map_next_bottom_right_lat=e.map_next_bottom_right_lat,t.message.map_next_bottom_right_lng=e.map_next_bottom_right_lng,t.message.map_next_zoom_level=e.map_next_zoom_level,t},this.propertyPoisInfo=function(e){return t.message.poi_eat_count=e.poi_eat_count,t.message.poi_explore_count=e.poi_explore_count,t.message.poi_play_count=e.poi_play_count,t.message.poi_shop_count=e.poi_shop_count,t.message.poi_with_photo_eat_count=e.poi_with_photo_eat_count,t.message.poi_with_photo_explore_count=e.poi_with_photo_explore_count,t.message.poi_with_photo_play_count=e.poi_with_photo_play_count,t.message.poi_with_photo_shop_count=e.poi_with_photo_shop_count,t},this.propertyId=function(e){return t.message.property_id=e,t},this.mapPoiPhotoCount=function(e){return t.message.map_poi_photo_count=e,t},this.mapPoiPhotoSeqNumber=function(e){return t.message.map_poi_photo_seq_number=e,t},this.mapTimeSpent=function(e){return t.message.map_time_spent=e,t},this.message={}},r=n(47),a=function(e){var t=e.filter((function(e){return e&&0===e.categoryId})),n=e.filter((function(e){return e&&1===e.categoryId})),o=e.filter((function(e){return e&&2===e.categoryId})),r=e.filter((function(e){return e&&3===e.categoryId}));return{poi_eat_count:t.length,poi_explore_count:n.length,poi_play_count:o.length,poi_shop_count:r.length,poi_with_photo_eat_count:t.filter((function(e){return e&&e.hasPicture})).length,poi_with_photo_explore_count:n.filter((function(e){return e&&e.hasPicture})).length,poi_with_photo_play_count:o.filter((function(e){return e&&e.hasPicture})).length,poi_with_photo_shop_count:r.filter((function(e){return e&&e.hasPicture})).length}},i=function(e){switch(e){case 0:return"eat";case 1:return"explore";case 2:return"play";case 3:return"shop"}},s=function(e){r.c.track(o.createVisitMapsMessage(e))},c=function(e){r.c.track(o.createLaunchMapsMessage(e))},l=function(e){r.c.track(o.createSwitchMapsMessage(e))},p=function(e){r.c.track(o.createInteractMapsMessage(e))},u=function(e){r.c.track(o.createMoveMapsMessage(e))},m=function(e){r.c.track(o.createClickThroughMapsMessage(e))},d=function(e){r.c.track(o.createNavigationMapsMessage(e))},f=function(e){r.c.track(o.createCloseMapsMessage(e))}},698:function(e,t,n){"use strict";var o=n(713);t.a=function(e,t){return Object(o.a)(e,t)}},699:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n(6),r={id:{BottomBar1:"div-gpt-ad-1561999199791-0",BottomBar2:"div-gpt-ad-1561999606412-0",SideBar1:"div-gpt-ad-1561996548387-0",SideBar2:"div-gpt-ad-1561996797837-0",ListBanner1:"div-gpt-ad-1561996885761-0",ListBanner2:"div-gpt-ad-1561998972342-0"},path:{BottomBar1:"/3102/Agoda.com/agoda_flights_search_results_970x90",BottomBar2:"/3102/Agoda.com/agoda_flights_search_results_300x250_responsive_only",SideBar1:"/3102/Agoda.com/agoda_flights_search_results_300x250",SideBar2:"/3102/Agoda.com/agoda_flights_search_results_300x600",ListBanner1:"/3102/Agoda.com/agoda_flights_search_results_728x90",ListBanner2:"/3102/Agoda.com/agoda_flights_search_results_728x90_2nd_inline"}},a={id:{BottomBar1:"div-gpt-ad-1567782707191-0",BottomBar2:"div-gpt-ad-1567782847697-0",SideBar1:"div-gpt-ad-1567781601887-0",SideBar2:"div-gpt-ad-1567781658124-0",ListBanner1:"div-gpt-ad-1567781707136-0",ListBanner2:"div-gpt-ad-1567782572682-0"},path:{BottomBar1:"/3102/priceline.dart/pcln_agoda_air_results_970x90",BottomBar2:"/3102/priceline.dart/pcln_agoda_air_results_300x250_responsive_only",SideBar1:"/3102/priceline.dart/pcln_agoda_air_results_300x250",SideBar2:"/3102/priceline.dart/pcln_agoda_air_results_300x600",ListBanner1:"/3102/priceline.dart/pcln_agoda_air_results_728x90",ListBanner2:"/3102/priceline.dart/pcln_agoda_air_results_728x90_2nd_inline"}},i=function(){return window.google},s=function(){return"theme-priceline"===Object(o.c)().theme?a:r}},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(55),r={count:function(e,t){this.measure(e,1,t)},measure:function(e,t,n){o.b.measure(a+e,t,n)}},a="fe.maps."},723:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(452),r=function(e){return[o.b.Homestay,o.b.Home].some((function(t){return t===e}))}}}]);