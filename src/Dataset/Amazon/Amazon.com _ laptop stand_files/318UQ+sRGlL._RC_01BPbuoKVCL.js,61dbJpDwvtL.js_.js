(function(g){var f=window.AmazonUIPageJS||window.P,r=f._namespace||f.attributeErrors,u=r?r("AmazonSafeFrameHostJavaScript",""):f;u.guardFatal?u.guardFatal(g)(u,window):u.execute(function(){g(u,window)})})(function(g,f,r){g.declare("amzn-safe-frame-client-binaries",{"safeFrameContents.html":"https://images-na.ssl-images-amazon.com/images/G/01/AUIClients/AmazonSafeFrameClientJavaScript.4c05a442e8c21ee74abd4f68880977f7207af17b._CB427569461_.html"});"use strict";(function(){function u(a,b,c){return Math.min(0<
a?c-a:0<b?Math.min(b,c):0,b-a)}function A(a,b,c,e){e=Math.pow(10,e);return Math.round(Math.min(c,Math.max(b,a))*e)/e}function Z(){var a=["hidden","webkitHidden","mozHidden","msHidden","oHidden"],b=a.length,c;for(c=0;c<b;c++)if(a[c]in document)return a[c]}function F(a){return"function"===typeof a}function G(){if(l){if(null!==document.body.getAttribute("abp")||null===l.offsetParent||0===l.offsetHeight||0===l.offsetLeft||0===l.offsetTop||0===l.offsetWidth||0===l.clientHeight||0===l.clientWidth)return!0;
if(f.getComputedStyle!==r){var a=f.getComputedStyle(l,null);if(a&&("none"===a.getPropertyValue("display")||"hidden"===a.getPropertyValue("visibility")))return!0}}return!1}function aa(){l=document.createElement("div");l.className="pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links";l.style.cssText="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";document.body.appendChild(l);var a=
0,b=G();b||(H=f.setInterval(function(){a++;if((b=G())||6<=a)f.clearInterval(H),l&&(document.body.removeChild(l),l=r),(I=b)&&J.run()},150))}function n(a){a=d.FRAME_BY_ID_SELECTOR.replace("{frameId}",a);return document.querySelector(a)}function K(a){g.when("amzn-safe-frame-client-binaries").execute("amzn-safe-frame-apply-polyfills",function(b){var c;if(c=!a.getAttribute(d.SRC_ATTR_NAME))(c="true"===a.getAttribute(d.USE_SRCDOC_FALLBACK_ATTR_NAME))||(c=ba&&(!!a.getAttribute(d.SRCDOC_ATTR_NAME)||!!a.getAttribute(d.SANDBOX_ATTR_NAME)));
c&&(c=a.getAttribute(d.FRAME_ID_ATTR),(b=(b=b&&b[d.SAFEFRAME_VIEW_NAME])?b+"?safeFrameId\x3d"+c:r)&&a.setAttribute(d.SRC_ATTR_NAME,b))})}function L(a,b){if(b){var c=f.uet,e=a&&a.getAttribute&&a.getAttribute(d.METRICS_SCOPE_ATTR);c&&e&&c("x1",e,{wb:1},b)}b=a&&a.getAttribute&&a.getAttribute(d.DATA_SRCDOC_ATTR_NAME);c=a&&a.getAttribute&&a.getAttribute(d.SRCDOC_ATTR_NAME);b&&!c&&(a[d.SRCDOC_ATTR_NAME]=b,K(a))}function ca(a){return a&&a.getAttribute&&(a=a.getAttribute(d.CAPABILITIES_ATTR_NAME))?a.trim().split(da).filter(function(a){return M.hasOwnProperty(a)}).reduce(function(a,
c){a[M[c]]=!0;return a},{}):{}}function ea(a,b){return!0===ca(a)[b]}function N(a,b,c,e){a.addEventListener?a.addEventListener(b,c,!0===e):a.attachEvent&&a.attachEvent("on"+b,c)}function m(a,b){a&&a.contentWindow&&a.contentWindow.postMessage&&a.contentWindow.postMessage(JSON.stringify(b),"*")}function B(a){k.eachFrame(function(b,c){m(c,a)})}function q(a,b){!0===fa[a]&&(C[a]=b);B({action:"TRIGGER",eventName:a,eventData:b})}function O(a){m(a,{action:"REGISTERED",geom:w.geom(a),isVisible:D.isPageVisible(),
hasAdBlocker:x.hasAdBlocker(),completedEventData:C})}function v(a,b,c){g.when("A").execute(function(e){e&&e.trigger(a,b,c)})}function z(a,b,c){g.when("A").execute(function(e){c&&(b=e.throttle(b,c));e.on(a,b)})}function ga(a,b,c,e){ea(a,d.CAPABILITIES.AJAX)?g.when("A").execute(function(d){d.ajax(b,{accepts:e.accepts,cache:e.cache,contentType:e.contentType,method:e.method,params:e.params,paramsFormat:e.paramsFormat,timeout:e.timeout,success:function(b,e){m(a,{action:"AJAX_SUCCESS",requestId:c,response:b,
status:e})},error:function(b,e,d){m(a,{action:"AJAX_ERROR",requestId:c,status:e,error:d})},abort:function(){m(a,{action:"AJAX_ABORT",requestId:c})},chunk:function(b){m(a,{action:"AJAX_CHUNK",requestId:c,chunk:b})}})}):m(a,{action:"AJAX_ERROR",requestId:c,status:"403 Forbidden",error:"Frame missing capability: "+d.CAPABILITIES.AJAX})}var d={ADDITIONAL_ATTRIBUTION_ATTR:"data-additional-attribution",ATTRIBUTION_ATTR:"data-frame-attribution",ATTRIBUTION_SEPARATOR:":",AUTO_LOAD_ATTR_NAME:"data-auto-load",
CAPABILITIES_ATTR_NAME:"data-capabilities",DATA_SRCDOC_ATTR_NAME:"data-srcdoc",FRAME_BY_ID_SELECTOR:'.amzn-safe-frame[data-frame-id\x3d"{frameId}"]',FRAME_CONTAINER_SELECTOR:".amzn-safe-frame-container",FRAME_FOOTER_SELECTOR:".amzn-safe-frame-footer",FRAME_ID_ATTR:"data-frame-id",FRAME_SELECTOR:".amzn-safe-frame",FRAME_SIZING_SELECTOR:".amzn-safe-frame-sizing",HEIGHT_ATTR:"height",HIDDEN_CLASS:"aok-hidden",HOST_METRICS_SCOPE:"amznSafeFrameHost",IFRAME_ELEM_NAME:"iframe",METRICS_SCOPE_ATTR:"data-metrics-scope",
SAFEFRAME_VIEW_NAME:"safeFrameContents.html",SANDBOX_ATTR_NAME:"sandbox",SRC_ATTR_NAME:"src",SRCDOC_ATTR_NAME:"srcdoc",USE_SRCDOC_FALLBACK_ATTR_NAME:"data-use-srcdoc-fallback",WIDTH_ATTR:"width",CAPABILITIES:{AUI:"AUI",AJAX:"AJAX"},EVENTS:{COLLAPSE:"amzn-safe-frame-event:collapse",ERROR:"amzn-safe-frame-event:error",SET_HEIGHT:"amzn-safe-frame-event:set-height",SET_WIDTH:"amzn-safe-frame-event:set-width",SHOW_FOOTER:"amzn-safe-frame-event:show-footer"}},w={geom:function(a){var b=document.documentElement,
c=0,e=0,d=0,g=0,k=0,l=0,m=0,p=0,n=void 0,r=void 0,q=void 0;try{c=f.screenTop||f.screenY||0,e=f.screenLeft||f.screenX||0,d=f.innerWidth||b.clientWidth||0,g=f.innerHeight||b.clientHeight||0,k=f.scrollY||f.pageYOffset||0,l=f.scrollX||f.pageXOffset||0,m=c+g,p=e+d}finally{b={t:c,l:e,w:d,h:g,b:m,r:p,sx:l,sy:k}}try{var h=a.getBoundingClientRect();h.height=h.height||h.bottom-h.top;h.width=h.width||h.right-h.left;var h=q=h,c=d,t=u(h.top,h.bottom,g),v=u(h.left,h.right,c),e=t*v,y=h.height*Math.min(h.width,c),
n={t:h.top,l:h.left,r:h.right,b:h.bottom,w:h.width,h:h.height,z:+f.getComputedStyle(a,null).zIndex,xiv:A(v/h.width,0,1,2),yiv:A(t/h.height,0,1,2),iv:A(e/y,0,1,2)},w=document.body,x=document.documentElement,r={t:q.top,l:q.left,r:d-q.right,b:g-q.bottom,xs:Math.max(w.scrollWidth,x.scrollWidth)>d?1:0,yx:Math.max(w.scrollHeight,x.scrollHeight)>g?1:0}}catch(z){r=n=null}return{win:b,self:n,exp:r}}},D={isPageVisible:function(){var a=Z();return a?function(){return!document[a]}:function(){return!0}}()},p={isFunction:F,
createHandlerList:function(){var a={},b={};return{add:function(c,e){F(c)&&(e=e||"___DEFAULT___",!0===b[e]?g.now().execute(c):(a[e]=a[e]||[],a[e].push(c)))},run:function(c){c=c||"___DEFAULT___";b[c]=!0;c=a[c]||[];for(var e=c.length,d=0;d<e;d++)g.now().execute(c[d])}}}},J=p.createHandlerList(),I=!1,l=void 0,H=void 0,x={init:function(){setTimeout(aa,0)},onAdBlockDetected:function(a){J.add(a)},hasAdBlocker:function(){return I}},P=p.createHandlerList();(function(a,b){var c=f[a];c&&(f[a]=function(){var a;
try{a=Array.prototype.slice.call(arguments),b.apply(f,a)}finally{c.apply(f,a)}})})("uet",function(a){a&&P.run(a)});var E={onUet:function(a,b){P.add(b,a)}},k={getFrame:n,getFrameAttribution:function(a,b){a=(a=n(a))?a.getAttribute(d.ATTRIBUTION_ATTR):void 0;var c=["safeFrame"];a&&c.push(a);b&&c.push(b);return c.join(d.ATTRIBUTION_SEPARATOR)},getAdditionalAttribution:function(a){if(a=n(a))return a.getAttribute(d.ADDITIONAL_ATTRIBUTION_ATTR)},getMetricsScope:function(a){if(a=n(a))return a.getAttribute(d.METRICS_SCOPE_ATTR)},
setFrameHeight:function(a,b){if(a=n(a))b=Math.max(+b||0,0),a.setAttribute(d.HEIGHT_ATTR,b)},setFrameWidth:function(a,b){var c=n(a);b=Math.max(+b||0,0);c&&0<b&&g.when("A").execute(function(a){a.$(c).closest(d.FRAME_CONTAINER_SELECTOR).find(d.FRAME_SIZING_SELECTOR).css(d.WIDTH_ATTR,b+"px")})},collapseFrame:function(a){var b=n(a);b&&g.when("A").execute(function(a){a.$(b).closest(d.FRAME_CONTAINER_SELECTOR).addClass(d.HIDDEN_CLASS)})},showFooter:function(a,b){var c=n(a);c&&g.when("A").execute(function(a){a=
a.$(c).closest(d.FRAME_CONTAINER_SELECTOR).find(d.FRAME_FOOTER_SELECTOR);a.removeClass(d.HIDDEN_CLASS);a.data("eventData",b)})},getContents:function(a){if(a=n(a))return a.getAttribute(d.DATA_SRCDOC_ATTR_NAME)||a.getAttribute(d.SRCDOC_ATTR_NAME)},eachFrame:function(a){for(var b=document.querySelectorAll(d.FRAME_SELECTOR),c=b.length,e,f;c--;)e=b[c],(f=e.getAttribute(d.FRAME_ID_ATTR))&&a(f,e)}},ha={wb:1},ia=p.isFunction,Q=f.ueLogError,y=f.ue&&f.ue.count,R=f.ue&&f.ue.tag,S={wb:"ues",bb:"uet",af:"uet",
cf:"uet",be:"uet",ld:"uex"},t={sendMetrics:function(a,b,c){var d;d=(d=S.hasOwnProperty(b)?S[b]:r)&&f[d];(a=k.getFrameAttribution(a,c))&&ia(d)&&d(b,a,ha)},logError:function(a,b,c,d){var f=k.getAdditionalAttribution(a);a=k.getFrameAttribution(a,f);b={logLevel:d,attribution:a,message:b};a&&Q&&Q(c||b,c?b:null)},count:function(a,b,c){a=k.getFrameAttribution(a,b);y&&a&&y(a,+c||1)},incrementCount:function(a,b,c){a=k.getFrameAttribution(a,b);c=+c||1;y&&a&&y(a,(y(a)||0)+c)},tagRequest:function(a,b){a=k.getFrameAttribution(a,
b);R&&a&&R(a)}},ba=!(d.SRCDOC_ATTR_NAME in document.createElement(d.IFRAME_ELEM_NAME)),da=/\s*,\s*/g,M=Object.keys(d.CAPABILITIES).reduce(function(a,b){a[d.CAPABILITIES[b]]=b;return a},{}),fa={atf:!0,cf:!0,load:!0},C={},p=function(){},T=f.uet||p,U=f.uex||p,V=f.ue&&f.ue.count||p,W={},X={};T("bb",d.HOST_METRICS_SCOPE,{wb:1});var Y={REGISTER:function(a,b,c,d){O(b);!0!==W[c]&&(W[c]=!0,(b=k.getMetricsScope(c))&&T("cf",b,{wb:1},a.timestamp||d))},SEND_METRICS:function(a,b,c){t.sendMetrics(c,a.metric,a.scope)},
LOG_ERROR:function(a,b,c){(b=a.message)&&14<b.length&&"window.onerror"===b.substring(0,14)&&(b=V("SafeFrameUncaughtJSError")||0,V("SafeFrameUncaughtJSError",b+1));t.logError(c,a.message,a.exception,a.logLevel);v(d.EVENTS.ERROR,c,a)},COUNT_METRIC:function(a,b,c){t.count(c,a.counterName,a.value)},INCREMENT_METRIC:function(a,b,c){t.incrementCount(c,a.counterName,a.value)},SET_HEIGHT:function(a,b,c){k.setFrameHeight(c,a.value);v(d.EVENTS.SET_HEIGHT,c,a)},SET_WIDTH:function(a,b,c){k.setFrameWidth(c,a.value);
v(d.EVENTS.SET_WIDTH,c,a)},COLLAPSE:function(a,b,c){k.collapseFrame(c);v(d.EVENTS.COLLAPSE,c,a)},SHOW_FOOTER:function(a,b,c){k.showFooter(c,a);v(d.EVENTS.SHOW_FOOTER,c,a)},GET_CONTENTS:function(a,b,c){m(b,{action:"LOAD_CONTENTS",contents:k.getContents(c)})},CLIENT_READY:function(a,b,c){!0!==X[c]&&(X[c]=!0,(a=k.getMetricsScope(c))&&U("ld",a,{wb:1}))},AJAX:function(a,b,c){ga(b,a.url,a.requestId,a.options)},TAG_REQUEST:function(a,b,c){t.tagRequest(c,a.tagName)}};N(f,"message",function(a){var b=(new Date).getTime(),
c;try{c=JSON.parse(a.data)}catch(d){c={}}if(a=c.frameId){var e=k.getFrame(a);if(e&&Y.hasOwnProperty(c.action))Y[c.action](c,e,a,b)}},!1);N(document,"visibilitychange",function(){B({action:"VISIBILITY_CHANGE",isVisible:D.isPageVisible()})},!1);z("resize",function(){k.eachFrame(function(a,b){m(b,{action:"RESIZE",geom:w.geom(b)})})},1E3);z("scroll",function(){k.eachFrame(function(a,b){m(b,{action:"SCROLL",geom:w.geom(b)})})},1E3);z("load",function(){q("atf",{});q("load",{})});z("orientationchange",function(){q("orientationchange",
{})});E.onUet("af",function(){q("atf",{})});E.onUet("cf",function(){q("cf",{})});x.onAdBlockDetected(function(){B({action:"AD_BLOCKER_DETECTED"})});p={broadcastEvent:q,initSafeFrameHost:function(){C={};k.eachFrame(function(a,b){O(b)});U("ld",d.HOST_METRICS_SCOPE,{wb:1})},reloadFrame:function(a){a.removeAttribute(d.SRCDOC_ATTR_NAME);a.removeAttribute(d.SRC_ATTR_NAME);L(a)},enableAutoResize:function(a){m(a,{action:"ENABLE_AUTO_RESIZE"})},disableAutoResize:function(a){m(a,{action:"DISABLE_AUTO_RESIZE"})}};
g.declare("amzn-safe-frame-constants",d);g.declare("amzn-safe-frame-viewability",w);g.declare("amzn-safe-frame-page-visibility",D);g.declare("amzn-safe-frame-ad-block-detect",x);g.declare("amzn-safe-frame-csm-interceptor",E);g.declare("amzn-safe-frame-manager",k);g.declare("amzn-safe-frame-logging",t);g.declare("amzn-safe-frame-host",p);g.declare("amzn-safe-frame-polyfills",K);g.declare("amzn-safe-frame-auto-loader",function(a,b){"true"===(a&&a.getAttribute&&a.getAttribute(d.AUTO_LOAD_ATTR_NAME))&&
L(a,b)});g.when("ready").execute(x.init);p.initSafeFrameHost()})()});
/* ******** */
(function(b){var d=window.AmazonUIPageJS||window.P,e=d._namespace||d.attributeErrors,a=e?e("SearchShoppingPageGridAssets",""):d;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,d,e){b.when("rush-metrics-adapter","jQuery","ready").execute("s-result-grid-metrics",function(a,c){var b;"undefined"!==typeof CSS&&c.isFunction(CSS.supports)&&CSS.supports("grid-auto-flow: dense")?a.setCount("flexigrid:cssGridSupport","s-result-grid-metrics",1):a.setCount("flexigrid:cssGridSupport",
"s-result-grid-metrics",0);c=c(".s-result-list \x3e .s-flex-geom");b=c.filter(":hidden");0<b.length&&a.setCount("flexigrid:resultsHidden","s-result-grid-metrics",b.length);c=c.filter(":visible");0<c.length&&a.setCount("flexigrid:results","s-result-grid-metrics",c.length)})});
/* ******** */
(function(g){var m=window.AmazonUIPageJS||window.P,y=m._namespace||m.attributeErrors,c=y?y("SearchAssets",""):m;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,m,y){"use strict";g.declare("s-asin-actions",{COUPON_APPLIED:"s-asin-actions:coupon-applied",UPDATE_CART:"s-asin-actions:update-cart",IN_CART_BADGE_SHOWN:"s-asin-actions:in-cart-badge-shown"});"use strict";g.when("rush-dispatcher","rush-util").register("s-status-badge-actions",function(c,e){function a(a,
d){if(!a)throw Error(d);}var f=c.trigger,d;d={toggleBadges:function(b){a(e.isNotBlank(b),"asin must be a non-empty string");return"s-badge-actions:toggle-"+b}};return{listeners:d,triggers:{showAll:function(b){a(e.isNotBlank(b),"asin must be a non-empty string");return f(d.toggleBadges(b),{show:!0,check:function(){return!0}})},hideAllExceptType:function(b,c){a(e.isNotBlank(b),"asin must be a non-empty string");a(e.isNotBlank(c),"exceptedType must be a non-empty string");return f(d.toggleBadges(b),
{show:!1,check:function(a){return c!==a}})}}}});"use strict";g.when("rush-dispatcher","rush-util").register("s-hidden-content-actions",function(c,e){function a(a,d){if(!a)throw Error(d);}var f=c.trigger,d;d={markShown:function(b){a(e.isNotBlank(b),"widget must be a non-empty string");return b+":hidden-content:mark-has-shown-content"},hide:function(b){a(e.isNotBlank(b),"widget must be a non-empty string");return b+":hidden-content:hide-content"},slideAndFade:function(b){a(e.isNotBlank(b),"uuid must be a non-empty string");
return b+":hidden-content:slide-and-fade-content"},fade:function(b){a(e.isNotBlank(b),"widget must be a non-empty string");return b+":hidden-content:fade-content"}};return{listeners:d,triggers:{showFirst:function(b,c){a(e.isNotBlank(b),"uuid must be a non-empty string");a(e.isNumber(c),"time must be a number");return f(d.slideAndFade(b),{showingUuid:b,time:c})},markShown:function(b){a(e.isNotBlank(b),"widget must be a non-empty string");return f(d.markShown(b))},show:function(b,c,h){a(e.isNotBlank(b),
"widget must be a non-empty string");a(e.isNotBlank(c),"uuid must be a non-empty string");a(e.isNumber(h),"time must be a number");return f(d.fade(b),{showingUuid:c,time:h})},hide:function(b,c,h){a(e.isNotBlank(b),"widget must be a non-empty string");a(e.isNotBlank(c),"uuid must be a non-empty string");a(e.isNumber(h),"time must be a number");return f(d.hide(b),{showingUuid:c,time:h})}}}});"use strict";g.when("jQuery","rush-dispatcher","rush-util").register("s-visibility-toggle-actions",function(c,
e,a){function f(a,b){if(!a)throw Error(b);}function d(a,d){var e=b[a];f(c.isFunction(e),"Listener must be valid function for contentType: "+a);return e(d)}var b,k;b={LOW_STOCK_MESSAGE:function(b){f(a.isNotBlank(b),"componentId must be a non-empty string");return"s-visibility-toggle-actions:low-stock-message-"+b},QUANTITY_LIMIT_MESSAGE:function(b){f(a.isNotBlank(b),"componentId must be a non-empty string");return"s-visibility-toggle-actions:quantity-limit-message-"+b}};k={LOW_STOCK_MESSAGE:function(a){if(a&&
a.quantity!==y&&a.maxOrderQuantity!==y)return a.quantity!==a.maxOrderQuantity},QUANTITY_LIMIT_MESSAGE:function(a){if(a&&a.quantity!==y&&a.maxOrderQuantity!==y)return a.quantity===a.maxOrderQuantity}};return{listener:d,shouldShowComponent:function(a,b,d){var q=k[a];f(c.isFunction(q),"Controller must be valid function for contentType: "+a);return q(b,d)},triggers:{toggleLowStockMessage:function(b,c){f(a.isNotBlank(b),"componentId must be a non-empty string");return e.trigger(d("LOW_STOCK_MESSAGE",b),
c)},toggleQuantityLimitMessage:function(b,c){f(a.isNotBlank(b),"componentId must be a non-empty string");return e.trigger(d("QUANTITY_LIMIT_MESSAGE",b),c)}}}});g.when("rush-ajax-controller","rush-util","a-util","3p-promise").register("s-search-ajax-controller",function(c,e,a,f){function d(a,b){if(!a)throw Error(b);}function b(){}var k=a.extend,h=e.isFunction;return function(a,e){var q=e&&e.success||b,p=e&&e.error||b,r=e&&e.chunk||b;d(h(q),"`options.success` must be a function");d(h(p),"`options.error` must be a function");
d(h(r),"`options.chunk` must be a function");return new f(function(b,d){e=k(e,{success:function(a,d,c){q(a,d,c);b({response:a,statusText:d,xhr:c})},error:function(a,b,c){d({xhr:a,statusText:b,error:c})},chunk:function(){r.apply({},arguments)}});c(a,e).then(function(a){b(a)})["catch"](function(a){d(a)})})}});g.declare("s-startup-dom-scan-disabled",!1);g.when("rush-framework","rush-metrics-adapter","s-startup-dom-scan-disabled","ready").execute("s-start-scanner",function(c,e,a){!0!==a&&(e.setTimer("bb",
"s-startup-component-scan",{wb:1}),e.setTimer("cf","s-startup-component-scan",{wb:1}),c.turnOnAutoScanner(),g.declare("s-startup-dom-scan-complete",!0),e.publish("ld","s-startup-component-scan",{wb:1}),g.when("s-ads-metrics-utils").execute("s-collect-init-page-ads-metrics",function(a){var d=document.getElementById("search");d&&a.record(d.innerHTML)}))});"use strict";g.when("s-clean-url","rush-logger").execute("s-clean-url-replace",function(c,e){var a=/[&|?]c=ts/;try{c&&m.history&&history.replaceState&&
(c&&c.match(a)||history.replaceState(history.state,"cleanUrl",c)),g.declare("s-start-application")}catch(f){e.error(f,"Replacing history state with "+c+" failed","s-clean-url-replace")}});"use strict";g.when("A","rush-framework","rush-util","a-carousel-framework","a-carousel-constants","s-is-mobile","s-tag-utils","s-asin-actions","s-actions").register("s-searchgrid-carousel",function(c,e,a,f,d,b,k,h,u){function n(a){var b=a.getAttr(d.PAGE_NUMBER),c=a.getAttr(d.TOTAL_PAGES),f=a.dom.$container.find(".a-carousel-goto-prevpage");
a=a.dom.$container.find(".a-carousel-goto-nextpage");f.toggleClass("aok-hidden",1===b);a.toggleClass("aok-hidden",b===c)}function q(a){!0!==v[a]&&(v[a]=!0,f.onInit(a,function(d){n(d);c.on("a:carousel:"+a+":change:pageNumber",function(a){n(a.carousel);k.recordIfNewRequestID("carouselButton")});c.on("a:carousel:"+a+":change:pageSize",function(a){n(a.carousel)});d.dom.$carousel.bind(h.IN_CART_BADGE_SHOWN,function(){d.dom.$carousel.find(".s-hidden-badge-spacing").removeClass("aok-hidden");var a=d.getAttr("pageSize");
d.setAttr("pageSize",a+1);d.setAttr("pageSize",a)});b||k.recordIfNewRequestID("carouselExists")}))}function p(a){if(a!==y&&a.startsWith("sg-col-"))return a}function r(a){var b=a.attr("data-uuid");b===y&&(b=t(),a.attr("data-uuid",b));return b}function w(a,b){var d=l(a),c=r(d),f=d.find(".sg-col-inner"),q=d.find(".s-product-header"),e=b.on(u.LOAD_SEARCH_PAGE+":"+c,function(){f.addClass("s-color-swatch-interactive");d.wrapInner('\x3cdiv class\x3d"interactive-wrapper aok-relative"\x3e\x3c/div\x3e');d.find(".interactive-wrapper").prepend('\x3cdiv class\x3d"a-spinner-wrapper s-color-swatch-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e')}),
h=b.on(u.LOAD_SEARCH_PAGE_COMPLETE+":"+c,function(){f.removeClass("s-color-swatch-interactive");d.find(".a-spinner-wrapper").remove();d.find(".interactive-wrapper").contents().unwrap()}),k=b.on(u.RESULT_ITEM_READY+":"+c,function(c){c=l("\x3cdiv\x3e").html(c.item.html);var f=c.find(".s-result-item,.s-inner-result-item"),u=r(f);c.find("span.celwidget").contents().unwrap();f.removeAttr("data-component-type");c.find(".sg-col-inner").prepend(q);c.find(".s-grid-status-badge-container-dark, .s-status-badge-elevated-grid-dark-background").remove();
var f=c.children(),n=d.find(".s-height-equalized"),v=n.css("padding-top"),t=n.outerHeight(),n=f.find(".s-height-equalized");n.css("padding-top",v);n.height(t);f=c.children();n=d.attr("class").split(" ").find(p);v=f.attr("class").split(" ").find(p);n!==y&&v!==y&&(f.removeClass(v),f.addClass(n));b.replace(a,c.html());e();h();k();w(l(b.elem()).find(".s-result-item[data-uuid\x3d"+u+"]")[0],b)})}var l=c.$,v={},t=function(){var a=0;return function(){return"s-searchgrid-carousel:"+a++}}();e.registerComponent("s-searchgrid-carousel",
"s-searchgrid-carousel",function(b){var d=l(b.elem()),u=d.find(".a-carousel-container"),e=b.prop("name"),d=d.find(".s-result-item,.s-inner-result-item");a.isBlank(e)?b.log.error("Search Grid Carousel requires a non-empty name in rush componentProps. Can not initialize carousel."):(q(e),u.hasClass("a-carousel-initialized")||(u.addClass("a-carousel-static"),f.createAll(),f.initializeAll()),c.each(d,function(a){w(a,b)}))})});"use strict";g.when("A","a-carousel-framework","a-carousel-constants","ready").register("s-carousel-searchgrid",
function(c,e,a){function f(a,b,d){a=0;if(0<d)for(;-.5<b;)a++,b-=d;0>b&&a--;return c.isFiniteNumber(a)&&0<a?a:1}function d(b){b.onChange(a.PAGE_NUMBER,function(){b.getAttr(a.HIDE_OFF_SCREEN)&&b.dom.$carousel.children("li").css("visibility","")});b.onChange(a.ANIMATING,function(d){var c,f;!d&&b.getAttr(a.HIDE_OFF_SCREEN)&&(c=b.getAttr(a.FIRST_VISIBLE_ITEM)-1,f=c+b.getAttr(a.PAGE_SIZE)-1,b.dom.$carousel.children("li").each(function(a,b){a=a>=c&&a<=f;h(b).css("visibility",a?"":"hidden")}))})}function b(b,
d,c){var e=b.getAttr(a.TOTAL_PAGES),h=b.getAttr(a.PAGE_NUMBER),k=b.getAttr(a.FIRST_VISIBLE_ITEM),l=b.getAttr(a.HIDE_OFF_SCREEN),v=b.dom.$carousel.children("li");d=f(b,d,c);var t=(h-1)*d+1,x,g;b.setAttr(a.PAGE_SIZE,d);h>e?(k=(e-1)*d+1,b.setAttr(a.PAGE_NUMBER,e),b.setAttr(a.FIRST_VISIBLE_ITEM,k)):k!==t&&(e=Math.ceil(k/d),k=(e-1)*d+1,b.setAttr(a.PAGE_NUMBER,e),b.setAttr(a.FIRST_VISIBLE_ITEM,k));x=k-1;g=x+d-1;v.each(function(a,b){b.style.visibility=!l||a>=x&&a<=g?"":"hidden";b.style.width=c+"px"});return k}
function k(d){var c=d.getDimensions().viewport.width,f=d.dom.$carousel.children("li").get(0).getBoundingClientRect(),f=f.width?f.width:f.right-f.left,e=b(d,c,f),h;h=d.dom.$carousel;var k=h.children("li"),l=k.length,v=d.getAttr(a.PAGE_SIZE),t=d.getAttr(a.SET_SIZE),k=k.first().outerWidth(!0),c=v>=t?c:l*k;h.css("width",c+"px");c={carousel:{width:c,outerWidth:h.outerWidth()},items:[]};for(h=0;h<l;h++)c.items.push({width:f,outerWidth:k});d.updateDimensionsCache(c);d.gotoIndex(e,{animationDuration:0,ignorePause:!0});
d.triggerEvent("repaint")}var h=c.$;return{repaint:k,init:function(b){var c=b.getAttr(a.FIRST_VISIBLE_ITEM);b.setAttr(a.MIN_GUTTER,0);b.setAttr("currentGutter",0);k(b);1<c&&(c=Math.ceil(c/b.getAttr(a.PAGE_SIZE)),b.gotoPage(c));d(b)},resize:function(a,b){b.viewport&&b.viewport.width!==y&&k(a)}}});g.when("A","a-carousel-framework","s-carousel-searchgrid").execute("s-register-search-grid-strategy",function(c,e,a){e.registerStrategy("display","searchgrid",a)});"use strict";g.when("jQuery","a-carousel-framework",
"a-carousel-constants","ready").register("s-carousel-searchgridvariablewidth",function(c,e,a){function f(a){a=a.getBoundingClientRect();return a.width?a.width:a.right-a.left}function d(a){var b=[],d,e;a.each(function(a,q){d=f(q);e=c(q).outerWidth(!0);b.push({width:d,outerWidth:e})});return b}function b(a){var b=a.dom.$carousel.children("li"),d=a.getDimensions().viewport.width,c=0,e=[],h,k,u=b.size();a=a.getAttr("substractGotoPageButtonWidth")?a.getAttr("substractGotoPageButtonWidth"):0;var n=d-a;
for(h=0;h<u;h++)k=f(b.get(h)),-.5<n-k?(c++,n-=k):(0===c&&(c=1),e.push(c),c=1,n=d-k-a-a);if(0<c){c=0;u=b.size()-1;h=f(b.get(u));for(d=d-a-a;0<=u&&-.5<d-h;)u--,c++,d-=h,0<=u&&(h=f(b.get(u)));0<c&&e.push(c)}return e}function k(a){var d=b(a),c=[],f=1,e=a.dom.$carousel.children("li").length,h;d.map(function(a,b){for(h=0;h<a&&f<=e;h++)c[f]=b+1,f++});return c}function h(b){b.onChange(a.PAGE_NUMBER,function(){b.getAttr(a.HIDE_OFF_SCREEN)&&b.dom.$carousel.children("li").css("visibility","")});b.onChange(a.ANIMATING,
function(d){var f,e;!d&&b.getAttr(a.HIDE_OFF_SCREEN)&&(f=b.getAttr(a.FIRST_VISIBLE_ITEM)-1,e=f+b.getAttr(a.PAGE_SIZE)-1,b.dom.$carousel.children("li").each(function(a,b){a=a>=f&&a<=e;c(b).css("visibility",a?"":"hidden")}))})}function u(d,c,f){var e=d.getAttr(a.TOTAL_PAGES),h=d.getAttr(a.PAGE_NUMBER);c=d.getAttr(a.FIRST_VISIBLE_ITEM);var k=d.getAttr(a.HIDE_OFF_SCREEN),u=d.dom.$carousel.children("li"),n=b(d)[h-1],g=(h-1)*n+1,A,C;d.setAttr(a.PAGE_SIZE,n);h>e?(c=(e-1)*n+1,d.setAttr(a.PAGE_NUMBER,e),d.setAttr(a.FIRST_VISIBLE_ITEM,
c)):c!==g&&(e=Math.ceil(c/n),c=(e-1)*n+1,d.setAttr(a.PAGE_NUMBER,e),d.setAttr(a.FIRST_VISIBLE_ITEM,c));A=c-1;C=A+n-1;u.each(function(a,b){b.style.visibility=!k||a>=A&&a<=C?"":"hidden";b.style.width=f[a]+"px"});return c}function n(c){var f=c.getDimensions().viewport.width,e=c.dom.$carousel.children("li"),e=d(e),e=u(c,f,e),h,l;h=c.dom.$carousel;var n=h.children("li"),t=n.length,g=c.getAttr(a.PAGE_SIZE),m=c.getAttr(a.SET_SIZE),A=d(n);if(!(g>=m))for(l in f=0,d(n))f+=l.outerWidth;l=f;h.css("width",l+"px");
h={carousel:{width:l,outerWidth:h.outerWidth()},items:[]};for(l=0;l<t;l++)h.items.push({width:A[l].width,outerWidth:A[l].outerWidth});c.updateDimensionsCache(h);c.setAttr("itemsPerPage",b(c));c.setAttr("pageForItemMap",k(c));c.gotoIndex(e,{animationDuration:0,ignorePause:!0});c.triggerEvent("repaint")}return{repaint:n,init:function(b){var d=b.getAttr(a.FIRST_VISIBLE_ITEM);b.setAttr(a.MIN_GUTTER,0);b.setAttr("currentGutter",0);n(b);1<d&&(d=Math.ceil(d/b.getAttr(a.PAGE_SIZE)),b.gotoPage(d));h(b)},resize:function(a,
b){b.viewport&&b.viewport.width!==y&&n(a)}}});g.when("jQuery","a-carousel-framework","s-carousel-searchgridvariablewidth").execute("s-register-search-grid-variable-width-strategy",function(c,e,a){e.registerStrategy("display","searchgridvariablewidth",a)});"use strict";g.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("s-carousel-searchgrid-transition",function(c,e,a,f){function d(a,b,d,f){d?(a.setAttr(e.CURRENTLY_WRAPPING,!0),b.callback=d,b.easingFunction=
b.easingFunction||a.getAttr(e.WRAP_EASING),b.animationSpeed=1.3*(c.isFiniteNumber(b.animationSpeed)?b.animationSpeed:a.getAttr(e.ANIMATION_SPEED))):b.callback=f}function b(a,b){(b.animationDuration===y||0<b.animationDuration)&&!b.silent&&a.setAttr(e.ANIMATING,!0)}function k(a,b){var d=a.getAttr(e.TOTAL_PAGES),c=a.getAttr(e.PAGE_NUMBER),f=a.getAttr(e.PAGE_SIZE),k=a.getAttr(e.SET_SIZE),w=Math.ceil(b/f);b===k-f+1&&w!==c&&(w=d);w!==c&&0<w&&w<=d&&a.setAttr(e.PAGE_NUMBER,w)}a=c.copy(f);a.gotoPage=function(a,
d,c){var f=a.getAttr(e.TOTAL_PAGES),k=a.getAttr(e.CIRCULAR),r=a.getAttr(e.PAGE_SIZE),w=a.getAttr(e.SET_SIZE),l=r*(d-1)+1;c=c||{};b(a,c);0<d&&d<=f&&a.setAttr(e.PAGE_NUMBER,d);!k&&1>d?(d=1,c.animationDuration=NaN):!k&&d>f&&(d=f,c.animationDuration=Math.pow(a.getAttr(e.ANIMATION_SPEED),a.getAttr(e.SPRINGINESS)));d===f&&(l=Math.min(l,w-r+1));this.gotoIndex(a,l,c)};a.gotoIndex=function(a,c,f){var q,p,r,w,l,v;f=f||{};b(a,f);q=a.getAttr(e.CIRCULAR)&&!a.getAttr(e.CURRENTLY_WRAPPING);p=f.callback;r=this;w=
null;l=a.getViewportWidth();k(a,c);a.setAttr(e.FIRST_VISIBLE_ITEM,c);1>c?q&&(w=-l,v=function(){p&&p();r.wrapToLast(a)}):c>a.getAttr(e.SET_SIZE)?q&&(w=a.getAttr(e.CURRENT_PIXEL)+l,v=function(){p&&p();r.wrapToFirst(a)}):w=a.getItemOffset(c);d(a,f,v,p);null!==w&&this.gotoPixel(a,w,f)};return a});g.when("A","a-carousel-framework","s-carousel-searchgrid-transition").execute("s-register-search-grid-transition-strategy",function(c,e,a){e.registerStrategy("transition","s-carousel-searchgrid",a)});"use strict";
g.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("s-carousel-searchgridvariablewidth-transition",function(c,e,a,f){function d(a,b,d,f){d?(a.setAttr(e.CURRENTLY_WRAPPING,!0),b.callback=d,b.easingFunction=b.easingFunction||a.getAttr(e.WRAP_EASING),b.animationSpeed=1.3*(c.isFiniteNumber(b.animationSpeed)?b.animationSpeed:a.getAttr(e.ANIMATION_SPEED))):b.callback=f}function b(a,b){(b.animationDuration===y||0<b.animationDuration)&&!b.silent&&a.setAttr(e.ANIMATING,
!0)}function k(a,b){var d=a.getAttr("pageForItemMap")[b],c;c=a.getAttr("substractGotoPageButtonWidth")?a.getAttr("substractGotoPageButtonWidth"):0;return 1!==d?a.getItemOffset(b)-c:a.getItemOffset(b)}function h(a,b){var d=a.getAttr("itemsPerPage"),c=d.length,f=a.getAttr(e.PAGE_NUMBER),k=a.getAttr(e.SET_SIZE),h=a.getAttr("pageForItemMap")[b];b===k-d[d.length-1]+1&&h!==f&&(h=c);h!==f&&0<h&&h<=c&&a.setAttr(e.PAGE_NUMBER,h)}a=c.copy(f);a.gotoPage=function(a,d,c){var f=a.getAttr("itemsPerPage"),k,h,l,
v,t,g;a.setAttr(e.PAGE_SIZE,f[d-1]);a.setAttr(e.TOTAL_PAGES,f.length);k=f.length;h=a.getAttr(e.CIRCULAR);l=f[d-1];v=a.getAttr(e.SET_SIZE);t=1;for(g=0;g<d-1;g++)t+=f[g];c=c||{};b(a,c);0<d&&d<=k&&a.setAttr(e.PAGE_NUMBER,d);!h&&1>d?(d=1,c.animationDuration=NaN):!h&&d>k&&(d=k,c.animationDuration=Math.pow(a.getAttr(e.ANIMATION_SPEED),a.getAttr(e.SPRINGINESS)));d===k&&(t=Math.min(t,v-l+1));this.gotoIndex(a,t,c)};a.gotoIndex=function(a,c,f){var p,r,w,l,v,t;f=f||{};b(a,f);p=a.getAttr(e.CIRCULAR)&&!a.getAttr(e.CURRENTLY_WRAPPING);
r=f.callback;w=this;l=null;v=a.getViewportWidth();h(a,c);a.setAttr(e.FIRST_VISIBLE_ITEM,c);1>c?p&&(l=-v,t=function(){r&&r();w.wrapToLast(a)}):c>a.getAttr(e.SET_SIZE)?p&&(l=a.getAttr(e.CURRENT_PIXEL)+v,t=function(){r&&r();w.wrapToFirst(a)}):l=k(a,c);d(a,f,t,r);null!==l&&this.gotoPixel(a,l,f)};return a});g.when("A","a-carousel-framework","s-carousel-searchgridvariablewidth-transition").execute("s-register-search-grid-variable-width-transition-strategy",function(c,e,a){e.registerStrategy("transition",
"s-carousel-searchgridvariablewidth",a)});"use strict";g.when("A","a-carousel-framework","ready").execute("s-register-search-grid-auto-transition-strategy",function(c,e){e.onInit("feature-card-widget",function(a){function f(){d=!0}var d=!1,b=null,e=a.dom.$container.closest(".s-feature-card").find("ul.a-pagination \x3e li");c.declarative("featurecard-herorotator","mouseenter touchstart",function(){null!==b&&clearTimeout(b);d=!1});c.declarative("featurecard-herorotator","mouseleave touchend",function(){b=
c.delay(f,4E3)});c.on("a:carousel:feature-card-widget:change:pageNumber",function(a){0<e.length&&(e.eq(a.oldValue-1).removeClass("a-selected"),e.eq(a.newValue-1).addClass("a-selected"))});d=!0;c.interval(function(){d&&a.gotoNextPage()},4E3);a.dom.$container.attr("data-initialized","")})});g.when("A","a-carousel-framework","ready").execute("s-register-search-grid-auto-asin-banner-transition-strategy",function(c,e){e.onInit("asin-banner-widget",function(a){function f(){d=!0}var d=!1,b=null,e=a.dom.$container.closest(".s-asin-banner").find("ul.a-pagination \x3e li");
c.declarative("asinbanner-herorotator","mouseenter touchstart",function(){null!==b&&clearTimeout(b);d=!1});c.declarative("asinbanner-herorotator","mouseleave touchend",function(){b=c.delay(f,4E3)});c.on("a:carousel:asin-banner-widget:change:pageNumber",function(a){0<e.length&&(e.eq(a.oldValue-1).removeClass("a-selected"),e.eq(a.newValue-1).addClass("a-selected"))});d=!0;c.interval(function(){d&&a.gotoNextPage()},4E3);a.dom.$container.attr("data-initialized","")})});g.when("s-device-env").register("s-device-context",
function(c){c=(c||"").toUpperCase();return{APP:"APP"===c,WEB:"WEB"===c}});g.declare("s-device-os-value","UNRECOGNIZED");g.when("s-device-os-value").register("s-device-os",function(c){c=c||"UNRECOGNIZED";return{IOS:"IOS"===c,ANDROID:"ANDROID"===c,UNRECOGNIZED:"UNRECOGNIZED"===c}});g.declare("s-is-mobile",!1);"use strict";g.when("A","amzn-safe-frame-host","amzn-safe-frame-constants","amzn-safe-frame-manager","s-safe-modal").register("s-ad-feedback-controller",function(c,e,a,f,d){function b(a,b){var d,
c=b.length;if(a){for(;c--;)if(d=b[c],!a.hasOwnProperty(d))return!1;return!0}return!1}function k(a,b){var d=0<c.trim(b||"").length;d&&(a.attrs("header",b),a.attrs("popoverLabel",b));a.attrs("hideHeader",!d)}function h(a,b,f,e){return function(h){h.preventDefault();d.whenSingleton(function(d){var h=d.modal,u=d.contentUnavailableText;d.setAttribution(f+":ad-feedback");d.setWidth(e);k(h,a);c.ajax(b,{method:"get",success:function(a){d.setContents(a||u);h.show()},error:function(){d.setContents(u);h.show()}})})}}
function u(d,e){var k=f.getFrame(d),u=k&&k.getAttribute(a.ATTRIBUTION_ATTR),q;if(u){e.adPlacementMetaData.feedbackType="loomSearch";try{q=JSON.stringify(e)}catch(n){g.log("Error serializing placementData for frameId "+d,"ERROR","s-ad-feedback-controller")}q&&c.ajax("/gp/aq-feedback/lazyLoad/handler/af-link-handler.html",{method:"get",params:{ie:"UTF-8",pl:q},success:function(c){if(b(c,w))if("ok"!==c.status)g.log("Ad Feedback API response had status \x3d\x3d\x3d "+c.status,"ERROR",u);else{var e=c.feedbackLinkText,
k=c.feedbackFormModalHeaderText,q=c.feedbackFormModalUrl,v=c.feedbackFormModalWidth;c=c.feedbackLinkAccessibilityText;e=p(document.createElement("a")).addClass("s-ad-feedback-link").text(e).attr("href","#");c&&e.attr("aria-hidden","false").attr("aria-label",c);e.click(h(k,q,u,v));k=f.getFrame(d);p(k).closest(a.FRAME_CONTAINER_SELECTOR).find(a.FRAME_FOOTER_SELECTOR).empty().append(e)}else g.log("Ad Feedback API response was invalid.","ERROR",u)},error:function(a,b,d){g.log("Error during Ad Feedback API request; status: "+
b+", err: "+d,"ERROR",u)},abort:function(){g.log("Ad Feedback API request was aborted.","WARN",u)}})}else g.log("No attribution string present for frameId "+d+" with placementData "+JSON.stringify(e),"FATAL","s-ad-feedback-controller")}function n(a,d){d=d.data;b(d,r)&&u(a,d)}function q(b,d){(d=p(d).closest(a.FRAME_CONTAINER_SELECTOR).find(a.FRAME_FOOTER_SELECTOR).data("eventData"))&&n(b,d)}var p=c.$,r=["adPlacementMetaData","adCreativeMetaData"],w=["status","feedbackFormModalUrl","feedbackFormModalHeaderText",
"feedbackFormModalWidth","feedbackLinkText"];c.on(a.EVENTS.SHOW_FOOTER,n);f.eachFrame(q);return{generateLinkIfFooterVisible:q}});"use strict";g.when("A","s-simple-queue","s-web-application-controller").register("s-delayed-queue-controller",function(c,e,a){function f(a){h.add(a)}function d(){h.start()}function b(){h.pause()}var k=c.$(m),h=new e;return a.attachController("s-delayed-queue",function(e){e.on(a.ACTIONS.LOAD_SEARCH_PAGE_STARTING,b);e.on(a.ACTIONS.LOAD_SEARCH_PAGE,b);c.on("afterLoad",d);
e.on(a.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,d);k.bind("beforeunload",d);return{add:f,start:d,pause:b}})});g.when("A","R","s-web-application-controller","s-navbar-proxy","rush-util").register("s-navbar-controller",function(c,e,a,f,d){function b(b){var e=c.trim(f.getUrl()||"");d.isBlank(e)||(e=a.SEARCH_PATH+"?"+e,m.location=e,b.preventDefault())}function k(){var b=a.getCurrentKeywords();f.setKeywords(b)}return a.attachController("s-navbar-controller",function(d){f.onSubmit(b);d.on(a.ACTIONS.LOAD_SEARCH_PAGE_STARTING,
k);k()})});"use strict";g.when("s-web-application-controller","s-url-parameters","s-progressive-scroll-request-param").register("s-progressive-scroll-controller",function(c,e,a){function f(d){d=e.parseQueryString(d&&d.paramString||"")||{};parseInt(d[c.PARAMS.PROGRESSIVE_SCROLL],10)===a.VALID_PROGRESSIVE_SCROLL_REQUEST?a.incrementCount():a.resetCount()}return c.attachController("s-progressive-scroll-controller",function(a){a.on(c.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,f)})});"use strict";g.when("A","amzn-safe-frame-host",
"s-web-application-controller").register("s-safe-frame-controller",function(c,e,a){return a.attachController("s-safe-frame-controller",function(f){f.on(a.ACTIONS.LOAD_SEARCH_PAGE,function(){e.initSafeFrameHost()});f.on(a.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){e.broadcastEvent("cf",{});e.broadcastEvent("atf",{});e.broadcastEvent("load",{})});g.when("cf").execute("s-safe-frame-controller-cf",function(){e.broadcastEvent("cf",{})});g.when("af").execute("s-safe-frame-controller-atf",function(){e.broadcastEvent("atf",
{})});c.on.load(function(){e.broadcastEvent("cf",{});e.broadcastEvent("atf",{});e.broadcastEvent("load",{})})})});"use strict";g.when("A","s-web-application-controller","s-asin-actions","s-status-badge-actions","s-search-scope-utils").register("s-add-to-cart-controller",function(c,e,a,f,d){function b(a){c.post("/gp/api/cart/1.0/get-cart-count.json",{timeout:5E3,params:{sessionID:a,clientName:"Search"},success:function(b){b&&b.isOK&&b.total?(m.$Nav&&m.$Nav.when("api.setCartCount").run(function(a){a(b.total.numActiveItem)}),
g.when("mash").execute("s-add-to-cart-mash-update",function(a){a.cart&&h(a.cart.didUpdate)&&a.cart.didUpdate({newCartQuantity:b.total.numActiveItem})})):g.log("Malformed get-cart-count response for sessionId\x3d"+a,"ERROR","s-add-to-cart-controller")},error:function(){g.log("Failed to retrieve get-cart-count response for sessionId\x3d"+a,"ERROR","s-add-to-cart-controller")}})}var k={ADD_TO_CART_SUBMIT_START:"s-add-to-cart-controller:submit-start",ADD_TO_CART_SUBMIT_SUCCESS:"s-add-to-cart-controller:submit-success",
ADD_TO_CART_SUBMIT_ERROR:"s-add-to-cart-controller:submit-error"},h=c.$.isFunction;return e.attachController("s-add-to-cart-controller",function(e){function h(a){a&&c.post(a)}var q=!1,p=null;c.declarative("s-add-to-cart-controller:make-request","click",function(r){var w,l={},v=r&&r.data||{},t=v.cartType;r=r||{};r.$event&&r.$event.preventDefault();q||((w=r.$target&&r.$target.closest(".s-atc-form"))&&0!==w.length?(c.each(w.serializeArray(),function(a){l[a.name]=a.value}),p=v.key,q=!0,e.trigger(k.ADD_TO_CART_SUBMIT_START,
{submitterUuid:p,asin:"PANTRY"===t?l.a:l.ASIN,form:w}),l.quantity=parseInt(l.quantity,10)||1,l.nextPage="cartitems",v.ajaxUrl&&c.ajax(v.ajaxUrl,{method:"post",params:l,dataType:"json",cache:!1,success:function(r){var g=0,A="PANTRY"===t?l.a:l.ASIN,m=!1;r.items!==y&&c.each(r.items,function(a){a.ASIN===A&&(g+=parseInt(a.quantity,10),m=!0)});g=0!==g?g:l.quantity;q=!1;e.trigger(k.ADD_TO_CART_SUBMIT_SUCCESS,{submitterUuid:p,asin:A,form:w});e.trigger(a.UPDATE_CART,{asin:A,quantity:g,isTotal:m});"PANTRY"===
t&&l.alias&&l.category&&l.placeholder&&d.setSearchScope(l.alias,l.category,l.placeholder,"");f.triggers.hideAllExceptType(A,"in-cart");p=null;"PANTRY"===t&&e.trigger(a.COUPON_APPLIED,{asin:A});b(v.sessionId);h(v.spUrl);c.trigger("s-add-to-cart-button-component:add-to-cart-success",r)},error:function(){q=!1;p=null;e.trigger(k.ADD_TO_CART_SUBMIT_ERROR);w.submit()}})):g.log("Missing $form object","ERROR","s-add-to-cart-controller"))});return{ACTIONS:k,isSubmitting:function(){return q},isCurrentAtc:function(a){return a===
p}}})});"use strict";g.when("A","nav.updateSearchDropdown","s-web-application-controller").register("s-dropdown-controller",function(c,e,a){var f=["/gp/navigation/ajax/generic.html?ajaxTemplate\x3dsearchDropdown\x26pageType\x3dSearch"];return a.attachController("s-dropdown-controller",function(d){d.on(a.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){var b,c;if(b=a.getSearchMetadata())b.rescopeNode&&f.push("node\x3d"+b.rescopeNode),b.merchantId&&f.push("merchantId\x3d"+b.merchantId),b.rid&&f.push("rid\x3d"+
b.rid),c=f.join("\x26"),d.ajax(c,{method:"get",success:function(a){e(a)},error:function(a,b,f){d.log.fatal(Error(f),"Ajax to nav endpoint failed: "+b+" - "+c)}})})})});"use strict";g.when("jQuery","R","ready").register("s-filters-controller",function(c,e){c(document).delegate(".s-navigation-checkbox","click",function(a){var f=c(a.currentTarget).closest("a").attr("href");f&&"#"!==f&&(a.preventDefault(),e.to({url:f}))})});"use strict";g.when("A","s-web-application-controller","s-asin-actions","s-visibility-toggle-actions",
"quantity-slider-widget").register("s-quantity-slider-controller",function(c,e,a,f,d){return e.attachController("s-quantity-slider-controller",function(b){function e(d){var c=d.asin,k=d.cartType,q=d.request||{};d=d.response||{};b.trigger(a.UPDATE_CART,{asin:c,quantity:d.quantity,isTotal:d.isTotal});f.triggers.toggleLowStockMessage(c,{quantity:d.quantity,maxOrderQuantity:q.maxOrderQuantity});f.triggers.toggleQuantityLimitMessage(c,{quantity:d.quantity,maxOrderQuantity:q.maxOrderQuantity});"PANTRY"===
k&&b.trigger(a.COUPON_APPLIED,{asin:c})}d.setAttribution("s-quantity-slider-controller");c.on(d.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){e(a);a.request&&a.request.$form&&b.trigger("s-add-to-cart-controller:submit-success",{asin:a.asin,form:a.request.$form});c.trigger("s-add-to-cart-button-component:add-to-cart-success",{asin:a.asin,quantity:a.response&&a.response.quantity,cartType:a.cartType})});c.on(d.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,function(a){e(a)})})});"use strict";g.when("R","s-web-application-controller",
"rush-util","rush-router-url-parser").register("s-redirect-controller",function(c,e,a,f){return e.attachController("s-redirect-controller",function(d){d.on(e.ACTIONS.REDIRECT_READY,function(b){b=b&&b.item&&b.item.redirectUrl;a.isBlank(b)?d.log.fatal(Error("page redirects must always have a URL")):(b=f.parse(b).href,m.history.replaceState(m.history.state||{},document.title,b),m.location.reload(!0))})})});"use strict";g.when("jQuery","s-web-application-controller").register("s-scroll-controller",function(c,
e){function a(a){(a&&a.data||{}).isProgressiveScroll||c("html,body").scrollTop(-100)}return e.attachController("s-scroll-controller",function(c){c.on(e.ACTIONS.LOAD_SEARCH_PAGE,a)})});g.when("jQuery","s-web-application-controller").register("s-title-and-meta-controller",function(c,e){var a;return e.attachController("s-title-and-meta-controller",function(f){function d(a,b,d){var f=d.find('meta[name\x3d"'+b+'"]');k(a[b])?f.length?f.attr("content",a[b]):d.append(c("\x3cmeta\x3e").attr({name:b,content:a[b]})):
f.remove()}function b(a,b,d){var f=d.find('link[rel\x3d"'+b+'"]');k(a[b])?f.length?f.attr("href",a[b]):d.append(c("\x3clink\x3e").attr({rel:b,href:a[b]})):f.remove()}var k=f.util.isNotBlank;a={title:function(a,b){document.title=a[b]||""},description:d,keywords:d,canonical:b,prev:b,next:b,noindex:function(a,b,d){var c=d.find('meta[name\x3d"robots"]');!0===a[b]?c.length?c.attr("content","noindex"):d.append('\x3cmeta name\x3d"robots" content\x3d"noindex"\x3e'):c.remove()}};f.on(e.ACTIONS.TITLE_AND_META_READY,
function(b){var d=b&&b.item,f=c("head");d&&c.each(a,function(a,b){b(d,a,f)})})})});g.when("jQuery","rush-framework","s-web-application-controller").register("s-ads-metrics",function(c,e,a){var f=m.ue&&m.ue.count||c.noop,d;d=function(){var b={},d=(a.getSearchMetadata()||{}).rid;d&&(b.scope=d);return b}();e.registerComponent("s-ads-metrics","s-ads-metrics",function(a){var e=c(a.elem());a=m.ue;e=e.find("[class*\x3d'top-slot_hsa']").length?"SponsoredBrandsTopSlotContent":e.find("[class*\x3d'brand-footer-slot_hsa']").length?
"SponsoredBrandsFooterSlotContent":e.find("[class*\x3d'skyscraper_adPlacements']").length?"DisplayAdsSkyscraperSlotContent":e.find("[class*\x3d'footer-slot_adPlacements']").length?"DisplayAdsFooterSlotContent":"UnknownAdsContent";a&&a.tag&&a.tag(e);f(e,(f(e,y,d)||0)+1,d)})});"use strict";g.when("A","rush-framework","a-modal").register("s-black-curtain",function(c,e,a){e.registerComponent("s-black-curtain","s-black-curtain",function(f){f=f.elem();f=c.$(f);var d=f.find(".s-black-curtain-modal-content");
f.removeClass("aok-hidden");a.get(d).show();f.addClass("aok-hidden")})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-bottom-slot",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-bottom-slot","s-bottom-slot",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));d.on(f.BOTTOM_SLOT_READY,a.append(d));e.recordInitializedSlotComponent("s-bottom-slot")})});g.when("jQuery","rush-framework","s-web-application-controller","s-component-utils").register("s-brand-footer-slot",
function(c,e,a,f){function d(){var b={},d=(a.getSearchMetadata()||{}).rid;d&&(b.scope=d);return b}var b=a.ACTIONS,k=m.ue&&m.ue.count||function(){};e.registerComponent("s-brand-footer-slot","s-brand-footer-slot",function(e){var u=f.remove(e,{selector:".s-brand-footer-container"}),g=f.append(e,{selector:".s-brand-footer-container"}),q=c(e.elem());e.on(b.LOAD_SEARCH_PAGE,function(){u();q.find(".s-brand-footer-container").addClass("aok-hidden")});e.on(b.BRAND_FOOTER_SLOT_READY,function(a){g(a);q.find(".s-brand-footer-container").removeClass("aok-hidden")});
e.on(b.LOAD_SEARCH_PAGE_COMPLETE,function(){k("BrandFooterSlotHasContent",q.children().length?1:0,d())});k("BrandFooterSlotHasContent",e.elem().children.length?1:0,d());a.recordInitializedSlotComponent("s-brand-footer-slot")})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-corrected-search-results",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-corrected-search-results","s-corrected-search-results",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));
d.on(f.CORRECTED_SEARCH_RESULTS_READY,a.append(d));e.recordInitializedSlotComponent("s-corrected-search-results")})});"use strict";g.when("A","rush-framework","s-asin-actions").register("s-coupon-component",function(c,e,a){e.registerComponent("s-coupon-component","s-coupon-component",function(e){var d=e.prop("asin"),b=c.$(e.elem());e.on(a.COUPON_APPLIED,function(a){a.asin===d&&(b.find(".s-coupon-unclipped").addClass("aok-hidden"),b.find(".s-coupon-clipped").removeClass("aok-hidden"))})})});g.when("rush-framework",
"s-web-application-controller","s-component-utils").register("s-feedback-slot",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-feedback-slot","s-feedback-slot",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));d.on(f.FEEDBACK_SLOT_READY,a.append(d));e.recordInitializedSlotComponent("s-feedback-slot")})});g.when("rush-framework","s-web-application-controller","s-component-utils","jQuery").register("s-filters-panel-view",function(c,e,a,f){var d=e.ACTIONS,b=!1;g.now("s-ajax-customer-action-flagging-enabled").execute(function(a){b=
a});c.registerComponent("s-filters-panel-view","s-filters-panel-view",function(c){var e=a.remove(c);c.on(d.LOAD_SEARCH_PAGE,function(a){b&&a&&!0===a.isPagination?f(c.elem()).children().not(":first").remove():e()});c.on(d.FILTERS_PANEL_VIEW_READY,a.append(c))})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-fkmr",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-fkmr","s-fkmr",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));d.on(f.FKMR_READY,a.append(d));
e.recordInitializedSlotComponent("s-fkmr")})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-footer-slot",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-footer-slot","s-footer-slot",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));d.on(f.FOOTER_SLOT_READY,a.append(d));e.recordInitializedSlotComponent("s-footer-slot")})});"use strict";g.when("A","fresh-add-to-cart","s-asin-actions","s-status-badge-actions","s-search-scope-utils","rush-util","rush-dispatcher").register("s-fresh-add-to-cart-component",
function(c,e,a,f,d,b,k){function h(a){b.isNotBlank(a)&&(a=n('.s-result-item[data-asin\x3d"'+a+'"]'),a.find(".s-coupon-unclipped").addClass("aok-hidden"),a.find(".s-coupon-clipped").removeClass("aok-hidden"))}function u(d,c){var e;c=parseInt(c,10);b.isNotBlank(d)&&b.isNumber(c)&&(k.trigger(a.UPDATE_CART,{asin:d,quantity:c,isTotal:!0}),e=n('.s-result-item[data-asin\x3d"'+d+'"]'),e=e.find(".s-in-cart-badge-position"),0<c?(e.removeClass("aok-hidden"),f.triggers.hideAllExceptType(d,"in-cart")):e.addClass("aok-hidden"))}
var n=c.$;g.when("ewc.app").execute("s-fresh-ewc-component",function(a){a.on("ewc:cartUpdate:success",function(a){!a.action||"local-market-delete"!==a.action.name&&"fresh-delete"!==a.action.name||u(a.action.asin,0)})});e.addToFreshCart({success:function(a,b){try{b&&b.isOK&&(n.each(b.items,function(a,b){u(b.ASIN,b.quantity)}),"CLIP_SUCCESSFUL"!==b.couponClipStatus&&"ALREADY_CLIPPED"!==b.couponClipStatus||h(a.$target.closest(".s-result-item").data().asin),a.data&&a.data.alias&&a.data.category&&a.data.placeholder&&
d.setSearchScope(a.data.alias,a.data.category,a.data.placeholder,"UFG"),a.data&&a.data.loggingUrl&&c.post(a.data.loggingUrl))}catch(e){g.logError(e,"Error caught in freshATC.addToFreshCart success handler.","ERROR","s-fresh-add-to-cart-component")}},error:function(){g.log("Error reported by freshATC.addToFreshCart error handler.","WARN","s-fresh-add-to-cart-component")}})});g.when("A","jQuery","rush-framework","amzn-safe-frame-viewability","s-add-to-cart-controller","s-hidden-content-actions","s-web-application-controller",
"s-actions").register("s-hidden-content",function(c,e,a,f,d,b,k,h){var u=d.ACTIONS,g=f.geom;a.registerComponent("s-hidden-content","s-hidden-content",function(a){function d(a){var b;c.show(a);b=a.offset().top;c.hide(a);return b}function f(a){var b;c.show(a);b=a.height();c.hide(a);return b}function w(a){var b;a.removeClass("aok-hidden");b=a.get(0);b=g(b);b=100*(b&&b.self&&b.self.iv||0)>=H;a.addClass("aok-hidden");return b}function l(){P=!0}function v(){var c=d(D),f=H/100;D.find(".s-related-products-replace").length||
(P?b.triggers.hide(B,E,M):(b.triggers.markShown(B),w(D)?b.triggers.showFirst(E,K):e("html, body").animate({scrollTop:c-y*f},M,function(){e("html, body").stop();b.triggers.showFirst(E,K)}),D.find(".hidden-divider").first().prependTo(D.parents(".s-hidden-content-wrapper").first()),a.trigger(L,{showingUuid:E})))}function t(a){a.showingUuid!==E&&J&&c.fadeOut(D,a.time,"ease-out",function(){D.addClass("aok-hidden");J=!1;b.triggers.show(B,a.showingUuid,a.time)})}function x(a){a.showingUuid===E&&c.slideDown(D,
a.time,"ease-out")}function m(a){a.showingUuid===E&&0===D.find(".s-related-products-replace").length&&c.fadeIn(D,K,"ease-out",function(){D.removeClass("aok-hidden");J=!0})}function A(a){if(a&&a.item&&a.item.asin&&a.item.html){var b=".s-related-products-replace-"+a.item.asin,d=D.find(b).first();d.removeClass(b);d.html(a.item.html);d.removeClass("s-related-products-replace");d.addClass("s-related-products-loaded");v()}}function C(a){a.showingUuid!==E&&D.find(".hidden-divider").first().remove()}var I=
e(a.elem()),D=I.find(".s-revealable-content"),B=a.prop("widget"),U="#"+B,E=a.prop("uuid"),F=a.prop("event"),L=B+":remove-dividers",J=!1,P=!1,y,M=parseInt(a.prop("anime-time-fast"),10),K=parseInt(a.prop("anime-time-slow"),10),H=parseInt(a.prop("percent-to-scroll"),10);(function(){return a.util.isBlank(F)?(a.log.error(Error("Missing required component property: event")),!1):a.util.isBlank(B)?(a.log.error(Error("Missing required component property: widget")),!1):a.util.isBlank(E)?(a.log.error(Error("Missing required component property: uuid")),
!1):!0})()&&function(){y=f(D);a.util.isNumber(M)||(M=600);a.util.isNumber(K)||(K=1200);a.util.isNumber(H)||(H=25);a.on(b.listeners.markShown(B),l);a.on(b.listeners.slideAndFade(E),x);a.on(b.listeners.slideAndFade(E),m);a.on(b.listeners.fade(B),m);a.on(b.listeners.hide(B),t);a.on(L,C);if("submit"===F)a.on(u.ADD_TO_CART_SUBMIT_SUCCESS,function(b){b.asin!==a.prop("asin")||!b.form.parents(U).length||J||I.parents(".s-hidden-content-wrapper").first().has(b.form).length||v()});a.on(h.RESULT_ITEM_READY+":"+
E,A);if("submit"===F)a.on(u.ADD_TO_CART_SUBMIT_START,function(b){b.asin!==a.prop("asin")||!b.form.parents(U).length||J||I.parents(".s-hidden-content-wrapper").first().has(b.form).length||(b=D.find(".s-hidden-content-carousel").first().attr("data-related-ajaxUrl"))&&D.find(".s-related-products-replace").length&&!D.find(".s-related-products-loaded").length&&k.requestPartialContent(b,{suffix:":"+E})})}()})});"use strict";g.when("A","3p-promise","rush-framework","amzn-safe-frame-viewability","s-delayed-queue-controller",
"s-url-parameters","s-web-application-controller").register("s-impression-logger",function(c,e,a,f,d,b,k){function h(a){d.add(function(){c.ajax(a,{method:"get"})})}function u(a,b){this.endpoint=a;this.flushCallback=b;this.items=[];this.timeout=null}function g(){var a=this;this.batches={};c.$(m).bind("beforeunload",function(){c.each(a.batches,function(a){a.flush()})})}var q={leading:!1},p=f.geom,r;u.prototype.add=function(a){var d=this;this.items.push({url:a,params:b.parseQueryString(a)});15<=this.items.length&&
this.flush();this.timeout||(this.timeout=setTimeout(function(){d.flush()},250))};u.prototype.flush=function(){1===this.items.length?h(this.items[0].url):h(this.endpoint+"?params\x3d"+JSON.stringify(c.map(this.items,function(a){return a.params})));clearTimeout(this.timeout);this.timeout=null;this.flushCallback()};g.prototype.log=function(a,b){var d=this,c;b?(c=a.split("?")[0],this.batches[c]||(this.batches[c]=new u(c,function(){delete d.batches[c]})),this.batches[c].add(a)):h(a)};r=new g;a.registerComponent("s-impression-logger",
"s-impression-logger",function(a){function b(){c.off("afterReady",B);c.off("scroll",B);c.off("resize",B);c.off("orientationchange",B);c.each(m,function(a){a&&a()})}function d(){n||b()}var e=a.elem(),f=a.prop("url"),h=a.prop("batchable")||!1,g=a.prop("requiredElementSelector"),u=parseInt(a.prop("percentageShownToFire"),10)||0,n=!1,m=[],B;if(f)return B=c.throttle(function(){var a;if(a=!n)a=p(e),a=100*(a&&a.self&&a.self.iv||0)>=u;a&&(g?(a=c.$(e).find(g),a=0===a.length?!1:!a.is(":hidden")):a=!0);a&&(n=
!0,r.log(f,h),d())},250,q),c.on("afterReady",B),c.on("scroll",B),c.on("resize",B),c.on("orientationchange",B),m.push(a.on(k.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,B)),{teardown:d}})});"use strict";g.when("A","rush-framework","rush-util","s-asin-actions").register("s-in-cart-badge-component",function(c,e,a,f){function d(a){a=parseInt(a,10);return isNaN(a)?0:a}e.registerComponent("s-in-cart-badge-component","s-in-cart-badge-component",function(b){var e=b.prop("messageTemplate"),h=b.prop("quantityPlaceholder"),
g=c.$(b.elem()),n=b.prop("asin"),q=!0,p=d(b.prop("quantity"));if(a.isBlank(e)||a.isBlank(h))b.log.warn("In Cart Badge component missing data properties for either messageTemplate and/or quantityPlaceholder."),q=!1;b.on(f.UPDATE_CART,function(a){var c,l,v;a&&n===a.asin&&!0===q&&(v=d(a.quantity),!0!==a.isTotal&&0===v?b.log.warn(Error("Invalid In Cart Badge payload quantity.")):(c=g.find(".s-in-cart-badge-position"),l=c.find(".a-badge-text"),p=!0===a.isTotal?v:p+v,l.text(e.replace(h,p)),c.removeClass("aok-hidden"),
g.trigger(f.IN_CART_BADGE_SHOWN)))})})});g.when("A").register("s-layout-helper",function(c){function e(a){return c.reduce(a,function(a,d){return Math.max(d.offsetTop,a)},0)}function a(a,b){var k=[];c.each(a,function(a){a=f(a).find(b).get();var d=e(a);c.each(a,function(a){var b={};b.item=a;b.height=d-a.offsetTop;k.push(b)})});return k}var f=c.$;return{normalizeHeights:function(d,b){d=a(d,b);c.each(d,function(a){a.item.style.paddingTop=a.height+"px"})},normalizeHeightsWithMargin:function(d,b){d=a(d,
b);c.each(d,function(a){a.item.style.marginTop=a.height+"px"})},groupElementsByTopValue:function(a){return c.reduce(a,function(a,d){var c=d.offsetTop;a[c]=(a[c]||[]).concat(d);return a},{})}}});g.when("A","rush-framework","s-web-application-controller","s-component-utils","amzn-safe-frame-viewability").register("s-pagination",function(c,e,a,f,d){function b(a){g.when("s-device-context","mash").execute("s-mash-guard",function(b,d){b.APP&&a(d)})}var k=c.$,h=a.ACTIONS;e.registerComponent("s-pagination",
"s-pagination",function(e){function g(){var b={},d=(a.getSearchMetadata()||{}).rid;d&&(b.scope=d);return b}function q(){var a;v&&!t&&(a=(new Date).getTime()-v,x("NextButtonClicked",a,g()),t=!0)}function p(){var b;if(b=!v)b=d.geom(l[0]),b=0<(b&&b.self&&b.self.iv||0);b&&(v=(new Date).getTime(),x("NextButtonVisible",1,g()),b=l.find("li:last-child a"),1===b.length&&a.prefetchAtf(b[0].search))}function r(){l&&(l.undelegate(".a-pagination \x3e .a-selected + li \x3e a","click",q),l.undelegate(".a-pagination \x3e li:last-child a",
"click",q));l=k(".a-pagination");l.delegate(".a-pagination \x3e .a-selected + li \x3e a","click",q);l.delegate(".a-pagination \x3e li:last-child a","click",q);v=0;t=!1;p()}var w=k(e.elem()),l,v,t=!1,x=m.ue&&m.ue.count||function(){};r();c.on(c.constants.BROWSER_EVENTS.SCROLL,p);e.on(h.LOAD_SEARCH_PAGE,f.remove(e),{hide:!0});e.on(h.PAGINATION_LINK_COMPLETE,f.replace(e));e.on(h.LOAD_SEARCH_PAGE_COMPLETE,r);b(function(a){w.delegate(".a-pagination \x3e li:first-child a","click",function(b){k.isFunction(a.goBack)&&
(b.stopPropagation(),b.preventDefault(),a.goBack())})});a.recordInitializedSlotComponent("s-pagination")})});"use strict";g.when("A","rush-framework","s-add-to-cart-controller","a-button").register("s-add-to-cart-button-component",function(c,e,a,f){var d=a.ACTIONS;e.registerComponent("s-add-to-cart-button-component","s-add-to-cart-button-component",function(b){var e=b.prop("uuid"),h=c.$(b.elem()),g=f(h.find(".s-atc-button")),n=h.find(".s-atc-spinner");b.on(d.ADD_TO_CART_SUBMIT_START,function(){a.isCurrentAtc(e)&&
(n.removeClass("aok-hidden"),g.disable())});b.on(d.ADD_TO_CART_SUBMIT_SUCCESS,function(){g.enable();n.addClass("aok-hidden")});b.on(d.ADD_TO_CART_SUBMIT_ERROR,function(){g.enable();n.addClass("aok-hidden")});a.isCurrentAtc(e)&&(n.removeClass("aok-hidden"),g.disable())})});"use strict";g.when("A","rush-framework","dynamic-image-loader").register("s-product-image",function(c,e,a){var f=c.$;e.registerComponent("s-product-image","s-product-image",function(d){var b=a.loadChildren([d.elem()]);d.teardown=
function(){b&&f.isFunction(b.close)&&b.close()}})});g.when("A","rush-framework","s-web-application-controller","s-component-utils").register("s-progressive-scroll",function(c,e,a,f){var d=a.ACTIONS;e.registerComponent("s-progressive-scroll","s-progressive-scroll",function(a){a.on(d.LOAD_SEARCH_PAGE,f.remove(a))})});g.when("rush-framework").register("s-remove-on-init",function(c){c.registerComponent("s-remove-on-init","s-remove-on-init",function(c){c.remove(c.elem())})});g.when("A","rush-framework",
"s-web-application-controller","s-device-context").register("s-result-info-bar",function(c,e,a,f){var d=c.$,b=a.ACTIONS,k={leading:!1};e.registerComponent("s-result-info-bar","s-result-info-bar",function(a){function e(){var a=r.find(".s-mobile-toolbar");f.APP&&(p=a,w=p.outerHeight())}var g=a.elem(),q=d(g),p,r,w=0,l=!1,v=0,t="up",x=0,m;m=c.throttle(function(){var a=d(document).scrollTop();a>v&&"down"!==t?(x=a,t="down"):a<v&&"up"!==t&&(x=a,t="up");a<w?l&&(p.removeClass("s-mobile-toolbar-offscreen"),
l=!1):5<Math.abs(a-x)&&("up"===t?l&&(p.removeClass("s-mobile-toolbar-offscreen"),l=!1):l||(p.addClass("s-mobile-toolbar-offscreen"),l=!0));v=a},50,k);a.teardown=function(){c.off(c.constants.BROWSER_EVENTS.SCROLL,m)};a.on(b.RESULT_INFO_BAR_READY,function(b){(b=b&&b.item&&b.item.html)?a.replaceInnerHTML(g,b):a.removeChildren(g);b=q.find(".s-mobile-toolbar");f.APP&&(p=b,w=p.outerHeight())});f.APP&&(p=q.find(".s-mobile-toolbar"),p.length||(a.on(b.LOAD_SEARCH_PAGE_COMPLETE,e),r=q.siblings("[data-component-type\x3d's-search-results']"),
p=r.find(".s-mobile-toolbar")),w=p.outerHeight(),c.on(c.constants.BROWSER_EVENTS.SCROLL,m))})});"use strict";g.when("A","R","rush-logger").register("s-result-sort",function(c,e,a){c.on("a:dropdown:s-result-sort-select:select",function(c){var d=c.nativeItemNode;(d=d&&d.getAttribute("data-url"))?e.to({url:d}):a.error(Error("Could not find sort URL in option with value: "+(c&&c.value)),"Could not find sort URL in option with value: "+(c&&c.value),"s-result-sort")})});"use strict";g.when("A","a-modal",
"rush-framework","amzn-safe-frame-manager","amzn-safe-frame-host","amzn-safe-frame-constants").register("s-safe-modal",function(c,e,a,f,d,b){var k=b.EVENTS,h={},u={};a.registerComponent("s-safe-modal","s-safe-modal",function(a){function q(a){a?(c.show(B),c.hide(y)):(c.hide(B),c.show(y))}function p(a){a=D.replace(m,a);C.setAttribute(b.DATA_SRCDOC_ATTR_NAME,a);d.reloadFrame(C);w?d.enableAutoResize(C):d.disableAutoResize(C);q(!1)}function r(a){(w=!1!==a)?d.enableAutoResize(C):d.disableAutoResize(C)}
var w=!0,l=a.prop("frameId"),v=c.$(a.elem()),t=document.createElement("div"),x=a.prop("popoverName"),m=a.prop("html"),A=a.prop("contentUnavailableText"),C=f.getFrame(l),I=v.find(b.FRAME_CONTAINER_SELECTOR),D=C.getAttribute(b.DATA_SRCDOC_ATTR_NAME),B=v.find(".s-safe-modal-spinner"),y=v.find(".s-safe-modal-content"),E=e.create(t,{name:x,header:"\x26nbsp;",popoverLabel:x,hideHeader:!1,dataStrategy:"preload"}),F=c.throttle(function(){E.isActive()&&E.updatePosition()},250);a={frameId:l,frame:C,popoverName:x,
triggerElem:t,modal:E,setUrl:function(a){q(!0);F();c.ajax(a,{method:"get",success:function(a){p(a||A)},error:function(){p(A)}})},setContents:p,setWidth:function(a){if(a=parseInt(a,10))f.setFrameWidth(l,a),c.trigger(b.EVENTS.SET_WIDTH,l,{value:a})},setAttribution:function(a){C.setAttribute(b.ATTRIBUTION_ATTR,a)},setAutoResize:r,contentUnavailableText:A};c.$(C).load(function(){w?d.enableAutoResize(C):(d.disableAutoResize(C),F())});c.on("a:popover:afterHide:"+x,c.debounce(function(){p("");r(!0);E.attrs("header",
"\x26nbsp;");q(!0);d.disableAutoResize(C)},500,!0));c.on(k.SET_HEIGHT,function(a,b){b.value&&l===a&&F()});c.on(k.SET_WIDTH,function(a,b){(b=b.value)&&l===a&&(I.width(b),F())});c.on(k.COLLAPSE,function(a){l===a&&(E.hide(),c.show(I))});h[x]=a;u[l]=a;"s-safe-modal-singleton"===x&&g.declare("s-safe-modal-singleton",a)});return{getByName:function(a){return h.hasOwnProperty(a)?h[a]:y},getByFrameId:function(a){return u.hasOwnProperty(a)?u[a]:y},whenSingleton:function(a){g.when("s-safe-modal-singleton").execute(a)}}});
"use strict";g.when("jQuery","rush-framework","s-component-utils","s-actions").register("s-search-result",function(c,e,a,f){e.registerComponent("s-search-result","s-search-result",function(d){var b=d.elem(),e=c(b),h=d.util.assert,g=d.util.isNotBlank,b=b.getAttribute("data-uuid"),n=e.find(".sg-col-inner"),q=a.replace(d,{children:!1,empty:!0});try{h(g(b),"must have a non-empty `data-uuid` attribute")}catch(p){d.log.error(p,"failed component setup validation");return}d.on(f.LOAD_SEARCH_PAGE+":"+b,function(){n.addClass("s-color-swatch-interactive");
e.wrapInner('\x3cdiv class\x3d"interactive-wrapper aok-relative"\x3e\x3c/div\x3e');e.find(".interactive-wrapper").prepend('\x3cdiv class\x3d"a-spinner-wrapper s-color-swatch-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e')});d.on(f.RESULT_ITEM_READY+":"+b,function(a){var b=a.item,d;var f=a.item.html,h=e.find(".s-height-equalized");0===h.length?d=f:(d=h.css("padding-top"),h=h.outerHeight(),f=c("\x3cdiv\x3e").html(f),f.find(".s-height-equalized").css("padding-top",
d).height(h),d=f.html());b.html=d;q(a)});d.on(f.LOAD_SEARCH_PAGE_COMPLETE+":"+b,function(){n.removeClass("s-color-swatch-interactive");e.find(".a-spinner-wrapper").remove();e.find(".interactive-wrapper").contents().unwrap()})})});g.when("jQuery","rush-framework","s-web-application-controller","rush-util").register("s-search-results",function(c,e,a,f){function d(a,b){if(!a)throw Error(b);}var b=a.ACTIONS;e.registerComponent("s-search-results","s-search-results",function(e){function h(){var a=m.ue,
b;a&&a.tag&&(b=p.find('\x3e.s-result-item[data-asin!\x3d""]').filter(function(){var a=c(this);return a.is(":hidden")||0===a.css("opacity")||"hidden"===a.css("visibility")}),a.tag(b.length?"search_results:hidden:true":"search_results:hidden:false"))}function g(){p.find("\x3e.s-result-item").each(function(a,b){e.remove(b)});l.addClass("aok-hidden")}function n(a,b){var d=!1,f=r;b&&(f=w);f.find("\x3e.s-result-item").each(function(b,f){b=Number(c(f).data("index"));b=isNaN(b)?99:b;if(a.index<b)return e.insertBefore(f,
a.html),d=!0,!1});!1===d&&(l.length&&!b?e.insertBefore(l[0],a.html):e.append(f[0],a.html));b||l.removeClass("aok-hidden")}var q,p,r,w,l;q=c(e.elem());p=q.is(".s-result-list")?q:q.find(".s-result-list");d(p.length,"Could not find the result list [selector\x3d.s-result-list].");w=p.filter(".s-main-slot");r=p.filter(":not(.s-main-slot)");l=p.find("\x3e.s-border-top-overlap");(function(){var a=m.ue,b;a&&a.tag&&(b=0<p.find("\x3e.s-result-item").filter('[data-asin\x3d""]').length,a.tag("hasInlineWidgets:"+
(b?"true":"false")))})();h();e.on(b.LOAD_SEARCH_PAGE,function(){g();q.find(".s-result-list-placeholder").removeClass("aok-hidden")});e.on(b.RESULT_ITEM_READY,function(a){d(f.isObject(a),"payload must be an object");var b=a.item;d(f.isObject(b),"item must be an object");d(f.isNotBlank(b.html),"item.html must be a non-empty string");d(f.isNumber(b.index),"item.index must be a number");n(a.item,"main-slot"===a.type)});e.on(b.LOAD_SEARCH_PAGE_COMPLETE,function(){q.find(".s-result-list-placeholder").addClass("aok-hidden");
h()});a.recordInitializedSlotComponent("s-search-results")})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-skyscraper-slot",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-skyscraper-slot","s-skyscraper-slot",function(d){d.on(f.LOAD_SEARCH_PAGE,a.remove(d));d.on(f.SKYSCRAPER_SLOT_READY,a.append(d));e.recordInitializedSlotComponent("s-skyscraper-slot")})});"use strict";g.when("A","rush-framework","rush-util","s-status-badge-actions").register("s-status-badge-component",
function(c,e,a,f){e.registerComponent("s-status-badge-component","s-status-badge-component",function(d){function b(a){a.check(d.prop("badgeType"))&&(a.show?e.removeClass("aok-hidden"):e.addClass("aok-hidden"))}var e=c.$(d.elem()),h=d.prop("asin");if(a.isNotBlank(h))d.on(f.listeners.toggleBadges(h),b)})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-top-banner",function(c,e,a){var f=e.ACTIONS;c.registerComponent("s-top-banner","s-top-banner",function(d){d.on(f.LOAD_SEARCH_PAGE,
a.remove(d));d.on(f.TOP_BANNER_READY,a.append(d));e.recordInitializedSlotComponent("s-top-banner")})});g.when("rush-framework","s-web-application-controller","s-component-utils").register("s-top-slot",function(c,e,a){function f(){var a={},b=(e.getSearchMetadata()||{}).rid;b&&(a.scope=b);return a}var d=e.ACTIONS,b=m.ue&&m.ue.count||function(){};c.registerComponent("s-top-slot","s-top-slot",function(c){c.on(d.LOAD_SEARCH_PAGE,a.remove(c));c.on(d.TOP_SLOT_READY,a.append(c));c.on(d.LOAD_SEARCH_PAGE_COMPLETE,
function(){b("TopSlotHasContent",c.elem().children.length?1:0,f())});b("TopSlotHasContent",c.elem().children.length?1:0,f());e.recordInitializedSlotComponent("s-top-slot")})});g.when("jQuery","rush-framework","a-truncate").register("s-truncate",function(c,e,a){e.registerComponent("s-truncate","s-truncate",function(e){e=e.elem();e=c(e);e=e.is(".a-truncate")?e:e.find(".a-truncate");e=a.get(e);e.getIsUpdated()||e.update()})});"use strict";g.when("A","rush-framework","rush-util","s-visibility-toggle-actions").register("s-visibility-toggle-component",
function(c,e,a,f){e.registerComponent("s-visibility-toggle-component","s-visibility-toggle-component",function(d){function b(a){a=f.shouldShowComponent(h,a,d);!0===a?g.find(".s-visibility-toggle-container").removeClass("aok-hidden"):!1===a&&g.find(".s-visibility-toggle-container").addClass("aok-hidden")}var e=d.prop("containerId"),h=d.prop("contentType"),g=c.$(d.elem());if(a.isNotBlank(e)&&a.isNotBlank(h))d.on(f.listener(h,e),b)})});g.when("A","R","rush-util","s-web-application-controller").execute(function(c,
e,a,f){function d(a){b(a)||e.to({url:a})}var b=a.isBlank;c.declarative("s-ajax-link","click",function(a){var c=a.$event,e=a.data;a=a.$target;if(!b(e.url)||!b(e.fallbackUrl))if(a=a.closest("[data-uuid]").attr("data-uuid"),c.stopPropagation(),c.preventDefault(),b(e.url)||b(a))d(e.fallbackUrl);else f.requestPartialContent(e.url,{suffix:":"+a,assetMismatch:e.assetMismatch,fallbackUrl:e.fallbackUrl})["catch"](function(){d(e.fallbackUrl)})})});"use strict";g.when("A","R").execute("s-mobile-link-declarative-action",
function(c,e){function a(a){e.to({url:a})}var f,d=["watch.amazon.","app.primevideo."],b=/[?&]ru=([^&]*)/,k=[["/detail","aiv://aiv/view"],["/watch","aiv://aiv/play"],["/home","aiv://aiv/home"]],h=!!navigator.platform.match(/iPhone|iPod|iPad/);f=a;g.when("mash","rush-logger").execute("s-mobile-link-mash-launchIntentURL",function(c,e){function g(a){c.openInExternalBrowser({url:a,failCallback:function(b){e.error(b,"MASH Open in external browser for "+a+" failed","s-mobile-link")}})}function p(a){var b=
new XMLHttpRequest;b.onreadystatechange=function(){};b.open("GET",a,!0);b.send()}function r(a){var d;if(!a.includes("/gp/video/ssoredirect"))return a;a.startsWith("http://")||a.startsWith("https://")?p(a):(d=m.location,p(d.protocol+"//"+d.host+"/"+a));return(d=b.exec(a))?decodeURIComponent(d[1]):a}function w(a){var b,c,e;for(c=0;c<d.length;c+=1)for(e=0;e<k.length;e+=1)b="https://"+d[c]+"[^/]+"+k[e][0],a=a.replace(new RegExp(b),k[e][1]);return a}f=function(b,d){var e;"true"===d?(b=e=r(b),h&&(b=w(b)),
c.launchIntentURL({url:b,failCallback:function(){g(e)}})):a(b)}});c.declarative("s-link","click",function(a){var b=a&&a.$event||{};a=a&&a.data;b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();a&&a.url&&f(a.url,a.isIntentURL)})});g.when("A","R","s-progressive-scroll-request-param").execute(function(c,e,a){c.declarative("s-progressive-scroll-link","click",function(c){var d=c.$event;e.to({url:a.toUrl(c.data.url),history:!1},{isProgressiveScroll:!0});d.preventDefault();d.stopPropagation()})});
"use strict";g.when("A","jQuery","ready").execute("s-filters-declarative-action",function(c,e){c.declarative("s-nav-ref-image-layout-hover","mouseenter mouseleave",function(a){var c=a&&a.data,d=e(":first-child",a&&a.$currentTarget),b=null,k=null;a=a||{};"mouseenter"===a.type?(b=c.hoverOffsetX,k=c.hoverOffsetY):"mouseleave"===a.type&&(b=c.offsetX,k=c.offsetY);null!==b&&d.css("background-position",[b,"px ",k,"px"].join(""))})});"use strict";g.when("A","s-safe-modal").register("s-safe-ajax-modal-declarative",
function(c,e){c.declarative("s-safe-ajax-modal-trigger","click",function(a){var c=a&&a.$event,d=a&&a.data&&a.data.ajaxUrl,b=a&&a.data&&a.data.header;c&&d&&(c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault(),e.whenSingleton(function(a){a.setAutoResize(!1);b&&a.modal.attrs("header",b);a.modal.show();a.setUrl(d)}))})});g.when("rush-util").register("s-max-widget-index-main-slot",function(c){var e=c.assert,a=c.isNumber,f=0;return{recordMax:function(d){d=parseInt(d,10);e(a(d),"`index` must be a number");
d>f&&(f=d)},getMax:function(){return f},reset:function(){f=0}}});"use strict";g.when("A","R","s-url-parameters","s-clean-url","GLUXWidget","s-glux-widget-refresh").register("s-glux-widget-refresh-page",function(c,e,a){function f(d){var b=a.parseQueryString(d),c=parseInt(a.getParamValue(b,"refresh"),10);c||(c=0);a.setParamValue(b,"ref","glow_cls");a.removeParamValue(b,"page");a.removeParamValue(b,"spIA");a.setParamValue(b,"refresh",c+1);return d.replace(/[?](.*)/i,"?"+a.paramsToString(b,!0))}c.on("packard:glow:destinationChangeAll",
function(){var a=f(m.location.href);e.to({url:a})});return{replaceUrl:f}});g.when("rush-router-url-parser","rush-util","s-web-application-controller","s-url-parameters","s-max-widget-index-main-slot").register("s-progressive-scroll-request-param",function(c,e,a,f,d){var b=1;return{VALID_PROGRESSIVE_SCROLL_REQUEST:1,toUrl:function(k){var h;e.assert(e.isNotBlank(k),"`url` can not be blank");h=f.parseQueryString(k);f.setParamValue(h,a.PARAMS.PROGRESSIVE_SCROLL,1);f.setParamValue(h,a.PARAMS.BASE_WIDGET_INDEX_MAIN_SLOT,
parseInt(d.getMax(),10)+1||0);f.setParamValue(h,a.PARAMS.PROGRESSIVE_SCROLL_REQ_COUNT,b);k=c.parse(k);k.search="?"+f.paramsToString(h);return c.toUrl(k)},incrementCount:function(){b++},resetCount:function(){b=1}}});g.when("s-search-metadata").register("s-ads-metrics-utils",function(c){var e=[[/top-slot_hsa/g,"SponsoredBrandsTopSlotContentV2"],[/brand-footer-slot_hsa/g,"SponsoredBrandsFooterSlotContentV2"],[/skyscraper_adPlacements/g,"DisplayAdsSkyscraperSlotContentV2"],[/footer-slot_adPlacements/g,
"DisplayAdsFooterSlotContentV2"]],a=m.ue&&m.ue.count||function(){},f;f=function(){var a={},b=(c.get()||{}).rid;b&&(a.scope=b);return a}();return{record:function(c){var b=0,k,h;if(c)for(;b<e.length;b++)if(k=e[b][0],h=e[b][1],k=c.match(k))m.ue&&m.ue.tag&&m.ue.tag(h),a(h,(a(h,y,f)||0)+k.length,f)}}});g.when("jQuery").register("s-component-utils",function(c){function e(a,c){return a.is(c)?a:a.find(c)}return{remove:function(a,f){f=f||{};f.hide=!!f.hide;f.selector=f.selector||"";return function(){var d=
a.elem(),b=c(d);f.selector&&(b=e(b,f.selector),d=b[0]);d&&(a.removeChildren(d),f.hide&&b.addClass("aok-hidden"))}},append:function(a,f){f=f||{};f.selector=f.selector||"";return function(d){d=d&&d.item&&d.item.html||"";var b=a.elem(),k=c(b);a.util.isNotBlank(d)&&(f.selector&&(k=e(k,f.selector),b=k[0]),b&&(a.append(b,d),k.removeClass("aok-hidden")))}},replace:function(a,f){f=c.extend(!0,{empty:!1,selector:"",children:!0},f);return function(d){d=d&&d.item&&d.item.html||"";var b=a.elem(),k=c(b);f.selector&&
(k=e(k,f.selector),b=k[0]);b&&(a.util.isNotBlank(d)?f.children?(a.replaceInnerHTML(b,d),k.removeClass("aok-hidden")):a.replace(b,d):f.empty&&(f.children?a.removeChildren(b):a.remove(b)))}}}});g.when("a-util","jQuery").register("s-csa-metrics-utils",function(c,e){function a(){}function f(){this._started=c.now()}function d(a,b){h("recordMetric",a,b)}function b(){return new f}function k(a,b,c){var e="unknown";"Request Timeout"===c?d(a+"timeout",1):(b.http&&b.http.status&&(e=b.http.status),d(a+e,1))}
var h;f.prototype.recordDuration=function(a){h("recordMetric",a,c.now()-this._started)};if(m.csa&&e.isFunction(m.csa)&&(h=m.csa("Metrics",{producerId:"searchcx_ajax"}),e.isFunction(h)))return{recordCounter:d,recordHttpError:k,startTimer:b};h=a;return{recordCounter:a,recordHttpError:a,startTimer:b}});g.register("s-tag-utils",function(){var c={};return{recordIfNewRequestID:function(e){m.ue&&m.ue.tag&&m.ue.id!==c[e]&&(m.ue.tag(e,e),m.uex&&m.uex("ld",e,{wb:1}));c[e]=m.ue&&m.ue.id}}});g.when("jQuery").register("s-viewport-utils",
function(c){return{inInitialViewport:function(e){var a,f,d;a=!1;var b=document.documentElement,k=document.body;f=m.scrollY||m.pageYOffset||b.scrollTop||k.scrollTop;d=m.scrollX||m.pageXOffset||b.scrollLeft||k.scrollLeft;var h=b.clientHeight,g=b.clientWidth,n=b.clientTop||k.clientTop||0,b=b.clientLeft||k.clientLeft||0;e=c(e);e[0].parentNode&&1<e.height()&&1<e.width()&&(a=e[0].getBoundingClientRect(),f=a.top+f-n,d=a.left+d-b,a=f<=h&&d<=g);return a}}});"use strict";g.when("rush-metrics-adapter","a-util").register("partial-ajax-metrics",
function(c,e){var a=0;return{beginResponse:function(e,d){e&&d&&c.setValue("ajax-clickToBodyStart","partial-ajax-metrics-"+a++,d-e)},endResponse:function(f){f&&c.setValue("ajax-clickToBodyEnd","partial-ajax-metrics-"+a++,e.now()-f)}}});"use strict";g.when("A").register("s-pinch-animation",function(c){function e(a,b,c){return a+(b-a)*c}function a(){"CLOSED"!==d&&q&&n&&(q.remove(),n.remove(),d="CLOSED");p=0}function f(a,b){var c=0,d=0,e,f;if(Math.hypot)return Math.hypot(a,b);for(e=0;e<arguments.length;e+=
1)f=Math.abs(Number(arguments[e])),f>c&&(d*=c/f*(c/f),c=f),d+=0===f&&0===c?0:f/c*(f/c);return c===1/0?1/0:c*Math.sqrt(d)}var d="CLOSED",b="INITIAL_STATE_NO_ZOOM",k=c.$,h,u,n,q,p=0;return{start:function(b,c){d="STARTED";try{h=b,0===k("#pinchToZoomContainer").length&&k("body").append('\x3cdiv id\x3d"pinchToZoomContainer" class\x3d"s-pinch-animation-container aok-hidden"\x3e \x3cspan style\x3d"float: right; margin-right: 10px"\x3e\x3c/span\x3e\x3c/div\x3e'),n=k("#pinchToZoomContainer"),0===k("#pinchToZoomOverlay").length&&
k("body").append('\x3cdiv id\x3d"pinchToZoomOverlay" class\x3d"s-pinch-animation-overlay aok-hidden"\x3e\x3c/div\x3e'),q=k("#pinchToZoomOverlay"),u=f(b.left-b.right,b.top-b.bottom),n.css({background:'url("'+c+'") center',display:"none",width:b.right-b.left+"px",height:b.bottom-b.top+"px",top:b.top+"px",left:b.left+"px",backgroundSize:"cover"})}catch(e){g.log(e.message,"ERROR","s-pinch-animation"),a()}},close:a,paint:function(c){var f=1;try{if("CLOSED"!==d&&(u&&(f=Math.min(c/u,1)),b=f>=p?"ZOOMING_IN":
"ZOOMING_OUT",.1<=f&&.01<=Math.abs(f-p))){c=f;var l,v;m.screen?(l=m.screen.width||k(m).width(),v=m.screen.height,n.css({width:e(h.right-h.left,l,c),height:e(h.bottom-h.top,v,c),top:e(h.top,0,c),left:e(h.left,0,c),display:"block"}),n.hasClass("aok-hidden")&&n.removeClass("aok-hidden"),q.hasClass("aok-hidden")&&q.removeClass("aok-hidden"),d="PAINTING"):a();p=f}}catch(t){g.log(t.message,"ERROR","s-pinch-animation"),a()}},isZoomingOut:function(){return"ZOOMING_OUT"===b}}});"use strict";g.when("A","a-secondary-view",
"s-pinch-responder-utils").register("s-pinch-lazy-load-helper",function(c,e,a){function f(a,b){return function(){try{return a.apply(null,b)}catch(c){g.log(c.message,"ERROR","s-pinch-lazy-load-helper")}}}function d(a,b){m.ue&&m.ue.count&&m.ue.count(a,b)}function b(a){a=Date.now()-a;d("pinch-to-zoom-lazy-load-image-loaded",1);0<a&&d("pinch-to-zoom-lazy-load-image-time",a)}function k(a){(!h&&u||n)&&a&&a.detail&&a.detail.options&&a.detail.options.popoverId&&(a=e.get(a.detail.options.popoverId),a.hide());
u=!0}var h=!1,u=!1,n=!0;return{setImageZoomed:function(a){h=a},setZoomInClosingVariables:function(){h=!0;n=u=!1},resetClosingVariables:function(){u=h=!1;n=!0},createAttributedCallback:f,onP2ZImageLoad:function(d,e,h,g,l){c.loadImageManually(d);d=h.find("img."+g);0<d.length&&(h=d[0],l=new a(h,{maxScale:1,popoverId:l},!0),h.pinchResponder||(l.addEventListener("pinchinend",k,!1),h.pinchResponder=l),l=d[0],l.onload=f(b,[e]))},onP2ZImageError:function(){d("pinch-to-zoom-lazy-load-image-error",1)}}});"use strict";
g.when("A","s-pinch-handler","rush-metrics-adapter").register("s-pinch-educational-gesture",function(c,e,a){var f=c.$;return function(d,b){function k(){var a;"ANIMATING"===p&&g&&g.length&&(a=g.parent(),g.remove(),a.contents().unwrap(),p="CLOSED")}function h(){k();p="HAS_PINCHED"}var g,n,q=0,p="CLOSED",r=f(d.elem()),w=d.prop("imageComponentPopoverId"),l=c.extend(b,{showEducationGesture:!0});return{show:function(){var b;"CLOSED"===p&&3>q&&(r=f(d.elem()),p="ANIMATING",q+=1,b=r.find(".s-pinch-educational-container"),
1===b.length&&(n=r.find('[data-component-type\x3d"s-product-image"]').find("img"),n.wrap('\x3cdiv class\x3d"s-pinch-img-svg-wrap aok-relative aok-inline-block"\x3e \x3c/div\x3e'),n.parent().prepend(b.html()),a.setCount("pinch-to-zoom-educational",y,1),g=n.parent().find("svg"),e.enableZooming(g[0],l),c.delay(k,5E3),d.on("EDUCATIONAL_GESTURE_CLOSE-"+w,h)))},state:p}}});"use strict";g.when("A","a-secondary-view","rush-metrics-adapter","a-carousel-framework","s-pinch-lazy-load-helper").register("s-pinch-carousel-helper",
function(c,e,a,f,d){function b(a,b){0<b.length&&(b.removeClass("a-selected"),b.eq(a-1).addClass("a-selected"))}function g(a,b,c){var e=new Image,f=Date.now();b=[a,f,r,b,c];e.onerror=d.onP2ZImageError;e.onload=d.createAttributedCallback(d.onP2ZImageLoad,b);e.src=a.attr("data-a-image-source")}function h(){c.on("a:immersiveImage:zoomIn",function(b){var c;a.setCount("pinch-to-zoom-zoom-in-secondary-view",y,1);b&&b.$image&&(b.$image.closest(".a-gesture-horizontal").removeClass("a-gesture-horizontal"),
c=f.getCarousel(b.$image.closest(".a-carousel-container")));c&&c.pause();d.setZoomInClosingVariables()})}function u(){c.on("a:immersiveImage:zoomOut",function(b){var c;a.setCount("pinch-to-zoom-zoom-out-secondary-view",y,1);b&&b.$image&&(b.$image.closest(".a-carousel-viewport").addClass("a-gesture-horizontal"),c=f.getCarousel(b.$image.closest(".a-carousel-container")));c&&c.resume();d.setImageZoomed(!1)})}var n="-",q=-1,p=!1,r;d.resetClosingVariables();return{selectDot:b,addCarouselPageNumberChangeListener:function(a,
d){c.on("a:carousel:"+a+":change:pageNumber",function(a){var c;c=a.oldValue+"-"+a.newValue;var f=a.oldValue!==a.newValue,h=m.ue&&m.ue.count;n!==c&&f&&h&&(n=c,c=a.oldValue,f=a.newValue,h=Date.now(),0<q&&q<=h&&(m.ue.count("pinch-to-zoom-swipe-latency",h-q),q=h),c<f?(m.ue.count("pinch-to-zoom-swipe-right",1),c=f+2-2,c<r.length&&(c=".p2z-class-img-"+c,f=r.find(c),g(f,c,d))):m.ue.count("pinch-to-zoom-swipe-left",1));a.oldValue!==a.newValue&&(c=e.get(d),c=c.getContent().find(".a-dots li"),b(a.newValue,
c))})},initCarouselMetrics:function(a){c.on("a:popover:show:"+a,function(){q=Date.now();n="-";d.resetClosingVariables()})},initCarouselContainersLayout:function(a,b){var c=a.find(".a-carousel-viewport"),d=a.find(".a-immersive-image-wrapper"),e=a.find(".s-pinch-dp-link-container").css("height"),f=a.find(".s-pinch-main-container");c.addClass("s-pinch-image-commons");d.addClass("s-pinch-image-commons");f.css("bottom",e);if((r=a.find(".s-pinch-carousel-element"))&&0<r.length)for(a=r.length,a=2<a?2:a,
c=0;c<a;c++)d=".p2z-class-img-"+c,e=b,f=r.find(d),g(f,d,e)},setupZoomAndPanBehaviour:function(){p||(h(),u(),p=!0)}}});g.declare("s-actions",{BOTTOM_SLOT_READY:"s-web-application-controller:bottomSlotReady",BRAND_FOOTER_SLOT_READY:"s-web-application-controller:brandFooterSlotReady",SKYSCRAPER_SLOT_READY:"s-web-application-controller:skyscraperSlotReady",CORRECTED_SEARCH_RESULTS_READY:"s-web-application-controller:correctedSearchResultsReady",FEEDBACK_SLOT_READY:"s-web-application-controller:feedbackSlotReady",
FILTERS_LINK_VIEW_READY:"s-web-application-controller:filtersLinkViewReady",FILTERS_PANEL_VIEW_READY:"s-web-application-controller:filtersPanelViewReady",FKMR_READY:"s-web-application-controller:fkmrReady",FOOTER_SLOT_READY:"s-web-application-controller:footerSlotReady",LOAD_SEARCH_PAGE:"s-web-application-controller:loadSearchResults",LOAD_SEARCH_PAGE_COMPLETE:"s-web-application-controller:loadSearchResultsComplete",LOAD_SEARCH_PAGE_STARTING:"s-web-application-controller:loadSearchPageStarting",MAIN_SLOT_READY:"s-web-application-controller:mainSlotReady",
PAGINATION_LINK_COMPLETE:"s-web-application-controller:paginationLinkComplete",RESULT_INFO_BAR_READY:"s-web-application-controller:resultInfoBarReady",RESULT_ITEM_READY:"s-web-application-controller:resultItemReady",REDIRECT_READY:"s-web-application-controller:redirectReady",SEARCH_METADATA_READY:"s-web-application-controller:searchMetadataReady",TITLE_AND_META_READY:"s-web-application-controller:titleAndMetaReady",TOP_BANNER_READY:"s-web-application-controller:topBannerReady",TOP_SLOT_READY:"s-web-application-controller:topSlotReady"});
"use strict";g.now().execute("s-declare-aspect-ratio-image-initializer",function(){function c(a){d(a,(d(a)||0)+1)}var e=0,a=0,f=0,d=m.ue&&m.ue.count||function(){};(function(){var a=document.createElement("div");return!!a.classList&&(a.closest||a.matches||a.webkitMatchesSelector||a.msMatchesSelector)})()&&(d("ImageAspectWide",0),d("ImageAspectTall",0),d("ImageAspectSquare",0),d("AverageNaturalImagePixels",0),d("AverageDisplayImagePixels",0),g.declare("s-aspect-ratio-image-initializer",function(b){var g;
if(g=b)a:if(g=b,g.closest)g=g.closest(".s-aspect-ratio-image-container");else{do{g.matches=g.matches||g.webkitMatchesSelector||g.msMatchesSelector;if(g.matches(".s-aspect-ratio-image-container"))break a;g=g.parentElement||g.parentNode}while(null!==g&&1===g.nodeType);g=null}var h=g;g=b&&b.naturalWidth;var m=b&&b.naturalHeight;h&&g&&m&&(h.classList.remove("s-source-ratio-wide"),h.classList.remove("s-source-ratio-tall"),h.classList.remove("s-source-ratio-square"),g===m?(h.classList.add("s-source-ratio-square"),
b.style.width="100%",b.style.height="100%",c("ImageAspectSquare")):g>m?(h.classList.add("s-source-ratio-wide"),b.style.width="100%",c("ImageAspectWide")):(h.classList.add("s-source-ratio-tall"),b.style.height="100%",c("ImageAspectTall")),h=b.scrollWidth,b=b.scrollHeight,e+=g*m,a+=h*b,f++,d("AverageNaturalImagePixels",Math.round(e/f)),d("AverageDisplayImagePixels",Math.round(a/f)))}))});g.when("A","search-js-autocomplete","s-web-application-controller","s-url-parameters").register("s-navbar-proxy",
function(c,e,a,f){var d=c.$,b=/ref=([\w\-]+)/,k=/\s+/g;return{getUrl:function(){var c,k,n,q,p;try{c=f.parseQueryString(d("#navbar .nav-searchbar").serialize());k=e.searchAlias&&e.searchAlias();n=e.merchant&&e.merchant();var r=a.getSearchMetadata()||{},m=r.ladderMap||{},l=r.browseLadder,v;q=!k&&e.searchNode&&(v=e.searchNode())?m[v]||"n:"+v:l&&n?l:void 0;var t=(d("#navbar .nav-searchbar").attr("action")||"").match(b);p=t?t[1]:void 0;n&&f.setParamValue(c,"me",n);k&&f.setParamValue(c,"i",k);q&&f.setParamValue(c,
"rh",decodeURIComponent(q));p&&f.setParamValue(c,"ref",p);return f.paramsToString(c,!0)}catch(x){g.log(x,"Failed to build a Search URL from the Navbar.","ERROR","s-navbar-proxy")}},setKeywords:function(a){function b(){return c.trim(a||"").replace(k," ")}e.keyword&&e.keyword(b)},setSearchScoping:function(){},onSubmit:function(a){d.isFunction(a)&&e.submit&&e.submit(a)}}});g.when("s-metadata").register("s-search-metadata",function(c){function e(c){a=c;g.when("mash").execute("s-set-search-context",function(c){c.dispatchEvent({type:"com.amazon.search.mash.searchContext",
detail:a})})}var a;e(c);return{get:function(){return a},set:e}});"use strict";g.declare("s-request-status-constants",{REQUESTED:"requested",CACHED:"cached"});"use strict";g.register("s-search-scope-utils",function(){return{setSearchScope:function(){}}});"use strict";g.when("A","rush-util","rush-router-url-parser","rush-router-pattern-parser").register("s-url-parameters",function(c,e,a,f){function d(a){var b;if(!q[a])for(b in n)if(n[b].test(a)){q[a]=b;break}return q[a]||a}function b(a,b){var c=[],
e,f;for(e in a)if(f=d(e),b||!0!==m[f])null===a[e]?c.push(encodeURIComponent(f)):c.push(encodeURIComponent(f)+"\x3d"+encodeURIComponent(a[e]));return c.sort().join("\x26")}function g(a){a=(a||"").split("?");a=1<a.length?a.slice(1).join("?"):a[0];return f.parseQueryString(a)}var h=e.isBlank,m={portalDebug:!0,qid:!0,rrid:!0,pf:!0},n={},q={};(function(){c.state.bind("s-url-parameters",function(a,b){c.each(a,function(a,c){!0===b[c]&&c&&a&&(n[c]=new RegExp("^("+a+")$"))})});c.each(c.state("s-url-parameters")||
{},function(a,b){b&&a&&(n[b]=new RegExp("^("+a+")$"))})})();return{getCanonicalParamName:d,canonicalizeParams:function(a,b){var c={},e,f;for(e in a)if(f=d(e),b||!0!==m[f])c[f]=a[e];return c},getParamValue:function(a,b){var c=a[b],e;if(c)return c;b=d(b);if(c=a[b])return c;for(e in a)if(b===d(e))return a[e]},setParamValue:function(a,b,c){var e;b=d(b);var f=!1;for(e in a)if(b===d(e)){f=!0;e!==b&&delete a[e];a[b]=c;break}f||(a[b]=c)},paramsToString:b,parseQueryString:g,addParamToUrl:function(c,d,e){var f;
if(h(c)||h(d)||h(e))return c;f=g(c);f[d]=e;c=a.parse(c);c.search="?"+b(f,!0);return a.toUrl(c)},removeParamValue:function(a,b){var c;b=d(b);for(c in a)if(b===d(c)){c!==b&&delete a[c];delete a[b];break}}}});g.when("a-util","s-simple-queue","s-url-parameters","3p-promise","jQuery","s-csa-metrics-utils").register("s-web-ajax",function(c,e,a,f,d,b){function k(){}function h(){this._btfRequested=this._btfStarted=this._atfStarted=null;this._atfCompleted=!1}function m(a){this._paramString=a;this._created=
c.now();this._valid=!0;this.metrics=new h;this.atf={complete:!1,requestId:null,prefetchAjaxData:null,lastMainSlotIndex:null,chunks:new e,successHandler:null,errorHandler:null};this.btf={chunks:new e}}function n(b){return"/s/query?"+a.paramsToString(b.params||{},!0)}function q(a,b,c,d,e){return{method:"post",contentType:"application/json",paramsFormat:"json",timeout:a.timeout||1E4,headers:a.headers||{},memo:a.memo||{},params:b,success:c,chunk:d,error:e}}function p(a){d(a).find('[data-component-type\x3d"s-product-image"] img.s-image').each(function(a,
b){a=new Image;b.srcset?a.srcset=b.srcset:b.src&&(a.src=b.src)})}var r=null,w=!1,l=!1;g.now("s-ajax-calls-via-http-post-enabled").execute(function(a){w=a});g.now("s-ajax-customer-action-flagging-enabled").execute(function(a){l=a});h.prototype.atfStart=function(){this._atfStarted=b.startTimer()};h.prototype.aftSuccess=function(){b.recordCounter("s-web-ajax.atf.request",1);this._atfStarted&&this._atfStarted.recordDuration("s-web-ajax.atf.latency");this._atfCompleted=!0};h.prototype.atfCacheTimeout=
function(){b.recordCounter("s-web-ajax.atf.cache.timeout",1)};h.prototype.btfRequested=function(){this._btfRequested=b.startTimer();this._atfStarted&&this._atfStarted.recordDuration("s-web-ajax.btf.delta");this._atfCompleted||b.recordCounter("s-web-ajax.btf.early",1)};h.prototype.btfStart=function(){this._btfStarted=b.startTimer();this._btfRequested&&this._btfRequested.recordDuration("s-web-ajax.btf.delay")};h.prototype.btfSuccess=function(){b.recordCounter("s-web-ajax.btf.request",1);this._btfStarted&&
this._btfStarted.recordDuration("s-web-ajax.btf.latency")};h.prototype.atfError=function(a,c){"Lack of key chunks"===c?b.recordCounter("s-web-ajax.atf.error.lacks",1):b.recordHttpError("s-web-ajax.atf.error.",a,c);b.recordCounter("s-web-ajax.atf.request",0)};h.prototype.btfError=function(a,c){b.recordHttpError("s-web-ajax.btf.error.",a,c);b.recordCounter("s-web-ajax.btf.request",0)};m.prototype.isValid=function(a){return this._valid&&this._paramString===a?6E4<c.now()-this._created?(this.metrics.atfCacheTimeout(),
!1):!0:!1};m.prototype.invalidate=function(){this._valid=!1};m.prototype.releaseAtf=function(){return this.atf.chunks.start()};m.prototype.releaseBtf=function(){return this.btf.chunks.start()};m.prototype.onAtfSuccess=function(a){this.atf.complete?a(this.atf.requestId,this.atf.lastMainSlotIndex,this.atf.prefetchAjaxData):this.atf.successHandler=a};m.prototype.onAtfError=function(a){this._valid?this.atf.errorHandler=a:a()};return function(a){function e(b,d){var f=d.chunk||k,g=n(d),h;h={"page-content-type":"atf",
"prefetch-type":"rq"};l&&(h["customer-action"]="pagination");h=q(d,h,function(){b.atf.requestId&&b.atf.lastMainSlotIndex&&b.atf.prefetchAjaxData?(b.metrics.aftSuccess(),b.atf.complete=!0,b.atf.successHandler&&b.atf.successHandler(b.atf.requestId,b.atf.lastMainSlotIndex,b.atf.prefetchAjaxData)):(b.metrics.atfError(null,"Lack of key chunks"),b.invalidate(),b.atf.errorHandler&&b.atf.errorHandler())},function(a,c,d){d&&c&&("data-client-side-metrics-info"===a&&(b.atf.requestId=c.requestId),0<=a.indexOf("main-slot")&&
(b.atf.lastMainSlotIndex=c.index,c.html&&p(c.html)),"data-prefetch-ajax-data-passing"===a?b.atf.prefetchAjaxData=c.payload:b.atf.chunks.add(function(){f(a,c,d)}))},function(a,c){b.metrics.atfError(a,c);b.invalidate();b.atf.errorHandler&&b.atf.errorHandler()});d.headers&&(h.headers=c.copy(d.headers),h.headers["X-Amazon-s-mismatch-behavior"]="ABANDON");b.metrics.atfStart();return a(g,h)}function g(b,c,d,e,f){var h=c.chunk||k,m=n(c);d={rrid:d,wIndexMainSlot:e+1,"prefetch-ajax-data":f,"page-content-type":"btf",
"prefetch-type":"log"};l&&(d["customer-action"]="pagination");d=q(c,d,function(){b.metrics.btfSuccess();c.success&&c.success()},function(a,c,d){b.btf.chunks.add(function(){h(a,c,d)})},function(a,d,e){b.metrics.btfError(a,d);c.error&&c.error(a,d,e)});b.metrics.btfStart();return a(m,d)}function h(e){var f,g=b.startTimer(),k=e.success,m=e.error;e.success=function(){g.recordDuration("s-web-ajax.regular.latency");b.recordCounter("s-web-ajax.regular.request",1);k&&d.isFunction(k)&&k()};e.error=function(a,
c,e){b.recordCounter("s-web-ajax.regular.request",0);b.recordHttpError("s-web-ajax.regular.error.",a,c);m&&d.isFunction(m)&&m(a,c,e)};return w?(f=n(e),e=c.extend({method:"post",contentType:"application/json",paramsFormat:"json",timeout:1E4},e),e.params={},l&&e.memo&&e.memo.isPagination&&(e.params["customer-action"]="pagination"),a(f,e)):a("/s/query",c.extend({method:"get",timeout:1E4},e))}return function(a,b){var c,d=a.memo||{},k=d.paramString;if(d.prefetchAtf)return r=c=new m(k),e(c,a);c=r&&r.isValid(k)?
r:null;if(c)return c.metrics.btfRequested(),new f(function(b,d){c.onAtfError(function(){h(a).then(b,d)});c.onAtfSuccess(function(e,f,h){e=g(c,a,e,f,h);c.invalidate();c.releaseAtf().then(function(){c.releaseBtf()});e.then(b,d)})});b&&(r=null);return h(a)}}});"use strict";g.when("A","rush-framework","rush-asset-loader","rush-page-transition-metrics","s-web-data-store","s-url-parameters","rush-util","rush-metrics-adapter","partial-ajax-metrics","s-search-metadata","s-slots","rush-metrics","s-ads-metrics-utils",
"3p-promise","s-clean-url","s-csa-metrics-utils","s-start-application").register("s-web-application-controller",function(c,e,a,f,d,b,k,h,u,n,q,p,r,w,l,v){var t={PAGE:"page",LAYOUT:"lo",REFTAG:"ref",WILDCARD:"wildcard",KEYWORDS:"k",KEYWORDS_LONG_FORM:"keywords",NODE:"n",PROGRESSIVE_SCROLL:"pscroll",BASE_WIDGET_INDEX_MAIN_SLOT:"wIndexMainSlot",PROGRESSIVE_SCROLL_REQ_COUNT:"pscrollReqCount",SOURCE_WIDGET_TEMPLATE:"srcWidgetTemplate"},x={BOTTOM_SLOT_READY:"s-web-application-controller:bottomSlotReady",
BRAND_FOOTER_SLOT_READY:"s-web-application-controller:brandFooterSlotReady",SKYSCRAPER_SLOT_READY:"s-web-application-controller:skyscraperSlotReady",CORRECTED_SEARCH_RESULTS_READY:"s-web-application-controller:correctedSearchResultsReady",FEEDBACK_SLOT_READY:"s-web-application-controller:feedbackSlotReady",FILTERS_LINK_VIEW_READY:"s-web-application-controller:filtersLinkViewReady",FILTERS_PANEL_VIEW_READY:"s-web-application-controller:filtersPanelViewReady",FILTERS_PANEL_VIEW_COMPLETE:"s-web-application-controller:filtersPanelViewComplete",
FKMR_READY:"s-web-application-controller:fkmrReady",FOOTER_SLOT_READY:"s-web-application-controller:footerSlotReady",LOAD_SEARCH_PAGE:"s-web-application-controller:loadSearchResults",LOAD_SEARCH_PAGE_COMPLETE:"s-web-application-controller:loadSearchResultsComplete",LOAD_SEARCH_PAGE_STARTING:"s-web-application-controller:loadSearchPageStarting",MAIN_SLOT_READY:"s-web-application-controller:mainSlotReady",PAGINATION_LINK_COMPLETE:"s-web-application-controller:paginationLinkComplete",RESULT_INFO_BAR_READY:"s-web-application-controller:resultInfoBarReady",
RESULT_INFO_BAR_COMPLETE:"s-web-application-controller:resultInfoBarComplete",RESULT_ITEM_READY:"s-web-application-controller:resultItemReady",REDIRECT_READY:"s-web-application-controller:redirectReady",SEARCH_METADATA_READY:"s-web-application-controller:searchMetadataReady",TITLE_AND_META_READY:"s-web-application-controller:titleAndMetaReady",TOP_BANNER_READY:"s-web-application-controller:topBannerReady",TOP_SLOT_READY:"s-web-application-controller:topSlotReady"},y=a.EVENTS.FINGERPRINT_MISMATCH,
A=/\bn:(\d*)/g,C=q.reduce(function(a,b){a[b]=!0;return a},{}),I={},D=!document.cookie||0===document.cookie.length;h.setTimer("bb","s-swac",{wb:1});return e.attachApp("search-web-application","s-web-application-controller",function(a){function l(a){var c=b.getCanonicalParamName(t.PAGE);k.setIfEmpty(a,c,"1")}function q(a){a=b.canonicalizeParams(a);l(a);N=a;O=b.paramsToString(N);V||(R=N)}function F(a){a&&a.suffix&&!1===Q[a.suffix]&&(G[a.suffix].beginResponse(),Q[a.suffix]=!0);S||(f.beginResponse(),S=
!0)}function L(a){return c.$.isArray(a)?a[0].requestId:a.requestId}function J(b){function c(d){a.trigger(d+(b&&b.suffix||""),b)}if(b&&b.paramString===O)switch(F(),b.type){case z.ITEM_TYPES.SEARCH_RESULTS:c(x.RESULT_ITEM_READY);break;case z.ITEM_TYPES.PAGINATION:c(x.PAGINATION_LINK_COMPLETE);break;case z.ITEM_TYPES.CLIENT_SIDE_METRICS_INFO:f.receivedMetricsInfo(b.item);b&&b.suffix&&G[b.suffix]&&(G[b.suffix].setRequestId(L(b.item)),G[b.suffix].beginResponse(),Q[b.suffix]=!0);break;case z.ITEM_TYPES.CORRECTED_SEARCH_RESULTS:c(x.CORRECTED_SEARCH_RESULTS_READY);
break;case z.ITEM_TYPES.FILTERS_PANEL_VIEW:case z.ITEM_TYPES.LEFT_SLOT:r.record(b.item&&b.item.html);c(x.FILTERS_PANEL_VIEW_READY);break;case z.ITEM_TYPES.FILTERS_LINK_VIEW:c(x.FILTERS_LINK_VIEW_READY);break;case z.ITEM_TYPES.FKMR:c(x.FKMR_READY);break;case z.ITEM_TYPES.RESULT_INFO_BAR:case z.ITEM_TYPES.UPPER_SLOT:c(x.RESULT_INFO_BAR_READY);break;case z.ITEM_TYPES.TITLE_AND_META:c(x.TITLE_AND_META_READY);break;case z.ITEM_TYPES.TOP_BANNER:c(x.TOP_BANNER_READY);break;case z.ITEM_TYPES.TOP_SLOT:c(x.TOP_SLOT_READY);
break;case z.ITEM_TYPES.BOTTOM_SLOT:c(x.BOTTOM_SLOT_READY);break;case z.ITEM_TYPES.FOOTER_SLOT:c(x.FOOTER_SLOT_READY);break;case z.ITEM_TYPES.BRAND_FOOTER_SLOT:c(x.BRAND_FOOTER_SLOT_READY);break;case z.ITEM_TYPES.SKYSCRAPER_SLOT:c(x.SKYSCRAPER_SLOT_READY);break;case z.ITEM_TYPES.FEEDBACK_SLOT:c(x.FEEDBACK_SLOT_READY);break;case z.ITEM_TYPES.SEARCH_METADATA:n.set(b&&b.item&&b.item.metadata||{});c(x.SEARCH_METADATA_READY);break;case z.ITEM_TYPES.REDIRECT:a.trigger(x.REDIRECT_READY,b);break;case z.ITEM_TYPES.MAIN_SLOT:r.record(b.item&&
b.item.html),c(x.RESULT_ITEM_READY),c(x.MAIN_SLOT_READY)}}function P(a){a&&!1===a.full&&a.chunks&&a.chunks.firstChunkReceivedTime&&(u.endResponse(a.requestStartTime),u.beginResponse(a.requestStartTime,a.chunks.firstChunkReceivedTime))}function W(b){b&&b.paramString===O&&(e.enableAllScanning(),F(b.suffix),b.suffix&&(G[b.suffix].criticalFeatureComplete(+new Date),G[b.suffix].aboveTheFoldComplete(+new Date),G[b.suffix].loadComplete(),delete Q[b.suffix],delete G[b.suffix]),a.trigger(x.LOAD_SEARCH_PAGE_COMPLETE+
(b.suffix||""),b),!1===b.full&&b.fallbackUrl&&b.chunks&&b.chunks.getTimestamps&&0===b.chunks.getTimestamps(z.ITEM_TYPES.SEARCH_RESULTS).length&&0===b.chunks.getTimestamps(z.ITEM_TYPES.MAIN_SLOT).length&&(h.incrementCount("s-swac","partial-request-redirects",{wb:1}),m.location.href=b.fallbackUrl),P(b))}function M(a){a.paramString===O&&(F(a.suffix),a.suffix&&(G[a.suffix].loadComplete(),delete Q[a.suffix],delete G[a.suffix]),P(a),h.incrementCount("s-swac","force-reloads",{wb:1}),a.fallbackUrl?m.location.href=
a.fallbackUrl:m.location.reload(!0))}function K(){a.startPageStateDispatcher({paramString:O})}function H(a,c,d){a=b.canonicalizeParams(a,c);if(!0===d){d=b.getParamValue(R,t.PAGE);c=b.getParamValue(a,t.PAGE);var e="";a.hasOwnProperty(t.REFTAG)&&(e=a[t.REFTAG]);0===e.indexOf("sr_pg_")&&1===c-d&&(a[t.REFTAG]="sr_pg_"+d)}delete a[t.WILDCARD];l(a);return a}function X(){var a=!1;g.now("s-startup-dom-scan-complete").execute(function(b){a=!!b&&0===Object.keys(C).length});return a}var z,R={},N={},O,T,V=!1,
S=!1,G={},Q={};c.on(y,function(a,b,c){a=c&&c.paramString;T&&a===O&&(m.location.href=T)});(function(){function k(a){var b;if(!a.page)return!1;for(b in a)if("ref"!==b&&"page"!==b&&a.hasOwnProperty(b)&&!0===a[b])return!1;return!0}function l(a,d){var e={i:!1,me:!1,srs:!1,bbn:!1,n:!1,rh:!1},f=!0;c.each(e,function(c,g){var h=b.getParamValue(a,g)||"";c=b.getParamValue(d,g)||"";var k;"i"===g&&("aps"===h.toLowerCase()&&(h=""),"aps"===c.toLowerCase()&&(c=""));if("rh"===g){if(h!==c)if(c=c.match(A)||[],h=h.match(A)||
[],h.length!==c.length)e[g]=!0,f=!1;else for(k=0;k<h.length;k++)if(c[k]!==h[k]){e[g]=!0;f=!1;break}}else h!==c&&(e[g]=!0,f=!1)});m.ue&&m.ue.count&&c.each(e,function(a,b){m.ue.count("ajax-blacklist-param:"+b,(m.ue.count("ajax-blacklist-param:"+b)||0)+(a?1:0))});return f}function n(b,d,m){var p=H(b,!1,r),t;d=d&&d.href;var u;d&&(u=d.indexOf("#"),T=-1!==u?d.substring(0,u):d);V=!(!m||!m.isProgressiveScroll);if(r){d=H(R,!1);d=c.diff(p,d);a:{for(t in d)if(d.hasOwnProperty(t)&&!0===d[t]){t=!0;break a}t=!1}t=
t?d:!1;if(!t)return;if(!X()||!l(N,p))return!1;e.disableAllScanning();S=!1;f.beginRequest();z.pause();z.request(H(b,!0,!0),{full:!0,isPagination:k(t)});q(p);a.trigger(x.LOAD_SEARCH_PAGE_STARTING,{isAjax:r});a.trigger(x.LOAD_SEARCH_PAGE,{params:p,data:m,isPagination:k(t)});z.start()}h.incrementCount("s-swac","pages",{wb:1});r||(q(p),a.trigger(x.LOAD_SEARCH_PAGE_STARTING,{isAjax:r}),r=!0,g.when("ready").execute("s-route-handler-load-state",K))}function p(a,b,c){var d;d=a.hasOwnProperty(t.KEYWORDS)?a[t.KEYWORDS]:
a.hasOwnProperty(t.KEYWORDS_LONG_FORM)?a[t.KEYWORDS_LONG_FORM]:a[t.WILDCARD];a[t.KEYWORDS]=d;delete a[t.KEYWORDS_LONG_FORM];return n(a,b,c)}var r=!1;z=d(a,W,M,J);a.addRoute("(/**)/s",n);a.addRoute("(/**)/s(/ref\x3d**)",function(a,b,c){a.hasOwnProperty(t.REFTAG)||(a[t.REFTAG]=a[t.WILDCARD]);return n(a,b,c)});a.addRoute("(/**)/s/k\x3d**",p);a.addRoute("(/**)/s/keywords\x3d**",p);a.addRoute("(/**)/s/n\x3d**",function(a,b,c){a.hasOwnProperty(t.NODE)||(a[t.NODE]=a[t.WILDCARD]);return n(a,b,c)});h.setTimer("cf",
"s-swac",{wb:1});h.publish("ld","s-swac",{wb:1});I.isAjaxableRequest=l})();return{ACTIONS:x,FILTERS_POPOVER_NAME:"filter_view",PARAMS:t,SEARCH_PATH:"/s",getCurrentKeywords:function(){return b.getParamValue(N,t.KEYWORDS)||""},getSearchMetadata:function(){return n.get()},recordInitializedSlotComponent:function(a){delete C[a]},requestPartialContent:function(d,e){d=b.parseQueryString(d);var f;e=c.extend(e,{full:!1,overrideParams:N});z.pause();e.suffix&&(G[e.suffix]=p.newPageTransitionScope("partialPage"),
G[e.suffix].beginRequest());f=z.request(H(d,!0),e);e.suffix&&(a.trigger(x.LOAD_SEARCH_PAGE_STARTING+e.suffix,{isAjax:!0}),a.trigger(x.LOAD_SEARCH_PAGE+e.suffix,{params:d}));z.start();return f},prefetchAtf:function(a){var c=null;g.now("s-optimized-pagination-enabled").execute(function(d){!0===d&&(D?v.recordCounter("swac.cookieDisabled",1):(d=H(b.parseQueryString(a),!0),c=z.request(d,{prefetchAtf:!0,isPagination:!0})))});return c||w.resolve()},_ut:I}},{alternativeUrl:l})});"use strict";g.when("a-util",
"s-simple-namespaced-cache","s-url-parameters","rush-util","rush-metrics-adapter","s-request-status-constants","s-simple-queue","s-web-ajax").register("s-web-data-store",function(c,e,a,f,d,b,k,h){function u(){A.start()}function n(){A.pause()}function q(b){b=a.canonicalizeParams(b);return a.paramsToString(b)}function p(a){var b=a.match(/^data-(.+?)(:.*)?$/);return b?b[1]:a}function r(){var a;g.now("s-swrs-version").execute(function(b){a=b||""});return a}function w(a){var b={};b["X-Amazon-s-swrs-version"]=
r();b["X-Amazon-s-mismatch-behavior"]=a.assetMismatch;b["X-Amazon-s-fallback-url"]=a.fallbackUrl;return b}var l={BOTTOM_SLOT:"bottom-slot",BRAND_FOOTER_SLOT:"brand-footer-slot",CLIENT_SIDE_METRICS_INFO:"client-side-metrics-info",CORRECTED_SEARCH_RESULTS:"corrected-search-results",FEEDBACK_SLOT:"feedback-slot",FILTERS_LINK_VIEW:"filters-link-view",FILTERS_PANEL_VIEW:"filters-panel-view",FKMR:"fewer-keywords-more-results",FOOTER_SLOT:"footer-slot",LEFT_SLOT:"left-slot",MAIN_SLOT:"main-slot",PAGINATION:"pagination",
REDIRECT:"redirect",RESULT_INFO_BAR:"result-info-bar",SEARCH_METADATA:"search-metadata",SEARCH_RESULTS:"search-results",SEARCH_RESULTS_METADATA:"results-metadata",SKYSCRAPER_SLOT:"skyscraper-slot",TITLE_AND_META:"title-and-meta",TOP_BANNER:"top-banner",TOP_SLOT:"top-slot",UPPER_SLOT:"upper-slot"},v=function(){var a={},b;for(b in l)l.hasOwnProperty(b)&&(a[l[b]]=b);return a}(),t=c.extend,x=f.isNullOrUndefined,y=f.isBlank,A=new k;return function(a,d,e,f){function g(a,b,c){var d=p(a);if(!(v.hasOwnProperty(d)&&
b&&c&&c.paramString))return!1;A.add(function(){f({type:d,item:b,index:b.index,paramString:c.paramString,suffix:c.suffix||""})});return!0}function k(a,f){function h(a){return c.reduce(t,function(b,c){a&&c.type!==a||b.push(c.received);return b},[])}var l=q(a),n=f.overrideParams?q(f.overrideParams):l,t=[];if(f.full){if(r===l)return;r=l}return L({params:a,headers:w(f),memo:{paramString:n,suffix:f.suffix||"",prefetchAtf:f.prefetchAtf,isPagination:f.isPagination},success:function(){A.add(function(){d({paramString:n,
requestStatus:b.REQUESTED,suffix:f.suffix||"",requestStartTime:f.requestStartTime,chunks:{getTimestamps:h,firstChunkReceivedTime:t[0]&&t[0].received},full:f.full,fallbackUrl:f.fallbackUrl})})},chunk:function(a){var b=c.now();g.apply(null,arguments)&&t.push({type:p(a),received:b})},error:function(a,b,c){A.add(function(){var a=["s-web-data-store AJAX request error",b,c,l].join(", ");m.ue&&(m.ue.count("s-web-data-store AJAX request error",1),m.ue.count(a,1));e({paramString:l,fallbackUrl:f.fallbackUrl,
requestStartTime:f.requestStartTime,chunks:{getTimestamps:h,firstChunkReceivedTime:t[0]&&t[0].received},full:f.full})})}},f.full)}var r,L=h(a.ajax);(function(){u();a.on(l.CLIENT_SIDE_METRICS_INFO,function(a){g(l.CLIENT_SIDE_METRICS_INFO,a.data,a.memo)})})();return{ITEM_TYPES:l,request:function(a,b){b=t({full:!1,suffix:"",overrideParams:null,requestStartTime:c.now(),isPagination:!1},b);x(b.assetMismatch)&&(b.assetMismatch="ALLOW");y(b.fallbackUrl)&&(b.fallbackUrl="");return k(a,b)},pause:n,start:u}}});
"use strict";g.register("s-simple-namespaced-cache",function(){function c(){this.data={}}c.prototype.get=function(c,a){a=a||"";if(this.data[a]&&this.data[a].hasOwnProperty(c))return this.data[a][c]};c.prototype.put=function(c,a,f){f=f||"";this.data[f]=this.data[f]||{};a===y&&this.data[f].hasOwnProperty(c)?delete this.data[f][c]:this.data[f][c]=a};c.prototype.remove=function(c,a){this.put(c,y,a)};c.prototype.clear=function(){this.data={}};c.prototype.clearNamespace=function(c){delete this.data[c||
""]};c.prototype.clearKey=function(c){for(var a in this.data)this.remove(c,a)};return c});"use strict";g.when("A","3p-promise").register("s-simple-queue",function(c,e){function a(a){return new e(function(b){b(a())})}function f(){this.items=[];this.running=!1}var d=c.$.isFunction,b=c.$.proxy;f.prototype.add=function(a){if(d(a))this.items.push(a),this.next();else throw Error("s-simple-queue: argument to add() is not a function.");};f.prototype.next=function(){var c,d;return!0===this.running&&0<this.items.length?
(c=this.items.shift(),d=b(this.next,this),a(c).then(d,d)):e.resolve()};f.prototype.start=function(){this.running=!0;return this.next()};f.prototype.pause=function(){this.running=!1};return f});g.declare("s-slots","s-bottom-slot s-brand-footer-slot s-corrected-search-results s-feedback-slot s-fkmr s-footer-slot s-pagination s-search-results s-skyscraper-slot s-top-banner s-top-slot".split(" "));"use strict";g.when("jQuery","s-web-application-controller","ready").execute("s-widget-click-tracker",function(c,
e){function a(){var a={},b=(e.getSearchMetadata()||{}).rid;b&&(a.scope=b);return a}c=c("#search");var f=m.ue&&m.ue.count||function(){};c.delegate("[class*\x3d'top-slot_hsa']","click",function(){f("SponsoredBrandsTopSlotClicked",1,a())});c.delegate("[class*\x3d'brand-footer-slot_hsa']","click",function(){f("SponsoredBrandsFooterSlotClicked",1,a())});c.delegate("[class*\x3d'skyscraper_adPlacements']","click",function(){f("DisplayAdsSkyscraperSlotClicked",1,a())});c.delegate("[class*\x3d'footer-slot_adPlacements']",
"click",function(){f("DisplayAdsFooterSlotClicked",1,a())})})});
/* ******** */
