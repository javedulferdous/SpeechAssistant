//tealium universal tag - utag.6 ut4.0.202007211808, Copyright 2020 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
var match=/ut\d\.(\d*)\..*/.exec(utag.cfg.v);if(utag.ut.loader===undefined||!match||parseInt(match[1])<41){u.loader=function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}if(o.id){b.id=o.id;}for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){this.onreadystatechange=null;o.cb();}};}}if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
if(utag.ut.merge===undefined){u.merge=function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d];}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined"){a[d]=b[d];}}}};}else{u.merge=utag.ut.merge;}
u.ev={"view":1,"link":1};u.initialized=false;u.scriptrequested=false;u.queue=[];u.event_lookup={"ViewContent":{obj:"vc","map":["value","currency","content_name","content_ids","content_category"]},"Search":{obj:"search","map":["value","currency","content_category","content_ids"]},"AddToCart":{obj:"cart","map":["value","currency","content_name","content_ids"]},"AddToWishlist":{obj:"wish","map":["value","currency","content_name","content_ids"]},"InitiateCheckout":{obj:"cout","map":["value","currency","content_name","content_ids","num_items"]},"AddPaymentInfo":{obj:"payment","map":["value","currency","content_category","content_ids"]},"Purchase":{obj:"purch","map":["value","currency","content_name","content_ids","num_items"]},"Lead":{obj:"lead","map":["value","currency","content_name","content_category"]},"CompleteRegistration":{obj:"reg","map":["value","currency","content_name"]},"Conversion":{obj:"cnv","map":["value","currency"]},"Custom":{obj:"cust","map":[]},"PageView":{obj:"page","map":[]}};u.std_params={"value":function(g,event){if(g.value===undefined||g.value===""){if(event==="ViewContent"||event==="AddToCart"){g.value=u.data.ecom.product_unit_price;}else{g.value=u.data.ecom.order_subtotal;}}
g.value=u.val(g.value);},"currency":function(g){if(!g.currency){g.currency=u.data.ecom.order_currency;}},"content_name":function(g){if(!g.content_name){g.content_name=u.data.ecom.product_name;}
g.content_name=u.val(g.content_name);},"content_ids":function(g){if(!g.content_ids){g.content_ids=u.data.ecom.product_id;}
if(u.typeOf(g.content_ids)!=="array"){g.content_ids=g.content_ids.split(/\s*,\s*/);}},"content_category":function(g){if(!g.content_category){g.content_category=u.data.ecom.product_category;}
g.content_category=u.val(g.content_category);},"num_items":function(g){if(!g.num_items&&u.data.calc_items==="true"){g.num_items=u.calc_items(u.data.ecom.product_quantity);}}};u.map_func=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.map_func(arr,obj[i],item);}else{obj[i]=item;}};u.val=function(value){return u.typeOf(value)==="array"?value[0]:value;};u.remove_empty=function(a){var b,t;for(b in utag.loader.GV(a)){t=u.typeOf(a[b]);if(t==="object"){u.remove_empty(a[b]);if(u.isEmptyObject(a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}else if(!((a[b]===0||a[b]===false)?!0:(t==="array"&&a[b].length===0)?!1:!!a[b])){try{delete a[b];}catch(e){a[b]=undefined;}}}
return a;};u.calc_items=function(quan){var q,i=0;for(q=0;q<quan.length;q++){i+=parseInt(quan[q]);}
return i;};u.hasOwn=function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a);};u.isEmptyObject=function(o,a){for(a in o){if(u.hasOwn(o,a)){return false;}}return true;};u.process_AM_data=function(_data){var am_data={},item,val;for(item in utag.loader.GV(_data)){val=_data[item];val=val.replace(/\s/g,"").toLowerCase();if(item==="ph"){val=val.replace(/[^\d]/g,"");}else if(item==="ge"){if(val!=="m"&&val!=="f"){utag.DB("["+u.id+"] ge in wrong format. Removed from init call");continue;}}else if(item==="db"){if(val.length!==8){utag.DB("["+u.id+"] db is not the correct length. Please check format. Removed from init call");continue;}}else if(item==="zp"){val=val.replace(/[^\d]/g,"");if(val.length>5){utag.DB("["+u.id+"] zp is too long. Removed from init call");continue;}}
am_data[item]=val;}
return u.isEmptyObject(am_data)?undefined:am_data;};u.map={"tealium_event:carresults":"carSearch,Search,ViewContent","tealium_event:hotelresults":"Search,hotelSearch","tealium_event:hoteldetails":"ViewContent","tealium_event:hotelbilling":"InitiateCheckout,AddToCart","tealium_event:hotelConfirm":"Purchase","tealium_event:carConfirm":"Purchase","tealium_event:cardetails":"AddToCart,InitiateCheckout","tealium_event:react_hotelresults":"Search,hotelSearch","_fb_checkin_date":"search.checkin_date,hotelSearch.checkin_date,carSearch.checkin_date,vc.checkin_date,cout.checkin_date,cart.checkin_date,purch.checkin_date,hotelConfirm.checkin_date","_fb_checkout_date":"hotelSearch.checkout_date,search.checkout_date,carSearch.checkout_date,vc.checkout_date,cart.checkout_date,cout.checkout_date,purch.checkout_date,hotelConfirm.checkout_date,carConfirm.checkout_date","_fb_city":"search.city,hotelSearch.city,carSearch.city,vc.city,cout.city,cart.city,purch.city,hotelConfirm.city,carConfirm.city","_fb_content_type":"search.content_type,hotelSearch.content_type,carSearch.content_type,vc.content_type,cart.content_type,cout.content_type,hotelConfirm.content_type,purch.content_type,carConfirm.content_type","_fb_domain_lob":"search.domain_lob,hotelSearch.domain_lob,carSearch.domain_lob,vc.domain_lob,cout.domain_lob,cart.domain_lob,purch.domain_lob,hotelConfirm.domain_lob,carConfirm.domain_lob","_fb_content_ids":"search.content_ids,hotelSearch.content_ids,carSearch.content_ids,vc.content_ids,cout.content_ids,cart.content_ids,purch.content_ids,hotelConfirm.content_ids,carConfirm.content_ids","_fb_region":"search.region,hotelSearch.region,carSearch.region,vc.region,cout.region,cart.region,purch.region,hotelConfirm.region,carConfirm.region","_fb_country":"search.country,carSearch.country,hotelSearch.country,vc.country,cout.country,cart.country,purch.country,hotelConfirm.country,carConfirm.country","_fb_value":"purch.value,hotelConfirm.value,carConfirm.value","_fb_order_id":"purch.order_id,hotelConfirm.order_id,carConfirm.order_id","_fb_currency":"purch.currency,hotelConfirm.currency,carConfirm.currency"};u.extend=[function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='carresults'.toLowerCase()||b['page_viewName'].toString().toLowerCase().indexOf('carresults'.toLowerCase())>-1){try{b['_fb_content_type']=b['search_city']}catch(e){};try{b['_fb_domain_lob']=b['search_productdisplaytype']+" "+b['product_productname']}catch(e){};try{b['_fb_city']=b['search_city']+"/"+b['search_dropoffcity']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){};try{b['_fb_checkin_date']=teal.dateToMMDDYYY(b['search_pickuptime'])}catch(e){};try{b['_fb_checkout_date']=teal.dateToMMDDYYY(b['search_dropofftime'])}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='carresults'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='carresults'.toLowerCase()){try{b['_fb_checkin_date']=teal.dateToMMDDYYY(b['search_pickuptime'])}catch(e){};try{b['_fb_checkout_date']=teal.dateToMMDDYYY(b['search_dropofftime'])}catch(e){};try{b['_fb_city']=b['search_city']+"/"+b['search_dropoffcity']}catch(e){};try{b['_fb_content_type']=b['search_city']}catch(e){};try{b['_fb_domain_lob']=b['search_productdisplaytype']+" "+b['product_productname']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='cardetails'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='cardetails'.toLowerCase()){try{b['_fb_checkin_date']=teal.dateToMMDDYYY(b['reservation_pickuptime'])}catch(e){};try{b['_fb_checkout_date']=teal.dateToMMDDYYY(b['reservation_dropofftime'])}catch(e){};try{b['_fb_city']=b['reservation_pickupcity']+"/"+b['reservation_dropoffcity']}catch(e){};try{b['_fb_content_type']=b['reservation_pickupcity']}catch(e){};try{b['_fb_country']=b['reservation_pickupcountry']}catch(e){};try{b['_fb_value']=b['reservation_totalprice']}catch(e){};try{b['_fb_domain_lob']=b['product_productdisplaytype']+" "+b['product_productname']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='carconfirm'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='carconfirm'.toLowerCase()){try{b['_fb_country']=b['reservation_pickupcountry']}catch(e){};try{b['_fb_region']=b['reservation_pickupstate']}catch(e){};try{b['_fb_value']=b['reservation_totalprice']}catch(e){};try{b['_fb_order_id']=b['reservation_itinerary']}catch(e){};try{b['_fb_currency']=b['page_currencycode']}catch(e){};try{b['_fb_content_type']=b['reservation_pickupcity']}catch(e){};try{b['_fb_checkin_date']=teal.dateToMMDDYYY(b['reservation_pickuptime'])}catch(e){};try{b['_fb_checkout_date']=teal.dateToMMDDYYY(b['reservation_dropofftime'])}catch(e){};try{b['_fb_city']=b['reservation_pickupcity']+"/"+b['reservation_dropoffcity']}catch(e){};try{b['_fb_domain_lob']=b['product_productdisplaytype']+" "+b['product_productname']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='hotelresults'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='hotelresults'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='react_hotelresults'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='react_hotelresults'.toLowerCase()){try{b['_fb_checkin_date']=b['search_checkin']}catch(e){};try{b['_fb_content_type']=b['search_city'].split(',')[0]}catch(e){};try{b['_fb_domain_lob']=b['search_productdisplaytype']+" Hotel"}catch(e){};try{b['_fb_checkout_date']=b['search_checkout']}catch(e){};try{b['_fb_city']=b['search_city'].split(',')[0]}catch(e){};try{b['_fb_content_ids']=b['search_hoodId1']+", "+b['search_hoodId2']+", "+b['search_hoodId3']}catch(e){};try{b['_fb_region']=b['search_state']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='hoteldetails'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='hoteldetails'.toLowerCase()){try{b['_fb_checkin_date']=b['search_checkin']}catch(e){};try{b['_fb_content_type']=b['search_city'].split(',')[0]}catch(e){};try{b['_fb_domain_lob']=b['search_productdisplaytype']+" "+b['product_productname']}catch(e){};try{b['_fb_checkout_date']=b['search_checkout']}catch(e){};try{b['_fb_city']=b['search_city'].split(',')[0]}catch(e){};try{b['_fb_content_ids']=b['reservation_hoodId']+"_"+b['reservation_starRating']}catch(e){};try{b['_fb_region']=b['search_state']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='hotelbilling'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='hotelbilling'.toLowerCase()){try{b['_fb_checkin_date']=b['search_checkin']}catch(e){};try{b['_fb_checkout_date']=b['search_checkout']}catch(e){};try{b['_fb_content_type']=b['search_city']}catch(e){};try{b['_fb_domain_lob']=b['product_productdisplaytype']+" "+b['product_productname']}catch(e){};try{b['_fb_content_ids']=b['reservation_hoodID']+"_"+b['reservation_starrating']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){};try{b['_fb_city']=b['search_city']}catch(e){};try{b['_fb_region']=b['search_state']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='hotelconfirm'.toLowerCase()||b['page_viewName'].toString().toLowerCase()=='hotelconfirm'.toLowerCase()){try{b['_fb_city']=b['search_city']}catch(e){};try{b['_fb_country']=b['search_country']}catch(e){};try{b['_fb_value']=b['reservation_totalprice']}catch(e){};try{b['_fb_checkin_date']=b['search_checkin']}catch(e){};try{b['_fb_checkout_date']=b['search_checkout']}catch(e){};try{b['_fb_order_id']=b['reservation_itinerary']}catch(e){};try{b['_fb_currency']=b['page_currencycode']}catch(e){};try{b['_fb_content_type']=b['search_city']}catch(e){};try{b['_fb_domain_lob']=b['product_productdisplaytype']+" "+b['product_productname']}catch(e){};try{b['_fb_content_ids']=b['reservation_hoodID']+"_"+b['reservation_starrating']}catch(e){};try{b['_fb_region']=b['search_state']}catch(e){}}}catch(e){utag.DB(e);}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){utag.DB("send:6");utag.DB(b);var c,d,e,f,g,h,i,amObj,evt=[];u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"https://connect.facebook.net/en_US/fbevents.js","cust_pixel":"732207820204978","conv_pixel":"","page_view":"true","calc_items":"true","default_event":"None","adv_match":"false","track_single":"true","custom_data":{},"custom_event":"","product_id":[],"product_name":[],"product_category":[],"product_unit_price":[],"product_quantity":[],"evt_list":[],"ecom":{}};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};utag.DB("send:6:EXTENSIONS");utag.DB(b);c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.map_func(e[f].split("."),u.data,b[d]);}}else{h=d.split(":");if(h.length===2&&b[h[0]]===h[1]){if(u.map[d]){evt=evt.concat(u.map[d].split(","));}}}}
if(u.data.evt_list&&u.typeOf(u.data.evt_list)!=="array"){u.data.evt_list=u.data.evt_list.split(/\s*,\s*/);}
if(u.data.default_event!=="None"&&u.data.default_event!==""){u.data.evt_list.push(u.data.default_event);}
u.data.evt_list=u.data.evt_list.concat(evt);g=u.data.ecom;g.order_id=u.data.order_id||b._corder||"";g.order_subtotal=u.data.order_subtotal||b._csubtotal||"";g.order_currency=u.data.order_currency||b._ccurrency||"";if(u.data.product_name.length===0&&b._cprodname!==undefined){g.product_name=b._cprodname.slice(0);}else{g.product_name=u.data.product_name;}
if(u.data.product_id.length===0&&b._cprod!==undefined){g.product_id=b._cprod.slice(0);}else{g.product_id=u.data.product_id;}
if(u.data.product_category.length===0&&b._ccat!==undefined){g.product_category=b._ccat.slice(0);}else{g.product_category=u.data.product_category;}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){g.product_unit_price=b._cprice.slice(0);}else{g.product_unit_price=u.data.product_unit_price;}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){g.product_quantity=b._cquan.slice(0);}else{g.product_quantity=u.data.product_quantity;}
u.loader_cb=function(){utag.DB("send:6:CALLBACK");var g={},i,j,k,_event,_track="track",p,cb_amObj;if(u.typeOf(u.data.cust_pixel)!=="array"){u.data.cust_pixel=u.data.cust_pixel.split(/\s*,\s*/);}
if(a==="view"&&(u.data.adv_match===true||u.data.adv_match==="true")){cb_amObj=u.process_AM_data(u.remove_empty(u.data.am));for(k=0;k<u.data.cust_pixel.length;k++){fbq("init",u.data.cust_pixel[k],cb_amObj);}}
if(u.data.track_single===true||u.data.track_single==="true"){_track+="Single";}
if(u.data.evt_list.toString().indexOf("Purchase")===-1&&u.data.ecom.order_id){u.data.evt_list.push("Purchase");}
if(u.data.ecom.order_id){for(i=0;i<u.data.evt_list.length;i++){if(u.data.evt_list[i]==="Purchase"){p=true;}}
if(!p){u.data.evt_list.push("Purchase");}}
for(i=0;i<u.data.evt_list.length;i++){_event=u.data.evt_list[i];f=u.event_lookup[_event];c=f?f.map:[];f=f?f.obj:_event;g=u.data[f]=u.data[f]||{};for(j=0;j<c.length;j++){u.std_params[c[j]](g,_event);}
if(_event==="Search"){if(!g.content_category){g.content_category='Product Search';}}else if(_event==="Conversion"&&u.data.conv_pixel){_event=u.data.conv_pixel;}else if(_event&&!u.event_lookup[_event]){_track+="Custom";g=u.data[_event];}
if(g.value!==undefined){if(u.typeOf(g.value)==="array"){for(j=0;j<g.value.length;j++){g.value[j]=parseFloat(g.value[j])||0.00;}}else{g.value=parseFloat(g.value)||0.00;}}
if(_event){if(u.data.track_single===true||u.data.track_single==="true"){for(k=0;k<u.data.cust_pixel.length;k++){fbq(_track,u.data.cust_pixel[k],_event,u.remove_empty(g));}}else{fbq(_track,_event,u.remove_empty(g));}}}
utag.DB("send:6:CALLBACK:COMPLETE");};u.callBack=function(){var data={};u.initialized=true;while(data=u.queue.shift()){u.data=data.data;u.loader_cb();}};if(u.initialized){u.loader_cb();}else if(!u.initialized&&window.fbq){u.initialized=true;if(u.data.cust_pixel){u.data.cust_pixel=u.data.cust_pixel.split(/\s*,\s*/);for(i=0;i<u.data.cust_pixel.length;i++){u.data.cust_pixel[i]=u.data.cust_pixel[i].replace(/^\s*/,"").replace(/\s*$/,"");if(u.data.adv_match===true||u.data.adv_match==="true"){amObj=u.process_AM_data(u.remove_empty(u.data.am));}
fbq("init",u.data.cust_pixel[i],amObj);}
if(u.data.page_view==="true"){fbq('track','PageView',u.data.page);}}
u.loader_cb();}else{u.queue.push({"data":u.data});if(!u.scriptrequested){u.scriptrequested=true;u.loader_config={"type":"script","src":u.data.base_url,"cb":u.callBack,"loc":"script","id":"utag_6"};!function(f,b,self,config,e){if(f.fbq)return;self.loader(config);e=f.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments);};if(!f._fbq)f._fbq=e;e.push=e;e.loaded=!0;e.version="2.0";e.queue=[];e.agent="tmtealium";}(window,document,this,u.loader_config);if(u.data.cust_pixel){u.data.cust_pixel=u.data.cust_pixel.split(/\s*,\s*/);for(i=0;i<u.data.cust_pixel.length;i++){u.data.cust_pixel[i]=u.data.cust_pixel[i].replace(/^\s*/,"").replace(/\s*$/,"");if(u.data.adv_match===true||u.data.adv_match==="true"){amObj=u.process_AM_data(u.remove_empty(u.data.am));}
fbq("init",u.data.cust_pixel[i],amObj);}
if(u.data.page_view==="true"){fbq("track","PageView",u.data.page);}}}}
utag.DB("send:6:COMPLETE");}};utag.o[loader].loader.LOAD(id);}("6","hotwire.main"));}catch(error){utag.DB(error);}
