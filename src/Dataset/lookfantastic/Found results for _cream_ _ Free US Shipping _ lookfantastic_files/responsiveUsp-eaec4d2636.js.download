"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}define(["$console","$window","app"],function(t,e,r){return function(){var n=3e3,s=5e3,i={startX:0,history:[],historyMaxLength:5,threshold:1},a={element:null,slider:null,links:[],nav:null,navDots:[],current:-1,timeout:null,_touch:i},o="responsiveUsp_navDot",u="responsiveUsp_navDot-active",l="responsiveUsp_slider-transitioned",c=".responsiveUsp_slider",d=".responsiveUsp_link",v=".responsiveUsp_nav";return a.init=function(t){a.element=t,a.slider=t.querySelector(c),a.nav=t.querySelector(v),a.links=[].concat(_toConsumableArray(t.querySelectorAll(d))),a.build(),a.bind(),a.automove(true),a.addListeners()},a.addListeners=function(){Array.from(a.links).map(function(t){return t.addEventListener("click",function(){r.publish("tracking/record","Widget Track","Clicked",t.getAttribute("data-block-name"),t.getAttribute("data-widget-id"),t.getAttribute("data-context"))})})},a.build=function(){a.links.length>1&&(a.navDots=a.links.map(function(){var t=document.createElement("div");return t.className=o,a.nav.appendChild(t),t}))},a.bind=function(){a.slider.addEventListener("touchstart",a.touchstart,{passive:true}),a.slider.addEventListener("touchmove",a.touchmove,{passive:true}),a.slider.addEventListener("touchend",a.touchend,{passive:true})},a.navigate=function(e){a.navDots.length>1&&(a.navDots[a.current]&&a.navDots[a.current].classList.remove(u),a.current=e,a.navDots[a.current]?(a.navDots[e].classList.add(u),"rtl"===document.dir?a.slider.style.transform="translateX("+100*e+"%)":a.slider.style.transform="translateX("+-100*e+"%)"):t.error("No child at specified index "+e+"."))},a.previous=function(t){var e=a.current-1;e>=0?a.navigate(e):a.navigate(t?e+1:a.links.length-1)},a.next=function(t){var e=a.current+1;e<a.links.length?a.navigate(e):a.navigate(t?e-1:0)},a.automove=function(t){t&&(a.current=-1),a.next(false),a.timeout=e.setTimeout(a.automove,3e3)},a.touchstart=function(t){var r=t.changedTouches[0].pageX,n=t.timeStamp;i.startX=r,i.history=[{x:r,t:n}],e.clearTimeout(a.timeout),a.slider.classList.remove(l)},a.touchmove=function(t){var e=t.changedTouches[0].pageX,r=t.timeStamp;i.history.push({x:e,t:r}),i.history.length>i.historyMaxLength&&i.history.shift(),"rtl"===document.dir?a.slider.style.transform="translateX("+100*a.current+"%) translateX("+(e-i.startX)+"px)":a.slider.style.transform="translateX("+-100*a.current+"%) translateX("+(e-i.startX)+"px)",t.preventDefault()},a.touchend=function(t){a.timeout=e.setTimeout(a.automove,5e3),a.slider.classList.add(l);var r,n=t.changedTouches[0].pageX-i.startX;if(Math.abs(n)>=a.slider.offsetWidth/2)return e.setImmediate(a.move(n,true)),void 0;for(var s=0,o=1;o<i.history.length;o++){var u,c;s+=(i.history[o].x-i.history[o-1].x)/(i.history[o].t-i.history[o-1].t)}if(Math.abs(s)<i.threshold)return a.navigate(a.current),void 0;e.setImmediate(a.move(s,true))},a.move=function(t,e){return function(){t>0?a.previous(e):a.next(e)}},a}});
//# sourceMappingURL=responsiveUsp-eaec4d2636.js.map
