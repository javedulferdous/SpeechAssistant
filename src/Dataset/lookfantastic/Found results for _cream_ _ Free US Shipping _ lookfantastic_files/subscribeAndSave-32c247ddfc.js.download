"use strict";define(["app"],function(e){var s;return function s(){var i="data-selected",n="data-upsell-message",a={config:{selectors:{oneTimePurchaseRadioLabel:".subscribeAndSave_oneTimePurchase_radio_label",subscriptionRadioLabel:".subscribeAndSave_subscription_radio_label",subscriptionContainer:".subscribeAndSave_subscription_container",radio:".subscribeAndSave_radio",upsellMessage:".upsellMessage",upsellMessageContainer:".subscribeAndSave_subscription_listItem"},classes:{subscriptionContainerShow:"subscribeAndSave_subscription_container_show"},subscribeChannels:{showSubscribeAndSaveContracts:"subscribeAndSaveContracts/show",subscribeAndSaveContractsChange:"subscribeAndSave/contractsChange",upsellMessage:"productPrice/upsellMessage",subscribeAndSaveProductInBasketTabsChanges:"subscribeAndSaveProductInBasket/tabChanges"}},init:function(e){a.element=e,a.oneTimePurchaseRadioLabel=e.querySelector(a.config.selectors.oneTimePurchaseRadioLabel),a.subscriptionRadioLabel=e.querySelector(a.config.selectors.subscriptionRadioLabel),a.subscriptionContainer=e.querySelector(a.config.selectors.subscriptionContainer),a.upsellMessage=e.querySelector(a.config.selectors.upsellMessage),a.upsellMessageContainer=e.querySelector(a.config.selectors.upsellMessageContainer),a.radios=e.querySelectorAll(a.config.selectors.radio),a.bind(),a.subscribeToChannels()},bind:function(){a.radios.forEach(function(e){return e.addEventListener("click",a.radioClicked)})},radioClicked:function(e){"oneTimePurchase"===e.target.value?a.oneTimePurchaseRadioLabelClick():a.subscriptionRadioLabelClick(),e.preventDefault()},oneTimePurchaseRadioLabelClick:function(){a.oneTimePurchaseRadioLabel.setAttribute(i,"true"),a.subscriptionRadioLabel.setAttribute(i,"false"),a.subscriptionContainer.classList.contains(a.config.classes.subscriptionContainerShow)&&a.subscriptionContainer.classList.remove(a.config.classes.subscriptionContainerShow),e.publish(a.config.subscribeChannels.showSubscribeAndSaveContracts,false),e.publish(a.config.subscribeChannels.subscribeAndSaveProductInBasketTabsChanges,false)},subscriptionRadioLabelClick:function(){a.oneTimePurchaseRadioLabel.setAttribute(i,"false"),a.subscriptionRadioLabel.setAttribute(i,"true"),a.subscriptionContainer.classList.contains(a.config.classes.subscriptionContainerShow)||a.subscriptionContainer.classList.add(a.config.classes.subscriptionContainerShow),e.publish(a.config.subscribeChannels.showSubscribeAndSaveContracts,true),e.publish(a.config.subscribeChannels.subscribeAndSaveProductInBasketTabsChanges,true)},updateSubscribeAndSaveContractsState:function(){e.publish(a.config.subscribeChannels.showSubscribeAndSaveContracts,"true"===a.subscriptionRadioLabel.getAttribute(i))},updateUpsellMessagePropertyKey:function(e){e?(a.upsellMessage.innerHTML=e,a.upsellMessageContainer.setAttribute(n,"true")):a.upsellMessageContainer.setAttribute(n,"false")},subscribeToChannels:function(){e.subscribe(a.config.subscribeChannels.subscribeAndSaveContractsChange,a.updateSubscribeAndSaveContractsState),e.subscribe(a.config.subscribeChannels.upsellMessage,a.updateUpsellMessagePropertyKey)}};return a}});
//# sourceMappingURL=subscribeAndSave-32c247ddfc.js.map
