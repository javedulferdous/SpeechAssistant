!function(){new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var k=window.ADRUM={},B=window.console,x=B&&"function"==typeof B.log?B:{log:function(){}};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();var v=this&&this.Ac||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){!function(t){t.setUpMonitors=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}}}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){function n(t){return e.refs.slice.apply(t,e.refs.slice.call(arguments,1))}function i(t,n){return r(e.refs.setTimeout.apply)?e.refs.setTimeout.apply(window,arguments):e.refs.setTimeout(t,n)}function r(t){return null!=t}function o(t){return"object"==typeof t&&!e.isArray(t)&&null!==t}function a(t){return"function"==typeof t||!1}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,n){for(var i in n){var r=n[i];if(l(n,i)){var a=t[i];o(r)&&o(a)?c(a,r):e.isArray(a)&&e.isArray(r)?t[i]=a.concat(r):t[i]=r}}return t}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&r(t[e])}function f(t){return s(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function p(){return e.refs.ka&&a(e.refs.ka.now)}function d(){return p()?e.refs.round(e.refs.ka.now()+h()):(new Date).getTime()}function h(){var t,t;return r(t=(t=e.refs.ka)&&t.timing&&u(t.timing.navigationStart)?t.timing.navigationStart:window["adrum-start-time"])||(t=d()),t}function m(t,e){var n=Array.prototype[t];return n?g(n):v(t,e)}function g(t){return function(n){return t.apply(n,e.refs.slice.call(arguments,1))}}function v(t,e){return function(n,i){if(!r(n))throw new TypeError(t+" called on null or undefined");if(!a(i))throw new TypeError(i+" is not a function");return e.apply(null,arguments)}}function y(t,e,n){var i=Object(t),r=i.length>>>0,o=0;if(3>arguments.length){for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;o++)o in i&&(n=e(n,i[o],o,i));return n}function b(t,n,i){return e.reduce(t,function(t,e,r,o){return t[r]=n.call(i,e,r,o),t},Array(t.length>>>0))}function M(t,n,i){return e.reduce(t,function(t,e,r,o){return n.call(i,e,r,o)&&t.push(e),t},[])}function w(t,e,n){for(var i=(t=Object(t)).length>>>0,r=0;r<i;r++)if(r in t&&e.call(n,t[r],r,t))return!0;return!1}function T(t,n,i){return!e.some(t,function(t){return!n.call(i,t)})}function E(t,n,i){e.reduce(t,function(t,e,r,o){n.call(i,e,r,o)},void 0)}e.refs={isArray:Array.isArray,toString:Object.prototype.toString,slice:Array.prototype.slice,setTimeout:window.setTimeout,setInterval:window.setInterval,ka:window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,assign:Object.assign,round:Math.round},e.wa=n,e.oSTO=i,e.isCORSSupported=function(){var t=window.JSON&&a(JSON.stringify);return r(window.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&t},e.isDefined=r,e.cl=function(t){return"number"==typeof t&&!window.isNaN(t)},e.isArray=a(e.refs.isArray)&&a(e.refs.isArray.bind)?e.refs.isArray.bind(Array):function(t){return e.refs.toString.call(t)===e.refs.toString.call([])},e.isObject=o,e.isFunction=a,e.isString=s,e.isNumber=u,e.isBoolean=function(t){return"boolean"==typeof t},e.max=function(t,e){return Math.max(isNaN(t)?Number.NEGATIVE_INFINITY:t,isNaN(e)?Number.NEGATIVE_INFINITY:e)},e.gc=i,e.po=function(t,e){i(t,e||1e4)},e.addEventListener=function(e,i,r,o){function a(){try{return r.apply(this,n(arguments))}catch(n){t.exception(n,"M1",i,e,n)}}void 0===o&&(o=!1),t.isDebug&&t.log("M0",i,e),a.I=!0,e.addEventListener?e.addEventListener(i,a,o):e.attachEvent&&e.attachEvent("on"+i,a)},e.loadScriptAsync=function(e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var i=document.getElementsByTagName("script")[0];i?(i.parentNode.insertBefore(n,i),t.log("M2",e)):t.log("M3",e)},e.mergeJSON=c,e.hasOwnPropertyDefined=l,e.nf=function(t,n){if(e.isFunction(Object.getPrototypeOf))for(;e.isDefined(t)&&!l(t,n);)t=Object.getPrototypeOf(t);return t},e.bn=function(t){return r(t)?e.isArray(t)?t:[t]:[]},e.uo=function(t,e){return null!=t&&t.slice(0,e.length)==e},e.generateGUID=function(t){return r(t)&&a(t.getRandomValues)&&function(){function e(t){return t=t.toString(16),"0000".substr(t.length)+t}var n=new Uint16Array(8);return t.getRandomValues(n),e(n[0])+e(n[1])+"_"+e(n[2])+"_"+e(n[3])+"_"+e(n[4])+"_"+e(n[5])+e(n[6])+e(n[7])}}(window.crypto||window.msCrypto)||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.tryExtractingErrorStack=function(t){return t&&(t=t.stack)&&"string"==typeof t?t:null},e.trim=f,e.Ol=function(t){var e={},n,i;if(!t)return e;var r=t.split("\n");for(i=0;i<r.length;i++){var o=r[i];n=o.indexOf(":"),t=f(o.substr(0,n)).toLowerCase(),n=f(o.substr(n+1)),t&&(e[t]=e[t]?e[t]+", "+n:n)}return e},e.tryPeriodically=function(t,e,n,r){function o(){if(e())n&&n();else{var s=t(++a);0<s?i(o,s):r&&r()}}var a=0;o()},e.Oe=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.og=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(this,e.concat(n))}},e.Tn=p,e.now=d,e.hb=h,e.Cn=y,e.reduce=m("reduce",y),e.Bn=b,e.map=m("map",b),e.zn=M,e.filter=m("filter",M),e.Dn=w,e.some=m("some",w),e.yn=T,e.every=m("every",T),e.An=E,e.forEach=m("forEach",E),e.Cj=function(t){return e.filter(t,r)},e.Hn=function(t){return[].concat.apply([],t)},e.Qi=r(window.Reflect)&&r(window.Reflect.construct)?function(e,n,i,r){try{return null!==n?window.Reflect.construct(n,i,r):e}catch(n){return t.monitor.ErrorMonitor.l(n),e}}:function(e,n,i){try{return null!==n&&n.apply(e,i)||e}catch(n){return t.monitor.ErrorMonitor.l(n),e}},e.Ac=function(){var t=Object.setPrototypeOf||function(t,e){var n=Object.getOwnPropertyNames(e),i;for(i in n)t[i]=e[i]};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e.Lj=function(t){if(!e.isString(t))return t;var n={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","/":"&#47;"};return t.replace(/[&<>'"\/]/g,function(t){return n[t]})},e.yo=function(t){if(!e.isString(t))return t;var n={"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&apos;":"'","&#39;":"'","&#x27;":"'","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&sol;":"/","&#47;":"/","&#x2f;":"/"};return t.replace(/&(?:amp|#0*38|#x0*26|lt|#0*60|#x0*3c|gt|#0*62|#x0*3e|apos|#0*39|#x0*27|quot|#0*34|#x0*22|sol|#0*47|#x0*2f);/g,function(t){return t=t.replace(/0+\B/g,""),n[t]})},e.yj=function(t){var e;return function(){var n=this;e&&clearTimeout(e),e=i(function(){t.apply(n,arguments)},300)}}}(t.utils||(t.utils={}))}(k||(k={})),function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.modernBrowserFeaturesAvailable=t.utils.isDefined(window.addEventListener)&&t.utils.isCORSSupported()&&t.utils.isDefined(Array.prototype.forEach),e.spa2=e.userConf.spa&&e.userConf.spa.spa2&&(!0===e.userConf.spa.spa2||t.utils.isObject(e.userConf.spa.spa2)),e.clearResTiming=!(e.userConf.spa&&t.utils.isObject(e.userConf.spa.spa2)&&t.utils.isDefined(e.userConf.spa.spa2.clearResTiming))||e.userConf.spa.spa2.clearResTiming,e.disableTextForTesting=!0===e.userConf.disableTextForTesting,e.enablePrimaryMetrics=(!t.utils.isDefined(e.userConf.enablePrimaryMetrics)||!0===e.userConf.enablePrimaryMetrics)&&e.modernBrowserFeaturesAvailable,e.devMode=!0===e.userConf.devMode,e.isZonePromise=!0===e.userConf.isZonePromise||!0===e.userConf.angular,e.fetch=!t.utils.isDefined(e.userConf.fetch)||!0==e.userConf.fetch,e.backTimeGap=Math.abs(e.userConf.backTimeGap)||0,e.neverSendImageBeacon=!t.utils.isDefined(e.userConf.beacon)||!t.utils.isDefined(e.userConf.beacon.neverSendImageBeacon)||!0==e.userConf.beacon.neverSendImageBeacon,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser"+(e.spa2?"/v2":"/v1"),e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"http://cdn.appdynamics.com",i=e.userConf.adrumExtUrlHttps||"https://cdn.appdynamics.com";e.adrumExtUrl=(t?i:n)+"/adrum-ext.a5e921eab2dde2c5ab4b79ea636b8271.js",e.adrumXdUrl=i+"/adrum-xd.a5e921eab2dde2c5ab4b79ea636b8271.html",e.agentVer="4.5.17.2890",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],window["adrum-geo-resolver-url"]?(-1!=(i=(n=window["adrum-geo-resolver-url"]).indexOf("://"))&&(n=n.substring(i+3)),n=(t?"https://":"http://")+n):(n=e.userConf.geoResolverUrlHttps||"",i=e.userConf.geoResolverUrlHttp||"",n=t?n:i),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.li=10,e.fi=10}(k||(k={})),function(t){function e(e,n,i,r){return e=t.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+i+"&msg="+encodeURIComponent(e.substring(0,500)),r&&(e+="&stack=",e+=encodeURIComponent(r.substring(0,1500-e.length))),e}function n(n,i){2<=d||(document.createElement("img").src=e(n,0,t.conf.appKey,i),d++)}function i(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}function r(e){t.isDebug&&f.push(s(arguments).join(" | "))}function o(t){p.push(s(arguments).join(" | "))}function a(t){var e=s(arguments).join(" | ");r(e),n(e,null)}var s=t.utils.wa,u=t.utils.reduce,c=t.utils.isDefined,l;t.iDR=i,function(t){t[t.API_ERROR=0]="API_ERROR",t[t.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",t[t.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",t[t.API_WARNING=3]="API_WARNING",t[t.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG"}(l=t.V||(t.V={})),t.Bb=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],t.Wa=" a constructor is called as a function. Don't forget keyword new.",t.isDebug=i(document),t.apiMessageConsoleOut=!(!c(t.conf.userConf)||!c(t.conf.userConf.log)||!0!==t.conf.userConf.log.apiMessageConsoleOut);var f=[],p=[];t.logMessages=f,t.apiMessages=p,t.log=r,t.fo=o,t.error=a,t.reportAPIMessage=function(e,n,i,r){var a=t.Ul.apply(this,arguments);return o(a),t.apiMessageConsoleOut&&x.log(a),a},t.exception=function(){if(!(1>arguments.length)){var e=s(arguments),i=t.utils.tryExtractingErrorStack(e[0]),e=e.slice(1);t.utils.isArray(e)&&(e=e.slice(0,20)),e=e.join(" | "),t.log(e),n(e,i)}},t.assert=function(t){for(var e=1;e<arguments.length;e++);var n=s(arguments);t||(e=n[1],(n=n.slice(2))&&0<n.length?a("M4",e,n):a("M5",e))},t.dumpLog=t.isDebug?function(){return u(f,function(t,e){return t+e.replace(/\<br\/\>/g,"\n\t")+"\n"},"")}:function(){},t.ef=0,t.Sc=0,t.P=t.isDebug&&t.utils.refs.ka?function(){t.ef=t.utils.refs.ka.now()}:function(){},t.Q=t.isDebug&&t.utils.refs.ka?function(){t.Sc+=t.utils.refs.ka.now()-t.ef}:function(){},t.Ul=function(e,n,i,r){var o="",o="",a=(new window.Error).stack,s,a=t.utils.isString(a)?a.substring(5):a+"";switch(c(s)||(s=t.utils.map(r,function(t){return null===t?"null":null==t?"undefined":""===t?"''":t})),e){case l.la:case l.ln:o=t.Bb[e],o=c(i)?""+o+n+"\n in "+i+"("+s.join(", ")+")\n"+a:""+o+n+"\n"+a;break;case l.Wd:o=""+(o=t.Bb[e])+n+"\nin "+i+"("+s.join(", ")+")\n"+a;break;case l.kn:case l.yh:o=""+(o=t.Bb[e])+n+", but "+i+"="+s.join(", ")+"\n"+a;break;default:o=""+(o=t.Bb[l.la])+n+"\nin "+i+"("+s.join(", ")+")\n"+a}return o},t.cIEBU=e;var d=0;r("M6")}(k||(k={})),function(t){var e=function(){function t(t){this.max=t,this.Jc=0}return t.prototype.Fk=function(){this.Ub()||this.Jc++},t.prototype.Ub=function(){return this.Jc>=this.max},t.prototype.reset=function(){this.Jc=0},t}(),n=function(){function n(){this.Kb=[],this.Ed=new e(n.wi),this.ld=new e(n.pi)}return n.prototype.submit=function(e){this.push(e)&&t.initEXTDone&&this.processQ()},n.prototype.processQ=function(){for(var e=this.Fj(),n=0;n<e.length;n++){var i=e[n];"function"==typeof t.commands[i[0]]?(t.isDebug&&t.log("M7",i[0],i.slice(1).join(", ")),t.commands[i[0]].apply(t,i.slice(1))):t.error("M8",i[0])}},n.prototype.jl=function(t){return"reportXhr"===t||"reportPageError"===t},n.prototype.push=function(e){var n=e[0],i=this.jl(n),r=i?this.Ed:this.ld;if(r.Ub())return t.log("M9",i?"spontaneous":"non spontaneous",n),!1;return this.Kb.push(e),r.Fk(),!0},n.prototype.Fj=function(){var t=this.Kb;return this.reset(),t},n.prototype.size=function(){return this.Kb.length},n.prototype.reset=function(){this.Kb=[],this.Ed.reset(),this.ld.reset()},n.prototype.isSpontaneousQueueDead=function(){return this.Ed.Ub()},n.prototype.isNonSpontaneousQueueDead=function(){return this.ld.Ub()},n}();n.wi=100,n.pi=100,t.CommandExecutor=n}(k||(k={})),function(t){t.q=new t.CommandExecutor,t.command=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&t.log("M10",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),t.q.submit(Array.prototype.slice.call(arguments))}}(k||(k={})),function(t){!function(t){var e=function(){function t(){this.status={}}return t.prototype.setUp=function(){},t.prototype.set=function(t,e){this.status[t]=e},t}();t.wc=e}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){var e,n,i;e=t.aop||(t.aop={}),n=t.utils.wa,i=t.utils.isDefined,window.ADRUM.aop=e,e.support=function(t){return!t||"apply"in t},e.around=function(r,o,a,s,u){return t.assert(e.support(r),"M11"),r=r||function(){},function(){if(t.isDebug)try{t.log("M12",s,n(arguments).join(", "))}catch(e){t.log("M13",i(e.stack)||e.toString())}var e=n(arguments),c;try{o&&(c=o.apply(this,e))}catch(e){t.exception(e,"M14",s,e)}t.assert(!c||t.utils.isArray(c));var l=void 0;try{l=r.apply(this,c||e)}catch(e){throw t.log(e,"M15",s,e),u?u(e):t.monitor.ErrorMonitor.l(e),e}finally{try{a&&(i(l)&&(e[e.length]={mg:l}),a.apply(this,e))}catch(e){t.exception(e,"M16",s,e)}}return l}},e.uf=function(t){var e;return t=t[t.length-1],i(t)&&i(t.mg)&&(e=t.mg),e},e.before=function(t,n,i){return e.around(t,n,null,i)},e.after=function(t,n,i){return e.around(t,null,n,i)},void(e.forceWrap=function(e){var n=e.customDescriptorConfig||{},r=null,o=e.parentObject,a=e.property,s=e.setUpFunc,u=e.wrapNewFunctionAgain||!1,c=e.propertyWrappedFunctionName;if(o&&a){if(!(r=Object.getOwnPropertyDescriptor(o,a))||r.configurable){r?(delete r.writable,delete r.value):r={configurable:!0,enumerable:!0};var l=r.set,f=r.get;r.set=n.set||function(n){!0!==n.usedByAgent&&(i(l)&&l(arguments),i(e.La)&&!u||!t.utils.isFunction(s)||s(n))},r.get=n.get||function(){var n=f?f():t.utils.refs[c];return i(e.La)&&(n=e.La),n}}else t.log("M17",c);Object.defineProperty(o,a,r)}else t.error("M18")})}(k||(k={})),function(t){(t=t.EventType||(t.EventType={}))[t.PageView=0]="PageView",t[t.Ajax=2]="Ajax",t[t.VPageView=3]="VPageView",t[t.Error=4]="Error",t[t.IFRAME=1]="IFRAME",t[t.ABSTRACT=100]="ABSTRACT",t[t.ADRUM_XHR=101]="ADRUM_XHR",t[t.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"}(k||(k={})),function(t){var e=t.events||(t.events={});e.T={},e.T[t.EventType.ABSTRACT]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},e.T[t.EventType.VPageView]={resTiming:"object"},e.T[t.EventType.NG_VIRTUAL_PAGE]={digestCount:"number"},e.T[t.EventType.Ajax]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number",dataObject:"object"},e.T[t.EventType.ADRUM_XHR]={allResponseHeaders:"string"},e.T[t.EventType.Error]={msg:"string",line:"number",stack:"string"}}(k||(k={})),function(t){var e=function(){function t(){this.fa={}}return t.prototype.mark=function(t,e){n.mark.apply(this,arguments)},t.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},t.prototype.measure=function(t,e,i){n.measure.apply(this,arguments)},t.prototype.getEntryByName=function(t){return n.getEntryByName.call(this,t)},t}(),n;e.Ic=function(t){return n.Ic(t)},t.PerformanceTracker=e,function(e){var n=t.utils.hasOwnPropertyDefined,i=t.utils.hb(),r=t.utils.now;e.mark=function(e,n){this.fa[e]={name:e,entryType:"mark",startTime:t.utils.isDefined(n)?n:r(),duration:0}},e.measure=function(e,o,a){n(this.fa,o)&&n(this.fa,a)?this.fa[e]={name:e,entryType:"measure",startTime:o?this.fa[o].startTime:i,duration:(a?this.fa[a].startTime:r())-(o?this.fa[o].startTime:i)}:t.error("M19",n(this.fa,o)?a:o)},e.getEntryByName=function(t){return this.fa[t]||null},e.Ic=function(t){return t+i}}(n||(n={}))}(k||(k={})),function(t){!function(e){function n(e,n){for(var i in e=e||{})n[i]=function(){var n=i,r=e[i];return function(e){var i="_"+n,o=this[i];if(t.utils.isDefined(e)){if(typeof e!==r)throw i="wrong type of "+n+" value, "+typeof e+" passed in but should be a "+r+".",t.reportAPIMessage(t.V.Wd,i,"ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(i);this[i]=e}return o}}()}function i(t){var e={},n;for(n in t){var i=t[n];e[i.start]=!0,e[i.end]=!0}return e}var r=function(){function e(e){this.perf=new t.PerformanceTracker,"Object"===this.constructor.name&&t.reportAPIMessage(t.V.la,t.Wa),this.timestamp(t.utils.now()),this.guid(t.utils.generateGUID()),this.url(document.URL),this.kc(e)}return e.prototype.type=function(){return t.EventType.ABSTRACT},e.prototype.kc=function(e){if(t.utils.isObject(e))for(var n in e){var i=this[n]||this["mark"+t.utils.Oe(n)];i&&t.utils.isFunction(i)&&i.call(this,e[n])}},e.Dc=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},e.prototype.nk=function(){return e.Dc(this.parentGUID(),this.parentUrl(),this.parentType())},e.prototype.parent=function(e){var n=this.nk();return t.utils.isDefined(e)&&(t.utils.isFunction(e.guid)&&t.utils.isFunction(e.url)&&t.utils.isFunction(e.type)?(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())):t.reportAPIMessage(t.V.la,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),n},e}();e.EventTracker=r,e.Ma=n,e.Ie=function(e,n){var r=i(e=e||{}),o;for(o in r)n["mark"+(r=t.utils.Oe(o))]=t.utils.og(function(t,e){this.perf.mark(t,e)},o),n["get"+r]=t.utils.og(function(t){return this.perf.getTiming(t)},o)},n(e.T[t.EventType.ABSTRACT],r.prototype)}(t.events||(t.events={}))}(k||(k={})),function(t){var e,n;e=t.events||(t.events={}),n=function(e){function n(i){return(i=e.call(this,i)||this).constructor!=n&&t.reportAPIMessage(t.V.la,t.Wa,"ADRUM.events.Error",[]),i}return v(n,e),n.prototype.type=function(){return t.EventType.Error},n}(e.EventTracker),e.Error=n,void e.Ma(e.T[t.EventType.Error],n.prototype)}(k||(k={})),function(t){var e,n;e=t.monitor||(t.monitor={}),(n=function(e){function n(){var i=null!==e&&e.apply(this,arguments)||this;return i.sl=function(e){var r=e.message,o=e.filename,a=e.lineno,s=e.colno;e=e.error,t.log("M20"),(t.utils.isDefined(e)||n.Xb)&&(t.log("M21"),n.Xb=!0,i.Ha(r,o,a,s,e))},i}return v(n,e),n.l=function(e){t.monitor.ga.Ha(e.message||e.description,e.fileName||e.filename,e.lineNumber,e.columnNumber,e)},n.prototype.setUp=function(){var n=this;e.prototype.setUp.call(this),t.utils.addEventListener(window,"error",this.sl,!0),t.listenForErrors=function(){n.Wf()},this.Wf()},n.prototype.em=function(){n.Qc=0},n.prototype.Ha=function(e,i,r,o,a){n.Qc>=t.conf.li?t.log("M22"):(o=t.utils.tryExtractingErrorStack(a),t.command("reportPageError",new t.events.Error(t.utils.mergeJSON({msg:e+"",url:t.utils.isString(i)?i:void 0,line:t.utils.isNumber(r)?r:void 0,stack:o},this.status))),n.Qc++,n.hadErrors=!0)},n.prototype.Wf=function(){var e=this;n.Xb=!1,t.aop.support(window.onerror)?(window.onerror=t.aop.around(window.onerror,function(i,r,o,a,s){n.Xb?t.log("M23"):n.hd?t.log("M25"):(t.log("M24"),e.Ha(i,r,o,a,s),n.hd=!0)},function(){t.log("M26"),n.hd=!1},"onerror"),t.log("M27")):t.log("M28")},n}(e.wc)).hd=!1,n.Qc=0,n.hadErrors=!1,n.Xb=!1,e.ErrorMonitor=n,void(e.ga=new e.ErrorMonitor)}(k||(k={})),function(t){var e,n,i,r;e=t.monitor||(t.monitor={}),n=t.log,i=t.aop.after,(r=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return v(o,r),o.prototype.setUp=function(){t.utils.map(["error","exception"],function(e){var r=x[e];t.utils.isFunction(r)&&t.aop.support(r)?(n("M29",e),x[e]=i(r,function(t){n("M30",e,t),o.Ti(t)})):n("M31",e)}),e.ga.Ha=i(e.ga.Ha,function(){0<o.oa.length?(n("M32"),o.oa=[]):n("M33")})},o.Ti=function(e){o.oa.length>=t.conf.fi?n("M34"):t.utils.isString(e)?(n("M35",e),o.oa.push(e),t.utils.oSTO(o.Cg)):t.utils.isObject(e)?null!==(e=t.utils.toJSONString(e))?(n("M36",e),o.oa.push(e),t.utils.oSTO(o.Cg)):t.error("M37"):n("M38",typeof e)},o.Cg=function(){0<o.oa.length?(n("M39"),e.ga.Ha(o.oa.join("\n")),o.oa=[]):n("M40")},o}(e.wc)).oa=[],e.nn=r,void(e.tj=new r)}(k||(k={})),function(t){var e,n;e=t.monitor||(t.monitor={}),(n=function(){function e(){}return e.setUp=function(){e.perf=t.utils.refs.ka,t.utils.isObject(e.perf)&&t.utils.isObject(e.perf.timing)||(e.perf=void 0)},e}()).perf=null,void(e.PerformanceWrapper=n)}(k||(k={})),function(t){var e,n;e=t.monitor||(t.monitor={}),n=function(){function n(){this.navTiming=null}return n.prototype.Xe=function(){var n=e.PerformanceWrapper.perf;if(n=n&&n.timing)if(n.navigationStart&&n.navigationStart<=n.loadEventEnd){var i={},r;for(r in n){var o=n[r];"number"==typeof o&&(i[r]=o)}this.navTiming=i}else t.log("M42");else t.log("M41")},n.prototype.setUp=function(){e.PerformanceWrapper.setUp()},n}(),e.NavTimingMonitor=n,void(e.navMonitor=new e.NavTimingMonitor)}(k||(k={})),function(t){var e,n;e=t.monitor||(t.monitor={}),n=function(){function n(){this.sd=null,e.PerformanceWrapper.setUp(),this.resourceBuffer=[],this.basePageResourceBuffer=[],this.qe=500,this.zc=150,this.Ei=3e3,this.setResourceTimingBufferSize(),this.rm()}return n.prototype.setUp=function(){e.PerformanceWrapper.setUp(),t.utils.isDefined(e.PerformanceWrapper.perf)&&t.utils.isFunction(e.PerformanceWrapper.perf.getEntriesByType)?t.utils.isFunction(e.PerformanceWrapper.perf.addEventListener)?e.PerformanceWrapper.perf.addEventListener("resourcetimingbufferfull",this.fb.bind(this)):"onresourcetimingbufferfull"in e.PerformanceWrapper.perf?t.utils.isFunction(e.PerformanceWrapper.perf.rd)?e.PerformanceWrapper.perf.rd=t.aop.around(e.PerformanceWrapper.perf.rd,this.fb.bind(this)):e.PerformanceWrapper.perf.rd=this.fb.bind(this):t.utils.refs.setInterval.call(window,this.hm.bind(this),this.Ei):t.log("M43"),this.vm(),this.im()},n.prototype.vm=function(){var n=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;t.utils.isDefined(e.PerformanceWrapper.perf)&&t.utils.isFunction(e.PerformanceWrapper.perf.setResourceTimingBufferSize)&&t.utils.isNumber(n)&&0<n&&(this.zc=n)},n.prototype.im=function(){var n=e.PerformanceWrapper.perf;t.utils.isDefined(n)&&(t.utils.isFunction(n.setResourceTimingBufferSize)&&(n.setResourceTimingBufferSize=t.aop.around(n.setResourceTimingBufferSize,function(){t.utils.isDefined(arguments)&&t.utils.isDefined(arguments[0])&&(this.zc=arguments[0])}.bind(this))),t.utils.isFunction(n.clearResourceTimings)&&(n.clearResourceTimings=t.aop.around(n.clearResourceTimings,function(){this.fb()}.bind(this))))},n.prototype.We=function(){this.basePageResourceBuffer=this.mf()},n.prototype.fb=function(){this.resourceBuffer=this.mf()},n.prototype.hm=function(){this.jb().length>=this.zc&&this.fb()},n.prototype.jb=function(){var n=e.PerformanceWrapper.perf,i=[];return n&&n.getEntriesByType&&(n=n.getEntriesByType("resource"))&&n.length&&0<n.length&&n.unshift&&(i=n),0==i.length&&t.log("M44"),i},n.prototype.rk=function(e,n){return t.utils.filter(this.resourceBuffer,function(t){return e+t.startTime>=n})},n.prototype.sk=function(t,e){this.resourceBuffer=this.resourceBuffer.concat(this.jb());var n=this.rk(t,e);return this.clearResourceTimings(),this.resourceBuffer=[],n},n.prototype.rm=function(){var n=e.PerformanceWrapper.perf;t.utils.isDefined(n)&&t.utils.isFunction(n.clearResourceTimings)&&(this.sd=n.clearResourceTimings.bind(n))},n.prototype.setResourceTimingBufferSize=function(){var n=e.PerformanceWrapper.perf,i=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;!t.utils.isNumber(i)||0>=i?t.log("M45"):n&&t.utils.isFunction(n.setResourceTimingBufferSize)?n.setResourceTimingBufferSize(i):t.log("M46")},n.prototype.mf=function(){var e=this.jb();if(this.resourceBuffer.length+e.length>this.qe)return t.log("M47"),this.resourceBuffer.concat(e.slice(0,this.qe-this.resourceBuffer.length));return this.clearResourceTimings(),this.resourceBuffer.concat(e)},n.prototype.clearResourceTimings=function(){t.conf.clearResTiming&&t.utils.isFunction(this.sd)&&this.sd()},n}(),e.ResourceMonitor=n,void(e.resourceMonitor=new e.ResourceMonitor)}(k||(k={})),function(t){!function(t){function e(t){return t.nodeName.toLowerCase()}function n(t){return"video"==e(t)}function i(t){return"image"==e(t)}function r(t){return"svg"==e(t)}function o(t){return 0===t.lastIndexOf("video/",0)||0===t.lastIndexOf("image/",0)||0===t.lastIndexOf("font/",0)||0===t.lastIndexOf("model/",0)||0===t.lastIndexOf("text/",0)}function a(t){return"embed"==e(t)&&o(t.type)}function s(t){return"object"==e(t)&&o(t.type)}function u(t){return"img"==e(t)}t.jk=e,t.Sf=n,t.Zn=i,t.Yn=r,t.Kf=function(t){return"canvas"==e(t)},t.Qf=function(t){return t instanceof Text},t.Wn=o,t.of=function(t){return(t.right-t.left)*(t.bottom-t.top)},t.Vn=a,t.Xn=s,t.Un=u,t.nb=function(t){return u(t)||s(t)||a(t)||n(t)||i(t)||r(t)},t.ob=function(t){return"none"!==(t=window.getComputedStyle(t)).getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")},t.Qb=function(t){var e="";return t instanceof HTMLImageElement?e=t.currentSrc||t.src:t instanceof HTMLEmbedElement?e=t.src:t instanceof HTMLObjectElement?e=t.data:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e=t.currentSrc||t.src:t instanceof SVGImageElement&&(e=t.href.baseVal),e},t.Pn=function(t){var e="";return t instanceof HTMLImageElement?e="img":t instanceof HTMLEmbedElement?e="embed":t instanceof HTMLObjectElement?e="object":"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e="video":t instanceof SVGImageElement&&(e="image"),e},t.Xc=function(e){return t.isDefined(e.attributes)?e.attributes.getNamedItem("src")||e.attributes.getNamedItem("href"):void 0}}(t.utils||(t.utils={}))}(k||(k={})),function(t){var e=function(){function e(){this.Vk=.2,this.Ua=0,this.lb=!1,this.za=t.conf.spa2,this.qc=this.sc=this.g=this.ba=this.xa=0,this.viewport={top:0,left:0,bottom:this.qc,right:this.sc},this.Sa=0}return e.prototype.setUp=function(){this.R={},this.cc={},this.ba=t.utils.now(),this.g=0;var e=window.MutationObserver;this.Te(),t.utils.addEventListener(window,"resize",t.utils.yj(this.Te).bind(this)),t.utils.isDefined(e)&&(t.utils.isDefined(window.Zone)&&t.utils.isDefined(window.Zone.__symbol__("MutationObserver"))?this.$b=new(window[window.Zone.__symbol__("MutationObserver")])(this.ig.bind(this)):this.$b=new e(this.ig.bind(this)),this.$b.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src","href"]}),t.log("M48"))},e.prototype.ig=function(e){var n=this;t.P(),e.forEach(function(t){switch(t.type){case"childList":[].slice.call(t.addedNodes).forEach(function(t){n.Le(t)});break;case"attributes":n.Le(t.target)}}),t.Q()},e.prototype.Te=function(){this.sc=t.utils.isDefined(window.innerWidth)&&t.utils.isDefined(document.documentElement.clientWidth)?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,this.qc=t.utils.isDefined(window.innerHeight)&&t.utils.isDefined(document.documentElement.clientHeight)?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,t.log("M49",this.sc,this.qc),this.viewport={top:0,left:0,bottom:this.qc,right:this.sc}},e.prototype.start=function(){t.P(),this.setUp(),t.Q(),t.log("M50")},e.prototype.reset=function(){this.R={},this.Ua=0,this.cc={},this.Sa=0,t.log("M51")},e.prototype.Le=function(e){t.P();var n=t.utils.now();t.utils.nb(e)&&!e.isAdrumTrackedNode?(this.lb||(this.K=this.K.bind(this),this.l=this.l.bind(this),this.K.I=!0,this.lb=this.l.I=!0),this.g++,t.log("M52",this.g),n=t.utils.Xc(e),n=t.utils.isDefined(n)?n.value:null,t.utils.Sf(e)?(e.addEventListener("loadeddata",this.K),t.log("M53",n)):(e.addEventListener("load",this.K),t.log("M54",n)),e.addEventListener("error",this.l),e.isAdrumTrackedNode=!0):t.utils.Kf(e)&&!e.adrumNodeId?(t.log("M55"),this.Ib(e,n)):t.utils.Qf(e)&&(this.Ua=Math.max(this.Ua,n)),t.Q()},e.prototype.K=function(e){t.P();var n=t.utils.now();this.ba=n,e=e.target;var i=t.utils.Qb(e);t.utils.isDefined(i)&&0<i.length?"data:"!=i.substring(0,5)||e.adrumNodeId?this.Vi(i,n,e):(t.log("M56"),this.Ib(e,n)):e instanceof SVGElement&&!e.adrumNodeId&&(t.log("M57"),this.Ib(e,n)),e&&e.isAdrumTrackedNode&&(this.tb(e),this.g--,t.log("M58",this.g)),t.Q()},e.prototype.l=function(e){var n=e.target;n&&n.isAdrumTrackedNode&&(this.tb(n),this.g--,e=t.utils.Qb(e.target),t.log("M59",e))},e.prototype.tb=function(t){t.removeEventListener("load",this.K),t.removeEventListener("error",this.l)},e.prototype.Sb=function(e){return this.mb(e)&&t.utils.ob(e)},e.prototype.Vi=function(e,n,i){t.utils.isDefined(this.R[e])?this.Sb(i)&&(this.R[e]=n,t.log("M60",e,n)):(this.R[e]=n,t.log("M61",e,n))},e.prototype.Ib=function(e,n){t.log("M62",this.Sa,n,e.outerHTML),e.adrumNodeId=this.Sa,this.cc[this.Sa]=n,this.Sa+=1},e.prototype.Ue=function(e){var n=this;t.j.Eb.Fa&&(this.xa=e);var i=0,r=0,o=this.pk(this.xa);if(t.log("M63",o),[].slice.call(document.getElementsByTagName("*")).forEach(function(a){var s=t.utils.Qb(a);if(delete a.isAdrumTrackedNode,t.utils.isDefined(s)&&0<s.length){if(t.log("M64",s),t.utils.isDefined(n.R[s])){var u=n.R[s];t.log("M65",s,u),t.utils.ob(a)&&(t.log("M66",s,u),n.za&&(t.log("M67",r,u,e),r=Math.max(r,u-e),t.log("M68",s,r)),n.mb(a)&&(t.log("M69",i,u,e),i=Math.max(i,u-e),t.log("M70",s,i)))}else if(t.utils.nb(a)&&t.utils.ob(a)&&(u=n.vf(s),t.utils.isDefined(u))){var c=u.startTime-(e-n.xa),l=u.duration*o+c;t.log("M71",s,l),t.log("M72",u.duration,c),n.za&&(r=Math.max(r,l),t.log("M73",s,r)),n.mb(a)&&(i=Math.max(i,l),t.log("M74",s,i))}}else t.utils.isDefined(a.adrumNodeId)&&(t.utils.isDefined(n.cc[a.adrumNodeId])&&(u=n.cc[a.adrumNodeId],t.utils.ob(a)&&(n.za&&(r=Math.max(r,u-e),t.log("M75",a.adrumNodeId,u)),n.mb(a)&&(i=Math.max(i,u-e),t.log("M76",a.adrumNodeId,u)))),delete a.adrumNodeId)}),t.log("M77",i,r),this.Yj().forEach(function(a){var s=a.url;a=a.Sb;var u=n.vf(s);t.utils.isDefined(u)&&(u=u.duration*o+(u.startTime-(e-n.xa)),n.za&&(t.log("M78",s,u),r=Math.max(r,u)),a&&(t.log("M79",s,u),i=Math.max(i,u)))}),!t.conf.disableTextForTesting){var a=this.Ua-e;0==i&&(t.log("M80"),i=Math.max(i,a)),this.za&&0==r&&(t.log("M81"),r=Math.max(r,a))}return i|=0,r|=0,t.log("M82",e,this.xa),t.log("M83",window.location.href),t.log("M84",i,r),t.isDebug&&(x.log("url = "+window.location.href),x.log("renderRatio = "+o),x.log("visuallyCompleteTime = "+i),x.log("pageCompleteTime = "+r)),{vct:i,pct:r}},e.prototype.kk=function(t){t=t.getBoundingClientRect();var e=document.documentElement||document.body,n=t.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),e=t.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0);return{top:Math.round(n),left:Math.round(e),bottom:Math.round(n)+t.height,right:Math.round(e)+t.width}},e.prototype.mb=function(e){if(e=this.kk(e),this.Yk(e))return t.log("M85"),!1;var n={top:Math.max(this.viewport.top,e.top),left:Math.max(this.viewport.left,e.left),bottom:Math.min(this.viewport.bottom,e.bottom),right:Math.min(this.viewport.right,e.right)},n=t.utils.of(n);if(0!=(e=t.utils.of(e))&&n/e>=this.Vk)return!0;return t.log("M86"),!1},e.prototype.Yk=function(t){return t.top>this.viewport.bottom||t.bottom<this.viewport.top||t.right<this.viewport.left||t.left>this.viewport.right},e.prototype.Dj=function(){t.utils.isDefined(this.$b)&&this.$b.disconnect(),t.log("M87")},e.prototype.pk=function(e){var n=this,i=0,r=0;return this.xf().forEach(function(o){var a=o.name;if(t.utils.isDefined(n.R[a])){var s=n.R[a]-e-o.startTime,u=o.duration;t.log("M88",a,e,o.startTime,n.R[a],u),u&&0<s&&(i+=s/u,r++)}}),0<r?i/r:1},e.prototype.Yj=function(){var e=this,n=[];return[].slice.call(document.getElementsByTagName("*")).forEach(function(i){if(t.utils.ob(i)){var r=e.Xj(i);r&&(e.mb(i)?n.push({url:r,Sb:!0}):e.za&&n.push({url:r,Sb:!1}))}}),n},e.prototype.Xj=function(e){if(e&&e.style){var n=window.getComputedStyle(e).getPropertyValue("background-image");return n||(n=(e.currentStyle||e.style).backgroundImage),e=this.uk(n),t.utils.isDefined(e)&&t.utils.isDefined(e.substr)&&"undefined"===e.substr(e.lastIndexOf("/")+1)?void 0:e}},e.prototype.uk=function(t){if(t&&t.match("url"))return t.replace('url("',"").replace('")',"")},e.prototype.vf=function(e){for(var n=0,i=this.xf();n<i.length;n++){var r=i[n];if(t.utils.isDefined(r.name)&&0<=r.name.indexOf(e))return r}},e.prototype.xf=function(){return t.j.Eb.Fa?t.monitor.resourceMonitor.basePageResourceBuffer:t.monitor.resourceMonitor.resourceBuffer.concat(t.monitor.resourceMonitor.jb())},e}();t.vn=e,t.N=new e}(k||(k={})),function(t){var e,n;e=t.j||(t.j={}),n=function(){function n(){this.lb=!1,this.Lc=5e3,this.pb=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxResourceQuietTime?t.conf.userConf.navComplete.maxResourceQuietTime:this.Lc}return n.prototype.Sg=function(){t.P(),this.kb(Element.prototype,"innerHTML",this.ug.bind(this)),this.kb(HTMLElement.prototype,"innerHTML",this.ug.bind(this)),this.kb(HTMLImageElement.prototype,"src",this.qb.bind(this)),this.kb(HTMLScriptElement.prototype,"src",this.qb.bind(this)),this.kb(HTMLLinkElement.prototype,"href",this.qb.bind(this)),this.Mk(),this.ed("append"),this.ed("appendChild"),this.ed("insertBefore"),t.Q()},n.prototype.setUp=function(e){t.P(),this.md=this.g=0,this.ba=e,this.pa=this.B=!1,this.bc={},this.R={},this.pd={},t.Q()},n.prototype.start=function(e){this.setUp(e),this.pa=!0,t.log("M89")},n.prototype.reset=function(){this.B=!1,this.g=0,this.pa=!1,this.R={},this.pd={},t.log("M90")},n.prototype.kb=function(t,e,n){this.Ll(t,e,Object.getOwnPropertyDescriptor(t,e),n)},n.prototype.Ll=function(e,n,i,r){if(t.utils.isDefined(i)&&t.utils.isDefined(i.set)&&!t.utils.isDefined(i.I)){var o=this;Object.defineProperty(e,n,{set:function(t){var e;try{e=i.set.apply(this,arguments)}catch(t){throw t}finally{r.call(o,this)}return e}})}},n.prototype.qb=function(e){t.P(),this.Ld(e),t.Q()},n.prototype.Mk=function(){var e=Element.prototype,n=this;t.utils.isDefined(e.setAttribute)&&(e.setAttribute=t.aop.around(e.setAttribute,null,function(){var t=d(arguments);"src"!=t[0]&&"href"!=t[0]||n.qb.call(n,this)}))},n.prototype.ed=function(e){var n=Element.prototype,i=this;t.utils.isDefined(n[e])&&(n[e]=t.aop.around(n[e],null,function(){0<arguments.length&&i.qb.call(i,arguments[0])}))},n.prototype.ug=function(e){t.P(),this.pa&&t.utils.isDefined(e)&&t.utils.isDefined(e.childNodes)&&(this.Ld(e),this.dh(e.childNodes)),t.Q()},n.prototype.dh=function(e){for(var n=0;n<e.length;n++){var i=e[n];"script"!=t.utils.jk(i)&&this.Ld(i),this.dh(i.childNodes)}},n.prototype.Ld=function(e){t.monitor.AnySpaMonitor.cd()||(this.Wk(e)?this.fj(e):t.conf.enablePrimaryMetrics&&this.gj(e))},n.prototype.fj=function(e){var n=t.utils.Xc(e);t.utils.isDefined(n)&&(n=n.value,!t.utils.isDefined(this.bc[n])&&0<n.length&&(this.g++,this.bc[n]=!0,t.log("M91",n,this.g),this.Me(e)))},n.prototype.gj=function(e){var n=t.utils.now();t.utils.nb(e)&&!e.isAdrumTrackedNode?(n=t.utils.Qb(e),!t.utils.isDefined(this.bc[n])&&0<n.length&&(this.g++,this.bc[n]=!0,this.Me(e),t.log("M92",n,this.g))):t.utils.Kf(e)&&!e.adrumNodeId?(t.log("M93",n),t.N.Ib(e,n)):t.utils.Qf(e)&&(t.N.Ua=Math.max(t.N.Ua,n))},n.prototype.Me=function(e){this.lb||(this.K=this.K.bind(this),this.l=this.l.bind(this),this.K.I=!0,this.lb=this.l.I=!0);var n=t.utils.Xc(e),n=t.utils.isDefined(n)?n.value:null;t.utils.Sf(e)?(e.addEventListener("loadeddata",this.K),t.log("M94",n)):(e.addEventListener("load",this.K),t.log("M95",n,e.nodeName)),e.addEventListener("error",this.l)},n.prototype.bl=function(e){return"LINK"!=e.nodeName||(e=e.attributes.getNamedItem("rel"),!t.utils.isDefined(e)||0<=e.value.indexOf("stylesheet"))},n.prototype.Wk=function(t){return/^(SCRIPT|IMG|LINK)$/.test(t.nodeName)&&this.bl(t)},n.prototype.K=function(n){t.P();var i=this.pf(n.target);!t.utils.isDefined(this.R[i])&&0<this.g&&(this.g--,this.R[i]=!0,t.log("M96",i,this.g)),this.ba=t.utils.now(),this.md+=1,1==this.md&&(e.n.Wg(),this.B=!0),this.tb(n.target),i=n.target,t.conf.enablePrimaryMetrics&&t.utils.nb(i)&&!i.isAdrumTrackedNode&&(t.log("M97"),t.N.K(n)),t.Q()},n.prototype.l=function(e){t.P();var n=this.pf(e.target),i=e.target;t.utils.isDefined(this.pd[n])||(this.g--,this.pd[n]=!0,t.log("M98",n,this.g)),t.conf.enablePrimaryMetrics&&t.utils.nb(i)&&!i.isAdrumTrackedNode&&(t.log("M99"),t.N.l(e)),this.tb(e.target),t.Q()},n.prototype.cj=function(){return 0<this.g&&this.B},n.prototype.pf=function(t){var e="";return t instanceof HTMLScriptElement?e=t.src:t instanceof HTMLImageElement?e=t.src:t instanceof HTMLLinkElement&&(e=t.href),e},n.prototype.bd=function(e){var n=this.g,i=0;return t.conf.enablePrimaryMetrics&&(n+=t.N.g,i=t.N.ba),t.log("M100",n),0==n&&this.B&&(t.log("M101"),e-(n=Math.max(this.ba,i))>=this.pb)?(this.reset(),n):-1},n.prototype.tb=function(t){t.removeEventListener("load",this.K),t.removeEventListener("error",this.l)},n}(),void(e.Lh=n)}(k||(k={})),function(t){var e,n;e=t.j||(t.j={}),n=function(){function n(){this.Lc=3e3,this.pb=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxXhrQuietTime?t.conf.userConf.navComplete.maxXhrQuietTime:this.Lc}return n.prototype.setUp=function(t){this.nd=this.g=0,this.Da=t,this.pa=this.B=!1,this.th={},this.Vd={}},n.prototype.start=function(t){this.setUp(t),this.pa=!0},n.prototype.Be=function(e){t.monitor.AnySpaMonitor.cd()||t.utils.isDefined(this.th[e])||!this.pa||(this.g+=1,this.th[e]=!0,t.log("M102",e,this.g))},n.prototype.Xi=function(n){!t.monitor.AnySpaMonitor.cd()&&this.pa&&0<this.g&&(t.utils.isDefined(this.Vd)&&!t.utils.isDefined(this.Vd[n])&&(this.Da=t.utils.now(),this.g-=1,this.Vd[n]=!0,t.log("M103",n,this.g)),this.nd+=1,1==this.nd&&(e.n.Wg(),this.B=!0))},n.prototype.bd=function(t){return 0==this.g&&this.B&&t-this.Da>=this.pb?(this.reset(),this.Da):-1},n.prototype.dj=function(){return 0<this.g&&this.B},n.prototype.reset=function(){this.B=!1,this.g=0,this.pa=!1},n}(),void(e.Bh=n)}(k||(k={}));var d=k.utils.wa,g=k.utils.isFunction;!function(a){var b=a.utils.generateGUID,l;!function(t){t[t.USER=0]="USER",t[t.TIMER=1]="TIMER",t[t.XHR=2]="XHR",t[t.RESOURCE=3]="RESOURCE",t[t.PROMISE=4]="PROMISE",t[t.FETCH=5]="FETCH",t[t.OTHER=6]="OTHER"}(l=a.CauseType||(a.CauseType={}));var e=function(t,e,n){this.start=a.utils.now(),this.parent=t,this.oc=e,this.guid=b(),this.type=n};a.Db=e;var c=function(){function b(){}return b.On=function(){return b.events},b.Lf=function(t){return a.utils.isDefined(t)&&a.utils.isFunction(t.handleEvent)},b.xg=function(t,e,n,i){var r;b.qa(e);try{b.Lf(t)?r=t.handleEvent.apply(n,i):g(t)&&(r=t.apply(n,i))}catch(t){throw t}finally{b.L()}return r},b.uc=function(t,e,n,i){if(!a.utils.isDefined(e)||e.I)return e;var r;return i||(r=b.ia()),function(i){var o=b.Oa(t,i,r,n);return b.xg(e,o,this,arguments)}},b.Oa=function(t,n,i,r){return i?a.log("M104",t,i.oc.action):a.log("M105",t),a.utils.isDefined(n)?(n=a.ce.ul(n.target||n.srcElement)).action=t:n=new a.Ka(t),new e(i,n,r)},b.fn=function(t,e,n){if(!a.utils.isDefined(e)||e.I)return e;var i=b.Oa(t,void 0,b.ia(),n);return function(){return new a.Ka(t),b.xg(e,i,this,arguments)}},b.Bo=function(t,e){return function(){var n=e.apply(this,arguments);return b.Gc(t),n}},b.ia=function(){return 0<b.events.length?b.events[b.events.length-1]:null},b.qa=function(t){b.events.push(t)},b.L=function(){return b.events.pop()},b.Hc=function(t,e){var n=t,i=1,r="";if(!a.utils.isDefined(n))return null;for(;a.utils.isDefined(n.parent);)r=" -> "+n.oc.action+r,n=n.parent,i+=1;var o=a.utils.now();return a.utils.isDefined(n.oc)&&(r=n.oc.action+r+" -> "+e),a.log("M106",r),a.log("M107",n.start,i),a.log("M108",o-n.start),n},b.Gc=function(t){return b.Hc(b.ia(),t)},b.vk=function(){var t=b.Gc(void 0);if(a.utils.isDefined(t)&&a.utils.isDefined(t.type))return[l.TIMER,l.USER].some(function(e){return t.type==e})?t:void 0},b.Uk=function(a){if(g(a))return a;var b=""+a;return function(){eval(b)}},b.setUp=function(){b.events=[];var t=a.utils.refs;[{lg:t.setTimeout,kf:"setTimeout"},{lg:t.setInterval,kf:"setInterval"}].forEach(function(t){var e=t.lg,n=t.kf;window[n]=function(t){var i=d(arguments);if(t){var r=b.kl(n,arguments[1])?l.OTHER:l.TIMER,r=b.fn(n,b.Uk(t),r);return i[0]=r,e.apply(window,i)}e.apply(window,i)}})},b.kl=function(t,e){return"setTimeout"==t&&(a.utils.isDefined(e)&&0==e||!a.utils.isDefined(e))},b}();c.events=[],a.c=c}(k||(k={})),function(t){var e=t.utils.Lj,n=window.addEventListener,i=t.utils.isDefined(window.EventTarget)?window.EventTarget.prototype.addEventListener:function(){},r=t.utils.isDefined(window.EventTarget)?window.EventTarget.prototype.removeEventListener:function(){},o=function(t,e,n,i,r,o,a,s){this.action=t||"",this.Th=e||"",this.className=n||"",this.tagName=i||"",this.name=r||"",this.text=o||"",this.src=a,this.item=s};t.Ka=o;var a=function(){function a(){}return a.setUp=function(){Array.prototype.push.apply(a.Mc,[]),a.cn(),t.utils.isDefined(window.EventTarget)?(a.dn(),a.en()):a.Wi(),a.If("onload"),a.If("onerror")},a.lo=function(){return[]},a.bk=function(e,n){var i="";if(t.utils.isDefined(e))if("string"==typeof e.textContent)i=t.utils.isDefined(String.prototype.trim)?e.textContent.trim():e.textContent,i=t.utils.isDefined(n)?i.substring(0,n):i;else for(e=e.firstChild;t.utils.isDefined(e)&&(i+=a.bk(e,n),!(t.utils.isDefined(n)&&i.length>=n));e=e.nextSibling);return i},a.ul=function(n){var i=e(n.id)||"",r=e(n.className)||"",a="",s=new o;return n instanceof HTMLHtmlElement?(a="html",s.text="#html"):n===document?(a="document",s.text="#document"):n===window?(a="window",s.text="#window"):n instanceof XMLHttpRequest?(a="xhr",s.src=t.utils.isObject(n._adrumAjaxT)?encodeURI(n._adrumAjaxT.url()):""):n instanceof WebSocket?(a="websocket",s.src=encodeURI(n.url)):n instanceof HTMLScriptElement?(a="script",s.src=encodeURI(n.src)):n instanceof HTMLAnchorElement?(a="a",s.text=e(n.text)||""):n instanceof HTMLButtonElement?(a="button",s.name=e(n.name)):n instanceof HTMLDivElement?a="div":n instanceof HTMLImageElement?(a="img",s.src=encodeURI(n.src),s.text=e(n.title)||""):n instanceof HTMLLIElement?(a="li",s.item=n.value):n instanceof HTMLUListElement?a="ul":n instanceof HTMLFormElement?a="form":n instanceof HTMLFrameElement?(a="frame",s.src=encodeURI(n.src)):n instanceof HTMLInputElement?(a=e(n.type)||"input",s.text=e(n.value),s.name=e(n.name)):n instanceof HTMLTableElement?a="table":n instanceof HTMLTableCaptionElement?a="tcap":n instanceof HTMLTableCellElement?a="td":n instanceof HTMLTableRowElement?a="tr":(a=t.utils.isDefined(n.tagName)?e(n.tagName):"",t.log("M109",a)),s.Th=i,s.className=r,s.tagName=a,t.utils.isString(s.text)&&(s.text=t.utils.isDefined(String.prototype.trim)?s.text.trim():s.text,s.text=s.text.substring(0,30)),s},a.cn=function(){t.utils.forEach(a.Mc,function(e){n(e,function(n){((n=n.target||n.srcElement)===document||n===window||n instanceof XMLHttpRequest||n instanceof HTMLElement)&&null!=n&&n["on"+e]&&(n["on"+e]=t.c.uc(e,n["on"+e],t.CauseType.USER,!0),n["on"+e].I=!0)},!0)})},a.Wi=function(){t.utils.forEach(a.Mc,function(e){n(e,function(n){n=t.c.Oa(e,n,null,t.CauseType.USER),t.c.qa(n)},!0),n(e,function(){t.c.L()},!1)})},a.hh=function(e){var n=!1;return t.utils.isBoolean(e)?n=e:t.utils.isObject(e)&&t.utils.isDefined(e.capture)&&(n=!!e.capture),n},a.Mg=function(e,n,i,r){if(!t.utils.isDefined(e.eventListenerMap)||!t.utils.isDefined(e.eventListenerMap[n])||!t.utils.isDefined(i))return-1;for(e=e.eventListenerMap[n],n=0;n<e.length;n++)if(e[n][0]==i&&e[n][1]==r)return n;return-1},a.Gf=function(e,n,i,r,o){t.utils.isDefined(e)&&t.utils.isDefined(o)&&(t.utils.isDefined(e.eventListenerMap)||(e.eventListenerMap={}),t.utils.isDefined(e.eventListenerMap[n])||(e.eventListenerMap[n]=[]),e.eventListenerMap[n].push([i,r,o]))},a.bm=function(t,e,n){if(-1<n){var i=t.eventListenerMap[e];delete i[n],i.splice(n,1),0==i.length&&delete t.eventListenerMap[e]}},a.dn=function(){EventTarget.prototype.addEventListener=function(e,n,r){if(t.utils.isDefined(n)&&n.I||!t.c.Lf(n)&&!g(n))return i.call(this,e,n,r);var o=a.hh(r),s=t.utils.isDefined(this)?this:window;if(!(-1<a.Mg(s,e,n,o))){var u=n;switch(e){case"click":case"dblclick":case"auxclick":case"mousedown":case"mouseup":case"drop":case"keyup":case"keydown":case"keypress":case"contextmenu":case"pageChanged":case"close":u=t.c.uc(e,n,t.CauseType.USER,!0),a.Gf(s,e,n,o,u);break;case"load":case"error":u=t.c.uc(e,n,t.CauseType.USER,!1),a.Gf(s,e,n,o,u)}i.call(s,e,u,r)}}},a.en=function(){EventTarget.prototype.removeEventListener=function(e,n,i){if(t.utils.isDefined(n)&&n.I)return r.call(this,e,n,i);var o=a.hh(i),s=t.utils.isDefined(this)?this:window,o;0<=(o=a.Mg(s,e,n,o))?(r.call(s,e,this.eventListenerMap[e][o][2],i),a.bm(s,e,o)):r.call(s,e,n,i)}},a.If=function(e){var n=HTMLElement.prototype,i=Object.getOwnPropertyDescriptor(n,e);t.utils.isDefined(i)&&t.utils.isDefined(i.set)&&Object.defineProperty(n,e,{set:function(n){var r=n,o;t.utils.isDefined(n)&&(r=t.c.uc(e,n,t.CauseType.RESOURCE,!1));try{o=i.set.call(this,r)}catch(t){throw t}return o}})},a}();a.Mc="click dblclick mousedown mouseup change select submit keydown keypress keyup load unload".split(" "),t.ce=a}(k||(k={})),function(t){var e,n,i,r,o,a,s;e=t.utils||(t.utils={}),n=t.utils.map,i=t.utils.bn,r=t.utils.isDefined,o=t.utils.isString,a=t.utils.Cj,s=t.utils.isFunction,e.dg=function(t,e){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(r&&r.test(t)){n=!0;break}}return n},e.Vb=function(t,n,i){var o=!1;if(n&&i)for(var a=0;a<i.length;a++){var s=i[a];if(!(r(s.method)&&t!==s.method||r(s.urls)&&!e.dg(n,s.urls))){o=!0;break}}return o},e.zb=function(t,e){return a(n(i(e),t))},e.pc=function(t){var n=e.fk(t);return t=e.qf(t),n||t},e.fk=function(e){var n=e.method;if(r(n)){if(o(n))return e;t.error("M110")}},e.Wm=function(t){var n=e.qf(t);return e.Wl(t)&&n},e.Wl=function(e){if(s(e.getFromBody))return e;t.error("M111")},e.wj=function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i].pattern;if(o(r))try{n.push(new RegExp(r))}catch(e){t.exception(e,"M112")}else t.error("M113")}return n},void(e.qf=function(t){var n=t.urls;if(n&&0<n.length&&(t.urls=e.wj(n),0<t.urls.length))return t})}(k||(k={})),function(t){(t=(t=t.events||(t.events={})).b||(t.b={})).navigationStart="navigationStart",t.domainLookupStart="domainLookupStart",t.domainLookupEnd="domainLookupEnd",t.connectStart="connectStart",t.secureConnectionStart="secureConnectionStart",t.connectEnd="connectEnd",t.requestStart="requestStart",t.responseStart="responseStart",t.responseEnd="responseEnd",t.domContentLoadedEventStart="domContentLoadedEventStart",t.loadEventEnd="loadEventEnd",t.Ng="sendTime",t.hf="firstByteTime",t.Hg="respAvailTime",t.Ig="respProcTime",t.Rd="viewChangeStart",t.jh="viewChangeEnd",t.Sd="viewDOMLoaded",t.sh="xhrRequestsCompleted",t.zo="viewFragmentsLoaded",t.Ao="viewResourcesLoaded",t.Td="virtualPageStart",t.Zm="virtualPageEnd"}(k||(k={})),function(t){var e=t.events||(t.events={});e.metricSpec={},e.metricSpec[t.EventType.PageView]={Kj:{start:e.b.navigationStart,end:e.b.loadEventEnd,name:"PLT"},Sj:{start:e.b.navigationStart,end:e.b.responseStart,name:"FBT"},ro:{start:e.b.navigationStart,end:e.b.requestStart,name:"SCT"},so:{start:e.b.secureConnectionStart,end:e.b.connectEnd,name:"SHT"},Ln:{start:e.b.domainLookupStart,end:e.b.domainLookupEnd,name:"DLT"},wo:{start:e.b.connectStart,end:e.b.connectEnd,name:"TCP"},oo:{start:e.b.requestStart,end:e.b.responseStart,name:"RAT"},Nn:{start:e.b.responseStart,end:e.b.loadEventEnd,name:"FET"},Rn:{start:e.b.responseStart,end:e.b.domContentLoadedEventStart,name:"DRT"},Qn:{start:e.b.responseStart,end:e.b.responseEnd,name:"DDT"},Jn:{start:e.b.responseEnd,end:e.b.domContentLoadedEventStart,name:"DPT"},no:{start:e.b.domContentLoadedEventStart,end:e.b.loadEventEnd,name:"PRT"},Kn:{start:e.b.navigationStart,end:e.b.domContentLoadedEventStart,name:"DOM"}},e.metricSpec[t.EventType.Ajax]={Sj:{start:e.b.Ng,end:e.b.hf,name:"FBT"},xn:{start:e.b.hf,end:e.b.Hg,name:"DDT"},wn:{start:e.b.Hg,end:e.b.Ig,name:"DPT"},Kj:{start:e.b.Ng,end:e.b.Ig,name:"PLT"}},e.metricSpec[t.EventType.VPageView]={eo:{start:e.b.Td,end:e.b.Zm,name:"PLT"},Fn:{start:e.b.Rd,end:e.b.jh,name:"DDT"},ao:{start:e.b.Rd,end:e.b.Sd,name:"DRT"},on:{start:e.b.jh,end:e.b.Sd,name:"DPT"},pn:{start:e.b.Rd,end:e.b.Sd,name:"DOM"},mo:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},bo:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},$n:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},co:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},e.metricSpec[t.EventType.NG_VIRTUAL_PAGE]=e.metricSpec[t.EventType.VPageView]}(k||(k={})),function(t){var e,n;e=t.events||(t.events={}),n=function(n){function i(r){return(r=n.call(this,r)||this).constructor!=i&&r.constructor!=e.AdrumAjax&&t.reportAPIMessage(t.V.la,t.Wa,"ADRUM.events.Ajax",[]),r}return v(i,n),i.prototype.type=function(){return t.EventType.Ajax},i}(e.EventTracker),e.Ajax=n,e.Ma(e.T[t.EventType.Ajax],n.prototype),void e.Ie(e.metricSpec[t.EventType.Ajax],n.prototype)}(k||(k={})),function(t){var e,n;e=t.events||(t.events={}),n=function(e){function n(t){return e.call(this,t)||this}return v(n,e),n.prototype.type=function(){return t.EventType.Ajax},n}(e.Ajax),e.AdrumAjax=n,void e.Ma(e.T[t.EventType.ADRUM_XHR],n.prototype)}(k||(k={})),function(t){var e,n,i;e=t.utils||(t.utils={}),n=t.utils.isDefined,(i=function(){function i(){}return i.wd=function(e,n){t.conf.spa2?i.uj(e,n):i.Lg(e,n)},i.uj=function(r,o){var a=t.c.Hc(r.h);if(n(t.monitor.AnySpaMonitor.vp)&&!t.monitor.AnySpaMonitor.Ba&&t.monitor.AnySpaMonitor.vp.eb==a){if(o.parent(t.monitor.AnySpaMonitor.vp),++t.monitor.AnySpaMonitor.vp.Je>e.ua.maxPerPageView)return;i.Lg(r,o)}else n(t.monitor.AnySpaMonitor.vp)&&!t.monitor.AnySpaMonitor.Ba&&o.parent(t.monitor.AnySpaMonitor.vp),i.vd(o,r),e.oSTO(i.cm,i.Ai);delete r._adrumAjaxT,t.j.n.G.Xi(o.url())},i.Lg=function(n,r){var o={};n.Ae=o,delete n._adrumAjaxT;var a={};if(n instanceof XMLHttpRequest)try{if(a={status:n.status,getAllResponseHeaders:n.getAllResponseHeaders()},400<=n.status)if(e.isString(n.statusText))a.statusText=n.statusText;else try{a.responseText=n.responseText}catch(t){a.responseType=n.responseType}}catch(e){t.error("M114",e)}e.gc(function(){n.Ae===o&&i.reportXhr(a,r)})},i.reportXhr=function(e,n){i.fh(e,n),t.command("reportXhr",n)},i.vd=function(e,r){if(n(r.h)){var o=t.c.Hc(r.h).guid;i.fh(r,e),n(i.ha[o])||(i.ha[o]=[]),-1==i.ha[o].indexOf(e)&&i.ha[o].push(e)}else t.log("~AnySPA: error in putInParentEventWaitingQueue() as xhr.adrum_causalEvent is undefined.")},i.fh=function(t,n){var i=n.response||t,r=i.status,o;if(e.isNumber(r)&&n.xhrStatus(r),i.getAllResponseHeaders){var a=e.isFunction(i.getAllResponseHeaders)?i.getAllResponseHeaders():i.getAllResponseHeaders;n.allResponseHeaders(a)}if(400<=r){if(e.isString(i.statusText))o=i.statusText;else try{e.isString(i.responseText)&&(o=i.responseText)}catch(t){e.isString(i.responseType)&&(o=i.responseType)}n.error({status:r,msg:o})}},i.Sm=function(t,e){var n="";t.headers.forEach(function(t,e){n+=e+": "+t+"\r\n"}),e.allResponseHeaders(n)},i.Bg=function(t){i.ha[t]=[],delete i.ha[t]},i.wl=function(e,r){var o=i.ha[r];n(o)&&(o.forEach(function(n){n.parent(e),t.command("reportXhr",n)}),i.Bg(r))},i.cm=function(){for(var r in i.ha){for(var o=0,a=i.ha[r];o<a.length;o++){var s=a[o];!n(t.monitor.AnySpaMonitor.vp)&&++i.hj<=e.ua.maxPerPageView?t.command("reportXhr",s):n(t.monitor.AnySpaMonitor.vp)&&++t.monitor.AnySpaMonitor.vp.Je<=e.ua.maxPerPageView&&t.command("reportXhr",s)}i.Bg(r)}},i}()).Ai=2e3,i.ha={},i.hj=0,void(e.vc=i)}(k||(k={})),function(t){var e,n,i;e=t.utils||(t.utils={}),n=t.utils.isDefined,(i=function(){function i(){}return i.setUp=function(){i.exclude=[{urls:[new RegExp(t.conf.beaconUrlHttp+t.conf.corsEndpointPath),new RegExp(t.conf.beaconUrlHttps+t.conf.corsEndpointPath)]}],i.include=[],i.maxPerPageView=i.Vl(t.conf.userConf&&t.conf.userConf.xhr),i.payloadParams=[],i.parameter={},i.tg(t.conf.userConf&&t.conf.userConf.xhr)},i.tg=function(t){n(t)&&(i.exclude=i.exclude.concat(e.zb(e.pc,t.exclude)),i.include=i.include.concat(e.zb(e.pc,t.include)),i.payloadParams=i.payloadParams.concat(e.zb(e.pc,t.payloadParams)),i.parameter=e.zb(e.Wm,t.parameter))},i.Vl=function(r){if(n(r)){if(r=r.maxPerPageView,e.isNumber(r)&&0<r)return r;t.reportAPIMessage(t.V.yh,"value is not valid; don't limit xhr","xhr.maxPerPageView",[r])}return t.conf.spa2?i.Hh:i.Gh},i.lc=function(t,r){var o=i.include,a=i.exclude;return n(o)&&0<o.length&&!e.Vb(r,t,o)||n(a)&&0<a.length&&e.Vb(r,t,a)},i.Ug=function(t,n){var r=i.payloadParams;e.Vb(t.method(),t.url(),r)&&t.dataObject({data:n})},i}()).Gh=50,i.Hh=250,void(e.ua=i)}(k||(k={})),function(t){var e;(e=t.utils||(t.utils={})).parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",slash:t?"//":"",username:e[2]||"",password:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},e.absolutizeURI=function(t,n){function i(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var r,o,a,s,u,c,l,f;return f=n?e.parseURI(n):{},l=t?e.parseURI(t):{},f.protocol?(r=f.protocol,o=f.slash,a=f.username,s=f.password,u=f.host,c=i(f.pathname),l=f.search):f.host?(r=l.protocol,o=l.slash,a=f.username,s=f.password,u=f.host,c=i(f.pathname),l=f.search):(r=l.protocol,o=l.slash,a=l.username,s=l.password,u=l.host,f.pathname?(c="/"===f.pathname.charAt(0)?i(f.pathname):i(c=l.pathname?l.pathname.slice(0,l.pathname.lastIndexOf("/")+1)+f.pathname:o?"/"+f.pathname:f.pathname),l=f.search):(c=i(l.pathname),l=f.search||l.search)),r+o+(a?a+(s?":"+s:"")+"@":"")+u+c+l+(f.hash?f.hash:"")},void(e.getFullyQualifiedUrl=function(n){try{var i,r=document.location.href,o;t:{for(var a=document.getElementsByTagName("base"),s=0;s<a.length;s++){var u=a[s].href;if(u){o=u;break t}}o=void 0}return i=o?e.absolutizeURI(r,o):r,e.absolutizeURI(i,n)}catch(e){return t.exception(e,"M115",n,i),n}})}(k||(k={})),function(t){var e,n,i;e=t.monitor||(t.monitor={}),n=t.utils.isString,(i=function(i){function r(){var t=i.call(this)||this;return t.ca=0,t.ca=0,t}return v(r,i),r.prototype.fc=function(){this.ca=0},r.l=function(e){var i=e.message||e.description,r=e.fileName||e.filename,o=e.lineNumber,a=e.columnNumber;n(e.description)&&0<=e.description.indexOf("Access is denied.")&&(i+=": maybe you have CORS XHR error in IE"),t.monitor.ga.Ha(i,r,o,a,e)},r.Pf=function(t){var n=document.createElement("a");n.href=t;var i=(t=document.location).protocol;return n.protocol===i&&n.hostname===t.hostname&&r.Pl(e.XHRMonitor.Bj[i],n.port,t.port)},r.Pl=function(t,e,n){return(e||t)===(n||t)},r}(e.wc)).Bj={"http:":"80","https:":"443"},void(e.va=i)}(k||(k={})),function(t){!function(e){var n=t.utils.ua,i=t.utils.vc,r=t.utils.mergeJSON,o=t.events.AdrumAjax,a=t.utils.isString,s=t.utils.isDefined,u=t.utils.isNumber,c=t.utils.getFullyQualifiedUrl,l=t.conf.spa2;e.cb=null,e.oh=window.fetch;var f=function(f){function p(){return null!==f&&f.apply(this,arguments)||this}return v(p,f),p.prototype.Nk=function(){var t=this,n=Object.getOwnPropertyDescriptor(window,"fetch");if(!n||n.configurable){n&&delete n.writable,n&&delete n.value,n||(n={configurable:!0,enumerable:!0});var i=n.set,r=n.get;n.set=function(n){!0!==n.isAgentFetch&&(s(i)&&i.apply(this,arguments),s(e.cb)||t.setUp(n))},n.get=function(){var t=e.oh;return s(r)&&(t=r.apply(this,arguments)),s(e.cb)&&(t=e.cb),t}}Object.defineProperty(window,"fetch",n)},p.prototype.setUp=function(a){var u=this;if(a=a||window.fetch||e.oh,t.log("M116"),s(a)){var c=function(n){return function(r,o){var a=arguments;t.log("M117",u._adrumAjaxT.url(),u._adrumAjaxT.method());var s=t.utils.now();e.va.Pf(u._adrumAjaxT.url())&&(a=p.Ri(arguments));var c=n.apply(this,a),f=new window.Promise(function(e,n){c.then(function(n){if(t.log("M118",u._adrumAjaxT.url()),t.log("M119",s,u._adrumAjaxT.url()),i.Sm(n,f._adrumAjaxT),f._adrumAjaxT.markFirstByteTime(f._adrumAjaxT.getFirstByteTime()||t.utils.now()),f._adrumAjaxT.response=n,g(n.clone)){t.log("M120",u._adrumAjaxT.url());var r=n.clone().text();r["catch"](function(){p.Tc(f)}),p.xk(r,f)}else t.log("M121",u._adrumAjaxT.url()),p.wm(f,n);e(n)}),c["catch"](function(e){t.log("M122",u._adrumAjaxT.url()),f._adrumAjaxT.markFirstByteTime(f._adrumAjaxT.getFirstByteTime()||t.utils.now()),p.Tc(f),n(e)})});return f._adrumAjaxT=u._adrumAjaxT,f.I=!0,f._adrumAjaxT.timestamp(s),f._adrumAjaxT.markSendTime(s),f._adrumAjaxT.parentPhase(t.lifecycle.getPhaseName()),p.qm(f._adrumAjaxT,arguments),t.log("M123",s,u._adrumAjaxT.url()),l&&(f.h=new t.Db(t.c.ia(),new t.Ka("window.fetch"),t.CauseType.FETCH)),f}};c.isAgentFetch=!0,e.cb=t.aop.around(c(a),function(){var i=p.qk(arguments);!l&&++u.ca+e.xhrMonitor.ca>=n.maxPerPageView||n.lc(i.url,i.method)?t.log("M124",i.url):(u._adrumAjaxT=new o(r(i,u.status)),l&&(u.h=t.c.Oa("window.fetch.send",void 0,t.c.ia(),t.CauseType.FETCH),t.c.qa(u.h)))},function(){!l&&u.ca+e.xhrMonitor.ca>=n.maxPerPageView?t.log("M125",u._adrumAjaxT.url()):n.lc(u._adrumAjaxT.url(),u._adrumAjaxT.method())?t.log("M126",u._adrumAjaxT.url()):l&&(t.j.n.G.Be(u._adrumAjaxT.url()),t.c.L())},"fetch",e.va.l),window.fetch=e.cb}},p.xk=function(e,n){e.then(function(e){var i=t.utils.now();p.aa(n)&&(n._adrumAjaxT.response.responseText=e,p.$f(n._adrumAjaxT,i),e=n._adrumAjaxT.getRespProcTime(),s(e)||s(n._adrumAjaxT.w)&&0!==n._adrumAjaxT.w||(t.log("M127",i,n._adrumAjaxT.url()),n._adrumAjaxT.markRespProcTime(i),p.Ta(n)))})["catch"](function(){p.Tc(n)})},p.Tc=function(e){t.log("M128",e._adrumAjaxT.url());var n=t.utils.now();p.aa(e)&&(p.$f(e._adrumAjaxT,n),p.ag(e._adrumAjaxT,n),p.Ta(e))},p.$f=function(e,n){var i=e.getRespAvailTime();s(i)||(t.log("M129",n,e.url()),e.markRespAvailTime(n))},p.ag=function(e,n){var i=e.getRespProcTime();if(s(i))return!1;return t.log("M130",n,e.url()),e.markRespProcTime(n),!0},p.wm=function(t,e){e.ej=p.Ab(t,e.ej),e.lj=p.Ab(t,e.lj),e.Uj=p.Ab(t,e.Uj),e.rl=p.Ab(t,e.rl),e.text=p.Ab(t,e.text)},p.Ab=function(e,n){return t.aop.around(n,function(){p.aa(e)&&e._adrumAjaxT.markRespAvailTime(t.utils.now())},function(){p.aa(e)&&(e._adrumAjaxT.markRespProcTime(t.utils.now()),p.Ta(e))},"wrapResponseReader",t.monitor.ErrorMonitor.l)},p.Ri=function(t){return 1==t.length?a(t[0])?([].push.call(t,{}),p.Ec(t[1])):p.Ec(t[0]):2==t.length&&p.Ec(t[1]),t},p.Ec=function(e){s(e)&&(s(e.headers)||(e.headers=new Headers,t.log("M131")),e.headers instanceof Headers?e.headers.has("ADRUM")?e.headers.set("ADRUM","isAjax:true"):e.headers.append("ADRUM","isAjax:true"):e.headers.ADRUM="isAjax:true")},p.qm=function(e,i){2<=i.length&&t.utils.isObject(i[1])&&s(i[1].body)&&n.Ug(e,i[1].body)},p.qk=function(e){var n={url:"",method:""};return t.utils.isObject(e[0])?(n.url=e[0].url||(t.utils.isDefined(e[0].toString)?e[0].toString():void 0),n.method=e[0].method||"GET"):a(e[0])&&(n.url=e[0],n.method=e[1]&&e[1].method||"GET"),n.url=s(n.url)?n.url:"",n.url=c(n.url),n.method=n.method,n},p.Hk=function(e){var n;s(n)||(t.log("M132",e._adrumAjaxT.url()),n=1),s(e._adrumAjaxT.w)&&u(e._adrumAjaxT.w)&&(e._adrumAjaxT.w+=n,t.log("M133",e._adrumAjaxT.w,e._adrumAjaxT.url()))},p.Mb=function(e){var n;s(n)||(t.log("M134",e._adrumAjaxT.url()),n=1),s(e._adrumAjaxT.w)&&u(e._adrumAjaxT.w)&&(e._adrumAjaxT.w-=n,t.log("M135",e._adrumAjaxT.w,e._adrumAjaxT.url()))},p.aa=function(t){return s(t._adrumAjaxT)},p.Rb=function(t){return s(t._adrumAjaxT.w)},p.Um=function(e,n){e._adrumAjaxT=n._adrumAjaxT,e._adrumAjaxT.w+=e.D,t.log("M136",e._adrumAjaxT.w,n._adrumAjaxT.url()),e.D=0},p.Xm=function(t){var e=!1;return p.aa(t)&&s(t._adrumAjaxT.w)&&(p.Hk(t),e=!0),e},p.Ta=function(t){i.wd(t,t._adrumAjaxT)},p.Qd=function(e){var n=t.utils.now();return!(0!==e._adrumAjaxT.w||!s(e._adrumAjaxT))&&p.ag(e._adrumAjaxT,n)},p.Pd=function(e){var n=!1,i=t.utils.now(),r=e._adrumAjaxT.getRespAvailTime();return s(r)||(e._adrumAjaxT.markRespAvailTime(i),n=!0),n},p.Jk=function(e){t.log("M137",e._adrumAjaxT.url()),e._adrumAjaxT.w=0},p}(e.va);e.ee=f,e.ib=new e.ee}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){!function(e){var n=t.utils.isObject,i=t.utils.map,r=t.utils.reduce,o=t.utils.filter,a=t.utils.isDefined,s=t.utils.isString,u=t.utils.mergeJSON,c=t.utils.wa,l=t.utils.gc,f=t.utils.ua,p=t.utils.vc,d=t.conf.spa2,h=function(h){function m(){var e=h.call(this)||this;if(e.Id=!1,!0===window["adrum-xhr-disable"])return t.log("M138"),e;if(!window.XMLHttpRequest)return t.log("M139"),e;if(e.C=window.XMLHttpRequest.prototype,!e.C)return t.log("M140"),e;if(!("open"in e.C&&"send"in e.C))return t.log("M141"),e;return e.Id=t.aop.support(e.C.open)&&t.aop.support(e.C.send),e.Id||t.log("M142"),e}return v(m,h),m.prototype.setUp=function(){if(this.Id){t.log("M143"),t.xhrConstructor=window.XMLHttpRequest,t.xhrOpen=this.xhrOpen=this.C.open,t.xhrSend=this.xhrSend=this.C.send,f.setUp();var n=this;this.C.open=t.aop.around(this.C.open,function(){m.hl(this)&&(4===this.readyState?(t.log("M144"),m.Mj(this._adrumAjaxT),delete this.Ae,p.reportXhr(this,this._adrumAjaxT)):t.log("M145",this._adrumAjaxT.url()));var i=1<=arguments.length?String(arguments[0]):"",r=2<=arguments.length?String(arguments[1]):"",r=t.utils.getFullyQualifiedUrl(r);!d&&n.ca+e.ib.ca>=f.maxPerPageView||f.lc(r,i)||(this._adrumAjaxT=new t.events.AdrumAjax(u({method:i,url:r},n.status)))},null,"XHR.open",e.va.l),this.C.send=t.aop.around(this.C.send,function(r){var o=this,a=this._adrumAjaxT,s=!1;if(!(!a||!d&&++n.ca+e.ib.ca>=f.maxPerPageView)){var u=t.utils.now(),c=a.getSendTime();t.assert(null===c,"M146"),a.timestamp(u),a.markSendTime(c||u),a.parentPhase(t.lifecycle.getPhaseName()),d&&(o.h=t.c.Oa("XHR.send",void 0,t.c.ia(),t.CauseType.XHR)),e.va.Pf(a.url())?o.setRequestHeader("ADRUM","isAjax:true"):t.log("M147",document.location.href,a.url()),f.Ug(a,r),r=m.mk(a.url(),f.parameter,r),a.parameter(r);var p=0,h=function(){if(4==o.readyState)s?t.log("M148"):(t.log("M149"),n.tc(o));else{var e=null;try{e=o.onreadystatechange}catch(e){if(s)return t.log("M150",e),void 0;return t.log("M151",e),n.tc(o),void 0}p++,e?t.aop.support(e)?(o.onreadystatechange=m.Ze(e,"XHR.onReadyStateChange"),i&&n.rh.call(o,"readystatechange",m.bf),t.log("M152",p)):i||(t.log("M153"),n.tc(o)):p<m.Oi?l(h):s?t.log("M154"):(t.log("M155"),n.tc(o))}};if(i){t.log("M156");try{n.hn.call(o,"readystatechange",m.bf),s=!0}catch(e){t.error("M157",e)}}h()}},function(){if(d){var e=this._adrumAjaxT;e&&t.j.n.G.Be(e.url())}},"XHR.send",e.va.l);var i="addEventListener"in this.C&&"removeEventListener"in this.C&&t.aop.support(this.C.addEventListener)&&t.aop.support(this.C.removeEventListener);if(i){var r=t.utils.nf(this.C,"addEventListener");this.hn=r.addEventListener,r.addEventListener=t.aop.around(r.addEventListener,function(e,n,i){if(a(n)&&(n.I=!0,this instanceof XMLHttpRequest&&/^(load|error|readystatechange)$/.test(e)&&n)){var r=m.Om(n);if(r){var o=c(arguments);return o[1]=r,t.log("M158"),o}t.log("M159",e,n)}},null,"XHR.addEventListener"),r=t.utils.nf(this.C,"removeEventListener"),this.rh=r.removeEventListener,r.removeEventListener=t.aop.around(r.removeEventListener,function(e,i,r){if(this instanceof XMLHttpRequest&&this._adrumAjaxT){var o=c(arguments);i.__adrumInterceptor?(o[1]=i.__adrumInterceptor,t.log("M160"),n.rh.apply(this,o)):t.log("M161")}},null,"XHR.removeEventListener")}else t.log("M162");t.log("M163")}},m.mk=function(e,a,s){if(a&&0<(a=o(i(o(a,function(n){return t.utils.dg(e,n.urls)}),function(t){return t.getFromBody(s)}),n)).length)return r(a,u,{})},m.ad=function(e){var n=e._adrumAjaxT;if(n){var i=t.utils.now();2==e.readyState?n.markFirstByteTime(n.getFirstByteTime()||i):4==e.readyState&&(n.markRespAvailTime(n.getRespAvailTime()||i),n.markFirstByteTime(n.getFirstByteTime()||i),d&&(e=e.h=t.c.Oa("XHR.load",void 0,e.h,t.CauseType.XHR),t.c.qa(e)))}},m.zf=function(e){var n=e._adrumAjaxT;if(n&&4==e.readyState){var i=t.utils.now(),r=n.getRespProcTime();n.markRespAvailTime(n.getRespAvailTime()||i),i>r&&n.markRespProcTime(i),p.wd(e,n),t.conf.spa2&&t.c.L()}},m.Ze=function(t,e){return m.jn(t,function(){m.ad(this)},function(){m.zf(this)},e)},m.bf=function(){m.ad(this),m.zf(this)},m.hl=function(t){return a(t._adrumAjaxT)&&s(t._adrumAjaxT._url)},m.Mj=function(e){var n=t.utils.now();e.markRespAvailTime(e.getRespAvailTime()||n),e.markFirstByteTime(e.getFirstByteTime()||n),e.markRespProcTime(e.getRespProcTime()||n)},m.prototype.tc=function(e){if(e._adrumAjaxT){var n=t.utils.now()+3e4,i=function(){m.ad(e);var r=e._adrumAjaxT;if(r){var o=t.utils.now();4==e.readyState?(t.assert(null===r.getRespProcTime(),"M164"),r.markRespProcTime(r.getRespProcTime()||o),t.log("M165"),p.wd(e,r),t.conf.spa2&&t.c.L()):o<n?t.utils.oSTO(i,m.be):(delete e._adrumAjaxT,t.log("M166"))}};i()}},m.jn=function(e,n,i,r){var o=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(o=function(){e.handleEvent.apply(this,c(arguments))}),t.aop.around(o,n,i,r)},m.Om=function(e){if(e.__adrumInterceptor)return e.__adrumInterceptor;if(t.aop.support(e)){var n=m.Ze(e,"XHR.invokeEventListener");return e.__adrumInterceptor=n}},m}(e.va);h.Oi=5,h.be=50,e.XHRMonitor=h,e.xhrMonitor=new e.XHRMonitor}(t.monitor||(t.monitor={}))}(k||(k={})),function(t){var e,n,i;e=t.events||(t.events={}),n=t.utils.vc,i=function(i){function r(e){return(e=i.call(this,e)||this).perf=new t.PerformanceTracker,e.$e=!1,e.Je=0,e}return v(r,i),r.prototype.type=function(){return t.EventType.VPageView},r.prototype.Wc=function(){return e.EventTracker.Dc(this.guid(),this.url(),this.type())},r.prototype.Fd=function(){var e=this.Wc();t.monitor.ga.set("parent",e),t.log("M167",e.guid(),e.url())},r.prototype.startCorrelatingXhrs=function(){t.log("M168"),t.utils.isDefined(this.eb)&&!t.monitor.AnySpaMonitor.Ba&&n.wl(this,this.eb.guid)},r.prototype.start=function(){this.startCorrelatingXhrs(),this.Fd()},r}(e.EventTracker),e.AnySpaVPageView=i,void e.Ma(e.T[t.EventType.VPageView],i.prototype)}(k||(k={})),function(t){t.report=function(e){t.utils.isObject(e)&&t.utils.isFunction(e.type)?-1==[t.EventType.PageView,t.EventType.Ajax,t.EventType.VPageView,t.EventType.Error].indexOf(e.type())?t.reportAPIMessage(t.V.la,e.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):t.conf.spa2&&t.EventType.VPageView==e.type()?t.log("M169"):t.utils.gc(function(){t.command("reportEvent",e)}):t.reportAPIMessage(t.V.Wd,"","ADRUM.report",Array.prototype.slice.call(arguments))},t.markVirtualPageBegin=function(e,n){t.conf.spa2&&(this.Pa=!t.utils.isDefined(n)||n,t.log("M170",document.URL),t.monitor.AnySpaMonitor.Dd(document.URL,e,!0),t.monitor.AnySpaMonitor.Qg())},t.markVirtualPageEnd=function(){t.conf.spa2&&this.Pa&&(t.log("M171",t.monitor.AnySpaMonitor.ja),t.monitor.AnySpaMonitor.bg(t.monitor.AnySpaMonitor.vp.startTime,t.utils.now()),this.Pa=!1)}}(k||(k={})),function(t){var e,n,i,r,o;e=t.monitor||(t.monitor={}),n=t.utils.isDefined,i=t.aop.after,r=t.aop.before,o=function(){function o(){}return o.prototype.setUp=function(){var n=!1;if(o.xa=t.utils.hb(),t.c.setUp(),t.ce.setUp(),o.tm(),t.j.n.setUp(t.utils.now()),o.ja=document.URL,o.Rc=[],t.utils.isDefined(window.history)&&t.utils.isFunction(window.history.pushState)&&(n=!0,window.history.pushState=t.aop.around(window.history.pushState,function(){e.DOMEventsMonitor.Zb&&!t.Pa&&(t.log("M172"),o.Dd(document.URL))},function(){e.DOMEventsMonitor.Zb&&(t.Pa?(t.log("M173"),o.vp.url(document.URL)):(t.log("M174"),o.Qg())),o.ja=document.URL},"historyPushState")),o.Rc=o.Rc.concat(t.utils.zb(t.utils.pc,t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.spa2&&t.utils.isObject(t.conf.userConf.spa.spa2)&&t.conf.userConf.spa.spa2.vp&&t.conf.userConf.spa.spa2.vp.exclude)),t.utils.isDefined(window.addEventListener)){var n=!0,i=function(){o.ja!=document.URL&&o.Rg()};i.I=!0,window.addEventListener("popstate",i)}n||t.log("M175")},o.Rg=function(){var n=document.URL;t.log("M176",o.ja,n),e.DOMEventsMonitor.Zb&&(t.Pa?(t.log("M177"),o.vp.url(document.URL)):(o.Dd(o.ja),o.Gd(n))),o.ja=n},o.tm=function(){var e;t.c.qa=i(t.c.qa,function(){e=location.hash}),t.c.L=r(t.c.L,function(){e!=location.hash&&o.ja!=document.URL&&o.Rg()})},o.Dd=function(t,e,n){o.nm(),o.Ba=!1,o.Ye(t,e,n)},o.Qg=function(){var t=document.URL;o.Gd(t),o.ja=t},o.In=function(){o.Ba=!0,o.Ye(o.ja),o.Gd()},o.nm=function(){var n=t.j.n;t.conf.enablePrimaryMetrics&&t.j.Eb.Fa&&t.utils.isDefined(e.DOMEventsMonitor.currentBasePage)&&(t.log("M178"),n.G.B||n.J.B?n.navComplete(t.utils.now()):n.navComplete(t.utils.max(n.G.Da,n.J.ba)),n.reset()),o.Ba||!t.utils.isDefined(o.vp)||o.vp.Dg||(t.log("M179"),n=o.ck(t.j.n.B),o.bg(o.vp.startTime,n))},o.ck=function(e){var n=t.utils.now();return e?(n=o.dk(t.j.n.Qa),t.j.n.reset()):n=o.vp.timestamp(),n},o.ym=function(e,i){return!o.vp.$e&&(n(i)&&0<i.length&&t.utils.Vb(void 0,e,i))},o.dk=function(e){var n=t.utils.now();return e?t.j.n.J.cj()||t.j.n.G.dj()||(n=t.utils.max(t.j.n.J.ba,t.j.n.G.Da)):n=t.j.n.startTime,n},o.bg=function(t,e){o.kd(t,e),o.Zf(t),o.report()},o.Ye=function(e,n,i){o.reset(),o.vp=new t.events.AnySpaVPageView,o.vp.startUrl=e,t.utils.isDefined(n)&&(o.vp.userPageName=n),t.utils.isBoolean(i)&&(o.vp.$e=i),e=t.c.Gc(),o.vp.startTime=o.Ba?t.utils.hb():t.utils.isDefined(e)?e.start:t.utils.now(),o.vp.eb=e},o.Gd=function(e){t.utils.isDefined(e)&&o.vp.url(e),o.vp.start(),t.Pa||t.j.n.start(t.utils.now())},o.kd=function(e,n){t.utils.isDefined(o.vp)&&(t.conf.enablePrimaryMetrics&&o.pj(e),t.utils.isDefined(n)?t.conf.enablePrimaryMetrics?o.vp.timestamp(n-e>o.vp.vct?n:o.vp.vct+e):o.vp.timestamp(n):o.vp.timestamp(e))},o.pj=function(e){t.log("M180"),e=t.N.Ue(e),o.vp.vct=e.vct,t.N.reset()},o.Zf=function(n){t.utils.isDefined(o.vp)&&o.vp.resTiming(e.resourceMonitor.sk(o.xa,n))},o.cd=function(){var e=t.c.vk();return t.utils.isDefined(e)&&t.utils.isDefined(o.vp)&&(!t.utils.isDefined(o.vp.eb)||o.vp.eb!=e)},o.report=function(){if(t.utils.isDefined(o.vp))if(o.ym(o.vp.url(),o.Rc))t.log("M182",o.vp.url());else{t.log("M183");var n=o.vp;if(n.Dg)t.log("M184");else{var i=t.utils.isDefined(e.DOMEventsMonitor.currentBasePage)?e.DOMEventsMonitor.currentBasePage.url():document.URL;n.parentUrl(i),t.command("call",function(){t.reporter.reportEvent(n)}),n.Dg=!0}}else t.log("M181")},o.reset=function(){o.vp=null},o}(),e.AnySpaMonitor=o,void(e.bj=new e.AnySpaMonitor)}(k||(k={})),function(t){var e,n;e=t.j||(t.j={}),(n=function(){function n(){this.J=new e.Lh,this.G=new e.Bh,this.zl=3e3,this.maxInactiveTime=t.conf.userConf&&t.conf.userConf.navComplete&&t.conf.userConf.navComplete.maxInactiveTime?t.conf.userConf.navComplete.maxInactiveTime:Math.max(this.J.pb,this.G.pb)+this.zl,this.sg=1e3}return n.prototype.setUp=function(t){this.currentTime=this.startTime=t,this.B=this.Qa=!1,this.J.setUp(t),this.G.setUp(t)},n.prototype.start=function(t){this.setUp(t),this.B=!0,this.J.start(t),this.G.start(t),this.Pe(),this.Cm()},n.prototype.Cm=function(){this.bh=t.utils.refs.setInterval.call(window,function(){t.P(),this.currentTime=t.utils.now();var e=t.utils.max(this.J.ba,this.G.Da);if(this.currentTime-e>=this.maxInactiveTime){if(t.conf.enablePrimaryMetrics&&n.Fa&&!t.utils.isDefined(t.monitor.DOMEventsMonitor.currentBasePage))return t.log("M185"),n.Na=n.Na||this.Qa?this.currentTime:e,void 0;this.currentTime=n.Na||this.currentTime,t.log("M186"),this.navComplete(this.Qa?this.currentTime:e),this.reset()}t.Q()}.bind(this),this.sg)},n.prototype.Wg=function(){this.Qa||(this.Am(),this.Qa=!0)},n.prototype.Pe=function(){t.utils.isDefined(this.yg)&&clearInterval(this.yg),t.utils.isDefined(this.bh)&&clearInterval(this.bh)},n.prototype.reset=function(){this.Pe(),this.B=this.Qa=!1,this.J.reset(),this.G.reset()},n.prototype.navComplete=function(e){t.P();var i=t.utils.isDefined(t.monitor.AnySpaMonitor.vp&&t.monitor.AnySpaMonitor.vp.startTime)?t.monitor.AnySpaMonitor.vp.startTime:this.startTime;t.log("M187",e-i),t.conf.enablePrimaryMetrics?n.Fa?(t.monitor.PerformanceWrapper.perf&&(t.monitor.navMonitor.Xe(),t.monitor.resourceMonitor.We()),t.log("M188"),e=t.N.Ue(t.utils.hb()),t.monitor.DOMEventsMonitor.currentBasePage.vct=e.vct,t.conf.spa2&&(t.monitor.DOMEventsMonitor.currentBasePage.pct=e.pct),t.command("reportOnload",t.monitor.DOMEventsMonitor.currentBasePage),t.N.reset(),t.N.za=!1,n.Fa=!1):t.monitor.AnySpaMonitor.kd(i,e):(t.monitor.resourceMonitor.basePageResourceBuffer=[],t.monitor.AnySpaMonitor.kd(i,e)),t.monitor.AnySpaMonitor.Ba||(t.monitor.AnySpaMonitor.Zf(i),t.monitor.AnySpaMonitor.report()),t.Q(),t.isDebug&&x.log("execTime = "+t.Sc)},n.prototype.Am=function(){this.yg=t.utils.refs.setInterval.call(window,function(){t.P(),this.currentTime=t.utils.now();var e=this.J.bd(this.currentTime);if(0<=e&&t.log("M189",e-this.startTime),0<=(e=this.G.bd(this.currentTime))&&t.log("M190",e-this.startTime),!this.G.B&&!this.J.B){if(e=t.utils.max(this.G.Da,this.J.ba),t.conf.enablePrimaryMetrics&&n.Fa&&!t.utils.isDefined(t.monitor.DOMEventsMonitor.currentBasePage))return t.log("M191"),n.Na=n.Na||e,void 0;e=n.Na||e,t.log("M192"),this.navComplete(e),this.reset()}t.Q()}.bind(this),this.sg)},n}()).Fa=!0,n.Na=0,e.Eb=n,void(e.n=new e.Eb)}(k||(k={})),function(t){var e=function(){function e(){this.nc=[],this.ec(e.Cc,0)}return e.prototype.Dl=function(t){this.ec(e.Ce,t)},e.prototype.Fl=function(t){this.ec(e.Ke,t)},e.prototype.El=function(t){this.ec(e.Ee,t)},e.prototype.ec=function(t,e){this.nc.push({Cl:(new Date).getTime(),Bl:e,pg:t}),this.xj=t},e.prototype.getPhaseName=function(){return this.xj},e.prototype.getPhaseID=function(t){for(var n=0;n<e.He.length;n++)if(e.He[n]===t)return n;return null},e.prototype.getPhaseCallbackTime=function(t){for(var e=this.nc,n=0;n<e.length;n++)if(e[n].pg===t)return e[n].Cl;return null},e.prototype.findPhaseAtNominalTime=function(n){t.assert(0<=n);for(var i=this.nc,r=i.length-1;0<=r;r--)if(n>=i[r].Bl)return i[r].pg;return t.error("M193",n,t.utils.dumpObject(i)),e.Cc},e}();e.Cc="AFTER_FIRST_BYTE",e.Ce="AFTER_DOM_INTERACTIVE",e.Ke="AT_ONLOAD",e.Ee="AFTER_ONLOAD",e.He=[e.Cc,e.Ce,e.Ke,e.Ee],t.PageLifecycleTracker=e,t.lifecycle=new e,t.lifecycle=t.lifecycle}(k||(k={})),function(t){var e,n;e=t.events||(t.events={}),n=function(e){function n(n){return(n=e.call(this,n)||this).backTimeGap=t.conf.backTimeGap,n}return v(n,e),n.prototype.type=function(){return t.EventType.PageView},n}(e.EventTracker),void(e.PageView=n)}(k||(k={})),function(t){var e,n,i;e=t.monitor||(t.monitor={}),n=t.utils.now,(i=function(){function i(){}return i.prototype.setUp=function(){var e=document.readyState;if("loading"===e)t.log("M194"),i.um(),i.Tg();else{var r={timeStamp:n()};i.Ya(r),"interactive"===e?(t.log("M195"),i.Tg()):(t.log("M196"),i.sb(r),i.kg(r))}},i.Tg=function(){t.utils.addEventListener(window,"load",i.sb),t.utils.addEventListener(window,"load",i.kg)},i.kg=function(r){i.currentBasePage=new t.events.PageView,t.lifecycle.Fl(r&&r.timeStamp),t.utils.gc(function(){var r=n();t.lifecycle.El(r),t.command("mark","onload",r),i.Zb=!0,t.conf.enablePrimaryMetrics?t.N.Dj():(e.PerformanceWrapper.perf&&(e.navMonitor.Xe(),e.resourceMonitor.We()),t.command("reportOnload",i.currentBasePage)),!t.conf.enablePrimaryMetrics&&t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable&&t.j.n.J.Sg(),t.utils.loadScriptAsync(t.conf.adrumExtUrl)}),t.log("M197")},i.um=function(){if(t.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",i.Ya,!1);else if(t.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",i.Ya);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(t){}null!=e&&e.doScroll&&function n(){if(!i.isReady){try{e.doScroll("left")}catch(e){return t.utils.oSTO(n,10),void 0}i.sb()}}()}else t.exception("M198");t.log("M199")},i.sb=function(e){i.cg||(t.lifecycle.Dl(e&&e.timeStamp),t.command("mark","onready",n()),i.cg=!0)},i.Ya=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",i.Ya,!1),i.sb(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i.Ya),i.sb(t))},i}()).isReady=!1,i.cg=!1,i.Zb=!1,e.DOMEventsMonitor=i,void(e.domEventsMonitor=new e.DOMEventsMonitor)}(k||(k={})),function(t){var e=t.utils.isDefined,n=t.utils.isNumber,i=t.monitor.ee;t.nh=window.Promise,t.Jb=null,t.xo=null,t.te=Object.defineProperty;var r=t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable,o=t.conf.isZonePromise,a=t.conf.fetch,s=function(){function a(){}return a.Pk=function(){if(Object.defineProperty=t.aop.around(t.te,function(t,n,i){"Promise"===n&&e(i)&&a.Hf(i)}),o&&a.Jf()){t.log("M200");var n=Object.getOwnPropertyDescriptor(window,"Promise");a.Hf(n),t.te(window,"Promise",n),window.Promise=window.Promise}},a.Jf=function(){return e(window.__zone_symbol__Promise)||e(window.__zone_symbol__ZoneAwarePromise)},a.Hf=function(n){e(window.Zone)&&e(window.Zone.assertZonePatched)&&(window.Zone.assertZonePatched=function(){});var r=(n=n||Object.getOwnPropertyDescriptor(window,"Promise")).set,o=n.get;g(r)&&(n.set=function(n){!0===n.agentPromise?t.log("M201"):(r.apply(this,arguments),e(t.Jb)?r.apply(this,arguments):(t.log("M202"),a.setUp(),(new i).Nk()))}),g(o)&&(n.get=function(){var n=o.apply(this,arguments);return e(t.Jb)&&(t.log("M203"),n=t.Jb),n})},a.setUp=function(){if(e(t.nh)){a.Sk(),a.Rk();var n=function(n){function i(i){var o=this.constructor,s=i;return this.Z=t.utils.generateGUID(),e(i)&&(s=a.Qk(i,this)),i=t.utils.Qi(this,n,[s],o),r&&(e(this.h)&&(i.h=this.h),e(this.Ga)?i.h=this.Ga.h:i.h=t.c.ia()),i.Z=this.Z,this.Ga=i,t.log("M204",i.Z),r&&e(i.h)&&t.log("M205",i.h.guid),i}return t.utils.Ac(i,n),i}(window.Promise);n.agentPromise=!0,t.Jb=n,window.Promise=n}},a.ya=function(n,i){return function(){if(r){var o,s=o=void 0;switch(t.log("M206",n),n){case a.H.le:case a.H.ke:case a.H.Zd:case a.H.Yd:t.utils.isDefined(i)&&t.utils.isDefined(i.Ga)&&(o=i.Ga.h),o=t.c.ia()||o,s=new t.Db(o,new t.Ka(n),t.CauseType.PROMISE);break;case a.H.ie:case a.H.je:case a.H.he:o=i.h,s=new t.Db(o,new t.Ka(n),t.CauseType.PROMISE),t.c.qa(s)}e(i)&&(e(i.Ga)?(i.Ga.h=s,t.log("M207",i.Ga.Z)):(t.log("M208",i.Z),i.h=s))}}},a.Qk=function(n,i){return r&&(n=t.aop.around(n,function(){if(i.h=new t.Db(t.c.ia(),new t.Ka(a.H.Wh),t.CauseType.PROMISE),t.c.qa(i.h),t.log("M209",i.h.guid,i.Z),e(arguments[0])){t.log("M210");var n=t.aop.around(arguments[0],a.ya(a.H.le,i));arguments[0]=n}return e(arguments[1])&&(t.log("M211"),n=t.aop.around(arguments[1],a.ya(a.H.ke,i)),arguments[1]=n),t.utils.wa(arguments)},function(){t.log("M212"),t.c.L()},"interceptPromiseExecutor",a.rb)),n},a.Rk=function(){t.utils.refs.promiseThen=window.Promise.prototype.then;var e=a.wg(),n={parentObject:window.Promise.prototype,property:"then",propertyWrappedFunctionName:"promiseThen",wrapNewFunctionAgain:!0};n.setUpFunc=function(t){return function(e){a.Jf()||a.am(e,t)}}.call(this,n),n.La=e,t.aop.forceWrap(n),t.utils.refs.promiseFinally=window.Promise.prototype["finally"],e=a.vg(),(n={parentObject:window.Promise.prototype,property:"finally",propertyWrappedFunctionName:"promiseFinally",wrapNewFunctionAgain:!0}).setUpFunc=function(t){return function(e){a.$l(e,t)}}.call(this,n),n.La=e,t.aop.forceWrap(n)},a.am=function(t,e){e.La=a.wg(t)},a.$l=function(t,e){e.La=a.vg(t)},a.Sk=function(){a.Yl(),a.Xl()},a.gl=function(e){return e instanceof a||e instanceof t.nh},a.Gk=function(i){var r;e(r)||(t.log("M213"),r=1),e(i.D)&&n(i.D)&&(i.D+=r,t.log("M214",i.D))},a.Aj=function(t){var i;e(i)||(i=1),e(t.D)&&n(t.D)&&(t.D-=i)},a.Ik=function(n){e(n.D)&&t.utils.cl(n.D)?(t.log("M215"),a.Gk(n)):n.D=1},a.Tm=function(e){i.Xm(e)||(t.log("M216"),a.Ik(e))},a.fm=function(t){t.D=0},a.Of=function(t){return e(t.I)},a.fd=function(t){return e(t)&&t instanceof window.Promise},a.wg=function(n){var o=null;return n=n||window.Promise.prototype.then,(n=t.aop.around(n,function(){var n=this;if(o=n,t.log("M217",n.Z),e(arguments[0])&&!a.fd(arguments[0])){a.Tm(n),t.log("M218",n.Z);var s=t.aop.around(arguments[0],a.ya(a.H.ie,n),function(){var o=t.aop.uf(arguments);e(o)&&e(o.D)&&a.gl(o)&&i.aa(n)?(i.Um(o,n),a.fm(o)):(i.aa(n)&&!a.Of(n)&&i.Rb(n)&&(i.Pd(n),i.Mb(n),!0===i.Qd(n)&&(t.log("M219"),t.log("M220"),i.Ta(n))),r&&(t.log("M221"),t.c.L()))},"interceptPromiseThenFulfil",function(e){i.aa(n)&&i.Rb(n)&&(i.Pd(n)&&i.Mb(n),!0===i.Qd(n)&&(t.log("M222"),t.log("M223"),i.Ta(n))),a.rb(e)});arguments[0]=s}return e(arguments[1])&&!a.fd(arguments[1])&&(t.log("M224",n.Z),s=t.aop.around(arguments[1],a.ya(a.H.je,n),function(){r&&(t.log("M225"),t.c.L())}),arguments[1]=s),t.utils.wa(arguments)},function(){var n=t.aop.uf(arguments);!e(n)||e(arguments[0])&&a.fd(arguments[0])||(r&&(n.h=this.h),a.Of(this)&&i.aa(this)&&(n._adrumAjaxT=this._adrumAjaxT,i.Rb(this)||i.Jk(n)))},"interceptPromiseThenInterceptor",function(e){var n=o;i.aa(n)&&i.Rb(n)&&(i.Pd(n)&&i.Mb(n),!0===i.Qd(n)&&(t.log("M226"),t.log("M227"),i.Ta(n))),a.rb(e)})).usedByAgent=!0,window.Promise.prototype.then=n},a.vg=function(n){if(e(window.Promise.prototype["finally"]))return n=n||window.Promise.prototype["finally"],(n=t.aop.around(n,function(){if(e(this._adrumAjaxT)&&e(this._adrumAjaxT.w)?i.Mb(this):e(this.D)&&a.Aj(this),e(arguments[0])){t.log("M228",this.Z);var n=t.aop.around(arguments[0],a.ya(a.H.he,this),function(){r&&(t.log("M229"),t.c.L())});return arguments[0]=n,t.utils.wa(arguments)}},function(){t.log("M230"),t.c.L()},"interceptPromiseFinally")).usedByAgent=!0,window.Promise.prototype["finally"]=n},a.Yl=function(){window.Promise.resolve=t.aop.around(window.Promise.resolve,a.ya(a.H.Zd,null),function(){t.log("M231"),t.c.L()},"interceptPromiseResolve",a.rb)},a.Xl=function(){window.Promise.reject=t.aop.around(window.Promise.reject,a.ya(a.H.Yd,null),function(){t.log("M232"),t.c.L()},"interceptPromiseReject",a.rb)},a}();s.H={Wh:"PromiseInstance.init",le:"PromiseInstance.resolve",ke:"PromiseInstance.reject",ie:"PromiseInstance.onFulfilled",je:"PromiseInstance.onRejected",he:"PromiseInstance.finally",Zd:"PromiseConstructor.resolve",Yd:"PromiseConstructor.reject"},s.rb=t.monitor.ErrorMonitor.l,t.Di=s,o&&a&&s.Pk()}(k||(k={})),function(t){!function(e){function n(t,e){var n=[],i;if(i=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t)){var r=i[1],i=i[2].replace(/^"|"$/g,""),i,a=(i=decodeURIComponent(i).split("|"))[0].split(":");if("R"===a[0]&&Number(a[1])===e)for(o(r),r=1;r<i.length;r++)n.push(i[r])}return n}function i(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var i=n[1],r=n[4],a=n[5];if(Number(n[3])===e)return o(i),{index:Number(r),value:a}}return null}function r(e){var n=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(n){if(t.log("M235",e),3===n.length)return o("ADRUM"),{startTime:Number(n[1]),startPage:n[2]};return t.error("M236",e),null}}function o(e){t.log("M234",e);var n=new Date;n.setTime(n.getTime()-1e3),document.cookie=e+"=;Expires="+n.toUTCString()}e.startTimeCookie=null,e.cookieMetadataChunks=null,e.cf=function(o,a){t.log("M233");for(var s=a?a.length:0,u=[],c=o.split(";"),l=0;l<c.length;l++){var f=c[l],p=i(f,s);p?u.push(p):null!=(f=r(f))&&(e.startTimeCookie=f)}for(Array.prototype.sort.call(u,function(t,e){return t.index-e.index}),f=[],l=0;l<u.length;l++)f.push(u[l].value);for(l=0;l<c.length;l++)(u=n(c[l],s))&&0<u.length&&(f=f.concat(u));e.cookieMetadataChunks=f},t.correlation.eck=e.cf}(t.correlation||(t.correlation={}))}(k||(k={})),function(t){"APP_KEY_NOT_SET"!==t.conf.appKey||t.utils.isDefined(window.ADEUM_js_handler)||t.utils.isDefined(window.webkit)||x.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),t.correlation.cf(document.cookie,document.referrer),t.command("mark","firstbyte",window["adrum-start-time"]),t.monitor.setUpMonitors(t.monitor.ga,t.monitor.tj,t.monitor.domEventsMonitor,t.monitor.navMonitor,t.monitor.xhrMonitor,t.monitor.resourceMonitor),t.conf.fetch&&!t.conf.isZonePromise&&(t.Di.setUp(),t.monitor.setUpMonitors(t.monitor.ib)),t.conf.spa2&&t.conf.modernBrowserFeaturesAvailable&&t.monitor.setUpMonitors(t.monitor.bj),t.conf.enablePrimaryMetrics&&t.utils.isDefined(window.MutationObserver)&&(t.j.n.J.Sg(),t.j.n.start(t.utils.hb()),t.N.start())}(k||(k={})),function(t){(t=(t=t.ng||(t.ng={})).k||(t.k={})).Xf="locationChangeStart",t.tl="locationChangeSuccess",t.Jg="routeChangeStart",t.Kg="routeChangeSuccess",t.Xg="stateChangeStart",t.Yg="stateChangeSuccess",t.kh="viewContentLoaded",t.Ck="includeContentRequested",t.Bk="includeContentLoaded",t.af="digest",t.io="outstandingRequestsComplete",t.Ne="beforeNgXhrRequested",t.De="afterNgXhrRequested",t.ho="ngXhrLoaded",t.Re="$$completeOutstandingRequest"}(k||(k={})),function(t){!function(e){function n(t,n,i,r,o,a){if(n)try{return n.apply(t,[i,r,o].concat(a))}catch(n){return t.error(i,r,o,a,e.Error.Xh,"M237",n)}}function i(t,i){return function(){var r=this.current,o=i[r]||i[e.Gb]||r,a=Array.prototype.slice.call(arguments);if(this.rj(t))return this.error(t,r,o,a,e.Error.Yh,"event "+t+"M238"+this.current);if(!1===n(this,this["onbefore"+t],t,r,o,a))return e.Fb.Xd;if(o===e.Gb&&(o=r),r===o)return n(this,this["onafter"+t]||this["on"+t],t,r,o,a),e.Fb.xi;var s=this;if(this.transition=function(){return s.transition=null,s.current=o,n(s,s["onenter"+o]||s["on"+o],t,r,o,a),n(s,s["onafter"+t]||s["on"+t],t,r,o,a),e.Fb.Ii},!1===n(this,this["onleave"+r],t,r,o,a))return this.transition=null,e.Fb.Xd;if(this.transition)return this.transition()}}var r=t.utils.hasOwnPropertyDefined;e.VERSION="2.3.5",e.Fb={Ii:1,xi:2,Xd:3,rn:4},e.Error={Yh:100,sn:200,Xh:300},e.Gb="*",e.create=function(t,n){function o(t){var n=t.from instanceof Array?t.from:t.from?[t.from]:[e.Gb];l[t.name]=l[t.name]||{};for(var i=0;i<n.length;i++)f[n[i]]=f[n[i]]||[],f[n[i]].push(t.name),l[t.name][n[i]]=t.to||n[i]}var a="string"==typeof t.initial?{state:t.initial}:t.initial,s=n||t.target||{},u=t.events||[],c=t.callbacks||{},l={},f={};a&&(a.event=a.event||"startup",o({name:a.event,from:"none",to:a.state}));for(var p=0;p<u.length;p++)o(u[p]);for(var d in l)r(l,d)&&(s[d]=i(d,l[d]));for(d in c)r(c,d)&&(s[d]=c[d]);return s.current="none",s.Sn=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},s.qj=function(t){return!this.transition&&(r(l[t],this.current)||r(l[t],e.Gb))},s.rj=function(t){return!this.qj(t)},s.nc=function(){return f[this.current]},s.error=t.error||function(t,e,n,i,r,o,a){throw a||o},a&&!a.defer&&s[a.event](),s}}(t.we||(t.we={}))}(k||(k={})),function(t){var e,n;e=t.events||(t.events={}),n=function(n){function i(e){if(e=n.call(this,e)||this,t.utils.isDefined(t.ng)&&e.constructor!=t.ng.NgVPageView&&e.constructor!=i&&t.reportAPIMessage(t.V.la,t.Wa,"ADRUM.events.VPageView",[]),t.conf.spa2)return e;return e.perf=new t.PerformanceTracker,e.start(),t.monitor.xhrMonitor.fc(),t.monitor.ib.fc(),t.monitor.ga.em(),e}return v(i,n),i.prototype.type=function(){return t.EventType.VPageView},i.prototype.Wc=function(){return e.EventTracker.Dc(this.guid(),this.url(),this.type())},i.prototype.Vg=function(e){var n=this.Wc();e.set("parent",n),t.log("M239",n.guid(),n.url())},i.prototype.startCorrelatingXhrs=function(){t.conf.spa2||(t.log("M240"),this.Vg(t.monitor.xhrMonitor))},i.prototype.stopCorrelatingXhrs=function(){t.conf.spa2||(t.monitor.xhrMonitor.set("parent",null),t.log("M241"))},i.prototype.Fd=function(){t.conf.spa2||(t.log("M242"),this.Vg(t.monitor.ga))},i.prototype.start=function(){t.conf.spa2||(this.markVirtualPageStart(),this.startCorrelatingXhrs())},i.prototype.end=function(){t.conf.spa2||(this.markVirtualPageEnd(),this.stopCorrelatingXhrs())},i}(e.EventTracker),e.VPageView=n,e.Ma(e.T[t.EventType.VPageView],n.prototype),void e.Ie(e.metricSpec[t.EventType.VPageView],n.prototype)}(k||(k={})),function(t){var e,e;(e=(e=t.ng||(t.ng={})).conf||(e.conf={})).disabled=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.disable,e.distinguishVPwithItsTemplateUrl=!!(t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&!0===t.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),e.xhr={},e.metrics={includeResTimingInEndUserResponseTiming:!0},t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.vp&&(t.conf.userConf.spa.angular.vp.xhr&&t.utils.ua.tg(t.conf.userConf.spa.angular.vp.xhr),t.conf.userConf.spa.angular.vp.metrics&&t.utils.mergeJSON(e.metrics,t.conf.userConf.spa.angular.vp.metrics))}(k||(k={})),function(t){var e,n,i,r,o;e=t.ng||(t.ng={}),n=t.utils.map,i=t.utils.reduce,r=t.utils.filter,(o=function(o){function a(e){if((e=o.call(this,e)||this).Nf=!0,e.ub={},e.Va=0,e.Co=[],e.digestCount(0),e.constructor!=a)return t.reportAPIMessage(t.V.la,t.Wa,"ADRUM.events.Ajax",[]),e;return e.stopCorrelatingXhrs(),e}return v(a,o),a.prototype.type=function(){return t.EventType.VPageView},a.prototype.Td=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},a.prototype.Dk=function(){this.digestCount(this.digestCount()+1)},a.prototype.Ek=function(){this.Va++,t.log("M243",this.Va)},a.prototype.zj=function(){this.Va--,t.log("M244",this.Va)},a.prototype.yk=function(){var e=this.perf.getEntryByName(t.events.b.sh);return t.log("M245",this.Va,e),0<this.Va},a.prototype.mj=function(){var t={mc:0},e=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]"),e=n(e,angular.element),i;for(i in a.Gg){var r=a.Gg[i];n(e,function(e){e=e.find(i),n(e,function(e){(e=e[r])&&(e=decodeURIComponent(e),t[e]||(t[e]=i,t.mc++))})})}this.ub=t},a.prototype.kj=function(t){return!!this.ub[decodeURIComponent(t.name)]},a.prototype.nj=function(){var e=[],n=this;0<this.ub.mc&&(e=t.monitor.resourceMonitor.jb().filter(function(t){return n.kj(t)})),this.resTiming(e)},a.Pj=function(e){return r(e,function(e){return(e.eventType===t.EventType.Ajax||e.eventType===t.EventType.ADRUM_XHR)&&!t.utils.ua.lc(e.eventUrl,e.method)})},a.hk=function(t){return i(t,function(t,e){return Math.max(t,e.timestamp+e.metrics.PLT)},-1)},a.prototype.Zi=function(){if(e.conf.xhr){var n=a.Pj(t.channel.getEventsWithParentGUID(this.guid())),n;if(0<(n=a.hk(n))){var i=this.perf.getEntryByName(t.events.b.sh);this.markXhrRequestsCompleted(Math.min(i&&i.startTime||Number.MAX_VALUE,n))}}},a.prototype.adjustTimings=function(){this.Zi();var n=this.getViewDOMLoaded(),i=this.getXhrRequestsCompleted(),n=Math.max(n,i);e.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.Yi(),i=this.getViewResourcesLoaded(),i=Math.max(n,i),t.log("M246",n,i),n=i),this.markVirtualPageEnd(n)},a.prototype.Yi=function(){if(0<this.ub.mc){this.nj();var e=this.resTiming();e&&e.length>=this.ub.mc&&(e=i(e,function(t,e){return Math.max(t,e.responseEnd)},0),this.markViewResourcesLoaded(t.PerformanceTracker.Ic(e)))}},a.prototype.identifier=function(e){var n=this.mh;return t.utils.isDefined(e)&&(this.mh=a.Nj(e),this.url(this.mh.url)),n},a.Nj=function(e){var n={};return e&&e.M?(n.M={td:""},t.utils.mergeJSON(n.M,{td:e.M.originalPath,vb:e.M.template,wb:e.M.templateUrl})):e&&e.state&&(n.state={url:""},t.utils.mergeJSON(n.state,{url:e.state.url,name:e.state.name,vb:e.state.template,wb:e.state.templateUrl})),n},a}(t.events.VPageView)).Gg={img:"src",script:"src",link:"href"},e.NgVPageView=o,void t.events.Ma(t.events.T[t.EventType.NG_VIRTUAL_PAGE],o.prototype)}(k||(k={})),function(t){var e,n;e=t.ng||(t.ng={}),(n=function(){function n(){this.A=new e.NgVPageView}return n.prototype.lm=function(){var i=this,r=this.A;e.conf.metrics.includeResTimingInEndUserResponseTiming?(t.log("M247"),t.utils.oSTO(function(){i.yd(r)},n.Ki)):t.utils.oSTO(function(){i.yd(r)},n.Li)},n.prototype.yd=function(e){t.log("M248"),e.parent(t.monitor.DOMEventsMonitor.currentBasePage),t.command("call",function(){e.adjustTimings(),t.reporter.reportEvent(e)})},n.prototype.sm=function(t){this.A=t},n}()).Ki=5e3,n.Li=2*t.monitor.XHRMonitor.be,e.VirtualPageStateMachine=n,void t.we.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){t.log("M249",e)},callbacks:{onChangeView:function(){this.A.Td(),this.A.Fd()},onviewLoaded:function(){this.A.markViewDOMLoaded()},onXhrPending:function(){this.A.Nf&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){if("abort"===t)return this.yd(),!0;if("xhrCompleted"===t&&"End"===n){if(this.A.yk())return!1;return this.A.markXhrRequestsCompleted(),!0}},onEnd:function(){this.A.mj(),this.lm()},oninit:function(e,n,i,r){this.sm(r),t.monitor.xhrMonitor.fc(),t.monitor.ib.fc()},onlocChange:function(t,e,n,i){this.A.identifier.url=i,this.A.kc({url:i})},onbeforeXhrReq:function(e,n,i,r){var o=this.A;return o.Nf=!1,t.log("M250",r&&r[1]||"",o.guid()),o.Ek(),o.startCorrelatingXhrs(),r[3]&&(r[3]=t.aop.before(r[3],function(e,n,i){t.log("M251"),o.zj(),i&&(e=t.utils.Ol(i)["content-type"])&&0<=e.indexOf("text/html")&&o.markViewFragmentsLoaded()})),r},onafterXhrReq:function(){this.A.stopCorrelatingXhrs()}}},n.prototype)}(k||(k={})),function(t){var e,n;e=t.ng||(t.ng={}),n=function(){function n(){this.O=new e.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=t.ng.conf.distinguishVPwithItsTemplateUrl}return n.prototype.S=function(i,r){switch(t.log("M252",i),i){case e.k.Jg:case e.k.Xg:this.O.start();var o=r.next.url||document.URL,a=new e.NgVPageView({url:o,identifier:r.next});this.distinguishVPwithItsTemplateUrl&&n.Zk(this.O.A,a)?this.O.A.kc({url:o,identifier:r.next}):this.Gm(a);break;case e.k.Kg:case e.k.Yg:this.O.A.markViewChangeEnd();break;case e.k.kh:this.O.viewLoaded();break;case e.k.Ne:this.O.beforeXhrReq(r);break;case e.k.De:this.O.afterXhrReq();break;case e.k.Re:this.O.xhrCompleted();break;case e.k.Xf:this.O.A.kc({url:r.next.url}),this.O.locChange(r.next.url);break;case e.k.af:this.O.A.Dk()}},n.prototype.Gm=function(t){this.O.abort(),this.O.init(t),this.O.start()},n.Zk=function(e,n){var i=e.identifier(),r=n.identifier(),o=!1;return o=!t.utils.isDefined(i)&&!t.utils.isDefined(r)||i===r||!(!t.utils.isDefined(i)||!t.utils.isDefined(r))&&(i.state||r.state?!(!t.utils.isDefined(i.state)||!t.utils.isDefined(r.state))&&(i.state.name===r.state.name&&i.state.vb===r.state.vb&&i.state.wb===r.state.wb&&i.state.url===r.state.url):i.M&&r.M?i.M.td===r.M.td&&i.M.vb===r.M.vb&&i.M.wb===r.M.wb:i.url===r.url)},n}(),void(e.Mi=n)}(k||(k={})),function(t){var e,n,i;e=t.ng||(t.ng={}),n=t.utils.addEventListener,i=function(){function i(){this.U=new e.Mi,this.Ff=!1}return i.prototype.setUp=function(){function e(e){return function(){t.log(e),i.init()}}var i=this;e("M253")(),n(document,"DOMContentLoaded",e("M254")),n(window,"load",e("M255"))},i.prototype.init=function(){if("loading"===document.readyState)t.log("M256");else if("undefined"!=typeof angular&&!this.Ff){this.Ff=!0,t.log("M257");var e=this,n=angular.module("ng");n.config(["$provide",function(t){e.Tk(t),e.Ok(t)}]),n.run(["$browser",function(t){e.Lk(t)}]),t.log("M258")}},i.prototype.Ok=function(n){var i=t.aop,r=this;n.decorator("$httpBackend",["$delegate",function(t){return t=i.around(t,function(){var t=Array.prototype.slice.call(arguments);return r.U.S(e.k.Ne,t),t},function(){r.U.S(e.k.De)},"ng.httpBackend")}])},i.prototype.Tk=function(n){var i=t.aop,r=this;n.decorator("$rootScope",["$delegate",function(t){return t.$digest=i.after(t.$digest,function(){r.U.S(e.k.af)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,n){var i={url:n},o=t&&t.gb&&t.gb.$state&&t.gb.$state.current;o&&(i.state=o),r.U.S(e.k.Xf,{next:i})}),t.$on("$locationChangeSuccess",function(){r.U.S(e.k.tl)}),t.$on("$routeChangeStart",function(t,n){var i={url:location.href},o=n&&n.$$route;o&&(i.M=o),r.U.S(e.k.Jg,{next:i})}),t.$on("$routeChangeSuccess",function(){r.U.S(e.k.Kg)}),t.$on("$stateChangeStart",function(t,n){r.U.S(e.k.Xg,{next:{state:n}})}),t.$on("$stateChangeSuccess",function(){r.U.S(e.k.Yg)}),t.$on("$viewContentLoaded",function(t){var n={url:location.href};(t=t&&t.gb&&t.gb.$state&&t.gb.$state.current)&&(n.state=t),r.U.S(e.k.kh,{next:n})}),t.$on("$includeContentRequested",function(){r.U.S(e.k.Ck)}),t.$on("$includeContentLoaded",function(){r.U.S(e.k.Bk)}),t}])},i.prototype.Lk=function(n){var i=this;n.$$completeOutstandingRequest=t.aop.before(n.$$completeOutstandingRequest,function(){i.U.S(e.k.Re)})},i}(),e.mn=i,void(e.ngMonitor=new i)}(k||(k={})),function(t){var e=t.ng||(t.ng={});e.conf.disabled||t.conf.spa2||t.monitor.setUpMonitors(e.ngMonitor)}(k||(k={}))}var a}}();
//# sourceMappingURL=adrum-fff099b594.js.map
