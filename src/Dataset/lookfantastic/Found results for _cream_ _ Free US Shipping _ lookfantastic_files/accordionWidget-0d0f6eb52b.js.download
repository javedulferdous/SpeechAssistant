"use strict";define(["app","$window","accessibilityFocusHelper"],function(e,t,n){var i;return function i(){var o={},c={attribs:{ariaHidden:"aria-hidden",ariaExpanded:"aria-expanded"},selectors:{title:".accordionWidget_sectionTitle",content:".accordionWidget_sectionContent",focusableElements:"button, a"},tracking:{enabled:false,channel:"accordionWidget",extra:void 0},animationTime:150,offset:0,isOpen:false},a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.config=Object.assign({},o.config,n),o.config.selectors.focusableElements||(o.config.selectors.focusableElements=c.selectors.focusableElements),o.element=t,o.title=t.querySelector(o.config.selectors.title),o.content=t.querySelector(o.config.selectors.content),o.title.addEventListener("click",o.toggle),o.config.isOpen?o.open():o.close(),o},l=function n(){var i=o.title.offsetHeight+o.content.offsetHeight;o.element.style["max-height"]=i+"px",o.timeout&&(t.clearTimeout(o.timeout),o.timeout=null),o.opened?(o.timeout=t.setTimeout(o.close,0),o.config.tracking.enabled&&e.publish("tracking/record",o.config.tracking.channel,"close","accordion",o.config.tracking.extra)):(o.timeout=t.setTimeout(o.open,o.config.animationTime),o.element.collection&&o.element.collection.trigger(o),o.config.tracking.enabled&&e.publish("tracking/record",o.config.tracking.channel,"open","accordion",o.config.tracking.extra)),o.opened=!o.opened},s=function e(){o.element.style["max-height"]="none",o.title.setAttribute(o.config.attribs.ariaExpanded,"true"),o.content.removeAttribute(o.config.attribs.ariaHidden),n.enableElements(o.content.querySelectorAll(o.config.selectors.focusableElements)),o.element.classList.add("accordionWidget_expanded"),o.timeout=null,o.opened=true},r=function e(){o.element.style["max-height"]=o.title.offsetHeight+o.config.offset+"px",o.title.setAttribute(o.config.attribs.ariaExpanded,"false"),o.content.setAttribute(o.config.attribs.ariaHidden,"true"),n.disableElements(o.content.querySelectorAll(o.config.selectors.focusableElements)),o.element.classList.contains("accordionWidget_expanded")&&o.element.classList.remove("accordionWidget_expanded"),o.timeout=null,o.opened=false};return o.init=a,o.config=Object.assign({},c),o.toggle=l,o.open=s,o.close=r,o}});
//# sourceMappingURL=accordionWidget-0d0f6eb52b.js.map
