"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}define(["app","elementViewed"],function(e,t){var n;return function t(){var n={},a="ArrowLeft",i="Left",r="ArrowRight",o="Right",c="End",s="Home",l="Tab",b={radioSelector:"[data-radio]",tabLinks:"[data-js-element=subscriptionComponent_tab-link]",tabPanels:"[data-js-element=subscriptionComponent_tab-panel]",tabLinkActive:"subscriptionComponent_tabTitle-active",tabPanelActive:"subscriptionComponent_tabPanel-active",subscribeChannels:{subscriptionTerm:"subscriptionComponent/subscriptionTerm",subscriptionType:"subscriptionComponent/subscriptionType"}},u=function e(t){return n.element=t,n.loaded=false,n.bind(),n.onLoadShowRequiredPanel(),n},f=function e(){var t=n.element.querySelectorAll(n.config.tabLinks);n.numberOfTabs=t.length,n.attachEvent(t)},d=function t(){var a=n.element.querySelectorAll(n.config.radioSelector);[].concat(_toConsumableArray(a)).forEach(function(t){if(t.checked){var a=t.getAttribute("data-card-subscription-type"),i=t.getAttribute("data-card-subscription-term");e.publish(n.config.subscribeChannels.subscriptionTerm,i,true),e.publish(n.config.subscribeChannels.subscriptionType,a,true);var r="recurring"===a?1:0;n.tabLinkClicked(r)}}),n.loaded=true},m=function e(t){for(var a=function e(a){t[a].addEventListener("click",function(){n.tabLinkClicked(a)}),t[a].addEventListener("keydown",function(e){n.keyChangeTab(e,a)})},i=0;i<t.length;i++)a(i)},v=function e(t){n.removeActiveClass(),n.showActiveTab(t)},A=function t(){var a=n.element.querySelectorAll(n.config.tabLinks),i=n.element.querySelectorAll(n.config.tabPanels);[].concat(_toConsumableArray(a)).forEach(function(t){e.element.removeClass(n.config.tabLinkActive,t),e.element.setAttribute("aria-selected",false,t),e.element.setAttribute("tabindex",-1,t)}),[].concat(_toConsumableArray(i)).forEach(function(t){e.element.removeClass(n.config.tabPanelActive,t),e.element.setAttribute("aria-hidden",true,t)})},p=function t(a){var i=n.element.querySelectorAll(n.config.tabLinks)[a],r=n.element.querySelectorAll(n.config.tabPanels)[a];e.element.addClass(n.config.tabLinkActive,i),e.element.addClass(n.config.tabPanelActive,r),e.element.setAttribute("aria-selected",true,i),e.element.removeAttribute("tabindex",i),e.element.setAttribute("aria-hidden",false,r),n.loaded&&i.focus()},k=function e(t,l){var b=void 0,u;switch(t.key){case i:case a:b=l-1,l>0&&n.tabLinkClicked(b),t.preventDefault();break;case o:case r:(b=l+1)<n.numberOfTabs&&n.tabLinkClicked(b),t.preventDefault();break;case s:n.tabLinkClicked(0),t.preventDefault();break;case c:n.tabLinkClicked(n.numberOfTabs-1),t.preventDefault();break}};return n.config=b,n.init=u,n.bind=f,n.attachEvent=m,n.tabLinkClicked=v,n.showActiveTab=p,n.removeActiveClass=A,n.onLoadShowRequiredPanel=d,n.keyChangeTab=k,n}});
//# sourceMappingURL=subscriptionComponent-fa37df8d8b.js.map
