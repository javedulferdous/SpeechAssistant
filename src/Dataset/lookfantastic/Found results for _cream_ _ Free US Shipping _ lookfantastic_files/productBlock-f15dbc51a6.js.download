"use strict";define(["app","$window"],function(e,t){var o;return function o(){var r=this,c="data-option-id",i="data-linked-swatch",n="data-alt-src",l="data-component-tracked-hovered",a="data-component-tracked-focused",u="data-context";r.app=e;var d={buttonSelector:"[data-js-element=button]",buttonClickEvent:"productBlock-buttonClick",quickViewIconSelector:"[data-js-element=quickViewIcon]",quickViewIconClickEvent:"productBlock-quickViewClick",productDataSelector:"[data-js-element=productBlock_data]",colorSwatch:".productBlock_colorSwatches_swatch",image:".productBlock_image",imageLink:".productBlock_link",rolloverWrapper:".productBlock_imageLinkWrapper",productBlockRatingSelector:".productBlock_rating",productBlockPriceSelector:".productBlock_priceBlock"},k=function e(t){return siteObj.showReevooReviews&&require(["reevooClient"]),r.element=t,r.button=r.element.querySelector(r.config.buttonSelector),r.quickViewIcon=r.element.querySelector(r.config.quickViewIconSelector),r.productData=r.element.querySelector(r.config.productDataSelector),r.colorSwatches=r.element.querySelectorAll(r.config.colorSwatch),r.image=r.element.querySelector(r.config.image),r.imageLink=r.element.querySelector(r.config.imageLink),r.originalSrc=r.image.src,r.rolloverWrapper=r.element.querySelector(r.config.rolloverWrapper),r.productBlockRatingButton=r.element.querySelector(r.config.productBlockRatingSelector),r.productBlockPriceButton=r.element.querySelector(r.config.productBlockPriceSelector),r.bind(),r},g=function e(){r.button&&r.button.addEventListener("click",r.buttonClicked),r.quickViewIcon&&r.quickViewIcon.addEventListener("click",r.quickViewIconClicked),r.productBlockRatingButton&&"true"===r.productBlockRatingButton.getAttribute("data-is-link")&&r.productBlockRatingButton.addEventListener("click",r.goToProductPage),r.productBlockPriceButton&&"true"===r.productBlockPriceButton.getAttribute("data-is-link")&&r.productBlockPriceButton.addEventListener("click",r.goToProductPage);var o=true,c=false,i=void 0;try{for(var d=r.colorSwatches[Symbol.iterator](),k;!(o=(k=d.next()).done);o=true){var g=k.value;g.addEventListener("click",r.colorSwatchClicked.bind(null,g))}}catch(e){c=true,i=e}finally{try{!o&&d.return&&d.return()}finally{if(c)throw i}}t.innerWidth>900&&r.image.hasAttribute(n)&&""!==r.image.getAttribute(n)&&(r.rolloverWrapper.addEventListener("mouseover",r.imageRolloverIn),r.imageLink.addEventListener("focusin",r.imageRolloverIn),r.rolloverWrapper.addEventListener("mouseleave",r.imageRolloverOut),r.imageLink.addEventListener("focusout",r.imageRolloverOut),r.rolloverWrapper.hasAttribute(l)||(r.rolloverWrapper.setAttribute(l,""),r.rolloverWrapper.setAttribute(u,"imageRollover-hover")),r.imageLink.hasAttribute(a)||(r.imageLink.setAttribute(a,""),r.imageLink.setAttribute(u,"imageRollover-focus")))},p=function e(){r.app.publish(r.config.buttonClickEvent)},m=function e(t){t.preventDefault(),r.app.publish(r.config.quickViewIconClickEvent)},s=function t(o){if(o.hasAttribute(i)){var n=o.getAttribute(c);e.publish("tracking/record","Linked SKU Engagement","Clicked away from "+r.masterProductId,"Clicked on "+n)}},v=function e(){r.image.src=r.image.getAttribute(n)},f=function e(){r.image.src=r.originalSrc},b=function e(){window.location.href=r.imageLink.href};r.config=d,r.init=k,r.bind=g,r.imageRolloverIn=v,r.imageRolloverOut=f,r.colorSwatchClicked=s,r.buttonClicked=p,r.quickViewIconClicked=m,r.goToProductPage=b}});
//# sourceMappingURL=productBlock-f15dbc51a6.js.map
