"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}define(["app","$window"],function(e,t){var n;return function n(){var l={},o={selectors:{toggle:"[data-toggle]",levelOneItems:"[data-level=one]",levelTwoItems:"[data-level=two]",iconCollapse:"[data-icon=collapse]",iconExpand:"[data-icon=expand]",footerLinkText:".eastendFooterLinkColumns_levelTwoItemText",fastTrackFooterLink:"[data-fastTrack-footer-link]",levelOneTitle:".eastendFooterLinkColumns_levelOneItemTitle",levelOneButton:".eastendFooterLinkColumns_levelOneButton",levelOneButtonData:"data-js-element=eastendFooterLinkColumns_levelOneButton-",levelOneFirst:".eastendFooterLinkColumns_levelOne-first",levelTwoLink:".eastendFooterLinkColumns_levelTwoItemLink",levelOneButtonExtra:'[data-js-element="levelOneButton-extra"]',levelOneContainerExtra:'[data-js-element="levelOneContainer-extra"]',focusableElements:'a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'},attributes:{toggle:"data-toggle",level:"data-level",key:"data-key",link:"data-link",ariaExpanded:"aria-expanded",extra:"extra"},classes:{levelTwoExpanded:"eastendFooterLinkColumns_levelTwo-expanded",iconHide:"eastendFooterLinkColumns_icon-hide",nonClickableLink:"eastendFooterLinkColumns_levelTwoItem-text"},key:null},i=function e(t){l.element=t,l.toggles=l.element.querySelectorAll(l.config.selectors.toggle),l.levelOneItems=l.element.querySelectorAll(l.config.selectors.levelOneItems),l.levelTwoItems=l.element.querySelectorAll(l.config.selectors.levelTwoItems),l.collapseIcons=l.element.querySelectorAll(l.config.selectors.iconCollapse),l.expandIcons=l.element.querySelectorAll(l.config.selectors.iconExpand),l.footerLinkText=l.element.querySelectorAll(l.config.selectors.footerLinkText),l.fastTrackFooterLink=l.element.querySelector(l.config.selectors.fastTrackFooterLink),l.levelOneFirst=l.element.querySelector(l.config.selectors.levelOneFirst),l.levelOneTitles=l.element.querySelectorAll(l.config.selectors.levelOneTitle),l.levelOneButtons=l.element.querySelectorAll(l.config.selectors.levelOneButton),l.levelTwoFirst=l.levelOneFirst&&l.levelOneFirst.querySelectorAll(l.config.selectors.levelTwoLink),l.levelTwoLinks=l.element.querySelectorAll(l.config.selectors.levelTwoLink),l.levelOneButtonExtra=l.element.querySelector(l.config.selectors.levelOneButtonExtra),l.levelOneContainerExtra=l.element.querySelector(l.config.selectors.levelOneContainerExtra),l.previousWidth=l.getWindowWidth(),l.footerBreakpoint=900,l.bind(),l.addClickEventListeners(),l.handleTextProperties(),l.getWindowWidth()>l.footerBreakpoint?(l.disableElements(l.levelOneButtons),l.enableElements([].concat(_toConsumableArray(l.levelTwoLinks),_toConsumableArray(l.levelTwoFirst),[l.levelOneButtonExtra]))):(l.disableElements(l.levelTwoLinks),l.enableElements([].concat(_toConsumableArray(l.levelOneButtons),_toConsumableArray(l.levelTwoFirst))),l.toggleButtons()),l.levelOneContainerExtra&&l.disableElement(l.levelOneContainerExtra)},r=function e(){l.levelOneButtons.forEach(function(e){return e.addEventListener("click",l.toggleView)}),l.fastTrackFooterLink&&l.fastTrackFooterLink.addEventListener("click",l.triggerGATracking)},a=function e(){t.addEventListener("resize",l.resizeEvent)},s=function t(){e.publish("tracking/record","Fast Track Engagement","Clicked Fast Pass | Footer")},c=function t(n){n.stopPropagation();var o=void 0;(o=this.getAttribute(l.config.attributes.key)===l.config.attributes.extra?l.levelOneContainerExtra:l.toggles[this.getAttribute(l.config.attributes.key)-1])&&"true"!==e.element.getAttribute(l.config.attributes.link,o)&&(l.config.key=e.element.getAttribute(l.config.attributes.key,o),"expand"===e.element.getAttribute(l.config.attributes.toggle,o)?(e.element.setAttribute(l.config.attributes.toggle,"collapse",o),l.enableElements(o.querySelectorAll(l.config.selectors.focusableElements)),"extra"===l.config.key&&l.enableElement(o),this.setAttribute(l.config.attributes.ariaExpanded,"true"),l.expandView()):(e.element.setAttribute(l.config.attributes.toggle,"expand",o),l.disableElements(o.querySelectorAll(l.config.selectors.focusableElements)),"extra"===l.config.key&&l.disableElement(o),this.setAttribute(l.config.attributes.ariaExpanded,"false"),l.collapseView()))},u=function e(){var t;[].concat(_toConsumableArray(l.levelOneTitles),_toConsumableArray(l.levelOneButtons)).forEach(function(e){return e.hidden=!e.hidden}),!l.levelOneButtonExtra||(l.levelOneButtonExtra.hidden=false)},d=function t(n){for(var o=0,i=n.length;o<i;o++)if(e.element.getAttribute(l.config.attributes.key,n[o])===l.config.key)return n[o]},f=function e(){return l.findItem(l.levelTwoItems)},g=function e(){return l.findItem(l.expandIcons)},v=function e(){return l.findItem(l.collapseIcons)},m=function t(){e.element.addClass(l.config.classes.levelTwoExpanded,l.findLevelTwo()),e.element.removeClass(l.config.classes.iconHide,l.findCollapseIcon()),e.element.addClass(l.config.classes.iconHide,l.findExpandIcon())},b=function t(){e.element.removeClass(l.config.classes.levelTwoExpanded,l.findLevelTwo()),e.element.addClass(l.config.classes.iconHide,l.findCollapseIcon()),e.element.removeClass(l.config.classes.iconHide,l.findExpandIcon())},k=function e(){l.footerLinkText.forEach(function(e){e.parentNode.parentNode.classList.add(l.config.classes.nonClickableLink)})},E=function e(){return t.innerWidth},p=function e(){var t,n;l.getWindowWidth()>l.footerBreakpoint?(l.disableElements(l.levelOneButtons),l.enableElements([].concat(_toConsumableArray(l.levelTwoLinks),_toConsumableArray(l.levelTwoFirst),[l.levelOneButtonExtra])),l.previousWidth<l.footerBreakpoint&&l.toggleButtons()):(l.enableElements(l.levelOneButtons),l.previousWidth>=l.footerBreakpoint&&(l.disableElements(l.levelTwoLinks),Array.prototype.slice.call(l.element.querySelectorAll("["+l.config.attributes.toggle+"='collapse']")).map(function(e){return Array.prototype.slice.call(e.querySelectorAll(l.config.selectors.levelTwoLink))}).forEach(function(e){return l.enableElements(e)}),l.enableElements(l.levelTwoFirst),l.toggleButtons()));l.previousWidth=l.getWindowWidth()},x=function e(t){if(!t)return;t.setAttribute("tabindex","0"),t.removeAttribute("aria-hidden")},y=function e(t){if(!t)return;t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true")},T=function e(t){t&&Array.prototype.slice.call(t).forEach(function(e){return l.enableElement(e)})},A=function e(t){t&&Array.prototype.slice.call(t).forEach(function(e){return l.disableElement(e)})};return l.config=o,l.init=i,l.addClickEventListeners=r,l.toggleView=c,l.findLevelTwo=f,l.collapseView=b,l.expandView=m,l.findExpandIcon=g,l.findCollapseIcon=v,l.findItem=d,l.handleTextProperties=k,l.triggerGATracking=s,l.toggleButtons=u,l.getWindowWidth=E,l.resizeEvent=p,l.bind=a,l.enableElement=x,l.disableElement=y,l.enableElements=T,l.disableElements=A,l}});
//# sourceMappingURL=eastendFooterLinkColumns-c9078e30cb.js.map
