"use strict";define(["app"],function(e){var s;return function s(){var t="data-selected",a={config:{selectors:{oneTimePurchaseMessage:".subscribeAndSaveProductInBasket_text_otpInBasket",subscriptionMessage:".subscribeAndSaveProductInBasket_text_subscriptionInBasket",noContractsMessage:".subscribeAndSaveProductInBasket_text_noContractsAvailable"},classes:{showContainer:"subscribeAndSaveProductInBasket_show"},subscribeChannels:{showMessage:"subscribeAndSaveProductInBasket/showMessage",tabChanges:"subscribeAndSaveProductInBasket/tabChanges",noContracts:"subscribeAndSaveProductInBasket/noContracts",disableBasket:"productAddToBasket/disableBasket"},attributes:{purchaseMethod:"data-purchase-method"}},init:function(e){a.element=e,a.purchaseMethod=e.getAttribute(a.config.attributes.purchaseMethod),a.isSubscriptionTab=false,a.oneTimePurchaseMessage=e.querySelector(a.config.selectors.oneTimePurchaseMessage),a.subscriptionMessage=e.querySelector(a.config.selectors.subscriptionMessage),a.noContractsMessage=e.querySelector(a.config.selectors.noContractsMessage),a.subscribeToChannels(),a.updatePurchaseMethodMessage(a.isSubscriptionTab)},updatePurchaseMethod:function(e){a.purchaseMethod=e||"",a.updatePurchaseMethodMessage(a.isSubscriptionTab)},updatePurchaseMethodMessage:function(e){a.isSubscriptionTab=e,e&&"otp"===a.purchaseMethod||!e&&"subscription"===a.purchaseMethod?a.showPurchaseMethodMessage(e):a.hidePurchaseMethodMessage()},showPurchaseMethodMessage:function(s){a.oneTimePurchaseMessage.setAttribute(t,s),a.subscriptionMessage.setAttribute(t,!s),a.noContractsMessage.setAttribute(t,false),a.element.classList.add(a.config.classes.showContainer),e.publish(a.config.subscribeChannels.disableBasket,true)},hidePurchaseMethodMessage:function(){a.oneTimePurchaseMessage.setAttribute(t,false),a.subscriptionMessage.setAttribute(t,false),a.publishToDisableAddToBasket()},updateNoContractsAvailable:function(e){a.noContractsAvailable=e,a.publishToDisableAddToBasket()},publishToDisableAddToBasket:function(){var s=a.isSubscriptionTab&&a.noContractsAvailable;a.noContractsMessage.setAttribute(t,s),s?a.element.classList.add(a.config.classes.showContainer):a.element.classList.remove(a.config.classes.showContainer),e.publish(a.config.subscribeChannels.disableBasket,s)},subscribeToChannels:function(){e.subscribe(a.config.subscribeChannels.showMessage,a.updatePurchaseMethod),e.subscribe(a.config.subscribeChannels.tabChanges,a.updatePurchaseMethodMessage),e.subscribe(a.config.subscribeChannels.noContracts,a.updateNoContractsAvailable)}};return a}});
//# sourceMappingURL=subscribeAndSaveProductInBasket-ae907c2b4a.js.map
