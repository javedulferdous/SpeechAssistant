"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("ajax",["$window"],function(e){var r={help:function e(){return r.configCheck({})},get:function e(t){t||(t={}),t.type="GET",r.call(t)},post:function e(t){t||(t={}),t.type="POST",r.call(t)},put:function e(t){t||(t={}),t.type="PUT",r.call(t)},call:function e(t){if(t||(t={}),!(t=r.configCheck(t)).url)return console.error("Invalid value of param","Expected url to be String, got "+_typeof(t.url),"ajax.call"),void 0;var e=r.getRequestObject(t.crossDomain),n=r.getLoad(e);e.open(t.type,t.url,true),e[n]=function(){r.onLoad(e,t)},e.onerror&&(e.onerror=function(e){r.onError(e,t)}),e.withCredentials&&t.crossDomain&&(e.withCredentials=true),t.requestHeader&&e.setRequestHeader&&e.setRequestHeader(t.requestHeader.header,t.requestHeader.value),e.send(r.send(t))},configCheck:function e(r){return r||(r={}),{url:r.url||void 0,type:r.type||"GET",send:r.send||null,dataType:r.dataType||"",crossDomain:r.crossDomain||false,requestHeader:r.requestHeader||false,error:r.error||"",success:r.success||""}},getRequestObject:function r(t){return t&&!/MSIE 1/.test(e.navigator.userAgent)?new XDomainRequest:new XMLHttpRequest},getLoad:function e(r){return null===r.onload?"onload":"onreadystatechange"},onLoad:function e(t,n){if(4===t.readyState){var o=t.status;if(200===o)return n.responseText=t.response||t.responseText,r.parseResponse(n);if(400===o)return r.errorMethod(n.error,[t.responseText]);if(404===o)return r.errorMethod(n.error,["AJAX error: ","status 404","AJAX call was not found for "+n.url]);return r.errorMethod(n.error,["AJAX error: ","status "+o,"AJAX call failed for "+n.url])}},errorMethod:function e(r,t){if(r)return r.apply(this,t);return console.warn.apply(this,t)},onError:function e(r,t){if("function"==typeof t.error)return t.error(r);console.error("AJAX warning: ",r)},send:function e(r){if("get"!==r.type.toLowerCase())return"string"==typeof r.send?r.send:JSON.stringify(r.send);return null},parseResponse:function e(t){if(t.dataType&&"json"===t.dataType.toLowerCase()&&r.isJSON(t.responseText)&&(t.responseText=JSON.parse(t.responseText)),"function"==typeof t.success)return t.success(t.responseText);return t.responseText},isJSON:function e(r){if("string"==typeof r){try{JSON.parse(r)}catch(e){return false}return true}return false}};return r});
//# sourceMappingURL=ajax-8c849af39d.js.map
