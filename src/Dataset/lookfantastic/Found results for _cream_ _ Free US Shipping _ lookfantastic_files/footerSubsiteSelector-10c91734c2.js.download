"use strict";define(["$window"],function(e){var o;return function o(){var t={},n={selectors:{selector:".footerSubsiteSelector_select",selectorText:".footerSubsiteSelector_select_text",header:"[data-js-element=header]",dropdownList:"[data-js-element=footer-subsite-selector-nav-list]",dropdownListContainer:"[data-js-element=footer-subsite-selector-list-container]",dropdownOption:"[data-js-element=footer-subsite-link]"},elements:{optionSelected:void 0},classNames:{dropdownOnTop:"footerSubsiteSelector_navList-onTop",dropdownOnBottom:"footerSubsiteSelector_navList-onBottom",selected:"selected",hide:"hide"},attribs:{subsiteCode:"data-subsite-code"}},s=function e(o){return t.element=o,t.selector=t.element.querySelector(t.config.selectors.selector),t.selectorText=t.element.querySelector(t.config.selectors.selectorText),t.dropdownList=t.element.querySelector(t.config.selectors.dropdownList),t.dropdownListContainer=t.element.querySelector(t.config.selectors.dropdownList),t.dropdownOptions=t.element.querySelectorAll(t.config.selectors.dropdownOption),t.highlightOption(),t.bind(),t},i=function o(){t.selector.addEventListener("click",t.selectorClick),t.selector.addEventListener("keydown",function(e){13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||t.selectorClick()}),Array.from(t.dropdownOptions).map(function(e){return e.addEventListener("mouseover",t.optionHovered)}),e.addEventListener("click",function(){return!t.dropdownList.classList.contains(t.config.classNames.hide)&&t.toggleDropdownDisplay()}),e.addEventListener("resize",function(){return!t.dropdownList.classList.contains(t.config.classNames.hide)&&t.setDropdownHeight()}),t.keyPress()},c=function e(o){for(var n=0;n<t.dropdownOptions.length;n++)if(t.dropdownOptions[n].getAttribute(t.config.attribs.subsiteCode)===o.target.getAttribute(t.config.attribs.subsiteCode)){t.config.elements.optionSelected&&t.config.elements.optionSelected.classList.remove(t.config.classNames.selected),t.currentOptionIndex=n;break}t.config.elements.optionSelected=o.target,t.config.elements.optionSelected.classList.add(t.config.classNames.selected),t.config.elements.optionSelected.focus()},r=function e(){var o=t.selectorText.getAttribute(t.config.attribs.subsiteCode),n="["+t.config.attribs.subsiteCode+"="+o+"]";t.config.elements.optionSelected=t.dropdownListContainer.querySelector(n),t.config.elements.optionSelected.classList.add(t.config.classNames.selected),t.config.elements.optionSelected.focus(),t.currentOptionIndex=0},d=function e(o){o&&o.stopPropagation();var n="true"===t.selector.getAttribute("aria-expanded")?"false":"true";t.selector.setAttribute("aria-expanded",n),t.dropdownList.classList.contains(t.config.classNames.dropdownOnTop)||t.dropdownList.classList.contains(t.config.classNames.dropdownOnBottom)?t.toggleDropdownDisplay():t.setDropdownHeight()},l=function e(){var o=t.selector.getBoundingClientRect(),n=window.innerHeight-o.bottom,s,i=200,c,r=document.documentElement.clientHeight-(n+200),d=t.selector.offsetHeight+"px";r>n?(t.toggleDropdownDisplay(t.config.classNames.dropdownOnTop),t.dropdownList.style.bottom=d,t.dropdownList.style.removeProperty("top")):(t.toggleDropdownDisplay(t.config.classNames.dropdownOnBottom),t.dropdownList.style.top=d,t.dropdownList.style.removeProperty("bottom"))},a=function e(){document.addEventListener("keydown",function(e){if(t.dropdownList.classList.contains(t.config.classNames.dropdownOnTop)||t.dropdownList.classList.contains(t.config.classNames.dropdownOnBottom))return"ArrowUp"!==e.key&&"Up"!==e.key&&"ArrowDown"!==e.key&&"Down"!==e.key&&"Escape"!==e.key&&"Esc"!==e.key&&"Tab"!==e.key||(e.stopPropagation(),e.preventDefault()),"ArrowUp"!==e.key&&"Up"!==e.key||!t.config.elements.optionSelected||0===t.currentOptionIndex?"ArrowDown"!==e.key&&"Down"!==e.key||!t.config.elements.optionSelected||t.currentOptionIndex===t.dropdownOptions.length-1?"Escape"!==e.key&&"Esc"!==e.key&&"Tab"!==e.key||(t.toggleDropdownDisplay(),t.selector.focus()):(t.config.elements.optionSelected.classList.remove(t.config.classNames.selected),t.currentOptionIndex+=1,t.config.elements.optionSelected=t.dropdownOptions[t.currentOptionIndex],t.config.elements.optionSelected.classList.add(t.config.classNames.selected)):(t.config.elements.optionSelected.classList.remove(t.config.classNames.selected),t.currentOptionIndex-=1,t.config.elements.optionSelected=t.dropdownOptions[t.currentOptionIndex],t.config.elements.optionSelected.classList.add(t.config.classNames.selected)),t.config.elements.optionSelected.focus(),false})},p=function e(o){o?(t.dropdownList.classList.add(o),t.dropdownList.classList.remove(t.config.classNames.hide)):(t.dropdownList.classList.add(t.config.classNames.hide),t.dropdownList.classList.contains(t.config.classNames.dropdownOnTop)&&t.dropdownList.classList.remove(t.config.classNames.dropdownOnTop),t.dropdownList.classList.contains(t.config.classNames.dropdownOnBottom)&&t.dropdownList.classList.remove(t.config.classNames.dropdownOnBottom))};return t.config=n,t.init=s,t.bind=i,t.toggleDropdownDisplay=p,t.selectorClick=d,t.setDropdownHeight=l,t.keyPress=a,t.highlightOption=r,t.optionHovered=c,t}});
//# sourceMappingURL=footerSubsiteSelector-10c91734c2.js.map
