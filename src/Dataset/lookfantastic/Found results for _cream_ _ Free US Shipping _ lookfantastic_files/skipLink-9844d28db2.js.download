"use strict";define(["app","accessibilityFocusHelper"],function(e,t){var n;return function n(){var i={},r={selectors:{skipToMainContent:"[data-skip-link=skipToMainContent]",skipToMainContentPreferredTarget:"#main-content",skipLinkBackupTarget:"#mainContent",mainTag:"main",skipToAlert:"[data-skip-link=skipToAlert]",alert:"[data-alert=success], [data-alert=error], [data-alert=upsell]"},classNames:{skipLinkClass:"skipLink_link",westendHeader:".westendHeader"},attributes:{skipToAlertText:"skip-to-alert-text"}},a=function e(t){if(!t)return;i.element=t,i.element.addEventListener("focusin",i.trackFocus),i.skipToMainContent=i.element.querySelector(i.config.selectors.skipToMainContent);var n=document.querySelectorAll(i.config.selectors.alert);n.length>0&&(i.alertTarget=n[0],i.skipToAlert=i.createSkipLink({name:"skipToAlert",href:"#alert",text:i.element.getAttribute(i.config.attributes.skipToAlertText)||"Skip To Page Alerts",clickEventListener:function e(t){t.preventDefault(),i.skipToTarget(i.alertTarget)}}),i.element.insertBefore(i.skipToAlert,i.skipToMainContent)),i.mainContentTarget=i.getMostSuitableSkipTarget(),i.mainContentTarget?i.skipToMainContent.addEventListener("click",function(e){e.preventDefault(),i.skipToTarget(i.mainContentTarget)}):(i.skipToMainContent.remove(),!i.skipToAlert&&i.element.remove())},s=function e(){return document.querySelector(i.config.selectors.skipToMainContentPreferredTarget)||document.querySelector(i.config.selectors.skipLinkBackupTarget)||document.querySelector(i.config.selectors.mainTag)||null},o=function e(t){var n=document.createElement("a");return n.setAttribute("class",i.config.classNames.skipLinkClass),n.setAttribute("href",t.href),n.setAttribute("data-skip-link",t.name),n.innerText=t.text,n.addEventListener("click",t.clickEventListener),n},c=function e(n){i.trackClick(),t.focus(n),n.scrollIntoView();var r=document.querySelector(i.config.classNames.westendHeader);r&&window.scrollBy(0,-r.clientHeight)},l=function t(){e.publish("columbo/track","Accessibility","Focused","SkipLink")},k=function t(){e.publish("columbo/track","Accessibility","Clicked","SkipLink")};return i.config=r,i.init=a,i.getMostSuitableSkipTarget=s,i.skipToTarget=c,i.trackFocus=l,i.trackClick=k,i.createSkipLink=o,i}});
//# sourceMappingURL=skipLink-9844d28db2.js.map
