"use strict";define("urlReader",function(){var e={decoupler:{variableQuery:"",categoryValueSeparator:"",categorySeparator:"",segmentSeparator:""},constructor:{variableQuery:"",categoryValueSeparator:"",categorySeparator:"",segmentSeparator:""},getCategories:function r(t){var a;return t.split(e.decoupler.categorySeparator).map(function(r){var t=r.split(e.decoupler.categoryValueSeparator);if(e.decoupler.categoryValueSeparator===e.decoupler.segmentSeparator)return[t[0],t.slice(1,t.length)];return[t[0],e.getSegments(t[1])]})},getSegments:function r(t){var a=[];return a=t.indexOf("%7C")>-1?t.split("%7C"):t.split(e.decoupler.segmentSeparator)},deconstructGet:function r(t,a,o,n){var u=[],i=n||window.location.href;if(i.split(e.decoupler.variableQuery)[1]){var c=i.split(e.decoupler.variableQuery);u=c[1],i=c[0],u=o?e.getCategories(u):e.getSegments(u),e.updateSegment(t,u,a,o),u=e.constructParameters(u,o)}else u=e.directUpdate(t,a,o,u);return e.updatedUrl(i,u)},directUpdate:function r(t,a,o,n){if("remove"===t)return"";return n=o?o+e.constructor.categoryValueSeparator+a:a},updatedUrl:function r(t,a){var o={api:{url:t,urlVariables:a}};if(""===a)return o.window=o.api,o;var n=e.decoupler.variableQuery;return t.indexOf(n)>-1&&(n=""),o={api:{url:t+e.constructor.variableQuery+a,urlVariables:e.constructor.variableQuery+a},window:{url:t+n+a,urlVariables:n+a}}},updateSegment:function r(t,a,o,n){if(n){for(var u=0,i=a.length;u<i;u++){var c=a[u];if(c[0]===n){var l=c[1];return e.modifySegment(l,o,t),0!==l.length&&""!==l[0]||a.splice(u,1),void 0}}if("remove"===t)return;return a.push([n,[o]]),void 0}e.modifySegment(a,o,t)},modifySegment:function r(t,a,o){"remove"===o&&e.removeSegment(t,a),"replace"===o&&(t.splice(0,t.length),t.push(a)),"add"===o&&t.push(a)},removeSegment:function e(r,t){for(var a=0,o=r.length;a<o;a++)if(r[a]===t)return r.splice(a,1),void 0},constructParameters:function r(t,a){if(a)return t.map(function(r){return r[0]+e.constructor.categoryValueSeparator+r[1].join(e.constructor.segmentSeparator)}).join(e.constructor.categorySeparator);return t.join(e.constructor.segmentSeparator)}};return e});
//# sourceMappingURL=url-reader-61de6be998.js.map
