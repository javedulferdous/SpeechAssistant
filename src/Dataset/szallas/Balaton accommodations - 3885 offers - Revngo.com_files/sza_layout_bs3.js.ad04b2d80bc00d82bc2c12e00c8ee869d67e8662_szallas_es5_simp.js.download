var StyleHelper$$module$helpers$style_helper=function(){};StyleHelper$$module$helpers$style_helper.is3dTransformSupported=function(){return"undefined"!==document.body.style.perspective||"undefined"!==document.body.style.WebkitPerspective};StyleHelper$$module$helpers$style_helper.applyTransformations=function(a,b){var c=StyleHelper$$module$helpers$style_helper.getCssPrefixes();a=a.style;for(var d=0;d<c.length;d++)a[c[d]+"transform"]=b};
StyleHelper$$module$helpers$style_helper.resetTransition=function(a){var b=a.style;this.getCssPrefixes().forEach(function(a){b[a+"transition"]="none"})};StyleHelper$$module$helpers$style_helper.getCssPrefixes=function(){return["-moz-","-ms-","-o-","-webkit-",""]};StyleHelper$$module$helpers$style_helper.getTransitionEndEvents=function(a){var b=["webkitTransitionEnd","msTransitionEnd","oTransitionEnd","transitionend"];return a?b.map(function(b){return b+"."+a}):b};
StyleHelper$$module$helpers$style_helper.isElementZoomed=function(a){a=this.getTransformDimensions(a);return 1!==a.x||1!==a.y};StyleHelper$$module$helpers$style_helper.getTransformValues=function(a){a=getComputedStyle(a,null);a=a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")||a.getPropertyValue("-moz-transform");if("none"===a||!a)return null;a=a.split("(")[1].split(",").map(parseFloat);var b=a[3];a[4]/=a[0];a[5]/=b;return{scaleX:a[0],scaleY:a[3],offsetX:a[4],offsetY:a[5]}};
StyleHelper$$module$helpers$style_helper.getTransformDimensions=function(a){return(a=this.getTransformValues(a))?{x:a.scaleX,y:a.scaleY}:{x:1,y:1}};var module$helpers$style_helper={};module$helpers$style_helper.StyleHelper=StyleHelper$$module$helpers$style_helper;
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function b(b){var c=!1;a('[data-notify="container"]').each(function(d,e){d=a(e);e=d.find('[data-notify="title"]').html().trim();var f=d.find('[data-notify="message"]').html().trim();e=e===a("<div>"+b.settings.content.title+"</div>").html().trim();f=f===a("<div>"+b.settings.content.message+"</div>").html().trim();d=d.hasClass("alert-"+b.settings.type);e&&f&&
d&&(c=!0);return!c});return c}function c(c,f,g){g=a.extend(!0,{},{content:{message:"object"===typeof f?f.message:f,title:f.title?f.title:"",icon:f.icon?f.icon:"",url:f.url?f.url:"#",target:f.target?f.target:"-"}},g);this.settings=a.extend(!0,{},d,g);this._defaults=d;"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target);this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"};
"number"===typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset});(this.settings.allow_duplicates||!this.settings.allow_duplicates&&!b(this))&&this.init()}var d={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5E3,timer:1E3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},
onShow:null,onShown:null,onClose:null,onClosed:null,onClick:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};
String.format=function(){for(var a=arguments[0],b=1;b<arguments.length;b++)a=a.replace(RegExp("\\{"+(b-1)+"\\}","gm"),arguments[b]);return a};a.extend(c.prototype,{init:function(){var a=this;this.buildNotify();this.settings.content.icon&&this.setIcon();"#"!=this.settings.content.url&&this.styleURL();this.styleDismiss();this.placement();this.bind();this.notify={$ele:this.$ele,update:function(b,c){var d={};"string"===typeof b?d[b]=c:d=b;for(var e in d)switch(e){case "type":this.$ele.removeClass("alert-"+
a.settings.type);this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+a.settings.type);a.settings.type=d[e];this.$ele.addClass("alert-"+d[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+d[e]);break;case "icon":c=this.$ele.find('[data-notify="icon"]');"class"===a.settings.icon_type.toLowerCase()?c.removeClass(a.settings.content.icon).addClass(d[e]):(c.is("img")||c.find("img"),c.attr("src",d[e]));a.settings.content.icon=d[b];break;
case "progress":this.$ele.data("notify-delay",a.settings.delay-d[e]/100*a.settings.delay);this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",d[e]).css("width",d[e]+"%");break;case "url":this.$ele.find('[data-notify="url"]').attr("href",d[e]);break;case "target":this.$ele.find('[data-notify="url"]').attr("target",d[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(d[e])}b=this.$ele.outerHeight()+parseInt(a.settings.spacing)+parseInt(a.settings.offset.y);a.reposition(b)},
close:function(){a.close()}}},buildNotify:function(){var b=this.settings.content;this.$ele=a(String.format(this.settings.template,this.settings.type,b.title,b.message,b.url,b.target));this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align);this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none");(0>=this.settings.delay&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},
setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+
2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var b=this,c=this.settings.offset.y,d={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",
zIndex:this.settings.z_index},h=!1,k=this.settings;a('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){c=Math.max(c,parseInt(a(this).css(k.placement.from))+parseInt(a(this).outerHeight())+parseInt(k.spacing))});!0===this.settings.newest_on_top&&(c=this.settings.offset.y);d[this.settings.placement.from]=c+"px";switch(this.settings.placement.align){case "left":case "right":d[this.settings.placement.align]=this.settings.offset.x+
"px";break;case "center":d.left=0,d.right=0}this.$ele.css(d).addClass(this.settings.animate.enter);a.each(["webkit-","moz-","o-","ms-",""],function(a,c){b.$ele[0].style[c+"AnimationIterationCount"]=1});a(this.settings.element).append(this.$ele);!0===this.settings.newest_on_top&&(c=parseInt(c)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(c));a.isFunction(b.settings.onShow)&&b.settings.onShow.call(this.$ele);this.$ele.one(this.animations.start,function(){h=!0}).one(this.animations.end,
function(){b.$ele.removeClass(b.settings.animate.enter);a.isFunction(b.settings.onShown)&&b.settings.onShown.call(this)});setTimeout(function(){h||a.isFunction(b.settings.onShown)&&b.settings.onShown.call(this)},600)},bind:function(){var b=this;this.$ele.find('[data-notify="dismiss"]').on("click",function(){b.close()});if(a.isFunction(b.settings.onClick))this.$ele.on("click",function(a){a.target!=b.$ele.find('[data-notify="dismiss"]')[0]&&b.settings.onClick.call(this,a)});this.$ele.mouseover(function(){a(this).data("data-hover",
"true")}).mouseout(function(){a(this).data("data-hover","false")});this.$ele.data("data-hover","false");if(0<this.settings.delay){b.$ele.data("notify-delay",b.settings.delay);var c=setInterval(function(){var a=parseInt(b.$ele.data("notify-delay"))-b.settings.timer;if("false"===b.$ele.data("data-hover")&&"pause"===b.settings.mouse_over||"pause"!=b.settings.mouse_over){var d=(b.settings.delay-a)/b.settings.delay*100;b.$ele.data("notify-delay",a);b.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",
d).css("width",d+"%")}a<=-b.settings.timer&&(clearInterval(c),b.close())},b.settings.timer)}},close:function(){var b=this,c=parseInt(this.$ele.css(this.settings.placement.from)),d=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit);b.reposition(c);a.isFunction(b.settings.onClose)&&b.settings.onClose.call(this.$ele);this.$ele.one(this.animations.start,function(){d=!0}).one(this.animations.end,function(){a(this).remove();a.isFunction(b.settings.onClosed)&&b.settings.onClosed.call(this)});
setTimeout(function(){if(!d&&(b.$ele.remove(),b.settings.onClosed))b.settings.onClosed(b.$ele)},600)},reposition:function(b){var c=this,d='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',e=this.$ele.nextAll(d);!0===this.settings.newest_on_top&&(e=this.$ele.prevAll(d));e.each(function(){a(this).css(c.settings.placement.from,b);b=parseInt(b)+parseInt(c.settings.spacing)+a(this).outerHeight()})}});a.notify=function(a,b){return(new c(this,
a,b)).notify};a.notifyDefaults=function(b){return d=a.extend(!0,{},d,b)};a.notifyClose=function(b){"undefined"===typeof b||"all"===b?a("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):"success"===b||"info"===b||"warning"===b||"danger"===b?a(".alert-"+b+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):b?a(b+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):a('[data-notify-position="'+b+'"]').find('[data-notify="dismiss"]').trigger("click")};a.notifyCloseExcept=
function(b){"success"===b||"info"===b||"warning"===b||"danger"===b?a("[data-notify]").not(".alert-"+b).find('[data-notify="dismiss"]').trigger("click"):a("[data-notify]").not(b).find('[data-notify="dismiss"]').trigger("click")}});
(function(a){function b(){function b(a){a=1E12>a?g?performance.now()+performance.timing.navigationStart:c():a||c();1E3<=a-k&&(d._updateTargets(),k=a);h(b)}this.regional=[];this.regional[""]={labels:"Years Months Weeks Days Hours Minutes Seconds".split(" "),labels1:"Year Month Week Day Hour Minute Second".split(" "),compactLabels:["y","m","w","d"],whichLabels:null,digits:"0123456789".split(""),timeSeparator:":",isRTL:!1};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",
layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1};a.extend(this._defaults,this.regional[""]);this._serverSyncs=[];var c="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},g=window.performance&&"function"==typeof window.performance.now,h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||
null,k=0;!h||a.noRequestAnimationFrame?(a.noRequestAnimationFrame=null,setInterval(function(){d._updateTargets()},980)):(k=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||c(),h(b))}a.extend(b.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",
_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(b){this._resetExtraLabels(this._defaults,b);a.extend(this._defaults,b||{})},UTCDate:function(a,b,c,d,k,l,n,p){"object"==typeof b&&b.constructor==Date&&(p=b.getMilliseconds(),n=b.getSeconds(),l=b.getMinutes(),k=b.getHours(),d=b.getDate(),c=b.getMonth(),b=b.getFullYear());var e=new Date;e.setUTCFullYear(b);e.setUTCDate(1);e.setUTCMonth(c||0);e.setUTCDate(d||1);e.setUTCHours(k||0);e.setUTCMinutes((l||0)-(30>
Math.abs(a)?60*a:a));e.setUTCSeconds(n||0);e.setUTCMilliseconds(p||0);return e},periodsToSeconds:function(a){return 31557600*a[0]+2629800*a[1]+604800*a[2]+86400*a[3]+3600*a[4]+60*a[5]+a[6]},_attachPlugin:function(b,c){b=a(b);if(!b.hasClass(this.markerClassName)){var d={options:a.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};b.addClass(this.markerClassName).data(this.propertyName,d);this._optionPlugin(b,c)}},_addTarget:function(a){this._hasTarget(a)||this._timerTargets.push(a)},_hasTarget:function(b){return-1<
a.inArray(b,this._timerTargets)},_removeTarget:function(b){this._timerTargets=a.map(this._timerTargets,function(a){return a==b?null:a})},_updateTargets:function(){for(var a=this._timerTargets.length-1;0<=a;a--)this._updateCountdown(this._timerTargets[a])},_optionPlugin:function(b,c,d){b=a(b);var e=b.data(this.propertyName);if(!c||"string"==typeof c&&null==d){var f=c;return(c=(e||{}).options)&&f?c[f]:c}b.hasClass(this.markerClassName)&&(c=c||{},"string"==typeof c&&(f=c,c={},c[f]=d),c.layout&&(c.layout=
c.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(e.options,c),d=e.options.timezone!=c.timezone,a.extend(e.options,c),this._adjustSettings(b,e,null!=c.until||null!=c.since||d),c=new Date,(e._since&&e._since<c||e._until&&e._until>c)&&this._addTarget(b[0]),this._updateCountdown(b,e))},_updateCountdown:function(b,c){var d=a(b);if(c=c||d.data(this.propertyName)){d.html(this._generateHTML(c)).toggleClass(this._rtlClass,c.options.isRTL);if(a.isFunction(c.options.onTick)){var e=
"lap"!=c._hold?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);1!=c.options.tickInterval&&0!=this.periodsToSeconds(e)%c.options.tickInterval||c.options.onTick.apply(b,[e])}if("pause"!=c._hold&&(c._since?c._now.getTime()<c._since.getTime():c._now.getTime()>=c._until.getTime())&&!c._expiring){c._expiring=!0;if(this._hasTarget(b)||c.options.alwaysExpire)this._removeTarget(b),a.isFunction(c.options.onExpiry)&&c.options.onExpiry.apply(b,[]),c.options.expiryText&&(e=c.options.layout,
c.options.layout=c.options.expiryText,this._updateCountdown(b,c),c.options.layout=e),c.options.expiryUrl&&(window.location=c.options.expiryUrl);c._expiring=!1}else"pause"==c._hold&&this._removeTarget(b);d.data(this.propertyName,c)}},_resetExtraLabels:function(a,b){var c=!1,d;for(d in b)if("whichLabels"!=d&&d.match(/[Ll]abels/)){c=!0;break}if(c)for(d in a)d.match(/[Ll]abels[02-9]|compactLabels1/)&&(a[d]=null)},_adjustSettings:function(b,c,d){var e=null;for(var f=0;f<this._serverSyncs.length;f++)if(this._serverSyncs[f][0]==
c.options.serverSync){e=this._serverSyncs[f][1];break}null!=e?(e=c.options.serverSync?e:0,b=new Date):(e=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(b,[]):null,b=new Date,e=e?b.getTime()-e.getTime():0,this._serverSyncs.push([c.options.serverSync,e]));f=c.options.timezone;f=null==f?-b.getTimezoneOffset():f;if(d||!d&&null==c._until&&null==c._since)c._since=c.options.since,null!=c._since&&(c._since=this.UTCDate(f,this._determineTime(c._since,null)),c._since&&e&&c._since.setMilliseconds(c._since.getMilliseconds()+
e)),c._until=this.UTCDate(f,this._determineTime(c.options.until,b)),e&&c._until.setMilliseconds(c._until.getMilliseconds()+e);c._show=this._determineShow(c)},_destroyPlugin:function(b){b=a(b);b.hasClass(this.markerClassName)&&(this._removeTarget(b[0]),b.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(a){this._hold(a,"pause")},_lapPlugin:function(a){this._hold(a,"lap")},_resumePlugin:function(a){this._hold(a,null)},_hold:function(b,c){var d=a.data(b,
this.propertyName);if(d){if("pause"==d._hold&&!c){d._periods=d._savePeriods;var e=d._since?"-":"+";d[d._since?"_since":"_until"]=this._determineTime(e+d._periods[0]+"y"+e+d._periods[1]+"o"+e+d._periods[2]+"w"+e+d._periods[3]+"d"+e+d._periods[4]+"h"+e+d._periods[5]+"m"+e+d._periods[6]+"s");this._addTarget(b)}d._hold=c;d._savePeriods="pause"==c?d._periods:null;a.data(b,this.propertyName,d);this._updateCountdown(b,d)}},_getTimesPlugin:function(b){return(b=a.data(b,this.propertyName))?"pause"==b._hold?
b._savePeriods:b._hold?this._calculatePeriods(b,b._show,b.options.significant,new Date):b._periods:null},_determineTime:function(a,b){var c=function(a){var b=new Date;b.setTime(b.getTime()+1E3*a);return b},e=function(a){a=a.toLowerCase();var b=new Date,c=b.getFullYear(),e=b.getMonth(),f=b.getDate(),g=b.getHours(),h=b.getMinutes();b=b.getSeconds();for(var k=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,v=k.exec(a);v;){switch(v[2]||"s"){case "s":b+=parseInt(v[1],10);break;case "m":h+=parseInt(v[1],10);break;
case "h":g+=parseInt(v[1],10);break;case "d":f+=parseInt(v[1],10);break;case "w":f+=7*parseInt(v[1],10);break;case "o":e+=parseInt(v[1],10);f=Math.min(f,d._getDaysInMonth(c,e));break;case "y":c+=parseInt(v[1],10),f=Math.min(f,d._getDaysInMonth(c,e))}v=k.exec(a)}return new Date(c,e,f,g,h,b,0)};(a=null==a?b:"string"==typeof a?e(a):"number"==typeof a?c(a):a)&&a.setMilliseconds(0);return a},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_normalLabels:function(a){return a},_generateHTML:function(b){var c=
this;b._periods=b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);for(var e=!1,h=0,k=b.options.significant,l=a.extend({},b._show),n=0;6>=n;n++)e|="?"==b._show[n]&&0<b._periods[n],l[n]="?"!=b._show[n]||e?b._show[n]:null,h+=l[n]?1:0,k-=0<b._periods[n]?1:0;var p=[!1,!1,!1,!1,!1,!1,!1];for(n=6;0<=n;n--)b._show[n]&&(b._periods[n]?p[n]=!0:(p[n]=0<k,k--));var m=b.options.compact?b.options.compactLabels:b.options.labels,u=b.options.whichLabels||this._normalLabels;e=function(a){var d=
b.options["compactLabels"+u(b._periods[a])];return l[a]?c._translateDigits(b,b._periods[a])+(d?d[a]:m[a])+" ":""};k=function(a){var e=b.options["labels"+u(b._periods[a])];return!b.options.significant&&l[a]||b.options.significant&&p[a]?'<span class="'+d._sectionClass+'"><span class="'+d._amountClass+'">'+c._translateDigits(b,b._periods[a])+"</span><br/>"+(e?e[a]:m[a])+"</span>":""};return b.options.layout?this._buildLayout(b,l,b.options.layout,b.options.compact,b.options.significant,p):(b.options.compact?
'<span class="'+this._rowClass+" "+this._amountClass+(b._hold?" "+this._holdingClass:"")+'">'+e(0)+e(1)+e(2)+e(3)+(l[4]?this._minDigits(b,b._periods[4],2):"")+(l[5]?(l[4]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[5],2):"")+(l[6]?(l[4]||l[5]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[6],2):""):'<span class="'+this._rowClass+" "+this._showClass+(b.options.significant||h)+(b._hold?" "+this._holdingClass:"")+'">'+k(0)+k(1)+k(2)+k(3)+k(4)+k(5)+k(6))+"</span>"+(b.options.description?
'<span class="'+this._rowClass+" "+this._descrClass+'">'+b.options.description+"</span>":"")},_buildLayout:function(b,c,d,h,k,l){var e=b.options[h?"compactLabels":"labels"],f=b.options.whichLabels||this._normalLabels,g=function(a){return(b.options[(h?"compactLabels":"labels")+f(b._periods[a])]||e)[a]},u=function(a,c){return b.options.digits[Math.floor(a/c)%10]};g={desc:b.options.description,sep:b.options.timeSeparator,yl:g(0),yn:this._minDigits(b,b._periods[0],1),ynn:this._minDigits(b,b._periods[0],
2),ynnn:this._minDigits(b,b._periods[0],3),y1:u(b._periods[0],1),y10:u(b._periods[0],10),y100:u(b._periods[0],100),y1000:u(b._periods[0],1E3),ol:g(1),on:this._minDigits(b,b._periods[1],1),onn:this._minDigits(b,b._periods[1],2),onnn:this._minDigits(b,b._periods[1],3),o1:u(b._periods[1],1),o10:u(b._periods[1],10),o100:u(b._periods[1],100),o1000:u(b._periods[1],1E3),wl:g(2),wn:this._minDigits(b,b._periods[2],1),wnn:this._minDigits(b,b._periods[2],2),wnnn:this._minDigits(b,b._periods[2],3),w1:u(b._periods[2],
1),w10:u(b._periods[2],10),w100:u(b._periods[2],100),w1000:u(b._periods[2],1E3),dl:g(3),dn:this._minDigits(b,b._periods[3],1),dnn:this._minDigits(b,b._periods[3],2),dnnn:this._minDigits(b,b._periods[3],3),d1:u(b._periods[3],1),d10:u(b._periods[3],10),d100:u(b._periods[3],100),d1000:u(b._periods[3],1E3),hl:g(4),hn:this._minDigits(b,b._periods[4],1),hnn:this._minDigits(b,b._periods[4],2),hnnn:this._minDigits(b,b._periods[4],3),h1:u(b._periods[4],1),h10:u(b._periods[4],10),h100:u(b._periods[4],100),
h1000:u(b._periods[4],1E3),ml:g(5),mn:this._minDigits(b,b._periods[5],1),mnn:this._minDigits(b,b._periods[5],2),mnnn:this._minDigits(b,b._periods[5],3),m1:u(b._periods[5],1),m10:u(b._periods[5],10),m100:u(b._periods[5],100),m1000:u(b._periods[5],1E3),sl:g(6),sn:this._minDigits(b,b._periods[6],1),snn:this._minDigits(b,b._periods[6],2),snnn:this._minDigits(b,b._periods[6],3),s1:u(b._periods[6],1),s10:u(b._periods[6],10),s100:u(b._periods[6],100),s1000:u(b._periods[6],1E3)};var q=d;for(d=0;6>=d;d++)u=
"yowdhms".charAt(d),q=q.replace(new RegExp("\\{"+u+"<\\}([\\s\\S]*)\\{"+u+">\\}","g"),!k&&c[d]||k&&l[d]?"$1":"");a.each(g,function(a,b){q=q.replace(new RegExp("\\{"+a+"\\}","g"),b)});return q},_minDigits:function(a,b,c){b=""+b;if(b.length>=c)return this._translateDigits(a,b);b="0000000000"+b;return this._translateDigits(a,b.substr(b.length-c))},_translateDigits:function(a,b){return(""+b).replace(/[0-9]/g,function(b){return a.options.digits[b]})},_determineShow:function(a){a=a.options.format;var b=
[];b[0]=a.match("y")?"?":a.match("Y")?"!":null;b[1]=a.match("o")?"?":a.match("O")?"!":null;b[2]=a.match("w")?"?":a.match("W")?"!":null;b[3]=a.match("d")?"?":a.match("D")?"!":null;b[4]=a.match("h")?"?":a.match("H")?"!":null;b[5]=a.match("m")?"?":a.match("M")?"!":null;b[6]=a.match("s")?"?":a.match("S")?"!":null;return b},_calculatePeriods:function(a,b,c,h){a._now=h;a._now.setMilliseconds(0);var e=new Date(a._now.getTime());a._since?h.getTime()<a._since.getTime()?a._now=h=e:h=a._since:(e.setTime(a._until.getTime()),
h.getTime()>a._until.getTime()&&(a._now=h=e));var f=[0,0,0,0,0,0,0];if(b[0]||b[1]){var g=d._getDaysInMonth(h.getFullYear(),h.getMonth()),p=d._getDaysInMonth(e.getFullYear(),e.getMonth());p=e.getDate()==h.getDate()||e.getDate()>=Math.min(g,p)&&h.getDate()>=Math.min(g,p);var m=function(a){return 60*(60*a.getHours()+a.getMinutes())+a.getSeconds()};p=Math.max(0,12*(e.getFullYear()-h.getFullYear())+e.getMonth()-h.getMonth()+(e.getDate()<h.getDate()&&!p||p&&m(e)<m(h)?-1:0));f[0]=b[0]?Math.floor(p/12):0;
f[1]=b[1]?p-12*f[0]:0;h=new Date(h.getTime());g=h.getDate()==g;p=d._getDaysInMonth(h.getFullYear()+f[0],h.getMonth()+f[1]);h.getDate()>p&&h.setDate(p);h.setFullYear(h.getFullYear()+f[0]);h.setMonth(h.getMonth()+f[1]);g&&h.setDate(p)}var u=Math.floor((e.getTime()-h.getTime())/1E3);h=function(a,c){f[a]=b[a]?Math.floor(u/c):0;u-=f[a]*c};h(2,604800);h(3,86400);h(4,3600);h(5,60);h(6,1);if(0<u&&!a._since)for(a=[1,12,4.3482,7,24,60,60],h=6,e=1,g=6;0<=g;g--)b[g]&&(f[h]>=e&&(f[h]=0,u=1),0<u&&(f[g]++,u=0,h=
g,e=1)),e*=a[g];if(c)for(g=0;6>=g;g++)c&&f[g]?c--:c||(f[g]=0);return f}});var c=["getTimes"];a.fn.countdown=function(b){var e=Array.prototype.slice.call(arguments,1);var g="option"==b&&(0==e.length||1==e.length&&"string"==typeof e[0])?!0:-1<a.inArray(b,c);return g?d["_"+b+"Plugin"].apply(d,[this[0]].concat(e)):this.each(function(){if("string"==typeof b){if(!d["_"+b+"Plugin"])throw"Unknown command: "+b;d["_"+b+"Plugin"].apply(d,[this].concat(e))}else d._attachPlugin(this,b||{})})};var d=a.countdown=
new b})(jQuery);
var $$$module$szallas$hotelset=jQuery,HotelSet$$module$szallas$hotelset=function(){};HotelSet$$module$szallas$hotelset.getActualHotel=function(){return HotelSet$$module$szallas$hotelset.hotels[HotelSet$$module$szallas$hotelset.actualHotelId]};HotelSet$$module$szallas$hotelset.setActualHotel=function(a){HotelSet$$module$szallas$hotelset.actualHotelId=a.hotelId;HotelSet$$module$szallas$hotelset.hotels[HotelSet$$module$szallas$hotelset.actualHotelId]=new Hotel$$module$szallas$hotelset(a)};HotelSet$$module$szallas$hotelset.actualHotelId;
HotelSet$$module$szallas$hotelset.hotels={};var Hotel$$module$szallas$hotelset=function(a){this.data=$$$module$szallas$hotelset.extend(!0,{},a)};Hotel$$module$szallas$hotelset.prototype.hotelId=function(){return this.data.hotelId||-1};Hotel$$module$szallas$hotelset.prototype.hotelName=function(){return this.data.hotelName||""};Hotel$$module$szallas$hotelset.prototype.foreignPartnerId=function(){return this.data.foreignPartnerId||-1};
Hotel$$module$szallas$hotelset.prototype.usesThreadModel=function(){return this.data.usesThreadModel||!1};Hotel$$module$szallas$hotelset.FOREIGN_PARTNER_ID={HOTELDE:2,ADRIAGATE:6,EXPEDIA:7};var module$szallas$hotelset={};module$szallas$hotelset.Hotel=Hotel$$module$szallas$hotelset;module$szallas$hotelset.HotelSet=HotelSet$$module$szallas$hotelset;
var $$$module$common$countdown_service=jQuery,pageLoadDate$$module$common$countdown_service=new Date,CountdownService$$module$common$countdown_service=function(){};
CountdownService$$module$common$countdown_service.countdown=function(a,b,c){a=void 0===a?$$$module$common$countdown_service(".countdown-element"):a;b=void 0===b?null:b;c=void 0===c?!0:c;if(a.length){var d=a.data();c={until:new Date(d.countdownEnd),format:d.format||"dHMS",compact:"undefined"===typeof d.compact?!0:d.compact,serverSync:c?CountdownService$$module$common$countdown_service._getCurrentServerSyncedTime:null,onExpiry:CountdownService$$module$common$countdown_service.onCountdownExpiry.bind(null,
a),compactLabels:["&nbsp;"+TEXTS.get("layout.year"),"&nbsp;"+TEXTS.get("layout.month"),"&nbsp;"+TEXTS.get("layout.week"),"&nbsp;"+TEXTS.get("layout.day")]};b&&$$$module$common$countdown_service.extend(c,b);a.countdown(c)}};
CountdownService$$module$common$countdown_service.animatedCountDown=function(a){a=void 0===a?$$$module$common$countdown_service(".animated-countdown-clock"):a;if(a.length){var b=$$$module$common$countdown_service(".fake-animated-countdown-clock"),c=new Date(a.data("countdownEnd")),d="years month weeks days hours minutes seconds".split(" "),e="00:00:00:00:00:00:00",f="00:00:00:00:00:00:00",g=/([0-9]{2})/gi,h=function(a){a=a.match(g);for(var b={},c=0;c<d.length;c++)b[d[c]]=a[c];return b},k=function(a,
b){for(var c=[],e,f=0;f<d.length;f++)e=d[f],a[e]!==b[e]&&c.push(e);return c},l;b.countdown({until:c,format:"dHMS",layout:"",onTick:function(b){var c=[];a.data("hours24plus")&&!a.find(".days").length&&(b[4]+=24*b[3]);for(l=0;l<b.length;l++)c.push(10>b[l]?"0"+b[l]:b[l]);b=c.join(":");if(b!==f){e=f;f=b;b=h(e);c=h(f);var d=k(b,c);for(l=0;l<d.length;l++){var g=d[l];var n=a.find("."+g);n.removeClass("flip");n.find(".curr").text(b[g]);n.find(".next").text(c[g]);(function(a){setTimeout(function(){a.addClass("flip")},
50)})(n)}}},onExpiry:function(){CountdownService$$module$common$countdown_service.onCountdownExpiry(a)}})}};CountdownService$$module$common$countdown_service.onCountdownExpiry=function(a){var b=a.data();if(!0===b.countdownAutoClose||"true"===b.countdownAutoClose)a=b.countdownContainer||a,a instanceof $$$module$common$countdown_service||(a=$$$module$common$countdown_service(a)),a.slideUp()};CountdownService$$module$common$countdown_service.destroyCountdown=function(a){$$$module$common$countdown_service.countdown._destroyPlugin(a)};
CountdownService$$module$common$countdown_service._getCurrentServerSyncedTime=function(){return new Date(siteObject$$module$common$site.get("loadTimestamp")+((new Date).getTime()-pageLoadDate$$module$common$countdown_service.getTime()))};var module$common$countdown_service={};module$common$countdown_service.CountdownService=CountdownService$$module$common$countdown_service;
var instant$$module$szallas$headersearch;
(function(a){var b;instant$$module$szallas$headersearch=function(){instant$$module$szallas$headersearch=function(c){b=this;b.options={cacheSuggestions:!0,suggestionsPerfCallback:null,useLocalSearch:!0,usePlacesSearch:!0,allowPlacesEstablishments:!0,placesAttribution:"#gplaces-attribution",localeCode:null,debug:!1,placesDelay:400,placesMinLength:4,placesFields:["address_component","name","place_id","type","geometry"],isPoi:"mainpagePoi"===siteObject$$module$common$site.get("pageType")||"listPoi"===
siteObject$$module$common$site.get("pageType")||"endPoi"===siteObject$$module$common$site.get("pageType")};if(a("body").hasClass("cobrandMainpage")||a("body").hasClass("cobrand"))b.options.usePlacesSearch=!1,b.options.allowPlacesEstablishments=!1;"undefined"!==typeof c&&a.each(c,function(a,c){"undefined"!==typeof c&&(b.options[a]=c)});b.instantInit()};instant$$module$szallas$headersearch.prototype.instantInit=function(){b.suggestionCache={};b.suggesting=!1;b.pendingCompletion=null;b.siteSuggestionUrl=
"/ajax/autocomplete";b.poiSuggestionUrl="/ajax/poi/autocomplete";b.places=null;b.cachedPlacesData={};b.suggestions=[];b.pendingSuggestions=0;b.service=null;b.autocompleteService=null;b.pendingMapCallbacks=[];b.mapsApiLoaded=!1;b.sessionToken=null};instant$$module$szallas$headersearch.prototype.getPlacesService=function(c){null==b.service?b.asyncLoadMaps(function(){b.service=new google.maps.places.PlacesService(a(b.options.placesAttribution)[0]);c(b.service)}):c(b.service)};instant$$module$szallas$headersearch.prototype.getAutocompleteService=
function(a){null==this.autocompleteService?b.asyncLoadMaps(function(){b.autocompleteService=new google.maps.places.AutocompleteService;a(b.autocompleteService)}):a(b.autocompleteService)};instant$$module$szallas$headersearch.prototype.asyncLoadMaps=function(a){if(b.mapsApiLoaded||"undefined"!==typeof google)a();else{if(0==b.pendingMapCallbacks.length){var c=document.createElement("script");c.type="text/javascript";var e="https://maps.googleapis.com/maps/api/js?v=3.37&libraries=places&callback=instant.onMapsApiLoaded&key="+
getModule("common/site").siteObject.get("mapsApiKey");null!=b.options.localeCode&&(e+="&language="+b.options.localeCode);c.src=e;document.body.appendChild(c)}b.pendingMapCallbacks.push(a)}};instant$$module$szallas$headersearch.prototype.onMapsApiLoaded=function(){b.mapsApiLoaded=!0;a(b.pendingMapCallbacks).each(function(a,b){b()});b.pendingMapCallbacks=[]};instant$$module$szallas$headersearch.prototype.getSuggestionUrl=function(){var c=a(".mainpage-nav-tabs-container .nav .active");return 0<c.length?
c.hasClass("poi-tab")?b.poiSuggestionUrl:b.siteSuggestionUrl:b.options.isPoi?b.poiSuggestionUrl:b.siteSuggestionUrl};instant$$module$szallas$headersearch.prototype.suggestNames=function(c,d){var e=!!c.match(/[\s]$/i),f=a.trim(c).toLowerCase();if(2>f.length)d("response",[]);else if("undefined"!==typeof b.suggestionCache[f])d("response",b.suggestionCache[f]);else if(b.suggesting)b.pendingCompletion=[f,d];else{b.suggesting=!0;b.suggestions=[];b.suggestionError=null;b.pendingSuggestions=0;var g=(new Date).getTime();
d("started",null);b.options.useLocalSearch&&(b.pendingSuggestions++,b.suggestionCallback=function(a){b.onLocalSuggestCompleted(f,g,d,a)},"undefined"!==typeof b.options.suggestionCallbackUrl?a.getScript(b.options.suggestionCallbackUrl+"?callback=instant.suggestionCallback&search="+encodeURIComponent(f)+(e?"&whole":""),{error:function(){b.onLocalSuggestCompleted(f,g,d,{error:"error"})}}):a.ajax(this.getSuggestionUrl()+"?search="+encodeURIComponent(f)+(e?"&whole":""),{dataType:"json",success:b.onLocalSuggestCompleted.bind(b,
f,g,d),error:function(a,c){b.onLocalSuggestCompleted(f,g,d,{error:c})}}))}};instant$$module$szallas$headersearch.prototype.callGooglePlacesApi=function(a,d,e){b.pendingSuggestions++;b.getAutocompleteService(function(c){var f=(new Date).getTime()-d;b.options.debug&&3<f&&console.log("[Instant] Autocomplete service load: %d ms",f);null===b.sessionToken&&(b.sessionToken=new google.maps.places.AutocompleteSessionToken);f={input:a,radius:3E5,location:new google.maps.LatLng(48.06,20.61),sessionToken:b.sessionToken};
b.options.allowPlacesEstablishments||(f.types=["(regions)"]);null!==b.options.localeCode&&(f.locale=b.options.localeCode);c.getQueryPredictions(f,b.onPlacesSuggestCompleted.bind(b,a,d,e))})};instant$$module$szallas$headersearch.prototype.onSuggestCompleted=function(a,d,e,f,g,h){e=(new Date).getTime()-e;b.options.suggestionsPerfCallback&&b.options.suggestionsPerfCallback(d,e);b.options.debug&&console.log("[Instant] %s autocomplete: %s (%d ms)",a,d,e);b.suggestions="local"==a?g.concat(b.suggestions):
b.suggestions.concat(g);for(g=0;g<b.suggestions.length;g++)if("local"===b.suggestions[g].source)for(e=0;e<b.suggestions.length;e++)"google-places"!=b.suggestions[e].source||0!=b.suggestions[e].description.toLowerCase().indexOf(b.suggestions[g].description.toLowerCase())&&0!=b.suggestions[g].description.toLowerCase().indexOf(b.suggestions[e].description.toLowerCase())||b.suggestions.splice(e--,1);null!=h&&(b.options.debug&&console.log("[Instant] %s error: %s",a,h),b.suggestionError=h);f("response",
b.suggestions);0==--b.pendingSuggestions&&(b.suggesting=!1,b.options.cacheSuggestions&&(b.suggestionCache[d]=b.suggestions),null!==b.suggestionError&&f("failed",b.suggestionError),f("finished",null),b.pendingCompletion&&(a=b.pendingCompletion,b.pendingCompletion=null,b.suggestNames(a[0],a[1])))};instant$$module$szallas$headersearch.prototype.onPlacesSuggestCompleted=function(c,d,e,f,g){if("OK"==g)a(f).each(function(a){f[a].source="google-places"}),b.onSuggestCompleted("places",c,d,e,f,null);else b.onSuggestCompleted("places",
c,d,e,[],g)};instant$$module$szallas$headersearch.prototype.onLocalSuggestCompleted=function(c,d,e,f){if(f.error)b.onSuggestCompleted("local",c,d,e,[],f.error);else f.length?a(f).each(function(a){f[a].source="local"}):b.options.usePlacesSearch&&c.length>=b.options.placesMinLength&&(clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(function(){b.callGooglePlacesApi(c,d,e)},b.options.placesDelay)),b.onSuggestCompleted("local",c,d,e,f,null)};instant$$module$szallas$headersearch.prototype.onPlacesPreloadCompleted=
function(c,d,e,f){if("OK"==f){b.options.debug&&(console.log("GPlaces preload place info:"),console.log(e));var g="route sublocality locality administrative_area_level_2 administrative_area_level_1 country".split(" "),h=null;a(e.address_components).each(function(b,c){a(c.types).each(function(b,c){b=a.inArray(c,g);-1!==b&&(b<h||null===h)&&(h=b)})});e.mapType=null===h?null:g[h];d(e);b.cachedPlacesData[c]=e}else b.options.debug&&console.log("GPlaces preload error: "+f),d(null)};instant$$module$szallas$headersearch.prototype.placesPreload=
function(a,d){if("undefined"!=typeof b.cachedPlacesData[a])b.onPlacesPreloadCompleted(a,d,b.cachedPlacesData[a],"OK");else b.getPlacesService(function(c){c.getDetails({fields:b.options.placesFields,placeId:a,sessionToken:b.sessionToken},b.onPlacesPreloadCompleted.bind(b,a,d));b.sessionToken=new google.maps.places.AutocompleteSessionToken})};instant$$module$szallas$headersearch.prototype.ensureLoaded=function(a,d){"local"==a.source?d(a):b.placesPreload(a.place_id,function(c){if(c){var e=!1;"undefined"==
typeof a.filters&&(a.filters=[]);for(var g=0;g<a.filters.length;g++)if("location"==a.filters[g].type){e=!0;break}e||(e={route:3,sublocality:5,locality:5,admin_area_level_1:20,admin_area_level_2:30,country:30},g=15,"undefined"!==typeof e[c.mapType]&&(g=e[c.mapType]),a.filters.push({type:"location",id:{lat:c.geometry.location.lat(),lon:c.geometry.location.lng(),distance:g}}));b.options.debug&&console.log(a);d(a)}})};return instant$$module$szallas$headersearch}()})(jQuery);
!function(a){var b=getModule("common/site").siteObject,c=getModule("common/history_service").HistoryService,d=getModule("measurement").TrackingService,e=getModule("common/dateutils").DateUtils,f=getModule("common/crypt").Crypt,g=window,h={debug:!1,allow_places_establishments:!0,trackSelections:!0,locationInput:"#location_header_input",locationJson:"#location_header_json",locationSettlementInput:"#location_header",locationSuggestionIndex:"#location_suggestion_index",locationInputDefaultValue:"",locationInputMissingText:"",
locationView:"#location_view",startDateInput:"#header_start_date_d",startDateContainer:".input-arrival",startDateIcon:".header_start_date_icon",endDateInput:"#header_end_date_d",endDateContainer:".input-leave",endDateIcon:".header_end_date_icon",dateFormat:"dd/mm",searchButton:"#header_search_button",ajax:!0,autocompleteURL:"/ajax/search_tabs/lookup?&format=json&input=",charset:"utf-8",headerForm:".header_form",settlementID:null,locale:"",settlementName:"",_autoCompleteRespone:null,search_url:"",
static_url:"",poiSearchActionUrl:"programok/kereses/egyszeru",siteSearchActionUrl:"/kereses/egyszeru",startDateHolderInput:"[name=simple_start_date]",endDateHolderInput:"[name=simple_end_date]"},k=function(c){a(function(){var b=a(h.locationInput);b.on("keyup",function(){b.attr("data-val",b.val());a(h.locationJson).val("{}")});if(a(window).width()<getModule("common/site").siteObject.CONSTANTS.SIZE_LIMIT_XS)b.on("touchend",function(){a("html, body").animate({scrollTop:parseInt(b.offset().top)},300)})});
var k=jQuery(c).find(h.locationInput);k.typeahead({minLength:0,items:9999,autoSelect:!1,source:function(d,e){g.instant.resultCount=0;g.instant.placesResultCount=0;var k=function(b,d){var k=[];if("response"===b){var l=1;a(d).each(function(a,b){b.description=b.description.htmlEntitiesOnce();a=!0;if("google-places"===b.source)if("undefined"===typeof b.place_id)a=!1;else if("undefined"!==typeof b.types)for(var c=0;c<b.types.length;c++)if("establishment"==b.types[c]&&!h.allow_places_establishments){a=
!1;break}if(a){g.instant.resultCount++;"google-places"===b.source&&g.instant.placesResultCount++;a=f.encodeBase64(JSON.stringify(b));c=b.data;var d=b.count;if("undefined"==typeof c||null===c)c="";k.push(a+"||"+b.description+"||"+l++ +"||"+c+"||"+d)}});c.trigger("autocompleteResults",k);e(k)}};if(3>d.length||"object"==typeof window.szallasObject.szallasHotelPageObject&&window.szallasObject.szallasHotelPageObject.getHotelName()==d){if(!a("body").hasClass("szallas_repjegy_hu")){var l=a.map(h.breadcrumbFilters,
function(b){return a.extend(!0,b,{filterType:"breadcrumbFilters",source:"local"})});d=b.has("pageType")?b.get("pageType"):"";var m=b.get("localeId")===b.get("locales").HUNGARIAN&&ProfileObject.isLoyaltyMember()&&!0===b.get("isLoyaltyEnabled")&&!0===b.get("showAdditionalLoyaltyElement");if(0<ProfileObject.favouriteCount()&&-1==d.indexOf("Poi",d.length-3)){var p={id:"favourites",description:TEXTS.get("sza_profile.my_favourites"),source:"local",filters:[{id:"favourites",name:TEXTS.get("sza_profile.my_favourites"),
type:"profileFilter"}]};m&&(p.event="headersearch-filter-selected");l.push(p)}m&&l.push({id:"loyalty_places",description:TEXTS.get("sza_profile.loyalty_places"),source:"local",filters:[{id:"loyalty_places",name:TEXTS.get("sza_profile.loyalty_places"),type:"profileFilter"}],"class":"loyalty-places-filter",event:"headersearch-filter-selected"});m=a.map(h.recentSearches,function(b){return a.extend(!0,b,{filterType:"recentSearches",source:"local"})});m.length&&(p={description:TEXTS.get("sza_search.recent_searches"),
selectable:!1,"class":"header"},l=l.concat([p]).concat(m));p=a.map(h.topSettlements,function(b){return a.extend(!0,b,{filterType:"topSettlements",source:"local"})});p.length&&m.length&&(m={description:TEXTS.get("sza_search.top_settlements"),selectable:!1,"class":"header"},l.push(m));l=l.concat(p);b.isMobile()&&navigator.geolocation&&"undefined"!==typeof storage&&-1==d.indexOf("Poi",d.length-3)&&!1!==storage.local().get("userLocationAvailable")&&l.unshift({id:"nearbySearch",description:TEXTS.get("sza_header.nearby_hotels"),
source:"custom"});k.call(this,"response",l)}}else g.instant.suggestNames(d,function(a,b){k.call(this,a,b)})},matcher:function(){return!0},sorter:function(a){return a},highlighter:function(c,d,e){d=d||c.split("||");e=e||JSON.parse(f.decodeBase64(d[0]));var g=d[1];c=d[3];d=d[4];var h=a.unique(a.map(e.filters||[],function(a){return a.type})),k=g,l=this.query,m=-1;-1!=g.toLowerCase().indexOf(l.toLowerCase())&&(m=g.toLowerCase().indexOf(l.toLowerCase()));if(-1!=m){g=k.substr(0,m);var p=k.substr(m,l.length);
k=k.substr(m+l.length);k=g+"<strong>"+p+"</strong>"+k}l=b.has("pageType")?b.get("pageType"):"";!isNaN(d)&&0<d&&-1==a.inArray("HotelId",h)?(h="",l&&-1!=l.indexOf("Poi",l.length-3))?null!==e.poiCount&&(h="<label>"+TEXTS.get("sza_search.poi_count",{count:e.poiCount})+"</label>",k+='<div class="resultcount ">'+h+" </div>"):k+='<div class="resultcount '+(h.length?"has-poi-label":"")+'">'+d+"&nbsp;"+TEXTS.get("sza_header.accomodation")+h+" </div>":"favourites"===e.id&&(k+='<div class="resultcount">'+ProfileObject.favouriteCount()+
"&nbsp;"+TEXTS.get("sza_header.accomodation")+"</div>");d=e.countryFlag?'<span class="header-search-flag flag-icon locale-'+e.countryFlag+'" '+('data-country-id="'+e.countryId+'"')+"></span>&nbsp;":"";c?k=d+k+'<div class="autocomplete-region">'+c+"</div>":d&&(k=d+k);"nearbySearch"===e.id?k='<span class="glyphicon glyphicon-location"></span>'+k:"favourites"===e.id?k='<span class="glyphicon glyphicon-heart-border"></span>'+k:"breadcrumbFilters"===e.filterType?k='<span class="glyphicon glyphicon-subitem"></span>'+
k:"loyalty_places"===e.id&&(k='<img class="loyalty-places-img" src="'+b.get("staticUrl")+'/images/new/loyalty/loyalty-emblem.svg" /> '+k);return k},render:function(b){var c=this,d=c.$element.val(),e=!1,g="";a(b).each(function(a,b){a=c.displayText(b);var h=b.split("||"),k=JSON.parse(f.decodeBase64(h[0])),l="dropdown-item";k["class"]&&(l+=" "+k["class"]);e||a!=d||(l+=" active",c.$element.data("active",b),e=!0);g+='<li data-value="'+b+'"><a class="'+l+'" href="#" role="option">'+c.highlighter(a,h,k)+
"</a></li>"});this.$menu.rawHtml(g);this.autoSelect&&!e&&(a(this.$menu.querySelector("li")).addClass("active"),this.$element.data("active",b.first().data("value")));return this},updater:function(c){if("undefined"!=typeof c){c=c.split("||");var k=JSON.parse(f.decodeBase64(c[0]));if(!1!==k.selectable){var l=c[1],p=parseInt(c[2]),n=a(a(this)[0].$element),v=a(m(n));c=v.find(h.locationInput);"undefined"!==typeof k.event&&d.event("autocomplete",k.event,k.description,1,"NIevent");var t=c.attr("data-val");
t||(t="");c.one("change",function(){t.length||(t=l);v.find(h.locationSearchInput).val(t)});v.find(h.locationSettlementInput).val(l);v.find(h.locationSuggestionIndex).val(p);jQuery(".typeahead.dropdown-menu").append('<span id="gplaces-attribution"></span>');if(1===p&&"nearbySearch"===k.id)q(v);else return g.instant.ensureLoaded(k,function(){var c={};a(k.filters).each(function(a,b){"undefined"==typeof c[b.type]?c[b.type]=[b.id]:c[b.type].push(b.id)});if("recentSearches"===k.filterType){window.szallasSearchObject&&
window.szallasSearchObject.preventSearches();k.checkIn&&k.checkOut&&(u.data("sza.calendar").setInterval(e.make(k.checkIn),e.make(k.checkOut)),b.isMobile()&&a("#header_start_date_d, #header_end_date_d").trigger("focus"));var d=a("#travelers-number").data("travellers");if(d){var f=d.getOptions();f.roomDetails.childAges=[];a.extend(!0,f,{roomCount:k.rooms,roomDetails:{adults:k.adults,guestCount:k.adults,childAges:k.children,childCount:k.children.length}});d.setOptions(f);d.travellerChange(d.getRoomDetails());
d.setGuestCapacity();d.setEditInPlace()}window.szallasSearchObject&&window.szallasSearchObject.enableSearches()}v.find(h.locationJson).val(JSON.stringify(c));sza.userSettings.hasDates();d=JSON.parse(v.find(h.locationJson).val());jQuery("body").trigger("setLocation",[d,l]);h.trackSelections&&(d={searchTerm:n.val(),resultCount:g.instant.resultCount,placesResultCount:g.instant.placesResultCount,item:{index:p,filters:c,term:k.description,type:k.source}},a.ajax({url:"/ajax/autocomplete/track",data:JSON.stringify(d),
type:"post"}));k.autostart&&"undefined"===typeof window.szallasSearchObject&&v.trigger("submit")}),l}}},afterHide:function(c){var d=a("#header_start_date_d"),e=b.get("pageType");e="mainpagePoi"===e||"listPoi"===e||"endPoi"===e;c&&e?u.trigger("submit"):!sza.userSettings.checkIn()&&c&&(b.isMobile()&&e||d.data("triggerDatepicker").isModal()||(b.isMobile()?setTimeout(function(){d.data("triggerDatepicker").show()},500):h.noDateShown&&!h.hasStoredNoDate()?h.noDateShowPopup():h.noDateShown||d.data("triggerDatepicker").show()))}}).data("typeahead").show=
function(){this.$element.fastShow();this.$menu.insertAfter(this.$element);a("body").hasClass("cobrandMainpage")||a("body").hasClass("cobrand")||this.$menu.find(".powered-by-google").length||this.$menu.append("<li class='powered-by-google'></li>");this.$menu.fastShow();this.$element.trigger("show.typeahead");this.shown=!0;return this};k.on("mouseup",function(){var a=k.data("typeahead");k.val()&&!a.$menu.is(":visible")&&a.show()})},l=function(b,c){"undefined"===typeof b||isNaN(b)||("boolean"!==typeof c&&
(c=!0),p(b,c,function(b){b.calendarAvailability&&n(b);var c=a("#travelers-number").data("travellers");c&&(b=b.adultFriendlyInfo||{},b=b.isAdultFriendly?{minChildAge:b.minPersonAge,travellerInfo:TEXTS.get("sza_room.adult_friendly_hotel",{age:b.minPersonAge})}:{minChildAge:0,travellerInfo:""},c.setOptions(b))}))},n=function(a){var b=u.data("sza.calendar");b.setAvailability({dates:a.calendarAvailability,isSeasonal:a.isSeasonal||!1,seasonallyClosedInterval:a.seasonallyClosedInterval||{}});b.getStartCalendar().setOptions({footer:a.startCalFooter});
b.getEndCalendar().setOptions({footer:a.endCalFooter})},p=function(a,b,c){jQuery.ajax({type:"POST",async:b,url:"/ajax/get_hotel_availability",data:JSON.stringify({hotelId:a}),dataType:"json",success:function(a){"ok"===a.status&&"function"===typeof c&&c(a)},error:function(a){"function"===typeof c&&c({status:"error"})}})},m=function(a){return a.closest("[headerSearch=true]")},u,q=function(b){if(navigator.geolocation){var c=a(h.locationInput),d=c.data("typeahead"),e=d.hide,f=function(){a(".header-search-location-section input").prop("disabled",
!1);d.hide=e;d.hide();d.$menu.find("li").first().removeClass("in-progress-center");a(h.locationInput).prop("disabled",!1)};d.$menu.find("li").first().addClass("in-progress-center");d.hide=function(){return!1};a(".header-search-location-section input").prop("disabled","disabled");navigator.geolocation.getCurrentPosition(function(c){f();a(h.locationInput).trigger("beforeItemAdd");"undefined"!==typeof window.szallasSearchObject&&"simple"===window.szallasSearchObject.getListType()?a(h.locationView).val("list"):
a(h.locationView).val("map");storage.local().set("userLocationAvailable",!0);var d=sza.userSettings.checkIn(),e=sza.userSettings.checkOut();if(!d||!e){d=new Date;e=b.find(h.startDateInput);var g=b.find(h.endDateInput);b.data("sza.calendar").setInterval(d,new Date((new Date).setDate(d.getDate()+1)));e.add(g).trigger("change")}b.find(h.locationJson).val(JSON.stringify({location:[{distance:10,lat:c.coords.latitude,lon:c.coords.longitude}]}));b.trigger("submit")},function(b){f();b&&1===b.code&&(a("<div>",
{"class":"header-location-unavailable-message",text:TEXTS.get("sza_header.location_access_denied")}).insertAfter(".header-search-location-section"),c.one("click",function(){a(".header-location-unavailable-message").remove()}),storage.local().set("userLocationAvailable",!1))},{timeout:1E4})}},t=function(a){jQuery(u).hide();throw Error(a);},v=function(b){a.each(b,function(a,b){"undefined"==typeof h[b]&&t('Option "'+b+'" is not set')})},y=function(b,c){a.each(c,function(a,c){b.find(h[c]).length||t('Element for option "'+
c+'" does not exist: '+h[c])})},w=function(b){var d=!1,e=b.find(h.noDateInput),f=h.noDatePlaceholder,g=b.find(h.noDateIcon),k=b.find(h.noDateNights),l=b.find(h.noDateSwitch),m=e.parent(),p=e.closest(".wrapper"),n=a(".no-date-popup-content").parent(),q=function(){d?v():u()},v=function(){d&&(z(),sza.userSettings.resetFlexibleInterval(),c.replaceGetParams({checkindow:null,checkinmonth:null,duration:null}),"undefined"!=typeof h.storedStartDate&&"undefined"!=typeof h.storedEndDate?D(h.storedStartDate,
h.storedEndDate):D(),p.stop(!0).animate({top:0},250),h.noDateShown=d=!1,b.find(h.startDateInput).attr("tabindex",2),b.find(h.endDateInput).attr("tabindex",3),e.attr("tabindex",-1))},u=function(a){d||(sza.userSettings.resetDates(),c.replaceGetParams({checkin:null,checkout:null}),F()?(y(h.storedMonth,h.storedDOW,h.storedDuration),a||M()):y(),p.stop(!0).animate({top:-45},a?0:250),h.noDateShown=d=!0,b.find(h.startDateInput).attr("tabindex",-1),b.find(h.endDateInput).attr("tabindex",-1),e.attr("tabindex",
4))},y=function(a,b,c){"number"==typeof a&&"number"==typeof b&&"number"==typeof c?(w(a,b,c),A(a,b,c),n.find(".no-date-ok-btn").attr("disabled",!1)):(m.removeClass("has-value"),e.val(f),g.empty(),k.empty(),n.find("select").val(""),n.find(".no-date-ok-btn").attr("disabled",!0))},w=function(a,b,c){m.addClass("has-value");g.text(S(b));e.val(Q(a));k.text(TEXTS.get("sza_header.nights",{nights:c||sza.userSettings.flexibleDuration()}))},A=function(a,b,c){n.find(".flexibleDayOfWeek").val(b||sza.userSettings.flexibleDayOfWeek());
n.find(".flexibleMonth").val(a||sza.userSettings.flexibleMonth());n.find(".flexibleDuration").val(c||sza.userSettings.flexibleDuration());n.find(".no-date-ok-btn").attr("disabled",!1)},E=function(){var b=a(h.headerForm).data("sza.calendar");b.getStartCalendar().hide();b.getEndCalendar().hide();n.show();a("html").off("click.no-date.outside").on("click.no-date.outside",function(b){a(b.target).closest(n).length||a(m).find(b.target).length||a(b.target).hasClass("switch-label")||a(".typeahead").find(b.target).length||
(z(),a("html").off("click.no-date.outside"))});e.trigger("showNoDate")},z=function(){n.hide();e.trigger("hideNoDate")},M=function(){var b=n.find("select"),c={};a.each(b,function(a,b){c[b.name]=b.value});sza.userSettings.setFlexibleInterval(c.flexibleDayOfWeek,c.flexibleMonth,c.flexibleDuration);a("body").trigger("setNoDate",c)},S=function(a){var b=getModule("common/dateutils").Regional[h.locale].dayNamesShort;a=a||sza.userSettings.flexibleDayOfWeek();return b[a%7]},Q=function(a){var b=getModule("common/dateutils").Regional[h.locale].monthNames;
a=a||sza.userSettings.flexibleMonth();return b[a-1]+"."};if(!function(){var a=[e,g,k,l];if(!f||"string"!=typeof f)return t("Placeholder for option noDate is not set: "+f),!1;for(var b=0,c=a.length;b<c;b++)if(!a[b]||1!==a[b].length)return t("Element for option noDate does not exist: "+a[b]),!1;return!0}())return!1;(function(){n.find("[data-dismiss=close]").on("click",function(){z()});n.find("select").on("change",function(){n.find(".no-date-ok-btn").attr("disabled",!!n.find("select").filter(function(){return!this.value}).length)});
n.find(".no-date-ok-btn").on("click",function(){z();M();w();h.noDateSet=!0;return!1});l.on("click",function(){q();setTimeout(function(){b.find(h.startDateInput).click()},200);return!1});m.on("click",function(b){a(".travellers-popup:visible").toggle();n.is(":visible")?z():E()})})();sza.userSettings.hasFlexibleDates()&&(H(sza.userSettings.flexibleMonth(),sza.userSettings.flexibleDayOfWeek(),sza.userSettings.flexibleDuration()),y(),u(!0),w(),A(),h.noDateSet=!0);h.noDateUsed=!0;h.noDateSwitchChooser=
q;h.noDateShowPopup=E;h.switchToDateChooser=v;h.hasStoredNoDate=F},A=function(){return!0===h.noDateUsed},E=function(a,b){if(a&&b){var c=getModule("common/dateutils").DateUtils;h.storedStartDate=c.determineDate(a);h.storedEndDate=c.determineDate(b)}},H=function(a,b,c){a&&b&&c&&(h.storedMonth=parseInt(a),h.storedDOW=parseInt(b),h.storedDuration=parseInt(c))},F=function(){return"undefined"!=typeof h.storedMonth&&"undefined"!=typeof h.storedDOW&&"undefined"!=typeof h.storedDuration},D=function(a,b){a=
void 0===a?null:a;b=void 0===b?null:b;u.data("sza.calendar").setInterval(a,b)},M=function(){a(".recent-search-container").on("click",".recent-search-element",function(){var b=a(this),c=a(this).data("recentSearchIndex");c=h.recentSearches[c];var d=a(".header_form");b.addClass("in-progress-center");if(c.checkIn&&c.checkOut){b=d.find(h.startDateInput).data("datepicker");var f=d.find(h.endDateInput).data("datepicker");b&&f&&(b.setDate(e.make(c.checkIn)),f.setDate(e.make(c.checkOut)))}if(b=a("#travelers-number").data("travellers"))f=
b.getOptions(),f.roomDetails.childAges=[],a.extend(!0,f,{roomCount:c.rooms,roomDetails:{adults:c.adults,guestCount:c.adults,childAges:c.children,childCount:c.children.length}}),b.setOptions(f),b.travellerChange(b.getRoomDetails()),b.setGuestCapacity(),b.setEditInPlace(),b.setGlobalVars(b.getRoomDetails());var g={};a(c.filters).each(function(a,b){"undefined"==typeof g[b.type]?g[b.type]=[b.id]:g[b.type].push(b.id)});d.find(h.locationJson).val(JSON.stringify(g));d.find(h.locationInput).val(c.description);
d.trigger("submit");return!1})},S=function(){var b=a(".mainpage-nav-tabs-container"),c=a(".header-search-person-section"),d=a("#carousel-main-page").find("img"),e=d.data(),f=a(".main-page-search-subtitle"),g=f.data(),k=a(".main-page-search-title"),l=k.data(),m=a("#location_header_input"),p=a(".carousel-caption"),n=a(".site-usp"),q=a(".other-usp");b.on("click",function(v){v=a(v.target);v.hasClass("btn-poi")?(h.search_url=h.poiSearchActionUrl,d.prop("src",e.poiUrl),f.text(g.poiSubtitle),k.text(l.poiTitle),
m.prop("placeholder",h.poiPlaceHolderText),c.hide(200),p.hide(),n.hide(),q.show()):(h.search_url=h.siteSearchActionUrl,d.prop("src",e.siteUrl),f.text(g.siteSubtitle),k.text(l.siteTitle),m.prop("placeholder",h.locationInputPlaceholder),c.show(200),p.show(),n.show(),q.hide());b.find(".active").removeClass("active");v.parent().addClass("active")})},L=function(){var c=a("<div>",{"class":"modal-backdrop fade out headerSearchBackdrop hidden-element"}),d=a("body").hasClass("mainpage")&&a(window).innerWidth()>=
b.CONSTANTS.SIZE_LIMIT_XS,e=a("body");d&&e.append(c).addClass("location-backdrop");var f=a("#header-search-bar-collapse"),g=a(".header-search-bar-container"),h=a(".header-search-bar"),k=a(".header-search-profile");if(b.isMobile())f.on("click",function(b){b=a(b.target);b.is(g)||b.closest(g).length||f.collapse("hide")});if(d)e.on("mousedown",function(b){a(b.target)!==h&&1>h.find(b.target).length&&!a("#ui-datepicker-div").find(b.target).length?(c.addClass("hidden-element").removeClass("in"),k.removeClass("backdrop-shown")):
k.closest(".popover").length||(c.removeClass("hidden-element").addClass("in"),k.addClass("backdrop-shown"))})},z=function(){var b=a(".header-search-profile"),c=function(){b.addClass("in-use")},d=function(){b.removeClass("in-use")};a("#header_start_date_d, #header_end_date_d").on("showDate.datepicker",c).on("hideDate.datepicker",d);a("#travelers-number").on("show.travellers",c).on("hide.travellers",d)},R=function(){var b=a(".header-search-profile"),c=function(){b.hasClass("active-form")||(b.addClass("active-form"),
a(document).on("keypress.enterSubmitForm",function(b){13===b.keyCode&&a(".header_form").trigger("submit")}),jQuery(document).on("click.enterSubmitForm",function(c){a(c.target).closest(".header-search-bar").length||a("#ui-datepicker-div").length||(a(document).off("keypress.enterSubmitForm"),b.removeClass("active-form"),a(this).off("click.enterSubmitForm"))}))};a("#header_start_date_d, #header_end_date_d").on("showDate.datepicker",c);a("#travelers-number").on("show.travellers",c);c()};a.fn.headerSearch=
function(c){u=this;"undefined"==typeof jQuery.cookie&&t("jQuery cookie extension not loaded");var e=a(this);e.attr("headerSearch","true");"object"==typeof c&&jQuery.each(c,function(a,b){h[a]=b});v("locationInput locationSettlementInput locationSettlementInput endDateInput search_url locationInputPlaceholder startDatePlaceholder endDatePlaceholder locationInputMissingText".split(" "));y(e,["locationInput","locationSettlementInput","locationSettlementInput","endDateInput"]);e.trigger("before.init",
this);e.find(h.locationInput).attr("placeholder",h.locationInputPlaceholder);b.isMobile()||(e.find(h.startDateInput).attr("placeholder",h.startDatePlaceholder),e.find(h.endDateInput).attr("placeholder",h.endDatePlaceholder));e.removeAttr("onsubmit").attr("action",h.search_url).attr("method","post").attr("autocomplete","off").submit(function(b){try{return a(this).headerSearchSubmit()}catch(la){return!1}});h.ajax&&k(this);jQuery(h.locationInput).on("change",function(){""==jQuery(h.locationSettlementInput).val()&&
n({})});L();z();"redesign"===ABTestManagerInstance$$module$common$abtest.peekMobileOrDesktop("poi_redesign_ab")&&"mainpage"===b.get("pageType")&&S();a(".header-search-bar-container").one("click","input, a",function(){R()});h.locationSearchInput=".locationInput_search";e.append(jQuery("<input/>",{name:"search",type:"hidden","class":h.locationSearchInput.substr(1)}));h.startCalFooter=h.startCalFooter||"";h.endCalFooter=h.endCalFooter||"";c=h.noDate;var f=b.viewportSize()!==b.CONSTANTS.VIEWPORT_XXS;
c&&f&&!sza.userSettings.hasDates()&&(h.noDateInput=c.input,h.noDatePlaceholder=c.placeholder,h.noDateIcon=c.icon,h.noDateGlyphicon=c.glyphicon,h.noDateNights=c.nights,h.noDateSwitch=c["switch"],w(u),h.noDateButton='<span class="search-switch"><label class="switch-label">'+TEXTS.get("sza_header.no_date")+"</label></span>",h.startCalFooter+=h.noDateButton,h.endCalFooter+=h.noDateButton,E(sza.userSettings.checkIn(),sza.userSettings.checkOut()));c=new (getModule("szallas/calendar").SzallasRangeCalendar)({start:{element:a(this).find(h.startDateInput),
container:a(this).find(h.startDateContainer),dayContainer:a(this).find(h.startDateIcon),holder:a(this).find(h.startDateHolderInput),footer:h.startCalFooter},end:{element:a(this).find(h.endDateInput),container:a(this).find(h.endDateContainer),dayContainer:a(this).find(h.endDateIcon),holder:a(this).find(h.endDateHolderInput),footer:h.endCalFooter},displayFormat:h.dateFormat,dates:h.calendarAvailability});a(this).data("sza.calendar",c);a(c).on("change",function(b,c,d,e,f){b=a(u).find(h.startDateInput);
b.hasClass("highlighted")&&b.removeClass("highlighted");sza.userSettings.hasDates()||setTimeout(function(){var b=a("#travelers-number"),d=getModule("common/calendar").Cal.END;f===d&&!c.isOpen()&&a(".no-date-popup-content").is(":hidden")&&b.is(":visible")&&b.trigger("click")},10)});a("body").on("click",".switch-label",function(){D();A()&&h.noDateSwitchChooser.call();A()&&h.noDateShowPopup.call()});jQuery(h.locationInput).keypress(function(b){var c=a(this);13==b.which&&(b.preventDefault(),b.stopPropagation(),
jQuery(c).headerSearchValidate(!0)&&jQuery(c).parents("form").submit())});f=b.viewportSize();var l=a("body").hasClass("cobrandMainpage"),m=[b.CONSTANTS.VIEWPORT_XS,b.CONSTANTS.VIEWPORT_XXS];e.find(h.startDateInput).val().length||!l&&-1!==m.indexOf(f)||(e.find(h.startDateInput).val(h.startDatePlaceholder),e.find(h.endDateInput).val(h.endDatePlaceholder));e.find(h.locationInput).attr("tabindex",1);e.find(h.startDateInput).attr("tabindex",2);e.find(h.endDateInput).attr("tabindex",3);e.find("button").attr("tabindex",
5);e.trigger("after.init",this);g.instant=new instant$$module$szallas$headersearch({localeCode:h.locale});e=a("body");a(this).find(h.startDateInput);a(this).find(h.endDateInput);a(c).on("change",function(b,c){E(c.startDate,c.getEndDate());d.event("search","calendar",u.find(h.locationInput).val());a(".city-photo-select-date-title").fadeOut()});e.on("setNoDate",function(b,c){!0!==h.noDateSet&&a("#travelers-number").trigger("click");H(c.flexibleMonth,c.flexibleDayOfWeek,c.flexibleDuration);d.event("search",
"nodate",u.find(h.locationInput).val())});e.on("hideStartDate hideEndDate",function(a,b){"object"===typeof b&&"object"===typeof b.element&&"undefined"!==typeof b.options.id&&"headersearchbox"===b.options.id&&b.element.blur()});a(function(){if("undefined"!=typeof window.szallasSearchObject){var b=function(){var b=window.szallasSearchObject.getSearchData(),c=b.sortBy;b=b.sortDir;c&&a("#locationSortBy").val(c);b&&a("#locationSortDir").val(b)};a(document).on("searchResponse",function(a,c,d){"sort"===
d.trigger&&b()});b()}});a(this).data("headerSearch",{options:h});M();a(".stay-home-logo").on("click",function(){d.event("headerLogo","click","logoStayHome")});var p=a(".promo-bar"),q=p.find(".promo-bar-button");if(0<q.length){var F=function(){d.event("header","click","freeCancellationPromoBar");storage.cookie().set("freeCancellableNotify",!sza.userSettings.hasDates());storage.cookie().set("freeCancellableNotifyClosed",!1);requestAnimationFrame(function(){var a=sza.userSettings.hasDates()?q.data("hasDateUrl"):
q.attr("href");b.isMobile()&&!b.isTablet()?location.href=a:window.open(a,"_blank")})};b.isMobile()&&!b.isTablet()?(p.on("click",function(b){b.preventDefault();a(b.target).hasClass("promo-bar-close")||F()}),p.on("mousedown",function(b){!b||2!==b.which&&1!==b.button||a(b.target).hasClass("promo-bar-close")||(b.preventDefault(),F())})):(q.on("click",function(a){a.preventDefault();F()}),q.on("mousedown",function(a){!a||2!==a.which&&1!==a.button||(a.preventDefault(),F())}))}e=p.find(".promo-bar-close");
if(0<e.length)e.one("click",function(a){a.preventDefault();storage.cookie().set("promoBarClosed",!0);p.hide()});var Q=a(".free-cancellable-notify");if(0<Q.length){storage.cookie().set("freeCancellableNotifyClosed",!0);var Wa=a("#header_start_date_d, #header_end_date_d"),ra=function(){Q.is(":visible")&&(Q.fadeOut(300),!b.isMobile||b.isTablet())&&(Q.off("click"),Wa.off("showDate.datepicker.freeCancellableNofity"),a(document).off("freeCancellableNotify"))};b.isMobile()&&!b.isTablet()?(Q.find(".arrow").css("left",
parseInt(a("#header_start_date_d").outerWidth()/2)+"px"),a(document).one("click.freeCancellableNotify",function(){ra()})):(e=a(".filter-block-prepaymentgroup"),0<e.length&&Q.removeClass("hidden bottom").addClass("right").css({top:"66.5px",left:"270px",minWidth:"270px"}).insertAfter(e),Wa.one("showDate.datepicker.freeCancellableNofity",function(){ra()}),a(document).one("freeCancellableNotify prepareRequest.freeCancellableNotify shown.bs.modal.freeCancellableNotify",function(){ra()}),Q.find(".close").one("click",
function(a){a.preventDefault();ra()}));Q.on("click.popoverbtn",".filter-popover-btn",function(b){var c=a("#header_start_date_d, #header_end_date_d"),d=a("#header_start_date_d"),e=a(".prepayment-filter"),f=0;getModule("common/common").Common.scrollTo(d,{callback:function(){var b=d.data("datepicker");b?b.show():d.trigger("click");d.one("hideDate.datepicker",function(){d.data("datepicker").currentDate&&(a("body").one("setCalendar.single-prepayment-set",function(){for(var b=0;b<e.length;b++){var d=a(e[b]);
d.off("click.prevent-click");d.data("bs.szallaspopover")&&d.data("bs.szallaspopover").destroy()}e.first().trigger("click");c.off("showDate.datepicker.single-prepayment-set")}),c.on("showDate.datepicker.single-prepayment-set",function(){f++;1<f&&(a("body").off("setCalendar.single-prepayment-set"),c.off("showDate.datepicker.single-prepayment-set"))}))})}})})}var oa=b.has("campaignName")?b.get("campaignName"):null,Aa=a(".campaign-promo-bar"),Ra=Aa.find(".promo-bar-button");if(null!==oa){if(0<Ra.length){var ba=
function(){d.event("homepage","click",oa+"-campaignBar");requestAnimationFrame(function(){var a=Ra.attr("href");""!==a&&(b.isMobile()&&!b.isTablet()?location.href=a:window.open(a,"_blank"))})};b.isMobile()&&!b.isTablet()?(Aa.on("click",function(b){b.preventDefault();a(b.target).hasClass("promo-bar-close")||ba()}),Aa.on("mousedown",function(b){!b||2!==b.which&&1!==b.button||a(b.target).hasClass("promo-bar-close")||(b.preventDefault(),ba())})):(Ra.on("click",function(a){a.preventDefault();ba()}),Ra.on("mousedown",
function(a){!a||2!==a.which&&1!==a.button||(a.preventDefault(),ba())}))}e=a(".footer-campaign-link");var Sa=b.has("pageType")?b.get("pageType"):"";if(0<e.length)e.on("click",function(){d.event(Sa,"click",oa+"-campaignFooterLink")})}e=Aa.find(".promo-bar-close");if(0<e.length)e.one("click",function(a){a.preventDefault();d.event("homepage","click",oa+"-campaignBarClose");storage.cookie().set("campaignBarClosed",!0);Aa.hide()})};a.fn.headerSearchFocus=function(){a(this).find(h.locationInput).focus()};
a.fn.headerSearchValidate=function(c,d,e,f,g){var k=a(m(this)),l=k.find(h.locationJson).val();l=l?JSON.parse(l):{};k.debug&&console.log("headerSearchValidate");c=c||!1;d="boolean"==typeof d?d:!0;e="boolean"==typeof e?e:!0;f="boolean"==typeof f?f:!0;g="boolean"==typeof g?g:!0;jQuery(document).trigger("headerSearchValidate",{filtersJSON:l});var p=k.find(h.locationInput);if(b.isMobile()&&1>p.val().length)return a("#header-search-bar-collapse").collapse("hide"),b&&b.get("pageType")&&"mainpage"===b.get("pageType")&&
(c=p.data("typeahead"))&&"function"===typeof c.show&&getModule("common/common").Common.scrollTo(p,{offset:0,callback:function(){p.trigger("focus")}}),!1;Validator.Assert.email([],function(a){!0===a&&p.val("")},p.val(),{getOptions:function(){return{}}});if(d&&!Object.keys(l).length&&""===p.val())return k.debug&&console.log("error:checkLocation"),c&&k.headerSearchAlertSettlement(),!1;if(g&&A()){if(!0===h.noDateShown&&!0!==h.noDateSet)return k.debug&&console.log("error:checkNoDate"),c&&k.find(h.noDateInput).click(),
!1}else{if(e&&null==sza.userSettings.checkIn())return k.debug&&console.log("error:checkStartDate"),c&&(c=k.find(h.startDateInput),d=b.get("pageType"),"mainpagePoi"===d||"listPoi"===d||"endPoi"===d||c.data("triggerDatepicker").isModal()||c.click()),!1;if(f&&null==sza.userSettings.checkOut())return k.debug&&console.log("error:checkStartDate"),c&&k.find(h.endDateInput).click(),!1}k.debug&&console.log("correct");return!0};a.fn.headerSearchSubmit=function(){if(!this.headerSearchValidate(!0,!0,!1,!1,!1))return!1;
var c=window.szallasSearchObject;if(b.isMobile()&&c&&"undefined"!==typeof c.getPredicates().Tags&&-1!==c.getPredicates().Tags.indexOf("FirstMinute")&&"undefined"!==typeof c.getPredicates().RegionId&&-1!==c.getPredicates().RegionId.indexOf(496))return a("#header-search-bar-collapse").collapse("hide"),!1;c=a(this);c.find(h.searchButton).addClass("in-progress").attr("disabled",!0);var d=c.find(h.locationSearchInput).val();c.attr("action",h.search_url+"?search="+d).trigger("headerSearchSubmit");return!0};
a.fn.headerSearchAlert=function(c,d,e){a(this).trigger("headerSearchAlert");if("undefined"===typeof h.headerSearchAlert){var f=a(d).attr("placeholder");a(d).click().attr("placeholder",e).one("blur",function(){a(this).attr("placeholder",f)});b&&b.get("pageType")&&"mainpage"===b.get("pageType")&&(c=a(d).data("typeahead"))&&"function"===typeof c.show&&a(d).trigger("focus")}else(0,h.headerSearchAlert)(c,d,e)};a.fn.headerSearchAlertSettlement=function(){var b=a(this).find(h.locationInput);a(this).headerSearchAlert(a(this),
b,h.locationInputMissingText)};a.fn.headerSearchSetJson=function(b){var c=a(this).find(h.locationJson).val();a(this).find(h.locationJson).val(JSON.stringify(a.extend(JSON.stringify(c),b)));return this};a.fn.headerSearchGetLocation=function(){return a(h.locationInput)};a.fn.headerSearchSetLocation=function(b,c){a(this).find(h.locationInput).val(c);a(this).find(h.locationSettlementInput).val(c);return this};a.fn.headerCalendarAvailabilityInit=function(a){l(a,!0);return this};a.fn.headerSearchPopHeaderCalendar=
function(){jQuery(a(this)).trigger("popCalendar",this);a(this).find(h.startDateInput).click()};a.fn.headerSearchSetVal=function(b){if((b=b[0])&&b.name&&-1<a.inArray(b.field,"SettlementId RegionId DistrictId PoiId ProvisionTypes location".split(" "))){var c=a(m(this)),d=c.find(h.locationInput),e=d.data("typeahead");c.find(h.locationJson).val('{"'+b.field+'":['+b.id+"]}");c.find(h.locationSuggestionIndex).val(0);d.val(b.name).one("blur",function(){e.options.showHintOnFocus=!1});e&&e.options&&(e.options.showHintOnFocus=
!0)}};a.headerSearchSwitchDateChooser=function(){a.isFunction(h.switchToDateChooser)&&h.switchToDateChooser.call()};a.fn.headerSearch.noConflict=function(){return this};a.fn.adultCount=function(){return sza.userSettings.adults()};a.fn.guestCount=function(){return sza.userSettings.adults()+sza.userSettings.children().length};a.fn.childCount=function(){return sza.userSettings.children().length};a.fn.childAges=function(){return sza.userSettings.children()};a.headerSearch=new function(){};a.headerSearch.initialized=
!1;a.headerSearch.version="2.0.0"}(window.jQuery);var module$szallas$headersearch={};
var $$$module$new_szallas=jQuery,Szallas$$module$new_szallas=function(){this.contactInfoData=null;this.contactInfoTimer=[];$$$module$new_szallas.cookie("has_js")||$$$module$new_szallas.cookie("has_js",1,{expire:1,path:"/"});$$$module$new_szallas("body").trigger("szallasObjectInit",this);this.initTooltips();this.setRoyalSliderProps();!siteObject$$module$common$site.isMobile()&&$$$module$new_szallas("#infoAutoRefresh").length&&(this.refreshCIOnMainPage("header"),this.refreshCIAfterSearch());this.refreshCIOnMainPage("footer");
this.headerInit();this.locationInputSelectInit();this.initEvents();this.szaTracking();this.szgTracking();this.handleUrlParams();this.initSzGPostIt({container:".post-it--super-day",link:".link-super-day",event:"SuperDayBanner"});var a=this;$$$module$new_szallas(function(){a.footerInit()});this.otherReason()};
Szallas$$module$new_szallas.prototype.initTooltips=function(){var a="";a=siteObject$$module$common$site.isMobile()?"click":"mouseover";for(var b=["top","bottom","left","right"],c={},d=0,e=b.length;d<e;c={$jscomp$loop$prop$position$176:c.$jscomp$loop$prop$position$176},d++)c.$jscomp$loop$prop$position$176=b[d],$$$module$new_szallas("[rel=tooltip_"+c.$jscomp$loop$prop$position$176+"]").on(a,function(a){return function(b){b=$$$module$new_szallas(b.target);void 0===b.data("bs.tooltip")&&b.tooltip({placement:a.$jscomp$loop$prop$position$176,
html:!0}).tooltip("show")}}(c))};Szallas$$module$new_szallas.prototype.szaTracking=function(){$$$module$new_szallas(".poland-offer-newsletter-modal").on("click",function(){TrackingService$$module$measurement.event("listHotel","clickNewsletter")});var a=$$$module$new_szallas("#modalSmokeTest"),b=a.find(".form-control");if(a.length)a.on("shown.bs.modal",function(){b.focus()}).on("show.bs.modal",function(){$$$module$new_szallas(".headerSearchBackdrop").removeClass("in").hide();$$$module$new_szallas(".navbar-header").removeClass("backdrop-shown")})};
Szallas$$module$new_szallas.prototype.setHotelPageObject=function(a){this.szallasHotelPageObject=a};Szallas$$module$new_szallas.prototype.szgTracking=function(){$$$module$new_szallas(document).on("click",".szg-link",function(){TrackingService$$module$measurement.event("szallasguru","click",null,null,"NIevent")})};
Szallas$$module$new_szallas.prototype.handleUrlParams=function(){try{var a=UrlService$$module$url.get(location.href)}catch(b){return}if("trivago.com"===a.utm_source&&(window.outerWidth!==screen.availWidth||window.outerHeight!==screen.availHeight))$$$module$new_szallas(document).one("click",function(){window.outerWidth===screen.availWidth&&window.outerHeight===screen.availHeight||window.resizeTo(screen.availWidth,screen.availHeight)})};
Szallas$$module$new_szallas.prototype.headerInit=function(){this.headerTravellersInit();this.headerEventsInit()};
Szallas$$module$new_szallas.prototype.headerEventsInit=function(){var a=$$$module$new_szallas("#header-search-bar-collapse"),b="mainpage"===siteObject$$module$common$site.get("pageType");$$$module$new_szallas(".navbar-header").on("click","a",function(){var a=$$$module$new_szallas(this).data("optlabel");"undefined"!==typeof a&&0<a.length&&TrackingService$$module$measurement.event("navigacio","menu",a)});if(siteObject$$module$common$site.isMobile()){var c,d,e=$$$module$new_szallas("body");a.on("show.bs.collapse",
function(){history.state&&history.state.type&&"header-search"===history.state.type||HistoryService$$module$common$history_service.replaceState({type:"header-search"},document.title,location.href)}).on("shown.bs.collapse",function(){siteObject$$module$common$site.get("isIphone")&&e.addClass("iphone-modal");siteObject$$module$common$site.get("isAndroid")&&e.addClass("android-modal");$$$module$new_szallas("#btn-navbar-toggle").toggleClass("active");c=$$$module$new_szallas("html").css("overflow");d=$$$module$new_szallas("body").css("overflow");
$$$module$new_szallas("html, body").css({overflow:"hidden"});if(-1===location.hash.indexOf("#header-search")){var a=document.location.href.replace(location.hash,"")+"#header-search";HistoryService$$module$common$history_service.pushState({type:"header-search"},document.title,a)}}).on("hidden.bs.collapse",function(){siteObject$$module$common$site.get("isIphone")&&e.removeClass("iphone-modal");siteObject$$module$common$site.get("isAndroid")&&e.removeClass("android-modal");$$$module$new_szallas("#btn-navbar-toggle").toggleClass("active");
$$$module$new_szallas("html").css({overflow:c});$$$module$new_szallas("body").css({overflow:d});HistoryService$$module$common$history_service.replaceState({type:"header-search"},document.title,location.href.replace("#header-search",""))});$$$module$new_szallas(".btn-mobile-menu").on("click",function(){a.hasClass("in")&&a.collapse("hide")});$$$module$new_szallas(window).on("popstate",function(){!b&&history.state&&"header-search"===history.state.type&&(a.is(":visible")&&-1===location.hash.indexOf("#header-search")&&
a.collapse("hide"),a.is(":hidden")&&-1!==location.hash.indexOf("#header-search")&&a.collapse("show"))});!b&&-1<document.location.hash.indexOf("#header-search")&&a.collapse("show")}};
Szallas$$module$new_szallas.prototype.headerTravellersInit=function(){var a=$$$module$new_szallas("#travelers-number");if(1===a.length&&"undefined"!==typeof $$$module$new_szallas.fn.travellers){a.on("travellers.renderingGuestCount",function(b,e){b=e.find("option");if(b.length&&(b=b.last().val())){var d=$$$module$new_szallas("<option/>",{html:TEXTS.get("sza_header.more_than",{num:b}),attr:{value:""}});e.on("change",function(){$$$module$new_szallas(this).find("option:selected").is(d)&&$$$module$new_szallas("<span/>").szallasModal({show:!0,
reload:!1,cache:!0,closeTo:$$$module$new_szallas(".header-search-person-section"),remoteurl:"ajax/helpus/form_modal"});a.one("afterRenderTraveller",function(){c(!1)})});e.append(d)}}).on("click",".ages-footer-container button",function(){b.isValid(!0)&&c();return!1}).on("click",".edit-child-ages",function(){b.getRoomTypes()[0].elements.childCount.trigger("change")}).on("click",".ages-header-container.close",function(){c()});a.travellers($$$module$new_szallas.extend(!0,{},this.getTravellerDefaults(),
{name:"headerSearchBar",useIndex:!1,setUrl:!1,editInPlace:{displayFormat:function(a){a=a.getTotalGuests();var b='<ul class="travellers-data inline list-inline">';0<a.roomCount&&(b+='<li rel="tooltip" data-placement="top" data-original-title="'+TEXTS.get("sza_room.room_count")+'"><span class="icon-general-key font-22 glyphicon glyphicon-key"></span> '+a.roomCount+"</li>");return b+='<li rel="tooltip" data-placement="top" data-original-title="'+TEXTS.get("sza_room.adult_count")+'"><span class="icon-general-person font-22 glyphicon glyphicon-person"></span> '+
a.totalGuestCount+'</li><li rel="tooltip" data-placement="top" data-original-title="'+TEXTS.get("sza_room.children_count")+'"><span class="icon-general-child font-22 glyphicon glyphicon-child"></span> '+a.totalChildCount+'</li></ul><span class="caret"></span>'}}}));var b=a.data("travellers"),c=function(c){c=void 0===c?!0:c;var d=b.getRoomTypes()[0],f=d.childAges,g=(b.getSameAgesState()?TEXTS.get("sza_search.each_children_age",{age:f[0]}):TEXTS.get("sza_search.children_ages",{ages:f.join(", ")}))+
' <a class="edit-child-ages">'+TEXTS.get("sza_search.edit_child_ages")+"</a>",h=a.find(".ages-wrapper-container");f=function(){d.childAges.length&&(h.addClass("short-ages-content").html(g),c?h.fadeIn():h.show())};c?h.slideUp(300,f):f();d.elements.childCount.val(d.childCount)};c(!1)}};
Szallas$$module$new_szallas.prototype.getTravellerDefaults=function(){var a=parseInt(sza.userSettings.adults())||2;return{roomTypes:[],roomCount:parseInt(sza.userSettings.rooms())||null,roomDetails:{minGuests:1,maxGuests:30,childrenCount:10,roomTypeGuestCount:3,guestCount:a,childCount:this.getChildCount().length,childAges:this.getChildCount(),maxChild:10},showPopularGuestCount:!0,showAllRoomTypes:!1,showRoomIndex:!1,showRoomCount:!0,showSelectLabel:!1,global:!0,mode:"popup",editInPlace:{displayFormat:function(a){a=
a.getTotalGuests();var b="";a.roomCount&&(b=a.roomCount+" "+TEXTS.plural("sza_room.room",a.roomCount)+", ");b+=a.totalGuestCount+" "+TEXTS.plural("sza_room.adult",a.totalGuestCount);"undefined"!==typeof a.totalChildCount&&a.totalChildCount&&(b+=", "+a.totalChildCount+" "+TEXTS.plural("sza_room.child",a.totalChildCount));return'<span class="icon-general-group glyphicon glyphicon-group"></span><span class="travellers-guest">'+b.toLowerCase()+"</span>"}}}};
Szallas$$module$new_szallas.prototype.contactInfoRefresh=function(a,b,c){var d=this;null===this.contactInfoTimer[b]||void 0!==c&&!c||(clearTimeout(this.contactInfoTimer[b]),this.contactInfoTimer[b]=null);c={pageType:siteObject$$module$common$site.get("pageType"),localeId:siteObject$$module$common$site.get("localeId")};var e="ajax/contact_info_refresh",f="#infoAutoRefresh";c=$$$module$new_szallas.extend({},c,this.contactInfoData);"footer"===b&&(e="ajax/footer_info_refresh",f=".footer-contact-info");
var g=$$$module$new_szallas(f);0!==g.length&&(Common$$module$common$common.request({url:e,data:JSON.stringify(c),success:function(a){"undefined"!=typeof a&&("undefined"!=typeof a.results&&console.log("The contact info refresh process did not execute."),"ok"==a.status&&g.fadeTo("fast",.3,function(){$$$module$new_szallas(this).html(a.html).fadeTo("fast",1)}))}}),a&&(this.contactInfoTimer[b]=setTimeout(function(){d.contactInfoRefresh(a,b,!1)},6E4*a)))};
Szallas$$module$new_szallas.prototype.getChildCount=function(){return sza.userSettings.children()};Szallas$$module$new_szallas.prototype.convertPrice=function(a){1==siteObject$$module$common$site.get("currency").rounding?a=siteObject$$module$common$site.numberFormat(parseInt(a),0,"."," "):(a=siteObject$$module$common$site.numberFormat(a,2,"."," "),a=a.replace(".00",""));return a};Szallas$$module$new_szallas.prototype.urlTracking=function(a){TrackingService$$module$measurement.url(a)};
Szallas$$module$new_szallas.prototype.hotelPageInit=function(){$$$module$new_szallas(document).trigger("hotelPageInit",[this])};
Szallas$$module$new_szallas.prototype.footerInit=function(){var a=this;siteObject$$module$common$site.isMobile()||(1===$$$module$new_szallas(".newsletter-subscribe-form").length?Newsletter$$module$newsletter.formInit($$$module$new_szallas(".newsletter-subscribe-form")):Newsletter$$module$newsletter.newsletterFormToFooter());$$$module$new_szallas("#language-select-mobile select").on("change",function(){var a=$$$module$new_szallas(this).val(),c=$$$module$new_szallas(this).find('option[value="'+a+'"]').data("localeId");
TrackingService$$module$measurement.event("language",siteObject$$module$common$site.get("localeCode"),c,1);location.href=a});$$$module$new_szallas(".revngo .language-currency.language-select .dropdown-menu li a").on("click",function(){var a=$$$module$new_szallas(this).attr("value");TrackingService$$module$measurement.event("language",siteObject$$module$common$site.get("localeCode"),a,1);location.href=$$$module$new_szallas(this).data("href")});$$$module$new_szallas("body:not(.revngo) .currency-select .dropdown-menu li a").on("click",
function(){var b=$$$module$new_szallas(this).data("currencyName").toString(),c=$$$module$new_szallas(this).data("currencyId");TrackingService$$module$measurement.event("currency",siteObject$$module$common$site.get("currency").name,b,1);TrackingService$$module$measurement.event("footer","change currency",b);a.changeCurrency(c)});$$$module$new_szallas(".currency-select-mobile select").on("change",function(){var b=$$$module$new_szallas(this).find("option").eq(this.selectedIndex).data("currencyId").toString();
TrackingService$$module$measurement.event("currency",siteObject$$module$common$site.get("currency").name,b,1);TrackingService$$module$measurement.event("footer","change currency mobile",b);a.changeCurrency(b)});$$$module$new_szallas(".revngo .currency-select .dropdown-menu li a").on("click",function(){var b=$$$module$new_szallas(this).attr("value"),c=$$$module$new_szallas(this).data("currencyId");TrackingService$$module$measurement.event("currency",siteObject$$module$common$site.get("currency").name,
b,1);TrackingService$$module$measurement.event("footer","change currency mobile",b);a.changeCurrency(c)})};Szallas$$module$new_szallas.prototype.changeCurrency=function(a){$$$module$new_szallas.ajax({type:"POST",url:"/ajax/switch_currency",data:JSON.stringify({set_user_currency:a})}).done(function(a){"ok"==a&&document.location.reload(!0)})};
Szallas$$module$new_szallas.prototype.locationInputSelectInit=function(){$$$module$new_szallas(function(){var a=$$$module$new_szallas("#location_header_input"),b=function(){a.one("mouseup.setselection",function(a){if(0<$$$module$new_szallas(this).val().length&&"undefined"!==typeof a.originalEvent)if(a=this.value.length,"function"===typeof this.setSelectionRange)this.focus(),this.setSelectionRange(0,a);else if("object"===typeof this.createTextRange){var b=this.createTextRange();b.moveStart("character",
0);b.moveEnd("character",a);b.select()}})};b();a.on("blur",function(){b()})})};
Szallas$$module$new_szallas.prototype.initEvents=function(){var a=this;this.scrollEvents();$$$module$new_szallas(".main-container").on("click",".show-admin-info a",function(){var b=$$$module$new_szallas(this).closest(".admin-info"),c=parseInt(b.closest(".list-element").data("id"));a.openAdminInfo(c,b)}).on("click",".hide-admin-info a",function(){$$$module$new_szallas(this).closest(".admin-info").find(".admin-info-content").slideUp().end().find(".show-admin-info, .hide-admin-info").toggle()});$$$module$new_szallas("body").on("click",
".spoke-with-hotel",function(){var b=parseInt($$$module$new_szallas(this).data("hotelId"));a.setCallingDate(b)});$$$module$new_szallas(".footer-content .btn-footer-feedback").on("click",a.feedbackModal.bind(a));$$$module$new_szallas(".footer-copyright .btn-footer-offensive").on("click",a.offensiveContentModal.bind(a));$$$module$new_szallas(".list-element a[href]").on("click",function(){a.showHotelViewed($$$module$new_szallas(this).closest(".list-element"))});$$$module$new_szallas(".hotel-more-details-popup").on("loaded.bs.modal",
function(){a.showHotelViewed($$$module$new_szallas(".list-element[data-id=:hotelId]".replace(":hotelId",$$$module$new_szallas(this).data("hotelId"))))});$$$module$new_szallas("header, footer").on("click","a.messageUs",function(){TrackingService$$module$measurement.event("message","click","messenger.com/t/www.szallas.hu")});var b=$$$module$new_szallas("#modalSmokeTest"),c=b.find(".form-control"),d=b.find(".btn-primary");if(b.length){var e=new Validator({elements:[{name:"wheretotravel-message",element:c,
validate:[Validator.Assert.required],icon:!1,errorContainer:b.find(".js-error-container")}]});d.on("click",function(a){a.preventDefault();e.isValid(!0,function(a){a&&(c.attr("disabled","disabled"),d.attr("disabled","disabled"),Common$$module$common$common.request({url:"ajax/where_to_travel",data:JSON.stringify({message:c.val(),isLoggedIn:ProfileObject.isLoggedIn(),profileId:ProfileObject.profileId()})},function(a){b.one("hidden.bs.modal",function(){c.val("");e.resetElements();$$$module$new_szallas(".wheretotravel-popover").one("shown.bs.popover",
function(){var a=this;setTimeout(function(){$$$module$new_szallas(a).popover("hide")},2E3)}).popover("show")});b.modal("hide");c.removeAttr("disabled");d.removeAttr("disabled")}))})})}};
Szallas$$module$new_szallas.prototype.scrollEvents=function(){var a="undefined"!==typeof window.IntersectionObserver,b=function(a){if(a){var b=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&($$$module$new_szallas("body").trigger("scroll.roomlist"),b.disconnect())})},{rootMargin:"-60px 0px -60px 0px"});a=$$$module$new_szallas("#hotel-rooms-reservation-form");a.length&&b.observe(a[0])}else $$$module$new_szallas(window).on("scroll.roomlist_",function(){var a=$$$module$new_szallas(window).scrollTop()+
$$$module$new_szallas(window).height(),b=$$$module$new_szallas("#hotel-rooms-reservation-form");b.length&&a+60>b.offset().top&&($$$module$new_szallas("body").trigger("scroll.roomlist"),$$$module$new_szallas(window).off("scroll.roomlist_"))}),$$$module$new_szallas(window).trigger("scroll.roomlist_")};$$$module$new_szallas(document).on("after.setDateFirst",function(){b(a)});(function(a){if(a){var b=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&($$$module$new_szallas("body").trigger("scroll.bottom"),
b.disconnect())})});a=$$$module$new_szallas(".footer-copyright");a.length&&b.observe(a[0])}else $$$module$new_szallas(window).on("scroll",function(){$$$module$new_szallas(window).scrollTop()+$$$module$new_szallas(window).height()==$$$module$new_szallas(document).height()&&$$$module$new_szallas("body").trigger("scroll.bottom")})})(a);b(a)};
Szallas$$module$new_szallas.prototype.feedbackModal=function(){var a=this;$$$module$new_szallas("<div>").szallasModal({cache:!0,remoteurl:"ajax/feedback-modal",className:"feedback-modal",closeTo:this,show:!0,hash:!1}).on("loaded.bs.modal",function(b,c){var d=c.getModalElement(),e=d.find(".name"),f=d.find(".email"),g=d.find(".message"),h=d.find(".btn-primary"),k=d.find(".callout-danger");a.inProgress=!1;var l=function(b,c){var d=a.clone(b),e=a.clone(b),f=!1;"undefined"===typeof c||a.inProgress||(f=
!0);$$$module$new_szallas.ajax({url:"ajax/feedback-validate",type:"post",async:f,data:JSON.stringify(d),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){$$$module$new_szallas.each(e,function(a){e[a]=!0});"OK"!==a.STATUS&&$$$module$new_szallas.each(e,function(b){"undefined"!=typeof a.RESULTS[b]&&(e[b]=a.RESULTS[b][0])});f&&$$$module$new_szallas.each(e,function(a){c(e[a])})}});f||$$$module$new_szallas.each(e,function(a){c(e[a])});return null},n=function(){h.removeClass("disabled in-progress");
k.show()};e.validate({validate:function(a,b){l({name:a},b)},errorClass:"col-sm-9 col-sm-offset-3"});f.validate({validate:function(a,b){l({email:a},b)},errorClass:"col-sm-9 col-sm-offset-3"});g.validate({validate:function(a,b){l({message:a},b)},errorClass:"col-sm-9 col-sm-offset-3",icon:!1});h.on("click",function(){a.inProgress=!0;for(var b=[e.isValid(!0),f.isValid(!0),g.isValid(!0)],c=!0,l=0,q=b.length;l<q;l++)if(!0!==b[l]){c=!1;break}a.inProgress=!1;k.hide();c&&(h.addClass("disabled in-progress"),
$$$module$new_szallas.ajax({url:"ajax/feedback-validate",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({name:e.val(),email:f.val(),message:g.val()}),success:function(a){"ok"===a.status?(d.find(".modal-body").children().slideUp(),d.find(".modal-footer").slideUp(),d.find(".callout-success").slideDown()):n()},error:n}))})})};
Szallas$$module$new_szallas.prototype.offensiveContentModal=function(){var a=this;$$$module$new_szallas("<div>").szallasModal({cache:!0,remoteurl:"ajax/offensive-content-modal",className:"offensive-content-modal",closeTo:this,show:!0,hash:!1}).one("loaded.bs.modal",function(b,c){var d=c.getModalElement(),e=d.find(".name"),f=d.find(".email"),g=d.find(".message"),h=d.find(".btn-primary"),k=d.find(".callout-danger");a.inProgress=!1;var l=function(b,c){var d=a.clone(b),e=a.clone(b),f=!1;"undefined"===
typeof c||a.inProgress||(f=!0);$$$module$new_szallas.ajax({url:"ajax/offensive-content-validate",type:"post",async:f,data:JSON.stringify(d),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){$$$module$new_szallas.each(e,function(a){e[a]=!0});"OK"!==a.STATUS&&$$$module$new_szallas.each(e,function(b){"undefined"!=typeof a.RESULTS[b]&&(e[b]=a.RESULTS[b][0])});f&&$$$module$new_szallas.each(e,function(a){c(e[a])})}});f||$$$module$new_szallas.each(e,function(a){c(e[a])});
return null},n=function(){h.removeClass("disabled in-progress");k.show()};e.validate({validate:function(a,b){l({name:a},b)},errorClass:"col-sm-9 col-sm-offset-3"});f.validate({validate:function(a,b){l({email:a},b)},errorClass:"col-sm-9 col-sm-offset-3"});g.validate({validate:function(a,b){l({message:a},b)},errorClass:"col-sm-9 col-sm-offset-3",icon:!1});h.on("click",function(){a.inProgress=!0;for(var b=[e.isValid(!0),f.isValid(!0),g.isValid(!0)],c=!0,l=0,q=b.length;l<q;l++)if(!0!==b[l]){c=!1;break}a.inProgress=
!1;k.hide();c&&(h.addClass("disabled in-progress"),$$$module$new_szallas.ajax({url:"ajax/offensive-content-validate",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({name:e.val(),email:f.val(),message:g.val()}),success:function(a){"ok"===a.status?(d.find(".modal-body").children().slideUp(),d.find(".modal-footer").slideUp(),d.find(".callout-success").slideDown()):n()},error:n}))})})};Szallas$$module$new_szallas.prototype.showHotelViewed=function(a){a.find("a.hotel-name").addClass("hotel-viewed")};
Szallas$$module$new_szallas.prototype.setRoyalSliderProps=function(){this.royalSliderProps=$$$module$new_szallas.extend(!0,{},Common$$module$common$common.defaultRoyalSliderProps(),{controlsInside:!1});siteObject$$module$common$site.isMobile()||(this.royalSliderProps.keyboardNavEnabled=!0)};Szallas$$module$new_szallas.prototype.getRoyalSliderProps=function(){return this.royalSliderProps};
Szallas$$module$new_szallas.prototype.RoyalSliderShowMoreThumbs=function(a){var b=$$$module$new_szallas(".rsNavSelected");if(0!=b.length){var c=a.numSlides,d=a._thumbSize;b=b.offset().left;var e=a._visibleThumbsPerView;a.currSlideId+1!==c&&0!==a.currSlideId&&0!==b.length&&(c=function(b,c){var e=a._thumbsPosition;b*=d;"left"===c&&(b*=-1);e+=b;"left"===c&&Math.abs(e)>Math.abs(a._thumbsMaxPosition)?e=a._thumbsMaxPosition:"right"===c&&0<e&&(e=a._thumbsMinPosition);a._animateThumbsTo(e);a.ev.trigger("rsOnUpdateNav")},
b===a.width-2*a._thumbSize?c(e,"left"):b<=2*a._thumbSize&&c(e,"right"))}};Szallas$$module$new_szallas.prototype.openAdminInfo=function(a,b){var c=b.find(".admin-info-content"),d=function(){b.find(".show-admin-info, .hide-admin-info").toggle();c.slideDown()};c.is(":empty")?Common$$module$common$common.request({url:"ajax/admininfo",data:{hotelId:a}},function(a){"ok"===a.status&&(c.html(a.html),d())}):d()};
Szallas$$module$new_szallas.prototype.setCallingDate=function(a){Common$$module$common$common.request({url:"/ajax/calling-date",data:JSON.stringify({hotelId:a})},function(a){$$$module$new_szallas("#last-calling-data").html(a.RESULT)})};Szallas$$module$new_szallas.prototype.ErrorReport=function(a){console.log("errorReport");Common$$module$common$common.ErrorReport(a)};Szallas$$module$new_szallas.prototype.clone=function(a){return $$$module$new_szallas.extend(!0,{},a)};
Szallas$$module$new_szallas.prototype.initSzGPostIt=function(a){$$$module$new_szallas(document).on("szallasGuruPostItInit",function(){var b=$$$module$new_szallas(a.container),c=b.find(a.link),d=a.event;$$$module$new_szallas.cookie("defaultBoxShowed")?b.removeClass("animate-box"):$$$module$new_szallas(function(){b.addClass("animate-box--showed");$$$module$new_szallas.cookie("defaultBoxShowed",!0,{path:"/"})});CountdownService$$module$common$countdown_service.countdown();b.on("click",".post-it__close",
function(){b.removeClass("post-it--exit").addClass("post-it--closed");siteObject$$module$common$site.isMobile()?storage.local().set("PostItMobileClosed",!0):($$$module$new_szallas(this).hide(),b.find(".post-it__logo").hide());null!==d&&TrackingService$$module$measurement.event("szallasguru",d,"close",siteObject$$module$common$site.pageType)});if(!siteObject$$module$common$site.isMobile()&&!$$$module$new_szallas.cookie("szallasGuruPostItShowed"))$$$module$new_szallas(window).on("mousemove",function(a){50>
a.clientY&&!b.hasClass("post-it--closed")&&(b.removeClass("animate-box").addClass("post-it--exit"),$$$module$new_szallas(window).off("mousemove"),$$$module$new_szallas.cookie("szallasGuruPostItShowed",!0,{path:"/"}),null!==d&&TrackingService$$module$measurement.event("szallasguru",d,"exit",siteObject$$module$common$site.pageType))});c.on("click",function(){var a="click_default";$$$module$new_szallas(this).hasClass("front")&&b.hasClass("post-it--closed")&&(a="click_minimized");$$$module$new_szallas(this).hasClass("btn")&&
(a="click_maximized");null!==d&&TrackingService$$module$measurement.event("szallasguru",d,a,siteObject$$module$common$site.pageType)});siteObject$$module$common$site.isMobile()&&($$$module$new_szallas.cookie("acceptedCookie")||(b.css("margin-bottom",$$$module$new_szallas(".cookie-consent-block").outerHeight()),$$$module$new_szallas(".cookie-consent-block").on("click",function(){b.animate({"margin-bottom":"0"},200)})),storage.local().get("PostItMobileClosed")&&b.addClass("post-it--closed"))})};
Szallas$$module$new_szallas.prototype.otherReason=function(){var a=$$$module$new_szallas(".newsletter-unsubscribe"),b=a.find('input[type="radio"][name*="unsubscribeReason"]'),c=a.find('[name="unsubscribeReasonMessage"]');b.on("change",function(a){c.toggle("other"==$$$module$new_szallas(a.target).val())})};
Szallas$$module$new_szallas.prototype.refreshCIAfterSearch=function(){var a=this;$$$module$new_szallas(document).on("searchResponse",function(b,c){a.contactInfoData=c.searchData.predicates;a.contactInfoRefresh(5,"header");a.contactInfoRefresh(5,"footer")})};Szallas$$module$new_szallas.prototype.refreshCIHotelPage=function(a){this.contactInfoData={hotelId:a};this.contactInfoRefresh(5,"header");this.contactInfoRefresh(5,"footer")};
Szallas$$module$new_szallas.prototype.refreshCIListHotel=function(a){this.contactInfoData=a;this.contactInfoRefresh(5,"header");this.contactInfoRefresh(5,"footer")};Szallas$$module$new_szallas.prototype.refreshCIOnMainPage=function(a){var b={header:{interval:5},footer:{interval:0}},c=siteObject$$module$common$site.get("pageType");"mainpage"!==c&&"erzsebet-landing"!==c||this.contactInfoRefresh(b[a].interval,a)};$$$module$new_szallas(function(){window.szallasObject=new Szallas$$module$new_szallas});
var module$new_szallas={};module$new_szallas.Szallas=Szallas$$module$new_szallas;
var $$$module$common$notification_manager=jQuery,CHECK_DEFAULTS$$module$common$notification_manager={maxNoty:3},NotificationItem$$module$common$notification_manager=function(a){a=void 0===a?{}:a;this.notification=$$$module$common$notification_manager.extend(!0,{},{id:"",class:"",type:"info",title:"",message:"",onClose:function(){}},a)};
NotificationItem$$module$common$notification_manager.prototype.update=function(a){a=void 0===a?{}:a;$$$module$common$notification_manager.extend(!0,this.notification,a)};NotificationItem$$module$common$notification_manager.prototype.getNotification=function(){return this.notification};var NotificationManager$$module$common$notification_manager=function(){};
NotificationManager$$module$common$notification_manager.addNotification=function(a,b){a=void 0===a?{}:a;if(!(void 0!==b&&b||WebStorage$$module$common$storage.isSupported()))return{};void 0===a.storageId&&(new Date).getTime();this.storeNotification(a);return a};
NotificationManager$$module$common$notification_manager.checkNotifications=function(a){a=void 0===a?CHECK_DEFAULTS$$module$common$notification_manager:a;for(var b=this.readNotifications(),c=Object.keys(b),d=0,e=0,f=c.length;e<f&&a.maxNoty!==e;e++){var g=b[c[e]];if(g.showCondition()){g=g.content();if(!(g instanceof NotificationItem$$module$common$notification_manager))throw Error("The returned value is not a NotificationItem instance!");d++;this.showNotification(g)}}};
NotificationManager$$module$common$notification_manager.showNotification=function(a){a=a.getNotification();$$$module$common$notification_manager.notify({title:a.title||"",message:a.message},{delay:0,type:a.type||"info",template:'<div data-notify="container" class="'+(a.id+(a.class?" "+a.class:""))+' {0}" role="alert">\n                                <button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button>\n                                <span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span>\n                                <div class="progress" data-notify="progressbar">\n                                    <div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                                </div>\n                                <a href="{3}" target="{4}" data-notify="url"></a>\n                            </div>',
placement:{from:"bottom",align:"left"},onClose:a.onClose})};NotificationManager$$module$common$notification_manager.storeNotification=function(a){NotificationManager$$module$common$notification_manager.notifications[a.storageId]=a;storage.local().set("notifications",NotificationManager$$module$common$notification_manager.notifications)};
NotificationManager$$module$common$notification_manager.readNotifications=function(){$$$module$common$notification_manager.isEmptyObject(NotificationManager$$module$common$notification_manager.notifications)&&(NotificationManager$$module$common$notification_manager.notifications=storage.local().get("notifications")||{});return NotificationManager$$module$common$notification_manager.notifications};NotificationManager$$module$common$notification_manager.notifications={};$$$module$common$notification_manager(function(){NotificationManager$$module$common$notification_manager.checkNotifications()});
var module$common$notification_manager={};module$common$notification_manager.NotificationItem=NotificationItem$$module$common$notification_manager;module$common$notification_manager.NotificationManager=NotificationManager$$module$common$notification_manager;
var $$$module$szallas$calendar=jQuery,CalendarAvailability$$module$szallas$calendar=function(a,b){b=void 0===b?{}:b;this._dates=a;this._allowUnavailableSelection="undefined"!==typeof b.allowUnavailableSelection?b.allowUnavailableSelection:!1;this._allowFirstFullSelection="undefined"!==typeof b.allowFirstFullSelection?b.allowFirstFullSelection:!1;this._markNoArrivalDeparture="undefined"!==typeof b.markNoArrivalDeparture?b.markNoArrivalDeparture:!0;this._updateFirstFull()};
CalendarAvailability$$module$szallas$calendar.prototype.footerClasses=function(a,b){var c=0,d=0,e=0,f=0,g=0,h=0;a=DateUtils$$module$common$dateutils.daylightSavingAdjust(new Date(a));for(var k=DateUtils$$module$common$dateutils.today();a<b;){var l=this._getRule(a);c++;if(a<k)d++;else if(null!==l){if(l.full){l.seasonal?d++:g++;var n=a.getDay();4!=n&&5!=n||h++}else(l.noArrival||l.noDeparture)&&e++;(l.minNights||l.maxNights)&&f++}a.setDate(a.getDate()+1);a=DateUtils$$module$common$dateutils.daylightSavingAdjust(a)}b=
[];siteObject$$module$common$site.isMobile()&&"endHotel"===siteObject$$module$common$site.get("pageType")&&(g>.5*c||4<h)&&b.push("settlement-suggestion-on");0<d&&b.push("seasonal-on");if(c==d)return b;0<g&&b.push("full-on");0<g&&(b.push("full-on"),b.push("full-first-on"));0<e&&b.push("no-arrival-on");0<f&&b.push("minimum-nights-on");return b};
CalendarAvailability$$module$szallas$calendar.prototype._updateFirstFull=function(){if(!$$$module$szallas$calendar.isEmptyObject(this._dates))for(var a=new Date,b=null,c,d=0;d<Defaults$$module$common$usersettings.MAX_ADVANCE_BOOKING;d++)c=DateUtils$$module$common$dateutils.ymd(a),c="undefined"!==typeof this._dates[c]?this._dates[c]:null,null===c||!c.full||null!==b&&b.full||(c.firstFull=!0),a.setDate(a.getDate()+1),b=c};
CalendarAvailability$$module$szallas$calendar.prototype._applyDayAvailability=function(a,b,c){a.full?a.firstFull?(c.available=!0,c.addClass("first-full"),this._allowUnavailableSelection||this._allowFirstFullSelection||b!==Cal$$module$common$calendar.START||c.addClass("unselectable")):(c.available=this._allowUnavailableSelection,c.addClass("full"),this._allowUnavailableSelection&&c.addClass("disabled")):a.noArrivalDate&&(c.available=!0,c.addClass("first-full"),b!==Cal$$module$common$calendar.START||
this._allowUnavailableSelection||c.addClass("unselectable"));this._markNoArrivalDeparture&&(b===Cal$$module$common$calendar.START?a.noArrival&&(c.available=this._allowUnavailableSelection,c.addClass("no-arrival"),this._allowUnavailableSelection&&c.addClass("disabled")):a.noDeparture&&(c.available=this._allowUnavailableSelection,c.addClass("no-departure"),this._allowUnavailableSelection&&c.addClass("disabled")))};
CalendarAvailability$$module$szallas$calendar.prototype._getRule=function(a){a=DateUtils$$module$common$dateutils.ymd(a);return"undefined"!==typeof this._dates[a]?this._dates[a]:null};CalendarAvailability$$module$szallas$calendar.prototype.applyDayAvailability=function(a,b,c){a=this._getRule(a);null!==a&&this._applyDayAvailability(a,b,c)};
CalendarAvailability$$module$szallas$calendar.prototype.getAvailabilityReason=function(a,b){var c=DateUtils$$module$common$dateutils.daylightSavingAdjust(new Date(a)),d=DateUtils$$module$common$dateutils.daylightSavingAdjust(new Date(b)),e=[],f=this._getRule(c);b=DateUtils$$module$common$dateutils.daysBetween(a,b);a=DateUtils$$module$common$dateutils.daysBetween(new Date,a);if(0===b)return e;b>Defaults$$module$common$usersettings.MAX_DURATION?(a=TEXTS.get("sza_rates.maximal_nights_exceeded").supplant({maxStay:Defaults$$module$common$usersettings.MAX_DURATION}),
e.push({date:new Date(c),message:a})):null!==f&&(f.noArrival?(a=TEXTS.get("sza_rates.no_arrival_date").supplant({date:DateUtils$$module$common$dateutils.formatDate(Regional$$module$common$dateutils[""].errorDateFormat,c)}),e.push({date:new Date(c),message:a})):"undefined"!==typeof f.minNights&&b<f.minNights?(a=TEXTS.get("sza_rates.minimal_nights_not_reached").supplant({minStay:f.minNights}),e.push({date:new Date(c),message:a})):"undefined"!==typeof f.maxNights&&b>f.maxNights?(a=TEXTS.get("sza_rates.maximal_nights_exceeded").supplant({maxStay:f.maxNights}),
e.push({date:new Date(c),message:a})):"undefined"!==typeof f.cutOffDay&&a<f.cutOffDay&&(a=TEXTS.get("sza_rates.cut_off_days_not_reached").supplant({cutOffDays:f.cutOffDay}),e.push({date:new Date(c),message:a})));for(;c<d;)null!==f&&f.full&&(f=TEXTS.get("sza_rates.hotel_full_one",{date:DateUtils$$module$common$dateutils.formatDate(Regional$$module$common$dateutils[""].errorDateFormat,c)}),e.push({date:new Date(c),message:f})),c.setDate(c.getDate()+1),c=DateUtils$$module$common$dateutils.daylightSavingAdjust(c),
f=this._getRule(c);null!==f&&f.noDeparture&&(d=TEXTS.get("sza_rates.no_departure_date",{date:DateUtils$$module$common$dateutils.formatDate(Regional$$module$common$dateutils[""].errorDateFormat,c)}),e.push({date:new Date(c),message:d}));return e.splice(0,2)};CalendarAvailability$$module$szallas$calendar.prototype.getFirstUnavailableDate=function(a,b){return(a=this.getAvailabilityReason(a,b).shift())?a.date:null};
var SzallasRangeCalendar$$module$szallas$calendar=function(a,b){b=void 0===b?{}:b;b.minDate||(b.minDate=new Date);b.maxDate||(b.maxDate=new Date,b.maxDate.setDate(b.maxDate.getDate()+365));a.dates=a.dates||{};RangeCalendar$$module$common$calendar.call(this,a,b);this._tooltipTimer=this._tooltip=null;this.setAvailability(a)};$jscomp.inherits(SzallasRangeCalendar$$module$szallas$calendar,RangeCalendar$$module$common$calendar);
SzallasRangeCalendar$$module$szallas$calendar.prototype.setAvailability=function(a){var b={allowUnavailableSelection:this.getOptions().allowUnavailableSelection,allowFirstFullSelection:this.getOptions().allowFirstFullSelection,markNoArrivalDeparture:this.getOptions().markNoArrivalDeparture};this._availability=new CalendarAvailability$$module$szallas$calendar(a.dates||{},b);this.isOpen()&&(this.getStartCalendar().isOpen()?this.getStartCalendar().refresh():this.getEndCalendar().refresh())};
SzallasRangeCalendar$$module$szallas$calendar.prototype.beforeShow=function(a){var b=this;RangeCalendar$$module$common$calendar.prototype.beforeShow.call(this,a);(a===Cal$$module$common$calendar.START?this.getStartCalendar():this.getEndCalendar()).view()._dpDiv.on("mouseenter","."+Consts$$module$common$datepicker2.UnselectableClass,function(a){a=$$$module$szallas$calendar(a.currentTarget);var c=a.data(),e=new Date(c.year+"-"+(parseInt(c.month)+1)+"-"+c.day);c=new Date(c.year+"-"+(parseInt(c.month)+
1)+"-"+c.day);c.setDate(c.getDate()+1);(c=b._availability.getAvailabilityReason(e,c))&&c.length&&b._showTooltip(e,a.tooltip({title:c.pop().message,html:!0,placement:"auto",viewport:"#ui-datepicker-div table.table-condensed",container:"body",trigger:"manual"}))})};SzallasRangeCalendar$$module$szallas$calendar.prototype._hideTooltip=function(){null!==this._tooltip&&(this._tooltip.tooltip("hide"),this._tooltip=null);null!==this._tooltipTimer&&(clearTimeout(this._tooltipTimer),this._tooltipTimer=null)};
SzallasRangeCalendar$$module$szallas$calendar.prototype._showTooltip=function(a,b){var c=this;this._options.availabilityTooltip&&(this._hideTooltip(),this._tooltipTimer=setTimeout(function(){c._tooltipTimer=null;if(c.isOpen()){var d=!0;if(b)c._tooltip=b;else{var e=c._availability.getAvailabilityReason(c.getDisplayStartDate(),c.getDisplayEndDate());if(e.length){var f='[data-year="'+a.getFullYear()+'"][data-month="'+a.getMonth()+'"][data-day="'+a.getDate()+'"]';f=(c.getStartCalendar().isOpen()?c.getStartCalendar():
c.getEndCalendar())._view._dpDiv.find(f);if(!f.length)return;(e=$$$module$szallas$calendar.map(e,function(a){return a.message}).pop())&&""!=e?c._tooltip=$$$module$szallas$calendar(f).tooltip({title:e,html:!0,placement:"auto",viewport:"#ui-datepicker-div table.table-condensed",container:"body",trigger:"manual"}):d=!1}}d&&c._tooltip&&(c._tooltip.tooltip("show"),d=c._tooltip.data("bs.tooltip"),$$$module$szallas$calendar(d.$tip).on("touchstart",function(){return c._hideTooltip()}))}},100))};
SzallasRangeCalendar$$module$szallas$calendar.prototype.displayDateChanged=function(a,b,c){RangeCalendar$$module$common$calendar.prototype.displayDateChanged.call(this,a,b,c);this._showTooltip(c==Cal$$module$common$calendar.START?a:b);this._updateDisplayedAvailability()};
SzallasRangeCalendar$$module$szallas$calendar.prototype._updateDisplayedAvailability=function(){if(this.isModal())if(this._options.modalFeedback)if(null===this.getDisplayStartDate()){var a=TEXTS.get("layout.select_start_date_long");this.getStartCalendar().view().setErrorState(a,!1)}else null===this.getDisplayEndDate()?(a=TEXTS.get("layout.select_end_date_long"),this.getStartCalendar().view().setErrorState(a,!1)):(a=this._availability.getAvailabilityReason(this.getDisplayStartDate(),this.getDisplayEndDate()),
a.length?(a=a[0].message,this.getStartCalendar().view().setErrorState(a,!0)):(a=DateUtils$$module$common$dateutils.daysBetween(this.getDisplayStartDate(),this.getDisplayEndDate()),a=TEXTS.get("layout.selected_interval").supplant({days:a}),this.getStartCalendar().view().setSuccessState(a)));else null!==this.getDisplayStartDate()&&null!==this.getDisplayEndDate()?(a=DateUtils$$module$common$dateutils.daysBetween(this.getDisplayStartDate(),this.getDisplayEndDate()),a=TEXTS.get("layout.selected_interval").supplant({days:a}),
this.getStartCalendar().view().setSuccessState(a)):this.getStartCalendar().view().setSuccessState("")};SzallasRangeCalendar$$module$szallas$calendar.prototype.calendarClosed=function(a){RangeCalendar$$module$common$calendar.prototype.calendarClosed.call(this,a);this._hideTooltip()};SzallasRangeCalendar$$module$szallas$calendar.prototype.getDayState=function(a,b){var c=RangeCalendar$$module$common$calendar.prototype.getDayState.call(this,a,b);this._availability.applyDayAvailability(a,b,c);return c};
SzallasRangeCalendar$$module$szallas$calendar.prototype.footerClasses=function(a,b,c){var d=this._availability.footerClasses(a,b);return RangeCalendar$$module$common$calendar.prototype.footerClasses.call(this,a,b,c)+" "+d.join(" ")};
SzallasRangeCalendar$$module$szallas$calendar.prototype.beforeRender=function(a,b){RangeCalendar$$module$common$calendar.prototype.beforeRender.call(this,a,b);if(b&&(this._updateDisplayedAvailability(),this._tooltip))if(a=this.getDisplayStartDate(),b=this.getDisplayEndDate(),null!==a&&null!==b){var c=this.getStartCalendar()._view._getDrawRange();b>=c[0]&&b<c[1]?this._showTooltip(b):this._showTooltip(a)}else this._hideTooltip()};
SzallasRangeCalendar$$module$szallas$calendar.prototype._applyDayHighlight=function(a,b,c){RangeCalendar$$module$common$calendar.prototype._applyDayHighlight.call(this,a,b,c);var d=this._startCalendar.getDisplayDate(),e=this._endCalendar.getDisplayDate();d=(b=null!==d&&null!==e)?this._availability.getFirstUnavailableDate(d,e):null;b&&null!==d&&d<=a&&c.addClass("unavailable")};
var SzallasEditInPlaceDefaults$$module$szallas$calendar={dayCountFormat:"sza_layout.calendar_duration"},SzallasEditInPlace$$module$szallas$calendar=function(a,b,c){c=void 0===c?{}:c;b=$$$module$szallas$calendar.extend({},SzallasEditInPlaceDefaults$$module$szallas$calendar,b);EditInPlace$$module$common$calendar.call(this,a,b,c);this._dateChanged(this._calendar.getStartDate(),this._calendar.getEndDate(),null)};$jscomp.inherits(SzallasEditInPlace$$module$szallas$calendar,EditInPlace$$module$common$calendar);
SzallasEditInPlace$$module$szallas$calendar.prototype._dateChanged=function(a,b,c){EditInPlace$$module$common$calendar.prototype._dateChanged.call(this,a,b,c);if(a&&b&&a<b){b=DateUtils$$module$common$dateutils.daysBetween(a,b);var d=TEXTS.get(this._calendar.getOptions().dayCountFormat);a=this._container.find(".select-date-nights-info");b=d.supplant({days:TEXTS.plural("sza_layout.calendar_duration_day",{number:b+1}),nights:TEXTS.plural("sza_layout.calendar_duration_night",{number:b})});c||this._updateVisibility();
$$$module$szallas$calendar(a).text(b)}};$$$module$szallas$calendar.fn.szallasEditInPlaceDatepicker=function(a,b){a=$$$module$szallas$calendar.extend({},a,{calendarClass:SzallasRangeCalendar$$module$szallas$calendar,editInPlaceClass:SzallasEditInPlace$$module$szallas$calendar});return $$$module$szallas$calendar.fn.editInPlaceDatepicker.apply(this,[a,b])};var module$szallas$calendar={};module$szallas$calendar.SzallasEditInPlace=SzallasEditInPlace$$module$szallas$calendar;
module$szallas$calendar.SzallasRangeCalendar=SzallasRangeCalendar$$module$szallas$calendar;
if (typeof initq != 'undefined') initq.loaded("sza_layout_bs3.js");