(function(h,f,l,k,e){h[f]=h[f]||{};for(h[f].q=h[f].q||[];e<k.length;)l(k[e++],h[f])})(window,"extole",function(h,f){f[h]=f[h]||function(){f.q.push([h,arguments])}},["log"],0);
extole.define||function(){function h(a){a=p(a);return t[a]}function f(a,c){extole.log("debug","[REQUIRE] "+a,c)}function l(a,c){extole.log("error","[REQUIRE] "+a,c)}function k(a,c){if(a.length)for(var n=0;n<a.length;n++)c(a[n],n);else for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&c(a[n],n)}function e(a,c){var n=[];k(a,function(a,b){n[b]=c(a,b)});return n}function p(a){return"string"!==typeof a?a:/origin-\d/.test(a)?a.substring(a.indexOf("type=")).replace(/version=\d+:/,""):a}function b(a){var n=
a.split("/").slice(-1)[0],c=n.length;k(n.toLowerCase(),function(a){c+=" abcdefghijklmnopqrstuvwxyz1234567890-_.".indexOf(a)});return a.replace("origin","origin-"+c%8)}function d(a){var c=/^extole-creatives:/.test(a),m=/^extole-media:/.test(a),g=/^core-root:\/\//.test(a),n=/^extole-assets:/.test(a),r=/origin\./.test(a),e=/^http:/.test(a),f=/^https:/.test(a);return c?(a=a.slice(17),d("extole-assets:/core-modules/"+a)):n?(a=a.slice(14),d("extole-media:/assets/"+a)):m?(a=a.slice(13),a=extole.CORE_ROOT+
a,d(a)):g?(a=a.slice(12),a=extole.CORE_ROOT+a,d(a)):r?(a=b(a),a+="?site="+window.location.hostname,d(a)):e?(a=a.slice(5),d(a)):f?(a=a.slice(6),d(a)):a}function g(){}function a(){var a="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),c=document.createElement("script");this.useInteractive=c.attachEvent&&!(c.attachEvent.toString&&0>c.attachEvent.toString().indexOf("[native code"))&&!a}function c(){k(t,function(a){a._fetched?a._defined||a.define():a.fetch()})}function r(a,
c,b,m,r){if("$config"!=a){var d=h(a),n=d||new g;d||(d=p(a),t[d]=n);a&&c&&(n._fetched=!0);n.start=n.start||(new Date).getTime();n.url=n.url||a;n.dependencies=n.dependencies||c;n.config=n.config||m;n.definedCallback=n.definedCallback||b;n.isRequire=n.isRequire||r}}function m(a,c,b,m){a instanceof Array&&(m=b,b=c,c=a,a=void 0);q.addDefine({url:a,dependencies:c,definedCallback:b,config:m})}function v(){u++;return"anonymous_"+u}var t={};g.prototype={getUnresolvedDependencies:function(){var a=[];k(this.dependencies,
function(c){"$config"!=c&&(c=h(c),(!c||c&&!c._defined)&&a.push(c))});return a},getDependencies:function(){var a=this,c=[];k(a.dependencies,function(b){b="$config"==b?a.config||null:h(b).definition||null;c.push(b)});return c},define:function(){function a(a){b.definedCallback=void 0;b.definition=a;b.end=(new Date).getTime();b.timeToDefine=b.end-b.start;b.timeToFetch&&f("Fetched "+b.url+" in "+b.timeToFetch+"ms");b.isAsync&&f("Defined async "+b.url+" in "+b.timeToDefine+"ms");b._defining=!1;b._defined=
!0;setTimeout(c,1)}var b=this;b.defineStartTime=b.defineStartTime||(new Date).getTime();if(!b._defining&&!b._defined&&b.dependencies)if(b._defining=!0,0<b.getUnresolvedDependencies().length)b._defining=!1;else{var m=b.getDependencies(),g={isAsync:!1,async:function(){b.isAsync=!0;g.isAsync=b.isAsync;return function(c){a(c)}}};(function(){if(b.definedCallback){var c=b.definedCallback;c=c&&c.apply(g,m);g.isAsync||a(c)}else a(!0)})()}},fetch:function(){var a=this;a._fetching||a._fetched||(a.url?(a._fetching=
!0,a.startFetchTime=(new Date).getTime(),q.loadModule(a.url,function(){a._fetching=!1;a.endFetchTime=(new Date).getTime();a.timeToFetch=a.endFetchTime-a.startFetchTime;a._fetched=!0;a.define()})):l("Tried to fetch a module without a url - dependencies: "+a.dependencies+" definedCallback: "+(a.definedCallback?"exists":"null")+" config: "+a.config))}};a.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(q.interactiveScript&&"interactive"==
q.interactiveScript.readyState)return q.interactiveScript;for(var a=document.getElementsByTagName("head")[0].getElementsByTagName("script"),c,b=a.length-1;0<=b;b--){var m=this.getScriptDataUrl(a[b]);a[b]&&"interactive"==a[b].readyState&&m&&(c=a[b],f("...interactive script "+c.src))}return c},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:function(a){return a.getAttribute(this.scriptUrlAttributeName)},setScriptDataUrl:function(a,c){a.setAttribute(this.scriptUrlAttributeName,c)},
attachOnLoad:function(a,c){function b(r){var d=a.readyState;if(m&&"interactive"==d)this.interactiveScript=a;else if("load"===r.type||g.test(d))m?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),f(a.src+" finished loading"),c(r)}c=c||function(){};var m=this.useInteractive,g="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;m?a.attachEvent("onreadystatechange",b):a.addEventListener("load",b,!1)},defineTimeout:null,addDefine:function(a){if(a.url)a.url=d(a.url);
else{f("defining anonymous module...");var c=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&c?(c=this.getScriptDataUrl(c),f("..scriptToCompare has data url "+c),a.url=c,this.interactiveScript=null):this.useInteractive&&f("..found no scriptToCompare")}a.dependencies=e(a.dependencies,d);this.useInteractive&&!a.url&&l("defines should not be missing a url in ie.");this.defineQueue.push(a);this.defineTimeout&&clearTimeout(this.defineTimeout);var b=this;this.defineTimeout=
setTimeout(function(){f("intakeDefines from addDefine timeout");b.intakeDefines()},1)},intakeTimeout:null,intakeDefines:function(){function a(a,c){b[a]=b[a]?b[a]+","+c:c}for(var b={},m=[],g;g=this.defineQueue.shift();){var d=[];k(g.dependencies,function(a){a&&d.push(a)});var e=g.url&&h(g.url);g.url?e?a(g.url,"updated"):a(g.url,"created"):m.push("deps "+g.dependencies);k(d,function(c){a(c,"dependency");r(c)});r(g.url,d,g.definedCallback,g.config,g.isRequire)}var p="intakeDefines -- ";k(b,function(a,
c){p+="\n - "+c+" "+a});p+="\n -- "+m.length+" anonymous modules created";k(m,function(a){p+="\n - "+a});f(p);this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(c,1)},loadModule:function(a,c){var b=document.createElement("script");b.async=!0;b.crossOrigin="anonymous";this.setScriptDataUrl(b,a);var m=this;f("loading module "+a);this.attachOnLoad(b,function(){clearTimeout(g);if(!m.useInteractive){for(var b,d=m.defineQueue.length-1;0<=d;d--)m.defineQueue[d].url||(b&&l("Multiple anonymous modules loaded in one script - "+
a),b=m.defineQueue[d]);b?(f("assigned "+a+" to anonymous module"),b.url=a):f("module url didn't define a module - "+a)}f("intake defines from loadModule");m.intakeDefines();c&&c(null)});b.src=a;var g=setTimeout(function(){extole.log("warn","[REQUIRE] Module did not load within 2000ms: ",{moduleUrl:a})},2E3);this.currentlyAddingScript=b;var d=document.getElementsByTagName("head")[0]||document.head;d?d.appendChild(b):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+a,void 0);
this.currentlyAddingScript=void 0}};var q=new a;m.getModule=function(a){return h(a)};var u=0;extole.define=m;extole.require=function(a,c){q.addDefine({url:v(),dependencies:a,definedCallback:c,isRequire:!0})};extole.define("extole-require",[],function(){return{resolveUrl:d}});setTimeout(function(){var a=!1,c=[];k(t,function(b){b._defined||(a=!0);c.push({defineStartTime:b.defineStartTime,dependencies:b.dependencies,end:b.end,start:b.start,isRequire:b.isRequire,timeToDefine:b.timeToDefine,url:b.url,
_defined:b._defined,_defining:b._defining,_fetched:b._fetched})});a&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(c)+"###")},7E3)}();
(function(){try{(function(h,f,l,k,e){h[f]=h[f]||{};for(h[f].q=h[f].q||[];e<k.length;)l(k[e++],h[f])})(window,"extole",function(h,f){f[h]=f[h]||function(){f.q.push([h,arguments])}},["createZone"],0),(new Function('if (window && \n    window === window.parent && \n    window.location.href.search("orbitz.com/refer") !== -1) {\n        extole.createZone({ "name": "referral_page", "element_id": "editorial-3", "data": { "source": "referral_page" } });\n}\n\nif (window && \n    window === window.parent && \n    window.location.href.search("orbitz.com/lp/lgbtq-gay-travel-hotels") !== -1) {\n        extole.createZone({ "name": "overlay" });\n}'))()}catch(h){extole.log("error","Error executing extended core javascript. Message: "+
h.message+" Stack: "+h.stack)}})();(function(h,f,l,k,e){h[f]=h[f]||{};for(h[f].q=h[f].q||[];e<k.length;)l(k[e++],h[f])})(window,"extole",function(h,f){f[h]=f[h]||function(){f.q.push([h,arguments])}},["createZone","log"],0);
(function(){var h=[{name:"Orbitz Branded Domain",programDomain:"refer.orbitz.com",sitePatterns:"orbitz.com *.orbitz.com\\.?$ *.extole.com refer.orbitz.com *.extole.io api.extole.com".split(" ")}];extole.CORE_ROOT="https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22";extole.CORE_CONFIG={backendTargetingEnabled:!0,zonePostEnabled:!0,cookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1};extole.CLIENT_ID="1598437521";extole.BUILD_DATE="1603160980616";extole.VERSION="6.0";
extole.PROGRAM=function(){function f(b,a){b=Error.call(this,b);this.name="ExtoleError";this.message=b.message;this.stack=b.stack;this.code=a}function l(b,a){if(b.length)for(var c=0;c<b.length;c++)a(b[c],c);else for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&a(b[c],c)}function k(b,a){var c=[];l(b,function(b){(b=a(b))&&(c[c.length]=b)});return c}function e(b,a){a=a||[];var c=!1;l(a,function(a){(new RegExp(a.replace(/\./g,"\\.").replace(/\*/g,".*"))).test(b)&&(c=!0)});return c}function p(){extole.require(["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js",
"https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/ajax.js"],function(b,a){var c=extole.CORE_ROOT;b=c.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+b.serialize({core_root:c,referer:window.location.hostname});a({url:b})})}f.prototype=Error();f.prototype.constructor=f;var b=function(b){var a=window.location.hostname;return k(b,function(b){if(e(a,b.sitePatterns))return b})}(h),d=b[0];if(!d)throw p(),new f("No program domain is configured for hostname: "+
window.location.hostname+" unable to use Extole API","site_configuration_error");1<b.length&&extole.log("warn","Multiple programs matched hostname: "+window.location.hostname+" programs: "+JSON.stringify(b));return d}();extole.require(["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js",
"create-zone-executor"],function(f,h,k,e){function p(){function a(a){var c=a[0];"function"===typeof b[c]?b[c].apply(null,a[1]):k.warn("Unable to execute method: "+c+", it is not implemented.")}for(var b={log:function(){var a=Array.prototype.slice.call(arguments),b=a[0];"function"===typeof k[b]&&k[b].apply(null,a.slice(1))},createZone:e.execute};extole.q.length;)a(extole.q.shift());extole.q.push=a}function b(){var a=function(a){var b={},c=/^extole_/,m=/^extole_zone_/;f.each(a,function(a,d){d.match(m)?
b[d.replace(m,"")]=a:d.match(c)&&(b[d.replace(c,"")]=a)});return b}(h.deserialize(window.location.search));if(a.name){var b=a.name,d=a.element_id;delete a.name;delete a.element_id;extole.createZone({name:b,element_id:d,data:a})}}function d(){if("function"===typeof window.onerror)var a=window.onerror;window.onerror=function(b,d,m,g,e){if(a)try{a(b,d,m,g,e)}catch(n){}d=d||window.location.href||"no_source_or_location.href";e=e&&e.stack?e.stack:"no_error.stack";var c=[],r=JSON.stringify({MESSAGE:b,SOURCE:d,
LINE_NUMBER:m,COLUMN_NUMBER:g,STACK_TRACE:e},function(a,b){if(null!==b&&"object"===typeof b){if(0<=c.indexOf(b))return;c.push(b)}return b});m=extole.PROGRAM.programDomain.split(".").join("\\.");m=new RegExp("^(http|https):\\/\\/("+m+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");((e+b).match(/extole/i)||m.test(d))&&extole.require(["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(a){a.error("Unhandled exception",
JSON.parse(r))})}}function g(){extole._bootstrapped=!0;d();p();b()}extole.bootstrap=g;extole._bootstrapped||g();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(a){extole.require(["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(b){b.error("Error executing extended core javascript. Message : "+a.message+" Stack: "+a.stack)})}})})();
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/ExtoleError.js",[],function(){function h(f,h,k){f=Error.call(this,f);this.name="ExtoleError";this.message=f.message;this.stack=f.stack;this.code=h;this.data=k}h.prototype=Error();return h.prototype.constructor=h});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/type.js"],function(h,f){function l(e,f){var b;if(e.length===Number(e.length))for(b=0;b<e.length;b++){var d=f(e[b],b);if(!1===d)return!1}else for(b in e)if(Object.prototype.hasOwnProperty.call(e,b)&&(d=f(e[b],
b),!1===d))return!1}function k(e){if(!e||"object"!==typeof e&&!f.isPlainFunction(e))e={};for(var h=1;h<arguments.length;h++)if(f.isPlainObject(arguments[h]))for(var b in arguments[h]){var d=arguments[h][b];d!==e&&void 0!==d&&(f.isPlainObject(d)&&f.isPlainObject(e[b])?d=k(e[b],d):f.isArray(d)&&f.isArray(e[b])&&e[b].concat&&(d=e[b].concat(d)),e[b]=d)}return e}l.BREAK=!1;return{each:l,map:function(e,k){function b(a,b){g=[];l(a,function(a,c){g.push(b(a,c))})}function d(a,b){g={};l(a,function(a,c){g[c]=
b(a,c)})}var g;if(f.isArray(e))b(e,k);else if(f.isPlainObject(e))d(e,k);else throw new h(e+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return g},filter:function(e,k){function b(a,b){g=[];l(a,function(a,c){b(a,c)&&g.push(a)})}function d(a,b){g={};l(a,function(a,c){b(a,c)&&(g[c]=a)})}var g;if(f.isArray(e))b(e,k);else if(f.isPlainObject(e))d(e,k);else throw new h(e+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return g},merge:k,clone:function(e){return JSON.parse(JSON.stringify(e))},
flatten:function(e){function k(d,g){if(f.isPlainObject(d))l(d,function(a,b){var c=g.slice();c.push(b);k(a,c)});else{var a=g.join(".");b[a]=d}}if(!f.isPlainObject(e))return e;var b={};k(e,[]);return b},find:function(e,f){var b;l(e,function(d,g){if(f(d,g))return b=d,l.BREAK});return b},reverse:function(e){var f=[];if(!e||e.length!==Number(e.length))return e;for(var b=e.length-1;0<=b;b--)f.push(e[b]);return f},nashornToJs:function(e){var f=Object.prototype.toString.call(e),b;if("object"!==typeof e||
f.match(/\[object (Object|Array|Null)\]/))return e;if(f.match(/\[object java\.util\.(HashMap|TreeMap|Collections\$UnmodifiableMap)\]/)){var d={};for(b in e)d[b]=e[b]}else if("number"===typeof e.length)d=[],l(e,function(b,a){d[a]=b});else return e;return d},intersection:function(e,f){var b=[];l(e,function(d){0>f.indexOf(d)||0<=b.indexOf(d)||b.push(d)});return b}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(h){function f(b){try{return decodeURIComponent(b.replace(e," "))}catch(g){return h.info("** cookie.decode ** Cookie error for: "+b,{error:g,message:g.message,stack:g.stack,cookiePart:b}),""}}function l(d){d=f(d);return 0===d.indexOf('"')?d.slice(1,-1).replace(p,'"').replace(b,"\\"):d}function k(b){if(!b||
!b.toUTCString){var d=new Date;d.setDate(d.getDate()+("number"===typeof b?b:0));return d}return b}var e=/\+/g,p=/\\"/g,b=/\\\\/g;return function(b,g,a){if(void 0!==g)return a=a||{},document.cookie=[encodeURIComponent(b),"=",encodeURIComponent(g),a.expires?"; expires="+k(a.expires).toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.samesite?"; samesite="+a.samesite:"","; secure"].join("");a:{g=document.cookie?document.cookie.split("; "):[];a=b?null:{};for(var c=0,d=g.length;c<
d;c++){var m=g[c].split("="),e=f(m[0]);if(!b)a[e]=l(m[1]);else if(b===e){b=l(m[1]);break a}}b=a}return b}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/dom.js",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(h){function f(a,b){return(b||document).querySelectorAll(a)}function l(a,b){return f(a,b)[0]}function k(a,c){function e(){clearTimeout(f);c(m);p.removeListener(m,"load",e)}c=c||function(){};if(g[a]||!a)return c(g[a]),g[a]||null;g[a]=document.createElement("link");var m=g[a];b.setAttribute(m,
"rel","stylesheet");b.setAttribute(m,"href",a);d.append(l("head"),m);p.addListener(m,"load",e);var f=setTimeout(function(){h.warn("Load timeout reached for stylesheet: ",{url:a});e()},5E3);return m}var e={each:function(a,b){var c;if(a.length===Number(a.length))for(c=0;c<a.length;c++){var d=b(a[c],c);if(!1===d)return!1}else for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&(d=b(a[c],c),!1===d))return!1},extend:function(){var a,b,d=arguments[0]||{},m=1,g=arguments.length,e=!1,f=this.extend;"boolean"===
typeof d&&(e=d,d=arguments[1]||{},m=2);for("object"===typeof d||this.isFunction(d)||(d={});m<g;m++){var k=arguments[m];if(null!==k)for(a in k){var h=d[a];var l=k[a];d!==l&&(e&&l&&(this.isPlainObject(l)||(b=this.isArray(l)))?(b?(b=!1,h=h&&this.isArray(h)?h:[]):h=h&&this.isPlainObject(h)?h:{},d[a]=f(e,h,l)):void 0!==l&&(d[a]=l))}}return d},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}return!0},isArray:function(a){return a instanceof Array}};e.each.BREAK=!1;var p=function(){function a(a,b,c){for(var m=[],g=0;g<d.length;g++){var e=d[g];e.element==a&&e.eventType==b&&e.listener==c&&m.push({index:g,eventListener:e})}return m}function b(a){this.originalEvent=a;this.type=a.type;this.keyCode=a.keyCode;this.target=a.srcElement?a.srcElement:a.target}
var d=[];b.prototype={preventDefault:function(){var a=this.originalEvent;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}};return{addListener:function(c,g,e){function m(a){f&&(a=window.event);return e.call(c,new b(a))}if(0<a(c,g,e).length)h.warn("events.add - Listener already exists for event "+g+" on element "+c);else{var f=!c.addEventListener;d.push({element:c,eventType:g,listener:e,
listenerWrapper:m});c.addEventListener?c.addEventListener(g,m,!1):c.attachEvent("on"+g,m)}},triggerEvent:function(a,b,c){var d=document.createEvent("Event");d.initEvent(b,!0,!1);e.extend(d,c);a.dispatchEvent(d)},removeListener:function(b,c,g){g=a(b,c,g);0>=g.length?h.info("events.remove - Couldn't find exiting event listener for type \""+c+'" listener on element '+b):e.each(g,function(a){var g=a.index;a=a.eventListener;b.removeEventListener?b.removeEventListener(c,a.listenerWrapper,!1):b.detachEvent("on"+
c,a.listenerWrapper);d.splice(g,1)})}}}(),b=function(){function a(a){a=a.className;var b={};if(!a)return b;e.each(a.split(" "),function(a){b[a]=1});return b}function b(a){var b="";e.each(a,function(a,c){b+=" "+c});return b.slice(1)}return{setAttribute:function(a,b,c){a.setAttribute(b,c);a[b]=c},getAttribute:function(a,b){return a.getAttribute(b)},addClass:function(c,d){var g=a(c);g[d]||(g[d]=1,c.className=b(g))},removeClass:function(c,d){var g=a(c);delete g[d];c.className=b(g)},getClassNames:function(a){return a.className.split(" ")}}}(),
d=function(){function a(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.innerHTML=a;e.each(c.childNodes,function(a){1==a.nodeType&&b.appendChild(a)});return b}function b(a){var b;e.each(a.childNodes,function(a){if(!b&&1==a.nodeType)return b=a,e.each.BREAK});return b}return{prepend:function(c,d){var g=b(c),e=d;"string"===typeof d&&(e=a(d));g?c.insertBefore(e,g):c.appendChild(e)},append:function(b,c){var d=c;"string"===typeof c&&(d=a(c));b.appendChild(d)}}}(),g={};return{addEventListener:p.addListener,
removeEventListener:p.removeListener,triggerEvent:p.triggerEvent,getAttribute:b.getAttribute,setAttribute:b.setAttribute,addClass:b.addClass,removeClass:b.removeClass,getClassNames:b.getClassNames,prepend:d.prepend,append:d.append,query:f,queryFirst:l,isVisible:function(a,b){return!!(l(a,b)||{}).offsetParent},injectStylesheet:k,injectStylesheets:function(a,b){function c(a){--d||b(g)}b=b||function(){};if(0===a.length)b();else{var d=0,g=[];e.each(a,function(a){d++;setTimeout(function(){g.push(k(a,c))},
1)})}},scrollIntoViewIfNeeded:function(a,b){function c(a,b){return{start:a,length:b,end:a+b}}function d(a,c){return!1===b||c.start<a.end&&a.start<c.end?Math.min(a.start,Math.max(c.start,a.end-c.length)):(a.start+a.end-c.length)/2}function g(a,b){return{x:a,y:b,translate:function(c,d){return g(a+c,b+d)}}}function e(a,b){for(;a;)b=b.translate(a.offsetLeft,a.offsetTop),a=a.offsetParent;return b}var f=e(a,g(0,0)),h=g(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var k;a instanceof HTMLElement;)k=e(a,
g(a.clientLeft,a.clientTop)),a.scrollLeft=d(c(f.x-k.x,h.x),c(a.scrollLeft,a.clientWidth)),a.scrollTop=d(c(f.y-k.y,h.y),c(a.scrollTop,a.clientHeight)),f=f.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/event-bus.js",[],function(){function h(){function k(b,d,g,a){if(!g)return!0;if("object"===typeof g){for(var c in g)b[d].apply(b,[c,g[c]].concat(a));return!1}if(h.test(g)){g=g.split(h);c=0;for(var e=g.length;c<e;c++)b[d].apply(b,[g[c]].concat(a));return!1}return!0}function e(b,d){var g,a=-1,c=b.length,e=d[0],f=d[1],h=d[2];switch(d.length){case 0:for(;++a<c;)(g=b[a]).callback.call(g.ctx);break;case 1:for(;++a<
c;)(g=b[a]).callback.call(g.ctx,e);break;case 2:for(;++a<c;)(g=b[a]).callback.call(g.ctx,e,f);break;case 3:for(;++a<c;)(g=b[a]).callback.call(g.ctx,e,f,h);break;default:for(;++a<c;)(g=b[a]).callback.apply(g.ctx,d)}}this._events={};var h=/\s+/;this.on=function(b,d,g){if(!k(this,"on",b,[d,g])||!d)return this;this._events||(this._events={});(this._events[b]||(this._events[b]=[])).push({callback:d,context:g,ctx:g||this});return this};this.off=function(b,d,g){var a,c,e;if(!this._events||!k(this,"off",
b,[d,g]))return this;if(!b&&!d&&!g)return this._events=void 0,this;var f=b?[b]:l.keys(this._events);var h=0;for(c=f.length;h<c;h++)if(b=f[h],a=this._events[b]){var p=[];this._events[b]=p;if(d||g){var q=0;for(e=a.length;q<e;q++){var u=a[q];(d&&d!==u.callback&&d!==u.callback._callback||g&&g!==u.context)&&p.push(u)}}p.length||delete this._events[b]}return this};this.once=function(b,d,g){function a(){var e=f.call(arguments);c.off(b,a,g);d.apply(this,e)}var c=this;this.on(b,a,g);return this};this.trigger=
function(b){if(!this._events)return this;var d=f.call(arguments,1);if(!k(this,"trigger",b,d))return this;var g=this._events[b],a=this._events.all;g&&e(g,d);a&&e(a,arguments);return this}}var f=Array.prototype.slice,l={isPlainObject:function(f){if("[object Object]"!==String(f)||f.nodeType||f.window&&f.window==f)return!1;try{if(f.constructor&&!Object.prototype.hasOwnProperty.call(f.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},keys:function(f){if(!this.isPlainObject(f))return[];
var e=[],h;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&e.push(h);return e},_idCounter:0,uniqueId:function(f){var e=String(++this._idCounter);return f?f+e:e}};return{create:function(){return new h}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js",[],function(){function h(g,a,c){c=c||{};c.pageId=k;c.referer=e;try{var h=[a||"no message","START_JSON",JSON.stringify(c),"END_JSON"].join(" ")}catch(m){l("Failed to stringify log's json data",{exception:m});return}extole.LOG_EXCLUDE_REGEX&&h.match(extole.LOG_EXCLUDE_REGEX)||(d[h]=++d[h]||1,p[g]>=p[extole.LOG_LEVEL_CONSOLE]&&window.console&&window.console.log&&window.console.log(g+" "+h),p[g]>=
p[extole.LOG_LEVEL_REMOTE]&&(a=d[h],b[a]&&f(g,h+(1<a?" log count: "+a:""))))}function f(b,a){extole.require(["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/api.js"],function(c){c.post("/api/v4/debug/logs",{level:b,message:a})})}function l(b,a){h("ERROR",b,a)}if("undefined"===typeof window)return{debug:function(){},info:function(){},warn:function(){},error:function(){},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var k=String((new Date).getTime()),e=window.location.href,
p={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},b={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||"OFF";extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var d={};return{debug:function(b,a){h("DEBUG",b,a)},info:function(b,a){h("INFO",b,a)},warn:function(b,a){h("WARN",b,a)},error:l,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/Timer.js",[],function(){return function(){var h=this,f;this.start=function(){if(f)throw Error("Timer.start has already been called");f=new Date;return h};this.getElapsedTime=function(){if(!f)throw Error("Timer has not been started");return new Date-f}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/type.js",[],function(){function h(h,k){return function(e){return f(h,e,k)}}function f(f,h,e){e=e||{};f=Object.prototype.toString.call(h)==="[object "+f+"]";h=h&&e.construct?h.constructor===e.construct:!0;return(e.negate?!f:f)&&h}return{isPlainObject:h("Object",{construct:Object}),isPlainFunction:h("Function"),isArray:h("Array"),isString:h("String"),isBoolean:h("Boolean"),isNumber:h("Number"),isUndefined:h("Undefined"),
isDefined:h("Undefined",{negate:!0}),isNull:h("Null"),test:f}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js",[],function(){function h(f){var h={};(function d(f,b){for(var g in f){var a=f[g],c=(b?b+".":"")+g;"[object Object]"===Object.prototype.toString.call(a)?d(a,c):h[c]=a}})(f);return h}function f(f){try{return decodeURIComponent(f)}catch(k){return f}}return{serialize:function(f){var h="",e;for(e in f)h+="&"+encodeURIComponent(e)+"="+encodeURIComponent(String(f[e]));return h.replace(/^&/,"?")},deserialize:function(h){var k=
{};if(!h)return k;h=(h.match(/^\?/)?h.slice(1):h).split("&");for(var e=0;e<h.length;e++){var l=h[e].split("=");k[f(l[0])]=f(l[1])}return k},objectToDotNotation:h,dotNotationToObject:function(f){var k={};f=h(f);for(var e in f){for(var l=k,b=e.split("."),d=b.pop();b.length;){var g=b.shift();l[g]=l[g]||{};l=l[g]}l[d]=f[e]}return k},decodeComponent:f,encodeComponent:function(f){return encodeURIComponent(f)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/type.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(h,f,l,k){function e(b,
d){function e(){void 0!==b.readyState&&4!==b.readyState||n||(n=!0,String(b.status||200).match(/^[23]/)?"function"===typeof q?q.call(b,b.responseText,b):k.warn("'complete' callback must be a function."):u.call(b,b.statusText,b.status),0>m.indexOf(k.LOGGING_ENDPOINT)&&k.info("ajax request complete",{options:d,status:b.status,statusText:b.statusText,responseText:b.responseText,responseHeaders:b.getAllResponseHeaders()}))}var a=Array.prototype.slice.call(arguments),c=d.headers||{},p=d.xhrFields||{},m=
d.url||"",v=d.data||"",t=(d.type||"get").toUpperCase(),q=d.complete||function(){},u=d.error||function(){k.error("Error with url "+m+"= "+a.join(","))};l.isPlainObject(v)&&("GET"==t?(m+=f.serialize(v),v=null):v=JSON.stringify(v));b.open(t,m,!0);h.merge(b,p);h.each(c,function(a,c){try{b.setRequestHeader(c,a)}catch(x){k.error("AJAX ERROR: Couldn't set request header "+c+" to "+a)}});var n=!1;b.onerror=function(a){n||(n=!0,u.call(b,b.statusText,b.status))};b.onload=e;b.onreadystatechange=e;b.send(v)}
var p=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return function(b){b=b||{};var d=!1;for(var g=0;g<p.length;g++){try{d=p[g]()}catch(a){continue}break}e(d,b);return d}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/client/program.js",[],function(){return{getName:function(){return extole.PROGRAM.name},getProgramDomain:function(){return extole.PROGRAM.programDomain},getSitePatterns:function(){return extole.PROGRAM.sitePatterns},getProtocol:function(){return"https://"}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/client/token-store.js",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/event-bus.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/cookie.js"],
function(h,f,l,k){function e(){function b(){this.get=function(a){return k(a)};this.set=function(a,b,d){extole.COOKIES_DISABLED||k(a,b,{expires:p[d],path:"/",samesite:"strict"})};this.remove=function(a){k(a,"",{expires:-1,path:"/"})}}function d(){(function(){var a="test"+(new Date).getTime();try{localStorage.setItem(a,a),localStorage.removeItem(a)}catch(r){throw Error("Local storage not supported");}})();this.get=function(a){return window.localStorage.getItem(a)};this.set=function(a,b,d){window.localStorage.setItem(a,
b)};this.remove=function(a){window.localStorage.removeItem(a)}}var e=[],a=extole.CORE_CONFIG.cookieConsentEnabled?"SESSION":"YEAR";e.push(new function(){var a={};this.get=function(b){return a[b]};this.set=function(b,c,d){a[b]=c};this.remove=function(b){delete a[b]}});extole.COOKIES_DISABLED||e.push(new b);if(extole.LOCAL_STORAGE_ENABLED)try{e.push(new d)}catch(c){f.info("Local Storage not supported in current browser")}this.events=l.create();this.get=function(){for(var a,b=0;b<e.length;b++){a=e[b];
var d=a.get("extole_access_token");if("string"===typeof d&&"undefined"!==d&&"null"!==d&&d.length)return a.get("extole_access_token")}return null};this.set=function(b,d){var c=this.get();a=d||a;h.each(e,function(c){c.set("extole_access_token",b,a)});c!==b&&this.events.trigger("change:access_token");c&&c!=b&&f.debug("ACCESS_TOKEN_CHANGE - the access token changed from: "+c+", to: "+b)};this.remove=function(){h.each(e,function(a){a.remove("extole_access_token")})}}var p={year:365,YEAR:365,session:null,
SESSION:null};return extole.tokenStore=extole.tokenStore?extole.tokenStore:new e});
extole.define("CreativeRenderContext",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js"],function(h,f){function l(e,b,d){this.getElement=function(){return d};this.getName=function(){return e};this.getData=function(){return b};this.getParameters=function(){return b}}function k(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns}}function e(){this.backendTargetingEnabled=function(){return!0};this.cookieConsentEnabled=function(){return extole.CORE_CONFIG.cookieConsentEnabled}}return function(p,b,d,g){var a=new l(p,b,d),c=new k,r=new e;this.getZone=function(){return a};this.getProgram=function(){return c};this.getCreativeData=function(){var b=h.dotNotationToObject(h.deserialize(location.search)),c=h.dotNotationToObject(a.getParameters());return f.merge(b.extole_creative,
c.creative)};this.getCoreConfig=function(){return r};this.getLocale=function(){return g||null}}});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(h){function f(f,h,e){function k(){if(h())e();else{f();var d=setTimeout;b||(b=10);var g=500<b?500:b*=1.1;d(k,g)}}var b;k()}return function(l,k){var e=(new Date).getTime(),p=!1,b;f(function(){b=document.getElementById(l)},function(){var d=(new Date).getTime()-e;!p&&3E3<d&&(p=!0,h.warn("Scanned for 3000 ms searching for zone element id: "+l));return!!b},function(){k(b)})}});
extole.define("pending-zone-service",["find-element-by-id","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/client/token-store.js","CreativeRenderContext"],function(h,f,l,k,e){function p(a,c){c=c||function(){};var f=a.name,g=d(a.data||a.parameters||{});this.resolve=function(d,
h,l,m){k.set(h,l);b(a,function(a){a=new e(f,g,a,m);d(a);c(null,a.getZone())})}}function b(a,b){a.element?b(a.element):a.element_id?h(a.element_id,b):b(document.body.appendChild(document.createElement("DIV")))}function d(a){a=l.merge({},a);delete a.campaign_id;delete a.extole_campaign_id;return a}var g={};return{get:function(a){if(!g[a])throw Error("Pending zone does not exist for id: "+a);return g[a]},create:function(){var a=Math.floor(1E9*Math.random()),b=0;return function(c,d){b++;var e=a+"."+b;
g[e]=new p(c,d);return e}}()}});
extole.define("create-zone","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/uri.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/collection.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/dom.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/client/program.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/ajax.js https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js pending-zone-service".split(" "),function(h,
f,l,k,e,p,b,d){function g(a){var b=document.createElement("script");l.setAttribute(b,"src",a);l.setAttribute(b,"async","");l.append(l.query("head")[0],b);return b}return function(a,c,r){function m(a,c,d,e){function g(a){try{(new Function(a))()}catch(w){b.error("Error in zone script retrieved from "+n+" - MESSAGE: "+w.message+" STACK: "+w.stack)}}n=a+"/zones";a={"Content-Type":"application/x-www-form-urlencoded",Accept:"text/javascript","X-Extole-App":"javascript_sdk"};q&&(a["X-Extole-Jwt"]=q,delete d.jwt);
u&&(a.Authorization="Bearer+"+u);var h=function(a,b,c){var d=[];f.each(a,function(b,c){"Content-Type"!==c&&(d.push("::headers."+c+"="+b),delete a[c])});f.each(c,function(a,b){b=window.encodeURIComponent(b);b=-1<b.indexOf(".")?'"'+b+'"':b;a=window.encodeURIComponent(a);d.push("data."+b+"="+a)});d.push("event_name="+b);return d.join("&")}(a,c.name,d);p({url:n,type:"POST",headers:a,data:h,complete:function(a,c){c=c.getResponseHeader("Content-Type");"text/javascript"===c?g(a):"text/html"===c&&extole.CORE_CONFIG.isJsCreativeRespondsWithHtmlEnabled?
(c=document.createElement("div"),c.innerHTML=a,a=l.queryFirst("script",c).innerHTML,g(a)):"text/plain"!==c||a?b.error("Invalid content type returned from "+n+": "+c+" Zone Request Data: "+h):b.info("No campaign targeted in POST to /zones - Zone Request Data: "+h);e()},error:function(a){b.error("Error creating zone via POST to "+n,a)},xhrFields:{withCredentials:!0}})}function v(){"function"===typeof r&&setTimeout(r,500)}c=c||function(){};var t=f.flatten(a.data||a.parameters||{});t.zone_id=d.create(a,
c);var q=a.jwt||t.jwt||h.deserialize(location.search).extole_jwt,u=e.get();c=[k.getProtocol(),k.getProgramDomain()].join("");if(extole.CORE_CONFIG.zonePostEnabled)m(c,a,t,v);else{q&&(t.jwt=q);u&&(t.access_token=u);t.extole_app="javascript_sdk";var n=[c,"/zones/",a.name].join("");g(n+h.serialize(t)).onload=v}}});
extole.define("create-zone-executor",["create-zone","https://origin.xtlo.net/type=core:clientId=1598437521:coreAssetsVersion=22/common/logger.js"],function(h,f){function l(e){var b=!1;return function(){var d=Array.prototype.slice.call(arguments);b||(b=!0,e.apply(null,d))}}var k=new function(){var e=0,b=[],d=this;this.push=function(d){b.push(d);this.next()};this.next=function(){function f(){e--;d.next()}for(;1>e&&b.length;)b.shift()(f),e++}},e=0;return{execute:function(f,b){b=b||function(){};0===e?
k.push(function(d){d=l(d);h(f,function(){var e=Array.prototype.slice.call(arguments);b.apply(null,e);d()},d)}):k.push(function(d){h(f,b);d()});e++}}});