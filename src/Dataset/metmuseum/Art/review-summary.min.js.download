define(['jquery','uiComponent','mage/translate','Aheadworks_AdvancedReviews/js/product/view/review/form/show-review-form'],function($,Component,$t,showReviewForm){'use strict';return Component.extend({defaults:{template:'Aheadworks_AdvancedReviews/product/review-summary',summaryType:'default',displayIfNoReviews:false,productData:{},isProductPage:false,statisticsData:{reviewsCount:0,ratingValue:0,ratingTitle:''},ratingTmpl:'Aheadworks_AdvancedReviews/review/rating/view',actionsTmpl:'Aheadworks_AdvancedReviews/product/review_summary/actions'},reviewsIdSelector:'#reviews',reviewFormIdSelector:'#review-form',reviewActionsSelector:'.product-info-main .review-summary-actions a',reviewsTabId:'product_aw_reviews_tab',scrollDelay:500,getReviewsUrl:function(){var url=this.productData.url+this.reviewsIdSelector;if(!this.isProductPage){url=this.getReviewsUrlOnProductPage()}
return url;},getReviewFormUrl:function(){var url=this.productData.url+this.reviewFormIdSelector;if(!this.isProductPage){url=this.getReviewsUrlOnProductPage()}
return url;},getReviewsUrlOnProductPage:function(){return this.productData.url+'#'+this.reviewsTabId;},getReviewsActionLabel:function(){var actionLabel=this.statisticsData.reviewsCount==1?$t('Review'):$t('Reviews');return this.statisticsData.reviewsCount+' '+actionLabel;},isShortView:function(){return this.summaryType=='short';},isNeedToDisplayBeFirstAction:function(){return!this.statisticsData.reviewsCount&&this.displayIfNoReviews;},bindSummaryActions:function(){$(this.reviewActionsSelector).on('click',$.proxy(this.onActionClick,this));},onActionClick:function(event){var targetToScroll=event.currentTarget.href.replace(/^.*?(?=#|$)/,'');event.preventDefault();this.activateReviewsTab();if(targetToScroll===this.reviewFormIdSelector){showReviewForm();}else{this.scrollToTarget(targetToScroll);}},activateReviewsTab:function(){var me=this,reviewsTabTitleSelector='#tab-label-'+me.reviewsTabId;$(reviewsTabTitleSelector).collapsible('forceActivate');},scrollToTarget:function(targetToScroll){$('html, body').animate({scrollTop:$(targetToScroll).offset().top},this.scrollDelay);}});});