define(['jquery','Aheadworks_Layerednav/js/filter/value','Aheadworks_Layerednav/js/filter/item/current'],function($,filterValue,currentFilterItem){'use strict';var mixin={updateAndScrollUpToTop:function(windowUrl,blocksHtml){if(blocksHtml){this._performUpdate(windowUrl,blocksHtml);}},_performUpdate:function(windowUrl,blocksHtml){var mainColumnHtml=blocksHtml.mainColumn,navigationHtml=blocksHtml.navigation,activeFilterName=$(currentFilterItem.get()).prop('name');this._hideSwatchTooltip();$(this.config.mainColumn).replaceWith(mainColumnHtml);$(this.config.mainColumn).applyBindings();$(this.config.mainColumn).trigger('contentUpdated');$(this.config.navigation).replaceWith(navigationHtml);if(typeof activeFilterName!=="undefined"){$('#aw-filter-'+activeFilterName).addClass('active');$('#layered-filter-block').addClass('active');}
filterValue.reset();currentFilterItem.reset();$(this.config.navigation).applyBindings();$(this.config.navigation).trigger('contentUpdated');this._setCurrentUrl(windowUrl);}};return function(target){return $.extend({},target,mixin);};});