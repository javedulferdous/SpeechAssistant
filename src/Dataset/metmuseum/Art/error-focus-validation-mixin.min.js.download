define(['jquery','moment','jquery/ui','jquery/validate','mage/translate'],function($){'use strict';return function(){$.widget('mage.validation',$.mage.validation,{listenFormValidateHandler:function(event,validation){var firstActive=$(validation.errorList[0].element||[]),lastActive=$(validation.findLastActive()||validation.errorList.length&&validation.errorList[0].element||[]),parent,windowHeight,successList;if(lastActive.is(':hidden')){parent=lastActive.parent();windowHeight=$(window).height();$('html, body').animate({scrollTop:parent.offset().top-windowHeight / 2});}
successList=validation.successList;if(successList.length){$.each(successList,function(){$(this).removeAttr('aria-describedby').removeAttr('aria-invalid');});}
if(firstActive.length){parent=firstActive.parent();windowHeight=$(window).height();$('html, body').animate({scrollTop:parent.offset().top-windowHeight / 2});firstActive.focus();}}});return $.mage.validation;};});