var cxt_dco_version="dco-pixels-d75e2894-10";(function(){var b={mid:"294380",domain:"Gazelle",adacado_advertiser_id:"",connexity_xid:"41dc",connexity_aid:"189",default_pixels_to_fire:["connexity","blip"]};(function(){var i=typeof window==="undefined",d=!i&&window.localStorage,f={};if(i){module.exports=console;return}var h=d.andlogKey||"debug";if(d&&d[h]&&window.console){f=window.console}else{var e="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),c=e.length,g=function(){};while(c--){f[e[c]]=g}}if(typeof exports!=="undefined"){module.exports=f}else{window.console=f}})();var a;a={blipDataMapping:{mid:"mid",product_id:"mpids",sku:"skus"},adacadoDataMapping:{type:"segment",product_id:"sku",recommended_product_id:"recommendedsku",sku:"sku",recommended_sku:"recommendedsku",brand:"brand",category:"category",subcategory1:"subcategory1",subcategory2:"subcategory2",subcategory3:"subcategory3",subcategory4:"subcategory4",subcategory5:"subcategory5",keyword:"keyword",price:"price",quantity:"quantity",cart_total:"cart_total",order_total:"order_total",order_id:"order_id"},cxtDataMapping:{product_id:"prodid",recommended_product_id:"recprodid",sku:"sku",recommended_sku:"recsku",brand:"brand"},cxtCartDataMapping:{recommended_product_id:"recprodid",recommended_sku:"recsku",cart_total:"cvalue",brand:"cbrand"},getMeta:function(c){var e=document.getElementsByTagName("meta");for(var d=0,f=e.length;d<f;d++){if(e[d].getAttribute("property")&&e[d].getAttribute("property").toLowerCase()==c){return e[d].getAttribute("content")}}return null},isFunction:function(c){return Object.prototype.toString.call(c)=="[object Function]"},isString:function(c){return Object.prototype.toString.call(c)=="[object String]"},isCart:function(c){return(c.type&&c.type=="cart")},hasCategory:function(c){return(c.category)},generateCartInventory:function(f,c,e,d){cartResults="";prices=[];quantities=[];entries=d[f].split(",");if(d.price){prices=d.price.split(",")}if(d.quantity){quantities=d.quantity.split(",")}hasExtraMetaData=false;if(prices.length>0||quantities.length>0){hasExtraMetaData=true}for(index=0;index<entries.length;index++){if(cartResults!=""){cartResults+=","}cartResults+=entries[index];if(hasExtraMetaData){cartResults+="|";if(quantities[index]){cartResults+=quantities[index]}cartResults+="|";if(prices[index]){cartResults+=prices[index]}}}e[c]=cartResults},generateBreadCrumb:function(c){breadCrumb="";if(c.category){breadCrumb=c.category.trim()}if(c.subcategory1){breadCrumb+=">"+c.subcategory1.trim()}if(c.subcategory2){breadCrumb+=">"+c.subcategory2.trim()}if(c.subcategory3){breadCrumb+=">"+c.subcategory3.trim()}if(c.subcategory4){breadCrumb+=">"+c.subcategory4.trim()}if(c.subcategory5){breadCrumb+=">"+c.subcategory5.trim()}return breadCrumb},toAdacadoParams:function(c){params="";for(property in c){adacadoParamKey=this.adacadoDataMapping[property];if(!adacadoParamKey||adacadoParamKey==""){}else{params+=adacadoParamKey+"="+c[property]+"&"}}params=params.slice(0,-1);return params},toBlipParams:function(c){params="";for(property in c){blipParamKey=this.blipDataMapping[property];if(!blipParamKey||blipParamKey==""){}else{params+=blipParamKey+"="+c[property]+"&"}}params=params.slice(0,-1);return params},toCxtParams:function(c){if(this.isCart(c)){params={};for(property in c){cxtParamKey=this.cxtCartDataMapping[property];if(!cxtParamKey||cxtParamKey==""){}else{params[cxtParamKey]=c[property]}}if(c.sku){this.generateCartInventory("sku","csku",params,c)}if(c.product_id){this.generateCartInventory("product_id","cprodid",params,c)}}else{params={};for(property in c){cxtParamKey=this.cxtDataMapping[property];if(!cxtParamKey||cxtParamKey==""){}else{params[cxtParamKey]=c[property]}}if(this.hasCategory(c)){params.bcrumb=this.generateBreadCrumb(c)}}return params},fireConnexityPixel:function(e,d,c){(function(){CxTs=document.createElement("script");CxTs.type="text/javascript";CxTs.async=true;CxTn=document.getElementsByTagName("script")[0];CxTs.src=((document.location.protocol=="https:")?"https://t":"http://s")+".cxt.ms/action.v3.0.0.min.js";CxTn.parentNode.insertBefore(CxTs,CxTn);var h=5000;var i=0;var g={Ve:"10",A:e,X:d,Op:"r",i:c};function f(){if(window.CxTM!==undefined){window.CxTM.action(g)}else{if(i<h){setTimeout(function(){f()},20)}i++}}f()}())},fireBlipPixel:function(c){(function(){blipPx=document.createElement("script");blipPx.type="text/javascript";blipPx.async=true;blipPy=document.getElementsByTagName("script")[0];blipPx.id="adacadoPixel";blipPx.src="//blip.bizrate.com/signal.js?"+c;blipPy.parentNode.insertBefore(blipPx,blipPy)}())},fireAdacadoPixel:function(d,c){(function(){adcPx=document.createElement("script");adcPx.type="text/javascript";adcPx.async=true;adcPy=document.getElementsByTagName("script")[0];adcPx.id="adacadoPixel";adcPx.src="//pixel.adacado.com/"+d+"?"+c;adcPy.parentNode.insertBefore(adcPx,adcPy)}())},autoDiscover:function(c){var d=c.supported_page_types;var e={};for(page_type in d){page_type_definition=d[page_type];if((page_type_definition.match_expression)()){console.log("Matched page: "+page_type);e.firePixel=true;e.pixels_to_fire=page_type_definition.pixels_to_fire;if(page_type_definition.should_fire_pixel&&this.isFunction(page_type_definition.should_fire_pixel)){e.firePixel=(page_type_definition.should_fire_pixel)();console.log("for page type "+page_type+" the should_fire_pixel returned "+e.firePixel)}if(e.firePixel){parameters_definition=page_type_definition.parameters;for(parameter in parameters_definition){value=parameters_definition[parameter];if(this.isFunction(value)){pvalue=value()}else{if(this.isString(value)){pvalue=value}else{}}e[parameter]=pvalue}}break}}return e},contains:function(c,e){var d=c.length;while(d--){if(c[d]===e){return true}}return false},shouldFirePixel:function(e,d){var c=false;if(e&&e.hasOwnProperty("firePixel")){c=e.firePixel&&this.contains(e.pixels_to_fire,d);console.log("shouldFirePixel for "+d+" is "+c)}else{console.log("No pixel fired on this page view")}return c},fire:function(d,c){c.mid=d.mid;if(this.shouldFirePixel(c,"connexity")){this.fireConnexityPixel(d.connexity_aid,d.connexity_xid,this.toCxtParams(c))}if(this.shouldFirePixel(c,"adacado")){this.fireAdacadoPixel(d.adacado_advertiser_id,this.toAdacadoParams(c))}if(this.shouldFirePixel(c,"blip")){this.fireBlipPixel(this.toBlipParams(c))}}};if(typeof cxtData==="undefined"){cxtData={}}else{console.log("Page type is "+cxtData.type);if(cxtData.type&&(cxtData.type=="product"||cxtData.type=="cart")){cxtData.firePixel=true}else{cxtData.firePixel=false}cxtData.pixels_to_fire=b.default_pixels_to_fire}a.fire(b,cxtData)})();
