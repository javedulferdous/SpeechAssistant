//tealium universal tag - utag.loader ut4.0.202011021631, Copyright 2020 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;window.__tealium_twc_switch=false;try{try{window._dsgTag={};window._dsgTag.tagVersion='';window._dsgTag.AdobeID="989E1CFE5329630F0A490D45@AdobeOrg";window._dsgTag.Websites={};window._dsgTag.Websites.DicksSportingGoods={"Abbreviation":"DSG","Domain":"dickssportinggoods.com","RegEx":/dickssportinggoods|dsg|dks-|dsgcep|myscorecard|elasticbeanstalk|where2stageit/,"ProdRegEx":/^((((www|t|m(2|4|aos)?|sso|aos|stores|storelocator|reviews|protips|weeklyad|tag|solepanel-dks)\.)?((dickssportinggoods)|(m3mobile|dsg|myscorecardaccount))\.(com))|(mobile\.where2getit\.com)|(dsgcep\.custhelp\.com)|(associatekioskweb\.dcsg\.com))$/};window._dsgTag.Websites.GolfGalaxy={"Abbreviation":"GGXY","Domain":"golfgalaxy.com","RegEx":/golfgalaxy|gga?-|ggcep/,"ProdRegEx":/^((((www|t|m|aos|sso|kiosk|stores|storelocator|reviews|weeklyad|tag|solepanel-gg)\.)?(golfgalaxy)\.(com))|(mobile\.where2getit\.com)|(ggcep\.custhelp\.com))$/};window._dsgTag.Websites.FieldAndStream={"Abbreviation":"FNS","Domain":"fieldandstreamshop.com","RegEx":/fieldandstream(shop)?|fnsa?|fnscep/,"ProdRegEx":/^((((www|t|m|sso|stores|storelocator|reviews|weeklyad|tag)\.)?(fieldandstreamshop)\.(com))|(mobile\.where2getit\.com)|(fnscep\.custhelp\.com))$/};window._dsgTag.Websites.Calia={"Abbreviation":"CAL","Domain":"caliastudio.com","RegEx":/caliastudio/,"ProdRegEx":/^((((www|sso)\.)?(caliastudio)\.(com)))$/};window._dsgTag.Websites.ChelseaCollective={"Abbreviation":"CHC","Domain":"chelseacollective.com","RegEx":/chelseacollective/,"ProdRegEx":/^((((www|sso)\.)?(chelseacollective)\.(com)))$/};window._dsgTag.Websites.WARDashboard={"Abbreviation":"WAR","Domain":"madsci","RegEx":/madsci(beta)?/,"ProdRegEx":/^madsci$/,"CustomTrackingServerDomain":"dickssportinggoods.com"};window._dsgTag.PageTypes={MyAccountSignInAuth0:{Name:"My Account Sign In Auth0",MatchRules:{"HostRegExTest":new RegExp('^sso\\.','i'),"PathRegExTest":new RegExp('/login','i')}},Scorecard:{Name:"Scorecard",MatchRules:{"HostRegExTest":new RegExp('myscorecardaccount','i')}},Protips:{Name:"Protips",MatchRules:{"HostRegExTest":new RegExp('protips','i')}},WarDash:{Name:"War Dashboard",MatchRules:{"HostRegExTest":new RegExp('madsci(beta)?','i')}},StoreLocatorIFrame:{Name:"Store Locator IFrame",MatchRules:{"HostRegExTest":new RegExp('storelocator|(hosted|mobile)\.where2(get|stage)it','i')}},ChatConversation:{Name:"Chat Conversation",MatchRules:{"HostRegExTest":new RegExp('custhelp\.com','i'),"PathRegExTest":new RegExp('/chat_landing','i')}},ChatForm:{Name:"Chat Form",MatchRules:{"HostRegExTest":new RegExp('custhelp\.com','i'),"PathRegExTest":new RegExp('/chat_launch|/app','i')}},Category:{Name:"Category",MatchRules:{"PathRegExTest":new RegExp('/c/','i')}},Family:{Name:"Family",MatchRules:{"PathRegExTest":new RegExp('/f/','i')}},Search:{Name:"Search",MatchRules:{"PathRegExTest":new RegExp('/search/','i'),"FunctionTest":function(){return _dsgTag.DataLayer.GetValue("InternalSearchResultsCount")!==""&&_dsgTag.DataLayer.GetValue("InternalSearchResultsCount")>0;}}},FailedSearch:{Name:"Failed Search",MatchRules:{"PathRegExTest":new RegExp('/search/','i'),"FunctionTest":function(){return _dsgTag.DataLayer.GetValue("InternalSearchResultsCount")===""||_dsgTag.DataLayer.GetValue("InternalSearchResultsCount")==0;}}},ProductCompare:{Name:"Product Compare",MatchRules:{"PathRegExTest":new RegExp('/compareproductsdisplayview','i')}},ProductDetails:{Name:"Product Details",MatchRules:{"PathRegExTest":new RegExp('/p/','i')}},ProductReview:{Name:"ProductReview",MatchRules:{"PathRegExTest":new RegExp('/dsghostedcontainer','i')}},Cart:{Name:"Cart",MatchRules:{"PathRegExTest":new RegExp('/((ajax)?orderitemdisplay(view)?|cart)','i')}},CheckoutSignIn:{Name:"Checkout Sign In",MatchRules:{"PathRegExTest":new RegExp('/checkoutsigninview','i')}},CheckoutBillingShippingAddress:{Name:"Checkout Billing Shipping Address",MatchRules:{"PathRegExTest":new RegExp('/ordershippingbillingview','i')}},CheckoutBillingAddress:{Name:"Checkout Billing Address",MatchRules:{"PathRegExTest":new RegExp('/dsgbillingaddressview','i')}},CheckoutShippingAddress:{Name:"Checkout Shipping Address",MatchRules:{"PathRegExTest":new RegExp('/dsgshippingaddressview','i')}},CheckoutDelivery:{Name:"Checkout Delivery",MatchRules:{"PathRegExTest":new RegExp('/dsgdeliveryview','i')}},CheckoutPayment:{Name:"Checkout Payment",MatchRules:{"PathRegExTest":new RegExp('/dsgpaymentview(cmd)?','i')}},CheckoutReview:{Name:"Checkout Review",MatchRules:{"PathRegExTest":new RegExp('/singleshipmentordersummaryview','i')}},OrderConfirmation:{Name:"Order Confirmation",MatchRules:{"PathRegExTest":new RegExp('/(ordershippingbillingconfirmationview|dsgordersubmit)','i')}},WeeklyAd:{Name:"Weekly Ad",MatchRules:{"PathRegExTest":new RegExp('/s/weekly-ad','i')}},Static:{Name:"Static",MatchRules:{"PathRegExTest":new RegExp('/s/','i')}},Proxy:{Name:"Proxy",MatchRules:{"PathRegExTest":new RegExp('/products/','i')}},StoreLocatorIndex:{Name:"Store Locator Index",MatchRules:{"HostRegExTest":new RegExp('stores|locations\.where2stageit','i'),"PathRegExTest":new RegExp('^(/(dickssportinggoods|golfgalaxy|fieldandstreamshop))?/?([a-zA-Z]{2}/([^\\/]+/)?)?$','i')}},StoreLocatorLocalStore:{Name:"Store Locator Local Store",MatchRules:{"HostRegExTest":new RegExp('stores|locations\.where2stageit','i'),"PathRegExTest":new RegExp('^((/(dickssportinggoods|golfgalaxy|fieldandstreamshop))?/([a-zA-Z]{2})/([^\\/]+)/(\\d+)/)$','i')}},OrderTracking:{Name:"Order Tracking",MatchRules:{"PathRegExTest":new RegExp('(/trackorderstatus)|(/myaccount/onlineorderhistory)','i')}},OrderDetails:{Name:"Order Details",MatchRules:{"PathRegExTest":new RegExp('/orderdetail','i')}},GuestOrderTracking:{Name:"Guest Order Tracking",MatchRules:{"PathRegExTest":new RegExp('/trackorder','i')}},MyAccount:{Name:"My Account",MatchRules:{"PathRegExTest":new RegExp('(/myaccount/accountsummary)|(/(ajax)?logonform)|(/my-account)','i'),"FunctionTest":function(){return(_dsgTag.DataLayer.GetValue("PageURL").toLowerCase().indexOf("logonform")<0)&&_dsgTag.DataLayer.GetValue("SignedInBoolean");}}},MyAccountSignIn:{Name:"My Account Sign In",MatchRules:{"PathRegExTest":new RegExp('/(ajax)?logonform','i')}},MyAccountRegistration:{Name:"My Account Registration",MatchRules:{"PathRegExTest":new RegExp('/userregistrationform','i')}},AddressBook:{Name:"Address Book",MatchRules:{"PathRegExTest":new RegExp('/addressbookform','i')}},Home:{Name:"Home",MatchRules:{"PathRegExTest":new RegExp('^/$','i')}}};window._dsgTag.CCPAExclusions=["Bing","CriteoRemarketing","CriteoSponsored","Facebook","Google","ImpactRadius","Kampyle","Pinterest","Snapchat","Twitter"];if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}
window._dsgTag.HelperFunctions={"GetQueryStringValue":function(n,u){u=(u?(u.indexOf("?")>=0?"?"+u.split("?")[1]:""):location.search);var regex=new RegExp("[?&]"+n+"=([^&#]*)","i"),results=regex.exec(u);return(results===null||results.length<2)?null:decodeURIComponent(results[1].replace(/\+/g," "));},"StandardizeValueName":function(n){var valueNamespace="TAG";var delimiter="_";var nameRegEx=new RegExp("^"+valueNamespace.toLowerCase()+delimiter+"?","i");var baseName=n.replace(nameRegEx,"");return valueNamespace+delimiter+baseName;},"SaveValue":function(n,v,s){_dsgTag.HelperFunctions.DeleteCookie(n,true);_dsgTag.HelperFunctions.DeleteCookie(n,false);if(typeof Storage!=="undefined"){try{if(!s){localStorage.setItem(_dsgTag.HelperFunctions.StandardizeValueName(n),v);}else{sessionStorage.setItem(_dsgTag.HelperFunctions.StandardizeValueName(n),v);}
return true;}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error saving "+n+" to local storage; using cookie instead.",true);_dsgTag.HelperFunctions.WriteCookieValue(n,v);}}else{_dsgTag.HelperFunctions.WriteCookieValue(n,v);}
return false;},"GetValue":function(n){if(typeof Storage!=="undefined"){var existingCookie=_dsgTag.HelperFunctions.GetCookieValue(n);if(existingCookie){if(_dsgTag.HelperFunctions.SaveValue(n,existingCookie)){_dsgTag.HelperFunctions.DeleteCookie(n,true);_dsgTag.HelperFunctions.DeleteCookie(n,false);}else{return existingCookie;}}
return sessionStorage.getItem(_dsgTag.HelperFunctions.StandardizeValueName(n))||localStorage.getItem(_dsgTag.HelperFunctions.StandardizeValueName(n));}else{return _dsgTag.HelperFunctions.GetCookieValue(n);}},"DeleteValue":function(n){localStorage.removeItem(_dsgTag.HelperFunctions.StandardizeValueName(n));sessionStorage.removeItem(_dsgTag.HelperFunctions.StandardizeValueName(n));_dsgTag.HelperFunctions.DeleteCookie(n,true);},"GetCookieValue":function(n){var regex=new RegExp("(?:^|;)\\s*"+n+"=([^;]*)"),results=regex.exec(document.cookie);return results===null?null:results[1];},"DeleteCookie":function(n,i){var x="";x="; expires="+(new Date()).toGMTString();var s=s__host.split(".");document.cookie=n+"="+"DELETE"+x+"; path=/"+(i&&s.length>=2?";domain="+s[s.length-2]+"."+s[s.length-1]:"");},"WriteCookieValue":function(n,v,d,i){var x="";if(d&&typeof d.toGMTString=="function"){x="; expires="+d.toGMTString();}else if(typeof d=="number"){var expirationDate=(new Date((new Date()).setDate((new Date().getDate())+parseInt(d))));x="; expires="+expirationDate.toGMTString();}else if(typeof d=="boolean"&&typeof i=="undefined"){i=d;}
if(i){_dsgTag.HelperFunctions.DeleteCookie(n);}
var s=s__host.split(".");document.cookie=n+"="+v.toString().replace(/[^\x00-\x7F]/g,"")+x+"; path=/"+(i&&s.length>=2?";domain="+s[s.length-2]+"."+s[s.length-1]:"");},"GetValOnce":function(v,n,x){var delimiter="|"
var exists=false;var xMilliseconds=x*60*1000;var currentValue=_dsgTag.HelperFunctions.GetValue(n);if(currentValue){currentValue=currentValue.split(delimiter);if(Date.now()<(parseInt(currentValue[1])+xMilliseconds)){exists=currentValue[0]==v;}}
_dsgTag.HelperFunctions.SaveValue(n,v+delimiter+(Date.now()));return exists?"":v;},"ToProperCase":function(s){if(typeof s!=='undefined'&&s){s=s.split(" ");for(var i=0;i<s.length;i++){s[i]=s[i].charAt(0).toUpperCase()+s[i].substring(1).toLowerCase();}
s=s.join(" ");}
return s;},"DeepExtend":function(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj)
continue;for(var key in obj){if(obj.hasOwnProperty(key)){if(typeof obj[key]==='object')
out[key]=_dsgTag.HelperFunctions.DeepExtend(out[key],obj[key]);else
out[key]=obj[key];}}}
return out;},"DebugLog":function(o,e){if(window._dsgTag.HelperFunctions.GetValue("Debug")){if(typeof o==="object"){if(e){console.error(_dsgTag.HelperFunctions.DeepExtend({},o));}
else{console.log(_dsgTag.HelperFunctions.DeepExtend({},o));}}else{if(e){console.error(o);}
else{console.log(o);}}}
try{if(e&&typeof o=="string"){_dsgTag.loggedErrors=_dsgTag.loggedErrors||[];_dsgTag.loggedErrors.push(o);if((parseInt(Math.random()*10))<1){}}}catch(ex){}},"SendDebugPixel":function(m){try{var baseURL="https://smetrics.dickssportinggoods.com/b/ss/dsgsbox/10/JS-2.17.0/s"+(parseInt(Math.random()*100000)).toString();baseURL+="?g="+encodeURIComponent(window.location.href);baseURL+="&v44="+encodeURIComponent(m);var pixel=document.createElement("script");pixel.src=baseURL;document.body.appendChild(pixel);}catch(ex){}},"DividerLog":function(t){try{if(window._dsgTag.HelperFunctions.GetValue("Debug")){if(typeof String.prototype.repeat!=="undefined"&&typeof t==="string"){var totalLength=100;var halfDivider="*".repeat(parseInt((totalLength-t.length)/2));console.log(halfDivider+" "+t+" "+halfDivider);}}}catch(ex){}},"removeURLParameters":function(url,parametersToRemove){var urlMinusParam=url.split("?")[0];var queryStrings=(url.indexOf("?")!==-1)?url.split("?")[1]:"";var param_array=[];var param="";var parameterToRemove="";var removeTheseParams=[];if(typeof parametersToRemove==="string"){removeTheseParams=parametersToRemove.split(",");}else{removeTheseParams=parametersToRemove;}
if(queryStrings!==""){param_array=queryStrings.split("&");for(var p=removeTheseParams.length-1;p>=0;p--){parameterToRemove=removeTheseParams[p];if(typeof String.prototype.trim==='function'){parameterToRemove=parameterToRemove.trim();}
for(var i=param_array.length-1;i>=0;i--){param=param_array[i].split("=")[0];if(param===parameterToRemove){param_array.splice(i,1);}}}}
if(param_array.length>0)
urlMinusParam=urlMinusParam+"?"+param_array.join("&");return urlMinusParam;},"GetPageTypeByURL":function(customURL){var url=customURL||window.location.href;var host=url.split('/').slice(2,3).join('/');var path='/'+url.split('#')[0].split('?')[0].split('/').slice(3).join('/');for(var currentType in _dsgTag.PageTypes){var success=true;if(_dsgTag.PageTypes[currentType].MatchRules.HostRegExTest){success=_dsgTag.PageTypes[currentType].MatchRules.HostRegExTest.test(host);}
if(success&&_dsgTag.PageTypes[currentType].MatchRules.PathRegExTest){success=_dsgTag.PageTypes[currentType].MatchRules.PathRegExTest.test(path);}
if(success&&_dsgTag.PageTypes[currentType].MatchRules.FunctionTest){success=_dsgTag.PageTypes[currentType].MatchRules.FunctionTest();}
if(success){return _dsgTag.PageTypes[currentType];}}
return{Name:"Unknown"};},"GetStandardizedDKSTime":function(){var output=null;var rawTimeSource=_dsgTag.DataLayer.GetValue("ServerTimestamp");if(!rawTimeSource&&typeof utag!=="undefined"&&typeof utag.data.tealium_timestamp_utc!=="undefined"){rawTimeSource=utag.data.tealium_timestamp_utc;}
if(rawTimeSource){var isDST=function(input){DSTInfo={2020:"3/8,11/1",2021:"3/14,11/7",2022:"3/13,11/6",2023:"3/12,11/5",2024:"3/10,11/3",2025:"3/9,11/2",2026:"3/8,11/1",2027:"3/14,11/7",2028:"3/12,11/5",2029:"3/11,11/4",2030:"3/10,11/3"};var dso=DSTInfo[input.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+input.getFullYear());de=new Date(dso[1]+'/'+input.getFullYear());if(input>ds&&input<de){return true;}
return false;};var GMTServerTime=new Date(rawTimeSource);var clientTime=new Date(GMTServerTime);GMTServerTime=new Date(GMTServerTime.setMinutes(GMTServerTime.getMinutes()+(GMTServerTime.getTimezoneOffset())))
var DSGEnterpriseTime=new Date(GMTServerTime);DSGEnterpriseTime.setHours(DSGEnterpriseTime.getHours()-4-(isDST(DSGEnterpriseTime)?0:1));output=[DSGEnterpriseTime,clientTime];}
return output;},"GetSimpleTimestamp":function(){var s=_dsgTag.HelperFunctions.GetStandardizedDKSTime()
var y=s[0].getFullYear();var m=s[0].getMonth()+1,m=(m<=9?"0":"")+m;var d=s[0].getDate(),d=(d<=9?"0":"")+d;var h=s[0].getHours(),h=(h<=9?"0":"")+h;var n=s[0].getMinutes(),n=(n<=9?"0":"")+n;return""+y+m+d+h+n;},"LoadScriptAsyncAndCallFunction":function(uri,callback){var tag=document.createElement('script');tag.src=uri;tag.async=true;if(callback){_dsgTag.ScriptCallbackFunctions=_dsgTag.ScriptCallbackFunctions||{};var randomID;while(!randomID||typeof _dsgTag.ScriptCallbackFunctions[randomID]!=='undefined'){randomID="_"+(Math.random()*1000);}
_dsgTag.ScriptCallbackFunctions[randomID]=function(){callback();delete _dsgTag.ScriptCallbackFunctions[randomID];};tag.onload=_dsgTag.ScriptCallbackFunctions[randomID];}
var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);},"BindDocumentClickEventWithAdditionalSelector":function(selector,handler){document.addEventListener("click",function(event){try{var parent=event.target;var backupBreak=0;while(parent&&backupBreak<200){if((typeof parent.matches==="function"&&parent.matches(selector))||(typeof parent.msMatchesSelector==="function"&&parent.msMatchesSelector(selector))){handler(parent);return;}
parent=parent.parentNode;backupBreak++;}
if(typeof event.path!=="undefined"&&event.path.length>0){parent=event.target;individualSelectors=selector.split(",");for(var i=0;i<individualSelectors.length;i++){if((nodeSelectors=individualSelectors[i].trim().split(" ")).length>1){nodeSelectors.reverse();var pathIndex=0;var selectorIndex=0;var firstMatchingNode,pathItem,currentSelector;while(pathIndex<event.path.length&&selectorIndex<nodeSelectors.length){pathItem=event.path[pathIndex];currentSelector=nodeSelectors[selectorIndex];if((typeof Element.prototype.matches==="function"&&pathItem.matches(currentSelector))||(typeof Element.prototype.msMatchesSelector==="function"&&pathItem.msMatchesSelector(currentSelector))){if(!firstMatchingNode){firstMatchingNode=pathItem;}
selectorIndex++;}
pathIndex++;}
if(selectorIndex>=nodeSelectors.length){handler(firstMatchingNode);return;}}}}
var matchingElements=document.querySelectorAll(selector);for(var i=0;i<matchingElements.length;i++){parent=event.target;backupBreak=0;while(parent&&backupBreak<200){if(matchingElements[i]===parent){handler(matchingElements[i]);return;}
parent=parent.parentNode;backupBreak++;}}}catch(ex){}});},"ScrapeTextViaSelector":function(selector){var element=document.querySelector(selector);if(element){return element.innerText.trim();}
return"";},"HideObjectViaCSS":function(selector){try{document.head.appendChild(node=document.createElement("style"),node.innerText=selector+" {display:none !important}",node);}catch(ex){}},"IsInLane":function(laneInput){try{if(typeof laneInput==="number"){return _dsgTag.customerLane===laneInput;}else if(typeof laneInput==="boolean"){return laneInput;}else if(typeof laneInput==="string"){var inLane=false;var list=laneInput.split(",");var range=laneInput.split("-");if(Number(laneInput.trim())){return _dsgTag.HelperFunctions.IsInLane(Number(laneInput.trim()));}else if(list.length>1){for(var i=0;i<list.length&&!inLane;i++){inLane=_dsgTag.HelperFunctions.IsInLane(list[i].trim());}
return inLane;}else if(range.length===2){for(var i=Number(range[0].trim());i<=Number(range[1].trim())&&!inLane;i++){inLane=_dsgTag.HelperFunctions.IsInLane(i);}
return inLane;}}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured parsing Lane logic '"+laneInput+"':"+ex.message,true);return false;}
return false;},"CompareValues":function(baseValue,compareToValues,comparator){try{var CompareSingularValues=function(x,y,comparator){switch(comparator.toLowerCase()){case"=":return x==y;case"!=":return x!=y;case"^=":return x.toLowerCase().indexOf(y.toLowerCase())==0;case"^!=":return x.toLowerCase().indexOf(y.toLowerCase())!=0;case"$=":return x.toLowerCase().indexOf(y.toLowerCase())==(x.length-y.length);case"*=":return x.toLowerCase().indexOf(y.toLowerCase())>=0;case"*!=":return x.toLowerCase().indexOf(y.toLowerCase())<0;}}
var negative=comparator.indexOf("!")>=0;var match=negative;var valueList=compareToValues;if(!Array.isArray(valueList)){valueList=[valueList];}
for(var i=0;i<valueList.length;i++){var currentTest=CompareSingularValues(baseValue.toString().toLowerCase(),valueList[i].toString().toLowerCase(),comparator);match=negative?(match&&currentTest):(match||currentTest);}
return match;}catch(ex){}
return false;}};var s__host=window.location.hostname.toLowerCase();var s__path=window.location.pathname.toLowerCase();var s__website={"Abbreviation":"Unknown","Domain":"Unknown","RegEx":/^$/,"ProdRegEx":/^$/};var s__experience="Unknown";var s__isProduction=false;var s__linkInternalFilters;for(key in _dsgTag.Websites){if(_dsgTag.Websites[key].RegEx.test(s__host)){s__website=_dsgTag.Websites[key];break;}}
if(s__host.toLowerCase().indexOf("where2getit")>=0){if(s__path.toLowerCase().indexOf("dickssportinggoods")>=0){s__website=window._dsgTag.Websites.DicksSportingGoods;}else if(s__path.toLowerCase().indexOf("golfgalaxy")>=0){s__website=window._dsgTag.Websites.GolfGalaxy;}else if(s__path.toLowerCase().indexOf("fieldandstream")>=0){s__website=window._dsgTag.Websites.FieldAndStream;}}
var s__prodMatchResults=s__website.ProdRegEx.exec(s__host);if(s__prodMatchResults){s__isProduction=true;s__linkInternalFilters=s__prodMatchResults[1];switch(s__host.split(".")[0]){case"www":{s__experience="Desktop";break;}
case"t":{s__experience="Tablet";break;}
case"mobile":case"m":{s__experience="Mobile";break;}
case"m2":{s__experience="Mobile App";break;}
case"maos":case"m4":{s__experience="In Store Mobile";break;}
case"kiosk":case"associatekioskweb":case"aos":{s__experience="Kiosk";break;}
default:s__experience="Desktop";}
if(s__host.toLowerCase().indexOf("solepanel")>=0){s__experience="CVCC";}
if(s__experience==="Desktop"&&_dsgTag.HelperFunctions.GetCookieValue("dih")){if(_dsgTag.HelperFunctions.GetCookieValue("dih").toLowerCase()==="mobile"){s__experience="Mobile";}else if(_dsgTag.HelperFunctions.GetCookieValue("dih").toLowerCase()==="tablet"){s__experience="Mobile";}}}else{s__isProduction=false;s__linkInternalFilters=/.+\.(.+\..+)/.exec(s__host);if(s__linkInternalFilters&&s__linkInternalFilters.length>1){s__linkInternalFilters=s__linkInternalFilters[1];if(/(m|dsgr(-(dev0|qa|beta)\d?)?)(-qa\d)?\.uat|m-(dks|gg|fns|qa)|bbhosted|m1?\./.test(s__host))
s__experience="Mobile";else if(/m2\.uat|m2-(dks|gg|fns|qa)/.test(s__host))
s__experience="Mobile App";else if(/m4\.uat|m4-(dks|gg|fns|qa)/.test(s__host))
s__experience="In Store Mobile";else if(/theta|tt\d|t\.uat|t-(dks|gg|fns|qa)/.test(s__host))
s__experience="Tablet";else if(/maos/.test(s__host))
s__experience="In Store Mobile";else if(/aos/.test(s__host))
s__experience="Kiosk";else if(/associatekioskwebdev/.test(s__host))
s__experience="Kiosk";else if(/solepanel/.test(s__host))
s__experience="CVCC";else
s__experience="Desktop";}else{s__linkInternalFilters=s__host;s__experience="Desktop";}}
if(s__experience==="Desktop"&&(document.cookie.indexOf("DSG_ADID")>=0||window.location.search.toLowerCase().indexOf("ad_id=kiosk")>=0)){s__experience="Kiosk";}
window._dsgTag.currentWebsite=s__website;window._dsgTag.experience=s__experience;window._dsgTag.isProduction=s__isProduction;window._dsgTag.linkInternalFilters=s__linkInternalFilters;window._dsgTag.isAOS=(window._dsgTag.experience==="Kiosk"||window._dsgTag.experience==="In Store Mobile"||window._dsgTag.experience==="CVCC");window._dsgTag.isAngular=(document.getElementsByTagName("html").length>0)?(document.getElementsByTagName("html")[0].getAttribute("data-is-angular")!==null):false;window._dsgTag.isIFrame=/(^(storelocator|weeklyad)\.)|(where2(stage|get)it)/.test(s__host);window._dsgTag.HelperFunctions.DeleteCookie("TagLane");window._dsgTag.customerLane=-1;var akamaiSwimlaneCookie="";if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){akamaiSwimlaneCookie=_dsgTag.HelperFunctions.GetCookieValue("swimlane_as_exp_dsg");}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){akamaiSwimlaneCookie=_dsgTag.HelperFunctions.GetCookieValue("swimlane_as_exp_gg");}
var oldCookies=["akaas_AS_Exp_Desktop","akaas_AS_Exp_Desktop_1","akaas_AS_Exp_Mobile","akaas_AS_Exp_Mobile_1"];if(akamaiSwimlaneCookie){value=parseInt(akamaiSwimlaneCookie);if(value){window._dsgTag.customerLane=value;var hasOldCookie=false;for(var i=0;i<oldCookies.length&&!hasOldCookie;i++){hasOldCookie=(_dsgTag.HelperFunctions.GetCookieValue(oldCookies[i])!==null);}
if(!(hasOldCookie)){if(_dsgTag.HelperFunctions.GetValue("SavedAkamaiLane")&&parseInt(_dsgTag.HelperFunctions.GetValue("SavedAkamaiLane"))!==window._dsgTag.customerLane){_dsgTag.HelperFunctions.SaveValue("LaneChanged",true);}}
_dsgTag.HelperFunctions.SaveValue("SavedAkamaiLane",window._dsgTag.customerLane);for(var i=0;i<oldCookies.length;i++){_dsgTag.HelperFunctions.DeleteCookie(oldCookies[i]);}}}
var laneOverride=_dsgTag.HelperFunctions.GetCookieValue("TagForceLane");if(laneOverride){window._dsgTag.customerLane=parseInt(laneOverride);}
try{_dsgTag.CONST_NewVisitTimeDifference=30*60*1000;_dsgTag.CONST_OrderHistoryRollingWindow=30*24*60*60*1000;_dsgTag.CONST_MaxOrderHistoryLength=10;_dsgTag.visitor=_dsgTag.HelperFunctions.GetValue("Visitor");if(_dsgTag.visitor){_dsgTag.visitor=JSON.parse(_dsgTag.visitor);}else{_dsgTag.visitor={};_dsgTag.visitor.visitCount=1;_dsgTag.visitor.orderHistory=[];_dsgTag.visitor.lastTouch=Date.now();}
if(Date.now()-_dsgTag.visitor.lastTouch>=_dsgTag.CONST_NewVisitTimeDifference){_dsgTag.visitor.visitCount++;_dsgTag.HelperFunctions.DeleteValue("v27");_dsgTag.HelperFunctions.DeleteValue("v28");}
_dsgTag.visitor.lastTouch=Date.now();var minimumOrderDate=Date.now()-_dsgTag.CONST_OrderHistoryRollingWindow;for(var i=0;i<_dsgTag.visitor.orderHistory.length;i++){if(parseInt(_dsgTag.visitor.orderHistory[i].Date)<minimumOrderDate){_dsgTag.visitor.orderHistory.splice(i,1);i--;}}
_dsgTag.VisitCount=_dsgTag.visitor.visitCount;_dsgTag.OrderHistory=_dsgTag.visitor.orderHistory;_dsgTag.HelperFunctions.SaveValue("Visitor",JSON.stringify(_dsgTag.visitor),false);}catch(ex){_dsgTag.HelperFunctions.SaveValue("Visitor",JSON.stringify({}),false);_dsgTag.HelperFunctions.DebugLog("Error loading visitor data: "+ex.message,true);}
_dsgTag.referrer="";try{if(document.referrer&&document.referrer.indexOf(_dsgTag.currentWebsite.Domain)>0){_dsgTag.referrer=_dsgTag.HelperFunctions.GetValue("Referrer");}else if(document.referrer){_dsgTag.referrer=document.referrer;}
_dsgTag.HelperFunctions.SaveValue("Referrer",window.location.href);}catch(ex){}
_dsgTag.FunctionRepository={};_dsgTag.registeredTags=[];_dsgTag.InitTimings={"Immediate":1,"DOMLoaded":2,"WindowComplete":3};_dsgTag.FunctionRepository.RegisterTag=function(name,timing,conditions,initializer){try{if(typeof conditions==="function"&&typeof initializer==="undefined"){initializer=conditions;conditions=false;}
var blockedTags=[];var ccpaCookie=_dsgTag.HelperFunctions.GetCookieValue("ccpa");if(ccpaCookie&&ccpaCookie.toString().toLowerCase()=="true"){blockedTags=blockedTags.concat(_dsgTag.CCPAExclusions);}
var blockedTagsCookie=_dsgTag.HelperFunctions.GetCookieValue("BlockedTags");if(blockedTagsCookie){blockedTags=blockedTags.concat(blockedTagsCookie.split(","));}
var excluded=false;for(var i=0;i<blockedTags.length;i++){excluded=excluded||(name==blockedTags[i]);}
if(window._dsgTag.tagVersion&&conditions){for(var i=0;i<conditions.length;i++){var currentCondition=conditions[i];var type=currentCondition.t.toLowerCase();var comparator=currentCondition.c;var values=currentCondition.v;var matchFound=false;var matchValue=false;if(type=="domain"){matchValue=window.location.host;}
else if(type=="site"){matchValue=_dsgTag.currentWebsite.Abbreviation.toLowerCase();}
else if(type=="page"){matchValue=_dsgTag.pageType.Name.toLowerCase();}
else if(type=="aos"){matchValue=_dsgTag.isAOS;}
else if(type=="iframe"){matchValue=_dsgTag.isIFrame;}
if(matchValue){matchFound=_dsgTag.HelperFunctions.CompareValues(matchValue,values,comparator);excluded=excluded||!matchFound;}}}
if(!excluded){_dsgTag.registeredTags.push(name);if(timing===_dsgTag.InitTimings.Immediate){initializer();}else if(timing===_dsgTag.InitTimings.DOMLoaded){_dsgTag.EventHandlers.AddDocumentReadyEventHandler(initializer);}else if(timing===_dsgTag.InitTimings.WindowComplete){_dsgTag.EventHandlers.AddWindowLoadEventHandler(initializer);}}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error while registering tag "+name+": "+ex.message);}};_dsgTag.WindowLoadEvents=[];_dsgTag.EventHandlers={};_dsgTag.EventHandlers.EventNames=["NewPageView","AddOnsShown","AddToCart","AJAXStoreSearch","AttributeSelected","CancelRequestSubmit","CartDataUpdated","CartFulfillmentChanged","CartQuantityChanged","CartRemoveProduct","Chat","ChatClicked","CheckEDDZipCode","CheckoutAction","CheckStoreAvailabilitySearch","ContentTabView","CopyCode","CreateAccountClick","CurbsideCheckIn","EDDSkuInfo","EmailResetLinkClick","EmailSignup","ExternalCheckout","FilterClicked","FinderResults","FlippEvent","FreeShipThreshold","GroupBySearch","hasCombinedAccounts","ImageViewer","low_stock_event","MCIDApiUsed","ModalOpen","NoAddOnsShown","NotifyMeStock","OrderCancel","PDPPayPalClicked","PDPPeopleView","PDPSignInRequest","PostReview","PromotionEntered","PromotionRemoved","RemoveFromCart","ResultsViewUpdate","Scene7Event","ScoreCardApply","ScoreCardEntered","SearchEventAnalytics","ShippingMethodUpdated","ShowProductOptions","SignInClick","SignInCreateAccountClick","SiteError","SKUResolve","StartSearch","TapAheadClick","TopNavView","TrackOrder","UpdateCart","ViewMore","ViewReward","reporting:PagePostRender","reporting:update"];_dsgTag.EventHandlers.Events={};_dsgTag.EventHandlers.initialPageViewFired=false;_dsgTag.EventHandlers.delayedPageViewEvents=[];_dsgTag.EventHandlers.LaunchHandler=function(handler,eventObject,eventData,delayUntilPageView,synchronous){try{var data=eventData||(typeof eventObject!=="undefined"?(typeof eventObject.detail!=="undefined"?eventObject.detail:(typeof eventObject.originalEvent!=="undefined"?eventObject.originalEvent.detail:null)):null);var handlerFunction=function(){try{if(_dsgTag.EventHandlers.initialPageViewFired||!(delayUntilPageView)){handler(eventObject,data);}else{_dsgTag.EventHandlers.delayedPageViewEvents.push({"Handler":handler,"Event":eventObject,"Data":data});_dsgTag.HelperFunctions.DebugLog(eventObject.type+" attempted to fire before Page View; delaying until after.");}}catch(ex){if(eventObject){_dsgTag.HelperFunctions.DebugLog("Error executing "+eventObject.type+" handler: "+ex.message,true);}else{_dsgTag.HelperFunctions.DebugLog("Error executing handler: "+ex.message,true);}}}
if(!synchronous){setTimeout(handlerFunction,10);}else{handlerFunction();}}catch(ex){if(eventObject){_dsgTag.HelperFunctions.DebugLog("Error preparing to execute "+eventObject.type+" handler: "+ex.message,true);}else{_dsgTag.HelperFunctions.DebugLog("Error preparing to execute handler: "+ex.message,true);}}};_dsgTag.EventHandlers.SetupLogAndBucket=function(eventName){try{var eventListener={};eventListener.firedValues=[];_dsgTag.EventHandlers.Events[eventName]=eventListener;var LogAndBucket=function(eventObject,eventData){try{var data=eventData||(typeof eventObject!=="undefined"?(typeof eventObject.detail!=="undefined"?eventObject.detail:(typeof eventObject.originalEvent!=="undefined"?eventObject.originalEvent.detail:null)):null);_dsgTag.HelperFunctions.DebugLog("Event: "+eventObject.type);_dsgTag.HelperFunctions.DebugLog(data);if(typeof _dsgTag.EventHandlers.Events[eventObject.type]!=="undefined"){_dsgTag.EventHandlers.Events[eventObject.type].firedValues.push({"object":eventObject,"data":data});if(typeof data!=="undefined"&&typeof eventObject!=="undefined"&&typeof eventObject.type!=="undefined"){_dsgTag.EventHistory=_dsgTag.EventHistory||[];_dsgTag.EventHistory.push({"Type":eventObject.type,"Data":data});}}else{_dsgTag.HelperFunctions.DebugLog("Attempt to execute LogAndBucket for event that was never initialized: "+eventObject.type);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred logging/bucketing for "+eventObject.type+" handler: "+ex.message,true);}};document.addEventListener(eventName,LogAndBucket);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred setting up logging for "+eventName+": "+ex.message,true);}};for(var i=0;i<_dsgTag.EventHandlers.EventNames.length;i++){_dsgTag.EventHandlers.SetupLogAndBucket(_dsgTag.EventHandlers.EventNames[i]);if(typeof jQuery!=='undefined'){jQuery(window).on(_dsgTag.EventHandlers.EventNames[i],function(eventObject,eventData){if(typeof eventData==="undefined"&&typeof eventObject.originalEvent!=="undefined"&&typeof eventObject.originalEvent.detail!=="undefined"){eventData=eventObject.originalEvent.detail;}
_dsgTag.EventHandlers.TriggerEvent(eventObject.type,eventData);});}}
_dsgTag.EventHandlers.AddEventHandler=function(eventName,eventHandler,delayUntilPageView,synchronous){document.addEventListener(eventName,function(eventObject,eventData){_dsgTag.EventHandlers.LaunchHandler(eventHandler,eventObject,eventData,delayUntilPageView,synchronous);});if(typeof _dsgTag.EventHandlers.Events[eventName]=="undefined"){_dsgTag.EventHandlers.SetupLogAndBucket(eventName);}
if(typeof _dsgTag.EventHandlers.Events[eventName]!=="undefined"&&typeof _dsgTag.EventHandlers.Events[eventName].firedValues!=="undefined"){for(var i=0;i<_dsgTag.EventHandlers.Events[eventName].firedValues.length;i++){_dsgTag.EventHandlers.LaunchHandler(eventHandler,_dsgTag.EventHandlers.Events[eventName].firedValues[i].object,_dsgTag.EventHandlers.Events[eventName].firedValues[i].data,delayUntilPageView,synchronous);}}};_dsgTag.EventHandlers.TriggerEvent=function(eventName,eventData){try{myEvent=new CustomEvent(eventName,{detail:eventData||null});document.dispatchEvent(myEvent);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Failed to trigger Event '"+eventName+"':"+ex.message,true);}};_dsgTag.EventHandlers.AddDocumentReadyEventHandler=function(handler){if(document.readyState!=="loading"){_dsgTag.EventHandlers.LaunchHandler(handler);}else{document.addEventListener('DOMContentLoaded',handler);}};_dsgTag.EventHandlers.AddDocumentReadyEventHandler(function(){_dsgTag.HelperFunctions.DividerLog("Document Loaded")});_dsgTag.EventHandlers.AddWindowLoadEventHandler=function(handler){if(document.readyState==="complete"){_dsgTag.EventHandlers.LaunchHandler(handler);}else{_dsgTag.WindowLoadEvents.push(handler);}};_dsgTag.EventHandlers.AddWindowLoadEventHandler(function(){_dsgTag.HelperFunctions.DividerLog("Window Loaded")});var windowLoadLooper=setInterval(function(){if(document.readyState==="complete"){clearInterval(windowLoadLooper);var i=0;for(;i<_dsgTag.WindowLoadEvents.length;i++){try{_dsgTag.EventHandlers.LaunchHandler(_dsgTag.WindowLoadEvents[i]);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred while looping through window Load events: "+ex.message,true);}}}},100);if(!window._dsgTag.isAngular){_dsgTag.EventHandlers.AddWindowLoadEventHandler(function(){if(!_dsgTag.EventHandlers.initialPageViewFired){_dsgTag.EventHandlers.TriggerEvent("NewPageView");}});}
_dsgTag.EventHandlers.AddPostPageLoadEventHandler=_dsgTag.EventHandlers.AddEventHandler;_dsgTag.EventHandlers.TriggerPostPageLoadEvent=_dsgTag.EventHandlers.TriggerEvent;_dsgTag.EventHandlers.AddPostRenderEventHandler=function(handler){_dsgTag.EventHandlers.AddEventHandler("NewPageView",handler);};document.addEventListener("reporting:update",function(eventObject){try{_dsgTag.DataLayer.PassValuesToFunction(['EventType'],function(eventType){var data=(typeof eventObject!=="undefined"?(typeof eventObject.detail!=="undefined"?eventObject.detail:(typeof eventObject.originalEvent!=="undefined"?eventObject.originalEvent.detail:null)):null);if(eventType){_dsgTag.EventHandlers.TriggerEvent(eventType,data);}});}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in ReportingUpdate processor: "+ex.message,true);}});document.addEventListener("reporting:PagePostRender",function(eventObject){_dsgTag.EventHandlers.TriggerEvent("NewPageView",eventObject.detail)});window.Bootstrapper={};window.Bootstrapper.CustomVariables=window._dsgTag;}catch(e){utag.DB(e)}}catch(e){};if(!utag_condload){try{try{window._dsgTag.DataLayer=function(){DataLayerExtractors={};this.dataNameList=[];this.AddExtractor=function(dataElementName,extractorFunction){DataLayerExtractors[dataElementName]=extractorFunction;};this.GetValue=function(dataElementName,dataSource){try{if(typeof dataSource==="undefined"||dataSource==null){dataSource=window.siteData||{};}
return DataLayerExtractors[dataElementName](dataSource);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error resolving data value '"+dataElementName+"': "+ex.message,true);return null;}};this.PassValuesToFunction=function(dataElementList,resolveFunction,dataSource){try{dataValues=[];var i=0;var currentValue;if(dataElementList==="ALL"){for(;i<this.dataNameList.length;i++){currentValue=this.GetValue(this.dataNameList[i],dataSource);dataValues.push(currentValue);}}else{for(;i<dataElementList.length;i++){currentValue=this.GetValue(dataElementList[i],dataSource);dataValues.push(currentValue);}}
resolveFunction.apply(null,dataValues);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error resolving data value list: "+ex.message,true);}};DataLayerExtractors.AddressCount=function(dataSource){var a="0";if(typeof dataSource!=='undefined'&&typeof dataSource.TotalAddressCount!=='undefined'){a=dataSource.TotalAddressCount;}
return a;};DataLayerExtractors.AOSLocationID=function(dataSource){var results;var machine;var AOSLocationID="";var userAgent=navigator.userAgent;function pad(num,size){var s=num+"";while(s.length<size)
s="0"+s;return s;}
results=userAgent.match(/\bMACH\s(\w+)/);if(results&&typeof results[1]!=='undefined'&&(results[1].length===12||results[1].length===9)){machine=results[1];if(results[1].length===12){AOSStoreID=pad(machine.substring(0,5),6);storeChain=machine.substring(5,7);storeRole=machine.substring(7,10);AOSLocationID=pad(machine.substring(10,12),3);}else if(results[1].length===9){AOSStoreID=pad(machine.substring(0,5),6);AOSLocationID=pad(machine.substring(6,9),3);}}else if(typeof dataSource!=="undefined"&&typeof dataSource.AOSLocationID!=="undefined"){AOSLocationID=dataSource.AOSLocationID;}else if(_dsgTag.HelperFunctions.GetQueryStringValue("termID")){AOSLocationID=_dsgTag.HelperFunctions.GetQueryStringValue("termID");}else if(typeof dataSource!=='undefined'&&typeof dataSource.KioskInfo!=='undefined'){AOSLocationID="000000";}
return AOSLocationID;};DataLayerExtractors.AOSStoreID=function(dataSource){var results;var machine;var AOSStoreID="";var userAgent=navigator.userAgent;function pad(num,size){var s=num+"";while(s.length<size)
s="0"+s;return s;}
results=userAgent.match(/\bMACH\s(\w+)/);if(results&&typeof results[1]!=='undefined'&&(results[1].length===12||results[1].length===9)){machine=results[1];if(results[1].length===12){AOSStoreID=pad(machine.substring(0,5),6);storeChain=machine.substring(5,7);storeRole=machine.substring(7,10);AOSLocationID=pad(machine.substring(10,12),6);}else if(results[1].length===9){AOSStoreID=pad(machine.substring(0,5),6);AOSLocationID=pad(machine.substring(6,9),6);}}else if(typeof dataSource!=='undefined'&&typeof dataSource.AOSStoreID!=='undefined'){AOSStoreID=dataSource.AOSStoreID;}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ad_id")){AOSStoreID=_dsgTag.HelperFunctions.GetQueryStringValue("ad_id").replace("kiosk_","");}else if(typeof dataSource!=='undefined'&&typeof dataSource.KioskInfo!=='undefined'&&typeof dataSource.KioskInfo.storeNumber!=='undefined'){AOSStoreID=pad(dataSource.KioskInfo.storeNumber,6);}
return AOSStoreID;};DataLayerExtractors.AOSStoreRole=function(dataSource){var results;var machine;var AOSStoreRole="";var userAgent=navigator.userAgent;function pad(num,size){var s=num+"";while(s.length<size)
s="0"+s;return s;}
results=userAgent.match(/\bMACH\s(\w+)/);if(results&&typeof results[1]!=='undefined'&&(results[1].length===12||results[1].length===9)){machine=results[1];if(results[1].length===12){AOSStoreID=pad(machine.substring(0,5),6);storeChain=machine.substring(5,7);AOSStoreRole=machine.substring(7,10);AOSLocationID=pad(machine.substring(10,12),3);}else if(results[1].length===9){AOSStoreID=pad(machine.substring(0,5),6);AOSStoreRole="DSR";AOSLocationID=machine.substring(6,9);}}
return AOSStoreRole;};DataLayerExtractors.AppID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.appID!=='undefined'){a=dataSource.appID;}
return a;};DataLayerExtractors.BillingState=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.BillingState!=='undefined'){a=dataSource.BillingState;}
return a;};DataLayerExtractors.BillingZip=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.BillingZIP!=='undefined'){a=dataSource.BillingZIP;}else if(typeof dataSource!=='undefined'&&typeof dataSource.BillingZip!=='undefined'){a=dataSource.BillingZip;}else{var addressDivText=_dsgTag.HelperFunctions.ScrapeTextViaSelector("#WC_CheckoutPaymentAndBillingAddressSummaryf_div_2_1");var indexOfUS=addressDivText.indexOf("US ");a=addressDivText.substring(indexOfUS+3,indexOfUS+8);}
return a;};DataLayerExtractors.CartID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.CartID!=='undefined'){a=dataSource.CartID}else{a=_dsgTag.HelperFunctions.ScrapeTextViaSelector(".ref-number,body > div.off-canvas-wrap > div > section > div.cart-content > h1 > span");}
if(!a&&_dsgTag.HelperFunctions.GetValue("TagCartID")){a=decodeURI(_dsgTag.HelperFunctions.GetValue("TagCartID")).split("|")[0];}
return a;};DataLayerExtractors.CartItemQuantity=function(dataSource){var a=0;if(typeof dataSource!=="undefined"&&typeof dataSource.ProductArray!=="undefined"&&((typeof dataSource.PageURL!=="undefined"?dataSource.PageURL:window.location.href).toLowerCase().indexOf("orderitemdisplay")>=0)){for(var i=0;i<dataSource.ProductArray.length;i++){a+=parseInt(dataSource.ProductArray[i].ProductQty);}}
else if(typeof dataSource!=="undefined"&&typeof dataSource.checkout!=="undefined"){try{for(var i=0;i<dataSource.checkout.cart.items.length;i++){a+=dataSource.checkout.cart.items[i].quantity;}}catch(ex){}}
else if(_dsgTag.HelperFunctions.GetCookieValue("DCSG-CART")){try{var cartData=JSON.parse(window.atob(_dsgTag.HelperFunctions.GetCookieValue("DCSG-CART")));for(var i=0;i<cartData.length;i++){a+=cartData[i].qty?parseInt(cartData[i].qty):1;}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Failed to parse cart quantity from DCSG-CART cookie: "+ex.message,true);}}
else{try{a=parseInt(_dsgTag.HelperFunctions.ScrapeTextViaSelector(".cart-count-value, #OrderQty, #layout-content > ng-include:nth-child(1) > header > nav > ul > li:nth-child(5) > a > div > div.minicart-icon.animate-scale-active > i > span, .cart_icon, #layout-content > ng-include:nth-child(1) > header > div > nav > div > div:nth-child(3) > div > div.col-xs-5 > a > i > mini-cart, #cartCount, .cart-item-count"));}catch(ex){}}
return a;};DataLayerExtractors.CartSKUEcodeLookup=function(dataSource){var a={};if(typeof dataSource!=="undefined"&&typeof dataSource.checkout!=="undefined"&&typeof dataSource.checkout.cart!=="undefined"&&typeof dataSource.checkout.cart.items!=="undefined"&&typeof dataSource.checkout.cart.items.length!=="undefined"){for(var i=0;i<dataSource.checkout.cart.items.length;i++){a[dataSource.checkout.cart.items[i].sku]=dataSource.checkout.cart.items[i].ecode;}}else if(_dsgTag.HelperFunctions.GetValue("TagCartProducts")){a=JSON.parse(_dsgTag.HelperFunctions.GetValue("TagCartProducts"));}
return a;};DataLayerExtractors.CategoryID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.CategoryID!=='undefined'){a=dataSource.CategoryID;}
if(a===""&&typeof dataSource!=='undefined'&&typeof dataSource.DepartmentID!=='undefined'){a=dataSource.DepartmentID;}
return a;};DataLayerExtractors.CategoryName=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName;}else{a=_dsgTag.HelperFunctions.ScrapeTextViaSelector("#navigation > div.content_wrapper_position > div > div.content_left_shadow > div > div > div.widget_title_container_position > div > h1");}
if(a===""&&typeof dataSource!=='undefined'&&typeof dataSource.DepartmentName!=='undefined'){a=dataSource.DepartmentName;}
if(a===""&&typeof dataSource!=='undefined'&&typeof dataSource.Page==='string'&&document.URL.indexOf("/products/")!==-1){a=dataSource.Page.split(" : ")[dataSource.Page.split(" : ").length-1];if(a===""){a=_dsgTag.HelperFunctions.ScrapeTextViaSelector("#page > div.content_wrapper_position > div > div.content_left_shadow > div > div > h1");}}
return a;};DataLayerExtractors.CheckoutSummary=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.checkout!=='undefined'){a=dataSource.checkout;}
return a;};DataLayerExtractors.CheckoutGuestVsRegistered=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.RegisteredCheckoutEvent!=='undefined'){if(dataSource.RegisteredCheckoutEvent.toUpperCase()==="Y"){a="Registered";}else{a="Guest";}}else if(typeof dataSource.LoggedIn!=='undefined'){if(dataSource.LoggedIn.toString().toLowerCase()==="true"){a="Registered";}else{a="Guest";}}}
return a;};DataLayerExtractors.CompareItemQuantity=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ProductIDList!=='undefined'&&typeof dataSource.ProductIDList.length!=='undefined'){a=dataSource.ProductIDList.length;if(a==1&&typeof dataSource.PriceList!=='undefined'&&typeof dataSource.PriceList.length!=='undefined'&&dataSource.PriceList.length===0){a="0";}}else if(typeof dataSource!=='undefined'&&typeof dataSource.ProductArray!=='undefined'){a=dataSource.ProductArray.length.toString();}
if(a==="0"){a="Zero";}
return a;};DataLayerExtractors.CreateAccountLinkShown=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.CreateAccountShown!=='undefined'){a=dataSource.CreateAccountShown;}
return a;};DataLayerExtractors.CrossSellClickDetail=function(dataSource){var a="";if(_dsgTag.HelperFunctions.GetQueryStringValue("recid")){a=_dsgTag.HelperFunctions.GetQueryStringValue("recid");}else if(_dsgTag.HelperFunctions.GetQueryStringValue("sponsorrecid")){a=_dsgTag.HelperFunctions.GetQueryStringValue("sponsorrecid");}
return a;};DataLayerExtractors.DataLayerExists=function(dataSource){return(typeof(dataSource)!=='undefined').toString();};DataLayerExtractors.EDDInformation=function(dataSource){var a=[];if(typeof dataSource!=='undefined'&&typeof dataSource.EDDMessage!=='undefined'){a=dataSource.EDDMessage;}
return a;};DataLayerExtractors.ErrorMessage=function(dataSource){var a="";var uniqueValues=[];var CleanUpErrorMessage=function anon(input){return input;};if(typeof dataSource!=='undefined'&&typeof dataSource.ErrorMessage!=='undefined'){if(typeof dataSource.ErrorMessage=='string'){uniqueValues=[CleanUpErrorMessage(dataSource.ErrorMessage)];}else{for(var i=0;i<dataSource.ErrorMessage.length;i++){message=CleanUpErrorMessage(dataSource.ErrorMessage[i]);if(typeof uniqueValues.indexOf==="undefined"||uniqueValues.indexOf(message)<0)
uniqueValues.push(message);};}}
if(typeof dataSource!=="undefined"&&typeof dataSource.ProductsInFamily!=="undefined"&&dataSource.ProductsInFamily=="0"){uniqueValues.push("No products match your filter criteria try adjusting your filters.");}
a=uniqueValues.join(",");return a;};DataLayerExtractors.ErrorPageType=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.Page!=='undefined'&&(dataSource.Page=="Error Page"||dataSource.Page=="404 Error")){a="errorPage";}else if(typeof dataSource!=='undefined'&&typeof dataSource.ErrorID!=='undefined'&&dataSource.ErrorID.length>0){if(dataSource.ErrorID[0]=="404"||dataSource.ErrorID[0]=="_ERR_CMD_CMD_NOT_FOUND"){a="errorPage";}}else if(window.location.pathname.match(/404$|500$/)){a="errorPage";}else if(document.title=="Generic Error"){a="errorPage";}else if(typeof dataSource!=='undefined'&&dataSource.PageType==="error"){a="errorPage";}
return a;};DataLayerExtractors.EventType=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.EventType!=='undefined'){a=dataSource.EventType;}
return a;};DataLayerExtractors.FamilyID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.FamilyID!=='undefined'){a=dataSource.FamilyID;}else if(typeof dataSource!=='undefined'&&typeof dataSource.CategoryID!=='undefined'){a=dataSource.CategoryID;}
return a;};DataLayerExtractors.FamilyName=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.FamilyName!=='undefined'){a=dataSource.FamilyName;}else if(typeof dataSource!=='undefined'&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName;}else{a=_dsgTag.HelperFunctions.ScrapeTextViaSelector("#navigation > div.content_wrapper_position > div > div.content_left_shadow > div > div > div.widget_title_container_position > div > h1");}
return a;};DataLayerExtractors.FamilyProductCount=function(dataSource){var a=0;if(typeof dataSource!=='undefined'&&typeof dataSource.ProductsInFamily!=='undefined'){a=parseInt(dataSource.ProductsInFamily);if(isNaN(a)){a=0;}}
return a;};DataLayerExtractors.HashedEmailAddress=function(dataSource){var out="";if(typeof dataSource.EAthlete!="undefined"){out=dataSource.EAthlete.toUpperCase();}else if(typeof dataSource.checkout!="undefined"&&typeof dataSource.checkout.shopper!="undefined"&&typeof dataSource.checkout.shopper.analytics!="undefined"&&typeof dataSource.checkout.shopper.analytics.hashed_identifier!="undefined"){out=dataSource.checkout.shopper.analytics.hashed_identifier.toUpperCase();}
return out;};DataLayerExtractors.InternalSearchDYM=function(dataSource){var a="";var dataSource;if(_dsgTag.SearchTestData){dataSource=_dsgTag.SearchTestData;}else if(typeof dataSource!=='undefined'){dataSource=dataSource;}
var enteredTerm=_dsgTag.DataLayer.GetValue("InternalSearchTerm");if(typeof dataSource!=='undefined'){var DYMUsed=dataSource.DYMUsed||(typeof dataSource.DYMType!=='undefined'&&dataSource.DYMType!=="N/A"?"Y":"N");if(DYMUsed==='Y'&&typeof dataSource.DYMTerm!=='undefined'&&dataSource.DYMTerm!==""&&enteredTerm){try{term=dataSource.DYMTerm.toLowerCase();term=decodeURIComponent(decodeURIComponent(term));}catch(x){}
a=term+"|"+enteredTerm;}}
return a;};DataLayerExtractors.InternalSearchResultsCount=function(dataSource){var a="";if(_dsgTag.SearchTestData){a=_dsgTag.SearchTestData.SearchResultCount.toString();}else if(window.location.pathname.indexOf("/s/no-search-results-found")>=0){a="0";}else if(typeof dataSource!=='undefined'&&typeof dataSource.ResultsCount!=='undefined'&&dataSource.ResultsCount!==''){a=dataSource.ResultsCount;}else if(typeof dataSource!=='undefined'&&typeof dataSource.SearchResultCount!=='undefined'&&dataSource.SearchResultCount!==''){a=dataSource.SearchResultCount;}else if(typeof dataSource!=='undefined'&&typeof dataSource.ProductsInFamily!=='undefined'&&dataSource.ProductsInFamily!==''){a=dataSource.ProductsInFamily;}else if(window.location.pathname.indexOf("/p/")>=0){a="1";}
return a;};DataLayerExtractors.InternalSearchTerm=function(dataSource){var a="";if(_dsgTag.SearchTestData){a=_dsgTag.SearchTestData.EnteredSearchTerm;}else if(typeof dataSource!=='undefined'&&typeof dataSource.EnteredSearchTerm!=='undefined'&&dataSource.EnteredSearchTerm!==""){a=dataSource.EnteredSearchTerm.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("searchTerm")){if(_dsgTag.HelperFunctions.GetQueryStringValue("SearchType")==="Category"&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("SearchType")==="Category"&&typeof dataSource.FamilyName!=='undefined'){a=dataSource.FamilyName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType")==="Category"&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType")==="Category"&&typeof dataSource.FamilyName!=='undefined'){a=dataSource.FamilyName.toLowerCase();}else{a=_dsgTag.HelperFunctions.GetQueryStringValue("searchTerm").toLowerCase();}}else if(_dsgTag.HelperFunctions.GetQueryStringValue("enteredSearchTerm")){if(_dsgTag.HelperFunctions.GetQueryStringValue("SearchType")==="Category"&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("SearchType")==="Category"&&typeof dataSource.FamilyName!=='undefined'){a=dataSource.FamilyName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType")==="Category"&&typeof dataSource.CategoryName!=='undefined'){a=dataSource.CategoryName.toLowerCase();}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType")==="Category"&&typeof dataSource.FamilyName!=='undefined'){a=dataSource.FamilyName.toLowerCase();}else{a=_dsgTag.HelperFunctions.GetQueryStringValue("enteredSearchTerm").toLowerCase();}}else if(_dsgTag.HelperFunctions.GetQueryStringValue("manufacturer")){a="Brand: "+_dsgTag.HelperFunctions.GetQueryStringValue("manufacturer");}else if((_dsgTag.HelperFunctions.GetQueryStringValue("Product")==="ProductSuggest"||_dsgTag.HelperFunctions.GetQueryStringValue("Product")==="SuggestedPinnedProduct")&&typeof dataSource.ProductName!=='undefined'){a=dataSource.ProductName.toLowerCase();}
a=decodeURIComponent(a).replace(/\+/g," ");return a;};DataLayerExtractors.InternalSearchType=function(dataSource){var a="";var dataSource;if(_dsgTag.SearchTestData){dataSource=_dsgTag.SearchTestData;}else if(typeof dataSource!=='undefined'){dataSource=dataSource;}
var getAllEcodesAndSKUs=function anon(){var output=[];if(typeof dataSource.ProductDetails!=='undefined'){for(var i=0;i<dataSource.ProductDetails.length;i++){output.push(dataSource.ProductDetails[i].ProductID);for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length;j++){output.push(dataSource.ProductDetails[i].ProductSKUDetails[j].ProductSKU);}}}
return output.join(";");};if(typeof dataSource!=='undefined'){var searchTerm=_dsgTag.DataLayer.GetValue("InternalSearchTerm");var results=_dsgTag.DataLayer.GetValue("InternalSearchResultsCount");var referrer=dataSource.ReferringPageURL||document.referrer;var DYMUsed=dataSource.DYMUsed||(typeof dataSource.DYMType!=='undefined'&&dataSource.DYMType!==""&&dataSource.DYMType!=="N/A"?"Y":"N");if(searchTerm&&(!_dsgTag.previousPageValues["v1"]||referrer.indexOf("SearchDisplay")===-1||DYMUsed==='Y')){a="Keyword";if(results&&results=="0"){a="Failed";}
else if(typeof dataSource.SearchType!=="undefined"&&dataSource.SearchType!==""){a=dataSource.SearchType;if(dataSource.DYMType==="DYMAuto"||dataSource.DYMType==="DYM Auto"){a="DYM Auto";}else if(dataSource.DYMType==="DYMClicked"||dataSource.DYMType==="DYM Clicked"){a="DYM Clicked";}else if(dataSource.FuzzyMatch){a="Fuzzy Search";}
var IDList=getAllEcodesAndSKUs();if(IDList&&(typeof Array.prototype.indexOf!=="undefined"&&IDList.indexOf(searchTerm)>=0||/^\d+$/g.test(searchTerm))){a="Search By Product ID";}}
else if(_dsgTag.HelperFunctions.GetQueryStringValue("urlRequestType")){if(dataSource.PageType==="Search Page"){a="Keyword Searches - Brand";}
else if(dataSource.PageType==="Product Page"){a="Keyword Searches - Success Suggested";}}
else if(DYMUsed==='Y'){if(dataSource.DYMType.toLowerCase().indexOf('auto')>=0){a="DYM Auto";}else{a="DYM Clicked";}}else if(typeof dataSource.SuggestionSelected!=='undefined'&&dataSource.SuggestionSelected==="Y"){a="Keyword Searches - Success Suggested";}else if(_dsgTag.HelperFunctions.GetQueryStringValue("Product")==="ProductSuggest"){a="Suggested Product";}else if(_dsgTag.HelperFunctions.GetQueryStringValue("Product")==="SuggestedPinnedProduct"){a="Suggested Pinned Product";}else if(dataSource&&(dataSource.PageType==="Product Page"||(typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0))){a="Search By Product ID";}else if(dataSource&&(dataSource.PageType==="Category Page"||dataSource.PageType==="Family Page")){a="Keyword Searches - Success Suggested";}else if(_dsgTag.HelperFunctions.GetQueryStringValue("SearchType")){a="Suggested "+_dsgTag.HelperFunctions.GetQueryStringValue("SearchType");}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType")){a="Suggested "+_dsgTag.HelperFunctions.GetQueryStringValue("ddSearchType");}
if(a==="Keyword"&&_dsgTag.HelperFunctions.GetQueryStringValue("DSGSearchType")){a=_dsgTag.HelperFunctions.GetQueryStringValue("DSGSearchType");}}
if(typeof dataSource!=='undefined'&&a&&(dataSource.MLRank||dataSource.MLSpelling||dataSource.MLRewrite)){a="ML_"+a;}}
return a.replace(/\+/g," ");};DataLayerExtractors.LoyaltyID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.LoyaltyID!=='undefined'){a=dataSource.LoyaltyID;}else if(typeof dataSource!=='undefined'&&typeof dataSource.RewardsCardNumber!=='undefined'){a=dataSource.RewardsCardNumber;}else if(typeof dataSource!=='undefined'&&typeof dataSource.checkout!=='undefined'&&typeof dataSource.checkout.score_card!=='undefined'&&typeof dataSource.checkout.score_card.number!=='undefined'){a=dataSource.checkout.score_card.number;}
a=/^\w+$/i.test(a)?a:"";if(a==="NA"){a="";}
return a;};DataLayerExtractors.LoyaltyIDNoFilter=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.LoyaltyID!=='undefined'){a=dataSource.LoyaltyID;}else if(typeof dataSource!=='undefined'&&typeof dataSource.RewardsCardNumber!=='undefined'){a=dataSource.RewardsCardNumber;}else if(typeof dataSource!=='undefined'&&typeof dataSource.checkout!=='undefined'&&typeof dataSource.checkout.score_card!=='undefined'&&typeof dataSource.checkout.score_card.number!=='undefined'){a=dataSource.checkout.score_card.number;}
if(a==="NA"){a="";}
return a;};DataLayerExtractors.LoyaltyPoints=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.PointsBalance!=='undefined'){a=dataSource.PointsBalance;}else if(typeof dataSource!=='undefined'&&typeof dataSource.LoyaltyPointsBalance!=='undefined'){a=dataSource.LoyaltyPointsBalance;}
return a;};DataLayerExtractors.MCSalesCatalogDetails=function(dataSource){if(typeof dataSource!=='undefined'&&typeof dataSource.MCSalesCatalogDetails!=='undefined'){return dataSource.MCSalesCatalogDetails;}
return[];};DataLayerExtractors.MachineLearningSearchValues=function(dataSource){a=[];if(typeof dataSource!=='undefined'){if(dataSource.MLGroup||dataSource.MLBypass||dataSource.MLRank||dataSource.MLRewrite||dataSource.MLSpelling){a.push(dataSource.MLGroup);a.push(dataSource.MLBypass);a.push(dataSource.MLRank);a.push(dataSource.MLRewrite);a.push(dataSource.MLSpelling);}}
return a;};DataLayerExtractors.MobileCustomerID=function(dataSource){a="";if(_dsgTag.HelperFunctions.GetQueryStringValue("customer_identifier")){a=_dsgTag.HelperFunctions.GetQueryStringValue("customer_identifier");}
return a;};DataLayerExtractors.OrderDiscountTotal=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.DiscountTotal!=='undefined'){a=dataSource.DiscountTotal.toString().replace(",","");}else if(typeof dataSource!=='undefined'&&typeof dataSource.TotalOrderDiscount!=='undefined'){a=dataSource.TotalOrderDiscount.toString().replace(",","");}
return a;};DataLayerExtractors.OrderID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.OrderID!=='undefined'){a=dataSource.OrderID;}
else if(_dsgTag.HelperFunctions.GetQueryStringValue("orderId")){a=_dsgTag.HelperFunctions.GetQueryStringValue("orderId");if(!(/^\d+$/g.test(a))){a="";}}
return a;};DataLayerExtractors.OrderLevelPromoCodes=function(dataSource){var a=[];if(typeof dataSource!=='undefined'&&typeof dataSource.OrderLevelPromoCodes!=='undefined'){a=dataSource.OrderLevelPromoCodes;}
return a;};DataLayerExtractors.OrderPaymentMethods=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&(typeof dataSource.PaymentMethod!=='undefined'||typeof dataSource.PaymentType!=='undefined')){var b=dataSource.PaymentMethod||dataSource.PaymentType;var c=[];for(var i=0;i<b.length;i++){val=b[i];if(typeof c.indexOf==="undefined"||c.indexOf(val)<0)
c.push(val);}
c.sort();a=c.join(": ");}
if(a===""&&typeof dataSource!=='undefined'&&typeof dataSource.PromoCodesList==="object"&&dataSource.PromoCodesList.length>0&&dataSource.PromoCodesList[0].match(/^RWD|CC|CS|FSH/i)){a="No Tender Required";}
return a;};DataLayerExtractors.OrderShippingDiscount=function(dataSource){var a="0.00";if(typeof dataSource!=='undefined'&&typeof dataSource.ShipDiscountAmount!=='undefined'){a=Math.abs(dataSource.ShipDiscountAmount.toString().replace(",",""));}else if(typeof dataSource!=='undefined'&&typeof dataSource.ShippingDiscountAmount!=='undefined'){a=Math.abs(dataSource.ShippingDiscountAmount.toString().replace(",",""));}
return a;};DataLayerExtractors.OrderShippingMethod=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ShipMethod!=='undefined'){a=dataSource.ShipMethod;}else if(typeof dataSource!=='undefined'&&typeof dataSource.ShippingMethod!=='undefined'){var b=dataSource.ShippingMethod;var c=[];for(var i=0;i<b.length;i++){val=b[i];if(typeof c.indexOf==="undefined"||c.indexOf(val)<0)
c.push(val);}
c.sort();a=c.join(": ");}
return a;};DataLayerExtractors.OrderShippingRevenue=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ShipAmount!=='undefined'){a=dataSource.ShipAmount.toString().replace(",","");}else if(typeof dataSource!=='undefined'&&typeof dataSource.ShippingTotal!=='undefined'){a=dataSource.ShippingTotal.toString().replace(",","");}
return a;};DataLayerExtractors.OrderTax=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.TaxAmount!=='undefined'){a=dataSource.TaxAmount.toString().replace(",","");}else if(typeof dataSource!=='undefined'&&typeof dataSource.TaxTotal!=='undefined'){a=dataSource.TaxTotal.toString().replace(",","");}else if(typeof dataSource!=='undefined'&&typeof dataSource.checkout!=='undefined'){a=dataSource.checkout.pricing.total_tax.toString().replace(",","");}
return a;};DataLayerExtractors.OrderTotal=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.OrderTotal!=='undefined'){a=dataSource.OrderTotal.toString().replace(",","");}
return a;};DataLayerExtractors.PageName=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.Page!=='undefined'){a=dataSource.Page;}else if(typeof dataSource.PageName!=='undefined'){a=dataSource.PageName;}}
return a;};DataLayerExtractors.PageType=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.PageType!=='undefined'){a=dataSource.PageType;}
else if(typeof dataSource.EventType!=='undefined'&&dataSource.EventType==="CheckoutStep"&&typeof dataSource.CheckoutStep!=="undefined"){a=dataSource.CheckoutStep;}}
return a;};DataLayerExtractors.PageURL=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.PageURL!=='undefined'&&dataSource.PageURL!==''){a=dataSource.PageURL;if(dataSource.PageURL.indexOf(window.location.protocol)<0)
a=window.location.protocol+a;}else if(typeof dataSource!=='undefined'&&typeof dataSource.PageUrl!=='undefined'&&dataSource.PageUrl!==''){a=dataSource.PageUrl;if(dataSource.PageUrl.indexOf(window.location.protocol)<0)
a=window.location.protocol+a;}else{a=window.location.href;}
return a.toLowerCase();};DataLayerExtractors.PDPPaypalEligible=function(dataSource){var a=false;if(typeof dataSource!=='undefined'&&typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0&&typeof dataSource.ProductDetails[0].PayPaylEliglible!=="undefined"){a=dataSource.ProductDetails[0].PayPaylEliglible;}
return a;};DataLayerExtractors.PDPPromoMessage=function(dataSource){if(typeof dataSource!=="undefined"&&typeof dataSource.PromoMessage!=="undefined"){return dataSource.PromoMessage;}
return[];};DataLayerExtractors.PriceRange=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0&&typeof dataSource.ProductDetails[0].ProductSKUDetails!=='undefined'){var min=9999999;var max=0;for(var i=0;i<dataSource.ProductDetails[0].ProductSKUDetails.length;i++){var currentPrice=parseFloat(dataSource.ProductDetails[0].ProductSKUDetails[i].SKUCurrentPrice);if(isNaN(currentPrice)){return"Price in Cart";}
max=(currentPrice>max)?currentPrice:max;min=(currentPrice<min)?currentPrice:min;}
a=(min+(min<max?" - "+max:"")).toString();}
return a.toLowerCase();};DataLayerExtractors.PriceType=function(dataSource){var a="";var GetTypeOfPrice=function anon(currentPrice,listPrice){var output="Price Unavailable";if(currentPrice.toString().toLowerCase().indexOf("see")>-1){return"Price in Cart";}
listPrice=listPrice||0;currentPrice=parseFloat(currentPrice);listPrice=parseFloat(listPrice);if(currentPrice>0){var cents=currentPrice.toFixed(2).split(".")[1];switch(cents){case"02":case"92":case"93":case"97":{output="Clearance";break;}
case"98":{output="Sale";break;}
case"99":default:{if(currentPrice<listPrice){output="Offer Less Than List"}else{output="Regular";}
break;}}}
return output;};if(typeof dataSource!=='undefined'&&typeof dataSource.CurrentPrice!=='undefined'){a=GetTypeOfPrice(dataSource.CurrentPrice.toString());}else if(typeof dataSource!=='undefined'&&typeof dataSource.CurrentPricePerUnit!=='undefined'&&typeof dataSource.ListPricePerUnit!=='undefined'){a=GetTypeOfPrice(dataSource.CurrentPricePerUnit.toString(),dataSource.ListPricePerUnit.toString());}else if(typeof dataSource!=='undefined'&&typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0&&typeof dataSource.ProductDetails[0].ProductSKUDetails!=='undefined'){var range=false;var prevPrice=-1;var types=[];for(var i=0;i<dataSource.ProductDetails[0].ProductSKUDetails.length;i++){var currentPrice=dataSource.ProductDetails[0].ProductSKUDetails[i].SKUCurrentPrice;var listPrice=dataSource.ProductDetails[0].ProductSKUDetails[i].SKUListPrice;var newPriceType=GetTypeOfPrice(currentPrice,listPrice);if(newPriceType==="Price in Cart"){types=[newPriceType];range=false;break;}
range=range||(prevPrice>0&&prevPrice!==currentPrice);prevPrice=currentPrice;types.push(newPriceType);}
var uniqueValues=[];for(var i=0;i<types.length;i++){if(typeof uniqueValues.indexOf==="undefined"||uniqueValues.indexOf(types[i])===-1)
uniqueValues.push(types[i]);}
a=uniqueValues.sort().join("-");if(range)
a="Range: "+a;}
return a;};DataLayerExtractors.ProductAvailability=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.ProductAvailability!=='undefined'){a=dataSource.ProductAvailability;}else if(typeof dataSource.ProductDetails!=='undefined'){var inStock=false;try{inStock=(dataSource.ProductDetails.length>0&&dataSource.ProductDetails[0].ProductSKUDetails.length>0)}catch(ex){}
a=inStock?"true":"Out of Stock";}else if(typeof dataSource.ProductDetails==='undefined'){a="Out of Stock";}}
return a;};DataLayerExtractors.ProductBuyable=function(dataSource){var a="";if(typeof dataSource!=="undefined"&&typeof dataSource.Buyable!=="undefined"){a=dataSource.Buyable.toLowerCase()!="n";}else if(typeof dataSource!=="undefined"&&typeof dataSource.ProductDetails!=="undefined"){var buyable=false;for(var i=0;i<dataSource.ProductDetails.length&&!buyable;i++){for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length&&!buyable;j++){buyable=(typeof dataSource.ProductDetails[i].ProductSKUDetails[j].AddtoCartAvailable!=="undefined"&&dataSource.ProductDetails[i].ProductSKUDetails[j].AddtoCartAvailable.toString().toLowerCase()==="true")||(typeof dataSource.ProductDetails[i].ProductSKUDetails[j].BOPISAvailable!=="undefined"&&dataSource.ProductDetails[i].ProductSKUDetails[j].BOPISAvailable.toString().toLowerCase()==="true");}}
a=buyable;}
return a;};DataLayerExtractors.ProductCurrentPriceList=function(dataSource){var a=[];if(typeof dataSource!=='undefined'){if(typeof dataSource.ProductDetails!=='undefined'){var PriceArray=[];for(var i=0;i<dataSource.ProductDetails.length;i++){for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length;j++){PriceArray.push(dataSource.ProductDetails[i].ProductSKUDetails[j].SKUCurrentPrice);}}
a=PriceArray;}}
return a;};DataLayerExtractors.ProductDetails=function(dataSource){var a={};if(typeof dataSource!=="undefined"&&typeof dataSource.ProductDetails!=="undefined"){a=dataSource.ProductDetails;}
return a;};DataLayerExtractors.ProductSKUEdd=function(dataSource){var a=[];if(typeof dataSource!=="undefined"&&typeof dataSource.AllSkuEDD!=="undefined"){a=dataSource.AllSkuEDD;}
return a;};DataLayerExtractors.ProductFindingMethod=function(dataSource){var a="Browse";var b;if(typeof window.s!=="undefined"){var prevPageName=_dsgTag.previousPageValues["v27"];var referringURL="";if(typeof dataSource!=="undefined"&&typeof dataSource.ReferringPageURL!=="undefined"){referringURL=dataSource.ReferringPageURL;}else if(document.referrer){referringURL=document.referrer;}
if(_dsgTag.DataLayer.GetValue("ProductPageTemplateType",dataSource).toLowerCase()==="quickview"){if(_dsgTag.pageType===_dsgTag.PageTypes.Search){a="Internal Search";if(_dsgTag.HelperFunctions.GetValue("Refinement")){a="Search Page Refinement";}}
else if(_dsgTag.pageType===_dsgTag.PageTypes.Family){a="Browse";if(_dsgTag.HelperFunctions.GetValue("Refinement")){a="Family Page Refinement";}}}
else if(_dsgTag.previousPageValues["Refinement"]){if(prevPageName&&prevPageName.indexOf("Search: Results")>-1)
a="Search Page Refinement";else if(prevPageName&&prevPageName.indexOf("Family:")>-1)
a="Family Page Refinement";}
else if(b=_dsgTag.HelperFunctions.GetQueryStringValue("recid")){b=b.toLowerCase();a="Other";if(b.indexOf("category_rr")>-1)
a="Category Page - Recently Viewed";else if(b.indexOf("category")>-1)
a="Category Page";else if(b.indexOf("family1")>-1)
a="Family Page - Recently Viewed";else if(b.indexOf("family_rr")>-1)
a="Family Page - Recommendations";else if(b.indexOf("family")>-1)
a="Family Page";else if(b.indexOf("oosproduct_rr")>-1)
a="OOS Product - Similar Products";else if(b.indexOf("oosproduct2_rr")>-1)
a="OOS Product - Recommendations";else if(b.indexOf("oosproduct3_rr")>-1)
a="OOS Product - Recently Viewed";else if(b.indexOf("oosproduct")>-1)
a="OOS Product";else if((b.indexOf("product1_rr")>-1)||(b.indexOf("product1landing_rr")>-1))
a="Product Page - Recently Viewed";else if((b.indexOf("product2_rr")>-1)||(b.indexOf("product2landing_rr")>-1))
a="Product Page - Customers Also Bought";else if((b.indexOf("product_rr")>-1)||(b.indexOf("productlanding_rr")>-1))
a="Product Page - Recommendations";else if(b.indexOf("pdplanding_rr")>-1)
a="Product Page - External Land Recommendations";else if(b.indexOf("product")>-1)
a="Product Page";else if(b.indexOf("rechub")>-1)
a="Recommendation Hub";else if(b.indexOf("nosearch1_rr")>-1)
a="Failed Search Results - Recently Viewed";else if(b.indexOf("nosearch_rr")>-1)
a="Failed Search Results - Recommendations";else if(b.indexOf("nosearch")>-1)
a="Failed Search Results";else if(b.indexOf("search_rr")>-1)
a="Search Results - Recently Viewed";else if(b.indexOf("search2_rr")>-1)
a="Search Results - Recommendations";else if(b.indexOf("search")>-1)
a="Search Results";else if(b.indexOf("store")>-1)
a="Store Page";else if(b.indexOf("email")>-1)
a="Email";else if(b.indexOf("cartmodal")>-1)
a="Cart Modal";else if(b.indexOf("cart")>-1)
a="Shopping Cart";else if((b.indexOf("home_rr")>-1)||(b.indexOf("homeratings_rr")>-1))
a="Home Page - Recommendations";else if((b.indexOf("home1_rr")>-1)||(b.indexOf("home3_rr")>-1))
a="Home Page - Recently Viewed";else if(b.indexOf("home")>-1)
a="Home Page";else if((b.indexOf("orderconfirm")>-1)||(prevPageName.indexOf("Final Purchase")>-1))
a="Order Confirmation";else if(b.indexOf("nativeapphome")>-1)
a="Native App";else if(b.indexOf("collections")>-1)
a="BOPIS Page";else if(b.indexOf("backinstock_rr")>-1)
a="Notify Me Modal";a="Cross Sell: "+a;}
else if(b=_dsgTag.HelperFunctions.GetQueryStringValue("sponsorrecid")){b=b.toLowerCase();a="Other";if(b.indexOf("homepage")>-1)
a="Home Page";else if(b.indexOf("catpage")>-1)
a="Category Page";else if(b.indexOf("browsepage")>-1)
a="Family Page";else if(b.indexOf("nullsearchpage")>-1)
a="Failed Search";else if(b.indexOf("searchpage")>-1)
a="Search";else if((b.indexOf("prodpage")>-1)&&(_dsgTag.previousPageValues["v28"]==="Product Detail")&&_dsgTag.HelperFunctions.GetValue("prevPageOosPDP"))
a="OOS PDP";else if(b.indexOf("prodpage")>-1)
a="Product Page";else if(b.indexOf("rechub")>-1)
a="Recommendation Hub";a="Sponsored: "+a;}
else if(_dsgTag.HelperFunctions.GetQueryStringValue("camp"))
a="External Campaign";else if(s.getReferringInternalSite())
a="Referring Internal Website";else if(prevPageName&&prevPageName.indexOf("Shopping Bag: Cart")>-1)
a="Shopping Cart";else if(prevPageName&&prevPageName.indexOf("Search: Results")>-1)
a="Internal Search";else if(referringURL&&referringURL.indexOf("weeklyad.")>-1)
a="Online Circular";else if(_dsgTag.previousPageValues["v1"]||s.eVar1){a="Internal Campaign";}
else if(referringURL&&referringURL.indexOf("/products/")>-1)
a="Browse: SearchDex";else if(referringURL&&referringURL.split('/')[2].indexOf(s.server)<0)
a="External Source";}
return a;};DataLayerExtractors.ProductFulfillmentMethodList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){var FulfillmentArray=[];if(typeof dataSource.ProductArray!=='undefined'){for(var i=0;i<dataSource.ProductArray.length;i++){FulfillmentArray.push(dataSource.ProductArray[i].FulfillmentMethod);}
a=FulfillmentArray;}
else if(typeof dataSource.ProductIDList!=='undefined'){for(var i=0;i<dataSource.ProductIDList.length;i++){FulfillmentArray.push("Ship to Customer");}
a=FulfillmentArray;}}
return a;};DataLayerExtractors.ProductID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ProductID!=='undefined'){a=dataSource.ProductID;}
if(!a&&typeof dataSource!=='undefined'&&typeof dataSource.PageName!=='undefined'){if(dataSource.PageName.split(" : ").length>=2){a=dataSource.PageName.split(" : ")[1];}}
if(!a&&(results=/\/p\/[^\/]+\/([^?#]+)/g.exec(window.location.href))){a=results[1];}
return a.toUpperCase();};DataLayerExtractors.ProductIDList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.ProductIDList!=='undefined'){a=dataSource.ProductIDList;}else if(typeof dataSource.ProductArray!=='undefined'){var IDArray=[];for(var i=0;i<dataSource.ProductArray.length;i++){IDArray.push(dataSource.ProductArray[i].ProductID);}
a=IDArray;}}
return a;};DataLayerExtractors.ProductLevelDiscountList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.TotalDiscountByProduct!=='undefined'){a=dataSource.TotalDiscountByProduct;}else if(typeof dataSource.ProductArray!=='undefined'){var DiscountArray=[];for(var i=0;i<dataSource.ProductArray.length;i++){DiscountArray.push(parseFloat(dataSource.ProductArray[i].ItemDiscountPerUnit)+parseFloat(dataSource.ProductArray[i].DistributedOrderDiscountPerUnit));}
a=DiscountArray;}}
return a;};DataLayerExtractors.ProductListArray=function(dataSource){if(typeof dataSource!=='undefined'&&typeof dataSource.ProductArray!=='undefined'){return dataSource.ProductArray;}
return[];};DataLayerExtractors.ProductListExists=function(dataSource){return(typeof dataSource!=='undefined'&&typeof dataSource.ProductArray!=='undefined');};DataLayerExtractors.ProductListPriceList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.ProductDetails!=='undefined'){var PriceArray=[];for(var i=0;i<dataSource.ProductDetails.length;i++){for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length;j++){PriceArray.push(dataSource.ProductDetails[i].ProductSKUDetails[j].SKUListPrice);}}
a=PriceArray;}}
return a;};DataLayerExtractors.ProductName=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ProductName!=='undefined'){a=dataSource.ProductName;}
if(!a&&typeof dataSource!=='undefined'&&typeof dataSource.PageName!=='undefined'){if(dataSource.PageName.split(" : ").length>=3){a=dataSource.PageName.split(" : ")[2];}}
return a;};DataLayerExtractors.ProductNameList=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ProductNameList!=='undefined'){a=dataSource.ProductNameList;}
return a;};DataLayerExtractors.ProductOmniStatus=function(dataSource){var a="";if(typeof dataSource!=='undefined'){a="Not Available for Purchase ";if(typeof dataSource.ProductDetails!=='undefined'){var ISA=false;var BOPIS=false;var ATC=false;for(var i=0;i<dataSource.ProductDetails.length&&!(ISA&&BOPIS&&ATC);i++){for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length&&!(ISA&&BOPIS&&ATC);j++){ATC=ATC||(typeof dataSource.ProductDetails[i].ProductSKUDetails[j].AddtoCartAvailable!=="undefined"&&dataSource.ProductDetails[i].ProductSKUDetails[j].AddtoCartAvailable.toString().toLowerCase()==="true")
ISA=ISA||(typeof dataSource.ProductDetails[i].ProductSKUDetails[j].ISAAvailable!=="undefined"&&dataSource.ProductDetails[i].ProductSKUDetails[j].ISAAvailable.toString().toLowerCase()==="true")
BOPIS=BOPIS||(typeof dataSource.ProductDetails[i].ProductSKUDetails[j].BOPISAvailable!=="undefined"&&dataSource.ProductDetails[i].ProductSKUDetails[j].BOPISAvailable.toString().toLowerCase()==="true");}}
a="Unknown/Invalid Status";if(ISA&&BOPIS&&ATC){a="All Channels";}else if(ISA&&BOPIS&&!ATC){a="Not Shippable Online";}else if(ISA&&!BOPIS&&ATC){a="BOPIS Unavailable";}else if(ISA&&!BOPIS&&!ATC){a="Displayable Not Buyable";}else if(!ISA&&!BOPIS&&ATC){a="Online Only";}else if(!ISA&&!BOPIS&&!ATC){a="Not Available for Purchase ";}}}
return a;};DataLayerExtractors.ProductPagePricingGroups=function(dataSource){var a=[];if(typeof dataSource!=='undefined'&&typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0){if(typeof dataSource.ProductDetails[0].SKUPriceingOptions!=='undefined'&&typeof dataSource.ProductDetails[0].SKUPriceingOptions.bucketCount!=='undefined'){var buckets=dataSource.ProductDetails[0].SKUPriceingOptions.bucketCount;if(buckets.Clearancearray&&buckets.Clearancearray.length>0){a.push(buckets.Clearancearray);}
if(buckets.MarkDownArray&&buckets.MarkDownArray.length>0){a.push(buckets.MarkDownArray);}
if(buckets.RegularArray&&buckets.RegularArray.length>0){a.push(buckets.RegularArray);}}
if(a.length===0){var defaultSKUList=[];for(var i=0;i<dataSource.ProductDetails[0].ProductSKUDetails.length;i++){defaultSKUList.push(dataSource.ProductDetails[0].ProductSKUDetails[i].ProductSKU);}
a.push(defaultSKUList);}}
return a;};DataLayerExtractors.ProductPageTemplateType=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.PageTemplate!=='undefined'){a=dataSource.PageTemplate;}
return a;};DataLayerExtractors.ProductPriceList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.PriceList!=='undefined'){a=dataSource.PriceList;}else if(typeof dataSource.ListPricePerProductIDList!=='undefined'&&dataSource.ListPricePerProductIDList.length>0&&dataSource.ListPricePerProductIDList[0]){a=dataSource.ListPricePerProductIDList;}else if(typeof dataSource.UnitPricePerProductIDList!=='undefined'&&dataSource.UnitPricePerProductIDList.length>0&&dataSource.UnitPricePerProductIDList[0]){a=dataSource.UnitPricePerProductIDList;}else if(typeof dataSource.ProductArray!=='undefined'){var PriceArray=[];for(var i=0;i<dataSource.ProductArray.length;i++){var totalPrice=dataSource.ProductArray[i].CurrentPricePerUnit;if(typeof dataSource.ProductArray[i].DistributedOrderDiscountPerUnit!=="undefined"){totalPrice=totalPrice-dataSource.ProductArray[i].DistributedOrderDiscountPerUnit;}
PriceArray.push(totalPrice);}
a=PriceArray;}else if(typeof dataSource.ProductDetails!=='undefined'){var PriceArray=[];for(var i=0;i<dataSource.ProductDetails.length;i++){for(var j=0;j<dataSource.ProductDetails[i].ProductSKUDetails.length;j++){PriceArray.push(dataSource.ProductDetails[i].ProductSKUDetails[j].SKUCurrentPrice);}}
a=PriceArray;}}
return a;};DataLayerExtractors.ProductQuantityList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.QtyPerProductIDList!=="undefined"){a=dataSource.QtyPerProductIDList;}else if(typeof dataSource.ProductArray!=="undefined"){var QTYArray=[];for(var i=0;i<dataSource.ProductArray.length;i++){if(typeof dataSource.ProductArray[i].ProductQty!=="undefined"){QTYArray.push(dataSource.ProductArray[i].ProductQty.toString().replace(",",""));}}
a=QTYArray;}}
return a;};DataLayerExtractors.ProductRetunsArray=function(dataSource){if(typeof dataSource!=='undefined'&&typeof dataSource.Products!=='undefined'){return dataSource.Products;}
return[];};DataLayerExtractors.ProductSKUList=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.ProductSKUList!=='undefined'){a=dataSource.ProductSKUList;}else if(typeof dataSource.ProductSkuList!=='undefined'){a=dataSource.ProductSkuList;}else if(typeof dataSource.ProductArray!=='undefined'){var SKUArray=[];for(var i=0;i<dataSource.ProductArray.length;i++){SKUArray.push(dataSource.ProductArray[i].ProductSKU);}
a=SKUArray;}else if(typeof dataSource.ProductDetails!=='undefined'&&dataSource.ProductDetails.length>0&&typeof dataSource.ProductDetails[0].ProductSKUDetails!=="undefined"){var SKUArray=[];for(var i=0;i<dataSource.ProductDetails[0].ProductSKUDetails.length;i++){SKUArray.push(dataSource.ProductDetails[0].ProductSKUDetails[i].ProductSKU);}
a=SKUArray;}}
return a;};DataLayerExtractors.ProductsPerPage=function(dataSource){var a="";if(typeof dataSource!=="undefined"&&typeof dataSource.ProductPerPage!=="undefined"){a=dataSource.ProductPerPage;}
return a;};DataLayerExtractors.RegistrationOccured=function(dataSource){var a=false;if(typeof dataSource!=="undefined"&&typeof dataSource.RegistrationOccured!=="undefined"){a=dataSource.RegistrationOccured.toLowerCase()==="true";}
return a;};DataLayerExtractors.ReferringPageURL=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ReferringPageURL!=='undefined'&&dataSource.ReferringPageURL!==""){a=dataSource.ReferringPageURL;if(dataSource.ReferringPageURL.indexOf(window.location.protocol)<0)
a=window.location.protocol+a;}else if(typeof dataSource!=='undefined'&&typeof dataSource.ReferringPageUrl!=='undefined'&&dataSource.ReferringPageUrl!==""){a=dataSource.ReferringPageUrl;if(dataSource.ReferringPageUrl.indexOf(window.location.protocol)<0)
a=window.location.protocol+a;}else if(document.referrer){a=document.referrer;}
return a.toLowerCase();};DataLayerExtractors.ReviewAverage=function(dataSource){var a="";var span=document.querySelector(".bv-rating [itemprop='ratingValue'], div.reviews > p > span");if(span){a=span.innerText;if(a===""){var starOverlayWidth=(span.getAttribute("style").match(/ ([\d]+)%/)[1])/100;a=Math.round(50*(starOverlayWidth))/10;}}
else if((angularRatings=document.querySelectorAll(".star-rating")).length>0){var starTotal=0.0;for(var i=0;i<angularRatings.length;i++){starTotal+=(angularRatings[i].className.indexOf("fa-star-half-o")>=0?0.5:(angularRatings[i].className.indexOf("star-filled")>=0?1:0));}
a=starTotal;}
return a;};DataLayerExtractors.ReviewCount=function(dataSource){var a="";var span=document.querySelector(".bv-rating-ratio-count [itemprop='reviewCount'], div.reviews > span, .bv_count");if(span){a=span.innerText.replace(/[()]/g,"");}
a=parseInt(a);if(!a){a="";}
return a.toString();};DataLayerExtractors.SavedStoreNumber=function(dataSource){var a="";if(storeCookieValue=_dsgTag.HelperFunctions.GetCookieValue("setStoreCookie")){var storeID=/_(\d+)/g.exec(storeCookieValue);a=(storeID&&storeID.length>0)?storeID[1]:"";}
return a;};DataLayerExtractors.SearchData=function(dataSource){var a="No Trigger";if(typeof dataSource!=='undefined'&&typeof dataSource.SearchData!=='undefined'&&typeof dataSource.SearchData.length!=="undefined"){for(var i=0;i<dataSource.SearchData.length;i++){switch(dataSource.SearchData[i].toLowerCase()){case"no_results":{return"No Search Results";}
case"fuzzy":{a="Automated Configurations";break;}
case"searchrule":case"pinning":case"landing_page":{a="Manual Configurations";break;}
case"mlspelling":case"ml_rank_rescore":case"dym":{a="Machine Learning";break;}}}}
return a;};DataLayerExtractors.ServerTimestamp=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.ServerDate!=='undefined'&&typeof dataSource.ServerTime!=='undefined'){a=(dataSource.ServerDate.split("-")[2]+"-"+dataSource.ServerDate.split("-")[0]+"-"+dataSource.ServerDate.split("-")[1])+"T"+dataSource.ServerTime+"Z";}
return a;};DataLayerExtractors.SignedIn=function(dataSource){var a="";var signedIn=_dsgTag.DataLayer.GetValue("SignedInBoolean",dataSource);a="Logged "+(signedIn?"In":"Out");return a;};DataLayerExtractors.SignedInBoolean=function(dataSource){var a=false;if(typeof dataSource!=='undefined'&&typeof dataSource.SignedIn!=='undefined'){a=(dataSource.SignedIn==="Y");}else if(typeof dataSource!=='undefined'&&typeof dataSource.LoggedIn!=='undefined'){a=(dataSource.LoggedIn.toString().toLowerCase()==="true");}
var loginAuth=localStorage.getItem("idToken");if(loginAuth){loginAuth=JSON.parse(loginAuth);var exp=new Date(loginAuth.exp*1000);if(Date.now()<exp){a=true;}}
return a;};DataLayerExtractors.SignedInEventBoolean=function(dataSource){var a=false;if(typeof dataSource!=='undefined'&&typeof dataSource.SignInEvent!=='undefined'){a=(dataSource.SignInEvent==="Y");}
if(typeof dataSource!=='undefined'&&typeof dataSource.LoggedInOccured!=='undefined'){a=(dataSource.LoggedInOccured==="true");}
if(document.referrer&&document.referrer.toLowerCase().indexOf("oauthcallbackpage")>=0){a=true;}
return a;};DataLayerExtractors.SignedUpBoolean=function(dataSource){var a=false;if(typeof dataSource!=='undefined'&&typeof dataSource.MyAccountSignUp!=='undefined'){a=(dataSource.MyAccountSignUp==="Yes");}
if(typeof dataSource!=='undefined'&&typeof dataSource.RegistrationOccured!=='undefined'){a=(dataSource.RegistrationOccured==="true");}
return a;};DataLayerExtractors.SortMethod=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.SortMethod!=='undefined'){a=dataSource.SortMethod;}}
return a;};DataLayerExtractors.StaticPageID=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&(typeof dataSource.StaticPageID!=='undefined'||typeof dataSource.StaticID!=='undefined')){a=dataSource.StaticPageID||dataSource.StaticID;}
return a;};DataLayerExtractors.StaticPageName=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.PageName!=='undefined'){a=dataSource.PageName;a=a.replace(/\w\S*/g,function anon(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});}
return a;};DataLayerExtractors.StoreLocatorStoreAddress=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.StoreAddress!=='undefined'){a=dataSource.StoreAddress;}
return a;};DataLayerExtractors.StoreLocatorStoreNumber=function(dataSource){var a="";if(typeof dataSource!=='undefined'&&typeof dataSource.StoreNumber!=='undefined'){a=dataSource.StoreNumber;}
return a;};DataLayerExtractors.TSATraffic=function(dataSource){var a="";if(_dsgTag.HelperFunctions.GetQueryStringValue("TSA")!==null){a="TSA="+_dsgTag.HelperFunctions.GetQueryStringValue("TSA");}else if(_dsgTag.HelperFunctions.GetQueryStringValue("ACQ")!==null){a="ACQ="+_dsgTag.HelperFunctions.GetQueryStringValue("ACQ");}
return a;};DataLayerExtractors.WebstoreID=function(dataSource){var a="";if(typeof dataSource!=='undefined'){if(typeof dataSource.checkout!=="undefined"&&typeof dataSource.checkout.shopper!=="undefined"&&!dataSource.checkout.shopper.logged_in){a=dataSource.checkout.shopper.external_key;}
else if(typeof dataSource.UserID!=='undefined'){a=dataSource.UserID;}
if(a<0||a===""||a==="-1002"||isNaN(parseInt(a))){a="";}}
return a;};DataLayerExtractors.ZipCodeEstimation=function(dataSource){var a="";if(storeCookieValue=_dsgTag.HelperFunctions.GetCookieValue("whereabouts")){a=storeCookieValue;}
return a;};for(var key in DataLayerExtractors){this.dataNameList.push(key);}};_dsgTag.DataLayer=new _dsgTag.DataLayer();}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{var e=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!j.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function r(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return r(n.concat(i))?(a(n,i),o(n,i)):NaN}function l(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=_e("log",e,t),this.warn=_e("warn",e,t),this.error=_e("error",e,t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,n=e.cookieName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.cookies;return t&&n&&r?{remove:function(){r.remove(n)},get:function(){var e=r.get(n),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},r.set(n,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:Le,set:Le,remove:Le}}function f(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var n=Se(e);return n.length?n.every(function(e){return!!t[e]}):De(t)}function t(){M(b),O(ce.COMPLETE),_(h.status,h.permissions),m.set(h.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),C.execute(xe)}function n(e){return function(n,i){if(!Ae(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return O(ce.CHANGED),Object.assign(b,ye(Se(n),e)),i||t(),h}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,l=i.optInCookieDomain,c=i.optInStorageExpiry,u=i.isIabContext,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=f.cookies,g=Pe(a);Re(g,"Invalid `previousPermissions`!"),Re(o,"Invalid `preOptInApprovals`!");var m=d({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:p}),h=this,_=le(h),C=ge(),I=Me(g),v=Me(o),S=m.get(),D={},A=function(e,t){return ke(e)||t&&ke(t)?ce.COMPLETE:ce.PENDING}(I,S),y=function(e,t,n){var i=ye(pe,!r);return r?Object.assign({},i,e,t,n):i}(v,I,S),b=be(y),O=function(e){return A=e},M=function(e){return y=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,pe),h.approveAll=h.approve.bind(h,pe),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,v)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?h.on(ce.COMPLETE,e):Le;return!r||r&&h.isComplete||!!o?e(h.permissions):t||C.add(xe,function(){return e(h.permissions)}),n},h.complete=function(){h.status===ce.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(je);D[e.name]||(D[e.name]=e,e.onRegister.call(e,h))},h.execute=Ne(D),Object.defineProperties(h,{permissions:{get:function(){return y}},status:{get:function(){return A}},Categories:{get:function(){return ue}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return h.status===ce.PENDING}},isComplete:{get:function(){return h.status===ce.COMPLETE}},__plugins:{get:function(){return Object.keys(D)}},isIabContext:{get:function(){return u}}})}function g(e,t){function n(){r=null,e.call(e,new f("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function m(){if(window.__cmp)return window.__cmp;var e=window;if(e===window.top)return void Ie.error("__cmp not found");for(var t;!t;){e=e.parent;try{e.frames.__cmpLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void Ie.error("__cmp not found");var n={};return window.__cmp=function(e,i,r){var a=Math.random()+"",o={__cmpCall:{command:e,parameter:i,callId:a}};n[a]=r,t.postMessage(o,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var i=t.__cmpReturn;n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__cmp}function h(){var e=this;e.name="iabPlugin",e.version="0.0.1";var t=ge(),n={allConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);r({callback:i})},e.isApproved=function(e){var t=e.callback,i=e.category,a=e.timeout;if(n.allConsentData)return t(null,s(i,n.allConsentData.vendorConsents,n.allConsentData.purposeConsents));var o=g(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.vendorConsents,a=n.purposeConsents;t(e,s(i,r,a))},a);r({category:i,callback:o})},e.onRegister=function(t){var n=Object.keys(de),i=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.purposeConsents,a=i.gdprApplies,o=i.vendorConsents;!e&&a&&o&&r&&(n.forEach(function(e){var n=s(e,o,r);t[n?"approve":"deny"](e,!0)}),t.complete())};e.fetchConsentData({callback:i})};var r=function(e){var r=e.callback;if(n.allConsentData)return r(null,n.allConsentData);t.add("FETCH_CONSENT_DATA",r);var s={};o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&(s={purposeConsents:r,gdprApplies:o,vendorConsents:l},i("allConsentData",s)),a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(s.consentString=e.consentData,i("allConsentData",s)),t.execute("FETCH_CONSENT_DATA",[null,n.allConsentData])})})},a=function(e){var t=m();t&&t("getConsentData",null,e)},o=function(e){var t=Fe(de),n=m();n&&n("getVendorConsents",t,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!!t[de[e]];return i&&function(){return fe[e].every(function(e){return n[e]})}()}}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};var C,I,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},S={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},D={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},A={CUSTOMERIDS:"getCustomerIDs"},y={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},b={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},O={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},M={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},k={GLOBAL:"global"},E={MESSAGES:v,STATE_KEYS_MAP:S,ASYNC_API_MAP:D,SYNC_API_MAP:A,ALL_APIS:y,FIELDGROUP_TO_FIELD:b,FIELDS:O,AUTH_STATE:M,OPT_OUT:k},T=E.STATE_KEYS_MAP,L=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(T.MCMID,e),r=n.call(this,T.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},P=E.MESSAGES,R=E.ASYNC_API_MAP,w=E.SYNC_API_MAP,F=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(P.GETSTATE),""}}function n(n){this[R[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[w[t]]=function(){return this.findField(t,e)||{}}}Object.keys(R).forEach(n,this),Object.keys(w).forEach(i,this)},N=E.ASYNC_API_MAP,x=function(){Object.keys(N).forEach(function(e){this[N[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},j=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)},n.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),V=(j.isObjectEmpty,j.isValueEmpty,j.getIeVersion,j.encodeAndBuildRequest,j.isObject,j.defineGlobalNamespace,j.pluck,j.parseOptOut,j.normalizeBoolean,n),H=E.MESSAGES,U={0:"prefix",1:"orgID",2:"state"},B=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e){t[U[n]]=2!==n?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(H).indexOf(i.prefix);return r||a||o},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}},G=E.MESSAGES,Y=function(e,t,n,i){function r(e){Object.assign(p,e)}function a(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(i,e))}function l(){r(new L(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),_.removeEventListener("message",c)}function c(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,_.clearTimeout(p._handshakeTimeout),_.removeEventListener("message",c),r(new F(p)),_.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(G.GETSTATE)}}function u(){g&&postMessage?(_.addEventListener("message",c),s(G.HANDSHAKE),p._handshakeTimeout=setTimeout(l,250)):l()}function d(){_.s_c_in||(_.s_c_il=[],_.s_c_in=0),p._c="Visitor",p._il=_.s_c_il,p._in=_.s_c_in,p._il[p._in]=p,_.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var m=!1,h=new B(e,g);p.callbackRegistry=V(),p.init=function(){d(),f(),r(new x(p)),u()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=a},q=E.MESSAGES,X=E.ALL_APIS,W=E.ASYNC_API_MAP,J=E.FIELDGROUP_TO_FIELD,K=function(e,t){function n(){var t={};return Object.keys(X).forEach(function(n){var i=X[n],r=e[i]();j.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=J[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=W[a[0]];e[o](n,!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){l(e),a(e,q.HANDSHAKE)}function s(e){r(function(){a(e,q.PARENTSTATE)})()}function l(n){function i(i){r.call(e,i),t.send(n,q.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e)){(t.parse(e).prefix===q.HANDSHAKE?o:s)(e.source)}}},z=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})},Q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var r=i(n,"cookieLifetime"),a=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure"),l=s?"Secure":"";if(a&&"SESSION"!==r&&"NONE"!==r){var c=""!==t?parseInt(r||0,10):-60;if(c)a=new Date,a.setTime(a.getTime()+1e3*c);else if(1===a){a=new Date;var u=a.getYear();a.setYear(u+2+(u<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(a?" expires="+a.toGMTString()+";":"")+(o?" domain="+o+";":"")+l,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain="+n+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n}},$=function(e){var t;!e&&_.location&&(e=_.location.hostname),t=e;var n,i=t.split(".");for(n=i.length-2;n>=0;n--)if(t=i.slice(n).join("."),Q.set("test","cookie",{domain:t}))return Q.remove("test",{domain:t}),t;return""},Z={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},ee=!!_.postMessage,te={postMessage:function(e,t,n){var i=1;t&&(ee?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},receiveMessage:function(e,t){var n;try{ee&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),_.addEventListener?_[e?"addEventListener":"removeEventListener"]("message",n):_[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},ne=function(e){var t,n,i="0123456789",r="",a="",o=8,s=10,l=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*l),a+=i.substring(n,n+1),0===t&&9==n?l=3:(1==t||2==t)&&10!=l&&2>n?l=10:2<t&&(l=10);return r+a},ie=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=_,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},re={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},ae=function(e,t){var n=_.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:re.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,l=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!re.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=re.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),j.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(a),c=!1,u=!1,d=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);l?(o=l.split("*"),s=this.pruneSyncData(o,t.id,d),c=s.dataPresent,u=s.dataValid,c&&u||this.fireSync(r,t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var l,c,u,d,f=n.url,p=e.loadSSL?"https:":"http:";for(l=0,c=f.length;l<c;l++){u=f[l],d=/^\/\//.test(u);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l=e._getField(a),c=[];if(l){o=l.split("*");var u,d,f;for(u=0,d=o.length;u<d;u++)f=o[u],f.match("^"+n.id+"-")||c.push(f)}s.setSyncTrackingData(c,n,i,r)}}(this.onPagePixels.length,n,a,o)),g.src=(d?p:"")+u,this.onPagePixels.push(g)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((re.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?re.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){te.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>re.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},oe={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},se={getConfigNames:function(){return Object.keys(oe)},getConfigs:function(){return oe},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},le=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},ce={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ue={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},de=(C={},t(C,ue.AAM,565),t(C,ue.ECID,565),C),fe=(I={},t(I,ue.AAM,[1,2,5]),t(I,ue.ECID,[1,2,5]),I),pe=function(e){return Object.keys(e).map(function(t){return e[t]})}(ue),ge=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!c(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!l(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},me=function(){},he=function(e){var t=window,n=t.console;return!!n&&"function"==typeof n[e]},_e=function(e,t,n){return n()?function(){if(he(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:me},Ce=u,Ie=new Ce("[ADOBE OPT-IN]"),ve=function(t,n){return e(t)===n},Se=function(e,t){return e instanceof Array?e:ve(e,"string")?[e]:t||[]},De=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Ae=function(e){return!(!e||Oe(e))&&Se(e).every(function(e){return pe.indexOf(e)>-1})},ye=function(e,t){return e.reduce(function(e,n){return e[n]=t,e},{})},be=function(e){return JSON.parse(JSON.stringify(e))},Oe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Me=function(e){if(Te(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ke=function(e){return void 0===e||(Te(e)?Ae(Object.keys(e)):Ee(e))},Ee=function(e){try{var t=JSON.parse(e);return!!e&&ve(e,"string")&&Ae(Object.keys(t))}catch(e){return!1}},Te=function(e){return null!==e&&ve(e,"object")&&!1===Array.isArray(e)},Le=function(){},Pe=function(e){return ve(e,"function")?e():e},Re=function(e,t){ke(e)||Ie.error("".concat(t))},we=function(e){return Object.keys(e).map(function(t){return e[t]})},Fe=function(e){return we(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ne=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?Le:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:o});l[c].call(l,u)}catch(e){Ie.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var xe="fetchPermissions",je="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=ue,p.TimeoutError=f;var Ve=Object.freeze({OptIn:p,IabPlugin:h}),He=function(e,t){e.publishDestinations=function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!j.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void r({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach(function(e){j.isObject(e)&&(e.hideReferrer?e.message&&a.addMessage(e.message):c.push(e))});!function e(){c.length&&setTimeout(function(){var t=new Image,n=c.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}},Ue=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,a=Math.pow,o=a(2,32),s="",l=[],c=8*t.length,u=e.h=e.h||[],d=e.k=e.k||[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;u[f]=a(g,.5)*o|0,d[f++]=a(g,1/3)*o|0}for(t+="";t.length%64-56;)t+="\0";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;l[i>>2]|=r<<(3-i)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,r=0;r<l.length;){var m=l.slice(r,r+=16),h=u;for(u=u.slice(0,8),i=0;i<64;i++){var _=m[i-15],C=m[i-2],I=u[0],v=u[4],S=u[7]+(n(v,6)^n(v,11)^n(v,25))+(v&u[5]^~v&u[6])+d[i]+(m[i]=i<16?m[i]:m[i-16]+(n(_,7)^n(_,18)^_>>>3)+m[i-7]+(n(C,17)^n(C,19)^C>>>10)|0);u=[S+((n(I,2)^n(I,13)^n(I,22))+(I&u[1]^I&u[2]^u[1]&u[2]))|0].concat(u),u[4]=u[4]+S|0}for(i=0;i<8;i++)u[i]=u[i]+h[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var D=u[i]>>8*r&255;s+=(D<16?0:"")+D.toString(16)}return s},Be=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Ue(e)),e},Ge=function(e){return String(e).trim().toLowerCase()},Ye=Ve.OptIn;j.defineGlobalNamespace(),window.adobe.OptInCategories=Ye.Categories;var qe=function(t,n,i){function r(e){var t=e;return function(e){var n=e||v.location.href;try{var i=g._extractParamFromUri(n,t);if(i)return w.parsePipeDelimetedKeyValues(i)}catch(e){}}}function a(e){function t(e,t,n){e&&e.match(re.VALID_VISITOR_ID_REGEX)&&(n===A&&(I=!0),t(e))}t(e[A],g.setMarketingCloudVisitorID,A),g._setFieldExpire(k,-1),t(e[O],g.setAnalyticsVisitorID)}function o(e){e=e||{},g._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",g._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},g._supplementalDataIDLast=e.supplementalDataIDLast||"",g._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"="+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==T&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=w.getTimestampInSeconds();return e=e?e+="|":e,e+="TS="+t}(i)}function l(e){var t=e.minutesToLive,n="";return(g.idSyncDisableSyncs||g.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function c(){return!!g.configs.doesOptInApply&&!(m.optIn.isComplete&&u())}function u(){return g.configs.isIabContext?m.optIn.isApproved(m.optIn.Categories.ECID)&&C:m.optIn.isApproved(m.optIn.Categories.ECID)}function d(e,t){if(C=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(h=t.consentString),g.init(),p()}function f(){m.optIn.isApproved(m.optIn.Categories.ECID)&&(g.configs.isIabContext?m.optIn.execute({command:"iabPlugin.fetchConsentData",callback:d}):(g.init(),p()))}function p(){m.optIn.off("complete",f)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var g=this,m=window.adobe,h="",C=!1,I=!1;g.version="4.4.0";var v=_,S=v.Visitor;S.version=g.version,S.AuthState=E.AUTH_STATE,S.OptOut=E.OPT_OUT,v.s_c_in||(v.s_c_il=[],v.s_c_in=0),g._c="Visitor",g._il=v.s_c_il,g._in=v.s_c_in,g._il[g._in]=g,v.s_c_in++,g._instanceType="regular",g._log={requests:[]},g.marketingCloudOrgID=t,g.cookieName="AMCV_"+t,g.sessionCookieName="AMCVS_"+t,g.cookieDomain=$(),g.loadSSL=v.location.protocol.toLowerCase().indexOf("https")>=0,g.loadTimeout=3e4,g.CORSErrors=[],g.marketingCloudServer=g.audienceManagerServer="dpm.demdex.net",g.sdidParamExpiry=30;var D=null,A="MCMID",y="MCIDTS",b="A",O="MCAID",M="AAM",k="MCAAMB",T="NONE",L=function(e){return!Object.prototype[e]},P=ie(g);g.FIELDS=E.FIELDS,g.cookieRead=function(e){return Q.get(e)},g.cookieWrite=function(e,t,n){var i=g.cookieLifetime?(""+g.cookieLifetime).toUpperCase():"",r=!1;return g.configs&&g.configs.secureCookie&&"https:"===location.protocol&&(r=!0),Q.set(e,""+t,{expires:n,domain:g.cookieDomain,cookieLifetime:i,secure:r})},g.resetState=function(e){e?g._mergeServerState(e):o()},g._isAllowedDone=!1,g._isAllowedFlag=!1,g.isAllowed=function(){return g._isAllowedDone||(g._isAllowedDone=!0,(g.cookieRead(g.cookieName)||g.cookieWrite(g.cookieName,"T",1))&&(g._isAllowedFlag=!0)),"T"===g.cookieRead(g.cookieName)&&g._helpers.removeCookie(g.cookieName),g._isAllowedFlag},g.setMarketingCloudVisitorID=function(e){g._setMarketingCloudFields(e)},g._use1stPartyMarketingCloudServer=!1,g.getMarketingCloudVisitorID=function(e,t){g.marketingCloudServer&&g.marketingCloudServer.indexOf(".demdex.net")<0&&(g._use1stPartyMarketingCloudServer=!0);var n=g._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return g._getRemoteField(A,i,e,t,n)},g.getVisitorValues=function(e,t){var n={MCMID:{fn:g.getMarketingCloudVisitorID,args:[!0],context:g},MCOPTOUT:{fn:g.isOptedOut,args:[void 0,!0],context:g},MCAID:{fn:g.getAnalyticsVisitorID,args:[!0],context:g},MCAAMLH:{fn:g.getAudienceManagerLocationHint,args:[!0],context:g},MCAAMB:{fn:g.getAudienceManagerBlob,args:[!0],context:g}},i=t&&t.length?j.pluck(n,t):n;z(i,e)},g._currentCustomerIDs={},g._customerIDsHashChanged=!1,g._newCustomerIDsHash="",g.setCustomerIDs=function(t,n){function i(){g._customerIDsHashChanged=!1}if(!g.isOptedOut()&&t){if(!j.isObject(t)||j.isObjectEmpty(t))return!1;g._readVisitor();var r,a,o;for(r in t)if(L(r)&&(a=t[r],n=a.hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var s={};if(a.id){if(n){if(!(o=Be(Ge(a.id),n)))return;a.id=o,s.hashType=n}s.id=a.id}void 0!=a.authState&&(s.authState=a.authState),g._currentCustomerIDs[r]=s}else if(n){if(!(o=Be(Ge(a),n)))return;g._currentCustomerIDs[r]={id:o,hashType:n}}else g._currentCustomerIDs[r]={id:a};var l=g.getCustomerIDs(),c=g._getField("MCCIDH"),u="";c||(c=0);for(r in l)L(r)&&(a=l[r],u+=(u?"|":"")+r+"|"+(a.id?a.id:"")+(a.authState?a.authState:""));g._newCustomerIDsHash=String(g._hash(u)),g._newCustomerIDsHash!==c&&(g._customerIDsHashChanged=!0,g._mapCustomerIDs(i))}},g.getCustomerIDs=function(){g._readVisitor();var e,t,n={};for(e in g._currentCustomerIDs)L(e)&&(t=g._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),void 0!=t.authState?n[e].authState=t.authState:n[e].authState=S.AuthState.UNKNOWN,t.hashType&&(n[e].hashType=t.hashType));return n},g.setAnalyticsVisitorID=function(e){g._setAnalyticsFields(e)},g.getAnalyticsVisitorID=function(e,t,n){if(!w.isTrackingServerPopulated()&&!n)return g._callCallback(e,[""]),"";var i="";if(n||(i=g.getMarketingCloudVisitorID(function(t){g.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?g.marketingCloudServer:g.trackingServer,a="";g.loadSSL&&(n?g.marketingCloudServerSecure&&(r=g.marketingCloudServerSecure):g.trackingServerSecure&&(r=g.trackingServerSecure));var o={};if(r){var s="http"+(g.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver="+g.version+"&mcorgid="+encodeURIComponent(g.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",g._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+l+"&callback=s_c_il%5B"+g._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=c}return o.url=a,g._getRemoteField(n?A:O,a,e,t,o)}return""},g.getAudienceManagerLocationHint=function(e,t){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})){var n=g._getField(O);if(!n&&w.isTrackingServerPopulated()&&(n=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerLocationHint(e,!0)})),n||!w.isTrackingServerPopulated()){var i=g._getAudienceManagerURLData(),r=i.url;return g._getRemoteField("MCAAMLH",r,e,t,i)}}return""},g.getLocationHint=g.getAudienceManagerLocationHint,g.getAudienceManagerBlob=function(e,t){if(g.getMarketingCloudVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})){var n=g._getField(O);if(!n&&w.isTrackingServerPopulated()&&(n=g.getAnalyticsVisitorID(function(t){g.getAudienceManagerBlob(e,!0)})),n||!w.isTrackingServerPopulated()){var i=g._getAudienceManagerURLData(),r=i.url;return g._customerIDsHashChanged&&g._setFieldExpire(k,-1),g._getRemoteField(k,r,e,t,i)}}return""},g._supplementalDataIDCurrent="",g._supplementalDataIDCurrentConsumed={},g._supplementalDataIDLast="",g._supplementalDataIDLastConsumed={},g.getSupplementalDataID=function(e,t){g._supplementalDataIDCurrent||t||(g._supplementalDataIDCurrent=g._generateID(1));var n=g._supplementalDataIDCurrent;return g._supplementalDataIDLast&&!g._supplementalDataIDLastConsumed[e]?(n=g._supplementalDataIDLast,g._supplementalDataIDLastConsumed[e]=!0):n&&(g._supplementalDataIDCurrentConsumed[e]&&(g._supplementalDataIDLast=g._supplementalDataIDCurrent,g._supplementalDataIDLastConsumed=g._supplementalDataIDCurrentConsumed,g._supplementalDataIDCurrent=n=t?"":g._generateID(1),g._supplementalDataIDCurrentConsumed={}),n&&(g._supplementalDataIDCurrentConsumed[e]=!0)),n};var R=!1;g._liberatedOptOut=null,g.getOptOut=function(e,t){var n=g._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(u())return g._getRemoteField("MCOPTOUT",i,e,t,n);if(g._registerCallback("liberatedOptOut",e),null!==g._liberatedOptOut)return g._callAllCallbacks("liberatedOptOut",[g._liberatedOptOut]),R=!1,g._liberatedOptOut;if(R)return null;R=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),n.callback=[r],_[r]=function(e){if(e===Object(e)){var t,n,i=j.parseOptOut(e,t,T);t=i.optOut,n=1e3*i.d_ottl,g._liberatedOptOut=t,setTimeout(function(){g._liberatedOptOut=null},n)}g._callAllCallbacks("liberatedOptOut",[t]),R=!1},P.fireCORS(n),null},g.isOptedOut=function(e,t,n){t||(t=S.OptOut.GLOBAL);var i=g.getOptOut(function(n){var i=n===S.OptOut.GLOBAL||n.indexOf(t)>=0;g._callCallback(e,[i])},n);return i?i===S.OptOut.GLOBAL||i.indexOf(t)>=0:null},g._fields=null,g._fieldsExpired=null,g._hash=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},g._generateID=ne,g._generateLocalMID=function(){var e=g._generateID(0);return N.isClientSideMarketingCloudVisitorID=!0,e},g._callbackList=null,g._callCallback=function(e,t){try{"function"==typeof e?e.apply(v,t):e[1].apply(e[0],t)}catch(e){}},g._registerCallback=function(e,t){t&&(null==g._callbackList&&(g._callbackList={}),void 0==g._callbackList[e]&&(g._callbackList[e]=[]),g._callbackList[e].push(t))},g._callAllCallbacks=function(e,t){if(null!=g._callbackList){var n=g._callbackList[e];if(n)for(;n.length>0;)g._callCallback(n.shift(),t)}},g._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),a=w.parseHash(e),o=w.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+w.addQueryParamAtLocation(c,r,i)+a},g._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},g._parseAdobeMcFromUrl=r(re.ADOBE_MC),g._parseAdobeMcSdidFromUrl=r(re.ADOBE_MC_SDID),g._attemptToPopulateSdidFromUrl=function(e){var n=g._parseAdobeMcSdidFromUrl(e),i=1e9;n&&n.TS&&(i=w.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<g.sdidParamExpiry&&(g._supplementalDataIDCurrent=n.SDID,g._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},g._attemptToPopulateIdsFromUrl=function(){var e=g._parseAdobeMcFromUrl();if(e&&e.TS){var n=w.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>re.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;a(e)}},g._mergeServerState=function(e){if(e)try{if(e=function(e){return w.isObject(e)?e:JSON.parse(e)}(e),e[g.marketingCloudOrgID]){var t=e[g.marketingCloudOrgID];!function(e){w.isObject(e)&&g.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},g._timeout=null,g._loadData=function(e,t,n,i){t=g._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=g._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=g._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),N.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===P.corsMetadata.corsType&&P.fireCORS(i,n,e)},g._clearTimeout=function(e){null!=g._timeout&&g._timeout[e]&&(clearTimeout(g._timeout[e]),g._timeout[e]=0)},g._settingsDigest=0,g._getSettingsDigest=function(){if(!g._settingsDigest){var e=g.version;g.audienceManagerServer&&(e+="|"+g.audienceManagerServer),g.audienceManagerServerSecure&&(e+="|"+g.audienceManagerServerSecure),g._settingsDigest=g._hash(e)}return g._settingsDigest},g._readVisitorDone=!1,g._readVisitor=function(){if(!g._readVisitorDone){g._readVisitorDone=!0;var e,t,n,i,r,a,o=g._getSettingsDigest(),s=!1,l=g.cookieRead(g.cookieName),c=new Date;if(l||I||g.discardTrackingServerECID||(l=g.cookieRead(re.FIRST_PARTY_SERVER_COOKIE)),null==g._fields&&(g._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),n=t[0],i=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=c.getTime()/1e3-60)),n&&i&&(g._setField(n,i,1),r>0&&(g._fields["expire"+n]=r+(a?"s":""),(c.getTime()>=1e3*r||a&&!g.cookieRead(g.sessionCookieName))&&(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[n]=!0)));!g._getField(O)&&w.isTrackingServerPopulated()&&(l=g.cookieRead("s_vi"))&&(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(i=l[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&i.match(re.VALID_VISITOR_ID_REGEX)&&g._setField(O,i)))}},g._appendVersionTo=function(e){var t="vVersion|"+g.version,n=e?g._getCookieVersion(e):null;return n?Z.areVersionsDifferent(n,g.version)&&(e=e.replace(re.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},g._writeVisitor=function(){var e,t,n=g._getSettingsDigest();for(e in g._fields)L(e)&&g._fields[e]&&"expire"!==e.substring(0,6)&&(t=g._fields[e],n+=(n?"|":"")+e+(g._fields["expire"+e]?"-"+g._fields["expire"+e]:"")+"|"+t);n=g._appendVersionTo(n),g.cookieWrite(g.cookieName,n,1)},g._getField=function(e,t){return null==g._fields||!t&&g._fieldsExpired&&g._fieldsExpired[e]?null:g._fields[e]},g._setField=function(e,t,n){null==g._fields&&(g._fields={}),g._fields[e]=t,n||g._writeVisitor()},g._getFieldList=function(e,t){var n=g._getField(e,t);return n?n.split("*"):null},g._setFieldList=function(e,t,n){g._setField(e,t?t.join("*"):"",n)},g._getFieldMap=function(e,t){var n=g._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},g._setFieldMap=function(e,t,n){var i,r=null;if(t){r=[];for(i in t)L(i)&&(r.push(i),r.push(t[i]))}g._setFieldList(e,r,n)},g._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1e3*t),null==g._fields&&(g._fields={}),g._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(n?"s":""),t<0?(g._fieldsExpired||(g._fieldsExpired={}),g._fieldsExpired[e]=!0):g._fieldsExpired&&(g._fieldsExpired[e]=!1),n&&(g.cookieRead(g.sessionCookieName)||g.cookieWrite(g.sessionCookieName,"1"))},g._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=T),t&&(t===T||t.match(re.VALID_VISITOR_ID_REGEX))||(t="")),t},g._setFields=function(t,n){if(g._clearTimeout(t),null!=g._loading&&(g._loading[t]=!1),N.fieldGroupObj[t]&&N.setState(t,!1),"MC"===t){!0!==N.isClientSideMarketingCloudVisitorID&&(N.isClientSideMarketingCloudVisitorID=!1);var i=g._getField(A);if(!i||g.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:g._findVisitorID(n))){if(g._use1stPartyMarketingCloudServer&&!g.tried1stPartyMarketingCloudServer)return g.tried1stPartyMarketingCloudServer=!0,void g.getAnalyticsVisitorID(null,!1,!0);i=g._generateLocalMID()}g._setField(A,i)}i&&i!==T||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&g._setFields(M,n),g._use1stPartyMarketingCloudServer&&n.mid&&g._setFields(b,{id:n.id})),g._callAllCallbacks(A,[i])}if(t===M&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var a=F.getRegionAndCheckIfChanged(n,r);g._callAllCallbacks("MCAAMLH",[a]);var o=g._getField(k);(n.d_blob||n.blob)&&(o=n.d_blob,o||(o=n.blob),g._setFieldExpire(k,r),g._setField(k,o)),o||(o=""),g._callAllCallbacks(k,[o]),!n.error_msg&&g._newCustomerIDsHash&&g._setField("MCCIDH",g._newCustomerIDsHash)}if(t===b){var s=g._getField(O);s&&!g.overwriteCrossDomainMCIDAndAID||(s=g._findVisitorID(n),s?s!==T&&g._setFieldExpire(k,-1):s=T,g._setField(O,s)),s&&s!==T||(s=""),g._callAllCallbacks(O,[s])}if(g.idSyncDisableSyncs||g.disableIdSyncs)F.idCallNotProcesssed=!0;else{F.idCallNotProcesssed=!1;var l={};l.ibs=n.ibs,l.subdomain=n.subdomain,F.processIDCallData(l)}if(n===Object(n)){var c,d;u()&&g.isAllowed()&&(c=g._getField("MCOPTOUT"));var f=j.parseOptOut(n,c,T);c=f.optOut,d=f.d_ottl,g._setFieldExpire("MCOPTOUT",d,!0),g._setField("MCOPTOUT",c),g._callAllCallbacks("MCOPTOUT",[c])}},g._loading=null,g._getRemoteField=function(e,t,n,i,r){var a,o="",s=w.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&g.isAllowed()){g._readVisitor(),o=g._getField(e,!0===l[e]);if(function(){return(!o||g._fieldsExpired&&g._fieldsExpired[e])&&(!g.disableThirdPartyCalls||s)}()){if(e===A||"MCOPTOUT"===e?a="MC":"MCAAMLH"===e||e===k?a=M:e===O&&(a=b),a)return!t||null!=g._loading&&g._loading[a]||(null==g._loading&&(g._loading={}),g._loading[a]=!0,g._loadData(a,t,function(t){if(!g._getField(e)){t&&N.setState(a,!0);var n="";e===A?n=g._generateLocalMID():a===M&&(n={error_msg:"timeout"}),g._setFields(a,n)}},r)),g._registerCallback(e,n),o||(t||g._setFields(a,{id:T}),"")}else o||(e===A?(g._registerCallback(e,n),o=g._generateLocalMID(),g.setMarketingCloudVisitorID(o)):e===O?(g._registerCallback(e,n),o="",g.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==A&&e!==O||o!==T||(o="",i=!0),n&&i&&g._callCallback(n,[o]),o},g._setMarketingCloudFields=function(e){g._readVisitor(),g._setFields("MC",e)},g._mapCustomerIDs=function(e){g.getAudienceManagerBlob(e,!0)},g._setAnalyticsFields=function(e){g._readVisitor(),g._setFields(b,e)},g._setAudienceManagerFields=function(e){g._readVisitor(),g._setFields(M,e)},g._getAudienceManagerURLData=function(e){var t=g.audienceManagerServer,n="",i=g._getField(A),r=g._getField(k,!0),a=g._getField(O),o=a&&a!==T?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(g.loadSSL&&g.audienceManagerServerSecure&&(t=g.audienceManagerServerSecure),t){var s,l,c=g.getCustomerIDs();if(c)for(s in c)L(s)&&(l=c[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(g.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+g.version+(h&&-1!==u.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+h:"")+"&d_rtbd=json&d_ver=2"+(!i&&g._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(g.marketingCloudOrgID)+"&d_nsid="+(g.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(g.idSyncDisable3rdPartySyncing||g.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===D?"&d_coop_safe=1":!1===D?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,f=["s_c_il",g._in,e];return n=u+"?"+d+"&d_cb=s_c_il%5B"+g._in+"%5D."+e,{url:n,corsUrl:u+"?"+d,callback:f}}return{url:n}},g.appendVisitorIDsTo=function(e){try{var t=[[A,g._getField(A)],[O,g._getField(O)],["MCORGID",g.marketingCloudOrgID]];return g._addQuerystringParam(e,re.ADOBE_MC,s(t))}catch(t){return e}},g.appendSupplementalDataIDTo=function(e,t){if(!(t=t||g.getSupplementalDataID(w.generateRandomString(),!0)))return e;try{var n=s([["SDID",t],["MCORGID",g.marketingCloudOrgID]]);return g._addQuerystringParam(e,re.ADOBE_MC_SDID,n)}catch(t){return e}};var w={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==O)return!1;var i;return t||(t=g.trackingServer),n||(n=g.trackingServerSecure),!("string"!=typeof(i=g.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Q.remove(e,{domain:g.cookieDomain})},isTrackingServerPopulated:function(){return!!g.trackingServer||!!g.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};g._helpers=w;var F=ae(g,S);g._destinationPublishing=F,g.timeoutMetricsLog=[];var N={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case b:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case M:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};g.isClientSideMarketingCloudVisitorID=function(){return N.isClientSideMarketingCloudVisitorID},g.MCIDCallTimedOut=function(){return N.MCIDCallTimedOut},g.AnalyticsIDCallTimedOut=function(){return N.AnalyticsIDCallTimedOut},g.AAMIDCallTimedOut=function(){return N.AAMIDCallTimedOut},g.idSyncGetOnPageSyncInfo=function(){return g._readVisitor(),g._getField("MCSYNCSOP")},g.idSyncByURL=function(e){if(!g.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=F;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=j.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},g.idSyncByDataSource=function(e){if(!g.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,g.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},He(g,F),g._getCookieVersion=function(e){e=e||g.cookieRead(g.cookieName);var t=re.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},g._resetAmcvCookie=function(e){var t=g._getCookieVersion();t&&!Z.isLessThan(t,e)||w.removeCookie(g.cookieName)},g.setAsCoopSafe=function(){D=!0},g.setAsCoopUnsafe=function(){D=!1},function(){if(g.configs=Object.create(null),w.isObject(n))for(var e in n)L(e)&&(g[e]=n[e],g.configs[e]=n[e])}(),function(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=g[t];g[t]=function(e){return u()&&g.isAllowed()?i.apply(g,arguments):("function"==typeof e&&g._callCallback(e,[n]),n)}})}(),g.init=function(){if(c())return m.optIn.fetchPermissions(f,!0);!function(){if(w.isObject(n)){g.idSyncContainerID=g.idSyncContainerID||0,D="boolean"==typeof g.isCoopSafe?g.isCoopSafe:w.parseBoolean(g.isCoopSafe),g.resetBeforeVersion&&g._resetAmcvCookie(g.resetBeforeVersion),g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl(),g._readVisitor();var e=g._getField(y),t=Math.ceil((new Date).getTime()/re.MILLIS_PER_DAY);g.idSyncDisableSyncs||g.disableIdSyncs||!F.canMakeSyncIDCall(e,t)||(g._setFieldExpire(k,-1),g._setField(y,t)),g.getMarketingCloudVisitorID(),g.getAudienceManagerLocationHint(),g.getAudienceManagerBlob(),g._mergeServerState(g.serverState)}else g._attemptToPopulateIdsFromUrl(),g._attemptToPopulateSdidFromUrl()}(),function(){if(!g.idSyncDisableSyncs&&!g.disableIdSyncs){F.checkDPIframeSrc();var e=function(){var e=F;e.readyToAttachIframe()&&e.attachIframe()};v.addEventListener("load",function(){S.windowLoaded=!0,e()});try{te.receiveMessage(function(e){F.receiveMessage(e.data)},F.iframeHost)}catch(e){}}}(),function(){g.whitelistIframeDomains&&re.POST_MESSAGE_ENABLED&&(g.whitelistIframeDomains=g.whitelistIframeDomains instanceof Array?g.whitelistIframeDomains:[g.whitelistIframeDomains],g.whitelistIframeDomains.forEach(function(e){var n=new B(t,e),i=K(g,n);te.receiveMessage(i,e)}))}()}};qe.config=se,_.Visitor=qe;var Xe=qe,We=function(e){if(j.isObject(e))return Object.keys(e).filter(function(t){return""!==e[t]}).reduce(function(t,n){var i="doesOptInApply"!==n?e[n]:se.normalizeConfig(e[n]),r=j.normalizeBoolean(i);return t[n]=r,t},Object.create(null))},Je=Ve.OptIn,Ke=Ve.IabPlugin;return Xe.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=_.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=We(t);!function(e){_.adobe.optIn=_.adobe.optIn||function(){var t=j.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=n||$(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new Je(t,{cookies:Q});if(t.isIabContext){var r=new Ke(window.__cmp);i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new Xe(e,null,a);j.isObject(i)&&i.cookieDomain&&(o.cookieDomain=i.cookieDomain),function(){_.s_c_il.splice(--_.s_c_in,1)}();var s=j.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var l=function(){try{return _.self!==_.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&_.parent?new Y(e,i,o,_.parent):new Xe(e,i,a);return o=null,l.init(),l},function(){function e(){Xe.windowLoaded=!0}_.addEventListener?_.addEventListener("load",e):_.attachEvent&&_.attachEvent("onload",e),Xe.codeLoadEnd=(new Date).getTime()}(),Xe}();var visitor=Visitor.getInstance(window._dsgTag.AdobeID,{trackingServer:"metrics."+window._dsgTag.currentWebsite.Domain,trackingServerSecure:"smetrics."+window._dsgTag.currentWebsite.Domain,marketingCloudServer:"metrics."+window._dsgTag.currentWebsite.Domain,marketingCloudServerSecure:"smetrics."+window._dsgTag.currentWebsite.Domain,resetBeforeVersion:"3.1.2"});window.visitor=visitor;window.Visitor=Visitor;}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{window._dsgTag.CustomerIDs=function(){var internalData={};var CONST_IDs=["MCID","CustomerKey","HashedEmail","Loyalty","Webstore","DeviceID","AdobeMCVID","AthleteID"];var CONST_IDsToTriggerAPI=["CustomerKey","Loyalty","Webstore"];var CONST_CookieName="TagIDs";var CONST_InputKeyTypeLoyalty="1";var CONST_InputKeyTypeWebstore_DSG="18";var CONST_InputKeyTypeWebstore_GGXY="11";var CONST_InputKeyTypeWebstore_FNS="16";var CONST_InputKeyCustomerKeyDelimiter="-";var CONST_EmptyRecheckTimeDifference=1*24*60*60*1000;var CONST_KnownRecheckTimeDifference=7*24*60*60*1000;var CONST_APITypeReplacement="<Type>";var CONST_APIIDReplacement="<ID>";var API_MCID={"Type":"MCID","URL":"https://gateway."+(_dsgTag.isProduction?"dcsg":"dksxchange")+".com/ws/mkt/crm/v1/customer/customers/"+CONST_APITypeReplacement+"/"+CONST_APIIDReplacement,"Key":_dsgTag.isProduction?"9f8ea850-b26f-11e7-b506-9a25f670b833":"bb56a060-b26f-11e7-be08-9486d3393201","Secret":_dsgTag.isProduction?"cUA1aQ720j6Tw34r1vbn":"secret","Partner":"EcomAnalytics"}
var API_AthleteID={"Type":"AthleteID","URL":"https://"+(_dsgTag.isProduction?"www.":"gamma.")+_dsgTag.currentWebsite.Domain+"/myaccount/services/redirectingservice/athleteprofileservice/v1/profile/"+CONST_APITypeReplacement+"/"+CONST_APIIDReplacement,"Key":"","Secret":"joysk5zjhPmn5b4UYaH1","Partner":"ecom_analytics"}
_dsgTag.pendingAPILookup=false;var queuedAPICalls=[];var recheckMCID=false;var recheckAthleteID=false;for(var i=0;i<CONST_IDs.length;i++){var n=CONST_IDs[i];this[n]="";internalData[n]={};internalData[n].ID="";internalData[n].lastUpdated="";}
internalData["MCID"].get=function(){var output="";var customerKey=_dsgTag.HelperFunctions.GetQueryStringValue("customerkey");if(customerKey&&customerKey.indexOf("-")<0){output=_dsgTag.HelperFunctions.GetQueryStringValue("MCID")||"";}else{output=_dsgTag.HelperFunctions.GetQueryStringValue("appMCID")||"";}
if(!output&&(typeof internalData["MCID"].lastAPICheck==="undefined"||(Date.now()-internalData["MCID"].lastAPICheck)>(internalData["MCID"].ID!=="undefined"?CONST_KnownRecheckTimeDifference:CONST_EmptyRecheckTimeDifference))){recheckMCID=true;}
return output;};internalData["Loyalty"].get=function(){var loyaltyID=_dsgTag.DataLayer.GetValue("LoyaltyID");return loyaltyID;};internalData["Webstore"].get=function(){var webStoreID=_dsgTag.DataLayer.GetValue("WebstoreID");return webStoreID;};internalData["CustomerKey"].get=function(){var customerKey="";if(_dsgTag.HelperFunctions.GetQueryStringValue("customerkey")){customerKey=_dsgTag.HelperFunctions.GetQueryStringValue("customerkey");if(customerKey.length!==64&&customerKey.indexOf("-")<0){var siteID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:siteID+="18"
break;case _dsgTag.Websites.GolfGalaxy:siteID+="11"
break;case _dsgTag.Websites.FieldAndStream:siteID+="16"
break;}
if(siteID){customerKey=customerKey+"-"+siteID;}}}
return customerKey;};internalData["HashedEmail"].get=function(){var hashedEmail="";var dataLayer=_dsgTag.DataLayer.GetValue("HashedEmailAddress");var queryString=_dsgTag.HelperFunctions.GetQueryStringValue("customerkey");if(queryString&&queryString.length===64){hashedEmail=queryString;}else if(dataLayer){hashedEmail=dataLayer;}
return hashedEmail;};internalData["DeviceID"].get=function(){return _dsgTag.HelperFunctions.GetQueryStringValue("res_trackingid")||"";};internalData["AdobeMCVID"].get=function(){if(typeof window.visitor!=="undefined"){return visitor.getMarketingCloudVisitorID(function(id){_dsgTag.CustomerIDs.UpdateCustomerID("AdobeMCVID",id,"Local");});}else
return"";};internalData["AthleteID"].get=function(){var output=_dsgTag.HelperFunctions.GetQueryStringValue("AthleteID");if(!output&&(typeof internalData["AthleteID"].lastAPICheck==="undefined"||((Date.now()-internalData["AthleteID"].lastAPICheck)>(internalData["AthleteID"].ID!=="undefined"?CONST_KnownRecheckTimeDifference:CONST_EmptyRecheckTimeDifference)))){recheckAthleteID=true;}
return output;};this.UpdateAllCustomerIDs=function(){try{PopulateIDsFromStorage();for(var i=0;i<CONST_IDs.length;i++){var IDName=CONST_IDs[i]
var newID=internalData[IDName].get();this.UpdateCustomerID(IDName,newID,"Local");this[IDName]=internalData[IDName].ID;}
if(recheckMCID){recheckMCID=false;GetIDviaAPI(API_MCID);}
if(recheckAthleteID){recheckAthleteID=false;GetIDviaAPI(API_AthleteID);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured in UpdateAllCustomerIDs: "+ex.message,true);}};this.UpdateCustomerID=function(IDName,ID,source){try{if(ID&&(ID!==internalData[IDName].ID||typeof internalData[IDName].lastUpdated==="undefined")){this[IDName]=ID;internalData[IDName].lastUpdated=Date.now();internalData[IDName].source=source;internalData[IDName].ID=ID;_dsgTag.HelperFunctions.SaveValue(CONST_CookieName,JSON.stringify(internalData));if(typeof CONST_IDsToTriggerAPI.indexOf==="function"&&CONST_IDsToTriggerAPI.indexOf(IDName)>=0){recheckMCID=true;recheckAthleteID=true;}}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured in UpdateCustomerID: "+ex.message,true);}}
var TranslateLegacyData=function(){try{var currentRawData=_dsgTag.HelperFunctions.GetValue(CONST_CookieName);var backupRawData=_dsgTag.HelperFunctions.GetValue("IDs_Backup");var cookieString=backupRawData||currentRawData;if(cookieString!==null){_dsgTag.HelperFunctions.SaveValue("IDs_Backup",cookieString,false);var IDObject={};var visitorObject={};var CONST_CookieOuterDelimiter=':';var CONST_CookieInnerDelimiter='|';var cookieList=cookieString.split(CONST_CookieOuterDelimiter);visitorObject.lastTouch=cookieList.length>0?parseInt(cookieList[0]):0;visitorObject.visitCount=cookieList.length>1?parseInt(cookieList[1]):0;if(Date.now()-visitorObject.lastTouch>=_dsgTag.CONST_NewVisitTimeDifference){visitorObject.visitCount++;_dsgTag.HelperFunctions.DeleteValue("v27");_dsgTag.HelperFunctions.DeleteValue("v28");}
visitorObject.orderHistory=cookieList.length>2?cookieList[2]:[];if(visitorObject.orderHistory.length>0&&visitorObject.orderHistory[0]==='['){visitorObject.orderHistory=visitorObject.orderHistory.replace(/-/g,":");visitorObject.orderHistory=JSON.parse(visitorObject.orderHistory);}else{visitorObject.orderHistory=[];}
for(var i=0;i<CONST_IDs.length;i++){IDObject[CONST_IDs[i]]={};}
IDObject.MCID.ID=cookieList.length>3?cookieList[3].split(CONST_CookieInnerDelimiter)[0]:"";IDObject.MCID.lastUpdated=cookieList.length>3?(parseInt(cookieList[3].split(CONST_CookieInnerDelimiter)[1])||0):0;IDObject.Loyalty.ID=cookieList.length>4?cookieList[4]:"";IDObject.Webstore.ID=cookieList.length>5?cookieList[5]:"";IDObject.CustomerKey.ID=cookieList.length>6?cookieList[6]:"";IDObject.DeviceID.ID=cookieList.length>7?cookieList[7]:"";IDObject.AdobeMCVID.ID=cookieList.length>8?cookieList[8]:"";IDObject.AthleteID.ID=cookieList.length>9?cookieList[9]:"";for(var i=0;i<CONST_IDs.length;i++){if(typeof IDObject[CONST_IDs[i]]!=="undefined"&&typeof IDObject[CONST_IDs[i]].ID!=="undefined"&&IDObject[CONST_IDs[i]].ID){IDObject[CONST_IDs[i]].source="OldVersion";IDObject[CONST_IDs[i]].lastUpdated=Date.now();}}
if(IDObject.Webstore.ID==="-1002"){IDObject.Webstore.ID="";}
_dsgTag.HelperFunctions.SaveValue(CONST_CookieName,JSON.stringify(IDObject),false);_dsgTag.HelperFunctions.SaveValue("Visitor",JSON.stringify(visitorObject),false);_dsgTag.visitor=visitorObject;return IDObject;}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured in TranslateLegacyData: "+ex.message,true);}
return{};};var PopulateIDsFromStorage=function(){var rawData=_dsgTag.HelperFunctions.GetValue(CONST_CookieName);var data;if(rawData!==null){try{data=JSON.parse(rawData);}catch(ex){data=TranslateLegacyData();}
for(var i=0;i<CONST_IDs.length;i++){if(typeof data[CONST_IDs[i]]!=="undefined"){internalData[CONST_IDs[i]].ID=data[CONST_IDs[i]].ID||"";internalData[CONST_IDs[i]].lastUpdated=data[CONST_IDs[i]].lastUpdated;internalData[CONST_IDs[i]].lastAPICheck=data[CONST_IDs[i]].lastAPICheck;internalData[CONST_IDs[i]].source=data[CONST_IDs[i]].source;}}}else{_dsgTag.HelperFunctions.SaveValue(CONST_CookieName,JSON.stringify(internalData),false);}};var GetIDAndTypeForAPIFromIDData=function(){var site=_dsgTag.currentWebsite;var sites=_dsgTag.Websites;var ID,type;ID=(type=CONST_InputKeyTypeLoyalty,internalData["Loyalty"].ID?((parseInt(internalData["Loyalty"].ID)?internalData["Loyalty"].ID.substring(0,8):internalData["Loyalty"].ID.substring(internalData["Loyalty"].ID.length-8))):null)||(type=(typeof internalData["CustomerKey"].ID!=="undefined"&&internalData["CustomerKey"].ID.indexOf(CONST_InputKeyCustomerKeyDelimiter)>=0?internalData["CustomerKey"].ID.split(CONST_InputKeyCustomerKeyDelimiter)[1]:"0"),internalData["CustomerKey"].ID?(internalData["CustomerKey"].ID.split(CONST_InputKeyCustomerKeyDelimiter)[0]):null)||(type=(site===sites.DicksSportingGoods?CONST_InputKeyTypeWebstore_DSG:(site===sites.GolfGalaxy?CONST_InputKeyTypeWebstore_GGXY:(site===sites.FieldAndStream?CONST_InputKeyTypeWebstore_FNS:"0"))),internalData["Webstore"].ID.indexOf("-")<0?internalData["Webstore"].ID:"");return{"ID":ID,"type":type};};var GetIDviaAPI=function(baseCreds){if(typeof navigator!=="undefined"&&typeof navigator.userAgent!=="undefined"&&navigator.userAgent.toLowerCase().indexOf("prerender")<0){if(window._dsgTag.experience!=="Kiosk"&&window._dsgTag.experience!=="In Store Mobile"){var lookupInfo=GetIDAndTypeForAPIFromIDData();if(lookupInfo.ID&&lookupInfo.type!=="0"){var apiCreds={"Type":baseCreds.Type,"URL":baseCreds.URL,"Key":baseCreds.Key,"Secret":baseCreds.Secret,"Partner":baseCreds.Partner}
apiCreds.URL=apiCreds.URL.replace(CONST_APIIDReplacement,lookupInfo.ID).replace(CONST_APITypeReplacement,lookupInfo.type);if(!_dsgTag.pendingAPILookup){_dsgTag.pendingAPILookup=true;PerformAPICall(apiCreds);}else{queuedAPICalls.unshift(apiCreds);}}}}};var PerformAPICall=function(apiCreds){try{internalData[apiCreds.Type].lastAPICheck=Date.now();_dsgTag.HelperFunctions.SaveValue(CONST_CookieName,JSON.stringify(internalData));var request=new XMLHttpRequest();request.open('GET',apiCreds.URL,true);request.setRequestHeader('partner_key',apiCreds.Partner);if(apiCreds.Secret){request.setRequestHeader('secret_key',apiCreds.Secret);}
if(apiCreds.Key){request.setRequestHeader('x-CentraSite-APIKey',apiCreds.Key);}
request.onreadystatechange=function(){if(this.readyState===4){if(this.status>=200&&this.status<400){var resp=this.responseText;HandleAPISuccess(JSON.parse(resp));}else{HandleAPIError(this.status);}
_dsgTag.pendingAPILookup=queuedAPICalls.length!==0;}};request.send();request=null;}catch(ex){}};var HandleAPISuccess=function(responseJSON){var type="";var newID=(responseJSON.master_customer_id?(type="MCID",responseJSON.master_customer_id):(responseJSON.athleteId?(type="AthleteID",responseJSON.athleteId):""));if(type&&newID){_dsgTag.CustomerIDs.UpdateCustomerID(type,newID,"API");for(var i=queuedAPICalls.length-1;i>=0;i--){if(queuedAPICalls[i].Type===type){queuedAPICalls.splice(i,1);}}
_dsgTag.EventHandlers.TriggerEvent("MCIDApiUsed",{});}
if(queuedAPICalls.length>0){var creds=queuedAPICalls.pop();PerformAPICall(creds);}};var HandleAPIError=function(status){_dsgTag.HelperFunctions.DebugLog("CustomerID API Error:");_dsgTag.HelperFunctions.DebugLog(status);if(queuedAPICalls.length>0){var creds=queuedAPICalls.pop();PerformAPICall(creds);}};this.UpdateAllCustomerIDs();}
try{_dsgTag.CustomerIDs=new _dsgTag.CustomerIDs();}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured initializing customerID object: "+ex.message,true);_dsgTag.CustomerIDs={};}
if(!_dsgTag.isIFrame){_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(){_dsgTag.CustomerIDs.UpdateAllCustomerIDs();});}else{_dsgTag.CustomerIDs=window._dsgTag.CustomerIDs||{};}}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{var UpdatePageType=function(){_dsgTag.pageType=_dsgTag.HelperFunctions.GetPageTypeByURL(_dsgTag.DataLayer.GetValue("PageURL"));if(typeof utag!=="undefined"){utag.data['js_page._dsgTag.pageType']=_dsgTag.pageType.Name;}
_dsgTag.HelperFunctions.DividerLog("Page Type: "+_dsgTag.pageType.Name);};_dsgTag.FunctionRepository.UpdatePageType=UpdatePageType;UpdatePageType();_dsgTag.EventHandlers.AddDocumentReadyEventHandler(UpdatePageType);_dsgTag.EventHandlers.AddEventHandler("NewPageView",UpdatePageType);}catch(e){utag.DB(e)}}catch(e){}};if(!utag_condload){try{try{if(_dsgTag.pageType===_dsgTag.PageTypes.ProductCompare){_dsgTag.HelperFunctions.HideObjectViaCSS("#widget_breadcrumb");}
if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){window.ScoreCardData=true;}
if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods&&_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){window.floorModelMessageEnabled=true;}
var FindAndRemoveExtraShipPromo=function(){try{var promoMessages=document.querySelectorAll("[class*='CartTotalV1_discountShippingText'], app-promotion > div > div > div.offset-1.row.no-gutters, span.line-item-text--promotion, div > p.line-item__text.text-left.col-9.pl-0.line-item__text--promotion");var matches=[];for(var i=0;i<promoMessages.length;i++){var testResult=/free shipping on orders \$(\d+) or more/i.exec(promoMessages[i].innerText);if(testResult&&testResult.length>1){matches.push({"element":promoMessages[i],"value":testResult[1]});}}
if(matches.length>1){var minValue=999999;var minIndex=0;for(var i=0;i<matches.length;i++){if(matches[i].value<minValue){minValue=matches[i].value;minIndex=i;}}
for(var i=0;i<matches.length;i++){if(i!==minIndex){matches[i].element.parentElement.remove();}}
return;}else if(promoMessages.length==0){setTimeout(FindAndRemoveExtraShipPromo,10);}}catch(ex){console.log(ex.message);}};if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){if(window.location.href.toLowerCase().indexOf("/orderitemdisplay")>=0||window.location.href.toLowerCase().indexOf("/ordershippingbillingview")>=0||window.location.href.toLowerCase().indexOf("/dsgbillingaddressview")>=0||window.location.href.toLowerCase().indexOf("/dsgshippingaddressview")>=0||window.location.href.toLowerCase().indexOf("/dsgdeliveryview")>=0||window.location.href.toLowerCase().indexOf("/dsgpaymentview")>=0||window.location.href.toLowerCase().indexOf("/singleshipmentordersummaryview")>=0||window.location.href.toLowerCase().indexOf("/ordershippingbillingconfirmationview")>=0){FindAndRemoveExtraShipPromo();}}}catch(e){utag.DB(e)}}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"dsg.main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_dsg.main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_se":o["cp.utag_main__se"],"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=utag.cfg.path;w=v.indexOf(".tiqcdn.");if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v.substring(0,v.indexOf("/ut"+"ag/")+6)+"tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(!utag.loader.OU(utag.loader.cfg[d].tid)){sendTag(a,b,d);}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['dsg.main']=utag;utag.cfg={template:"ut4.46.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/dsg/main/prod/",utid:"dsg/main/202011021438"};utag.cfg.v=utag.cfg.template+"202011021631";utag.cond={};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page._dsgTag.currentWebsite']=_dsgTag.currentWebsite}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.experience']=_dsgTag.experience}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.isProduction']=_dsgTag.isProduction}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.isAngular']=_dsgTag.isAngular}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.isIFrame']=_dsgTag.isIFrame}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.useVanillaJSEvents']=_dsgTag.useVanillaJSEvents}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.currentWebsite.Abbreviation']=_dsgTag.currentWebsite.Abbreviation}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.isAOS']=_dsgTag.isAOS}catch(e){utag.DB(e)};try{ud['js_page._dsgTag.pageType']=_dsgTag.pageType}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[];utag.handler.cfg_extend=[];utag.loader.initcfg=function(){utag.loader.cfg={};utag.loader.cfgsort=[];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{try{if(1){try{if(typeof window.elkRUM==='undefined'&&_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){var rumFile="tag.dickssportinggoods.com/rumrunner/rumrunner-dickssportinggoods-9ah6mwd28zkugw00q8lcym030n.min.js";if(_dsgTag.isProduction){rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-dickssportinggoods-9ah6mwd28zkugw00q8lcym030p.min.js";}
_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(rumFile);}
if(typeof window.elkRUM==='undefined'&&_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){var rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-golfgalaxy-zoktfeul5d19zukml8g7c030n.min.js";if(_dsgTag.isProduction){rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-golfgalaxy-zoktfeul5d19zukml8g7c030p.min.js";}
_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(rumFile);}
if(typeof window.elkRUM==='undefined'&&_dsgTag.currentWebsite===_dsgTag.Websites.FieldAndStream){var rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-fieldAndStream-ogoh3zr77cnjy8vd2zko030n.min.js";if(_dsgTag.isProduction){rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-fieldAndStream-ogoh3zr77cnjy8vd2zko030p.min.js";}
_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(rumFile);}
if(typeof window.elkRUM==='undefined'&&_dsgTag.currentWebsite===_dsgTag.Websites.Calia){var rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-calia-y16ee8wrubkb78ytump9d030n.min.js";if(_dsgTag.isProduction){rumFile="//tag.dickssportinggoods.com/rumrunner/rumrunner-calia-y16ee8wrubkb78ytump9d030p.min.js";}
_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(rumFile);}}catch(ex){}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){_dsgTag.FunctionRepository.RegisterTag("AdobeAnalytics",_dsgTag.InitTimings.Immediate,function(){window.AppMeasurement_Module_ActivityMap=AppMeasurement_Module_ActivityMap;window.AppMeasurement_Module_AudienceManagement=AppMeasurement_Module_AudienceManagement;window.AppMeasurement=AppMeasurement;var s__host=window.location.hostname.toLowerCase();var accounts=[];accounts.push(_dsgTag.isProduction?"dsgglobalprd":"dsgdsgglobalstg");if(_dsgTag.currentWebsite.Domain==="Unknown"){accounts.push("someothersuite");}
if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){accounts.push(_dsgTag.isProduction?"dsgusprd":"dsgusstg");}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){accounts.push(_dsgTag.isProduction?"dsgggxyprd":"dsgggxystg");}else if(_dsgTag.currentWebsite===_dsgTag.Websites.FieldAndStream){accounts.push(_dsgTag.isProduction?"dsgfnsprd":"dsgfnsstg");}else if(_dsgTag.currentWebsite===_dsgTag.Websites.Calia){accounts.push(_dsgTag.isProduction?"dsgcaliaprd":"dsgcaliastg");}
if(_dsgTag.experience==="Mobile App"){accounts.push(_dsgTag.isProduction?"dsgmobile":"dsgmobileqa");}
if(_dsgTag.pageType===_dsgTag.PageTypes.WarDash){accounts=["dsgwarprd"];}
s_account=accounts.join(",");_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://www.everestjs.net/static/le/last-event-tag-latest.min.js",function(){AdCloudEvent(window._dsgTag.AdobeID,s_account);});window.s=s_gi(s_account);s.visitor=Visitor.getInstance(window._dsgTag.AdobeID);s.currencyCode="USD";s.charSet="ISO-8859-1";s.trackDownloadLinks=true;s.trackExternalLinks=true;s.trackInlineStats=true;s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";s.linkInternalFilters="javascript:,tel:,"+_dsgTag.linkInternalFilters;s.linkInternalFilters+=","+s__host;s.linkLeaveQueryString=false;s.baseLinkTrackVars="pageName,server,prop2,prop17,prop33,prop45,prop54,prop56,prop57,prop59,prop60,prop61,prop70,prop71,eVar8,eVar18,eVar20,eVar21,eVar24,eVar25,eVar29,eVar42,eVar45,eVar50,eVar57,eVar59,eVar64,eVar74,eVar75";s.linkTrackVars=s.baseLinkTrackVars;s.linkTrackEvents="";s.visitorNamespace="dsg";s.server=s__host;s.trackingServer="metrics."+(typeof _dsgTag.currentWebsite.CustomTrackingServerDomain!=="undefined"?_dsgTag.currentWebsite.CustomTrackingServerDomain:window._dsgTag.currentWebsite.Domain);s.trackingServerSecure="smetrics."+(typeof _dsgTag.currentWebsite.CustomTrackingServerDomain!=="undefined"?_dsgTag.currentWebsite.CustomTrackingServerDomain:window._dsgTag.currentWebsite.Domain);s._internalSites=["453andahalf","custhelp","dicks.careers","dicks.reviews","dickssportinggoods.jobs","dicksteamgear","dsg","dsgcarriers","dsgcorpevents","dsgfreight","dsgn.dcsg","epicfit","fieldandstream.careers","golfgalaxy.careers","golfgalaxyjobs","golfgalaxylessons","investors.dicks","koppen.prod.tracylocke","maxfli","mydickssportinggoods","mygolfgalaxy","nickentgolf","ralphmaltby","sombreropay","sombrerosport","sportsmansadvantageclub","sportsmatter","topflite","truerunner"];for(var website in _dsgTag.Websites){if(_dsgTag.Websites[website]!==_dsgTag.currentWebsite)
s._internalSites.push(_dsgTag.Websites[website].Domain.replace(".com",""));}
s._internalSitesRegEx=new RegExp("("+s._internalSites.join("|").replace(/\./g,"\\.")+")\\.com");s.seList="360.cn|q|360.cn>abcsok.no|q|Startsiden>alhea.com|q|Alhea>search.alot.com,alot.com|q|Alot>altavista.co,altavista.de|q,r|AltaVista>search.aol.,suche.aolsvc.de|q,query|AOL>ask.jp,ask.co|q,ask|Ask>isearch.avg.com|q|AVG>baidu.com|word,wd|Baidu>blekko.com|q|Blekko>bing.com|q|Bing>search.cnn.com|query|CNN Web Search>search.comcast.net|q|Comcast>contenko.com|q|Contenko>daum.net,search.daum.net|q|Daum>ask.reference.com|q|Dictionary>dogpile.com|q|DogPile>duckduckgo.com|q|DuckDuckGo>search.earthlink.net|q|Earthlink>excite.co,msxml.excite.com|search,q|Excite>goodsearch.com|keywords|Good Search>google.,googlesyndication.com,.googleadservices.com|q,as_q|Google>icqit.com|q|icq>info.com|qkw|Info.com>search.infospace.com,infospace.com|q|InfoSpace>ixquick.com|query|ixquick.com>libero.it|query|libero.it>search.lycos.com|q|Lycos>mail.ru|q|Mail.ru>msn.com|q|MSN>.mywebsearch.com,mywebsearch.com|searchfor|MyWebSearch>myway.com|searchfor|MyWay.com>naver.com,search.naver.com|query|Naver>netscape.com|query,search|Netscape Search>optimum.net|q|Optimum Search>reference.com|q|Reference.com>reference.com|q|Reference.com>search.rr.com|qs|RoadRunner Search>search-results.com|q|Search Results.com>seznam.cz|q|seznam.cz>so.com|q|so.com>sogou.com|query|sogou.com>tiscali.it,www.tiscali.co.uk|key,query|Tiscali>virgilio.it|qs|Virgilio>yandex|text|Yandex.ru>webcrawler.com|q|WebCrawler>wow.com|q|Wow>search.xfinity.com|q|Comcast>yahoo.com,search.yahoo.com,yahoo.co.jp|p,va|Yahoo!>r.search.yahoo.com|p|Yahoo! - Link Referral>zensearch.com|q|Zen Search";s._channelDomain="SNS|facebook.com,wanelo.com,linkedin.com,twitter.com,orkut.com,friendster.com,livejournal.com,blogspot.com,wordpress.com,friendfeed.com,digg.com,reddit.com,stumbleupon.com,twine.com,yelp.com,mixx.com,delicious.com,tumblr.com,disqus.com,intensedebate.com,plurk.com,slideshare.net,backtype.com,netvibes.com,mister-wong.com,diigo.com,flixster.com,youtube.com,vimeo.com,12seconds.tv,zooomr.com,identi.ca,jaiku.com,flickr.com,imeem.com,dailymotion.com,photobucket.com,fotolog.com,smugmug.com,classmates.com,myyearbook.com,mylife.com,tagged.com,brightkite.com,ning.com,bebo.com,hi5.com,yuku.com,cafemom.com,xanga.com,pinterest.com,foursquare.com,instagram.com,like2b.uy,myspace.com>PAR|maxfli.com,nickentgolf.com,topflite.com,epicfit.com,koppen.prod.tracylocke.com";s._channelDomainEquals="SNS|t.co";s._channelPattern="AFF|AFF>CSE|CSE>DSP|DSP,DIS,ESP>EML|EML,EMA,PRO,TRI,201>SEM|PPC,SEM>PAR|PAR>TXT|TEX,TXT>SNS|SNT,SN,SN:";s.usePlugins=true;function s_doPlugins(s){try{var variables=[];s._doPluginsErrors=s._doPluginsErrors||[];variables.push({"Name":"prop54","Handler":function(){s.prop54=(typeof(siteData)!=='undefined').toString();}});variables.push({"Name":"prop59","Handler":function(){if(typeof utag!=="undefined"&&typeof utag.data!=='undefined'){s.prop59=utag.data.tealium_account+"."+utag.data.tealium_profile+"."+utag.data.tealium_environment;}else{s.prop59="Default";}
if(tagScript=document.querySelector("script[src*='utag.js']")){s.prop59+=": "+tagScript.src.toLowerCase().replace("/utag.js","");}}});variables.push({"Name":"prop56","Handler":function(){if(typeof utag!=="undefined"&&typeof utag.cfg!=="undefined"&&typeof utag.cfg.v!=="undefined"){s.prop56=utag.cfg.v;}else if(_dsgTag.tagVersion){s.prop56=_dsgTag.tagVersion;}}});variables.push({"Name":"dsgPageNameLookup","Handler":function(){if(!s.pageName)
s.dsgPageNameLookup();}});variables.push({"Name":"eVar74","Handler":function(){if(s.pageName){s.pageName=s.pageName.replace(/'|"/g,"");s.eVar74="D=pageName";}}});variables.push({"Name":"contentHierProps","Handler":function(){s.contentHierProps();}});variables.push({"Name":"prop62","Handler":function(){s.prop62=_dsgTag.HelperFunctions.GetCookieValue("NNC");}});variables.push({"Name":"prop65","Handler":function(){s.prop65=_dsgTag.HelperFunctions.GetCookieValue("yanni")?"Y":"N";}});variables.push({"Name":"prop60","Handler":function(){if(typeof _dsgTag.OrderHistory!=="undefined"){s.prop60=(_dsgTag.OrderHistory.length).toString();}}});variables.push({"Name":"errorPage","Handler":function(){if(s.pageType==="errorPage"){s.pageName='D="'+_dsgTag.currentWebsite.Abbreviation+': 404: "+g';s.eVar74=s.pageName;s.prop2="Error";s._errorPageName=_dsgTag.currentWebsite.Abbreviation+": 404: "+location.protocol+'//'+location.host+location.pathname;_dsgTag.HelperFunctions.SaveValue("v27",s._errorPageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);}
else if(s.pageName&&s.prop2){_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);}}});variables.push({"Name":"_previousPageName","Handler":function(){if(_dsgTag.previousPageValues){s.eVar27=_dsgTag.previousPageValues["v27"];s.eVar28=_dsgTag.previousPageValues["v28"];if(!s.eVar27)
s.eVar27="Entry Page";if(!s.eVar28)
s.eVar28="Entry Page";}}});variables.push({"Name":"specialErrors","Handler":function(){var name=_dsgTag.DataLayer.GetValue("PageName");if(name==="Site Down"){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Error: Site Unavailable";s.eVar44="Site Unavailable";s.pageType="errorPage";_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}
else if(name==="High Traffic"){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Error: High Traffic";s.eVar44="High Traffic";s.pageType="errorPage";_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}
else if(name==="Hot Market"||name==="Product Launch"){if(s.pageName){s.pageName=s.pageName.substring(0,s.pageName.lastIndexOf(":")+1)+" "+name;_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}}}});variables.push({"Name":"Queue","Handler":function(){if(document.title.toLowerCase().indexOf("waiting room")>=0){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Special Product Queue";s.prop2="Special Product Queue";}}});variables.push({"Name":"eVar36","Handler":function(){if(_dsgTag.HelperFunctions.GetQueryStringValue("source")){s.eVar36=_dsgTag.HelperFunctions.GetQueryStringValue("source");s.eVar36=s.getValOnce(s.eVar36,"v36",30,"m");if(s.eVar36){s.events=s.apl(s.events,"event21");}}
if(s.eVar36){s.eVar36=s.eVar36.toString().replace(/(^(")|(")$)/g,"");}}});variables.push({"Name":"eVar43","Handler":function(){s.eVar43=_dsgTag.CustomerIDs.AdobeMCVID||(window.visitor&&visitor.getMarketingCloudVisitorID());}});variables.push({"Name":"eVar29","Handler":function(){var customerKey=_dsgTag.HelperFunctions.GetQueryStringValue("customerkey");if((customerKey&&customerKey.indexOf("-")<0&&_dsgTag.HelperFunctions.GetQueryStringValue("MCID"))||_dsgTag.HelperFunctions.GetQueryStringValue("appmcid")){if(_dsgTag.CustomerIDs.AthleteID){s.eVar29=_dsgTag.CustomerIDs.AthleteID;}else{s.eVar29="MCID:"+_dsgTag.CustomerIDs.MCID;}}}});variables.push({"Name":"eVar22","Handler":function(){if(_dsgTag.HelperFunctions.GetQueryStringValue("customerkey")){s.eVar22=_dsgTag.CustomerIDs.CustomerKey;}}});variables.push({"Name":"eVar79","Handler":function(){s.eVar79=_dsgTag.HelperFunctions.GetQueryStringValue("hdpid");}});variables.push({"Name":"eVar50","Handler":function(){s.eVar50=_dsgTag.customerLane;}});variables.push({"Name":"event7","Handler":function(){if(_dsgTag.HelperFunctions.GetValue("LaneChanged")&&_dsgTag.HelperFunctions.GetValue("LaneChanged")=='true'){s.events=s.apl(s.events,"event7");_dsgTag.HelperFunctions.DeleteValue("LaneChanged");}}});variables.push({"Name":"eVar2","Handler":function(){if(s.eVar2){s.prop8="D=v2";s.events=s.apl(s.events,"event2");}}});variables.push({"Name":"eVar44","Handler":function(){if(s.eVar44){s.prop55="D=v44";if(!s.prop23){if(typeof s.pageName!=="undefined"&&s.pageName.indexOf("D=")>=0){s.prop23=s.pageName;}else{s.prop23="D=pageName";}
if(!s.prop23){s.prop23=_dsgTag.previousPageValues["v27"];}}
if(!s.prop24)
s.prop24="D=c2";s.events=s.apl(s.events,"event20");}}});variables.push({"Name":"eVar24","Handler":function(){var covertDateToVariableFormat=function(input){dayNames=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var output=(input.getHours()%12===0?12:input.getHours()%12);output+=":"+(input.getMinutes()<10?"0":"")+input.getMinutes()+" ";output+=(input.getHours()>=12?"PM":"AM");output+="|"+dayNames[input.getDay()];return output;}
var serverTimes=_dsgTag.HelperFunctions.GetStandardizedDKSTime();if(serverTimes&&serverTimes.length>1){s.eVar24=covertDateToVariableFormat(serverTimes[0]);s.eVar25=covertDateToVariableFormat(serverTimes[1]);}}});variables.push({"Name":"eVar6","Handler":function(){s.eVar6="+1";}});variables.push({"Name":"prop41","Handler":function(){if(_dsgTag.HelperFunctions.GetCookieValue("locationAllowed")==="Y"){s.prop41="true";}else{s.prop41="false";}}});variables.push({"Name":"prop33","Handler":function(){var botAnalysisCookie="";var cookiePrefixes=["dsg","gg","cs"];for(var i=0;i<cookiePrefixes.length&&!botAnalysisCookie;i++){botAnalysisCookie=_dsgTag.HelperFunctions.GetCookieValue(cookiePrefixes[i]+"_perf_analysis");}
if(botAnalysisCookie){s.prop33=botAnalysisCookie;}}});variables.push({"Name":"prop42","Handler":function(){s.prop42=s.getDaysSinceLastVisit("lv");}});variables.push({"Name":"emptyProducts","Handler":function(){if(s.events&&(s.eVar2||s.eVar3||s.eVar4||s.eVar63)&&!s.products)
s.products=";";}});variables.push({"Name":"eVar75","Handler":function(){s.prop75="D=g";s.eVar75="D=g";}});variables.push({"Name":"eVar47","Handler":function(){s.eVar47="D=r";}});variables.push({"Name":"eVar42","Handler":function(){s.eVar42="D=User-Agent";}});variables.push({"Name":"eVar45","Handler":function(){s.eVar45=_dsgTag.currentWebsite.Abbreviation;}});variables.push({"Name":"eVar64","Handler":function(){s.eVar64=_dsgTag.experience;}});variables.push({"Name":"referrer","Handler":function(){if(document.referrer&&document.referrer.indexOf("krypto=")>=0)
s.referrer=_dsgTag.HelperFunctions.removeURLParameters(document.referrer,"krypto");}});variables.push({"Name":"eVar73","Handler":function(){if((s.eVar27&&s.eVar27.toLowerCase().indexOf("home page")>=0)&&s.eVar1){s.eVar73="D=v1";s.prop67="D=v1";s.events=s.apl(s.events,"event77");}}});variables.push({"Name":"eVar65","Handler":function(){if((s.eVar1&&s.eVar1.toLowerCase().indexOf("topnav")>=0)||s.eVar2){if(s.eVar2){s.eVar65='D="Search|"+v2';s.prop63='D="Search|"+v2';}else{s.eVar65='D="Top Navigation|"+v1';s.prop63='D="Top Navigation|"+v1';s.events=s.apl(s.events,"event76");}}}});for(var i=0;i<variables.length;i++){try{variables[i]["Handler"]();}catch(ex){var variableName=variables[i]["Name"];if(typeof s._doPluginsErrors.indexOf==="function"&&s._doPluginsErrors.indexOf(variableName)<0){s._doPluginsErrors.push(variableName);var errorMessage="Failed to set value in doPlugins "+variableName+": "+ex.message;_dsgTag.HelperFunctions.DebugLog(errorMessage,true);}}}
if(s.eVar18&&s.eVar18.toString()=="0"){s.eVar18="Zero";}
if(s.eVar1)
s.prop66="D=v1";if(s.eVar2)
s.prop8="D=v2";if(s.eVar11)
s.events=s.apl(s.events,"event44="+s.eVar11);if(s.eVar16)
s.purchaseID=s.transactionID="D=v16";if(s.eVar27)
s.prop64="D=v27";if(s.eVar28)
s.prop28="D=v28";if(s.eVar44)
s.prop55="D=v44";if(s.eVar45)
s.prop45="D=v45";if(s.eVar54)
s.prop58="D=v54";if(s.eVar64)
s.prop57="D=v64";if(s.eVar92)
s.eVar93="D=v92";if(s.eVar95)
s.eVar94="D=v95";if(typeof(s.events)!=='undefined'&&s.events!==null&&s.events.match(/event67=(\d+)/))
s.prop9=s.events.match(/event67=(\d+)/)[1];if(s.campaign)
s.campaign=s.campaign.toLowerCase();if(s.eVar1)
s.eVar1=s.eVar1.toLowerCase();if(s.eVar2)
s.eVar2=s.eVar2.toLowerCase();if(s.eVar5)
s.eVar5=s.eVar5.toLowerCase();if(s.prop10)
s.prop10=s.prop10.toLowerCase();if(s.prop11)
s.prop11=s.prop11.toLowerCase();if(s.linkType==="e"){_dsgTag.HelperFunctions.WriteCookieValue("v27",_dsgTag.HelperFunctions.GetValue("v27"),true);_dsgTag.HelperFunctions.WriteCookieValue("v28",_dsgTag.HelperFunctions.GetValue("v28"),true);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in doPlugins: "+ex.message,true);}}
s.doPlugins=s_doPlugins;s.apl=function(l,v,d,u){var s=this;d=d?d:",";if(!s.inList(l,v,d,u))l=l?l+d+v:v;return l};s.inList=function(l,v,d,u){if(typeof v!="string")return false;var s=this,ar=Array();if(typeof l=="string"){d=d?d:",";ar=l.split(d)}else if(typeof l=="object")ar=l;else return false;for(var i=0,arlength=ar.length;i<arlength;i++)if(typeof u!="undefined"&&u==1&&v==ar[i])return true;else if(v.toLowerCase()==ar[i].toLowerCase())return true;return false};s.getPreviousValue=function(v,c,el){var s=this,t=new Date,i,j,r="",f=1;c=c?c:"s_gpv";t.setTime(t.getTime()+18E5);if(el){f=0;i=el.split(",");j=s.events?s.events.split(","):"";for(var x=0,il=i.length;x<il;x++){for(var y=0,jl=j.length;y<jl;y++)if(i[x]==j[y]){f=1;break}if(f==1)break}}if(f==1){if(s.c_r(c))r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,"no value",t)}return r};s.manageVars=function(c,l,f){var s=this,vl,la,vla;l=l?l:"";f=f?f:1;if(!s[c])return false;vl="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(var n=1;n<76;n++)vl+=",prop"+n;for(var n=1;n<251;n++)vl+=",eVar"+n;for(n=1;n<6;n++)vl+=",hier"+n;for(n=1;n<4;n++)vl+=",list"+n;for(n in s.contextData)vl+=",contextData."+n;if(l&&(f==1||f==2)){if(f==1)vl=l.replace("['",".").replace("']","");if(f==2){la=l.split(",");vla=vl.split(",");vl="";for(x in la){if(la[x].indexOf("contextData")>-1){lax=la[x].split("'");la[x]="contextData."+lax[1]}for(y in vla)if(la[x]==vla[y])vla[y]=""}for(y in vla)vl+=vla[y]?","+vla[y]:""}s.pt(vl,",",c,0);return true}else if(l==""&&f==1){s.pt(vl,",",c,0);return true}else return false};s.clearVars=function(t){var s=this;if(t.indexOf("contextData")==-1)s[t]="";else if(t.indexOf("contextData")>-1){var c=t.substring(t.indexOf(".")+1);s.contextData[c]=""}};s.lowercaseVars=function(t){var s=this;if(t!="events"&&t.indexOf("contextData")==-1&&s[t]){s[t]=s[t].toString();if(s[t].indexOf("D=")!=0)s[t]=s[t].toLowerCase()}else if(t.indexOf("contextData")>-1){var c=t.substring(t.indexOf(".")+1);if(s.contextData[c]){s.contextData[c]=s.contextData[c].toString();s.contextData[c]=s.contextData[c].toLowerCase()}}};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:""}return""};s.join=function(v,p){var s=this;var f,b,d,w;if(p){f=p.front?p.front:"";b=p.back?p.back:"";d=p.delim?p.delim:"";w=p.wrap?p.wrap:""}var str="";for(var x=0;x<v.length;x++){if(typeof v[x]=="object")str+=s.join(v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d}return f+str+b};s.repl=function(x,o,n){var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x};s.getValOnce=function(v,c,e,t){var s=this,a=new Date,v=v?v:"",c=c?c:"s_gvo",e=e?e:0,i=t=="m"?6E4:864E5,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a)}return v==k?"":v};s.getDaysSinceLastVisit=function(prevCookie){var s=this;valCookie=prevCookie+'_s';visitCookie=prevCookie+'_c';var prevVisit;var currentValue;now=(new Date()).getTime();thirtyMinutes=30*60*1000;twelveHours=12*60*60*1000;oneDay=24*60*60*1000;threeYears=3*365*oneDay;thirtyMinFromNow=new Date();twelveHoursFromNow=new Date();threeYearsFromNow=new Date();thirtyMinFromNow.setTime(now+thirtyMinutes);twelveHoursFromNow.setTime(now+twelveHours);threeYearsFromNow.setTime(now+threeYears);prevVisit=s.c_r(prevCookie);prevValue=s.c_r(valCookie);visitStart=s.c_r(visitCookie);if(prevVisit.length==0){s.c_w(prevCookie,now,threeYearsFromNow);s.c_w(visitCookie,now,twelveHoursFromNow);s.c_w(valCookie,'First visit',thirtyMinFromNow);}else{var ticksPassed=now-prevVisit;var daysPassed=parseInt(ticksPassed/oneDay);if(ticksPassed>30*60*1000||visitStart.length==0){s.c_w(prevCookie,now,threeYearsFromNow);s.c_w(visitCookie,now,twelveHoursFromNow);s.c_w(valCookie,daysPassed,thirtyMinFromNow);}else{s.c_w(prevCookie,now,threeYearsFromNow);s.c_w(valCookie,prevValue,thirtyMinFromNow);}}currentValue=s.c_r(valCookie);if(currentValue.length==0)return'Cookies Not Supported';else return currentValue;};s.getQueryParam=function(p,d,u,h){var s=this,v="",i,j,t;d=d?d:"";u=u?u:s.pageURL?s.pageURL:s.wd?s.wd.location:window.location;while(p){i=p.indexOf(",");i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+"",h);if(t)t=t.indexOf("#")>-1?t.substring(0,t.indexOf("#")):t;if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v};s.p_gpv=function(k,u,h){var s=this,v="",q;j=h==1?"#":"?";i=u.indexOf(j);if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,"&","p_gvf",k)}return v};s.p_gvf=function(t,k){if(t){var s=this,i=t.indexOf("="),p=i<0?t:t.substring(0,i),v=i<0?"True":t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa?s.epa(v):s.unescape(v)}return""};s.channelManager=function(a,b,c,d,e,f,g){var s=this,h=new Date,i=0,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;U=s.getQueryParam?1:0;V=s.repl?1:0;if(e){i=1;if(s.c_r(e))i=0;h.setTime(h.getTime()+18E5);s.c_w(e,1,h);if(f&&s.c_r("s_tbm"+e+f))i=0}j="";if(_dsgTag!=="undefined"&&_dsgTag.isAngular&&typeof siteData!=="undefined"&&typeof siteData.ReferringPageUrl!=="undefined"){j=siteData.ReferringPageUrl;}else if(_dsgTag!=="undefined"&&_dsgTag.isAngular&&typeof siteData!=="undefined"&&typeof siteData.ReferringPageURL!=="undefined"){j=siteData.ReferringPageURL;}else{j=s.referrer?s.referrer:document.referrer;}if(j=="Typed/Bookmarked")j="";j=decodeURIComponent(j.toLowerCase());if(!j)k=1;else{l=j.indexOf("?")>-1?j.indexOf("?"):j.length;m=j.substring(0,l);n=j.split("/");n=n[2].split("?");o=n[0].toLowerCase();p=s.linkInternalFilters.toLowerCase();p=p.split(",");for(q=0;q<p.length;q++){r=o.indexOf(p[q])==-1?"":j;if(r)break}}if(!r&&!k){t=j;u=o;w="Other Natural Referrers";v=w+": "+o;x=s.seList+">"+s._extraSearchEngines;if(d==1){m=V?s.repl(m,"oogle","%"):s.replace(m,"oogle","%");m=V?s.repl(m,"ahoo","^"):s.replace(m,"ahoo","^");j=V?s.repl(j,"as_q","*"):s.replace(j,"as_q","*")}y=x.split(">");for(z=0;z<y.length;z++){A=y[z];A=A.split("|");B=A[0].split(",");for(C=0;C<B.length;C++){D=m.indexOf(B[C]);if(D>-1){if(A[2])E=v=A[2];else E=o;if(d==1){E=V?s.repl(E,"#"," - "):s.replace(E,"#"," - ");j=V?s.repl(j,"*","as_q"):s.replace(j,"*","as_q");E=V?s.repl(E,"^","ahoo"):s.replace(E,"^","ahoo");E=V?s.repl(E,"%","oogle"):s.replace(E,"%","oogle")}F=A[1].split(",");for(G=0;G<F.length;G++){if(j.indexOf(F[G]+"=")>-1||j.indexOf("duckduckgo")>-1||j.indexOf("googlequicksearchbox")>-1||j.indexOf("http://www.google.")==0||j.indexOf("https://www.google.")==0||j.indexOf("https://search.yahoo.com/")==0||j.indexOf("http://r.search.yahoo.com")==0||j.indexOf("https://r.search.yahoo.com")==0||j.indexOf("https://www.bing.com")==0)H=1;I=U?s.getQueryParam(F[G],"",j).toLowerCase():s.Util.getQueryParam(F[G],j).toLowerCase();if(H||I)break}}if(H||I)break}if(H||I)break}}if(!r||g!="1"){J=a.split(",");for(var q in J)if(J.hasOwnProperty(q))if(U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]))if(b)T=T?T+b+(U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q])):U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]);else{T=U?s.getQueryParam(J[q]):s.Util.getQueryParam(J[q]);if(T)break}if(T){v=T;if(E)w="Paid Search";else w="Unknown Paid Channel"}if(!T&&E&&H){w="Natural Search";v=w+": "+E}}if(i&&k&&!T)t=u=v=w="Typed/Bookmarked";J=s._channelDomain;if(J&&o&&!r){K=J.split(">");for(L=0;L<K.length;L++){M=K[L]?K[L].split("|"):"";N=M[1]?M[1].split(","):"";O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=("/"+o).indexOf(Q);if(R>-1){w=M[0];v=T?v:M[0]+": "+o;break}}if(R>-1)break}}J="";if(typeof s._channelDomainEquals!=="undefined")J=s._channelDomainEquals;if(J&&o&&!r){K=J.split(">");for(L=0;L<K.length;L++){M=K[L]?K[L].split("|"):"";N=M[1]?M[1].split(","):"";O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=(o===Q);if(R){w=M[0];v=T?v:M[0]+": "+o;break}}if(R)break}}J=s._channelParameter;if(J){K=J.split(">");for(L=0;L<K.length;L++){M=K[L]?K[L].split("|"):"";N=M[1]?M[1].split(","):"";O=N.length;for(P=0;P<O;P++){R=U?s.getQueryParam(N[P]):s.Util.getQueryParam(N[P]);if(R){w=M[0];break}}if(R)break}}J=s._channelPattern;if(J){K=J.split(">");for(L=0;L<K.length;L++){M=K[L]?K[L].split("|"):"";N=M[1]?M[1].split(","):"";O=N.length;for(P=0;P<O;P++){Q=N[P].toLowerCase();R=T?T.toLowerCase():"";S=R.indexOf(Q);if(S==0){w=M[0];break}}if(S==0)break}}S=w?T+u+w+I:"";c=c?c:"c_m";if(c!="0")S=s.getValOnce(S,c,0);if(S){s._campaignID=T?T:"n/a";s._referrer=t?t:"n/a";s._referringDomain=u?u:"n/a";s._campaign=v?v:"n/a";s._channel=w?w:"n/a";s._partner=E?E:"n/a";s._keywords=H?I?I:"Keyword Unavailable":"n/a";if(f&&w!="Typed/Bookmarked"){h.setTime(h.getTime()+f*864E5);s.c_w("s_tbm"+e+f,1,h)}}else s._campaignID=s._referrer=s._referringDomain=s._campaign=s._channel=s._partner=s._keywords=""};s.LegacyChannelManager=function(){s.campChannelAbbr="";s._channel="";s.setCampaignTracking();if(s._channel){s.eVar91=s.crossVisitParticipation(s._channel,"cvp_v91","14","20","/","","1");}else if(s.campChannelAbbr){s.eVar91=s.crossVisitParticipation(s.campChannelAbbr,"cvp_v91","14","20","/","","1");}
if(s.eVar92){s.eVar93="D=v92";}};s.setCampaignTracking=function(){var v92channel="n/a";var v92refdomain="n/a";var v92campaign="n/a";if(typeof _dsgTag!=="undefined"&&_dsgTag.isAngular&&typeof siteData!=="undefined"&&typeof siteData.PageUrl!=="undefined")
s.campaign=_dsgTag.HelperFunctions.GetQueryStringValue("camp",siteData.PageUrl);else if(typeof _dsgTag!=="undefined"&&_dsgTag.isAngular&&typeof siteData!=="undefined"&&typeof siteData.PageURL!=="undefined")
s.campaign=_dsgTag.HelperFunctions.GetQueryStringValue("camp",siteData.PageURL);else
s.campaign=_dsgTag.HelperFunctions.GetQueryStringValue("camp");s.tempLinkInternalFilters=s.linkInternalFilters;s.linkInternalFilters=s.linkInternalFilters+","+"mycustomizer.com,associatekiosk.dcsg.com,blog.dickssportinggoods.com,blog.fieldandstreamshop.com,dsgcep.custhelp.com,ggcep.custhelp.com,fnscep.custhelp.com,dickssportinggoodsonline.com,dsgn.dcsg.com,investors.dicks.com,m.dickssportinggoods.com,m2.dickssportinggoods.com,maxfli.com,mobile.where2getit.com,myw2.dcsg.com,protips.dickssportinggoods.com,reviews.dickssportinggoods.com,storelocator.dickssportinggoods.com,storelocator.fieldandstreamshop.com,stores.dickssportinggoods.com,stores.fieldandstreamshop.com,weeklyad.dickssportinggoods.com,dickssportinggoods.com,paypal.com,app.dcsg.com,bbhosted.com,brandingbrand.com,dcsg.com,dickssportinggoods.com,gsipartners.com,where2getit.com,where2stageit.com,453andahalf.com,caliastudio.com,cardinalcommerce.com,cashstar.com,chelseacollective.com,conxport.com,dicks.com,dicksmvp.com,dickssportinggoods.jobs,dicksteamgear.com,dsg.com,dsgcorpevents.com,easy2.com,fieldandstreamshop.com,golfgalaxy.com,golfgalaxyjobs.com,golfgalaxylessons.com,m3mobile.com,mydickssportinggoods.com,mygolfgalaxy.com,myscorecardaccount.com,reviewmyaccount.com,savvis.net,sombreropay.com,sombrerosport.com,bluesombrero.com,sportsmansadvantageclub.com,sportsmatter.com,sportsmatter.org,truerunner.com";s.channelManager("camp","","0","0","s_tb");s.linkInternalFilters=s.tempLinkInternalFilters;if(s._channel){if(s._channel==="Typed/Bookmarked")
s._channel=s._referrer=s._referringDomain=s._campaign="DRT";else if(s._channel==="Paid Search")
s._channel="SEM";else if(s._channel==="Natural Search")
s._channel="SEO";else if(s._channel==="Other Natural Referrers")
s._channel="RFD";else if(s._channel==="Unknown Paid Channel")
s._channel="Paid Non-Search";v92channel=s._channel;}
if(s._referringDomain)
v92refdomain=s._referringDomain;if(s.campaign){s.campaign=replaceAll(s.campaign,"%25","%");s.campaign=replaceAll(s.campaign,"%3A",":");s.campaign=replaceAll(s.campaign,"%3a",":");s.campaign=replaceAll(s.campaign,"%5F","_");s.campaign=replaceAll(s.campaign,"%5f","_");s.campaign=replaceAll(s.campaign,"%20"," ");s.campaign=replaceAll(s.campaign,"%21","!");s.campaign=replaceAll(s.campaign,"%22",'"');s.campaign=replaceAll(s.campaign,"%23","#");s.campaign=replaceAll(s.campaign,"%24","$");s.campaign=replaceAll(s.campaign,"%28","(");s.campaign=replaceAll(s.campaign,"%29",")");s.campaign=replaceAll(s.campaign,"%2D","-");s.campaign=replaceAll(s.campaign,"%2d","-");s.campaign=replaceAll(s.campaign,"%2E",".");s.campaign=replaceAll(s.campaign,"%2e",".");v92campaign=s.campaign;s.campChannelAbbr=s.campaign.substring(0,3).toUpperCase();s.campChannelAbbr=s.campChannelAbbr.replace("DIS","DSP");s.campChannelAbbr=s.campChannelAbbr.replace("ESP","DSP");s.campChannelAbbr=s.campChannelAbbr.replace("EMA","EML");s.campChannelAbbr=s.campChannelAbbr.replace("PRO","EML");s.campChannelAbbr=s.campChannelAbbr.replace("TRI","EML");s.campChannelAbbr=s.campChannelAbbr.replace("201","EML");s.campChannelAbbr=s.campChannelAbbr.replace("PPC","SEM");s.campChannelAbbr=s.campChannelAbbr.replace("SNT","SNS");if(!s._channel)
v92channel=s.campChannelAbbr;}
if((v92channel.toLowerCase()!="n/a")||(v92refdomain.toLowerCase()!="n/a")||(v92campaign.toLowerCase()!="n/a")){var theURL=document.URL.toLowerCase();var queryParamsToKeep=["acq","tsa","hdpid","channel","sl","param","gmb","pdp","seo"];try{for(var i=0;i<queryParamsToKeep.length;i++){value=_dsgTag.HelperFunctions.GetQueryStringValue(queryParamsToKeep[i]);if(value){queryParamsToKeep[i]=queryParamsToKeep[i]+"="+_dsgTag.HelperFunctions.GetQueryStringValue(queryParamsToKeep[i]);}else{queryParamsToKeep.splice(i,1);i--;}}
theURL=theURL.split("?")[0]+(queryParamsToKeep.length>0?"?"+queryParamsToKeep.join("&"):"");if(theURL.indexOf("http")===0){var protocolAndSubdomain=theURL.split(".")[0];var excludedSubdomains=['stores','storelocator','protips','myscorecard'];var validSubdomain=true;for(var i=0;i<excludedSubdomains.length&&validSubdomain;i++){validSubdomain=(protocolAndSubdomain.indexOf(excludedSubdomains[i])<0);}
if(validSubdomain){theURL=theURL.split(".").splice(1).join(".");}}
var v92campaignAFF=v92campaign.match(/aff(:.*?){5}/i);if(v92campaignAFF){v92campaign=v92campaignAFF[0];}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in setCampaignTracking: "+ex.message);}
s.eVar92=v92channel+"|"+v92refdomain.toLowerCase()+"|"+v92campaign.toLowerCase()+"|"+theURL;}
s.eVar92=s.getValOnce(s.eVar92,"s_v92gvo",30,"m");if(!s.eVar92)
s._channel=s._referrer=s._referringDomain=s._campaign=s._keywords=s._partner=s._campaignID=s.campChannelAbbr="";};function replaceAll(s,f,r){return s.replace(new RegExp(escapeRegExp(f),"g"),r)}
function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}
s.crossVisitParticipation=function(v,cn,ex,ct,dl,ev,dv){var s=this,ce;if(typeof cn==="undefined")cn="s_cvp";if(typeof ex==="undefined")ex=90;if(typeof dl==="undefined")dl=">";if(typeof ct==="undefined")ct=5;if(typeof dv==="undefined")dv=0;if(s.events&&ev){var ay=ev.split(",");var ea=s.events.split(",");var ayl=ay.length;var eal=ea.length;for(var u=0;u<ayl;u++)for(var x=0;x<eal;x++)if(ay[u]==ea[x])ce=1}if(typeof v==="undefined"||v==""){if(ce)s.c_w(cn,"");return""}v=encodeURIComponent(v);var arry=new Array,a=new Array,h=new Array;c=s.c_r(cn),g=0,arryl=0;if(c&&c!=""){arry=c.split("],[");arryl=arry.length;for(q=0;q<arryl;q++){z=arry[q];z=s.replace?s.replace(z,"[",""):s.repl(z,"[","");z=s.replace?s.replace(z,"]",""):s.repl(z,"]","");z=s.replace?s.replace(z,"'",""):s.repl(z,"'","");arry[q]=z.split(",")}}else arryl=0;var e=new Date;e.setFullYear(e.getFullYear()+5);if(dv==0&&arryl>0&&arry[arryl-1][0]==v)arry[arryl-1]=[v,(new Date).getTime()];else arry[arryl]=[v,(new Date).getTime()];arryl=arry.length;var start=arryl-ct<0?0:arryl-ct;var td=new Date;for(var x=start;x<arryl;x++){var diff=Math.round((td.getTime()-arry[x][1])/864E5);if(diff<ex){h[g]=decodeURIComponent(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++}}var data=s.join(a,{delim:",",front:"[",back:"]",wrap:"'"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)s.c_w(cn,"");return r};if(!s.__ccucr){var c_rspers=function(){var s=this,cv=s.c_rr("s_pers"),date=(new Date).getTime(),expd=null,cvarr=[],vcv="";if(!cv)return vcv;cvarr=cv.split(";");for(var i=0,l=cvarr.length;i<l;i++){expd=cvarr[i].match(/\|([0-9]+)$/);if(expd&&parseInt(expd[1])>=date)vcv+=cvarr[i]+";"}return vcv};var c_r=function(k){var s=this,d=new Date,v=s.c_rr(k),c=s.c_rspers(),i,m,e;if(v)return v;k=s.escape?s.escape(k):encodeURIComponent(k);i=c.indexOf(" "+k+"=");c=i<0?s.c_rr("s_sess"):c;i=c.indexOf(" "+k+"=");if(i<0)return"";m=c.indexOf("|",i);e=c.indexOf(";",i);m=m>0?m:e;return s.unescape?s.unescape(c.substring(i+2+k.length,m<0?c.length:m)):decodeURIComponent(c.substring(i+2+k.length,m<0?c.length:m))};s.c_rr=s.c_r;s.__ccucr=true;s.c_rspers=c_rspers;s.c_r=s.cookieRead=c_r}
if(!s.__ccucw){var c_w=function(k,v,e){var s=this,d=new Date,ht=0,pn="s_pers",sn="s_sess",pc=0,sc=0,pv,sv,c,i,t,f;d.setTime(d.getTime()-6E4);if(s.c_rr(k))s.c_wr(k,"",d);k=s.escape?s.escape(k):encodeURIComponent(k);pv=s.c_rspers();i=pv.indexOf(" "+k+"=");if(i>-1){pv=pv.substring(0,i)+pv.substring(pv.indexOf(";",i)+1);pc=1}sv=s.c_rr(sn);i=sv.indexOf(" "+k+"=");if(i>-1){sv=sv.substring(0,i)+sv.substring(sv.indexOf(";",i)+1);sc=1}d=new Date;if(e){if(e==1)e=new Date,f=e.getYear(),e.setYear(f+5+(f<1900?1900:0));if(e.getTime()>d.getTime()){pv+=" "+k+"="+(s.escape?s.escape(v):encodeURIComponent(v))+"|"+e.getTime()+";";pc=1}}else{sv+=" "+k+"="+(s.escape?s.escape(v):encodeURIComponent(v))+";";sc=1}sv=sv.replace(/%00/g,"");pv=pv.replace(/%00/g,"");if(sc)s.c_wr(sn,sv,0);if(pc){t=pv;while(t&&t.indexOf(";")>-1){var t1=parseInt(t.substring(t.indexOf("|")+1,t.indexOf(";")));t=t.substring(t.indexOf(";")+1);ht=ht<t1?t1:ht}d.setTime(ht);s.c_wr(pn,pv,d)}return v==s.c_r(s.unescape?s.unescape(k):decodeURIComponent(k))};s.c_wr=s.c_w;s.__ccucw=true;s.c_w=s.cookieWrite=c_w}s.c_d=s.cookieDelete=function(c){var s=this;var d=new Date(0);s.c_w(c,"",d);return"";};s.LoadAudienceManagerCustomizations=function(){try{s.AudienceManagement.setup({"partner":"dickssportinggoods","containerNSID":0,"uuidCookie":{"name":"aam_uuid","days":30},"visitorService":{namespace:window._dsgTag.AdobeID}});}catch(ex){_dsgTag.HelperFunctions.DebugLog("Audience Manager failed to initialize: "+ex.message,true);}};s.getReferringInternalSite=function(){var a="";a=(b=s._internalSitesRegEx.exec(document.referrer))!==null?b[0]:"";return a;};s.dsgPageNameLookup=function(){if(typeof(_dsgTag.DataLayer.pageNamingMap)!=="undefined"){var a=window.location.href.toLowerCase();for(key in _dsgTag.DataLayer.pageNamingMap){if(a.indexOf(key)>-1){s.pageName=_dsgTag.DataLayer.pageNamingMap[key]["n"];s.prop2=_dsgTag.DataLayer.pageNamingMap[key]["t"];break;}}}};_dsgTag.DataLayer.pageNamingMap={'/myaccount/accountsettings':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Account Settings','t':'My Account'},'/myaccount/accountsummary':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Summary','t':'My Account'},'/myaccount/purchases':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Purchase History','t':'My Account'},'/myaccount/rewards':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: My Rewards','t':'My Account'},'/accountpreferencesview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Preferences','t':'My Account'},'/accountsubscriptionsview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Subscriptions','t':'My Account'},'/addressbookform':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Address Book','t':'My Account'},'/categorydisplay':{'n':_dsgTag.currentWebsite.Abbreviation+': Misc: Default Category','t':'Misc'},'/changepasswordforreset':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Change Password','t':'My Account'},'/creditmyaccountform':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Order Info: Credit My Account','t':'My Account'},'/dsgaddaddressview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Add Address','t':'My Account'},'/dsgaddcreditcardview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Add Credit Card','t':'My Account'},'/dsgeditaddressview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Edit Address','t':'My Account'},'/dsghostedcontainer.htm':{'n':_dsgTag.currentWebsite.Abbreviation+': Modal: Write A Review','t':'Modal'},'/dsgscorecardfaqview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: ScoreCard FAQ','t':'My Account'},'/dsgsavedcardsdisplayview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Saved Payment Methods','t':'My Account'},'/helpcontactus':{'n':_dsgTag.currentWebsite.Abbreviation+': Static: Contact Us Submitted','t':'Static'},'/logoff':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Account Logoff','t':'My Account'},'/mypointshistoryview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: My Points History','t':'My Account'},'/myrewardsview':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: My Rewards','t':'My Account'},'/ordercalculate':{'n':_dsgTag.currentWebsite.Abbreviation+': Checkout: Order Calculate','t':'Checkout'},'/ordercheckoutview':{'n':_dsgTag.currentWebsite.Abbreviation+': Checkout: Step1 - Billing & Shipping','t':'Checkout'},'/orderdetail':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Order Info: Order Details','t':'My Account'},'/orderitemdisplay':{'n':_dsgTag.currentWebsite.Abbreviation+': Shopping Bag: Cart','t':'Shopping Bag'},'/orderitemmove':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Preferences: Password Expired','t':'My Account'},'/personchangeservicepasswordreset':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Change Password','t':'My Account'},'/relogonformview':{'n':_dsgTag.currentWebsite.Abbreviation+': Checkout: Relogon','t':'My Account'},'/resetmobilepassword':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Reset Mobile Password','t':'My Account'},'/resetpassword':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Change Password','t':'My Account'},'/sitemap':{'n':_dsgTag.currentWebsite.Abbreviation+': Misc: '+_dsgTag.currentWebsite.Abbreviation+' Map','t':'Misc'},'/storeorderstatus':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Store Purchace','t':'My Account'},'/subscriptions':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Subscriptions','t':'My Account'},'/topcategoriesdisplay':{'n':_dsgTag.currentWebsite.Abbreviation+': Shopping: Top Categories','t':'Misc'},'/trackguestorder':{'n':_dsgTag.currentWebsite.Abbreviation+': Help Desk: Track Guest Order','t':'Help Desk'},'/trackorderstatus':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Online Order History','t':'My Account'},'/trackorder':{'n':_dsgTag.currentWebsite.Abbreviation+': Help Desk: Track Order','t':'Help Desk'},'/unsupportedbrowsererrorview':{'n':_dsgTag.currentWebsite.Abbreviation+': Error: Unsupported Browser','t':'Error'},'/updatemobilepassword':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Update Mobile Password','t':'My Account'},'/userregistrationform?editregistration=y':{'n':_dsgTag.currentWebsite.Abbreviation+': My Account: Manage Login','t':'My Account'}};s.contentHierProps=function(){var pn=s.pageName;if(typeof pn==="undefined")
return;var d=": ",l1="",l2="",l3="",a=pn.split(d),al=a.length;if(al>2)
l1=l2=l3=a[0]+d+a[1];if(al>3)
l2=l3=l1+d+a[2];if(al>4)
l3=l2+d+a[3];s.prop4=l2;s.prop5=l3;}
s.processDataEmTag=function(element){var dataEm=element.getAttribute("data-em");if(dataEm){if(!(/^(plp|srlp|productcard|productview|header_search)/i.test(dataEm))){_dsgTag.HelperFunctions.SaveValue("v1",dataEm);}else if(/^(plp|srlp)/i.test(dataEm)){try{var dataEm=dataEm.split("_");if(dataEm.length>=3&&/\d+/.test(dataEm[1])&&/\d+/.test(dataEm[2])){var allPLPLinks=document.querySelectorAll("[data-em^='plp_']");var page=parseInt(_dsgTag.pagination)||1;var itemsPerPage=parseInt(_dsgTag.DataLayer.GetValue("ProductsPerPage"))||allPLPLinks.length;var itemsPerRow=1;for(var i=0;i<allPLPLinks.length;i++){val=allPLPLinks[i].getAttribute("data-em").split("_");itemsPerRow=(val.length>=3&&parseInt(val[2])>itemsPerRow)?parseInt(val[2]):itemsPerRow;}
var positionCount=(((page-1)*itemsPerPage)+((parseInt(dataEm[1])-1)*itemsPerRow)+parseInt(dataEm[2])).toFixed(0);var outValue=s.prop2+":"+page+":"+dataEm[1]+":"+dataEm[2]+":"+positionCount
if(dataEm.length>=5&&dataEm[4].toLowerCase()==="pinned"){outValue+=":pinned";}
_dsgTag.HelperFunctions.SaveValue("pageRowCol",outValue);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured recording page/row/col for v4: "+ex.message,true);}}}};s.bindDataEmTags=function(event,data){_dsgTag.HelperFunctions.BindDocumentClickEventWithAdditionalSelector("[data-em]",s.processDataEmTag);};if(document.attachEvent?document.readyState==="complete":document.readyState!=="loading"){s.bindDataEmTags();}else{_dsgTag.EventHandlers.AddDocumentReadyEventHandler(s.bindDataEmTags);}
s.logContentsOfSObject=function(){try{if(_dsgTag.HelperFunctions.GetValue("Debug2")){var analyticsDebug={};var eventType=s.pev2||"";var variables=eventType?s.linkTrackVars.split(","):["pageName","server","events","products","prop","eVar","list"];for(var i=0;i<variables.length;i++){if(s[variables[i]]){var value=s[variables[i]];if(eventType&&variables[i]==="events"){value=value.split(",");var eventList=s.linkTrackEvents.split(",");for(var j=0;j<value.length;j++){if(typeof Array.prototype.indexOf!=="undefined"&&eventList.indexOf(value[j].replace(/=\d+/g,""))<0){value.splice(j--,1);}}
value=value.join(",");}
analyticsDebug[variables[i]]=value;if(variables[i]==="products"){products=value.split(",");for(var j=0;j<products.length;j++){var product=products[j];var productValues=product.split(";");var eCode=productValues[1];if(productValues[2]){analyticsDebug[j+"."+eCode+".units"]=productValues[2];}
if(productValues[3]){analyticsDebug[j+"."+eCode+".revenue"]=productValues[3];}
if(productValues[4]&&(events=productValues[4].split("|"))){for(var k=0;k<events.length;k++){event=events[k];analyticsDebug[j+"."+eCode+".event"+/event(\d+)/g.exec(event)[1]]=/event\d+=(.*)/g.exec(event)[1];}}
if(productValues[5]&&(evars=productValues[5].split("|"))){for(var k=0;k<evars.length;k++){evar=evars[k];analyticsDebug[j+"."+eCode+".eVar"+/evar(\d+)/g.exec(evar)[1]]=/evar\d+=(.*)/g.exec(evar)[1];}}}}}else{for(var j=1;typeof s[variables[i]+j]!=="undefined";j++){if(s[variables[i]+j]){analyticsDebug[variables[i]+j]=s[variables[i]+j];}}}}
if(typeof navigator!=="undefined"&&typeof navigator.userAgent!=="undefined"&&navigator.userAgent.toLowerCase().indexOf("edge")>=0){var ieArray=[];for(var key in analyticsDebug){ieArray.push({"Name":key,"Value":analyticsDebug[key]});}
analyticsDebug=ieArray;}
_dsgTag.HelperFunctions.DividerLog(eventType?eventType+" pixel fired":"Page View pixel fired");console.table(analyticsDebug);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Failed to log s object.");}};s.registerPreTrackCallback(s.logContentsOfSObject);s.postTrackCallbackList=[];s.processPostTrackCallbacks=function(){setTimeout(function(){for(var i=0;i<s.postTrackCallbackList.length;i++){s.postTrackCallbackList[i]();}
s.postTrackCallbackList=[];},1000);};s.registerPostTrackCallback(s.processPostTrackCallbacks);s.buildProductString=function(eCode,units,revenue,events,merchEvars){units=units||0;revenue=revenue||0;events=events||[];merchEvars=merchEvars||[];try{units=parseInt(units,10);}
catch(ex){units=0;}
try{revenue=parseFloat(revenue,10);}
catch(ex){revenue=0;}
try{var sortRegEx=/(?:event|evar)(\d+)/;events.sort(function(a,b){return parseInt(sortRegEx.exec(a)[1])-parseInt(sortRegEx.exec(b)[1]);});merchEvars.sort(function(a,b){return parseInt(sortRegEx.exec(a)[1])-parseInt(sortRegEx.exec(b)[1]);});}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occured while sorting product string variables.",true);}
CONST_FirstDelimiter=",";CONST_SecondDelimiter=";";CONST_ThirdDelimiter="|";replaceRegEx=new RegExp("["+CONST_FirstDelimiter+CONST_SecondDelimiter+CONST_ThirdDelimiter+"]","g");output="";eCode=eCode.replace(replaceRegEx,"");if(eCode){output=[];output.push("");output.push(eCode);output.push((typeof units==="number"&&units>0)?units.toFixed(0):"");output.push((typeof revenue==="number"&&revenue>0)?revenue.toFixed(2):"");for(var i=0,l=events.length;i<l;i++){if(events[i]&&/event\d+(=\d+)?/.test(events[i])){events[i]=events[i].replace(replaceRegEx,"");s.events=s.apl(s.events,"event"+/event(\d+)/.exec(events[i])[1],",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event"+/event(\d+)/.exec(events[i])[1],",",2);}else{events.splice(i,1);i--;l--;}}
output.push(events.join(CONST_ThirdDelimiter));for(var i=0,l=merchEvars.length;i<l;i++){if(merchEvars[i]&&/evar\d+=\w+/.test(merchEvars[i])){merchEvars[i]=merchEvars[i].replace(replaceRegEx,"");}else{merchEvars.splice(i,1);i--;l--;}}
output.push(merchEvars.join(CONST_ThirdDelimiter));output=output.join(CONST_SecondDelimiter);}
return output;};s.populateMarketingChannelVariables=function(){try{var channelInfo=s.GetMarketingChannelInfo();if(channelInfo.Channel){var jsonChannelInfo='{"Channel":"'+channelInfo.Channel+'","ReferringDomain":"'+channelInfo.ReferringDomain+'","Campaign":"'+channelInfo.Campaign+'","URL":"'+channelInfo.URL+'"}';channelInfo=JSON.parse(_dsgTag.HelperFunctions.GetValOnce(jsonChannelInfo,"ChannelInfo",30)||"{}");}
if(channelInfo.Channel){_dsgTag.campaignTEST=(function(){var out="";out=channelInfo.Campaign;return out;})();_dsgTag.eVar91TEST=(function(){var out="";out=s.crossVisitParticipation(channelInfo.Channel,"cvp_v91TEST","14","20","/","","1");return out;})();_dsgTag.eVar92TEST=(function(){var out="";out=channelInfo.Channel+"|"+channelInfo.ReferringDomain.toLowerCase()+"|"+channelInfo.Campaign.toLowerCase()+"|"+channelInfo.URL;return out;})();s.eVar71=_dsgTag.eVar92TEST;return true;}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred setting marketing channel data in AllPageDeployments: "+ex.message);}
return false;}
s.GetMarketingChannelInfo=function(){var output={"Channel":"","ReferringDomain":"","Campaign":"","URL":""};var campaignQueryString="camp";var additionalInternalFilters='["mycustomizer.com","associatekiosk.dcsg.com","blog.dickssportinggoods.com","blog.fieldandstreamshop.com","dsgcep.custhelp.com","ggcep.custhelp.com","fnscep.custhelp.com","dickssportinggoodsonline.com","dsgn.dcsg.com","investors.dicks.com","m.dickssportinggoods.com","m2.dickssportinggoods.com","maxfli.com","mobile.where2getit.com","myw2.dcsg.com","protips.dickssportinggoods.com","reviews.dickssportinggoods.com","storelocator.dickssportinggoods.com","storelocator.fieldandstreamshop.com","stores.dickssportinggoods.com","stores.fieldandstreamshop.com","weeklyad.dickssportinggoods.com","dickssportinggoods.com","paypal.com","app.dcsg.com","bbhosted.com","brandingbrand.com","dcsg.com","dickssportinggoods.com","gsipartners.com","where2getit.com","where2stageit.com","453andahalf.com","caliastudio.com","cardinalcommerce.com","cashstar.com","chelseacollective.com","conxport.com","dicks.com","dicksmvp.com","dickssportinggoods.jobs","dicksteamgear.com","dsg.com","dsgcorpevents.com","easy2.com","fieldandstreamshop.com","golfgalaxy.com","golfgalaxyjobs.com","golfgalaxylessons.com","m3mobile.com","mydickssportinggoods.com","mygolfgalaxy.com","myscorecardaccount.com","reviewmyaccount.com","savvis.net","sombreropay.com","sombrerosport.com","bluesombrero.com","sportsmansadvantageclub.com","sportsmatter.com","sportsmatter.org","truerunner.com"]'
var searchEngines='{"360.cn":{"d":["360.cn"],"q":["q"]},"Startsiden":{"d":["abcsok.no"],"q":["q"]},"Alhea":{"d":["alhea.com"],"q":["q"]},"Alot":{"d":["search.alot.com","alot.com"],"q":["q"]},"AltaVista":{"d":["altavista.co","altavista.de"],"q":["q","r"]},"AOL":{"d":["search.aol.","suche.aolsvc.de"],"q":["q","query"]},"Ask":{"d":["ask.jp","ask.co"],"q":["q","ask"]},"AVG":{"d":["isearch.avg.com"],"q":["q"]},"Baidu":{"d":["baidu.com"],"q":["word","wd"]},"Blekko":{"d":["blekko.com"],"q":["q"]},"Bing":{"d":["bing.com"],"q":["q"]},"CNN Web Search":{"d":["search.cnn.com"],"q":["query"]},"Comcast":{"d":["search.xfinity.com"],"q":["q"]},"Contenko":{"d":["contenko.com"],"q":["q"]},"Daum":{"d":["daum.net","search.daum.net"],"q":["q"]},"Dictionary":{"d":["ask.reference.com"],"q":["q"]},"DogPile":{"d":["dogpile.com"],"q":["q"]},"DuckDuckGo":{"d":["duckduckgo.com"],"q":["q"]},"Earthlink":{"d":["search.earthlink.net"],"q":["q"]},"Excite":{"d":["excite.co","msxml.excite.com"],"q":["search","q"]},"Good Search":{"d":["goodsearch.com"],"q":["keywords"]},"Google":{"d":["google.","googlesyndication.com",".googleadservices.com"],"q":["q","as_q"]},"icq":{"d":["icqit.com"],"q":["q"]},"Info.com":{"d":["info.com"],"q":["qkw"]},"InfoSpace":{"d":["search.infospace.com","infospace.com"],"q":["q"]},"ixquick.com":{"d":["ixquick.com"],"q":["query"]},"libero.it":{"d":["libero.it"],"q":["query"]},"Lycos":{"d":["search.lycos.com"],"q":["q"]},"Mail.ru":{"d":["mail.ru"],"q":["q"]},"MSN":{"d":["msn.com"],"q":["q"]},"MyWebSearch":{"d":[".mywebsearch.com","mywebsearch.com"],"q":["searchfor"]},"MyWay.com":{"d":["myway.com"],"q":["searchfor"]},"Naver":{"d":["naver.com","search.naver.com"],"q":["query"]},"Netscape Search":{"d":["netscape.com"],"q":["query","search"]},"Optimum Search":{"d":["optimum.net"],"q":["q"]},"Reference.com":{"d":["reference.com"],"q":["q"]},"RoadRunner Search":{"d":["search.rr.com"],"q":["qs"]},"Search Results.com":{"d":["search-results.com"],"q":["q"]},"seznam.cz":{"d":["seznam.cz"],"q":["q"]},"so.com":{"d":["so.com"],"q":["q"]},"sogou.com":{"d":["sogou.com"],"q":["query"]},"Tiscali":{"d":["tiscali.it","www.tiscali.co.uk"],"q":["key","query"]},"Virgilio":{"d":["virgilio.it"],"q":["qs"]},"Yandex.ru":{"d":["yandex"],"q":["text"]},"WebCrawler":{"d":["webcrawler.com"],"q":["q"]},"Wow":{"d":["wow.com"],"q":["q"]},"Yahoo!":{"d":["yahoo.com","search.yahoo.com","yahoo.co.jp"],"q":["p","va"]},"Yahoo! - Link Referral":{"d":["r.search.yahoo.com"],"q":["p"]},"Zen Search":{"d":["zensearch.com"],"q":["q"]}}';var channelTypes='{"SNS":[{"d":"t.co","x":true},{"d":"facebook.com","x":false},{"d":"wanelo.com","x":false},{"d":"linkedin.com","x":false},{"d":"twitter.com","x":false},{"d":"orkut.com","x":false},{"d":"friendster.com","x":false},{"d":"livejournal.com","x":false},{"d":"blogspot.com","x":false},{"d":"wordpress.com","x":false},{"d":"friendfeed.com","x":false},{"d":"digg.com","x":false},{"d":"reddit.com","x":false},{"d":"stumbleupon.com","x":false},{"d":"twine.com","x":false},{"d":"yelp.com","x":false},{"d":"mixx.com","x":false},{"d":"delicious.com","x":false},{"d":"tumblr.com","x":false},{"d":"disqus.com","x":false},{"d":"intensedebate.com","x":false},{"d":"plurk.com","x":false},{"d":"slideshare.net","x":false},{"d":"backtype.com","x":false},{"d":"netvibes.com","x":false},{"d":"mister-wong.com","x":false},{"d":"diigo.com","x":false},{"d":"flixster.com","x":false},{"d":"youtube.com","x":false},{"d":"vimeo.com","x":false},{"d":"12seconds.tv","x":false},{"d":"zooomr.com","x":false},{"d":"identi.ca","x":false},{"d":"jaiku.com","x":false},{"d":"flickr.com","x":false},{"d":"imeem.com","x":false},{"d":"dailymotion.com","x":false},{"d":"photobucket.com","x":false},{"d":"fotolog.com","x":false},{"d":"smugmug.com","x":false},{"d":"classmates.com","x":false},{"d":"myyearbook.com","x":false},{"d":"mylife.com","x":false},{"d":"tagged.com","x":false},{"d":"brightkite.com","x":false},{"d":"ning.com","x":false},{"d":"bebo.com","x":false},{"d":"hi5.com","x":false},{"d":"yuku.com","x":false},{"d":"cafemom.com","x":false},{"d":"xanga.com","x":false},{"d":"pinterest.com","x":false},{"d":"foursquare.com","x":false},{"d":"instagram.com","x":false},{"d":"like2b.uy","x":false},{"d":"myspace.com","x":false}],"PAR":[{"d":"maxfli.com","x":false},{"d":"nickentgolf.com","x":false},{"d":"topflite.com","x":false},{"d":"epicfit.com","x":false},{"d":"koppen.prod.tracylocke.com","x":false}]}';var channelRollup='{"DSP":["DIS", "ESP"], "EML": ["EMA", "PRO", "TRI", "201"], "SEM": ["PPC"], "SNS": ["SNT", "SN", "SN:"], "TXT": ["TEX"]}';try{var referrer=_dsgTag.DataLayer.GetValue('ReferringPageURL');var camp=_dsgTag.HelperFunctions.GetQueryStringValue(campaignQueryString);if(camp){camp=decodeURIComponent(camp);output.Campaign=camp;}else{output.Campaign="n/a";}
var directTimeout=1000*60*30;var dteNow=new Date();dteNow.setTime(dteNow.getTime()+18E5);var directTime=_dsgTag.HelperFunctions.GetCookieValue("TAG_Direct");var direct=false;if(!directTime||(Date.now()-parseInt(directTime)>directTimeout)){direct=true;}
_dsgTag.HelperFunctions.WriteCookieValue("TAG_Direct",Date.now().toString(),dteNow,true);if(referrer){var domain=referrer.split("/")[2].toLowerCase();output.ReferringDomain=domain;var isInternalDomainReferrer=false;var internalDomains=(s.linkInternalFilters.split(",")).concat(JSON.parse(additionalInternalFilters));for(var i=0;i<internalDomains.length&&!isInternalDomainReferrer;i++){var internalDomain=internalDomains[i].toLowerCase();isInternalDomainReferrer=domain.indexOf(internalDomain)>=0;}
if(isInternalDomainReferrer){return{"Channel":"","ReferringDomain":"","Campaign":"","URL":""};}
var isSearchEngineReferrer=false;searchEngines=JSON.parse(searchEngines);for(var engine in searchEngines){var searchDomains=searchEngines[engine].d;for(var j=0;j<searchDomains.length&&!isSearchEngineReferrer;j++){var searchDomain=searchDomains[j].toLowerCase();isSearchEngineReferrer=domain.indexOf(searchDomain)>=0;}
if(isSearchEngineReferrer){if(camp){output.Channel="SEM";}else{output.Channel="SEO";}
break;}}
var isOtherChannelReferrer=false;channelTypes=JSON.parse(channelTypes);for(var type in channelTypes){var channelDomains=channelTypes[type];for(var i=0;i<channelDomains.length&&!isOtherChannelReferrer;i++){var channelDomain=channelDomains[i].d.toLowerCase();isOtherChannelReferrer=(channelDomains[i].x)?(domain==channelDomain):(domain.indexOf(channelDomain)>=0);}
if(isOtherChannelReferrer){output.Channel=type;break;}}}else{output.ReferringDomain="n/a";}
if(camp){var affiliateCamp=output.Campaign.match(/^aff(?::.*?){5}/i);if(affiliateCamp){output.Channel="AFF";output.Campaign=affiliateCamp[0];}else{var campPrefix=/^([a-zA-Z]{1,3}).*/gi.exec(camp);if(campPrefix.length>1){campPrefix=campPrefix[1].toUpperCase();var channelTypes=JSON.parse(channelRollup);var foundMatch=false;for(var parentType in channelTypes){var currentCampList=channelTypes[parentType];for(var i=0;i<currentCampList.length;i++){if(camp.toLowerCase().indexOf(currentCampList[i].toLowerCase())==0){campPrefix=parentType;foundMatch=true;break;}}
if(foundMatch){break;}}
output.Channel=campPrefix;output.Campaign=camp;}}}
if(!output.Channel){if(referrer){output.Channel="RFD";}else if(true){output.Channel="DRT";output.ReferringDomain="drt";}}
if(output.Channel){var currentURL=_dsgTag.DataLayer.GetValue('PageURL');var queryParamsToKeep=["acq","tsa","hdpid","channel","sl","param","gmb","pdp","seo"];for(var i=0;i<queryParamsToKeep.length;i++){value=_dsgTag.HelperFunctions.GetQueryStringValue(queryParamsToKeep[i]);if(value){queryParamsToKeep[i]=queryParamsToKeep[i]+"="+_dsgTag.HelperFunctions.GetQueryStringValue(queryParamsToKeep[i]);}else{queryParamsToKeep.splice(i,1);i--;}}
currentURL=currentURL.split("?")[0]+(queryParamsToKeep.length>0?"?"+queryParamsToKeep.join("&"):"");if(currentURL.indexOf("http")===0){var protocolAndSubdomain=currentURL.split(".")[0];var excludedSubdomains=['stores','storelocator','protips','myscorecard'];var validSubdomain=true;for(var i=0;i<excludedSubdomains.length&&validSubdomain;i++){validSubdomain=(protocolAndSubdomain.indexOf(excludedSubdomains[i])<0);}
if(validSubdomain){currentURL=currentURL.split(".").splice(1).join(".");}}
output.URL=currentURL;}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in GetMarketingChannelInfo: "+ex.message);}
return output;};s.SetUniversalAnatlyticsValues=function(){try{var variables=[];var errors=[];variables.push({"Name":"dsgPageNameLookup","Handler":function(){if(!s.pageName)
s.dsgPageNameLookup();}});variables.push({"Name":"contentHierProps","Handler":function(){s.contentHierProps();}});variables.push({"Name":"errorPage","Handler":function(){if(s.pageType==="errorPage"){s.pageName='D="'+_dsgTag.currentWebsite.Abbreviation+': 404: "+g';s.eVar74=s.pageName;s.prop2="Error";s._errorPageName=_dsgTag.currentWebsite.Abbreviation+": 404: "+location.protocol+'//'+location.host+location.pathname;_dsgTag.HelperFunctions.SaveValue("v27",s._errorPageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);}
else if(s.pageName&&s.prop2){_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);}}});variables.push({"Name":"_previousPageName","Handler":function(){if(_dsgTag.previousPageValues){s.eVar27=_dsgTag.previousPageValues["v27"];s.eVar28=_dsgTag.previousPageValues["v28"];if(!s.eVar27)
s.eVar27="Entry Page";if(!s.eVar28)
s.eVar28="Entry Page";}}});variables.push({"Name":"specialErrors","Handler":function(){var name=_dsgTag.DataLayer.GetValue("PageName");if(name==="Site Down"){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Error: Site Unavailable";s.eVar44="Site Unavailable";s.pageType="errorPage";_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}
else if(name==="High Traffic"){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Error: High Traffic";s.eVar44="High Traffic";s.pageType="errorPage";_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}
else if(name==="Hot Market"||name==="Product Launch"){if(s.pageName){s.pageName=s.pageName.substring(0,s.pageName.lastIndexOf(":")+1)+" "+name;_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);}}}});variables.push({"Name":"Queue","Handler":function(){if(document.title.toLowerCase().indexOf("waiting room")>=0){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Special Product Queue";s.prop2="Special Product Queue";}}});variables.push({"Name":"emptyProducts","Handler":function(){if(s.events&&(s.eVar2||s.eVar3||s.eVar4||s.eVar63)&&!s.products)
s.products=";";}});variables.push({"Name":"referrer","Handler":function(){if(document.referrer&&document.referrer.indexOf("krypto=")>=0)
s.referrer=_dsgTag.HelperFunctions.removeURLParameters(document.referrer,"krypto");}});variables.push({"Name":"prop33","Handler":function(){var botAnalysisCookie="";var cookiePrefixes=["dsg","gg","cs"];for(var i=0;i<cookiePrefixes.length&&!botAnalysisCookie;i++){botAnalysisCookie=_dsgTag.HelperFunctions.GetCookieValue(cookiePrefixes[i]+"_perf_analysis");}
if(botAnalysisCookie){s.prop33=botAnalysisCookie;}}});variables.push({"Name":"prop41","Handler":function(){if(_dsgTag.HelperFunctions.GetCookieValue("locationAllowed")==="Y"){s.prop41="true";}else{s.prop41="false";}}});variables.push({"Name":"prop42","Handler":function(){s.prop42=s.getDaysSinceLastVisit("lv");}});variables.push({"Name":"prop54","Handler":function(){s.prop54=(typeof(siteData)!=='undefined').toString();}});variables.push({"Name":"prop56","Handler":function(){if(typeof utag!=="undefined"&&typeof utag.cfg!=="undefined"&&typeof utag.cfg.v!=="undefined"){s.prop56=utag.cfg.v;}else if(_dsgTag.tagVersion){s.prop56=_dsgTag.tagVersion;}}});variables.push({"Name":"prop59","Handler":function(){if(typeof utag!=="undefined"&&typeof utag.data!=='undefined'){s.prop59=utag.data.tealium_account+"."+utag.data.tealium_profile+"."+utag.data.tealium_environment;}else{s.prop59="Default";}
if(tagScript=document.querySelector("script[src*='utag.js']")){s.prop59+=": "+tagScript.src.toLowerCase().replace("/utag.js","");}}});variables.push({"Name":"prop60","Handler":function(){if(typeof _dsgTag.OrderHistory!=="undefined"){s.prop60=(_dsgTag.OrderHistory.length).toString();}}});variables.push({"Name":"prop62","Handler":function(){s.prop62=_dsgTag.HelperFunctions.GetCookieValue("NNC");}});variables.push({"Name":"prop65","Handler":function(){s.prop65=_dsgTag.HelperFunctions.GetCookieValue("yanni")?"Y":"N";}});variables.push({"Name":"eVar2","Handler":function(){if(s.eVar2){s.prop8="D=v2";s.events=s.apl(s.events,"event2");}}});variables.push({"Name":"eVar6","Handler":function(){s.eVar6="+1";}});variables.push({"Name":"eVar22","Handler":function(){if(_dsgTag.HelperFunctions.GetQueryStringValue("customerkey")){s.eVar22=_dsgTag.CustomerIDs.CustomerKey;}}});variables.push({"Name":"eVar24","Handler":function(){var covertDateToVariableFormat=function(input){dayNames=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var output=(input.getHours()%12===0?12:input.getHours()%12);output+=":"+(input.getMinutes()<10?"0":"")+input.getMinutes()+" ";output+=(input.getHours()>=12?"PM":"AM");output+="|"+dayNames[input.getDay()];return output;}
var serverTimes=_dsgTag.HelperFunctions.GetStandardizedDKSTime();if(serverTimes&&serverTimes.length>1){s.eVar24=covertDateToVariableFormat(serverTimes[0]);s.eVar25=covertDateToVariableFormat(serverTimes[1]);}}});variables.push({"Name":"eVar29","Handler":function(){var customerKey=_dsgTag.HelperFunctions.GetQueryStringValue("customerkey");if((customerKey&&customerKey.indexOf("-")<0&&_dsgTag.HelperFunctions.GetQueryStringValue("MCID"))||_dsgTag.HelperFunctions.GetQueryStringValue("appmcid")){s.eVar29="MCID:"+_dsgTag.CustomerIDs.MCID;}}});variables.push({"Name":"eVar36","Handler":function(){if(_dsgTag.HelperFunctions.GetQueryStringValue("source")){s.eVar36=_dsgTag.HelperFunctions.GetQueryStringValue("source");s.eVar36=s.getValOnce(s.eVar36,"v36",30,"m");if(s.eVar36){s.events=s.apl(s.events,"event21");}}
if(s.eVar36){s.eVar36=s.eVar36.toString().replace(/(^(")|(")$)/g,"");}}});variables.push({"Name":"eVar38","Handler":function(){if(storeCookieValue=_dsgTag.HelperFunctions.GetCookieValue("setStoreCookie")){var storeID=/_(\d+)$/g.exec(storeCookieValue);s.eVar38=(storeID&&storeID.length>0)?storeID[1]:"";}}});variables.push({"Name":"eVar42","Handler":function(){s.eVar42="D=User-Agent";}});variables.push({"Name":"eVar43","Handler":function(){s.eVar43=_dsgTag.CustomerIDs.AdobeMCVID||(window.visitor&&visitor.getMarketingCloudVisitorID());}});variables.push({"Name":"eVar44","Handler":function(){if(s.eVar44){s.prop55="D=v44";if(!s.prop23){if(typeof s.pageName!=="undefined"&&s.pageName.indexOf("D=")>=0){s.prop23=s.pageName;}else{s.prop23="D=pageName";}
if(!s.prop23){s.prop23=_dsgTag.previousPageValues["v27"];}}
if(!s.prop24)
s.prop24="D=c2";s.events=s.apl(s.events,"event20");}}});variables.push({"Name":"eVar45","Handler":function(){s.eVar45=_dsgTag.currentWebsite.Abbreviation;}});variables.push({"Name":"eVar47","Handler":function(){s.eVar47="D=r";}});variables.push({"Name":"eVar50","Handler":function(){s.eVar50=_dsgTag.customerLane;}});variables.push({"Name":"eVar64","Handler":function(){s.eVar64=_dsgTag.experience;}});variables.push({"Name":"eVar65","Handler":function(){if((s.eVar1&&s.eVar1.toLowerCase().indexOf("topnav")>=0)||s.eVar2){if(s.eVar2){s.eVar65='D="Search|"+v2';s.prop63='D="Search|"+v2';}else{s.eVar65='D="Top Navigation|"+v1';s.prop63='D="Top Navigation|"+v1';s.events=s.apl(s.events,"event76");}}}});variables.push({"Name":"eVar73","Handler":function(){if((s.eVar27&&s.eVar27.toLowerCase().indexOf("home page")>=0)&&s.eVar1){s.eVar73="D=v1";s.prop67="D=v1";s.events=s.apl(s.events,"event77");}}});variables.push({"Name":"eVar74","Handler":function(){if(s.pageName){s.pageName=s.pageName.replace(/'|"/g,"");s.eVar74="D=pageName";}}});variables.push({"Name":"eVar75","Handler":function(){s.prop75="D=g";s.eVar75="D=g";}});variables.push({"Name":"eVar79","Handler":function(){s.eVar79=_dsgTag.HelperFunctions.GetQueryStringValue("hdpid");}});variables.push({"Name":"event7","Handler":function(){if(_dsgTag.HelperFunctions.GetValue("LaneChanged")&&_dsgTag.HelperFunctions.GetValue("LaneChanged")=='true'){s.events=s.apl(s.events,"event7");_dsgTag.HelperFunctions.DeleteValue("LaneChanged");}}});for(var i=0;i<variables.length;i++){try{variables[i]["Handler"]();}catch(ex){var variableName=variables[i]["Name"];if(typeof errors.indexOf==="function"&&errors.indexOf(variableName)<0){errors.push(variableName);var errorMessage="Failed to set universal pixel value: "+variableName+": "+ex.message;_dsgTag.HelperFunctions.DebugLog(errorMessage,true);}}}
if(s.eVar18&&s.eVar18.toString()=="0"){s.eVar18="Zero";}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error setting universal pixel value: "+ex.message,true);}};s.GetFullVariableName=function(i){return i.replace("c","prop").replace("v","eVar");};s.ForceVariablesToLowerCase=function(){var forceToLowerCaseMap=["campaign","v1","v2","v5","c10","c11"];for(var i in forceToLowerCaseMap){if(s[s.GetFullVariableName(forceToLowerCaseMap[i])]){s[s.GetFullVariableName(forceToLowerCaseMap[i])]=s[s.GetFullVariableName(forceToLowerCaseMap[i])].toString().toLowerCase();}}};s.SetVariableCopies=function(){var dynamicCopyMap={"v74":"pageName","c23":"pageName","c66":"v1","v73":"v1","c8":"v2","purchaseID":"v16","transactionID":"v16","c64":"v27","c28":"v28","c55":"v44","c45":"v45","c58":"v54","c57":"v64","v93":"v92","v94":"v95","c24":"c2"};for(var i in dynamicCopyMap){if(s[s.GetFullVariableName(dynamicCopyMap[i])]){s[s.GetFullVariableName(i)]="D="+dynamicCopyMap[i];}}
if(typeof(s.events)!=='undefined'&&s.events!==null&&s.events.match(/event67=(\d+)/))
s.prop9=s.events.match(/event67=(\d+)/)[1];};s.AddEventsToTL=function(eventIDs){if(typeof eventIDs.length==="undefined"){eventIDs=[eventIDs];}
for(var i=0;i<eventIDs.length;i++){s.events=s.apl(s.events,"event"+eventIDs[i].toString(),",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event"+eventIDs[i].toString(),",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);}}
s.triggerPageView=function(){try{try{s.populateMarketingChannelVariables();}catch(ex){}
s.t();}
catch(ex){_dsgTag.HelperFunctions.DebugLog("Exception occured while triggering page view pixel: "+ex.message,true);}};s.triggerEvent=function(eventType){try{try{if(s.populateMarketingChannelVariables()){s.linkTrackVars=s.apl(s.linkTrackVars,"eVar71",",",2);}
s.prop49=_dsgTag.EventHandlers.initialPageViewFired.toString();s.linkTrackVars=s.apl(s.linkTrackVars,"prop49",",",2);}catch(ex){}
s.tl(true,"o",eventType);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars;}
catch(ex){_dsgTag.HelperFunctions.DebugLog("Exception occured while triggering event pixel: "+ex.message,true);}};function AppMeasurement_Module_ActivityMap(h){function q(){var a=f.pageYOffset+(f.innerHeight||0);a&&a>+g&&(g=a)}function r(){if(e.scrollReachSelector){var a=h.d.querySelector&&h.d.querySelector(e.scrollReachSelector);a?(g=a.scrollTop||0,a.addEventListener("scroll",function(){var d;(d=a&&a.scrollTop+a.clientHeight||0)>g&&(g=d)})):0<w--&&setTimeout(r,1E3)}}function l(a,d){var c,b,n;if(a&&d&&(c=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<c.length&&(b=c[n++]);)if(-1<a.indexOf(b))return null;p=1;return a}
function s(a,d,c,b,e){var f,k;if(a.dataset&&(k=a.dataset[d]))f=k;else if(a.getAttribute)if(k=a.getAttribute("data-"+c))f=k;else if(k=a.getAttribute(c))f=k;if(!f&&h.useForcedLinkTracking&&e){var g;a=a.onclick?""+a.onclick:"";varValue="";if(b&&a&&(d=a.indexOf(b),0<=d)){for(d+=b.length;d<a.length;)if(c=a.charAt(d++),0<="'\"".indexOf(c)){g=c;break}for(k=!1;d<a.length&&g;){c=a.charAt(d);if(!k&&c===g)break;"\\"===c?k=!0:(varValue+=c,k=!1);d++}}(g=varValue)&&(h.w[b]=g)}return f||e&&h.w[b]}function t(a,d,c){var b;return(b=e[d](a,c))&&(p?(p=0,b):l(m(b),e[d+"Exclusions"]))}function u(a,d,c){var b;if(a&&!(1===(b=a.nodeType)&&(b=a.nodeName)&&(b=b.toUpperCase())&&x[b])&&(1===a.nodeType&&(b=a.nodeValue)&&(d[d.length]=b),c.a||c.t||c.s||!a.getAttribute||((b=a.getAttribute("alt"))?c.a=b:(b=a.getAttribute("title"))?c.t=b:"IMG"==(""+a.nodeName).toUpperCase()&&(b=a.getAttribute("src")||a.src)&&(c.s=b)),(b=a.childNodes)&&b.length))for(a=0;a<b.length;a++)u(b[a],d,c)}function m(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=h;var f=window;f.s_c_in||(f.s_c_il=[],f.s_c_in=0);e._il=f.s_c_il;e._in=f.s_c_in;e._il[e._in]=e;f.s_c_in++;e._c="s_m";var g=0,v,w=60;e.c={};var p=0,x={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,c,b=h.contextData,e=h.linkObject;(a=h.pageName||h.pageURL)&&(d=t(e,"link",h.linkName))&&(c=t(e,"region"))&&(b["a.activitymap.page"]=a.substring(0,255),b["a.activitymap.link"]=128<d.length?d.substring(0,128):d,b["a.activitymap.region"]=127<c.length?c.substring(0,127):c,0<g&&(b["a.activitymap.xy"]=10*Math.floor(g/10)),b["a.activitymap.pageIDType"]=h.pageName?1:0)};e.e=function(){e.trackScrollReach&&!v&&(e.scrollReachSelector?r():(q(),f.addEventListener&&f.addEventListener("scroll",q,!1)),v=!0)};e.link=function(a,d){var c;if(d)c=l(m(d),e.linkExclusions);else if((c=a)&&!(c=s(a,"sObjectId","s-object-id","s_objectID",1))){var b,f;(f=l(m(a.innerText||a.textContent),e.linkExclusions))||(u(a,b=[],c={a:void 0,t:void 0,s:void 0}),(f=l(m(b.join(""))))||(f=l(m(c.a?c.a:c.t?c.t:c.s?c.s:void 0)))||!(b=(b=a.tagName)&&b.toUpperCase?b.toUpperCase():"")||("INPUT"==b||"SUBMIT"==b&&a.value?f=l(m(a.value)):"IMAGE"==b&&a.src&&(f=l(m(a.src)))));c=f}return c};e.region=function(a){for(var d,c=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=s(a,c,c,c))return d;if("BODY"==a.nodeName)return"BODY"}}}
s.loadModule("AudienceManagement");function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}
!function(){"use strict";var r,o,a;"function"!=typeof window.DIL&&(window.DIL=function(n){var c,e,I,r,u,h,t,o,s,i,a,d,y,l,f,g,p,m,b,v,D,O=[],C={};function S(e){return void 0===e||!0===e}n!==Object(n)&&(n={}),I=n.partner,r=n.containerNSID,u=n.mappings,h=n.uuidCookie,t=!0===n.enableErrorReporting,o=n.visitorService,s=n.declaredId,i=!0===n.delayAllUntilWindowLoad,a=S(n.secureDataCollection),d="boolean"==typeof n.isCoopSafe?n.isCoopSafe:null,y=S(n.enableHrefererParam),l=S(n.enableLogging),f=S(n.enableUrlDestinations),g=S(n.enableCookieDestinations),p=!0===n.disableDefaultRequest,m=n.afterResultForDefaultRequest,b=n.visitorConstructor,v=!0===n.disableCORS,D=!0===n.ignoreHardDependencyOnVisitorAPI,t&&DIL.errorModule.activate(),D&&O.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var w=!0===window._dil_unit_tests;if((c=arguments[1])&&O.push(c+""),!I||"string"!=typeof I){var _={name:"error",message:c="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(_),new Error(c)}if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",(r||"number"==typeof r)&&(r=parseInt(r,10),!isNaN(r)&&0<=r&&(c="")),c&&(r=0,O.push(c),c=""),(e=DIL.getDil(I,r))instanceof DIL&&e.api.getPartner()===I&&e.api.getContainerNSID()===r)return e;if(!(this instanceof DIL))return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+I+" and containerNSID = "+r);DIL.registerDil(this,I,r);var R={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){(O.push(e),l&&this.doesConsoleLogExist)&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||(this.logMemo[e]=!0,R.log(e))}},E={IS_HTTPS:a||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return null}()};E.IS_IE_LESS_THAN_10="number"==typeof E.IE_VERSION&&E.IE_VERSION<10;var P={stuffed:{}},L={},A={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,s,i=o;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(i!==Object(i)||!(t=i.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if(!((n=e.getInstance(t,{idSyncContainerID:r}))===Object(n)&&n instanceof e&&"function"==typeof n.isAllowed&&"function"==typeof n.getMarketingCloudVisitorID&&"function"==typeof n.getCustomerIDs&&"function"==typeof n.isOptedOut&&"function"==typeof n.publishDestinations))throw this.releaseType="invalid instance",s="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(s+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),new Error(s);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!D)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var t=this;this.instance&&(this.instance.getMarketingCloudVisitorID(function(e){t.mid=e,t.releaseType="VisitorAPI",t.releaseRequests()},!0),(!N.exists||!N.isIabContext&&N.isApproved()||N.isIabContext&&B.hasGoSignal())&&setTimeout(function(){"VisitorAPI"!==t.releaseType&&(t.releaseType="timeout",t.releaseRequests())},this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,A.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=k.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,s,i,r="",o=[],a=[];for(t in e)e.hasOwnProperty(t)&&(n=e[a[0]=t])===Object(n)&&(a[1]=n.id||"",a[2]=n.authState||0,o.push(a),a=[]);if(i=o.length)for(s=0;s<i;s++)r+="&d_cid_ic="+x.encodeAndBuildRequest(o[s],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,A.registerRequest(),N.isIabContext()&&B.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=k.isPopulatedString,s=encodeURIComponent;if(e===Object(e)&&n(t)){var i=e.dpid,r=e.dpuuid,o=null;if(n(i)&&n(r))return o=s(i)+"$"+s(r),!0===this.declaredIdCombos[o]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[o]=!0,this.declaredId[t]={dpid:i,dpuuid:r},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,s="";return null!==e?s="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(s="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),s}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(p=!0)),this.firing||!n.length||i&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(N.isApproved()||B.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid="),k.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid=")),V.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(b||window.Visitor)},getCoopQueryString:function(){var e="";return!0===d?e="&d_coop_safe=1":!1===d&&(e="&d_coop_unsafe=1"),e}};C.requestController=A;var q,j,T={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){var n,s=this;function i(){s.jsonForComparison.push(e),s.jsonWaiting.push([e,t])}if(e&&!k.isEmptyObject(e))if(n=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var r,o,a,d=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(a=this.jsonForComparison[r],n===JSON.stringify(a.dests||[])){d=!0;break}d?this.jsonDuplicates.push(e):i()}else i();if(this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u[0],u[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(f){var t,n,s,i,r,o,a=encodeURIComponent,d=this.getPublishDestinationsVersion(),u=!1;if(-1!==d){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(s=0;s<n;s++)i=t[s],o=[a("dests"),a(i.id||""),a(i.y||""),a(i.c||"")].join("|"),this.addMessage(o),r={url:i.c,hideReferrer:void 0===i.hr||!!i.hr,message:o},this.addDestination(r),void 0!==i.hr&&(u=!0);1===d&&u&&R.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,f&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){var t=this,e=A.adms.instance,n=[],s=[],i=function(e){R.log("visitor.publishDestinations() result: "+(e.error||e.message)),t.sendingMessages=!1,t.requestToProcess()},r=function(){t.messages=[],t.destinations=[]};return 1===this.publishDestinationsVersion?(x.extendArray(n,this.messages),x.extendArray(this.messagesPosted,this.messages),r(),e.publishDestinations(I,n,i),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(x.extendArray(s,this.destinations),x.extendArray(this.destinationsPosted,this.destinations),r(),e.publishDestinations({subdomain:I,callback:i,urlDestinations:s}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=A.adms.instance,n=-1;return e.publishDestinations(null,null,function(e){if(e===Object(e)){var t=e.error;"subdomain is not a populated string."===t?n=1:"Invalid parameters passed."===t&&(n=2)}}),this.publishDestinationsVersion=n}},M={traits:function(e){return k.isValidPdata(e)&&(L.sids instanceof Array||(L.sids=[]),x.extendArray(L.sids,e)),this},pixels:function(e){return k.isValidPdata(e)&&(L.pdata instanceof Array||(L.pdata=[]),x.extendArray(L.pdata,e)),this},logs:function(e){return k.isValidLogdata(e)&&(L.logdata!==Object(L.logdata)&&(L.logdata={}),x.extendObject(L.logdata,e)),this},customQueryParams:function(e){return k.isEmptyObject(e)||x.extendObject(L,e,A.reservedKeys),this},signals:function(e,t){var n,s=e;if(!k.isEmptyObject(s)){if(t&&"string"==typeof t)for(n in s={},e)e.hasOwnProperty(n)&&(s[t+n]=e[n]);x.extendObject(L,s,A.reservedKeys)}return this},declaredId:function(e){return A.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(L.callback=e),this},afterResult:function(e){return"function"==typeof e&&(L.postCallbackFn=e),this},useImageRequest:function(){return L.useImageRequest=!0,this},clearData:function(){return L={},this},submit:function(e){return L.isDefaultRequest=!!e,V.submitRequest(L),L={},this},getPartner:function(){return I},getContainerNSID:function(){return r},getEventLog:function(){return O},getState:function(){var e={},t={};return x.extendObject(e,A,{registerRequest:!0}),x.extendObject(t,T,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:n,pendingRequest:L,otherRequestInfo:e,destinationPublishingInfo:t,log:O}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return k.isEmptyObject(e)?"Error: json is empty or not an object":(V.defaultCallback(e),e)},getPlatformParams:function(){return A.platformParams},getEventCallConfigParams:function(){var e,t=A,n=t.modStatsParams,s=t.platformParams;if(!n){for(e in n={},s)s.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=s[e]);!0===d?n.coop_safe=1:!1===d&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return d=!0,this},setAsCoopUnsafe:function(){return d=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void B.getQueryStringObject(e.callback,t))}},V={corsMetadata:(q="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(q="XMLHttpRequest"),{corsType:q}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return A.registerRequest(V.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,s,i,r,o=e.callback,a="img",d=e.isDefaultRequest;if(delete e.isDefaultRequest,!k.isEmptyObject(u))for(s in u)if(u.hasOwnProperty(s)){if(null==(i=u[s])||""===i)continue;if(s in e&&!(i in e)&&!(i in A.reservedKeys)){if(null==(r=e[s])||""===r)continue;e[i]=r}}return k.isValidPdata(e.sids)||(e.sids=[]),k.isValidPdata(e.pdata)||(e.pdata=[]),k.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=x.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(a="cors"),{tag:a,src:t.src,corsSrc:t.corsSrc,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:d}},defaultCallback:function(e,t){var n,s,i,r,o,a,d,u,c;if(g&&(n=e.stuff)&&n instanceof Array&&(s=n.length))for(i=0;i<s;i++)(r=n[i])&&r===Object(r)&&(o=r.cn,a=r.cv,void 0!==(d=r.ttl)&&""!==d||(d=Math.floor(x.getMaxCookieExpiresInMinutes()/60/24)),u=r.dmn||"."+document.domain.replace(/^www\./,""),c=r.type,o&&(a||"number"==typeof a)&&("var"!==c&&(d=parseInt(d,10))&&!isNaN(d)&&x.setCookie(o,a,24*d*60,"/",u,!1),P.stuffed[o]=a));var l,f,p=e.uuid;k.isPopulatedString(p)&&(k.isEmptyObject(h)||("string"==typeof(l=h.path)&&l.length||(l="/"),f=parseInt(h.days,10),isNaN(f)&&(f=100),x.setCookie(h.name||"aam_did",p,24*f*60,l,h.domain||"."+document.domain.replace(/^www\./,""),!0===h.secure))),A.abortRequests||T.requestToProcess(e,t)},makeRequestSrcData:function(r){r.sids=k.removeEmptyArrayValues(r.sids||[]),r.pdata=k.removeEmptyArrayValues(r.pdata||[]);var o=A,e=o.platformParams,t=x.encodeAndBuildRequest(r.sids,","),n=x.encodeAndBuildRequest(r.pdata,","),s=(r.logdataArray||[]).join("&");delete r.logdataArray;var i,a,d=encodeURIComponent,u=E.IS_HTTPS?"https://":"http://",c=o.declaredId.getDeclaredIdQueryString(),l=o.adms.instance?o.adms.getCustomerIDsQueryString(o.adms.getCustomerIDs()):"",f=function(){var e,t,n,s,i=[];for(e in r)if(!(e in o.reservedKeys)&&r.hasOwnProperty(e))if(t=r[e],e=d(e),t instanceof Array)for(n=0,s=t.length;n<s;n++)i.push(e+"="+d(t[n]));else i.push(e+"="+d(t));return i.length?"&"+i.join("&"):""}(),p="d_dil_ver="+d(DIL.version),h="d_nsid="+e.d_nsid+o.getCoopQueryString()+c+l+(t.length?"&d_sid="+t:"")+(n.length?"&d_px="+n:"")+(s.length?"&d_ld="+d(s):""),g="&d_rtbd="+e.d_rtbd+"&d_jsonv="+e.d_jsonv+"&d_dst="+e.d_dst,m=y?"&h_referer="+d(location.href):"";return a=(i=u+I+".demdex.net/event")+"?"+p+"&"+h+g+f+m,{corsSrc:i+"?"+p+"&_ts="+(new Date).getTime(),src:a,corsPostData:h+g+f+m,isDeclaredIdCall:""!==c}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=A.declaredId,n=t.declaredId.request||t.declaredId.init||{},s={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,s)}},fireImage:function(t){var e,n,s=A;s.abortRequests||(s.firing=!0,e=new Image(0,0),s.sent.push(t),e.onload=function(){s.firing=!1,s.fired.push(t),s.num_of_img_responses++,s.registerRequest()},n=function(e){c="imgAbortOrErrorHandler received the event of type "+e.type,R.log(c),s.abortRequests=!0,s.firing=!1,s.errored.push(t),s.num_of_img_errors++,s.registerRequest()},e.addEventListener("error",n),e.addEventListener("abort",n),e.src=t.src)},fireCORS:function(s,i){var r=this,o=A,e=this.corsMetadata.corsType,t=s.corsSrc,n=s.corsInstance,a=s.corsPostData,d=s.postCallbackFn,u="function"==typeof d;if(!o.abortRequests&&!v){o.firing=!0;try{n.open("post",t,!0),"XMLHttpRequest"===e&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return r.handleCORSError(s,i,"Response is not JSON")}catch(e){return r.handleCORSError(s,i,"Error parsing response as JSON")}try{var n=s.callbackFn;o.firing=!1,o.fired.push(s),o.num_of_cors_responses++,n(t,i),u&&d(t,i)}catch(e){e.message="DIL handleCORSResponse caught error with message "+e.message,c=e.message,R.log(c),e.filename=e.filename||"dil.js",e.partner=I,DIL.errorModule.handleError(e);try{n({error:e.name+"|"+e.message},i),u&&d({error:e.name+"|"+e.message},i)}catch(e){}}finally{o.registerRequest()}}(this.responseText)}),n.onerror=function(){r.handleCORSError(s,i,"onerror")},n.ontimeout=function(){r.handleCORSError(s,i,"ontimeout")},n.send(a)}catch(e){this.handleCORSError(s,i,"try-catch")}o.sent.push(s),o.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){A.num_of_cors_errors++,A.corsErrorSources.push(n)}},k={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,s=e.length,i=[];for(n=0;n<s;n++)null!=(t=e[n])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},x={convertObjectToKeyValuePairs:function(e,t,n){var s,i,r=[];for(s in t||(t="="),e)e.hasOwnProperty(s)&&null!=(i=e[s])&&""!==i&&r.push(s+t+(n?encodeURIComponent(i):i));return r},encodeAndBuildRequest:function(e,t){return e.map(function(e){return encodeURIComponent(e)}).join(t)},getCookie:function(e){var t,n,s,i=e+"=",r=document.cookie.split(";");for(t=0,n=r.length;t<n;t++){for(s=r[t];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}return null},setCookie:function(e,t,n,s,i,r){var o=new Date;n&&(n=1e3*n*60),document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(o.getTime()+n).toUTCString():"")+(s?";path="+s:"")+(i?";domain="+i:"")+(r?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var s;if(e!==Object(e)||t!==Object(t))return!1;for(s in t)if(t.hasOwnProperty(s)){if(!k.isEmptyObject(n)&&s in n)continue;e[s]=t[s]}return!0},getMaxCookieExpiresInMinutes:function(){return E.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},N=(j=C.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions(function(){e.callback()},!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),j.adms.waitForMidToReleaseRequests(),j.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!j.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});C.optIn=N;var F,Q,H,U,B=(Q=(F=C).requestController,H=F.optIn,U={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(H.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||Q.adms.isOptedOut)},fetchConsentData:function(n,e){var s=this,t={};"function"!=typeof n&&(n=function(){}),H.instance&&H.isIabContext()?(e&&(t.timeout=e),H.instance.execute({command:"iabPlugin.fetchConsentData",params:t,callback:function(e,t){t===Object(t)?(s.doesGdprApply=!!t.gdprApplies,s.consentString=t.consentString||""):(s.doesGdprApply=!1,s.consentString=""),s.isVendorConsented=H.instance.isApproved(H.instance.Categories.AAM),e?n({}):s.checkQueryStringObject(n),Q.adms.waitForMidToReleaseRequests()}})):n({})},getQueryString:function(){return H.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){U.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});C.iab=B,"error"===I&&0===r&&window.addEventListener("load",function(){DIL.windowLoaded=!0});var G=!1,W=function(){G||(G=!0,A.registerRequest(),X())},X=function(){setTimeout(function(){p||A.firstRequestHasFired||("function"==typeof m?M.afterResult(m).submit(!0):M.submit(!0))},DIL.constants.TIME_TO_DEFAULT_REQUEST)},K=document;"error"!==I&&(DIL.windowLoaded?W():"complete"!==K.readyState&&"loaded"!==K.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0,W()}):(DIL.windowLoaded=!0,W())),A.declaredId.setDeclaredId(s,"init"),N.init(),B.init(),A.processVisitorAPI();E.IS_IE_LESS_THAN_10&&x.replaceMethodsWithFunction(M,function(){return this}),this.api=M,this.getStuffedVariable=function(e){var t=P.stuffed[e];return t||"number"==typeof t||(t=x.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=k,this.helpers=x,this.constants=E,this.log=O,this.pendingRequest=L,this.requestController=A,this.destinationPublishing=T,this.requestProcs=V,this.units=C,this.initConfig=n,this.logger=R,w&&(this.variables=P,this.callWindowLoadFunctions=W)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.3",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,n){var s=t+"$"+n;s in this.dils||(this.dils[s]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),t||(t=0),(n=e+"$"+t)in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){var s=this.getDil(t,n);return s instanceof this?s.getStuffedVariable(e):""}}),DIL.errorModule=(r=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),a=!(o={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){a=!0},handleError:function(e){if(!a)return"DIL error module has not been activated";e!==Object(e)&&(e={});var t=e.name?(e.name+"").toLowerCase():"",n=t in o?o[t]:o.noerrortypedefined,s=[],i={name:t,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return s.push(n),r.api.pixels(s).logs(i).useImageRequest().submit(),"DIL error report sent"},pixelMap:o}),DIL.tools={},DIL.modules={helpers:{}})}();function AppMeasurement(r){var a=this;a.version="2.17.0";var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c="s_c";var q=h.AppMeasurement.ec;q||(q=null);var p=h,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+m.location!=""+s&&p.location&&""+m.location!=""+p.location&&m.location.host==s.host;)p=m,m=p.parent}catch(u){}a.C=function(a){try{console.log(a)}catch(b){}};a.Pa=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.Kb=function(){var c=h.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ia&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ia=0<d?c.substring(d):c}return a.Ia};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.Kb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toUTCString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.Hb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.ub(a,function(){}))};a.ub=function(a,b){for(var d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&(a[d]=b)};a.K=[];a.ea=function(c,b,d){if(a.Ja)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,k=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.fa)for(a.fa=1,d=0;d<k.length;d++)a.d.addEventListener(k[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.fa=0,a.delayReady())});f=1;e=0}else d||a.u("_d")&&(f=1);f&&(a.K.push({m:c,a:b,t:e}),a.fa||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.u("_d")?b=1:a.ya();0<a.K.length;){d=a.K.shift();if(b&&!d.t&&d.t>c){a.K.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Ja=1;a[d.m].apply(a,d.a);a.Ja=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ea("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,k="";e=f="";if(a.lightProfileID)d=a.O,(k=a.lightTrackVars)&&(k=","+k+","+a.ka.join(",")+",");else{d=a.g;if(a.pe||a.linkType)k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].ac,f=a[e].$b));k&&(k=","+k+","+a.F.join(",")+",");f&&k&&(k+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!k||0<=k.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.o=function(c,b,d,f,e){var g="",k,l,h,n,m=0;"contextData"==c&&(c="c");if(b){for(k in b)if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&b[k]&&(!d||0<=d.indexOf(","+(f?f+".":"")+k+","))){h=!1;if(m)for(l=0;l<m.length;l++)if(k.substring(0,m[l].length)==m[l]){h=!0;break}if(!h&&(""==g&&(g+="&"+c+"."),l=b[k],e&&(k=k.substring(e.length)),0<k.length))if(h=k.indexOf("."),0<h)l=k.substring(0,h),h=(e?e:"")+l+".",m||(m=[]),m.push(h),g+=a.o(l,b,d,f,h);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(h=k.substring(0,4),n=k.substring(4),k){case"transactionID":k="xact";break;case"channel":k="ch";break;case"campaign":k="v0";break;default:a.Pa(n)&&("prop"==h?k="c"+n:"eVar"==h?k="v"+n:"list"==h?k="l"+n:"hier"==h&&(k="h"+n,l=l.substring(0,255)))}g+="&"+a.escape(k)+"="+a.escape(l)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.Nb=function(){var c="",b,d,f,e,g,k,l,h,n="",m="",p=e="",r=a.T();if(a.lightProfileID)b=a.O,(n=a.lightTrackVars)&&(n=","+n+","+a.ka.join(",")+
",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].ac,m=a[e].$b));n&&(n=","+n+","+a.F.join(",")+",");m&&(m=","+m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.o("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.o("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);k=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.V("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case"customerPerspective":e="cp";break;case"marketingCloudOrgID":e="mcorgid";break;case"supplementalDataID":e="sdid";break;case"timestamp":e="ts";break;case"dynamicVariablePrefix":e="D";break;case"visitorID":e="vid";break;case"marketingCloudVisitorID":e="mid";break;case"analyticsVisitorID":e="aid";break;case"audienceManagerLocationHint":e="aamlh";break;case"audienceManagerBlob":e="aamb";break;case"authState":e="as";break;case"pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":e="-g";break;case"referrer":e="r";break;case"vmk":case"visitorMigrationKey":e="vmt";break;case"visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":e="ce";break;case"visitorNamespace":e="ns";break;case"cookieDomainPeriods":e="cdp";break;case"cookieLifetime":e="cl";break;case"variableProvider":e="vvp";break;case"currencyCode":e="cc";break;case"channel":e="ch";break;case"transactionID":e="xact";break;case"campaign":e="v0";break;case"latitude":e="lat";break;case"longitude":e="lon";break;case"resolution":e="s";break;case"colorDepth":e="c";break;case"javascriptVersion":e="j";break;case"javaEnabled":e="v";break;case"cookiesEnabled":e="k";break;case"browserWidth":e="bw";break;case"browserHeight":e="bh";break;case"connectionType":e="ct";break;case"homepage":e="hp";break;case"events":p&&(g+=(""!=g?",":"")+p);if(m)for(k=g.split(","),g="",f=0;f<k.length;f++)l=k[f],h=l.indexOf("="),0<=h&&(l=l.substring(0,h)),h=l.indexOf(":"),0<=h&&(l=l.substring(0,h)),0<=m.indexOf(","+l+",")&&(g+=(g?",":"")+k[f]);break;case"events2":g="";break;case"contextData":c+=a.o("c",a[e],n,e);g="";break;case"lightProfileID":e="mtp";break;case"lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case"lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case"retrieveLightProfiles":e="mtsr";break;case"deleteLightProfiles":e="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(c+=a.o("mts",a[e],n,e));g="";break;default:a.Pa(k)&&("prop"==f?e="c"+k:"eVar"==f?e="v"+k:"list"==f?e="l"+k:"hier"==f&&(e="h"+k,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.ja&&(c+="&lrt="+a.ja,a.ja=null);return c};a.B=function(a){var b=a.tagName;if("undefined"!=""+a.hc||"undefined"!=""+a.Wb&&"HTML"!=(""+a.Wb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.La=function(a){var b=h.location,d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.L=function(c){var b=a.B(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+
f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.La(c),e)?{id:e.substring(0,100),type:g}:0};a.fc=function(c){for(var b=a.B(c),d=a.L(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.B(c),d=a.L(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Vb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.la=1;d||(a.la=0,d=a.clickObject);if(d){c=a.B(d);for(b=a.L(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.B(d),b=a.L(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.la=1;!e&&d&&(e=a.La(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),k=l.indexOf("#"),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),k=0;k<g.length;k++)(p=g[k])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Oa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(k=0;k<g.length;k++)p=g[k],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(b.id=h.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.Ob=function(){var c=a.la,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Rb()){var b={},d=0,e=a.pb(),g=e?e.split("&"):0,k,l,h,e=0;if(g)for(k=0;k<g.length;k++)l=g[k].split("="),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");k={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(k[h]=a.contextData[h],a.contextData[h]="");a.e=a.o("c",k)+
(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(h=0;h<f.length;h++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("&"!=l.charAt(0)?"&":"")+l,b[l]=[],d=1)),k=0;k<b[l].length;k++)g=b[l][k],g==f[h]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=l.charAt(0)?"&":"")+l+"&u=0"),b[l].splice(k,1),d=1);c||(d=1);if(d){e="";k=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),k=1);for(l in b)!Object.prototype[l]&&0<k&&0<b[l].length&&(e+=(e?"&":"")+a.escape(b[l].join(","))+"="+a.escape(l),k--);a.wb(e)}}}return c};a.pb=function(){if(a.useLinkTrackSessionStorage){if(a.Ca())return h.sessionStorage.getItem(a.P)}else return a.cookieRead(a.P)};a.Ca=function(){return h.sessionStorage?!0:!1};a.wb=function(c){a.useLinkTrackSessionStorage?a.Ca()&&h.sessionStorage.setItem(a.P,c):a.cookieWrite(a.P,c)};a.Pb=function(){if(!a.Zb){var c=new Date,b=p.location,d,f,e=f=d="",g="",k="",l="1.2",h=a.cookieWrite("s_cc","true",0)?"Y":"N",m="",q="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),m=a.b.gc(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=h;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=m;a.Zb=1}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=h["AppMeasurement_Module_"+c]?new h["AppMeasurement_Module_"+c](a):{};a.Q[c]=a[c]=d;d.ib=function(){return d.sb};d.xb=function(b){if(d.sb=b)a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.ib,set:d.xb}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ea(c+"_onLoad",[a,d],1)||b(a,d))};a.u=function(c){var b,d;for(b in a.Q)if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Rb=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Sb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.S=function(c,b){var d,f,e,g,k,h,m;m={};for(d=0;2>d;d++)for(f=0<d?a.Ea:a.g,e=0;e<f.length;e++)if(g=f[e],(k=c[g])||c["!"+g]){if(k&&!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(h in a[g])k[h]||(k[h]=a[g][h]);a[g]||(m["!"+g]=1);m[g]=a[g];a[g]=k}return m};a.cc=function(c){var b,d,f,e;for(b=0;2>b;b++)for(d=0<b?a.Ea:a.g,f=0;f<d.length;f++)e=d[f],c[e]=a[e],c[e]||"prop"!==e.substring(0,4)&&"eVar"!==e.substring(0,4)&&"hier"!==e.substring(0,4)&&"list"!==e.substring(0,4)&&"channel"!==e&&"events"!==e&&"eventList"!==e&&"products"!==e&&"productList"!==e&&"purchaseID"!==e&&"transactionID"!==e&&"state"!==e&&"zip"!==e&&"campaign"!==e&&"events2"!==e&&"latitude"!==e&&"longitude"!==e&&"ms_a"!==e&&"contextData"!==e&&"supplementalDataID"!==e&&"tnt"!==e&&"timestamp"!==e&&"abort"!==e&&"useBeacon"!==e&&"linkObject"!==e&&"clickObject"!==e&&"linkType"!==e&&"linkName"!==e&&"linkURL"!==e&&"bodyClickTarget"!==e&&"bodyClickFunction"!==e||(c["!"+e]=1)};a.Jb=function(a){var b,d,f,e,g,k=0,h,m="",n="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(h=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")?k=",p,ei,":0<=e.indexOf("baidu.")&&(k=",wd,word,"),k&&h)))){if((a=h.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?m+=(m?"&":"")+e:n+=(n?"&":"")+e;m&&n?h=m+"&"+n:n=""}d=253-(h.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+h}return a};a.bb=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ba=!1;a.H=!1;a.zb=function(){a.H=!0;a.p()};a.I=!1;a.Ab=function(c){a.marketingCloudVisitorID=c.MCMID;a.visitorOptedOut=c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.I=!1;a.p()};a.ab=function(c){a.maxDelay||(a.maxDelay=250);return a.u("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.Z=!1;a.G=!1;a.ya=function(){a.G=!0;a.p()};a.isReadyToTrack=function(){var c=!0;if(!a.mb()||!a.kb())return!1;a.ob()||(c=!1);a.rb()||(c=!1);return c};a.mb=function(){a.ba||a.H||(a.bb(a.zb)?a.H=!0:a.ba=!0);return a.ba&&!a.H?!1:!0};a.kb=function(){var c=a.va();if(c)if(a.ra||a.aa)if(a.ra){if(!c.isApproved(c.Categories.ANALYTICS))return!1}else return!1;else return c.fetchPermissions(a.tb,!0),a.aa=!0,!1;return!0};a.V=function(c){var b=a.va();return b&&!b.isApproved(b.Categories[c])?!1:!0};a.va=function(){return h.adobe&&h.adobe.optIn?h.adobe.optIn:null};a.Y=!0;a.ob=function(){var c=a.T();if(!c||!c.getVisitorValues)return!0;a.Y&&(a.Y=!1,a.I||(a.I=!0,c.getVisitorValues(a.Ab)));return!a.I};a.T=function(){var c=a.visitor;c&&!c.isAllowed()&&(c=null);return c};a.rb=function(){a.Z||a.G||(a.ab(a.ya)?a.G=!0:a.Z=!0);return a.Z&&!a.G?!1:!0};a.aa=!1;a.tb=function(){a.aa=!1;a.ra=!0};a.j=q;a.q=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Eb=c;f.Db=b;f.Bb=d;a.j==q&&(a.j=[]);a.j.push(f);0==a.q&&(a.q=setInterval(a.p,100))};a.p=function(){var c;if(a.isReadyToTrack()&&(a.yb(),a.j!=q))for(;0<a.j.length;)c=a.j.shift(),c.Db.apply(c.Eb,c.Bb)};a.yb=function(){a.q&&(clearInterval(a.q),a.q=0)};a.ta=function(c){var b,d={};a.cc(d);if(c!=q)for(b in c)d[b]=c[b];a.callbackWhenReadyToTrack(a,a.Da,[d]);a.Ba()};a.Lb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.Da=function(c){var b=new Date,d="s"+Math.floor(b.getTime()/108E5)%10+Math.floor(1E13*Math.random()),f=b.getYear(),f="t="+a.escape(b.getDate()+"/"+b.getMonth()+"/"+(1900>f?f+1900:f)+" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+" "+b.getDay()+" "+b.getTimezoneOffset()),e=a.T(),g;c&&(g=a.S(c,1));a.Sb()&&!a.visitorOptedOut&&(a.wa()||(a.fid=a.Lb()),a.Vb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(b.getTime()/1E3)),c=h.location,a.pageURL||(a.pageURL=c.href?c.href:c),a.referrer||a.Za||(c=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=c||void 0===c?void 0===c?"":c:p.document.referrer),a.Za=1,a.referrer=a.Jb(a.referrer),a.u("_g")),a.Ob()&&!a.abort&&(e&&a.V("TARGET")&&!a.supplementalDataID&&e.getSupplementalDataID&&(a.supplementalDataID=e.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.V("AAM")||(a.contextData["cm.ssf"]=1),a.Pb(),f+=a.Nb(),a.qb(d,f),a.u("_t"),a.referrer="")));a.Ba();g&&a.S(g,1)};a.t=a.track=function(c,b){b&&a.S(b);a.Y=!0;a.isReadyToTrack()?null!=a.j&&0<a.j.length?(a.ta(c),a.p()):a.Da(c):a.ta(c)};a.Ba=function(){a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=a.useBeacon=a.referrer=0};a.Aa=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Aa.push([c,b]):a.debugTracking&&a.C("DEBUG: Non function type passed to registerPreTrackCallback")};a.fb=function(c){a.ua(a.Aa,c)};a.za=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.za.push([c,b]):a.debugTracking&&a.C("DEBUG: Non function type passed to registerPostTrackCallback")};a.eb=function(c){a.ua(a.za,c)};a.ua=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.C(g.message)}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.bodyClickTarget=c,a.bodyClickFunction=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.qb=function(c,b){var d=a.gb()+"/"+c+"?AQB=1&ndh=1&pf=1&"+(a.xa()?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";a.fb(d);a.cb(d);a.U()};a.gb=function(){var c=a.hb();return"http"+(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.xa()?"10":"1")+"/JS-"+a.version+(a.Yb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.xa=function(){return a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks};a.hb=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=a.jb()+"."+c+".2o7.net");return b};a.jb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Ya=/{(%?)(.*?)(%?)}/;a.bc=RegExp(a.Ya.source,"g");a.Ib=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.bc),e=0;e<f.length;++e){var g=f[e],k=g.match(a.Ya),h="";"%"==k[1]&&"timezone_offset"==k[2]?h=(new Date).getTimezoneOffset():"%"==k[1]&&"timestampz"==k[2]&&(h=a.Mb());d.c=d.c.replace(g,a.escape(h))}}};a.Mb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+
(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.pa={};a.doPostbacks=function(c){if("object"==typeof c)if(a.Ib(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.pa[d.id]=new Image,a.pa[d.id].alt="",a.pa[d.id].src=d.c)}};a.cb=function(c){a.i||a.Qb();a.i.push(c);a.ia=a.A();a.Wa()};a.Qb=function(){a.i=a.Tb();a.i||(a.i=[])};a.Tb=function(){var c,b;if(a.oa()){try{(b=h.localStorage.getItem(a.ma()))&&(c=h.JSON.parse(b))}catch(d){}return c}};a.oa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&h.localStorage&&h.JSON||(c=!1);return c};a.Ma=function(){var c=0;a.i&&(c=a.i.length);a.l&&c++;return c};a.U=function(){if(a.l&&(a.v&&a.v.complete&&a.v.D&&a.v.R(),a.l))return;a.Na=q;if(a.na)a.ia>a.N&&a.Ua(a.i),a.qa(500);else{var c=a.Cb();if(0<c)a.qa(c);else if(c=a.Ka())a.l=1,a.Ub(c),a.Xb(c)}};a.qa=function(c){a.Na||(c||(c=0),a.Na=setTimeout(a.U,c))};a.Cb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.A()-a.Sa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ka=function(){if(0<a.i.length)return a.i.shift()};a.Ub=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.C(b)}};a.wa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.X=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(w){t=null}t&&"y"==t.x?(a.X=!0,a.W=function(a){return JSON.parse(a)}):h.$&&h.$.parseJSON?(a.W=function(a){return h.$.parseJSON(a)},a.X=!0):a.W=function(){return null};a.Xb=function(c){var b,d,f;a.lb(c)&&(d=1,b={send:function(c){a.useBeacon=!1;navigator.sendBeacon(c)?b.R():b.ga()}});!b&&a.wa()&&2047<c.length&&(a.$a()&&(d=2,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.X?b.Fa=!0:b=0));!b&&a.Xa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof h.InstallTrigger||(b.abort=function(){b.src=q}));b.Ta=Date.now();b.Ha=function(){try{b.D&&(clearTimeout(b.D),b.D=0)}catch(a){}};b.onload=b.R=function(){b.Ta&&(a.ja=Date.now()-b.Ta);a.eb(c);b.Ha();a.Gb();a.ca();a.l=0;a.U();if(b.Fa){b.Fa=!1;try{a.doPostbacks(a.W(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.ga=function(){b.Ha();(a.trackOffline||a.na)&&a.l&&a.i.unshift(a.Fb);a.l=0;a.ia>a.N&&a.Ua(a.i);a.ca();a.qa(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.R():b.ga())};a.Sa=a.A();if(1===d)b.send(c);else if(2===d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);else if(b.src=c,3===d){if(a.Qa)try{f.removeChild(a.Qa)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Qa=a.v}b.D=setTimeout(function(){b.D&&(b.complete?b.R():(a.trackOffline&&b.abort&&b.abort(),b.ga()))},5E3);a.Fb=c;a.v=h["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.J||a.bodyClickFunction)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.da=setTimeout(a.ca,a.forcedLinkTrackingTimeout)};a.lb=function(c){var b=!1;navigator.sendBeacon&&(a.nb(c)?b=!0:a.useBeacon&&(b=!0));a.vb(c)&&(b=!1);return b};a.nb=function(a){return a&&0<a.indexOf("pe=lnk_e")?!0:!1};a.vb=function(a){return 64E3<=a.length};a.$a=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.Gb=function(){if(a.oa()&&!(a.Ra>a.N))try{h.localStorage.removeItem(a.ma()),a.Ra=a.A()}catch(c){}};a.Ua=function(c){if(a.oa()){a.Wa();try{h.localStorage.setItem(a.ma(),h.JSON.stringify(c)),a.N=a.A()}catch(b){}}};a.Wa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ka()}};a.forceOffline=function(){a.na=!0};a.forceOnline=function(){a.na=!1};a.ma=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.A=function(){return(new Date).getTime()};a.Oa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Yb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.S(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:h.location);d=d?d:"&";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+
c+"="+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"=");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return null}};a.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");a.g=a.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.O=a.ka.slice(0);a.Ea="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" ");for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.O.push("prop"+m)),a.g.push("eVar"+m),a.O.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.g=a.g.concat(m);a.F=a.F.concat(m);a.ssl=0<=h.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.P="s_sq";a.Sa=0;a.ia=0;a.N=0;a.Ra=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=h;a.d=h.document;try{if(a.Xa=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Xa=!0}}catch(x){}a.ca=function(){a.da&&(h.clearTimeout(a.da),a.da=q);a.bodyClickTarget&&a.J&&a.bodyClickTarget.dispatchEvent(a.J);a.bodyClickFunction&&("function"==typeof a.bodyClickFunction?a.bodyClickFunction():a.bodyClickTarget&&a.bodyClickTarget.href&&(a.d.location=a.bodyClickTarget.href));a.bodyClickTarget=a.J=a.bodyClickFunction=0};a.Va=function(){a.b=a.d.body;a.b?(a.r=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Ga)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.r,!1);else{a.b.removeEventListener("click",a.r,!0);a.Ga=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.M&&a.M==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var k=a.M=a.clickObject;a.ha&&(clearTimeout(a.ha),a.ha=0);a.ha=setTimeout(function(){a.M==k&&(a.M=0)},1E4);f=a.Ma();a.track();if(f<a.Ma()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Oa(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||h.name&&d==h.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=new h.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.bodyClickTarget=c.target,a.J=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.r):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&h.MouseEvent)&&(a.Ga=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.r,!0)),a.b.addEventListener("click",a.r,!1))):setTimeout(a.Va,30)};a.Hb();a.ic||(r?a.setAccount(r):a.C("Error, missing Report Suite ID in AppMeasurement initialization"),a.Va(),a.loadModule("ActivityMap"))}function s_gi(r){var a,h=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(h)for(q=0;!t&&q<h.length;){a=h[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var r=window,a=r.s_giq,h,q,p;if(a)for(h=0;h<a.length;h++)q=a[h],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}s_pgicq();});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){if(window.AppMeasurement){function GetDataValue(name,source){for(var i=0;i<source.length;i++){if(source[i].Name==name){return source[i].Value;}}
return null;}
function ProcessPageView(){var dataSource=[];for(var i=0;i<arguments.length;i++){dataSource.push({"Name":_dsgTag.DataLayer.dataNameList[i],"Value":arguments[i]});}
try{var currentURL=GetDataValue("PageURL",dataSource);s.pageURL=currentURL;s.manageVars("clearVars");s.tnt="";s.pe="";s.pev2="";s.linkName="";s.linkType="";s.pageType="";s.LegacyChannelManager();var pageHandlers=[];pageHandlers.push(HandleAllPageDeployments);switch(_dsgTag.pageType){case _dsgTag.PageTypes.Home:pageHandlers.push(HandleHomePageDeployments);break;case _dsgTag.PageTypes.Category:case _dsgTag.PageTypes.Family:pageHandlers.push(HandleDepartmentCategoryFamilyPageDeployments);break;case _dsgTag.PageTypes.Search:case _dsgTag.PageTypes.FailedSearch:pageHandlers.push(HandleSearchPageDeployments);break;case _dsgTag.PageTypes.ProductCompare:pageHandlers.push(HandleComparePageDeployments);break;case _dsgTag.PageTypes.ProductDetails:pageHandlers.push(HandleProductPageDeployments);break;case _dsgTag.PageTypes.Cart:pageHandlers.push(HandleCartPageDeployments);break;case _dsgTag.PageTypes.CheckoutSignIn:pageHandlers.push(HandleCheckoutSignInPageDeployments);break;case _dsgTag.PageTypes.CheckoutBillingShippingAddress:case _dsgTag.PageTypes.CheckoutBillingAddress:case _dsgTag.PageTypes.CheckoutShippingAddress:case _dsgTag.PageTypes.CheckoutDelivery:case _dsgTag.PageTypes.CheckoutPayment:case _dsgTag.PageTypes.CheckoutReview:pageHandlers.push(HandleCheckoutPageDeployments);break;case _dsgTag.PageTypes.OrderConfirmation:pageHandlers.push(HandleOrderConfirmationPageDeployments);break;case _dsgTag.PageTypes.Proxy:pageHandlers.push(HandleProxyPageDeployments);break;case _dsgTag.PageTypes.Static:pageHandlers.push(HandleStaticPageDeployments);break;case _dsgTag.PageTypes.WeeklyAd:pageHandlers.push(HandleWeeklyAdPageDeployments);break;case _dsgTag.PageTypes.OrderTracking:pageHandlers.push(HandleOrderTrackingPageDeployments);break;case _dsgTag.PageTypes.OrderDetails:pageHandlers.push(HandleOrderDetailsPageDeployments);break;case _dsgTag.PageTypes.GuestOrderTracking:pageHandlers.push(HandleGuestOrderTrackingPageDeployments);break;case _dsgTag.PageTypes.MyAccountSignIn:case _dsgTag.PageTypes.MyAccountSignInAuth0:pageHandlers.push(HandleMyAccountSignInPageDeployments);break;case _dsgTag.PageTypes.MyAccountRegistration:pageHandlers.push(HandleMyAccountRegistrationPageDeployments);break;case _dsgTag.PageTypes.MyAccount:pageHandlers.push(HandleMyAccountPageDeployments);break;case _dsgTag.PageTypes.AddressBook:pageHandlers.push(HandleAddressBookPageDeployments);break;case _dsgTag.PageTypes.StoreLocatorIndex:pageHandlers.push(HandleStoreLocatorIndex);break;case _dsgTag.PageTypes.StoreLocatorLocalStore:pageHandlers.push(HandleStoreLocatorLocalStore);break;case _dsgTag.PageTypes.StoreLocatorIFrame:pageHandlers.push(HandleStoreLocatorIFrameDeployments);break;case _dsgTag.PageTypes.ChatForm:case _dsgTag.PageTypes.ChatConversation:pageHandlers.push(HandleChatPageDeployments);break;case _dsgTag.PageTypes.Protips:pageHandlers.push(HandleProtipsPageDeployments);break;case _dsgTag.PageTypes.Scorecard:pageHandlers.push(HandleScorecardPageDeployments);break;case _dsgTag.PageTypes.ProductReview:pageHandlers.push(HandleProductReviewDeployments);break;case _dsgTag.PageTypes.WarDash:pageHandlers.push(HandleWarDashDeployments);break;default:break;}
var cancelPageView=false;for(var i=0;i<pageHandlers.length;i++){try{cancelPageView=pageHandlers[i](dataSource)||cancelPageView;}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in ProcessPageView "+pageHandlers[i].name+": "+ex.message,true);}}
s.server=window.location.hostname.toLowerCase();s.postTrackCallbackList.push(function(){if(!_dsgTag.EventHandlers.initialPageViewFired){_dsgTag.EventHandlers.initialPageViewFired=true;if(_dsgTag.EventHandlers.delayedPageViewEvents.length>0){_dsgTag.HelperFunctions.DebugLog("Now handling "+_dsgTag.EventHandlers.delayedPageViewEvents.length+" delayed event(s): ");for(var i=0;i<_dsgTag.EventHandlers.delayedPageViewEvents.length;i++){var delayedEvent=_dsgTag.EventHandlers.delayedPageViewEvents[i];_dsgTag.EventHandlers.LaunchHandler(delayedEvent["Handler"],delayedEvent["Event"],delayedEvent["Data"]);}}}});if(!cancelPageView){s.triggerPageView();}
s.linkTrackEvents="None";}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error occurred in PagePostRender processor: "+ex.message,true);}}
var pageViewPixelCount=0;window.ProcessPagePostRender=function(event,data){var previousPageValueNames=["v1","v27","v28","Refinement","pageRowCol","DerivativeKeyword"];window._dsgTag.previousPageValues={};for(var i=0;i<previousPageValueNames.length;i++){window._dsgTag.previousPageValues[previousPageValueNames[i]]=window._dsgTag.HelperFunctions.GetValue(previousPageValueNames[i])||"";window._dsgTag.HelperFunctions.DeleteValue(previousPageValueNames[i]);}
_dsgTag.DataLayer.PassValuesToFunction("ALL",ProcessPageView,data);pageViewPixelCount++;};_dsgTag.EventHandlers.AddEventHandler("NewPageView",window.ProcessPagePostRender);function HandleAllPageDeployments(dataSource){s.LoadAudienceManagerCustomizations();s.prop7=(function(){var out=GetDataValue("MachineLearningSearchValues",dataSource).join("|");return out;})();s.prop17=(function(){return GetDataValue("AppID",dataSource);})();_dsgTag.HelperFunctions.DeleteValue("MedalliaAB");s.prop20=_dsgTag.HelperFunctions.GetValue("MedalliaAB2")||(_dsgTag.HelperFunctions.SaveValue("MedalliaAB2",(Math.floor(Math.random()*100)/100).toFixed(2)),_dsgTag.HelperFunctions.GetValue("MedalliaAB2"));s.prop38=_dsgTag.HelperFunctions.GetCookieValue("ChkReboot");s.prop40=(typeof _dsgTag.pageType!=="undefined"&&typeof _dsgTag.pageType.Name!=="undefined")?_dsgTag.pageType.Name:"Unknown";s.prop46=(function(){var out="";if(_dsgTag.previousPageValues["DerivativeKeyword"]){out=_dsgTag.previousPageValues["DerivativeKeyword"];}
return out;})();s.prop48=(function(){var jsessionCookieValue=_dsgTag.HelperFunctions.GetCookieValue("JSESSIONID")||"";return jsessionCookieValue.substring(jsessionCookieValue.indexOf(":")+1);})();s.prop71=(function(){return GetDataValue("LoyaltyPoints",dataSource);})();s.eVar1=(function(){var a="";if(_dsgTag.previousPageValues["v1"]){var cookieValue=_dsgTag.previousPageValues["v1"];a=cookieValue;a=a.replace("\\'","'");}
else if(_dsgTag.HelperFunctions.GetQueryStringValue("ab")){a=_dsgTag.HelperFunctions.GetQueryStringValue("ab");a=a.replace("\\'","'");}
return a;})();s.eVar2=(function(){return GetDataValue("InternalSearchTerm",dataSource);})();s.eVar3=(function(){return GetDataValue("InternalSearchType",dataSource);})();s.eVar7=(function(){var a="";a=s.getReferringInternalSite();return a;})();s.eVar18=(function(){return GetDataValue("CartItemQuantity",dataSource);})();s.eVar20=(function(){var id=GetDataValue("WebstoreID",dataSource);return(id?_dsgTag.currentWebsite.Abbreviation+":"+id:"");})();s.eVar21=(function(){return GetDataValue("LoyaltyID",dataSource);})();s.eVar22=(function(){return GetDataValue("HashedEmailAddress",dataSource);})();s.eVar38=(function(){return GetDataValue("SavedStoreNumber",dataSource);})();s.eVar44=(function(){return GetDataValue("ErrorMessage",dataSource);})();s.eVar56=(function(){return GetDataValue("MobileCustomerID",dataSource);})();s.eVar57=(function getAOS(){var aos="";var aosStoreID=GetDataValue("AOSStoreID",dataSource);var aosStoreRole=GetDataValue("AOSStoreRole",dataSource);var aosLocationID=GetDataValue("AOSLocationID",dataSource);if(aosStoreID!==""&&aosLocationID!==""){if(aosStoreRole&&aosStoreRole.length===3){aos=aosStoreID+": "+aosStoreRole+": "+aosLocationID;}else{aos=aosStoreID+": "+aosLocationID;}}else if(_dsgTag.experience==="In Store Mobile"){aos="unknown: 000000";}
return aos;})();s.eVar59=(function(){return GetDataValue("SignedIn",dataSource);})();s.eVar60=(function(){if(GetDataValue("InternalSearchTerm",dataSource)){return GetDataValue("SearchData",dataSource);}
return"";})();s.eVar63=(function(){return GetDataValue("InternalSearchDYM",dataSource);})();s.eVar67=(function getAssociateId(){var associateId="";if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods&&_dsgTag.experience==="Kiosk"){associateId=_dsgTag.HelperFunctions.GetQueryStringValue("associateId")||"";}
return associateId;})();s.eVar85=(function(){return _dsgTag.HelperFunctions.GetCookieValue("promoId");})();s.eVar88=(function(){var dsgUID="";dsgUID=_dsgTag.HelperFunctions.GetCookieValue("DSG_UID");return dsgUID;})();s.eVar95=(function(){return _dsgTag.HelperFunctions.GetQueryStringValue("gclid");})();s.pageType=(function(){return GetDataValue("ErrorPageType",dataSource);})();s.events=(function(){var a=s.events;var term=GetDataValue("InternalSearchTerm",dataSource);var count=GetDataValue("InternalSearchResultsCount",dataSource);if(term){if(_dsgTag.previousPageValues["v1"]===""||document.referrer.indexOf("SearchDisplay")===-1||_dsgTag.HelperFunctions.GetQueryStringValue("searchType")===""||_dsgTag.HelperFunctions.GetQueryStringValue("urlRequestType")!==""){a=s.apl(a,"event2",",",2);if(parseInt(count)>0){a=s.apl(a,"event67="+count,",",2);}
if(count=="0"){a=s.apl(a,"event3",",",2);}}}
if(s.eVar1){a=s.apl(a,"event68");if(s.eVar1.indexOf("_ScoreCard_Login")>=0){a=s.apl(a,"event157");}}
return a;})();s.list2=(function(){var list=[];var catalog=(GetDataValue("MCSalesCatalogDetails",dataSource));if(catalog.length>0){for(var i=0;i<catalog.length;i++){if(catalog[i].ParentCodes&&catalog[i].ParentCodes.length>0){for(var j=0;j<catalog[i].ParentCodes.length;j++){list.push(catalog[i].ParentCodes[j].ParentCode);}}}}
list=list.join(",");if(list.length>0){list=list.match(/[^,]+-\d{6,}/g);if(!list){list="";}else{list=list.slice(0,5);list=list.join(",");}}
return list;})();try{var cookies=/([^=;]+)=[^;]+/ig;var count=0;var badAccount="N";while(item=cookies.exec(document.cookie)){if(/WC_USERACTIVITY_-?(\d+)/.test(item[1])){count++;if(item[1].indexOf("-1002")>=0){badAccount="Y";}}}
s.prop47=count+":"+badAccount;}catch(ex){}}
function HandleHomePageDeployments(dataSource){s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Home Page: Home";})();s.prop2='Home Page';}
function HandleDepartmentCategoryFamilyPageDeployments(dataSource){s.pageName=(function(){var a="";var prefix=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";var url=GetDataValue("PageURL",dataSource);var pathCharacter=url.split("/")[3];var categoryID=GetDataValue("CategoryID",dataSource);var categoryName=GetDataValue("CategoryName",dataSource);var familyID=GetDataValue("FamilyID",dataSource);var familyName=GetDataValue("FamilyName",dataSource);var type="";var idAndName="";switch(pathCharacter){case"c":{type="Category";break;}
case"f":{type="Family";break;}}
if(categoryID&&categoryName){idAndName=categoryID+" - "+categoryName;}else if(familyID&&familyName){idAndName=familyID+" - "+familyName;}
suffix=type+": "+idAndName;if(suffix)
a=prefix+suffix;return a;})();s.prop2=(function(){var a="";var b=(GetDataValue("PageURL",dataSource)).split("/")[3];if(b==="c"||b==="d"){a="Category";}else if(b==="f"){a="Family";}
var pageType=GetDataValue("PageType",dataSource);if(pageType.toLowerCase()=="superfamily"){a="SuperFamily";}else if(pageType.toLowerCase()=="hyper-category"){a="Hyper-Category";}
return a;})();s.events=(function(){var a=s.events;if(_dsgTag.pageType===_dsgTag.PageTypes.Family){var b=GetDataValue("FamilyProductCount",dataSource);if(b>0){a=s.apl(a,"event151="+b,",",2);}else{a=s.apl(a,"event155",",",2);}}
return a;})();}
function HandleSearchPageDeployments(dataSource){s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Shopping: Search: Results";})();s.prop2='Search Results';}
function HandleComparePageDeployments(dataSource){s.products=(function(){var a="";var b=GetDataValue("ProductIDList",dataSource);var c=b.length;var d="";var e=[];var itemID;for(var i=0;i<c;i++){itemID=b[i];d=";"+itemID;e.push(d);}
if(e){a=e.join(",");}
if(a===";"){a="";}
if(c==1&&GetDataValue("ProductPriceList",dataSource)===""){a="";}
return a;})();s.prop25=(function(){return GetDataValue("CompareItemQuantity",dataSource);})();s.events=(function(){var a=s.events;var b=GetDataValue("ProductIDList",dataSource);if(b.length>0&&GetDataValue("ProductPriceList",dataSource)!==""){a=s.apl(a,"event25",",",2);}
return a;})();s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Shopping: Compare: Compare";})();s.prop2='Compare';}
function HandleProductPageDeployments(dataSource){var isQuickView=GetDataValue("ProductPageTemplateType",dataSource).toLowerCase()==="quickview";var skuCount,maxSkuCountByAttributes;_dsgTag.FunctionRepository.GetAvailabilityStringFromSKUArray=function(SKUArray){try{var availabilityValues="";var shipAvailable=0;var pickupAvailable=0;var eitherAvailable=0;var either;for(var i=0;i<SKUArray.length;i++){either=false;if(SKUArray[i].AvailabletoShip&&SKUArray[i].AvailabletoShip.toString().toLowerCase()==="true"){shipAvailable++;either=true;}
if(SKUArray[i].AvailableForPickup&&SKUArray[i].AvailableForPickup.toString().toLowerCase()==="true"){pickupAvailable++;either=true;}
if(either){eitherAvailable++;}}
availabilityValues+=(eitherAvailable).toString()+"_"+(skuCount)+"_"+(parseInt(100*(parseFloat(eitherAvailable)/parseFloat(skuCount))));availabilityValues+=":"+(shipAvailable).toString()+"_"+(skuCount)+"_"+(parseInt(100*(parseFloat(shipAvailable)/parseFloat(skuCount))));availabilityValues+=":"+(pickupAvailable).toString()+"_"+(skuCount)+"_"+(parseInt(100*(parseFloat(pickupAvailable)/parseFloat(skuCount))));availabilityValues+=":"+(eitherAvailable).toString()+"_"+(maxSkuCountByAttributes)+"_"+(parseInt(100*(parseFloat(eitherAvailable)/parseFloat(maxSkuCountByAttributes))));availabilityValues+=":"+(shipAvailable).toString()+"_"+(maxSkuCountByAttributes)+"_"+(parseInt(100*(parseFloat(shipAvailable)/parseFloat(maxSkuCountByAttributes))));availabilityValues+=":"+(pickupAvailable).toString()+"_"+(maxSkuCountByAttributes)+"_"+(parseInt(100*(parseFloat(pickupAvailable)/parseFloat(maxSkuCountByAttributes))));return availabilityValues;}catch(ex){}}
s.products=(function(){var a="";var productDetails=GetDataValue("ProductDetails",dataSource);if(productDetails.length>0){var evars=[];var events=[];var productID=GetDataValue("ProductID",dataSource);if(_dsgTag.previousPageValues["pageRowCol"]){evars.push("evar4="+_dsgTag.previousPageValues["pageRowCol"]);}
var reviewAvg=GetDataValue("ReviewAverage",dataSource)||"0";var reviewCount=GetDataValue("ReviewCount",dataSource)||"0";var reviewString=reviewAvg+":"+reviewCount;evars.push("evar55="+reviewString);var crossSellClickID=GetDataValue("CrossSellClickDetail",dataSource);if(crossSellClickID){evars.push("evar52="+crossSellClickID);var regEx=/\/p\/[^\/]+\/([^?]+)/;var referringPDP=regEx.exec(document.referrer);if(referringPDP){evars.push("evar31="+referringPDP[1].trim().toUpperCase());}}
var pdpTemplate=GetDataValue("ProductPageTemplateType",dataSource)||"Standard";if(GetDataValue("ProductBuyable",dataSource)=="false"){pdpTemplate="Displayable Not Buyable";}
var findingMethod=GetDataValue("ProductFindingMethod",dataSource);if(GetDataValue("InternalSearchType",dataSource).toLowerCase()==="search by product id"&&!isQuickView){findingMethod="Internal Search";}
evars.push("evar33="+findingMethod);if(findingMethod!=="Shopping Cart"){evars.push("evar58="+findingMethod);}
var promoMessages=GetDataValue("PDPPromoMessage",dataSource);if(promoMessages.length>0){var promoValues=[];for(var i=0;i<promoMessages.length;i++){valueType="";switch(promoMessages[i].type.toLowerCase()){case"productlevelpromotion":{valueType="P";break;}
case"shippingpromotion":{valueType="S";break;}}
promoValues.push({id:promoMessages[i].promotionId,type:valueType});}
promoValues.sort(function(a,b){return parseInt(a.id)-parseInt(b.id)});for(var i=0;i<promoValues.length;i++){promoValues[i]=promoValues[i].type+":"+promoValues[i].id;}
evars.push("evar70="+promoValues.join("-"));}
if(productDetails.length==1){var product=productDetails[0];skuCount=product.ProductSKUDetails.length||1;var colorOptionCount=0;maxSkuCountByAttributes=1;for(var i=0;i<product.ProductAttributeList.length;i++){if(product.ProductAttributeList[i].Name.toLowerCase()==="color"){colorOptionCount=product.ProductAttributeList[i].CountOfOptions;}
maxSkuCountByAttributes=maxSkuCountByAttributes*product.ProductAttributeList[i].CountOfOptions;}
var OMNIStatus=GetDataValue("ProductOmniStatus",dataSource);evars.push("evar35="+OMNIStatus);if(colorOptionCount>0){evars.push("evar37="+colorOptionCount);}
var priceType=GetDataValue("PriceType",dataSource);if(!priceType){priceType="Out of Stock";}
evars.push("evar49="+priceType);var currentPriceList=GetDataValue("ProductCurrentPriceList",dataSource);var minPrice="";if(currentPriceList.length>0){minPrice=Number.MAX_VALUE;var seePriceInCart=true;for(var i=0;i<currentPriceList.length;i++){var value=parseFloat(currentPriceList[i]);if(!(isNaN(value))){minPrice=(value<minPrice?value:minPrice);seePriceInCart=false;}}
minPrice=(seePriceInCart?"Price in Cart":minPrice.toFixed(2));}
evars.push("evar62="+minPrice);var priceGroups=GetDataValue("ProductPagePricingGroups",dataSource);evars.push("evar66="+priceGroups.length);if(priceGroups.length>1){pdpTemplate="SKU Pricing";}
evars.push("evar68="+_dsgTag.FunctionRepository.GetAvailabilityStringFromSKUArray(product.ProductSKUDetails));try{var mostRecentDate=new Date(0);for(var i=0;i<product.ProductSKUDetails.length;i++){var currentSKUDate=new Date(product.ProductSKUDetails[i].WebActiveDate);mostRecentDate=currentSKUDate>mostRecentDate?currentSKUDate:mostRecentDate;}
var dayDifference=(Date.now()-mostRecentDate)/1000/60/60/24;var dayBucket;if(dayDifference<1){dayBucket="Launch Day";}else if(dayDifference<7){dayBucket="Day 1-7";}else if(dayDifference<30){dayBucket="Day 8-30";}else if(dayDifference<90){dayBucket="Day 31-90";}else if(dayDifference<180){dayBucket="Day 91-180";}else{dayBucket="Day 180+";}
evars.push("evar89="+mostRecentDate.getFullYear()+((mostRecentDate.getMonth()+1)<10?"0":"")+(mostRecentDate.getMonth()+1)+(mostRecentDate.getDate()<10?"0":"")+mostRecentDate.getDate()+":"+dayBucket);}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error calculating v89:"+ex.message,true);}}else{evars.push("evar35=Bundle");evars.push("evar37=Bundle");evars.push("evar49=Bundle");evars.push("evar62=Bundle");evars.push("evar66=Bundle");}
evars.push("evar32="+pdpTemplate);a=s.buildProductString(productID,0,0,events,evars);}
return a;})();s.prop2='Product Detail';s.events=(function(){var a=s.events;var productID=GetDataValue("ProductID",dataSource);var productAvailability=GetDataValue("ProductAvailability",dataSource);var searchTerm=GetDataValue("InternalSearchTerm",dataSource);var crossSellClickID=GetDataValue("CrossSellClickDetail",dataSource);if(productID){a=s.apl(a,"event1",",",2);if(productAvailability&&(productAvailability==="Out of Stock")){a=s.apl(a,"event10",",",2);if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){_dsgTag.HelperFunctions.SaveValue("prevPageOosPDP","1",true);}}else if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){_dsgTag.HelperFunctions.DeleteValue("prevPageOosPDP");}
if(searchTerm){a=s.apl(a,"event67=1",",",2);}
if(crossSellClickID){a=s.apl(a,"event6",",",2);}
if(isQuickView){a=s.apl(a,"event150",",",2);}
if(_dsgTag.previousPageValues["pageRowCol"]){try{if(parseInt(_dsgTag.previousPageValues["pageRowCol"].split(":")[4])<=4){a=s.apl(a,"event12",",",2);}}catch(ex){}}}else if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){_dsgTag.HelperFunctions.DeleteValue("prevPageOosPDP");}
return a;})();s.pageName=(function(){var a=_dsgTag.currentWebsite.Abbreviation+": Product: PDP: ";var id=GetDataValue("ProductID",dataSource);var name=GetDataValue("ProductName",dataSource);if(id&&name){a+=id+" - "+name;}else{a+="Unknown";}
return a;})();s.prop14=(function(){var shipClasses=[];try{var productDetails=GetDataValue("ProductDetails",dataSource);if(productDetails.length>0){for(var i=0;i<productDetails[0].ProductSKUDetails.length;i++){if(typeof Array.prototype.indexOf!=="undefined"&&shipClasses.indexOf(productDetails[0].ProductSKUDetails[i].ShipClass.toLowerCase())<0){shipClasses.push(productDetails[0].ProductSKUDetails[i].ShipClass.toLowerCase());}}}}catch(ex){}
return shipClasses.sort().join(":");})();s.prop50=(function(){return GetDataValue("PDPPaypalEligible",dataSource);})();var pageName=_dsgTag.DataLayer.GetValue("PageName");if(pageName==="Product Hide"||pageName==="Sold Out"||s.products===""){var ecode=GetDataValue("ProductID",dataSource);s.pageName=_dsgTag.currentWebsite.Abbreviation+": Product: PDP: "+pageName+" - "+ecode;s.events="event1,event10";s.products=s.buildProductString(ecode,0,0,[],["evar68=0_1_0:0_1_0:0_1_0:0_1_0:0_1_0:0_1_0","evar89=Not Available"]);}}
function HandleCartPageDeployments(dataSource){var FirePayPalExpressClick=function(){_dsgTag.EventHandlers.TriggerEvent("ExternalCheckout",{"Paypal":"Yes"});};_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(){_dsgTag.HelperFunctions.BindDocumentClickEventWithAdditionalSelector("#paypal-btn-bottom, a.paypal-btn-bottom, .paypal-btn-action, .paypal-btn-wrapper-react",FirePayPalExpressClick);var payPalNodes=document.querySelectorAll(".paypal-image, [alt='Paypal Button']");for(var i=0;i<payPalNodes.length;i++){payPalNodes[i].addEventListener("click",FirePayPalExpressClick);}});var GetCartProductString=function(){var a="";var products=_dsgTag.DataLayer.GetValue('ProductListArray');var productStringArray=[];for(var i=0;i<products.length;i++){id=products[i].ProductID;quantity=products[i].ProductQty;revenue=(products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit)*products[i].ProductQty;itemDiscount=products[i].ItemDiscountPerUnit*products[i].ProductQty;distributedOrderDiscount=(typeof products[i].DistributedOrderDiscountPerUnit!=="undefined"?(products[i].DistributedOrderDiscountPerUnit*products[i].ProductQty):0);sku=products[i].ProductSKU;shippingRevenue=products[i].ShippingPaidPerUnit*products[i].ProductQty;shippingDiscount=products[i].ShippingDiscountPerUnit*products[i].ProductQty;metrics=[];evars=[];evars.push("evar61="+sku);var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";var fulfillmentMethod=products[i].FulfillmentMethod.toLowerCase();if(fulfillmentMethod==="in store pickup (bopis)"||fulfillmentMethod==="in store pick up (bopis)"||fulfillmentMethod==="in_store_pickup"||fulfillmentMethod==="bopis"){evars.push("evar51="+const_fulfillmentBOPIS);if(products[i].FulfillmentStore){evars.push("evar40="+products[i].FulfillmentStore);}}else{evars.push("evar51="+const_fulfillmentStandard);}
if(shippingRevenue>0)
evars.push("evar98="+shippingRevenue.toFixed(2));if(quantity>0)
evars.push("evar10="+quantity);if(revenue>0)
evars.push("evar99="+revenue.toFixed(2));if(shippingDiscount>0)
evars.push("evar100="+shippingDiscount.toFixed(2));productStringArray.push(s.buildProductString(products[i].ProductID,0,0,metrics,evars));}
if(productStringArray){a=productStringArray.join(",");}
return a;};_dsgTag.FunctionRepository.GetCartProductString=GetCartProductString;var SetCartAnalyticsValues=function(){_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray"],function(products){try{var ecodeSkuPairs={};for(var i=0;i<products.length;i++){ecodeSkuPairs[products[i].ProductSKU]=products[i].ProductID;}
_dsgTag.HelperFunctions.SaveValue("TagCartProducts",JSON.stringify(ecodeSkuPairs));}catch(ex){}});_dsgTag.DataLayer.PassValuesToFunction(['CartID','OrderTotal','OrderTax','OrderShippingRevenue','OrderShippingDiscount','ProductListExists','CartItemQuantity'],function(CartID,OrderTotal,OrderTax,OrderShippingRevenue,OrderShippingDiscount,ProductListExists,CartItemQuantity){s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Shopping Bag: Cart";})();s.prop2='Shopping Bag';s.eVar13=(function(){var cartID=CartID;if(cartID&&(!_dsgTag.HelperFunctions.GetValue("TagCartID")||decodeURI(_dsgTag.HelperFunctions.GetValue("TagCartID")).split("|")[0]!=cartID)){cookieString=cartID+"|0000";_dsgTag.HelperFunctions.SaveValue("TagCartID",cookieString);}
return cartID;})();s.products=(function(){return GetCartProductString();})();s.eVar11=(function(){if(ProductListExists){var total=OrderTotal;var ship=OrderShippingRevenue;var tax=OrderTax;subtotal=(total-tax-ship);if(isNaN(subtotal)){subtotal=0;}
return subtotal.toFixed(2);}else{return"";}})();s.eVar18=(function(){if(ProductListExists){return CartItemQuantity;}else{return"";}})();s.eVar53=(function(){return isNaN(parseFloat(OrderTax))?"":parseFloat(OrderTax).toFixed(2);})();s.eVar96=(function(){return isNaN(parseFloat(OrderShippingRevenue))?"":parseFloat(OrderShippingRevenue).toFixed(2);})();s.eVar97=(function(){return isNaN(parseFloat(OrderShippingDiscount))?"":parseFloat(OrderShippingDiscount).toFixed(2);})();});};_dsgTag.FunctionRepository.SetCartAnalyticsValues=SetCartAnalyticsValues;SetCartAnalyticsValues();}
function HandleCheckoutSignInPageDeployments(dataSource){if(GetDataValue("PageURL",dataSource).indexOf("logonform")>=0){HandleMyAccountPageDeployments();return;}
s.events=(function(){var a=s.events;var cartID=decodeURI(_dsgTag.HelperFunctions.GetValue("TagCartID")).split("|")[0];a=s.apl(a,"scCheckout:"+cartID,",",2);a=s.apl(a,"event87",",",2);return a;})();s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Checkout: Login";})();s.prop2='Checkout';s.products=(function(){try{var cartProductInfo=JSON.parse(_dsgTag.HelperFunctions.GetValue("TagCartProducts"));var eCodes=[];for(var sku in cartProductInfo){eCodes.push(";"+cartProductInfo[sku]);}
return eCodes.join(",");}catch(ex){}})();}
function HandleCheckoutPageDeployments(dataSource){if(typeof varResponsive!=='undefined'&&(_dsgTag.pageType===_dsgTag.PageTypes.CheckoutBillingShippingAddress||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutBillingAddress)){var fireFakeShippingUpdate=function(){if(_dsgTag.DataLayer.GetValue("CheckoutSummary")&&typeof _dsgTag.DataLayer.GetValue("CheckoutSummary").shipping.information!=="undefined"){var eventData={};eventData.ActionType="radiobutton:delivery methods:default";eventData.checkout=_dsgTag.DataLayer.GetValue("CheckoutSummary");_dsgTag.EventHandlers.TriggerEvent("CheckoutAction",eventData);}else{setTimeout(fireFakeShippingUpdate,500);}};setTimeout(fireFakeShippingUpdate,500);}
s.eVar11=(function(){var total=GetDataValue("OrderTotal",dataSource);var ship=GetDataValue("OrderShippingRevenue",dataSource);var tax=GetDataValue("OrderTax",dataSource);subtotal=(total-tax-ship);if(isNaN(subtotal)){subtotal=0;}
return subtotal.toFixed(2);})();s.eVar53=(function(){var tax=GetDataValue("OrderTax",dataSource);return parseFloat(tax).toFixed(2);})();s.eVar96=(function(){return GetDataValue("OrderShippingRevenue",dataSource);})();s.eVar97=(function(){return GetDataValue("OrderShippingDiscount",dataSource);})();s.eVar13=(function(){var cartID=GetDataValue("CartID",dataSource);if(cartID&&(!_dsgTag.HelperFunctions.GetValue("TagCartID")||decodeURI(_dsgTag.HelperFunctions.GetValue("TagCartID")).split("|")[0]!=cartID)){cookieString=cartID+"|0000";_dsgTag.HelperFunctions.SaveValue("TagCartID",cookieString);}
return cartID;})();s.eVar17=(function(){var guestVsRegistered=GetDataValue("CheckoutGuestVsRegistered",dataSource);if(document.referrer.indexOf("paypal.com")>=0||(_dsgTag.HelperFunctions.GetQueryStringValue("ddkey")&&_dsgTag.HelperFunctions.GetQueryStringValue("ddkey").indexOf("DSGReturnFromPayPalExpressCheckoutCmd")>=0)||(_dsgTag.HelperFunctions.GetQueryStringValue("token")&&_dsgTag.HelperFunctions.GetQueryStringValue("token").indexOf("EC")===0)){guestVsRegistered+=" - Paypal Express";_dsgTag.HelperFunctions.SaveValue("PPEX","true");}else{_dsgTag.HelperFunctions.DeleteValue("PPEX");}
return guestVsRegistered;})();s.pageName=(function(){var pageName="";switch(_dsgTag.pageType){case _dsgTag.PageTypes.CheckoutBillingShippingAddress:case _dsgTag.PageTypes.CheckoutBillingAddress:pageName="Step1 - Billing & Shipping";break;case _dsgTag.PageTypes.CheckoutShippingAddress:pageName="Step1 - Billing & Shipping - Ship to Other";break;case _dsgTag.PageTypes.CheckoutDelivery:pageName="Step2 - Shipping Methods";break;case _dsgTag.PageTypes.CheckoutPayment:pageName="Step3 - Payment";break;case _dsgTag.PageTypes.CheckoutReview:pageName="Step4 - Review & Submit Order";break;}
pageName=_dsgTag.currentWebsite.Abbreviation+": Checkout: "+pageName;return pageName;})();s.products=(function(){var a="";var products=_dsgTag.DataLayer.GetValue('ProductListArray');var productStringArray=[];if(products.length>0){for(var i=0;i<products.length;i++){id=products[i].ProductID;quantity=products[i].ProductQty;revenue=(products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit)*products[i].ProductQty;itemDiscount=products[i].ItemDiscountPerUnit*products[i].ProductQty;distributedOrderDiscount=(typeof products[i].DistributedOrderDiscountPerUnit!=="undefined"?(products[i].DistributedOrderDiscountPerUnit*products[i].ProductQty):0);sku=products[i].ProductSKU;shippingRevenue=products[i].ShippingPaidPerUnit*products[i].ProductQty;shippingDiscount=products[i].ShippingDiscountPerUnit*products[i].ProductQty;metrics=[];evars=[];evars.push("evar61="+sku);if(typeof products[i].PromotionsApplied!=="undefined"&&products[i].PromotionsApplied.length>0){var promoValues=[];for(var j=0;j<products[i].PromotionsApplied.length;j++){valueType="";switch(products[i].PromotionsApplied[j].OrderVsItemLevel.toLowerCase()){case"item":{valueType="I";break;}
case"order":{valueType="O";break;}}
promoValues.push({id:products[i].PromotionsApplied[j].PromoID,type:valueType});}
promoValues.sort(function(a,b){return parseInt(a.id)-parseInt(b.id)});for(var j=0;j<promoValues.length;j++){promoValues[j]=promoValues[j].type+":"+promoValues[j].id;}
evars.push("evar70="+promoValues.join("-"));}
var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";if(products[i].FulfillmentMethod==="In Store Pickup (BOPIS)"||products[i].FulfillmentMethod==="In Store Pick Up (BOPIS)"||products[i].FulfillmentMethod==="In_Store_Pickup"){evars.push("evar51="+const_fulfillmentBOPIS);if(products[i].FulfillmentStore){evars.push("evar40="+products[i].FulfillmentStore);}}else{evars.push("evar51="+const_fulfillmentStandard);}
if(shippingRevenue>0)
evars.push("evar98="+shippingRevenue.toFixed(2));if(quantity>0)
evars.push("evar10="+quantity);if(revenue>0)
evars.push("evar99="+revenue.toFixed(2));if(shippingDiscount>0)
evars.push("evar100="+shippingDiscount.toFixed(2));productStringArray.push(s.buildProductString(products[i].ProductID,0,0,metrics,evars));}}else if(checkout=GetDataValue("CheckoutSummary",dataSource)){for(var i=0;i<checkout.cart.items.length;i++){productStringArray.push(s.buildProductString(checkout.cart.items[i].ecode,0,0,[],["evar61="+checkout.cart.items[i].sku,"evar99="+parseFloat(checkout.cart.items[i].unit_price).toFixed(2)]));}}else if(_dsgTag.HelperFunctions.GetValue("TagCartProducts")){var cartProductInfo=JSON.parse(_dsgTag.HelperFunctions.GetValue("TagCartProducts"));for(var sku in cartProductInfo){productStringArray.push(s.buildProductString(cartProductInfo[sku],0,0,[],[]));}}
if(productStringArray){a=productStringArray.join(",");}
return a;})();s.events=(function(){var checkoutEvents=s.events;var savedCheckoutData=_dsgTag.HelperFunctions.GetValue("TagCartID");if(savedCheckoutData){savedCheckoutData=decodeURI(savedCheckoutData);var cartID=savedCheckoutData.split("|")[0];var eventsFired=savedCheckoutData.split("|")[1].split("");var nonSerializedEvent="";switch(_dsgTag.pageType){case _dsgTag.PageTypes.CheckoutReview:nonSerializedEvent=nonSerializedEvent||"event92";if(eventsFired[3]=="0"){checkoutEvents=s.apl(checkoutEvents,"event82"+":"+cartID,",",2);eventsFired[3]="1";}
case _dsgTag.PageTypes.CheckoutPayment:nonSerializedEvent=nonSerializedEvent||"event91";if(eventsFired[2]=="0"){checkoutEvents=s.apl(checkoutEvents,"event81"+":"+cartID,",",2);eventsFired[2]="1";}
case _dsgTag.PageTypes.CheckoutDelivery:nonSerializedEvent=nonSerializedEvent||"event90";if(eventsFired[1]=="0"){checkoutEvents=s.apl(checkoutEvents,"event80"+":"+cartID,",",2);eventsFired[1]="1";}
case _dsgTag.PageTypes.CheckoutBillingShippingAddress:case _dsgTag.PageTypes.CheckoutBillingAddress:nonSerializedEvent=nonSerializedEvent||"event89";if(eventsFired[0]=="0"){if(document.referrer&&document.referrer.toLowerCase().indexOf("checkoutsigninview")<0){checkoutEvents=s.apl(checkoutEvents,"scCheckout:"+cartID,",",2);checkoutEvents=s.apl(checkoutEvents,"event87",",",2);}
checkoutEvents=s.apl(checkoutEvents,"event79"+":"+cartID,",",2);eventsFired[0]="1";}
case _dsgTag.PageTypes.CheckoutShippingAddress:nonSerializedEvent=nonSerializedEvent||"event88";}
checkoutEvents=s.apl(checkoutEvents,nonSerializedEvent,",",2);_dsgTag.HelperFunctions.SaveValue("TagCartID",cartID+"|"+eventsFired.join(""));}
var loggedInEvent=GetDataValue("SignedInEventBoolean",dataSource)||(GetDataValue("SignedInBoolean",dataSource)&&typeof document.referrer!=="undefined"&&document.referrer.indexOf("CheckOutSignInView")>=0);if(loggedInEvent)
checkoutEvents=s.apl(checkoutEvents,"event93",",",2);return checkoutEvents;})();s.prop2='Checkout';s.eVar14=(function(){return GetDataValue("OrderPaymentMethods",dataSource);})();s.eVar53=(function(){var tax=GetDataValue("OrderTax",dataSource);if(tax){return parseFloat(tax).toFixed(2);}})();}
function HandleOrderConfirmationPageDeployments(dataSource){if(_dsgTag.FunctionRepository.ProcessMboxOrderConfirmation){_dsgTag.FunctionRepository.ProcessMboxOrderConfirmation();}
try{var orderID=GetDataValue("OrderID",dataSource);if(orderID){var exists=false;for(var i=0;i<_dsgTag.visitor.orderHistory.length&&!exists;i++){exists=(orderID===_dsgTag.visitor.orderHistory[i].ID);}
if(!exists){_dsgTag.visitor.orderHistory.push({"ID":orderID,"Date":Date.now()});}
if(_dsgTag.visitor.orderHistory.length>_dsgTag.CONST_MaxOrderHistoryLength){_dsgTag.visitor.orderHistory.splice(_dsgTag.CONST_MaxOrderHistoryLength);}
_dsgTag.OrderHistory=_dsgTag.visitor.orderHistory;_dsgTag.HelperFunctions.SaveValue("Visitor",JSON.stringify(_dsgTag.visitor),false);}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error adding order to visitor data: "+ex.message,true);}
s.eVar48=(function(){return GetDataValue("BillingZip",dataSource);})();s.eVar14=(function(){return GetDataValue("OrderPaymentMethods",dataSource);})();s.prop16=(function(){return GetDataValue("OrderID",dataSource);})();s.eVar16=(function(){return GetDataValue("OrderID",dataSource);})();s.eVar15=(function(){return GetDataValue("OrderShippingMethod",dataSource);})();s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Checkout: Step5 - Final Purchase";})();s.products=(function(){var a="";var orderID=GetDataValue("OrderID",dataSource);if(orderID){var tax=parseFloat(GetDataValue("OrderTax",dataSource));var ship=parseFloat(GetDataValue("OrderShippingRevenue",dataSource));var shipdisc=parseFloat(GetDataValue("OrderShippingDiscount",dataSource));var products=GetDataValue("ProductListArray",dataSource);var productStringArray=[];var item="";var events;var evars;for(var i=0;i<products.length;i++){events=[];evars=[];events.push("event19="+(products[i].ItemDiscountPerUnit*products[i].ProductQty).toFixed(2));if(typeof products[i].DistributedOrderDiscountPerUnit!=="undefined"){events.push("event13="+(products[i].DistributedOrderDiscountPerUnit*products[i].ProductQty).toFixed(2));}
evars.push("evar61="+products[i].ProductSKU);var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";if(products[i].FulfillmentMethod==="In Store Pickup (BOPIS)"||products[i].FulfillmentMethod==="In_Store_Pickup"){evars.push("evar51="+const_fulfillmentBOPIS);if(products[i].FulfillmentStore){evars.push("evar40="+products[i].FulfillmentStore);}}else{evars.push("evar51="+const_fulfillmentStandard);}
productStringArray.push(s.buildProductString(products[i].ProductID,products[i].ProductQty,((products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit)*products[i].ProductQty),events,evars));if(typeof products[i].Warranty!=="undefined"&&products[i].Warranty.toLowerCase()==="true"&&typeof products[i].WarrantyAmount!=="undefined"){productStringArray.push(s.buildProductString(products[i].ProductID+"-Warranty",0,0,["event30="+(products[i].WarrantyAmount*products[i].ProductQty).toFixed(2)]));}}
if(tax){productStringArray.push(s.buildProductString("Tax",0,0,["event32="+tax.toFixed(2)]));}
if(ship||shipdisc){productStringArray.push(s.buildProductString("Shipping",0,0,["event8="+ship.toFixed(2),"event9="+shipdisc.toFixed(2)]));}
if(productStringArray){a=productStringArray.join(",");}}
return a;})();s.events=(function(){var a=s.events;var orderID=GetDataValue("OrderID",dataSource);if(orderID){var tax=parseFloat(GetDataValue("OrderTax",dataSource));var ship=parseFloat(GetDataValue("OrderShippingRevenue",dataSource));var shipdisc=parseFloat(GetDataValue("OrderShippingDiscount",dataSource));var loyaltyID=GetDataValue("LoyaltyIDNoFilter",dataSource);var products=GetDataValue("ProductListArray",dataSource);a=s.apl(a,"purchase",",",2);if(tax){a=s.apl(a,"event32",",",2);}
if(ship){a=s.apl(a,"event8",",",2);}
if(shipdisc){a=s.apl(a,"event9",",",2);}
if(loyaltyID){a=s.apl(a,"event86",",",2);}
for(var i=0;i<products.length;i++){if(typeof products[i].ItemDiscountPerUnit!=="undefined"&&products[i].ItemDiscountPerUnit>0){a=s.apl(a,"event19",",",2);}
if(typeof products[i].DistributedOrderDiscountPerUnit!=="undefined"&&products[i].DistributedOrderDiscountPerUnit>0){a=s.apl(a,"event13",",",2);}
if(typeof products[i].Warranty!=="undefined"&&products[i].Warranty.toLowerCase()==="true"){a=s.apl(a,"event30",",",2);}}}
return a;})();s.prop2='Checkout';s.eVar17=(function(){var a="";var guestVsRegistered=GetDataValue("CheckoutGuestVsRegistered",dataSource);var checkoutData=GetDataValue("CheckoutSummary",dataSource);a=guestVsRegistered;try{if(_dsgTag.HelperFunctions.GetValue("PPEX")=="true"){a+=" - Paypal Express";}else if(checkoutData&&typeof checkoutData.payment!=="undefined"&&checkoutData.payment.payment_processor.processor.toLowerCase()==="applepay"){a+=" - ApplePay";}}catch(ex){}
_dsgTag.HelperFunctions.DeleteValue("PPEX");return a;})();s.eVar13=(function(){return GetDataValue("CartID",dataSource);})();}
function HandleStaticPageDeployments(dataSource){s.pageName=(function(){var a="";var id=GetDataValue("StaticPageID",dataSource);var name=GetDataValue("StaticPageName",dataSource);if(!name){name=GetDataValue("PageName",dataSource);name=name.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});}
if(name){a=_dsgTag.currentWebsite.Abbreviation+": Static: "+(id?id+" - ":"")+name;}
return a;})();s.prop2='Static';var now=new Date(Date.now());now.setSeconds(now.getSeconds()+15);_dsgTag.HelperFunctions.WriteCookieValue("TAG_Static",s.pageName+"|"+s.prop2,now,true);}
function HandleProxyPageDeployments(dataSource){s.pageName=(function(){var a="";var categoryID=GetDataValue("CategoryID",dataSource);var categoryName=GetDataValue("CategoryName",dataSource);var familyID=GetDataValue("FamilyID",dataSource);var familyName=GetDataValue("FamilyName",dataSource);var pageType=GetDataValue("PageType",dataSource).toLowerCase();if(pageType){switch(pageType){case"category":case"category page":case"department page":case"department":{pageType="Category";break;}
case"family":case"family page":{pageType="Family";break;}
case"custom landing - family":{pageType="Custom Landing";break;}
case"hyper category - family":{pageType="Hyper-Category";break;}
case"index":case"index page":default:{pageType="Index";break;}}}else{pageType="Index";}
if((categoryID&&categoryID.indexOf("hc")==0)||(familyID&&familyID.indexOf("hc")==0)){pageType="Hyper-Category";}else if((categoryID&&categoryID.indexOf("clp")==0)||(familyID&&familyID.indexOf("clp")==0)){pageType="Custom Landing";}
if(categoryID&&categoryName&&pageType){a=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";a+=pageType+": "+categoryID+" - "+categoryName;}else if(familyID&&familyName&&pageType){a=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";a+=pageType+": "+familyID+" - "+familyName;}else if(categoryName&&pageType){a=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";a+=pageType+": "+categoryName;}else if(familyName&&pageType){a=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";a+=pageType+": "+familyName;}else if(pageType){a=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";a+=pageType;}
return a;})();s.prop2=(function(){var a="";var pageType=GetDataValue("PageType",dataSource).toLowerCase();var categoryID=GetDataValue("CategoryID",dataSource);var familyID=GetDataValue("FamilyID",dataSource);if(pageType){switch(pageType){case"category":case"category page":case"department page":case"department":{a="Proxy Category";break;}
case"family":case"family page":{a="Proxy Family";break;}
case"custom landing - family":case"custom landing - family page":{a="Proxy Custom Landing";break;}
case"hyper category - family":case"hyper category - family page":{a="Proxy Hyper-Category";break;}
case"index":case"index page":default:{a="Proxy Index";break;}}}else{a="Proxy Index";}
if((categoryID&&categoryID.indexOf("hc")==0)||(familyID&&familyID.indexOf("hc")==0)){a="Hyper-Category";}else if((categoryID&&categoryID.indexOf("clp")==0)||(familyID&&familyID.indexOf("clp")==0)){a="Custom Landing";}
return a;})();}
function HandleStoreLocatorIndex(dataSource){s.pageName=(function(){var a=_dsgTag.currentWebsite.Abbreviation+": Store Locator: Index: ";var b=window.location.pathname;b=b.replace("/golfgalaxy","");b=b.replace("/fieldandstreamshop","");b=b.replace(/(^(\/)|(\/)$)/g,"");if(!b){a+="Entire USA";}else{b=b.split("/");if(b.length>0){a+=b[0].toUpperCase();}
if(b.length>1){a+=" - "+b[1].replace(/\b[a-z]/g,function(letter){return letter.toUpperCase();});}}
return a;})();s.prop2='Store Locator';}
function HandleStoreLocatorLocalStore(dataSource){s.eVar38=(function(){return _dsgTag.DataLayer.GetValue("StoreLocatorStoreNumber")})();s.events=(function(){var a=s.events;a=s.apl(a,"event34",",",2);return a;})();s.pageName=(function(){if(_dsgTag.DataLayer.GetValue("StoreLocatorStoreAddress")==='true'){return"";}
var a=_dsgTag.currentWebsite.Abbreviation+": Store Locator: Local: ";var state="";var city="";var addressString=_dsgTag.DataLayer.GetValue("StoreLocatorStoreAddress");var addressValues=addressString.split(",");if(addressValues.length==2){splitResults=/ (.+) (\w{2} \d{5})/.exec(addressValues[1]);if(splitResults.length>2){addressValues[1]=splitResults[1];addressValues[2]=splitResults[2];}}
else if(addressValues.length>3){var combinedAddress=addressValues.slice(0,addressValues.length-2).join(",");addressValues=[combinedAddress,addressValues[addressValues.length-2],addressValues[addressValues.length-1]];}
if(addressValues.length==3){baseCity=addressValues[1].trim();var stateAndZip=addressValues[2].trim().split(" ");if(stateAndZip.length==2)
state=stateAndZip[0].trim();cityWords=baseCity.split(" ");for(var i=0;i<cityWords.length;i++)
cityWords[i]=cityWords[i].charAt(0).toUpperCase()+cityWords[i].substring(1).toLowerCase();city=cityWords.join(" ");}
a+=state+": "+city+": Store "+_dsgTag.DataLayer.GetValue("StoreLocatorStoreNumber");return a;})();s.prop2='Store Locator';}
function HandleStoreLocatorIFrameDeployments(dataSource){if(document.querySelectorAll("#search_address").length>0){var cookie=_dsgTag.HelperFunctions.GetCookieValue("TAG_Static");_dsgTag.HelperFunctions.DeleteCookie("TAG_Static");if(cookie){_dsgTag.HelperFunctions.SaveValue("v27",cookie.split("|")[0]);_dsgTag.HelperFunctions.SaveValue("v28",cookie.split("|")[1]);}
return true;}else{_dsgTag.isIFrame=false;_dsgTag.CustomerIDs.UpdateAllCustomerIDs();s.pageName=_dsgTag.currentWebsite.Abbreviation+": Store Locator: "+document.title;}}
function HandleWeeklyAdPageDeployments(dataSource){return true;}
function HandleOrderTrackingPageDeployments(dataSource){s.prop16=(function(){return GetDataValue("OrderID",dataSource);})();s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": My Account: Order Info: Order Tracking";})();s.prop2='My Account';}
function HandleOrderDetailsPageDeployments(dataSource){s.prop16=(function(){return GetDataValue("OrderID",dataSource);})();s.prop2='My Account';}
function HandleGuestOrderTrackingPageDeployments(dataSource){s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+": Help Desk: Track Order";})();s.prop2='Help Desk';}
function HandleAddressBookPageDeployments(dataSource){s.prop74=(function(){return GetDataValue("AddressCount",dataSource);})();}
function HandleMyAccountSignInPageDeployments(dataSource){s.pageName=_dsgTag.currentWebsite.Abbreviation+": My Account: Account Log On";s.prop2='My Account';}
function HandleMyAccountRegistrationPageDeployments(dataSource){s.eVar30=(function(){var a="";if(_dsgTag.HelperFunctions.GetQueryStringValue("ac"))
a="Loyalty Link";else
a="Web Store";return a;})();s.events=(function(){var a=s.events;a=s.apl(s.events,"event18",",",2);return a;})();s.pageName=_dsgTag.currentWebsite.Abbreviation+": My Account: New Registration";s.prop2='My Account';}
function HandleMyAccountPageDeployments(dataSource){s.dsgPageNameLookup();if(!s.pageName){s.pageName=_dsgTag.currentWebsite.Abbreviation+": My Account: Summary";}
s.prop2='My Account';s.events=(function(){var a=s.events;var b=GetDataValue("SignedUpBoolean",dataSource);var c=GetDataValue("SignedInEventBoolean",dataSource);if(b){a=s.apl(a,"event94",",",2);a=s.apl(a,"event93",",",2);}
var loginRegex=/LogonForm?(.*)ddkey=https:(Logon|OrderItemMove|ResetPassword)/;if(c||loginRegex.test(GetDataValue("PageURL",dataSource))){a=s.apl(a,"event93",",",2);}
return a;})();s.eVar30=(function(){var output="";var a=_dsgTag.DataLayer.GetValue("SignedUpBoolean");if(a){output="Web Store";}
return output;})();}
function HandleChatPageDeployments(dataSource){s.pageName=(function(){return _dsgTag.currentWebsite.Abbreviation+': Help Desk: '+_dsgTag.pageType.Name;})();s.prop2='Chat';s.prop16=(function(){scrapedOrderID="";var scripts=document.querySelectorAll("script:not([src])");for(var i=0;i<scripts.length&&!scrapedOrderID;i++){scrapedScript=/"Incident_CustomFields_c_ordernum_dsg":"(\d{11})"/.exec(scripts[i].innerHTML);if(scrapedScript&&scrapedScript.length>1){scrapedOrderID=scrapedScript[1];}}
return scrapedOrderID;})();s.eVar46=(function(){a="";if(window.location.href.indexOf("chat_landing")>=0){a="Oracle Chat";}
return"";})();s.eVar57=(function(){var a="";if(window.location.href.indexOf("aos_")>=0||window.location.href.indexOf("AssociateKioskDSG")>=0){a="unknown: 000000";}
return a;})();s.eVar64=(function(){var a="";if(window.location.href.indexOf("aos_")>=0||window.location.href.indexOf("AssociateKioskDSG")>=0){_dsgTag.experience=a="Kiosk";}
return a;})();s.events=(function(){events="";if(window.location.href.indexOf("chat_landing")>=0){events="event47";}
return"";})();}
function HandleProtipsPageDeployments(dataSource){s.pageName=(function(){try{var pipeIndex=document.title.indexOf('|');var pageIdentifier=document.title.substring(0,pipeIndex);return'DSG: ProTips: '+pageIdentifier;}catch(e){return'err';}})();s.prop2='ProTips';s.server='protips.dickssportinggoods.com';s.prop45='DSG';s.eVar45='DSG';}
function HandleScorecardPageDeployments(dataSource){s.pageName=(function(){var path=window.location.pathname;if(path.split(/[/.]/).length>=2)
return'DKS: ScoreCard: '+(path.split(/[/.]/)[1]!==""?path.split(/[/.]/)[1]:"Home");else
return"";})();s.prop2='ScoreCard';}
function HandleProductReviewDeployments(dataSource){return true;}
function HandleWarDashDeployments(dataSource){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Home: Home Page";s.prop2="Home";_dsgTag.HelperFunctions.BindDocumentClickEventWithAdditionalSelector("[data-toggle='tab']",function(item){value=item.innerText.trim();_dsgTag.EventHandlers.TriggerEvent("TabChange",{"TabName":value});});_dsgTag.EventHandlers.AddEventHandler("TabChange",function(eventObject,eventData){s.pageName=_dsgTag.currentWebsite.Abbreviation+": Tab: "+eventData.TabName;s.prop2="Tab";s.firstRun=true;s.triggerPageView();_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);});var t;var idleTimeoutMinutes=window.idleTimoutOverride||30;var Redirect=function(){location.href="http://war/help.aspx";};var ResetTimer=function(){clearTimeout(t);t=setTimeout(Redirect,1E3*60*idleTimeoutMinutes);};window.onload=ResetTimer;document.onmousemove=ResetTimer;document.onkeypress=ResetTimer;}
_dsgTag.FunctionRepository.SetPDPAnalyticsValues=function(dataSource){_dsgTag.DataLayer.PassValuesToFunction("ALL",function(){var dataSource=[];for(var i=0;i<arguments.length;i++){dataSource.push({"Name":_dsgTag.DataLayer.dataNameList[i],"Value":arguments[i]});}
HandleProductPageDeployments(dataSource);},dataSource)};}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){if(window.AppMeasurement){var analyticsEvents=[];var basicEvents={"OrderCancel":{"eventID":23,"dedupe":false},"HasCombinedAccounts":{"eventID":48,"dedupe":false},"EmailResetLinkClick":{"eventID":49,"dedupe":false},"StartSearch":{"eventID":64,"dedupe":true},"CopyCode":{"eventID":114,"dedupe":false},"GetNextOrderHistoryPage":{"eventID":115,"dedupe":false},"ViewReward":{"eventID":116,"dedupe":false},"ScoreCardGoldLearnMoreExpand":{"eventID":120,"dedupe":false},"GetNextPointsHistoryPage":{"eventID":121,"dedupe":false},"RewardDeliverySave":{"eventID":122,"dedupe":false},"SubscriptionsSave":{"eventID":123,"dedupe":false},"ManageLoginEmailSave":{"eventID":124,"dedupe":false},"ManageLoginPasswordSave":{"eventID":125,"dedupe":false},"ApplePay-ButtonClicked":{"eventID":135,"dedupe":false},"ShowProductOptions":{"eventID":139,"dedupe":true},"ApplePay-ButtonRender":{"eventID":146,"dedupe":false},"ApplePay-SessionCancelled":{"eventID":147,"dedupe":false},"ApplePay-SessionAborted":{"eventID":148,"dedupe":false},"TapAheadClick":{"eventID":152,"dedupe":false},"SignInClick":{"eventID":158,"dedupe":false}};var basicEventsFired=[];for(var key in basicEvents){(function(key){var eventID=basicEvents[key].eventID;var dedupe=basicEvents[key].dedupe;analyticsEvents.push({"name":key,"delay":true,"handler":function(eventObject,eventData){if(!dedupe||(typeof basicEventsFired.indexOf=="function"&&basicEventsFired.indexOf(eventID)<0)){var e="event"+eventID.toString();s.events=s.apl(s.events,e,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,e,",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
basicEventsFired.push(eventID);}}});})(key);}
analyticsEvents.push({"name":"AddOnsShown","delay":true,"handler":function(eventObject,eventData){var ecodes=eventData.eCodes;if(typeof ecodes==="string"){ecodes=ecodes.split(",");s.prop31=ecodes.slice(0,3).join(",");s.linkTrackVars=s.apl(s.linkTrackVars,"prop31",",",2);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars;}}});analyticsEvents.push({"name":"AddToCart","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){if(typeof eventData.data!=="undefined"){eventData={"ProductsAddedToCart":[eventData.data],"NewCart":"N"};}
var products=eventData.ItemsAddedToCart||eventData.ProductsAddedToCart;if(typeof products.length==="undefined"){var tempArray=[products];products=tempArray;}
var items=[];if(products.length>0){for(key=0;key<products.length;key++){var currentProduct=products[key];var id=currentProduct.ProductID;var sku=currentProduct.ProductSku||currentProduct.ProductSKU;var quantity=parseInt(currentProduct.ProductQty);var revenue=currentProduct.CurrentPricePerUnit*quantity;var source=currentProduct.CartAddSource||currentProduct.CartAdditionSource;var isMainItem=(typeof currentProduct.IsMainItem==="undefined"||currentProduct.IsMainItem);var productEvents=[];var merchEvars=[];if(!isMainItem){var crossSellType="";if(_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){crossSellType="PDP";source="Product Page Add On";var parentEcode=_dsgTag.DataLayer.GetValue("ProductID");merchEvars.push("evar31="+parentEcode);merchEvars.push(_dsgTag.DataLayer.GetValue("ProductPageTemplateType")=="Bundle"?"evar52=Product_PageElement_product4_rr":"evar52=Product_PageElement_product3_rr");}else if(_dsgTag.pageType===_dsgTag.PageTypes.Cart){crossSellType="Cart";source="Cart Page Add On";merchEvars.push("evar52=Cart_PageElement_cart2_rr");}
merchEvars.push("evar82=Add On");merchEvars.push("evar49="+_dsgTag.DataLayer.GetValue("PriceType",currentProduct));var crossSellText="Cross Sell: "+crossSellType+" Add On";merchEvars.push("evar32="+crossSellText);merchEvars.push("evar33="+crossSellText);merchEvars.push("evar58="+crossSellText);}else{merchEvars.push("evar82=Main");if(source==="PDP"){source="Product Detail Page";}}
merchEvars.push("evar12="+source);try{var maxDate;if(eventData.resolvedSkuEDD){maxDate=new Date(parseInt(eventData.resolvedSkuEDD.endDate.split("-")[0]),parseInt(eventData.resolvedSkuEDD.endDate.split("-")[1])-1,parseInt(eventData.resolvedSkuEDD.endDate.split("-")[2]));}
if(maxDate){var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate());var nowString=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();var maxString=maxDate.getFullYear()+"-"+(maxDate.getMonth()+1)+"-"+maxDate.getDate();var difference=Math.floor((maxDate.getTime()-now.getTime())/(1000*60*60*24));var evar23Format=nowString+":"+now.getDay()+":"+maxString+":"+maxDate.getDay()+":"+difference;merchEvars.push("evar23="+evar23Format);}}catch(ex){}
merchEvars.push("evar61="+sku);var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";if(typeof currentProduct.FulfillmentMethod!=="undefined"&&(currentProduct.FulfillmentMethod==="In Store Pickup (BOPIS)"||currentProduct.FulfillmentMethod==="In Store Pick Up (BOPIS)"||currentProduct.FulfillmentMethod==="In Store Pickup")){merchEvars.push("evar51="+const_fulfillmentBOPIS);if(typeof currentProduct.FulfillmentStore!=="undefined"){merchEvars.push("evar40="+currentProduct.FulfillmentStore);if(typeof _dsgTag.LowStockBOPISStore!=="undefined"&&_dsgTag.LowStockBOPISStore!==""){merchEvars.push("evar41=ChangeStore:"+_dsgTag.LowStockBOPISStore.toString()+":"+currentProduct.FulfillmentStore.toString()+":"+_dsgTag.LowStockBOPISStoreSuggestionCount.toString());}}}else{merchEvars.push("evar51="+const_fulfillmentStandard);}
if(quantity>0)
merchEvars.push("evar10="+quantity);if(revenue>0){merchEvars.push("evar99="+revenue.toFixed(2));productEvents.push("event43="+revenue.toFixed(2));}
if(s.eVar18){var currentCartQuantity=0;if(parseInt(s.eVar18)){currentCartQuantity=parseInt(s.eVar18);}
s.eVar18=currentCartQuantity+quantity;}
if(typeof currentProduct.AvailableQTY!=="undefined"&&currentProduct.AvailableQTY>=1&&currentProduct.AvailableQTY<=10){merchEvars.push("evar26="+currentProduct.FulfillmentMethod+":"+currentProduct.AvailableQTY);}
items.push(s.buildProductString(id,0,0,productEvents,merchEvars));}
if(eventData.CartID){s.linkTrackVars=s.apl(s.linkTrackVars,"eVar13",",",2);s.eVar13=eventData.CartID;if(eventData.CartID&&(!_dsgTag.HelperFunctions.GetValue("TagCartID")||decodeURI(_dsgTag.HelperFunctions.GetValue("TagCartID")).split("|")[0]!=eventData.CartID)){cookieString=eventData.CartID+"|0000";_dsgTag.HelperFunctions.SaveValue("TagCartID",cookieString);}}
s.products=items.join(",");s.events=s.apl(s.events,"scAdd",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"scAdd",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);if(eventData.NewCart.toLowerCase()==="y"||eventData.NewCart.toLowerCase()==="true"){s.events=s.apl(s.events,"scOpen",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"scOpen",",",2);}
s.triggerEvent(eventObject.type);}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"AJAXStoreSearch","delay":false,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){_dsgTag.queuedStoreSearches.push(eventData);}}});analyticsEvents.push({"name":"ApplePay-ButtonClicked","delay":true,"handler":function(eventObject,eventData){_dsgTag.EventHandlers.TriggerEvent("ExternalCheckout",{'type':'ApplePay'});}});var selectedAttributes=[];analyticsEvents.push({"name":"AttributeSelected","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){var type=eventData.Type;var value=eventData.Value;if(typeof selectedAttributes.indexOf=="function"&&selectedAttributes.indexOf(type)<0){selectedAttributes.push(type);s.prop73=type;s.linkTrackVars=s.apl(s.linkTrackVars,"prop73",",",2);s.events=s.apl(s.events,"event156",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event156",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars;}});analyticsEvents.push({"name":"BatFinderResults","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){eventName=(eventData.Success==="true")?"event56":"event57";s.events=s.apl(s.events,eventName,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,eventName,",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CancelRequestSubmit","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"&&typeof eventData.OrderCancelRequestSuccess!=="undefined"){if(eventData.OrderCancelRequestSuccess){s.prop16=eventData.OrderID;s.linkTrackVars=s.apl(s.linkTrackVars,"prop16",",",2);}
s.prop53=eventData.OrderCancelRequestSuccess.toString();s.linkTrackVars=s.apl(s.linkTrackVars,"prop53",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CartDataUpdated","delay":true,"handler":function(eventObject,eventData){s.events="";_dsgTag.FunctionRepository.SetCartAnalyticsValues();s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar13",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar18",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar40",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar51",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar53",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar61",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar70",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar96",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar97",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar98",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar99",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar100",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CartFulfillmentChanged","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){var updateValue=eventData.NewFulfillmentMethod;var productID=eventData.UpdateProductId;var sku=eventData.UpdateProductSku;var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";var merchEvars=[];merchEvars.push("evar61="+sku);switch(updateValue.toLowerCase()){case"sth":merchEvars.push("evar51="+const_fulfillmentStandard);merchEvars.push("evar40=Ship To Customer");break;case"bopis":merchEvars.push("evar51="+const_fulfillmentBOPIS);var storeNumber="Unknown";merchEvars.push("evar40="+storeNumber);break;}
s.products=s.buildProductString(productID,0,0,[],merchEvars);s.events=s.apl(s.events,"event52",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event52",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CartQuantityChanged","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){cartUpdatePending=true;}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CartRemoveProduct","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){s.products=";"+eventData.RemovedProductID;s.events=s.apl(s.events,"scRemove",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"scRemove",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
cartUpdatePending=true;}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"ChangeMyStoreEvent","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){var results=eventData.CollectionCount;s.eVar9="My Store Search";s.events=s.apl(s.events,"event33",",",2);s.events=s.apl(s.events,"event67="+results,",",2);if(results>0){s.eVar5=eventData.ZipCode;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar5",",",2);}
s.linkTrackEvents=s.apl(s.linkTrackEvents,"event33",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event67",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar9",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop9",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"ChangePreferredStore","delay":true,"handler":function(eventObject,eventData){var storeID="";if(eventData&&typeof eventData.NewStoreID!=="undefined"){storeID=eventData.NewStoreID;}else if(_dsgTag.HelperFunctions.GetCookieValue("setStoreCookie")){storeID=_dsgTag.HelperFunctions.GetCookieValue("setStoreCookie");storeID=/_(\d+)$/g.exec(storeID);storeID=(storeID&&storeID.length>0)?storeID[1]:"";}
if(storeID){s.eVar38=storeID;s.events=s.apl(s.events,"event17",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event17",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar38",",",2);if(typeof eventData.ProductID!=="undefined"&&typeof eventData.ProductSKUDetails!=="undefined"){var baseItemSKUDetails=_dsgTag.DataLayer.GetValue("ProductDetails")[0].ProductSKUDetails;for(var i=0;i<eventData.ProductSKUDetails.length;i++){for(var j=0;j<baseItemSKUDetails.length;j++){if(eventData.ProductSKUDetails[i].ProductSKU==baseItemSKUDetails[j].ProductSKU){eventData.ProductSKUDetails[i].AvailabletoShip=baseItemSKUDetails[j].AvailabletoShip;}}}
s.products=s.buildProductString(eventData.ProductID,0,0,[],["evar68="+_dsgTag.FunctionRepository.GetAvailabilityStringFromSKUArray(eventData.ProductSKUDetails)]);s.events=s.apl(s.events,"event1",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event1",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"evar68",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);}
s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"Chat","delay":true,"handler":function(eventObject,eventData){s.prop72="Chat Status: "+eventData.Status;s.linkTrackVars=s.apl(s.linkTrackVars,"prop72",",",2);s.triggerEvent(eventObject.type);s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"ChatClicked","delay":true,"handler":function(eventObject,eventData){s.eVar1=eventData.Location;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar1",",",2);s.triggerEvent(eventObject.type);s.linkTrackVars=s.baseLinkTrackVars
_dsgTag.HelperFunctions.DeleteValue("v1");}});analyticsEvents.push({"name":"CheckEDDZipCode","delay":true,"handler":function(eventObject,eventData){var productID=_dsgTag.DataLayer.GetValue("ProductID");var maxDate;var evars=[];try{if(eventData.resolvedSkuEDD){maxDate=new Date(parseInt(eventData.resolvedSkuEDD.endDate.split("-")[0]),parseInt(eventData.resolvedSkuEDD.endDate.split("-")[1])-1,parseInt(eventData.resolvedSkuEDD.endDate.split("-")[2]));}else{maxDate=new Date(0);var currentDate;for(var i=0;i<eventData.AllSkuEDD.length;i++){currentDate=new Date(parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[0]),parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[1])-1,parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[2]));if(currentDate>maxDate){maxDate=currentDate;}}}
if(maxDate){var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate());var nowString=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();var maxString=maxDate.getFullYear()+"-"+(maxDate.getMonth()+1)+"-"+maxDate.getDate();var difference=Math.floor((maxDate.getTime()-now.getTime())/(1000*60*60*24));var evar23Format=nowString+":"+now.getDay()+":"+maxString+":"+maxDate.getDay()+":"+difference;evars=["evar23="+evar23Format];}}catch(ex){}
s.products=s.buildProductString(productID,0,0,[],evars);s.eVar5=eventData.CheckZipCode;s.eVar9="Zip Code EDD Search";s.events=s.apl(s.events,"event4",",",2);s.events=s.apl(s.events,"event33",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event4",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event33",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar5",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar9",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar23",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});var checkoutEvents=[];var eventsToDeDupe=[103,104,105];analyticsEvents.push({"name":"CheckoutAction","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"&&typeof eventData.ActionType!="undefined"){if(eventData.ActionType.split(":").length===3){var itemType=eventData.ActionType.split(":")[0].toLowerCase();var action=eventData.ActionType.split(":")[1].toLowerCase();var value=eventData.ActionType.split(":")[2].toLowerCase();var event=0;if(itemType==="checkbox"){if(action==="billingshipping same"){if(value==="unchecked"){event=88;}else if(value==="checked"){event=98;}}}else if(itemType==="expandablepanel"){if(action==="delivery methods"){if(value.indexOf("expanded")>=0){event=90;}else if(value.indexOf("collapsed")>=0){event=100;}}}else if(itemType==="chk payment"){if(action==="updatepayment"){event=126;}else if(action==="finalizecheckout"){event=127;}else if(action==="getcheckout"){event=128;}}else if(itemType==="edit address"){if(value==="clicked"){if(action==="billing"){event=101;}else if(action==="shipping"){event=102;}}}else if(itemType==="formgroup"){if(value==="valid"){if(action==="contact"){event=103;_dsgTag.CustomerIDs.UpdateAllCustomerIDs();}else if(action==="billing"){event=104;}else if(action==="shipping"){event=105;}}}else if(itemType==="createcheckout"){if(action.indexOf("unable to create checkout object")>=0){event=113;}}else if(itemType==="radiobutton"){if(action==="delivery methods"){TriggerShippingMethodUpdateEvent(eventData);}}else if(itemType==="button"){if(value==="clicked"){if(action==="login"){_dsgTag.HelperFunctions.WriteCookieValue("v1","Checkout_ScoreCard_Login",true);}}}else if(itemType==="order summary"){if(action==="expansion panel"){if(value==="opened"){event=137;}}}else if(itemType==="scorecard"){if(action==="applyscorecardbyphone"){if(value==="success"){event=110;}else if(value==="fail"){event=111;}}else if(action==="applyscorecardbycard"){if(value==="success"){event=144;}}}}
else{var actionType=eventData.ActionType.toLowerCase();if(actionType==="attepmted to add invalid promo"){}else if(actionType==="address line 2 shipping"){event=61;}else if(actionType==="address line 2 billing"){event=62;}else if(actionType==="successfully logged in as registered user"){event=93;}else if(actionType==="3ds authentication success"){event=117;}else if(actionType==="3ds authentication timeout"){event=118;}else if(actionType==="registered user promo successfully applied"){event=119;}else if(actionType==="forgot password clicked"){event=130;}else if(actionType==="forgot password success"){event=131;}else if(actionType==="create account clicked"){event=132;}else if(actionType==="smsoptin: true"){event=133;}else if(actionType==="guest user clicked"){event=134;}else if(actionType==="edd data ready"){TriggerShippingMethodUpdateEvent(eventData);}else if(actionType==="stockqty ready"){_dsgTag.EventHandlers.TriggerEvent("CheckoutStockReady",eventData);}else if(eventData.ActionType.split(":").length>=2){var code=eventData.ActionType.split(":")[1];if(code){if(actionType.indexOf("failed to apply promo")>=0){_dsgTag.EventHandlers.TriggerEvent("PromotionEntered",{"PromotionCode":code,"PromotionSuccess":"N"});}else if(actionType.indexOf("successfully applied promo")>=0){_dsgTag.EventHandlers.TriggerEvent("PromotionEntered",{"PromotionCode":code,"PromotionSuccess":"Y"});}}}}
if(event&&typeof Array.prototype.indexOf!=="undefined"&&checkoutEvents.indexOf(event)<0){if(typeof Array.prototype.indexOf!=="undefined"&&eventsToDeDupe.indexOf(event)>=0){checkoutEvents.push(event);}
s.events=s.apl(s.events,"event"+event,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event"+event,",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"CheckoutStockReady","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!="undefined"&&typeof eventData.stockQty!="undefined"){var items=[];var cartProductInfo=_dsgTag.DataLayer.GetValue("CartSKUEcodeLookup",eventData);for(var i=0;i<eventData.stockQty.length;i++){var sku=eventData.stockQty[i].sku
if(typeof cartProductInfo[sku]!=="undefined"){var ecode=cartProductInfo[sku];var shippingInfo=[];if(eventData.stockQty[i].STHLowStockMessageShown){shippingInfo.push("STH:"+eventData.stockQty[i].STHLowStockQty);}
if(eventData.stockQty[i].BOPISLowStockMessageShown){shippingInfo.push("BOPIS:"+eventData.stockQty[i].BOPISLowStockQty);}
if(shippingInfo.length>0){shippingInfo=shippingInfo.join("-");items.push(s.buildProductString(ecode,0,0,[],["evar86="+shippingInfo]));}}}
if(items.length>0){s.products=items.join(",");s.linkTrackVars=s.apl(s.linkTrackVars,"evar86",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CheckStoreAvailabilitySearch","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){var results=eventData.SearchStoreList.length;var productID=eventData.SearchProductID||"";s.products=";"+productID+";;;";s.eVar9="Store Inventory Search";s.events=s.apl(s.events,"event33",",",2);s.events=s.apl(s.events,"event67="+results,",",2);if(results>0){s.eVar5=eventData.SearchZip;var nearestDistance=0;for(var i=0;i<eventData.SearchStoreList.length;i++){var distance=parseFloat(eventData.SearchStoreList[i].StoreDistance||eventData.SearchStoreList[i].distance);if(!nearestDistance||distance<nearestDistance){nearestDistance=distance;}}
s.prop6=nearestDistance;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar5",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop6",",",2);}else{s.events=s.apl(s.events,"event35",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event35",",",2);}
s.linkTrackEvents=s.apl(s.linkTrackEvents,"event33",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event67",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar9",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop9",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"ContentTabView","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.eVar1=eventData.TabCode;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar1",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop66",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"CreateAccountClick","delay":true,"handler":function(eventObject,eventData){s.eVar30="Web Store";s.events=s.apl(s.events,"event94",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar30",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event94",",",2);s.triggerEvent(eventObject.type);}});analyticsEvents.push({"name":"CurbsideCheckIn","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.prop16=_dsgTag.DataLayer.GetValue("OrderID");s.events=s.apl(s.events,"event14",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event14",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop16",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"EDDSkuInfo","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){var productID=eventData.ProductID;var EDDData=eventData.AllSkuEDD;try{if(typeof EDDData!=="undefined"&&EDDData.length>0){var maxDate;var currentDate;for(var i=0;i<EDDData.length;i++){currentDate=new Date(parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[0]),parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[1])-1,parseInt(eventData.AllSkuEDD[i].eddRangeFormatted.endDate.split("-")[2]));if(typeof maxDate==="undefined"||currentDate>maxDate){maxDate=currentDate;}}
if(maxDate){var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate());var nowString=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();var maxString=maxDate.getFullYear()+"-"+(maxDate.getMonth()+1)+"-"+maxDate.getDate();var difference=Math.floor((maxDate.getTime()-now.getTime())/(1000*60*60*24));var evar23Format=nowString+":"+now.getDay()+":"+maxString+":"+maxDate.getDay()+":"+difference;s.products=s.buildProductString(productID,0,0,[],["evar23="+evar23Format]);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar23",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);}}}catch(ex){}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"EmailSignup","delay":true,"handler":function(eventObject,eventData){s.events=s.apl(s.events,"event18",",",2);s.events=s.apl(s.events,"event94",",",2);s.eVar30="Email Newsletter";s.linkTrackEvents=s.apl(s.linkTrackEvents,"event18",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event94",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar30",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);var hashedEmail=_dsgTag.DataLayer.GetValue("HashedEmailAddress",eventData);if(hashedEmail){s.eVar22=hashedEmail;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar22",",",2);_dsgTag.CustomerIDs.UpdateCustomerID("HashedEmail",hashedEmail,"Event");}
if(typeof eventData.SignUpMessage!=="undefined"){if(eventData.SignUpMessage.toLowerCase().indexOf("username@domain.com")>=0){s.events=s.apl(s.events,"event45",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event45",",",2);}else if(eventData.SignUpMessage.toLowerCase().indexOf("first-time")>=0){s.events=s.apl(s.events,"event46",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event46",",",2);}}
s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});var externalCheckoutFired=false;analyticsEvents.push({"name":"ExternalCheckout","delay":true,"handler":function(eventObject,eventData){var type="";if(typeof eventData.type=="undefined"){if(eventData.Paypal==="Yes"){type="PayPal Express";}}else{type=eventData.type;}
if(type&&!externalCheckoutFired){s.eVar17=(_dsgTag.DataLayer.GetValue("SignedInBoolean")?"Registered":"Guest")+" - "+type;s.events=s.apl(s.events,"scCheckout",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"scCheckout",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar17",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
externalCheckoutFired=true;}}});analyticsEvents.push({"name":"FilterClicked","delay":true,"handler":function(eventObject,eventData){s.eVar1=eventData.Name;s.linkTrackVars=s.apl(s.linkTrackVars,"eVar1",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop66",",",2);s.triggerEvent(eventObject.type);s.linkTrackVars=s.baseLinkTrackVars
_dsgTag.HelperFunctions.DeleteValue("v1");}});analyticsEvents.push({"name":"FinderResults","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){eventName=(eventData.Success==="true")?"event56":"event57";s.events=s.apl(s.events,eventName,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,eventName,",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"FlippEvent","delay":false,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.events='';switch(eventData.event_type){case"open":s.pageName=(function(){var pagePrefix=_dsgTag.currentWebsite.Abbreviation+": Online Circular: ";try{flyerId=eventData.flyer_id;flyerRunId=eventData.flyer_run_id;flyerTypeId=eventData.flyer_type_id;flyerTypeName=eventData.flyer_type_name;pageName=pagePrefix+flyerId+"_"+flyerRunId+"_"+flyerTypeId+": "+flyerTypeName;return pageName;}catch(e){return pagePrefix+"Circular ID Unavailable";}})();s.prop2="Weekly Ad";s.eVar38=(function(){return eventData.store_id;})();s.triggerPageView();break;case"location_select":trackEvent=true;s.products=";";s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.eVar5=eventData.postal_code||"Online Circular: Location Unavailable";s.linkTrackVars=s.apl(s.linkTrackVars,"eVar5",",",2);s.eVar9="Circular Location Search";s.linkTrackVars=s.apl(s.linkTrackVars,"eVar9",",",2);s.events=s.apl(s.events,"event33",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event33",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent("WeeklyAdEvent");break;case"item_share":trackEvent=true;s.eVar77="Online Circular Share";if(typeof eventData.share_type!=="undefined"){s.eVar77+=": "+eventData.share_type.replace("fb","facebook");}
s.prop72="D=v77";s.linkTrackVars=s.apl(s.linkTrackVars,"eVar77",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop72",",",2);s.events=s.apl(s.events,"event72",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event72",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent("WeeklyAdEvent");break;}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"FreeShipThreshold","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.events='';var thresholdMet=eventData.ThresholdMet;var value=eventData.CartValue;var messageShown=eventData.MessagingShown;var oversized=eventData.OversizedItem;if(typeof value!=="undefined"&&!thresholdMet&&!oversized){s.events=s.apl(s.events,"event136",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event136",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});var firedImageEvents=[];var ignoreFirstAltImage=true;analyticsEvents.push({"name":"ImageViewer","delay":true,"handler":function(eventObject,eventData){if(typeof eventData.ImageViewerAction!=="undefined"){s.origEvents=s.events;var event=0;switch(eventData.ImageViewerAction){case"Zoom":event=106;break;case"Pan":event=107;break;case"PlayVideo":event=109;break;case"AltImage":event=ignoreFirstAltImage?0:108;ignoreFirstAltImage=false;break;case"FullScreen":if(typeof eventData.FullScreen!=="undefined"){event=112;}
break;}
if(event&&firedImageEvents.indexOf(event)<0){firedImageEvents.push(event);s.products=";"+_dsgTag.DataLayer.GetValue("ProductID")+";;;";s.events=s.apl(s.events,"event"+event,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event"+event,",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
s.events=s.origEvents;}}});var cartLowStockData=[];analyticsEvents.push({"name":"low_stock_event","delay":true,"handler":function(eventObject,eventData){cartLowStockData.push(eventData);var productData=_dsgTag.DataLayer.GetValue("ProductListArray");if(typeof productData!=="undefined"&&cartLowStockData.length===productData.length){var items=[];for(var i=0;i<cartLowStockData.length;i++){var item=cartLowStockData[i];var sku=item.ecode;var ecode=item.ecode;if(ecode){var shippingInfo=[];if(item.STHLowStockMessageShown&&item.STHStockQuantity>0){shippingInfo.push("STH:"+item.STHStockQuantity);}
if(item.BOPISLowStockMessageShown&&item.BOPISStockQuantity>0){shippingInfo.push("BOPIS:"+item.BOPISStockQuantity);}
if(shippingInfo.length>0){shippingInfo=shippingInfo.join("-");items.push(s.buildProductString(ecode,0,0,[],["evar86="+shippingInfo]));}}}
if(items.length>0){cartLowStockData=[];s.products=items.join(",");s.linkTrackVars=s.apl(s.linkTrackVars,"evar86",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"LowStock","delay":true,"handler":function(eventObject,eventData){_dsgTag.EventHandlers.TriggerEvent("SKUResolve",eventData);}});analyticsEvents.push({"name":"MCIDApiUsed","delay":true,"handler":function(eventObject,eventData){s.origEvents=s.events;s.events=s.apl(s.events,"event129",",",2);if(_dsgTag.CustomerIDs.AthleteID){s.eVar29=_dsgTag.CustomerIDs.AthleteID;}else if(_dsgTag.CustomerIDs.MCID){s.eVar29="MCID:"+_dsgTag.CustomerIDs.MCID;}
s.linkTrackEvents=s.apl(s.linkTrackEvents,"event129",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar29",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar91",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar92",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar93",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
s.events=s.origEvents;s.eVar91=s.eVar92=s.eVar93="";}});analyticsEvents.push({"name":"ModalOpen","delay":true,"handler":function(eventObject,eventData){if(eventData.ModalName&&eventData.ModalName!=="generic"){var backupPageName=s.pageName;var backupPageType=s.prop2;var backupPrevPageName=_dsgTag.previousPageValues["v27"];var backupPrevPageType=_dsgTag.previousPageValues["v28"];var variableNames=s.linkTrackVars.split(",");var variableBackup={};for(var i=0;i<variableNames.length;i++){variableBackup[variableNames[i]]=window.s[variableNames[i]];}
s.manageVars("clearVars");for(var property in variableBackup){if(variableBackup.hasOwnProperty(property)){window.s[property]=variableBackup[property];}}
s.pageName=_dsgTag.currentWebsite.Abbreviation+": Modal: "+eventData.ModalName;s.prop2="Modal";_dsgTag.previousPageValues["v27"]=backupPageName;_dsgTag.previousPageValues["v28"]=backupPageType;if(eventData.ModalName.toLowerCase()==="write a review"){var bvcampaignid=_dsgTag.HelperFunctions.GetQueryStringValue("bvcampaignid");var bvProductID=_dsgTag.HelperFunctions.GetQueryStringValue("bvproductId");if(bvcampaignid&&bvcampaignid.toLowerCase()==="bv_pie"){s.prop29="Email Review";if(bvProductID){s.products=";"+bvProductID.toUpperCase()+";;;;";}}else{s.prop29="PDP Review";if(_dsgTag.DataLayer.GetValue("ProductID")){s.products=";"+_dsgTag.DataLayer.GetValue("ProductID")+";;;;";}else if(bvProductID){s.products=";"+bvProductID.toUpperCase()+";;;;";}}}
s.firstRun=true;s.triggerPageView();s.pageName=backupPageName;s.prop2=backupPageType;_dsgTag.previousPageValues["v27"]=backupPrevPageName;_dsgTag.previousPageValues["v28"]=backupPrevPageType;_dsgTag.HelperFunctions.SaveValue("v27",s.pageName);_dsgTag.HelperFunctions.SaveValue("v28",s.prop2);}}});analyticsEvents.push({"name":"NotifyMeStock","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!=="undefined"){var values=[];if(typeof eventData.atsNotification!=="undefined"){values.push("Ship to Customer");}
if(typeof eventData.bopisNotification!=="undefined"){values.push("In Store Pickup (BOPIS)");}
if(values.length>0&typeof eventData.ecode!="undefined"){s.prop51=values.join(":");s.products=s.buildProductString(eventData.ecode,0,0,[],["evar61="+eventData.sku.id]);s.linkTrackVars=s.apl(s.linkTrackVars,"prop51",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"evar61",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"PDPPayPalClicked","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!=="undefined"&&typeof eventData.clickOriginated!=="undefined"){if(eventData.clickOriginated==="PayPal"){s.events=s.apl(s.events,"event50",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event50",",",2);if(typeof eventData.PayPalProductsBuyNow!=="undefined"){var currentPrice=eventData.PayPalProductsBuyNow.CurrentPricePerUnit;var quantity=eventData.PayPalProductsBuyNow.ProductQty;var sku=eventData.PayPalProductsBuyNow.ProductSKU;var revenue=currentPrice*quantity;productEvents=[];merchEvars=[];if(revenue>0){merchEvars.push("evar99="+revenue.toFixed(2));productEvents.push("event43="+revenue.toFixed(2));}
if(sku){merchEvars.push("evar61="+sku);}
var productString=s.buildProductString(eventData.ProductID,0,0,productEvents,merchEvars)
s.products=productString;s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);}}else if(eventData.clickOriginated==="ATC"){s.events=s.apl(s.events,"event51",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event51",",",2);}
s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"PDPPeopleView","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!=="undefined"){s.prop69=eventData.NumberViewing;s.linkTrackVars=s.apl(s.linkTrackVars,"prop69",",",2);s.triggerEvent(eventObject.type);}}});analyticsEvents.push({"name":"PDPSignInRequest","delay":true,"handler":function(eventObject,eventData){_dsgTag.HelperFunctions.WriteCookieValue("v1","PDP_ScoreCard_Login",true);}});analyticsEvents.push({"name":"ProductQuickView","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){_dsgTag.FunctionRepository.SetPDPAnalyticsValues(eventData.data);s.triggerPageView();}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars;}});analyticsEvents.push({"name":"PromotionEntered","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.eVar36=eventData.PromotionCodeEntered||eventData.PromotionCode;if(eventData.PromotionCodeValid==="Y"||eventData.PromotionSuccess==="Y"){s.events=s.apl(s.events,"event21",",",2);s.linkTrackEvents="event21";}else if(eventData.PromotionCodeValid==="N"||eventData.PromotionSuccess==="N"){s.events=s.apl(s.events,"event22",",",2);s.linkTrackEvents="event22";}else{return"";}
s.linkTrackVars=s.apl(s.linkTrackVars,"eVar36",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"RemoveFromCart","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"){s.products=";"+eventData.RemovedProductID;s.events=s.apl(s.events,"scRemove",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"scRemove",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
var total=parseFloat(_dsgTag.DataLayer.GetValue("OrderTotal"));var ship=parseFloat(_dsgTag.DataLayer.GetValue("OrderShippingRevenue"));var tax=parseFloat(_dsgTag.DataLayer.GetValue("OrderTax"));subtotal=(total-tax-ship);if(isNaN(subtotal)){subtotal=0;}
s.eVar11=subtotal.toFixed(2);s.eVar18=_dsgTag.DataLayer.GetValue("CartItemQuantity");s.eVar96=_dsgTag.DataLayer.GetValue("OrderShippingRevenue");s.eVar97=_dsgTag.DataLayer.GetValue("OrderShippingDiscount");s.products=_dsgTag.FunctionRepository.GetCartProductString();s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar18",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"ResultsViewUpdate","delay":true,"handler":function(eventObject,eventData){s.events="";if(typeof(eventData)!="undefined"){var a=eventData.Action||eventData.UpdateType;var b=eventData.Detail||eventData.UpdateValue;switch(a){case"Sort":case"SortChange":case"SortMethod":s.eVar54="Sort: "+b;s.prop58="D=v54";s.linkTrackVars=s.apl(s.linkTrackVars,"prop58",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar54",",",2);s.triggerEvent(eventObject.type);break;case"Pagination":if(typeof(b)==Object){if(b.pageNumber==1&&b.pageSize>48){s.eVar54="ProductsPerPage: View All";}else{s.eVar54=a+": Page "+b.pageNumber;}
_dsgTag.pagination=b.pageNumber;}else{s.eVar54=a+": Page "+b;_dsgTag.pagination=b;}
s.prop58="D=v54";s.linkTrackVars=s.apl(s.linkTrackVars,"prop58",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar54",",",2);s.triggerEvent(eventObject.type);break;case"ProductPerPage":s.eVar54="ProductsPerPage: "+b;s.prop58="D=v54";s.linkTrackVars=s.apl(s.linkTrackVars,"prop58",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar54",",",2);s.triggerEvent(eventObject.type);break;case"FiltersApplied":case"Refinement":if(typeof b.length==="undefined"){b=[b];}
if(b.length>0){var indexOfNewItem=_dsgTag.prevRefinements.length>0?-1:0;for(var i=0;i<b.length&&indexOfNewItem<0;i++){var itemIsNew=true;var newName=b[i].FilterName||b[i].RefinementAttribute;var newValue=b[i].FilterValue||b[i].RefinementValue;if(newName&&newValue){for(var j=0;j<_dsgTag.prevRefinements.length&&itemIsNew;j++){var oldName=_dsgTag.prevRefinements[j].FilterName||_dsgTag.prevRefinements[j].RefinementAttribute;var oldValue=_dsgTag.prevRefinements[j].FilterValue||_dsgTag.prevRefinements[j].RefinementValue;if(newName===oldName&&newValue===oldValue)
itemIsNew=false;}
if(itemIsNew){indexOfNewItem=i;}}}
if(indexOfNewItem>=0){var filterResultCount=0;if(typeof b[indexOfNewItem].ProductCountTotal!=="undefined"){filterResultCount=b[indexOfNewItem].ProductCountTotal;}
var conversational=false;if(typeof b[indexOfNewItem].Conversational!=="undefined"){conversational=b[indexOfNewItem].Conversational.toString().toLowerCase()=="yes";}
_dsgTag.prevRefinements=b;var d=b[indexOfNewItem].FilterName||b[indexOfNewItem].RefinementAttribute;var e=b[indexOfNewItem].FilterValue||b[indexOfNewItem].RefinementValue;s.prop10=d;s.prop11=d+": "+e;if(!s.pageName){s.pageName=GetPageName();}
s.prop12=s.pageName?'D=c10+": "+pageName':'D=c10+": "+'+"Page Name Not Set";s.prop13=s.pageName?'D=c11+": "+pageName':'D=c11+": "+'+"Page Name Not Set";s.linkTrackVars=s.apl(s.linkTrackVars,"prop10",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop12",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop13",",",2);s.events=s.apl(s.events,"event5",",",2);if(filterResultCount>0){s.events=s.apl(s.events,"event153="+filterResultCount,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event153",",",2);}else{if(_dsgTag.pageType===_dsgTag.PageTypes.Search||_dsgTag.pageType===_dsgTag.PageTypes.FailedSearch){s.events=s.apl(s.events,"event3"+filterResultCount,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event3",",",2);}else if(_dsgTag.pageType===_dsgTag.PageTypes.Family){s.events=s.apl(s.events,"event155"+filterResultCount,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event155",",",2);}}
if(s.pageName.indexOf("Search: Results")>=0){s.events=s.apl(s.events,"event24",",",2);s.products=";";s.linkTrackEvents=s.apl(s.linkTrackEvents,"event24",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);}
if(conversational){s.events=s.apl(s.events,"event154",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event154",",",2);}
s.linkTrackEvents=s.apl(s.linkTrackEvents,"event5",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);_dsgTag.HelperFunctions.SaveValue("Refinement","Y");s.triggerEvent(eventObject.type);}}
break;case"FiltersRemoved":return;}
s.events=s.prop10=s.prop11=s.prop12=s.prop13=s.eVar54=s.prop58="";}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"ScoreCardEntered","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!=="undefined"&&typeof eventData.ApplySuccess!=="undefined"&&eventData.ApplySuccess.toLowerCase()==="y"){s.events=s.apl(s.events,"event26",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event26",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"ShippingMethodUpdated","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!=="undefined"&&typeof eventData.ProductShippingMethods!=="undefined"&&eventData.ProductShippingMethods.length>0){var today=_dsgTag.HelperFunctions.GetStandardizedDKSTime()[0];var todayString=today.getFullYear()+"-"+(today.getMonth()+1)+"-"+today.getDate();var todayDOW=today.getDay();var cartProductInfo=_dsgTag.DataLayer.GetValue("CartSKUEcodeLookup");var products=[];for(var i=0;i<eventData.ProductShippingMethods.length;i++){if(typeof cartProductInfo[eventData.ProductShippingMethods[i].ProductID]!=="undefined"){var EDDString=eventData.ProductShippingMethods[i].EstimatedDeliveryDate;var EDDDOW="N/A";var daysToArrive="N/A";if((EDD=new Date(EDDString))!="Invalid Date"){EDD.setTime(EDD.getTime()+EDD.getTimezoneOffset()*60*1000);EDDString=EDD.getFullYear()+"-"+(EDD.getMonth()+1)+"-"+EDD.getDate();EDDDOW=EDD.getDay();daysToArrive=Math.ceil((EDD.getTime()-today.getTime())/(1000*60*60*24));}
var reduction=eventData.ProductShippingMethods[i].EDDReduction||"NotUsed";var method=eventData.ProductShippingMethods[i].ShippingMethod;var shippingInfo=todayString+":"+todayDOW+":"+EDDString+":"+EDDDOW+":"+daysToArrive+":"+method+":"+reduction;if(eventData.ProductShippingMethods[i].AdditionalAnalyticsInfo){var additionalValues=['afterCutoff','calendarDayOffset','nonSourceAwareDeliveryDays','saturdayUsed','sourceAwareDeliveryDays','sourceAwareEligible','sourceAwareSuccessful','sourceAwareUsed'];for(var j=0;j<additionalValues.length;j++){var currentItem=eventData.ProductShippingMethods[i].AdditionalAnalyticsInfo[additionalValues[j]];shippingInfo+=":"+((typeof currentItem!=="undefined")?currentItem.toString():"N/A");}}
products.push(";"+cartProductInfo[eventData.ProductShippingMethods[i].ProductID]+";;;;"+"evar78="+shippingInfo);}}
s.products=products.join(",");s.events=s.apl(s.events,"event99",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event99",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"ShowMoreColors","delay":true,"handler":function(eventObject,eventData){if(typeof eventData!=="undefined"&&typeof eventData.ecode!=="undefined"){s.products=s.buildProductString(eventData.ecode,0,0,["event145=1"],[]);s.events=s.apl(s.events,"event145",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event145",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}}});analyticsEvents.push({"name":"SignInCreateAccountClick","delay":true,"handler":function(eventObject,eventData){s.eVar30="Web Store";s.events=s.apl(s.events,"event18",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar30",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event18",",",2);s.triggerEvent(eventObject.type);}});analyticsEvents.push({"name":"SiteError","delay":false,"handler":function(eventObject,eventData){var CleanUpErrorMessage=function(input){output=input;output=output.replace(/\u00A0/g," ");return output;};if(/^CMN/i.test(eventData.ErrorMessage)){return"";}
var backupEvents=s.events;s.events=s.apl(s.events,"event20",",",2);var errorObject=eventData.ErrorMessage;if(typeof(errorObject)==="string")
errorObject=[errorObject];var uniqueValues=[];for(key=0;key<errorObject.length;key++){val=errorObject[key];if(uniqueValues.indexOf(val)===-1)
uniqueValues.push(CleanUpErrorMessage(val));}
if(typeof s.pageName!=="undefined"&&s.pageName.indexOf("Product: PDP:")>=0){var productID=_dsgTag.DataLayer.GetValue("ProductID");s.products=";"+productID+";;;;";s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);}
s.eVar44=uniqueValues.join(",")+((typeof eventData.ClickOriginated!=="undefined"&&eventData.ClickOriginated==="PayPal")?":PayPal":"");s.prop23=s.pageName;s.prop24=s.prop2;s.linkTrackEvents=s.apl(s.linkTrackEvents,"event20",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar44",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop55",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop23",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop24",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
s.events=backupEvents;s.eVar44="";}});var lowStockFired=false;var nearMeFired=false;var notifyMeFired=false;var recentSKU="";analyticsEvents.push({"name":"SKUResolve","delay":true,"handler":function(eventObject,eventData){s.origEvents=s.events;eventsFired=[];var ecode=eventData.ecode;if(typeof eventData.sku!=="undefined"){var sku=eventData.sku.id;if(!lowStockFired&&(eventData.lowStockShipMessageShown||eventData.lowStockBopisMessageShown)){lowStockFired=true;}
if(typeof eventData.lowStockNearbyStoresCount!=="undefined"&&eventData.lowStockNearbyStoresCount>0&&!eventData.lowStockBopisMessageShown){if(!nearMeFired){}
_dsgTag.LowStockBOPISStore=eventData.lowStockNearbyStoresCurrentStoreNumber;_dsgTag.LowStockBOPISStoreSuggestionCount=eventData.lowStockNearbyStoresCount;nearMeFired=true;}else if(sku!==recentSKU){_dsgTag.LowStockBOPISStore="";_dsgTag.LowStockBOPISStoreSuggestionCount="";}
recentSKU=sku;if(eventsFired.length>0){eventsVar=[];for(var i=0;i<eventsFired.length;i++){s.events=s.apl(s.events,"event"+eventsFired[i],",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event"+eventsFired[i],",",2);eventsVar.push("event"+eventsFired[i]+"=1");}
s.products=s.buildProductString(ecode,0,0,eventsVar,["evar61="+sku]);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.triggerEvent(eventObject.type);}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars
s.events=s.origEvents;}}});analyticsEvents.push({"name":"TrackOrder","delay":true,"handler":function(eventObject,eventData){s.prop16=eventData.OrderID;s.events=s.apl(s.events,"event11",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop16",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});analyticsEvents.push({"name":"UpdateCart","delay":true,"handler":function(eventObject,eventData){if(typeof(eventData)!="undefined"&&typeof eventData.UpdateAttribute!=="undefined"){var type=eventData.UpdateAttribute;switch(type){case"Quantity":var total=parseFloat(_dsgTag.DataLayer.GetValue("OrderTotal"));var ship=parseFloat(_dsgTag.DataLayer.GetValue("OrderShippingRevenue"));var tax=parseFloat(_dsgTag.DataLayer.GetValue("OrderTax"));subtotal=(total-tax-ship);if(isNaN(subtotal)){subtotal=0;}
s.eVar11=subtotal.toFixed(2);s.eVar18=_dsgTag.DataLayer.GetValue("CartItemQuantity");s.eVar96=_dsgTag.DataLayer.GetValue("OrderShippingRevenue");s.eVar97=_dsgTag.DataLayer.GetValue("OrderShippingDiscount");s.products=_dsgTag.FunctionRepository.GetCartProductString();s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar11",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar18",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar96",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar97",",",2);s.triggerEvent(eventObject.type);break;case"FulfillmentMethod":var updateValue=eventData.UpdateValue;var productID=eventData.UpdateProductID;var sku=eventData.UpdateProductSKU;var const_fulfillmentStandard="Ship to Customer";var const_fulfillmentBOPIS="In Store Pickup (BOPIS)";var item=";"+productID+";;;;";item+="evar61="+sku+"|";switch(updateValue.toLowerCase()){case"ship to customer":item+="evar51="+const_fulfillmentStandard+"|";item+="evar40=Ship To Customer";break;case"in store pickup":case"in store pick up":case"in store pick up (bopis)":item+="evar51="+const_fulfillmentBOPIS+"|";var storeNumber="Unknown";item+="evar40="+storeNumber;break;}
s.products=item;s.events=s.apl(s.events,"event52",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event52",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent(eventObject.type);break;}}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars}});for(var i=0;i<analyticsEvents.length;i++){var event=analyticsEvents[i];_dsgTag.EventHandlers.AddEventHandler(event.name,event.handler,event.delay);}
_dsgTag.prevRefinements=[];_dsgTag.queuedStoreSearches=[];_dsgTag.searchEventPagePixelFired=false;_dsgTag.searchEventMboxFired=false;var GetPageName=function(){var pageName="";if(window.location.href.indexOf("/f/")>=0){var a="";var prefix=_dsgTag.currentWebsite.Abbreviation+": Shopping: ";var url=_dsgTag.DataLayer.GetValue("PageURL");var pathCharacter=url.split("/")[url.split("/").length-2];var categoryID=_dsgTag.DataLayer.GetValue("CategoryID");var categoryName=_dsgTag.DataLayer.GetValue("CategoryName");var familyID=_dsgTag.DataLayer.GetValue("FamilyID");var familyName=_dsgTag.DataLayer.GetValue("FamilyName");var suffix="";if(pathCharacter==="c"&&categoryID&&categoryName)
suffix="Category: "+categoryID+" - "+categoryName;else if(pathCharacter==="f"&&familyID&&familyName)
suffix="Family: "+familyID+" - "+familyName;else if(pathCharacter==="d"&&categoryID&&categoryName)
suffix="Department: "+categoryID+" - "+categoryName;else if(pathCharacter==="f"&&categoryID&&categoryName)
suffix="Family: "+categoryID+" - "+categoryName;if(suffix)
a=prefix+suffix;pageName=a;}else{pageName=_dsgTag.currentWebsite.Abbreviation+": Shopping: Search: Results";}
return pageName;};var TriggerShippingMethodUpdateEvent=function(checkoutData){try{var shipData=[];var i,j,k;checkoutData=JSON.parse(JSON.stringify(checkoutData));if(typeof checkoutData.checkout.shipping.information=="undefined"&&typeof checkoutData.EDD!=="undefined"){checkoutData.checkout.shipping.information=checkoutData.EDD;}
checkoutData=checkoutData.checkout.shipping;var ParseDateText=function(input){deliveryDate=input;if(deliveryDate){if(deliveryDate.indexOf("Est. Delivery:")>=0){deliveryDate=deliveryDate.split(":")[1];deliveryDate=deliveryDate.trim().split("-")[1]||deliveryDate;deliveryDate=deliveryDate.trim().split(" ")[1];}else if(deliveryDate.indexOf(",")>=0){deliveryDate=deliveryDate.split(",")[1];}
month=parseInt(deliveryDate.split("/")[0])-1;day=parseInt(deliveryDate.split("/")[1]);today=(new Date(Date.now()));deliveryDate=new Date(today.getFullYear()+(month<today.getMonth()?1:0),month,day);deliveryDate=(deliveryDate.getMonth()+1)+"/"+deliveryDate.getDate()+"/"+deliveryDate.getFullYear();}else{deliveryDate="Not Available";}
return deliveryDate;};for(var i=0;i<checkoutData.available.groups.length;i++){var currentAvailable=checkoutData.available.groups[i];var currentSelected,currentInformation;for(var j=0;j<checkoutData.selected.groups.length;j++){if(checkoutData.selected.groups[j].group_number==currentAvailable.group_number){currentSelected=checkoutData.selected.groups[j];}}
if(typeof checkoutData.information.estimated_delivery.analytics==="string"){checkoutData.information.estimated_delivery.analytics=JSON.parse(checkoutData.information.estimated_delivery.analytics);}
for(var j=0;j<checkoutData.information.estimated_delivery.groups.length;j++){if(checkoutData.information.estimated_delivery.groups[j].group_number==currentAvailable.group_number){currentInformation=checkoutData.information.estimated_delivery.groups[j];}}
for(var j=0;j<currentAvailable.items.length;j++){var productID=currentAvailable.items[j].sku;var shipMethod=currentSelected.mode.description;var shipMethodIndex=-1;var deliveryDate="";var additionalInfo={};for(var k=0;k<currentAvailable.modes.length;k++){if(currentAvailable.modes[k].description===shipMethod){shipMethodIndex=k;break;}}
if(typeof currentInformation.dates!=="undefined"){deliveryDate=currentInformation.dates[shipMethodIndex];}else if(typeof currentInformation.edd_skus!=="undefined"){for(var l=0;l<currentInformation.edd_skus.length;l++){if(currentInformation.edd_skus[l].sku===productID){deliveryDate=currentInformation.edd_skus[l].dates[shipMethodIndex];if(typeof checkoutData.information.estimated_delivery.analytics!=="undefined"){for(var m=0;m<checkoutData.information.estimated_delivery.analytics.analyticsList.length;m++){if(currentInformation.edd_skus[l].sku.toString()===checkoutData.information.estimated_delivery.analytics.analyticsList[m].sku.toString()){additionalInfo=checkoutData.information.estimated_delivery.analytics.analyticsList[m];}}}}}}
if(deliveryDate){deliveryDate=ParseDateText(deliveryDate);shipData.push({"ProductID":productID.trim(),"ShippingMethod":shipMethod.trim(),"EstimatedDeliveryDate":deliveryDate.trim(),"EDDReduction":"","AdditionalAnalyticsInfo":additionalInfo});}}}
_dsgTag.EventHandlers.TriggerEvent("ShippingMethodUpdated",{"ProductShippingMethods":shipData});}catch(ex){_dsgTag.HelperFunctions.DebugLog("Error triggering fake ShippingMethodUpdated event: "+ex.message,true);}};var FireStoreSearchPixel=function(eventData){if(typeof(eventData)!="undefined"){s.events='';s.events=s.apl(s.events,"event2",",",2);s.events=s.apl(s.events,"event33",",",2);var closestDistance=eventData.ServedStoreDistances.length>=1?eventData.ServedStoreDistances[0]:"";var closestStore=eventData.ServedStoreList.length>=1?eventData.ServedStoreList[0]:"";var city=eventData.LocationSearchCity.toLowerCase();var state=eventData.LocationSearchState.toLowerCase();var zipCode=eventData.LocationSearchZip.toLowerCase();var results=eventData.ServedStoreCount;if(results==0){s.events=s.apl(s.events,"event35",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event35",",",2);}
s.products=";";s.prop6=closestDistance;s.eVar9="Store Locator Search";s.eVar5=zipCode;if(eventData.LocationSearchType==="Auto"){s.eVar5+=" (Auto)";}
s.eVar38=closestStore;s.events=s.apl(s.events,"event67="+results,",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event2",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event33",",",2);s.linkTrackEvents=s.apl(s.linkTrackEvents,"event67",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"prop6",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar9",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar5",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"eVar38",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"products",",",2);s.linkTrackVars=s.apl(s.linkTrackVars,"events",",",2);s.triggerEvent("AJAXStoreSearch");}
s.linkTrackEvents="None";s.linkTrackVars=s.baseLinkTrackVars};var storeLocatorIndex=0;setInterval(function(){if(_dsgTag.queuedStoreSearches.length>storeLocatorIndex){FireStoreSearchPixel(_dsgTag.queuedStoreSearches[storeLocatorIndex]);storeLocatorIndex++;}},500);_dsgTag.HelperFunctions.BindDocumentClickEventWithAdditionalSelector("input.store-pickup-store-select-radio, .set-store-btn, .set-store, .store-pickup, div.store-details button.ng-star-inserted",function(){_dsgTag.EventHandlers.TriggerEvent("ChangePreferredStore");});}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.pageType']=='Order Confirmation')||(utag.data['js_page._dsgTag.isAngular']=='1'&&utag.data['js_page._dsgTag.isAOS']=='0')){_dsgTag.FunctionRepository.RegisterTag("BazaarVoice",_dsgTag.InitTimings.WindowComplete,[{t:"aos",c:"=",v:true},{t:"page",c:"=",v:"Order Confirmation"}],function(){var clientName="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{clientName="dsg";break;}
case _dsgTag.Websites.GolfGalaxy:{clientName="golfgalaxy";break;}
case _dsgTag.Websites.FieldAndStream:{clientName="field-stream";break;}}
function FireBVConversionPixel(d){var scriptURLBazaarVoice="https://apps.bazaarvoice.com/deployments/"+clientName+"/main_site/"+((_dsgTag.isProduction)?("production"):("staging"))+"/en_US/bv.js";_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(scriptURLBazaarVoice,function(){_dsgTag.DataLayer.PassValuesToFunction(["OrderID","ProductListArray","OrderTotal","OrderTax","OrderShippingRevenue","BillingState"],function(orderID,products,orderTotal,taxTotal,shippingTotal,state){var productArray=[];var product={};for(var i=0;i<products.length;i++){product={};if(typeof products[i]!=="undefined"&&typeof products[i].ProductID!=="undefined")
product.sku=products[i].ProductID;if(typeof products[i]!=="undefined"&&typeof products[i].ProductName!=="undefined")
product.name=products[i].ProductName;if(typeof products[i]!=='undefined'&&products[i].CurrentPricePerUnit&&products[i].DistributedOrderDiscountPerUnit)
product.price=parseFloat(products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit).toFixed(2);if(typeof products[i]!=="undefined"&&typeof products[i].ProductQty!=="undefined")
product.quantity=products[i].ProductQty;productArray.push(product);}
var orderInfoObject={"orderId":orderID,"currency":"USD","items":productArray,"tax":parseFloat(taxTotal).toFixed(2),"shipping":parseFloat(shippingTotal).toFixed(2),"total":(parseFloat(orderTotal)-parseFloat(taxTotal)-parseFloat(shippingTotal)).toFixed(2),"email":"test@test.com","state":state};try{BV.pixel.trackTransaction(orderInfoObject);}catch(ex){_dsgTag.HelperFunctions.DebugLog("BazaarVoice ROI pixel - problem sending order info to BV: "+ex.message,true);}},d);});}
if(clientName){_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){FireBVConversionPixel(d);}});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&utag.data['js_page._dsgTag.isAOS']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Bing",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var bingID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{bingID="5566415";break;}
case _dsgTag.Websites.GolfGalaxy:{bingID="5599825";break;}
case _dsgTag.Websites.FieldAndStream:{bingID="5599826";break;}}
if(bingID){var FireBingPageViewPixel=function(){var o={ti:bingID};o.q=window.uetq;window.uetq=new UET(o);window.uetq.push("pageLoad");};var FireBingEventPixel=function(d){switch(_dsgTag.pageType){case _dsgTag.PageTypes.Home:{var parameterObject={};parameterObject['ecomm_prodid']="";parameterObject['ecomm_pagetype']="home";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);break;}
case _dsgTag.PageTypes.Search:{var parameterObject={};parameterObject['ecomm_prodid']="";parameterObject['ecomm_pagetype']="searchresults";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);break;}
case _dsgTag.PageTypes.Category:case _dsgTag.PageTypes.Family:{var parameterObject={};parameterObject['ecomm_prodid']="";parameterObject['ecomm_pagetype']="category";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);break;}
case _dsgTag.PageTypes.ProductDetails:{_dsgTag.DataLayer.PassValuesToFunction(["ProductDetails"],function(productDetails){if(productDetails&&productDetails.length&&productDetails.length>0){var parameterObject={};parameterObject['ecomm_prodid']=productDetails[0].ProductID;parameterObject['ecomm_pagetype']="product";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);}},d);break;}
case _dsgTag.PageTypes.Cart:{_dsgTag.DataLayer.PassValuesToFunction(["ProductIDList"],function(IDs){var parameterObject={};if(IDs&&IDs.length>0){parameterObject['ecomm_prodid']=IDs;}
parameterObject['ecomm_pagetype']="cart";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);},d);break;}
case _dsgTag.PageTypes.OrderConfirmation:{_dsgTag.DataLayer.PassValuesToFunction(["ProductIDList"],function(IDs){var parameterObject={};if(IDs&&IDs.length>0){parameterObject['ecomm_prodid']=IDs;}
parameterObject['ecomm_pagetype']="purchase";window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);},d);_dsgTag.DataLayer.PassValuesToFunction(["OrderTotal","OrderTax","OrderShippingRevenue"],function(orderTotal,taxTotal,shippingTotal){revenue=parseFloat(orderTotal-taxTotal-shippingTotal).toFixed(2);var parameterObject={};parameterObject['currency']="USD";parameterObject['revenue_value']=revenue;window.uetq=window.uetq||[];window.uetq.push('event','',parameterObject);},d);break;}}};_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://bat.bing.com/bat.js",function(){_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){FireBingPageViewPixel(d);FireBingEventPixel(d);});});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(!/^Chat/i.test(utag.data['js_page._dsgTag.pageType'])){_dsgTag.FunctionRepository.RegisterTag("BlueTriangle",_dsgTag.InitTimings.Immediate,function(){var bttID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{switch(_dsgTag.experience){case"Kiosk":{bttID="dsg2aos";break;}
case"Mobile App":{bttID="dsg2app";break;}
default:{bttID=_dsgTag.isProduction?"dsg2":"dksperf";break;}}
break;}
case _dsgTag.Websites.GolfGalaxy:{bttID="golfgalaxy2";break;}
case _dsgTag.Websites.FieldAndStream:{bttID="fieldandstream";break;}
case _dsgTag.Websites.Calia:{bttID="calia500z";break;}}
if(bttID){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("//"+bttID+".btttag.com/btt.js");}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.isIFrame']=='0'&&utag.data['js_page._dsgTag.isAOS']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType'])&&utag.data['dom.domain'].toString().indexOf('protips')<0)){_dsgTag.FunctionRepository.RegisterTag("Certona",_dsgTag.InitTimings.WindowComplete,[{t:"domain",c:"*!=",v:"Protips"},{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){if(_dsgTag.currentWebsite!==_dsgTag.Websites.Calia){InititalizeCertona();var EDL=_dsgTag.DataLayer.GetValue;var w=_dsgTag.currentWebsite;var e=_dsgTag.experience;var u=EDL("PageURL");var currentRecommendationData,currentPage;if(e==="Mobile App")
e="Mobile";if(e==="Kiosk")
e="Desktop";var BuildRecommendationObject=function(){var s=window._dsgTag.Websites;var UniversalExperience={};UniversalExperience.P={"Home":{},"Category":{"D":["CategoryID"],"EV":function(){return(_dsgTag.HelperFunctions.GetQueryStringValue("rrec")=="true")?"category_r":"category";}},"Family":{"D":["FamilyID"],"EV":function(){return(_dsgTag.HelperFunctions.GetQueryStringValue("rrec")=="true")?"category_r":"category";}},"Search":{"D":["InternalSearchTerm"]},"FailedSearch":{"D":["InternalSearchTerm"]},"ProductDetails":{"D":["ProductID","ProductPageTemplateType","ProductDetails"],"EV":function(){return(_dsgTag.HelperFunctions.GetQueryStringValue("rrec")=="true")?"product_r":"product";}},"MyAccount":{},"OrderTracking":{},"StoreLocatorLocalStore":{"D":["StoreLocatorStoreNumber"]},"Cart":{"EN":function(){return _dsgTag.DataLayer.GetValue("CartItemQuantity")==0;},"EV":"viewcart","E":"cartempty_rr"},"OrderConfirmation":{"D":["ProductIDList","OrderID","ProductQuantityList","ProductPriceList","OrderTax","OrderShippingRevenue","OrderTotal"],"E":(w===s.DicksSportingGoods&&e==="Desktop"?"":"orderconfirm_rr"),"EV":"purchase"},"Proxy":{"D":function(){if(EDL("CategoryID")){return["CategoryName","CategoryID"];}else if(EDL("FamilyID")){return["FamilyName","FamilyID"];}
return[];},"EV":function(){return(_dsgTag.HelperFunctions.GetQueryStringValue("rrec")=="true")?"category_r":"category";}},"RecHub":{"T":/\/recommended-for-you/i,"E":"rechub1_rr;rechub2_rr;rechub3_rr;rechub4_rr;rechub5_rr;rechub6_rr;rechub7_rr;rechub8_rr;rechub9_rr;rechub10_rr;rechub11_rr;rechub12_rr;rechub13_rr"},"Finder":{"T":/\/((\w|-)+)-finder$/i,},"FinderResults":{"T":/\/((\w|-)+)-finder-results/i,"E":function(){var finder=/\/((\w|-)+)-finder-results/i.exec(u)[1];switch(finder.toLowerCase()){case"bat":return"DSGFinder2_rr";case"backpack":return"BackpackFinder2_rr";case"sports-bra":return"sportsbrafinder2_rr";}
return"";},"I":function(){var finder=/\/((\w|-)+)-finder-results/i.exec(u)[1];switch(finder.toLowerCase()){case"bat":return e==="Desktop"?"Bat_Finder":"Bat_Finder_Mobile";case"backpack":return e==="Desktop"?"Backpack_Finder":"Backpack_Finder_Mobile";case"sports-bra":return e==="Desktop"?"sportsbra_finder":"sportsbra_finder_mobile";}
return"";},"EV":"surveyresults"},"Holiday":{"T":/\/s\/(holiday|cyber-week|black-friday|starts-here|back-to-school)/i,"E":"holiday_rr;holiday2_rr;holiday3_rr;holiday4_rr;holiday5_rr;holiday6_rr"},"Coupons":{"T":/\/s\/((promotion-)?coupons)/i,"E":"coupon_rr;coupon2_rr"},"Golfathon":{"T":/\/s\/golfathon/i,"E":"golf_rr"},"Callaway":{"T":/\/s\/callawaywins/i,"E":function(){return _dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy?"cart_rr":"golf_rr";}},"EmailSignup":{"T":/\/s\/text-program-details/i,"E":"signup_rr"},"InStorePickup":{"T":/\/s\/in-store-pickup/i,"E":"collections1_rr,collections2_rr,collections3_rr,collections4_rr,collections5_rr,collections6_rr"}};var siteSpecificExperiences=[{"S":s.DicksSportingGoods,"E":"Desktop","I":"dickssportinggoods04","C":"DSGShoppingPathJS.certonaRecommendations","P":{"Home":{"E":"home3_rr;home_rr;home1_rr;home2_rr;contenthome1_rr"},"Category":{"E":"category_rr"},"Family":{"E":"family1_rr;family2_rr;family4_rr"},"Search":{"E":"search_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr;contentsearch1_rr"},"ProductDetails":{"E":function(){var out="";if(EDL("ProductAvailability")==="Out of Stock"){return"oosproduct_rr;oosproduct2_rr;oosproduct3_rr";}else if(/^(CSE|SEM|SNS):/i.test(_dsgTag.HelperFunctions.GetQueryStringValue("camp"))||_dsgTag.DataLayer.GetValue("ReferringPageURL").toLowerCase().indexOf("google")>=0||_dsgTag.HelperFunctions.GetQueryStringValue("EmailPLA")=="true"){out=(typeof window.varResponsive!=="undefined")?"product1landing_rr;pdplanding_rr;productlanding_rr;product2landing_rr":"product1_rr;pdplanding_rr;product_rr;product2_rr";}else{out="product1_rr;product3_rr;product_rr;product2_rr";}
if(EDL("ProductPageTemplateType")=="Bundle"){out=out.replace("product_rr","product4_rr");}
return out;}},"StoreLocatorLocalStore":{"E":"store_rr"},"Proxy":{"E":function(){if(EDL("CategoryID")){return"sdcategory_rr";}else if(EDL("FamilyID")){return"sdfamily1_rr";}
return[];}}}},{"S":s.DicksSportingGoods,"E":"Mobile","I":"dickssportinggoods05","C":"certonaRecommendations","P":{"Home":{"E":"home3_rr;home_rr;home1_rr;home2_rr;mcontenthome1_rr"},"Category":{"E":"category_rr"},"Family":{"E":"family1_rr;family_rr;family2_rr;family4_rr"},"Search":{"E":"search_rr;search2_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr;mcontentsearch1_rr"},"ProductDetails":{"E":function(){var out="";if(EDL("ProductAvailability")==="Out of Stock"){return"oosproduct_rr;oosproduct2_rr;oosproduct3_rr;product1_rr;product_rr;product2_rr";}else if(/^(CSE|SEM|SNS):/i.test(_dsgTag.HelperFunctions.GetQueryStringValue("camp"))||_dsgTag.DataLayer.GetValue("ReferringPageURL").toLowerCase().indexOf("google")>=0||_dsgTag.HelperFunctions.GetQueryStringValue("EmailPLA")=="true"){out=(typeof window.varResponsive!=="undefined")?"product1landing_rr;pdplanding_rr;productlanding_rr;product2landing_rr":"product1_rr;pdplanding_rr;product_rr;product2_rr";}else{out="product1_rr;product3_rr;product_rr;product2_rr";}
if(EDL("ProductPageTemplateType")=="Bundle"){out=out.replace("product_rr","product4_rr");}
return out;}},"StoreLocatorLocalStore":{"E":"store_rr"},"Proxy":{"E":function(){if(EDL("CategoryID")){return"sdcategory_rr";}else if(EDL("FamilyID")){return"sdfamily1_rr";}
return[];}}}},{"S":s.GolfGalaxy,"E":"Desktop","I":"golfgalaxy01","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Category":{"E":"category_rr"},"Family":{"E":"family1_rr;family_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr;product2_rr":"product1_rr;oosproduct_rr;product_rr;product2_rr");}}}},{"S":s.GolfGalaxy,"E":"Mobile","I":"golfgalaxy02","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Search":{"E":"search_rr;search2_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr":"product1_rr;oosproduct_rr;product_rr");}}}},{"S":s.GolfGalaxy,"E":"Tablet","I":"golfgalaxy03","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Family":{"E":"family1_rr;family_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr;product2_rr":"product1_rr;oosproduct_rr;product_rr;product2_rr");}}}},{"S":s.FieldAndStream,"E":"Desktop","I":"fs01","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Category":{"E":"category_rr"},"Family":{"E":"family1_rr;family_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr;product2_rr":"product1_rr;oosproduct_rr;product_rr;product2_rr");}}}},{"S":s.FieldAndStream,"E":"Mobile","I":"fs02","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Search":{"E":"search_rr;search2_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr":"product1_rr;oosproduct_rr;product_rr");}}}},{"S":s.FieldAndStream,"E":"Tablet","I":"fs03","C":"certonaRecommendations","P":{"Home":{"E":"home1_rr;homeratings_rr"},"Family":{"E":"family1_rr;family_rr"},"FailedSearch":{"E":"nosearch1_rr;nosearch_rr"},"ProductDetails":{"E":function(){return(EDL("ProductAvailability")!=="Out of Stock"?"product1_rr;product3_rr;product_rr;product2_rr":"product1_rr;oosproduct_rr;product_rr;product2_rr");}}}}];for(var i in siteSpecificExperiences){if(siteSpecificExperiences[i].S===w&&siteSpecificExperiences[i].E===e){UniversalExperience.I=siteSpecificExperiences[i].I;UniversalExperience.C=siteSpecificExperiences[i].C;for(var key in siteSpecificExperiences[i].P){for(var property in siteSpecificExperiences[i].P[key]){if(typeof UniversalExperience.P[key]==="undefined"){UniversalExperience.P[key]={};}
UniversalExperience.P[key][property]=siteSpecificExperiences[i].P[key][property];}}
break;}}
return UniversalExperience;};var GetPageData=function(recommendationData){for(var key in recommendationData.P){if(typeof _dsgTag.PageTypes[key]!=="undefined"&&_dsgTag.pageType===_dsgTag.PageTypes[key]){return recommendationData.P[key];}else if(recommendationData.P[key].T){if(typeof recommendationData.P[key].T==="function"){if(recommendationData.P[key].T()){return recommendationData.P[key];}}else if(recommendationData.P[key].T instanceof RegExp){if(recommendationData.P[key].T.test(u)){return recommendationData.P[key];}}}}
return null;};var FireResX=function(pageData){window.resx={};resx.host=_dsgTag.isProduction||window.location.href.indexOf("meta")>=0||window.location.href.indexOf("delta")>=0?"www.res-x.com":"qa.res-x.com";resx.appid=currentRecommendationData.I;if(id=_dsgTag.CustomerIDs.MCID||_dsgTag.CustomerIDs.DeviceID){resx.customerid=id;}
resx.top1=1e5;resx.top2=1e5;for(var key in pageData){if(typeof pageData[key]!=="undefined"){resx[key]=pageData[key];}}
if(resx.rrelem){resx.rrnum=20;resx.rrec=true;resx.rrcall=currentRecommendationData.C;}
try{if(_dsgTag.experience==="Mobile"&&_dsgTag.pageType===_dsgTag.PageTypes.FailedSearch){var YMAL=document.querySelectorAll('.bb-certona[data-scheme="family_rr"]')[0];YMAL.setAttribute("data-scheme","nosearch_rr");YMAL.setAttribute("data-title","You May Also Like");YMAL.classList.remove("recently-viewed");YMAL.classList.remove("certona-carousel");YMAL.classList.remove("show-for-medium");var recent=document.querySelectorAll('.bb-certona[data-scheme="family1_rr"]')[0];recent.setAttribute("data-scheme","nosearch1_rr");var cats=document.querySelectorAll('.bb-certona[data-scheme="sdfamily1_rr"]')[0];cats.setAttribute("data-scheme","mcontentsearch1_rr");cats.setAttribute("data-title","Top Cateogories For You");cats.classList.remove("recently-viewed");}}catch(ex){}
_dsgTag.resxPixels=_dsgTag.resxPixels||[];_dsgTag.resxPixels.push(resx);certonaResx.run();};var FireCustomRecommendation=function(pageData){var baseURL="https://main-productrecommendations.apps.an01.pcf.dcsg.com/recommendations?";var queryParams=[];for(var key in pageData){if(typeof pageData[key]!=="undefined"){switch(key){case"itemid":queryParams.push("ei="+pageData[key]);break;case"rrelem":queryParams.push("sc="+pageData[key]);break;}}}
queryParams.push("no=10");var URL=baseURL+queryParams.join("&");_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(URL);}
window.callCertona=function(){};var GetPageProperty=function(page,property){return(typeof page[property]==="function")?page[property]():page[property];};var initialProcessComplete=false;var ProcessAddToCart=function(event,data){if(typeof data.data!=="undefined"){data={"ProductsAddedToCart":[data.data],"NewCart":"N"};}
var pageValues={};var mainItem=false;var products=[];var stores=[];pageValues.event="addtocart_op";if(typeof data.ProductsAddedToCart!=="undefined"){for(var i=0;i<data.ProductsAddedToCart.length;i++){mainItem=mainItem||(typeof data.ProductsAddedToCart[i].IsMainItem==="undefined"||data.ProductsAddedToCart[i].IsMainItem);products.push(data.ProductsAddedToCart[i].ProductID);if(data.ProductsAddedToCart[i].FulfillmentStore){stores.push(data.ProductsAddedToCart[i].FulfillmentStore);}}}
if(products.length>0){pageValues.itemid=products.join(";");if(stores.length>0){pageValues.rrqs="storeid="+stores.join(";");}
FireResX(pageValues);}};var viewCartFired=false;var ProcessCartDataUpdated=function(event,data){var pageValues={};pageValues.rrelem="cart2_rr";if(!viewCartFired){pageValues.event="viewcart";viewCartFired=true;}
if(typeof data.ProductArray!=="undefined"){var products=[];var prices=[];pageValues.rrqs=[];for(var i=0;i<data.ProductArray.length;i++){products.push(data.ProductArray[i].ProductID);prices.push(parseFloat(data.ProductArray[i].CurrentPricePerUnit)*parseInt(data.ProductArray[i].ProductQty));if(data.ProductArray[i].FulfillmentStore&&pageValues.rrqs.length===0){pageValues.rrqs.push("storeno="+data.ProductArray[i].FulfillmentStore);}}
pageValues.itemid=products.join(";");try{pageValues.rrqs.push("carttotal="+(parseFloat(data.OrderTotal)-parseFloat(data.TaxTotal)-parseFloat(data.ShippingTotal)).toFixed(2));}catch(ex){}
pageValues.rrqs=pageValues.rrqs.join("&");}
FireResX(pageValues);};var ProcessTrackOrder=function(event,data){var pageValues={};pageValues.rrelem="ordertracking_rr";if(typeof data.ProductArray!=="undefined"){var products=[];for(var i=0;i<data.ProductArray.length;i++){products.push(data.ProductArray[i].ProductID);}
pageValues.itemid=products.join(";");}
FireResX(pageValues);};var ProcessReturns=function(event,data){var pageValues={};pageValues.rrelem="returns_rr";if(typeof data.ProductArray!=="undefined"){var products=[];for(var i=0;i<data.ProductArray.length;i++){products.push(data.ProductArray[i].ProductID);}
pageValues.itemid=products.join(";");}
FireResX(pageValues);};var ProcessNotifyMe=function(event,data){var pageValues={};pageValues.rrelem="backinstock_rr";pageValues.itemid=data.ecode;var rreqValues=[];if(typeof data.sku.defAttributes!=="undefined"&&typeof data.sku.defAttributes.length!=="undefined"){for(var i=0;i<data.sku.defAttributes.length;i++){if(data.sku.defAttributes[i].name.toLowerCase().indexOf("size")>=0){rreqValues.push("size="+data.sku.defAttributes[i].value);break;}}}
if(typeof data.bopisNotification!=="undefined"&&data.store){rreqValues.push("storeid="+data.store);}
for(var i=0;i<rreqValues;i++){rreqValues[i]=encodeURIComponent(rreqValues[i]);}
pageValues.rrqs=rreqValues.join("&");FireResX(pageValues);};var ProcessCertona=function(object,data){u=EDL("PageURL");currentRecommendationData=BuildRecommendationObject();currentPage=GetPageData(currentRecommendationData);if(currentPage!==null){var enabled=GetPageProperty(currentPage,"EN");if(typeof enabled=="undefined"||enabled){var EDLNames=GetPageProperty(currentPage,"D")||[];EDLNames.push("AOSStoreID","SavedStoreNumber","ZipCodeEstimation");_dsgTag.DataLayer.PassValuesToFunction(EDLNames,function(){var D={};for(var i=0;i<arguments.length;i++){D[EDLNames[i]]=arguments[i];}
var AOSStoreNumber=D["AOSStoreID"];var SavedStoreNumber=D["SavedStoreNumber"];var ZipCodeEstimation=D["ZipCodeEstimation"];var pageValues={};var rreqValues=[];pageValues.rrelem=GetPageProperty(currentPage,"E");pageValues.event=GetPageProperty(currentPage,"EV");pageValues.itemid=GetPageProperty(currentPage,"I");pageValues.externalPageHit=(!document.referrer||document.referrer.indexOf(_dsgTag.currentWebsite.Domain)<0);if(AOSStoreNumber){pageValues.storeNumber=AOSStoreNumber;}
if(SavedStoreNumber&&!D["StoreLocatorStoreNumber"]&&pageValues.event!=="surveyresults"){rreqValues.push("storeid="+SavedStoreNumber);}
if(typeof s!=="undefined"&&typeof s.eVar92!=="undefined"){var channelRules={"lia":/^CSE\|.*?\|.*?(lia|mk_pla_454).*?\|/i,"pla":/^CSE\|.*?\|.*?(PLA|pla|bingshoppingpaid).*?\|/i,"sem":/^SEM/i,"seo":/^SEO/i,"dabasocial":/^SNS\|.*?\|.*?(daba).*?\|/i,"dpasocial":/^SNS\|.*?\|.*?(dpa).*?\|/i,"othersocial":/^SNS/i}
for(var key in channelRules){if(channelRules[key].test(s.eVar92)){rreqValues.push("entrancesource="+key);break;}}}
if(D){if(D["InternalSearchTerm"]){rreqValues.push("SearchTerm="+D["InternalSearchTerm"]);}
if(D["FamilyID"]){rreqValues.push("categoryid="+D["FamilyID"]);pageValues.itemid=D["FamilyID"]+((pageValues.event==="category_r")?";"+(_dsgTag.HelperFunctions.GetQueryStringValue("contentid")?_dsgTag.HelperFunctions.GetQueryStringValue("contentid"):""):"");}else if(D["CategoryID"]){rreqValues.push("categoryid="+D["CategoryID"]);pageValues.itemid=D["CategoryID"]+((pageValues.event==="category_r")?";"+(_dsgTag.HelperFunctions.GetQueryStringValue("contentid")?_dsgTag.HelperFunctions.GetQueryStringValue("contentid"):""):"");}
if(D["ProductID"]){pageValues.itemid=D["ProductID"];}else if(D["ProductIDList"]){pageValues.itemid=D["ProductIDList"].join(";");}
if(D["ProductPageTemplateType"]&&D["ProductPageTemplateType"].toLowerCase()==="bundle"&&D["ProductDetails"]&&D["ProductDetails"].length>1){for(var i=0;i<D["ProductDetails"].length;i++)
pageValues.itemid+=";"+D["ProductDetails"][i].ProductID;}
if(D["StoreLocatorStoreNumber"]){rreqValues.push("storeid="+D["StoreLocatorStoreNumber"]);}
if(D["ProductQuantityList"]){pageValues.qty=D["ProductQuantityList"].join(";");}
if(D["ProductPriceList"]&&D["ProductQuantityList"]){prices=D["ProductPriceList"];for(var j=0;j<prices.length;j++){prices[j]=prices[j]*D["ProductQuantityList"][j];}
currentValue=prices.join(";");pageValues.price=currentValue;}
if(D["OrderTotal"]&&D["OrderTax"]&&D["OrderShippingRevenue"]){pageValues.total=(parseFloat(D["OrderTotal"])-D["OrderTax"]-D["OrderShippingRevenue"]).toFixed(2);}
if(D["OrderID"]){pageValues.transactionid=D["OrderID"];}
}
for(var i=0;i<rreqValues;i++){rreqValues[i]=encodeURIComponent(rreqValues[i]);}
pageValues.rrqs=rreqValues.join("&");if(!_dsgTag.isProduction&&_dsgTag.pageType==_dsgTag.PageTypes.ProductDetails){var testSchemes=[];var schemesToTest=[];if(pageValues.rrelem){pageValues.rrelem=pageValues.rrelem.split(";");for(var i=0;i<pageValues.rrelem.length;i++){if(typeof Array.prototype.indexOf!=="undefined"&&schemesToTest.indexOf(pageValues.rrelem[i])>=0){testSchemes.push(pageValues.rrelem.splice(i,1));break;}}
pageValues.rrelem=pageValues.rrelem.join(";");}
if(typeof Object.assign!=="undefined"&&testSchemes.length>0){var testValues=Object.assign({},pageValues);testValues.rrelem=testSchemes.join(";");FireCustomRecommendation(testValues);}}
if(currentPage.C){currentRecommendationData.C=currentPage.C;}
FireResX(pageValues);},data);}}
if(!initialProcessComplete){_dsgTag.EventHandlers.AddEventHandler("AddToCart",ProcessAddToCart);_dsgTag.EventHandlers.AddEventHandler("CartDataUpdated",ProcessCartDataUpdated);_dsgTag.EventHandlers.AddEventHandler("TrackOrder",ProcessTrackOrder);_dsgTag.EventHandlers.AddEventHandler("NotifyMeStock",ProcessNotifyMe);}
initialProcessComplete=true;};_dsgTag.EventHandlers.AddEventHandler("NewPageView",ProcessCertona);}});function InititalizeCertona(){var certonaResx=function(){"use strict";var e,n="certonaResx.showResponse",r="",t,i,s=false,c,f,l,a,o,u;function d(e){return parseInt(e,10)}function x(e){try{var n;if(e!==undefined&&e!==null&&e!=="null"&&e!==""){n=true;return n}}catch(r){}return false}function m(){return resx.rrelem}function h(e){try{var n=null,r,t;if(x(e)){n=[];if(x(document.getElementById(e))){n[0]=e}else{t=e.replace(/[,;]/g,".").split(".");for(r=0;r<t.length;r+=1){if(t[r]!==""&&x(document.getElementById(t[r]))){n[r]=t[r]}else{n[r]=""}}}}return n}catch(i){}return null}function p(){try{var e,n,r;if(resx.rrelem!==undefined){r=h(m());if(r!==undefined&&r!==null){for(e=0;e<r.length;e+=1){if(r[e]!==""){n=document.getElementById(r[e])}else{n=null}if(x(n)){n.style.visibility="visible"}}}}}catch(t){}}function g(e,n){try{if(!s){s=true;r=e+"|"+(n.number!==undefined?n.number:"undefined")+"|"+(n.name!==undefined?n.name:"undefined")+"|"+(n.description!==undefined?n.description:"undefined")}}catch(t){}finally{p()}}function y(e){try{var n,r,t;if(document.cookie.length>0){n=document.cookie;r=n.indexOf(e+"=");if(r!==-1){r+=e.length+1;t=n.indexOf(";",r);if(t===-1){t=n.length}return decodeURIComponent(n.slice(r,t))}}}catch(i){g("",i)}return null}function R(e,n,r,t){try{var i=new Date;if(r!==null){i.setTime(i.getTime()+r*3600*1e3)}document.cookie=e+"="+encodeURIComponent(n)+(r!==null?"; expires="+i.toGMTString():"")+"; path=/"+(x(t)?"; domain="+t:"")}catch(s){g("",s)}}function v(e,n){try{var r;if(n!==undefined&&n!==null){for(r=0;r<n.length;r+=1){if(n[r]===e){return true}}}}catch(t){}return false}function k(){try{var e,n,r,t,c;n=resx.rrec!==undefined&&(resx.rrec===true||resx.rrec==="true")&&a==="1"&&resx.rrelem!==undefined&&resx.rrelem!==null&&!s;if(n){if(!i){n=false;c=h(m());if(c!==undefined&&c!==null){for(e=0;e<c.length;e+=1){if(x(c[e])){n=true;break}}}}if(n){if(!x(resx.useitems)){n=false;if(resx.rrnum!==undefined){r=resx.rrnum;r+="";r=r.replace(/,/g,";");t=r.split(";");for(e=0;e<t.length;e+=1){if(!isNaN(t[e])&&d(t[e])>0){n=true;break}}}}}}return n}catch(f){}return false}function N(e){try{var n,r="";e+="";for(n=e.length-1;n>=0;n-=1){r+=e.charAt(n)}return r}catch(t){}return""}function w(){try{var e,n,r,t,i;if(navigator.userAgent.toLowerCase().indexOf("mac")===-1){i=Math.floor(Math.random()*1e15);i+=""}else{r=Math.floor(Math.random()*1e6);e=new Date;n=e.getTime();n+="";t=N(n);r+="";i=r+t.slice(0,11)}return i}catch(s){g("guid",s)}return""}function b(e,n,r,t,i,s){try{var c,f,l,a="",o,u,d,m,h,p,y,R,k,N,w="";if(typeof e==="object"){f=document.getElementsByTagName("a")}else{l=document.getElementById(e);if(x(l)){f=l.getElementsByTagName("a");a=e}}if(f!==undefined&&f!==null){p=[];if(n!==undefined&&n!==null){for(o=0;o<n.length;o+=1){if(n[o]!==""){h=document.getElementById(n[o])}else{h=null}if(x(h)){N=h.getElementsByTagName("a");for(d=0;d<N.length;d+=1){p.push(N[d])}}}}y=0;for(o=0;o<f.length;o+=1){if(y===s){break}c=f[o];if(x(c)){u="";k=encodeURIComponent(c);if(x(r)){k=k.match(r);k+=""}if(x(k)){u=k.match(t);u+=""}if(x(u)){if(!v(c,p)){m=k.match(i);m+="";R=u+encodeURIComponent("|")+a+encodeURIComponent("|")+(x(m)?m:"")+";";if(w.indexOf(R)===-1){w+=R;y+=1}}}}}}return w}catch(b){g("gpl",b)}return""}function I(e){try{t=true;var n,r,s,c;if(!i){for(n=0;n<e.Resonance.Response.length;n+=1){r=false;s=e.Resonance.Response[n].scheme;if(e.Resonance.Response[n].display==="yes"){r=true;c=document.getElementById(s);if(x(c)){c.innerHTML=e.Resonance.Response[n].output}}if(typeof resonanceResponseLoaded==="function"){resonanceResponseLoaded(s,r)}}if(typeof resonanceResponseLoadedAll==="function"){resonanceResponseLoadedAll()}}}catch(f){}finally{p()}}function C(){try{if(!t&&!i){if(e<2e3){e=e+10;window.setTimeout(certonaResx.checkCallback,10)}else{i=true;p()}}}catch(n){p()}}function E(e){try{var r="",t="",i;if(typeof e==="boolean"&&e===true){if(x(resx.rrcall)){r=resx.rrcall}else{r=n}}else if(typeof e==="string"){r=e}if(r.length>0){if(r===n){t="&cb="}else{t="&ccb="}t+=r}i=(x(resx.useitems)?"&ui="+resx.useitems:"&no="+resx.rrnum)+(x(resx.exitemid)?"&ex="+resx.exitemid:"")+(x(resx.rrqs)?"&"+resx.rrqs:"")+t;return i}catch(s){}return""}function B(){try{var e,n,r=window.location.hostname;if(x(r)){if(!r.match(/(\d{1,3}\.){3}\d{1,3}/)){e=r.split(".");if(e.length>1){r="."+e[e.length-2]+"."+e[e.length-1];n=/\.(co|com)\.\w{2}$/;if(r.toLowerCase().match(n)&&e.length>2){r="."+e[e.length-3]+r}}}return r}}catch(t){g("gsd",t)}return null}function T(e){try{return decodeURI(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}catch(n){}return null}function U(){try{var e,n="",r;for(e=0;e<51;e+=1){if(resx["cv"+e]!==undefined){r=resx["cv"+e];r+="";r=r.replace(/\+/g,"%2B");n+="&cv"+e+"="+encodeURIComponent(r)}}return n}catch(t){g("gcv",t)}return""}function L(v){try{var N={callback:false},I,C,E,U,L,S,M,O,q,A,D,$,j,G,_,H,K;if(v===undefined){v=N}else{for(U=0;U<N.length;U+=1){if(v[U]===undefined){v[U]=N[U]}}}s=false;r="";u="";o="";a="";f="";l="";c=false;t=false;i=false;e=0;I=B();$="RES_TRACKINGID";D="RES_SESSIONID";A="ResonanceSegment";if(window.location.search.indexOf("resxtrack=")>0&&!x(resx.trackingid)){u=T("resxtrack")}if(!x(resx.trackingid)){if(!isNaN(d(u))){R($,u,17520,I);if(!x(y($))){R($,u,null,I)}R(D,"",-1,I)}else{u=y($);if(isNaN(d(u))){u=w()}R($,u,17520,I);if(!x(y($))){R($,u,null,I)}}if(!x(resx.segment)){K=d(u);if(!isNaN(K)&&K>0){K+="";K=K.slice(1,6);K=d(K);j=d(resx.top1);G=d(resx.top2);_=d(resx.top3);H=1e5;if(!(isNaN(j)&&isNaN(G)&&isNaN(_))){if(isNaN(j)){j=0}if(isNaN(G)){G=j}if(isNaN(_)){_=G}if(K<j){a="1"}else if(K<G){a="2"}else if(K<_){a="3"}else if(K<H){a="4"}}}R(A,a,1440,I);if(!x(y(A))){R(A,a,null,I)}}}else{u=resx.trackingid}if(!x(resx.sessionid)&&!x(resx.trackingid)){o=y(D);if(!x(o)){o=w()}R(D,o,.5,I);if(!x(y(D))){R(D,o,null,I)}}else{o=resx.sessionid}if(x(resx.segment)){a=resx.segment;a+=""}if(isNaN(d(a))){a="1"}if(x(resx.pageid)){f=resx.pageid}else{f=w()}C=resx.links!==undefined?String(resx.links):"";if(x(C)){E=C.replace(/\,/g,";").replace(/\|/g,"%7C").split(";",50);for(U=0;U<E.length;U+=1){l+=E[U]+";"}}M=resx.maxl!==undefined&&!isNaN(d(resx.maxl))?d(resx.maxl):20;L=resx.lkmatch!==undefined?resx.lkmatch:"";S=resx.ltmatch!==undefined?resx.ltmatch:"";if(x(L)){O=resx.plkmatch!==undefined?resx.plkmatch:"";if(resx.rrelem!==undefined){q=h(m())}if(q!==undefined&&q!==null&&q.length>0){for(U=0;U<q.length;U+=1){if(x(q[U])){l+=b(q[U],null,O,L,S,50)}}}if(M>0){l+=b(document,q,O,L,S,M)}}if(typeof v.callback==="string"&&v.callback!==n||v.callback===false||x(resx.rrcall)&&resx.rrcall!==n){i=true}c=k()&&x(u)&&x(f);if(!c){p()}}catch(z){g("pv",z)}}function S(e){try{var n,t,i,d,h,p,g,y="5.5x";if(a==="1"||a==="2"||a==="3"){if(c){window.setTimeout(certonaResx.checkCallback,50)}t=window.location.protocol.toLowerCase()==="https:"?"https://":"http://";h="www.res-x.com";if(x(resx.host)){h=resx.host}i="appid="+(resx.appid!==undefined?resx.appid:"")+"&tk="+(x(u)?u:"")+"&ss="+(x(o)?o:"")+"&sg="+(x(a)?a:"")+"&pg="+(x(f)?f:"")+"&vr="+y+"&bx="+c;g="";if(resx.rrelem!==undefined&&resx.rrelem!==null){p=m().replace(/[,;]/g,".").split(".");if(p!==null){for(n=0;n<p.length;n+=1){g+="&sc="+p[n]}}}i+=g+(resx.event!==undefined?"&ev="+resx.event:"")+(resx.itemid!==undefined?"&ei="+resx.itemid:"")+(resx.qty!==undefined?"&qty="+resx.qty:"")+(resx.price!==undefined?"&pr="+resx.price:"")+(resx.shipping!==undefined?"&sh="+resx.shipping:"")+(resx.total!==undefined?"&tt="+resx.total:"")+(resx.currencycode!==undefined?"&cc="+resx.currencycode:"")+(resx.customerid!==undefined?"&cu="+resx.customerid:"")+(resx.transactionid!==undefined?"&tr="+resx.transactionid:"");i+=(c?E(e):"")+U()+"&ur="+encodeURIComponent(window.location.href.slice(0,400))+"&plk="+(x(l)?l:"")+"&rf="+encodeURIComponent(document.referrer)+(s===true?"&er="+s+"&em="+encodeURIComponent(r):"");d=t+h+"/ws/r2/Resonance.aspx"+"?"+i;return d.slice(0,2013)}}catch(R){}return""}function M(e){try{if(e!==""){var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.type="text/javascript";n.async=true;n.src=e;r.parentNode.insertBefore(n,r)}}catch(t){}}function O(e){var n={callback:false},r;if(e===undefined){e=n}else{for(r=0;r<n.length;r+=1){if(e[r]===undefined){e[r]=n[r]}}}return S(e.callback)}function q(){L({callback:true});var e=S(true);M(e)}return{checkCallback:function(){C()},showResponse:function(e){I(e)},getURL:function(e){L(e);return O(e)},run:function(){q()}}}();var ready=function(){function g(){if(!a.isReady){try{document.documentElement.doScroll("left")}catch(b){setTimeout(g,1);return}a.ready()}}var e,c,m={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},a={isReady:!1,readyWait:1,holdReady:function(b){b?a.readyWait++:a.ready(!0)},ready:function(b){if(!0===b&&!--a.readyWait||!0!==b&&!a.isReady){if(!document.body)return setTimeout(a.ready,1);a.isReady=!0;!0!==b&&0<--a.readyWait||e.resolveWith(document,[a])}},bindReady:function(){if(!e){e=a._Deferred();if("complete"===document.readyState)return setTimeout(a.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",a.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",c);window.attachEvent("onload",a.ready);var b=!1;try{b=null==window.frameElement}catch(f){}document.documentElement.doScroll&&b&&g()}}},_Deferred:function(){var b=[],f,c,e,h={done:function(){if(!e){var c=arguments,d,g,j,l,k;f&&(k=f,f=0);d=0;for(g=c.length;d<g;d++)j=c[d],l=a.type(j),"array"===l?h.done.apply(h,j):"function"===l&&b.push(j);k&&h.resolveWith(k[0],k[1])}return this},resolveWith:function(a,d){if(!e&&!f&&!c){d=d||[];c=1;try{for(;b[0];)b.shift().apply(a,d)}finally{f=[a,d],c=0}}return this},resolve:function(){h.resolveWith(this,arguments);return this},isResolved:function(){return!(!c&&!f)},cancel:function(){e=1;b=[];return this}};return h},type:function(a){return null==a?String(a):m[Object.prototype.toString.call(a)]||"object"}};document.addEventListener?c=function(){document.removeEventListener("DOMContentLoaded",c,!1);a.ready()}:document.attachEvent&&(c=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",c),a.ready())});return function(b){a.bindReady();a.type(b);e.done(b)}}();window.certonaResx=certonaResx;window.ready=ready;}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("CriteoRemarketing",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var criteoID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:criteoID="25953";break;case _dsgTag.Websites.GolfGalaxy:criteoID="35855";break;}
if(criteoID){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("//static.criteo.net/js/ld/ld.js",function(){});window.criteo_q=window.criteo_q||[];window.criteo_q.push({event:"setAccount",account:criteoID},{event:"setSiteType",type:_dsgTag.experience==="Desktop"?"d":(_dsgTag.experience==="Mobile"||_dsgTag.experience==="Mobile App"?"m":(_dsgTag.experience==="Tablet"?"t":""))},{event:"setEmail",email:_dsgTag.CustomerIDs.HashedEmail});var FireCriteoPixel=function(o,d){switch(_dsgTag.pageType){case _dsgTag.PageTypes.Home:{window.criteo_q.push({event:"viewHome"});break;}
case _dsgTag.PageTypes.Family:case _dsgTag.PageTypes.Search:{window.criteo_q.push({event:"viewList"
});break;}
case _dsgTag.PageTypes.ProductDetails:{_dsgTag.DataLayer.PassValuesToFunction(["ProductID"],function(productID){window.criteo_q.push({event:"viewItem",item:productID});},d);break;}
case _dsgTag.PageTypes.Cart:{_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","ProductIDList","ProductPriceList","ProductQuantityList"],function(products,productIDList,priceList,quantityList){items=[];if(products){for(var i=0;i<products.length;i++){items.push({id:products[i].ProductID,price:products[i].CurrentPricePerUnit,quantity:products[i].ProductQty});}}else{for(var i=0;i<productIDList.length;i++){items.push({id:productIDList[i],price:priceList[i],quantity:quantityList[i]});}}
window.criteo_q.push({event:"viewBasket",item:items});},d);break;}
case _dsgTag.PageTypes.OrderConfirmation:{_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","ProductIDList","ProductPriceList","ProductQuantityList","OrderID"],function(products,productIDList,priceList,quantityList,orderID){items=[];if(products){for(var i=0;i<products.length;i++){items.push({id:products[i].ProductID,price:products[i].CurrentPricePerUnit,quantity:products[i].ProductQty});}}else{for(var i=0;i<productIDList.length;i++){items.push({id:productIDList[i],price:priceList[i],quantity:quantityList[i]});}}
window.criteo_q.push({event:"trackTransaction",id:orderID,item:items});},d);break;}}}
_dsgTag.EventHandlers.AddEventHandler("NewPageView",FireCriteoPixel);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("CriteoSponsored",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var criteoID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:criteoID="421";break;}
if(criteoID&&!(_dsgTag.pageType===_dsgTag.PageTypes.Category)){var baseScriptDomain=_dsgTag.isProduction?"www.hlserve.com":"uat1.hlserve.com";_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("//"+baseScriptDomain+"/Delivery/ClientPaths/Library/hook.js?cid="+criteoID,function(){if(window.HLLibrary){var x=_dsgTag.experience;var pageType="";var refinementList={};var categoryID="";var sortType="";var listSize="";var keyword="";var SubmitPixel=function(pixel){pixel.setProperty("shopper-account-id",_dsgTag.CustomerIDs.CustomerKey);pixel.setProperty("shopper-browser-id",_dsgTag.CustomerIDs.AdobeMCVID);if(pageType){pixel.setPageId("DSG"+((x==="Mobile"||x==="Tablet"||x==="Mobile App")?"Mobile":"")+pageType);pixel.submit();}};var FireCriteoSponsoredPixel=function(o,d){var criteoPixel=HLLibrary.newRequest();switch(_dsgTag.pageType){case _dsgTag.PageTypes.Home:{pageType="Homepage";SubmitPixel(criteoPixel);break;}
case _dsgTag.PageTypes.Category:{_dsgTag.DataLayer.PassValuesToFunction(["CategoryID"],function(ID){pageType="CatPage";categoryID=ID;criteoPixel.setProperty("category",categoryID);SubmitPixel(criteoPixel);},d);break;}
case _dsgTag.PageTypes.Family:{_dsgTag.DataLayer.PassValuesToFunction(["FamilyID","FamilyProductCount","SortMethod"],function(ID,quantity,sort){pageType="BrowsePage";categoryID=ID;listSize=quantity;criteoPixel.setProperty("category",categoryID);criteoPixel.setProperty("list-size",listSize);if(sort==="Price Low to High"){sort="price_asc";}else if(sort==="Price High to Low"){sort="price_des";}else{sort="other";}
sortType=sort;criteoPixel.setProperty("sort",sortType);SubmitPixel(criteoPixel);},d);break;}
case _dsgTag.PageTypes.Proxy:{_dsgTag.DataLayer.PassValuesToFunction(["PageType"],function(proxyPageType){if(proxyPageType.toLowerCase()==="category page"){_dsgTag.DataLayer.PassValuesToFunction(["CategoryID"],function(ID){pageType="CatPage";criteoPixel.setProperty("category",ID);SubmitPixel(criteoPixel);},d);}else if(proxyPageType.toLowerCase()==="hyper-category"){_dsgTag.DataLayer.PassValuesToFunction(["FamilyID","FamilyProductCount","SortMethod"],function(ID,quantity,sort){parsedID="";try{parsedID=ID.split("-")[1];}catch(ex){parsedID=ID;}
pageType="BrowsePage";categoryID=parsedID;listSize=quantity;criteoPixel.setProperty("category",categoryID);criteoPixel.setProperty("list-size",listSize);if(sort==="Price Low to High"){sort="price_asc";}else if(sort==="Price High to Low"){sort="price_des";}else{sort="other";}
sortType=sort;criteoPixel.setProperty("sort",sortType);SubmitPixel(criteoPixel);},d);}else if(proxyPageType.toLowerCase()==="family page"){_dsgTag.DataLayer.PassValuesToFunction(["FamilyID","FamilyProductCount","SortMethod"],function(ID,quantity,sort){pageType="BrowsePage";categoryID=ID;listSize=quantity;criteoPixel.setProperty("category",categoryID);criteoPixel.setProperty("list-size",listSize);if(sort==="Price Low to High"){sort="price_asc";}else if(sort==="Price High to Low"){sort="price_des";}else{sort="other";}
sortType=sort;criteoPixel.setProperty("sort",sortType);SubmitPixel(criteoPixel);},d);}});break;}
case _dsgTag.PageTypes.Search:case _dsgTag.PageTypes.FailedSearch:{_dsgTag.DataLayer.PassValuesToFunction(["InternalSearchResultsCount","InternalSearchTerm"],function(results,term){pageType=results>0?"SearchPage":"NullSearchPage";keyword=term;listSize=results;sortType="other";if(results>0){criteoPixel.setProperty("keyword",keyword);}else{criteoPixel.setProperty("category","homepage");}
criteoPixel.setProperty("list-size",listSize);criteoPixel.setProperty("sort",sortType);SubmitPixel(criteoPixel);},d);break;}
case _dsgTag.PageTypes.Static:{if(_dsgTag.DataLayer.GetValue("StaticPageName",d)==="No Search Results Found"){pageType="NullSearchPage";criteoPixel.setProperty("category","homepage");criteoPixel.setProperty("list-size",0);criteoPixel.setProperty("sort","other");SubmitPixel(criteoPixel);}else if(_dsgTag.DataLayer.GetValue("StaticPageName",d)==="Recommended For You"){pageType="HomepageRecHub";criteoPixel.setProperty("category","homepage");SubmitPixel(criteoPixel);}
break;}
case _dsgTag.PageTypes.ProductDetails:{_dsgTag.DataLayer.PassValuesToFunction(["ProductID","ProductAvailability","ProductPriceList","ProductListPriceList"],function(productID,availability,currentPrices,listPrices){pageType="ProdPage";criteoPixel.setProperty("category","");criteoPixel.setProperty("viewed-sku-parent",productID);var maxCurrent=0,maxList=0;for(var i=0;i<currentPrices.length;i++){maxCurrent=(parseFloat(currentPrices[i])>maxCurrent)?parseFloat(currentPrices[i]):maxCurrent;}
for(var i=0;i<listPrices.length;i++){maxList=(parseFloat(listPrices[i])>maxList)?parseFloat(listPrices[i]):maxList;}
criteoPixel.setProperty("current-price",maxCurrent.toFixed(2));criteoPixel.setProperty("list-price",maxList.toFixed(2));criteoPixel.setProperty("in-stock",(availability==="true"?"1":"0"));SubmitPixel(criteoPixel);},d);break;}
case _dsgTag.PageTypes.OrderConfirmation:{_dsgTag.DataLayer.PassValuesToFunction(["OrderID","ProductListArray"],function(orderID,products){pageType="Conf";criteoPixel.setProperty("order-id",orderID);var SKUs=[];var quantities=[];var prices=[];var i=0;for(var i;i<products.length;i++){SKUs.push(products[i].ProductSKU);quantities.push(products[i].ProductQty);prices.push(products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit);}
criteoPixel.setProperty("event-sku",SKUs.join("|"));criteoPixel.setProperty("price",prices.join("|"));criteoPixel.setProperty("quantity",quantities.join("|"));SubmitPixel(criteoPixel);},d);break;}}};var FireCriteoSponsoredAddToCartPixel=function(event,data){if(typeof data.data!=="undefined"){data={"ProductsAddedToCart":[data.data],"NewCart":"N"};}
var criteoPixel=HLLibrary.newRequest();criteoPixel.setProperty("shopper-account-id",_dsgTag.CustomerIDs.CustomerKey);criteoPixel.setProperty("shopper-browser-id",_dsgTag.CustomerIDs.Webstore);criteoPixel.setProperty("event","AddToCart");criteoPixel.setProperty("event-sku",data.ProductsAddedToCart[0].ProductSKU);criteoPixel.setProperty("price",data.ProductsAddedToCart[0].CurrentPricePerUnit);criteoPixel.setProperty("quantity",data.ProductsAddedToCart[0].ProductQty);SubmitPixel(criteoPixel);};var FireCriteoSponsoredSortRefinementPixel=function(event,data){var criteoPixel=HLLibrary.newRequest();criteoPixel.setProperty("shopper-account-id",_dsgTag.CustomerIDs.CustomerKey);criteoPixel.setProperty("shopper-browser-id",_dsgTag.CustomerIDs.Webstore);if(data.UpdateType==="SortMethod"){criteoPixel.setProperty("event","Sort");var sort="";if(data.UpdateValue==="Price Low to High"){sort="price_asc";}else if(data.UpdateValue==="Price High to Low"){sort="price_des";}else{sort="other";}
sortType=sort;criteoPixel.setProperty("sort",sortType);}else if(data.UpdateType==="Refinement"){filterValue={"Name":data.UpdateValue.RefinementAttribute,"Value":data.UpdateValue.RefinementValue};if(filterValue.Name==="PRICE"||filterValue.Name==="X_BazaarVoice_ratings_DSG"){refinementList[filterValue.Name]=filterValue.Value;}else{if(!refinementList[filterValue.Name]){refinementList[filterValue.Name]=[];}
if(refinementList[filterValue.Name].indexOf(filterValue.Value)<0){refinementList[filterValue.Name].push(filterValue.Value);}}
filterCalls=[];for(var name in refinementList){values=refinementList[name];comparator="eq";if(name==="PRICE"){name="price";if(values.indexOf("under")>=0){values=values.replace("under $","");filterCalls.push({"Name":name,"Comparator":"lt","Values":values});}else if(values.indexOf("-")>=0){values=(/\$(\d+) - \$(\d+)/.exec(values)).splice(1);filterCalls.push({"Name":name,"Comparator":"ge","Values":values[0]});filterCalls.push({"Name":name,"Comparator":"le","Values":values[1]});}}else if(name==="X_BazaarVoice_ratings_DSG"){name="rating";comparator="ge";values=values.replace("X_BazaarVoice_ratings_DSG","");filterCalls.push({"Name":name,"Comparator":comparator,"Values":values});}else if(name==="Brand"){name="brand";values=values.join("|");filterCalls.push({"Name":name,"Comparator":comparator,"Values":values});}else{values=values.join("|");filterCalls.push({"Name":name,"Comparator":comparator,"Values":values});}}
for(var i=0;i<filterCalls.length;i++){criteoPixel.setFilter(filterCalls[i].Name,filterCalls[i].Comparator,filterCalls[i].Values);}
if(pageType==="BrowsePage"){criteoPixel.setProperty("category",categoryID);}else if(pageType==="SearchPage"){criteoPixel.setProperty("keyword",keyword);}
criteoPixel.setProperty("sort",sortType);}
SubmitPixel(criteoPixel);};_dsgTag.EventHandlers.AddEventHandler("NewPageView",FireCriteoSponsoredPixel);_dsgTag.EventHandlers.AddEventHandler("AddToCart",FireCriteoSponsoredAddToCartPixel);_dsgTag.EventHandlers.AddEventHandler("ResultsViewUpdate",FireCriteoSponsoredSortRefinementPixel);}});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']=='Order Confirmation'&&utag.data['js_page._dsgTag.isAOS']=='0')||utag.data['js_page._dsgTag.isAngular']=='1'){_dsgTag.FunctionRepository.RegisterTag("Epsilon",_dsgTag.InitTimings.WindowComplete,[{t:"aos",c:"=",v:true},{t:"page",c:"=",v:"Order Confirmation"}],function(){function LoadEpsilonPixel(d){_dsgTag.DataLayer.PassValuesToFunction(["OrderID","ProductQuantityList","OrderTotal","OrderTax","OrderShippingRevenue"],function(orderID,productQuantityList,orderTotal,taxTotal,shippingTotal){var d=new Date();var hDateTime=d.toISOString();hDateTime=hDateTime.substring(0,19)+"Z";var site="";var revenue;var quantity=0;switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{site="dickssportinggoods.com";break;}
case _dsgTag.Websites.GolfGalaxy:{site="golfgalaxy.com";break;}
case _dsgTag.Websites.FieldAndStream:{site="fieldandstreamshop.com";break;}
case _dsgTag.Websites.Calia:{site="caliastudio.com";break;}}
for(var i=0;i<productQuantityList.length;i++){quantity+=parseInt(productQuantityList[i],10);}
quantity=quantity.toString();revenue=parseFloat(orderTotal-taxTotal-shippingTotal).toFixed(2);pixelURL="https://e."+site+"/C?hEventName=Purchase&hAmount="+revenue+"&hQuantity="+quantity+"&hOrderId="+orderID+"&hCustomerTransactionId="+orderID+"&hDateTime="+encodeURIComponent(hDateTime);var img=document.createElement('img');img.src=pixelURL;},d);}
_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){LoadEpsilonPixel(d);}});});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Facebook",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var pixelID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{pixelID="135094900296930";break;}
case _dsgTag.Websites.GolfGalaxy:{pixelID="837841406319460";break;}
case _dsgTag.Websites.FieldAndStream:{pixelID="174510806216065";break;}
case _dsgTag.Websites.Calia:{pixelID="1018121201654449";break;}}
if(pixelID){var locale="en_US"||"en_US";(function(n){if(window.fbq)return;n=window.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments);};if(!window._fbq)window._fbq=n;n.push=n;n.loaded=!0;n.version="2.0";n.queue=[];_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://connect.facebook.net/"+locale+"/fbevents.js");})();fbq("init",pixelID);var FireFacebookPageView=function(d){fbq("track","PageView");};var FireFacebookViewContentPixel=function(d){var eventType="ViewContent";var content_ids=_dsgTag.DataLayer.GetValue("ProductID",d);content_ids=content_ids.split(",");var content_type="product_group";var trackObject={};var trackString="track";if(content_ids)trackObject.content_ids=content_ids;if(content_type)trackObject.content_type=content_type;fbq(trackString,eventType,trackObject);};var FireFaceBookAddToCartPixel=function(eventObject,eventData){if(eventData&&eventData.ProductsAddedToCart&&eventData.ProductsAddedToCart.length>0){var products=[];var revenue=0;try{if(eventData&&eventData.ProductsAddedToCart&&typeof eventData.ProductsAddedToCart==="object"&&eventData.ProductsAddedToCart.length>0){for(var i=0;i<eventData.ProductsAddedToCart.length;i++){if(eventData.ProductsAddedToCart[i]&&eventData.ProductsAddedToCart[i].ProductSKU){revenue+=(eventData.ProductsAddedToCart[i].CurrentPricePerUnit*eventData.ProductsAddedToCart[i].ProductQty);products.push(eventData.ProductsAddedToCart[i].ProductSKU);}}}}catch(ex){_dsgTag.HelperFunctions.DebugLog("Facebook AddToCart Pixel - Error while parsing product info",true);}
if(products.length>0){var eventType="AddToCart";var trackObject={};var trackString="track";trackObject.value=revenue.toFixed(2);trackObject.content_ids=products;trackObject.content_type="product";trackObject.currency="USD";fbq(trackString,eventType,trackObject);}}};var FireFacebookConversion=function(d){_dsgTag.DataLayer.PassValuesToFunction(["OrderID","OrderTotal","OrderTax","OrderShippingRevenue","ProductListArray"],function(orderID,orderTotal,taxTotal,shippingTotal,productList){var revenue="0.00";var totalQuantity=0;if(orderTotal&&taxTotal&&shippingTotal){revenue=parseFloat(orderTotal-taxTotal-shippingTotal).toFixed(2);}
var idList=[];var containsBopis=0;if(productList){var currentItem={};for(var i=0;i<productList.length;i++){if(!isNaN(Number(productList[i].ProductQty))){totalQuantity+=Number(productList[i].ProductQty);}
currentItem={};currentItem.content_id=productList[i].ProductSKU;currentItem.currency="USD";currentItem.value=productList[i].CurrentPricePerUnit;currentItem.brand=productList[i].ProductBrand;if(containsBopis<1&&typeof productList[i].FulfillmentMethod!=="undefined"&&productList[i].FulfillmentMethod.match(/BOPIS/)){containsBopis=1;}
if(currentItem.brand){var brandsToTrack=["adidas","Under Armour","Nike","The North Face","TaylorMade","Columbia","New Balance","Callaway","Brooks","ASICS","YETI","CALIA by Carrie Underwood","DSG"];for(var j=0;j<brandsToTrack.length;j++){if(currentItem.brand.toLowerCase()===brandsToTrack[j].toLowerCase())
{fbq("trackCustom","BrandPurchase",currentItem);}}}
idList.push(productList[i].ProductSKU);}}
var trackObject={};trackObject.value=revenue;trackObject.content_ids=idList;trackObject.content_type="product";trackObject.currency="USD";trackObject.num_items=totalQuantity.toString();trackObject.bopis=containsBopis.toString();trackObject.delivery_category=containsBopis===1?"in_store":"home_delivery";fbq("track","Purchase",trackObject);},d);};_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){FireFacebookPageView(d);if(_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){FireFacebookViewContentPixel(d);}else if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){FireFacebookConversion(d);}});_dsgTag.EventHandlers.AddEventHandler("AddToCart",FireFaceBookAddToCartPixel);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Flipp",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var merchantID="";var scriptInitialized=false;switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{merchantID="2374";break;}
case _dsgTag.Websites.GolfGalaxy:{merchantID="3745";break;}
case _dsgTag.Websites.FieldAndStream:{merchantID="3661";break;}}
if(merchantID){var SetupFlippValues=function(d){var goal="2";var value="1";if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){_dsgTag.DataLayer.PassValuesToFunction(["OrderTotal","OrderTax","OrderShippingRevenue"],function(total,tax,shipping){goal="1";value=(total-tax-shipping).toFixed(2);},d);}
window.___wishabi_attribution={merchant_id:merchantID,goal_id:goal,goal_value:value};};var ManuallyFireFlippWishabiPixel=function(d){new Image().src='//a.wishabi.com/track.gif?aid=attrib'+
'&goal_id='+window.___wishabi_attribution.goal_id+
'&goal_value='+window.___wishabi_attribution.goal_value+
'&merchant_id='+window.___wishabi_attribution.merchant_id;};var SetupInitialScriptAndFire=function(d){scriptInitialized=true;var ns=document.createElement('script');ns.type='text/javascript';ns.async=true;ns.src='//f.wishabi.net/attribution.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ns,s);};_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){SetupFlippValues(d);if(scriptInitialized){ManuallyFireFlippWishabiPixel(d);}else{SetupInitialScriptAndFire(d);}});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Google",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var baseGoogleScriptID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{baseGoogleScriptID="AW-1006136630";break;}
case _dsgTag.Websites.GolfGalaxy:{baseGoogleScriptID="AW-986469690";break;}
case _dsgTag.Websites.FieldAndStream:{baseGoogleScriptID="AW-939127668";break;}
case _dsgTag.Websites.Calia:{baseGoogleScriptID="AW-787439593";break;}}
var loadGTag=function(o,d){window._gTagData=window._gTagData||[];function gtag(){_gTagData.push(arguments);}
gtag('js',new Date());gtag('config',baseGoogleScriptID);var googlePageName=document.title.split("|").length>1?document.title.split("|")[0]:document.title;googlePageName=googlePageName.replace(/[^\x00-\x7F]+/g,"");_dsgTag.DataLayer.PassValuesToFunction(["PageURL"],function(pageURL){var currentURL=pageURL;var pagePath="/"+currentURL.split("/").splice(3).join("/");pagePath=pagePath.toLowerCase();switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','conversion',{'send_to':'AW-1001247795/VkXCCM3y9AYQs6i33QM','aw_remarketing_only':true});gtag('event','conversion',{'send_to':'DC-4845927/dsgsi0/retar0+standard','allow_custom_scripts':true});_dsgTag.EventHandlers.AddEventHandler("EmailSignup",function(event,data){gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/sitev0+standard','allow_custom_scripts':true,'u11':googlePageName,'u14':"1"});});break;}
case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'AW-991675069/9SmjCJu33gkQvYXv2AM','aw_remarketing_only':true});break;}
case _dsgTag.Websites.FieldAndStream:{gtag('event','conversion',{'send_to':'AW-982779553/6A3eCKberGAQ9ObnvwM','aw_remarketing_only':true});break;}
case _dsgTag.Websites.Calia:{break;}}
if(_dsgTag.pageType===_dsgTag.PageTypes.Home){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg0+standard','allow_custom_scripts':true,'u11':googlePageName});break;}
case _dsgTag.Websites.Calia:{gtag('event','conversion',{'send_to':'DC-4351555/calia0/calia0+standard','allow_custom_scripts':true,'u11':googlePageName});break;}}}
else if(_dsgTag.pageType===_dsgTag.PageTypes.Search){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','view_search_results',{'send_to':'AW-1006136630','page_type':'Search Results'});break;}}}
else if(_dsgTag.pageType===_dsgTag.PageTypes.Family){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','view_item_list',{'send_to':'AW-1006136630','page_type':'Family'});break;}
case _dsgTag.Websites.Calia:{var id="";if(pagePath.indexOf("calia-by-carrie-underwood-accessories-fitness-gear")>=0){id="DC-4351555/calia0/calia004+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-bottoms")>=0){id="DC-4351555/calia0/calia000+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-bras")>=0){id="DC-4351555/calia0/calia002+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-jackets-vests")>=0){id="DC-4351555/calia0/calia001+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-last-chance-looks")>=0){id="DC-4351555/calia0/calia006+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-plus-sizes")>=0){id="DC-4351555/calia0/calia005+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-swimwear")>=0){id="DC-4351555/calia0/calia003+standard";}else if(pagePath.indexOf("calia-by-carrie-underwood-shirts-tops")>=0){id="DC-4351555/calia0/calia00+standard";}
if(id){gtag('event','conversion',{'send_to':id,'allow_custom_scripts':true,'u11':googlePageName});}
break;}}}
else if(_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){_dsgTag.DataLayer.PassValuesToFunction(["ProductID"],function(productID){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/shopp0+standard','allow_custom_scripts':true,'u4':productID,'u11':googlePageName});gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/produ0+unique','allow_custom_scripts':true,'u4':productID,'u11':googlePageName});gtag('event','view_item',{'send_to':'AW-1006136630','page_type':'PDP','items':[{'id':productID,'google_business_vertical':'retail'}]});break;}}},d);}
else if(_dsgTag.pageType===_dsgTag.PageTypes.Cart){_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","LoyaltyID","OrderLevelPromoCodes","OrderTotal","OrderTax","OrderShippingRevenue"],function(products,loyaltyID,promoCodes,orderTotal,orderTax,orderShipping){var revenue=parseFloat(parseFloat(orderTotal-orderTax-orderShipping).toFixed(2));var productIDList=[];var skuList=[];var combinedList=[];var adwordsItems=[];var bopisItems=0,nonBopisItems=0;for(var i=0;i<products.length;i++){if(typeof products[i].ProductID!=="undefined"){productIDList.push(products[i].ProductID);skuList.push(products[i].ProductSKU);combinedList.push(products[i].ProductID+":"+products[i].ProductSKU);adwordsItems.push({"id":products[i].ProductSKU,"google_business_vertical":"retail"});}
if(typeof products[i].FulfillmentMethod!=="undefined"&&products[i].FulfillmentMethod.match(/BOPIS/)){bopisItems+=1;}else{nonBopisItems+=1;}}
var bopisStatus="2";if(bopisItems===0){bopisStatus="3";}else if(nonBopisItems===0){bopisStatus="1";}
var scorecard="0";if(typeof loyaltyID!=="undefined"&&loyaltyID!==""){scorecard="1";}
var promoCode="0";if(promoCodes.length>0&&promoCodes[0]){promoCode="1";}
switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/shopp0+standard','allow_custom_scripts':true,'u4':skuList.join(","),'u5':bopisStatus,'u8':scorecard,'u9':promoCode,'u11':googlePageName});_dsgTag.EventHandlers.AddEventHandler("CheckStoreAvailabilitySearch",function(event,data){gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/sitev0+standard','allow_custom_scripts':true,'u4':skuList.join(","),'u5':bopisStatus,'u8':scorecard,'u11':googlePageName,'u13':"1"});});gtag('event','add_to_cart',{'send_to':'AW-1006136630','page_type':'Cart','value':revenue,'items':adwordsItems});break;}
case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'AW-991675069/9SmjCJu33gkQvYXv2AM','aw_remarketing_only':true});gtag('event','conversion',{'send_to':'DC-4351555/golfg001/golfg0+standard','allow_custom_scripts':true,'u4':skuList.join(","),'u5':bopisStatus,'u8':scorecard,'u9':promoCode,'u11':googlePageName});break;}
case _dsgTag.Websites.FieldAndStream:{gtag('event','conversion',{'send_to':'AW-982779553/6A3eCKberGAQ9ObnvwM','aw_remarketing_only':true});break;}
case _dsgTag.Websites.Calia:{gtag('event','conversion',{'send_to':'DC-4351555/calia00/calia0+standard','allow_custom_scripts':true,'u4':skuList.join(","),'u5':bopisStatus,'u8':scorecard,'u9':promoCode,'u11':googlePageName});break;}}},d);}
else if(_dsgTag.pageType===_dsgTag.PageTypes.CheckoutBillingShippingAddress||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutBillingAddress||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutShippingAddress||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutDelivery||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutPayment||_dsgTag.pageType===_dsgTag.PageTypes.CheckoutReview){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{var id="";if(pagePath.indexOf("dsgbillingaddressview")>=0){id="DC-4351555/golfg001/golfg000+standard";}else if(pagePath.indexOf("dsgdeliveryview")>=0){id="DC-4351555/golfg001/golfg001+standard";}else if(pagePath.indexOf("dsgpaymentview")>=0){id="DC-4351555/golfg001/golfg002+standard";}else if(pagePath.indexOf("singleshipmentordersummaryview")>=0){id="DC-4351555/golfg001/golfg003+standard";}
if(id){gtag('event','conversion',{'send_to':id,'allow_custom_scripts':true,'u11':googlePageName,});}
break;}
case _dsgTag.Websites.Calia:{var id="";if(pagePath.indexOf("dsgbillingaddressview")>=0){id="DC-4351555/calia00/calia000+standard";}else if(pagePath.indexOf("dsgdeliveryview")>=0){id="DC-4351555/calia00/calia001+standard";}else if(pagePath.indexOf("dsgpaymentview")>=0){id="DC-4351555/calia00/calia002+standard";}else if(pagePath.indexOf("singleshipmentordersummaryview")>=0){id="DC-4351555/calia00/calia003+standard";}
if(id){gtag('event','conversion',{'send_to':id,'allow_custom_scripts':true,'u11':googlePageName,});}
break;}}}
else if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","OrderID","OrderTotal","OrderTax","OrderShippingRevenue","OrderDiscountTotal","BillingZip","BillingState","LoyaltyID","OrderLevelPromoCodes"],function(products,orderID,orderTotal,orderTax,orderShipping,orderDiscountTotal,billingZip,billingState,loyaltyID,promoCodes){var revenue=parseFloat(parseFloat(orderTotal-orderTax-orderShipping).toFixed(2));var productIDList=[];var skuList=[];var combinedList=[];var googleProductObjects=[];var bopisItems=0,nonBopisItems=0,totalQuantity=0;for(var i=0;i<products.length;i++){if(typeof products[i].ProductID!=="undefined"){productIDList.push(products[i].ProductID);skuList.push(products[i].ProductSKU);combinedList.push(products[i].ProductID+":"+products[i].ProductSKU);totalQuantity+=products[i].ProductQty;}
if(typeof products[i].FulfillmentMethod!=="undefined"&&products[i].FulfillmentMethod.match(/BOPIS/)){bopisItems+=1;}else{nonBopisItems+=1;}
googleProductObjects.push({"id":products[i].ProductSKU,"quantity":products[i].ProductQty,"price":products[i].CurrentPricePerUnit,"google_business_vertical":"retail"});}
var bopisStatus="2";if(bopisItems===0){bopisStatus="3";}else if(nonBopisItems===0){bopisStatus="1";}
var scorecard="0";if(typeof loyaltyID!=="undefined"&&loyaltyID!==""){scorecard="1";}
var promoCode="0";if(promoCodes.length>0&&promoCodes[0]){promoCode="1";}
var FireAdWordsConversionPixel=function(adWordsID,merchantID){gtag('event','purchase',{'send_to':adWordsID,'value':revenue,"transaction_id":orderID,"currency":"USD","discount":orderDiscountTotal,"aw_merchant_id":merchantID,"aw_feed_country":"US","aw_feed_language":"EN","items":googleProductObjects});};switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{FireAdWordsConversionPixel('AW-1006136630/z7F-CMqB_AYQttrh3wM',7972);gtag('event','purchase',{'send_to':'AW-1006136630','page_type':'Order Confirmation','value':revenue,'items':googleProductObjects});gtag('event','purchase',{'send_to':'DC-4351555/dsg20002/confi0+transactions','allow_custom_scripts':true,'value':revenue,'transaction_id':orderID,'u1':orderID,'u4':skuList.join(","),'u5':bopisStatus,'u6':billingZip,'u7':billingState,'u8':scorecard,'u9':promoCode,'u11':googlePageName});gtag('event','purchase',{'send_to':'DC-4845927/dsgon0/dsgsh0+transactions','allow_custom_scripts':true,'value':revenue,'transaction_id':orderID});break;}
case _dsgTag.Websites.GolfGalaxy:{FireAdWordsConversionPixel('AW-986469690/GJMrCP60yQgQuqqx1gM',106997);gtag('event','purchase',{'send_to':'DC-4351555/golfg001/golfg004+transactions','allow_custom_scripts':true,'value':revenue,'transaction_id':orderID,'u1':orderID,'u2':totalQuantity.toString(),'u3':revenue,'u4':skuList.join(","),'u5':bopisStatus,'u8':scorecard,'u11':googlePageName});break;}
case _dsgTag.Websites.FieldAndStream:{FireAdWordsConversionPixel('AW-939127668/6A3eCKberGAQ9ObnvwM',106895793);gtag('event','purchase',{'send_to':'DC-4351555/omdds00/dsgfi0+transactions','allow_custom_scripts':true,'value':revenue,'qty':"1",'transaction_id':orderID});break;}
case _dsgTag.Websites.Calia:{gtag('event','conversion',{'send_to':'AW-787439593/mRDRCIyU0YoBEOm_vfcC','value':revenue,'currency':'USD','transaction_id':orderID});gtag('event','purchase',{'send_to':'DC-4351555/calia00/calia004+transactions','allow_custom_scripts':true,'value':revenue,'transaction_id':orderID,'u1':orderID,'u2':totalQuantity.toString(),'u3':revenue,'u4':skuList.join(","),'u8':scorecard,'u11':googlePageName});break;}}},d);}
else if(_dsgTag.pageType===_dsgTag.PageTypes.StoreLocatorIFrame){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{_dsgTag.EventHandlers.AddEventHandler("AJAXStoreSearch",function(event,data){gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/sitev0+standard','allow_custom_scripts':true,'u11':googlePageName,'u13':"1"});});break;}}}
else if(pagePath.indexOf("/s/holiday")>=0||pagePath.indexOf("/s/special-offer-promo-omni")>=0){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{gtag('event','conversion',{'send_to':'AW-1006136630/feZDCLzTuosBELba4d8D','value':1.0,'currency':'USD'});break;}}}
else if(pagePath.indexOf("/s/email-sign-up")>=0){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg002+standard','allow_custom_scripts':true,'u11':googlePageName,});break;}}}else if(pagePath.indexOf("/s/golf-services")>=0){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg00+standard','allow_custom_scripts':true,'u11':googlePageName,});break;}}}else if(pagePath.indexOf("/s/our-top-deals")>=0){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg001+standard','allow_custom_scripts':true,'u11':googlePageName,});break;}}}else if(pagePath.indexOf("/s/golf-events-and-in-store-golf-demonstrations")>=0){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg000+standard','allow_custom_scripts':true,'u11':googlePageName,});break;}}}
else{_dsgTag.DataLayer.PassValuesToFunction(["LoyaltyID","RegistrationOccured"],function(loyaltyID,registered){switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{var newAccountRegistration=0;var scorecard="0";if(typeof loyaltyID!=="undefined"&&loyaltyID!==""){scorecard="1";}
if(registered){newAccountRegistration=1;}
gtag('event','conversion',{'send_to':'DC-4351555/dsg20001/sitev0+standard','allow_custom_scripts':true,'u8':scorecard,'u10':newAccountRegistration,'u11':googlePageName});break;}
case _dsgTag.Websites.GolfGalaxy:{gtag('event','conversion',{'send_to':'DC-4351555/golfg000/golfg0+standard','allow_custom_scripts':true,'u11':googlePageName});break;}}},d);}
_dsgTag.EventHandlers.AddEventHandler("AddToCart",function(event,data){if(typeof data.data!=="undefined"){data={"ProductsAddedToCart":[data.data],"NewCart":"N"};}
var adwordsItems=[];var revenue=0;if(typeof data.ProductsAddedToCart!=="undefined"){for(var i=0;i<data.ProductsAddedToCart.length;i++){revenue+=(parseFloat(data.ProductsAddedToCart[i].CurrentPricePerUnit)*parseInt(data.ProductsAddedToCart[i].ProductQty));adwordsItems.push({"id":data.ProductsAddedToCart[i].ProductSKU,"google_business_vertical":"retail"});}}
gtag('event','add_to_cart',{'send_to':'AW-1006136630','page_type':'Add To Cart','value':revenue,'items':adwordsItems});});},d);};if(baseGoogleScriptID){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://www.googletagmanager.com/gtag/js?l=_gTagData&id="+baseGoogleScriptID,function(){_dsgTag.EventHandlers.AddEventHandler("NewPageView",loadGTag);});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("ImpactRadius",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var conversionID=0;switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:conversionID=10920;break;case _dsgTag.Websites.GolfGalaxy:conversionID=11998;break;case _dsgTag.Websites.FieldAndStream:conversionID=17826;break;case _dsgTag.Websites.Calia:conversionID=20236;break;}
if(conversionID){var fireImpactRadiusAllPages=function(){(function(a,b,c,d,e,f,g){e['ire_o']=c;e[c]=e[c]||function(){(e[c].a=e[c].a||[]).push(arguments)};f=d.createElement(b);g=d.getElementsByTagName(b)[0];f.async=1;f.src=a;g.parentNode.insertBefore(f,g);})('//d.impactradius-event.com/A327712-2a1b-4c1c-a65d-e8013e256df11.js','script','ire',document,window);};var fireImpactRadiusCartAdd=function(){ire('trackCart',conversionID);};var fireImpactRadiusOrderConfirmationPixel=function(d){var orderInfo={};var orderID=_dsgTag.DataLayer.GetValue("OrderID",d);var products=_dsgTag.DataLayer.GetValue("ProductListArray",d);var itemArray=[];for(var i=0;i<products.length;i++){var item={subTotal:parseFloat((products[i].CurrentPricePerUnit-products[i].DistributedOrderDiscountPerUnit)*products[i].ProductQty).toFixed(2),category:products[i].ProductID,sku:products[i].ProductSKU,quantity:products[i].ProductQty};itemArray.push(item);}
orderInfo={orderId:orderID,customerId:_dsgTag.CustomerIDs.MCID,orderPromoCode:(_dsgTag.DataLayer.GetValue("OrderLevelPromoCodes",d).length>0?_dsgTag.DataLayer.GetValue("OrderLevelPromoCodes",d)[0]:""),items:itemArray};ire('trackConversion',conversionID,orderInfo);};var firePixels=function(o,d){fireImpactRadiusAllPages(d);if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){fireImpactRadiusOrderConfirmationPixel(d);}};_dsgTag.EventHandlers.AddEventHandler("NewPageView",firePixels);_dsgTag.EventHandlers.AddEventHandler("AddToCart",fireImpactRadiusCartAdd);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/DSG|GGXY|CAL/.test(utag.data['js_page._dsgTag.currentWebsite.Abbreviation'])&&utag.data['js_page._dsgTag.isIFrame']=='0'&&utag.data['dom.domain'].toString().indexOf('custhelp')<0&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Kampyle",_dsgTag.InitTimings.WindowComplete,[{t:"domain",c:"*!=",v:"custhelp"},{t:"page",c:"^!=",v:"Chat"},{t:"site",c:"*=",v:["DSG","GGXY","CAL"]},{t:"iframe",c:"=",v:"false"}],function(){window.medallia_ab=_dsgTag.HelperFunctions.GetValue("MedalliaAB2")||(_dsgTag.HelperFunctions.SaveValue("MedalliaAB2",(Math.floor(Math.random()*100)/100).toFixed(2)),_dsgTag.HelperFunctions.GetValue("MedalliaAB2"));_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://nebula-cdn.kampyle.com/wu/108358/onsite/embed.js",function(){if(typeof window.s!=="undefined"&&typeof window.s.linkTrackVars!=="undefined"){s.baseLinkTrackVars+=",contextData.eventName,contextData.formId,contextData.accountid,contextData.websiteid,contextData.feedbackUUID,contextData.pagenumber,contextData.LTR,contextData.osat_11,contextData.CSAT,contextData.Site Feedback - Satisfied";s.linkTrackVars=s.baseLinkTrackVars;}
if(typeof jQuery!=="undefined"){var siteColor1="";var siteColor2="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:siteColor1="#006554";siteColor2="#188573";break;case _dsgTag.Websites.GolfGalaxy:siteColor1="#00203a";siteColor2="#00203a";break;}
if(siteColor1&&window.location.href.indexOf("protips")<0&&window.location.href.indexOf("calia.dickssportinggoods.com")<0){var AppendKampyleTab=function(){jQuery("#survey_tab").remove();var css=document.createElement("style");css.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(css);var cssText="";cssText+="\n#survey_tab { background-color: "+siteColor1+"; border: 1px solid "+siteColor1+"; display: block; position: fixed; top: 40%; padding: 57px 0px 58px 0px; width: 53px; z-index: 999995; cursor: pointer; }";cssText+="\n#survey_tab div { position: absolute; display: block; height: 100%; left: 0; top: 0; width: 100%;  }";cssText+="\nbody.lg-on #survey_tab {display:none !important}";cssText+="\n#survey_tab div.screen_reader { position: absolute; clip: rect(1px 1px 1px 1px); /* for Internet Explorer */ clip: rect(1px, 1px, 1px, 1px); padding: 0; border: 0; height: 1px; width: 1px; overflow: hidden; }";cssText+="\n.survey_tab_right { right: -13px; border-radius: 6px 0px 0px 6px; -moz-border-radius: 6px 0px 0px 6px; -webkit-border-radius: 6px 0px 0px 6px; transition: right .5s; -moz-transition: right .5s; -webkit-transition: right .5s; -o-transition: right .5s; background-image: -webkit-gradient(linear, 0% 100%, 0% 0%, from("+siteColor2+"), to("+siteColor1+")); background-image: -webkit-linear-gradient(left, "+siteColor2+", "+siteColor1+"); background-image: -moz-linear-gradient(left, "+siteColor2+", "+siteColor1+"); background-image: -ms-linear-gradient(left, "+siteColor2+", "+siteColor1+"); background-image: -o-linear-gradient(left, "+siteColor2+", "+siteColor1+"); background-image: linear-gradient(left, "+siteColor2+", "+siteColor1+"); }";cssText+="\n.survey_tab_right span { left: 14px; }";cssText+="\n.survey_tab_right:hover { right: -5px; }";cssText+="@media screen and (max-width: 639px) {#survey_tab {visibility:hidden; display:none}}";if(/Edge|Trident|MSIE /.test(window.navigator.userAgent)&&typeof css.styleSheet!=='undefined'&&css.styleSheet!==null){css.styleSheet.cssText=cssText;}else{css.innerHTML=cssText;}
var tabLink=document.createElement('div');tabLink.setAttribute('id','survey_tab');tabLink.setAttribute('class','survey_tab_right');tabLink.setAttribute('tabindex','0');_dsgTag.DataLayer.PassValuesToFunction(["PageURL"],function(currentURL){var url=currentURL.toLowerCase();if(_dsgTag.pageType.Name.indexOf("Checkout")<0&&_dsgTag.pageType.Name.indexOf("Order Confirmation")<0&&url.indexOf("orderitemdisplay")<0&&url.indexOf("checkoutsigninview")<0&&url.indexOf("/checkout/")<0){var surveyID=0;if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){if(_dsgTag.pageType===_dsgTag.PageTypes.MyAccount){surveyID=11012;}else if(_dsgTag.pageType===_dsgTag.PageTypes.MyAccountSignIn){surveyID=20639;}else if(url.indexOf("userregistrationform?editregistration=y")>=0){surveyID=10985;}else if(url.indexOf("trackorderstatus")>=0){surveyID=10986;}else if(url.indexOf("orderdetail")>=0){surveyID=10987;}else if(url.indexOf("mypointshistoryview")>=0){surveyID=10988;}else if(url.indexOf("myrewardsview")>=0){surveyID=10989;}else if(url.indexOf("creditmyaccountform")>=0){surveyID=10990;}else{surveyID=6128;}}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){surveyID=21762;}
if(surveyID){tabLink.onclick=function(e){KAMPYLE_ONSITE_SDK.showForm(surveyID);};document.body.appendChild(tabLink);var tabHTML='<div><a><span style="display: inline-block; -ms-transform: rotate(-90deg); transform: rotate(-90deg); color: #fff; font-weight: bold; font-size: 1.5em; font-family: Arial, sans-serif; text-align: center; margin-left: -25px; margin-top: 45px;">Feedback</span></a></div><div class="screen_reader">Activate to launch comment card</div>';tabLink.innerHTML=tabHTML;}}});};_dsgTag.EventHandlers.AddEventHandler("NewPageView",AppendKampyleTab);}
if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods||_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy||_dsgTag.currentWebsite===_dsgTag.Websites.Calia){var CreateFooterLink=function(){if(typeof jQuery!=='undefined'){var footLink=jQuery("<a></a>");footLink.html('Site Feedback');footLink.prop('title','Site Feedback');footLink.attr('target','');var surveyID=0;if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){surveyID=6128;}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){surveyID=21762;}else if(_dsgTag.currentWebsite===_dsgTag.Websites.Calia){surveyID=8699;}
if(window.location.href.indexOf("calia.dickssportinggoods.com")>=0){surveyID=8699;}
footLink.on('click',function(e){KAMPYLE_ONSITE_SDK.showForm(surveyID);});var linkContainer;switch(_dsgTag.experience){case"Desktop":{linkContainer=jQuery('li[id="voc_d_pagefeedback"], div[id="voc_d_pagefeedback"], li.footer-survey-off');if(linkContainer){linkContainer.show();linkContainer.append(footLink);}
break;}
case"Tablet":case"Mobile":{if(typeof(jQuery)!=='undefined'){linkContainer=jQuery('div[id="voc_siteFeedback"], li[id="voc_d_pagefeedback"], div[id="voc_m_siteFeedback"], div[id="voc_t_siteFeedback"]');linkContainer.empty();if(linkContainer){linkContainer.append(footLink);}}
jQuery('div[id="Voc_Divider"]').show();break;}}}};_dsgTag.EventHandlers.AddEventHandler("NewPageView",CreateFooterLink);}
if(siteColor1){if(_dsgTag.experience==="Desktop"&&_dsgTag.currentWebsite!==_dsgTag.Websites.Calia&&(_dsgTag.pageType===_dsgTag.PageTypes.Family||_dsgTag.pageType===_dsgTag.PageTypes.Search)){if(typeof jQuery!=="undefined"){var divReference=jQuery("#noFurtherRefinement")||jQuery("family-page-left-navigation")||jQuery("#search-page > div > div > div.row.pd-0.mg-left-0 > div.menu.col-md-2.col-sm-2.col-4.pd-0 > div");if(divReference&&typeof(divReference)!=='undefined'){var css=document.createElement("style");css.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(css);var cssText="#kampyleSurveyPostFacets {"+
"margin-top: 2rem;"+
"max-width: 170px;"+
"}"+
"#kampyleSurveyPostFacets .surveyText {"+
"margin-bottom: 1rem;"+
"}"+
"#kampyleSurveyPostFacets .surveyText .surveyLink {"+
"color: "+siteColor1+";"+
"}";if(/Edge|Trident|MSIE /.test(window.navigator.userAgent)&&typeof css.styleSheet!=='undefined'&&css.styleSheet!==null){css.styleSheet.cssText=cssText;}else{css.innerHTML=cssText;}
var rawHTML="<!-- Kampyle Filter Link - Failed Search Results -->"+
"<div id='kampyleSurveyPostFacets'>"+
"<p class='surveyText'>Find what you were looking for?</p>"+
"<p class='surveyText'><a class='surveyLink' id='filterListSurveyLink' href='javascript:void(0);'>Tell us what you think about our filters!</a></p>"+
"</div>"+
"<!-- End Kampyle Filter Link -->";var surveyID=0;if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){surveyID=6195;}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){surveyID=21762;}
if(surveyID){var divNew=document.createElement("div");divNew.innerHTML=rawHTML;divReference.after(divNew);var a=document.getElementById('filterListSurveyLink');if(a){a.onclick=function(e){KAMPYLE_ONSITE_SDK.showForm(surveyID);};}}}}}}
if(false){if(_dsgTag.experience==="Desktop"&&_dsgTag.currentWebsite!==_dsgTag.Websites.Calia&&_dsgTag.pageType===_dsgTag.PageTypes.FailedSearch){if(typeof jQuery!=="undefined"){var container=jQuery(".widget_title_container_position");if(container&&container.length>0&&container[0].childNodes.length>1){var divReference=container[0].childNodes[1];if(divReference&&typeof(divReference)!=='undefined'){var css=document.createElement("style");css.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(css);var cssText="#kampyleSurveyNoResults > .surveyText {"+
"display: block;"+
"font: 1.3em/1.8rem Arial, sans-serif;"+
"color: #333;"+
"text-align: right;"+
"}"+
"#kampyleSurveyNoResults .surveyText .surveyLink {"+
"color: "+siteColor1+";"+
"}"+
"#kampyleSurveyNoResults .surveyText .surveyIcon {"+
"color: #a7a7a7;"+
"}";if(/Edge|Trident|MSIE /.test(window.navigator.userAgent)&&typeof css.styleSheet!=='undefined'&&css.styleSheet!==null){css.styleSheet.cssText=cssText;}else{css.innerHTML=cssText;}
var rawHTML="<!-- Kampyle Survey Link - Failed Search Results -->"+
"<div id='kampyleSurveyNoResults'>"+
"<span class='surveyText'>Help us make our search results more accurate!&nbsp;"+
"<a class='surveyLink' id='failedSearchSurveyLink' href='javascript:void(0);'><strong>Give us feedback </strong></a><i class='fa fa-info-circle surveyIcon'></i>"+
"</span>"+
"</div>"+
"<!-- End Kampyle Survey Link -->";if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){surveyID=6196;}else if(_dsgTag.currentWebsite===_dsgTag.Websites.GolfGalaxy){surveyID=21759;}
if(surveyID){var divNew=document.createElement("div");divNew.innerHTML=rawHTML;divReference.insertBefore(divNew,divReference.childNodes[1]);var a=document.getElementById('failedSearchSurveyLink');if(a){a.onclick=function(e){KAMPYLE_ONSITE_SDK.showForm(surveyID);};}}}}}}}
if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){var AppendReportPageIssueLink=function(){var linkContainer=(_dsgTag.experience=="Desktop")?jQuery('#voc_d_pagefeedback'):jQuery('#voc_m_pagefeedback, #voc_t_pagefeedback, #voc_t_siteFeedback');var surveyID=0;switch(_dsgTag.pageType){case _dsgTag.PageTypes.Cart:surveyID=10118;linkContainer=(_dsgTag.experience=="Desktop")?jQuery('li.footer-survey-off'):jQuery('div[id="voc_siteFeedback"], div[id="voc_m_siteFeedback"], div[id="voc_t_siteFeedback"]');break;case _dsgTag.PageTypes.CheckoutSignIn:surveyID=10119;break;case _dsgTag.PageTypes.CheckoutBillingAddress:surveyID=10120;break;case _dsgTag.PageTypes.CheckuotShippingAddress:surveyID=10462;break;case _dsgTag.PageTypes.CheckoutBillingShippingAddress:surveyID=10124;break;case _dsgTag.PageTypes.CheckoutDelivery:surveyID=10121;break;case _dsgTag.PageTypes.CheckoutPayment:surveyID=10122;break;case _dsgTag.PageTypes.CheckoutReview:surveyID=10123;break;case _dsgTag.PageTypes.OrderConfirmation:surveyID=10477;break;case _dsgTag.PageTypes.GuestOrderTracking:surveyID=10476;linkContainer=(_dsgTag.experience=="Desktop")?jQuery('li.footer-survey-off'):jQuery('div[id="voc_siteFeedback"], div[id="voc_m_siteFeedback"], div[id="voc_t_siteFeedback"]');break;}
if(linkContainer&&surveyID>0){linkContainer.empty();var newLink=jQuery("<a></a>");newLink.html('Report Page Issue');newLink.prop('title','Report Page Issue');newLink.attr('target','');if(!_dsgTag.isAngular){newLink.addClass('footer-link');}
newLink.on('click',function(e){KAMPYLE_ONSITE_SDK.showForm(surveyID);});linkContainer.append(newLink);}};if(_dsgTag.currentWebsite!==_dsgTag.Websites.Calia){_dsgTag.EventHandlers.AddEventHandler("NewPageView",AppendReportPageIssueLink);}}}});});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.currentWebsite.Abbreviation']!='CAL'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("MovableInk",_dsgTag.InitTimings.WindowComplete,[{t:"site",c:"!=",v:"CAL"},{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){function InitializeMovableInk(m,o,v,a,b,l,e){if(typeof m['MovableInkTrack']!=='undefined'){return;}
m['MovableInkTrack']=b;l=o.createElement(v);e=o.getElementsByTagName(v)[0];l.type='text/javascript';l.async=true;l.src='//'+a+'/p/js/1.js';m[b]=m[b]||function(){(m[b].q=m[b].q||[]).push(arguments);};e.parentNode.insertBefore(l,e);}
function VerifyOrderConfirmationAndFirePixel(o,d){if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){FireMovableInkOrderConfirmation(d);}}
function FireMovableInkOrderConfirmation(d){_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","OrderID","OrderTotal","OrderTax","OrderShippingRevenue"],function(products,orderID,total,tax,shipping){var revenue=0;for(var i=0;i<products.length;i++){var currentProduct=products[i];if(typeof mitr!=="undefined"&&typeof currentProduct!=="undefined"&&typeof currentProduct.ProductSKU!=="undefined"&&typeof currentProduct.ProductName!=="undefined"&&typeof currentProduct.CurrentPricePerUnit!=="undefined"&&typeof currentProduct.DistributedOrderDiscountPerUnit!=="undefined"&&typeof currentProduct.ProductQty!=="undefined"){var currentPrice=currentProduct.CurrentPricePerUnit;var discount=currentProduct.DistributedOrderDiscountPerUnit;if(typeof currentPrice=="string"){currentPrice=currentPrice.replace(",","");}
if(typeof discount=="string"){discount=discount.replace(",","");}
pricePerUnit=parseFloat(currentPrice-discount).toFixed(2);mitr('addProduct',{sku:currentProduct.ProductSKU,name:currentProduct.ProductName,price:pricePerUnit,quantity:currentProduct.ProductQty,other:''});}}
revenue=parseFloat(total-tax-shipping).toFixed(2);if(typeof mitr!=="undefined"&&orderID){mitr('send','conversion',{revenue:revenue,identifier:orderID});}},d);}
InitializeMovableInk(window,document,'script','ciunnwhq.micpn.com','mitr');_dsgTag.EventHandlers.AddEventHandler("NewPageView",VerifyOrderConfirmationAndFirePixel);});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Pinterest",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var pinterestID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:pinterestID="2619863460580";break;case _dsgTag.Websites.GolfGalaxy:pinterestID="2617409700622";break;}
if(pinterestID){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments));};var n=window.pintrk;n.queue=[],n.version="3.0";var t=document.createElement("script");t.async=!0,t.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r);}}("https://s.pinimg.com/ct/core.js");pintrk("load",pinterestID,{em:_dsgTag.CustomerIDs.HashedEmail});pintrk("page");var FirePinterestPixel=function(o,d){_dsgTag.DataLayer.PassValuesToFunction(["PageURL"],function(pageURL){switch(_dsgTag.pageType){case _dsgTag.PageTypes.Category:case _dsgTag.PageTypes.Family:{var pageName=document.title.split("|").length>1?document.title.split("|")[0]:document.title;pageName=pageName.trim();pintrk("track","viewcategory",{line_items:[{Product_name:pageName}]});break;}
case _dsgTag.PageTypes.Search:case _dsgTag.PageTypes.FailedSearch:{_dsgTag.DataLayer.PassValuesToFunction(["InternalSearchTerm"],function(internalSearchTerm){pintrk("track","search",{search_query:internalSearchTerm});},d);break;}
case _dsgTag.PageTypes.ProductDetails:{_dsgTag.DataLayer.PassValuesToFunction(["ProductDetails"],function(productDetails){try{if(productDetails.length>0){var brand=productDetails[0].ProductBrand;var productID=productDetails[0].ProductID;var productName=productDetails[0].ProductName;pintrk("track","pagevisit",{line_items:[{product_id:productID,product_brand:brand,product_name:productID+" - "+productName}]});var FireAddToCartPixel=function(event,data){if(typeof data.data!=="undefined"){data={"ProductsAddedToCart":[data.data],"NewCart":"N"};}
var totalValue=0;var productsAddedToCart=[];var product={};for(var i=0;i<data.ProductsAddedToCart.length;i++){product={};product.product_id=data.ProductsAddedToCart[i].ProductID;product.product_brand=brand;product.product_name=data.ProductsAddedToCart[i].ProductID+" - "+data.ProductsAddedToCart[i].ProductName;product.product_quantity=data.ProductsAddedToCart[i].ProductQty;productsAddedToCart.push(product);totalValue=parseFloat(parseFloat(totalValue)+(parseFloat(data.ProductsAddedToCart[i].CurrentPricePerUnit)*parseFloat(data.ProductsAddedToCart[i].ProductQty))).toFixed(2);}
pintrk("track","addtocart",{value:parseFloat(totalValue),currency:'USD',line_items:productsAddedToCart});};_dsgTag.EventHandlers.AddEventHandler("AddToCart",FireAddToCartPixel);}}catch(ex){}},d);break;}
case _dsgTag.PageTypes.OrderConfirmation:{_dsgTag.DataLayer.PassValuesToFunction(["ProductListArray","OrderID","OrderTotal","OrderTax","OrderShippingRevenue","OrderLevelPromoCodes"],function(products,orderID,orderTotal,orderTax,orderShipping,orderLevelPromos){var revenue=parseFloat(parseFloat(orderTotal-orderTax-orderShipping).toFixed(2));var promoCodeApplied=0;var productArray=[];var product={};for(var i=0;i<products.length;i++){currentProduct=products[i];product={};product.product_id=currentProduct.ProductID;product.product_name=currentProduct.ProductID+" - "+currentProduct.ProductName;product.product_quantity=currentProduct.ProductQty;product.product_brand=currentProduct.ProductBrand;product.product_price=currentProduct.CurrentPricePerUnit;productArray.push(product);}
if(orderLevelPromos.length>0&&orderLevelPromos[0]){promoCodeApplied=1;}
pintrk("track","checkout",{value:revenue,currency:'USD',order_id:orderID,promo_code:promoCodeApplied,line_items:productArray});},d);break;}}});};var FireEmailSignUpPixel=function(){pintrk("track","signup",{lead_type:"Email"});};_dsgTag.EventHandlers.AddEventHandler("EmailSignup",FireEmailSignUpPixel);_dsgTag.EventHandlers.AddEventHandler("NewPageView",FirePinterestPixel);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType'].toString().toLowerCase()!='Checkout Payment'.toLowerCase()&&utag.data['js_page._dsgTag.currentWebsite.Abbreviation']=='DSG'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("PromoteIQ",_dsgTag.InitTimings.WindowComplete,[{t:"site",c:"=",v:"DSG"},{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var promoteIQID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:promoteIQID="16";break;}
if(promoteIQID){var PromoteIQCallback=function(promoteResponse){console.log("PromoteIQ response object array for use in PLA rendering:",promoteResponse);};var FirePromoteIQSponsoredProductPixel=function(data){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://cdn.tagdelivery.com/request/client/standard.js",function(){var requestObject={slot:promoteIQID,count:6};if(_dsgTag.pageType===_dsgTag.PageTypes.Category){requestObject.targets={category:[_dsgTag.DataLayer.GetValue("CategoryID",data)]};}else if(_dsgTag.pageType===_dsgTag.PageTypes.Family){requestObject.targets={category:[_dsgTag.DataLayer.GetValue("FamilyID",data)]};}
TagDeliveryContent.request(requestObject,PromoteIQCallback);});};var FirePromoteIQConversionPixel=function(data){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction("https://cdn.tagdelivery.com/data/client/standard.js",function(){_dsgTag.DataLayer.PassValuesToFunction(["OrderID","OrderTotal","OrderTax","OrderShippingRevenue","ProductListArray"],function(orderID,orderTotal,taxTotal,shippingTotal,productList){var revenue="0.00";if(orderTotal&&taxTotal&&shippingTotal){revenue=parseFloat(orderTotal-taxTotal-shippingTotal).toFixed(2);}
var items=[]
if(productList){var currentItem={};for(var i=0;i<productList.length;i++){currentItem={};currentItem.pid=promoteIQID;currentItem.txnid=orderID;currentItem.sku=productList[i].ProductID;currentItem.customer=_dsgTag.CustomerIDs.AdobeMCVID;currentItem.qty=productList[i].ProductQty;currentItem.price=productList[i].CurrentPricePerUnit;currentItem.currency='USD';currentItem.brand=productList[i].ProductBrand;items.push(currentItem);}}
var trackObject={};trackObject.user=_dsgTag.CustomerIDs.AthleteID;trackObject.pid=promoteIQID;trackObject.txnid=orderID;trackObject.customer=_dsgTag.CustomerIDs.AdobeMCVID;trackObject.revenue=revenue;trackObject.shipping=shippingTotal;trackObject.tax=taxTotal;trackObject.currency='USD';trackObject.items=items;TagDeliveryData.collect("conversion:summary",trackObject);},data);});}
_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(object,data){if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){FirePromoteIQConversionPixel(data);}else{}});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Riskified",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var firstFire=true;(function(){function riskifiedBeaconLoad(){var domainValue="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{domainValue="dcsg.com";break;}
case _dsgTag.Websites.GolfGalaxy:{domainValue="ggxy.com";break;}
case _dsgTag.Websites.FieldAndStream:{domainValue="fns.com";break;}}
if(domainValue){var store_domain=(!_dsgTag.isProduction?"np5.":"")+domainValue;var session_id=_dsgTag.CustomerIDs.AdobeMCVID;var url=('https:'==document.location.protocol?'https://':'http://')+"beacon.riskified.com?shop="+store_domain+"&sid="+session_id;var s=document.createElement('script');s.type='text/javascript';s.async=true;s.src=url;var x=document.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}
_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(o,d){if(!firstFire){try{RISKX.go(_dsgTag.DataLayer.GetValue("PageURL"),d);}catch(ex){}}
firstFire=false;});}
riskifiedBeaconLoad();})();});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['js_page._dsgTag.pageType'].toString().toLowerCase().indexOf('chat'.toLowerCase())<0){_dsgTag.FunctionRepository.RegisterTag("SessionCam",_dsgTag.InitTimings.Immediate,[{t:"page",c:"^!=",v:"Chat"}],function(){if((_dsgTag.customerLane%10===0&&typeof _dsgTag.CustomerIDs.AdobeMCVID!=="undefined"&&parseInt(_dsgTag.CustomerIDs.AdobeMCVID[0])%2===0)||_dsgTag.currentWebsite===_dsgTag.Websites.Calia||_dsgTag.experience=="Mobile App"||_dsgTag.pageType===_dsgTag.PageTypes.Protips||_dsgTag.HelperFunctions.GetCookieValue("TagForceSessionCam")){_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction('//'+'d2oh4tlt9mrke9.cloudfront.net/Record/js/sessioncam.recorder.js',function(){if(!window.sessioncamConfiguration)
window.sessioncamConfiguration={};if(!window.sessioncamConfiguration.customDataObjects)
window.sessioncamConfiguration.customDataObjects=[];var jSession=_dsgTag.HelperFunctions.GetCookieValue("JSESSIONID");if(jSession){window.sessioncamConfiguration.customDataObjects.push({key:"JSESSIONID",value:jSession});}
var setErrorObject=function(event,data){_dsgTag.DataLayer.PassValuesToFunction(["ErrorMessage","PageURL"],function(dataLayerErrors,pageURL){var errorMessage=data?data.ErrorMessage:dataLayerErrors;if(errorMessage){window.sessioncamConfiguration.customDataObjects.push({key:"ErrorMessage",value:pageURL+" - "+errorMessage});}});};setErrorObject();_dsgTag.EventHandlers.AddEventHandler("SiteError",setErrorObject);});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0')){_dsgTag.FunctionRepository.RegisterTag("Snapchat",_dsgTag.InitTimings.WindowComplete,[{t:"page",c:"!=",v:"Checkout Payment"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var ID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{ID="26683e68-9921-4109-b8a3-6385a3ccb259";break;}
case _dsgTag.Websites.Calia:{ID="fb22e623-6c8c-426b-9fa8-3664f1aeb381";break;}}
if(ID){(function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function(){a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments);};a.queue=[];var s='script';r=t.createElement(s);r.async=!0;r.src=n;var u=t.getElementsByTagName(s)[0];u.parentNode.insertBefore(r,u);})(window,document,'https://sc-static.net/scevent.min.js');snaptr('init',ID,{'user_hashed_email':_dsgTag.CustomerIDs.HashedEmail});var FireSnapChatPixel=function(o,d){var pageData={};if(_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){pageData={'item_ids':[_dsgTag.DataLayer.GetValue("ProductID",d)]};snaptr('track','VIEW_CONTENT',pageData);}
else if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){var total=_dsgTag.DataLayer.GetValue("OrderTotal",d);var tax=_dsgTag.DataLayer.GetValue("OrderTax",d);var shipping=_dsgTag.DataLayer.GetValue("OrderShippingRevenue",d);snaptr('track','PURCHASE',{'currency':'USD','price':(total-tax-shipping).toFixed(2),'transaction_id':_dsgTag.DataLayer.GetValue("OrderID",d),'item_ids':_dsgTag.DataLayer.GetValue("ProductIDList",d)});}
snaptr('track','PAGE_VIEW',pageData);};_dsgTag.EventHandlers.AddEventHandler("AddToCart",function(eventObject,eventData){if(typeof(eventData)!="undefined"){if(typeof eventData.data!=="undefined"){eventData={"ProductsAddedToCart":[eventData.data],"NewCart":"N"};}
if(typeof eventData.ProductsAddedToCart!=="undefined"){var products=[];for(var i=0;i<eventData.ProductsAddedToCart.length;i++){products.push(eventData.ProductsAddedToCart[i].ProductID);}
snaptr('track','ADD_CART',{'item_ids':products});}}});_dsgTag.EventHandlers.AddEventHandler("NewPageView",FireSnapChatPixel);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((utag.data['js_page._dsgTag.currentWebsite.Abbreviation']=='DSG'&&utag.data['js_page._dsgTag.pageType']=='Order Confirmation'&&utag.data['js_page._dsgTag.isAOS']=='0')){_dsgTag.FunctionRepository.RegisterTag("TrueFit",_dsgTag.InitTimings.WindowComplete,[{t:"site",c:"=",v:"DSG"},{t:"page",c:"==",v:"Order Confirmation"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var trueFitID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:trueFitID="dsg";break;}
if(trueFitID){var SetupTrueFitLibrary=function(){(function(){var a={};function g(l){a[l]=function(r,e,o){var w=window,d=document,p=[],t,s,x;w.tfcapi=t=w.tfcapi||function(){t.q=t.q||[];t.q.push(arguments);};o&&o.forceMobile===true&&p.push('deviceType=mobile');o&&o.autoCalculate===false&&p.push('autoCalculate=false');x=d.getElementsByTagName('script')[0];s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://'+r+'-cdn'+(e==='dev'||e==='staging'?'.'+e:'')+'.truefitcorp.com/fitrec/'+r+'/js/'+l+'.js?'+p.join('&');x.parentNode.insertBefore(s,x);}}
g('fitrec');g('tracker');return a;})().tracker(trueFitID,_dsgTag.isProduction?'prod':'staging');};var FireTrueFitConversionPixel=function(data){_dsgTag.DataLayer.PassValuesToFunction(["OrderID","ProductListArray"],function(orderID,productList){var items=[]
if(productList){var currentItem={};for(var i=0;i<productList.length;i++){currentItem={};currentItem.productId=productList[i].ProductID;currentItem.sku=productList[i].ProductSKU;currentItem.quantity=parseInt(productList[i].ProductQty);currentItem.price=parseFloat(productList[i].CurrentPricePerUnit);currentItem.currency='USD';items.push(currentItem);}}
var orderInfo={};orderInfo.userId=_dsgTag.CustomerIDs.AthleteID;orderInfo.orderId=orderID;orderInfo.locale='en_US';orderInfo.products=items;tfcapi('track','checkout',orderInfo);},data);};SetupTrueFitLibrary();_dsgTag.EventHandlers.AddEventHandler("NewPageView",function(object,data){if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){FireTrueFitConversionPixel(data);}});}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/DSG|FNS/.test(utag.data['js_page._dsgTag.currentWebsite.Abbreviation'])&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.pageType']!='Checkout Payment'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType'])&&utag.data['js_page._dsgTag.pageType'].toString().indexOf('Protips')<0)){_dsgTag.FunctionRepository.RegisterTag("Twitter",_dsgTag.InitTimings.WindowComplete,[{t:"site",c:"=",v:["DSG","FNS"]},{t:"page",c:"*!=",v:"Protips"},{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var pixelID="";switch(_dsgTag.currentWebsite){case _dsgTag.Websites.DicksSportingGoods:{pixelID="nv4gu";break;}
case _dsgTag.Websites.FieldAndStream:{pixelID="l6v3w";break;}}
var FireTwitterPixel=function(o,d){if(_dsgTag.pageType!==_dsgTag.PageTypes.OrderConfirmation){!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');twq('init',pixelID);twq('track','PageView');if(_dsgTag.currentWebsite===_dsgTag.Websites.DicksSportingGoods){twq('init','nz6sy');twq('track','PageView');}}else{_dsgTag.DataLayer.PassValuesToFunction(["OrderID","ProductSKUList","ProductQuantityList","OrderTotal","OrderTax","OrderShippingRevenue"],function(order_id,productSKUList,productQuantityList,orderTotal,taxTotal,shippingTotal){var eventType='Purchase';var num_items='';var content_type='';var content_ids='';var content_name='';var content_category='';var currency='USD';var status='';var trackObject={};var totalQuantity=0;if(typeof productSKUList==="string")
productSKUList=productSKUList.split(",");if(typeof productQuantityList==="string")
productQuantityList=productQuantityList.split(",");if(orderTotal&&taxTotal&&shippingTotal){revenue=parseFloat(orderTotal-taxTotal-shippingTotal).toFixed(2);}
if(productSKUList){content_type="product";content_ids=productSKUList;}
if(productQuantityList){for(var i=0;i<productQuantityList.length;i++){if(!isNaN(Number(productQuantityList[i]))){totalQuantity+=Number(productQuantityList[i]);}}
num_items=totalQuantity.toString();}
if(revenue)
trackObject.value=revenue;if(currency)
trackObject.currency=currency;if(content_name)
trackObject.content_name=content_name;if(content_category)
trackObject.content_category=content_category;if(content_ids)
trackObject.content_ids=content_ids;if(content_type)
trackObject.content_type=content_type;if(num_items)
trackObject.num_items=num_items;if(order_id)
trackObject.order_id=order_id;if(status)
trackObject.status=status;!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}
(window,document,'script');twq('init',pixelID);twq('track',eventType,trackObject);},d);}};if(pixelID){_dsgTag.EventHandlers.AddEventHandler("NewPageView",FireTwitterPixel);}});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if((/DSG/.test(utag.data['js_page._dsgTag.currentWebsite.Abbreviation'])&&utag.data['js_page._dsgTag.isAOS']=='0'&&utag.data['js_page._dsgTag.isIFrame']=='0'&&utag.data['js_page._dsgTag.pageType'].toString().toLowerCase()!='Checkout Payment'.toLowerCase()&&!/^Chat/i.test(utag.data['js_page._dsgTag.pageType']))){_dsgTag.FunctionRepository.RegisterTag("Vibes",_dsgTag.InitTimings.WindowComplete,[{t:"site",c:"=",v:"DSG"},{t:"page",c:"!=",v:"Checkout Payment"},{t:"page",c:"^!=",v:"Chat"},{t:"aos",c:"=",v:"false"},{t:"iframe",c:"=",v:"false"}],function(){var VibesPageView=function(o,d){if(_dsgTag.pageType===_dsgTag.PageTypes.ProductDetails){var product={id:_dsgTag.DataLayer.GetValue("ProductID",d),name:_dsgTag.DataLayer.GetValue("ProductName",d),brand:_dsgTag.DataLayer.GetValue("ProductDetails",d)[0].ProductBrand};vTag("detail",product);}else if(_dsgTag.pageType===_dsgTag.PageTypes.OrderConfirmation){var products=[];var productData=_dsgTag.DataLayer.GetValue("ProductListArray",d);for(var i=0;i<productData.length;i++){products.push({id:productData[i].ProductID,price:productData[i].CurrentPricePerUnit,name:productData[i].ProductName,brand:productData[i].ProductBrand,quantity:productData[i].ProductQty});}
var revenue="0.00";if(_dsgTag.DataLayer.GetValue("OrderTotal",d)&&_dsgTag.DataLayer.GetValue("OrderTax",d)&&_dsgTag.DataLayer.GetValue("OrderShippingRevenue",d)){revenue=parseFloat(_dsgTag.DataLayer.GetValue("OrderTotal",d)-_dsgTag.DataLayer.GetValue("OrderTax",d)-_dsgTag.DataLayer.GetValue("OrderShippingRevenue",d)).toFixed(2);}
var purchase={id:_dsgTag.DataLayer.GetValue("OrderID",d),revenue:revenue,tax:_dsgTag.DataLayer.GetValue("OrderTax",d),shipping:_dsgTag.DataLayer.GetValue("OrderShippingRevenue",d),products:products};vTag("purchase",purchase);}};var VibesAddToCart=function(o,d){if(typeof d.data!=="undefined"){d={"ProductsAddedToCart":[d.data],"NewCart":"N"};}
var product={id:d.ProductsAddedToCart[0].ProductID,price:d.ProductsAddedToCart[0].CurrentPricePerUnit,name:d.ProductsAddedToCart[0].ProductName,quantity:d.ProductsAddedToCart[0].ProductQty};vTag("add",product);};var VibesRemoveFromCart=function(o,d){var product={id:d.RemovedProductID};vTag("remove",product);};var scriptLocation="https://tagtracking.vibescm.com/tag";_dsgTag.HelperFunctions.LoadScriptAsyncAndCallFunction(scriptLocation,function(){window.vTagData=window.vTagData||[];window.vTag=function(a,v,c){if(_dsgTag.HelperFunctions.GetCookieValue("vibes_tag_person")){vTagData.push([a,v,c]);}};_dsgTag.EventHandlers.AddEventHandler("NewPageView",VibesPageView);_dsgTag.EventHandlers.AddEventHandler("AddToCart",VibesAddToCart);_dsgTag.EventHandlers.AddEventHandler("CartRemoveProduct",VibesRemoveFromCart);});});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}})
if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}