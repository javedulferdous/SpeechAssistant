(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[2],{1:function(e,t,n){"use strict";function r(e,t){return e+t}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return _})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return k})),n.d(t,"l",(function(){return S})),n.d(t,"r",(function(){return u})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return z})),n.d(t,"u",(function(){return M})),n.d(t,"v",(function(){return A})),n.d(t,"w",(function(){return R})),n.d(t,"x",(function(){return L})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return a})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return B})),n.d(t,"C",(function(){return s})),n.d(t,"D",(function(){return P})),n.d(t,"E",(function(){return g})),n.d(t,"F",(function(){return l})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return D})),n.d(t,"I",(function(){return F})),n.d(t,"J",(function(){return V})),n.d(t,"L",(function(){return U})),n.d(t,"M",(function(){return d})),n.d(t,"N",(function(){return H})),n.d(t,"Q",(function(){return G})),n.d(t,"R",(function(){return W})),n.d(t,"O",(function(){return Y})),n.d(t,"P",(function(){return J})),n.d(t,"S",(function(){return Z})),n.d(t,"T",(function(){return X})),n.d(t,"U",(function(){return $})),n.d(t,"V",(function(){return ee})),n.d(t,"W",(function(){return Q})),n.d(t,"X",(function(){return te})),n.d(t,"Y",(function(){return re})),n.d(t,"Z",(function(){return ie})),n.d(t,"ab",(function(){return ae})),n.d(t,"bb",(function(){return oe})),n.d(t,"cb",(function(){return ce})),n.d(t,"db",(function(){return ue})),n.d(t,"eb",(function(){return se})),n.d(t,"fb",(function(){return le})),n.d(t,"gb",(function(){return pe})),n.d(t,"hb",(function(){return me})),n.d(t,"ib",(function(){return he})),n.d(t,"jb",(function(){return be})),n.d(t,"lb",(function(){return ge})),n.d(t,"mb",(function(){return ye})),n.d(t,"nb",(function(){return ve})),n.d(t,"ob",(function(){return Oe})),n.d(t,"pb",(function(){return _e})),n.d(t,"qb",(function(){return we})),n.d(t,"rb",(function(){return je})),n.d(t,"sb",(function(){return xe})),n.d(t,"K",(function(){return Ee})),n.d(t,"kb",(function(){return Ce})),n.d(t,"ub",(function(){return Se})),n.d(t,"tb",(function(){return Te})),n.d(t,"vb",(function(){return ze})),n.d(t,"wb",(function(){return Me})),n.d(t,"xb",(function(){return K})),n.d(t,"yb",(function(){return Re})),n.d(t,"zb",(function(){return Ae}));var i={}.hasOwnProperty;function a(e,t){return i.call(t,e)}function o(){return(o=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)a(n,t)&&(e[n]=t[n])})),e}).apply(void 0,arguments)}var c=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function u(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}var s=Array.isArray;function l(e){return"object"===typeof e&&null!==e&&!s(e)}function d(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}function p(e){return s(e)?e.map(p):l(e)?d(p,e):e}function f(e){var t=e.trim();return 0===t.length?"":1===t.length?t.toLowerCase():/^[a-z\d]+$/.test(t)?t:(t!==t.toLowerCase()&&(t=function(e){for(var t=e,n=!1,r=!1,i=!1,a=0;a<t.length;a++){var o=t[a];n&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,a)+"-"+t.slice(a),n=!1,i=r,r=!0,a++):r&&i&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,a-1)+"-"+t.slice(a-1),i=r,r=!1,n=!0):(n=o.toLowerCase()===o,i=r,r=o.toUpperCase()===o)}return t}(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})))}function m(e){return s(e)?e.filter((function(e){return null!==e&&void 0!==e})):Object.keys(e).reduce((function(t,n){var r=e[n];return null!==r&&void 0!==r&&(t[n]=r),t}),{})}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function b(e,t){var n;return function(){clearTimeout(n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n=setTimeout.apply(void 0,[t,e].concat(i))}}function g(e){return null===e||void 0===e}function v(e){return function(t){return g(t)?e:t}}function y(e,t){return t.slice(0,-e)}function O(e){return s(e)?e:[e]}function _(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e(r))return r}}function j(e,t){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function x(e,t){return w((function(n){return e(t[n])}),Object.keys(t))}function E(e,t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n]}function C(e,t,n){for(var r=t;r>=0;r--)if(e(n[r]))return r;return-1}function k(e,t){return C(e,t.length-1,t)}function S(e,t){for(var n=[];e--;)n.push(t);return n}function I(e){return e}function T(e,t){return Object.keys(t).forEach((function(n){e(t[n],n)}))}var z=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})};function M(){return Math.random().toString(36).substring(2)}function A(e){var t=M();return a(t,e)?A(e):t}function R(e,t){for(var n="string"===typeof e?e.split("."):e,r=0,i=t;i&&r<n.length;)i=i[n[r++]];return i}function L(e,t,n){var r=R(t,n);return void 0!==r&&null!==r?r:e}function N(e,t){return Object.keys(t).reduce((function(n,r){var i=e(r);return n[i]=n[i]||{},n[i][r]=t[r],n}),{})}function B(e,t){return-1!==t.indexOf(e)}function P(e){return 0===(s(e)?e:Object.keys(e)).length}var q=function(e){return!!e&&"function"===typeof e.then};function D(e,t){return t.reduce((function(t,n){return t[n[e]]=n,t}),{})}function F(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function V(e){return e.length>0?e[e.length-1]:null}function U(e,t){return Object.keys(t).reduce((function(n,r){return n[e(r)]=t[r],n}),{})}function H(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=e(t[r],r),n}),{})}function G(e,t){if(P(t))return e;var n={};return T((function(r,i){if(a(i,t))if(l(e[i])&&l(t[i]))n[i]=G(e[i],t[i]);else if(s(e[i])&&s(t[i])){var o=Math.max(e[i].length,t[i].length);n[i]=new Array(o);for(var c=0;c<o;c++)c in t[i]?n[i][c]=t[i][c]:c in e[i]&&(n[i][c]=e[i][c])}else n[i]=t[i];else n[i]=e[i]}),e),T((function(e,r){a(r,n)||(n[r]=t[r])}),t),n}function W(e){if(0===e.length)return{};var t=e[0];return e.slice(1).reduce((function(e,t){return G(e,t)}),t)}function Y(e){return function(e,t){var n={};return function(){var r=e.apply(void 0,arguments);if(a(r,n))return n[r];var i=t.apply(void 0,arguments);return n[r]=i,i}}(I,e)}function J(e){var t,n,r=!1;return function(){return r&&(arguments.length<=0?void 0:arguments[0])===n?t:(r=!0,n=arguments.length<=0?void 0:arguments[0],t=e.apply(void 0,arguments))}}function Z(){}function K(e){return Object.keys(e).map((function(t){return e[t]}))}function X(e,t){var n="function"===typeof e?e:function(t){return R(e,t)};return(s(t)?[].concat(t):K(t)).sort((function(e,t){return n(e)-n(t)}))}function Q(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r],r)||(n[r]=t[r]),n}),{})}function $(e,t){return Q((function(t,n){return-1!==e.indexOf(n)}),t)}function ee(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r])||(n[r]=t[r]),n}),{})}function te(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(void 0,arguments))}}function ne(e,t){return[e,t]}function re(e,t){return Object.keys(t).reduce((function(n,r){return n[e(t[r])?0:1][r]=t[r],n}),[{},{}])}function ie(e,t){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}function ae(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{})}function oe(e,t){return Object.keys(t).reduce((function(n,r){return e(t[r],r)&&(n[r]=t[r]),n}),{})}function ce(e,t){return e.reduce((function(e,n){return a(n,t)&&(e[n]=t[n]),e}),{})}function ue(e){for(var t=[],n=0;n<=e;)t.push(n++);return t}function se(e,t){return t.filter((function(t){return!e(t)}))}function le(e,t){var n=[].concat(t);return n.splice(e,1),n}var de=n(3);function pe(e,t,n){var r,i=e.split?e.split("."):e,o=i[0],c=t;if(i.length>1){var u=null!=n&&a(o,n)?n[o]:{};c=pe(i.slice(1),t,u)}return Object(de.a)({},n,((r={})[o]=c,r))}function fe(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function me(e,t){if(fe(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!a(n[i],t)||!fe(e[n[i]],t[n[i]]))return!1;return!0}function he(e){return"number"!==typeof e||isNaN(e)?NaN:0===e?0:-0===e?-0:e>0?1:-1}function be(e,t){return[t.slice(0,e),t.slice(e,t.length)]}function ge(e){return e.reduce(r,0)}function ve(e,t,n){var r=C((function(t){return!e(t)}),t,n);return r===t?[]:n.slice(r+1,t+1)}function ye(e,t){return ve(e,t.length-1,t)}function Oe(e,t){var n,r=Date.now()-2*e,i=function(){r=Date.now(),t.apply(void 0,arguments)};return function(){for(var t=Date.now(),a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];t-r>=e?i.apply(void 0,o):(clearTimeout(n),n=setTimeout.apply(void 0,[i,r-t+e].concat(o)))}}function _e(e){return Array.prototype.slice.call(e)}var we=function(e,t){return Number(e.toFixed(t))},je=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))};function xe(e,t){var n,r=Date.now()-2*e,i=function(){return r=Date.now(),t.apply(void 0,arguments)};return function(){var t=Date.now();t-r>=e&&(r=Date.now()),clearTimeout(n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];n=setTimeout.apply(void 0,[i,r-t+e].concat(o))}}function Ee(e,t){var n=0;return function(){var r=Date.now();r-n>=e&&(n=Date.now(),t.apply(void 0,arguments))}}var Ce=function(e,t){return e===t?0:e<t?-1:1},ke=/^\s+/;function Se(e){return e.replace(ke,"")}var Ie=/\s+$/;function Te(e){return e.replace(Ie,"")}function ze(e,t){var n=[];return t.filter((function(t){var r=e(t);return-1===n.indexOf(r)&&(n.push(r),!0)}))}function Me(e,t,n){return[].concat(n.slice(0,e),[t],n.slice(e+1,n.length))}function Ae(e,t,n){return t.map((function(t,r){return e(t,n[r])}))}function Re(e,t){return Ae(ne,e,t)}},10:function(e,t,n){"use strict";n.r(t),n.d(t,"getView",(function(){return u})),n.d(t,"getDefaultView",(function(){return s})),n.d(t,"getCurrentView",(function(){return l})),n.d(t,"getConnectionState",(function(){return d})),n.d(t,"getEvent",(function(){return m})),n.d(t,"getEventByServerId",(function(){return h})),n.d(t,"hasEvent",(function(){return b})),n.d(t,"hasEventByServerId",(function(){return g})),n.d(t,"getIndexedEvents",(function(){return v})),n.d(t,"getEvents",(function(){return y})),n.d(t,"getChat",(function(){return O})),n.d(t,"getChatByServerId",(function(){return _})),n.d(t,"hasChat",(function(){return w})),n.d(t,"getChats",(function(){return j})),n.d(t,"getUsers",(function(){return x})),n.d(t,"getSessionUser",(function(){return E})),n.d(t,"getUser",(function(){return C})),n.d(t,"getUserByServerId",(function(){return k})),n.d(t,"hasUser",(function(){return S})),n.d(t,"getTimeline",(function(){return I})),n.d(t,"getChatList",(function(){return T})),n.d(t,"getSessionUserId",(function(){return z})),n.d(t,"getLastDeliveredEvent",(function(){return M})),n.d(t,"getLastSeenEvent",(function(){return A})),n.d(t,"getLastEvent",(function(){return R})),n.d(t,"getUnseenCount",(function(){return P})),n.d(t,"getLastSeenAgentEvent",(function(){return q})),n.d(t,"getParticipants",(function(){return D})),n.d(t,"localize",(function(){return F})),n.d(t,"getApplicationState",(function(){return V}));var r=n(3),i=n(82),a=n(1),o=n(68),c=function(e,t){return t},u=function(e,t){var n=t.replace(/\//gi,".");return Object(a.w)(n,e.views)},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(a.w)(n+"._default",e.views)},l=function(e){return e.views.current},d=function(e){return e.session.connectionState},p=function(e){return e.entities.chats.byIds},f=function(e,t){return p(e)[t]},m=function(e,t,n){return f(e,t).events.byIds[n]},h=function(e,t,n){return m(e,t,f(e,t).events.serverIdsMapping[n])},b=function(e,t,n){return!!m(e,t,n)},g=function(e,t,n){return!!h(e,t,n)},v=function(e,t){return f(e,t).events.byIds},y=Object(i.a)([function(e,t){return f(e,t).events.orderedIds},v],(function(e,t){return e.map((function(e){return t[e]}))}))(c),O=Object(i.a)([f,y],(function(e,t){return Object(r.a)({},e,{events:t})}))(c),_=function(e,t){return O(e,e.entities.chats.serverIdsMapping[t])},w=function(e,t){return!!f(e,t)},j=function(e){return Object(a.M)((function(t){var n=t.id;return O(e,n)}),p(e))},x=function(e){return e.entities.users.byIds},E=function(e){return x(e)[function(e){return e.session.id}(e)]},C=function(e,t){return x(e)[t]},k=function(e,t){return C(e,e.entities.users.serverIdsMapping[t])},S=function(e,t){return!!C(e,t)},I=function(e,t){return e.views.Chat[t].timeline},T=function(e){return e.views.ChatList},z=function(e){return E(e).id},M=Object(i.a)([y,z],(function(e,t){return Object(a.p)((function(e){var n=e.delivered,r=e.author;return n&&r===t}),e)}))(c),A=Object(i.a)([y,z],(function(e,t){return Object(a.p)((function(e){var n=e.seen,r=e.author;return n&&r===t}),e)}))(c),R=function(e,t){return Object(a.J)(y(e,t))},L={boosters:!0,form:!0,system_message:!0},N=Object(o.createSelector)([y,function(e){return E(e).id}],(function(e,t){return Object(a.q)((function(e){var n=e.author===t&&"message"===e.type,r=!!e.properties&&"file"===e.properties.serverType,i=!0===e.seen&&!L[e.type]&&e.serverId;return n&&!r||i}),e)})),B=function(e,t){return e.author!==t&&!e.seen&&!L[e.type]},P=function(e,t){var n=N(e,t),r=E(e).id;return y(e,t).slice(n+1).filter((function(e){return B(e,r)})).length},q=function(e,t){var n=N(e,t);if(-1===n)return null;var r=E(e).id,i=y(e,t).slice(n+1);return Object(a.m)((function(e){return B(e,r)}),i)},D=Object(i.a)([function(e,t){return f(e,t).participants},x],(function(e,t){return e.map((function(e){return t[e]}))}))(c),F=function(e,t,n){var r=e.localization[t];return n?Object.keys(n).reduce((function(e,t){return e.replace(new RegExp("%"+t+"%","g"),n[t])}),r):r},V=function(e,t){return void 0===t?e.application:e.application[t]}},100:function(e,t,n){"use strict";t.a=function(e){return new Promise((function(t){t(e())}))}},104:function(e,t,n){"use strict";var r=n(60);t.a=Object(r.b)()?window.localStorage:r.a},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}}),(function(e){return{status:"rejected",reason:e}}))})))}var a=function(e){var t=Object.keys(e);return Promise.all(Object(r.xb)(e)).then((function(e){return Object(r.t)(Object(r.yb)(t,e))}))}},117:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(1),i=n(26),a=n(125),o=function(e,t){var n=Object(r.L)((function(e){return"message"===e?"textarea":e}),e);return t.fields.map((function(e){if("information"===e.type)return null;var t={type:e.type,text:a.a?Object(i.b)(e.label):e.label,serverType:e.serverType};return(e.name in n||e.type in n)&&("options"in e?t.value=Object(r.j)(n[e.name]).map((function(t){return Object(r.m)((function(e){return e.value===t}),e.options).label})).join(", "):e.name in n?t.value=n[e.name]:t.value=n[e.type],t.value=Object(r.tb)(t.value),t.text=t.text+" "+t.value),t})).filter(Boolean)},c=function(e,t,n){var i=e.group,a=e.license,c=e.visitorId,u=e.visitorData,s=e.defaultValues,l=o(n,t),d=Object(r.m)((function(e){return"email"===e.type||"email"===e.serverType}),l);if(!d)throw{type:"missing argument",reason:"Missing email"};if(!Object(r.m)((function(e){return"textarea"===e.type}),l))throw{type:"missing argument",reason:"Missing message"};var p=Object(r.m)((function(e){return"name"===e.type||"name"===e.serverType}),l),f=Object(r.m)((function(e){return"subject"===e.type||"subject"===e.serverType}),l),m=l.filter((function(e){var t=e.type,n=e.serverType;return-1===["name","email","subject"].indexOf(n||t)})).map((function(e){return e.text})).join("\n"),h={mail:d.value};p?h.name=p.value:s&&s.name&&(h.name=s.name);var b={group:i,licence_id:a,ticket_message:m,offline_message:l.map((function(e){return e.text})).join("\n"),requester:h,visitor_id:c};return f&&f.value&&(b.subject=f.value),u.pageUrl&&(b.source={url:u.pageUrl}),b},u=function(e,t){var n={id:e,text:t.ticket_message,visitor:{name:t.requester.name||null,email:t.requester.mail||null}};return t.subject&&(n.subject=t.subject),n}},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"j",(function(){return E})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return k})),n.d(t,"l",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"k",(function(){return z})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return R})),n.d(t,"w",(function(){return L})),n.d(t,"z",(function(){return N})),n.d(t,"E",(function(){return B})),n.d(t,"D",(function(){return P})),n.d(t,"G",(function(){return q})),n.d(t,"v",(function(){return D})),n.d(t,"H",(function(){return F})),n.d(t,"I",(function(){return V})),n.d(t,"f",(function(){return H})),n.d(t,"h",(function(){return G})),n.d(t,"g",(function(){return W})),n.d(t,"J",(function(){return Y})),n.d(t,"m",(function(){return J})),n.d(t,"C",(function(){return Z})),n.d(t,"B",(function(){return Q})),n.d(t,"a",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"A",(function(){return ne})),n.d(t,"u",(function(){return ie})),n.d(t,"t",(function(){return ae})),n.d(t,"s",(function(){return oe})),n.d(t,"i",(function(){return ce})),n.d(t,"o",(function(){return ue})),n.d(t,"b",(function(){return se})),n.d(t,"n",(function(){return le})),n.d(t,"F",(function(){return de})),n.d(t,"d",(function(){return pe}));var r=n(8),i=n(2),a=n(105),o=n(1),c=n(14),u=n(186),s=n.n(u),l=n(187),d=n.n(l),p=n(4),f=n(20),m=n(5),h=n(149),b=function(e){var t=0;return e.split("").forEach((function(e){var n=e.charCodeAt(0);t=(t<<5)-t+n,t&=t})),t},g=function(e,t){return b(e)%(1/t)===0},v=n(34),y=function(e){var t=e.customJson||{},n=Object(f.d)(e.titlebarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.05)",r=Object(f.d)(e.agentbarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.05)",a=Object(f.d)(e.agentbarBackgroundColor)?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.1)",c=Object(f.e)(e.ctaColor)?v.text.black:v.text.white;return Object(o.Q)({name:e.name,iconTheme:e.name,showMessageAvatar:"modern"!==e.name,colors:{agentBarText:e.agentbarText,agentBarBackground:e.agentbarBackgroundColor,cta:e.ctaColor,ctaText:c,minimizedIcon:e.minimizedColorIcon,minimizedBackground:e.minimizedColorBackground,background:e.backgroundColor,visitorMessageText:e.visitorMessageColorText,visitorMessageBackground:e.visitorMessageBackgroundColor,systemMessage:e.systemMessageColor,agentMessageText:e.agentMessageColorText,minimizedText:e.minimizedColorText,titleBarText:e.titlebarText,titleBarBackgroundColor:e.titlebarBackgroundColor},AgentBar:{css:{background:e.agentbarBackgroundColor,color:e.agentbarText},IconButton:{css:{background:{default:r,active:e.ctaColor},color:Object(i.a)({default:"inherit"},"modern"!==e.name&&{active:c})}}},Form:{IconButton:{css:{background:{default:"rgba(0, 0, 0, 0.05)",active:e.ctaColor},color:{default:"#8f8f8f",active:c}}}},ChatSummary:{Icon:{color:e.minimizedColorIcon}},Divider:{css:{borderColor:r}},Maximized:{css:{background:e.backgroundColor}},Message:{own:{Bubble:{css:{background:"modern"===e.name?"transparent":e.visitorMessageBackgroundColor,color:e.visitorMessageColorText}}},system:{Bubble:{css:{color:e.systemMessageColor}}},Bubble:{css:{background:"modern"===e.name?"transparent":e.agentMessageBackgroundColor,color:e.agentMessageColorText}},css:{color:e.systemMessageColor}},TypingIndicator:{css:{color:e.systemMessageColor}},Minimized:{MinimizedBubble:{css:{color:e.minimizedColorText,backgroundColor:{default:e.minimizedColorBackground,hasAvatar:"transparent"}},Icon:{color:e.minimizedColorIcon}},MinimizedBar:{css:{color:e.minimizedColorText,backgroundColor:e.minimizedColorBackground},Icon:{color:e.minimizedColorIcon}}},TitleBar:{css:{color:e.titlebarText,backgroundColor:e.titlebarBackgroundColor},HourGlassLabel:{css:{backgroundColor:n}}},DividerLabel:{css:{color:e.systemMessageColor,borderColor:a}},TextComposer:{IconButton:{active:{Icon:{color:e.ctaColor}}}}},t)},O=[0,2,4,6,8,1,3,5,7,9],_=function(e){return e.replace(/\b(?:\d[ -]*?){8,15}((?:\d[ -]*?){4})\b/g,(function(e,t){var n=e.replace(/(-|\s)/g,"");return function(e){if(/[^0-9-\s]+/.test(e))return!1;for(var t,n=e.replace(/\D/g,""),r=n.length,i=1,a=0;r;)t=parseInt(n.charAt(--r),10),a+=(i^=1)?O[t]:t;return a&&a%10===0}(n)?""+function(e){var t=e%4,n=t?4-t:0,r=Math.floor(e/4)+(t?1:0)-n-1,i=Object(o.l)(n,"XXX"),a=Object(o.l)(r,"XXXX");return i.concat(a).join("-").concat("-")}(n.length)+t:e}))},w=n(69);(new s.a).tlds(d.a);var j=function(e,t,n){var r=Object(o.n)((function(t){return t.name===e}),n);return-1!==r?Object(o.wb)(r,Object(i.a)({},n[r],{defaultValue:t}),n):n},x=function(e,t,n){e.addEvent(t,Object(i.a)({},n,{serverId:n.serverId||null}))},E=function(e){e.updateChat(p.b,{active:!1,properties:{ended:!0,queued:!1,agentIsTyping:!1}})},C=function(e){e.setApplicationState({eyeCatcher:Object(i.a)({},e.getApplicationState().eyeCatcher,{hidden:!0})})},k=function(e){var t=m.c(e);if(t&&t.properties.uniqueId&&!m.J(e,t)){var n=e.getApplicationState().invitation;e.setApplicationState({invitation:Object(i.a)({},n,{hiddenIds:[].concat(n.hiddenIds,[t.properties.uniqueId])})}),"lc3"===e.getApplicationState().protocol&&g(e.getSessionUser().serverId,.01)&&Object(w.d)({minimizedType:m.k(e),greetingId:t.properties.id,greetingUniqueId:t.properties.uniqueId,greetingType:t.properties.type,greetingSubtype:t.properties.subtype,greetingAddon:t.properties.addon||"none"})}},S=function(e){var t=m.c(e);if(t&&t.properties.uniqueId&&!m.eb(e)){var n=e.getApplicationState().invitation;e.setApplicationState({invitation:Object(i.a)({},n,{displayedIds:[].concat(n.displayedIds,[t.properties.uniqueId])})})}},I=function(e){e.setApplicationState({maximized:!0})},T=function(e){e.setApplicationState({maximized:!1})},z=function(e,t){var n=t.id,r=t.thread,i=t.group,a=t.agent,c=t.queued,u=void 0!==c&&c;null===e.getChat(p.b).serverId&&e.setChatServerId(p.b,n);var s={ended:!1,queued:u,fakeAgentMessageId:null};void 0!==a&&(s.currentAgent=a),void 0!==r&&(s.lastThread=r),"number"===typeof i&&(s.group=i),C(e),e.updateChat(p.b,{active:!0,properties:s}),ie(e);var l=m.b(p.b,e);Object(o.w)("properties.isBot",l)?setTimeout((function(){return"loader"===e.getDefaultView("Chat")&&e.setDefaultView("Chat","timeline")}),1500):e.setDefaultView("Chat","timeline"),e.setApplicationState({hidden:!1});var d=e.getApplicationState(),f=d.maximized,h=d.ready;e.setCurrentView("Chat"),h&&!f&&I(e)},M=function(e,t,n){void 0===n&&(n={});var r=m.f("creditCardMasking",e).enabled?_(t):t;return{type:Object(h.a)(r)?"emoji":"message",thread:e.getChat(p.b).active?e.getChat(p.b).properties.lastThread:null,properties:Object(o.e)(Object(i.a)({text:r},n))}},A=function(e,t,n,r){e.sendEvent(t,M(e,n,{triggeredBy:r}))},R=function(e,t,n){var r=e.getApplicationState("invitation").current,a=e.getEvent(t,r),c=M.apply(void 0,[e,n].concat(a&&{fromGreeting:Object(o.Z)(["id","uniqueId"],a.properties)})),u=e.getChat(t).active,s=m.M(e),l=m.f("preChatAfterGreeting",e).enabled;if(s&&!u&&l){var d=m.F(e,"prechat"),f=m.K(e,t);x(e,t,Object(i.a)({},c,{seen:!0,type:p.e,author:e.getSessionUserId(),id:Object(o.v)(e.getIndexedEvents(p.b))})),d||f||B(e)}else e.sendEvent(t,c)},L=function(e,t,n){var r=n.text,i=n.recipients,a=void 0===i?"all":i;e.sendEvent(t,{type:"custom_system_message",thread:e.getChat(p.b).active?e.getChat(p.b).properties.lastThread:null,properties:{text:r.trim(),recipients:a}})},N=function(e,t){e.updateChat(p.b,{properties:{currentAgent:t}})},B=function(e){if(!m.F(e,"prechat")){var t=e.getView("Chat/prechat");K(e,t)}},P=function(e,t){var n=e.getChat(p.b).properties,a=n.rate,o=n.rateComment,c=t.fields,u=Object(r.a)(t,["fields"]);a&&(c=j("rating",a,c)),o&&(c=j("rateComment",o,c)),K(e,Object(i.a)({},u,{fields:c}))},q=function(e){e.updateChat(p.b,{properties:{startChatAgainPending:!0}})},D=function(e,t,n){var r=(void 0===n?{}:n).chatId;e.updateChat(p.b,{properties:{startChatAgainPending:!1}}),ee(e);var i=e.getChat(p.b).properties.lastThread;if(m.z(e)){re(e);var a=m.e(e,p.b);a&&e.removeEvent(p.b,a.id),e.hasEvent(p.b,"boosters")&&e.removeEvent(p.b,"boosters")}else e.flushChat(t),r&&e.setChatServerId(p.b,r);e.updateChat(t,{properties:{agentIsTyping:!1,ended:!1,fakeAgentMessageId:null,lastThread:i,loadingHistory:!1,queued:!1,rate:null,rateComment:null}}),$(e)},F=function(e,t){var n,r=t.getApplicationState("config"),a="feade1d6c3f17748ae4c8d917a1e1068",c=(null==(n=e.properties.group[a])?void 0:n.forwardTicketFormToHelpdesk)||!1,u=e.__unsafeProperties.license.inboundForwardingToHelpdeskEnabled;t.setApplicationState({config:Object(i.a)({},r,{features:Object(i.a)({},r.features,{helpDesk:c||u?{enabled:!0,licenseId:e.properties.license[a].hdLicenseID}:{enabled:!1},fileSharing:{enabled:e.__unsafeProperties.license.fileSharingEnabled},agentAvatar:{enabled:e.__unsafeProperties.group.hasAgentAvatarsEnabled,showWithMessage:e.__unsafeProperties.group.hasAgentAvatarsEnabled&&"modern"!==e.__unsafeProperties.group.theme.name},continuousChat:{enabled:e.__unsafeProperties.license.continuousChatWidgetEnabled},chatHistory:{enabled:e.__unsafeProperties.license.continuousChatWidgetEnabled||e.__unsafeProperties.license.customerHistoryEnabled},rating:{enabled:e.__unsafeProperties.group.ratingEnabled,position:"modern"===e.__unsafeProperties.group.theme.name?"bottom":"right"},emailTranscript:{enabled:e.__unsafeProperties.group.transcriptButtonEnabled},logo:{enabled:e.__unsafeProperties.group.logo.enabled,path:e.__unsafeProperties.group.logo.src},linksPreview:{enabled:e.__unsafeProperties.group.linksUnfurlingEnabled},offlineForm:{enabled:"ticketForm"in e},preChatForm:{enabled:"prechatForm"in e},preChatAfterGreeting:{enabled:e.__unsafeProperties.group.prechatFormAfterGreetingEnabled},creditCardMasking:{enabled:e.__unsafeProperties.license.creditCardMaskingEnabled},hideTrademark:{enabled:e.__unsafeProperties.group.hasHiddenTrademark},disableSounds:{enabled:!e.__unsafeProperties.group.hasSoundsEnabled},minimized:{enabled:!e.__unsafeProperties.group.disabledMinimized},mobileMinimized:{enabled:e.__unsafeProperties.group.hasCustomMobileSettings?!e.__unsafeProperties.group.disabledMinimizedOnMobile:!e.__unsafeProperties.group.disabledMinimized}}),minimizedType:e.__unsafeProperties.group.minimizedType,mobileMinimizedType:e.__unsafeProperties.group.minimizedTypeOnMobile,theme:Object(o.Q)(r.theme,y(e.__unsafeProperties.group.theme)),screenPosition:e.__unsafeProperties.group.screenPosition,mobileScreenPosition:e.__unsafeProperties.group.screenPositionOnMobile,nonProfitLicense:e.__unsafeProperties.license.nonProfit,hasAnyCustomLicenseProperty:!!Object.keys(e.properties.license).length})}),t.getApplicationState("config").features.disableSounds.enabled&&t.setApplicationState({muted:!0})},V=function(e,t){var n=t.getApplicationState("config");t.setApplicationState({config:Object(i.a)({},n,{features:Object(o.Q)(n.features,e.features),minimizedType:e.theme.minimized,mobileMinimizedType:e.theme.mobileMinimized,theme:Object(o.Q)(n.theme,y(e.newTheme)),screenPosition:e.screenPosition,mobileScreenPosition:e.mobileScreenPosition,nonProfitLicense:e.nonProfitLicense,hasAnyCustomLicenseProperty:e.hasAnyCustomLicenseProperty})}),e.features.disableSounds.enabled&&t.setApplicationState({muted:!0})},U=function(e,t,n){var r,a=e.getApplicationState("config");e.setApplicationState({config:Object(i.a)({},a,{features:Object(o.Q)(a.features,(r={},r[t]=n,r))})})},H=function(e,t){U(e,t,{enabled:!1})},G=function(e,t,n){U(e,t,Object(i.a)({enabled:!0},n))},W=function(e,t){try{var n=JSON.parse(t).filter((function(e){return"moment"===e.template_id}));if(Object(o.D)(n))return;G(e,"boosters",{items:n.map((function(e){var t={type:"button",label:e.action.label,url:e.action.url};return e.action.webview_height&&(t.webviewHeight=e.action.webview_height),{id:e.id,template:e.template_id,title:e.title,description:e.description,icon:e.icon,action:t}}))})}catch(r){}},Y=function(e,t,n){var r={answered:!0};n&&(r.fields=n.properties.fields,n.id&&e.setEventServerId(p.b,t,n.id)),e.updateEvent(p.b,t,{properties:r})},J=function(e,t){var n=e.getApplicationState(),r=n.maximized,a=n.embedded,c=n.actingAsDirectLink,u=n.availability,s=m.F(e,"prechat");N(e,t.author),"bar"!==m.k(e)&&C(e),e.setDefaultView("Chat","timeline"),ie(e),oe(e);var l=m.c(e);l&&e.removeEvent(p.b,l.id),Object(o.j)(t.properties.cards||t.properties.card).filter(Boolean).forEach((function(t){t.title&&(t.title=Object(f.f)(e,t.title)),t.subtitle&&(t.subtitle=Object(f.f)(e,t.subtitle)),t.buttons&&(t.buttons.forEach((function(e){return e.invitation=!0})),a&&!c||t.buttons.filter((function(e){return"url"===e.type&&"target"in e})).forEach((function(e){return e.target="new"})))}));var d=Object(o.v)(e.getIndexedEvents(p.b));x(e,p.b,Object(i.a)({},t,{seen:!0,id:d,properties:Object(i.a)({},t.properties,t.properties.text&&{text:Object(f.f)(e,t.properties.text)})})),e.updateChat(p.b,{properties:{fakeAgentMessageId:d}}),e.setApplicationState({hidden:!1,invitation:Object(i.a)({},e.getApplicationState("invitation"),{current:d})}),r||(e.setCurrentView("Chat"),m.J(e)&&t.properties.receivedFirstTime&&I(e)),m.C(e)&&"offline"===u&&s&&B(e),"lc3"===e.getApplicationState().protocol&&t.properties.receivedFirstTime&&g(e.getSessionUser().serverId,.01)&&Object(w.e)({minimizedType:m.k(e),greetingId:t.properties.id,greetingUniqueId:t.properties.uniqueId,greetingType:t.properties.type,greetingSubtype:t.properties.subtype,greetingAddon:t.properties.addon||"none"})},Z=function(e){K(e,Object(i.a)({},e.getView("Chat/offline"),{id:"offline_form",type:"offline"}))},K=function(e,t){var n={formType:t.type,formId:t.id,fields:t.fields};if(m.F(e)){var r=e.getLastEvent(p.b).id;return e.updateEvent(p.b,r,{properties:n})}var i={id:Object(o.v)(e.getIndexedEvents(p.b)),type:"form",author:"system",properties:n};return x(e,p.b,i)},X=function(e){return!!e&&function(e){var t=Object(c.f)(e);return!t||"https:"===t||!1}(Object(a.a)(e))},Q=function(e,t){X(t.url)?e.updateView("Moment",{show:!0,data:t}):function(e,t,n){var r=n.systemMessageType,i=n.textVariables,a=n.text;x(e,t,{id:Object(o.v)(e.getIndexedEvents(p.b)),serverId:null,type:"system_message",author:"system",seen:!0,properties:Object(o.e)({systemMessageType:r,textVariables:i,defaultText:a})})}(e,p.b,{text:"Link attached to the button is invalid."})},$=function(e){var t=m.f("boosters",e);t.enabled&&(e.hasEvent(p.b,"boosters")||e.addEvent(p.b,{type:"boosters",id:"boosters",author:"system",seen:!0,properties:{boosters:t.items}}))},ee=function(e){e.updateView("Moment",{show:!1,data:{}})},te=function(e,t){e.requestUpdateUser(e.getSessionUser().id,t)},ne=function(e,t){var n;e.setUserServerId(e.getSessionUser().id,t),e.setApplicationState({testGroup:(n=t,b(n)%2?"A":"B")})},re=function(e,t){if(void 0===t&&(t=void 0),m.F(e,t)){var n=e.getLastEvent(p.b).id;e.removeEvent(p.b,n)}},ie=function(e){re(e,"prechat")},ae=function(e){re(e,"postchat")},oe=function(e){re(e,"offline")},ce=function(e,t,n){var r=Object(o.w)("error.details.errors",e);if(r){var a=r.reduce((function(e,n){return"requester.email"===n.field?Object(i.a)({},e,{email:t("invalid_email")}):"requester.name"===n.field?Object(i.a)({},e,{name:n.message}):e}),{});Object(o.D)(a)?n():n(a)}else n()},ue=function(e,t,n){if(e&&e.errors){var r=e.errors[0];if("incorrect requester structure"===Object.keys(r)[0]){var a=r["incorrect requester structure"].reduce((function(e,n){return/name must be at most \d+ characters long/.test(n)?Object(i.a)({},e,{name:n}):"mail must be a valid e-mail address"===n?Object(i.a)({},e,{email:t("invalid_email")}):e}),{});Object(o.D)(a)?n():n(a)}else n()}else n()},se=function(e){var t=p.a,n=e.getChat(p.b).properties.lastThread;e.hasEvent(p.b,t)&&e.removeEvent(p.b,t),e.addEvent(p.b,{id:t,serverId:null,seen:!0,type:p.a,author:"system",thread:n})},le=function(e,t,n){switch(Object(o.B)(n.type,["message","webview"])&&I(e),n.type){case"message":R(e,p.b,n.text);break;case"webview":Q(e,{url:n.value,height:n.webviewHeight});break;case"cancel":fe(e,p.b,t)}e.emit("rich_greeting_button_clicked",{button:n,event:e.getEvent(p.b,t)})},de=function(e){e.emit("start_thread")},pe=function(e,t){var n=e.getChat(p.b),r=Object(o.B)("image",t.type);e.sendEvent(p.b,{type:"file",thread:n.properties.lastThread,properties:{name:t.name.substring(0,p.c),progress:0,finished:!1,failed:!1,failReason:null,fileType:r?"image":"other",url:r?URL.createObjectURL(t):null}},{file:t})},fe=function(e,t,n){var r=e.getChat(t),i=e.getApplicationState(),a=i.protocol,o=i.mobile,c=e.getEvent(t,n);!r.active&&c&&("lc3"===a&&g(e.getSessionUser().serverId,.01)&&Object(w.c)({mobile:o,greetingId:c.properties.id,greetingUniqueId:c.properties.uniqueId,greetingType:c.properties.type,greetingSubtype:c.properties.subtype,greetingAddon:c.properties.addon||"none",minimizedType:m.k(e)}),e.emit("request_cancel_greeting",c.properties.uniqueId))}},124:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(65),i=n(117),a=n(1),o=n(194),c=function(e,t){return Object(o.a)("https://api."+("labs"===e?"labs.":"")+"helpdesk.com/v1/externalTickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return{id:e.ID}}))},u=function(e){var t=e.license,n=e.group,o=e.pageUrl,c=e.form,u=e.answers,s=Object(i.c)(u,c),l=Object(a.m)((function(e){return"email"===e.type||"email"===e.serverType}),s),d=Object(a.m)((function(e){return"name"===e.type||"name"===e.serverType}),s);if(!l)throw new Error("Missing email");if(!Object(a.m)((function(e){return"textarea"===e.type}),s))throw new Error("Missing message");var p=Object(a.m)((function(e){return"subject"===e.type||"subject"===e.serverType}),s),f=s.filter((function(e){var t=e.type,n=e.serverType;return-1===["name","email","subject"].indexOf(n||t)})).map((function(e){return e.text})).join("\n");return Object(r.a)({},p&&p.value&&{subject:p.value},{message:{text:f},requester:Object(r.a)({email:l.value},d&&d.value&&{name:d.value}),integration:Object(r.a)({type:"livechat",ID:String(t),teamID:String(n)},o&&{referenceURL:o})})},s=function(e,t){var n=t.requester,i=t.message,a=t.subject,o=i.text,c=n.name,u=n.email;return Object(r.a)({id:e,text:o},a&&{subject:a},{visitor:{name:c||null,email:u||null}})}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!==typeof document},13:function(e,t,n){"use strict";n.d(t,"e",(function(){return Ie})),n.d(t,"c",(function(){return Ae})),n.d(t,"b",(function(){return Fe})),n.d(t,"a",(function(){return De})),n.d(t,"d",(function(){return r}));var r={};n.r(r),n.d(r,"CONNECTED",(function(){return a})),n.d(r,"DISCONNECTED",(function(){return o})),n.d(r,"NOT_INITIALIZED",(function(){return c})),n.d(r,"RECONNECTING",(function(){return u}));var i={};n.r(i),n.d(i,"addView",(function(){return w})),n.d(i,"setCurrentView",(function(){return j})),n.d(i,"updateView",(function(){return x})),n.d(i,"setDefaultView",(function(){return E})),n.d(i,"addChat",(function(){return C})),n.d(i,"addEvent",(function(){return k})),n.d(i,"removeEvent",(function(){return S})),n.d(i,"addHistoryEvents",(function(){return I})),n.d(i,"addParticipant",(function(){return T})),n.d(i,"addUser",(function(){return z})),n.d(i,"flushChat",(function(){return M})),n.d(i,"recalculateTimeline",(function(){return A})),n.d(i,"removeParticipant",(function(){return R})),n.d(i,"sendEvent",(function(){return L})),n.d(i,"setApplicationState",(function(){return N})),n.d(i,"updateFeature",(function(){return B})),n.d(i,"setConnectionState",(function(){return P})),n.d(i,"setChatServerId",(function(){return q})),n.d(i,"setEventData",(function(){return D})),n.d(i,"setEventServerId",(function(){return F})),n.d(i,"setLocalization",(function(){return V})),n.d(i,"setUserServerId",(function(){return U})),n.d(i,"setUserProperties",(function(){return G})),n.d(i,"requestSetUserProperties",(function(){return W})),n.d(i,"updateChat",(function(){return J})),n.d(i,"requestUpdateChat",(function(){return Z})),n.d(i,"updateEvent",(function(){return X})),n.d(i,"requestUpdateEvent",(function(){return Q})),n.d(i,"updateUser",(function(){return ee})),n.d(i,"requestUpdateUser",(function(){return te}));var a="connected",o="disconnected",c="not_initialized",u="reconnecting",s=n(3),l=n(59),d=n(35),p=n(17),f=n(1),m=n(146),h=n(19),b=function(e){var t=e.id,n=e.serverId,r=void 0===n?null:n,i=e.active,a=void 0===i||i,o=e.participants,c=void 0===o?[]:o,u=e.properties,s=void 0===u?{}:u;if("string"!==typeof t)throw new Error("Chat ID has to be a string.");if(null!==r&&t!==r)throw new Error('If serverId is given ("'+r+'") it should match id ("'+t+'").');return{id:t,serverId:r,active:a,participants:c,properties:s}},g=function(e){var t=e.id,n=e.type,r=e.author,i=e.timestamp,a=e.own,o=e.serverId,c=void 0===o?null:o,u=e.thread,s=void 0===u?null:u,l=e.serverTimestamp,d=void 0===l?null:l,p=e.delivered,f=void 0===p||p,m=e.seen,h=void 0!==m&&m,b=e.failed,g=void 0!==b&&b,v=e.properties,y=void 0===v?{}:v;if("string"!==typeof t)throw new Error("Event ID has to be a string.");if("string"!==typeof n)throw new Error("Event has to have string `type` property.");if(null!==c&&t!==c)throw new Error('If serverId is given ("'+c+'") it should match id ("'+t+'").');return{id:t,serverId:c,type:n,thread:s,author:r,own:a,timestamp:i,serverTimestamp:d,delivered:f,seen:h,failed:g,properties:y}},v=function(e){var t=e.id,n=e.serverId,r=void 0===n?t:n,i=e.type,a=void 0===i?null:i,o=e.name,c=void 0===o?null:o,u=e.email,s=void 0===u?null:u,l=e.avatar,d=void 0===l?null:l,p=e.properties,f=void 0===p?{}:p;if("string"!==typeof t)throw new Error("User ID has to be a string.");return{id:t,serverId:r,type:a,name:c,email:s,avatar:d,properties:f}},y=n(10),O=["delivered","failed","properties","seen","serverTimestamp","thread"],_=function(e,t){return e.forEach((function(e){if(Object(f.z)(e,t))throw new Error("Updating `"+e+"` property is not possible.")}))},w=Object(p.d)("ADD_VIEW",(function(e,t,n){var r=e.action,i=e.getState;if(void 0===n&&(n={}),y.getView(i(),t))throw new Error('There is already the "'+t+'" view. It has to be unique.');return r({name:t,data:n}),y.getView(i(),t)})),j=Object(p.d)("SET_CURRENT_VIEW",(function(e,t){var n=e.action,r=e.getState;if(!y.getView(r(),t))throw new Error('Given view "'+t+"\" doesn't exist.");return n({name:t}),y.getCurrentView(r())})),x=Object(p.d)("UPDATE_VIEW",(function(e,t,n){var r=e.action,i=e.getState;if(!y.getView(i(),t))throw new Error('There is no "'+t+'" view. You should add it first.');return r({name:t,data:n}),y.getView(i(),t)})),E=Object(p.d)("SET_DEFAULT_VIEW",(function(e,t,n){var r=e.action,i=e.getState;return r({name:n,path:t}),y.getView(i(),t+"/"+n)})),C=Object(p.d)("ADD_CHAT",(function(e,t){var n=e.action,r=e.getState,i=void 0===t?{}:t,a=i.events,o=void 0===a?[]:a,c=Object(h.a)(i,["events"]);if(y.hasChat(r(),c.id))throw new Error('There is already a chat with "'+c.id+'" ID. It has to be unique.');var u=Object(f.m)((function(e){return!y.hasUser(r(),e)}),o.map((function(e){return e.author})).concat(c.participants||[]));if(u)throw new Error('Given user ("'+u+"\") doesn't exist. You should add it first.");var l=c.id||Object(f.v)(y.getChats(r()));return n({id:l,chat:b(Object(s.a)({},c,{id:l})),events:o.map(g)}),y.getChat(r(),l)})),k=Object(p.d)("ADD_EVENT",(function(e,t,n){var r=e.action,i=e.getState,a=n.id,o=n.serverId,c=i();if(a&&o&&a!==o)throw new Error('Specified ID ("'+a+'") differs from specified serverId ("'+o+'"). You either should use only ID or both should be the same.');if(!y.hasChat(c,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(y.hasEvent(c,t,a))throw new Error('There is already an event with "'+a+'" ID in this chat ("'+t+'"). It has to be unique.');if(!y.hasUser(c,n.author))throw new Error('Specified author ("'+n.author+"\") doesn't exist. You should add it first.");return r({id:a,chat:t,event:g(Object(s.a)({timestamp:Date.now()},n,{own:n.author===y.getSessionUserId(c)}))}),y.getEvent(i(),t,a)})),S=Object(p.d)("REMOVE_EVENT",(function(e,t,n){var r=e.action,i=(0,e.getState)();if(!y.hasChat(i,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(i,t,n))throw new Error('There is no event with "'+n+'" ID in this chat ("'+t+'").');r({id:n,chat:t})})),I=Object(p.d)("ADD_HISTORY_EVENTS",(function(e,t,n){var r=e.action,i=(0,e.getState)();if(!y.hasChat(i,t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');n.forEach((function(e){if(y.hasEvent(i,t,e.id))throw new Error('There is already an event with "'+e.id+'" ID in this chat ("'+t+'"). It has to be unique.');if(!y.hasUser(i,e.author))throw new Error('Specified author ("'+e.author+"\") doesn't exist. You should add it first.")}));var a=y.getSessionUserId(i);r({chat:t,events:n.map((function(e){return g(Object(s.a)({},e,{serverId:e.id,own:e.author===a}))}))})})),T=Object(p.d)("ADD_PARTICIPANT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasUser(i(),n))throw new Error('Given user ("'+n+"\") doesn't exist. You should add it first.");return r({chat:t,user:n}),y.getParticipants(i(),t)})),z=Object(p.d)("ADD_USER",(function(e,t){var n=e.action,r=e.getState,i=t.id;if(y.hasUser(r(),i))throw new Error('There is already a user with "'+i+'" ID. It has to be unique.');return n({id:i,user:v(t)}),y.getUser(r(),i)})),M=Object(p.d)("FLUSH_CHAT",(function(e,t){var n=e.action,r=e.getState;if(!y.hasChat(r(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return n({id:t}),y.getChat(r(),t)})),A=Object(p.d)("RECALCULATE_TIMELINE",(function(e,t){var n=e.action,r=e.getState;if(!y.hasChat(r(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return n({id:t}),y.getTimeline(r(),t)})),R=Object(p.d)("REMOVE_PARTICIPANT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasUser(i(),n))throw new Error('Given user ("'+n+"\") doesn't exist. You should add it first.");return r({chat:t,user:n}),y.getParticipants(i(),t)})),L=Object(p.d)("SEND_EVENT",(function(e,t,n,r){var i=e.action,a=e.getState;if(!y.hasChat(a(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(y.hasEvent(a(),t,n.id))throw new Error('There is already an event with "'+n.id+'" ID in this chat ("'+t+'"). It has to be unique.');var o=n.id||Object(f.v)(y.getIndexedEvents(a(),t));return i({id:o,chat:t,event:g(Object(s.a)({},n,{author:y.getSessionUser(a()).id,own:!0,id:o,timestamp:Date.now(),delivered:!1}))},r),y.getEvent(a(),t,o)})),N=Object(p.d)("SET_APPLICATION_STATE",(function(e,t){var n=e.action,r=e.getApplicationState;if(!t||Object(f.D)(t))throw new Error("Given data object is empty.");return n(t),r()})),B=Object(p.d)("UPDATE_FEATURE",(function(e,t,n){var r=e.action,i=e.getApplicationState;if(!n||!t||Object(f.D)(n))throw new Error("Given data object is empty.");return r({feature:t,data:n}),i()})),P=Object(p.d)("SET_CONNECTION_STATE",(function(e,t){var n=e.action,r=e.getState;return n({connectionState:t}),y.getConnectionState(r())})),q=Object(p.d)("SET_CHAT_SERVER_ID",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(null!==y.getChat(i(),t).serverId)throw new Error('Chat with "'+t+'" ID has already serverId.');return r({id:t,serverId:n}),y.getChat(i(),t)})),D=Object(p.d)("SET_EVENT_DATA",(function(e,t,n,r){var i=e.action,a=e.getState;if(!y.hasChat(a(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(a(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');return _(["id","type","own"],r),i({chat:t,id:n,data:Object(s.a)({},Object(f.cb)(O.concat("author","serverId","timestamp"),r),{own:r.author===y.getSessionUserId(a())})}),y.getEvent(a(),t,n)})),F=Object(p.d)("SET_EVENT_SERVER_ID",(function(e,t,n,r){var i=e.action,a=e.getState;if(!y.hasChat(a(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(a(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');if(null!==y.getEvent(a(),t,n).serverId)throw new Error('Event with "'+n+'" ID has already serverId.');return i({chat:t,id:n,serverId:r}),y.getEvent(a(),t,n)})),V=Object(p.d)("SET_LOCALIZATION",(function(e,t){(0,e.action)(t)})),U=Object(p.d)("SET_USER_SERVER_ID",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no "'+t+'" user. You should add it first.');if(null!==y.getUser(i(),t).serverId)throw new Error('User with "'+t+'" ID has already serverId.');return r({id:t,serverId:n}),y.getUser(i(),t)})),H=Object(p.i)("SET_USER_PROPERTIES",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no user with "'+t+'" ID. You should add it first.');return r({id:t,properties:n}),y.getUser(i(),t)})),G=H.actionMethod,W=H.requestActionMethod,Y=Object(p.i)("UPDATE_CHAT",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasChat(i(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');return _(["id","participants","events"],n),r({id:t,data:Object(f.cb)(["active","properties"],n)}),y.getChat(i(),t)})),J=Y.actionMethod,Z=Y.requestActionMethod,K=Object(p.i)("UPDATE_EVENT",(function(e,t,n,r){var i=e.action,a=e.getState;if(!y.hasChat(a(),t))throw new Error('There is no chat with "'+t+'" ID. You should add it first.');if(!y.hasEvent(a(),t,n))throw new Error('There is no "'+n+'" event in "'+t+'" chat. You should add it first.');return _(["id","type","author","own","timestamp"],r),i({chat:t,id:n,data:Object(f.cb)(O,r)}),y.getEvent(a(),t,n)})),X=K.actionMethod,Q=K.requestActionMethod,$=Object(p.i)("UPDATE_USER",(function(e,t,n){var r=e.action,i=e.getState;if(!y.hasUser(i(),t))throw new Error('There is no user with "'+t+'" ID. You should add it first.');return _(["id","type"],n),r({id:t,data:Object(f.cb)(["name","email","avatar","properties"],n)}),y.getUser(i(),t)})),ee=$.actionMethod,te=$.requestActionMethod,ne=function(e){var t;return void 0===e&&(e={}),Object(p.h)(e,((t={})[B]=function(e,t){var n,r=t.feature,i=t.data;return Object(s.a)({},e,{config:Object(s.a)({},e.config,{features:Object(s.a)({},e.config.features,(n={},n[r]=Object(s.a)({},e.config.features[r],i),n))})})},t[N]=function(e,t){return Object(s.a)({},e,t)},t))},re=function(e){return Object(f.xb)(e).reduce((function(e,t){var n=t.serverId,r=t.id;return null===n||(e[n]=r),e}),{})},ie=function(e,t){var n;return null!==t.serverId?Object(s.a)({},e,((n={})[t.serverId]=t.id,n)):e},ae=function(e,t){var n,r,i=t.id,a=t.chat,o=t.event;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(r={},r[a]=Object(s.a)({},e.chats.byIds[a],{events:{byIds:Object(s.a)({},e.chats.byIds[a].events.byIds,(n={},n[i]=o,n)),orderedIds:e.chats.byIds[a].events.orderedIds.concat(i),serverIdsMapping:ie(e.chats.byIds[a].events.serverIdsMapping,o)}}),r))})})},oe=function(e,t){var n,r=t.id,i=t.chat;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:{byIds:Object(f.U)([r],e.chats.byIds[i].events.byIds),orderedIds:e.chats.byIds[i].events.orderedIds.filter((function(e){return e!==r})),serverIdsMapping:Object(f.V)((function(e){return e===r}),e.chats.byIds[i].events.serverIdsMapping)}}),n))})})},ce=function(e,t){var n,r=t.chat,i=t.events;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{events:{byIds:Object(s.a)({},e.chats.byIds[r].events.byIds,Object(f.H)("id",i)),orderedIds:i.map((function(e){return e.id})).concat(e.chats.byIds[r].events.orderedIds),serverIdsMapping:Object(s.a)({},e.chats.byIds[r].events.serverIdsMapping,Object(f.M)((function(e){return e.id}),Object(f.H)("serverId",i)))}}),n))})})},ue=function(e,t){var n,r=t.id,i=t.user;return Object(s.a)({},e,{users:Object(s.a)({},e.users,{byIds:Object(s.a)({},e.users.byIds,(n={},n[r]=i,n)),serverIdsMapping:ie(e.users.serverIdsMapping,i)})})},se=function(e,t,n){var r,i=n.properties,a=Object(h.a)(n,["properties"]),o=e.byIds[t];return Object(s.a)({},e,{byIds:Object(s.a)({},e.byIds,(r={},r[t]=Object(s.a)({},o,a,{properties:i?Object(s.a)({},o.properties,i):o.properties}),r))})},le=function(e,t,n){var r,i,a=e.byIds[t],o={byIds:Object(s.a)({},e.byIds,(r={},r[t]=Object(s.a)({},a,n),r))};n.serverId&&Object(f.z)("serverIdsMapping",e)&&(o.serverIdsMapping=Object(s.a)({},e.serverIdsMapping,((i={})[n.serverId]=t,i)));return Object(s.a)({},e,o)},de=function(e){var t,n=(void 0===e?{}:e).users,r=void 0===n?[]:n,i=Object(f.H)("id",r.map(v));return Object(p.h)({users:{byIds:Object(s.a)({},i,{system:{id:"system",type:"system"}}),serverIdsMapping:re(i)},chats:{byIds:{},serverIdsMapping:{}}},((t={})[C]=function(e,t){var n,r=t.id,i=t.chat,a=t.events;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},i,{events:{byIds:Object(f.H)("id",a),orderedIds:a.map((function(e){return e.id})),serverIdsMapping:re(a)}}),n)),serverIdsMapping:ie(e.chats.serverIdsMapping,i)})})},t[k]=ae,t[S]=oe,t[I]=ce,t[T]=function(e,t){var n,r=t.chat,i=t.user,a=e.chats.byIds[r].participants;return Object(f.n)((function(e){return i===e}),a)>-1?e:Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{participants:[].concat(a,[i])}),n))})})},t[z]=ue,t[M]=function(e,t){var n,r=t.id;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{serverId:null,events:{byIds:{},orderedIds:[],serverIdsMapping:{}},properties:{}}),n))})})},t[R]=function(e,t){var n,r=t.chat,i=t.user,a=e.chats.byIds[r].participants,o=Object(f.n)((function(e){return i===e}),a);return-1===o?e:Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[r]=Object(s.a)({},e.chats.byIds[r],{participants:Object(f.fb)(o,a)}),n))})})},t[L]=ae,t[q]=function(e,t){var n,r=t.id,i=t.serverId;return Object(s.a)({},e,{chats:Object(s.a)({},se(e.chats,r,{serverId:i}),{serverIdsMapping:Object(s.a)({},e.chats.serverIdsMapping,(n={},n[i]=r,n))})})},t[F]=function(e,t){var n,r,i=t.id,a=t.chat,o=t.serverId;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(r={},r[a]=Object(s.a)({},e.chats.byIds[a],{events:Object(s.a)({},se(e.chats.byIds[a].events,i,{serverId:o}),{serverIdsMapping:Object(s.a)({},e.chats.byIds[a].events.serverIdsMapping,(n={},n[o]=i,n))})}),r))})})},t[D]=function(e,t){var n,r=t.id,i=t.chat,a=t.data;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:le(e.chats.byIds[i].events,r,a)}),n))})})},t[G]=function(e,t){var n=t.id,r=t.properties;return Object(s.a)({},e,{users:le(e.users,n,{properties:r})})},t[U]=function(e,t){var n,r=t.id,i=t.serverId;return Object(s.a)({},e,{users:Object(s.a)({},se(e.users,r,{serverId:i}),{serverIdsMapping:Object(s.a)({},e.users.serverIdsMapping,(n={},n[i]=r,n))})})},t[J]=function(e,t){var n=t.id,r=t.data;return Object(s.a)({},e,{chats:se(e.chats,n,r)})},t[X]=function(e,t){var n,r=t.id,i=t.chat,a=t.data;return Object(s.a)({},e,{chats:Object(s.a)({},e.chats,{byIds:Object(s.a)({},e.chats.byIds,(n={},n[i]=Object(s.a)({},e.chats.byIds[i],{events:se(e.chats.byIds[i].events,r,a)}),n))})})},t[ee]=function(e,t){var n=t.id,r=t.data;return Object(s.a)({},e,{users:se(e.users,n,r)})},t))},pe=function(e){return void 0===e&&(e={}),function(t,n){return void 0===t&&(t=e),n.type!==String(V)?t:Object(s.a)({},t,n.payload)}},fe=function(e){var t;return Object(p.h)(function(e){var t=e.id,n=e.connectionState;return{id:t,connectionState:void 0===n?c:n}}(e),((t={})[P]=function(e,t){var n=t.connectionState;return Object(s.a)({},e,{connectionState:n})},t))},me=function(e){return+new Date(e).setHours(0,0,0,0)},he=function(e,t){return me(e)===me(t)},be=function(e){var t=e.sessionUserId,n=e.event,r=e.showDate,i=void 0!==r&&r;return{own:n.author===t,author:n.author,events:[{id:n.id,type:n.type}],type:n.type,showDate:i,timestamp:n.timestamp}},ge=function(e,t){return be({sessionUserId:y.getSessionUser(e).id,event:t,showDate:!0})},ve=function(e){return Object(f.T)((function(e){return-1*Object(f.x)(0,"timestamp",Object(f.J)(e.events))}),e).map((function(e){return{id:e.id}}))},ye=function(e,t){var n,r=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(n={},n[r]=Object(s.a)({},e.Chat[r],{timeline:[]}),n))})},Oe=function(){return!1},_e=function(){return!0},we=function(){return function(e){return void 0===e&&(e={}),e}},je=function(e,t){return Object(p.j)(Object(l.c)(Object(f.N)((function(t,n){return t(e[n])}),{application:ne,entities:de,localization:pe,session:fe,views:we})),function(e){var t=e.shouldAddToTimeline,n=void 0===t?_e:t,r=e.shouldCreateNewGroup,i=void 0===r?Oe:r,a=function(e,t){var n=y.getSessionUser(e).id;return function(r,a){var o=Object(f.J)(r),c=y.getEvent(e,t,Object(f.J)(o.events).id);if("message_draft"===a.type&&"form"===o.type){var u=Object(f.p)((function(e){return"message_draft"===e.type}),r);return u?[].concat(Object(f.i)(2,r),[Object(s.a)({},u,{events:[].concat(u.events,[{id:a.id,type:a.type}])}),o]):[].concat(Object(f.i)(1,r),[be({sessionUserId:n,event:a}),o])}return he(c.timestamp,a.timestamp)?a.timestamp>=o.timestamp+3e5||o.author!==a.author||i(a)?[].concat(r,[be({sessionUserId:n,event:a})]):[].concat(Object(f.i)(1,r),[Object(s.a)({},o,{events:[].concat(o.events,[{id:a.id,type:a.type}])})]):[].concat(r,[be({sessionUserId:n,event:a,showDate:!0})])}},o=function(e,t,r){var i=r.filter(n);if(0===i.length)return[];var o=i[0],c=i.slice(1),u=ge(e,o);return c.reduce(a(e,t),[u])},c=function(e,t,n){var r=y.getChats(n);return{Chat:Object(f.M)((function(e){var t;return(t={})[e.id]={timeline:o(n,e.id,e.events)},t}),r),ChatList:ve(r),current:null}},u=function(e,t,n){var r,i=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]={timeline:o(n,i,y.getChat(n,i).events)},r)),ChatList:ve(y.getChats(n))})},l=function(e,t,r){var i,o=t.chat,c=t.id,u=e.Chat[o].timeline,l=y.getEvent(r,o,c);return n(l)?Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(i={},i[o]=Object(s.a)({},e.Chat[o],{timeline:u.length>0?a(r,o)(u,l):[ge(r,l)]}),i)),ChatList:ve(y.getChats(r))}):e},d=function(e,t){var n,r,i=t.chat,a=t.id,o=e.Chat[i].timeline,c=Object(f.n)((function(e){return e.events.some((function(e){return e.id===a}))}),o),u=o[c],l=u.events.filter((function(e){return e.id!==a}));return l.length>0?r=Object(f.wb)(c,Object(s.a)({},u,{events:l}),o):(r=c+1<o.length?Object(f.wb)(c+1,Object(s.a)({},o[c+1],{showDate:o[c+1].showDate||u.showDate}),o):o,r=Object(f.fb)(c,r)),Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(n={},n[i]=Object(s.a)({},e.Chat[i],{timeline:r}),n))})},p=function(e,t,n){var r,i=t.chat,a=t.events,c=e.Chat[i].timeline,u=c[0],l=c.slice(1),d=Object(f.J)(a);u&&he(d.timestamp,u.timestamp)&&(u=Object(s.a)({},u,{showDate:he(Date.now(),u.timestamp)}));var p=o(n,i,a),m=u?[].concat(p,[u],l):p,h=a[0],b=!he(h.timestamp,Date.now());return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]=Object(s.a)({},e.Chat[i],{hasDividers:b,timeline:m}),r))})},m=function(e,t,n){var r,i=t.id;return Object(s.a)({},e,{Chat:Object(s.a)({},e.Chat,(r={},r[i]={timeline:o(n,i,y.getChat(n,i).events)},r))})};return function(e,t){var n=t.type,r=t.payload;if(Object(f.D)(e.views))return Object(s.a)({},e,{views:c(e.views,0,e)});switch(n){case String(C):return Object(s.a)({},e,{views:u(e.views,r,e)});case String(k):case String(L):return Object(s.a)({},e,{views:l(e.views,r,e)});case String(S):return Object(s.a)({},e,{views:d(e.views,r)});case String(I):return Object(s.a)({},e,{views:p(e.views,r,e)});case String(w):var i=r.name.replace(/\//gi,".");return Object(s.a)({},e,{views:Object(f.gb)(i,r.data,e.views)});case String(M):return Object(s.a)({},e,{views:ye(e.views,r)});case String(E):var a=r.path.replace(/\//gi,".")+"._default";return Object(s.a)({},e,{views:Object(f.gb)(a,r.name,e.views)});case String(A):return Object(s.a)({},e,{views:m(e.views,r,e)});case String(j):return Object(s.a)({},e,{views:Object(s.a)({},e.views,{current:r.name})});case String(x):var o=r.name.replace(/\//gi,"."),h=Object(f.w)(o,e.views);return Object(s.a)({},e,{views:Object(f.gb)(o,Object(s.a)({},h,r.data),e.views)});default:return e}}}(t))},xe=function(e,t){var n=e.id,r=t.getState;return y.getChat(r(),n)},Ee=function(e,t){var n=e.id,r=e.chat,i=t.getState;return{chat:r,event:y.getEvent(i(),r,n)}},Ce=function(e,t){var n=e.id,r=t.getState;return y.getUser(r(),n)},ke=function(e){var t=y.getCurrentView(e);return{view:t,default:y.getDefaultView(e,t)}},Se=function(e){var t;return function(e,t){return function(n,r){if(Object(f.z)(n.type,e)){var i=e[n.type](n.payload,r);n.meta&&(i.meta=n.meta),t(n.type.toLowerCase(),i)}}}(((t={})[C]=xe,t[k]=Ee,t[z]=Ce,t[M]=xe,t[Z]=f.A,t[Q]=f.A,t[L]=Ee,t[N]=function(e,t){var n=t.getState;return y.getApplicationState(n())},t[P]=function(e,t){var n=t.getState;return y.getConnectionState(n())},t[j]=function(e,t){var n=e.name,r=t.getState;return{name:n,data:y.getView(r(),n),viewInfo:ke(r())}},t[E]=function(e,t){var n=e.name,r=e.path,i=t.getState;return{name:n,path:r,data:y.getView(i(),r+"/"+n),viewInfo:ke(i())}},t[J]=xe,t[X]=Ee,t[ee]=Ce,t[G]=Ce,t[te]=f.A,t[W]=f.A,t[q]=f.A,t),e)};function Ie(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=Object(d.a)(),r=f.A,a=Object(m.a)(),o=Object(l.d)(je(function(e){var t=e.entities,n=void 0===t?{}:t,r=e.session,i=void 0===r?{}:r,a=i.id,o=void 0===a?"session_"+Object(f.u)():a,c=n.users,u=void 0===c?[]:c,l=Object(f.m)((function(e){return e.id===o}),u);return Object(s.a)({},e,{entities:Object(s.a)({},n,{users:l?u:[].concat(u,[{id:o,serverId:null}])}),session:Object(s.a)({},i,{id:o})})}(e),t),void 0,r(Object(l.a)(a)));a.add(Se(n.emit));var c=o.getState(),u=c,h=c;return o.subscribe((function(){var e=o.getState();if(h!==e){var t=[h,e];u=t[0],h=t[1]}})),Object(f.a)(o,Object(p.a)(i,o),Object(p.b)(y,o.getState),{getPreviousState:function(){return u},emit:n.emit,on:n.on,once:n.once,off:function(e,t){if(!e||!t)throw new Error(".off needs to be called with both type and handler arguments.");if("*"===e)throw new Error(".off('*', ...) is not supported.");n.off(e,t)}}),o}var Te=n(157),ze={},Me=function(){return ze};function Ae(e,t){return void 0===t&&(t={}),Object(Te.b)(e,Me,void 0,Object(s.a)({areStatesEqual:function(e){return e.getState()===e.getPreviousState()}},t))}var Re=n(0),Le=n(29),Ne=Re.createContext(),Be=Ne.Provider,Pe=Ne.Consumer,qe=Ae((function(e){return{localization:e.getState().localization,localize:e.localize}}))(function(e){function t(){return e.apply(this,arguments)||this}return Object(Le.a)(t,e),t.prototype.render=function(){var e=this;return Re.createElement(Be,{value:function(t,n){return e.props.localize(t,n)}},this.props.children)},t}(Re.Component)),De=function(e){if("string"===typeof e.children){var t=e.children,n=Object(h.a)(e,["children"]);return Re.createElement(Pe,null,(function(e){return e(t,n)}))}return Re.createElement(Pe,e)};function Fe(e){var t=e.store,n=e.children,r=Object.create(t);return r.getState=function(){return t},Re.createElement(Te.a,{store:r},Re.createElement(qe,null,n))}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return j}));var r=n(1),i=function(e){return Object(r.rb)(e).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")},a=function(e){var t=e.split("&").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.replace("+","%20"))}))}));return Object(r.t)(t)},o=/(?:[^:]+:\/\/)?([^/\s]+)/;function c(e){var t=e.match(o);return t&&t[1]}var u=/[^:]+:\/\/[^(/|?)\s]+/,s=function(e){var t=e.match(u);return t&&t[0]},l=/.*?\?([^#]+)/,d=function(e){var t=e.match(l);return t?"?"+t[1]:""},p=function(e){return e.replace(/^\?/,"")},f=function(e){var t=p(d(e));return a(t||e)},m=function(e,t){return f(t)[e]},h=/^(?:https?:)?\/\/[^/]+\/([^?#]+)/,b=function(e){var t=e.match(h);return"/"+(t&&t[1]||"")},g=function(e){return e.replace(/\w/g,"$&[\\r\\n\\t]*")},v=new RegExp("^[\0-\x1f]*("+g("javascript")+"|"+g("data")+"):","i"),y=function(e){return v.test(e)},O=/^((http(s)?:)?\/\/)/,_=function(e){return e.replace(O,"")},w=/^((http(s)?:)?\/\/)/,j=function(e){var t=e.match(w);return t?t[2]:null}},140:function(e,t,n){"use strict";t.a=null},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m}));var r=n(2),i=n(8),a=n(14),o=n(149),c=function(e){var t=e.id,n=e.authorId,r=e.timestamp,i=e.serverId,a=void 0===i?t:i,o=e.threadId,c=void 0===o?null:o,u=e.seen;return{id:t,serverId:a,thread:c,author:n,timestamp:r,seen:void 0!==u&&u}},u=function(e){e.id,e.customId,e.authorId,e.timestamp,e.threadId,e.properties,e.seen,e.serverId,e.type,e.text,e.urlDetails;return Object(i.a)(e,["id","customId","authorId","timestamp","threadId","properties","seen","serverId","type","text","urlDetails"])},s=function(e){if(e.urlDetails){var t=e.urlDetails;return Object(r.a)({},c(e),{type:"url_preview",properties:{serverType:e.type,title:t.title,description:t.description,image:{url:t.imageUrl,link:t.url}}})}return Object(o.a)(e.text)?Object(r.a)({},c(e),{type:"emoji",properties:Object(r.a)({serverType:e.type,text:e.text},u(e))}):Object(r.a)({},c(e),{type:"message",properties:Object(r.a)({serverType:e.type,text:e.text},u(e))})},l=function(e){switch(e.type){case"url":return Object(a.j)(e.value)?null:e;case"webview":if(Object(a.j)(e.value))return null;var t=Object(a.d)(e.value);if(!t)return e;if(/chatbot\.com$/.test(t)){var n=Object(a.b)(Object(a.l)(Object(a.i)(e.value)));if(n.p)try{var i=JSON.parse(atob(n.p));if(i.url)return Object(r.a)({},e,{proxiedValue:i.url})}catch(o){return e}}return e;default:return e}},d=function(e){var t={};return"string"===typeof e.title&&(t.title=e.title),"string"===typeof e.subtitle&&(t.subtitle=e.subtitle),e.image&&(t.image=e.buttons?e.image:Object(r.a)({},e.image,{link:e.image.url})),e.buttons&&(t.buttons=e.buttons.map(l).filter(Boolean)),t},p=function(e){switch(e.template){case"quick_replies":var t=e.elements[0];return Object(r.a)({},c(e),{type:"message",properties:{serverType:e.type,text:t.title,quickReplies:t.buttons.map((function(e){return{type:e.type,text:e.text,value:e.value,postbackId:e.postbackId}}))}});case"sticker":var n=e.elements[0].image;return Object(r.a)({},c(e),{type:"sticker",properties:{serverType:e.type,url:n.url,name:n.name}});default:if(e.elements.length>1)return Object(r.a)({},c(e),{type:"carousel",properties:{serverType:e.type,cards:e.elements.map(d)}});var i=e.elements[0];if(1===Object.keys(i).length&&i.image){var a=i.image;return Object(r.a)({},c(e),{type:"image_preview",properties:Object(r.a)({serverType:e.type,url:a.url},a.alternativeText&&{alternativeText:a.alternativeText})})}return Object(r.a)({},c(e),{type:"rich_message",properties:{serverType:e.type,card:d(i)}})}},f=function(e){if(e.thumbnails){var t=e.thumbnails,n=Object(r.a)({},c(e),{type:"image_preview",properties:Object(r.a)({serverType:e.type},t.default,{link:e.url})});return t.high&&(n.properties.srcSet=t.default.url+" 1x, "+t.high.url+" 2x"),e.alternativeText&&(n.properties.alternativeText=e.alternativeText),n}return Object(r.a)({},c(e),{type:"message",properties:Object(r.a)({serverType:e.type,text:e.name,url:e.url},e.alternativeText&&{alternativeText:e.alternativeText})})},m=function(e){var t=Object(r.a)({},c(e),{type:"system_message",properties:{serverType:e.type,systemMessageType:e.systemMessageType,defaultText:e.text}});return e.textVars&&(t.properties.textVariables=e.textVars),t}},146:function(e,t,n){"use strict";t.a=function(){var e=[],t=function(t){return function(n){return function(r){var i=n(r);return e.forEach((function(e){e(r,t)})),i}}};return t.add=function(t){e.push(t)},t}},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=/^\s+$/,i=/^(?:\s+|[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/;function a(e){for(var t=null,n=0;t=i.exec(e);){var a=t[0];if(e=e.slice(a.length),r.test(a)||n++,n>3)return!1}return!e}},150:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchDynamicConfig",(function(){return f})),n.d(t,"fetchStaticConfig",(function(){return m})),n.d(t,"fetchLocalization",(function(){return h}));var r=n(8),i=n(2),a=n(46),o=n(1),c=n(14),u=n(90),s=n(83),l=/\.([a-z]{1,})$/i,d=function(e){var t=e.__priv,n={enabled:!0,x:parseInt(t.group["embedded_chat.eye_grabber.x"])+15,y:parseInt(t.group["embedded_chat.eye_grabber.y"]),src:Object(s.a)(t.group["embedded_chat.eye_grabber.path"])};if(-1!==n.src.indexOf("/default/eyeCatchers/")){var r=n.src.match(l)[1];n.srcset={"1x":n.src,"2x":n.src.replace(new RegExp("\\."+r,"i"),"-2x."+r)}}return n},p=function(e,t){return function(e){var t=e.licenseId,n=e.region;return"https://api"+(n?"-"+n:"")+function(e){return 1520===e?".staging":""}(t)+".livechatinc.com"}(t)+"/v3.3/customer/action/"+e},f=function e(t){var n=p("get_dynamic_configuration",t);return Object(a.a)(n+"?"+Object(c.a)(Object(i.a)({license_id:t.licenseId,url:t.url},"number"===typeof t.groupId&&{group_id:t.groupId},t.channelType&&{channel_type:t.channelType},t.skipCodeInstallationTracking&&{test:1}))).then((function(e){return e.json()})).then((function(n){if(n.error)switch(n.error.type){case"misdirected_request":return e(Object(i.a)({},t,{region:n.error.data.region}));default:var r=new Error(n.error.message);throw r.code=n.error.type.toUpperCase(),r}if(!n.domain_allowed){var a=new Error("Current domain is not added to the allowlist.");throw a.code="DOMAIN_NOT_ALLOWED",a}return{groupId:n.group_id,clientLimitExceeded:n.client_limit_exceeded,configVersion:n.config_version,localizationVersion:n.localization_version,onlineGroupIds:n.online_group_ids||[],region:t.region||null}}))},m=function(e){var t=p("get_configuration",e);return Object(a.a)(t+"?"+Object(c.a)(Object(i.a)({license_id:e.licenseId,version:e.version},"number"===typeof e.groupId&&{group_id:e.groupId},{acao:!0}))).then((function(e){return e.json()})).then((function(e){var t=e.buttons,n=e.allowed_domains,a=e.prechat_form,o=e.ticket_form,c=e.__priv,l=Object(r.a)(e,["buttons","allowed_domains","prechat_form","ticket_form","__priv"]);return Object(i.a)({},l,a&&{prechatForm:Object(u.b)(a)},o&&{ticketForm:Object(u.b)(o)},{buttons:t.map((function(e){return"image"===e.type?{id:e.id,type:e.type,onlineValue:Object(s.a)(e.online_value),offlineValue:Object(s.a)(e.offline_value)}:{id:e.id,type:e.type,onlineValue:e.online_value,offlineValue:e.offline_value}}))},n&&{allowedDomains:n},{__unsafeProperties:Object(i.a)({},c.s&&{s:!0},{group:{chatBoosters:c.group.chat_boosters,disabledMinimized:"1"===c.group["chat_window.disable_minimized"],disabledMinimizedOnMobile:"1"===c.group["chat_window.mobile_disable_minimized"],disabledOnMobile:"1"===c.group["chat_window.hide_on_mobile"],eyeCatcher:"1"===c.group["embedded_chat.display_eye_catcher"]?d(e):{enabled:!1},hasAgentAvatarsEnabled:"1"===c.group["chat_window.display_avatar"],hasCustomMobileSettings:"1"===c.group["chat_window.custom_mobile_settings"],hasHiddenTrademark:"1"===c.group["chat_window.hide_trademark"],hasSoundsEnabled:"0"===c.group["chat_window.disable_sounds"],initiallyHidden:"1"===c.group["chat_window.hide_on_init"],initiallyHiddenOnMobile:"1"===c.group["chat_window.mobile_hide_on_init"],language:c.group.language,linksUnfurlingEnabled:"1"===c.group.links_unfurling,logo:"1"===c.group["chat_window.display_logo"]?{enabled:!0,src:c.group["chat_window.logo_path"]}:{enabled:!1},minimizedType:c.group["chat_window.theme.minimized"],minimizedTypeOnMobile:c.group["chat_window.mobile_minimized_theme"],offsetX:parseInt(c.group["chat_window.offset_x"]),offsetXOnMobile:parseInt(c.group["chat_window.mobile_offset_x"]),offsetY:parseInt(c.group["chat_window.offset_y"]),offsetYOnMobile:parseInt(c.group["chat_window.mobile_offset_y"]),prechatFormAfterGreetingEnabled:"1"===c.group.pre_chat_survey_after_greeting,ratingEnabled:"1"===c.group["rate_me.enabled"],screenPosition:c.group["chat_window.screen_position"],screenPositionOnMobile:c.group["chat_window.mobile_screen_position"],transcriptButtonEnabled:"1"===c.group["chat_window.display_transcript_button"],theme:{name:c.group["chat_window.new_theme.name"],customJson:c.group["chat_window.new_theme.custom_json"],agentbarBackgroundColor:c.group["chat_window.new_theme.agentbar_background_color"],agentbarText:c.group["chat_window.new_theme.agentbar_text"],agentMessageBackgroundColor:c.group["chat_window.new_theme.agent_message_color_background"],agentMessageColorText:c.group["chat_window.new_theme.agent_message_color_text"],backgroundColor:c.group["chat_window.new_theme.background_color"],ctaColor:c.group["chat_window.new_theme.cta_color"],minimizedColorBackground:c.group["chat_window.new_theme.minimized_color_background"],minimizedColorIcon:c.group["chat_window.new_theme.minimized_color_icon"],minimizedColorText:c.group["chat_window.new_theme.minimized_color_text"],systemMessageColor:c.group["chat_window.new_theme.system_message_color"],titlebarBackgroundColor:c.group["chat_window.new_theme.titlebar_background_color"],titlebarText:c.group["chat_window.new_theme.titlebar_text"],visitorMessageBackgroundColor:c.group["chat_window.new_theme.visitor_message_color_background"],visitorMessageColorText:c.group["chat_window.new_theme.visitor_message_color_text"]}},license:{continuousChatWidgetEnabled:"1"===c.license.continuous_chat_widget_enabled,creditCardMaskingEnabled:"1"===c.license.mask_credit_cards,customerHistoryEnabled:"1"===c.license.customer_history_enabled,fileSharingEnabled:"1"===c.license["attachments.enable_for_visitors"],inboundForwardingToHelpdeskEnabled:"1"===c.license["helpdesk.inbound_forwarding"],nonProfit:"1"===c.license.non_profit,protocolVersion:c.license.lc_version,widgetVersion:c.license.widget_version}})})}))},h=function(e){var t=p("get_localization",e);return Object(a.a)(t+"?"+Object(c.a)(Object(i.a)({license_id:e.licenseId,version:e.version,language:e.language},"number"===typeof e.groupId&&{group_id:e.groupId},{acao:!0}))).then((function(e){return e.json()})).then((function(e){return Object(o.L)((function(e){return e.toLowerCase()}),e)}))}},161:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(65),i=n(1),a=n(26),o=n(125),c=function(e,t){return e.order-t.order},u={question:{type:"text"},checkbox_for_email:{type:"checkbox",meta:"confirm_subscription"},header:{type:"information"},skill:{type:"group_select"}},s=function(e){return e.map((function(e,t){var n={};return Object(i.z)("label",e)&&(n.label=e.label),Object(i.z)("checked",e)&&(n.checked=e.checked),n.value=String(t),Object(i.z)("skill_id",e)&&(n.value=String(e.skill_id)),Object(i.z)("embedded_chat_hide_when_offline",e)&&(n.ticketFormDisabled=Boolean(e.embedded_chat_hide_when_offline)),Object(i.z)("queue_template",e)&&(n.queueTemplate=e.queue_template),n}))},l=function(e){var t=!1,n={fields:e.fields.sort(c).map((function(e,n){var r={};if("facebookConnect"===e.type)return t=!0,!1;e.id?r.name=e.id:-1===["header","information"].indexOf(e.type)&&(r.name=String(n)),Object(i.z)("value",e)&&(r.value=e.value),Object(i.z)("label",e)&&(r.label=e.label),Object(i.z)("required",e)&&(r.required=e.required),"rating"===e.type&&(r.commentLabel=e.options[0]),e.skills&&e.skills.length>0?r.options=s(e.skills):e.options&&e.options.length>0&&(e.options_data?r.options=s(e.options_data):Object(i.F)(e.options[0])?r.options=e.options.map((function(e,t){return{label:e.label,value:String(t)}})):r.options=e.options.map((function(e,t){return{label:e,value:String(t)}}))),e.serverType&&(r.serverType=e.serverType);var a=function(e){return{type:u[e]&&u[e].type||e,meta:u[e]&&u[e].meta||!1}}(e.type),o=a.type,c=a.meta;return r.type=o,c&&(r.meta=c),r})).filter(Boolean)};return e.id&&(n.id=e.id),t&&(n.facebookConnect=!0),n},d=function(e){return Object(r.a)({},e,{fields:e.fields.map((function(e){switch(e.type){case"name":case"subject":return Object(r.a)({},e,{maxLength:1024});case"email":case"textarea":return Object(r.a)({},e,{required:!0});default:return e}}))})},p=function(e,t,n){var r={survey_id:t.id},c=["name","question","email","checkbox","checkbox_for_email","radio","skill","select","textarea"],s=t.fields.map((function(r,c){var s,l,d={id:r.name,order:t.facebookConnect?c+1:c,type:(s=r.type,l=r.meta,void 0===l&&(l=!1),Object(i.o)((function(e){var t=e.type,n=e.meta;return t===s&&(!n||l===n)}),u)||s)};return"checkbox_for_email"===d.type?d.label="":Object(i.z)("label",r)&&(d.label=o.a?Object(a.b)(r.label):r.label),Object(i.z)("options",r)?d.answers=r.options.map((function(t,a){var o={index:a};return Object(i.z)("label",t)&&(o.label=t.label),"skill"===d.type&&(o.group_id=parseInt(t.value,10)),"group_select"===r.type?o.chosen=parseInt(n,10)===a:o.chosen=e[r.name]&&(Array.isArray(e[r.name])&&-1!==e[r.name].indexOf(t.value)||"string"===typeof e[r.name]&&e[r.name]===t.value)||!1,o})):d.answer=e[r.name]||"",d})).filter((function(e){return-1!==c.indexOf(e.type)}));return r.fields=s,r}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return b}));var r=n(3),i=n(1),a=n(58),o=function(e,t){var n=function n(){var r=t.apply(void 0,arguments);return"function"===typeof r?n:{type:e,payload:r}};return n.getActionName=function(){return e},n.toString=function(){return e},n},c=function(e,t){var n=function(n){var r=Object.create(n);r.action=function(t,r){var i={type:e,payload:t};r&&(i.meta=r),n.dispatch(i)};for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t.apply(void 0,[r].concat(a))};return n.toString=function(){return e},n},u=function(e,t){var n="REQUEST_"+e,o=c(e,t),u=function(e){for(var c=arguments.length,u=new Array(c>1?c-1:0),s=1;s<c;s++)u[s-1]=arguments[s];var l,d=Object.create(e);if(d.action=function(t){var c=Object(a.a)(),s=c.promise,d=c.resolve,p=c.reject;e.dispatch({type:n,payload:Object(r.a)({},t,{resolve:d,reject:p})}),(l=s).then((function(){o.apply(void 0,[e].concat(u))}),i.S)},t.apply(void 0,[d].concat(u)),"undefined"===typeof l)throw new Error("You forgot to call `action` handler in "+n+" creator.");return l};return u.toString=function(){return n},{actionMethod:o,requestActionMethod:u}},s=function(e,t){if("object"!==typeof e||null===e||Array.isArray(e))throw new Error("bindActionMethods expects a plain object with actionMethods as values.");return Object(i.M)((function(e){return function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,[t].concat(r))}}(e,t)}),e)},l=function(e,t){return t[void 0]&&console.warn(["Reducer contains an 'undefined' action type.","Have you misspelled a constant?"].join("\n")),function(n,r){return void 0===n&&(n=e),Object(i.z)(r.type,t)?t[r.type](n,r.payload):n}};var d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=function(e){var t;return(t={})["SET_PROPERTY_"+e.toUpperCase()]=function(t,n){var i;return Object(r.a)({},t,((i={})[e]=n.data,i))},t["REMOVE_PROPERTY_"+e.toUpperCase()]=function(t){return Object(r.a)({},Object(i.U)([e],t))},t},f=function(e){var t;return(t={})["getProperty"+d(e)]=function(t){return t[e]},t},m=function(e){var t;return(t={})["setProperty"+d(e)]=o("SET_PROPERTY_"+e.toUpperCase(),(function(e,t){return void 0===t&&(t={}),{data:e,meta:t}})),t["removeProperty"+d(e)]=o("REMOVE_PROPERTY_"+e.toUpperCase(),(function(){return{propName:e}})),t},h=function(e,t){if("object"!==typeof e||null===e||Array.isArray(e))throw new Error("bindSelectors expects a plain object with selectors as values.");return Object(i.M)((function(e){return function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,[t()].concat(r))}}(e,t)}),e)},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(99),a=function(e){var t={};try{t=JSON.parse(e)}catch(n){}return t},o=function(e){var t,n,o=e.license_properties,c=e.group_properties,u="1"===c.chat_window.custom_mobile_settings,s="1"===o.non_profit,l="3"===o.lc_version,d=l&&"1"===o.continuous_chat_widget_enabled,p=Object(r.x)(!1,"properties.group.feade1d6c3f17748ae4c8d917a1e1068.forwardTicketFormToHelpdesk",e),f="1"===Object(r.x)(!1,"license_properties.helpdesk.inbound_forwarding",e),m={nonProfitLicense:s,visitorData:Object(r.L)(r.b,e.visitor),features:{helpDesk:{enabled:p||f,licenseId:Object(r.x)(null,"properties.license.feade1d6c3f17748ae4c8d917a1e1068.hdLicenseID",e)},fileSharing:{enabled:e.attachments.enable_for_visitors},agentAvatar:{enabled:e.chat_window.display_avatar,showWithMessage:e.chat_window.display_avatar&&"modern"!==Object(r.w)("group_properties.chat_window.new_theme.name",e)},continuousChat:{enabled:d},chatHistory:{enabled:d||l&&"1"===o.customer_history_enabled},rating:{enabled:e.chat_window.display_rating,position:"modern"===Object(r.w)("group_properties.chat_window.new_theme.name",e)?"bottom":"right"},emailTranscript:{enabled:e.chat_window.display_transcript_button},logo:{enabled:e.chat_window.logo.display,path:Object(i.a)(e.chat_window.logo.path)},facebookButton:{enabled:Boolean(e.chat_window.social.facebook)},twitterButton:{enabled:Boolean(e.chat_window.social.twitter)},googlePlusButton:{enabled:Boolean(e.chat_window.social.plusone)},offlineForm:{enabled:!e.embedded_chat.hide_when_offline},linksPreview:{enabled:"1"===c.links_unfurling},preChatForm:{enabled:e.pre_chat_survey&&e.pre_chat_survey.enabled||!1},preChatAfterGreeting:{enabled:"1"===c.pre_chat_survey_after_greeting},creditCardMasking:{enabled:e.mask_credit_cards},hideTrademark:{enabled:"1"===c.chat_window.hide_trademark},hideOnMobile:{enabled:"1"===c.chat_window.hide_on_mobile},hideOnInit:{enabled:"1"===c.chat_window.hide_on_init},disableSounds:{enabled:"1"===c.chat_window.disable_sounds},minimized:{enabled:"0"===c.chat_window.disable_minimized},mobileMinimized:{enabled:u?"0"===c.chat_window.mobile_disable_minimized:"0"===c.chat_window.disable_minimized}},buttons:e.buttons.map((function(e){return{id:e.id,type:e.type,onlineImage:Object(i.a)(e.online_value),offlineImage:Object(i.a)(e.offline_value)}})),theme:{color:e.chat_window.theme.color,name:e.chat_window.theme.name,minimized:c.chat_window.theme.minimized,mobileMinimized:u?c.chat_window.mobile_minimized_theme:c.chat_window.theme.minimized},newTheme:{name:c.chat_window.new_theme.name,iconTheme:"modern"===c.chat_window.new_theme.name?"modern":"smooth",agentMessageBackgroundColor:Object(r.x)("#fffff","group_properties.chat_window.new_theme.agent_message_color_background",e),agentMessageColorText:Object(r.x)("#424d57","group_properties.chat_window.new_theme.agent_message_color_text",e),backgroundColor:Object(r.x)("#e9eef4","group_properties.chat_window.new_theme.background_color",e).toLowerCase(),minimizedColorBackground:Object(r.x)("#ffffff","group_properties.chat_window.new_theme.minimized_color_background",e),minimizedColorIcon:Object(r.x)("#4384F5","group_properties.chat_window.new_theme.minimized_color_icon",e),minimizedColorText:Object(r.x)("#000000","group_properties.chat_window.new_theme.minimized_color_text",e),visitorMessageBackgroundColor:Object(r.x)("#4384f5","group_properties.chat_window.new_theme.visitor_message_color_background",e),visitorMessageColorText:Object(r.x)("#ffffff","group_properties.chat_window.new_theme.visitor_message_color_text",e),titlebarBackgroundColor:Object(r.x)("#ffffff","group_properties.chat_window.new_theme.titlebar_background_color",e),titlebarText:Object(r.x)("#424d57","group_properties.chat_window.new_theme.titlebar_text",e),systemMessageColor:Object(r.x)("#424d57","group_properties.chat_window.new_theme.system_message_color",e),agentbarBackgroundColor:Object(r.x)("#ffffff","group_properties.chat_window.new_theme.agentbar_background_color",e),agentbarText:Object(r.x)("#424d57","group_properties.chat_window.new_theme.agentbar_text",e),ctaColor:Object(r.x)("#427fe1","group_properties.chat_window.new_theme.cta_color",e),customJson:a(Object(r.w)("group_properties.chat_window.new_theme.custom_json",e))},domainWhitelist:e.domain_whitelist,widgetType:e.embedded_chat.enabled?"embedded":"popup",integrations:e.integrations,hasAnyCustomLicenseProperty:Object.keys(e.properties.license).length>0,language:e.lang,groups:(t=e.skills,n=e.skills_online,Object(r.H)("id",t.map((function(e){return{id:e.id,status:-1!==n.indexOf(e.id)?"online":"offline",oldButtons:{onlineImage:Object(i.a)(e.chat_button.online_url),offlineImage:Object(i.a)(e.chat_button.offline_url)}}})))),clientLimitExceeded:e.client_limit_exceeded,screenPosition:c.chat_window.screen_position,mobileScreenPosition:u?c.chat_window.mobile_screen_position:c.chat_window.screen_position};return m.features.facebookButton.enabled&&(m.features.facebookButton.path=e.chat_window.social.facebook),m.features.twitterButton.enabled&&(m.features.facebookButton.path=e.chat_window.social.twitter),m.features.googlePlusButton.enabled&&(m.features.facebookButton.path=e.chat_window.social.plusone),m}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46),i=function(e,t,n){void 0===n&&(n={});var i=n.attempts||3,a=n.retryDelay||1e3;return new Promise((function(n,o){!function c(){var u;Object(r.a)(e,t).then((function(e){if(400!==e.status&&422!==e.status){if(!e.ok)throw new Error({type:"connection",reason:"Request failed"});n(e)}else e.json().then(o).catch(o)})).catch((function(e){return i?(--i,setTimeout((function(){c()}),a)):o(e)})),(u=15e3,new Promise((function(e){setTimeout(e,u)}))).then((function(){o({type:"connection",reason:"Request timeout"})}))}()}))}},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return m}));var r=n(14),i=n(18),a=n(4),o=n(5),c=function(){var e=Object(r.h)(window.location.search);return parseInt(function(){var e=String(window.location).match(/licen(?:s|c)e\/g?(\d+)/);return e?e[1]:null}()||e.license,10)},u=function(e){var t=parseInt(e,10);return t>-1?t:null},s=function(e){return"group"in e?u(e.group):"groups"in e?u(e.groups):null},l=function(){return"1"===Object(r.g)("unique_groups",window.location.search)||"1"===Object(r.g)("unique_group",window.location.search)},d=function(e,t,n){void 0===n&&(n={});var r=n,i=r.name,c=void 0===i?function(e){var t=e.getSessionUser().name;return t||e.localize("client")}(e):i,u=r.agent,s=void 0===u?function(e){return Object(o.b)(a.b,e).name}(e):u;return t.replace(/%name%/g,c).replace(/%agent%/g,s)},p=function(e){return Object(i.b)(e)>.7},f=function(e){return Object(i.b)(e)<=.179},m=function(e,t){var n=t.split(" "),r=0,i=!1,a=n.map((function(t){return!i&&t.length+r<e?(r+=t.length+1,t):(i=!0,null)})).filter((function(e){return"string"===typeof e})).join(" ");return i?a+"...":a}},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"d",(function(){return r.b})),n.d(t,"e",(function(){return r.c})),n.d(t,"b",(function(){return i.a})),n.d(t,"a",(function(){return m}));var r=n(51),i=n(69),a=n(2),o=n(7),c=n(1),u=n(4),s=n(5),l=n(20),d=n(33),p=n(88),f=function(e){return s.i(e).some((function(e){return"form"===e.type&&e.properties.fields.some((function(e){return"group_chooser"===e.type}))}))},m=function(e){var t=Object(o.u)(Object(d.c)(e,(function(){return e.getApplicationState().maximized})),Object(o.x)(1),Object(o.g)(Boolean));Object(o.u)(t,Object(o.A)(1),Object(o.g)((function(){return!Math.floor(1e3*Math.random())})),Object(o.h)((function(){return function(e){Object(i.f)({isMessagingModeEnabled:s.C(e),isCustomerInvited:s.x(e,u.b),groupAvailability:e.getApplicationState().availability,minimizedType:s.k(e)})}(e)}))),Object(o.u)(Object(d.a)(e),Object(o.h)((function(){return function(e){var t=e.getApplicationState(),n=t.s,r=t.protocol,o=t.embedded,d=t.testGroup,m=t.actingAsDirectLink,h=t.config,b=t.language,g=t.integrationName,v=t.clientChatNumber,y=t.clientVisitNumber,O=h&&h.theme&&h.theme.name,_=Object(p.b)()||"none",w=Object(l.c)(),j=s.z(e),x=!!s.v(e,u.b),E=!!e.getSessionUser().email,C=s.x(e,u.b)?"invitation":"other",k=s.k(e),S=s.i(e),I=S.find((function(e){return!!e.properties.invitation})),T=Object(c.J)(S.filter((function(e){return"message"===e.type||"message_draft"===e.type})));Object(i.b)(Object(a.a)({s:n,embedded:o,themeName:O,testGroup:d,uniqueGroups:w,minimizedType:k,language:b||"unknown",lcProtocol:r||"unknown",integrationName:g||"none",mobileBridgeType:_,chatHistoryEnabled:j,hasPreviousChatThreads:x,hasGroupChooser:"lc3"===r?String(f(e)):"unknown",hasBeenImmediatelyQueued:"lc3"===r?String(e.getChat(u.b).properties.queued):"unknown",isCustomerEmailSet:E,actingAsDirectLink:m,chatWidgetWidth:window.innerWidth,chatWidgetHeight:window.innerHeight,clientChatNumber:v+1,clientVisitNumber:y,chatSource:C,fromGreeting:!!Object(c.x)(!1,"properties.fromGreeting",T)},"invitation"===C&&I&&{greetingId:I.properties.id,greetingUniqueId:I.properties.uniqueId,greetingType:I.properties.type,greetingSubtype:I.properties.subtype,greetingAddon:I.properties.addon||"none"}))}(e)})))}},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(8),i=n(2),a=n(1),o=n(141);n.d(t,"a",(function(){return o.a})),n.d(t,"c",(function(){return o.b})),n.d(t,"e",(function(){return o.c})),n.d(t,"f",(function(){return o.d})),n.d(t,"g",(function(){return o.e}));var c={group_select:"select",name:"text",subject:"text"},u=function(e){return e.replace(/index[0-9]*_/gi,"")},s=function(e,t){var n=Object(a.m)((function(e){return"groupSelect"===e.meta}),e);return Object.keys(t).reduce((function(r,i){var o=t[i];if("rateComment"===i)return r.rateComment=o,r;if("rating"===i)return r.rate=null===o?o:u(o),r;var c=Object(a.m)((function(e){return e.name===i}),e),s=c.serverName;return n&&s&&s===n.serverName&&(r.choosenGroupIndex=t[n.name].match(/index([0-9]*)_/)[1],r.choosenGroup=parseInt(u(o),10)),c.options?r.fields[s]=Object(a.C)(o)?o.map(u):u(o):r.fields[s]=o,r}),{fields:{}})},l=function(e,t){return Object(i.a)({},t,{type:e,fields:t.fields.reduce((function(e,t){var n=t.name,o=Object(r.a)(t,["name"]),u=Object(i.a)({},o,{type:c[o.type]||o.type,serverType:o.type});if(u.options){u.options=u.options.map((function(e,t){return Object(i.a)({},e,{value:"index"+t+"_"+e.value,originalValue:e.value})}));var s=u.options.filter((function(e){return e.checked}));s.length&&(u.defaultValue=s.map((function(e){return e.value})))}if("information"===o.type&&(u.value=u.value.replace(/<br(\s)?(\/)?>/gi,"\n")),"group_select"===o.type&&(u.meta="groupSelect",u.options=u.options.map((function(e){return Object(i.a)({},e,{groupNumber:parseInt(e.originalValue,10)})}))),n&&(u.serverName=n),"name"===o.type)u.name="name";else if("email"===o.type)u.name="email";else{if("rating"===o.type)return u.name="rating",[].concat(e,[u,{name:"rateComment",type:"textarea",label:u.commentLabel,required:!1,dependOn:"rating"}]);n&&(u.name=Object(a.u)()+"_"+n)}return[].concat(e,[u])}),[])})}},243:function(e,t,n){"use strict";t.a=function(e,t,n){var r=void 0===n?{}:n,i=r.headers,a=r.method,o=void 0===a?"POST":a,c=r.onProgress,u=r.withCredentials,s=void 0!==u&&u,l=new XMLHttpRequest;return{promise:new Promise((function(n,r){"function"===typeof c&&(l.upload.onprogress=function(e){c(e.loaded/e.total)}),l.onload=function(){var e;try{e=JSON.parse(l.response)}catch(t){e=l.response}if(l.status>=200&&l.status<300)n(e);else{var t=new Error("Upload failed.");t.code="UPLOAD_FAILED",t.response=e,r(t)}},l.onerror=function(){var e=new Error("Upload failed.");e.code="UPLOAD_FAILED",r(e)},l.onabort=function(){var e=new Error("Upload canceled.");e.code="UPLOAD_CANCELED",r(e)},l.open(o,e),l.withCredentials=s,i&&Object.keys(i).forEach((function(e){return l.setRequestHeader(e,i[e])})),l.send(function(e){var t=new FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t}(t))})),cancel:function(){l.abort()}}}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m}));var r=n(1),i=function(e,t){Object(r.s)((function(e,n){"style"!==n?t.setAttribute(n,e):function(e,t){Object(r.s)((function(e,n){t.style[n]=e}),e)}(e,t)}),e)},a=!!document.documentElement.currentStyle,o=function(e,t){var n=window.getComputedStyle(t),i="border-box"===n.boxSizing,o=Object(r.Z)(e,n);if(a&&i&&Object(r.z)("width",o)&&null!==o.width){var c=[o.width,n.paddingLeft,n.paddingRight,n.borderLeftWidth,n.borderRightWidth];o.width=Object(r.lb)(c.map(parseFloat))+"px"}if(a&&i&&Object(r.z)("height",o)&&null!==o.height){var u=[o.height,n.paddingTop,n.paddingBottom,n.borderTopWidth,n.borderBottomWidth];o.height=Object(r.lb)(u.map(parseFloat))+"px"}return o},c=n(249);function u(e,t){void 0===t&&(t=document.body);var n=Object(c.a)(t),i=Object(r.n)((function(t){return t===e}),n);return n[i===n.length-1?0:i+1]}function s(){return new Promise((function(e){!function t(){document.body?e(document.body):setTimeout(t,100)}()}))}var l=null,d=function(){if(l)return l;var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="50px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?l="positive-descending":(e.scrollLeft=1,l=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),l};function p(e,t){return void 0===t&&(t=0),Math.abs(e.scrollTop+e.clientHeight-e.scrollHeight)<=t}function f(e,t){return void 0===t&&(t=0),e.scrollTop<=t}function m(e){var t=e.parentNode;t&&t.removeChild(e)}},251:function(e,t,n){e.exports=n.p+"static/media/new_message.c597c3a2.mp3"},252:function(e,t,n){e.exports=n.p+"static/media/new_message.a37211a6.ogg"},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(3),i=n(29),a=n(0),o=n(160),c=n.n(o),u=n(1),s=n(14),l=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var n=t.prototype;return n.listitem=function(e){return""+m+e},n.list=function(e,t,n){var r=n;return e.replace(m,(function(){return t?r+++". ":"- "}))},t}(o.Renderer),d=Array.prototype.map,p=["A","UL","OL","LI","STRONG","EM","BR"],f=new l,m="%list-item%",h=function(e){return e.replace(/\n+$/,"")};function b(e){var t=c()(e,{renderer:f}),n=(new DOMParser).parseFromString(t,"text/html").body;return n?h(n.textContent||""):""}t.a=function(e){var t=e.template,n=e.root,i=e.preserveLists,o=n?n.props:{},l=n?n.component:a.Fragment,m=a.useMemo((function(){var e=new DOMParser,n=h(c()(t,i?{renderer:f}:{})),o=e.parseFromString(n,"text/html").body;return o?function e(t){return d.call(t,(function(t,n){if("#text"===t.nodeName)return t.textContent;if(!Object(u.B)(t.nodeName,p))return t.hasChildNodes()?e(t.childNodes):null;var i=Object(r.a)({key:n},t.hasChildNodes()&&{children:e(t.childNodes)});if("A"===t.nodeName){var o=t.getAttribute("href");if(!o||Object(s.j)(o))return e(t.childNodes);var c=Object(r.a)({},i,{href:o,target:"_blank",rel:"nofollow noopener"});return a.createElement("a",c)}return a.createElement(t.nodeName.toLowerCase(),i)}))}(o.childNodes):""}),[t,i]);return a.createElement(l,o,m)}},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(42),i=n.n(r),a=n(56),o=n(1),c=n(35),u=n(37),s=n.n(u),l=n(77),d=n.n(l),p=n(55),f=n(147),m=n(61),h=n(50),b=n.n(h),g=n(87),v=n(98),y=n(80),O=n(79),_=n(189),w=n(54),j=n(41),x=(n(78),function(e){return!!e.data&&e.data["@@livechat/postmessenger"]}),E=Object(o.X)((function(){return Object(m.a)(i()((function(e){return e.data.origin=e.origin,e.data}))(s()(x)(Object(j.a)(window,"message"))))}));function C(e){return function(t){return Object(w.a)(i()(e)(t))}}var k=0,S=function(e,t,n,r){return void 0===r&&(r=k++),Object(O.a)((function(){return n.request=r,t(n),b()(1)(C((function(e){if(!e.data.error)return Object(p.a)((function(){return e.data.result}));var t=e.data.result,n=t.real,r=t.error;if(!n)return Object(_.a)(r);var i=new Error(r.message);return Object(o.z)("code",r)&&(i.code=r.code),Object(_.a)(i)}))(s()((function(e){return"response"===e.type&&e.request===r}))(e)))}))},I=function(e,t,n,r,i){return void 0===i&&(i=null),Object(y.a)({},e,{call:function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];return Object(a.a)(S(t,r,n("call",{method:e,args:o})))},emit:function(e,t){r(n("emit",{event:e,arg:t}))},data:i})},T=n(97),z=n.n(T);function M(){var e=z()();return[e,function(){var t=new Error("Destroyed.");t.code="DESTROYED",e(2,t)}]}var A=function(e,t,n,r){var i;return(i={})["@@livechat/postmessenger"]=!0,i.owner=e,i.instance=t,i.type=n,i.data=r,i},R=n(100),L=function(e,t,n,r){return function(i){switch(i.type){case"call":return void Object(R.a)((function(){var t=i.data,n=t.method,a=t.args;return r[n].apply(e,a)})).then((function(e){i.type="response",i.data={error:!1,result:e},n(i)}),(function(e){var t;i.type="response",e instanceof Error?(t={real:!0,error:{message:e.message}},Object(o.z)("code",e)&&(t.error.code=e.code)):t={real:!1,error:e},i.data={error:!0,result:t},n(i)}));case"emit":var a=i.data,c=a.event,u=a.arg;return void t(c,u);default:return}}},N=function(e){return Object(o.Y)((function(e){return"function"===typeof e}),e)},B=Object(o.u)(),P=0;function q(e,t){var n=e.frame,r=e.targetOrigin,a=void 0===r?function(e){var t=document.createElement("a");return t.href=e,t.origin?"null"===t.origin?"*":t.origin:(t.protocol.length>4?t.protocol:window.location.protocol)+"//"+(t.host.length?"80"===t.port||"443"===t.port?t.hostname:t.host:window.location.host)}(n.src):r,o=e.handshakeRetry,u=void 0===o?{}:o;void 0===t&&(t={});var l=N(t),h=l[0],y=l[1],O=M(),_=O[0],w=O[1],j=P++,x=n.contentWindow,k=Object(c.a)(),T=function(e,t){return A(B,j,e,t)},z=function(e){x.postMessage(e,a)},R=Object(m.a)(Object(g.a)(_)(s()((function(e){return e.owner===B&&e.instance===j}))(E()))),q=I(k,R,T,z),D=Object(m.a)(Object(g.a)(_)(C((function(e){return"@@livechat/4way"in e?i()((function(){return e.data}))(S(R,z,T("handshake_echo"))):Object(p.a)((function(){return e}))}))(b()(1)(Object(f.a)(u.count||5)(Object(v.a)(u.interval||500)(S(R,z,T("handshake",y),null))))))),F=L(q,k.emit,z,h);return d()(F)(C((function(){return R}))(D)),{api:q,destroy:w,handshake$:D}}n(134);var D=n(148),F=n(25),V=function(e,t){var n=document.createElement("iframe");return e.appendChild(n),n.src=t,n};var U=n(96),H=n.n(U);function G(e,t){var n,r=e.onConnected,o=Object(D.a)(e,["onConnected"]),c=!o.frame,u=function(e){if(e.frame)return e.frame;var t=e.container,n=e.url;return V(t,n)}(o),s=M(),l=s[0],p=s[1],m=function(){c&&Object(F.h)(u),n?n.destroy():p()};return d()((function(e){e.destroy=m,e.frame=u,r(e)}))(Object(g.a)(l)(Object(f.a)()(C((function(){return H()((function(e,r){var c=function(e,t){var n=q(e,t),r=n.api,o=n.destroy,c=n.handshake$;return{destroy:o,promise:Object(a.a)(i()((function(e){return r.data=e,r.destroy=o,r}))(c))}}(Object(y.a)({},o,{frame:u}),t);return c.promise.then(e,r),n=c,c.destroy}))}))(Object(j.a)(u,"load"))))),{destroy:m,frame:u}}},33:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(7),i=n(1);function a(e,t){return Object(r.u)(Object(r.k)(e),Object(r.y)(e.getState()),Object(r.p)(t),Object(r.d)(i.hb))}var o=function(e){return Object(r.u)(a(e,(function(e){return e.application.ready})),Object(r.g)(Boolean),Object(r.A)(1),r.v)},c=n(10),u=n(4),s=function(e){return Object(r.u)(o(e),Object(r.z)((function(){return Object(r.u)(a(e,(function(e){return Object(c.getChat)(e,u.b).active})),Object(r.x)(1),Object(r.g)(Boolean))})))}},34:function(e,t,n){"use strict";n.r(t),n.d(t,"caution",(function(){return r})),n.d(t,"divider",(function(){return i})),n.d(t,"border",(function(){return a})),n.d(t,"error",(function(){return o})),n.d(t,"success",(function(){return c})),n.d(t,"accent",(function(){return u})),n.d(t,"notification",(function(){return s})),n.d(t,"webkitOutline",(function(){return l})),n.d(t,"surface",(function(){return d})),n.d(t,"text",(function(){return p})),n.d(t,"grayscale",(function(){return f})),n.d(t,"brand",(function(){return m}));var r="#ffd000",i="#e3e3e3",a="#b3b3b3",o="#d93311",c="#38c777",u="#2000f0",s="#e30d34",l="#3b99fc",d={light:"#ffffff",lightVariant:"#f0f0f0",dark:"#252525",darkVariant:"#2e2e2e "},p={white:"#ffffff",black:"#111111",muted:"#757575"},f={50:"#f8f8f8",100:"#e3e3e3",200:"#d5d5d5",300:"#c0c0c0",400:"#b3b3b3",500:"#757575",600:"#575757",700:"#2e2e2e",800:"#252525",900:"#111111"},m={black:"#1b1b20",orange:"#ff5100"}},35:function(e,t,n){"use strict";var r=n(3),i=n(246).a;t.a=function(){var e=Object.create(null),t=i(e);return Object(r.a)({},t,{off:function(n,r){n?t.off(n,r):Object.keys(e).forEach((function(t){delete e[t]}))},once:function(e,n){t.on(e,(function r(i,a){t.off(e,r),n(i,a)}))}})}},362:function(e,t){},363:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Root",(function(){return cr})),n.d(r,"Maximized",(function(){return tr})),n.d(r,"Minimized",(function(){return ir}));var i={};n.r(i),n.d(i,"heading",(function(){return go})),n.d(i,"subheading",(function(){return vo})),n.d(i,"input",(function(){return yo})),n.d(i,"placeholder",(function(){return Oo})),n.d(i,"caption",(function(){return _o})),n.d(i,"basic",(function(){return wo})),n.d(i,"basicContrast",(function(){return jo})),n.d(i,"errorCaption",(function(){return xo}));var a={};n.r(a),n.d(a,"easings",(function(){return Eo}));var o={};n.r(o),n.d(o,"xs",(function(){return Co})),n.d(o,"sm",(function(){return ko})),n.d(o,"md",(function(){return So})),n.d(o,"lg",(function(){return Io})),n.d(o,"xl",(function(){return To})),n.d(o,"none",(function(){return zo})),n.d(o,"round",(function(){return Mo})),n.d(o,"def",(function(){return Ao}));var c={};n.r(c),n.d(c,"xs",(function(){return Ro})),n.d(c,"sm",(function(){return Lo})),n.d(c,"md",(function(){return No})),n.d(c,"lg",(function(){return Bo})),n.d(c,"floating",(function(){return Po})),n.d(c,"outline",(function(){return qo}));var u={};n.r(u),n.d(u,"space0",(function(){return Do})),n.d(u,"space1",(function(){return Fo})),n.d(u,"space2",(function(){return Vo})),n.d(u,"space3",(function(){return Uo})),n.d(u,"space4",(function(){return Ho})),n.d(u,"space5",(function(){return Go})),n.d(u,"space6",(function(){return Wo})),n.d(u,"space7",(function(){return Yo}));var s=function(){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_js_loaded")};s();var l,d,p,f=n(188),m=n.n(f),h=function(){for(var e;l;){e=l.fn,l=l.next;try{e()}catch(t){throw l?p():d=void 0,t}}d=void 0},b=window.MutationObserver||window.WebKitMutationObserver;if(b){var g=document.createTextNode(""),v=!0;new b(h).observe(g,{characterData:!0}),p=function(){g.data=v=!v}}else p=function(){setTimeout(h,0)};var y=function(e){var t={fn:e,next:void 0};d&&(d.next=t),l||(l=t,p()),d=t};/native code/.test(window.Promise)||(window.Promise=m.a,window.Promise._immediateFn=y),"function"!==typeof window.Promise.prototype.finally&&(window.Promise.prototype.finally=m.a.prototype.finally);n(275),n(293),n(295),n(300),n(305),n(307);var O=n(133),_=n.n(O),w=n(1);Object.assign=_.a,"function"!==typeof Array.prototype.find&&(Array.prototype.find=function(e){return Object(w.m)(e,this)}),"function"!==typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e){return Object(w.n)(e,this)}),"function"!==typeof Object.values&&(Object.values=w.xb);var j=n(2),x=n(8),E=n(21),C=n(20),k=new RegExp("("+["BetterJsPop","LOCAL_STORAGE is null","Can't find variable: auto","Can't find variable: ext","Can't find variable: $","_avast_submit","No license found in the URL.","getNewsReadStatus4Vivo","is banned!"].join("|")+")"),S=new RegExp("("+["chrome-extension://","https://www.smybeds.com/"].join("|")+")"),I=function(e){return!!(e.message&&k.test(e.message)||e.stack&&S.test(e.stack))};window.addEventListener("error",(function(e){var t=e.error;if(t)if(t.message&&-1!==t.message.indexOf("evaluating 'document.getElementById('view-chat').innerHTML'")){var n=Object(C.b)();if(10095588===n||7243681===n)return;Object(E.c)("custom_mobile_hacks",t)}else I(t)||Object(E.c)("onerror",t)})),window.addEventListener("unhandledrejection",(function(e){null!=e&&null!=e.reason&&(I(e)||Object(E.c)("unhandledrejection",e.reason))}));var T=n(140),z=n(14),M=n(159),A=n(35),R=M.a.Model;M.a.Model=function(){return function(e){var t=Object(A.a)(),n={};return e.resolveRemoteCall=function(e){var t=e.id,r=e.value,i=n[t];delete n[t],i(r)},e.emitEvent=function(e){var n=e.event,r=e.data;t.emit(n,r)},new R(e).then((function(r){return r.call=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return new Promise((function(t){var a=Object(w.v)(n);n[a]=t,r.emit("remote-call",{id:a,method:e,args:i})}))},e.remoteCall=function(t){var n=t.id,i=t.method,a=t.args,o="function"===typeof e[i]?e[i].apply(r,a):void 0;o&&"function"===typeof o.then?o.then((function(e){r.call("resolveRemoteCall",{id:n,value:e})})):r.call("resolveRemoteCall",{id:n,value:o})},r.on=t.on,r.off=t.off,r}))}}();var L=M.a,N=n(13),B=n(4),P=n(3);function q(e,t){return"object"===typeof e&&"object"===typeof t?D(e,t):e}function D(e,t){var n;if(Array.isArray(e)){n=new Array(e.length);for(var r=0;r<e.length;r++)e[r]!==t[r]&&(n[r]=q(e[r],t[r]))}else n={},Object.keys(e).forEach((function(r){e[r]!==t[r]&&(n[r]=q(e[r],t[r]))}));return n}var F=n(104);function V(e,t){var n,r=Object(w.M)((function(e){return e.defaultValue}),t),i=Object.keys(t),a=Object(w.f)((function(e){return Object(j.a)({},r,e)}),(function(e){return Object(w.M)((function(e){return e.value}),e)}),(function(e){var n=Date.now();return Object(w.W)((function(e,r){return e.expires<n||void 0===t[r]}),e)}),JSON.parse,Object(w.h)("{}"),(function(){return F.a.getItem(e)})),o=Object(w.f)(JSON.stringify,(function(e){var t=Date.now()+18e5;return Object(w.M)((function(e){return{value:e,expires:t}}),e)}));return{persist:function(r){return r.subscribe((function(){var c,u=(c=r.getState(),i.reduce((function(e,n){return e[n]=Object(w.w)(t[n].path,c),e}),{})),s=D(u,n);Object(w.D)(s)||(F.a.setItem(e,o(Object(w.Q)(a(),s))),n=u)})),r},rehydrate:function(){return n=a(),e=n,i.reduce((function(n,r){return Object(w.gb)(t[r].path,e[r],n)}),{});var e}}}var U=n(58),H=function(e){var t,n=[],r=Object(U.a)();return e.startStateSync=function(i){t=e.getState(),i.emit("state",t);var a=function(){n.forEach((function(e){var t=e[0],n=e[1];i.emit(t,n)})),n.length=0},o=function(e,t){1===n.push([e,t])&&setTimeout(a,0)};e.subscribe((function(){var n=e.getState();n!==t&&(o("state_diff",D(n,t)),t=n)}));var c=/^request_/;e.on("*",(function(e,t){c.test(e)||o("store_event",[e,t])})),r.resolve()},e.syncing=function(){return r.promise},e},G=n(47),W={application:{rtl:!1,s:!1,actingAsDirectLink:!1,availability:null,isSendingFileEvents:!1,clientLimitExceeded:!1,clientLimitExceededLifted:!1,usersLimitReached:!1,config:{features:{agentAvatar:{enabled:!0},boosters:{enabled:!1,items:[]},chatHistory:{enabled:!1},continuousChat:{enabled:!1},creditCardMasking:{enabled:!1},disableSounds:{enabled:!1},emailTranscript:{enabled:!0},facebookButton:{enabled:!1},fileSharing:{enabled:!0},googlePlusButton:{enabled:!1},hideOnInit:{enabled:!1},hideOnMobile:{enabled:!1},hideTrademark:{enabled:!1},linksPreview:{enabled:!0},logo:{enabled:!0,path:"https://cdn.livechatinc.com/cloud/?uri=http://livechat.s3.amazonaws.com/default/logo/c4bf6633aa89a76af7461279581d8bdb.png"},offlineForm:{enabled:!0},preChatAfterGreeting:{enabled:!0},preChatForm:{enabled:!1},rating:{enabled:!0},twitterButton:{enabled:!1},mobileMinimized:{enabled:!0},minimized:{enabled:!0}},minimizedType:"bar",screenPosition:"right",theme:{}},destroyed:!1,eagerFetchingMode:!1,embedded:!0,requestedGroup:null,mobileWrapper:null,invitation:{current:null,hiddenIds:[],displayedIds:[]},isInCustomContainer:!1,hasUnseenEvents:!1,hidden:!1,maximized:!1,pageFocused:!1,applicationFocused:!1,mobile:Object(G.b)(),muted:!1,ready:!1,loadedInitialHistory:!1,integrationName:null,language:null,clientVisitNumber:0,clientChatNumber:0}},Y={boosters:!0,carousel:!0,emoji:!0,form:!0,image_preview:!0,message:!0,rich_message:!0,sticker:!0,system_message:!0,url_preview:!0,email_prompt:!0,message_draft:!0},J={boosters:!0,carousel:!0,form:!0},Z=function(e){return Object(N.e)(e,{shouldAddToTimeline:function(e){return Y[e.type]},shouldCreateNewGroup:function(e){return J[e.type]}})},K=function(e,t){var n=V((void 0===t?{}:t).persistKey,{clientLimitExceededLifted:{path:["application","clientLimitExceededLifted"],defaultValue:!1},eyeCatcherHidden:{path:["application","eyeCatcher","hidden"],defaultValue:!1},invitationHiddenIds:{path:["application","invitation","hiddenIds"],defaultValue:[]},invitationDisplayedIds:{path:["application","invitation","displayedIds"],defaultValue:[]},maximized:{path:["application","maximized"],defaultValue:!1},muted:{path:["application","muted"],defaultValue:!1},usersLimitReached:{path:["application","usersLimitReached"],defaultValue:!1}}),r=Object(w.Q)(W,Object(w.Q)(e,n.rehydrate()));return Object(w.f)(n.persist,H,Z)(r)},X=[{id:"iframekb",template:"moment",title:"Knowledge Base",description:"Save time with Knowledge Base - easy to access know-how right in the LiveChat widget",icon:"https://www.knowledgebase.ai/apple-touch-icon.71342b95.png",action:{type:"button",label:"Search",url:"https://livechat.kb.help/"}}],Q=function(e,t){var n=!!Object(z.g)("lc_boosters",window.location.search)?function(e){return Object(w.Q)(e,{application:{config:{features:{boosters:{enabled:!0,items:X}}}}})}(e):e,r=K(n,t);return r.setCurrentView("Chat"),r.addView("Chat/information"),r.addView("loader"),r.addView("Chat/postchat"),r.addView("Chat/prechat"),r.addView("Chat/queue"),r.addView("Chat/timeline"),r.addView("minimized",{text:"Chat"}),r.addView("Chat/offline"),r.addView("Moment",{show:!1,data:{}}),r.addChat({id:B.b,active:!1,properties:{agentIsTyping:!1,ended:!1,fakeAgentMessageId:null,hasMoreHistory:null,lastThread:null,loadingHistory:!1,queued:!1,rate:null,rateComment:null,eventsSeenUpToMap:{}}}),r},$=n(12);function ee(e){var t=function(t,n){return(e.getApplicationState("hidden")?n.call("show").then((function(){e.setApplicationState({hidden:!1})})):Promise.resolve()).then((function(){t!==e.getApplicationState("maximized")&&e.setApplicationState({maximized:t})}))};return{hide:function(){e.getApplicationState("hidden")||t(!1,this).then((function(){e.setApplicationState({hidden:!0})}))},hideGreeting:function(){Object($.q)(e)},hideEyeCatcher:function(){Object($.p)(e)},isFocused:function(){return!!document.hasFocus&&document.hasFocus()},maximize:function(){t(!0,this)},minimize:function(){t(!1,this),e.getView("minimized").hidden&&e.updateView("minimized",{hidden:!1})},startStateSync:function(){e.startStateSync(this)},storeMethod:function(t){var n=t[0],r=t.slice(1);e[n].apply(e,r)},logInfo:function(){E.d.apply(void 0,arguments)},logError:function(){E.c.apply(void 0,arguments)},logNotice:function(){E.e.apply(void 0,arguments)}}}var te,ne=n(7),re=n(25),ie=n(33),ae=n(5),oe=function(e){return/px$/.test(e)?Math.ceil(parseFloat(e))+"px":e},ce=function(e,t){return e.call("resize",function(e){return Object(j.a)({},e,{width:oe(e.width),height:oe(e.height)})}(t))},ue=function(e){var t=e.minimizedRef;return t?Object(re.b)(["width","height"],t):{width:"0px",height:"0px"}},se=function(e){var t=!1,n=null,r=function e(){if(n&&!t){var r=n;return n=null,t=!0,void r().then((function(){t=!1,e()}))}};return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];n=e.bind.apply(e,[null].concat(i)),r()}}((function(e,t){var n=t.getApplicationState(),r=n.maximized,i=n.mobile,a=n.invitation,o=te,c=e.model,u=c.fullWidth,s=c.fullHeight,l=Object(ae.c)(t),d=i&&!!l&&!Object(w.B)(l.properties.uniqueId,a.hiddenIds);return te=r,new Promise((function(n){o&&r?n():!o||r?o||!r?e.minimizedRef?(e.minimizedRef&&(e.minimizedRef.style.width="100%",e.minimizedRef.style.height="100%"),requestAnimationFrame((function(){ce(e,{width:u,height:s,maximized:r,ignoreHorizontalOffset:d}).then((function(){e.minimizedRef&&(e.minimizedRef.style.width="",e.minimizedRef.style.height=""),requestAnimationFrame((function(){ce(e,Object(j.a)({},ue(e),{ignoreHorizontalOffset:d})).then(n)}))}))}))):ce(e,{width:"0px",height:"0px",maximized:r,ignoreHorizontalOffset:d}).then(n):ce(e,{width:u,height:s,maximized:r,ignoreHorizontalOffset:d}).then(n):t.once("animation_end",(function(){ce(e,Object(j.a)({},ue(e),{maximized:r,ignoreHorizontalOffset:d})).then(n)}))}))})),le=function(e,t){te=t.getApplicationState().maximized,Object(ne.u)(Object(ie.c)(t,(function(e){return e.application.maximized})),Object(ne.h)((function(){return se(e,t)})))},de=function(e){var t=e.license,n=e.group;return t+(e.uniqueGroups?":"+n:"")+":state"},pe=function(e){return Object(w.B)(e,["ar","he","fa"])},fe=function(e){document.documentElement.lang=e},me=n(10),he=n(63),be=n(90),ge=n(48),ve=n(100),ye=(n(193),n(124)),Oe=(n(117),n(161)),_e=n(24);function we(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var je={group_chooser:"select",header:"information",name:"text",question:"text",subject:"text",checkbox_for_email:"checkbox"},xe=function(e,t){return e.getSessionUser().serverId===t.authorId},Ee=function(e,t){return xe(e,t)?e.getSessionUser().id:t.authorId},Ce=function(e,t){if("file"===t.type)return t.id;if(xe(e,t))return"customId"in t&&e.hasEvent(B.b,t.customId)?t.customId:t.id;var n=e.getEventByServerId(B.b,t.id);return n?n.id:t.id},ke=function(e){return e.groupIds?e.groupIds[0]:null},Se=function(e,t){var n=e.getSessionUser().serverId,r=Object(w.J)(t.filter((function(e){return e.present&&e.id!==n})));return r?r.id:null},Ie=function(e,t){var n=t.chat,r=t.chat,i=r.thread,a=r.users;return{id:n.id,agent:Se(e,a),events:i.events.map((function(t){return Le(e,Object(j.a)({},t,{seen:!1}))})).filter(Boolean),group:ke(n.access),thread:i.id,properties:De(i)}},Te=function(e,t){return Object(j.a)({},t,{type:e,fields:t.fields.reduce((function(e,t){var n=t.id,r=Object(x.a)(t,["id"]),i=Object(j.a)({},r,{type:je[r.type]||r.type,serverName:n,serverType:r.type});if("information"===i.type)i.value=i.label.replace(/<br(\s)?(\/)?>/gi,"\n");else if("checkbox_for_email"===r.type)i.meta="confirm_subscription",i.label="",i.options=[{label:r.label,checked:r.checked,value:"index0_0",originalValue:"0"}],r.checked&&(i.defaultValue=[i.options[0].value]);else if(r.options){var a="group_chooser"===r.type;a&&(i.meta="groupSelect"),i.options=i.options.map((function(e,t){var n=a?e.groupId:e.id;return Object(j.a)({},Object(w.U)(["id","checked"],e),{value:"index"+t+"_"+n,originalValue:String(n)})}))}return i.name=Object(w.B)(r.type,["name","email","rating"])?r.type:Object(w.u)()+"_"+n,"rating"===r.type?[].concat(e,[i,{name:"rateComment",type:"textarea",label:i.commentLabel,required:!1,dependOn:"rating"}]):[].concat(e,[i])}),[])})},ze=function(e){return Object(Oe.a)(Te("offline",e))},Me=function(e,t){var n=e.getSessionUser().serverId,r=t[n],i=Object(x.a)(t,[n].map(we));return{sessionUserSeenUpTo:r,latestOtherUserSeenUpTo:Object(w.J)(Object(w.xb)(i).filter(Boolean).sort())}},Ae=function(e,t){var n=t.thread,r=t.users,i=t.eventsSeenUpToMap,a=n.id,o=n.active,c=n.events,u=n.access,s=e.getSessionUser().serverId,l=Me(e,i),d=l.sessionUserSeenUpTo,p=l.latestOtherUserSeenUpTo;return{thread:n?{id:a,active:o,agent:o?Se(e,r):null,events:c.map((function(t){var n=t.authorId===s?p>=t.createdAt:d>=t.createdAt;return Le(e,Object(j.a)({},t,{seen:n}))})).filter(Boolean),group:ke(u),properties:De(n)}:null,eventsSeenUpToMap:i}},Re=function(e){var t=e.properties,n=Object(x.a)(e,["properties"]);if("lc2"in t){var r=t.lc2;if("greeting_unique_id"in r)return function(e,t){var n=_e.e(Object(j.a)({},e));return n.properties=Object(j.a)({},n.properties,{invitation:!0,subtype:e.subtype,id:t.greeting_id,uniqueId:t.greeting_unique_id}),n}(n,r);if(r.welcome_message)return function(e){return _e.e(Object(j.a)({},e,{welcomeMessage:!0}))}(n)}return function(e,t){return _e.e(t.url_details?Object(j.a)({},e,{urlDetails:t.url_details}):e)}(n,t)},Le=function(e,t){var n=Object(j.a)({},t,{id:Ce(e,t),serverId:t.id,authorId:Ee(e,t),timestamp:new Date(t.createdAt).getTime()});switch(n.type){case"filled_form":return Ne(n);case"message":return Re(n);case"rich_message":return function(e){if("lc2"in e.properties&&"greeting_unique_id"in e.properties.lc2){var t=_e.f(e);return t.properties=Object(j.a)({},t.properties,{invitation:!0,subtype:e.subtype,id:e.properties.lc2.greeting_id,uniqueId:e.properties.lc2.greeting_unique_id}),t}return _e.f(e)}(n);case"file":return _e.c(n);case"system_message":return Be(n);default:return null}},Ne=function(e){return Object(j.a)({},_e.a(e),{type:"form",properties:{answered:!0,formId:e.formId,formType:e.properties.lc2.form_type,fields:e.fields.filter((function(e){return"answer"in e||"answers"in e&&0!==e.answers.length})).map((function(e){if("string"===typeof e.answer)return e;if("answers"in e){var t=e.answers,n=Object(x.a)(e,["answers"]);return Object(j.a)({},n,{answer:t.map((function(e){return e.label}))})}return Object(j.a)({},e,{answer:e.answer.label})}))}})},Be=function(e){switch(e.systemMessageType){case"archived_customer_disconnected":case"routing.archived_inactive":return _e.g(Object(j.a)({},e,{systemMessageType:"client_inactive"}));case"manual_archived_agent":return _e.g(Object(j.a)({},e,{systemMessageType:"operator_closed_session",textVars:{operator:e.textVars.agent}}));case"manual_archived_customer":return _e.g(Object(j.a)({},e,{systemMessageType:"chat_closed_by_customer"}));case"system_archived":case"customer_banned":case"routing.archived_deleted":case"routing.archived_disconnected":case"routing.archived_offline":case"routing.archived_other":case"routing.archived_remotely_signed_out":case"routing.archived_signed_out":return _e.g(Object(j.a)({},e,{systemMessageType:"chat_session_closed"}));case"routing.assigned_other":return _e.g(Object(j.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.agent}}));case"routing.assigned_deleted":case"routing.assigned_disconnected":case"routing.assigned_inactive":case"routing.assigned_remotely_signed_out":case"routing.assigned_signed_out":return _e.g(Object(j.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.agent_added}}));case"chat_transferred":return _e.g(Object(j.a)({},e,{systemMessageType:"user_transfer",textVars:{operator:e.textVars.targets}}));case"agent_joined":case"agent_added":return _e.g(Object(j.a)({},e,{systemMessageType:"operator_joined_conference",textVars:{operator:e.textVars.agent}}));case"agent_left":case"agent_removed":return _e.g(Object(j.a)({},e,{systemMessageType:"operator_left_conference",textVars:{operator:e.textVars.agent}}));case"rating.chat_rated":return _e.g(Object(j.a)({},e,{systemMessageType:"rate_me_confirmation_"+e.textVars.score}));case"rating.chat_commented":return _e.g(Object(j.a)({},e,{systemMessageType:"rate_me_comment_added",textVars:{comment:e.textVars.comment}}));case"rating.chat_rating_canceled":return _e.g(Object(j.a)({},e,{systemMessageType:"rate_me_cancel"}));case"custom":e.systemMessageType;var t=Object(x.a)(e,["systemMessageType"]);return _e.g(t);default:return null}},Pe=function(e){var t=e.score,n=e.comment;return Object(j.a)({},"number"===typeof t&&{rate:1===t?"good":"bad"},"string"===typeof n&&{rateComment:n})},qe=function(e){return{position:e.position,waitingTime:e.waitTime}},De=function(e){return Object(j.a)({},"rating"in e.properties&&Pe(e.properties.rating),e.queue&&{queue:qe(e.queue)})},Fe=function(e,t){var n,r={event:Le(e,t.event),author:Object(j.a)({},t.agent,{type:"agent"})};return r.event.properties=Object(j.a)({},r.event.properties,{invitation:!0,id:t.id,addon:t.addon,uniqueId:t.uniqueId,accepted:t.accepted,type:(n=r.event,n.properties.quickReplies?"quick_replies":"rich_message"===n.type?"card":"plain_text"),subtype:t.subtype,receivedFirstTime:t.displayedFirstTime}),r},Ve=function(e,t){var n=t.type,r=t.id;switch(n){case"filled_form":return t;case"emoji":case"message":case"message_draft":case"url_preview":var i=t.properties,a=i.text,o=i.triggeredBy,c={type:"message",customId:r,text:a};if(o){var u=e.getEvent(B.b,o.event);c.postback={id:o.button.postbackId,type:"message",value:o.button.value,eventId:u.serverId,threadId:u.thread}}return c;case"custom_system_message":var s=t.properties,l=s.recipients;return{type:"system_message",customId:r,text:s.text,recipients:l,systemMessageType:"custom"};default:return void 0}},Ue=n(150),He=function(e,t){var n=ae.e(e,B.b);return n?Object(j.a)({},t,{events:t.events.map((function(e){return e.properties.welcomeMessage||e.properties.invitation?Object(j.a)({},e,{id:n.id}):e}))}):t},Ge=function(e){return Object(j.a)({},e,{properties:Object(j.a)({},e.properties,{accepted:!0})})},We=function(e,t){var n=e.sdk,r=t.event.properties,i=r.uniqueId,a=r.id;return n.acceptGreeting({greetingId:a,uniqueId:i}).then((function(){return Ge(t)}),(function(e){if("INTERNAL"===e.code)return Ge(t);throw e}))},Ye=function(e,t){var n=e.sdk,r=e.store,i=void 0===t?{}:t,a=i.group,o=i.customerStartingEvent,c=i.agentFakeEvent,u=r.getSessionUser();"Customer"!==u.name&&u.name||n.updateCustomer({name:r.localize("client")}).catch(w.S);var s=r.getChat(B.b).serverId,l=1520===r.getApplicationState().license,d=r.getEvents(B.b).filter((function(e){return"message_draft"===e.type&&null===e.serverId})),p={chat:{thread:{}}};if(ae.C(r)&&(p.continuous=!0,p.chat.properties={routing:{email_follow_up:!0}}),Object(w.D)(d)||(p.chat.thread.events=d.map((function(e){return Ve(r,e)}))),l||(p.chat.access={groupIds:["number"===typeof a?a:r.getApplicationState("group")]}),o){var f=Ve(r,o);Object(w.C)(p.chat.thread.events)?p.chat.thread.events.push(f):p.chat.thread.events=[f]}return c&&(p.chat.thread.properties=function(e){return{lc2:Object(j.a)({welcome_author_id:e.author,welcome_text:e.properties.originalText||e.properties.text},e.properties.invitation&&{greeting_id:e.properties.id,greeting_unique_id:e.properties.uniqueId})}}(c)),s?n.activateChat(Object(j.a)({},p,{chat:Object(j.a)({},p.chat,{id:s})})).then((function(e){return He(r,Ie(r,e))})):n.startChat(p).then((function(e){return He(r,Ie(r,e))}))},Je=function(e){return e.sdk.listChats().then((function(e){var t=e.chatsSummary,n=Object(w.J)(t);return n?function(e){var t=e.id,n=e.active,r=e.access;return{id:t,active:n,lastThreadId:e.lastThreadId,group:ke(r)}}(n):null}))},Ze=function(e,t){var n=e.sdk,r=t.groupIds;return n.listGroupStatuses({groupIds:r}).then((function(e){return r.reduce((function(t,n){var r=e[n];return t[n]=r?function(e){return"offline"===e?"offline":"online"}(r):"not_found",t}),{})}))},Ke=function(e,t){var n=e.store;return Object(Ue.fetchLocalization)({licenseId:n.getApplicationState().license,groupId:t.groupId,region:t.region,version:t.localizationVersion,language:t.language})},Xe=function(e,t,n){var r=e.sdk;return void 0===n&&(n=Te),r.getForm(t).then((function(e){return e.enabled?{enabled:!0,form:n(t.type,e.form)}:e})).catch((function(e){return Object(E.c)("get_form_request_failed",e),{enabled:!1}}))},Qe=function(e,t){return Xe(e,{groupId:t,type:"postchat"})},$e=function(e,t){return Xe(e,{groupId:t,type:"ticket"},(function(e,t){return ze(t)}))},et=function(e,t){var n=e.sdk,r=t.chatId;return n.getChat({chatId:r}).then((function(e){return{users:e.users,eventsSeenUpToMap:e.eventsSeenUpToMap}}))},tt=function(e,t){var n=e.sdk,r=e.store,i=t.chatId,a=t.threadId;return n.getChat({chatId:i,threadId:a}).then((function(e){return Ae(r,e)}))},nt=function(e,t){return t.next().then((function(t){var n=t.value,r=t.done;return n?{value:n.threads.map((function(t){return function(e,t){var n=t.thread,r=n.id,i=n.active,a=n.events,o=n.access,c=e.getChat(B.b).properties.eventsSeenUpToMap,u=e.getSessionUser().serverId,s=Me(e,c),l=s.sessionUserSeenUpTo,d=s.latestOtherUserSeenUpTo;return{id:r,active:i,events:a.map((function(t){var n=t.authorId===u?d>=t.createdAt:l>=t.createdAt;return Le(e,Object(j.a)({},t,{seen:n}))})).filter(Boolean),group:ke(o),properties:De(n)}}(e,{thread:t})})),done:r}:{value:n,done:r}}))},rt=function(e,t){var n=e.sdk,r=e.store,i=n.getChatHistory({chatId:t});return Promise.all([i.next(),et({sdk:n,store:r},{chatId:t})]).then((function(e){var t=e[0],n=t.value,a=t.done,o=e[1],c=o.users,u=o.eventsSeenUpToMap,s=Object(w.H)("id",c);if(n&&n.threads.some((function(e){return e.events.some((function(e){return"system"!==e.authorId&&!(e.authorId in s)}))}))){var l=new Error;throw l.code="MISSING_USER",l}return{threads:n&&n.threads.map((function(e){return Ae(r,{thread:e,users:c,eventsSeenUpToMap:u}).thread})),eventsSeenUpToMap:u,hasMore:!a,iterator:{next:function(){return nt(r,i)}}}}))},it=n(43),at="SET",ot=n(106),ct=n(26),ut=n(60),st=function(e,t){return Object(w.c)(function(){switch(t.code){case"TOO_BIG_FILE":return e.localize("cannot_upload_a_file_over_10mb");case"VALIDATION":return"No active chat thread"===t.message?e.localize("closed_chat_upload_failed"):e.localize("upload_failed");default:return e.localize("upload_failed")}}())},lt=function(e){var t=e.getChat(B.b).properties,n=t.rate,r=t.rateComment,i=t.queued,a=e.getView("Chat/queue");return{rate:n,rateComment:r,queue:i?{position:a.numberInQueue,waitingTime:a.waitingTime}:null}},dt={acceptingGreeting:!1,requestingPredictedWelcomeMessage:!1},pt=function(e,t,n){var r=!t.getApplicationState("clientLimitExceeded"),i=function(e,t){var n=t.license,r=t.requestedGroup,i=t.group,a=t.region,o=t.uniqueGroups,c=t.autoConnect,u=t.mobile,s=e.getApplicationState("page"),l={licenseId:n,clientId:"c5e4f61e1a6c3b1521b541bc5c5a2ac5",mobile:u,region:a,page:Object(w.Z)(["url","title"],s),referrer:s.referrer,autoConnect:c,application:{channelType:Object(ae.a)(e)},uniqueGroups:o,customerDataProvider:function(){var t=e.getSessionUser(),n={};return t.name&&(n.name=t.name),t.email&&(n.email=t.email),t.properties&&!Object(w.D)(t.properties)&&(n.sessionFields=Object(w.I)(t.properties).length<=B.d?t.properties:Object(w.t)(Object(w.k)(t.properties).slice(0,B.d))),n}};return o?l.groupId=i:null!==r&&(l.groupId=r),Object(be.a)(l,"production")}(t,Object(j.a)({},e,{autoConnect:r})),a={sdk:i,store:t},o=Object(U.a)(),c=null,u={};!0===n.s&&t.setApplicationState({s:!0}),n.prechatForm&&t.updateView("Chat/prechat",Te("prechat",n.prechatForm)),n.ticketForm&&t.updateView("Chat/offline",ze(n.ticketForm)),n.__unsafeProperties.group.chatBoosters&&Object($.g)(t,n.__unsafeProperties.group.chatBoosters);var s=function(){(Object(ae.V)(B.b,t)||t.getApplicationState().destroyed)&&t.updateView("minimized",{hidden:!0})},l=function(){i.destroy(),t.setApplicationState({destroyed:!0}),s()},d=function(){return t.getChat(B.b).serverId},p=function(e,n){Object(ae.z)(t)&&!c&&(c=n||function(e,t){var n=e.sdk,r=e.store,i=n.getChatHistory({chatId:t});return{next:function(){return nt(r,i)}}}(a,{chatId:e}))},f=function(e){var n=e.id,r=e.group,i=e.thread,a=e.agent,o=e.events,c=e.properties,u=!!c.queue;if(p(n),o.forEach(T),Object($.k)(t,{id:n,thread:i,group:r,queued:u,agent:a}),Object(ae.bb)(t)){var s=c.queue,l=s.position,d=s.waitingTime;t.updateView("Chat/queue",{numberInQueue:l,waitingTime:d})}},m=function(){return t.getChat(B.b).properties.lastThread},h=function(e){return"good"===e?1:"bad"===e?0:null},b=function(e){return i.rateChat({chatId:d(),rating:Object(w.e)({comment:e.rateComment,score:h(e.rating)})}).then((function(){t.updateChat(B.b,{properties:Object(w.e)({rate:e.rating,rateComment:e.rateComment})})}),w.S)},g=function(e){return i.cancelRate({chatId:d(),properties:e}).then((function(){t.updateChat(B.b,{properties:e.reduce((function(e,t){return"comment"===t?e.rateComment=null:"score"===t&&(e.rate=null),e}),{})})}),w.S)},v=function(e){var n=t.getChat(B.b).properties,r=n.rate,i=n.rateComment,a={comment:"NOTHING",score:"NOTHING"};e.rating!==r&&(a.score=null===e.rating?"CANCEL":at);var o="string"===typeof e.rateComment&&""!==e.rateComment;return i&&!o||"CANCEL"===a.score&&i?a.comment="CANCEL":!o||i&&e.rateComment===i||(a.comment=at),a},y=function(){return $e(a,t.getApplicationState("group")).then((function(e){e.enabled?(t.updateView("Chat/offline",e.form),Object($.C)(t),t.setCurrentView("Chat")):t.setCurrentView("Chat")}))},O=function(){var e=Object(ae.P)(t);Object($.j)(t),e||Qe(a,k()).then((function(e){var n=e.enabled,r=e.form;n&&Object($.D)(t,r)}),w.S)},_=function(e){var t=e.getApplicationState().availability,n=e.getChat(B.b).properties.postponedGreeting;"online"===t&&n?Promise.resolve().then((function(){e.updateChat(B.b,{properties:{postponedGreeting:void 0}}),dt.acceptingGreeting=!0,We(a,n).then((function(t){dt.acceptingGreeting=!1,A(t),e.setDefaultView("Chat","timeline")}),(function(){dt.acceptingGreeting=!1}))})):e.setDefaultView("Chat","timeline")},k=function(){var e=t.getChat(B.b).properties.group,n=t.getApplicationState("group");return"number"===typeof e?e:n},S=function(e){var n=function(e){if("customer"===e.type){var t={id:e.id,type:e.type,name:e.name,email:e.email||null,properties:e.sessionFields};return"Customer"!==e.name&&(t.name=e.name),t}return{id:e.id,type:e.type,name:e.name,avatar:"https://"+Object(z.k)(e.avatar),properties:{jobTitle:e.jobTitle,isBot:e.isBot||!1}}}(e);if(t.getSessionUser().serverId!==n.id)return t.getUser(n.id)?(n.properties||Object(E.c)("no_parsed_user_properties",new Error,{meta:JSON.stringify({user:e,parsedUser:n})}),void(n.properties.isBot&&t.updateUser(n.id,{properties:{isBot:!0}}))):void t.addUser(n);t.updateUser(t.getSessionUserId(),Object(w.cb)(["name","email","properties"],n))},I=function(e){var n=lt(t),r={};if("rate"in e&&n.rate!==e.rate&&(r.rate=e.rate),"rateComment"in e&&n.rateComment!==e.rateComment&&(r.rateComment=e.rateComment),"queue"in e&&!Object(w.hb)(n.queue,e.queue)){var i=e.queue;!t.getChat(B.b).properties.ended&&i?function(e,t){var n=t.thread,r=t.numberInQueue,i=t.waitingTime,a={active:!0,properties:{queued:!0}};n&&(a.properties.lastThread=n),e.updateChat(B.b,a),e.updateView("Chat/queue",{numberInQueue:r,waitingTime:i})}(t,{numberInQueue:i.position,waitingTime:i.waitingTime}):r.queued=!1}t.updateChat(B.b,{properties:r})},T=function(e){Object($.c)(t,B.b,e),"message"===e.properties.serverType&&t.getApplicationState("ready")&&it.a(t,e.id)},M=function(e){var n=Le(t,e);n&&T(n)},A=function(e){var n=e.author,r=e.event;S(n);var i=t.getChat(B.b),a=i.serverId;i.properties.ended&&Object($.v)(t,B.b,{chatId:a});var o=Object(ae.e)(t,B.b);o&&t.removeEvent(B.b,o.id),Object($.a)(t),Object($.m)(t,r)},R=function(e){if(!dt.requestingPredictedWelcomeMessage)if(Object(ae.F)(t,"postchat"))t.updateChat(B.b,{properties:{postponedGreeting:e}});else if(Object(ae.R)(B.b,t)){if(!e.event.properties.accepted)return dt.acceptingGreeting=!0,We(a,e).then((function(e){dt.acceptingGreeting=!1,A(e)}),(function(){dt.acceptingGreeting=!1}));A(e)}},L=function(e){return!!e&&-1!==e.indexOf(t.getApplicationState("group"))};i.on("thread_properties_deleted",(function(e){var n=e.threadId,r=e.properties;n===m()&&"rating"in r&&Object(w.B)("score",r.rating)&&I(Object(j.a)({},lt(t),{rate:null}))})),i.on("thread_properties_updated",(function(e){var n=e.threadId,r=e.properties;n===m()&&"rating"in r&&I(Object(j.a)({},lt(t),Pe(r.rating)))})),i.on("queue_position_updated",(function(e){var n=e.threadId,r=e.queue;n===m()&&I(Object(j.a)({},lt(t),{queue:qe(r)}))})),i.on("chat_transferred",(function(e){if("groupIds"in e.transferredTo){var n=e.transferredTo.groupIds[0];t.updateChat(B.b,{properties:{group:n}}),e.queue&&I(Object(j.a)({},lt(t),{queue:qe(e.queue)}))}})),i.on("customer_updated",(function(e){var n=e.customer,r=t.getSessionUserId();t.updateUser(r,Object(w.cb)(["name","email"],n)),n.sessionFields&&t.setUserProperties(r,n.sessionFields),t.emit("customer_updated")})),i.on("event_updated",(function(e){var n=e.chatId,r=e.threadId,i=e.event;if(n===d()&&r===m()&&Object(w.w)("properties.lc2.welcome_message",i)){var a=t.getEventByServerId(B.b,i.id);i.authorId!==a.author&&(t.setEventData(B.b,a.id,{author:i.authorId}),t.recalculateTimeline(B.b)),i.text!==a.properties.text&&t.updateEvent(B.b,a.id,{properties:{text:i.text}})}})),t.on("set_application_state",(function(e){var n=e.pageFocused;Object(ae.D)(t)&&n&&(t.setConnectionState(ge.d),i.connect())})),i.on("disconnected",(function(e){var n=e.reason;switch(n){case"product_version_changed":case"wrong_product_version":return void t.emit("protocol_upgraded",{version:"2"});case"access_denied":case"identity_mismatch":case"too_many_connections":return Object(E.c)(n),void l();case"customer_banned":case"license_not_found":case"unsupported_version":case"inactivity_timeout":return void(t.getApplicationState("pageFocused")||(t.setConnectionState(ge.b),i.disconnect()));case"users_limit_reached":return t.setApplicationState({usersLimitReached:!0,clientLimitExceededLifted:!1}),Object($.u)(t),void(Object(ae.N)(t)&&!Object(ae.C)(t)&&Object($.C)(t));default:return void t.setConnectionState(ge.d)}})),i.on("user_added_to_chat",(function(e){var n=e.chatId,r=e.user;if(e.present&&n===d()&&t.getSessionUser().serverId!==r.id){var i=Object(ae.b)(B.b,t);i&&i.id===r.id||(I(Object(j.a)({},lt(t),{queue:null})),Object($.z)(t,r.id))}})),i.on("user_removed_from_chat",(function(e){var n=e.chatId,r=e.userId;if(n===d()&&(t.removeParticipant(B.b,r),t.getSessionUser().serverId!==r)){var i=Object(ae.b)(B.b,t);i&&i.id===r&&(t.getChat(B.b).properties.ended||Object($.z)(t,null))}})),i.on("user_data",S),i.on("greeting_canceled",(function(e){var n=e.uniqueId,r=t.getChat(B.b),i=t.getEvents(B.b),a=t.getApplicationState().maximized,o=Object(w.p)((function(e){return e.properties.uniqueId===n}),i);o&&(t.removeEvent(B.b,o.id),!r.active&&a&&Object($.r)(t))}));var N=function(){Object(ae.V)(B.b,t)&&Object($.r)(t),t.setApplicationState({ready:!0})},P=function(e){var t=e.dynamicConfig,r=e.chatId,i=function(e,t){var n=e.monitoring,r=e.chats,i=Object.keys(r).find((function(e){return Object(w.B)(t,r[e].chat_ids)}));if(i!==n.id&&r[i].language_config_url){var a=r[i].language_config_url.split(".");return{groupId:parseInt(a[2]),language:a[1],localizationVersion:a[3]}}}(t.customer_groups,r);if(i)return{queueTemplate:Ke(a,Object(j.a)({},i,{region:n.region})).then((function(e){return e.user_in_queue}))}},q=function(e){var n=e.active,r=e.chatId,i=e.lastThreadId,o=e.becameInactive;if(Object(ae.z)(t))return{fetchedHistory:rt(a,r)};if(o){var c=t.getChat(B.b);return{fetchedThread:tt(a,{chatId:r,threadId:c.properties.lastThread})}}return n?{fetchedThread:tt(a,{chatId:r,threadId:i})}:void 0},D=function(e){e.filter((function(e){return!t.hasEvent(B.b,e.id)})).forEach(T)},F=function(e,n){var r=e.eagerFetchingMode,i=n.thread,a=n.eventsSeenUpToMap;if(i){var o=i.id,c=i.active,u=i.agent,s=i.group,l=i.events,d=i.properties,p=t.getChat(B.b),f=!c&&p.active;t.updateChat(B.b,{active:c,properties:Object(j.a)({ended:p.properties.ended,lastThread:o,group:s,eventsSeenUpToMap:a},f&&{ended:!0,queued:!1,agentIsTyping:!1})}),c&&Object($.z)(t,u),I(Object(j.a)({rate:null},d,{queue:c&&"queue"in d?d.queue:null},!r&&!c&&{rate:null,rateComment:null})),c&&Object($.a)(t),D(l)}},V=function(e){null===Object(ae.v)(t,B.b)&&t.updateChat(B.b,{properties:{hasMoreHistory:e}})};i.on("connected",(function(e){var n=e.__unsafeDynamicConfig,r=e.__unsafeChats,c=e.greeting,l=e.availability,d=e.customer;t.getApplicationState().usersLimitReached&&t.setApplicationState({usersLimitReached:!1});var f,h=function(e){var n=t.getSessionUser(),r={};return n.name&&e.name!==n.name&&(r.name=n.name),n.email&&e.email!==n.email&&(r.email=n.email),Object(w.D)(n.properties)||Object(w.hb)(n.properties,e.sessionFields)||(r.sessionFields=Object(w.D)(e.sessionFields)?n.properties:Object(w.t)(Object(w.k)(n.properties).reduce((function(t,n){var r=n[0],i=n[1];return r in e.sessionFields?t:[].concat(t,[[r,i]])}),[]))),Object(w.D)(r)?null:r}(d);h&&function(e){var t=e.customerData,n=e.usedSessionFieldsNumber,r=function(e){i.updateCustomer(e).catch((function(e){return Object(E.c)("update_customer_request_failed",e)}))};t.sessionFields?Object(w.k)(t.sessionFields).slice(0,B.f-n).reduce((function(e,t){return Object(w.D)(e)||Object(w.J)(e).length>=B.d?e.push([t]):Object(w.J)(e).push(t),e}),[]).map(w.t).reduce((function(e,n,i){return e.then((function(){return r(Object(j.a)({},0===i&&t,{sessionFields:n}))}))}),Promise.resolve()):r(t)}({customerData:h,usedSessionFieldsNumber:Object(w.I)(d.sessionFields||{}).length}),S(d),"boolean"!==typeof t.getApplicationState().isReturning&&t.setApplicationState({isReturning:d.statistics.visitsCount>1}),t.setApplicationState({clientChatNumber:d.statistics.threadsCount||0,clientVisitNumber:d.statistics.visitsCount||0,clientLastVisitTimestamp:n.customer_data.last_visit_timestamp,clientPageViewsCount:d.statistics.pageViewsCount||0}),u={availability:l,greeting:Object(ae.db)(t)&&c&&Fe(t,c)},Promise.resolve().then((function(){if(r.length){var e=r[0],i=e.id,o=e.active,c=e.hasUnreadEvents;Object(ae.z)(t)&&t.setApplicationState({hasUnseenEvents:c});var u=!o&&t.getChat(B.b).active;f={active:o,chatId:i,becameInactive:u,dynamicConfig:n},null===t.getChat(B.b).serverId&&t.setChatServerId(B.b,i);var s=t.getApplicationState(),l=s.maximized,d=s.eagerFetchingMode;if(o||l||d)return Je(a)}})).then((function(e){return e?(f.group=e.group,f.lastThreadId=e.lastThreadId,f.becameInactive?ot.b(Object(j.a)({chatSummary:e},function(e){var n=e.group;if(!Object(ae.P)(t)){var r=Object(ae.z)(t)?n:k();return{postchatForm:Qe(a,r).catch((function(){return{enabled:!1}}))}}}(f),q(f))):e.active?ot.b(Object(j.a)({chatSummary:e},P(f),q(f))):ot.b(Object(j.a)({chatSummary:e},q(f)))):ot.b({})})).then((function(e){return!!e.chatSummary&&e.chatSummary.active?e:ot.b(Object(j.a)({},e,{maximizedDecisionActions:xe()?je({active:!1,availability:u.availability,connected:!0,hasFakeAgentMessage:Object(ae.w)(t,B.b)||!!u.greeting}):null}))})).then((function(e){var n=e.queueTemplate,r=e.chatSummary,i=e.postchatForm,a=e.maximizedDecisionActions,o=Object(x.a)(e,["queueTemplate","chatSummary","postchatForm","maximizedDecisionActions"]),c=u;if(u={},n&&t.setLocalization({user_in_queue:n}),t.setApplicationState({availability:c.availability}),!r)return a&&(Object($.a)(t),Ae(a)),c.greeting?R(c.greeting):void 0;var s={chatId:r.id,eagerFetchingMode:t.getApplicationState().eagerFetchingMode};t.setApplicationState({eagerFetchingMode:!0});var l=m()&&r.lastThreadId!==m();if(Object(ae.z)(t)){var d=o.fetchedHistory;(function(e,t){var n=e.getChat(B.b).properties.lastThread;return n&&!t.some((function(e){var t=e.id;return n===t}))})(t,d.threads)&&Object(E.c)("threads_gap",null,{meta:JSON.stringify({stateLastThreadId:t.getChat(B.b).properties.lastThread,fetchedThreads:d.threads.map((function(e){return e.id}))})}),l&&Object($.v)(t,B.b,{chatId:t.getChat(B.b).serverId}),function(e,t){p(e.chatId,t.iterator),V(t.hasMore);var n=Object(w.jb)(-1,t.threads),r=n[0],i=n[1][0];D(Object(w.r)((function(e){return e.events}),r)),F(e,{thread:i,eventsSeenUpToMap:t.eventsSeenUpToMap})}(s,d)}else o.fetchedThread&&(l&&r.active&&Object($.v)(t,B.b,{chatId:t.getChat(B.b).serverId}),F(s,o.fetchedThread));if(a&&(Object($.a)(t),Ae(a)),!r.active)if(i&&i.enabled)Object($.D)(t,i.form);else if(c.greeting)return R(c.greeting)})).then((function(){t.setDefaultView("Chat","timeline"),t.setConnectionState(ge.a),s(),t.getChat(B.b).active&&t.setApplicationState({hidden:!1}),o.resolve()})).then((function(){var e=t.getChat(B.b),n=t.getApplicationState().availability;Object(ae.C)(t)&&Object(ae.M)(t)&&!e.active&&("offline"===n||e.properties.ended)&&Object($.E)(t)})).catch((function(e){switch(u={},e.code){case"CONNECTION_LOST":return;case"REQUEST_TIMEOUT":case"MISSING_USER":return i.disconnect(),void i.connect();case"INTERNAL":return void Object(E.e)("connection_fetcher_internal_error");default:return void Object(E.c)("connection_fetcher_error",e)}}))})),Object($.H)(n,t),i.once("customer_id",(function(e){return Object($.A)(t,e)}));var H=Object(ie.b)(t),G=function(e){return Object(ne.u)(H,Object(ne.z)(e))},W=Object(ne.u)(Object(ie.c)(t,(function(e){return e.application.maximized})),Object(ne.g)(Boolean),Object(ne.p)((function(){return{type:"maximized"}})),ne.v),Y=Object(ne.u)(Object(ie.c)(t,(function(){return t.getSessionUser().serverId})),Object(ne.g)(Boolean),Object(ne.A)(1),ne.D),J=!t.getApplicationState().embedded||!!Object(z.h)(window.location.search).localization_improvement?Object(ne.u)(Object(ie.c)(t,(function(e){return e.localization})),Object(ne.g)((function(e){return 0!==Object.keys(e).length})),Object(ne.A)(1),ne.D):Ke(a,Object(j.a)({},n,{language:n.__unsafeProperties.group.language}));r?(t.setApplicationState({clientLimitExceededLifted:!0}),J.then(t.setLocalization).then((function(){return o.promise})).then(N)):Promise.all([J,Y]).then((function(e){var r,a=e[0];t.setLocalization(a),r=n.onlineGroupIds,t.setApplicationState({availability:L(r)?"online":"offline"}),t.setConnectionState(ge.c),s(),N();var o=Object(ne.i)(document,["click","touchstart"]);Object(ne.u)(Object(ne.q)(o,W),Object(ne.A)(1),Object(ne.h)((function(){t.setApplicationState({clientLimitExceededLifted:!0}),i.connect()})))})),"ononline"in window&&(i.on("connection_unstable",(function(){t.setConnectionState(ge.d)})),i.on("connection_recovered",(function(){t.setConnectionState(ge.a)}))),i.on("incoming_greeting",(function(e){if(Object(ae.db)(t)){var n=Fe(t,e);Object(ae.B)(t)?R(n):u.greeting=n}})),i.on("availability_updated",(function(e){var n=e.availability;Object(ae.B)(t)?t.setApplicationState({availability:n}):u.availability=n})),i.on("events_marked_as_seen",(function(e){var n,r=e.chatId,i=e.userId,a=e.seenUpTo;if(r===d()){t.updateChat(B.b,{properties:{eventsSeenUpToMap:Object(j.a)({},t.getChat(B.b).properties.eventsSeenUpToMap,(n={},n[i]=a,n))}});var o=new Date(a).getTime();(t.getSessionUser().serverId===i?ae.r:ae.m)(B.b,o,t).forEach((function(e){t.updateEvent(B.b,e.id,{seen:!0})}))}})),i.on("incoming_event",(function(e){var n=e.chatId,r=e.event;n===d()&&("postchat"===Object(w.w)("properties.lc2.form_type",r)&&(Object($.t)(t),t.setDefaultView("Chat","timeline")),Object(ae.A)(B.b,t)&&Object(E.c)("received_event_during_chat_starting"),M(r))})),i.on("chat_deactivated",(function(e){e.chatId===d()&&O()})),i.on("incoming_chat",(function(e){Object($.v)(t,B.b,{chatId:t.getChat(B.b).serverId});var n=Ie(t,e);f(n)}));var Z=function(e){var n=e.chatId,r=e.typingIndicator;if(n!==d())return!1;var i=Object(ae.b)(B.b,t);return!!i&&i.id===r.authorId},K=Object(ne.u)(Object(ne.j)(i,"incoming_typing_indicator"),Object(ne.g)((function(e){return e.typingIndicator.isTyping&&Z(e)})),Object(ne.p)((function(){return!0}))),X=Object(ne.u)(Object(ne.j)(i,"incoming_typing_indicator"),Object(ne.g)((function(e){return!e.typingIndicator.isTyping&&Z(e)})),Object(ne.p)((function(){return!1}))),Q=Object(ne.u)(Object(ne.j)(i,"new_event"),Object(ne.g)((function(e){var n=e.chatId,r=e.event;return n===d()&&r.authorId!==t.getSessionUser().serverId&&"system"!==r.authorId})));Object(ne.u)(Object(ne.q)(Object(ne.u)(K,Object(ne.g)((function(){return!t.getChat(B.b).properties.messageDraft}))),X,Object(ne.u)(Q,Object(ne.p)((function(){return!1})))),Object(ne.z)((function(e){return e?Object(ne.b)(Object(ne.s)(!0),Object(ne.u)(Object(ne.C)(1e4),Object(ne.p)((function(){return!1})))):Object(ne.s)(!1)})),Object(ne.d)(),Object(ne.h)((function(e){t.updateChat(B.b,{properties:{agentIsTyping:e}})})));Object(ne.u)(Object(ie.c)(t,(function(){return t.getChat(B.b).properties.loadingHistory})),Object(ne.g)(Boolean),Object(ne.h)((function e(){c.next().then((function(n){var r=n.value,i=n.done,a=t.getTimeline(B.b).length,o=Object(w.r)((function(e){return e.events.map((function(e){return Object(j.a)({},e,{seen:!0})}))}),r).filter((function(e){return!t.hasEvent(B.b,e.id)}));o.length>0&&t.addHistoryEvents(B.b,o),a!==t.getTimeline(B.b).length||i?t.updateChat(B.b,{properties:{loadingHistory:!1,hasMoreHistory:!i}}):e()}),(function(){t.updateChat(B.b,{properties:{loadingHistory:!1}})}))}))),t.on("request_update_chat",(function(e){var n=e.resolve,r=e.reject,a=e.data,o=a.properties,c=void 0===o?{}:o,u=Object(x.a)(a,["properties"]);if(c.rateComment){var s=c.rateComment;it.d(t,s),i.rateChat({chatId:d(),rating:{comment:s}}).then(n,r)}else if("undefined"!==typeof c.rate){it.e(t,c.rate);var l=t.getApplicationState().testGroup;if(Object(E.b)({testGroup:l,chatRating:null===c.rate?"canceled":c.rate,chatRatingSource:"other"}),null===c.rate)return void i.cancelRate({chatId:d()}).then((function(){t.updateChat(B.b,{properties:{rateComment:null}}),n()}),r);i.rateChat({chatId:d(),rating:{score:h(c.rate)}}).then(n,r)}else c.transcriptSentTo?i.updateThreadProperties({chatId:d(),threadId:m(),properties:{routing:{transcript_email:c.transcriptSentTo}}}).then(n,r):!1===u.active?i.deactivateChat({id:d()}).then((function(){O(),n()}),r):"string"===typeof c.messageDraft&&(t.getChat(B.b).active&&i.setSneakPeek({chatId:d(),sneakPeekText:c.messageDraft}),n())}));var ee=function(e){return"subject"===e.serverType?"subject":"name"===e.name?"name":"text"===e.type?"question":e.type},te=function(e,t){var n=e.id,r=e.properties,i=r.formType,a=r.formId,o=r.fields,c=_e.b(o,t),u=c.fields,s={filledForm:{customId:n,type:"filled_form",formId:a,fields:o.filter((function(e){return void 0!==e.serverName&&"rating"!==e.type&&"information"!==e.type})).map((function(e){if("groupSelect"===e.meta)return{type:"group_chooser",id:e.serverName,label:Object(ct.b)(e.label),answer:{id:String(c.choosenGroupIndex),groupId:c.choosenGroup,label:e.options[c.choosenGroupIndex].label}};if("confirm_subscription"===e.meta){var t=u[e.serverName];return{type:"checkbox_for_email",id:e.serverName,label:e.options[0].label,answer:!!t&&Object(w.B)(e.options[0].originalValue,t)}}if(Object(w.C)(e.options)){var n={type:ee(e),id:e.serverName,label:Object(ct.b)(e.label)},r=Object(w.z)(e.serverName,u)?Object(w.j)(u[e.serverName]):[],i=e.options.filter((function(e){return Object(w.B)(e.originalValue,r)})).map((function(e){return{label:e.label,value:e.originalValue}}));if("checkbox"===n.type)n.answers=i.map((function(e){return{label:e.label,id:e.value}}));else if(i.length){var a=i[0];n.answer={id:a.value,label:a.label}}return n}return Object(w.z)(e.serverName,u)?{type:ee(e),id:e.serverName,label:Object(ct.b)(e.label),answer:u[e.serverName]}:{type:ee(e),id:e.serverName,label:Object(ct.b)(e.label)}})),properties:{lc2:{form_type:i}}}};return void 0!==c.choosenGroup&&(s.choosenGroup=c.choosenGroup),s},re=0,oe=Object(w.sb)(300,(function(e){var t=new Date(e).toISOString().replace(/Z$/,"999Z");i.markEventsAsSeen({chatId:d(),seenUpTo:t}).catch(w.S)}));t.on("request_update_event",(function(e){var n,r=t.getEvent(B.b,e.id);if(e.data.seen)e.resolve(),re=Math.max(re,t.getEvent(B.b,e.id).timestamp),oe(re);else if("offline"===r.properties.formType){var o=e.data.properties.answers,c=r.properties.fields,u=_e.b(c,o).fields,s=t.getApplicationState(),p=r,f=Object(ae.f)("helpDesk",t),m=null,h=null,O=null,x=null;if(f.enabled&&f.licenseId>-1)O=Object(ye.b)({license:s.license,group:s.group,pageUrl:s.page.url,form:(n=p.properties,Object(Oe.a)(Object(Oe.b)(n))),answers:u}),m=Object(ye.c)("production",O),h=function(e){return Object(ye.a)(e.id,O)},x=$.i;else{var C=te(r,o).filledForm,k=(new Intl.DateTimeFormat).resolvedOptions().timeZone;m=i.sendTicketForm({filledForm:C,groupId:s.group,timeZone:"string"!==typeof k||/^Etc\//.test(k)||-1===k.indexOf("/")?null:k}),h=function(e){var t=Object(w.m)((function(e){return"subject"===e.type}),C.fields);return Object(j.a)({id:e.id,text:e.text,visitor:{name:Object(w.m)((function(e){return"name"===e.type}),C.fields)||null,email:Object(w.m)((function(e){return"email"===e.type}),C.fields)||null}},t&&t.answer&&{subject:t.answer})},x=function(e,t,n){e&&"VALIDATION"===e.code?/name must be at most \d+ characters long/.test(e.message)?n({name:e.message}):"mail must be a valid e-mail address"!==e.message?n():n({email:t("invalid_email")}):n()}}m.then((function(n){var i=r.properties.fields;it.g(t,i,u,h(n)),e.resolve(),Object($.J)(t,e.id),t.setCurrentView("Chat")}),(function(n){x(n,t.localize,e.reject)}))}else if("prechat"===r.properties.formType){var S=e.data.properties.answers,I=r.properties.fields;it.c(t,I,_e.b(I,S).fields);var T=te(r,S),z=T.filledForm,M=T.choosenGroup,A=function(t){switch(t.code){case"GROUPS_OFFLINE":return void y().then(e.resolve,e.reject);case"CUSTOMER_BANNED":case"GROUP_NOT_FOUND":return void l();default:e.reject()}},R=function(){var n={};return S.name&&(n.name=S.name),S.email&&(n.email=S.email),(Object(w.D)(n)?Promise.resolve():i.updateCustomer(n).catch((function(e){return Object(E.c)("update_customer_request_failed",e)}))).then((function(){return fe({customerStartingEvent:z,agentFakeEvent:Object(ae.e)(t,B.b),group:M}).then((function(n){pe(n),e.resolve(),t.setDefaultView("Chat","timeline")}))}))};if(void 0!==M)return void function(e,t){var n=t.groupId;return Ze(e,{groupIds:[n]}).then((function(e){return e[n]}))}(a,{groupId:M}).then((function(e){if("not_found"===e){var t=new Error('Group "'+M+'" not found (most likely it has been removed).');throw t.code="GROUP_NOT_FOUND",t}return e})).then((function(n){if(t.setApplicationState({group:M}),!("online"===n))return Object(ae.C)(t)?void R().then((function(){t.setApplicationState({availability:"offline"})}),A):void $e(a,t.getApplicationState("group")).then((function(e){e.enabled?(Object($.h)(t,"offlineForm"),t.updateView("Chat/offline",e.form)):Object($.f)(t,"offlineForm"),t.setApplicationState({availability:"offline"})}),(function(t){"CONNECTION_LOST"!==t.code?l():e.reject()}));R().catch(A)}),(function(t){"CONNECTION_LOST"!==t.code?l():e.reject()}));R()}else if("postchat"===r.properties.formType){var L=e.data.properties.answers,N=r.properties.fields;it.b(t,N,_e.b(N,L).fields);var P=te(r,L).filledForm;i.sendEvent({chatId:d(),event:P,attachToLastThread:!0}).then((function(n){e.resolve(),Object($.J)(t,e.id,Le(t,n)),"rating"in L?function(e,t){var n=v(t),r=e.getApplicationState().testGroup;if("NOTHING"===n.score&&"NOTHING"===n.comment)return Promise.resolve(null);Object(E.b)({testGroup:r,chatRating:"CANCEL"===n.score?"canceled":t.rating,chatRatingSource:"postchat"});var i=[];return n.score===at&&n.comment===at?(i.push(b(t)),it.e(e,t.rating),it.d(e,t.rateComment)):"CANCEL"===n.score&&"CANCEL"===n.comment?i.push(g(["comment","score"])):("CANCEL"===n.score?i.push(g(["score"])):n.score===at&&(i.push(b({rating:t.rating})),it.e(e,t.rating)),"CANCEL"===n.comment?i.push(g(["comment"])):n.comment===at&&(i.push(b({rateComment:t.rateComment})),it.d(e,t.rateComment))),Promise.all(i.map((function(e){return e.catch(w.S)})))}(t,L).finally((function(){return _(t)})):_(t)}))}})),t.on("request_update_user",(function(e){var n=e.resolve,r=e.id,a=e.data,o=a.properties,c=Object(x.a)(a,["properties"]);if(t.getSessionUserId()===r){if(Object(ae.B)(t)){var u=Object(w.e)({name:c.name,email:c.email,sessionFields:o});i.updateCustomer(u).catch((function(e){return Object(E.c)("update_customer_request_failed",e)}))}n()}})),t.on("request_set_user_properties",(function(e){var n=e.resolve,r=e.id,a=e.properties;t.getSessionUserId()===r&&(Object(ae.B)(t)&&i.setCustomerSessionFields({sessionFields:a}).catch(w.S),n())}));var ce=function(e,n){var r=n.id,i=n.timestamp,a=n.threadId;it.f(t,e,i),t.setEventServerId(B.b,e.id,r),t.updateEvent(B.b,e.id,{delivered:!0,serverTimestamp:i,thread:a})},ue=function(e){t.updateEvent(B.b,e.id,{failed:!0})};t.on("send_file_events",(function(){t.setApplicationState({isSendingFileEvents:!0});var e=[].concat(Object(ae.i)(t));e.filter((function(e){return e.properties.failed})).forEach((function(e){return t.updateEvent(B.b,e.id,{properties:{canceled:!0}})}));var n=e.filter((function(e){var t=e.type,n=e.delivered,r=e.properties,i=r.canceled,a=r.finished;return"file"===t&&!n&&!i&&a})).map((function(e){return i.sendEvent({chatId:d(),event:{type:"file",customId:e.id,url:e.properties.serverUrl,alternativeText:e.properties.alternativeText}}).then((function(n){t.updateEvent(B.b,e.id,{delivered:!0}),M(n),Promise.resolve().then((function(){"image"===e.properties.fileType&&URL.revokeObjectURL(e.properties.url)}))}))}));Promise.all(n).finally((function(){t.setApplicationState({isSendingFileEvents:!1})}))}));var se={};t.on("cancel_upload",(function(e){var n=e.eventId,r=t.getEvent(B.b,n);t.updateEvent(B.b,n,{properties:{canceled:!0}}),se[n]&&se[n].cancel(),Promise.resolve().then((function(){"image"===r.properties.fileType&&URL.revokeObjectURL(r.properties.url)}))}));var le=function(e){var n=e.event,r=e.meta;if("file"===n.type){var a=i.uploadFile({file:r.file,onProgress:function(e){return t.updateEvent(B.b,n.id,{properties:{progress:e}})}});return se[n.id]=a,a.promise.then((function(e){var r=e.url;t.updateEvent(B.b,n.id,{properties:{serverUrl:r,finished:!0}})}),(function(e){"UPLOAD_CANCELED"!==e.code&&t.updateEvent(B.b,n.id,{properties:{failed:!0,failReason:st(t,e)}})})).finally((function(){delete se[n.id]}))}if(Object(w.B)(n.type,["message","emoji"]))return i.sendEvent({chatId:d(),event:Ve(t,n)}).then((function(e){ce(n,e)}),(function(){ue(n)}));if("custom_system_message"===n.type)return i.sendEvent({chatId:d(),event:Ve(t,n)}).then(M,w.S);if("rich_message_postback"===n.type){var o=n.properties,c=o.eventId,u=o.postback;return i.sendRichMessagePostback({chatId:d(),threadId:t.getEvent(B.b,c).thread,eventId:c,postback:u}).catch(w.S)}if("url_preview"===n.type){var s=i.getUrlInfo({url:n.properties.url}).catch((function(){return null}));return i.sendEvent({chatId:d(),event:Ve(t,n)}).then((function(e){ce(n,e),s.then((function(r){var a=r.title,o=r.description,c=r.url,u=r.imageUrl;return t.updateEvent(B.b,n.id,{properties:{title:a,description:o,image:{url:u,link:c}}}),i.updateEventProperties({chatId:d(),threadId:e.thread,eventId:e.id,properties:{url_details:{title:a,description:o,url:c,image_url:u,image_width:r.imageWidth,image_height:r.imageHeight}}})})).catch(w.S)}),(function(){ue(n)}))}},pe=function(e){var n=e.events,r=Object(x.a)(e,["events"]),i=t.getSessionUser().id;n.forEach((function(e){e.author===i?function(e,t){var n=t.timestamp;"message"===t.properties.serverType&&it.f(e,t,n),e.setEventServerId(B.b,t.id,t.serverId);var r={delivered:!0,serverTimestamp:n,thread:t.thread};"form"===t.type&&(r.properties={answered:!0,fields:t.properties.fields}),e.updateEvent(B.b,t.id,r)}(t,e):(e.properties.welcomeMessage||e.properties.invitation)&&t.hasEvent(B.b,e.id)?function(e,t){var n=Object(ae.e)(e,B.b);e.setEventServerId(B.b,n.id,t.serverId);var r=n.author!==t.author;r&&e.setEventData(B.b,n.id,{author:t.author});var i={delivered:!0,thread:t.thread,serverTimestamp:t.timestamp,properties:{}};n.properties.text!==t.properties.text&&(i.properties.text=t.properties.text),e.updateEvent(B.b,n.id,i),r&&(Object($.z)(e,t.author),e.recalculateTimeline(B.b))}(t,e):T(e)})),f(Object(j.a)({},r,{events:[]}))},fe=function(e){return t.updateChat(B.b,{properties:{starting:!0}}),Ye(a,e).then((function(e){return t.updateChat(B.b,{properties:{starting:!1}}),e}),(function(e){throw t.updateChat(B.b,{properties:{starting:!1}}),e}))},me=[],he=function(e){if(Object(ae.A)(B.b,t))me.push(e);else{var n=function(){Object(ae.S)(t)&&Object($.b)(t)};t.getChat(B.b).active?e&&le(e).then(n):fe(Object(j.a)({},e&&{customerStartingEvent:e.event},{agentFakeEvent:Object(ae.e)(t,B.b)})).then((function(e){pe(e);var t=me;me=[],t.forEach(le),n()}),(function(n){t.updateEvent(B.b,e.event.id,{failed:!0});var r=me;switch(me=[],r.forEach((function(e){t.updateEvent(B.b,e.id,{failed:!0})})),n.code){case"CUSTOMER_BANNED":return void l();case"GROUPS_OFFLINE":return void y();default:return}}))}};t.on("start_thread",he),t.on("send_event",he),t.on("request_cancel_greeting",(function(e){i.cancelGreeting({uniqueId:e})}));var we=function(e){return fe({agentFakeEvent:e}).then((function(e){return[{type:"hide_offline_form"},{type:"chat_activated",payload:e}]}),(function(e){switch(e.code){case"WIDGET_DESTROYED":case"CHAT_ALREADY_ACTIVE":case"CHAT_LIMIT_REACHED":return{type:"nothing"};case"GROUPS_OFFLINE":return $e(a,t.getApplicationState("group")).then((function(e){return e.enabled?{type:"nothing"}:{type:"show_offline_form",payload:e.form}}));case"CUSTOMER_BANNED":default:return{type:"panic"}}}))},je=function(e){var n=e.active,r=e.availability,i=e.connected,o=e.hasFakeAgentMessage,c=e.startChatAgainPending,u=e.usersLimitReached;return Object(ve.a)((function(){return u||n?{type:"nothing"}:"offline"===r?Object(ae.C)(t)?c&&Object(ae.M)(t)?{type:"show_prechat"}:{type:"nothing"}:Object(ae.N)(t)?Object(ae.u)(t)?{type:"nothing"}:{type:"show_offline_form"}:{type:"hide_prechat_form"}:o?{type:"hide_offline_form"}:t.getApplicationState().maximized?Object(ae.M)(t)?{type:"show_prechat"}:!i||dt.acceptingGreeting?{type:"nothing"}:(dt.requestingPredictedWelcomeMessage=!0,function(e){var t=e.sdk,n=e.store,r=1520===n.getApplicationState().license;return t.getPredictedAgent(r?void 0:{groupId:n.getApplicationState("group")}).then((function(e){var t,r=n.localize("welcome_to_chat");return{agent:e,message:_e.e((t={id:Object(w.v)(n.getIndexedEvents(B.b)),type:"message",authorId:e.id,text:Object(C.f)(n,r,{agent:e.name}),originalText:r,welcomeMessage:!0},Object(j.a)({},t,{serverId:null,timestamp:Date.now(),seen:!0,properties:t.properties||{}})))}}))}(a).then((function(e){var t=e.agent,n=e.message;return dt.requestingPredictedWelcomeMessage=!1,t.isBot?we(n):[{type:"hide_offline_form"},{type:"predicted_welcome_message",payload:{agent:t,message:n}}]}),(function(e){if(dt.requestingPredictedWelcomeMessage=!1,"offline"===t.getApplicationState("availability"))return{type:"nothing"};switch(e.code){case"GROUP_UNAVAILABLE":return we();case"GROUP_OFFLINE":return{type:"nothing"};default:return{type:"panic"}}}))):{type:"nothing"}})).then(w.j)},xe=function(){var e=t.getChat(B.b);return(!e.active||e.properties.queued)&&!e.properties.starting&&!e.properties.ended},Ee=function(){t.updateView("minimized",{hidden:!1})},Ce=Object(ne.u)(Object(ie.c)(t,(function(e){return e.application.destroyed})),Object(ne.g)(Boolean),Object(ne.A)(1),ne.v);Object(ne.u)(W,Object(ne.h)(Ee)),Object(ne.u)(H,Object(ne.A)(1),Object(ne.p)((function(){var e=de(Object(w.Z)(["license","group","requestedGroup"],t.getApplicationState()));return[Object(ut.b)("session")&&window.sessionStorage.getItem(e),e]})),Object(ne.g)((function(e){var t=e[0];return Boolean(t)})),Object(ne.h)((function(e){var n=e[0],r=e[1];!function(e){var n,r=m();try{n=JSON.parse(e)}catch(i){return}n&&r&&n.forEach((function(e){t.getEvent(B.b,e.id)||Object($.c)(t,B.b,{thread:r,id:e.id,type:"file",own:!0,author:t.getSessionUser().id,delivered:!1,failed:!1,properties:e})}))}(n),window.sessionStorage.removeItem(r)})));var ke=Object(ne.u)(Object(ie.c)(t,(function(e){return e.application.availability})),Object(ne.x)(1),ne.w,Object(ne.p)((function(e){return{type:e}})),Object(ne.t)((function(e){return"online"===e.type}))),Se=ke[0],Me=ke[1];Object(ne.u)(G((function(){return Me})),Object(ne.g)(xe),Object(ne.h)((function(){!Object(ae.F)(t,"prechat")&&Object(ae.C)(t)&&Object(ae.M)(t)&&"offline"===t.getApplicationState().availability&&!t.getChat(B.b).active&&Object($.E)(t),Object(ae.F)(t,"prechat")&&(Object($.u)(t),Object(ae.C)(t)&&Object($.E)(t)),s()}))),Object(ne.u)(Se,Object(ne.g)(xe),Object(ne.h)((function(){t.getView("minimized").hidden&&Ee()}))),Object(ne.u)(G((function(){if(!Object(ae.M)(t))return ne.r;var e=Object(ie.c)(t,(function(){return Object(ae.F)(t,"prechat")}));return Object(ne.u)(Object(ne.q)(W,e),Object(ne.g)((function(){return Object(ae.F)(t,"prechat")})),Object(ne.z)((function(){var e=t.getLastEvent(B.b);return Object(ne.u)(Object(ne.m)(function(e,t){var n=Object(w.n)((function(e){return"groupSelect"===e.meta}),t);if(-1===n)return Promise.resolve(null);var r=t[n],i=r.options.map((function(e){return e.groupId}));return i.length>20?Promise.resolve(null):Ze(e,{groupIds:i}).then((function(e){return Object(w.wb)(n,Object(j.a)({},r,{options:r.options.map((function(t){return Object(j.a)({},t,{meta:{online:"online"===e[t.groupId]}})}))}),t)}))}(a,e.properties.fields)),ne.o)})))})),Object(ne.g)((function(e){return e&&Object(ae.F)(t,"prechat")})),Object(ne.h)((function(e){var n=t.getLastEvent(B.b).id;return t.updateEvent(B.b,n,{properties:{fields:e}})})));var Ae=function(e){return e.forEach((function(e){switch(e.type){case"panic":return void l();case"chat_activated":return void pe(e.payload);case"predicted_welcome_message":var n=e.payload,r=n.agent,i=n.message;return S(r),Object($.z)(t,r.id),T(i),void t.updateChat(B.b,{properties:{fakeAgentMessageId:i.id}});case"show_offline_form":return e.payload&&t.updateView("Chat/offline",e.payload),void Object($.C)(t);case"hide_prechat_form":return void Object($.u)(t);case"hide_offline_form":return void(Object(ae.F)(t,"offline")&&(Object($.s)(t),t.setDefaultView("Chat","timeline")));case"show_prechat":return void Object($.E)(t);default:return}}))},Re=function(){var e=t.getChat(B.b);return{active:e.active,availability:t.getApplicationState("availability"),connected:Object(ae.B)(t),hasFakeAgentMessage:Object(ae.w)(t,B.b),startChatAgainPending:e.properties.startChatAgainPending,usersLimitReached:t.getApplicationState("usersLimitReached")}};Object(ne.u)(G((function(){return Object(ne.u)(Object(ie.c)(t,(function(){return t.getChat(B.b).properties.startChatAgainPending})),Object(ne.g)(Boolean))})),Object(ne.z)((function(){return Object(ne.m)(je(Re()))})),Object(ne.h)((function(e){Object($.v)(t,B.b,{chatId:t.getChat(B.b).serverId}),Ae(e)}))),Object(ne.u)(Object(ne.q)(W,Se,Me),Object(ne.e)(H),Object(ne.g)((function(){return xe()&&t.getApplicationState().eagerFetchingMode})),Object(ne.f)((function(){return Object(ne.m)(je(Re()))})),Object(ne.B)(Ce),Object(ne.h)(Ae)),Object(ne.u)(G((function(){return Object(ne.u)(W,Object(ne.g)((function(){return!t.getApplicationState().eagerFetchingMode})))})),Object(ne.z)((function(){var e=t.getChat(B.b).serverId;return Object(ne.m)(Promise.all([je(Re()),Object(ae.z)(t)&&e&&rt(a,e)].filter(Boolean)))})),Object(ne.B)(Ce),Object(ne.h)((function(e){var n=e[0],r=e[1];if(Object($.a)(t),r){p(t.getChat(B.b).serverId,r.iterator),V(r.hasMore);var i=Object(w.r)((function(e){return e.events}),r.threads).filter((function(e){return!t.hasEvent(B.b,e.id)}));i.length>0&&t.addHistoryEvents(B.b,i),t.updateChat(B.b,{properties:{lastThread:r.threads.length?Object(w.J)(r.threads).id:null,eventsSeenUpToMap:r.eventsSeenUpToMap}})}t.setApplicationState({eagerFetchingMode:!0}),Ae(n)}))),Object(ne.u)(Object(ie.c)(t,(function(e){return e.application.page})),Object(ne.x)(1),Object(ne.B)(Ce),Object(ne.h)((function(e){var t=e.url,n=e.title;i.updateCustomerPage({url:t,title:n})})))},ft=function(e){return e.some(w.A)},mt=/\.(\w+)$/i,ht=new Audio,bt={mp3:"audio/mpeg",ogg:"audio/ogg"},gt=function(e){var t=function(e){var t=e.match(mt);return t?t[1].toLowerCase():""}(e);if(t in bt){if(""!==ht.canPlayType(bt[t]))return!0}else 0;return!1},vt=function(){return"function"===typeof window.webkitAudioContext},yt=function(e){return new Promise((function(t,n){var r=new Audio(e);r.onloadeddata=function(){t(r)},r.onerror=n}))},Ot=function(e){var t=e.play();return Object(w.G)(t)?t:Promise.resolve()},_t=function(e){return"function"===typeof e.start&&"function"===typeof e.stop},wt=function(e){_t(e)?e.start(0):e.noteOn(0)},jt=function(){var e=new(window.AudioContext||window.webkitAudioContext),t=!0,n=[],r=function(t){return new Promise((function(n,r){e.decodeAudioData(t,n,r)}))},i=function(t){return{play:function(){var n=e.createBufferSource();return n.connect(e.destination),n.buffer=t,{playback:new Promise((function(t,r){if(n.onended=function(){return t()},wt(n),"running"!==e.state){var i=new Error("Playback failed, AudioContext is in incorrect state '"+e.state+"'");i.name="PlaybackError",r(i)}})),stop:function(){!function(e){_t(e)?e.stop(0):e.noteOff(0)}(n)}}}}};return{preload:function(e){return function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){t(r.response)},r.onerror=n,r.open("GET",e),r.responseType="arraybuffer",r.send()}))}(e).then(r).then(i)},playSound:function(e){var r=e.play();return t&&n.push(r),r.playback},unlock:function(){return new Promise((function(r){document.addEventListener("click",(function i(){document.removeEventListener("click",i,!0),t&&(n.forEach((function(e){e.stop()})),n=[],t=!1),e.resume(),function(){var t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),wt(n)}(),r()}),!0)}))}}},xt=function(){return vt()?function(){var e=jt(),t=Object(w.O)((function(t){var n=e.preload(t);return n.catch(w.S),n}));return{play:function(n){var r=t(n).then(e.playSound);return r.catch(w.S),r},preload:t,unlock:function(){return e.unlock()}}}():function(){var e=Object(w.O)(yt);return{play:function(t){return e(t).then(Ot)},preload:e,unlock:function(){return Promise.resolve()}}}()},Et=function(e){var t=xt(),n=function(e){return Object.keys(e).reduce((function(t,n){var r=Object(w.m)((function(e){return gt(e)}),Object(w.j)(e[n]));return t[n]=r,t}),{})}(e);return{play:function(e){var r=n[e];t.play(r).then(w.S,w.S)},preload:function(e){var r=n[e];t.preload(r).then(w.S,w.S)},unlock:function(){return t.unlock()}}},Ct=n(251),kt=n.n(Ct),St=n(252),It=n.n(St),Tt=function(){var e,t=Et(((e={}).new_message=[It.a,kt.a],e));return t.unlock().then((function(){return Object(w.K)(2e3,(function(e){t.play(e)}))}))},zt=function(e,t){return"system"!==e.author&&!e.properties.welcomeMessage&&e.author!==t},Mt=n(88),At=n(253),Rt=n(32),Lt=n(0),Nt=n(266),Bt=n(255),Pt=n.n(Bt),qt=Object(Nt.a)({},{key:"lc",stylisPlugins:[Pt.a]}),Dt=qt,Ft=qt.css,Vt=qt.cx,Ut=qt.injectGlobal,Ht=qt.keyframes,Gt=n(9),Wt=n(256),Yt=function(e){var t={};if(e.flexFill&&(t.flexGrow=1,t.maxWidth="100%"),e.flexFit&&(t.flexGrow=0),e.noShrink&&(t.flexShrink=0),e.ellipsis&&(t.whiteSpace="nowrap",t.overflow="hidden",t.textOverflow="ellipsis"),e.nowrap&&(t.whiteSpace="nowrap"),"focusVisible"in e&&(t[":focus"]={outlineStyle:e.focusVisible?"auto":"none"}),e.preserveLines&&(t.whiteSpace="pre-line"),e.textWrap){t.wordWrap="break-word",t.overflowWrap="break-word",t.wordBreak="break-word"}return t},Jt=n(30),Zt=n(15),Kt=Lt.createContext(),Xt=function(e){var t=e.value,n=e.children;return Lt.createElement(Zt.a,{theme:t},Lt.createElement(Kt.Provider,{value:t},n))},Qt=n(11),$t=function(e){return e.charAt(0)!==e.charAt(0).toLowerCase()},en=function(e,t){return $t(t)},tn=(w.W.bind(null,en),w.bb.bind(null,en)),nn={},rn=function(e){if(!e)return nn;var t=e.css,n=e.vars,r=Object(Qt.a)(e,["css","vars"]);return Object(Gt.a)({css:t,vars:n},function(e){return Object(w.y)((function(t){return $t(t)?"components":Object(w.F)(e[t])?"propsDescriptions":"themeProps"}),e)}(r))},an=function(e){return function(t){return function(n){var r=n[e];if(!r)return n;var i=rn(r),a=i.propsDescriptions,o=i.components;if(!a&&!o)return n;var c=function(e,t,n){void 0===n&&(n={});var r=Object(w.bb)((function(e,n){return t[n]}),n);return Object.keys(r).map((function(t){var n,i=r[t],a=rn(i),o=a.themeProps,c=a.components;if(!o)return c;var u=((n={})[e]=o,n);return c?Object(Gt.a)({},u,c):u}))}(e,t,a);return Object(w.R)([n,o].concat(c).filter(Boolean))}}},on=function(e){var t,n,r=e.__ui_kit_name,i=an(r);return n=t=function(t){function n(){return t.apply(this,arguments)||this}return Object(Jt.a)(n,t),n.prototype.render=function(){var t=this.props;return Lt.createElement(Xt,{value:i(t)},Lt.createElement(e,t))},n}(Lt.Component),t.displayName="WithSubtheme("+r+")",n},cn=Object(Wt.a)(Dt,Lt),un=function e(t,n){var r=Object(w.ab)(w.F,n);return 0===Object.keys(r)?n:Object(w.e)(Object(w.N)((function(n,r){return Object(w.F)(n)?":"===r[0]?e(t,n):n[Object(w.m)((function(e){return t[e]}),Object.keys(n))]||n.default:n}),n))},sn=function(e,t,n){var r=e.theme,i=e.style,a=rn(r[t]),o=a.css,c=a.vars,u=a.themeProps;return[c?Object(Gt.a)({},r.vars,c):r.vars,"function"===typeof n&&void 0!==u&&n(u),o&&un(e,o),Yt(e),"function"===typeof n&&n(Object(Gt.a)({},u,e)),i]},ln=function(e,t){void 0===t&&(t={});var n=t,r=n.displayName,i=n.displayType,a=n.mapPropsToStyles;var o=cn(e,t);return function(){for(var e=r||i||null,n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];var s=o.apply(void 0,c.concat([function(t){return sn(t,e,a)}]));return s.__ui_kit_name=e,t.section?Object.defineProperty(on(s),"toString",{value:s.toString}):s}},dn=n(67),pn=n(142),fn=n(57),mn=n(245),hn=n(119),bn=n(145),gn=n(143),vn=n(184);var yn=function(e){Lt.useEffect(e,[])};function On(e){return e<0?-1:1}function _n(e,t){var n,r,i;return n=0,r=1,i=t+e/100,Math.min(Math.max(i,n),r)}var wn=function(e,t){var n=Object(fn.a)(t);yn((function(){var t=0,r=0,i=1,a=1,o=0,c=0,u=0,s=function(e,i){t=_n(e,t),r=_n(i,r),n.current({x:t,y:r})},l=function e(n){var o=("x"===n||"xy"===n)&&t>0&&t<1,c=("y"===n||"xy"===n)&&r>0&&r<1;(o||c)&&(s(o?5*i:0,c?5*a:0),u=requestAnimationFrame((function(){return e(n)})))},d=e.subscribe((function(e){var t=e.deltaX,n=e.deltaY;Math.abs(t)>8&&(s(t,0),i=On(t),clearTimeout(o),o=window.setTimeout((function(){return l("x")}),50)),Math.abs(n)>8&&(s(0,n),a=On(n),clearTimeout(c),c=window.setTimeout((function(){return l("y")}),50))}));return function(){d(),clearTimeout(o),clearTimeout(c),cancelAnimationFrame(u)}}))},jn=function(e){Lt.useEffect((function(){var t=e.current,n=t.ownerDocument||document,r=function(e,t){for(var n=new Set,r=e;r=r.parentElement;){if(t.body===r)return n;n.add(r)}return n}(t,n),i=new Map;return function e(t,n){t.forEach((function(t){if(t!==n.modalElement){if(!n.ancestors.has(t)){var r=t.getAttribute("aria-hidden");return n.originalValues.set(t,r),void t.setAttribute("aria-hidden","true")}t.children&&e([].slice.call(t.children),n)}}))}([].slice.call(n.body.children),{ancestors:r,originalValues:i,modalElement:t}),function(){i.forEach((function(e,t){null!==e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}))}}),[e])};function xn(e,t,n){Lt.useEffect((function(){return document.addEventListener(e,t,n),function(){return document.removeEventListener(e,t,n)}}),[e,t,n])}var En=function(e,t){Lt.useEffect((function(){var n=t.current;if(n){var r=function(e){e.preventDefault()};return n.addEventListener(e,r,{passive:!1}),function(){return n.removeEventListener("touchmove",r)}}}),[e,t])},Cn=0,kn=null,Sn=function(){kn="keyboard"},In=function(){kn="click"},Tn=function(){return Lt.useEffect((function(){return 0===Cn&&(document.addEventListener("keydown",Sn,!0),document.addEventListener("mousedown",In,!0),document.addEventListener("touchstart",In,!0)),Cn++,function(){--Cn>0||(kn=null,document.removeEventListener("keydown",Sn,!0),document.removeEventListener("mousedown",In,!0),document.removeEventListener("touchstart",In,!0))}}),[]),Lt.useCallback((function(){return kn}),[])},zn=function(e){void 0===e&&(e=!1);var t=Lt.useState(e),n=t[0],r=t[1];return[n,Lt.useMemo((function(){return{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)}}}),[])]};var Mn=function(e){return{onKeyPress:Lt.useCallback((function(t){var n=t.key;"Enter"!==n&&" "!==n||e()}),[e])}};var An=function(e){var t=Object(fn.a)(e);Lt.useEffect((function(){return function(){return t.current()}}),[t])},Rn=function(e){var t=Lt.useRef(!1),n=Object(fn.a)(e);return Lt.useEffect((function(){t.current&&(t.current=!1,n.current())})),Lt.useCallback((function(){t.current=!0}),[])},Ln=n(152),Nn={duration:0},Bn=Object(Ln.a)(),Pn=["End","Home","Space","PageUp","PageDown","ArrowUp","ArrowDown"];var qn=function(e,t){void 0===t&&(t={});var n=t,r=n.firstItemKey,i=n.lastItemKey,a=n.topThreshold,o=void 0===a?20:a,c=n.bottomThreshold,u=void 0===c?20:c,s=n.initialScrollTop,l=n.onIsUserScrollingChanged,d=n.onIsScrolledToTopChanged,p=n.onIsScrolledToBottomChanged,f=n.onScrollDeltaChanged,m=n.isScrollingChangedTimeout,h=void 0===m?300:m,b=Lt.useRef(0),g=Lt.useRef(0),v=Lt.useRef(!1),y=Lt.useRef(!1),O=Lt.useRef(!1),_=Lt.useRef(!1),j=Lt.useRef(null),x=Lt.useRef({timeout:0,value:!1}),E=Lt.useRef("none"),C=Object(bn.a)("y",e),k=Lt.useCallback((function(){_.current=!0,C.apply(void 0,arguments)}),[C]),S=Object(hn.a)(r),I=Object(hn.a)(i),T=Lt.useCallback((function(){_.current=!1}),[]),z=Lt.useCallback((function(){return y.current}),[]),M=Lt.useCallback((function(){return O.current}),[]),A=Lt.useCallback((function(e){return k(0,e)}),[C]),R=Lt.useCallback((function(t){if(e.current){var n=e.current,r=n.scrollHeight,i=n.clientHeight;k(r-i,t),E.current=t&&0===t.duration?"instant":"animated"}}),[e,k]),L=Lt.useCallback((function(e){return j.current=e}),[]),N=Lt.useCallback((function(){return!!e.current&&e.current.scrollHeight>e.current.clientHeight}),[e]),B=Lt.useCallback((function(){x.current.value||(x.current.value=!0,l&&l(x.current.value)),clearTimeout(x.current.timeout),x.current.timeout=window.setTimeout((function(){x.current.value&&(x.current.value=!1,l&&l(x.current.value))}),h)}),[h]),P=Lt.useCallback((function(){var t=e.current,n=t.scrollTop,r=t.scrollHeight,i=b.current>n,a=b.current<n,c=b.current===n,s=r<g.current,l=r>g.current,m=b.current-n,h=r>1.5*window.innerHeight;if(b.current=n,g.current=r,N()&&!_.current&&B(),!c||!v.current){("instant"===E.current||"animated"===E.current&&O.current)&&requestAnimationFrame((function(){R({duration:0}),E.current="none"}));var w=y.current&&i,j=O.current&&(a||s||l),C=w||Object(re.g)(t,o),k=j||Object(re.f)(t,u);d&&(!y.current&&C?d(!0):y.current&&!C&&d(!1)),p&&(!O.current&&k?p(!0):O.current&&!k&&p(!1)),y.current=C,O.current=k,!l&&!y.current&&f&&!O.current&&v.current&&x.current&&Bn&&!_.current&&h&&f({deltaX:0,deltaY:m/2})}}),[d,p,B]),q=Lt.useCallback((function(e){Object(w.B)(e.key,Pn)&&T()}),[T]),D=function(){k(j.current.offsetTop,Nn),j.current=null},F=function(){j.current?D():(S!==r&&function(){var t=e.current.scrollHeight,n=g.current-b.current;k(t-n,Nn)}(),I!==i&&O.current&&R())};return xn("keydown",q),Lt.useEffect((function(){!1===v.current?(j.current?D():k("number"===typeof s?s:e.current.scrollHeight,Nn),P(),v.current=!0):F()})),Lt.useEffect((function(){if(e.current){var t=e.current;return t.addEventListener("scroll",P,Bn?{passive:!0}:void 0),function(){return t.removeEventListener("scroll",P)}}}),[e,P]),{scrollTo:k,scrollToTop:A,scrollToBottom:R,getIsOnTop:z,getIsOnBottom:M,getIsScrollable:N,setScrollTargetNode:L,onWheel:T,onTouchStart:T}},Dn=function(e){return Object(gn.useSubscription)({getCurrentValue:e.get,subscribe:e.subscribe})},Fn=function(e){return Object(dn.a)((function(){var t=e,n=[];return{subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}},next:function(e){t=e,n.forEach((function(t){return t(e)}))},get:function(){return t}}}))},Vn=function(e,t){Lt.useEffect((function(){var n=setTimeout(e,t);return function(){return clearTimeout(n)}}),[e,t])};var Un=new Map,Hn=Lt.createContext(Un);Hn.Provider;function Gn(e){var t=Lt.useContext(Hn);if(t.has(e))return t.get(e);var n={},r={get:function(){return n.value},set:function(e){return n.value=e},clear:function(){return delete n.value},destroy:function(){return t.delete(e)}};return t.set(e,r),r}var Wn=function(e){var t,n;if(e.target&&Object(w.B)(e.key,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"])){var r=e.target;switch(!0){case"TEXTAREA"===r.tagName:case"INPUT"===r.tagName&&"text"===(null==(t=r.attributes.type)?void 0:t.value):case"INPUT"===r.tagName&&"email"===(null==(n=r.attributes.type)?void 0:n.value):e.stopPropagation()}}},Yn=window.MutationObserver||window.WebKitMutationObserver;function Jn(e){var t=e.mainElementRef,n=e.itemsCount,r=e.tableEdgeReached,i=void 0===r?w.S:r,a=Lt.useState(n),o=a[0],c=a[1],u=Lt.useRef(!1),s=Lt.useRef(!1),l=Lt.useRef(null),d=Lt.useRef(null),p=Lt.useRef(null);xn("keydown",(function(e){"Tab"===e.key&&(u.current=!0)})),xn("keyup",(function(e){"Tab"===e.key&&(u.current=!1)}));var f=function(e){return e?Object(w.pb)(e.querySelectorAll("a, button, input, textarea, select")):[]},m=Lt.useCallback((function(){var e=new Yn((function(){if(s.current||p.current.contains(document.activeElement)){m(p.current);var e=f(p.current);e.forEach((function(e){e.tabIndex=0,e.addEventListener("blur",n)})),c(p.current,!1),e.length&&!p.current.contains(document.activeElement)&&e[0].focus()}})),n=function(e){var t=e.target===p.current,n=e.relatedTarget===p.current,i=p.current.contains(e.target),a=p.current.contains(e.relatedTarget);if(u.current&&e.relatedTarget&&!t&&(!a||n))return e.preventDefault(),void requestAnimationFrame((function(){return e.target.focus()}));i&&!a&&r()},r=function(){f(p.current).forEach((function(e){e.tabIndex=-1,e.removeEventListener("blur",n),e.removeEventListener("keydown",Wn)}))},a=function(e){" "===e.key&&e.target===p.current&&e.preventDefault()},o=function(e){switch(e.key){case" ":case"Enter":return void(e.target===p.current&&(e.preventDefault(),function(){var e=f(p.current).filter((function(e){return!e.disabled}));e.forEach((function(e){e.tabIndex=0,e.addEventListener("blur",n),e.addEventListener("keydown",Wn)})),e.length&&e[0].focus(),s.current=!0}()));case"Escape":return e.preventDefault(),r(),void requestAnimationFrame((function(){return p.current.focus()}))}},c=function(t,r){void 0===r&&(r=!0),t.tabIndex=0,r&&t.focus(),t.addEventListener("keyup",o),t.addEventListener("keydown",a),t.addEventListener("blur",n),e.observe(t,{childList:!0,subtree:!0})},m=function(t){t.tabIndex=-1,t.removeEventListener("keyup",o),t.removeEventListener("keydown",a),t.removeEventListener("blur",n),e.disconnect()},h=function(e){var t=e+"ElementSibling";if(d.current[t]||l.current[t]){for(var n=null,r=d.current,a=l.current;!n;)if(r&&r[t])n=(r=r[t]).querySelector('[role="gridcell"]');else{if(!a||!a[t])return void i(e);if((a=a[t]).attributes.role&&"row"===a.attributes.role.value)r=a;else{var o=a.querySelectorAll('[role="row"]');r="previous"===e?Object(w.J)(o):o[0]}n=r?r.querySelector('[role="gridcell"]'):null}a!==l.current&&(l.current=a),r!==d.current&&(d.current=r),n!==p.current&&(m(p.current),c(n),p.current=n)}else i(e)},b=function(e){switch(e.key){case"ArrowUp":case"ArrowLeft":return e.preventDefault(),void h("previous");case"ArrowDown":case"ArrowRight":return e.preventDefault(),void h("next");default:return}};p.current.tabIndex=0,c(p.current,!1);var g=t.current;return g.addEventListener("keydown",b),function(){e.disconnect(),g.removeEventListener("keydown",b)}}),[p,t,d,l,i]);Lt.useEffect((function(){var e=setTimeout((function(){return c(n)}),100);return function(){return clearTimeout(e)}}),[n]),Lt.useEffect((function(){if(t.current&&t.current.children.length){t.current.tabIndex=-1;var e=t.current.contains(document.activeElement);f(t.current).forEach((function(e){return e.tabIndex=-1})),Object(w.pb)(t.current.querySelectorAll('[role="gridcell"]')).forEach((function(t){e&&t===p.current||(t.tabIndex=-1)}));var n=Object(w.J)(Object(w.pb)(t.current.children)),r=n?n.querySelector('[role="gridcell"]'):null,i=f(r),a=r&&r!==document.activeElement&&r.contains(document.activeElement),o=function(){return i.forEach((function(e){e.tabIndex=0,e.addEventListener("keydown",Wn)}))};if(a?o():i.forEach((function(e){e.addEventListener("focus",o)})),!e||a){if(l.current=Object(w.J)(Object(w.pb)(t.current.children)),!l.current)return;var c=l.current.attributes.role;if(d.current=c&&"row"===c.value?l.current:Object(w.J)(Object(w.pb)(l.current.querySelectorAll('[role="row"]'))),l.current.attributes.role&&"row"===l.current.attributes.role.value?d.current=l.current:d.current=Object(w.J)(Object(w.pb)(l.current.querySelectorAll('[role="row"]'))),!d.current)return;if(p.current=d.current.querySelector('[role="gridcell"]'),!p.current)return}var u=m();return function(){u(),i.forEach((function(e){e.removeEventListener("keydown",Wn),e.removeEventListener("focus",o)}))}}}),[p,d,l,t,m,o])}var Zn=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=1e3);var n=Lt.useState(!1),r=n[0],i=n[1];return Lt.useEffect((function(){var n,r=function(){e||(i(!0),n=window.setTimeout((function(){i(!1)}),t))};return window.addEventListener("beforeunload",r),function(){window.removeEventListener("beforeunload",r),n&&window.clearTimeout(n)}}),[e,t]),r},Kn=n(102),Xn=n(6),Qn=n(268),$n=ln("div",{displayName:"FixedWrapperMaximized",mapPropsToStyles:function(e){var t={};return e.theme&&(t.right="right"===e.theme.FixedWrapperRoot.position?"0":"auto",t.left="left"===e.theme.FixedWrapperRoot.position?"0":"auto"),e.animationDuration&&(t.transition="all "+e.animationDuration+"ms ease-out"),e.state&&(t.transform="entered"===e.state?"none":"scale(0.8) translate(10%, 30%)",t.opacity="entered"===e.state?"1":"0"),e.height&&(t.height=e.height),e.width&&(t.width=e.width),t},target:"ep7mz240"})("display:flex;flex-direction:column;max-height:100vh;position:absolute;bottom:0;@media (max-width:490px){width:100%;height:100%;position:fixed;}"),er=function(e){return Lt.createElement(Qn.a,{in:e.active,mountOnEnter:!0,timeout:e.theme.FixedWrapperMaximized.animationDuration,unmountOnExit:!0},(function(t){return Lt.createElement($n,Object(Gt.a)({},e,{state:t}),Lt.Children.map(e.children,(function(t){return Lt.cloneElement(t,{minimize:e.minimize})})))}))};er.propTypes={active:Xn.bool,children:Xn.node.isRequired,minimize:Xn.func,style:Xn.shape()};var tr=Object(Zt.b)(er),nr=ln("div",{displayName:"FixedWrapperMinimized",mapPropsToStyles:function(e){var t=e.state,n=e.theme,r={};return n&&(r.transition="all "+n.FixedWrapperMaximized.animationDuration+"ms ease-out",r.right="right"===n.FixedWrapperRoot.position?"0":"auto",r.left="left"===n.FixedWrapperRoot.position?"0":"auto"),t&&(r.transform="entered"===t?"none":"scale(0.8) translate(10%, 30%)",r.opacity="entered"===t?"1":"0"),r},target:"eq1nrcm0"})("width:60px;height:60px;position:absolute;bottom:1em;"),rr=function(e){return Lt.createElement(Qn.a,{in:e.active,mountOnEnter:!0,timeout:e.theme.FixedWrapperMinimized.animationDuration,unmountOnExit:!0},(function(t){return Lt.createElement(nr,Object(Gt.a)({},e,{state:t}),Lt.Children.map(e.children,(function(t){return Lt.cloneElement(t,{maximize:e.maximize})})))}))};rr.propTypes={active:Xn.bool,children:Xn.node.isRequired,maximize:Xn.func,style:Xn.shape()};var ir=Object(Zt.b)(rr),ar=ln("div",{displayName:"FixedWrapperRoot",mapPropsToStyles:function(e){var t={};return"right"===e.position?(t.right="1em",t.left="auto"):"left"===e.position&&(t.right="auto",t.left="1em"),t},target:"e7t7c040"})("position:fixed;bottom:0;z-index:99;font-size:16px;"),or=function(e){return Lt.createElement(ar,e,Lt.createElement(Kn.a,{defaultOn:e.maximizedOnInit},(function(t){var n=t.on,r=t.setOff,i=t.setOn;return Lt.createElement("div",null,Lt.Children.map(e.children,(function(e){return e.type===tr?Lt.cloneElement(e,{minimize:r,active:n}):e.type===ir?Lt.cloneElement(e,{maximize:i,active:!n}):e})))})))};or.defaultProps={maximizedOnInit:!1},or.propTypes={children:Xn.node.isRequired,maximizedOnInit:Xn.bool,style:Xn.shape()};var cr=or,ur=ln("div",{mapPropsToStyles:function(e){var t={};return e.verticalAlign&&("top"===e.verticalAlign?t.alignItems="flex-start":"bottom"===e.verticalAlign?t.alignItems="flex-end":t.alignItems=e.verticalAlign),e.justify&&(!0===e.justify?t.justifyContent="space-between":"left"===e.justify?t.justifyContent="flex-start":"right"===e.justify?t.justifyContent="flex-end":t.justifyContent=e.justify),e.reverse&&(t.flexDirection="row-reverse"),t},target:"e108e6fy0"})("display:flex;min-width:0;"),sr=ln(ur,{displayName:"ChatListItem",mapPropsToStyles:function(e){return{background:e.active?"rgba(0, 0, 0, 0.1)":"rgba(0, 0, 0, 0)"}},section:!0,target:"edumshe0"})("padding:0.5em;transition:background 0.2s;border-bottom:1px solid rgba(0,0,0,0.1);&:hover{cursor:pointer;}"),lr=function(e){return Lt.createElement(sr,e)};lr.propTypes={active:Xn.bool,children:Xn.node.isRequired};var dr=ln(ur,{displayName:"AgentBar",section:!0,target:"e1j58gbc0"})("padding:1em;"),pr=function(e){return Lt.createElement(dr,Object(Gt.a)({verticalAlign:"center"},e))};pr.propTypes={children:Xn.node};var fr=pr,mr=n(101),hr=function(e){var t=e.color;return t?{fill:t,"& *":{fill:t}}:null},br=Object(w.O)((function(e){return ln(e,{displayType:"Icon",mapPropsToStyles:hr,shouldForwardProp:mr.a,target:"e5ibypu0"})("&{display:block;}&,& *{fill:currentColor;}")})),gr=function(e){var t=e.children,n=Object(Qt.a)(e,["children"]),r=br(t.type);return Lt.createElement(r,n)};gr.propTypes={children:Xn.node.isRequired};var vr=gr,yr=function(e){e.styles;var t=Object(Qt.a)(e,["styles"]);return Lt.createElement("svg",Object(Gt.a)({width:"8px",height:"13px",viewBox:"0 0 8 13"},t),Lt.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Lt.createElement("g",{transform:"translate(-840.000000, -560.000000)",fill:"#424D57",fillRule:"nonzero"},Lt.createElement("g",{transform:"translate(845.000000, 567.000000) scale(-1, 1) translate(-845.000000, -567.000000) translate(831.000000, 553.000000)"},Lt.createElement("g",{transform:"translate(3.000000, 1.000000)"},Lt.createElement("polygon",{points:"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75"}))))))},Or=function(e){return Lt.createElement(vr,e,Lt.createElement(yr,null))},_r=function(e){e.styles;var t=Object(Qt.a)(e,["styles"]);return Lt.createElement("svg",Object(Gt.a)({width:"8px",height:"13px",viewBox:"0 0 8 13"},t),Lt.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Lt.createElement("g",{transform:"translate(-1104.000000, -560.000000)",fill:"#424D57",fillRule:"nonzero"},Lt.createElement("g",{transform:"translate(1094.000000, 553.000000)"},Lt.createElement("g",{transform:"translate(2.000000, 1.000000)"},Lt.createElement("polygon",{points:"8.59 17.34 13.17 12.75 8.59 8.16 10 6.75 16 12.75 10 18.75"}))))))},wr=function(e){return Lt.createElement(vr,e,Lt.createElement(_r,null))},jr=function(e){e.styles;var t=Object(Qt.a)(e,["styles"]);return Lt.createElement("svg",Object(Gt.a)({viewBox:"0 0 58 58",style:{enableBackground:"new 0 0 58 58"}},t),Lt.createElement("rect",{style:{fillRule:"evenodd",clipRule:"evenodd",fill:"#F2F2F2"},width:"58",height:"58"}),Lt.createElement("path",{style:{fillRule:"evenodd",clipRule:"evenodd",fill:"#424D57"},d:"M40,38c7.3,3.8,11,8.4,11,13.9v6c0,0.2-0.1,0.3-0.2,0.4C47.9,62,6.1,62,6.1,58l0-0.1l0-0.1 v-6c0-5.5,3.7-10.1,11-13.9c1.2-0.7,2-0.2,2-0.2c2.5,2.3,5.8,3.7,9.5,3.7l-0.1,0l0.3,0c3.5-0.1,6.7-1.5,9.1-3.7 C38,37.8,38.8,37.3,40,38z M28.5,17C34.3,17,39,21.7,39,27.5S34.3,38,28.5,38S18,33.3,18,27.5S22.7,17,28.5,17z"}))},xr=function(e){return Lt.createElement(vr,e,Lt.createElement(jr,null))},Er=function(e){e.styles;var t=Object(Qt.a)(e,["styles"]);return Lt.createElement("svg",Object(Gt.a)({height:"18px",viewBox:"0 0 21 18",width:"21px"},t),Lt.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Lt.createElement("g",{fill:"#000000"},Lt.createElement("polygon",{points:"0.01 18 21 9 0.01 0 0 7 15 9 0 11"}))))},Cr=function(e){return Lt.createElement(vr,e,Lt.createElement(Er,null))},kr=Ft("animation:1.5s ease-in-out 0s infinite;animation-name:",Ht("0%{opacity:1.0;}50%{opacity:0.4;}100%{opacity:1.0;}"),";"),Sr=ln("div",{target:"e11eolwx0"})("width:100vw;max-width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#e5e5e5;"),Ir=Ft("width:32px;height:32px;fill:currentColor;"),Tr=function(e){return Lt.createElement(Sr,e,Lt.createElement("svg",{viewBox:"0 0 32 32",className:Vt(Ir,kr)},Lt.createElement("path",{d:"M6.1,22.1l5.3-4.8c0.4-0.3,1-0.3,1.3,0l3.2,2.8l6.5-5.8c0.4-0.3,1-0.3,1.3,0l2.3,2.1V9c0-0.6-0.4-1-1-1h-18 c-0.6,0-1,0.4-1,1L6.1,22.1C6.1,22,6.1,22,6.1,22.1z M8,23h8.1l-4.1-3.7L8,23z M19.1,23h5.9c0.6,0,1-0.4,1-1v-3l-3-2.7l-5.7,5.1 L19.1,23z M7.1,6h18c1.7,0,3,1.3,3,3v13c0,1.7-1.3,3-3,3h-18c-1.7,0-3-1.3-3-3V9C4.1,7.3,5.4,6,7.1,6z M15.1,16c-1.7,0-3-1.3-3-3 s1.3-3,3-3s3,1.3,3,3S16.8,16,15.1,16z M15.1,14c0.6,0,1-0.4,1-1s-0.4-1-1-1c-0.6,0-1,0.4-1,1S14.5,14,15.1,14z"})))},zr=function(e){return Lt.createElement(Sr,e,Lt.createElement("svg",{viewBox:"0 0 32 32",className:Ir},Lt.createElement("path",{d:"M3.6,5.1L3.6,5.1l24.1,21.1c0.4,0.4,0.5,1,0.1,1.4c-0.3,0.4-0.9,0.4-1.3,0.2l-0.1-0.1l-8.1-7.1l-2,1.8  l1.7,1.5h4l2.3,2l-0.1,0L24,26H6c-1.6,0-2.9-1.2-3-2.8L3,23L3,7.3L2.3,6.7c-0.4-0.4-0.5-1-0.1-1.4C2.6,4.9,3.1,4.9,3.6,5.1z   M11,20.3L6.9,24h8.1L11,20.3z M26,5c1.6,0,2.9,1.2,3,2.8L29,8v15.4l0,0l-2-1.7l0-3.7l-3-2.7l-2.2,2L20.3,16l3.1-2.8  c0.3-0.3,0.9-0.3,1.2-0.1l0.1,0.1l2.3,2.1V8c0-0.5-0.4-0.9-0.9-1L26,7H10L7.7,5l0.1,0L8,5H26z M5,9.1l0,14l5.3-4.8  c0.3-0.3,0.9-0.3,1.2-0.1l0.1,0.1l3.2,2.8l1.9-1.7L5,9.1z M20,8c1.7,0,3,1.3,3,3s-1.3,3-3,3s-3-1.3-3-3S18.3,8,20,8z M20,10  c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S20.6,10,20,10z"})))},Mr=n(366),Ar=Ft("&-enter{opacity:0;height:0;}&-enter&-enter-active{opacity:1;height:1.2em;transition:height 200ms ease-in-out,opacity 100ms ease-in-out 100ms;}&-exit{opacity:1;height:1.2em;}&-exit&-exit-active{opacity:0;height:0;transition:height 100ms ease-in-out 100ms,opacity 200ms ease-in-out;}"),Rr=function(e){return Lt.createElement(Mr.a,Object(Gt.a)({},e,{classNames:Ar,timeout:200}))};Rr.propTypes={children:Xn.node};var Lr=Rr,Nr=Ft("&-enter{opacity:0;transform:scale(1.2);}&-enter-active{opacity:1;transform:scale(1);transition:opacity ",200,"ms ","cubic-bezier(0.14, 0, 0, 1)",",transform ",200,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}&-enter-done{opacity:1;transform:scale(1);}"),Br=function(e){return Lt.createElement(Mr.a,Object(Gt.a)({},e,{classNames:Nr,timeout:500}))},Pr=function(e){var t=e.children,n=e.src,r=e.srcSet,i=(e.scaleImage,e.className),a=e.alt,o=void 0===a?"":a,c=Object(Qt.a)(e,["children","src","srcSet","scaleImage","className","alt"]),u=Lt.useState("pending"),s=u[0],l=u[1],d=Lt.useState(!1),p=d[0],f=d[1],m=Lt.useRef(0),h="loaded"===s,b=null;if(t)b=t({imageStatus:s,shouldAnimate:p});else switch(s){case"pending":b=Lt.createElement(Tr,c);break;case"failed":b=Lt.createElement(zr,c);break;default:b=null}return Lt.useEffect((function(){return l("pending"),f(!1),m.current=setTimeout((function(){return f(!0)}),300),function(){return clearTimeout(m.current)}}),[n,r]),Lt.createElement(Lt.Fragment,null,Lt.createElement(Br,{in:p&&h},Lt.createElement("img",Object(Gt.a)({alt:o},c,{src:n,srcSet:r,className:i,onLoad:function(){l("loaded"),clearTimeout(m.current)},onError:function(){return l("failed")},style:Object(Gt.a)({},!h&&{display:"none"})}))),b)};Pr.propTypes={children:Xn.func};var qr=Pr,Dr=Ft("display:block;border-radius:inherit;width:100%;height:100%;object-fit:cover;"),Fr=ln("div",{displayName:"Avatar",mapPropsToStyles:function(e){var t={},n={},r=e.size,i=e.radius,a=e.fontSize;return r&&(t.width=r,t.height=r,t.lineHeight=r),i&&(t.borderRadius=i,n.borderRadius=i),a&&(t.fontSize=a),Object(Gt.a)({},t,{"& img":n})},target:"e11ezd0e0"})("border:1px solid #fff;border-radius:50%;text-align:center;background-color:#fff;text-transform:uppercase;overflow:hidden;"),Vr=function(e){var t=e.imgUrl,n=e.letter,r=null;return t||n?t?r=Lt.createElement(qr,{src:t,className:Dr,alt:"avatar"},(function(e){var t=e.imageStatus,n=e.shouldAnimate;switch(t){case"pending":return Lt.createElement(xr,{className:Vt(Dr,n&&kr)});case"failed":return Lt.createElement(xr,{className:Dr});default:return null}})):n&&(r=Lt.createElement("span",null,n)):r=Lt.createElement("div",{className:Dr},Lt.createElement(xr,{className:Dr})),Lt.createElement(Fr,e,r)};Vr.propTypes={imgUrl:Xn.string,letter:Xn.string,size:Xn.string,style:Xn.shape()};var Ur=Vr,Hr=Ft("& >:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:0;border-bottom-left-radius:0;}& >:last-child{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}& >:first-child:last-child{border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;}"),Gr=ln("div",{displayName:"Bubble",mapPropsToStyles:function(e){var t=e.isOwn,n=e.ovalBorderRadius,r=e.sharpBorderRadius,i=e.radiusType,a={borderTopLeftRadius:"single"===i||"first"===i?n:r,borderTopRightRadius:n,borderBottomRightRadius:n,borderBottomLeftRadius:"single"===i||"last"===i?n:r};return t?function(e){var t=e.borderTopLeftRadius,n=e.borderTopRightRadius,r=e.borderBottomRightRadius;return{borderTopLeftRadius:n,borderTopRightRadius:t,borderBottomRightRadius:e.borderBottomLeftRadius,borderBottomLeftRadius:r}}(a):a},target:"emwkn670"})(Hr,";border:1px solid rgba(0,0,0,0.05);display:inline-block;max-width:100%;margin-bottom:0.1em;& img{max-width:100%;display:block;}");Gr.propTypes={children:Xn.node,isOwn:Xn.bool,radiusType:Xn.oneOf(["single","first","last"])};var Wr=Gr,Yr=ln("div",{target:"ek650k30"})("display:flex;flex-direction:column;min-width:0;"),Jr=ln("div",{mapPropsToStyles:function(e){return{flexShrink:e.shrink?1:0}},target:"e1jdwequ0"})(),Zr=function(e){return Lt.createElement(Jr,Object(Gt.a)({flexFill:!0},e))};Zr.defaultProps={shrink:!0},Zr.propTypes={shrink:Xn.bool};var Kr=Zr,Xr=ln("div",{mapPropsToStyles:function(e){return{flexShrink:e.shrink?1:0}},target:"e1yi1p4d0"})(),Qr=function(e){return Lt.createElement(Xr,Object(Gt.a)({flexFit:!0},e))};Qr.defaultProps={shrink:!0},Qr.propTypes={shrink:Xn.bool};var $r=ln("button",{displayName:"IconButton",section:!0,target:"e1m5b1js0"})("appearance:none;background:transparent;border:0;display:inline-block;margin:0;padding:0.5em;color:inherit;&:hover{cursor:",(function(e){return e.disabled?"default":"pointer"}),";}"),ei=function(e){var t=Object(Gt.a)({},e),n=Object(vn.b)();return Lt.createElement($r,Object(Gt.a)({},n,t))};ei.propTypes={active:Xn.bool,disabled:Xn.bool,children:Xn.node.isRequired,color:Xn.string,onClick:Xn.func};var ti=ei,ni=n(367),ri=function(e){return e.getBoundingClientRect().top+window.pageYOffset},ii=Lt.createContext({registerUnseenListItem:w.S,isScrollOnBottom:w.S,scrollToBottom:w.S}),ai=ii.Provider,oi=ii.Consumer,ci=function(e){void 0===e&&(e=0);var t=e;return function(){return t++}}(),ui=ln("div",{displayName:"MessageList",target:"e1i3n9g60"})("padding:0.5em;overflow-y:auto;height:100%;outline-offset:-5px;"),si=function(e){var t=e.active,n=void 0===t||t,r=e.innerRef,i=e.onScroll,a=Object(Qt.a)(e,["active","innerRef","onScroll"]),o=Lt.useRef(),c=Object(pn.a)(o,r),u=function(){var e=Lt.useRef([]);return{getAll:function(){return e.current},registerItem:Lt.useCallback((function(t){var n=ci(),r=e.current;return r.push(Object(Gt.a)({},t,{id:n})),function(){var e=Object(w.n)((function(e){return e.id===n}),r);-1!==e&&r.splice(e,1)}}),[])}}(),s=u.getAll,l=u.registerItem,d=Object(fn.a)(n),p=Object(fn.a)(i),f=Object(vn.b)(),m=Lt.useCallback((function(){s().forEach((function(e){var t,n;(t=o.current,n=e.ref,ri(n)-ri(t)+n.clientHeight<=t.clientHeight)&&e.onSeen()}))}),[s]),h=Lt.useMemo((function(){return Object(w.ob)(300,(function(){d.current&&m()}))}),[d,m]),b=Lt.useCallback((function(e){h(),p.current&&p.current(e)}),[p,h]);Lt.useEffect((function(){n&&m()}),[n,m]);var g=Lt.useMemo((function(){return{registerUnseenListItem:l,isScrollOnBottom:function(){return e=o.current,void 0===(t=20)&&(t=0),e.scrollTop+e.clientHeight-e.scrollHeight>=-t;var e,t},scrollToBottom:function(){var e;(e=o.current).scrollTop=e.scrollHeight}}}),[l]);return Lt.createElement(ai,{value:g},Lt.createElement(ui,Object(Gt.a)({},f,a,{innerRef:c,onScroll:b,role:"grid","aria-live":"polite","aria-relevant":"additions"})))},li=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._unregisterFromMessageList=w.S,t._registerInMessageList=Object(w.P)((function(e){return function(n){t._unregisterFromMessageList(),n&&(t._unregisterFromMessageList=e({ref:n,onSeen:t.props.onSeen}))}})),t}Object(Jt.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._unregisterFromMessageList()},n.render=function(){var e=this;return Lt.createElement(oi,null,(function(t){var n=t.registerUnseenListItem;return Lt.createElement("div",{ref:e.props.seen?null:e._registerInMessageList(n),role:"row"},Lt.Children.only(e.props.children))}))},t}(Lt.Component);li.propTypes={children:Xn.node.isRequired,onSeen:Xn.func},li.defaultProps={onSeen:w.S};var di=li,pi=ln("div",{displayName:"Message",mapPropsToStyles:function(e){var t=e.horizontalAlign;return t?{flexDirection:"left"===t?"row":"row-reverse"}:null},section:!0,target:"e10ccb470"})("display:flex;align-items:flex-start;font-size:0.9em;margin:0.3em;max-width:100%;"),fi=ln("span",{displayName:"AuthorName",target:"e10ccb471"})("font-size:0.8em;"),mi=ln("div",{displayName:"MessageMeta",target:"e10ccb472"})("text-align:left;"),hi=ln("div",{displayName:"Content",target:"e10ccb473"})("display:flex;flex-direction:column;overflow:hidden;align-items:flex-start;"),bi=ln("span",{displayName:"Time",target:"e10ccb474"})("font-size:0.8em;"),gi=ln("div",{displayName:"Status",target:"e10ccb475"})("text-align:right;font-size:0.8em;"),vi=function(e){var t=e.children,n=e.authorName,r=e.deliveryStatus,i=e.isOwn,a=e.date,o=e.showMetaOnClick,c=e.onSeen,u=(e.radiusType,e.seen),s=Object(Qt.a)(e,["children","authorName","deliveryStatus","isOwn","date","showMetaOnClick","onSeen","radiusType","seen"]),l=Object(vn.b)(),d=Lt.createElement(Kn.a,null,(function(e){var c=e.on,u=e.getElementTogglerProps;return Lt.createElement(pi,Object(Gt.a)({},u(s),{own:i,tabIndex:null}),Lt.createElement(hi,Object(Gt.a)({role:"gridcell"},l),Lt.createElement(ni.a,null,(!o||c)&&Lt.createElement(Lr,null,Lt.createElement(mi,null,n&&Lt.createElement(fi,null,n," "),a&&Lt.createElement(bi,null,a)))),t,r&&Lt.createElement(gi,null,r)))}));return Lt.createElement(di,{onSeen:c,seen:u},d)};vi.propTypes={authorName:Xn.string,authorOpen:Xn.bool,children:Xn.node,date:Xn.string,deliveryStatus:Xn.string,isOwn:Xn.bool,onClick:Xn.func,onSeen:Xn.func,showMetaOnClick:Xn.bool,style:Xn.shape(),toggleAuthor:Xn.func,radiusType:Xn.oneOf(["single","first","last"]),seen:Xn.bool},vi.defaultProps={onClick:function(){},seen:!1};var yi=vi,Oi=ln("div",{displayName:"SubTitle",target:"e1fut3qs0"})("font-weight:300;opacity:0.7;");Oi.defaultProps={textWrap:!0};var _i=Oi,wi=ln("div",{displayName:"Title",target:"e9xf8br0"})("font-weight:400;");wi.defaultProps={textWrap:!0};var ji=wi,xi=(Object(w.X)(console.warn.bind(console)),ln("div",{displayName:"MessageTitle",target:"e1ykjxgu0"})("font-weight:600;padding:1em;")),Ei=Ft("margin-bottom:4px;"),Ci=function(e){var t=e.children,n=e.title,r=e.subtitle,i=Object(Qt.a)(e,["children","title","subtitle"]);var a=t||[n&&Lt.createElement(ji,{key:"title",preserveLines:!0,className:Ei},n),r&&Lt.createElement(_i,{key:"subtitle",preserveLines:!0},r)];return Lt.createElement(xi,i,a)};Ci.propTypes={children:Xn.oneOfType([Xn.arrayOf(Xn.node),Xn.node]),subtitle:Xn.string,title:Xn.string};var ki=Ci,Si=ln("div",{displayName:"MessageText",target:"eovu8nx0"})("white-space:pre-line;word-wrap:break-word;overflow-wrap:break-word;max-width:100%;padding:1em;"),Ii=ln("div",{displayName:"MessageMedia",mapPropsToStyles:function(e){var t=e.style||{};return{img:{borderTopLeftRadius:t.borderTopLeftRadius,borderTopRightRadius:t.borderTopRightRadius,borderBottomRightRadius:t.borderBottomRightRadius,borderBottomLeftRadius:t.borderBottomLeftRadius}}},target:"evmhqt80"})("overflow:hidden;"),Ti="1px solid rgba(0, 0, 0, 0.1)",zi=ln("div",{displayName:"MessageButtons",target:"edowbh60"})(Hr,";& >:first-child{border-top:",Ti,";}&:first-child >:first-child{border-top:0;}& >:last-child{border-bottom:",Ti,";}&:last-child >:last-child{border-bottom:0;}> *{border-color:","rgba(0, 0, 0, 0.1)"," !important;}"),Mi=n(18),Ai=Object(Mi.a)(.2),Ri=ln((function(e){var t=e.href,n=Object(Qt.a)(e,["href"]);return t?Lt.createElement("a",Object(Gt.a)({href:t,rel:"nofollow noopener"},n)):Lt.createElement("button",n)}),{displayName:"Button",mapPropsToStyles:function(e){var t=e.primary?e.theme.vars["--primary-color"]:"black",n=Ai(t);return{borderColor:t,color:t,":hover":{color:n,borderColor:n}}},shouldForwardProp:mr.a,target:"e1972fzd0"})("border-width:1px;border-style:solid;background-color:#fff;font-size:1em;font-family:inherit;line-height:1.4em;text-align:center;text-decoration:none;appearance:none;padding:0.8em;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;&:hover{cursor:pointer;}&:active{box-shadow:none;outline:none;}&[disabled]{pointer-events:none;}"),Li=function(e){var t=e.label,n=Object(Qt.a)(e,["label"]),r=Object(vn.b)();return Lt.createElement(Ri,Object(Gt.a)({},r,n),t)};Li.propTypes={label:Xn.string};var Ni=Li,Bi=ln(Ni,{target:"e121y1dq0"})("display:inline-block;width:100%;border-left:0;border-right:0;border-top:0;border-bottom-color:rgba(0,0,0,0.1);box-shadow:none;transition:background-color 0.1s;background:transparent;color:",(function(e){return e.disabled?"#8D9BA9":"inherit"}),";margin:0;&:hover{border-bottom-color:rgba(0,0,0,0.15);background:rgba(0,0,0,0.02);color:inherit;}&:active{background:rgba(0,0,0,0.04);color:inherit;}"),Pi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){e.stopPropagation(),t.props.onClick(e)},t}return Object(Jt.a)(t,e),t.prototype.render=function(){return Lt.createElement(Bi,Object(Gt.a)({},this.props,{onClick:this.handleClick}))},t}(Lt.Component);Pi.propTypes={className:Xn.string,label:Xn.string,onClick:Xn.func,primary:Xn.bool,value:Xn.oneOfType([Xn.string,Xn.number])},Pi.defaultProps={onClick:w.S};var qi=function(e){return Lt.Children.toArray(e).filter(Boolean)},Di={radiusType:"single"},Fi={radiusType:"first"},Vi={radiusType:"last"},Ui={authorName:null,date:null},Hi=ln("div",{displayName:"MessageGroup",mapPropsToStyles:function(e){return e.isOwn?{flexDirection:"row-reverse"}:null},target:"eslhdd60"})("display:flex;margin-bottom:1em;"),Gi=ln("div",{target:"eslhdd61"})("display:flex;flex-direction:column;align-items:center;text-align:center;font-size:0.7em;line-height:1.6em;",(function(e){return{minWidth:e.theme.Avatar.size,margin:e.isOwn?"0 0 0 .3em":"0 .3em 0 0"}}),";"),Wi=Ft("overflow:hidden;"),Yi=function(e){var t=e.avatar,n=e.avatarLetter,r=e.children,i=e.onlyFirstWithMeta,a=Object(Qt.a)(e,["avatar","avatarLetter","children","onlyFirstWithMeta"]),o=qi(r),c=Lt.Children.count(o);return Lt.createElement(Hi,a,(t||n)&&Lt.createElement(Gi,{flexFit:!0,isOwn:a.isOwn},Lt.createElement(Ur,{imgUrl:t,letter:n})),Lt.createElement(Kr,{className:Wi},Lt.Children.map(o,(function(e,t){if(1===c)return Object(Lt.cloneElement)(e,Di);if(0===t)return Object(Lt.cloneElement)(e,Fi);var n=i&&t>0;return t===c-1?Object(Lt.cloneElement)(e,n?Object(Gt.a)({},Vi,Ui):Vi):n?Object(Lt.cloneElement)(e,Ui):e}))))};Yi.propTypes={avatar:Xn.string,avatarLetter:Xn.string,children:Xn.node,isOwn:Xn.bool,onlyFirstWithMeta:Xn.bool};var Ji=Yi,Zi=yi,Ki={vars:{"primary-color":"#427fe1","secondary-color":"#fbfbfb","tertiary-color":"#fff"},AgentBar:{Avatar:{size:"42px",css:{marginRight:".6em"}},css:{backgroundColor:"var(--secondary-color)"}},Avatar:{size:"30px"},Bubble:{sharpBorderRadius:"0.3em",ovalBorderRadius:"1.4em",css:{backgroundColor:{default:"var(--secondary-color)",bot:"green"}}},Button:{},ChatListItem:{Avatar:{css:{marginRight:".5em"}}},FixedWrapperMaximized:{animationDuration:100,width:"400px",height:"500px"},FixedWrapperMinimized:{animationDuration:100},FixedWrapperRoot:{position:"right",css:{}},Message:{secondaryTextColor:"#000",horizontalAlign:"left",own:{horizontalAlign:"right",Bubble:{css:{backgroundColor:"var(--primary-color)",color:"#fff"}},Content:{css:{alignItems:"flex-end"}},MessageMeta:{css:{textAlign:"right"}},Time:{css:{textAlign:"right"}}},bot:{Bubble:{css:{backgroundColor:"green"}}}},MessageButtons:{},MessageGroup:{},MessageList:{css:{backgroundColor:"var(--tertiary-color)"}},MessageMedia:{},MessageText:{},MessageTitle:{},QuickReply:{css:{borderColor:"var(--primary-color)",backgroundColor:"#fff",color:"var(--primary-color)"}},TextComposer:{inputColor:"#000",Icon:{color:"#aaa"},IconButton:{active:{Icon:{color:"var(--primary-color)"}}}},TitleBar:{iconsColor:"#fff",behaviour:"default",css:{backgroundColor:"var(--primary-color)"}}},Xi=function(e){var t=e.theme,n=void 0===t?{}:t,r=e.children,i=function e(t){var n=tn(t);return 0===Object.keys(n).length?Object(Gt.a)({},t,{vars:Object(w.L)((function(e){return"--"+e}),t.vars||{})}):Object(Gt.a)({},t,Object(w.M)((function(t){return Object(Gt.a)({},e(t),{css:t.css||{}})}),n),{vars:Object(w.L)((function(e){return"--"+e}),t.vars||{})})}(Object(w.Q)(Ki,n));return Lt.createElement(Xt,{value:i},r)},Qi=ln("button",{displayName:"QuickReply",target:"e1gt5po80"})("border-width:1px;border-style:solid;font-size:1em;line-height:1em;appearance:none;transition:box-shadow 0.1s,color 0.1s,border-color 0.2s;margin:0.25em;background-color:#fff;border-radius:1.4em;box-shadow:0 0.1em 0.1em 0 rgba(32,34,40,0.05);font-weight:400;overflow:hidden;padding:0.375em 1em 0.5em;word-break:break-word;&:hover{cursor:pointer;}&:active{outline:none;}"),$i=function(e){var t=e.value,n=e.onSelect,r=void 0===n?w.S:n,i=e.onClick,a=void 0===i?w.S:i,o=Object(Qt.a)(e,["value","onSelect","onClick"]),c=Object(vn.b)(),u=Lt.useCallback((function(e){r(t),a(e)}),[a,r,t]);return Lt.createElement(Qi,Object(Gt.a)({value:t},o,c,{onClick:u}))},ea=(Object(w.X)(console.warn.bind(console)),ln("div",{displayName:"QuickReplies",target:"e1dnb9qc0"})("display:flex;flex-wrap:wrap;text-align:center;justify-content:center;width:100%;")),ta=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._handleSelect=function(e){return t.props.onSelect(e)},t}return Object(Jt.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.replies,i=(t.onSelect,Object(Qt.a)(t,["children","replies","onSelect"]));var a=n?qi(n):r.map((function(e,t){return Lt.createElement($i,{key:t,value:e},e)}));return Lt.createElement(ea,i,Lt.Children.map(a,(function(t){return Object(Lt.cloneElement)(t,{onSelect:e._handleSelect})})))},t}(Lt.Component);ta.defaultProps={onSelect:w.S},ta.propTypes={children:Xn.node,onSelect:Xn.func,replies:Xn.arrayOf(Xn.string)};var na=ln("div",{displayName:"TitleBar",section:!0,target:"e1ohfhv0"})("display:flex;justify-content:center;align-items:center;width:100%;border:#000;color:#fff;position:relative;z-index:2;text-align:center;padding:0.4em;"),ra=ln("div",{displayName:"TitleBarTitle",target:"e1ohfhv1"})("width:100%;margin:0;margin-bottom:4px;padding:0 2px;text-align:center;font-size:0.9em;flex-grow:1;"),ia=function(e){var t=e.leftIcons,n=e.rightIcons,r=e.title,i=Object(Qt.a)(e,["leftIcons","rightIcons","title"]);return Lt.createElement(na,i,t,Lt.createElement(ra,{ellipsis:!0},r),n)};ia.propTypes={leftIcons:Xn.arrayOf(Xn.node),rightIcons:Xn.arrayOf(Xn.node),theme:Xn.shape(),title:Xn.node};var aa=ia,oa=n(144),ca=function(e){return 13===e.which},ua=function(e){return ca(e)&&(e.altKey||e.shiftKey)},sa=function(e){return ca(e)&&!e.altKey&&!e.shiftKey},la=Lt.createContext(),da=la.Provider,pa=la.Consumer,fa=ln("div",{displayName:"TextComposer",section:!0,target:"eyij3xx0"})("padding:0;background:#fff;border-top:1px solid rgba(0,0,0,0.1);"),ma=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={value:t._getValue({value:t.props.defaultValue})},t._handleButtonClick=function(e){t.maybeSend()&&t.props.onButtonClick(e)},t._handleChange=function(e){var n=e.target.value;t._isControlled()||t.setState({value:n}),t.props.onValueChange(n),t.props.onChange(e)},t._handleInputRef=function(e){t._inputRef=e,t.props.inputRef(e)},t._handleKeyDown=function(e){var n=t.props.onKeyDown;sa(e)&&e.preventDefault(),ca(e)&&!ua(e)?(t.maybeSend(),n(e)):n(e)},t.maybeSend=function(){return!!t._canSend()&&(t._isControlled()||t.setState({value:""}),t.props.onValueChange(""),t.props.onSend(Object(w.tb)(t.state.value)),!0)},t}Object(Jt.a)(t,e);var n=t.prototype;return n._getValue=function(e,t){return void 0===e&&(e=this.state),void 0===t&&(t=this.props),this._isControlled()?t.value:e.value},n._canSend=function(){return this.props.active&&""!==this.state.value.trim()},n._isControlled=function(){return"string"===this.props.value},n._setCursorAtTheEnd=function(){var e=this._inputRef.value.length;this._inputRef.setSelectionRange(e,e)},n.componentDidMount=function(){this.props.defaultValue&&this._inputRef&&document.activeElement===this._inputRef&&this._setCursorAtTheEnd()},n.componentDidUpdate=function(e,t){var n=this._getValue();n!==this._getValue(t,e)&&""===n&&this._inputRef.focus()},n.render=function(){var e=this.props,t=(e.active,e.children),n=(e.defaultValue,e.onButtonClick,e.onChange,e.onKeyDown,e.onSend,e.onValueChange,e.value,Object(Qt.a)(e,["active","children","defaultValue","onButtonClick","onChange","onKeyDown","onSend","onValueChange","value"])),r={active:this._canSend(),inputRef:this._handleInputRef,value:this._getValue(),maybeSend:this.maybeSend,onButtonClick:this._handleButtonClick,onChange:this._handleChange,onKeyDown:this._handleKeyDown};return Lt.createElement(da,{value:r},Lt.createElement(fa,n,t))},t}(Lt.Component);ma.propTypes={active:Xn.bool,children:Xn.node,defaultValue:Xn.string,inputRef:Xn.func,onButtonClick:Xn.func,onChange:Xn.func,onKeyDown:Xn.func,onSend:Xn.func,value:Xn.string},ma.defaultProps={active:!0,defaultValue:"",inputRef:w.S,onButtonClick:w.S,onChange:w.S,onKeyDown:w.S,onSend:w.S,onValueChange:w.S};var ha=function(e){return void 0===e&&(e=w.A),function(t){var n,r;return r=n=function(n){function r(){return n.apply(this,arguments)||this}return Object(Jt.a)(r,n),r.prototype.render=function(){var n=this;return Lt.createElement(pa,null,(function(r){return Lt.createElement(t,Object(Gt.a)({},n.props,e(r,n.props)))}))},r}(Lt.Component),n.displayName="withComposer("+Object(oa.a)(t)+")",r}},ba=function(e){function t(){return e.apply(this,arguments)||this}return Object(Jt.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=Object(Qt.a)(e,["icon"]);return Lt.createElement(ti,n,t?Lt.createElement(vr,{"aria-hidden":!0},t):Lt.createElement(Cr,null))},t}(Lt.Component);ba.propTypes={active:Xn.bool,onClick:Xn.func};Object(w.X)(console.warn.bind(console));var ga=ha((function(e,t){var n=e.active,r=e.onButtonClick;return n?{active:n,onClick:r}:{active:n}}))(ba),va=n(259),ya=ln((function(e){e.flexFill;var t=Object(Qt.a)(e,["flexFill"]);return Lt.createElement(va.a,t)}),{displayName:"TextInput",target:"e1m92qam0"})("appearance:none;border:0;resize:none;background-color:#fff;height:1.5em;line-height:1.5em;min-width 0;width:100%;font-size:1em;&:focus,&:active{outline:none;}"),Oa=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._getRef=function(e){t.props.inputRef(e),t.props.innerRef(e)},t}return Object(Jt.a)(t,e),t.prototype.render=function(){var e=this.props,t=(e.innerRef,e.inputRef,Object(Qt.a)(e,["innerRef","inputRef"]));return Lt.createElement(ya,Object(Gt.a)({},t,{inputRef:this._getRef}))},t}(Lt.Component);Oa.defaultProps={innerRef:w.S,inputRef:w.S,maxRows:3,onChange:w.S,onKeyDown:w.S,placeholder:"Write a message..."},Oa.propTypes={defaultValue:Xn.string,innerRef:Xn.func,inputRef:Xn.func,maxRows:Xn.number,minRows:Xn.number,onChange:Xn.func,onHeightChange:Xn.func,onKeyDown:Xn.func,placeholder:Xn.string,value:Xn.string};Object(w.X)(console.warn.bind(console));var _a=ha((function(e,t){return{inputRef:e.inputRef,onChange:e.onChange,onKeyDown:e.onKeyDown,value:e.value}}))(Oa),wa=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(e){return function(n){t.props.onButtonClick(n,e)}},t}return Object(Jt.a)(t,e),t.prototype.render=function(){var e=this,t=null,n=Object(w.n)((function(e){return e.showMore}),this.props.buttons);if(-1!==n){var r=this.props.buttons[n],i=r.text,a=Object(Qt.a)(r,["text"]);t=Lt.createElement(Pi,Object(Gt.a)({},a,{label:i,"data-variant":"show-more",onClick:this.handleButtonClick(n)}))}return Lt.createElement(Lt.Fragment,null,Lt.createElement(zi,null,this.props.buttons.map((function(t,r){var i=t.text,a=t.key,o=(t.showMore,Object(Qt.a)(t,["text","key","showMore"])),c=void 0!==a?a:r;return r!==n?Lt.createElement(Pi,Object(Gt.a)({key:c,label:i.length>20?i.slice(0,20).trim()+"\u2026":i,onClick:e.handleButtonClick(c)},o)):null}))),t)},t}(Lt.Component);wa.defaultProps={onButtonClick:w.S};var ja=wa,xa=function(e){return e.stopPropagation()},Ea=function(e){return Lt.createElement("a",Object(Gt.a)({},e,{onClick:xa,rel:"nofollow noopener",target:"_blank"}))},Ca=function(e){return Ft("display:block;width:100%;height:",e?"100%":"150px",";object-fit:cover;")},ka=ln("div",{target:"e9ztsyy0"})("display:flex;margin:0 auto;overflow:hidden;width:100%;min-width:110px;height:",(function(e){return e.horizontalLayout?"100%":"150px"}),";align-items:center;justify-content:center;background:#fff;"),Sa=function(e){var t=e.link,n=e.url,r=e.srcset,i=e.horizontalLayout,a=Object(Qt.a)(e,["link","url","srcset","horizontalLayout"]),o=Lt.createElement(Ii,a,Lt.createElement(ka,{horizontalLayout:i},Lt.createElement(qr,Object(Gt.a)({alt:"",className:Ca(i)},function(e,t){var n={src:e};return void 0!==t&&(n.srcSet=t),n}(n,r)))));return t?Lt.createElement(Ea,{href:t,style:a.style},o):o};Sa.propTypes={link:Xn.string,url:Xn.string.isRequired,srcSet:Xn.string};var Ia=Sa,Ta=Ft("width:230px;"),za=Ft("display:flex;flex-direction:row;"),Ma=Ft("max-width:110px;"),Aa=ln("div",{target:"es7wtci0"})("width:230px;min-width:0px;max-width:",(function(e){return e.horizontalLayout?"66%":"100%"}),";"),Ra={borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit",borderBottomRightRadius:0,borderBottomLeftRadius:0},La={borderTopLeftRadius:"inherit",borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:"inherit"},Na=(Lt.Component,n(260)),Ba=ln("div",{target:"epptpc30"})("position:relative;width:100%;display:flex;"),Pa=Ft("scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"),qa=ln("div",{target:"epptpc31"})("display:flex;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;align-items:flex-start;",Pa," ",(function(e){var t,n=e.padding,r=e.dir;return Object(Gt.a)({},"undefined"!==typeof n&&{padding:n},{"> :not(:last-child)":(t={},t["rtl"===r?"marginLeft":"marginRight"]=8,t)})})),Da=ln("div",{target:"epptpc32"})("flex-grow:0;flex-shrink:0;"),Fa=ln("button",{target:"epptpc33"})("position:absolute;width:30px;height:30px;border-radius:50%;background:#fff;border:0;box-shadow:0 4px 12px rgba(0,0,0,0.3);text-align:center;top:32%;display:flex;align-items:center;justify-content:center;padding:0;z-index:1;-webkit-transform:translate3d(0,0,0);&:hover{cursor:pointer;}svg{display:inline;}",(function(e){var t;return(t={})[e.variant]=".5em",t}),";"),Va=function(e){var t=e.itemCount;return t*e.itemWidth+(t-1)*e.spacing},Ua=function(e){var t=e.clientWidth,n=e.scrollableElement,r=e.currentX,i=e.nextX,a=e.scrollDirection,o=e.isRtl,c=n.firstElementChild.getBoundingClientRect().width,u=function(e,t){if(e.length<2)return 0;var n=e[0],r=e[1],i=n.getBoundingClientRect(),a=r.getBoundingClientRect();return t?i.left-a.right:a.left-i.right}(n.children,o),s=(o?n.lastElementChild:n.firstElementChild).getBoundingClientRect().left-n.getBoundingClientRect().left+r,l=function(e){var t=e.x,n=e.scrollDirection,r=(t-e.leftElementXOffset)/(e.itemWidth+e.spacing);return 1===n?Math.floor(r):Math.ceil(r)}({x:i,scrollDirection:a,leftElementXOffset:s,itemWidth:c,spacing:u});if(c>t)return s+(1===a?l+1:l-1)*(c+u);var d=s+l*(c+u),p=Math.floor(t/(c+u)),f=Va({itemCount:p,itemWidth:c,spacing:u});return d+(f+c<=t?Va({itemCount:p+1,itemWidth:c,spacing:u}):f)/2-t/2},Ha=function(e){var t=e.children,n=e.scrollableElementPadding,r=e.dir,i=Lt.useRef(0),a=Lt.useRef(null),o=Object(vn.b)(),c=Object(vn.b)(),u=Object(vn.b)(),s=Lt.useState(!0),l=s[0],d=s[1],p=Lt.useState(!0),f=p[0],m=p[1],h=Object(bn.a)("x",a),b=Lt.useCallback((function(){var e=a.current;e&&(d(!function(e){if("ltr"===getComputedStyle(e).direction)return e.scrollLeft<=1;var t=e.scrollWidth-e.clientWidth;switch(Object(re.d)()){case"negative":return e.scrollLeft<=1-t;case"positive-ascending":return e.scrollLeft>=t-1;case"positive-descending":return e.scrollLeft<=1}}(e)),m(!function(e){var t=getComputedStyle(e).direction,n=e.scrollWidth-e.clientWidth;if("ltr"===t)return e.scrollLeft>=n-1;switch(Object(re.d)()){case"negative":return e.scrollLeft>=-1;case"positive-ascending":return e.scrollLeft<=1;case"positive-descending":return e.scrollLeft>=n-1}}(e)))}),[]),g=Lt.useMemo((function(){return Object(w.ob)(200,b)}),[b]);yn((function(){var e=requestAnimationFrame(b),t=new Na.a(Object(w.g)(200,b));return t.observe(a.current),function(){cancelAnimationFrame(e),t.disconnect()}}));var v=function(e){i.current+=e,i.current<0?i.current=0:i.current>=t.length&&(i.current=t.length-1);var n=a.current,o=n.clientWidth,c=n.scrollWidth,u="rtl"===r,s=function(e,t){var n=e.scrollWidth-e.clientWidth;if(t)switch(Object(re.d)()){case"negative":return n+e.scrollLeft;case"positive-ascending":return n-e.scrollLeft;case"positive-descending":return e.scrollLeft}return e.scrollLeft}(n,u),l=s+e*o,d=1===e?Math.min(l,c-o):Math.max(l,0),p=l===d?Ua({clientWidth:o,scrollableElement:n,currentX:s,nextX:l,scrollDirection:e,isRtl:u}):d;if(u)switch(Object(re.d)()){case"negative":return void h(-c+o+p);case"positive-ascending":return void h(c-o-p);case"positive-descending":return void h(p)}else h(p)};return Lt.createElement(Ba,null,l&&Lt.createElement(Fa,Object(Gt.a)({variant:"left","aria-label":"Previous item"},o,{onClick:function(e){e.stopPropagation(),v(-1)}}),Lt.createElement(Or,{"aria-hidden":!0})),f&&Lt.createElement(Fa,Object(Gt.a)({variant:"right","aria-label":"Next item"},c,{onClick:function(e){e.stopPropagation(),v(1)}}),Lt.createElement(wr,{"aria-hidden":!0})),Lt.createElement(qa,Object(Gt.a)({dir:r,tabIndex:-1,innerRef:a,onScroll:g,padding:n},u),Lt.Children.map(t,(function(e,t){return Lt.createElement(Da,{onFocus:function(){return v(Object(w.ib)(t-i.current))}},e)}))))},Ga=n(70),Wa=Ft("margin:0 4px;margin-bottom:8px;padding:8px;border-radius:6px !important;"),Ya=ln($i,{target:"ecz5hmt0"})("font-family:'Noto Sans';font-size:0.9em;",(function(e){var t=e.theme;return Ft("color:",Object(C.e)(t.colors.cta)?Object(Mi.e)(.6,t.colors.cta):t.colors.cta,";border-color:",Object(C.e)(t.colors.cta)?Object(Mi.e)(.6,t.colors.cta):t.colors.cta,";")})),Ja=function(e){return e.stopPropagation()},Za=function(e){var t=e.replies,n=e.onSelect,r=Object(x.a)(e,["replies","onSelect"]),i=Object(vn.b)();return Lt.createElement(ta,Object(j.a)({onSelect:n},r,i),t.map((function(e,t){var n=e.text;return Lt.createElement(Ya,{key:t,onClick:Ja,value:t,className:Wa},n.length>20?n.slice(0,20).trim()+"\u2026":n)})))},Ka=function(e){return Ft("transition-delay:",e,"ms;")},Xa=Ft("&-enter,&-appear{opacity:0;transform:translateY(8px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 100ms ease-in,transform 200ms ease-in;}&-exit{opacity:1;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(8px);transition:opacity 100ms ease-in,transform 200ms ease-in;}"),Qa=function(e){var t=e.delay,n=void 0===t?0:t,r=Object(x.a)(e,["delay"]);return Lt.createElement(Mr.a,Object(j.a)({},r,{timeout:200+n,classNames:Xa,className:Ka(n)}))},$a=function(e){return void 0===e&&(e=0),Ft("transition-delay:",e,"ms;&-enter,&-appear{opacity:0;}&-enter-active,&-appear-active{opacity:1;transition:opacity 200ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 200ms ease-out;}")},eo=function(e){var t=e.delay,n=void 0===t?0:t,r=Object(x.a)(e,["delay"]);return Lt.createElement(Mr.a,Object(j.a)({},r,{timeout:200+n,classNames:$a(n)}))},to=function(e){var t=e.slideDuration,n=e.opacityDuration,r=e.opacityDelay,i=e.theme;return Ft("&-exit{opacity:1;}&-exit-active,&-exit-done{opacity:0;transform:translateX(100%);transition:transform ",t,"ms ",i.transitions.easings.swift,",opacity ",n,"ms linear ",r,"ms;}")},no=(Object(Zt.b)((function(e){var t=e.transitionDuration,n=e.onTransitionStart,r=e.onTransitionEnd,i=e.theme,a=Object(x.a)(e,["transitionDuration","onTransitionStart","onTransitionEnd","theme"]),o=t,c=Math.floor(2/3*t),u=t-c;return Lt.createElement(Mr.a,Object(j.a)({},a,{timeout:t,onExited:r,onEntered:r,onExiting:n,onEntering:n,classNames:to({slideDuration:o,opacityDuration:c,opacityDelay:u,theme:i})}))})),function(e){return Ft("transition-delay:",e,"ms;")}),ro=function(e){return Ft("&-enter,&-appear{opacity:0;transform:translateY(30px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 300ms ",e.transitions.easings.smooth,",transform 400ms ",e.transitions.easings.smooth,";}")},io=Object(Zt.b)((function(e){var t=e.theme,n=e.delay,r=void 0===n?0:n,i=Object(x.a)(e,["theme","delay"]);return Lt.createElement(Mr.a,Object(j.a)({},i,{timeout:400+r,className:no(r),classNames:ro(t)}))})),ao=ln(ur,{target:"e1wumze50"})("width:100%;margin-bottom:",(function(e){return e.noMargin?0:8}),"px;"),oo=function(e){var t=e.reverse,n=e.noMargin,r=e.children,i=Object(x.a)(e,["reverse","noMargin","children"]);return Lt.createElement(Qa,i,Lt.createElement(ao,{reverse:t,noMargin:n},r))},co=function(e){var t=e.fill;return Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,0.58,1);animation-name:",Ht("91.67%{transform:translate(60px,0px) scale(1,1) translate(-60px,0px);}100%{transform:translate(60px,0px) scale(0.3,0.3) translate(-60px,0px);}0%{transform:translate(60px,0px) scale(1,1) translate(-60px,0px);}"),";")},Lt.createElement("circle",{cx:"30",cy:"30",r:"30",className:Ft("fill:",t,";animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("0%{opacity:0;}4.17%{opacity:1;}100%{opacity:1;}"),";")}))},uo=function(e){var t=e.fill;return Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,0.58,1);animation-name:",Ht("91.67%{transform:translate(29.5px,19px) translate(-29.5px,-19px) translate(0px,0px);}100%{transform:translate(29.5px,19px) translate(-29.5px,-19px) translate(22px,-12px);}0%{transform:translate(29.5px,19px) translate(-29.5px,-19px) translate(0px,0px);}"),";")},Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("5%{transform:translate(29.5px,19px) rotate(0deg) translate(-29.5px,-19px);}9.17%{transform:translate(29.5px,19px) rotate(30deg) translate(-29.5px,-19px);}13.33%{transform:translate(29.5px,19px) rotate(35deg) translate(-29.5px,-19px);}17.50%{transform:translate(29.5px,19px) rotate(30deg) translate(-29.5px,-19px);}25%{transform:translate(29.5px,19px) rotate(-30deg) translate(-29.5px,-19px);}29.17%{transform:translate(29.5px,19px) rotate(-33deg) translate(-29.5px,-19px);}33.33%{transform:translate(29.5px,19px) rotate(-28deg) translate(-29.5px,-19px);}44.17%{transform:translate(29.5px,19px) rotate(16deg) translate(-29.5px,-19px);}49.17%{transform:translate(29.5px,19px) rotate(17deg) translate(-29.5px,-19px);}60.83%{transform:translate(29.5px,19px) rotate(-5deg) translate(-29.5px,-19px);}65%{transform:translate(29.5px,19px) rotate(-6deg) translate(-29.5px,-19px);}76.67%{transform:translate(29.5px,19px) rotate(3deg) translate(-29.5px,-19px);}80.83%{transform:translate(29.5px,19px) rotate(3deg) translate(-29.5px,-19px);}89.17%{transform:translate(29.5px,19px) rotate(0deg) translate(-29.5px,-19px);}0%{transform:translate(29.5px,19px) rotate(0deg) translate(-29.5px,-19px);}100%{transform:translate(29.5px,19px) rotate(0deg) translate(-29.5px,-19px);}"),";")},Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,0.58,1);animation-name:",Ht("91.67%{transform:translate(29.5px,19px) scale(1,1) translate(-29.5px,-19px);}100%{transform:translate(29.5px,19px) scale(0.2,0.2) translate(-29.5px,-19px);}0%{transform:translate(29.5px,19px) scale(1,1) translate(-29.5px,-19px);}"),";")},Lt.createElement("path",{d:"M29.5,46 C32.5375661,46 35,43.5375661 35,40.5 C35,37.824954 33.090254,35.595953 30.5597766,35.1020119 C30.2168484,35.0350734 29.8625201,19 29.5,19 C29.1861978,19 28.8785336,35.02628 28.5790883,35.0767591 C25.97994,35.5149119 24,37.7762361 24,40.5 C24,43.5375661 26.4624339,46 29.5,46 Z",className:Ft("fill:",t,";animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("6.67%{opacity:0;}9.17%{opacity:1;}91.67%{opacity:1;}95.83%{opacity:0;}0%{opacity:0;}100%{opacity:0;}"),";")}))))},so=function(e){var t=e.fill,n=e.stroke;return Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,0.58,1);animation-name:",Ht("91.67%{transform:translate(29.5px,15px) translate(-29.5px,-15px) translate(0px,0px);}100%{transform:translate(29.5px,15px) translate(-29.5px,-15px) translate(22px,-8px);}0%{transform:translate(29.5px,15px) translate(-29.5px,-15px) translate(0px,0px);}"),";")},Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("4.17%{transform:translate(29.5px,15px) rotate(0deg) translate(-29.5px,-15px);}7.50%{transform:translate(29.5px,15px) rotate(30deg) translate(-29.5px,-15px);}11.67%{transform:translate(29.5px,15px) rotate(35deg) translate(-29.5px,-15px);}15.83%{transform:translate(29.5px,15px) rotate(30deg) translate(-29.5px,-15px);}24.17%{transform:translate(29.5px,15px) rotate(-30deg) translate(-29.5px,-15px);}28.33%{transform:translate(29.5px,15px) rotate(-33deg) translate(-29.5px,-15px);}32.50%{transform:translate(29.5px,15px) rotate(-28deg) translate(-29.5px,-15px);}43.33%{transform:translate(29.5px,15px) rotate(16deg) translate(-29.5px,-15px);}48.33%{transform:translate(29.5px,15px) rotate(17deg) translate(-29.5px,-15px);}60%{transform:translate(29.5px,15px) rotate(-5deg) translate(-29.5px,-15px);}64.17%{transform:translate(29.5px,15px) rotate(-6deg) translate(-29.5px,-15px);}75.83%{transform:translate(29.5px,15px) rotate(3deg) translate(-29.5px,-15px);}80%{transform:translate(29.5px,15px) rotate(3deg) translate(-29.5px,-15px);}88.33%{transform:translate(29.5px,15px) rotate(0deg) translate(-29.5px,-15px);}0%{transform:translate(29.5px,15px) rotate(0deg) translate(-29.5px,-15px);}100%{transform:translate(29.5px,15px) rotate(0deg) translate(-29.5px,-15px);}"),";")},Lt.createElement("g",{className:Ft("animation-timing-function:cubic-bezier(0,0,0.58,1);animation-name:",Ht("91.67%{transform:translate(29.5px,15px) scale(1,1) translate(-29.5px,-15px);}100%{transform:translate(29.5px,15px) scale(0.2,0.2) translate(-29.5px,-15px);}0%{transform:translate(29.5px,15px) scale(1,1) translate(-29.5px,-15px);}"),";")},Lt.createElement("path",{className:Ft("stroke:",n,";stroke-width:2;fill:",t,";animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("4.17%{opacity:0;}7.50%{opacity:1;}95.83%{opacity:1;}100%{opacity:0;}0%{opacity:0;}"),";"),d:"M18.9545455,25.5263158 C18.9545455,19.7127921 23.6759063,15 29.5,15 C35.3240937,15 40.0454545,19.7127921 40.0454545,25.5263158 C40.0454545,26.4164658 40.0454545,27.7322552 40.0454545,29.4736842 C40.0454545,32.2289394 41.3636364,34.8605184 44,37.3684211 L44,40 L29.5,40 L15,40 L15,37.3684211 C17.6363636,34.8605184 18.9545455,32.2289394 18.9545455,29.4736842 C18.9545455,27.7322552 18.9545455,26.4164658 18.9545455,25.5263158 L18.9545455,25.5263158 Z"}))))},lo=ln("svg",{target:"ejk9fwh0"})("*{animation-duration:3s;animation-iteration-count:1;animation-fill-mode:forwards;}"),po=(Object(Zt.b)((function(e){var t=e.width,n=e.height,r=e.theme,i=e.color,a=void 0===i?r.colors.text.white:i,o=e.bgColor,c=void 0===o?r.colors.notification:o;return Lt.createElement(lo,{viewBox:"0 0 60 60",width:t,height:n},Lt.createElement(co,{fill:c}),Lt.createElement(uo,{fill:a}),Lt.createElement(so,{fill:a,stroke:c}))})),function(e){return e/16+"rem"}),fo=po(16),mo=po(14),ho=po(12),bo=n(34),go={fontSize:fo,fontWeight:"bold",color:bo.text.black},vo={fontSize:mo,fontWeight:"bold",color:bo.text.black},yo={fontSize:mo,fontWeight:"normal",color:bo.text.black},Oo={fontSize:mo,fontWeight:"normal",color:bo.text.muted},_o={fontSize:ho,fontWeight:"normal",color:bo.text.black},wo={fontSize:mo,fontWeight:"normal",color:bo.text.black},jo={fontSize:mo,fontWeight:"normal",color:bo.text.white},xo={fontSize:ho,fontWeight:"normal",color:bo.error},Eo={linear:"cubic-bezier(0, 0, 1, 1)",sharp:"cubic-bezier(0.33, 0, 0, 1)",smooth:"cubic-bezier(0.33, 0, 0.67, 1)",swift:"cubic-bezier(0.14, 0, 0, 1)",spring:"cubic-bezier(0.18, 0.89, 0.32, 1.28)"},Co="2px",ko="4px",So="6px",Io="8px",To="12px",zo="0px",Mo="50%",Ao=So,Ro="0px 1px 2px "+Object(Mi.d)(.1,"rgba(0, 0, 0, 0)"),Lo="0px 0px 8px "+Object(Mi.d)(.2,"rgba(0, 0, 0, 0)"),No="0px 1px 10px "+Object(Mi.d)(.2,"rgba(0, 0, 0, 0)"),Bo="0px 0px 24px "+Object(Mi.d)(.2,"rgba(0, 0, 0, 0)"),Po="0 4px 12px "+Object(Mi.d)(.3,"rgba(0, 0, 0, 0)"),qo="0px 0px 6px 1px "+bo.webkitOutline,Do="0px",Fo="2px",Vo="4px",Uo="8px",Ho="10px",Go="12px",Wo="16px",Yo="24px",Jo=function(e){return Ft("display:inline-block;flex-shrink:0;width:1em;height:1em;font-size:",e?po(e):"inherit",";user-select:none;fill:currentColor;")},Zo=function(e){var t=e.className,n=e.size,r=e.color,i=void 0===r?"inherit":r,a=Object(x.a)(e,["className","size","color"]);return Lt.createElement("svg",Object(j.a)({color:i,className:Vt(Jo(n),t)},a))},Ko=function(e,t){return Lt.memo((function(n){return Lt.createElement(Zo,Object(j.a)({},t,n),e)}))},Xo=Ft("fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;animation-fill-mode:forwards;animation-name:",Ht("to{stroke-dashoffset:0;}"),";animation-duration:0.5s;animation-iteration-count:1;animation-timing-function:cubic-bezier(0,0,1,1);stroke-dasharray:9.7;stroke-dashoffset:9.7;"),Qo=(Ko(Lt.createElement("polyline",{className:Xo,points:"4.3,8.1 5.3,9.1 6.8,10.5 9,8.2 11.1,6.1 "}),{size:16,viewBox:"0 0 16 16"}),Ko(Lt.createElement("path",{d:"M23.7,16.7l-6,6c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-0.9-0.1-1.3l0.1-0.1l4.3-4.3H10c-0.5,0-0.9-0.4-1-0.9L9,16 c0-0.5,0.4-0.9,0.9-1l0.1,0h10.6l-4.3-4.3c-0.4-0.4-0.4-0.9-0.1-1.3l0.1-0.1c0.4-0.4,0.9-0.4,1.3-0.1l0.1,0.1l6,6 C24.1,15.7,24.1,16.2,23.7,16.7L23.7,16.7z"}),{size:32,viewBox:"0 0 32 32"})),$o=Ko(Lt.createElement("path",{d:"M18,10c0.6,0,1,0.4,1,1v9c0,1.6-1.2,3-2.7,3h-0.6c-1.5,0-2.7-1.4-2.7-3V9c0-2.2,2.1-4,4.5-4h1C20.9,5,23,6.8,23,9\tv12c0,3.9-3.1,7-7,7s-7-3.1-7-7v-8c0-0.6,0.4-1,1-1c0.6,0,1,0.4,1,1v8c0,2.8,2.2,5,5,5s5-2.2,5-5V9c0-1.1-1.1-2-2.5-2h-1\tC16.1,7,15,7.9,15,9v11c0,0.6,0.4,1,0.7,1h0.6c0.4,0,0.7-0.4,0.7-1v-9c0-0.3,0.1-0.5,0.3-0.7C17.5,10.1,17.7,10,18,10z"}),{size:32,viewBox:"0 0 32 32"}),ec=Ko(Lt.createElement("path",{d:"M12,18c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1s1,0.4,1,1C13,17.6,12.6,18,12,18z M10.5,7.1 C10.5,6.5,11.2,6,12,6s1.5,0.5,1.5,1.1c0.1,5.2-0.4,7.9-1.5,7.9S10.4,12.4,10.5,7.1z"}),{size:32,viewBox:"0 0 24 24"}),tc=ln("path",{target:"e1nep2br0"})((function(e){var t=e.collapsed;return{opacity:t?0:1,transform:"scale("+(t?0:1)+")"}})," transform-origin:50% 50%;transition:200ms ",(function(e){return e.theme.transitions.easings.spring})," 50ms;"),nc=function(e){var t=e.backgroundColor,n=e.color,r=e.filled,i=void 0!==r&&r,a=Object(x.a)(e,["backgroundColor","color","filled"]);return Lt.createElement(Zo,Object(j.a)({viewBox:"0 0 32 32"},a),Lt.createElement("path",{fill:n,d:"M12.63,26.46H8.83a6.61,6.61,0,0,1-6.65-6.07,89.05,89.05,0,0,1,0-11.2A6.5,6.5,0,0,1,8.23,3.25a121.62,121.62,0,0,1,15.51,0A6.51,6.51,0,0,1,29.8,9.19a77.53,77.53,0,0,1,0,11.2,6.61,6.61,0,0,1-6.66,6.07H19.48L12.63,31V26.46"}),Lt.createElement(tc,{collapsed:i,fill:t,d:"M19.57,21.68h3.67a2.08,2.08,0,0,0,2.11-1.81,89.86,89.86,0,0,0,0-10.38,1.9,1.9,0,0,0-1.84-1.74,113.15,113.15,0,0,0-15,0A1.9,1.9,0,0,0,6.71,9.49a74.92,74.92,0,0,0-.06,10.38,2,2,0,0,0,2.1,1.81h3.81V26.5Z"}))},rc=Ko(Lt.createElement("path",{d:"M21.3331175,12.2868932 C21.7144399,11.9043689 22.3326857,11.9043689 22.7140082,12.2868932 C23.0953306,12.6694174 23.0953306,13.2896117 22.7140082,13.6721359 L17.1904454,19.2131068 C16.8091229,19.5956311 16.1908771,19.5956311 15.8095546,19.2131068 L10.2859918,13.6721359 C9.90466939,13.2896117 9.90466939,12.6694174 10.2859918,12.2868932 C10.6673143,11.9043689 11.2855601,11.9043689 11.6668825,12.2868932 L16.5,17.1352427 L21.3331175,12.2868932 Z"}),{size:32,viewBox:"0 0 32 32",fill:"none",stroke:"none",strokeWidth:1,fillRule:"evenodd"}),ic=Ko(Lt.createElement("path",{d:"M17.4,16l5.3,5.3c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-1,0.4-1.4,0L16,17.4l-5.3,5.3c-0.4,0.4-1,0.4-1.4,0\tc-0.4-0.4-0.4-1,0-1.4l5.3-5.3l-5.3-5.3c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0\tc0.4,0.4,0.4,1,0,1.4L17.4,16z"}),{size:32,viewBox:"0 0 32 32"}),ac=Ko(Lt.createElement("path",{d:"M8,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S9.1,18,8,18z M16,18c-1.1,0-2-0.9-2-2s0.9-2,2-2\ns2,0.9,2,2S17.1,18,16,18z M24,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S25.1,18,24,18z"}),{size:32,viewBox:"0 0 32 32"}),oc=Ko(Lt.createElement("path",{d:"M6,18h12c0.6,0,1,0.4,1,1c0,0.5-0.4,0.9-0.9,1L18,20H6c-0.6,0-1-0.4-1-1c0-0.5,0.4-0.9,0.9-1L6,18h12H6z M11.4,6\nL15,9.6l-6.1,6.1C8.7,15.9,8.5,16,8.3,16l-0.1,0H6.1c-0.5,0-1-0.4-1-0.9l0-0.1v-2.1c0-0.2,0.1-0.5,0.2-0.6l0.1-0.1L11.4,6z M15.4,3.2l0.1,0.1l2.2,2.2c0.4,0.4,0.4,1,0.1,1.4L17.7,7l-2,2L12,5.3l2-2C14.3,2.9,15,2.9,15.4,3.2z"}),{size:24,viewBox:"0 0 24 24"}),cc=Ko(Lt.createElement("path",{d:"M17.6,17H7c-0.6,0-1-0.4-1-1s0.4-1,1-1h10.6l-2.3-2.3c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l4,4 c0.4,0.4,0.4,1,0,1.4l-4,4c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4L17.6,17L17.6,17z M8,12c0,0.6-0.4,1-1,1s-1-0.4-1-1V8.1 C6,7,7,6,8.1,6h15.8C25,6,26,7,26,8.1v15.8c0,1.2-1,2.1-2.1,2.1H8.1C7,26,6,25,6,23.9V20c0-0.6,0.4-1,1-1s1,0.4,1,1v3.9 C8,23.9,8.1,24,8.1,24h15.8c0.1,0,0.1-0.1,0.1-0.1V8.1C24,8.1,23.9,8,23.9,8H8.1C8.1,8,8,8.1,8,8.1V12z"}),{size:32,viewBox:"0 0 32 32"}),uc=Ko(Lt.createElement("path",{d:"M16,4c0.6,0,1.3,0.4,1.7,0.8l7.8,7.8c0.3,0.3,0.5,0.7,0.5,1.4v12c0,1.6-1.2,2.9-2.8,3L23,29H8 c-1.6,0-2.9-1.2-3-2.8L5,26V7c0-1.6,1.2-2.9,2.8-3L8,4H16z M16,6H8C7.5,6,7.1,6.4,7,6.9L7,7v19c0,0.5,0.4,0.9,0.9,1L8,27h15 c0.5,0,0.9-0.4,1-0.9l0-0.1V14h-7c-0.5,0-0.9-0.4-1-0.9l0-0.1V6z M22,12l-4-4v4H22z"}),{size:32,viewBox:"0 0 32 32"}),sc=Ko(Lt.createElement(Lt.Fragment,null,Lt.createElement("g",{className:Ft("fill:none;transform:translate(16px,16px) rotate(0deg) translate(-16px,-16px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("75%{transform:translate(16px,16px) rotate(0deg) translate(-16px,-16px);}91.67%{transform:translate(16px,16px) rotate(180deg) translate(-16px,-16px);}0%{transform:translate(16px,16px) rotate(0deg) translate(-16px,-16px);}100%{transform:translate(16px,16px) rotate(180deg) translate(-16px,-16px);}"),";")},Lt.createElement("path",{d:"M22,22 L22,26 L10,26 L10,22 L16,16 L22,22 Z M22,10 L16,16 L10,10 L10,6 L22,6 L22,10 Z",strokeLinejoin:"round",className:Ft("stroke:currentColor;stroke-width:2;")})),Lt.createElement("g",{className:Ft("transform:translate(16px,15px) scale(1,1) translate(-16px,-15px);animation-fill-mode:backwards;animation-name:",Ht("0%{transform:translate(16px,15px) scale(1,1) translate(-16px,-15px);}61.67%{transform:translate(16px,15px) scale(0,0) translate(-16px,-15px);}63.33%{transform:translate(16px,15px) scale(1,1) translate(-16px,-15px);}100%{transform:translate(16px,15px) scale(1,1) translate(-16px,-15px);}"),";animation-timing-function:cubic-bezier(0.42,0,1,1);")},Lt.createElement("polygon",{points:"12 11 20 11 16 15",className:Ft("fill:currentColor;opacity:1;animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("58.33%{opacity:1;}60%{opacity:0;}91.67%{opacity:0;}96.67%{opacity:1;}0%{opacity:1;}100%{opacity:1;}"),";")})),Lt.createElement("path",{d:"M16,17 L16,23",className:Ft("stroke:currentColor;stroke-width:2;stroke-dashoffset:12;stroke-dasharray:6,0,6,6;animation-fill-mode:backwards,backwards;animation-timing-function:cubic-bezier(0.42,0,1,1),cubic-bezier(0,0,1,1);animation-name:",Ht("0%{stroke-dashoffset:12;}68.33%{stroke-dashoffset:-6;}100%{stroke-dashoffset:-6;}"),",",Ht("0%{stroke-dasharray:6,0,6,6;}100%{stroke-dasharray:6,0,6,6;}"),";")}),Lt.createElement("g",{className:Ft("transform:translate(16px,24px) translate(-16px,-24px) translate(0px,2px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("0%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,2px);}40%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,0px);}75%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,0px);}76.67%{transform:translate(16px,24px) translate(-16px,-24px) translate(-2px,0px);}78.33%{transform:translate(16px,24px) translate(-16px,-24px) translate(-4px,-1px);}81.67%{transform:translate(16px,24px) translate(-16px,-24px) translate(-8px,-6px);}83.33%{transform:translate(16px,24px) translate(-16px,-24px) translate(-8px,-8px);}85%{transform:translate(16px,24px) translate(-16px,-24px) translate(-8px,-11px);}88.33%{transform:translate(16px,24px) translate(-16px,-24px) translate(-4px,-13px);}91.67%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,-13px);}96.67%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,-11px);}100%{transform:translate(16px,24px) translate(-16px,-24px) translate(0px,-11px);}"),";")},Lt.createElement("g",{className:Ft("transform:translate(16px,24px) rotate(0deg) translate(-16px,-24px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("75%{transform:translate(16px,24px) rotate(0deg) translate(-16px,-24px);}78.33%{transform:translate(16px,24px) rotate(36deg) translate(-16px,-24px);}83.33%{transform:translate(16px,24px) rotate(90deg) translate(-16px,-24px);}91.67%{transform:translate(16px,24px) rotate(180deg) translate(-16px,-24px);}0%{transform:translate(16px,24px) rotate(0deg) translate(-16px,-24px);}100%{transform:translate(16px,24px) rotate(180deg) translate(-16px,-24px);}"),";")},Lt.createElement("g",{className:Ft("transform:translate(16px,24px) scale(1,1) translate(-16px,-24px);animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("0%{transform:translate(16px,24px) scale(1,1) translate(-16px,-24px);}40%{transform:translate(16px,24px) scale(1,1.4) translate(-16px,-24px);}68.33%{transform:translate(16px,24px) scale(1,1.6) translate(-16px,-24px);}86.67%{transform:translate(16px,24px) scale(1,1.6) translate(-16px,-24px);}88.33%{transform:translate(16px,24px) scale(1,1.4) translate(-16px,-24px);}91.67%{transform:translate(16px,24px) scale(0.8,1.3) translate(-16px,-24px);}96.67%{transform:translate(16px,24px) scale(0.45,1.6) translate(-16px,-24px);}100%{transform:translate(16px,24px) scale(0.45,1.6) translate(-16px,-24px);}"),";")},Lt.createElement("rect",{x:"10",y:"23",width:"12",height:"2",className:Ft("fill:currentColor;opacity:1;animation-fill-mode:backwards;animation-timing-function:cubic-bezier(0,0,1,1);animation-name:",Ht("75%{opacity:1;}0%{opacity:1;}100%{opacity:1;}"),";")}))))),{size:32,viewBox:"0 0 32 32",className:Ft("*{animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(0,0,1,1);}")}),lc=ln((function(e){return Lt.createElement(ti,Object(j.a)({type:"button"},e))}),{target:"e1mwfyk10"})("padding:0;border-radius:",(function(e){return e.theme.borderRadius.def}),";"),dc=ln("div",{target:"e1ykiqc40"})("display:inline-block;",(function(e){var t=e.size;return{width:t,height:t}})," &:hover{background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";}"),pc=ln("div",{target:"eg7dzwm0"})("width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:",(function(e){return e.theme.borderRadius.sm}),";background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";"),fc=(Ko(Lt.createElement("path",{d:"M6.1,22.1l5.3-4.8c0.4-0.3,1-0.3,1.3,0l3.2,2.8l6.5-5.8c0.4-0.3,1-0.3,1.3,0l2.3,2.1V9c0-0.6-0.4-1-1-1h-18 c-0.6,0-1,0.4-1,1L6.1,22.1C6.1,22,6.1,22,6.1,22.1z M8,23h8.1l-4.1-3.7L8,23z M19.1,23h5.9c0.6,0,1-0.4,1-1v-3l-3-2.7l-5.7,5.1 L19.1,23z M7.1,6h18c1.7,0,3,1.3,3,3v13c0,1.7-1.3,3-3,3h-18c-1.7,0-3-1.3-3-3V9C4.1,7.3,5.4,6,7.1,6z M15.1,16c-1.7,0-3-1.3-3-3 s1.3-3,3-3s3,1.3,3,3S16.8,16,15.1,16z M15.1,14c0.6,0,1-0.4,1-1s-0.4-1-1-1c-0.6,0-1,0.4-1,1S14.5,14,15.1,14z"}),{size:32,viewBox:"0 0 32 32"}),Ko(Lt.createElement("path",{d:"M17,13c0.5,0,1,0.5,1,1c0,4.7,0,7.3,0,8s0.3,1,1,1v0c0.6,0,1,0.5,1,1c0,0.5-0.4,0.9-0.9,1L19,25l-2,0l0,0h-3 c-0.6,0-1-0.4-1-1c0-0.5,0.4-0.9,0.9-1l0.1,0c0.7,0,1-0.3,1-1c0-1,0-4.9,0-5.9S14,15,14,15c-0.6,0-1-0.5-1-1c0-0.5,0.4-1,1-1H17z M16,7c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S14.9,7,16,7z"}),{size:32,viewBox:"0 0 32 32"})),mc=Ko(Lt.createElement("path",{d:"M5.5,6l6.5,5.7L18.5,6H5.5z M20,7.3l-7.3,6.4c-0.4,0.3-0.9,0.3-1.3,0L4,7.3V17c0,0.6,0.4,1,1,1h14 c0.6,0,1-0.4,1-1V7.3z M5,4h14c1.7,0,3,1.3,3,3v10c0,1.7-1.3,3-3,3H5c-1.7,0-3-1.3-3-3V7C2,5.3,3.3,4,5,4z"}),{size:24,viewBox:"0 0 24 24"}),hc=Ko(Lt.createElement("path",{d:"M11,22c-0.6,0-1-0.4-1-1s0.4-1,1-1h15c0.6,0,1,0.4,1,1s-0.4,1-1,1H11z"}),{size:32,viewBox:"0 0 32 32"}),bc=Ko(Lt.createElement("path",{d:"M18,10.6l1.3-1.3c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L19.4,12l1.3,1.3c0.4,0.4,0.4,1,0,1.4 c-0.4,0.4-1,0.4-1.4,0L18,13.4l-1.3,1.3c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l1.3-1.3l-1.3-1.3c-0.4-0.4-0.4-1,0-1.4 c0.4-0.4,1-0.4,1.4,0L18,10.6L18,10.6z M7,8l4.3-3.7C11.9,3.7,13,4.1,13,5v14c0,0.9-1.1,1.3-1.7,0.7L7.2,16H4c-0.6,0-1-0.4-1-1V9 c0-0.6,0.4-1,1-1H7z M11,7.4L8.3,9.7C8.1,9.9,7.9,10,7.6,10H5v4h2.6c0.3,0,0.5,0.1,0.7,0.3l2.7,2.3V7.4z"}),{size:24,viewBox:"0 0 24 24"}),gc=Ko(Lt.createElement("path",{d:"M9.1,8H12c0.6,0,1,0.4,1,1c0,0.5-0.4,0.9-0.9,1L12,10H9.1C9.1,10,9,10,9,10.1l0,0v12.8 C9,22.9,9,23,9.1,23l0,0h12.8c0.1,0,0.1,0,0.1-0.1l0,0V20c0-0.6,0.4-1,1-1c0.5,0,0.9,0.4,1,0.9l0,0.1v2.9c0,1.1-0.9,2-2,2.1l-0.2,0 H9.1c-1.1,0-2-0.9-2.1-2l0-0.2V10.1C7,9,7.9,8.1,9,8L9.1,8H12H9.1z M23,8L23,8C23,8,23.1,8,23,8L23,8c0.1,0,0.1,0,0.1,0 c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1 c0,0,0.1,0.1,0.1,0.1l-0.1-0.1c0.1,0,0.1,0.1,0.2,0.2c0,0,0,0,0,0c0,0,0,0,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1 c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0v6c0,0.6-0.4,1-1,1s-1-0.4-1-1 l0-3.6l-5.3,5.3c-0.4,0.4-0.9,0.4-1.3,0.1l-0.1-0.1c-0.4-0.4-0.4-1,0-1.4l5.3-5.3H17c-0.6,0-1-0.4-1-1s0.4-1,1-1H23z"}),{size:32,viewBox:"0 0 32 32"}),vc=Ko(Lt.createElement("path",{d:"M18.8,16.3C17.9,16.8,17,17,16,17c-1,0-1.9-0.2-2.8-0.7c-3.2,0.8-5.2,2.8-5.2,5c0,0.8,0,0.9,0,2c0,0,0,0,0.1,0\tc0.4,0.1,1,0.3,1.9,0.4c1.6,0.2,3.8,0.3,6.1,0.3s4.5-0.1,6.1-0.3c0.8-0.1,1.4-0.2,1.9-0.4c0,0,0.1,0,0.1,0v-2\tC24,19.2,21.9,17.1,18.8,16.3z M20.6,14.8c3.2,1.2,5.4,3.7,5.4,6.5v2.4c0,1.8-3.7,2.2-10,2.2S6,25.5,6,23.8c0-1.5,0-1.5,0-2.4\tc0-2.9,2.2-5.3,5.4-6.5c-0.9-1-1.4-2.4-1.4-3.8c0-3.3,2.7-6,6-6s6,2.7,6,6C22,12.5,21.5,13.8,20.6,14.8z M16,15c2.2,0,4-1.8,4-4\ts-1.8-4-4-4s-4,1.8-4,4S13.8,15,16,15z"}),{size:32,viewBox:"0 0 32 32"}),yc=ln("path",{target:"e7kg0vt0"})("fill-rule:nonzero;fill:",(function(e){return e.theme.colors.text.muted}),";"),Oc=Ko(Lt.createElement(yc,{d:"M7,10.75 L7,8.5 C7,7.675 7.675,7 8.5,7 L10.75,7 C11.1642136,7 11.5,6.66421356 11.5,6.25 L11.5,5.5 C11.5,4.67157288 12.1715729,4 13,4 C13.8284271,4 14.5,4.67157288 14.5,5.5 L14.5,6.25 C14.5,6.66421356 14.8357864,7 15.25,7 L17.5,7 C18.3284271,7 19,7.67157288 19,8.5 L19,10.75 C19,11.1642136 18.6642136,11.5 18.25,11.5 L17.5,11.5 C16.6715729,11.5 16,12.1715729 16,13 C16,13.8284271 16.6715729,14.5 17.5,14.5 L18.25,14.5 C18.6642136,14.5 19,14.8357864 19,15.25 L19,17.5 C19,18.3284271 18.3284271,19 17.5,19 L15.25,19 C14.8357864,19 14.5,18.6642136 14.5,18.25 L14.5,17.5 C14.5,16.6715729 13.8284271,16 13,16 C12.1715729,16 11.5,16.6715729 11.5,17.5 L11.5,18.25 C11.5,18.6642136 11.1642136,19 10.75,19 L8.5,19 C7.67157288,19 7,18.3284271 7,17.5 L7,15.25 C7,14.8357864 6.66421356,14.5 6.25,14.5 L5.5,14.5 C4.67157288,14.5 4,13.8284271 4,13 C4,12.1715729 4.67157288,11.5 5.5,11.5 L6.25,11.5 C6.66421356,11.5 7,11.1642136 7,10.75 Z M19,15.25 L19,17.5 C19,18.3284271 18.3284271,19 17.5,19 L15.25,19 C14.8357864,19 14.5,18.6642136 14.5,18.25 L14.5,17.5 C14.5,16.6715729 13.8284271,16 13,16 C12.1715729,16 11.5,16.6715729 11.5,17.5 L11.5,18.25 C11.5,18.6642136 11.1642136,19 10.75,19 L8.5,19 C7.67157288,19 7,18.3284271 7,17.5 L7,15.25 C7,14.8357864 6.66421356,14.5 6.25,14.5 L5.5,14.5 C4.67157288,14.5 4,13.8284271 4,13 C4,12.1715729 4.67157288,11.5 5.5,11.5 L6.25,11.5 C6.66421356,11.5 7,11.1642136 7,10.75 L7,10.3 C7.405,10.12 7.885,10 8.4775,10 C11.4775,10 11.4775,13 14.4925,13 C15.1225,13 15.6175,12.865 16.0375,12.6625 C15.9346018,13.1080984 16.0406047,13.576297 16.3254017,13.934119 C16.6101988,14.291941 17.0426753,14.5002933 17.5,14.5 L18.25,14.5 C18.6642136,14.5 19,14.8357864 19,15.25 Z"}),{size:24,viewBox:"0 0 24 24"}),_c=Ko(Lt.createElement("path",{d:"M16.9,9c0.6,0,1,0.4,1,1l0,0.1l-0.8,9c0,0.5-0.5,0.9-1,0.9H7.9c-0.5,0-1-0.4-1-0.9l-0.8-9 C6,9.5,6.5,9,7,9l0,0L16.9,9z M14,3c0.6,0,0.9,0.5,1,1l0,1h3c0.5,0,0.9,0.4,1,0.9L19,6c0,0.5-0.4,0.9-0.9,1L18,7H6C5.4,7,5,6.6,5,6 c0-0.5,0.4-0.9,0.9-1L6,5h3l0-1c0-0.6,0.2-0.9,0.8-1l0.1,0L14,3z"}),{size:24,viewBox:"0 0 24 24"}),wc=Ko(Lt.createElement("path",{d:"M6.4,5.6l21,9.5c0.5,0.2,0.7,0.8,0.5,1.3c-0.1,0.2-0.3,0.4-0.5,0.5l-21,9.5\tc-0.5,0.2-1.1,0-1.3-0.5c-0.1-0.3-0.1-0.6,0-0.8L8.6,18L20.5,16L8.6,14.1L5.1,6.9c-0.2-0.5,0-1.1,0.5-1.3C5.8,5.5,6.1,5.5,6.4,5.6z"}),{size:32,viewBox:"0 0 32 32"}),jc=Ko(Lt.createElement("path",{d:"M16.5,21.1l-6.3,3.8C9,25.5,7.6,24.3,8.1,23l2.2-5.7l-3.8-3.7c-1-0.9-0.4-2.6,1-2.6h5.3l2.3-5.1 c0.5-1.2,2.2-1.2,2.8,0l2.3,5.1h5.4c1.4,0,2,1.7,1,2.6l-3.9,3.7l2.2,5.7c0.5,1.3-0.9,2.5-2.2,1.8L16.5,21.1z M10.5,22.3l5.3-3.1l0,0 c0.4-0.2,1-0.2,1.5,0l5.3,3.1l-1.8-4.7c-0.2-0.6,0-1.2,0.4-1.6l3.2-3h-4.4c-0.6,0-1.1-0.4-1.4-0.9l-2-4.4l-2,4.4 c-0.2,0.6-0.8,0.9-1.4,0.9H8.8l3.1,3c0.4,0.4,0.6,1,0.4,1.6L10.5,22.3z"}),{size:32,viewBox:"0 0 32 32"}),xc=Ko(Lt.createElement("path",{d:"M20,19H18.56c-.35.5-.91,1.35-1.64,2.53a3.75,3.75,0,0,0-.24.44,6.74,6.74,0,0,0-.52,2.42C16,26.18,15.49,27,14,27c-1.66,0-2.74-1.2-3-3V19H8c-3,0-3.64-2.26-2.4-6.65S7.58,7,11,7h6a1.11,1.11,0,0,1,.75.3L19.48,9H20V9a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1V19a1,1,0,0,1-1,1H21a1,1,0,0,1-1-1Zm0-2V11h-.94a1,1,0,0,1-.71-.3L16.65,9H11c-2.38,0-2.45.15-3.51,3.9C6.58,16.21,6.75,17,8,17h4a1,1,0,0,1,1,1v5.92c.12.81.46,1.07,1,1.08a4.54,4.54,0,0,0,.12-.81,8.39,8.39,0,0,1,.69-3.06q.17-.33.36-.66a34.1,34.1,0,0,1,2.07-3.11,1,1,0,0,1,.76-.36Zm4,1V10H22v8Z"}),{size:32,viewBox:"0 0 32 32"}),Ec=Ko(Lt.createElement("path",{d:"M11,14h1.47c.35-.5.9-1.35,1.64-2.53a3.68,3.68,0,0,0,.23-.44,6.34,6.34,0,0,0,.52-2.42C15.05,6.82,15.51,6,17,6c1.66,0,2.65,1.06,2.92,2.86V14h3c3,0,3.76,2.26,2.51,6.65S23.35,26,19.93,26H14a1,1,0,0,1-.71-.3L11.55,24H11v0a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V14a1,1,0,0,1,1-1h4a1,1,0,0,1,1,1Zm0,2v6h1a1,1,0,0,1,.7.3L14.37,24H20c2.37,0,2.44-.15,3.51-3.9.94-3.31.68-4.1-.6-4.1h-4A1,1,0,0,1,18,15V9.08C17.87,8.27,17.54,8,17,8a5.27,5.27,0,0,0-.13.81,8.19,8.19,0,0,1-.69,3.06,5.37,5.37,0,0,1-.36.66,34.81,34.81,0,0,1-2.06,3.11A1,1,0,0,1,13,16ZM7,15v8H9V15Z"}),{size:32,viewBox:"0 0 32 32"}),Cc=Ko(Lt.createElement("path",{d:"M8.7,15.2c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l5.7,5.7c0.4,0.4,1,0.4,1.4,0l9.9-9.9 c0.4-0.4,0.4-1,0-1.4c-0.4-0.4-1-0.4-1.4,0l-9.2,9.2L8.7,15.2z"}),{size:32,viewBox:"0 0 32 32"}),kc=Ko(Lt.createElement("path",{d:"M15,19v-2c2.8,0,5-2.2,5-5s-2.2-5-5-5V5c3.9,0,7,3.1,7,7S18.9,19,15,19z M15,16v-2c1.1,0,2-0.9,2-2s-0.9-2-2-2 V8c2.2,0,4,1.8,4,4S17.2,16,15,16z M7,8l4.3-3.7C11.9,3.7,13,4.1,13,5v14c0,0.9-1.1,1.3-1.7,0.7L7.2,16H4c-0.6,0-1-0.4-1-1V9 c0-0.6,0.4-1,1-1H7z M11,7.4L8.3,9.7C8.1,9.9,7.9,10,7.6,10H5v4h2.6c0.3,0,0.5,0.1,0.7,0.3l2.7,2.3V7.4z"}),{size:24,viewBox:"0 0 24 24"}),Sc=ln(ti,{target:"eed86ay0"})("padding:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;",(function(e){var t=e.size;return{width:t,height:t}})),Ic=function(e){var t=e.buttonSize,n=void 0===t?32:t,r=e.iconSize,i=void 0===r?24:r,a=Object(x.a)(e,["buttonSize","iconSize"]);return Lt.createElement(Sc,Object(j.a)({size:n},a),Lt.createElement(dc,{size:i},Lt.createElement(ic,{size:i})))},Tc=ln("div",{target:"e1viqdiv0"})("margin:8px 16px;background:",(function(e){return e.theme.colors.surface.light}),";box-shadow:",(function(e){return e.theme.boxShadow.sm}),";",(function(e){var t=e.stickToEdge,n=void 0!==t&&t,r=e.theme;return{marginBottom:n?"0":"8px",borderRadius:n?r.borderRadius.md+" "+r.borderRadius.md+" "+r.borderRadius.none+" "+r.borderRadius.none:r.borderRadius.md,"@media (orientation: landscape)":{maxWidth:"50%",margin:n?"0 auto":"0 auto 8px"}}})),zc=(n(141),ln("div",{target:"erkouar0"})("max-width:300px;max-height:300px;")),Mc=ln("img",{target:"erkouar1"})("display:block;width:auto;height:auto;max-width:100%;max-height:100%;"),Ac=function(e){var t=e.url,n=e.name;return Lt.createElement(zc,null,Lt.createElement(Mc,{alt:n,src:t}))},Rc=n(36),Lc=n.n(Rc),Nc=function(e){return e.stopPropagation()},Bc=Ft("color:inherit;"),Pc=function(e){var t=e.children,n=Object(x.a)(e,["children"]);return Lt.createElement("a",Object(j.a)({},n,{onClick:Nc,className:Bc,rel:"nofollow noopener",target:"_blank"}),t)},qc=function(e){var t=e.text,n=e.url;return Lt.createElement(Si,null,n?Lt.createElement(Pc,{href:n},t):Lt.createElement(Lc.a,{component:Pc},t))},Dc=function(e){return"smooth"===e.name?Ft("color:",e.colors.text.black,";background-color:",e.colors.grayscale[100],";"):Ft("color:",e.colors.text.muted,";")},Fc=Object(Zt.b)((function(e){var t=e.text,n=e.url,r=e.theme,i=e.radiusType,a=void 0===i?"single":i,o=e.draft,c=void 0!==o&&o;return Lt.createElement(Wr,{radiusType:a,className:Vt(c&&Dc(r))},Lt.createElement(qc,{text:t,url:n}))}));var Vc=Ht("0%{transform:rotate(-90deg);}100%{transform:rotate(270deg);}"),Uc=ln("circle",{target:"e5pj4iq0"})("animation-duration:1s;transform-origin:center;animation-name:",(function(e){return t=e.animationFactor,Ht("0%{stroke-dasharray:",22*t," ",1e3*t,";}50%{stroke-dasharray:",88*t," ",1e3*t,";}100%{stroke-dasharray:",22*t," ",1e3*t,";}");var t}),",",Vc,";animation-iteration-count:infinite;animation-timing-function:linear;"),Hc=ln("circle",{target:"e5pj4iq1"})("stroke-dasharray:130;transform-origin:center;transform:rotate(-90deg);transition:stroke-dashoffset 100ms ",(function(e){return e.theme.transitions.easings.linear}),";"),Gc={r:"28",cx:"32",cy:"32",fill:"none",strokeLinecap:"round"},Wc={small:{sideLength:16,strokeWidth:2},medium:{sideLength:24,strokeWidth:3},large:{sideLength:32,strokeWidth:4},xlarge:{sideLength:56,strokeWidth:4}},Yc=ln("svg",{target:"e5pj4iq2"})(),Jc=Object(Zt.b)((function(e){var t=e.size,n=e.theme,r=e.adjustToColor,i=void 0===r?n.colors.surface.light:r,a=e.ariaLabel,o=e.progress,c=Object(x.a)(e,["size","theme","adjustToColor","ariaLabel","progress"]),u=Object(C.e)(n.colors.cta)?Object(Mi.e)(.6,n.colors.cta):n.colors.cta,s=Object(C.e)(i)?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)",l=Object(C.e)(i)?u:n.colors.text.white,d=Wc[t],p=d.sideLength,f=d.strokeWidth,m=a?{"aria-labelledby":"loader-label"}:{},h=Object(vn.b)();return Lt.createElement(Yc,Object(j.a)({height:p+"px",width:p+"px",viewBox:"0 0 64 64",role:"img"},m,c,h),a&&Lt.createElement("title",{id:"loader-label"},a),Lt.createElement("circle",Object(j.a)({},Gc,{strokeWidth:f,stroke:s,vectorEffect:"non-scaling-stroke"})),void 0===o?Lt.createElement(Uc,Object(j.a)({},Gc,{strokeWidth:f,stroke:l,vectorEffect:"non-scaling-stroke",animationFactor:p/56})):Lt.createElement(Hc,Object(j.a)({},Gc,{strokeWidth:f,stroke:l,vectorEffect:"non-scaling-stroke",style:{strokeDashoffset:130-65*o}})))})),Zc=function(e){return Ft("color:",e.colors.grayscale[500],";background-color:",e.colors.grayscale[100],";")},Kc=function(e,t,n){return e?t.grayscale[100]:n},Xc=ln("button",{displayType:"Button",target:"esv0owm0"})("font-size:inherit;font-weight:bold;border:0;font-family:inherit;width:100%;max-width:320px;flex-shrink:0;cursor:pointer;display:flex;justify-content:center;align-items:center;",(function(e){var t=e.capitalize,n=e.textColor,r=e.backgroundColor,i=e.disabled,a=e.dark,o=e.theme,c=o.spaceBase,u=o.typography,s=o.borderRadius,l=o.colors;return Object(j.a)({borderRadius:s.def},u.basicContrast,{padding:1.5*c+"px",color:n,backgroundColor:""+(a?Object(Mi.a)(.2,r):Kc(i,l,r))},i?{":hover":{cursor:"default"}}:{},t?{textTransform:"capitalize"}:{})})," ",(function(e){var t=e.disabled,n=e.theme;return t&&Zc(n)})),Qc=ln("div",{target:"esv0owm1"})("display:flex;margin-left:0.5em;"),$c=ln("div",{target:"esv0owm2"})(),eu=Object(Zt.b)((function(e){var t=e.children,n=e.destructive,r=e.disabled,i=void 0!==r&&r,a=e.pending,o=void 0!==a&&a,c=e.theme,u=Object(x.a)(e,["children","destructive","disabled","pending","theme"]),s=n?c.colors.error:c.colors.cta,l=n?c.colors.text.white:c.colors.ctaText,d=Object(vn.b)();return Lt.createElement(Xc,Object(j.a)({},d,u,{disabled:i,dark:o,textColor:l,backgroundColor:s}),Lt.createElement($c,{ellipsis:!0},t),o&&Lt.createElement(Qc,{"aria-hidden":!0},Lt.createElement(Jc,{size:"small",adjustToColor:s})))})),tu=function(e){var t=e.color,n=e.backgroundColor,r=e.hoverBackgroundColor;return Ft("color:",t,";background-color:",n,";&:hover{color:",t,";background-color:",r,";}")},nu=ln(Ni,{target:"e1osmd0p0"})("padding:",(function(e){return e.theme.spaces.space3}),";overflow:hidden;font-weight:400;white-space:nowrap;text-overflow:ellipsis;border:none !important;width:100%;display:block;",(function(e){var t=e.theme,n=e.variant,r=e.disabled;return Ft("border-radius:","modern"===t.name?4:6,"px !important;",(!n||"default"===n)&&tu({color:Object(Mi.e)(.6,t.colors.cta),backgroundColor:Object(Mi.f)(.95,t.colors.cta),hoverBackgroundColor:Object(Mi.f)(.85,t.colors.cta)})," ","primary"===n&&tu({color:t.colors.ctaText,backgroundColor:t.colors.cta,hoverBackgroundColor:Object(Mi.e)(.25,t.colors.cta)})," ","danger"===n&&tu({color:t.colors.text.white,backgroundColor:t.colors.error,hoverBackgroundColor:Object(Mi.e)(.25,t.colors.error)})," ",r&&Zc(t))})),ru=ln(Ni,{target:"e1osmd0p1"})("padding:6px 4px;width:100%;height:32px;overflow:hidden;font-weight:400;white-space:nowrap;text-overflow:ellipsis;border:none;",(function(e){var t=e.theme;return tu({color:Object(Mi.e)(.6,t.colors.cta),backgroundColor:Object(Mi.c)(.02,t.colors.surface.lightVariant),hoverBackgroundColor:Object(Mi.c)(.01,t.colors.surface.lightVariant)})})),iu=ln("ul",{target:"e52g9ij0"})("list-style:none;display:flex;flex-direction:column;list-style:none;margin:0;padding:1em;",(function(e){var t=e.compact,n=e.theme;return t&&Ft("padding:",n.spaces.space3,";flex-wrap:wrap;flex-direction:row;")})),au=ln("li",{target:"e52g9ij1"})("margin-bottom:",(function(e){return e.theme.spaces.space3}),";",(function(e){return e.compact&&Ft(Wa," padding:0;flex-grow:1;")})),ou=ln("div",{target:"e7yhn050"})("background-color:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";"),cu=ln(ou,{target:"ezxewqd0"})("display:flex;overflow:hidden;flex-direction:",(function(e){return e.horizontalLayout?"row":"column"}),";width:",(function(e){return e.horizontalLayout?"100%":"230px"}),";max-width:100%;margin-bottom:0.1em;",(function(e){var t=e.theme;return"smooth"===t.name?Ft("box-shadow:",t.boxShadow.xs,";"):Ft("border:1px solid ",t.colors.divider,";")}),";"),uu=ln("div",{target:"ezxewqd1"})("display:flex;flex-direction:column;width:230px;min-width:0%;max-width:100%;color:",(function(e){return e.theme.colors.text.black}),";",(function(e){return e.narrow&&{flex:2}})),su=ln("div",{target:"eztkvdh0"})("padding:1em;&:active{outline:none;}"),lu=ln("h2",{target:"eztkvdh1"})("margin:0;margin-bottom:4px;font-size:1em;font-weight:400;"),du=ln("p",{target:"eztkvdh2"})("margin:0;opacity:0.7;"),pu=Ft("object-fit:cover;width:100%;height:100%;"),fu=ln("div",{target:"ex5d4ma0"})("overflow:hidden;",(function(e){var t=e.horizontalLayout,n=e.theme;return t?Ft("flex:1;height:100%;border-top-left-radius:",n.borderRadius.md,";border-bottom-left-radius:",n.borderRadius.md,";"):Ft("width:100%;height:150px;border-top-left-radius:",n.borderRadius.md,";border-top-right-radius:",n.borderRadius.md,";")})),mu=function(e){var t=e.url,n=e.link,r=e.horizontalLayout,i=e.alternativeText,a=void 0===i?"":i,o=Lt.createElement(fu,{horizontalLayout:r},Lt.createElement(qr,{alt:a,src:t,className:pu}));return n?Lt.createElement("a",{href:n,onClick:function(e){return e.preventDefault()},rel:"noopener noreferrer nofollow",target:"_blank"},o):o},hu=Ft("padding-top:0.5em;"),bu=Ft("padding-bottom:0.5em;"),gu=function(e){var t=e.card,n=e.onButtonClick,r=void 0===n?w.S:n,i=e.compactButtons,a=void 0!==i&&i,o=e.horizontalLayout,c=void 0!==o&&o,u=Object(x.a)(e,["card","onButtonClick","compactButtons","horizontalLayout"]),s=Object(vn.b)(),l=Lt.useRef(null),d=function(e){return e.buttons?Object(j.a)({},e,{buttons:e.buttons.map((function(e){switch(e.type){case"phone":e.type;var t=e.value,n=e.role,r=Object(x.a)(e,["type","value","role"]);return Object(j.a)({},r,{href:"tel:"+t,target:"_parent",variant:n});case"url":e.type;var i=e.value,a=e.role,o=Object(x.a)(e,["type","value","role"]);return"invitation"in e?Object(j.a)({},o,{variant:a}):Object(j.a)({},o,{href:i,target:"_blank",variant:a});default:if("value"in e){e.type,e.value;var c=e.role,u=Object(x.a)(e,["type","value","role"]);return Object(j.a)({},u,{variant:c})}e.type;var s=e.role,l=Object(x.a)(e,["type","role"]);return Object(j.a)({},l,{variant:s})}}))}):e}(t),p=d.title,f=d.subtitle,m=d.image,h=d.buttons,b=void 0===h?[]:h,g=p||f,v=a&&b.length>3;return Lt.createElement(cu,Object(j.a)({innerRef:l,horizontalLayout:c},u),m&&Lt.createElement(mu,Object(j.a)({},m,{horizontalLayout:c})),Lt.createElement(uu,{narrow:m&&c},g&&Lt.createElement(su,Object(j.a)({className:Vt(!Object(w.D)(b)&&bu)},s),p&&Lt.createElement(lu,{textWrap:!0,preserveLines:!0},p),f&&Lt.createElement(du,{textWrap:!0,preserveLines:!0},f)),!Object(w.D)(b)&&Lt.createElement(iu,{className:Vt(g&&hu),compact:a},(v?b.slice(0,3):b).map((function(e,t){var n=e.text,i=Object(x.a)(e,["text"]),o=n.length>20?n.slice(0,20).trim()+"\u2026":n;return Lt.createElement(au,{key:t,compact:a},Lt.createElement(nu,Object(j.a)({label:o,onClick:function(e){e.stopPropagation(),r(t)}},i)))}))),v&&Lt.createElement(N.a,null,(function(e){return Lt.createElement(ru,{label:e("show_more")})}))))},vu=ln(qr,{target:"e1f2pv4c0"})("width:100%;height:100%;display:block;object-fit:",(function(e){return e.scaleImage?"cover":"fill"}),";"),yu=ln("div",{displayName:"ImagePreview",target:"e1f2pv4c1"})("display:flex;margin:0 auto;align-items:center;justify-content:center;overflow:hidden;background:",(function(e){return e.theme.colors.divider}),";color:",(function(e){return e.theme.colors.text.black}),";",(function(e){var t=e.dimensions;return Object(j.a)({},t)})),Ou=function(e){return e.stopPropagation()},_u=function(e){var t=e.children,n=Object(x.a)(e,["children"]);return Lt.createElement("a",Object(j.a)({},n,{onClick:Ou,rel:"noopener noreferrer nofollow",target:"_blank"}),t)},wu=function(e){var t=e.link,n=e.url,r=e.width,i=e.height,a=e.maxWidth,o=e.maxHeight,c=e.srcSet,u=e.alternativeText,s=void 0===u?"":u,l=Object(x.a)(e,["link","url","width","height","maxWidth","maxHeight","srcSet","alternativeText"]),d=!!r||!!i,p=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?230:n,i=t.height,a=void 0===i?150:i,o=t.maxWidth,c=void 0===o?200:o,u=t.maxHeight,s=void 0===u?300:u,l=r/a;return r>c&&(a=(r=c)/l),a>s&&(r=(a=s)*l),{width:r,height:a}}({width:r,height:i,maxWidth:a,maxHeight:o});return Lt.createElement(_u,{href:t||n},Lt.createElement(yu,{dimensions:p},Lt.createElement(vu,Object(j.a)({},l,{alt:s,src:n,srcSet:c,scaleImage:!d}))))},ju={spaceBase:8,typography:i,colors:bo,transitions:a,borderRadius:o,boxShadow:c,spaces:u},xu=Ht("100%{opacity:0.3;}"),Eu=Object(j.a)({},ju,{borderRadius:Object(j.a)({},ju.borderRadius,{def:ju.borderRadius.md}),vars:{"primary-color":ju.colors.accent,"secondary-color":ju.colors.text.white,"tertiary-color":ju.colors.divider},ApplicationWrapper:{css:{padding:{default:"1em 1em 1em 1em",expandToEdge:"0"}}},AgentBar:{Avatar:{size:"40px"},IconButton:{css:{width:"40px",height:"40px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"6px",fontSize:po(32),opacity:{default:"1",disabled:"0.15"},color:{active:ju.colors.text.white}}},Title:{css:{fontSize:".9em",fontWeight:"bold"}},SubTitle:{css:{fontSize:"0.9em",opacity:"1"}},css:{backgroundColor:ju.colors.surface.light,zIndex:"1",color:ju.colors.text.black,padding:"1rem"}},Avatar:{size:"20px",css:{border:0}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:ju.boxShadow.xs,border:"0"}},ImagePreview:{css:{maxWidth:"200px",maxHeight:"300px",borderRadius:ju.borderRadius.md}},IconButton:{css:{padding:"0 .5em"}},Footer:{css:{fontSize:"0.65em",padding:"0.3em 0",width:"100%",textAlign:"center",backgroundColor:ju.colors.surface.lightVariant},FooterLink:{css:{textDecoration:"none",color:"#7d7d7d",padding:"0.2em",borderRadius:ju.borderRadius.md}}},MessageButtons:{css:{color:ju.colors.accent}},MessageText:{css:{fontSize:"14px"}},Message:{css:{animation:{default:"none",sending:xu+" 2s 2s forwards"},opacity:{default:"1",failed:"0.7"},color:ju.colors.text.black,justifyContent:{default:"flex-start",system:"center"}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:ju.boxShadow.xs,border:"0"}},system:{Bubble:{css:{background:"transparent",textAlign:"center",border:"0",width:"100%",boxShadow:"none"}},MessageText:{css:{padding:"0 1em"}}},fullWidth:{Content:{css:{width:"100%"}}}},MinimizedBar:{Icon:{color:"var(--primary-color)"},css:{position:"relative"}},MinimizedBubble:{Icon:{color:ju.colors.text.white},css:{position:"relative",background:{default:"var(--primary-color)",hasAvatar:"transparent"}}},Minimized:{Avatar:{css:{border:"0",backgroundColor:"transparent"}}},Invitation:{IconButton:{css:{visibility:{mobile:"visible"}}},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{border:"0"}}},TitleBar:{css:{backgroundColor:ju.colors.surface.light,color:ju.colors.text.black,fontWeight:"700!important",fontSize:"1em",textAlign:"center",height:"56px"},TitleBarTitle:{css:{fontSize:po(14)}},Avatar:{size:"30px",css:{border:"0"}}},TextComposer:{css:{fontSize:{default:"14px",mobile:"16px"},boxShadow:"0 -1em 1em rgba(0, 0, 0, 0.03)",zIndex:"1"},IconButton:{css:{opacity:{active:1,default:.4}}}},View:{css:{color:ju.colors.text.black},Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{boxShadow:ju.boxShadow.xs,border:"0"}}},SystemCard:{css:{border:"0",boxShadow:ju.boxShadow.xs,left:{default:"50%",rtl:"auto"},right:{default:"auto",rtl:"50%"},transform:{default:"translateX(-50%)",rtl:"translateX(50%)"}}}}),Cu=(Object(j.a)({},Eu,{colors:Object(j.a)({},Eu.colors,{cta:"#427fe1"})}),(new Date).toISOString(),ln("div",{target:"eyqxlol0"})("display:flex;align-items:center;justify-content:center;width:auto;min-width:1.5em;border-radius:",(function(e){return e.theme.borderRadius.xl}),";padding:0 4px;flex-shrink:0;background-color:",(function(e){return e.theme.colors.notification}),";color:",(function(e){return e.theme.colors.text.white}),";height:1.5em;line-height:1.5em;text-align:center;font-size:0.8em;box-shadow:",(function(e){return e.theme.boxShadow.xs}),";font-weight:bold;animation-name:",(function(e){return function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1.3),Ht("0%{transform:scale(",e,");}25%{transform:scale(",e,");}50%{transform:scale(",t,");}100%{transform:scale(1.0);}")}(e.minScale,e.maxScale)}),";animation-duration:0.625s;animation-timing-function:",(function(e){return e.theme.transitions.easings.spring}),";")),ku=ln("span",{target:"e1tnd1n30"})("flex-grow:1;flex-shrink:1;"),Su=ln("div",{target:"e1tnd1n31"})("display:flex;cursor:pointer;justify-content:flex-start;align-items:center;",(function(e){return e.theme.typography.basic})),Iu=ln(Cu,{target:"e1tnd1n32"})("margin:0 6px;flex-shrink:0;box-shadow:none;"),Tu=function(e){var t=e.unseenCount,n=e.text,r=e.stickToEdge,i=e.onClose,a=e.onClick,o=Object(x.a)(e,["unseenCount","text","stickToEdge","onClose","onClick"]);return Lt.createElement(Tc,Object(j.a)({stickToEdge:r},o),Lt.createElement(Su,{onClick:a},Lt.createElement(Iu,null,t<100?t:"99+"),Lt.createElement(ku,{ellipsis:!0},n),Lt.createElement(Ic,{onClick:function(e){e.stopPropagation(),i()}})))},zu=ln(lc,{target:"e241ssi0"})("width:",po(24),";height:",po(24),";border-radius:",(function(e){return e.theme.borderRadius.round}),";background:rgba(255,255,255,0.5);margin-bottom:",(function(e){return.5*e.theme.spaceBase}),"px;opacity:",(function(e){var t=e.mobile;return!Object(G.a)()||t?"1":"0"}),";&:focus{opacity:1;}"),Mu=Ft("font-size:",po(24),";"),Au=function(e){var t=e.mobile,n=void 0!==t&&t,r=e.onClick,i=Object(x.a)(e,["mobile","onClick"]);return Lt.createElement(zu,Object(j.a)({onClick:r,mobile:n},i),Lt.createElement(ic,{className:Mu,"aria-hidden":!0}))},Ru=ln(Yr,{displayName:"Invitation",section:!0,target:"efsb37y0"})("max-width:",(function(e){return e.maxWidth}),";width:100%;margin-bottom:8px;align-items:",(function(e){return e.reverse?"flex-end":"flex-start"}),";&:hover{",zu,"{opacity:1;}}",cu,",",Wr,"{color:",(function(e){return e.theme.colors.text.black}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";}"),Lu=ln(ur,{target:"e1svly570"})((function(e){return e.theme.typography.basic})," max-width:100%;margin-bottom:10px;cursor:pointer;box-shadow:none;"),Nu=ln(Wr,{target:"e1r3j30a0"})("width:100%;border:1px solid;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";border-color:",(function(e){return e.highlighted?e.theme.colors.cta:"transparent"}),";transition:border-color 100ms ease-in-out;",(function(e){return"modern"===e.theme.name&&{padding:0}})),Bu=ln(Si,{target:"e1r3j30a1"})("padding:",Uo,";"),Pu=function(e){var t=e.highlighted,n=e.children;return Lt.createElement(Nu,{highlighted:t},Lt.createElement(Bu,null,n))},qu=Ft("max-width:255px;cursor:pointer;"),Du=function(e){var t=e.onClick,n=e.children;return Lt.createElement(Wr,{className:qu,onClick:t},Lt.createElement(Si,null,n))},Fu=ln("input",{target:"e19y96k30"})("width:240px;flex:1;margin-bottom:1px;border:none;outline:none;font-family:inherit;color:",(function(e){return e.theme.colors.text.black}),";background-color:inherit;",(function(e){return e.theme.typography.input}),";&::placeholder{color:",(function(e){return e.theme.colors.text.muted}),";}"),Vu=function(e){return Ft("display:flex;flex-shrink:0;color:",e.colors.text.white,";background-color:",Object(C.e)(e.colors.cta)?Object(Mi.e)(.6,e.colors.cta):e.colors.cta,";transition:background-color 100ms ease-in-out;&:disabled{background-color:",e.colors.grayscale[400],";}")},Uu=Object(Zt.b)((function(e){var t=e.disabled,n=e.mobile,r=e.theme,i=e.children;return Lt.createElement(lc,{type:"submit",disabled:t,mobile:n,className:Vu(r),"aria-label":"Send a message"},i)})),Hu=["0px, 0px","0px, -8px","0px, -10px","0px, -6px","0px, -2px","0px, 3px","0px, 2px","0px, -1px"],Gu=[["0%, 66.67%, 100%","6.67%","13.33%, 20%","26.67%","33.33%","40%","46.67%","53.33%"],["0%, 6.67%, 73.33%, 100%","13.33%","20%, 26.67%","33.33%","40%","46.67%","53.33%","60%"],["0%, 13.33%, 80%, 100%","20%","26.67%, 33.33%","40%","46.67%","53.33%","60%","66.67%"]].map((function(e){return Ht(e.map((function(e,t){return e+" { transform: translate("+Hu[t]+"); }"})))})),Wu=ln("circle",{target:"epoxe490"})("transform-box:fill-box;transform-origin:50% 50%;animation-timing-function:",(function(e){return e.theme.transitions.easings.linear}),";animation-name:",(function(e){return e.animationName}),";animation-duration:",(function(e){return(e.animationDuration||1.5)+"s"}),";animation-iteration-count:",(function(e){return e.animationIterationCount||"infinite"}),";"),Yu=Object(Zt.b)((function(e){var t=e.height,n=e.width,r=e.theme,i=e.animationDuration,a=e.animationIterationCount,o=e.color,c=void 0===o?r.colors.text.black:o,u=Object(x.a)(e,["height","width","theme","animationDuration","animationIterationCount","color"]);return Lt.createElement("svg",Object(j.a)({viewBox:"0 0 60 40",height:t,width:n,fill:c},u),Gu.map((function(e,t){return Lt.createElement(Wu,{r:"6",cy:"20",key:t,cx:9+21*t,animationName:e,animationDuration:i,animationIterationCount:a})})))})),Ju=Ft("overflow:hidden;margin-bottom:0;"),Zu=Object(Zt.b)((function(e){var t=e.avatar,n=e.theme;return Lt.createElement(Ji,{avatar:t,className:Ju},Lt.createElement(Zi,null,Lt.createElement(Wr,null,Lt.createElement(Si,null,Lt.createElement(Yu,{height:"16px",width:"24px",color:n.colors.agentMessageText})))))})),Ku=function(e){var t=e.onClose,n=e.onClick,r=e.rowReverse,i=void 0!==r&&r;return Lt.createElement(Ru,null,Lt.createElement(Yr,null,Lt.createElement(ur,{reverse:i},Lt.createElement(Au,{onClick:t})),Lt.createElement(ur,{reverse:i},Lt.createElement(Du,{onClick:n},Lt.createElement(Yu,{width:"32px",height:"21px"})))))},Xu=ln(wc,{target:"e1gikzvv0"})("padding:",(function(e){return e.theme.spaces.space2}),";"),Qu=Object(N.c)((function(e,t){var n=t.type,r=t.greetingEvent,i=function(t){return e.localize(t)},a=function(){return e.setApplicationState({maximized:!0})},o=function(t){switch(n){case"message_input":return s=t,void $.y(e,B.b,s);case"email_input":var i,a,o=null==(i=r.properties)||null==(a=i.card)?void 0:a.buttons.find((function(e){return"webview"===e.type}));if(!o)return;var c=new URL(o.value);return c.searchParams.set("email",t),u={url:c.toString(),height:o.webviewHeight},void $.B(e,u);default:return}var u,s};return function(e){var t="en"===e.getApplicationState("language")?"Type your email\u2026":i("forms_email").replace(":","");return{maximize:a,localize:i,onSubmit:o,emailPhrase:t}}}))((function(e){var t=e.type,n=e.maximize,r=e.localize,i=e.onSubmit,a=e.emailPhrase,o=e.animated,c=void 0!==o&&o,u=Lt.useState(!1),s=u[0],l=u[1],d=Lt.useState(""),p=d[0],f=d[1],m=Lt.useCallback((function(){return l(!0)}),[l]),h=Lt.useCallback((function(){return l(!1)}),[l]),b=Lt.useCallback((function(e){var t=e.target;return f(t.value)}),[]),g=Lt.useCallback((function(e){e.preventDefault();var t=p.trim();t&&(n(),f(""),i(t))}),[p,n,i]),v=function(e,t,n){switch(e){case"message_input":var r=n("write_a_message");return{buttonIcon:Lt.createElement(Xu,null),inputProps:{placeholder:r,"aria-label":r}};case"email_input":return{buttonIcon:Lt.createElement(Qo,null),inputProps:{type:"email",placeholder:t,"aria-label":t}};default:return{buttonIcon:null,inputProps:{}}}}(t,a,r),y=v.inputProps,O=v.buttonIcon;return Lt.createElement(ni.a,{appear:c,component:null},Lt.createElement(oo,{delay:750},Lt.createElement(Pu,{highlighted:s},Lt.createElement("form",{onSubmit:g},Lt.createElement(ur,null,Lt.createElement(Fu,Object(j.a)({},y,{value:p,onBlur:h,onFocus:m,onChange:b})),Lt.createElement(Uu,{disabled:!p.trim()},O))))))})),$u=function(e,t,n){return void 0===n&&(n=[]),e.buttons?Object(j.a)({},e,{buttons:e.buttons.map((function(e){return Object(j.a)({},e,{disabled:t||!!Object(w.m)((function(t){return t===e.type}),n)})}))}):e},es=function(e){var t=e.card,n=e.disabledButtons,r=e.eventId,i=e.compactButtons,a=e.onActionButtonClick,o=Object(x.a)(e,["card","disabledButtons","eventId","compactButtons","onActionButtonClick"]),c=Lt.useState(!1),u=c[0],s=c[1];return Lt.useEffect((function(){if(u){var e=setTimeout((function(){s(!1)}),1e3);return function(){return clearTimeout(e)}}}),[u]),Lt.createElement(gu,Object(j.a)({card:$u(t,u,n),onButtonClick:function(e){s(!0),a({button:t.buttons[e],event:r})},compactButtons:i},o))},ts=Object(Zt.b)((function(e){var t,n,r=e.theme,i=Object(x.a)(e,["theme"]);return r&&"modern"===r.name&&(t=150,n=250),Lt.createElement(wu,Object(j.a)({maxWidth:t,maxHeight:n},i))})),ns=ln("span",{target:"e1vbunaw0"})("font-size:2.5em;"),rs=function(e){var t=e.event,n=e.radiusType;return Lt.createElement(Wr,{radiusType:n},Lt.createElement(Si,null,Lt.createElement(ns,null,t.properties.text)))},is=function(e){function t(){return e.apply(this,arguments)||this}Object(Rt.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t,n){n&&this._messageListContext.scrollToBottom()},n.getSnapshotBeforeUpdate=function(e){return!this.shouldRenderPreview(e)&&this.shouldRenderPreview()&&this._messageListContext.isScrollOnBottom()},n.shouldRenderPreview=function(e){return void 0===e&&(e=this.props),Boolean(e.urlPreview.properties.title)},n.render=function(){var e=this;return Lt.createElement(oi,null,(function(t){e._messageListContext=t;var n=e.props,r=n.urlPreview.properties,i=n.radiusType,a=Object(w.Z)(["url","link"],r.image);return e.shouldRenderPreview()?Lt.createElement(Wr,{radiusType:i},Lt.createElement(ts,a),Lt.createElement(ki,{subtitle:r.description,title:r.title})):Lt.createElement(Wr,{radiusType:i},Lt.createElement(qc,{text:r.text}))}))},t}(Lt.Component),as=Object(Zt.b)((function(e){var t=e.event,n=e.mobile,r=e.radiusType,i=e.disabledButtons,a=e.onActionButtonClick,o=e.onShow,c=void 0===o?w.S:o,u=e.theme,s=e.compactButtons,l=void 0!==s&&s,d=e.rtl,p=n&&l;switch(yn(c),t.type){case"carousel":return Lt.createElement(Ha,{dir:d?"rtl":"ltr",mobile:n,scrollableElementPadding:u.spaces.space5},t.properties.cards.map((function(e,n){return Lt.createElement(es,{key:n,card:e,horizontalLayout:p,eventId:t.id,compactButtons:l,disabledButtons:i,onActionButtonClick:a})})));case"message":case"message_draft":return Lt.createElement(Fc,Object(j.a)({},t.properties,{radiusType:r,draft:"message_draft"===t.type&&null===t.serverId}));case"emoji":return Lt.createElement(rs,{event:t,radiusType:r});case"rich_message":return Lt.createElement(es,{eventId:t.id,horizontalLayout:p,card:t.properties.card,compactButtons:l,disabledButtons:i,onActionButtonClick:a});case"sticker":return Lt.createElement(Ac,t.properties);case"url_preview":return Lt.createElement(is,{radiusType:r,urlPreview:t});case"image_preview":var f=Object(w.Z)(["url","link","width","height","srcSet","alternativeText"],t.properties);return Lt.createElement(ts,f)}return null})),os=function(e){var t=e.children,n=e.screenPosition,r=e.onResize,i=e.onClick,a=e.onClose,o=Lt.useState(!0),c=o[0],u=o[1],s=Lt.useCallback((function(){return u(!1)}),[]);return Vn(s,2e3),Lt.createElement(ni.a,{appear:!0,exit:!1,component:null},c&&Lt.createElement(io,{onEnter:r},Lt.createElement(Ku,{onClose:a,onClick:i,rowReverse:"right"===n})),!c&&Lt.createElement(io,{onEnter:r,delay:400},t))},cs=Object(N.c)((function(e,t){var n=t.id,r=function(){return $.q(e)},i=function(){return $.l(e)},a=function(t){var n=t.event,r=t.button;$.n(e,n,r)};return function(e){var t=e.getApplicationState().mobile,o=e.getEvent(B.b,n),c=Object(w.d)(o),u=ae.eb(e,o);return o.properties.card&&o.properties.card.image&&(c.properties.card.image=Object(w.U)("link",o.properties.card.image)),o.properties.text&&(c.properties.text=Object(C.g)(t?70:200,o.properties.text)),{mobile:t,wasDisplayed:u,event:c,onClose:r,onShow:i,onActionButtonClick:a,screenPosition:ae.p(e),rtl:e.getApplicationState("rtl")}}}))((function(e){var t=e.wasDisplayed,n=e.onShow,r=e.onResize,i=e.event,a=e.mobile,o=e.screenPosition,c=e.onClose,u=e.onClick,s=e.onActionButtonClick,l=e.rtl,d=i.properties,p=d.quickReplies,f=d.addon,m=Object(dn.a)((function(){return!t})),h=Lt.useMemo((function(){return p&&!Object(w.D)(p)}),[p]),b=Lt.useCallback((function(e){return s({event:i.id,button:p[e]})}),[i.id,s,p]);yn((function(){m||r()})),An(r);var g=Lt.createElement(Ru,{reverse:"right"===o,maxWidth:a?"100%":"message"===i.type?"255px":"230px"},Lt.createElement(ur,{reverse:"right"===o},Lt.createElement(Au,{mobile:a,onClick:c,"aria-label":"Hide greeting"})),Lt.createElement(Lu,{reverse:"right"===o,onClick:u},Lt.createElement(as,{compactButtons:!0,event:i,mobile:a,onShow:n,onActionButtonClick:s,rtl:l})),h&&Lt.createElement(ur,{reverse:"right"===o},Lt.createElement(Za,{replies:p,onSelect:b})),(null==f?void 0:f.includes("input"))&&Lt.createElement(Lu,{reverse:"right"===o},Lt.createElement(Qu,{type:f,greetingEvent:i,animated:m})));return m?Lt.createElement(os,e,g):g})),us=function(e){return Ft("display:flex;width:",e?"24px":"32px",";height:",e?"24px":"32px",";align-items:center;justify-content:center;")},ss=ln("div",{target:"e1dmt1bi0"})("position:relative;transition:transform 200ms ",(function(e){return e.theme.transitions.easings.spring})," 50ms;",(function(e){var t=e.compact;return us(t)})," ",(function(e){return{transform:"scale("+(e.isScaled?1.25:1)+")"}})),ls=ln("div",{target:"e1dmt1bi1"})("position:absolute;z-index:1;left:0;right:0;bottom:1px;transition:opacity 150ms ",(function(e){return e.theme.transitions.easings.smooth})," 50ms;",(function(e){var t=e.compact;return us(t)})," ",(function(e){return{opacity:e.isVisible?1:0}})),ds=Object(Zt.b)((function(e){var t=e.on,n=e.theme,r=e.compact,i=void 0!==r&&r,a=Object(x.a)(e,["on","theme","compact"]),o=Lt.useState(t),c=o[0],u=o[1];return Lt.useEffect((function(){if(!t){var e=setTimeout((function(){return u(!1)}),200);return function(){return clearTimeout(e)}}u(!0)}),[t]),Lt.createElement(ss,Object(j.a)({isScaled:t,compact:i},a),Lt.createElement(nc,{filled:t,size:i?24:32,color:n.colors.minimizedIcon,backgroundColor:n.colors.minimizedBackground}),Lt.createElement(ls,{isVisible:t,compact:i},c&&Lt.createElement(Yu,{width:i?"14px":"18px",animationDuration:1,animationIterationCount:1,color:n.colors.minimizedBackground})))})),ps=ln("div",{target:"e3vrje60"})("width:5px;height:5px;border-radius:",(function(e){return e.theme.borderRadius.round}),";background-color:",(function(e){return e.theme.colors.surface.light}),";"),fs=function(e,t){return Ft("z-index:1;position:absolute;right:",e||t?-4:0,"px;top:",e||t?-4:0,"px;")},ms=function(e){var t=e.mobile,n=void 0!==t&&t,r=e.unseenEventsCount,i=void 0===r?0:r,a=e.bar;return Lt.createElement(Cu,{className:fs(n,a),minScale:i>1?1:0,maxScale:i>1?1.75:1.3},Lt.createElement(ps,null))},hs=ln("p",{target:"ejp8d810"})("margin:1em 0;"),bs=ln("div",{displayName:"MinimizedBar",section:!0,target:"e16i86ec0"})("position:relative;width:255px;height:50px;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";background:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){var t=e.theme;return[t.borderRadius.lg,t.borderRadius.lg,t.borderRadius.none,t.borderRadius.none].join(" ")}),";display:flex;padding:0 0.9em;align-items:center;&:hover{cursor:pointer;}"),gs=ln(hs,{target:"e16i86ec1"})("flex-grow:1;font-weight:700;font-size:0.9em;margin-right:",(function(e){return e.theme.spaces.space2}),";"),vs=function(e){var t=e.text,n=e.hasUnseenEvents,r=e.unseenEventsCount,i=e.onClick,a=zn(),o=a[0],c=a[1],u=Mn(i),s=Object(vn.b)();return Lt.createElement(bs,Object(j.a)({onClick:i,role:"button",tabIndex:"0","aria-label":"Open LiveChat chat widget"},u,c,s),n?Lt.createElement(ms,{bar:!0,key:r,unseenEventsCount:r}):null,Lt.createElement(gs,{ellipsis:!0},t),Lt.createElement(ds,{compact:!0,on:o,"aria-hidden":!0}))},ys=ln("div",{displayName:"MinimizedBubble",section:!0,target:"e1ybl9g10"})("display:flex;width:",(function(e){return e.mobile?"40px":"60px"}),";height:",(function(e){return e.mobile?"40px":"60px"}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";border-radius:",(function(e){return e.theme.borderRadius.round}),";background:",(function(e){return e.theme.colors.surface.lightVariant}),";justify-content:center;",(function(e){var t=e.mobile,n=e.screenPosition;return t&&Ft("margin-bottom:24px;margin-","left"===n?"right":"left",":8px;")})," &:hover{cursor:pointer;}"),Os=Ft("padding:0;width:100%;display:flex;justify-content:center;align-items:center;"),_s=function(e){var t=e.mobile,n=e.avatar,r=e.hasUnseenEvents,i=e.unseenEventsCount,a=e.screenPosition,o=e.onClick,c=zn(),u=c[0],s=c[1];return Lt.createElement(ys,Object(j.a)({mobile:t,hasAvatar:Boolean(n),screenPosition:a,onClick:o},s),r?Lt.createElement(ms,{mobile:t,key:i,unseenEventsCount:i}):null,Lt.createElement(ti,{className:Os,"aria-label":"Open LiveChat chat widget"},n?Lt.createElement(Ur,{"aria-hidden":!0,imgUrl:n,size:t?"40px":"60px"}):Lt.createElement(ds,{"aria-hidden":!0,compact:t,on:u})))},ws=ln("div",{displayName:"Minimized",section:!0,target:"eqd5v0k0"})("padding:",(function(e){return"circle"===e.minimizedType?"0.5em 0.5em 1em 1em":"0.8em 0.8em 0 0.8em"}),";max-width:100%;position:absolute;bottom:0;z-index:2;display:flex;justify-content:flex-end;align-items:flex-end;will-change:width,height,transform,opacity;backface-visibility:hidden;",(function(e){return e.position}),":0;"),js=Ft("align-items:flex-end;"),xs=Ft("order:1;"),Es=Object(N.c)((function(e){var t=e.getApplicationState(),n=t.availability,r=t.eagerFetchingMode,i=t.hasUnseenEvents,a=t.mobile,o="online"===n,c=e.getChat(B.b).active,u=ae.c(e),s=!u||ae.J(e,u)?null:u.id,l=ae.f("agentAvatar",e).enabled&&(o||c)?ae.b(B.b,e):null;return{mobile:a,visibleGreetingId:s,avatar:Object(w.x)(!1,"avatar",l),minimizedType:ae.k(e),screenPosition:ae.p(e),minimizedText:ae.j(B.b,e),hasUnseenEvents:r?e.getUnseenCount(B.b)>0:i,unseenEventsCount:r?e.getUnseenCount(B.b):i?1:0}}))((function(e){var t=e.dir,n=e.mobile,r=e.avatar,i=e.onMaximize,a=e.minimizedText,o=e.minimizedType,c=e.screenPosition,u=e.hasUnseenEvents,s=e.unseenEventsCount,l=e.visibleGreetingId,d=e.innerRef,p=void 0===d?w.S:d,f=e.onResize,m=void 0===f?w.S:f,h=null,b=null,g={reverse:"right"===c,dir:"circle"===o?"ltr":t};if(l&&(h=Lt.createElement(cs,{key:l,id:l,onClick:i,onResize:m})),"circle"===o){var v=l&&n;b=Lt.createElement(_s,{avatar:r,onClick:i,hasUnseenEvents:u,unseenEventsCount:s,mobile:v,screenPosition:c})}return"bar"===o&&(b=Lt.createElement(vs,{text:a,hasUnseenEvents:u,unseenEventsCount:s,onClick:i})),Lt.createElement(ws,{dir:t,role:"main",innerRef:p,minimizedType:o,position:c},n&&"circle"===o?Lt.createElement(Lt.Fragment,null,Lt.createElement(Yr,{className:Vt("left"===c&&xs)},Lt.createElement(ur,g,h)),Lt.createElement(Yr,{noShrink:!0},Lt.createElement(ur,g,b))):Lt.createElement(Yr,null,Lt.createElement(ur,g,h),Lt.createElement(ur,Object(j.a)({},g,{className:js}),b)))})),Cs=n(82),ks=function(e,t){var n=new Date(e);return n.toLocaleDateString()===(new Date).toLocaleDateString()?t.today(n):function(e){var t=new Date;return t.setDate(t.getDate()-1),e.toLocaleDateString()===t.toLocaleDateString()}(n)?t.yesterday(n):n.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"})},Ss=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window},Is=function(e,t,n){var r=Object(w.xb)(t).sort((function(e,t){return e.timestamp-t.timestamp})),i=Object(w.n)((function(t){return t.node===e}),r);if(i>-1)return{currentTimestamp:r[i].timestamp,previousTimestamp:i>0?r[i-1].timestamp:n}},Ts=function(e,t){var n=Lt.useRef({beginingOfTime:t,currentTimestamp:0,subscribers:[],dividers:{}}),r=function(e){var t=e.rootRef,n=e.rootMargin,r=e.threshold,i=e.intersectionHandler;if(Ss()){var a=Lt.useRef(null),o=Lt.useRef([]),c=Object(fn.a)(i);return Lt.useEffect((function(){return a.current=new IntersectionObserver((function(e,t){c.current&&c.current(e,t)}),{root:t.current,rootMargin:n,threshold:r}),o.current.forEach((function(e){return a.current.observe(e)})),o.current=[],function(){return a.current.disconnect()}}),[n,r,t,c]),Object(dn.a)((function(){return{add:function(e){a.current?a.current.observe(e):o.current.push(e)},remove:function(e){a.current?a.current.unobserve(e):o.current=o.current.filter((function(t){return t!==e}))}}}))}}({rootRef:e,intersectionHandler:function(e){var t=function(e,t,n){var r=e.filter((function(e){return e.isIntersecting})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top}))[0];if(r){var i=Is(r.target,t,n);return i&&i.previousTimestamp}var a=e.filter((function(e){return e.boundingClientRect.top<=e.rootBounds.top})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top})).reverse()[0];if(a){var o=Is(a.target,t,n);return o&&o.currentTimestamp}}(e,n.current.dividers,n.current.beginingOfTime);if(t){var r={timestamp:t,direction:t>n.current.currentTimestamp?"down":"up"};n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e(r)}))}},threshold:.2});return Lt.useEffect((function(){var e=Object(w.xb)(n.current.dividers).map((function(e){return e.timestamp})),t=Math.max.apply(Math,e.concat([n.current.beginingOfTime]));n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e({timestamp:t,direction:"up"})}))}),[]),Object(dn.a)((function(){return{add:function(e){n.current.dividers[e.timestamp]=e,r&&r.add(e.node)},remove:function(e){r&&r.remove(e.node),delete n.current.dividers[e.timestamp]},subscribe:function(e){n.current.subscribers.push(e)},unsubscribe:function(e){n.current.subscribers=n.current.subscribers.filter((function(t){return t!==e}))},setBeginingOfTime:function(e){n.current.beginingOfTime=e},currentTimestamp:function(){return n.current.currentTimestamp}}}))},zs=Lt.createContext(null),Ms=function(){return Lt.useContext(zs)},As=function(e){var t=e.children,n=e.rootRef,r=e.beginingOfTime,i=Ts(n,r);return Lt.useEffect((function(){i.setBeginingOfTime(r)})),Lt.createElement(zs.Provider,{value:i},t)},Rs=ln("span",{displayName:"DividerLabel",target:"eceo2x80"})("padding:4px 8px;font-size:12px;position:relative;padding:0 8px;&:before,&:after{content:'';width:50vw;height:0;border-top:1px solid;border-top-color:inherit;position:absolute;top:50%;}&:before{right:100%;}&:after{left:100%;}"),Ls=ln("div",{target:"e1g4em790"})("position:relative;"),Ns=ln(Rs,{target:"e1g4em791"})("color:",(function(e){return e.theme.colors.text.black}),";overflow:hidden;border:1px solid ",(function(e){return e.theme.colors.divider}),";background-color:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";padding:2px 6px;transition:opacity 150ms linear;",(function(e){return!e.visible&&Ft("opacity:0;pointer-events:none;")})),Bs=ln("span",{target:"e1g4em792"})(),Ps=function(e){return Ft("&-enter ",Bs,",&-exit ",Bs,"{position:relative;}&-enter ",Bs,"{top:","up"===e?"-2em":"2em",";}&-enter-active ",Bs,"{top:0;transition:top ",200,"ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity ",200,"ms ease-out;}&-exit ",Bs,"{top:0;position:relative;}&-exit-active ",Bs,"{top:","up"===e?"2em":"-2em",";transition:top ",200,"ms ease-out;}")};var qs=Ss()?function(e){var t=e.isUserScrollingSource,n=Object(x.a)(e,["isUserScrollingSource"]),r=Dn(t),i=Ms(),a=Lt.useState({direction:"up",timestamp:i.currentTimestamp()}),o=a[0],c=a[1];return Lt.useEffect((function(){i.subscribe(c);var e=i.currentTimestamp();return e!==o.timestamp&&c({direction:"up",timestamp:e}),function(){return i.unsubscribe(c)}}),[i]),o.timestamp?Lt.createElement(N.a,null,(function(e){var t=ks(o.timestamp,{today:function(){return e("today")},yesterday:function(){return e("yesterday")}});return Lt.createElement(Ls,null,Lt.createElement(ni.a,{component:null,childFactory:function(e){return Lt.cloneElement(e,{classNames:Ps(o.direction)})}},Lt.createElement(Mr.a,{key:t,classNames:Ps(o.direction),timeout:200},Lt.createElement(Ns,Object(j.a)({},n,{visible:r}),Lt.createElement(Bs,null,t)))))})):null}:function(){return null},Ds=function(e){var t=Ms();Lt.useEffect((function(){var n={timestamp:e.timestamp,node:e.nodeRef.current};return t.add(n),function(){t.remove(n)}}),[])},Fs=ln("div",{target:"ehmqpie0"})("height:20px;margin:16px -0.5em;text-align:center;overflow:hidden;"),Vs=function(e){var t=e.timestamp,n=Lt.useRef(null);return Ds({timestamp:t,nodeRef:n}),Lt.createElement(N.a,null,(function(e){return Lt.createElement(Fs,{innerRef:n},Lt.createElement(Rs,null,ks(t,{today:function(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},yesterday:function(){return e("yesterday")}})))}))},Us=ln("div",{displayName:"NewMessageHorizontalDivider",target:"eacid5n0"})("height:27px;margin:16px -0.5em;text-align:center;overflow:hidden;"),Hs=ln(Cu,{target:"eacid5n1"})("display:inline-flex;padding:2px 12px;font-weight:normal;box-shadow:none;height:auto;&:before,&:after{border-top:0;}"),Gs=function(e){var t=e.unseenCount,n=e.setScrollTargetNode,r=Lt.useRef(null);return yn((function(){r.current&&n(r.current)})),Lt.createElement(N.a,null,(function(e){return Lt.createElement(Us,{innerRef:r},Lt.createElement(Hs,{minScale:.9,maxScale:1.05},e(1===t?"new_message":"new_messages")))}))},Ws=ln("div",{displayName:"Divider",target:"evqzb400"})("border-top:1px solid rgba(0,0,0,0.05);margin:0 1em;margin-bottom:-1px;z-index:10;position:relative;"),Ys=ln("div",{target:"ekfrplk0"})((function(e){return e.theme.typography.basic})," color:inherit;display:flex;width:100%;flex-direction:",(function(e){return e.compact?"row":"column"}),";"),Js=ln("div",{target:"e1lbo1s40"})("display:flex;justify-content:center;flex-shrink:0;"),Zs=ln("div",{displayName:"IconLabel",target:"e1lbo1s41"})("background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border-radius:",(function(e){return e.theme.borderRadius.round}),";display:flex;justify-content:center;align-items:center;",(function(e){return{width:e.size,height:e.size}}),";"),Ks=function(e){var t=e.size,n=void 0===t?"64px":t,r=e.children,i=Object(x.a)(e,["size","children"]);return Lt.createElement(Js,null,Lt.createElement(Zs,Object(j.a)({size:n},i),r))},Xs=ln(Ks,{target:"eua2v1x0"})("margin:",(function(e){return e.compact?"0px 15px 0 0":"4px 15px 4px 0"}),";"),Qs=function(e){e.compact;var t=Object(x.a)(e,["compact"]);return Lt.createElement(Xs,t)},$s=function(e){return void 0===e&&(e=3),Ft("-webkit-line-clamp:",e,";-webkit-box-orient:vertical;-webkit-box-pack:center;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;")},el=function(e){return e.stopPropagation()},tl=ln("a",{target:"ecc17ou0"})("color:inherit;"),nl=function(e){return Lt.createElement(tl,Object(j.a)({rel:"nofollow noopener",target:"_blank",textWrap:!0},e,{onClick:el}))},rl=ln("div",{target:"e1dlrkch0"})((function(e){return $s(e.lines)}),";text-align:",(function(e){return e.compact?"left":"center"}),";margin:",(function(e){return e.compact?"0px":"0 20px 10px"}),";a{color:inherit;}"),il=function(e){var t=e.compact,n=e.text,r=Lt.useMemo((function(){return Object(ct.b)(n)}),[n]);return Lt.createElement(rl,{title:r,lines:t?4:8,compact:t},Lt.createElement(ct.a,{template:n,root:{component:Lc.a,props:{component:nl}}}))},al=function(e){var t=e.text,n=e.compact;return Lt.createElement(Ys,{compact:n},Lt.createElement(Qs,{size:"36px",compact:n},Lt.createElement(fc,null)),Lt.createElement(il,{text:t,compact:n}))},ol=function(e){var t=e.template,n=void 0===t?"":t,r=e.numberInQueue,i=e.waitingTime,a=e.compact,o=n.replace(/%number%/g,"**"+r+"**").replace(/%minutes%/g,"**"+Math.floor(i/60)+"**");return Lt.createElement(Ys,{compact:a},Lt.createElement(Qs,{size:"36px",compact:a},Lt.createElement(sc,null)),Lt.createElement(il,{text:o,compact:a}))},cl=function(){return!0},ul=Object(N.c)((function(e,t){var n=t.name,r=t.condition,i=void 0===r?cl:r;return function(e){var t=Object(ae.f)(n,e),r=t.enabled,a=Object(x.a)(t,["enabled"]);return{shouldRender:r&&i(a)}}}))((function(e){var t=e.shouldRender,n=e.children;return t?n:null})),sl=n(156),ll=function(e){return document.getElementById(e)},dl=function(e){var t=e.portalId,n=void 0===t?"app-portal":t,r=e.children,i=Lt.useState((function(){return ll(n)})),a=i[0],o=i[1];return yn((function(){a||o(ll(n))})),a?he.createPortal(r,a):null},pl=function(e){return{enter:300,exit:e+300}},fl=function(e,t){return Ft("&-enter,&-appear{background-color:rgba(0,0,0,0);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{background-color:rgba(0,0,0,0.5);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";}&-exit{background-color:rgba(0,0,0,0.5);}&-exit-active,&-exit-done{background-color:rgba(0,0,0,0);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";transition-delay:",e,"ms;}")},ml=Ft("z-index:999;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;"),hl=function(e){var t=Lt.useRef(null);return En("touchmove",t),Lt.createElement("div",Object(j.a)({ref:t,className:ml},e))},bl=Lt.memo(Object(Zt.b)((function(e){var t=e.shown,n=e.exitDelay,r=void 0===n?100:n,i=e.onClick,a=e.theme;return Lt.createElement(ni.a,{appear:!0,component:null},t&&Lt.createElement(Mr.a,{classNames:fl(r,a),timeout:pl(r)},Lt.createElement(hl,{onClick:i})))}))),gl=Ft("margin:0;background:transparent;"),vl=function(e){return Ft("position:absolute;z-index:1500;width:calc(100% - 2rem);max-width:290px;top:1em;left:50%;background:",e.colors.surface.light,";box-shadow:",e.boxShadow.lg,";padding:",1*e.spaceBase,"px;border-radius:",e.borderRadius.md,";")},yl=ln("div",{target:"e1yhh5l70"})("display:flex;flex-direction:row-reverse;"),Ol=ln("div",{target:"e1yhh5l71"})("padding:",(function(e){return 1*e.theme.spaceBase}),"px;padding-top:0;"),_l={enter:300,exit:300},wl=function(e){return Ft("&-enter{transform:translate(-50%,20%);opacity:0;}&-enter-active,&-enter-done{transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",300,"ms ",e.transitions.easings.swift,";transform:translate(-50%,0%);opacity:1;}&-exit{transform:translate(-50%,0%);opacity:1;}&-exit-active,&-exit-done{transform:translate(-50%,20%);opacity:0;transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",150,"ms ease-out 50ms;}")},jl=Lt.forwardRef((function(e,t){var n=e.onClose,r=void 0===n?w.S:n,i=e.children,a=e.theme,o=Object(x.a)(e,["onClose","children","theme"]);return function(e,t){var n=Object(fn.a)(t),r=!!t;Lt.useEffect((function(){if(r){var t=function(t){t.keyCode===e&&n.current&&n.current(t)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}}),[e,r,n])}(27,r),jn(t),Lt.createElement(sl.a,{autoFocus:!0,returnFocus:!0,crossFrame:!1,className:vl(a),ref:t,lockProps:Object(j.a)({role:"dialog","aria-modal":!0},o)},Lt.createElement(yl,null,Lt.createElement(lc,{className:gl,onClick:r,"aria-label":"Close modal"},Lt.createElement(ic,{"aria-hidden":!0}))),Lt.createElement(Ol,null,i))})),xl=Object(Zt.b)((function(e){var t=e.onClose,n=void 0===t?w.S:t,r=e.shown,i=e.children,a=e.theme,o=Object(x.a)(e,["onClose","shown","children","theme"]),c=Lt.useRef(null);return Lt.createElement(dl,null,Lt.createElement(bl,{shown:r,onClick:n,exitDelay:25}),Lt.createElement(ni.a,{component:null},r&&Lt.createElement(Mr.a,{nodeRef:c,classNames:wl(a),timeout:_l},Lt.createElement(jl,Object(j.a)({onClose:n,theme:a,ref:c},o),i))))})),El=n(28),Cl=n(153),kl=n(16),Sl=ln("form",{displayName:"Form",section:!0,target:"e1nyj5rz0"})(),Il=ln(hs,{target:"exlwksr0"})("margin:0;transition:height 100ms ",(function(e){return e.theme.transitions.easings.linear}),";overflow:hidden;",(function(e){return e.theme.typography.errorCaption})),Tl=function(e){var t=e.id,n=e.error,r=Lt.useRef(null);return Lt.useLayoutEffect((function(){var e=r.current;if(n){e.style.height="auto";var t=getComputedStyle(e).height;e.style.height="0",function(e){e.scrollTop}(e),e.style.height=t}else e.style.height="0"}),[n]),Lt.createElement(Il,{id:t,innerRef:r,role:"alert"},n)},zl=ln("label",{target:"e2zxkge0"})("width:100%;display:inline-block;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Ft("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));zl.defaultProps={textWrap:!0};var Ml=zl,Al=ln("legend",{target:"e1kph7ea0"})("padding:0;display:inline-block;width:100%;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Ft("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));Al.defaultProps={textWrap:!0};var Rl=Al,Ll=ln("div",{target:"e1oy1v900"})((function(e){return{margin:.25*e.theme.spaceBase+"px 0"}})),Nl=ln(lc,{target:"e1oy1v901"})("width:40px;height:40px;"),Bl=ln("div",{target:"e1oy1v902"})("width:",(function(e){return.75*e.theme.spaceBase}),"px;display:inline-block;"),Pl=function(e){var t=e.input,n=e.meta,r=function(e){return function(n){var r=t.value===e;n.preventDefault(),t.onChange(r?null:e)}},i="good"===t.value?"rate_me_cancel_tooltip":"rate_me_good_tooltip",a="bad"===t.value?"rate_me_cancel_tooltip":"rate_me_bad_tooltip",o=n.error&&n.touched;return Lt.createElement(N.a,null,(function(e){return Lt.createElement(Ll,null,Lt.createElement(Nl,{active:"good"===t.value,onClick:r("good"),"aria-label":e(i)},Lt.createElement(Ec,null)),Lt.createElement(Bl,null),Lt.createElement(Nl,{active:"bad"===t.value,onClick:r("bad"),"aria-label":e(a)},Lt.createElement(xc,null)),Lt.createElement(Tl,{error:o?n.error:null}))}))},ql=ln("div",{target:"egtcv0s0"})("position:relative;border:1px solid ",(function(e){return e.theme.colors.border}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";width:100%;background-color:",(function(e){return e.theme.colors.surface.light}),";transition:border-color 100ms linear;",(function(e){var t=e.focused,n=e.theme;return Object(j.a)({margin:.25*n.spaceBase+"px 0"},t?{borderColor:n.colors.accent}:{})})),Dl=ln("select",{target:"egtcv0s1"})("width:100%;-webkit-appearance:none;font-family:inherit;background-color:transparent;border:none;:focus,:active{outline:none;}::-ms-expand{display:none;}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(j.a)({},r.input,{padding:n+"px",paddingRight:"32px",":-moz-focusring":{color:"transparent",textShadow:"0 0 0 "+r.input.color}})})),Fl=Ft("position:absolute;pointer-events:none;right:0;top:calc(50% - ",16,"px);"),Vl=function(e){var t=e.onFocus,n=e.onBlur,r=Object(x.a)(e,["onFocus","onBlur"]),i=Lt.useState(!1),a=i[0],o=i[1];return Lt.createElement(ql,{focused:a},Lt.createElement(Dl,Object(j.a)({},r,{onFocus:function(e){t&&t(e),o(!0)},onBlur:function(e){n&&n(e),o(!1)}})),Lt.createElement(rc,{"aria-hidden":!0,focusable:"false",className:Fl}))},Ul=function(e){var t=e.input,n=e.meta,r=Object(x.a)(e,["input","meta"]),i=n.touched&&!!n.error;return Lt.createElement(Lt.Fragment,null,Lt.createElement(Vl,Object(j.a)({},t,r,{"aria-invalid":i||void 0})),Lt.createElement(Tl,{error:i?n.error:null}))},Hl=ln("input",{target:"e1xplv9i0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surface.light}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,i=t.borderRadius;return Object(j.a)({borderRadius:i.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})})),Gl=function(e){var t=e.value,n=e.errorMessageProps,r=e.inputRef,i=Object(x.a)(e,["value","errorMessageProps","inputRef"]);return Lt.createElement(Lt.Fragment,null,Lt.createElement(Hl,Object(j.a)({},i,{innerRef:r,value:t||""})),Lt.createElement(Tl,n))},Wl=ln("textarea",{target:"edsifzp0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surface.light}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;resize:none;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,i=t.borderRadius;return Object(j.a)({borderRadius:i.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})})),Yl=function(e){var t=e.value,n=e.errorMessageProps,r=e.textareaRef,i=Object(x.a)(e,["value","errorMessageProps","textareaRef"]);return Lt.createElement(Lt.Fragment,null,Lt.createElement(Wl,Object(j.a)({},i,{innerRef:r,value:t||""})),Lt.createElement(Tl,n))},Jl=function(e){return Lt.createElement("path",Object(j.a)({d:"M4,0.5 C2.06700338,0.5 0.5,2.06700338 0.5,4 L0.5,12 C0.5,13.9329966 2.06700338,15.5 4,15.5 L12,15.5 C13.9329966,15.5 15.5,13.9329966 15.5,12 L15.5,4 C15.5,2.06700338 13.9329966,0.5 12,0.5 L4,0.5 Z"},e))},Zl=function(e){return Lt.createElement("path",Object(j.a)({d:"M4,0 L12,0 C14.209139,-4.4408921e-16 16,1.790861 16,4 L16,12 C16,14.209139 14.209139,16 12,16 L4,16 C1.790861,16 0,14.209139 0,12 L0,4 C-4.4408921e-16,1.790861 1.790861,0 4,0 Z"},e))},Kl=function(e){return Lt.createElement("polyline",Object(j.a)({strokeWidth:"2",strokeDasharray:"10",strokeLinecap:"round",strokeLinejoin:"round",points:"5 7.90626754 7.06606709 10 12 5"},e))},Xl=function(e){return Ft("animation-iteration-count:1;animation-timing-function:",e.transitions.easings.linear,";animation-fill-mode:forwards;animation-duration:300ms;")},Ql=Ht("0%{opacity:0;}33.33%{opacity:1;}100%{opacity:1;}"),$l=Ht("0%{stroke-dashoffset:10;}33.33%{stroke-dashoffset:10;}77.78%{stroke-dashoffset:0;}100%{stroke-dashoffset:0;}"),ed=Object(Zt.b)((function(e){var t=e.className,n=e.checked,r=e.focused,i=e.theme,a=Object(x.a)(e,["className","checked","focused","theme"]);return Lt.createElement("svg",Object(j.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Vt(Ft("border-radius:",i.borderRadius.sm,";background-color:",i.colors.surface.light,";"),r&&Ft("box-shadow:",i.boxShadow.outline,";"),t)},a),Lt.createElement(Jl,{stroke:i.colors.border}),n&&Lt.createElement(Lt.Fragment,null,Lt.createElement(Zl,{fill:i.colors.accent,className:Ft(Xl(i)," animation-name:",Ql,";")}),Lt.createElement(Kl,{stroke:i.colors.text.white,className:Ft(Xl(i)," animation-name:",$l,";")})))})),td=ln("input",{target:"e81sjne0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),nd=Lt.forwardRef((function(e,t){var n=e.className,r=e.defaultChecked,i=void 0!==r&&r,a=e.checked,o=e.id,c=e.onBlur,u=void 0===c?w.S:c,s=e.onChange,l=void 0===s?w.S:s,d=e.onFocus,p=void 0===d?w.S:d,f=Object(x.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),m=Lt.useState(void 0!==a?a:i),h=m[0],b=m[1],g=Lt.useState(!1),v=g[0],y=g[1],O=Tn();void 0!==a&&h!==a&&b(a);return Lt.createElement("div",{className:Vt(Ft("display:inline-block;position:relative;height:16px;width:16px;"),n)},Lt.createElement(td,Object(j.a)({type:"checkbox",checked:h,id:o,onChange:function(e){l(e),void 0===a&&b((function(e){return!e}))},onFocus:function(e){p(e),"keyboard"===O()&&y(!0)},onBlur:function(e){u(e),y(!1)},innerRef:t},f)),Lt.createElement(ed,{"aria-hidden":!0,checked:h,focused:v,focusable:"false"}))})),rd=Object(Zt.b)((function(e){var t=e.theme,n=e.color,r=void 0===n?t.colors.border:n,i=Object(x.a)(e,["theme","color"]);return Lt.createElement("circle",Object(j.a)({fillRule:"nonzero",fill:r,cx:"8",cy:"8",r:"3.5"},i))})),id=Object(Zt.b)((function(e){var t=e.theme,n=e.color,r=void 0===n?t.colors.border:n,i=Object(x.a)(e,["theme","color"]);return Lt.createElement("circle",Object(j.a)({fillRule:"nonzero",cx:"8",cy:"8",r:"7.5",stroke:r,strokeWidth:"1"},i))})),ad=Ht("0%{transform:scale(0,0);}50%{transform:scale(1.1,1.1);}66.67%{transform:scale(1.1,1.1);}83.33%{transform:scale(0.95,0.95);}100%{transform:scale(1,1);}"),od=Ht("0%{opacity:0;}83.33%{opacity:1;}100%{opacity:1;}"),cd=function(e){return Ft("animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:",e.transitions.easings.linear,";")},ud=Object(Zt.b)((function(e){var t=e.className,n=e.checked,r=e.focused,i=e.theme,a=Object(x.a)(e,["className","checked","focused","theme"]);return Lt.createElement("svg",Object(j.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Vt(Ft("border-radius:",i.borderRadius.round,";background-color:",i.colors.surface.light,";"),r&&Ft("box-shadow:",i.boxShadow.outline,";"),t)},a),Lt.createElement(id,null),n&&Lt.createElement(Lt.Fragment,null,Lt.createElement(id,{color:i.colors.accent,className:Ft(cd(i)," animation-name:",od,";")}),Lt.createElement(rd,{color:i.colors.accent,className:Ft(cd(i)," animation-name:",ad,";transform-origin:50% 50%;")})))})),sd=ln("input",{target:"e12lg4gr0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),ld=function(e){var t=e.className,n=e.defaultChecked,r=void 0!==n&&n,i=e.checked,a=e.id,o=e.onBlur,c=void 0===o?w.S:o,u=e.onChange,s=void 0===u?w.S:u,l=e.onFocus,d=void 0===l?w.S:l,p=Object(x.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),f=Lt.useState(void 0!==i?i:r),m=f[0],h=f[1],b=Lt.useState(!1),g=b[0],v=b[1],y=Tn();void 0!==i&&m!==i&&h(i);return Lt.createElement("div",{className:Vt(Ft("display:inline-block;position:relative;height:16px;width:16px;"),t)},Lt.createElement(sd,Object(j.a)({type:"radio",checked:m,id:a,onChange:function(e){s(e),void 0===i&&h((function(e){return!e}))},onBlur:function(e){c(e),v(!1)},onFocus:function(e){d(e),"keyboard"===y()&&v(!0)},required:!0},p)),Lt.createElement(ud,{"aria-hidden":!0,checked:m,focused:g,focusable:"false"}))};var dd=function(e){var t=e.label,n=e.submitting,r=Object(x.a)(e,["label","submitting"]);return Lt.createElement(eu,Object(j.a)({pending:n,disabled:n,type:"submit"},r),Lt.createElement("span",null,t))},pd=n(269),fd={},md={submitError:!0},hd={submitting:!0},bd={values:!0},gd=Object(Cl.a)(),vd={format:function(e){return Object(w.tb)(e||"")},formatOnBlur:!0},yd=function(e){var t=e.meta,n=Object(kl.d)(),r=null;return t.submitError&&!t.dirtySinceLastSubmit?r=t.submitError:t.touched&&t.error&&(r=t.error),{validationState:r?"invalid":"valid",errorMessageProps:{error:r,id:n}}},Od=function(e,t){var n=t.name,r=t.ariaLabel,i=t.label,a=t.required,o=t.type,c=t.autoComplete,u=Object(El.d)(n,vd),s=yd(u),l=s.validationState,d=s.errorMessageProps,p=Object(pd.a)(Object(j.a)({id:n,type:o,isRequired:a,autoComplete:c,validationState:l,"aria-errormessage":d.id,label:i,"aria-label":r},u.input),e);return{inputProps:p.inputProps,labelProps:p.labelProps,errorMessageProps:d}},_d=function(){return Lt.createElement(El.c,{subscription:md},(function(e){var t=e.submitError;return Lt.createElement(Tl,{error:t||null})}))},wd=document.hasFocus?function(){return document.hasFocus()}:function(){return!1},jd=function(e){return void 0===e&&(e=Object(G.b)()),!e&&wd()},xd=ln("div",{target:"e1n7ru1l0"})("text-align:center;"),Ed=[gd],Cd=function(e){var t=e.id,n=e.children,r=e.mobile,i=e.initialValues,a=e.submitLabel,o=e.validate,c=e.onSubmit,u="form_"+t;return yn((function(){jd(r)&&function(e){var t=Object(Cl.b)(e)();if(t.length){var n=t[0],r=n.tagName;("INPUT"===r&&!Object(w.B)(n.type,["checkbox","radio"])||"TEXTAREA"===r)&&Object(kl.b)(n)}}(u)})),Lt.createElement(El.b,{decorators:Ed,initialValues:i,onSubmit:c,subscription:fd,validate:o},(function(e){var t=e.handleSubmit;return Lt.createElement(Sl,{name:u,onSubmit:t},n,Lt.createElement(_d,null),Lt.createElement(xd,null,Lt.createElement(El.c,{subscription:hd},(function(e){var t=e.submitting;return Lt.createElement(dd,{submitting:t,label:a})}))))}))},kd=ln("div",{target:"eptvlbh0"})("display:flex;flex-direction:column;width:100%;margin-bottom:",(function(e){return e.theme.spaceBase+"px"}),";"),Sd=function(e){var t=e.children,n=e.showRequiredMark,r=void 0!==n&&n,i=Object(x.a)(e,["children","showRequiredMark"]);return Lt.createElement(Ml,Object(j.a)({isRequired:r},i),"string"===typeof t?Lt.createElement(ct.a,{preserveLists:!0,template:t,root:{component:Lc.a,props:{component:nl}}}):t)},Id=function(e){var t=Lt.useRef(null),n=e.label,r=e.required,i=Od(t,e),a=i.inputProps,o=(a.type,Object(x.a)(a,["type"])),c=i.labelProps,u=i.errorMessageProps;return Lt.createElement(kd,null,n&&Lt.createElement(Sd,Object(j.a)({showRequiredMark:r},c),n),Lt.createElement(Yl,Object(j.a)({},o,{errorMessageProps:u,textareaRef:t})))},Td=ln("div",{displayName:"Tooltip",target:"ezqijrk0"})("display:inline-block;background-color:",(function(e){return e.theme.colors.surface.darkVariant}),";color:",(function(e){return e.theme.colors.text.white}),";padding:1em;position:fixed;border-radius:",(function(e){return e.theme.borderRadius.lg}),";z-index:9;font-size:0.8em;font-weight:normal;margin-top:0.5em;",(function(e){var t=e.position;return{left:t.left?t.left-10+"px":"auto",right:t.right?t.right-10+"px":"auto",top:t.top+"px"||!1,marginRight:t.right?0:"10px",marginLeft:t.left?0:"10px"}}),";"),zd=ln("svg",{displayName:"TooltipArrow",target:"ezqijrk1"})("position:absolute;fill:",(function(e){return e.theme.colors.surface.darkVariant}),";margin-top:-1.5em;",(function(e){var t=e.position,n=e.horizontalFactor,r=e.theme;return{left:t.left?n-10+("modern"===r.name?3:-1)+"px":"auto",right:t.right?n-10+("modern"===r.name?3:-1)+"px":"auto",top:"0"}}),";"),Md=ln("div",{target:"ezqijrk2"})("position:relative;"),Ad=function(e){var t=e.getBoundingClientRect(),n=t.left,r=t.right,i=t.bottom,a=window,o=a.innerWidth,c=a.pageXOffset,u=i+a.pageYOffset;return n+c>o/2?{top:u,right:o-(r+c)}:{top:u,left:n+c}},Rd=function(e){return{type:"TRIGGER_HOVER_START",position:Ad(e),targetWidth:e.offsetWidth}},Ld={permanentlyDisabled:!1,triggerHovered:!1,tooltipHovered:!1,triggerData:null},Nd=function(e,t){switch(t.type){case"DISABLE_PERMANENTLY":return Object(j.a)({},Ld,{permanentlyDisabled:!0});case"TOOLTIP_HOVER_START":return Object(j.a)({},e,{tooltipHovered:!0});case"TOOLTIP_HOVER_END":return Object(j.a)({},e,{tooltipHovered:!1});case"TRIGGER_HOVER_START":return Object(j.a)({},e,{triggerHovered:!0,triggerData:{position:t.position,targetWidth:t.targetWidth}});case"TRIGGER_HOVER_END":return Object(j.a)({},e,{triggerHovered:!1});default:return e}};var Bd=function(e){var t=e.children,n=e.label,r=e.disabled,i=void 0!==r&&r,a=e.allowTouch,o=void 0!==a&&a,c=Object(x.a)(e,["children","label","disabled","allowTouch"]),u=Lt.useReducer(Nd,Ld),s=u[0],l=s.tooltipHovered,d=s.triggerHovered,p=s.triggerData,f=s.permanentlyDisabled,m=u[1];return i&&d&&m({type:"TRIGGER_HOVER_END"}),Lt.createElement(Lt.Fragment,null,Lt.createElement("div",Object(j.a)({className:Ft("display:flex;align-items:stretch;flex-shrink:0;"),onMouseEnter:function(e){var t=e.currentTarget;i||f||m(Rd(t))},onMouseLeave:function(){return m({type:"TRIGGER_HOVER_END"})},onTouchStart:function(e){var t=e.currentTarget;return m(o?Rd(t):{type:"DISABLE_PERMANENTLY"})}},c),t),(d||l)&&p&&Lt.createElement(dl,{portalId:"tooltip-portal"},Lt.createElement(Td,{onMouseEnter:function(){return m({type:"TOOLTIP_HOVER_START"})},onMouseLeave:function(){return m({type:"TOOLTIP_HOVER_END"})},position:p.position},Lt.createElement(Md,null,Lt.createElement(zd,{horizontalFactor:p.targetWidth/2,height:"10",position:p.position,width:"16"},Lt.createElement("polygon",{points:"0,10 16,10 8,0"})),n))))},Pd=Ft("text-align:center;"),qd=Ft("font-size:inherit;"),Dd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,selectedRate:t.props.chatRate},t.handleRate=Object(w.O)((function(e){return function(){var n=t.state.selectedRate===e,r=n?null:e;t.rateChat(r),t.setState({selectedRate:r,open:!n})}})),t.closeModal=function(){t.setState({open:!1})},t.validate=function(e){if(!e.comment)return{comment:t.props.localize("survey_fill_in_required_fields")}},t.handleSubmit=function(e){t.props.rateChat({comment:e.comment}),t.closeModal()},t.getRateButtonProps=function(e){var n=t.props,r=n.chatRate;return{disabled:n.disabled,active:r===e,onClick:t.handleRate(e)}},t}Object(Rt.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.chatRate!==this.props.chatRate&&this.setState({selectedRate:this.props.chatRate})},n.rateChat=function(e){var t=this;this.props.rateChat({rate:e}).catch((function(){return t.setState({selectedRate:t.props.chatRate})}))},n.render=function(){var e=this.state,t=e.open,n=e.selectedRate,r=this.props,i=r.disabled,a=r.chatRate,o=r.mobile,c=r.localize,u=c("good"===a?"rate_me_cancel_tooltip":"rate_me_good_tooltip"),s=c("bad"===a?"rate_me_cancel_tooltip":"rate_me_bad_tooltip");return Lt.createElement(Lt.Fragment,null,Lt.createElement(Bd,{disabled:i,label:u},Lt.createElement(lc,Object(j.a)({},this.getRateButtonProps("good"),{"aria-label":u}),Lt.createElement(Ec,{className:qd,"aria-hidden":!0}))),Lt.createElement(Bd,{disabled:i,label:s},Lt.createElement(lc,Object(j.a)({},this.getRateButtonProps("bad"),{"aria-label":s}),Lt.createElement(xc,{className:qd,"aria-hidden":!0}))),Lt.createElement(xl,{shown:t,onClose:this.closeModal,"aria-labelledby":"add_rate_comment_label"},Lt.createElement(Ks,{"aria-hidden":!0},"good"===n?Lt.createElement(Ec,null):Lt.createElement(xc,null)),Lt.createElement("p",{id:"add_rate_comment_label",className:Pd},c("rate_me_add_comment")),Lt.createElement(Cd,{id:"rate_comment",mobile:o,onSubmit:this.handleSubmit,submitLabel:c("button_add_feedback"),validate:this.validate},Lt.createElement(ur,null,Lt.createElement(Id,{name:"comment",required:!0,mobile:o,ariaLabel:"Enter a rating comment"})))))},t}(Lt.Component),Fd=Object(N.c)((function(e,t){var n=t.chatId,r=function(t){var r=t.rate,i=t.comment,a={};return void 0!==r&&(a.rate=r),void 0!==i&&(a.rateComment=i),e.requestUpdateChat(n,{properties:a})};return function(e){var t=e.getChat(n),i=t.active,a=t.properties,o=a.ended;return{chatRate:a.rate,disabled:!o&&!i,iconTheme:e.getApplicationState("config").theme.iconTheme,mobile:e.getApplicationState("mobile"),rateChat:r,localize:e.localize}}}))(Dd),Vd=Ft("margin-right:0;"),Ud=ln("div",{target:"ekqutxs0"})("display:flex;align-items:center;position:relative;margin-right:0.5em;"),Hd=ln("div",{target:"ekqutxs1"})("position:absolute;",(function(e){var t=e.availability,n=e.size,r=e.theme;return{width:"small"===n?r.spaces.space4:r.spaces.space5,height:"small"===n?r.spaces.space4:r.spaces.space5,background:"online"===t?r.colors.success:r.colors.grayscale[500],border:"2px solid "+r.colors.surface.light,borderRadius:r.borderRadius.round,top:"-2px",right:"-2px"}})),Gd=function(e){var t=e.avatarUrl,n=e.availability,r=e.size,i=void 0===r?"normal":r;return Lt.createElement(Ud,null,Lt.createElement(Ur,{className:Vd,imgUrl:t,size:"small"===i?"24px":void 0}),n&&Lt.createElement(Hd,{availability:n,size:i}))},Wd=Ft("justify-content:center;"),Yd=ln("div",{target:"e10kp68a0"})("width:100%;display:flex;"),Jd=Ft(Wd," flex:1;"),Zd=Ft(Wd," min-width:auto;"),Kd=ln("img",{target:"e10kp68a1"})("height:auto;max-height:50px;"),Xd=Object(w.O)((function(e){return function(t){return t.position===e}})),Qd=function(e){var t=e.agent,n=e.chatId,r=e.showAvatar,i=e.logoPath;return Lt.createElement(Yd,null,r&&t.avatar&&Lt.createElement(Gd,{avatarUrl:t.avatar,availability:"online"}),Lt.createElement(ur,{flexFill:!0},Lt.createElement(Yr,{className:Jd,flexFill:!0},Lt.createElement(ji,{ellipsis:!0},t.name),t.properties.jobTitle&&Lt.createElement(_i,{ellipsis:!0},t.properties.jobTitle),Lt.createElement(ul,{condition:Xd("bottom"),name:"rating"},Lt.createElement(ur,null,Lt.createElement(Fd,{chatId:n})))),Lt.createElement(ul,{condition:Xd("right"),name:"rating"},Lt.createElement(Yr,{className:Wd,noShrink:!0},Lt.createElement(ur,null,Lt.createElement(Fd,{chatId:n})))),!!i&&Lt.createElement(Yr,{className:Zd},Lt.createElement(Kd,{alt:"",src:i}))))},$d=ln(fr,{target:"eraual0"})("position:relative;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";"),ep=ln("div",{displayName:"TopBar",target:"eraual1"})("position:relative;z-index:1;height:auto;bottom:0;@media (max-height:330px){display:none;}"),tp={enter:150,exit:150},np=Ft("&-enter,&-appear{transform:translateY(-100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(-100%);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}"),rp=Ft("transition:opacity 100ms ease-in-out;position:relative;"),ip=Object(N.c)((function(e,t){var n=t.chatId;return function(e){var t,r=e.getView("Chat/queue"),i=Object(ae.X)(e),a=Object(ae.ab)(e),o=Object(ae.bb)(e),c=Object(ae.f)("logo",e),u=c.enabled&&"modern"===Object(ae.t)(e);return{agent:Object(ae.b)(n,e),chatActive:e.getChat(n).active,showAvatar:Object(ae.f)("agentAvatar",e).enabled,logoPath:u?(t=c.path,"https://"+Object(z.k)(t)):null,showAgentBar:i,showOfflineInformation:a,showQueueInformation:o,offlineInformation:e.localize(e.getApplicationState("usersLimitReached")||!Object(ae.C)(e)?"agents_not_available":"agents_not_available_continuous"),hasNoVisibleEvents:Object(ae.y)(e),queueTemplate:Object(ae.n)(e),numberInQueue:r&&r.numberInQueue,waitingTime:r&&r.waitingTime,showTopBar:Object(ae.Q)(e)}}}))(Object(Zt.b)((function(e){var t=e.agent,n=e.chatId,r=e.showAvatar,i=e.logoPath,a=e.showAgentBar,o=e.scrollingDeltaSource,c=e.isOnBottomSource,u=e.showOfflineInformation,s=e.offlineInformation,l=e.hasNoVisibleEvents,d=e.showQueueInformation,p=e.queueTemplate,f=e.numberInQueue,m=e.waitingTime,h=e.showTopBar,b=Lt.useRef(),g=Lt.useRef(),v=Lt.useRef(0),y=Lt.useState(!0),O=y[0],_=y[1],j=Lt.useCallback((function(){_(!0),b.current&&(b.current.style.bottom=0,b.current.style.height="auto"),g.current&&(g.current.style.opacity=1)}),[b]);return wn(o,(function(e){var t=e.y;h&&("auto"===b.current.style.height&&(v.current=b.current.offsetHeight),1===t&&_(!1),!O&&t<1&&_(!0),b.current&&(b.current.style.bottom=t*v.current+"px",b.current.style.height=v.current-t*v.current+"px"),g.current&&(g.current.style.opacity=1-2*t))})),Lt.useEffect((function(){j()}),[h,j]),Lt.useEffect((function(){if(c)return c.subscribe((function(e){e&&j()}))}),[c,j]),Lt.useEffect((function(){b.current&&Object(w.pb)(b.current.querySelectorAll("button")).forEach((function(e){e.tabIndex=O?0:-1}))}),[O]),Lt.createElement(ep,{id:"top-bar",innerRef:b},Lt.createElement(ni.a,{appear:!0,component:null,exit:O},h&&Lt.createElement(Mr.a,{timeout:tp,classNames:np},Lt.createElement("div",null,Lt.createElement(Ws,null),Lt.createElement($d,{noShrink:!0},Lt.createElement(ur,{flexFill:!0,innerRef:g,className:rp},d&&Lt.createElement(ol,{template:p,numberInQueue:f,waitingTime:m,compact:!l}),u&&Lt.createElement(al,{compact:!l,text:s}),a&&Lt.createElement(Qd,{agent:t,chatId:n,showAvatar:r,logoPath:i})))))))}))),ap=function(e){var t=e.children;return Lt.createElement(Zi,{date:"",showMetaOnClick:!1,system:!0},Lt.createElement(Wr,null,Lt.createElement(qc,{text:t})))},op=ln(ou,{displayName:"SystemCard",target:"e1r9cm3y0"})("padding:8px;margin:2px 0;width:100%;max-width:270px;position:relative;"),cp=ln("div",{target:"e1q4zsg90"})("display:flex;flex-direction:row;position:absolute;top:-21px;left:0;right:0;color:",(function(e){return e.theme.colors.text.white}),";"),up=ln("div",{target:"e1q4zsg91"})("display:flex;justify-content:center;align-items:center;overflow:hidden;margin:0 auto;border-radius:",(function(e){return e.theme.borderRadius.round}),";width:",42,"px;height:",42,"px;background-color:",(function(e){var t=e.theme;return e.backgroundColor||t.colors.cta}),";"),sp=function(e){var t=e.children,n=e.backgroundColor;return Lt.createElement(cp,{"aria-hidden":!0},Lt.createElement(up,{backgroundColor:n},t))},lp=function(e){return Ft("margin-left:4px;margin-top:3px;fill:currentColor;transform:","scaleY("+("up"===e?-1:1)+")",";")},dp=function(e){var t=e.direction,n=void 0===t?"down":t,r=Object(x.a)(e,["direction"]);return Lt.createElement("svg",Object(j.a)({viewBox:"0 0 7 4",width:"7px",height:"4px",className:lp(n)},r),Lt.createElement("path",{d:"M1.1,0.2C0.9,0,0.5,0,0.4,0.2s-0.2,0.5,0,0.7l2.8,2.8c0.2,0.2,0.5,0.2,0.7,0l2.8-2.8c0.2-0.2,0.2-0.5,0-0.7S6.2,0,6,0.2 L3.5,2.7L1.1,0.2z"}))},pp=ln("button",{target:"eentevd0"})("display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:none;border:none;margin-top:8px;font-size:12px;text-align:center;cursor:pointer;color:",(function(e){var t=e.theme;return Object(C.e)(t.colors.cta)?Object(Mi.e)(.6,t.colors.cta):t.colors.cta}),";"),fp=ln("div",{target:"e1g195pu0"})("position:absolute;top:50%;bottom:0;left:0;right:0;pointer-events:none;background:linear-gradient(rgba(255,255,255,0),rgba(255,255,255,0.9));"),mp=ln("div",{target:"e9s6ynt0"})("position:relative;overflow:hidden;height:auto;transition:max-height 300ms ",(function(e){return e.theme.transitions.easings.swift}),";"),hp=ln("div",{target:"e1cdxu9o0"})("height:auto;padding:8px;"),bp=Object(N.c)((function(e,t){var n=t.icon,r=e.getApplicationState("config").theme;return{showIcon:!!n&&"modern"!==r.name,rtl:e.getApplicationState("rtl"),localize:e.localize}}))((function(e){var t,n,r=e.icon,i=e.showIcon,a=e.children,o=e.collapsible,c=void 0!==o&&o,u=e.defaultCollapsed,s=void 0!==u&&u,l=e.collapsedHeight,d=void 0===l?100:l,p=e.collapseThreshold,f=void 0===p?20:p,m=e.rtl,h=e.localize,b=(e.dataTestId,Lt.useRef(0)),g=Lt.useRef(!1),v=Lt.useRef(null),y=Lt.useRef(null),O=Object(vn.b)(),_=Object(vn.b)(),x=Lt.useState(!1),E=x[0],C=x[1],k=Lt.useState(c),S=k[0],I=k[1],T=Object(dn.a)(w.u),z=Object(dn.a)((function(){return c&&s?Ft("max-height:",d+"px",";"):null})),M=Lt.useCallback((function(e){y.current.style.maxHeight="number"===typeof e?e+"px":e}),[]),A=Lt.useCallback((function(){C(!E)}),[E]),R=Lt.useCallback((function(){E||M("none")}),[E,M]);return Lt.useEffect((function(){return function(){return cancelAnimationFrame(b.current)}}),[]),Lt.useEffect((function(){var e=v.current.offsetHeight,t=e>d&&e-d>f;I(t&&c),!g.current&&c&&C(t&&s),g.current=c}),[c,s,d,f]),Lt.useEffect((function(){S?(M(v.current.offsetHeight),E&&(cancelAnimationFrame(b.current),b.current=requestAnimationFrame((function(){return M(d)})))):M("none")}),[S,E,d,M]),Lt.createElement("div",{className:Vt(i&&(n="21px",Ft("padding-top:",n,";"))),role:"row"},Lt.createElement(op,Object(j.a)({rtl:m,role:"gridcell"},O),i?r:null,Lt.createElement(mp,{id:T,"aria-hidden":E,innerRef:y,onTransitionEnd:R,className:Vt(i&&(t="12px",Ft("margin-top:",t,";")),z)},Lt.createElement(hp,{innerRef:v},a),E&&Lt.createElement(fp,null)),S&&Lt.createElement(pp,Object(j.a)({onClick:A,"aria-controls":T,"aria-expanded":!E},_),Lt.createElement("span",null,h(E?"show_more":"show_less")),Lt.createElement(dp,{direction:E?"down":"up","aria-hidden":!0}))))})),gp=ln("div",{target:"e1fikopb0"})("padding-bottom:12px;",(function(e){return e.theme.typography.basic})),vp=ln(lc,{target:"e1fikopb1"})("margin:0;padding:0;display:flex;width:40px;cursor:pointer;border:1px solid;align-items:center;justify-content:center;"),yp=ln(vp,{target:"e1fikopb2"})("border-radius:",(function(e){return e.theme.borderRadius.none}),";",(function(e){var t,n=e.rtl?"Left":"Right";return Ft(((t={})["borderTop"+n+"Radius"]=6,t["borderBottom"+n+"Radius"]=6,t))})," color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.white:t.colors.ctaText}),";border:1px solid ",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";background-color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";"),Op=ln(vp,{target:"e1fikopb3"})("color:",(function(e){return e.theme.colors.text.black}),";border:none;background-color:transparent;"),_p=ln("span",{target:"e1fikopb4"})("width:100%;align-items:center;padding:8px;margin:1px;",(function(e){return e.theme.typography.input})," ",(function(e){var t=e.active,n=e.theme;return t&&Ft("color:",n.colors.cta,";")})),wp=ln("form",{target:"e1fikopb5"})("display:flex;position:relative;flex-direction:row;"),jp=ln("div",{target:"e1fikopb6"})("display:flex;justify-content:center;align-items:center;height:100%;position:absolute;padding:0 6px;color:",(function(e){return e.theme.colors.text.black}),";",(function(e){var t;return(t={})[e.rtl?"right":"left"]=0,t})),xp=function(e){var t,n=e?"Left":"Right";return Ft(((t={margin:0,minWidth:0})["padding"+(e?"Right":"Left")]=34,t["border"+n]="none",t["borderTop"+n+"Radius"]=0,t["borderBottom"+n+"Radius"]=0,t))},Ep=Object(N.c)((function(e,t){var n=t.id,r=t.chatId,i=function(t){return Object($.K)(e,{email:t}),new Promise((function(t){return e.once("customer_updated",t)}))};return function(e){var t=e.getSessionUser().email,a=e.getApplicationState().rtl,o=e.getEvent(r,n).thread,c=e.getChat(r).properties;return{rtl:a,email:t,updateSessionUserEmail:i,firstTimeMessage:e.localize("email_prompt_first_time"),confirmationMessage:e.localize("email_prompt_confirmation"),active:o===c.lastThread}}}))((function(e){var t=e.rtl,n=e.email,r=e.active,i=e.firstTimeMessage,a=e.confirmationMessage,o=e.updateSessionUserEmail,c=Lt.useRef(null),u=Lt.useState(!n),s=u[0],l=u[1],d=Lt.useState(n||""),p=d[0],f=d[1],m=Lt.useCallback((function(e){var t=e.target;f(t.value)}),[]),h=Lt.useCallback((function(e){e.preventDefault(),o(p).then((function(){return l(!1)}))}),[p,o]),b=Lt.useCallback((function(){l(!0),f(n||"")}),[n]),g=Lt.useCallback((function(){n&&l(!1)}),[n]);Object(mn.a)(c,g);var v=!n||r&&s,y=!p||p===n;return Lt.createElement(bp,null,Lt.createElement(gp,null,n?a:i),Lt.createElement(wp,{innerRef:c,onSubmit:h},v?Lt.createElement(Lt.Fragment,null,Lt.createElement(Hl,{type:"email",placeholder:"Email","aria-label":"Enter your email address",value:p,className:xp(t),onChange:m}),Lt.createElement(jp,{rtl:t},Lt.createElement(mc,{"aria-hidden":!0})),Lt.createElement(yp,{rtl:t,type:"submit",role:"button",disabled:y,"aria-label":"Submit an email"},Lt.createElement(Qo,{"aria-hidden":!0}))):Lt.createElement(Lt.Fragment,null,Lt.createElement(_p,{ellipsis:!0,active:r},n),r&&Lt.createElement(Op,{role:"button",onClick:b,"aria-label":"Edit an email"},Lt.createElement(oc,{"aria-hidden":!0})))))})),Cp=ln("div",{target:"efus62t0"})("margin-bottom:8px;a{color:inherit;}"),kp=ln("div",{target:"efus62t1"})("width:100%;margin-bottom:2px;font-size:14px;color:",(function(e){return e.theme.colors.text.muted}),";"),Sp=ln("div",{target:"efus62t2"})("width:100%;font-size:14px;color:",(function(e){return e.theme.colors.text.black}),";"),Ip=function(e){var t=e.fields;return Lt.createElement("div",null,t.map((function(e,t){var n=e.label,r=e.answer;return Lt.createElement(Cp,{key:t},Lt.createElement(kp,{textWrap:!0},Lt.createElement(ct.a,{preserveLists:!0,template:n,root:{component:Lc.a,props:{component:nl}}})),Lt.createElement(Sp,{textWrap:!0},"string"===typeof r?r:r.join(", ")))})))},Tp=function(e){function t(){return e.apply(this,arguments)||this}Object(Rt.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props,t=e.form,n=e.name,r=t.getFieldState(n);r&&r.value&&t.change(n,void 0)},n.render=function(){return this.props.children},t}(Lt.Component);var zp=function(e){var t=e.when,n=e.children;return t?Lt.createElement(El.c,{subscription:bd},(function(n){var r=n.form;return n.values[t]?Lt.createElement(Tp,Object(j.a)({},e,{form:r})):null})):Lt.createElement(Lt.Fragment,null,n)},Mp=ln("p",{target:"ecj3oet0"})("margin:0;a{color:inherit;}",(function(e){return e.theme.typography.basic})),Ap=function(e){var t=e.children;return Lt.createElement(Mp,null,"string"===typeof t?Lt.createElement(ct.a,{template:t,root:{component:Lc.a,props:{component:nl}}}):t)},Rp=n(52),Lp=n(265),Np=n(39),Bp=n(261),Pp=function(e){var t=e.children,n=e.showRequiredMark,r=void 0!==n&&n,i=Object(x.a)(e,["children","showRequiredMark"]);return Lt.createElement(Rl,Object(j.a)({isRequired:r},i),"string"===typeof t?Lt.createElement(ct.a,{preserveLists:!0,template:t,root:{component:Lc.a,props:{component:nl}}}):t)},qp=ln(ur,{target:"egdebj40"})((function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(j.a)({},r.basic,{margin:.5*n+"px 0"})})),Dp=ln(Ml,{target:"egdebj41"})((function(e){return{paddingLeft:e.theme.spaceBase+"px"}})),Fp=Ft("flex-shrink:0;"),Vp=function(e){var t=e.inputId,n=e.label,r=e.children;return Lt.createElement(qp,null,Lt.createElement("div",{className:Fp},r),Lt.createElement(Dp,{htmlFor:t},n))},Up=Ft("border:none;margin:0;padding:0;max-height:100%;"),Hp=function(e){var t=e.checkboxGroupState,n=e.label,r=e.inputId,i=Object(x.a)(e,["checkboxGroupState","label","inputId"]),a=Lt.useRef(null),o=Object(Bp.a)(),c=Object(Lp.a)(Object(j.a)({},i,{id:r,children:[]}),o,a).inputProps;return Lt.createElement(Vp,{inputId:r,label:n},Lt.createElement(nd,Object(j.a)({ref:a},Object(kl.c)(c,{onChange:function(e){t.setSelectedValue(e.target.value,e.target.checked)}}))))},Gp=[],Wp=function(e){var t=e.options,n=e.label,r=e.name,i=e.required,a=Object(El.d)(r,{defaultValue:Gp}),o=function(e){var t=e.value,n=e.onChange;return{setSelectedValue:function(e,r){var i=r?t.concat(e):t.filter((function(t){return t!==e}));n(i)}}}(a.input),c=yd(a).errorMessageProps,u=Object(Np.c)({onBlurWithin:a.input.onBlur,onFocusWithin:a.input.onFocus}).focusWithinProps;return Lt.createElement(kd,null,Lt.createElement("fieldset",Object(j.a)({className:Up},u),Lt.createElement(Pp,{showRequiredMark:i},n),t.map((function(e,t){return Lt.createElement(Hp,{key:t,inputId:r+"_"+t,label:e.label,value:e.value,checkboxGroupState:o})})),Lt.createElement(Tl,c)))},Yp=function(e){var t=Lt.useRef(null),n=e.label,r=e.required,i=Od(t,Object(j.a)({},e,{autoComplete:"name"===e.name?e.name:"off"})),a=i.inputProps,o=i.labelProps,c=i.errorMessageProps;return Lt.createElement(kd,null,Lt.createElement(Sd,Object(j.a)({showRequiredMark:r},o),n),Lt.createElement(Gl,Object(j.a)({},a,{errorMessageProps:c,inputRef:t})))},Jp=function(e){var t=Lt.useRef(null),n=e.label,r=e.required,i=Od(t,Object(j.a)({},e,{type:"email",autoComplete:"email"})),a=i.inputProps,o=i.labelProps,c=i.errorMessageProps;return Lt.createElement(kd,null,n&&Lt.createElement(Sd,Object(j.a)({showRequiredMark:r},o),n),Lt.createElement(Gl,Object(j.a)({},a,{inputRef:t,errorMessageProps:c})))},Zp=n(192),Kp=n(263),Xp=Ft("border:none;margin:0;padding:0;max-height:100%;"),Qp=function(e){var t=e.radioGroupState,n=e.label,r=e.inputId,i=Object(x.a)(e,["radioGroupState","label","inputId"]),a=Object(Zp.a)(Object(j.a)({},i,{id:r,children:[]}),t,null).inputProps;return Lt.createElement(Vp,{inputId:r,label:n},Lt.createElement(ld,a))},$p=function(e){var t=e.options,n=e.label,r=e.name,i=e.required,a=Object(El.d)(r),o=Object(Kp.a)(a.input),c=yd(a),u=c.validationState,s=c.errorMessageProps,l=Object(Zp.b)({name:r,label:n,isRequired:i,validationState:u},o),d=l.radioGroupProps,p=l.labelProps;return Lt.createElement(kd,null,Lt.createElement("fieldset",Object(j.a)({className:Xp},Object(kl.c)(d,{onBlur:a.input.onBlur,onFocus:a.input.onFocus})),Lt.createElement(Pp,Object(j.a)({showRequiredMark:i},p),n),t.map((function(e,t){return Lt.createElement(Qp,{key:t,inputId:r+"_"+t,label:e.label,value:e.value,radioGroupState:o})})),Lt.createElement(Tl,s)))},ef=ln("option",{target:"e1t56ivc0"})("color:",(function(e){return e.primary?e.theme.colors.success:"inherit"}),";"),tf=function(e){var t=e.meta,n=e.name,r=e.label,i=e.value,a=e.localize,o=void 0!==t&&void 0!==t.online,c=Boolean(t&&t.online),u=" ("+a(c?"skill_status_online":"skill_status_offline")+")";return Lt.createElement(ef,{name:n,primary:o&&c,value:i},""+r+(o?u:""))},nf=function(e){var t=e.options,n=e.label,r=e.name,i=e.localize,a=e.required,o=Object(El.d)(r);return Lt.createElement(kd,null,Lt.createElement(Sd,{showRequiredMark:a,htmlFor:r},n),Lt.createElement(Ul,Object(j.a)({},o,{id:r,name:r}),Lt.createElement("option",{value:""},i("forms_choose")),t.map((function(e,t){return Lt.createElement(tf,{key:t,meta:e.meta,label:e.label,localize:i,name:r,value:e.value})}))))},rf=function(e){var t=e.label,n=e.name,r=e.required,i=void 0!==r&&r;return Lt.createElement(kd,null,Lt.createElement(Sd,{showRequiredMark:i,htmlFor:n},t),Lt.createElement(El.a,{id:n,component:Pl,name:n}))},af=ln("div",{target:"e12liu9t0"})("margin:0;a{color:inherit;}ul,ol{margin:8px 0;display:inline-block;white-space:normal;width:100%;padding-left:24px;}li{margin:4px 0;}",(function(e){return e.theme.typography.basic})),of={information:function(e){var t=e.value;return Lt.createElement(kd,null,Lt.createElement(af,{preserveLines:!0,textWrap:!0},Lt.createElement(ct.a,{template:t,root:{component:Lc.a,props:{component:nl}}})))},text:Yp,textarea:Id,email:Jp,rating:rf,radio:$p,checkbox:Wp,select:nf};var cf=function(e){var t=e.type;return of[t]},uf=function(e,t){switch(t){case"prechat":return e("prechat_submit_label");case"offline":return e("offline_form_submit_label");default:return e("submit")}},sf=Object(N.c)((function(e,t){var n=t.chatId,r=t.eventId,i=t.type,a=function(t){if("prechat"===i){var a=t.name,o=t.email,c=Object(w.e)({name:a,email:o});Object(w.D)(c)||e.updateUser(e.getSessionUserId(),c)}return e.requestUpdateEvent(n,r,{properties:{answers:t}})};return function(e){return{localize:e.localize,mobile:e.getApplicationState("mobile"),sendForm:a,sessionUser:e.getSessionUser()}}}))((function(e){var t=e.id,n=e.type,r=e.fields,i=e.mobile,a=e.localize,o=e.sendForm,c=e.sessionUser,u=Gn(t+":"+n),s=Object(dn.a)((function(){var e=u.get(),t=function(e,t){var n=Object(w.M)((function(e){return"string"===typeof e?Object(w.tb)(e):e}),Object(w.Z)(["email","name"],e)),r=n.name,i=n.email;return r===t("client")?{email:i}:{email:i,name:r}}(c,a);return function(e,t,n){return e.map((function(e){var r=n?n[e.name]:null,i=t?t[e.name]:null,a=r||i;return a?Object(j.a)({},e,{defaultValue:a}):e})).filter((function(e){return"defaultValue"in e})).reduce((function(e,t){var n=t.name,r=t.defaultValue;return e[n]=r,e}),{})}(r,t,e)})),l=Lt.useRef({counter:0,lastValues:null,lastResult:null}),d=Lt.useCallback((function(e){l.current.counter++,l.current.lastValues=Object(j.a)({},e);var t=r.reduce((function(t,n){var r,i,o,c=n.required,u=n.name;return c&&(i=e[u],!(Object(w.C)(i)?!Object(w.D)(i):Boolean(i)))?Object(j.a)({},t,((r={})[u]=a("survey_fill_in_required_fields"),r)):"maxLength"in n&&"number"===typeof n.maxLength&&e[u]&&e[u].length>n.maxLength?Object(j.a)({},t,((o={})[u]="Cannot be longer than "+n.maxLength+" characters long.",o)):t}),{});return l.current.lastResult=Object(j.a)({},t),t}),[r,a]);return Lt.createElement(Cd,{id:t,mobile:i,initialValues:s,validate:d,onSubmit:function(e){var t=l.current,n=t.counter,r=t.lastValues,i=t.lastResult,a=d(e);return 0!==Object.keys(a).length&&Object(E.c)("invalid_form_submit_4",null,Object(w.M)((function(e){return JSON.stringify(e)}),{validationErrors:a,validationCounter:n,lastValidationValues:r,lastValidationResult:i,values:e})),o(e).then((function(){u.destroy()}),(function(e){var t;return e||((t={})[Rp.a]="Please check your internet connection and then try again.",t)}))},submitLabel:uf(a,n)},r.map((function(e,t){var n=cf(e);return Lt.createElement(ur,{key:t},Lt.createElement(zp,{name:e.name,when:e.dependOn},Lt.createElement(n,Object(j.a)({},e,{localize:a}))))})),Lt.createElement(El.c,{onChange:function(e){var t=e.values;e.dirty&&u.set(t)},subscription:{values:!0,dirty:!0}}))})),lf=function(e){var t=e.theme;return Lt.createElement(sp,{backgroundColor:t.colors.cta},Lt.createElement(vc,{color:t.colors.ctaText}))},df=function(e){var t=e.theme;return Lt.createElement(sp,{backgroundColor:t.colors.cta},Lt.createElement(jc,{color:t.colors.ctaText}))},pf=function(e){var t=e.answered,n=e.theme;return Lt.createElement(sp,{backgroundColor:t?n.colors.success:n.colors.cta},t?Lt.createElement(Cc,{color:n.colors.text.black}):Lt.createElement(mc,{color:n.colors.ctaText}))},ff=function(e){var t=e.localize;return Lt.createElement(Ap,null,t("offline_message_sent"))},mf=Object(Zt.b)((function(e){var t=e.theme,n=e.chatId,r=e.id,i=e.setScrollTargetNode,a=e.form,o=Object(x.a)(e,["theme","chatId","id","setScrollTargetNode","form"]),c=a.properties,u=c.formId,s=c.formType,l=c.fields,d=c.answered,p=l.filter((function(e){return e.answer&&e.label})),f=ae.G(a),m=Lt.useRef(null);if(yn((function(){!d&&m.current&&i&&i(m.current)})),f)return null;var h=function(e){switch(e){case"prechat":return lf;case"postchat":return df;case"offline":return pf}}(s),b=function(e){switch(e){case"prechat":case"postchat":return Ip;case"offline":return ff}}(s);return Lt.createElement("div",Object(j.a)({ref:m},o),Lt.createElement(N.a,null,(function(e){return Lt.createElement(bp,{defaultCollapsed:!0,collapsible:d,icon:Lt.createElement(h,{theme:t,answered:d})},d?Lt.createElement(b,{fields:p,localize:e}):Lt.createElement(sf,{key:s,chatId:n,eventId:r,id:u,type:s,fields:l}))})))})),hf={enter:600,exit:400},bf=function(e,t){return Ft("&-enter,&-appear{transform:translateY(100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",600*e,"ms ",t.transitions.easings.swift,";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(100%);transition:transform ",400*e,"ms ",t.transitions.easings.swift,";}")},gf=Object(Zt.b)((function(e){var t=e.show,n=e.durationFactor,r=e.onTransitionStart,i=e.onTransitionEnd,a=e.children,o=e.nodeRef,c=e.theme;return Lt.createElement(ni.a,{appear:!0,component:null},t&&Lt.createElement(Mr.a,{timeout:hf,onExited:i,onEntered:i,onExiting:r,onEntering:r,classNames:bf(n,c),nodeRef:o},a))})),vf=function(e){var t=e.heightPercentage,n=e.theme;return Ft("position:absolute;z-index:1500;display:flex;flex-direction:column;height:",100*t,"%;min-height:270px;max-height:100%;width:100%;bottom:0;border-radius:inherit;color:",n.colors.text.black,";background-color:",n.colors.surface.light,";")},yf=Object(Zt.b)((function(e){var t=e.heightPercentage,n=e.theme,r=e.children,i=e.innerRef,a=Object(x.a)(e,["heightPercentage","theme","children","innerRef"]),o=Lt.useRef(null),c=Object(pn.a)(o,i);return En("touchmove",o),jn(o),Lt.createElement(sl.a,{autoFocus:!1,returnFocus:!0,crossFrame:!1,className:vf({heightPercentage:t,theme:n}),ref:c,lockProps:Object(j.a)({role:"dialog","aria-modal":!0},a)},r)})),Of=n(105),_f={allowtransparency:"true",scrolling:"yes",style:{position:"absolute",minWidth:"100%",minHeight:"100%",height:"1px",width:"1px",margin:"0",padding:"0",background:"none",border:"0"}},wf=function(e){if(e){var t=e.scrollTop,n=e.scrollHeight-e.offsetHeight;0===t?e.scrollTop=1:t===n&&(e.scrollTop=n-1)}},jf=function(e){return{moment_url:Object(z.d)(e)+Object(z.e)(e),moment_origin:Object(z.d)(e)||""}},xf=function(e){var t=e.hidden;return Ft("flex-grow:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch;display:",t?"none":"block",";")},Ef=function(e,t,n){var r=document.createElement("iframe");return n&&(r.allow="microphone *; camera *;"),r.src=t,e.appendChild(r),r},Cf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).sdk=void 0,t.containerRef=Lt.createRef(),t.handleIFrameLoad=function(){t.sdk&&(t.props.onLoadingChanged(!1),t.sdk.frame.removeEventListener("load",t.handleIFrameLoad))},t.handleScroll=function(e){wf(e.currentTarget)},t}Object(Rt.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.url,n=e.close,r=e.sendMessage,i=e.sendSystemMessage,a=e.setAttributes,o=e.onLoadingChanged,c=e.onMomentDataChanged,u=e.allowVideoConferencing;if(t&&this.containerRef.current){var s={close:n,sendMessage:r,setAttributes:a,setExternalLink:function(e){c({externalLink:e})}};i&&(s.sendSystemMessage=i),this.sdk=Object(Of.b)({frame:Ef(this.containerRef.current,t,u),url:t,onConnected:function(e){var t=e.data;o(!1),c(t)}},s),Object(re.a)(_f,this.sdk.frame),o(!0),this.sdk.frame.addEventListener("load",this.handleIFrameLoad),c({title:this.sdk.title}),Object(E.d)("moment_opened",jf(Object(Of.a)(t)))}},n.componentWillUnmount=function(){var e=this.props,t=e.onMomentDataChanged,n=e.onLoadingChanged;this.sdk&&(this.sdk.destroy(),t(null),n(!1));var r=this.props.url;r&&Object(E.d)("moment_closed",jf(Object(Of.a)(r)))},n.render=function(){return Lt.createElement("div",{ref:this.containerRef,className:xf(this.props),onScroll:this.handleScroll})},t}(Lt.Component),kf=ln("div",{target:"ekjkgns0"})("flex-grow:1;flex-basis:100%;font-weight:700;font-size:14px;margin:0 8px;"),Sf=ln(ur,{target:"e11d7cwf0"})("border-bottom:1px solid ",(function(e){return e.theme.colors.divider}),";padding:0 0.8em;height:48px;display:flex;align-items:center;"),If=Ft("width:100%;height:100%;"),Tf=ln("div",{target:"e96px410"})("flex-shrink:0;width:24px;height:24px;border-radius:",(function(e){return e.theme.borderRadius.md}),";overflow:hidden;"),zf=function(){return Lt.createElement(pc,null,Lt.createElement(Oc,null))},Mf=function(e){var t=e.src;return t?Lt.createElement(Tf,null,Lt.createElement(qr,{src:t,className:If},(function(e){switch(e.imageStatus){case"pending":return Lt.createElement(pc,null);case"failed":return Lt.createElement(zf,null);default:return null}}))):Lt.createElement(Tf,null,Lt.createElement(zf,null))},Af=ln(Sf,{target:"e1xkjcv70"})("border-bottom:0;"),Rf=ln("div",{displayName:"BoosterContainer",target:"e1xkjcv71"})("width:100%;display:flex;color:",(function(e){return e.theme.colors.text.black}),";max-width:",(function(e){return e.single?"270px":"240px"}),";"),Lf=ln("div",{target:"e1xkjcv72"})("padding:0 0.8em 0.8em 0.8em;"),Nf=ln(ou,{target:"e1xkjcv73"})("flex-grow:1;max-width:100%;flex-basis:100%;"),Bf=ln("div",{target:"e1xkjcv74"})($s(),";margin-bottom:1.2em;",(function(e){return e.theme.typography.basic})),Pf=ln(eu,{displayName:"BoosterButton",target:"e1xkjcv75"})((function(e){var t=e.theme;return function(e){var t=e.color,n=e.backgroundColor,r=e.hoverBackgroundColor;return Ft("color:",t,";background-color:",n,";&:hover{color:",t,";background-color:",r,";}")}({color:Object(Mi.e)(.6,t.colors.cta),backgroundColor:Object(Mi.f)(.95,t.colors.cta),hoverBackgroundColor:Object(Mi.f)(.85,t.colors.cta)})})),qf=function(e){var t=e.id,n=e.icon,r=e.title,i=e.description,a=e.onButtonClick,o=e.action,c=e.single,u=void 0!==c&&c;return Lt.createElement(Rf,{single:u},Lt.createElement(Nf,{role:"gridcell"},Lt.createElement(Af,null,Lt.createElement(Mf,{src:n}),Lt.createElement(kf,{ellipsis:!0,flexFill:!0},r)),Lt.createElement(Lf,null,Lt.createElement(Bf,null,Lt.createElement(ct.a,{preserveLists:!0,template:i,root:{component:Lc.a,props:{component:nl}}})),Lt.createElement(Pf,{ellipsis:!0,onClick:function(){return a(t)}},o.label))))},Df=ln("div",{target:"e1ndqyd80"})("padding-top:0.8em;width:100%;display:flex;justify-content:center;flex-grow:1;"),Ff=Object(N.c)((function(e){var t=function(t){return e.emit("on_chat_booster_launched",t)};return function(){return{emitBoosterLaunched:t}}}))((function(e){var t=e.boosters,n=e.setScrollTargetNode,r=e.showMoment,i=e.emitBoosterLaunched,a=Lt.useRef(null);yn((function(){a.current&&n&&n(a.current)}));var o=function(e){var n=t.find((function(t){return t.id===e}));if(n){var a=n.icon,o=n.title,c=n.action,u=c.url,s=c.webviewHeight,l=void 0===s?"full":s;i({id:e,title:o}),r({icon:a,title:o,height:l,url:u+"?moment-title="+encodeURIComponent(o)})}};return Lt.createElement(Df,{innerRef:a,role:"row"},1===t.length?Lt.createElement(qf,Object(j.a)({},t[0],{single:!0,onButtonClick:o})):Lt.createElement(Ha,null,t.map((function(e){return Lt.createElement(qf,Object(j.a)({},e,{key:e.id,onButtonClick:o}))}))))})),Vf=ln("div",{target:"e1yucjc70"})("width:100%;display:flex;margin-bottom:16px;flex-direction:row;align-items:center;justify-content:center;"),Uf=ln("div",{target:"e1yucjc71"})("padding:4px 12px;",(function(e){var t=e.theme;return Ft(t.typography.basic,";background-color:",Object(Mi.f)(.7,t.colors.caution),";border-radius:",t.borderRadius.sm,";")})),Hf=function(){return Lt.createElement(N.a,null,(function(e){return Lt.createElement(Vf,null,Lt.createElement(Uf,null,e("fill_form_to_send")))}))},Gf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={shouldHandleSeen:!t.props.event.own&&!t.props.event.seen},t.handleSeen=function(){t.setState({shouldHandleSeen:!1}),t.props.listItemHandlers.markAsSeen(t.props.id)},t.getCardDisabledButtons=function(){var e=t.props,n=e.isChatActive,r=e.isPartOfLastThread,i=n&&r;return e.event.properties.invitation?n?["cancel"]:[]:i?[]:["message","webview"]},t.handleMessageRef=function(e){var n=t.props,r=n.scrollTarget,i=n.setScrollTargetNode;e&&"draft"===r&&i(e)},t}return Object(Rt.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.shouldHandleSeen&&e.event.seen?{shouldHandleSeen:!1}:null},t.prototype.render=function(){var e,t=this.props,n=t.mobile,r=t.author,i=t.event,a=t.chatId,o=t.localize,c=t.radiusType,u=t.showMoment,s=t.scrollTarget,l=t.deliveryStatus,d=t.listItemHandlers,p=t.showMetaOnClick,f=t.setScrollTargetNode,m=t.handleGreetingDisplayed,h=t.showFillFormAnnouncement,b=t.rtl,g="system"===r.type,v=this.state.shouldHandleSeen;if("system_message"===i.type){var y=i.properties,O=y.systemMessageType,_=y.textVariables,w=y.defaultText;return Lt.createElement(ap,null,O?o(O,_):w)}return"email_prompt"===i.type?Lt.createElement(Ep,{id:i.id,chatId:a}):"form"===i.type?Lt.createElement(Lt.Fragment,null,h&&Lt.createElement(Hf,null),Lt.createElement(ni.a,{appear:h,component:null},Lt.createElement(Qa,{delay:100},Lt.createElement(mf,{id:i.id,chatId:a,form:i,setScrollTargetNode:"form"===s&&f})))):"boosters"===i.type?Lt.createElement(Ff,{boosters:i.properties.boosters,showMoment:u,setScrollTargetNode:"boosters"===s&&f}):Lt.createElement(Zi,{authorName:i.own&&!r.name?o("client"):r.name,date:g?"":(e=i.timestamp,new Date(e).toTimeString().substr(0,5)),deliveryStatus:l,failed:i.failed,isOwn:i.own,onSeen:this.handleSeen,seen:!v,sending:!i.delivered&&!i.failed,showMetaOnClick:!g&&p,system:g,innerRef:this.handleMessageRef},Lt.createElement(as,Object(j.a)({event:i,mobile:n,radiusType:c,disabledButtons:this.getCardDisabledButtons(),onActionButtonClick:d.handleActionButtonClick,rtl:b},i.properties.invitation&&{onShow:function(){return m(i)}})))},t}(Lt.Component),Wf=Object(N.c)((function(e,t){var n=t.chatId,r=t.id,i=t.showMoment,a=function(t){ae.eb(e,t)||$.l(e)};return function(e,t){var n;return function(r){var i=e(r);if(void 0===i)return n;var a=t(r,i);return n=a,a}}((function(e){return e.getEvent(n,r)}),(function(e,t){var o=e.getChat(n),c=o.properties.lastThread===t.thread,u="form"===t.type&&!t.properties.answered&&ae.K(e,n);return{event:t,chatId:n,showMoment:i,handleGreetingDisplayed:a,showFillFormAnnouncement:u,localize:e.localize,isChatActive:o.active,author:e.getUser(t.author),mobile:e.getApplicationState("mobile"),isPartOfLastThread:c,deliveryStatus:ae.d(e,n,r),rtl:e.getApplicationState("rtl")}}))}))(Gf),Yf=ln("label",{target:"e1e9gyrb0"})("color:",(function(e){return e.theme.colors.text.black}),";cursor:",(function(e){return e.disabled?"not-allowed":"pointer"}),";display:flex;align-items:center;"),Jf=ln("span",{target:"e1e9gyrb1"})("&:focus{outline-style:",(function(e){return e.focusVisible?"auto":"none"}),";}"),Zf=ln("input",{target:"e1e9gyrb2"})("display:none;"),Kf=Object(Zt.b)((function(e){var t=e.handleFileChange,n=e.disabled,r=e.theme,i=Lt.useRef(null),a=Mn((function(){return i.current.click()})),o=Object(vn.b)();return Lt.createElement(Yf,{flexFit:!0,htmlFor:"fileupload",disabled:n},Lt.createElement(Jf,Object(j.a)({role:"button","aria-label":"Send a file",tabIndex:"0"},a,o),Lt.createElement($o,{color:r.colors.grayscale[n?300:500],"aria-hidden":!0})),Lt.createElement(Zf,{multiple:!0,onChange:t,type:"file",value:"",id:"fileupload",innerRef:i,disabled:n}))})),Xf=function(e,t){return Ft("font-family:inherit;padding:1.25em 5.5em 1.25em 1em;overflow-y:auto;margin-top:0;transition:box-shadow 0.1s ease-in-out;background-color:",e?Object(Mi.f)(.95,t.colors.caution):Object(Mi.e)(.012,t.colors.surface.light),";:focus{background-color:",t.colors.surface.light,";}")},Qf=Ft("padding:0;svg *{transition:fill 100ms ease-in-out;}"),$f=ln("div",{target:"ex4ls1q0"})("position:absolute;top:0;height:100%;right:1em;display:flex;align-items:center;color:",(function(e){return e.theme.colors.text.black}),";"),em=ln(ur,{target:"ex4ls1q1"})("position:relative;");var tm=Object(N.c)((function(e,t){var n=t.chatId,r=function(t){$.d(e,t)},i=function(t){$.x(e,n,t)},a=function(t){e.requestUpdateChat(n,{properties:{messageDraft:t}})};return function(e){return{sendFile:r,sendMessage:i,setMessageDraft:a,reconnecting:ae.cb(e),allowInput:ae.U(e),allowFileUpload:ae.T(e),isFileUploadPossible:ae.E(e),mobile:e.getApplicationState("mobile"),applicationFocused:e.getApplicationState("applicationFocused")}}}))(Object(Zt.b)((function(e){var t=e.allowFileUpload,n=e.isFileUploadPossible,r=e.mobile,i=e.onHeightChange,a=e.onSendMessage,o=e.allowInput,c=e.reconnecting,u=e.sendFile,s=e.sendMessage,l=e.setMessageDraft,d=(e.applicationFocused,e.onFocusChange),p=e.theme,f=Object(x.a)(e,["allowFileUpload","isFileUploadPossible","mobile","onHeightChange","onSendMessage","allowInput","reconnecting","sendFile","sendMessage","setMessageDraft","applicationFocused","onFocusChange","theme"]),m=Lt.useMemo((function(){return Object(w.sb)(1500,l)}),[l]),h=Zn(c),b=Gn("text-composer"),g=b.get(),v=Lt.useCallback((function(){d&&d(!0)}),[d]),y=Lt.useCallback((function(){d&&d(!1)}),[d]),O=Lt.useCallback((function(e){s(e),a&&a()}),[s,a]),_=Lt.useCallback((function(e){[].forEach.call(e.target.files,u)}),[u]);return Lt.createElement(N.a,null,(function(e){return Lt.createElement(ma,Object(j.a)({},f,{active:o,disabled:c&&!h,mobile:r,defaultValue:g,onSend:O,onValueChange:function(e){b.set(e),m(e)}}),Lt.createElement(em,{verticalAlign:"center"},Lt.createElement(_a,{autoFocus:jd(r),className:Xf(c&&!h,p),disabled:c&&!h,flexFill:!0,minRows:1,onBlur:y,onFocus:v,onHeightChange:i,placeholder:e("embedded_textarea_placeholder"),"aria-label":e("embedded_textarea_placeholder")}),Lt.createElement($f,null,t&&Lt.createElement(Kf,{disabled:!n,handleFileChange:_}),Lt.createElement(ga,{flexFit:!0,className:Qf,icon:Lt.createElement(wc,null),"aria-label":"Send a message"}))))}))}))),nm={full:.8,tall:.5,compact:.3},rm=Ft("display:flex;"),im=Object(N.c)((function(e,t){var n,r=t.chatId,i=function(){return $.e(e)},a=function(t){return $.K(e,{properties:t})},o=function(t){return $.x(e,r,t)},c=!!e.getApplicationState("config").hasAnyCustomLicenseProperty;return"lc3"===e.getApplicationState().protocol&&(n=function(t){return $.w(e,r,t)}),function(e){var t=e.getView("Moment"),r=t.show,u=t.data;return{show:r,closeMoment:i,sendMessage:o,sendSystemMessage:n,updateSessionUser:a,momentData:u,allowVideoConferencing:c}}}))((function(e){var t=e.allowVideoConferencing,n=e.show,r=e.closeMoment,i=e.updateSessionUser,a=e.sendMessage,o=e.sendSystemMessage,c=e.onSendMessage,u=Lt.useRef(null),s=Lt.useRef(null),l=Lt.useState(!1),d=l[0],p=l[1],f=Lt.useState(!1),m=f[0],h=f[1],b=Lt.useState(!1),g=b[0],v=b[1],y=Lt.useState({}),O=y[0],_=y[1],x=Object(vn.b)(),E=m||g,C=d&&n,k=function(e){var t=e.height;return t&&t in nm?nm[t]:nm.tall}(O);return Object(w.D)(O)&&!Object(w.D)(e.momentData)&&_(Object(j.a)({},O,e.momentData)),Vn(Lt.useCallback((function(){return p(!0)}),[]),300),Lt.useEffect((function(){C&&Object(kl.b)(s.current)}),[C]),Lt.createElement(dl,null,Lt.createElement(bl,{shown:n}),Lt.createElement(gf,{show:C,nodeRef:u,onTransitionEnd:function(){return h(!1)},onTransitionStart:function(){return h(!0)},durationFactor:k/.8},Lt.createElement(yf,{innerRef:u,heightPercentage:k},Lt.createElement(Sf,{noShrink:!0},Lt.createElement(Mf,{src:O.icon,"aria-hidden":!0}),Lt.createElement(kf,Object(j.a)({ellipsis:!0,flexFill:!0,tabIndex:-1,innerRef:s},x),O.title),O.externalLink&&Lt.createElement(nl,{href:O.externalLink,rel:"nofollow noopener noreferrer",className:rm,"aria-label":"Open in a new tab"},Lt.createElement(gc,{"aria-hidden":!0})),Lt.createElement(lc,{onClick:r,className:rm,"aria-label":"Close modal"},Lt.createElement(ic,null))),Lt.createElement(Cf,{hidden:E,close:r,url:O.url,sendMessage:function(e){var t=e.text;a(t),c&&c(t)},sendSystemMessage:o,setAttributes:i,onMomentDataChanged:function(e){return _((function(t){return e?Object(j.a)({},t,e):{}}))},onLoadingChanged:v,allowVideoConferencing:t}),E&&Lt.createElement(Jc,{size:"xlarge",style:{margin:"auto"}}))))})),am=ln("span",{target:"e1oq7ugp0"})((function(e){var t=e.failed,n=e.theme;return{color:t?n.typography.errorCaption.color:n.typography.basic.color}}),";"),om=ln("div",{target:"e1oq7ugp1"})("flex:1;display:flex;flex-direction:column;margin:2px;min-width:calc(50% - 4px);max-width:100%;height:140px;"),cm=ln("div",{target:"e1oq7ugp2"})("border-radius:",(function(e){return e.theme.borderRadius.xl}),";flex:1;width:100%;height:100%;display:flex;overflow:hidden;position:relative;align-items:center;justify-content:center;"),um=ln("div",{target:"e1oq7ugp3"})("color:",(function(e){return e.theme.colors.text.muted}),";background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";width:100%;height:100%;display:flex;align-items:center;justify-content:center;"),sm=ln("img",{target:"e1oq7ugp4"})("width:100%;height:auto;"),lm=ln("div",{target:"e1oq7ugp5"})("position:absolute;top:6px;right:6px;z-index:1;"),dm=ln("div",{target:"e1oq7ugp6"})("height:24px;width:24px;display:flex;border-radius:50%;align-items:center;justify-content:center;color:",(function(e){return e.theme.colors.text.white}),";background-color:",(function(e){var t=e.theme,n=e.success,r=e.error;return n?t.colors.success:r?t.colors.error:void 0}),";"),pm=ln("div",{target:"e1oq7ugp7"})("opacity:",(function(e){return e.visible?1:0}),";transition:opacity 100ms ",(function(e){return e.theme.transitions.easings.smooth}),";position:absolute;left:6px;right:6px;bottom:6px;display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between;z-index:1;",lc,"{width:20px;height:20px;}"),fm=ln("div",{target:"e1oq7ugp8"})("border-radius:",(function(e){return e.theme.borderRadius.md}),";color:",(function(e){return e.theme.colors.text.white}),";padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.6);"),mm=ln("span",{target:"e1oq7ugp9"})((function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.text.white}),";cursor:pointer;margin-right:4px;"),hm=Ft("cursor:pointer;"),bm=function(e){var t=e.name,n=e.failed,r=e.finished,i=e.url,a=e.fileType,o=e.mobile,c=e.alternativeText,u=e.onCancel,s=e.onAlternativeTextEdit,l=e.progress,d=void 0===l?0:l,p=e.failReason,f=void 0===p?"":p,m=e.insistHover,h=e.onHoverChange,b=Object(Np.d)({onHoverChange:h}),g=b.hoverProps,v=b.isHovered,y=Object(vn.b)(),O=y.focusVisible,_=Object(x.a)(y,["focusVisible"]);return Lt.createElement(N.a,null,(function(e){return Lt.createElement(om,null,Lt.createElement(cm,g,Lt.createElement(lm,null,r&&Lt.createElement(dm,{success:!0},Lt.createElement(Cc,{size:24,"aria-hidden":!0})),n&&Lt.createElement(Bd,{label:f,allowTouch:!0},Lt.createElement(dm,{error:!0},Lt.createElement(ec,{className:hm,size:24,"aria-label":f}))),!r&&!n&&Lt.createElement(Jc,{size:"medium",progress:d})),(u||s)&&Lt.createElement(pm,Object(j.a)({visible:m||v||O||o},_),u&&Lt.createElement(fm,null,Lt.createElement(lc,{onClick:u,"aria-label":"remove file"},Lt.createElement(_c,{size:20,"aria-hidden":!0}))),"image"===a&&s&&Lt.createElement(fm,null,Lt.createElement(lc,{onClick:s,"aria-label":e("add_alternative_text")},Lt.createElement(oc,{size:20,"aria-hidden":!0})),Lt.createElement(mm,{onClick:s},e("alt_text")))),"image"===a&&Lt.createElement(sm,{src:i,alt:c||"",style:{opacity:r?1:.25},className:Ft("transition:opacity 100ms linear;")}),"other"===a&&Lt.createElement(um,null,Lt.createElement(uc,{size:56}))),Lt.createElement(am,{ellipsis:!0,failed:n,finished:r},t))}))},gm=ln("p",{target:"eprg9im0"})("margin-bottom:",(function(e){var t=e.theme,n=e.mobile;return"modern"!==t.name&&n?0:4}),"px;",(function(e){return e.theme.typography.caption})," ",$s(),";margin:0;padding:0 12px;max-width:100%;max-height:50px;"),vm=ln("div",{target:"eprg9im1"})((function(e){var t=e.theme;return!e.mobile&&"modern"===t.name&&"max-height: 230px; overflow-y: auto;"})),ym=ln("div",{target:"eprg9im2"})("height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?145:140}),"px;overflow:hidden;display:flex;align-items:center;justify-content:center;width:100%;"),Om=ln("div",{target:"eprg9im3"})("padding:",(function(e){var t=e.theme;return t.spaces.space3+" "+t.spaces.space5}),";display:flex;flex-direction:row;justify-content:center;align-items:center;max-width:100%;"),_m=ln("input",{target:"eprg9im4"})("background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border:1px solid ",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:"transparent"}),";flex:1;height:34px;margin:0;padding:8px 6px;min-width:0;border:none;outline:none;border-radius:6px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none;"),wm=ln(lc,{target:"eprg9im5"})("color:",(function(e){var t=e.theme;return e.highlighted?t.colors.ctaText:t.colors.text.white}),";background-color:",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:t.colors.grayscale[200]}),";height:34px;width:34px;justify-content:center;align-items:center;display:flex;padding:6px 8px;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:6px;transition:background 100ms linear;"),jm=Ft("width:100%;height:auto;"),xm=function(e){var t=e.url,n=e.alternativeText,r=e.onAlternativeTextChanged,i=e.mobile,a=Lt.useState(n||""),o=a[0],c=a[1],u=Object(vn.b)(),s=u.focusVisible,l=Object(x.a)(u,["focusVisible"]);return Lt.createElement(N.a,null,(function(e){return Lt.createElement(vm,{mobile:i},Lt.createElement(ym,{mobile:i},Lt.createElement("img",{src:t,className:jm,alt:""})),Lt.createElement(Om,null,Lt.createElement(_m,Object(j.a)({},l,{autoFocus:!0,maxLength:16384,value:o,"aria-label":e("describe_image"),placeholder:e("describe_image"),highlighted:!!o||s,onChange:function(e){var t=e.target;return c(t.value)}})),Lt.createElement(wm,{highlighted:!!o||s,disabled:!o,onClick:function(){c(""),r(o)}},Lt.createElement(Qo,{size:24}))),Lt.createElement(gm,{mobile:i},e("alternative_text_description")))}))},Em=n(68),Cm=ln("span",{target:"e1k6tlos0"})((function(e){var t=e.failed,n=e.theme;return t&&{color:n.typography.errorCaption.color}})," padding:0 6px;align-self:center;"),km=ln("div",{target:"e1k6tlos1"})("display:flex;cursor:pointer;"),Sm=ln("div",{target:"e1k6tlos2"})("transition:max-height ",(function(e){return e.longAnimation?600:400}),"ms ",(function(e){return e.theme.transitions.easings.swift}),";overflow:hidden;max-height:249px;"),Im=ln("div",{target:"e1k6tlos3"})("height:auto;",(function(e){return e.edit&&{margin:"0 -8px"}})),Tm=ln("div",{target:"e1k6tlos4"})("max-height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?200:170}),"px;overflow:auto;display:flex;flex-direction:row;flex-wrap:wrap;padding:4px 0;"),zm=ln("hr",{target:"e1k6tlos5"})("margin:",8,"px -",8,"px 0;border:0;border-bottom:1px solid rgba(0,0,0,0.1);"),Mm=ln(rc,{target:"e1k6tlos6"})((function(e){return"up"===e.direction&&{transform:"scaleY(-1)"}})),Am=Ft("padding-left:4px;"),Rm=ln(Tc,{target:"e1k6tlos7"})("padding:",(function(e){var t=e.theme,n=e.isEdit,r=e.expanded;return!e.mobile&&"modern"===t.name&&n&&r?"8px 8px 0":"8px"}),";",(function(e){return e.theme.typography.basic}),";overflow:hidden;"),Lm=Ft("margin-top:6px;max-width:100%;"),Nm=Ft("transform:scaleX(-1);"),Bm=Object(Em.createSelector)([w.A],(function(e){return e.map((function(e){return Object(j.a)({id:e.id},e.properties)}))})),Pm=Object(N.c)((function(e,t){var n=t.chatId,r=(t.uploadEnabled,function(t){e.emit("cancel_upload",{eventId:t})}),i=function(t,r){e.updateEvent(n,t,{properties:{alternativeText:r}})},a=function(){e.emit("send_file_events")};return function(e){var t=e.getApplicationState(),n=t.isSendingFileEvents,o=t.mobile,c=t.protocol,u=t.config,s=t.license,l=t.group,d=t.requestedGroup,p=Bm(Object(ae.l)(e));return{mobile:o,protocol:c,persistKey:de({license:s,group:l,requestedGroup:d}),isSendingFileEvents:n,uploadEntries:p,cancelUpload:r,setAlternativeText:i,sendFiles:a,localize:e.localize,themeName:u.theme.name}}}))((function(e){var t=e.uploadEntries,n=e.uploadEnabled,r=e.cancelUpload,i=e.localize,a=e.mobile,o=e.protocol,c=e.persistKey,u=e.sendFiles,s=e.isSendingFileEvents,l=e.setAlternativeText,d=e.themeName,p=Lt.useState(!0),f=p[0],m=p[1],h=Lt.useState(!1),b=h[0],g=h[1],v=Lt.useState(!1),y=v[0],O=v[1],_=Lt.useState(null),x=_[0],E=_[1],C=Lt.useState(""),k=C[0],S=C[1],I=Lt.useRef(null),T=Lt.useRef(null),z=function(e,t){var n=e.filter((function(e){return e.failed})),r=e.filter((function(e){return e.finished})).length,i=n.length,a=e.length,o=t("file_upload_status").replace("%finishedCount%",String(r)).replace("%totalCount%",String(a));switch(!0){case i>0:return{uploadStatus:"error",title:i>1?t("files_failed_to_upload").replace("%files%",String(i)):n[0].failReason};case r===a:return{uploadStatus:"success",title:o};default:return{uploadStatus:"pending",title:o}}}(t,i),M=function(){k&&S("")},A=Lt.useCallback((function(){return a||"modern"!==d?249:228}),[d,a]),R=Lt.useCallback((function(e){return(t.length>2||e?A():201)+"px"}),[t,A]),L=Lt.useCallback((function(e){B(e)&&(I.current.style.maxHeight=e)}),[]),N=function(e){return T.current.style.height=e},B=function(e){return I.current.style.maxHeight!==e},P=Lt.useCallback((function(){f?(g(!0),L("0px")):(m(!0),L(R(!!x)))}),[f,x,L,R]),q=function(e){if(f){var t=R(!!e);!e&&B(t)?(E(null),O(!0),N(T.current.clientHeight+"px"),L(t)):(L(A()+"px"),E(e))}else E(e)},D=Lt.useCallback((function(){b?(m(!1),g(!1)):y&&(N("auto"),O(!1))}),[b,y]);return Lt.useEffect((function(){t.length&&f&&!b&&L(R(!1))}),[t.length,f,b,L,R]),Lt.useEffect((function(){if("lc3"===o&&Object(ut.b)("session")){var e=function(){Object(w.D)(t)||function(e,t){var n=e.filter((function(e){return e.finished})).map((function(e){return Object(j.a)({},e,{url:e.serverUrl})}));Object(w.D)(n)||window.sessionStorage.setItem(t,JSON.stringify(n))}(t,c)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}}),[t,c,o]),Lt.createElement(Rm,{isEdit:x,expanded:!b&&f,mobile:a},Lt.createElement(Ga.b,{message:z.title,clearOnUnmount:!0,"aria-live":"error"===z.uploadStatus?"assertive":"polite"}),Lt.createElement(km,{onClick:function(e){e.stopPropagation(),P()}},x?Lt.createElement(lc,{"aria-label":"go back to upload list",onClick:function(e){e.stopPropagation(),q(null)}},Lt.createElement(Qo,{size:24,className:Nm,"aria-hidden":!0})):Lt.createElement(Lt.Fragment,null,"pending"===z.uploadStatus?Lt.createElement(Jc,{size:"medium","aria-hidden":!0}):"success"===z.uploadStatus?Lt.createElement(dm,{success:!0},Lt.createElement(Cc,{size:24})):Lt.createElement(dm,{error:!0},Lt.createElement(ec,{size:24}))),Lt.createElement(Cm,{flexFill:!0,ellipsis:!0,failed:"error"===z.uploadStatus},x?i("add_alternative_text"):z.title),Lt.createElement(lc,{className:Am,"aria-label":"Toggle upload list"},Lt.createElement(dc,{size:24,"aria-hidden":!0},Lt.createElement(Mm,{direction:f&&!b?"down":"up",size:24})))),f&&!b&&Lt.createElement(zm,null),Lt.createElement(Sm,{innerRef:I,onTransitionEnd:D,longAnimation:!f||b},f&&Lt.createElement(Im,{edit:!!x,innerRef:T},x?Lt.createElement(xm,Object(j.a)({},t.find((function(e){return e.id===x})),{onAlternativeTextChanged:function(e){q(null),l(x,e)},mobile:a})):Lt.createElement(Lt.Fragment,null,Lt.createElement(Tm,{mobile:a},t.map((function(e){return Lt.createElement(bm,Object(j.a)({},e,{key:e.id,mobile:a,failed:!!e.failed,insistHover:k===e.id,onHoverChange:M,onCancel:"lc3"===o&&!s||e.failed?function(){return function(e){if(!a&&t.length>1){var n=Object(w.n)((function(t){return t.id===e}),t),i=n===t.length-1;S(t[n+(i?-1:1)].id)}r(e)}(e.id)}:null,onAlternativeTextEdit:"lc3"!==o||s?null:function(){return q(e.id)}}))}))),"lc3"===o&&Lt.createElement(eu,{onClick:u,disabled:!n,pending:s||"pending"===z.uploadStatus,className:Lm},i("send_files"))))))})),qm=ln("div",{target:"ezpiwsd0"})("position:absolute;bottom:0;left:0;right:0;z-index:100;"),Dm=Object(N.c)((function(e,t){var n=t.markAsSeen,r=function(){ae.r(B.b,Date.now(),e).reverse().forEach((function(e){return n(e.id)}))};return function(e){var t=!Object(w.D)(ae.l(e)),n=e.getApplicationState("mobile"),i=ae.h(e,B.b),a=e.getUnseenCount(B.b),o=i&&i.properties?i.properties.text:null;return{isFileUploadAllowed:ae.T(e),isFileUploadPossible:ae.E(e),isUploadingFiles:t,previewText:o,unseenCount:a,mobile:n,markAllEventsAsSeen:r,localize:e.localize}}}))((function(e){var t=e.isFileUploadAllowed,n=e.isFileUploadPossible,r=e.isUploadingFiles,i=e.previewText,a=e.unseenCount,o=e.chatId,c=e.mobile,u=e.scrollToBottom,s=e.markAllEventsAsSeen,l=e.isOnBottomSource,d=e.isScrollable,p=e.localize,f=i,m=Dn(l),h=a>0&&!m&&d,b=Lt.useState(h),g=b[0],v=b[1];return f||(f=p(a>1?"new_messages":"new_message")),!h&&g&&v(!1),Lt.useEffect((function(){if(h){var e=setTimeout((function(){return v(!0)}),300);return function(){return clearTimeout(e)}}}),[h]),Lt.createElement(qm,null,Lt.createElement(ni.a,{appear:!0,component:null},r&&Lt.createElement(Qa,{key:"upload"},t&&Lt.createElement(Pm,{chatId:o,uploadEnabled:n})),g&&Lt.createElement(Qa,{key:"unseen"},Lt.createElement(Tu,{text:f,stickToEdge:c,unseenCount:a,onClick:u,onClose:s}))),g&&Lt.createElement(Ga.b,{message:f,clearOnUnmount:!0,"aria-live":"assertive"}))})),Fm=Object(Zt.b)((function(e){var t=e.theme,n=Object(x.a)(e,["theme"]),r=t.Maximized.css.background;return Lt.createElement(Jc,Object(j.a)({},n,{adjustToColor:r,ariaLabel:"Loading previous messages"}))})),Vm=ln("div",{target:"e1fh44if0"})("padding:1em;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:0.9em;"),Um=function(e){return Lt.createElement(Vm,null,Lt.createElement(eu,e))},Hm=Object(N.c)((function(e){var t=function(){return $.F(e)},n=function(){return $.G(e,B.b)};return function(e){var r="startChatAgain"===ae.g(e,B.b),i=e.getChat(B.b).properties,a=i.starting,o=i.startChatAgainPending,c=e.localize(r?"embedded_start_chat_again":"embedded_greeting_accept");return{startAction:r?n:t,buttonLabel:c,isPending:a||o}}}))((function(e){var t=e.isPending,n=e.buttonLabel,r=e.startAction,i=e.onClick,a=void 0===i?w.S:i;return Lt.createElement(Um,{disabled:t,pending:t,onClick:function(e){r(),a(e)}},n)})),Gm=ln("div",{target:"e1onopp20"})("position:absolute;top:0;left:0;right:0;background:",(function(e){return e.theme.colors.caution}),";z-index:2;color:",(function(e){return e.theme.colors.text.black}),";text-align:center;font-size:0.9em;line-height:2.8em;"),Wm=ln("div",{target:"e1onopp21"})("flex-grow:1;height:100%;position:relative;min-height:0;-webkit-overflow-scrolling:touch;"),Ym=Ft("background:transparent;overscroll-behavior:contain;position:absolute;top:0;bottom:0;left:0;right:0;"),Jm=Ft("position:absolute;bottom:0;left:50%;z-index:3;transform:translate(-50%,50%);"),Zm=function(e){return e.events[0].id},Km=function(e){return 0!==e.length?Zm(e[0]):null},Xm=function(e){var t=Object(w.J)(e);if(!t)return null;var n=Object(w.J)(t.events);return n?n.id:null};var Qm=Object(Cs.a)([function(e,t){return e.getTimeline(t)},w.A],(function(e,t){var n=ae.z(t);return e.map((function(e,r){var i=0===r,a=e.showDate&&!i&&n;return Object(j.a)({},e,{isThreadBoundary:a,authorData:t.getUser(e.author)})}))}))((function(e,t){return t})),$m=Object(N.c)((function(e,t){var n=t.id,r=function(){$.E(e)},i=e.localize,a=function(){return e.updateChat(n,{properties:{loadingHistory:!0}})},o=function(t){return e.requestUpdateEvent(n,t,{seen:!0}).catch(w.S)},c=function(t,r){$.x(e,n,t,r)},u=function(t){var r=t.eventId,i=t.buttonId;e.sendEvent(n,{type:"rich_message_postback",properties:{eventId:r,postback:{id:i,toggled:!0}}})},s=function(t){return ae.I(e,t)},l=function(t){return $.B(e,t)},d=function(t){return $.K(e,{properties:t})},p=function(t){var n=t.event,r=t.button;return $.n(e,n,r)};return function(e){var t=e.getChat(n),f=t.active,m=t.properties,h=m.agentIsTyping,b=m.loadingHistory,g=m.queued,v=m.ended,y=ae.b(n,e),O=ae.v(e,n),_=e.getUnseenCount(n),w=ae.z(e)&&ae.O(e);return{agent:y,active:f,ended:v,loadHistory:a,isThreadStickerEnabled:w,hasMoreHistory:O,markAsSeen:o,sendMessage:c,queued:g,sendPostback:u,showPrechat:r,localize:i,updateSessionUser:d,showMoment:l,unseenCount:_,timeline:Qm(e,n,e.getState()),activeQuickReply:ae.o(n,e),agentIsTyping:h&&!!y,shouldLoadHistory:O&&!b,showAvatar:ae.f("agentAvatar",e).showWithMessage,pageFocused:e.getApplicationState("pageFocused"),inputMode:ae.g(e,n),reconnecting:ae.cb(e),displayOfflineInformation:ae.ab(e),lastSeenEvent:_>0&&e.getLastSeenAgentEvent(n),isGreeting:s,handleRichGreetingButtonClicked:p,isFillableFormDisplayed:ae.F(e)}}}))((function(e){var t=e.displayOfflineInformation,n=e.active,r=e.ended,i=e.activeQuickReply,a=e.agent,o=e.isThreadStickerEnabled,c=e.hasMoreHistory,u=e.pageFocused,s=e.id,l=e.inputMode,d=e.loadHistory,p=e.localize,f=e.queued,m=e.reconnecting,h=e.shouldLoadHistory,b=e.showAvatar,g=e.showPrechat,v=e.timeline,y=e.agentIsTyping,O=e.mobile,_=e.unseenCount,j=e.lastSeenEvent,x=e.scrollingDeltaSource,E=e.sendMessage,C=e.showMoment,k=e.handleRichGreetingButtonClicked,S=e.isOnBottomSource,I=e.isFillableFormDisplayed,T=Lt.useRef(),z=Fn(!1),M=function(e){var t=Lt.useRef(e);return Lt.useEffect((function(){t.current=e})),Lt.useMemo((function(){return{handleActionButtonClick:function(e){var n=e.button,r=e.event,i=t.current,a=i.active,o=i.showMoment,c=i.sendPostback,u=i.sendMessage,s=i.isGreeting,l=i.handleRichGreetingButtonClicked;if(s(r))l({event:r,button:n});else if(a)switch(n.type){case"webview":return c({eventId:r,buttonId:n.postbackId}),void o({url:n.value,height:n.webviewHeight});case"message":return void u(n.text,{type:"action_button",event:r,button:n});default:return void c({eventId:r,buttonId:n.postbackId})}},markAsSeen:function(e){return t.current.markAsSeen(e)}}}),[])}(e),A=Lt.useRef(!1),R=Lt.useRef(),L=Lt.useState(_),N=L[0],P=L[1],q=Lt.useState(j)[0],D=Object(dn.a)((function(){return function(e,t,n,r){return e.some((function(e){return e.type===B.e}))?"draft":t?"newMessageDivider":r||n||!e.some((function(e){return e.events.some((function(e){return"boosters"===e.type}))}))?"form":"boosters"}(v,N,n,r)})),F=Zn(m),V=Lt.useCallback((function(e){e&&h&&d()}),[h,d]),U=Lt.useCallback((function(){clearTimeout(R.current),R.current=setTimeout((function(){x.next({deltaX:0,deltaY:40})}),4e3)}),[x]),H=Lt.useCallback((function(e){S.next(e),e&&I?U():clearTimeout(R.current)}),[S,I,U]);An((function(){clearTimeout(R.current)}));var G=qn(T,{firstItemKey:Km(v),lastItemKey:Xm(v),onIsScrolledToTopChanged:V,onIsScrolledToBottomChanged:H,onIsUserScrollingChanged:z.next,onScrollDeltaChanged:x.next}),W=G.scrollToTop,Y=G.scrollToBottom,J=G.getIsOnBottom,Z=G.onWheel,K=G.onTouchStart,X=G.getIsScrollable,Q=G.setScrollTargetNode,$=Lt.useCallback((function(e){J()&&Y(e)}),[J,Y]);Lt.useEffect((function(){I?U():clearTimeout(R.current)}),[I,U]);var ee=Lt.useCallback((function(){$({duration:0})}),[$]),te=function(e){return void 0===e&&(e=w.S),function(){Y({duration:0}),e()}},ne=Rn((function(){J()?Y():Y({duration:0}),P(0)})),re=Lt.useCallback((function(e){A.current=e}),[]),ie=!!(y||f||i||t);return Lt.useEffect((function(){ie&&$()}),[ie,$]),Lt.useEffect((function(){if(O){var e=function(){A.current&&Y({duration:0})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[O,Y]),Jn({mainElementRef:T,itemsCount:v.reduce((function(e,t){return e+t.events.length}),0),tableEdgeReached:function(e){"previous"===e&&W({duration:0})}}),Lt.createElement(As,{beginingOfTime:v.length>0?v[0].timestamp:null,rootRef:T},Lt.createElement(Yr,{noShrink:!0},Lt.createElement(ip,{chatId:s,isUserScrollingSource:z,scrollingDeltaSource:x,isOnBottomSource:S}),o&&Lt.createElement(qs,{className:Jm,isUserScrollingSource:z})),Lt.createElement(ni.a,{appear:!0,component:null},Lt.createElement(eo,null,Lt.createElement(Wm,null,m&&!F&&Lt.createElement(Lt.Fragment,null,Lt.createElement(Ga.b,{message:p("reconnecting"),clearOnUnmount:!0,"aria-live":"assertive"}),Lt.createElement(Gm,null,p("reconnecting")+"\u2026")),Lt.createElement(Dm,{chatId:s,isScrollable:X(),isOnBottomSource:S,scrollToBottom:Y,markAsSeen:M.markAsSeen}),Lt.createElement(si,{active:u,className:Ym,onWheel:Z,onTouchStart:K,innerRef:T},c&&Lt.createElement(ur,null,Lt.createElement(Fm,{size:"medium",style:{margin:"auto"}})),v.map((function(e,t){return Lt.createElement(Lt.Fragment,{key:Zm(e)},e.isThreadBoundary&&Lt.createElement(Vs,{timestamp:e.timestamp}),q&&N>0&&e.events.some((function(e){return e.id===q.id}))&&Lt.createElement(Gs,{unseenCount:N,setScrollTargetNode:Q}),Lt.createElement(Ji,{isOwn:e.own,onlyFirstWithMeta:!0,avatar:b&&"carousel"!==e.type&&e.authorData.avatar?e.authorData.avatar:void 0},e.events.map((function(t,n){return Lt.createElement(Wf,{chatId:s,id:t.id,key:t.id,showMetaOnClick:0!==n,radiusType:e.radiusType,listItemHandlers:M,scrollTarget:D,setScrollTargetNode:!N&&Q,showMoment:C})}))))})),i&&Lt.createElement("div",{role:"row"},Lt.createElement(Za,{role:"gridcell",onSelect:function(e){var t=i.properties.quickReplies[e];i.properties.invitation?k({event:i.id,button:t}):E(t.text,{type:"quick_reply",event:i.id,button:t})},replies:i.properties.quickReplies})),y&&Lt.createElement(Lt.Fragment,null,Lt.createElement(Ga.b,{clearOnUnmount:!0,"aria-live":"polite",message:p("operator_is_typing",{operator:"john"}).replace("...","")}),Lt.createElement(ni.a,{appear:!0,component:null},Lt.createElement(Qa,{exit:!1},Lt.createElement(Zu,{avatar:b?a.avatar:null})))))))),"requestPrechat"===l?Lt.createElement(Um,{onClick:te(g)},p("embedded_greeting_accept")):"startChat"===l||"startChatAgain"===l?Lt.createElement(Hm,{onClick:te()}):"text"===l?Lt.createElement(tm,{chatId:s,onSendMessage:ne,onHeightChange:ee,onFocusChange:re}):null,Lt.createElement(im,{chatId:s,onSendMessage:ne}))})),eh=ln("div",{displayName:"View",section:!0,target:"e1u2umur0"})("flex-grow:1;display:flex;height:100%;min-height:0;padding-bottom:1em;"),th=ln("div",{displayType:"ViewContent",target:"e1u2umur1"})("overflow-y:auto;height:100%;flex-grow:1;padding:",(function(e){return e.full?"0 !important":"1em 1em 0 1em"}),";"),nh=function(e){return Ft("&-enter,&-appear{opacity:0;}&-enter&-enter-active,&-appear&-appear-active{opacity:1;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}&-exit{opacity:1;}&-exit&-exit-active{opacity:0;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}")},rh=Ft("width:100%;"),ih=Object(Zt.b)((function(e){var t=e.children,n=e.theme,r=e.full,i=void 0!==r&&r;return Lt.createElement(eh,null,Lt.createElement(ni.a,{className:rh},Lt.createElement(Mr.a,{appear:!0,classNames:nh(n),timeout:200},Lt.createElement(th,{full:i},t))))})),ah=function(){return Lt.createElement(N.a,null,(function(e){return Lt.createElement(ih,null,Lt.createElement(Wr,null,Lt.createElement(Si,null,e("lost_connection"))))}))},oh=Ft("background:currentColor;opacity:0.3;animation:",Ht("50%{opacity:0.0;}")," 1.5s linear 0s infinite;"),ch=Ft(oh,";"),uh=ln("div",{target:"e1uut4cd0"})("width:",(function(e){return e.width||"10em"}),";height:1em;margin:0.3em;border-radius:",(function(e){return e.theme.borderRadius.sm}),";",oh,";"),sh=ln("div",{target:"e1uut4cd1"})("width:100%;"),lh=ln("div",{target:"e1uut4cd2"})("padding:1em;"),dh=ln("div",{target:"e1uut4cd3"})("width:100%;margin-top:0.5em;"),ph=ln("div",{displayName:"Message",section:!0,target:"e1uut4cd4"})(),fh=function(){return Lt.createElement(ih,{full:!0},Lt.createElement(sh,null,Lt.createElement(fr,null,Lt.createElement(Ur,{className:ch,letter:" "})),Lt.createElement(lh,null,Lt.createElement(dh,null,Lt.createElement(ur,null,Lt.createElement(ph,null,Lt.createElement(Wr,null,Lt.createElement(Si,null,Lt.createElement(uh,null),Lt.createElement(uh,{width:"7em"})))))),Lt.createElement(dh,null,Lt.createElement(ur,{reverse:!0},Lt.createElement(ph,null,Lt.createElement(Wr,null,Lt.createElement(Si,null,Lt.createElement(uh,null)))))),Lt.createElement(dh,null,Lt.createElement(ur,null,Lt.createElement(ph,null,Lt.createElement(Wr,null,Lt.createElement(Si,null,Lt.createElement(uh,null)))))))))},mh=Object(N.c)((function(e){return{destroyed:e.getApplicationState().destroyed,showLoader:Object(ae.Y)(B.b,e)}}))((function(e){var t=e.destroyed,n=e.showLoader,r=e.scrollingDeltaSource,i=e.isOnBottomSource;return t?Lt.createElement(ah,null):n?Lt.createElement(fh,null):Lt.createElement($m,{id:B.b,scrollingDeltaSource:r,isOnBottomSource:i})})),hh=ln("div",{target:"e5cxvfk0"})("display:flex;justify-content:center;font-size:0.9em;"),bh=ln("p",{target:"errpamd0"})("text-align:center;"),gh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,submitting:!1},t.showModal=function(){t.setState({open:!0})},t.closeModal=function(){t.setState({open:!1})},t.handleCloseClick=function(){t.setState({submitting:!0}),t.props.closeChat().then((function(){t.setState({submitting:!1}),t.closeModal()})).catch((function(){t.setState({submitting:!1})}))},t}return Object(Rt.a)(t,e),t.prototype.render=function(){var e=this.props.localize,t=this.state.submitting;return Lt.createElement(Lt.Fragment,null,Lt.createElement(Bd,{label:e("close_chat")},Lt.createElement(lc,{onClick:this.showModal,"aria-label":e("close_chat")},Lt.createElement(ic,{"aria-hidden":!0}))),Lt.createElement(xl,{shown:this.state.open,onClose:this.closeModal,"aria-labelledby":"close_chat_confirm_label"},Lt.createElement(Ks,{"aria-hidden":!0},Lt.createElement(cc,null)),Lt.createElement(bh,{id:"close_chat_confirm_label"},e("leave_chat_confirm")),Lt.createElement(hh,null,Lt.createElement(dd,{destructive:!0,label:e("close_chat"),submitting:t,onClick:this.handleCloseClick}))))},t}(Lt.Component),vh=n(267),yh=Lt.createContext({}),Oh=ln("ul",{target:"e1ixnb8m0"})("list-style-type:none;position:absolute;z-index:100;background:",(function(e){return e.theme.colors.surface.light}),";box-shadow:",(function(e){return e.theme.boxShadow.md}),";border-radius:",(function(e){return e.theme.borderRadius.lg}),";margin:0;margin-top:2.2em;margin-left:0.8em;padding:0;min-width:180px;overflow:hidden;&:focus{outline:none;}& >:last-child{border-bottom:0;}"),_h=function(e){var t=e.highlightedIndex,n=e.items,r=t.current;return!(null===r||r<0)&&"true"!==n.current[r].ref.current.getAttribute("aria-disabled")};var wh=function(e){var t=e.children,n=e.onClose,r=e.menuButtonRef,i=e.onSelect,a=Object(x.a)(e,["children","onClose","menuButtonRef","onSelect"]),o=Lt.useRef(null),c=Object(vh.a)({onSelect:i}),u=c.useHighlightedItemId(),s=Tn();return yn((function(){"click"===s()&&c.clearHighlightedItem(),o.current.focus()})),Object(mn.a)(o,(function(e){r.current.contains(e.target)||n()})),Lt.createElement(dl,null,Lt.createElement(yh.Provider,{value:c},Lt.createElement(Oh,Object(j.a)({onMouseOut:c.clearHighlightedItem,tabIndex:-1,role:"menu",innerRef:o,"aria-activedescendant":u,onKeyDown:function(e){switch(e.preventDefault(),e.key){case"ArrowUp":return void c.moveHighlightedItem(-1);case"ArrowDown":return void c.moveHighlightedItem(1);case"Home":return void c.setHighlightedItem(0);case"End":return void c.setHighlightedItem(c.items.current.length-1);case" ":if(!_h(c))return;return void c.selectHighlightedItem();case"Enter":if(!_h(c))return;return c.selectHighlightedItem(),n(),void r.current.focus();case"Tab":return n(),e.shiftKey?void r.current.focus():void Object(re.c)(r.current).focus();case"Escape":return n(),void r.current.focus();default:return void c.highlightItemByString(e)}}},a),t)))},jh=ln("p",{target:"emwx8nd0"})("text-align:center;"),xh=function(e){var t=e.email,n=e.localize,r=e.sent,i=e.open,a=e.onClose,o=e.onSubmit,c=e.mobile,u=Gn("email-transcript"),s=Lt.useState((function(){return{email:t}})),l=s[0],d=s[1];return Lt.useEffect((function(){if(i){var e=u.get();d(e||{email:t})}}),[u,t,i]),Lt.createElement(xl,{shown:i,onClose:a,"aria-labelledby":r?"email-transcript-sent-label":"email-transcript-not-sent-label"},i&&(r?Lt.createElement(Lt.Fragment,null,Lt.createElement(Ks,{"aria-hidden":!0},Lt.createElement(mc,null)),Lt.createElement(jh,{id:"email-transcript-sent-label",textWrap:!0},n("chat_transcript_sent").replace(/%s/g,t||"")),Lt.createElement(hh,null,Lt.createElement(eu,{capitalize:!0,onClick:a},n("hide")))):Lt.createElement(Lt.Fragment,null,Lt.createElement(Ks,{"aria-hidden":!0},Lt.createElement(mc,null)),Lt.createElement(jh,{id:"email-transcript-not-sent-label"},n("send_transcript_to_email")),Lt.createElement(Cd,{id:"email_transcript",initialValues:l,mobile:c,onSubmit:function(e){return o(e.email).then((function(){return u.destroy()})).catch((function(){var e;return(e={})[Rp.a]=n("lost_connection"),e}))},submitLabel:n("send"),validate:function(e){return e.email?{}:{email:n("survey_fill_in_required_fields")}}},Lt.createElement(ur,null,Lt.createElement(El.c,{onChange:function(e){var t=e.values;e.dirty&&u.set(t)}}),Lt.createElement(Jp,{ariaLabel:"Enter your email address",name:"email",required:!0,serverName:"",label:"",type:"email",localize:w.A}))))))},Eh=ln("li",{target:"ezmrzej0"})("background:transparent;font-family:inherit;font-size:14px;border:0;display:flex;align-items:center;padding:1.3em;width:100%;cursor:pointer;",(function(e){var t=e.theme,n=e.highlighted;return Object(j.a)({borderBottom:"1px solid "+t.colors.divider},n&&{color:""+t.colors.ctaText,backgroundColor:""+t.colors.cta})})," &[aria-disabled='true']{pointer-events:none;",(function(e){var t=e.theme,n=e.highlighted;return Object(j.a)({color:""+t.colors.grayscale[400]},n&&{color:""+t.colors.grayscale[600],backgroundColor:""+t.colors.grayscale[100]})}),"}"),Ch=function(e){var t=e.disabled,n=e.text,r=e.value,i=Object(x.a)(e,["disabled","text","value"]),a=Lt.useRef(null),o=Lt.useContext(yh),c=o.clearHighlightedItem,u=(0,o.useItem)({ref:a,text:n,value:r}),s=u.id,l=u.highlight,d=u.select,p=(0,u.useHighlighted)();return Lt.createElement(Eh,Object(j.a)({role:"menuitem",id:s,innerRef:a,highlighted:p,onMouseOver:l,onMouseOut:c,onClick:function(e){1!==e.nativeEvent.which||t||d()}},t&&{"aria-disabled":!0},i))},kh=Ch,Sh=function(e){var t=e.checked,n=Object(x.a)(e,["checked"]);return Lt.createElement(Ch,Object(j.a)({role:"menuitemcheckbox","aria-checked":t},n))},Ih=Ft("margin-right:8px;"),Th=Ft("&-enter{opacity:0;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);}}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);transition:transform 200ms;}}&-exit{opacity:1;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);}}&-exit-active{opacity:0;transition:opacity 200ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);transition:transform 200ms;}}"),zh=Object(N.c)((function(e){var t=B.b,n=function(n){return e.requestUpdateChat(t,{properties:{transcriptSentTo:n}})},r=function(){e.setApplicationState({muted:!e.getApplicationState("muted")})};return function(e){var i=e.getChat(t),a=i.active,o=i.properties,c=o.transcriptSentTo;return{localize:e.localize,muted:e.getApplicationState("muted"),sendTranscript:n,transcriptSentTo:c,enableTranscript:a||o.ended,showTranscript:Object(ae.f)("emailTranscript",e).enabled,toggleSounds:r,customerEmail:e.getSessionUser().email}}}))((function(e){var t=e.customerEmail,n=e.enableTranscript,r=e.localize,i=e.muted,a=e.sendTranscript,o=e.showTranscript,c=e.toggleSounds,u=e.transcriptSentTo,s=Lt.useState(!1),l=s[0],d=s[1],p=Lt.useState(!1),f=p[0],m=p[1];Tn();var h=Lt.useRef(null),b=!!u,g=Lt.useCallback((function(e){switch(e){case"mute":return void c();case"transcript":return d(!1),void m(!0)}}),[c]);return Lt.createElement(Lt.Fragment,null,Lt.createElement(Bd,{disabled:l,label:r("theme_options")},Lt.createElement(ti,Object(j.a)({innerRef:h,onClick:function(){return d((function(e){return!e}))},className:Ft("padding:0;"),"aria-label":l?"Close menu":"Open menu","aria-haspopup":!0},l&&{"aria-expanded":l}),Lt.createElement(ac,{"aria-hidden":!0}))),Lt.createElement(ni.a,{component:null},l&&Lt.createElement(Mr.a,{classNames:Th,timeout:200},Lt.createElement(wh,{"aria-label":"Menu",menuButtonRef:h,onClose:function(){return d(!1)},onSelect:g},o&&Lt.createElement(kh,{disabled:!n,text:r("send_transcript"),value:"transcript"},Lt.createElement(mc,{className:Ih,"aria-hidden":!0}),r("send_transcript")),Lt.createElement(Sh,{checked:i,text:r(i?"unmute":"mute"),value:"mute"},i?Lt.createElement(kc,{className:Ih,"aria-hidden":!0}):Lt.createElement(bc,{className:Ih,"aria-hidden":!0}),r(i?"unmute":"mute"))))),Lt.createElement(xh,{email:b?u:t,localize:r,onClose:function(){return m(!1)},onSubmit:a,sent:b,open:f}))})),Mh=function(e){return"modern"===e?28:32},Ah=window.matchMedia("(max-height: 330px)"),Rh=Ft("overflow:hidden;flex-grow:0;text-align:left;padding:0 0.8em;font-weight:700;display:flex;align-items:center;transition:0.3s background-color;"),Lh=ln("div",{displayName:"IconPlaceholder",target:"e7bf83j0"})("width:25px;flex-shrink:0;"),Nh=function(e){return Ft("height:30px;line-height:30px;font-size:inherit;font-weight:700;margin-top:0;margin-bottom:0;transition:opacity 100ms ",e.transitions.easings.smooth,";")},Bh=ln(Ks,{displayName:"HourGlassLabel",target:"e7bf83j1"})("margin-right:5px;"),Ph=ln("h1",{target:"e7bf83j2"})((function(e){var t=e.theme;return Nh(t)})),qh=ln("button",{target:"e7bf83j3"})((function(e){var t=e.theme;return Nh(t)})," width:100%;height:",(function(e){return"modern"===e.theme.name?"24px":"32px"}),";display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;color:inherit;background:none;border:none;cursor:pointer;appearance:none;"),Dh=ln("span",{target:"e7bf83j4"})("min-width:0;"),Fh=ln("div",{target:"e7bf83j5"})(),Vh=function(e){return Object(w.db)(e-1).map((function(e){return Lt.createElement(Lh,{key:"placeholder_"+e})}))},Uh=Object(N.c)((function(e){var t=function(t,n,r,i){return t&&i?t.name:n||r?e.localize("welcome_title"):""},n=function(){return e.requestUpdateChat(B.b,{active:!1})},r=e.getApplicationState("embedded");return function(e){var i=Object(ae.b)(B.b,e),a=Object(ae.bb)(e),o=Object(ae.ab)(e),c=Object(ae.X)(e);return{embedded:r,closeChat:n,title:e.localize("welcome_title"),alternateTitle:t(i,a,o,c),agent:i,isQueued:a,isOffline:o,showCloseButton:e.getChat(B.b).active,localize:e.localize,showAgentBar:c,showAvatar:Object(ae.f)("agentAvatar",e).enabled}}}))(Object(Zt.b)((function(e){var t=e.showCloseButton,n=e.closeChat,r=e.localize,i=e.showMinimizedButton,a=e.title,o=e.alternateTitle,c=e.onMinimize,u=e.showAgentBar,s=e.scrollingDeltaSource,l=e.isQueued,d=e.isOffline,p=e.agent,f=e.showAvatar,m=e.isOnBottomSource,h=e.theme,b=Lt.useRef(),g=Lt.useRef(),v=Lt.useRef(),y=Lt.useRef(Ah.matches),O=Lt.useState(!0),_=O[0],w=O[1],x=Object(vn.b)(),E=h.name,C=Lt.useCallback((function(){b.current&&(b.current.style.opacity=1),g.current&&(g.current.style.opacity=0),v.current&&(v.current.style.transform="translateY("+Mh(E)+"px)"),w(!0)}),[E]),k=Lt.useCallback((function(){s.next({deltaX:0,deltaY:-50})}),[s]);yn(C),wn(s,(function(e){var t=e.y;o&&!y.current&&(b.current&&(b.current.style.opacity=1-2*t),g.current&&(g.current.style.opacity=t),v.current&&(v.current.style.transform=0===t?"translateY("+Mh(E)+"px)":"translateY("+(Mh(E)-60*t+("modern"===E?4:0))+"px)"),1===t&&_?w(!1):0!==t||_||w(!0))})),Lt.useEffect((function(){u&&o||C()}),[u,C,o]),Lt.useEffect((function(){var e=function(e){var t=e.matches;return y.current=t};return Ah.addListener(e),function(){return Ah.removeListener(e)}}),[]),Lt.useEffect((function(){if(m)return m.subscribe((function(e){e&&C()}))}),[m,C]);var S=function(e,t){var n=e.filter(Boolean),r=t.filter(Boolean);return n.length===r.length?{leftIcons:n,rightIcons:r}:n.length>r.length?{leftIcons:n,rightIcons:Vh(n.length-r.length).concat(r)}:{leftIcons:n.concat(Vh(r.length-n.length)),rightIcons:r}}([Lt.createElement(zh,{key:"menu"})],[i&&Lt.createElement(Bd,{key:"minimize",label:r("embedded_minimize_window")},Lt.createElement(lc,{onClick:c,"aria-label":r("embedded_minimize_window")},Lt.createElement(hc,{"aria-hidden":!0}))),t&&Lt.createElement(gh,{closeChat:n,key:"close",localize:r})]),I=S.leftIcons,T=S.rightIcons,z="modern"===E?"small":"normal";return Lt.createElement(aa,{className:Rh,leftIcons:I,noShrink:!0,rightIcons:T,title:Lt.createElement(Fh,{innerRef:v},Lt.createElement(Ph,{ellipsis:!0,innerRef:b,style:{marginBottom:30}},a),Lt.createElement(qh,Object(j.a)({innerRef:g,disabled:_,onClick:k,"aria-expanded":_,"aria-controls":"top-bar","aria-label":o||a},x),d&&Lt.createElement(Gd,{size:z,availability:"offline"}),l&&Lt.createElement(Bh,{size:"modern"===E?"24px":"30px"},Lt.createElement(sc,{size:22})),p&&u&&f&&Lt.createElement(Gd,{avatarUrl:p.avatar,size:z,availability:"online"}),p&&!f&&Lt.createElement(Gd,{size:z,availability:"online"}),Lt.createElement(Dh,{ellipsis:!0},o)))})}))),Hh=["M181.18 103.421H238.128V89.1388H198.435V17.1462H181.18V103.421Z","M246.429 103.421H263.195V39.3312H246.429V103.421ZM245.07 22.5837C245.178 25.0948 246.252 27.4671 248.067 29.2056C249.883 30.9442 252.299 31.9147 254.812 31.9147C257.326 31.9147 259.742 30.9442 261.557 29.2056C263.372 27.4671 264.446 25.0948 264.554 22.5837C264.611 21.269 264.401 19.9564 263.937 18.725C263.473 17.4936 262.765 16.3689 261.854 15.4185C260.944 14.4681 259.851 13.7119 258.641 13.1952C257.431 12.6785 256.128 12.4122 254.812 12.4122C253.496 12.4122 252.194 12.6785 250.984 13.1952C249.773 13.7119 248.68 14.4681 247.77 15.4185C246.86 16.3689 246.151 17.4936 245.687 18.725C245.223 19.9564 245.013 21.269 245.07 22.5837Z","M328.862 39.3312H312.097L298.303 86.2931L284.492 39.3312H267.727L289.477 103.421H306.967L328.862 39.3312Z","M358.805 104.907C372.979 104.907 384.452 96.4069 386.663 84.6981H372C370.387 89.1387 365.964 92.8363 358.805 92.8363C349.072 92.8363 345.247 86.2931 345.247 78.7712V77.1763H387.152V65.9569C387.152 50.5506 377.546 37.8631 358.569 37.8631C339.592 37.8631 328.989 50.1881 328.989 67.57V76.3062C328.953 94.25 340.68 104.907 358.805 104.907ZM345.211 64.7244C345.211 56.0969 348.836 49.6988 358.533 49.6988C367.596 49.6988 371.71 55.7344 371.71 63.7456V65.3406H345.211V64.7244Z","M431.667 105.125C453.417 105.125 466.92 90.335 467.79 72.6994H451.768C450.644 82.4325 444.518 90.9512 431.667 90.9512C417.258 90.9512 411.095 81.0912 411.095 67.28V53.2694C411.095 39.4581 417.258 29.5981 431.667 29.5981C444.482 29.5981 450.644 38.0987 451.768 47.85H467.79C466.92 30.2144 453.49 15.4244 431.667 15.4244C405.658 15.4244 393.949 32.0631 393.949 54.1212V66.4462C393.949 88.5225 405.658 105.125 431.667 105.125Z","M476.889 103.421H493.655V65.4675C493.655 56.84 498.458 52.3994 505.98 52.3994C514.118 52.3994 517.689 57.71 517.689 65.0869V103.421H534.454V62.3862C534.454 47.2337 525.7 37.8631 511.78 37.8631C503.515 37.8631 496.99 41.4881 493.655 46.9256V13.4487H476.889V103.421Z","M566.445 104.907C573.84 104.907 581.978 101.826 584.932 97.5125V103.421H601.082V62.5131C601.082 47.5963 590.116 37.8631 574.094 37.8631C560.282 37.8631 550.295 44.515 546.598 56.9669H562.131C563.853 53.505 567.424 50.9313 573.224 50.9313C580.129 50.9313 584.316 55.3538 584.316 61.2806V70.035C579.662 66.4073 573.903 64.4878 568.004 64.5975C552.597 64.5975 542.121 71.0138 542.121 84.9338C542.157 97.3856 552.017 104.907 566.445 104.907ZM570.759 93.815C563.726 93.815 558.434 90.3712 558.434 84.4444C558.434 78.5175 563.364 75.3819 571.248 75.3819C578.77 75.3819 584.316 78.7169 584.316 84.4444C584.316 90.1719 578.117 93.815 570.759 93.815Z","M632.492 103.421H644.074V89.8637H637.205C632.764 89.8637 631.169 88.1419 631.169 83.955V52.8887H644.853V39.3312H631.169V21.8406H614.367V39.3312H605.305V52.8887H614.367V85.1875C614.367 96.5337 620.077 103.421 632.492 103.421Z"],Gh=ln("svg",{target:"e1lie4030"})("height:13px;max-width:58px;margin-left:4px;position:relative;top:",(function(e){return"smooth"===e.theme.name?"2px":"1px"}),";"),Wh=Object(Zt.b)((function(e){var t=e.theme,n=Object(x.a)(e,["theme"]),r=t.colors.brand,i=r.orange,a=r.black;return Lt.createElement(Gh,Object(j.a)({viewBox:"0 0 645 145",fill:"none"},n),Lt.createElement("path",{d:"M144.096 90.1356C143.359 98.7467 139.392 106.76 132.991 112.567C126.589 118.373 118.228 121.542 109.586 121.438H90.5545L54.3045 145V121.438L90.5545 97.875H109.622C112.32 97.9725 114.954 97.0425 116.993 95.2729C119.032 93.5033 120.323 91.026 120.606 88.3413C121.714 70.2301 121.623 52.0654 120.334 33.9663C120.116 31.552 119.036 29.2968 117.292 27.6129C115.548 25.929 113.257 24.9288 110.836 24.795C98.4752 24.0338 85.4614 23.5625 72.4295 23.5625C59.3977 23.5625 46.3839 23.9975 34.0227 24.8675C31.6022 25.0013 29.3107 26.0015 27.5669 27.6854C25.8231 29.3693 24.7434 31.6245 24.5252 34.0387C23.2361 52.1379 23.1452 70.3026 24.2533 88.4137C24.5532 91.0854 25.8518 93.545 27.8887 95.2996C29.9256 97.0542 32.5504 97.9741 35.237 97.875H54.3045V121.438H35.2733C26.641 121.523 18.2952 118.343 11.9087 112.535C5.52217 106.727 1.56695 98.7192 0.835792 90.1175C-0.362946 70.7996 -0.272119 51.4233 1.10767 32.1175C1.79276 24.1116 5.31632 16.6141 11.0427 10.9774C16.7691 5.34078 24.3213 1.93607 32.337 1.3775C45.242 0.453125 58.8358 0 72.4295 0C86.0233 0 99.617 0.453125 112.522 1.3775C120.562 1.92172 128.141 5.32939 133.884 10.9825C139.626 16.6355 143.153 24.1596 143.824 32.19C145.201 51.4777 145.292 70.8358 144.096 90.1356Z",fill:i}),Hh.map((function(e,t){return Lt.createElement("path",{key:t,d:e,fill:a})})))})),Yh=ln("div",{displayName:"Footer",section:!0,target:"e13tedl70"})(),Jh=ln("a",{displayName:"FooterLink",target:"e13tedl71"})("display:flex;direction:ltr;align-items:center;justify-content:center;"),Zh=Object(N.c)((function(e){var t=e.getApplicationState(),n=t.license,r=t.mobile,i=document.referrer?Object(z.k)(Object(z.d)(document.referrer)||""):"lc"+n,a=ae.L(e);return{url:"https://www.livechatinc.com/powered-by-livechat/?"+Object(z.a)(Object(j.a)({partner:i,utm_campaign:i,utm_source:"chat_window",utm_medium:"referral"},a&&{utm_term:"nonprofit"})),hidden:ae.f("hideTrademark",e).enabled||r}}),{shouldHandleStateChanges:!1})((function(e){var t=e.url;return e.hidden?null:Lt.createElement(Yh,null,Lt.createElement(Jh,{href:t,rel:"noreferrer",target:"_blank"},Lt.createElement("span",null,"Powered by "),Lt.createElement(Wh,null)))})),Kh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.forEach((function(e){e.apply(void 0,n)}))}},Xh=ln("div",{displayName:"Maximized",target:"e903lsu0"})("position:relative;display:flex;flex-direction:column;min-width:0;height:100%;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";overflow:hidden;background:",(function(e){return e.theme.colors.surface.light}),";",(function(e){var t=e.expandToEdge,n=e.theme;return{borderRadius:t?n.borderRadius.none+" !important":n.borderRadius.lg}}),";"),Qh=ln("div",{target:"e903lsu1"})("flex-grow:1;"),$h=Ft("&-enter{opacity:0;transform:translate3d(0,100%,0);}&-enter&-enter-active{opacity:1;transform:translate3d(0,0%,0);transition:opacity 140ms ease 200ms,transform 140ms ease 200ms;}&-exit{opacity:1;transform:translate3d(0,0%,0);}&-exit&-exit-active{opacity:0;transform:translate3d(0,100%,0);transition:opacity 140ms ease,transform 140ms ease;}"),eb=function(e,t){return Ft("&-enter{transform:translate3d(","right"===e?"":"-","40%,40%,0) scale(0.1);",Xh," > *{opacity:0;transform:translate3d(0,20%,0);}}&-enter&-enter-active{transform:translate3d(0%,0%,0) scale(1);transition:transform ",430,"ms ",t.transitions.easings.sharp,";",Xh," > *{opacity:1;transform:translate3d(0,0%,0);transition:opacity 160ms ",t.transitions.easings.sharp," 270ms,transform 160ms ",t.transitions.easings.sharp," 270ms;}}&-exit{transform:translate3d(0%,0%,0) scale(1);opacity:1;",Xh," > *{opacity:1;transform:translate3d(0,0%,0);}}&-exit&-exit-active{opacity:0;transform:translate3d(","right"===e?"":"-","40%,40%,0) scale(0.1);transition:transform ",430,"ms ",t.transitions.easings.sharp,",opacity 300ms ease;",Xh," > *{opacity:0;transform:translate3d(0,10%,0);transition:opacity 160ms ",t.transitions.easings.sharp,",transform 160ms ",t.transitions.easings.sharp,";}}")},tb=ln("div",{displayName:"ApplicationWrapper",target:"e903lsu2"})("position:absolute;top:0;left:auto;right:0;bottom:0;width:100%;height:100%;will-change:tranform,opacity;backface-visibility:hidden;"),nb=ln("div",{target:"e903lsu3"})("z-index:101;border-radius:inherit;"),rb=ln("div",{target:"e903lsu4"})("z-index:101;position:relative;"),ib=function(e){var t=e.dir,n=e.enhancedToggle,r=e.showMinimizedButton,i=e.isMainViewVisible,a=e.expandToEdge,o=Fn({x:0,y:0}),c=Fn(!0);return Lt.createElement(tb,{dir:t,expandToEdge:a},Lt.createElement(Xh,{expandToEdge:a,role:"main"},Lt.createElement(nb,{id:"app-portal"}),Lt.createElement(rb,{id:"tooltip-portal"}),Lt.createElement(Uh,{isOnBottomSource:c,onMinimize:n,showMinimizedButton:r,scrollingDeltaSource:o}),i?Lt.createElement(mh,{scrollingDeltaSource:o,isOnBottomSource:c}):Lt.createElement(Qh,null),Lt.createElement(Zh,null)))},ab=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isMainViewVisible:t.props.maximized},t.enhanceToggle=function(e){return Kh(t.props.embedded?e:w.S,t.props.onClick)},t.handleAnimationEnd=function(){t.props.onAnimationEnd()},t.showMainView=function(){t.setState({isMainViewVisible:!0})},t.hideMainView=function(){t.setState({isMainViewVisible:!1})},t}return Object(Rt.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.expandToEdge,r=t.maximized,i=t.setMaximizedState,a=t.screenPosition,o=t.showMinimizedButton,c=t.showMinimized,u=t.onMinimizedRef,s=t.onMinimizedResize,l=t.theme,d=this.state.isMainViewVisible,p=this.props.rtl?"rtl":"ltr";return Lt.createElement(Lt.Fragment,null,Lt.createElement(Kn.a,{on:r,onToggle:i},(function(t){var r=t.on,i=t.toggle,f=e.enhanceToggle(i);return Lt.createElement(ni.a,{appear:!0},r&&Lt.createElement(Mr.a,{classNames:eb(a,l),onExited:e.handleAnimationEnd,onEntered:e.showMainView,onExit:e.hideMainView,timeout:430},Lt.createElement(ib,{dir:p,enhancedToggle:f,isMainViewVisible:d,showMinimizedButton:o,expandToEdge:n})),!r&&c&&Lt.createElement(Mr.a,{classNames:$h,onExited:e.handleAnimationEnd,timeout:430},Lt.createElement(Es,{dir:p,onMaximize:f,innerRef:u,onResize:s})))})))},t}(Lt.Component);ab.propTypes={maximized:Xn.bool.isRequired,onAnimationEnd:Xn.func,onClick:Xn.func,setMaximizedState:Xn.func.isRequired},ab.defaultProps={onAnimationEnd:w.S,onClick:w.S};var ob=Object(N.c)((function(e){var t=function(t){e.setApplicationState({maximized:t})};return function(e){var n=e.getApplicationState(),r=n.mobile,i=n.embedded,a=n.actingAsDirectLink,o=n.isInCustomContainer,c=n.maximized,u=n.rtl,s=ae.f(r?"mobileMinimized":"minimized",e).enabled;return{mobile:r,expandToEdge:r||!i||o,setMaximizedState:t,embedded:i,maximized:c,showMinimized:!a&&s,screenPosition:ae.p(e),rtl:u,showMinimizedButton:ae.Z(e)}}}))(Object(Zt.b)(ab)),cb=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={crashed:!1},t}Object(Rt.a)(t,e);var n=t.prototype;return n.componentDidCatch=function(e,t){this.setState({crashed:!0}),this.props.onError(e,t)},n.render=function(){return this.state.crashed?null:this.props.children},t}(Lt.Component);cb.defaultProps={onError:w.S};var ub=Object(j.a)({},ju,{borderRadius:Object(j.a)({},ju.borderRadius,{def:ju.borderRadius.sm}),TitleBar:{css:{fontWeight:"700!important",fontSize:"1.1em",textAlign:"center!important",height:"42px",justifyContent:"flex-start"},TitleBarTitle:{css:{fontSize:po(14)}},Avatar:{css:{border:"0"}}},IconButton:{css:{padding:"0 .5em"}},MessageList:{css:{backgroundColor:ju.colors.surface.light}},Maximized:{css:{borderRadius:[ju.borderRadius.sm,ju.borderRadius.sm,ju.borderRadius.none,ju.borderRadius.none].join(" ")}},Footer:{css:{position:"relative",right:0,bottom:0,fontSize:"0.6em",color:ju.colors.text.muted,backgroundColor:ju.colors.surface.lightVariant,textAlign:"center",padding:"1em"},FooterLink:{css:{textDecoration:"none",color:"inherit",fontWeight:"bold"}}},ApplicationWrapper:{css:{padding:{default:"1em 1em 0 1em",expandToEdge:"0"}}},AgentBar:{css:{padding:"0.6em"},Avatar:{size:"60px",css:{borderRadius:ju.borderRadius.none}},SubTitle:{css:{fontSize:".8em"}},Title:{css:{fontSize:"1em",fontWeight:"bold"}},IconButton:{css:{fontSize:po(24),backgroundColor:"transparent !important",color:{default:"inherit"},opacity:{default:"0.3",disabled:"0.15",active:"0.6"}}}},Button:{css:{boxShadow:"none"}},Message:{horizontalAlign:"left",own:{horizontalAlign:"left",Content:{css:{alignItems:"flex-start"}}},system:{MessageText:{css:{fontSize:".9em"}}},css:{flexDirection:"row"},Bubble:{sharpBorderRadius:"0px",ovalBorderRadius:"0px",css:{border:"0",padding:"0",background:"transparent",boxShadow:"none"}},ImagePreview:{css:{maxWidth:"150px",maxHeight:"250px",borderRadius:ju.borderRadius.none}},Button:{css:{borderTop:"0!important"}}},MessageText:{css:{padding:"0",fontSize:"14px"}},MessageGroup:{css:{marginBottom:".5em"}},MinimizedBar:{css:{borderRadius:[ju.borderRadius.sm,ju.borderRadius.sm,ju.borderRadius.none,ju.borderRadius.none].join(" "),height:"40px"},Icon:{css:{transform:"scale(0.8)"}}},MinimizedBubble:{css:{position:"relative"}},View:{Bubble:{css:{border:"0",padding:"0",background:"transparent",boxShadow:"none"}},ViewContent:{css:{paddingTop:".5em"}},css:{paddingBottom:"0"}},TextInput:{css:{lineHeight:"1.1em"}},Form:{css:{fontSize:"0.9em"},IconButton:{css:{color:{default:ju.colors.text.muted,active:ju.colors.text.white}}}},Tooltip:{css:{padding:"0.5em 0.8em",fontSize:".7em"}},TooltipArrow:{css:{marginTop:"-1em"}},Invitation:{Bubble:{sharpBorderRadius:"6px",ovalBorderRadius:"6px",css:{padding:".5em"}}},InformationField:{css:{fontSize:"1.1em"}},SystemCard:{css:{maxWidth:"368px",width:"calc(100% - 0.6em)",margin:"0.3em",boxShadow:"none",border:"1px solid "+ju.colors.divider}},TextComposer:{IconButton:{css:{opacity:{active:1,default:.4}}}},NewMessageHorizontalDivider:{css:{margin:"8px -0.5em"}},BoosterContainer:{css:{border:"1px solid "+ju.colors.divider,maxWidth:"368px",width:"calc(100% - 0.6em)",margin:"0.3em",boxShadow:"none",borderRadius:ju.borderRadius.md}},BoosterButton:{css:{boxShadow:"none"}}}),sb=function(e){function t(t){var n;(n=e.call(this,t)||this).id="widget-global-"+Object(w.u)(),Ut("#",n.id," *{font-family:'Noto Sans',sans-serif;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;}");var r="https://fonts.googleapis.com/css?family=Noto+Sans:400,700&subset=latin-ext&display=swap",i=document.querySelector("head"),a=i.querySelectorAll("link");if(Object(w.m)((function(e){return e.href===r}),a))return Object(At.a)(n);var o=document.createElement("link");return o.setAttribute("href",r),o.setAttribute("rel","stylesheet"),i.appendChild(o),n}return Object(Rt.a)(t,e),t.prototype.render=function(){return Lt.createElement("div",{id:this.id},this.props.children)},t}(Lt.Component),lb=Object(N.c)((function(e){return{mobile:e.getApplicationState("mobile"),theme:e.getApplicationState("config").theme}}),{shouldHandleStateChanges:Boolean("")})((function(e){var t=e.mobile,n=e.theme,r=e.children,i=Object(w.Q)("modern"===n.name?ub:Eu,n);return Lt.createElement(vn.a,null,Lt.createElement(Xi,{theme:t?Object(w.Q)(i,{typography:{input:{fontSize:"16px"},placeholder:{fontSize:"16px"}}}):i},r))}));function db(e,t,r,i){var a=t.adapterOptions,o=t.props,c=o.onError,u=void 0===c?w.S:c,s=Object(x.a)(o,["onError"]),l=t.onBootstrap,d=void 0===l?w.S:l,p="3"===r.__unsafeProperties.license.protocolVersion;e.setApplicationState({protocol:p?"lc3":"lc2"}),Promise.all([p?Promise.resolve({default:pt}):Promise.all([n.e(5),n.e(6)]).then(n.bind(null,388)),T.a?Promise.all([n.e(0),n.e(1)]).then(n.bind(null,389)):null]).then((function(t){var o=t[0].default,c=t[1];o(a,e,r);e.on("set_application_state",(function t(r){if(r.ready){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_sdk_ready"),e.off("set_application_state",t),e.getApplicationState("embedded")||function(e){Object(ne.u)(Object(ie.c)(e,(function(){return e.localize("welcome_title")})),Object(ne.h)((function(e){document.title=e})))}(e),e.getApplicationState("embedded")&&!vt()||function(e){var t=!1;e.on("bridge_sound_unlocked",(function(){return t=!0})),Tt().then((function(n){t||(e.emit("iframe_sound_unlocked"),e.on("add_event",(function(t){var r=t.event;if(!e.getApplicationState().muted){var i=e.getSessionUserId();zt(r,i)&&n("new_message")}})))}))}(e),Object(Mt.a)(e),Object(E.a)(e),function(e,t){var n=Object(ne.u)(Object(ne.n)(),ne.v);if(t){var r=Object(ne.l)(t);Object(ne.u)(n,Object(ne.h)((function(n){e.setApplicationState({applicationFocused:n}),t.emit("focus",n)}))),Object(ne.u)(Object(ne.a)(n,r),Object(ne.c)(50),Object(ne.p)(ft),Object(ne.d)(),Object(ne.h)((function(t){e.setApplicationState({pageFocused:t})})))}else Object(ne.u)(n,Object(ne.h)((function(t){e.setApplicationState({pageFocused:t,applicationFocused:t})})))}(e,i),c&&c.connect(e);var o=document.getElementById("root");!function(e,t){var n=t.store,r=t.onError,i=t.amplitude,a=Object(x.a)(t,["store","onError","amplitude"]),o=(null==i?void 0:i.AmplitudeProvider)||function(e){return e.children};he.render(Lt.createElement(cb,{onError:r},Lt.createElement(N.b,{store:n},Lt.createElement(o,null,Lt.createElement(Ga.a,null,Lt.createElement(sb,null,Lt.createElement(lb,null,Lt.createElement(ob,a))))))),e)}(o,Object(j.a)({},s,{onError:function(e,t){var n=t.componentStack;Object(E.c)("react_error",e,{componentStack:n}),he.render(null,o),u()},store:e,amplitude:c})),window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_bootstrap_end"),d(),a.region||Math.floor(5*Math.random())||setTimeout((function(){Promise.resolve().then(n.bind(null,150)).then((function(t){var n=t.fetchDynamicConfig,r=t.fetchStaticConfig;return n({licenseId:a.license,groupId:a.requestedGroup,skipCodeInstallationTracking:!0,url:e.getApplicationState().page.url}).then((function(e){return r({licenseId:a.license,groupId:e.groupId,version:e.configVersion})}))})).catch(w.S)}),5e3)}}))}))}var pb=function(e,t,n){return!!n||!t&&e.getApplicationState("maximized")};function fb(e,t){var n=e.license,r=e.group,i=e.uniqueGroups,a=Q({application:{license:n,group:r}},{persistKey:de(e)}),o=ee(a);new L.Model(o).then((function(e){return Promise.all([e,a.syncing()])})).then((function(e){var o=e[0];window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_postmate_ready");var c=o.model,u=c.clientLimitExceeded,s=c.customer,l=c.hidden,d=c.integrationName,p=c.isInCustomContainer,f=c.page,m=c.region,h=c.newServerConfig,b=c.ogServerConfig,g=c.actingAsDirectLink,v=a.getApplicationState("mobile"),y=g||p,O="requestedGroup"in o.model?o.model.requestedGroup:r,_=h.__unsafeProperties.group.language;fe(_),a.updateUser(a.getSessionUserId(),s),a.setApplicationState({clientLimitExceeded:!a.getApplicationState("clientLimitExceededLifted")&&u,actingAsDirectLink:g,embedded:!0,isInCustomContainer:p,mobileWrapper:null,hidden:l,page:f,maximized:pb(a,v,y),rtl:pe(_),language:_,integrationName:d,requestedGroup:O});var w={onAnimationEnd:function(){return a.emit("animation_end")},onError:function(){o.call("kill")},onMinimizedRef:function(e){o.minimizedRef=e},onMinimizedResize:function(){return se(o,a)}};db(a,{adapterOptions:{license:n,group:r,requestedGroup:O,region:m,uniqueGroups:i,mobile:Object(G.c)(),ogServerConfig:b},props:w,onBootstrap:function(){var e;y?o.call("show"):(le(o,a),e=a.getState(),Object(me.getApplicationState)(e,"hidden")||Object(me.getView)(e,"minimized").hidden&&!Object(me.getApplicationState)(e,"maximized")||o.call("show"),t(a))}},h,o)}))}var mb={},hb=function(e,t){var n=void 0===t?{}:t,r=n.query,i=void 0===r?{}:r,a=n.jsonpParam,o=void 0===a?"jsonp":a,c=n.callbackName;return new Promise((function(t,n){Object(re.e)().then((function(r){var a,u=document.createElement("script"),s=c||Object(w.v)(mb);mb[s]=!0;var l="__"+s;window[l]=function(e){delete mb[s],delete window[l],Object(re.h)(u),t(e)},u.src=e+"?"+Object(z.a)(Object(P.a)({},i,((a={})[o]=l,a))),u.addEventListener("error",(function(){return n(new Error("JSONP request failed."))})),r.appendChild(u)}))}))},bb=n(83),gb=function(e){return e.sort((function(e,t){return e.order-t.order})).map((function(e){switch(e.type){case"header":return Object(j.a)({},e,{label:e.value});case"checkbox":case"radio":case"select":return Object(j.a)({},e,{options:e.options_data?e.options_data.map((function(e,t){return Object(j.a)({},e,{id:String(t)})})):e.options.map((function(e,t){return{label:e,id:String(t),checked:!1}}))});case"skill":return Object(j.a)({},e,{type:"group_chooser",options:e.skills.map((function(e,t){return{label:e.label,groupId:e.skill_id,id:String(t)}}))});case"checkbox_for_email":return Object(j.a)({},e,e.options_data[0]);case"facebookConnect":return null;default:return e}})).filter(Boolean)},vb=function(e){var t=e.map((function(e,t){return Object(j.a)({},e,{id:String(t)})}));return gb(t)},yb=function(e,t){return"ticket"===e?{id:"ticket",fields:vb(t.fields)}:{id:t.id,fields:gb(t.fields)}},Ob=function(e,t){if(1520===e)return"https://secure-lc.livechatinc.com";return t?function(e,t){var n=e.match(/secure(-(labs|lc))/i);return"https://secure-"+t+(null!==n&&n.length>0?n[1]:"")+".livechatinc.com"}("https://secure.livechatinc.com",t):"https://secure.livechatinc.com"},_b=function e(t,n){var r=n.licenseId,i=n.uniqueGroups,a=n.groupId,o=n.region,c=n.query,u=n.callbackName,s=Ob(r,o);return hb(s+"/"+function(e){var t=e.uniqueGroups,n=e.license,r=e.group;return"licence/"+(t?"g"+n+"_"+(r||0):n)}({uniqueGroups:i,license:r,group:a})+"/v2/"+t+".js",{query:c,callbackName:u}).then((function(n){if(n.error&&"incorrect region"===n.error)return e(t,{licenseId:r,uniqueGroups:i,groupId:a,region:n.region,query:c,callbackName:u});if(n.error)throw new Error(n.error);return Object(j.a)({},n,{region:o})}))},wb=function(e){var t=e.licenseId,n=e.url,r=e.groupId,i=e.uniqueGroups,a=void 0!==i&&i,o=e.skipCodeInstallationTracking,c=void 0!==o&&o,u=e.channelType,s=Object(j.a)({t:Date.now(),url:n,referrer:document.referrer},"number"===typeof r&&{groups:r},u&&{channel_type:u},c&&{test:1});return _b("get_dynamic_config",{licenseId:t,groupId:r,uniqueGroups:a,query:s}).then((function(e){return[e,{groupId:e.visitor.groups,clientLimitExceeded:e.client_limit_exceeded,onlineGroupIds:e.skills_online||[],region:e.region,configVersion:e.static_config_version}]}))},jb=function(e){var t=e.licenseId,n=e.groupId,r=e.uniqueGroups,i=void 0!==r&&r,a=e.region,o=e.version;return _b("get_static_config."+n+"."+o,{licenseId:t,groupId:n,uniqueGroups:i,region:a,callbackName:"lc_static_config"}).then((function(e){var t;return[e,Object(j.a)({localizationVersion:e.localization_url.split(".")[3]},(null==(t=e.domain_whitelist)?void 0:t.length)&&{allowedDomains:e.domain_whitelist},e.pre_chat_survey&&{prechatForm:yb("prechat",e.pre_chat_survey)},!e.embedded_chat.hide_when_offline&&{ticketForm:yb("ticket",e.offline_form)},{buttons:e.buttons.map((function(e){return"image"===e.type?{id:e.id,type:e.type,onlineValue:Object(bb.a)(e.online_value),offlineValue:Object(bb.a)(e.offline_value)}:{id:e.id,type:e.type,onlineValue:e.online_value,offlineValue:e.offline_value}})),integrations:Object(j.a)({},e.integrations.analytics&&{analytics:e.integrations.analytics},e.integrations.kissmetrics&&{kissmetrics:e.integrations.kissmetrics},e.integrations.mixpanel&&{mixpanel:e.integrations.mixpanel}),properties:e.properties,__unsafeProperties:Object(j.a)({},e.s&&{s:!0},{license:{continuousChatWidgetEnabled:"1"===e.license_properties.continuous_chat_widget_enabled,creditCardMaskingEnabled:"1"===e.license_properties.mask_credit_cards,customerHistoryEnabled:"1"===e.license_properties.customer_history_enabled,fileSharingEnabled:"1"===e.license_properties.attachments.enable_for_visitors,inboundForwardingToHelpdeskEnabled:"1"===e.license_properties.helpdesk.inbound_forwarding,nonProfit:"1"===e.license_properties.non_profit,protocolVersion:e.license_properties.lc_version,widgetVersion:e.license_properties.widget_version},group:{chatBoosters:e.group_properties.chat_boosters,disabledMinimized:"1"===e.group_properties.chat_window.disable_minimized,disabledMinimizedOnMobile:"1"===e.group_properties.chat_window.mobile_disable_minimized,disabledOnMobile:"1"===e.group_properties.chat_window.hide_on_mobile,eyeCatcher:function(){if("0"===e.group_properties.embedded_chat.display_eye_catcher)return{enabled:!1};var t=e.group_properties.embedded_chat.eye_grabber.path,n={enabled:!0,x:parseInt(e.group_properties.embedded_chat.eye_grabber.x)+15,y:parseInt(e.group_properties.embedded_chat.eye_grabber.y),src:Object(bb.a)(t)};if(-1!==n.src.indexOf("/default/eyeCatchers/")){var r=/\.([a-z]{1,})$/i,i=n.src.match(r)[1];n.srcset={"1x":n.src,"2x":n.src.replace(new RegExp("\\."+i,"i"),"-2x."+i)}}return n}(),hasAgentAvatarsEnabled:"1"===e.group_properties.chat_window.display_avatar,hasCustomMobileSettings:"1"===e.group_properties.chat_window.custom_mobile_settings,hasHiddenTrademark:"1"===e.group_properties.chat_window.hide_trademark,hasSoundsEnabled:"0"===e.group_properties.chat_window.disable_sounds,initiallyHidden:"1"===e.group_properties.chat_window.hide_on_init,initiallyHiddenOnMobile:"1"===e.group_properties.chat_window.mobile_hide_on_init,language:e.lang,linksUnfurlingEnabled:"1"===e.group_properties.links_unfurling,logo:"1"===e.group_properties.chat_window.display_logo?{enabled:!0,src:e.group_properties.chat_window.logo_path}:{enabled:!1},minimizedType:e.group_properties.chat_window.theme.minimized,minimizedTypeOnMobile:e.group_properties.chat_window.mobile_minimized_theme,offsetX:e.group_properties.chat_window.offset_x,offsetXOnMobile:e.group_properties.chat_window.mobile_offset_x,offsetY:e.group_properties.chat_window.offset_y,offsetYOnMobile:e.group_properties.chat_window.mobile_offset_y,prechatFormAfterGreetingEnabled:"1"===e.group_properties.pre_chat_survey_after_greeting,ratingEnabled:"1"===e.group_properties.rate_me.enabled,screenPosition:e.group_properties.chat_window.screen_position,screenPositionOnMobile:e.group_properties.chat_window.mobile_screen_position,transcriptButtonEnabled:"1"===e.group_properties.chat_window.display_transcript_button,theme:{name:e.group_properties.chat_window.new_theme.name,customJson:e.group_properties.chat_window.new_theme.custom_json,agentbarBackgroundColor:e.group_properties.chat_window.new_theme.agentbar_background_color,agentbarText:e.group_properties.chat_window.new_theme.agentbar_text,agentMessageBackgroundColor:e.group_properties.chat_window.new_theme.agent_message_color_background,agentMessageColorText:e.group_properties.chat_window.new_theme.agent_message_color_text,backgroundColor:e.group_properties.chat_window.new_theme.background_color,ctaColor:e.group_properties.chat_window.new_theme.cta_color,minimizedColorBackground:e.group_properties.chat_window.new_theme.minimized_color_background,minimizedColorIcon:e.group_properties.chat_window.new_theme.minimized_color_icon,minimizedColorText:e.group_properties.chat_window.new_theme.minimized_color_text,systemMessageColor:e.group_properties.chat_window.new_theme.system_message_color,titlebarBackgroundColor:e.group_properties.chat_window.new_theme.titlebar_background_color,titlebarText:e.group_properties.chat_window.new_theme.titlebar_text,visitorMessageBackgroundColor:e.group_properties.chat_window.new_theme.visitor_message_color_background,visitorMessageColorText:e.group_properties.chat_window.new_theme.visitor_message_color_text}}})})]}))},xb=function(e,t){var n=e.license,r=e.group,i=e.requestedGroup,a=t.__unsafeProperties.group.language.language,o=Q({application:{license:n,group:r,requestedGroup:i,rtl:pe(a),language:a,embedded:!1,mobileWrapper:Object(Mt.b)(),page:{title:document.title,url:String(document.location),referrer:document.referrer}}},{persistKey:de(e)}),c=o.getApplicationState().clientLimitExceededLifted;return o.setApplicationState({maximized:!0,clientLimitExceeded:!c&&t.clientLimitExceeded}),o.on("protocol_upgraded",(function(){window.location.reload()})),o.updateUser(o.getSessionUserId(),function(){var e=Object(z.h)(window.location.search),t=Object(w.cb)(["name","email"],e);return e.params&&(t.properties=Object(z.b)(e.params)),t}()),o};var Eb=function(e){return new Promise((function(t){var n=performance.getEntriesByName(e);if(Object(w.D)(n))if("undefined"!==typeof PerformanceObserver){var r=setTimeout((function(){i.disconnect(),t(null)}),6e4),i=new PerformanceObserver((function(n){var a=Object(w.m)((function(t){return t.name===e}),n.getEntries());a&&(i.disconnect(),clearTimeout(r),t(a))}));i.observe({entryTypes:["paint"]})}else t(null);else t(n[0])}))},Cb=function(){var e="lc_get_time_"+Object(w.u)();window.performance&&"function"===typeof window.performance.mark&&window.performance.mark(e);var t=performance.getEntriesByName(e)[0].startTime;return performance.clearMarks(e),t},kb=function(){if("undefined"===typeof PerformanceObserver)return null;var e=Cb(),t=[],n=new PerformanceObserver((function(e){t.push.apply(t,e.getEntries())}));n.observe({entryTypes:["longtask"]});var r=function(){var n,r=Object(w.J)(t);return r?(n=r,Cb()-n.startTime+n.duration):Cb()-e};return{disconnect:function(){return n.disconnect()},getLongTasks:function(){return[].concat(t)},waitForIdle:function(e){return new Promise((function(i){!function a(){t.push.apply(t,n.takeRecords());var o=r();o>=e?i():setTimeout(a,Math.ceil(e-o))}()}))}}},Sb=function(e){void 0===e&&(e="first-contentful-paint");var t=kb();return t?Eb(e).then((function(e){return e?t.waitForIdle(5e3).then((function(){return t.disconnect(),t.getLongTasks()})):null})):Promise.resolve(null)},Ib=function(e,t){if(!e||!t)return null;var n=Object(w.J)(e);return n?Math.max(n.startTime+n.duration,t.startTime):t.startTime},Tb=function(){if(!Math.floor(1e3*Math.random())){var e=Sb("first-paint");return{getLogs:function(){return Promise.all([e,Eb("first-paint")]).then((function(e){var t=e[0],n=e[1];return Object(w.M)((function(e){return e&&Object(w.qb)(e,2)}),{totalBlockingTime:t&&Object(w.lb)(t.map((function(e){return e.duration}))),firstContentfulPaint:null==n?void 0:n.startTime,timeToInteractive:Ib(t,n)})}))}}}},zb=Object(z.h)(window.location.search),Mb=Object(C.b)(),Ab=Object(C.a)(zb),Rb=Object(C.c)();if(!Mb)throw new Error("No license found in the URL.");T.a&&Promise.all([n.e(0),n.e(1)]).then(n.bind(null,389)).catch(w.S),function(){var e={license:Mb,group:Ab,uniqueGroups:Rb},t=Tb(),n=function(){t&&t.getLogs().then((function(e){Object(E.d)("iframe_vitals",Object(w.e)(Object(j.a)({},e,{isEmbedded:!!zb.embedded})))}))};zb.embedded?fb(e,n):function(e,t){window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_config_request");var n=e.license,r=e.group,i=e.uniqueGroups,a={licenseId:n,groupId:r,uniqueGroups:i,url:String(document.location),channelType:"direct_link"};wb(a).then((function(e){var t=e[1],o=t.groupId;return Promise.all([i&&r!==o?wb(Object(j.a)({},a,{groupId:o})):e,jb({licenseId:n,groupId:o,uniqueGroups:i,region:t.region,version:t.configVersion})])})).then((function(i){var a=i[0],o=a[0],c=a[1],u=i[1],s=u[0],l=u[1];window.performance&&"function"===typeof window.performance.mark&&window.performance.mark("lc_server_config");var d=Object(j.a)({},c,l),p=d.groupId,f=d.region;fe(d.__unsafeProperties.group.language);var m=xb(Object(j.a)({},e,{group:p,requestedGroup:r}),d);"3"===d.__unsafeProperties.license.protocolVersion&&Object(Ue.fetchLocalization)({licenseId:n,region:f,groupId:p,version:d.localizationVersion,language:d.__unsafeProperties.group.language}).then(m.setLocalization);var h={adapterOptions:Object(j.a)({},e,{group:p,requestedGroup:r,region:f,mobile:Object(G.c)(),ogServerConfig:Object(j.a)({},o,s)}),props:{},onBootstrap:t};Object(Mt.c)()&&(h.props.onClick=function(){return m.emit("mobile_wrapper_minimize_intent")}),db(m,h,d)}))}(e,n)}()},4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var r="liveChatChatId",i="email_prompt",a="message_draft",o=100,c=20,u=255},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f}));var r=n(1),i=n(4),a=function(e,t){return e.filter((function(e){return e.serverName in t})).map((function(e){return{type:e.type,label:e.label,value:e.options?Object(r.j)(t[e.serverName]).map((function(t){return Object(r.m)((function(e){return e.originalValue===t}),e.options).label})).join(", "):t[e.serverName]}}))},o=function(e,t){var n=e.getEvent(i.b,t),r=n.author,a=n.timestamp,o=n.properties.text,c=e.getUser(r),u=c.type,s={text:o,timestamp:Math.floor(a/1e3),user_type:"agent"===u?u:"visitor"};"agent"===u?(s.agent_name=c.name,s.agent_login=c.id):s.visitor_name=c.name,e.emit("on_message",s)},c=function(e,t,n,r){e.emit("on_"+t+"_survey_submitted",{form_data:a(n,r)})},u=function(e,t,n){c(e,"prechat",t,n)},s=function(e,t,n){c(e,"postchat",t,n)},l=function(e,t){e.emit("on_rating_comment_submitted",t)},d=function(e,t){e.emit("on_rating_submitted",null===t?"none":t)},p=function(e,t,n){e.emit("on_message",{text:t.properties.text,timestamp:n/1e3,user_type:"visitor",visitor_name:e.getSessionUser().name})},f=function(e,t,n,r){var i=r.id,o=r.text,c=r.visitor,u=c.email,s=c.name,l=r.subject,d={form_data:a(t,n),ticket_id:i,text:o,visitor_name:s,visitor_email:u};l&&(d.ticket_subject=l),e.emit("on_ticket_created",d)}},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(1),i=function(){var e;return!(e=window.matchMedia)||!/native code/.test(String(e))||!window.matchMedia("(hover: none)").matches},a=function(){return/mobile/gi.test(navigator.userAgent)&&!("MacIntel"===navigator.platform&&Object(r.B)("iPad",navigator.userAgent))},o=function(){return a()||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var r=n(13),i=r.d.CONNECTED,a=r.d.DISCONNECTED,o="fakely_connected",c=(r.d.NOT_INITIALIZED,r.d.RECONNECTING)},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"C",(function(){return l})),n.d(t,"z",(function(){return d})),n.d(t,"O",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"v",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"w",(function(){return w})),n.d(t,"db",(function(){return j})),n.d(t,"R",(function(){return x})),n.d(t,"V",(function(){return E})),n.d(t,"B",(function(){return C})),n.d(t,"D",(function(){return k})),n.d(t,"cb",(function(){return S})),n.d(t,"o",(function(){return I})),n.d(t,"j",(function(){return T})),n.d(t,"g",(function(){return z})),n.d(t,"A",(function(){return M})),n.d(t,"s",(function(){return A})),n.d(t,"W",(function(){return R})),n.d(t,"n",(function(){return L})),n.d(t,"t",(function(){return N})),n.d(t,"h",(function(){return B})),n.d(t,"M",(function(){return P})),n.d(t,"N",(function(){return q})),n.d(t,"F",(function(){return D})),n.d(t,"H",(function(){return F})),n.d(t,"ab",(function(){return V})),n.d(t,"X",(function(){return U})),n.d(t,"Y",(function(){return H})),n.d(t,"u",(function(){return G})),n.d(t,"L",(function(){return W})),n.d(t,"Z",(function(){return Y})),n.d(t,"x",(function(){return J})),n.d(t,"S",(function(){return Z})),n.d(t,"bb",(function(){return K})),n.d(t,"T",(function(){return X})),n.d(t,"E",(function(){return Q})),n.d(t,"U",(function(){return $})),n.d(t,"i",(function(){return te})),n.d(t,"I",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"J",(function(){return ie})),n.d(t,"eb",(function(){return ae})),n.d(t,"P",(function(){return oe})),n.d(t,"G",(function(){return ce})),n.d(t,"y",(function(){return ue})),n.d(t,"Q",(function(){return se})),n.d(t,"K",(function(){return le})),n.d(t,"a",(function(){return de})),n.d(t,"l",(function(){return fe}));var r=n(1),i=n(4),a=n(48),o=n(68),c=n(10),u=function(e,t){var n=t.getChat(e).properties.currentAgent;return n?t.getUser(n):null},s=function(e,t){return t.getApplicationState("config").features[e]},l=function(e){return s("continuousChat",e).enabled},d=function(e){return s("chatHistory",e).enabled},p=function(e){return!!e.getView("Chat")[i.b].hasDividers},f=function(e,t,n){var i=t.authorPredicate,a=t.lastSeenPredicate,o=n.getEvents(e),c=Object(r.q)(a,o),u=Object(r.nb)((function(e){return i(e)||!e.seen}),c,o);return Object(r.eb)(i,u)},m=function(e,t,n){var r=n.getSessionUserId();return f(e,{authorPredicate:function(e){return e.author===r},lastSeenPredicate:function(e){return e.serverId===t}},n)},h=function(e,t,n){var r=n.getSessionUserId();return f(e,{authorPredicate:function(e){return e.author!==r},lastSeenPredicate:function(e){return(e.serverTimestamp||e.timestamp)<=t}},n)},b=function(e,t,n){var r=n.getSessionUserId();return f(e,{authorPredicate:function(e){return e.author===r},lastSeenPredicate:function(e){return e.timestamp<=t}},n)},g=function(e,t,n){var a=e.getEvent(t,n);if(a.type===i.e&&null===a.serverId){var o=Object(r.p)((function(e){return e.type===i.e}),e.getEvents(t));return a.id===o.id?e.localize("not_sent_yet"):null}if(!a.own)return null;if(a.failed)return"Message not sent";if(a.seen){var c=e.getLastSeenEvent(t);return c&&n===c.id?e.localize("message_read"):null}var u=e.getLastDeliveredEvent(t);return u&&n===u.id?e.localize("message_delivered"):null},v=function(e){var t=e.getApplicationState("config");return!0===e.getApplicationState("mobile")?t.mobileMinimizedType:t.minimizedType},y=function(e){var t=e.getApplicationState("config");return!0===e.getApplicationState("mobile")?t.mobileScreenPosition:t.screenPosition},O=function(e,t){return d(e)&&e.getChat(t).properties.hasMoreHistory},_=function(e,t){var n=e.getChat(t).properties.fakeAgentMessageId;return n?e.getEvent(t,n):null},w=function(e,t){return!!_(e,t)},j=function(e){var t=e.getApplicationState(),n=t.embedded,r=t.actingAsDirectLink,i=t.isInCustomContainer;return!!n&&!r&&!i},x=function(e,t){var n=t.getChat(i.b),a=n.active,o=n.properties.queued;if(a||o)return!1;var c=t.getApplicationState(),u=c.availability,s=c.maximized,l=c.ready;return"online"===u&&(!l||(!s||Object(r.D)(t.getEvents(e))))},E=function(e,t){if(d(t))return!1;var n=t.getApplicationState(),r=n.availability,i=n.embedded,a=n.actingAsDirectLink,o=n.isInCustomContainer,c=t.getChat(e);return i&&!a&&!o&&!c.active&&!c.properties.ended&&"offline"===r&&!q(t)},C=function(e){return e.getConnectionState()===a.a},k=function(e){return e.getConnectionState()===a.b},S=function(e){return e.getConnectionState()===a.d||k(e)},I=function(e,t){var n=t.getEvents(e),r=function e(t,n){if(n<0)return null;var r=t[n];return r.own&&"message"===r.type?null:"system_message"===r.type||"rich_message_postback"===r.type?e(t,n-1):r.properties.quickReplies?r:null}(n,n.length-1);return r&&(r.properties.invitation||t.getChat(e).active)?r:null},T=function(e,t){var n=t.getApplicationState().availability,r=t.getChat(e),i=r.active,a=r.properties,o=a.queued,c=a.ended;if(o)return t.localize("embedded_waiting_for_operator");var s=u(e,t);return i&&s?t.localize("embedded_chat_with",{operator:s.name}):c?t.localize("embedded_chat_ended"):"online"===n?t.localize("embedded_chat_now"):q(t)?t.localize("embedded_leave_message"):t.localize("agents_not_available")},z=function(e,t){var n=e.getChat(t),r=l(e);return e.getApplicationState().usersLimitReached||le(e,t)||K(e)?null:n.active?"text":D(e)?null:!n.properties.ended||r&&!P(e)?r||"offline"!==e.getApplicationState().availability?w(e,i.b)?P(e)&&s("preChatAfterGreeting",e).enabled?r&&"offline"===e.getApplicationState().availability?null:"requestPrechat":u(t,e).properties.isBot?"startChat":"text":r?P(e)?"offline"===e.getApplicationState().availability?null:"requestPrechat":"text":r&&n.properties.ended?"text":null:null:"startChatAgain"},M=function(e,t){return!!t.getChat(e).properties.starting},A=function(e){return e.getApplicationState("testGroup")},R=function(e){return 1520===e.getApplicationState("license")},L=function(e){var t=e.localize("user_in_queue"),n=e.getView("Chat/prechat").fields;if(!n||Object(r.D)(n))return t;var i=n.find((function(e){var t=e.meta;return t&&"groupSelect"===t}));if(!i||!i.options||Object(r.D)(i.options))return t;var a=i.options.find((function(t){return t.groupNumber===e.getApplicationState("group")}));return a&&a.queueTemplate?a.queueTemplate:t},N=function(e){return e.getApplicationState("config").theme.name},B=function(e,t){return Object(r.p)((function(e){return!e.own&&Object(r.B)(e.type,["message","rich_message","url_preview","emoji"])}),e.getEvents(t))},P=function(e){return e.getApplicationState().config.features.preChatForm.enabled},q=function(e){return e.getApplicationState().config.features.offlineForm.enabled},D=function(e,t){void 0===t&&(t=void 0);var n=e.getLastEvent(i.b);if(!n)return!1;var r=n.type,a=n.properties;return"form"===r&&!a.answered&&("string"!==typeof t||a.formType===t)},F=function(e,t){var n=e.getView("Chat/"+t);return n&&n.fields},V=function(e){var t=e.getChat(i.b),n=t.active,r=t.properties,a=r.queued,o=r.ended,c=r.startChatAgainPending,u=r.currentAgent,s=e.getApplicationState(),d=s.availability,p=s.usersLimitReached,f=l(e),m=q(e);return!(!p||m&&!f)||"offline"===d&&(!(o&&!c)&&(f?!u&&!a:!n&&!a&&!m))},U=function(e){return u(i.b,e)&&!D(e)&&!function(e,t){return!!t.getChat(e).properties.queued}(i.b,e)&&!V(e)},H=function(e,t){return!(!K(t)||t.getView("Chat/queue"))||("loader"===t.getDefaultView("Chat")||!se(t)&&ue(t))},G=function(e){var t=e.getLastEvent(i.b);return!!t&&("form"===t.type&&"offline"===t.properties.formType&&t.properties.answered)},W=function(e){return e.getApplicationState("config").nonProfitLicense},Y=function(e){var t=e.getApplicationState(),n=t.actingAsDirectLink,r=t.isInCustomContainer,i=t.mobileWrapper,a=t.embedded;return!n&&!r&&(i||a)},J=function(e){return Boolean(e.getApplicationState("invitation").current)},Z=function(e){var t=e.getChat(i.b).properties,n=t.lastThread,a=t.currentAgent,o=t.queued;return!(!l(e)||a||o)&&!!!Object(r.p)((function(e){var t=e.type,r=e.thread;return"email_prompt"===t&&r===n}),e.getEvents(i.b))},K=function(e){return e.getChat(i.b).properties.queued},X=function(e){return s("fileSharing",e).enabled},Q=function(e){return e.getChat(i.b).active&&!S(e)},$=function(e){var t=e.getChat(i.b).properties.queued;return!S(e)&&(!t||l(e))},ee=Object(o.createSelector)([function(e){return Object(c.getEvents)(e,i.b)},function(e){return Object(c.getChat)(e,i.b).properties.lastThread}],(function(e,t){return Object(r.mb)((function(e){return e.thread===t}),e)})),te=function(e){return ee(e.getState())},ne=function(e,t){return!!e.hasEvent(i.b,t)&&e.getEvent(i.b,t).properties.invitation},re=function(e){var t=_(e,i.b);return t&&t.properties.invitation?t:null},ie=function(e,t){void 0===t&&(t=re(e));var n=e.getApplicationState(),i=n.availability,a=n.invitation,o=n.mobile,c=v(e);return!("offline"!==i&&("bar"!==c||o))||Boolean(t&&Object(r.B)(t.properties.uniqueId,a.hiddenIds))},ae=function(e,t){void 0===t&&(t=re(e));var n=e.getApplicationState().invitation;return Boolean(t&&Object(r.B)(t.properties.uniqueId,n.displayedIds))},oe=function(e){return!te(e).some((function(e){var t=e.author;return!e.own&&"system"!==t}))},ce=function(e){var t=e.properties,n=t.formType,i=t.fields,a=t.answered,o=i.filter((function(e){return e.answer&&e.label}));return"offline"!==n&&a&&Object(r.D)(o)},ue=function(e){var t=e.getEvents(i.b);return Object(r.D)(t)||t.every((function(e){return"form"===e.type&&ce(e)}))},se=function(e){return U(e)||V(e)||K(e)},le=function(e,t){return e.getEvents(t).some((function(e){return e.type===i.e&&null===e.serverId}))},de=function(e){var t=e.getApplicationState(),n=t.embedded,r=t.actingAsDirectLink;return!n||r?"direct_link":"code"},pe=Object(o.createSelector)([function(e){return ee(e)}],(function(e){return e.filter((function(e){return"file"===e.type&&!e.delivered&&!e.properties.canceled}))})),fe=function(e){return pe(e.getState())}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v}));var r,i=n(2),a=n(8),o=n(46),c=n(1),u=n(14);!function(e){e[e.Emergency=0]="Emergency",e[e.Alert=1]="Alert",e[e.Critical=2]="Critical",e[e.Error=3]="Error",e[e.Warning=4]="Warning",e[e.Notice=5]="Notice",e[e.Informational=6]="Informational",e[e.Debug=7]="Debug"}(r||(r={}));var s=function(e){var t=e.type,n=e.license,r=Object(a.a)(e,["type","license"]),i={licence_id:n.toString(),event_id:t,message:JSON.stringify(r)},s="https://queue.livechatinc.com/logs";return Object(o.a)(s,{method:"POST",headers:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},body:Object(u.a)(i)}).then(c.S,c.S)},l=n(20),d=n(104),p=n(47),f=[/sendURLToGuardwareProxy/i,/safari-extension:\/\//],m=!("true"===d.a.getItem("_livechat_has_visited"));d.a.setItem("_livechat_has_visited","true");var h=function(e,t,n){var r=(new Intl.DateTimeFormat).resolvedOptions().timeZone,a=Object(i.a)({type:"chat_widget_"+t,license:Object(l.b)(),userAgent:navigator.userAgent,mobile:Object(p.b)(),timeZone:String(r),logVersion:"2020-09-23",firstTimeVisitor:m,severity:e,lc_env:"production"},n);if(r){var o=r.split("/")[0];o!==r&&(a.timeZoneArea=String(o))}return s(a)},b=function(e,t,n){var r,a={};if(t instanceof Error?(a.errorMessage=t.message,a.stack=t.stack,a.code=t.code):a.errorMessage=JSON.stringify({error:t}),r=a,!f.some((function(e){return e.test(r.errorMessage+" "+r.stack)})))return Object(c.F)(n)||(n={meta:JSON.stringify({info:n})}),h("Error",e,Object(i.a)({},n,a))},g=function(e,t){return h("Informational",e,t)},v=function(e){return h("Notice",e)}},58:function(e,t,n){"use strict";function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}n.d(t,"a",(function(){return r}))},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(51),i=function(e){return Object(r.b)("chat_started",e)},a=function(e){return Object(r.b)("chat_rated",e)},o=function(e){return Object(r.b)("widget_opened",e)},c=function(e){return Object(r.b)("greeting_displayed",e)},u=function(e){return Object(r.b)("greeting_dismissed",e)},s=function(e){return Object(r.b)("greeting_canceled",e)}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return u.a})),n.d(t,"d",(function(){return l.a})),n.d(t,"e",(function(){return d.a})),n.d(t,"f",(function(){return f.a})),n.d(t,"g",(function(){return h.a})),n.d(t,"h",(function(){return v.a})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return E.a})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return C.a})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return M.a})),n.d(t,"q",(function(){return _.a})),n.d(t,"r",(function(){return q.a})),n.d(t,"s",(function(){return D.a})),n.d(t,"t",(function(){return F.a})),n.d(t,"u",(function(){return S.a})),n.d(t,"v",(function(){return V.a})),n.d(t,"w",(function(){return U.a})),n.d(t,"x",(function(){return G.a})),n.d(t,"y",(function(){return T.a})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return Y.a})),n.d(t,"B",(function(){return J.a})),n.d(t,"C",(function(){return Z.a})),n.d(t,"D",(function(){return K.a}));n(210);var r=n(211),i=n.n(r),a=n(212),o=(n(213),n(96)),c=n.n(o),u=n(134),s=n(79),l=n(214),d=n(215),p=n(135),f=n(216),m=n(37),h=n.n(m),b=n(54),g=n(77),v=n.n(g),y=n(41),O=n(78),_=n.n(O);function w(e,t){return _.a.apply(void 0,t.map((function(t){return Object(y.a)(e,t)})))}function j(e,t){return c()((function(n){return e.on(t,n),function(){e.off(t,n)}}))}var x=n(217),E=n.n(x),C=n(136),k=n(118),S=n.n(k),I=n(137),T=n.n(I),z=n(86),M=n.n(z);function A(e){return function(t){return Object(b.a)(M()(e)(t))}}function R(e){return S()(Object(s.a)((function(){return Object(C.a)(Promise.race([e.call("isFocused"),new Promise((function(t){return r="focus",i=t,void(n=e).on(r,(function e(t){n.off(r,e),i(t)}));var n,r,i}))]))})),A((function(t){return S()(j(e,"focus"),T()(t))})))}var L=n(55);function N(){var e=Object(L.a)((function(){return!!document.hasFocus&&document.hasFocus()})),t=M()((function(){return!0}))(Object(y.a)(window,"focus")),n=M()((function(){return!1}))(Object(y.a)(window,"blur"));return _()(e,t,n)}n(218);var B,P=(B=function(){return p.a},function(e){return function(t,n){if(0===t){var r,i=!1,a=function(e,t){r(e,t)};e(t,(function e(t,o){if(0===t)return r=o,i?void a(1):void n(t,a);if(2===t&&o&&!i){i=!0;try{B(o)(0,e)}catch(c){n(2,c)}}else n(t,o)}))}}}),q=(n(138),n(219)),D=n(220),F=(n(221),n(222)),V=n(223),U=n(61),H=n(224),G=n.n(H),W=(n(97),n(139),n(50)),Y=n.n(W),J=n(87),Z=(n(225),n(226),n(98),n(227)),K=n(56)},83:function(e,t,n){"use strict";var r=n(1),i=n(14);t.a=function(e){var t=Object(i.k)(e);return"https://"+(!Object(r.B)("cdn.livechatinc.com/cloud/?uri",t)&&!Object(r.B)(".livechat-static.com/",t)?"cdn.livechatinc.com/cloud/?"+Object(i.a)({uri:"https://"+t}):t)}},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(1),i=function(){return Object(r.w)("webkit.messageHandlers.iosMobileWidget.postMessage",window)?"ios":!!Object(r.w)("androidMobileWidget.postMessage",window)&&"android"},a=function(e){return window.androidMobileWidget.postMessage(JSON.stringify(e))},o=function(e){return window.webkit.messageHandlers.iosMobileWidget.postMessage(e)},c=function(){var e=i();return"android"===e?a:"ios"===e?o:null}(),u=function(){return Boolean(i())};t.a=function(e){c&&(c({messageType:"uiReady"}),e.on("add_event",(function(t){var n=t.event;if("message"===n.type){var r=e.getUser(n.author).name;c({messageType:"newMessage",text:n.properties.text,id:n.id,timestamp:n.timestamp,author:{name:r}})}})),e.on("mobile_wrapper_minimize_intent",(function(){c({messageType:"hideChatWindow"})})))}},90:function(e,t,n){"use strict";n.d(t,"c",(function(){return le})),n.d(t,"b",(function(){return at})),n.d(t,"a",(function(){return jt}));var r=n(3),i=n(19),a=n(60),o=Object(a.b)()?window.localStorage:a.a,c={setItem:function(e,t){return new Promise((function(n){return n(o.setItem(e,t))}))},getItem:function(e){return new Promise((function(t){return t(o.getItem(e))}))},removeItem:function(e){return new Promise((function(t){return t(o.removeItem(e))}))}},u=n(25),s=n(14),l=function(e,t,n){return""+("production"===n?"https://accounts.livechatinc.com":"https://accounts.livechatinc.com".replace("accounts.","accounts."+n+"."))+function(e){var t=e.uniqueGroups,n=e.licenseId,r=e.groupId;return(t?"/licence/g"+n+"_"+r:"")+"/customer"}(e)+"?"+Object(s.a)(function(e,t){var n=e.clientId,r=e.licenseId;return{license_id:String(r),flow:"button",response_type:"token",client_id:n,redirect_uri:t,post_message_uri:t,state:"@livechat/customer-auth"}}(e,t))},d=function(e){var t=e.code,n=e.message,r=new Error(n);return r.code=t,r},p=function(e,t){if("identity_exception"in e)throw d({code:"SSO_IDENTITY_EXCEPTION",message:e.identity_exception});if("oauth_exception"in e)throw d({code:"SSO_OAUTH_EXCEPTION",message:e.oauth_exception});return{accessToken:e.access_token,entityId:e.entity_id,expiresIn:1e3*e.expires_in,tokenType:e.token_type,creationDate:Date.now(),licenseId:t}},f=function(e,t){var n=e.licenseId,r=function(e){return"production"===e?"https://accounts.livechatinc.com":"https://accounts.livechatinc.com".replace("accounts.","accounts."+e+".")}(t);return new Promise((function(i,a){var o=function(e,t){var n=document.createElement("iframe");return n.style.display="none",n.setAttribute("src",l(e,Object(s.d)(String(window.location))+window.location.pathname,t)),n}(e,t),c=function(){Object(u.h)(o),window.removeEventListener("message",m,!1)},f=setTimeout((function(){c(),a(d({message:"Request timed out.",code:"REQUEST_TIMEOUT"}))}),15e3),m=function(e){var t=e.origin,o=e.data;if(t===r&&function(e){return e&&"@livechat/customer-auth"===e.state}(o)){clearTimeout(f),c();try{i(p(o,n))}catch(u){a(u)}}};window.addEventListener("message",m,!1),Object(u.e)().then((function(e){e.appendChild(o)}))}))},m=function(e){var t=e.licenseId,n=e.clientId;if("number"!==typeof t||"string"!==typeof n)throw new Error("You need to pass valid configuration object: { licenseId, clientId }.")},h=function(e,t){m(e);var n="@@lc_auth_token:"+e.licenseId+(e.uniqueGroups?":"+e.groupId:""),r=null,i=null,a=c.getItem(n).then((function(e){null!==a&&(a=null,e&&(i=JSON.parse(e)))})),o=function(){return r=f(e,t).then((function(e){return r=null,c.setItem(n,JSON.stringify(e)),i=e,e}),(function(e){throw r=null,e}))};return{getFreshToken:o,getToken:function e(){return r||(i&&!function(e){var t=e.creationDate,n=e.expiresIn;return Date.now()>=t+n}(i)?Promise.resolve(i):a?a.then(e):o())},hasToken:function e(){return a?a.then(e):Promise.resolve(!!i)},invalidate:function(){return i=null,a=null,c.removeItem(n)}}},b=n(35),g=n(1),v=n(59),y=n(146),O=n(17);function _(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var w=function(e){return e.connection.status},j=function(e,t){return e.requests[t]},x=function(e){return e.users.self.id},E=function(e,t){var n=e.chats[t];return!!n&&n.active},C=function(e){return"connected"===w(e)},k=function(e){var t=e.region;return"https://api"+(t?"-"+t:"")+function(e){var t=e.licenseId,n=e.env;return 1520===t?".staging":"production"===n?"":"."+n}(e)+".livechatinc.com"},S=function(e){return k(e)+"/v3.3/customer"},I=function(e,t){var n=t.id,a=e.requests,o=(a[n],Object(i.a)(a,[n].map(_)));return Object(r.a)({},e,{requests:o})},T=function(e,t){return Object(r.a)({},t,{connection:Object(r.a)({},t.connection,{status:e})})};function z(e){var t=g.A,n=Object(y.a)(),i=Object(v.d)(function(e){var t;return Object(O.h)(e,((t={}).change_region=function(e,t){var n=t.region;return Object(r.a)({},e,{region:n})},t.destroy=function(e){return T("destroyed",e)},t.login_success=function(e){return T("connected",e)},t.pause_connection=function(e){return T("paused",e)},t.request_failed=I,t.response_received=I,t.send_request=function(e,t){var n,i=t.promise,a=t.resolve,o=t.reject,c=t.id,u=t.request;return Object(r.a)({},e,{requests:Object(r.a)({},e.requests,(n={},n[c]={id:c,promise:i,resolve:a,reject:o,request:u},n))})},t.set_chat_active=function(e,t){var n,i=t.id,a=t.active;return Object(r.a)({},e,{chats:Object(r.a)({},e.chats,(n={},n[i]=Object(r.a)({},e.chats[i],{active:a}),n))})},t.set_self_id=function(e,t){return Object(r.a)({},e,{users:Object(r.a)({},e.users,{self:Object(r.a)({},e.users.self,{id:t.id})})})},t.socket_disconnected=function(e){var t=w(e);var n=T("disconnected"===t?"disconnected":"reconnecting",e);return Object(r.a)({},n,{requests:{}})},t.update_customer_page=function(e,t){return Object(r.a)({},e,{page:Object(r.a)({},e.page,t)})},t))}(function(e){var t=e.application,n=void 0===t?{}:t,i=e.licenseId,a=e.groupId,o=void 0===a?null:a,c=e.env,u=e.page,s=void 0===u?null:u,l=e.region,d=void 0===l?null:l,p=e.referrer,f=void 0===p?null:p,m=e.uniqueGroups,h=void 0!==m&&m,b=e.mobile,g=void 0!==b&&b;return{application:Object(r.a)({},n,{name:"chat_widget",version:"a97a637a21eddf893b6e3882d6d5aa46abe01a43"}),licenseId:i,env:c,groupId:o,chats:{},connection:{status:"disconnected"},page:s,region:d,referrer:f,requests:{},users:{self:{id:null,type:"customer"},others:{}},uniqueGroups:h,mobile:g}}(e)),t(Object(v.a)(n)));return i.addSideEffectsHandler=n.add,i}function M(e){var t=e.message,n=e.code,r=new Error(t);return r.code=n,r}var A=function(e){var t={};return"string"===typeof e.customId&&(t.custom_id=e.customId),Object(g.F)(e.properties)&&(t.properties=e.properties),t},R=function(e){switch(e.type){case"message":var t=Object(r.a)({},A(e),{type:e.type,text:e.text});return e.postback&&(t.postback={id:e.postback.id,thread_id:e.postback.threadId,event_id:e.postback.eventId,type:e.postback.type,value:e.postback.value}),t;case"file":return Object(r.a)({},A(e),{type:e.type,url:e.url,alternative_text:e.alternativeText});case"filled_form":return Object(r.a)({},A(e),{type:e.type,form_id:e.formId,fields:e.fields.map((function(e){switch(e.type){case"group_chooser":if(!e.answer)return e;var t=e.answer,n=t.groupId,a=Object(i.a)(t,["groupId"]);return Object(r.a)({},e,{answer:Object(r.a)({},a,{group_id:n})});default:return e}}))});case"system_message":var n=Object(r.a)({},A(e),{type:e.type,text:e.text,system_message_type:e.systemMessageType});return e.recipients&&(n.recipients=e.recipients),n}},L=function(e){var t=e.chat,n=e.continuous,r={chat:{}};if("boolean"===typeof n&&(r.continuous=n),!t)return r;var i=t.access,a=t.thread,o=t.properties;return i&&i.groupIds&&(r.chat.access={group_ids:i.groupIds}),o&&(r.chat.properties=o),a&&(r.chat.thread=function(e){var t={},n=e.events,r=e.properties;return n&&(t.events=n.map(R)),r&&(t.properties=r),t}(a)),r},N=function(e){return Object(g.rb)(e).map((function(e){var t,n=e[0],r=e[1];return(t={})[n]=r,t}))},B=function(e){var t=Object(g.cb)(["avatar","name","email"],e);return e.sessionFields&&(t.session_fields=N(e.sessionFields)),t},P=function(e){return{type:"destroy",payload:{reason:e}}},q=function(e){return{type:"pause_connection",payload:{reason:e}}},D=function(e){return void 0===e&&(e=!1),{type:"prefetch_token",payload:{fresh:e}}},F=function(e){return{type:"reconnect",payload:{delay:e}}},V=function(e,t,n){return{type:"send_request",payload:Object(r.a)({request:{action:e,payload:t}},n&&{source:n})}},U=function(e,t){return{type:"set_chat_active",payload:{id:e,active:t}}},H=function(e){return{type:"set_self_id",payload:{id:e}}},G=n(58),W=function(e,t){t.payload.id=Object(g.v)(e.getState().requests);var n=Object(G.a)(),r=n.resolve,i=n.reject,a=n.promise;return t.payload.promise=a,t.payload.resolve=r,t.payload.reject=i,e.dispatch(t),a},Y=n(100),J=n(228),Z=n.n(J),K=function(e){var t=e.getState(),n=t.licenseId,r=t.groupId;return"side_storage_"+n+(t.uniqueGroups?":"+r:"")},X=function(e){return c.getItem(K(e)).catch(g.S).then((function(e){return JSON.parse(e||"{}")})).catch((function(){return{}}))},Q=function(e,t,n){return W(e,V(t,n,"login"))};function $(e,t){var n,r,i=null,a=new Z.a({min:300,max:6e4,jitter:.3}),o=function(e){return n.dispatch(P(e))},c=function(){return n.dispatch(F(a.duration()))},u=function(){return Promise.all([e.getToken(),X(n)])},s=function(e){var t=e[0],r=e[1],i=x(n.getState());if(null===i)n.dispatch(H(t.entityId));else if(i!==t.entityId){var a=new Error("Identity has changed.");throw a.code="IDENTITY_MISMATCH",a}return[t,r]},l=function(e){var r,a=e[0],o=e[1],c=n.getState(),u=c.application,s=c.groupId,l=c.page,d=c.referrer,p=c.mobile,f={token:a.tokenType+" "+a.accessToken,customer:"function"===typeof t?B(t()):{},customer_side_storage:o,is_mobile:p,application:Object(g.Z)(["name","version"],u)};return"number"===typeof s&&(f.group_id=s),u.channelType&&(f.application.channel_type=u.channelType),null!==l&&(i=l,f.customer_page=l),null!==d&&(f.referrer=d),Promise.race([Q(n,"login",f),(r=15e3,new Promise((function(e){setTimeout(e,r)}))).then((function(){return Promise.reject(M({message:"Request timed out.",code:"REQUEST_TIMEOUT"}))}))])};return function(t){n=t,r&&r.cancel(),r=function(e,t,n){var r=e.slice(0),i=!1;return function e(a){var o=r.shift();Object(Y.a)((function(){return o(a)})).then((function(n){i||(r.length?e(n):t(n))}),(function(e){i||n(e)}))}(),{cancel:function(){i=!0}}}([u,s,l],(function(e){r=null,a.reset(),function(){var e=n.getState().page;i!==e&&Q(n,"update_customer_page",e).catch(g.S),i=null}(),n.dispatch({type:"login_success",payload:e})}),(function(t){switch(t.code){case"AUTHENTICATION":return e.getFreshToken(),void c();case"CONNECTION_LOST":case"MISDIRECTED_CONNECTION":return;case"SSO_IDENTITY_EXCEPTION":case"SSO_OAUTH_EXCEPTION":return"server_error"===t.message||"temporarily_unavailable"===t.message?void c():void o(t.message);case"USERS_LIMIT_REACHED":return void n.dispatch(q(t.code.toLowerCase()));case"IDENTITY_MISMATCH":case"CUSTOMER_BANNED":case"WRONG_PRODUCT_VERSION":return void o(t.code.toLowerCase());default:return void c()}}))}}var ee,te=n(46),ne=function(e,t,n){return t.getToken().then((function(t){var r=e.getState();null===x(r)&&e.dispatch(H(t.entityId));var i=r.page;if(i&&i.url){var a=Object(s.a)({license_id:r.licenseId}),o={session_fields:N(n||{}),group_id:r.groupId||0,page_url:i.url};return Object(te.a)(S(r)+"/action/check_goals?"+a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:t.tokenType+" "+t.accessToken},body:JSON.stringify(o)}).then((function(){}))}}))},re=function(e,t){var n=e.getState,r=e.dispatch,i=function(e){return e.requests}(n());r({type:"fail_all_requests",payload:{rejects:Object.keys(i).map((function(e){return i[e].reject})),reason:t}})},ie=function(e,t,n){var r=e.getState,i=e.dispatch,a=t.payload.id;i({type:"request_failed",payload:{id:a,reject:r().requests[a].reject,error:n}})},ae=Object.freeze({success:!0}),oe=function(e,t){var n={id:t.id,authorId:t.author_id,createdAt:t.created_at,threadId:e,properties:t.properties||{}};return void 0!==t.custom_id&&(n.customId=t.custom_id),n},ce=function(e,t){var n,r,i,a,o;t.height>t.width?(r="height",i="width",a=t.height,o=t.width):(r="width",i="height",a=t.width,o=t.height);var c=e/a;return(n={})[r]=Math.ceil(Math.min(a,e)),n[i]=Math.ceil(Math.min(c*o,o)),n},ue=function(e,t){return void 0!==t.width&&void 0!==t.height?function(e,t){return Object(r.a)({},oe(e,t),{type:"file",contentType:t.content_type,url:t.url,name:t.name,width:t.width,height:t.height,thumbnails:{default:Object(r.a)({url:t.thumbnail_url},ce(300,t)),high:Object(r.a)({url:t.thumbnail2x_url},ce(600,t))}},t.alternative_text&&{alternativeText:t.alternative_text})}(e,t):Object(r.a)({},oe(e,t),{type:"file",contentType:t.content_type,url:t.url,name:t.name})},se=function(e){var t={};if("string"===typeof e.title&&(t.title=e.title),"string"===typeof e.subtitle&&(t.subtitle=e.subtitle),e.image){var n=e.image;t.image=Object(r.a)({url:n.url,name:n.name},n.alternative_text&&{alternativeText:n.alternative_text})}return e.buttons&&(t.buttons=e.buttons.map((function(e){switch(e.type){case"message":case"phone":return{type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};case"cancel":return{type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,role:e.role||"default"};case"url":var t={type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};return e.target&&(t.target=e.target),t;case"webview":var n={type:e.type,text:e.text,postbackId:e.postback_id,userIds:e.user_ids,value:e.value,role:e.role||"default"};return"string"===typeof e.webview_height&&(n.webviewHeight=e.webview_height),n;default:return{text:e.text,postbackId:e.postback_id,userIds:e.user_ids,role:e.role||"default"}}}))),t},le=function(e,t){switch(t.template_id){case"cards":case"quick_replies":case"sticker":return Object(r.a)({},oe(e,t),{type:"rich_message",template:t.template_id,elements:t.elements.map(se)});default:return null}},de=function(e,t){switch(t.type){case"file":return ue(e,t);case"filled_form":return function(e,t){return Object(r.a)({},oe(e,t),{type:"filled_form",formId:t.form_id,fields:t.fields.map((function(e){switch(e.type){case"group_chooser":if(!e.answer)return e;var t=e.answer,n=t.group_id,a=Object(i.a)(t,["group_id"]);return Object(r.a)({},e,{answer:Object(r.a)({},a,{groupId:n})});default:return e}}))})}(e,t);case"message":return function(e,t){return Object(r.a)({},oe(e,t),{type:"message",text:t.text})}(e,t);case"rich_message":return le(e,t);case"system_message":return function(e,t){var n=Object(r.a)({},oe(e,Object(r.a)({},t,{author_id:"system"})),{type:"system_message",text:t.text,systemMessageType:t.system_message_type});return t.text_vars&&(n.textVars=t.text_vars),n}(e,t);default:return null}},pe=function(e){return{id:e.id,addon:e.addon||null,uniqueId:e.unique_id,displayedFirstTime:e.displayed_first_time,accepted:e.accepted||!1,subtype:e.subtype||"greeting",event:de(null,e.event),agent:{id:e.agent.id,name:e.agent.name,avatar:e.agent.avatar,jobTitle:e.agent.job_title,isBot:e.agent.is_bot||!1}}},fe=function(e){return void 0===e&&(e={}),e.group_ids?{groupIds:e.group_ids}:{}},me=function(e){return Object(g.M)((function(e){return e.events_seen_up_to?e.events_seen_up_to:null}),Object(g.H)("id",e))},he=function(e,t){var n=t.properties||{};return{id:t.id,chatId:e,active:t.active,access:fe(t.access),createdAt:t.created_at,userIds:t.user_ids,events:t.events.map((function(e){return de(t.id,e)})).filter(Boolean),properties:n,previousThreadId:t.previous_thread_id||null,nextThreadId:t.next_thread_id||null,queue:t.queue?_e(t.queue):null}},be=function(e){return{id:e.id,access:fe(e.access),users:e.users.map(we),properties:e.properties||{},eventsSeenUpToMap:me(e.users)}},ge=function(e){var t=Object(g.cb)(["avatar","email","name"],e);return e.session_fields&&(t.sessionFields=e.session_fields.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{})),t},ve=function(e){var t=ge(e);return Object(r.a)({id:e.id,type:"customer"},t,{sessionFields:t.sessionFields||{}})},ye=function(e){var t=e.statistics;return Object(r.a)({},ve(e),{statistics:{chatsCount:t.chats_count,threadsCount:t.threads_count,visitsCount:t.visits_count,pageViewsCount:t.page_views_count,greetingsShownCount:t.greetings_shown_count,greetingsAcceptedCount:t.greetings_accepted_count}})},Oe=function(e){return{position:e.position,waitTime:e.wait_time}},_e=function(e){return Object(r.a)({},Oe(e),{queuedAt:e.queued_at})},we=function(e){return"customer"===e.type?(n=e,Object(r.a)({},ve(n),{present:n.present})):{id:(t=e).id,type:"agent",name:t.name,avatar:t.avatar,jobTitle:t.job_title,present:t.present};var t,n},je=((ee={}).CONNECTION_LOST="Connection lost.",ee.MISDIRECTED_CONNECTION="Connected to wrong region.",ee),xe=function(e,t){var n=e.getState();switch(t.type){case"push_response_received":case"push_received":switch(t.payload.action){case"chat_deactivated":return void e.dispatch(U(t.payload.payload.chatId,!1));case"incoming_chat":return void e.dispatch(U(t.payload.payload.chat.id,!0));default:return}case"response_received":switch(t.payload.action){case"list_chats":return void t.payload.payload.chatsSummary.filter((function(e){var t=e.id,r=e.active;return E(n,t)!==r})).forEach((function(t){var n=t.id,r=t.active;e.dispatch(U(n,r))}));default:return}}},Ee=function(e,t){t.forEach((function(t){if("present"in t){t.present;var n=Object(i.a)(t,["present"]);e("user_data",n)}else if("customer"!==t.type)e("user_data",t);else{t.statistics;var r=Object(i.a)(t,["statistics"]);e("user_data",r)}}))},Ce=function(e,t){var n=e.emit,r=e.store,i=t.payload;switch(i.action){case"thread_properties_updated":return i.payload.properties.lc2&&"queue_pos"in i.payload.properties.lc2&&n("queue_position_updated",{chatId:i.payload.chatId,threadId:i.payload.threadId,queue:{position:i.payload.properties.lc2.queue_pos,waitTime:i.payload.properties.lc2.queue_waiting_time}}),void n("thread_properties_updated",i.payload);case"customer_side_storage_updated":return void function(e,t){c.setItem(K(e),JSON.stringify(t)).catch(g.S)}(r,i.payload.customer_side_storage);case"customer_disconnected":switch(i.payload.reason){case"access_token_expired":r.dispatch(D(!0)),r.dispatch(F(100)),n("disconnected",i.payload);break;case"customer_banned":case"customer_temporarily_blocked":case"license_not_found":case"product_version_changed":case"too_many_connections":case"unsupported_version":r.dispatch(P(i.payload.reason));break;case"misdirected_connection":re(r,"MISDIRECTED_CONNECTION"),r.dispatch({type:"change_region",payload:i.payload.data});break;case"too_many_unauthorized_connections":re(r,"TOO_MANY_UNAUTHORIZED_CONNECTIONS");break;default:r.dispatch(F(100)),n("disconnected",i.payload)}return;case"incoming_chat":return Ee(n,i.payload.chat.users),void n(i.action,i.payload);case"incoming_event":if(null===i.payload.event)return;return void n(i.action,i.payload);case"incoming_typing_indicator":return void n(i.action,i.payload);case"incoming_multicast":return function(e,t){var n=t.type,r=t.content;if("lc2"===n&&("groups_update"===r.name&&"groups"in r&&!Object(g.D)(r.groups))){var i=r.groups[0];e("availability_updated",{availability:"offline"===i.status?"offline":"online"})}}(n,i.payload),void n(i.action,i.payload);case"user_added_to_chat":return Ee(n,[i.payload.user]),void n(i.action,i.payload);default:return void n(i.action,i.payload)}},ke=function(e,t){var n=e.emit,r=t.payload;switch(r.action){case"chat_deactivated":return void r.resolve(ae);case"get_chat":return Ee(n,r.payload.users),void r.resolve(r.payload);case"incoming_chat":return Ee(n,r.payload.chat.users),void r.resolve(r.payload);case"incoming_event":return void r.resolve(r.payload.event);case"list_chats":return Ee(n,r.payload.users),void r.resolve(r.payload);default:return void r.resolve(r.payload)}},Se=function(e){var t=e.auth,n=e.customerDataProvider,i=e.emitter,a=e.socket,o=i.emit,c=$(t,n);return function(e,n){switch(e.type){case"change_region":return void a.reinitialize();case"check_goals":return void ne(n,t,e.payload.sessionFields).catch(g.S);case"destroy":var u=e.payload;return a.destroy(),"manual"!==u.reason&&o("disconnected",u),void i.off();case"fail_all_requests":var s=e.payload,l=s.reason,d=s.rejects,p={message:je[l],code:l};return void d.forEach((function(e){e(M(p))}));case"login_success":var f=e.payload,m=f.dynamicConfig,h=f.customer,b=f.chats,v=f.greeting,y=f.availability,O=Object(r.a)({customer:h,availability:y},v&&{greeting:v});return Object.defineProperty(O,"__unsafeDynamicConfig",{value:m}),Object.defineProperty(O,"__unsafeChats",{value:b}),void o("connected",O);case"pause_connection":var _=e.payload;return a.disconnect(),void("manual"!==_.reason&&o("disconnected",_));case"prefetch_token":return e.payload.fresh?void t.getFreshToken().catch(g.S):void t.hasToken().then((function(e){return e?t.getToken().then((function(e){if(!(e.creationDate+e.expiresIn-Date.now()>36e5))return t.invalidate().then(t.getFreshToken)})):t.getToken()})).catch(g.S);case"push_received":return"customer_disconnected"===e.payload.action||xe(n,e),void Ce({emit:o,store:n},e);case"push_response_received":return xe(n,e),void ke({emit:o},e);case"reconnect":return void a.reconnect(e.payload.delay);case"request_failed":var j=e.payload;return void(0,j.reject)(M(j.error));case"response_received":return xe(n,e),void ke({emit:o},e);case"send_request":var x=n.getState();return function(e){return"destroyed"===w(e)}(x)?void ie(n,e,{code:"SDK_DESTROYED",message:"SDK destroyed."}):C(x)||"login"===e.payload.source?void function(e,t){var n=t.payload,i=n.id,a=n.request,o=Object(r.a)({request_id:i},a);e.emit(o)}(a,e):void ie(n,e,{code:"NO_CONNECTION",message:"No connection."});case"set_self_id":return void o("customer_id",e.payload.id);case"socket_disconnected":return void o("disconnected",{reason:"connection_lost"});case"socket_connected":return void c(n);case"socket_recovered":if(!C(n.getState()))return;return void o("connection_recovered");case"socket_unstable":if(!C(n.getState()))return;return void o("connection_unstable");case"start_connection":return a.connect(),void n.dispatch(D());case"update_customer_page":if(!C(n.getState()))return;return void W(n,V("update_customer_page",e.payload)).catch(g.S);default:return}}},Ie=function(e,t){var n={status:"idle",queuedTasks:[],nextPageId:null},r=function r(i,a){switch(n.status){case"idle":return n.status="fetching",void e.listThreads(n.nextPageId?{chatId:t,pageId:n.nextPageId}:{chatId:t,minEventsCount:25}).then((function(e){var t=e.threads,a=e.nextPageId;n.nextPageId=a,n.nextPageId?(n.status="idle",i({value:{threads:[].concat(t).reverse()},done:!1})):(n.status="done",i({value:{threads:[].concat(t).reverse()},done:!0}));var o=n.queuedTasks.shift();o&&r(o.resolve,o.reject)}),(function(e){var t=n.queuedTasks;n.status="idle",n.queuedTasks=[],a(e),t.forEach((function(t){return t.reject(e)}))}));case"fetching":return void n.queuedTasks.push({resolve:i,reject:a});case"done":return void i({value:void 0,done:!0})}};return{next:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return new Promise(r)}))}},Te=n(250),ze=n.n(Te),Me=function(e){var t=e.min,n=void 0===t?1e3:t,r=e.max,i=void 0===r?5e3:r,a=e.jitter,o=void 0===a?.5:a,c=0;return{duration:function(){var e=n*Math.pow(2,c++);if(o){var t=Math.random(),r=Math.floor(t*o*e);e=0===(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,i)},reset:function(){c=0}}},Ae=function(e,t){var n,r=void 0===t?{}:t,i=r.query,a=r.transports,o=void 0===a?["websocket","xhr-polling"]:a,c=e+(i?"?"+Object(s.a)(i):""),u=Object(b.a)(),l=Me({min:1e3,max:5e3,jitter:.5}),d=3,p=null,f=function(){d=1,l.reset(),u.emit("connect")},m=function(){d=3,p=null,u.emit("disconnect"),O()},h=function(e){var t=e.data;u.emit("message",t)},g=function(){u.emit("heartbeat")},v=function(){var e;(d=3,p)&&((e=p).removeEventListener("open",f),e.removeEventListener("close",m),e.removeEventListener("message",h),e.removeEventListener("heartbeat",g),p.close(),p=null)},y=function(){var e;d=0,p=new ze.a(c,void 0,{transports:o}),(e=p).addEventListener("open",f),e.addEventListener("close",m),e.addEventListener("message",h),e.addEventListener("heartbeat",g)},O=function(e){void 0===e&&(e=l.duration()),clearTimeout(n),0!==e?n=setTimeout(y,e):y()},_={connect:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(3!==d)throw new Error("Socket is already open or connecting.");clearTimeout(n),y()})),destroy:function(){_.off(),_.disconnect()},disconnect:function(){d=3,clearTimeout(n),v()},reconnect:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){v(),O(e)})),emit:function(e){if(1!==d)throw new Error("Socket is not connected.");p.send(e)},getReadyState:function(){return d},on:u.on,off:u.off};return _},Re=function(){var e,t=g.S;return{cancel:function(){clearTimeout(e),t=g.S},check:function(){var n=Object(G.a)();return t=n.resolve,e=setTimeout((function(){var e=new Error("Timeout.");e.code="TIMEOUT",n.reject(e)}),2e3),n.promise},resolve:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearTimeout(e),t()}))}},Le=function(e,t){var n,i,a,o=void 0===t?{}:t,c=o.query,u=void 0===c?{}:c,s=o.rescheduleTimeout,l=void 0===s?3e4:s,d=o.transports,p=o.emitter,f=void 0===p?Object(b.a)():p,m=Ae(e,{query:Object(r.a)({bh:Object(g.u)()},u),transports:d}),h=Re(),v=function(){return 1===m.getReadyState()},y=function(e){m.emit(JSON.stringify(e)),_()},O=function(){y({action:"ping"})},_=function(){clearTimeout(n),n=setTimeout(O,l)},w=function(){h.cancel(),clearTimeout(n)};return i=m,a=f,["connect","disconnect"].forEach((function(e){i.on(e,(function(t){a.emit(e,t)}))})),m.on("connect",_),m.on("disconnect",w),m.on("heartbeat",O),m.on("message",(function(e){h.resolve();var t=JSON.parse(e);"ping"!==t.action&&f.emit("message",t)})),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){v()&&(h.check().then((function(){h.cancel(),f.emit("connection_recovered")}),(function(e){if(h.cancel(),"TIMEOUT"!==e.code)throw e;m.reconnect()})),O())})),window.addEventListener("offline",(function(){h.cancel(),v()&&f.emit("connection_unstable")}))),Object(r.a)({},m,{destroy:function(){w(),m.destroy()},disconnect:function(){w(),m.disconnect()},reconnect:function(e){w(),m.reconnect(e)},emit:y,on:f.on,off:f.off})},Ne=function(e,t){var n=e.getState(),r=S(n)+"/rtm/sjs";return Le(r,{query:{license_id:n.licenseId},emitter:t})},Be=function(e){var t=Object(b.a)(),n=Ne(e,t);return Object(r.a)({},Object.keys(n).reduce((function(e,t){return e[t]=function(){var e;return(e=n)[t].apply(e,arguments)},e}),{}),{reinitialize:function(){n.disconnect(),(n=Ne(e,t)).connect()}})},Pe=function(e){return{chatId:e.chat_id,properties:e.properties}},qe=function(e){var t={chatId:e.chat_id,threadId:e.thread_id,transferredTo:Object(r.a)({},e.transferred_to.agent_ids&&{agentIds:e.transferred_to.agent_ids},e.transferred_to.group_ids&&{groupIds:e.transferred_to.group_ids}),queue:e.queue?_e(e.queue):null};return"manual"===e.reason?Object(r.a)({},t,{reason:e.reason,requesterId:e.requester_id}):Object(r.a)({},t,{reason:e.reason})},De=function(e){return{url:e.url,title:e.title,openedAt:e.opened_at}},Fe=function(e){return{customer:Object(r.a)({id:e.customer.id},ge(e.customer))}},Ve=function(e){return{chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,properties:e.properties}},Ue=function(e){return{chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,properties:e.properties}},He=function(e){var t=e.thread_id;return{chatId:e.chat_id,threadId:t,event:de(t,e.event)}},Ge=function(e){return{chatId:e.chat_id,userId:e.user_id,seenUpTo:e.seen_up_to}},We=function(e){return{uniqueId:e.unique_id}},Ye=function(e){var t=e.chat;return{chat:Object(r.a)({},be(t),{thread:he(t.id,t.thread)})}},Je=function(e){return{chatId:e.chat_id,event:de(e.thread_id,e.event)}},Ze=function(e){return pe(e)},Ke=function(e){return{userId:e.user_id,chatId:e.chat_id,threadId:e.thread_id,eventId:e.event_id,postback:e.postback}},Xe=function(e){var t=e.chat_id,n=e.typing_indicator;return{chatId:t,typingIndicator:{authorId:n.author_id,isTyping:n.is_typing}}},Qe=function(e){return{chatId:e.chat_id,threadId:e.thread_id,queue:Oe(e.queue)}},$e=function(e){return{chatId:e.chat_id,threadId:e.thread_id,properties:e.properties}},et=function(e){return{chatId:e.chat_id,threadId:e.thread_id,properties:e.properties}},tt=function(e){return{chatId:e.chat_id,user:we(e.user),present:e.user.present}},nt=function(e){return{chatId:e.chat_id,userId:e.user_id}},rt=function(e){return e.map((function(e){switch(e.type){case"group_chooser":return Object(r.a)({},e,{options:e.options.map((function(e){var t=e.group_id,n=Object(i.a)(e,["group_id"]);return Object(r.a)({},n,{groupId:t})}))});case"rating":var t=e.comment_label,n=Object(i.a)(e,["comment_label"]);return Object(r.a)({},n,{commentLabel:t});default:return e}}))},it=function(e){var t=e.map((function(e,t){return Object(r.a)({},e,{id:String(t)})}));return rt(t)},at=function(e){return!("id"in e.fields[0])?{id:"ticket",fields:it(e.fields)}:{id:e.id,fields:rt(e.fields)}},ot=function(e){return e.enabled?Object(r.a)({},e,{form:at(e.form)}):e},ct=function(e){var t={url:e.url};return e.title&&(t.title=e.title),e.description&&(t.description=e.description),e.image_url&&(t.imageUrl="https://"+e.image_url,e.image_width&&e.image_height&&(t.imageWidth=e.image_width,t.imageHeight=e.image_height)),t},ut=function(e){var t=e.online_groups_ids,n=e.customer_groups;if(!t)return"offline";var r=n.monitoring.id;return Object(g.B)(r,t)?"online":"offline"},st=function(e){var t=e.chats_summary.map((function(e){var t=e.id,n=e.active,r=e.access,i=e.last_thread_created_at,a=e.last_thread_id,o=e.last_event_per_type,c=e.properties,u=void 0===c?{}:c,s=e.users,l={id:t,active:n,access:fe(r),properties:u,users:s.map(we),lastThreadId:a||null,lastThreadCreatedAt:i||null,eventsSeenUpToMap:me(s)};if(!o)return l;l.lastEventsPerType=Object(g.M)((function(e){return de(e.thread_id,e.event)}),o);var d=o,p=Object.keys(d).map((function(e){return d[e]})),f=Object(g.J)(p.sort((function(e,t){return e.thread_id===t.thread_id?Object(g.kb)(e.event.created_at,t.event.created_at):Object(g.kb)(e.thread_created_at,t.thread_created_at)})));return f&&(l.lastEvent=l.lastEventsPerType[f.event.type]),l}));return{chatsSummary:Object(g.T)((function(e){var t=e.lastEvent,n=e.order;return-1*(void 0!==t?t.timestamp:n)}),t),totalChats:e.total_chats,users:Object(g.vb)((function(e){return e.id}),Object(g.r)((function(e){return e.users}),t)),previousPageId:e.previous_page_id||null,nextPageId:e.next_page_id||null}},lt=function(e){return e.groups_status},dt=function(e,t){return{threads:t.threads.map((function(t){return he(e.payload.chat_id,t)})),previousPageId:t.previous_page_id||null,nextPageId:t.next_page_id||null}},pt=function(e){var t=e.__priv_dynamic_config,n=e.chats,i=e.greeting;return Object(r.a)({dynamicConfig:t,customer:ye(e.customer),availability:ut(t),chats:n.map((function(t){return{id:t.chat_id,active:"has_active_thread"in t?t.has_active_thread:e.has_active_thread,hasUnreadEvents:t.has_unread_events}}))},i&&{greeting:pe(i)})},ft=function(e){switch(e.action){case"chat_deactivated":return{action:e.action,payload:{chatId:e.payload.chat_id}};case"chat_properties_deleted":return{action:e.action,payload:(t=e.payload,{chatId:t.chat_id,properties:t.properties})};case"chat_properties_updated":return{action:e.action,payload:Pe(e.payload)};case"chat_transferred":return{action:e.action,payload:qe(e.payload)};case"customer_side_storage_updated":case"customer_disconnected":return{action:e.action,payload:e.payload};case"customer_page_updated":return{action:e.action,payload:De(e.payload)};case"customer_updated":return{action:e.action,payload:Fe(e.payload)};case"event_properties_deleted":return{action:e.action,payload:Ve(e.payload)};case"event_properties_updated":return{action:e.action,payload:Ue(e.payload)};case"event_updated":return{action:e.action,payload:He(e.payload)};case"events_marked_as_seen":return{action:e.action,payload:Ge(e.payload)};case"greeting_accepted":case"greeting_canceled":return{action:e.action,payload:We(e.payload)};case"incoming_chat":return{action:e.action,payload:Ye(e.payload)};case"incoming_event":return{action:e.action,payload:Je(e.payload)};case"incoming_greeting":return{action:e.action,payload:Ze(e.payload)};case"incoming_multicast":return{action:e.action,payload:e.payload};case"incoming_rich_message_postback":return{action:e.action,payload:Ke(e.payload)};case"incoming_typing_indicator":return{action:e.action,payload:Xe(e.payload)};case"queue_position_updated":return{action:e.action,payload:Qe(e.payload)};case"thread_properties_deleted":return{action:e.action,payload:$e(e.payload)};case"thread_properties_updated":return{action:e.action,payload:et(e.payload)};case"user_added_to_chat":return{action:e.action,payload:tt(e.payload)};case"user_removed_from_chat":return{action:e.action,payload:nt(e.payload)}}var t},mt=function(e,t){var n=e.dispatch,i=e.getState,a=t.request_id,o=j(i(),a),c=o.promise,u=o.resolve,s=function(e){var t,n,i=e.request,a=e.response;switch(a.action){case"accept_greeting":case"cancel_greeting":case"delete_chat_properties":case"delete_event_properties":case"delete_thread_properties":return{action:a.action,payload:ae};case"get_chat":return{action:a.action,payload:(n=a.payload,Object(r.a)({},be(n),{thread:n.thread?he(n.id,n.thread):null}))};case"get_customer":return{action:a.action,payload:ye(a.payload)};case"get_form":return{action:a.action,payload:ot(a.payload)};case"get_predicted_agent":return{action:a.action,payload:(t=a.payload,{id:t.id,type:"agent",name:t.name,avatar:t.avatar,jobTitle:t.job_title,isBot:t.is_bot})};case"get_url_info":return{action:a.action,payload:ct(a.payload)};case"list_chats":return{action:a.action,payload:st(a.payload)};case"list_group_statuses":return{action:a.action,payload:lt(a.payload)};case"list_threads":return{action:a.action,payload:dt(i,a.payload)};case"login":return{action:a.action,payload:pt(a.payload)};case"mark_events_as_seen":case"send_sneak_peek":case"set_customer_session_fields":case"send_rich_message_postback":case"update_chat_properties":case"update_customer":case"update_customer_page":case"update_event_properties":case"update_thread_properties":return{action:a.action,payload:ae}}}({request:o.request,response:t});n({type:"response_received",payload:Object(r.a)({id:a,promise:c,resolve:u},s)})},ht=function(e,t){var n=e.dispatch;return t.on("connect",(function(){n({type:"socket_connected"})})),t.on("message",(function(t){if("response"===t.type){if(!t.success)return void function(e,t){var n,r=e.dispatch,i=e.getState,a=t.request_id,o=t.payload;r({type:"request_failed",payload:{id:a,reject:j(i(),a).reject,error:(n=o.error,{code:n.type.toUpperCase(),message:n.message})}})}(e,t);switch(t.action){case"activate_chat":case"deactivate_chat":case"send_event":case"start_chat":return;default:return void mt(e,t)}}if("request_id"in t)switch(t.action){case"chat_deactivated":case"incoming_chat":case"incoming_event":return void function(e,t){var n=e.dispatch,i=e.getState,a=t.request_id,o=j(i(),a),c=o.promise,u=o.resolve,s=ft(t);n({type:"push_response_received",payload:Object(r.a)({id:a,promise:c,resolve:u},s)})}(e,t)}!function(e,t){var n=ft(t);n&&e.dispatch({type:"push_received",payload:n})}(e,t)})),t.on("disconnect",(function(){re(e,"CONNECTION_LOST"),"connected"===w(e.getState())&&e.dispatch({type:"socket_disconnected"})})),t.on("connection_unstable",(function(){n({type:"socket_unstable"})})),t.on("connection_recovered",(function(){n({type:"socket_recovered"})})),t.off},bt=function(e,t){return e.length?e+"\n"+t:t},gt=function(e,t,n){var i=n.filledForm,a=n.groupId,o=n.timeZone;return t.getToken().then((function(t){var n=e.getState();null===x(n)&&e.dispatch(H(t.entityId));var c=k(n)+"/v2/tickets/new",u=function(e,t){var n=t.fields,i=t.customerId,a=t.groupId,o=void 0===a?e.groupId:a,c=t.timeZone,u=Object(r.a)({licence_id:e.licenseId,ticket_message:"",offline_message:"",visitor_id:i,requester:{}},"number"===typeof o&&{group:o},e.page&&{source:{url:e.page.url}},c&&{timezone:c});return n.reduce((function(e,t){switch(t.type){case"subject":var n=t.answer,r=n?t.label+" "+n:t.label;return n&&(e.subject=n),e.offline_message=bt(e.offline_message,r),e;case"name":var i=t.answer,a=i?t.label+" "+i:t.label;return i&&(e.requester.name=i),e.offline_message=bt(e.offline_message,a),e;case"email":var o=t.answer,c=o?t.label+" "+o:t.label;return e.requester.mail=o,e.offline_message=bt(e.offline_message,c),e;case"question":case"textarea":var u=t.answer,s=u?t.label+" "+u:t.label;return e.offline_message=bt(e.offline_message,s),e.ticket_message=bt(e.ticket_message,s),e;case"radio":case"select":var l=t.answer&&t.answer.label,d=l?t.label+" "+l:t.label;return e.offline_message=bt(e.offline_message,d),e.ticket_message=bt(e.ticket_message,d),e;case"checkbox":var p=t.answers&&t.answers.map((function(e){return e.label})).join(", "),f=p?t.label+" "+p:t.label;return e.offline_message=bt(e.offline_message,f),e.ticket_message=bt(e.ticket_message,f),e;default:return e}}),u)}(n,{fields:i.fields,customerId:t.entityId,groupId:a,timeZone:o});return Object(te.a)(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){if(e.ok)return e.json().then((function(e){return Object(r.a)({},e,{text:u.ticket_message})}));if(400===e.status||422===e.status){var t=function(e){if(!e||!e.errors)throw new Error;var t=e.errors[0];if("incorrect requester structure"===Object.keys(t)[0])throw M({message:t["incorrect requester structure"][0],code:"VALIDATION"});throw new Error};return e.json().then(t,t)}throw new Error}))}))},vt=n(243),yt=function(e,t){if(void 0===t&&(t=2),e<1024)return e+" b";var n=e/1024;if(e<1048576)return n.toFixed(t)+" kb";var r=n/1024;return e<1073741824?r.toFixed(t)+" MB":(r/1024).toFixed(t)+" GB"},Ot=function(e){if(e.size>10485760)throw M({message:"The file is too big (max size is "+yt(10485760)+").",code:"TOO_BIG_FILE"})},_t=function(e,t){var n,r=e.auth,i=e.store,a=t.file,o=t.onProgress,c=!1;return{promise:new Promise((function(e,t){Ot(a);var u=i.getState(),l=Object(s.a)({license_id:u.licenseId}),d=S(u)+"/action/upload_file?"+l,p={file:a};r.getToken().then((function(r){c?t(new Error("Upload cancelled.")):(n=Object(vt.a)(d,p,{headers:{Authorization:r.tokenType+" "+r.accessToken},onProgress:o})).promise.then(e,(function(e){if(e.response){var n=e.response.error,r=n.type,i=n.message;t(M({message:i,code:r.toUpperCase()}))}else t(e)}))}))})),cancel:function(){c||(c=!0,n&&n.cancel())}}},wt=function(e){e.env,e.licenseId,e.eventName;return Promise.resolve()},jt=function(e,t){void 0===t&&(t="production"),m(e);var n=e.autoConnect,a=void 0===n||n,o=e.customerDataProvider,c=Object(i.a)(e,["autoConnect","customerDataProvider"]),u=z(Object(r.a)({},c,{env:t})),s=Object(b.a)(),l=Be(u),d=h(c,t);u.addSideEffectsHandler(Se({emitter:s,socket:l,auth:d,customerDataProvider:o})),ht(u,l);var p=W.bind(null,u),f=function(){u.dispatch({type:"start_connection"})},v=Object.freeze({acceptGreeting:function(e){var t=e.greetingId,n=e.uniqueId;return p(V("accept_greeting",{greeting_id:t,unique_id:n}))},activateChat:function(n){return wt({env:t,licenseId:e.licenseId,eventName:"chat_started"}),p(V("activate_chat",function(e){var t=L(e);return Object(r.a)({},t,{chat:Object(r.a)({},t.chat,{id:e.chat.id})})}(n)))},auth:d,cancelGreeting:function(e){var t=e.uniqueId;return p(V("cancel_greeting",{unique_id:t}))},cancelRate:function(e){var t=e.chatId,n=e.properties,r=void 0===n?["score"]:n;return v.listThreads({chatId:t}).then((function(e){var n=e.threads;if(!n.length)throw M({message:'There is no thread in "'+t+'".',code:"MISSING_CHAT_THREAD"});return v.deleteThreadProperties({chatId:t,threadId:n[0].id,properties:{rating:r}})}))},connect:f,deactivateChat:function(e){var t=e.id;return p(V("deactivate_chat",{id:t}))},deleteChatProperties:function(e){var t=e.id,n=e.properties;return p(V("delete_chat_properties",{id:t,properties:n}))},deleteEventProperties:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.properties;return p(V("delete_event_properties",{chat_id:t,thread_id:n,event_id:r,properties:i}))},deleteThreadProperties:function(e){var t=e.chatId,n=e.threadId,r=e.properties;return p(V("delete_thread_properties",{chat_id:t,thread_id:n,properties:r}))},destroy:function(){u.dispatch(P("manual"))},disconnect:function(){u.dispatch(q("manual"))},getChat:function(e){var t=e.chatId,n=e.threadId;return p(V("get_chat",{chat_id:t,thread_id:n}))},getChatHistory:function(e){var t=e.chatId;return Ie(v,t)},getCustomer:function(){return p(V("get_customer",{}))},getForm:function(e){var t=e.groupId,n=e.type;return p(V("get_form",{group_id:t,type:n}))},getPredictedAgent:function(e){void 0===e&&(e={});var t=e.groupId;return p(V("get_predicted_agent","number"===typeof t?{group_id:t}:{}))},getUrlInfo:function(e){var t=e.url;return p(V("get_url_info",{url:t}))},listChats:function(e){return void 0===e&&(e={}),"limit"in e&&"number"===typeof e.limit&&e.limit>25?Promise.reject(new Error("Specified limit is too high (max 25).")):p(V("list_chats",void 0===e.pageId?{limit:e.limit||10}:{page_id:e.pageId}))},listGroupStatuses:function(e){var t=(void 0===e?{}:e).groupIds;return p(V("list_group_statuses",t?{group_ids:t}:{all:!0}))},listThreads:function(e){return p(V("list_threads",void 0===e.pageId?{chat_id:e.chatId,sort_order:e.sortOrder,limit:e.limit,min_events_count:e.minEventsCount}:{chat_id:e.chatId,page_id:e.pageId}))},markEventsAsSeen:function(e){var t=e.chatId,n=e.seenUpTo;return p(V("mark_events_as_seen",{chat_id:t,seen_up_to:n}))},on:s.on,once:s.once,off:s.off,rateChat:function(e){var t=e.chatId,n=e.rating;return v.listThreads({chatId:t}).then((function(e){var r=e.threads;if(!r.length)throw M({message:'There is no thread in "'+t+'".',code:"MISSING_CHAT_THREAD"});return v.updateThreadProperties({chatId:t,threadId:r[0].id,properties:{rating:n}})}))},sendEvent:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return p(function(e){var t=e.chatId,n=e.event,r=e.attachToLastThread,i={chat_id:t,event:R(n)};return r&&(i.attach_to_last_thread=!0),V("send_event",i)}(e))})),sendTicketForm:function(e){return gt(u,d,e)},sendRichMessagePostback:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.postback;return p(V("send_rich_message_postback",{chat_id:t,event_id:r,thread_id:n,postback:i}))},setCustomerSessionFields:function(e){var t=e.sessionFields;return p(V("set_customer_session_fields",{session_fields:N(t)}))},setSneakPeek:function(e){var t=e.chatId,n=e.sneakPeekText,r=u.getState();E(r,t)&&C(r)&&p(V("send_sneak_peek",{chat_id:t,sneak_peek_text:n})).catch(g.S)},startChat:function(n){return void 0===n&&(n={}),wt({env:t,licenseId:e.licenseId,eventName:"chat_started"}),p(V("start_chat",L(n)))},updateChatProperties:function(e){var t=e.id,n=e.properties;return p(V("update_chat_properties",{id:t,properties:n}))},updateCustomer:function(e){return p(V("update_customer",B(e)))},updateCustomerPage:function(e){u.dispatch({type:"update_customer_page",payload:Object(g.cb)(["title","url"],e)})},updateEventProperties:function(e){var t=e.chatId,n=e.threadId,r=e.eventId,i=e.properties;return p(V("update_event_properties",{chat_id:t,event_id:r,thread_id:n,properties:i}))},updateThreadProperties:function(e){var t=e.chatId,n=e.threadId,r=e.properties;return p(V("update_thread_properties",{chat_id:t,thread_id:n,properties:r}))},uploadFile:function(e){return _t({auth:d,store:u},e)}});return a?f():u.dispatch({type:"check_goals",payload:{sessionFields:"function"===typeof o?o().sessionFields:{}}}),v}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14);function i(e){return-1!==e.indexOf("cdn.livechatinc.com/cloud/?uri")?"https://"+Object(r.k)(e):"https://cdn.livechatinc.com/cloud/?uri=http://"+encodeURI(Object(r.k)(e))}}},[[363,3,4]]]);