/* -- 2020-11-06T23:01:52.7456284Z -- */
/* -- jquery-3.2.1.min.js -- */
/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),
a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),
null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});
//# sourceMappingURL=jquery-3.2.1.min.map

/* -- jquery-ui.min.js -- */
/*! jQuery UI - v1.12.1 - 2017-02-02
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/resizable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.ui=t.ui||{},t.ui.version="1.12.1";var r=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,l=t(this),h=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=h+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),T=e(k.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?D.left-=h:"center"===n.my[0]&&(D.left-=h/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=T[0],D.top+=T[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:n.my,at:n.at,within:b,elem:l})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-h,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};h>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),l.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled,r&&(l=t(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===h?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var h=!1;t(document).on("mouseup",function(){h=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,h=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-o.width)/h)*h,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=l,_&&(p+=h),v&&(f+=c),g&&(p-=h),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-h)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=a.left-u):(p=h-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");
e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],l=r&&n.collapsible,h=l?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:l?t():a,newPanel:h};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=l?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=h&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var c=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var l=n[s]("widget");t.data(l[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(l[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(c,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")
},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var u;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,l,h,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),u===n&&(u=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,l,h=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(h.settings.minDate=this._formatDate(h,r)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,l,h,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),l=t.datepicker._checkOffset(s,l,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),s.inline||(h=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?s.dpDiv.show(h,t.datepicker._get(s,"showOptions"),c):s.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=6,u=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a.date",n).length>0?t("a.date",n).html():t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,l=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(l,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],l+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},h=function(t,e,i){var s=""+e;if(l(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||l("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}h=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,T,I,M,P,S,N,H,A,z,O,E,W,F,L,R=new Date,Y=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=6,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),T=" ui-corner-all",I="",$){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case U[1]-1:I+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:I+=" ui-datepicker-group-middle",T=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===k?B?o:s:"")+(/all|right/.test(T)&&0===k?B?s:o:"")+this._generateMonthYearHeader(t,Z,te,J,Q,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)P=(w+c)%7,M+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[P]+"'>"+p[P]+"</span></th>";for(I+=M+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),N=(this._getFirstDayOfMonth(te,Z)-c+7)%7,H=Math.ceil((N+S)/7),A=6,this.maxRows=A,z=this._daylightSavingAdjust(new Date(te,Z,1-N)),O=0;A>O;O++){for(I+="<tr>",E=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(z)+"</td>":"",w=0;7>w;w++)W=m?m.apply(t.input?t.input[0]:null,[z]):[!0,""],F=z.getMonth()!==Z,L=F&&!v||!W[0]||J&&J>z||Q&&z>Q,E+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+W[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===Y.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);I+=E+"</tr>"}Z++,Z>11&&(Z=0,te++),I+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=I}y+=x}return y+=h,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=s.getMonth())&&(!h||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");
y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),l=t(s).closest("li"),h=l.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),h=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:h,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},l=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),l(n,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0
}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){h.of=t,a.is(":hidden")||a.position(h)}var o,a,r,l,h=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),l=t("<div>").html(a.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(h.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var d="ui-effects-",p="ui-effects-style",f="ui-effects-animated",g=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,o){var a,r=o.re.exec(i),l=r&&o.parse(r),h=o.space||"rgba";return l?(a=s[h](l),s[c[h].cache]=a[c[h].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,a,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,l],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),o=c[n],a=0===this.alpha()?h("transparent"):this,r=a[o.cache]||o.to(a._rgba),l=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],h=s[o],c=u[n.type]||{};null!==h&&(null===a?l[o]=h:(c.mod&&(h-a>c.mod/2?a+=c.mod:a-h>c.mod/2&&(a-=c.mod)),l[o]=i((h-a)*e+a,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),l=Math.min(s,n,o),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-o)/h+360:n===r?60*(o-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[a]&&(this[a]=l(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[a]=d,n):h(d)},f(o,function(e,i){h.fn[e]||(h.fn[e]=function(n){var o,a=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=h(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(g),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(g.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var l=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(f)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(d+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(d+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(p,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(p)||"",t.removeData(p)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(d+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=d+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(f),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(l)&&l.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[h](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===h:"show"===h)?(r[h](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",l=s.complete,h=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,h)||o;i.data(f,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?h?this[h](s.duration,l):this.each(function(){l&&l.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,l=o?a.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var m=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},l=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),l&&l.css(t.effects.clipToBox(r)),r.clip=a),l&&l.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,l="hide"===r,h="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(h||l?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),h&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),l&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=l?2*u:u/2;l&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,l=r||"horizontal"===a,h=r||"vertical"===a;s=o.cssClip(),n.clip={top:h?(s.bottom-s.top)/2:s.top,right:l?(s.right-s.left)/2:s.right,bottom:h?(s.bottom-s.top)/2:s.bottom,left:l?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r?"-=":"+=",c="+="===h?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,u[l]=h+s,a&&(n.css(u),u[l]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(l=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,h=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?h*_:0),top:l+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:h*_),top:l+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,l=/([0-9]+)%/.exec(r),h=!!e.horizFirst,c=h?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;l&&(r=parseInt(l[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,l,n.from.y,_),v=t.effects.setTransition(a,l,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,h,n.from.x,_),v=t.effects.setTransition(a,h,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(r),h=h.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,l,n.from.y,o),a=t.effects.setTransition(i,l,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,h,n.from.x,o),a=t.effects.setTransition(i,h,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,l=2*(e.times||5)+(r?1:0),h=e.duration/l,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);l>u;u++)s.animate({opacity:c},h,e.easing),c=1-c;s.animate({opacity:c},h,e.easing),s.queue(i),t.effects.unshift(s,d,l+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,l=2*r+1,h=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,h,e.easing);r>s;s++)n.animate(p,h,e.easing).animate(f,h,e.easing);n.animate(p,h,e.easing).animate(d,h/2,e.easing).queue(i),t.effects.unshift(n,g,l+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[h],d[h]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[l][1]]=d.clip[a[l][0]],"show"===r&&(o.cssClip(d.clip),o.css(h,d[h]),d.clip=s,d[h]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var m;t.uiBackCompat!==!1&&(m=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}))});

/* -- modernizr-custom.min.js -- */
/*! modernizr 3.5.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-appearance-cssanimations-csscalc-svg-addtest-atrule-domprefixes-hasevent-mq-prefixes-setclasses-testallprops-testprop-teststyles !*/
!function (e, t, n) { function r(e, t) { return typeof e === t } function o() { var e, t, n, o, i, s, a; for (var l in w) if (w.hasOwnProperty(l)) { if (e = [], t = w[l], t.name && (e.push(t.name.toLowerCase()), t.options && t.options.aliases && t.options.aliases.length)) for (n = 0; n < t.options.aliases.length; n++) e.push(t.options.aliases[n].toLowerCase()); for (o = r(t.fn, "function") ? t.fn() : t.fn, i = 0; i < e.length; i++) s = e[i], a = s.split("."), 1 === a.length ? Modernizr[a[0]] = o : (!Modernizr[a[0]] || Modernizr[a[0]] instanceof Boolean || (Modernizr[a[0]] = new Boolean(Modernizr[a[0]])), Modernizr[a[0]][a[1]] = o), C.push((o ? "" : "no-") + a.join("-")) } } function i(e) { var t = x.className, n = Modernizr._config.classPrefix || ""; if (E && (t = t.baseVal), Modernizr._config.enableJSClass) { var r = new RegExp("(^|\\s)" + n + "no-js(\\s|$)"); t = t.replace(r, "$1" + n + "js$2") } Modernizr._config.enableClasses && (t += " " + n + e.join(" " + n), E ? x.className.baseVal = t : x.className = t) } function s(e, t) { if ("object" == typeof e) for (var n in e) z(e, n) && s(n, e[n]); else { e = e.toLowerCase(); var r = e.split("."), o = Modernizr[r[0]]; if (2 == r.length && (o = o[r[1]]), "undefined" != typeof o) return Modernizr; t = "function" == typeof t ? t() : t, 1 == r.length ? Modernizr[r[0]] = t : (!Modernizr[r[0]] || Modernizr[r[0]] instanceof Boolean || (Modernizr[r[0]] = new Boolean(Modernizr[r[0]])), Modernizr[r[0]][r[1]] = t), i([(t && 0 != t ? "" : "no-") + r.join("-")]), Modernizr._trigger(e, t) } return Modernizr } function a() { return "function" != typeof t.createElement ? t.createElement(arguments[0]) : E ? t.createElementNS.call(t, "http://www.w3.org/2000/svg", arguments[0]) : t.createElement.apply(t, arguments) } function l() { var e = t.body; return e || (e = a(E ? "svg" : "body"), e.fake = !0), e } function u(e, n, r, o) { var i, s, u, f, c = "modernizr", p = a("div"), d = l(); if (parseInt(r, 10)) for (; r--;) u = a("div"), u.id = o ? o[r] : c + (r + 1), p.appendChild(u); return i = a("style"), i.type = "text/css", i.id = "s" + c, (d.fake ? d : p).appendChild(i), d.appendChild(p), i.styleSheet ? i.styleSheet.cssText = e : i.appendChild(t.createTextNode(e)), p.id = c, d.fake && (d.style.background = "", d.style.overflow = "hidden", f = x.style.overflow, x.style.overflow = "hidden", x.appendChild(d)), s = n(p, e), d.fake ? (d.parentNode.removeChild(d), x.style.overflow = f, x.offsetHeight) : p.parentNode.removeChild(p), !!s } function f(e, t) { return !!~("" + e).indexOf(t) } function c(e) { return e.replace(/([a-z])-([a-z])/g, function (e, t, n) { return t + n.toUpperCase() }).replace(/^-/, "") } function p(e, t) { return function () { return e.apply(t, arguments) } } function d(e, t, n) { var o; for (var i in e) if (e[i] in t) return n === !1 ? e[i] : (o = t[e[i]], r(o, "function") ? p(o, n || t) : o); return !1 } function m(e) { return e.replace(/([A-Z])/g, function (e, t) { return "-" + t.toLowerCase() }).replace(/^ms-/, "-ms-") } function v(t, n, r) { var o; if ("getComputedStyle" in e) { o = getComputedStyle.call(e, t, n); var i = e.console; if (null !== o) r && (o = o.getPropertyValue(r)); else if (i) { var s = i.error ? "error" : "log"; i[s].call(i, "getComputedStyle returning null, its possible modernizr test results are inaccurate") } } else o = !n && t.currentStyle && t.currentStyle[r]; return o } function h(t, r) { var o = t.length; if ("CSS" in e && "supports" in e.CSS) { for (; o--;) if (e.CSS.supports(m(t[o]), r)) return !0; return !1 } if ("CSSSupportsRule" in e) { for (var i = []; o--;) i.push("(" + m(t[o]) + ":" + r + ")"); return i = i.join(" or "), u("@supports (" + i + ") { #modernizr { position: absolute; } }", function (e) { return "absolute" == v(e, null, "position") }) } return n } function g(e, t, o, i) { function s() { u && (delete q.style, delete q.modElem) } if (i = r(i, "undefined") ? !1 : i, !r(o, "undefined")) { var l = h(e, o); if (!r(l, "undefined")) return l } for (var u, p, d, m, v, g = ["modernizr", "tspan", "samp"]; !q.style && g.length;) u = !0, q.modElem = a(g.shift()), q.style = q.modElem.style; for (d = e.length, p = 0; d > p; p++) if (m = e[p], v = q.style[m], f(m, "-") && (m = c(m)), q.style[m] !== n) { if (i || r(o, "undefined")) return s(), "pfx" == t ? m : !0; try { q.style[m] = o } catch (y) { } if (q.style[m] != v) return s(), "pfx" == t ? m : !0 } return s(), !1 } function y(e, t, n, o, i) { var s = e.charAt(0).toUpperCase() + e.slice(1), a = (e + " " + N.join(s + " ") + s).split(" "); return r(t, "string") || r(t, "undefined") ? g(a, t, o, i) : (a = (e + " " + T.join(s + " ") + s).split(" "), d(a, t, n)) } function _(e, t, r) { return y(e, n, n, t, r) } var C = [], w = [], S = { _version: "3.5.0", _config: { classPrefix: "", enableClasses: !0, enableJSClass: !0, usePrefixes: !0 }, _q: [], on: function (e, t) { var n = this; setTimeout(function () { t(n[e]) }, 0) }, addTest: function (e, t, n) { w.push({ name: e, fn: t, options: n }) }, addAsyncTest: function (e) { w.push({ name: null, fn: e }) } }, Modernizr = function () { }; Modernizr.prototype = S, Modernizr = new Modernizr; var b = S._config.usePrefixes ? " -webkit- -moz- -o- -ms- ".split(" ") : ["", ""]; S._prefixes = b; var x = t.documentElement, E = "svg" === x.nodeName.toLowerCase(), P = "Moz O ms Webkit", T = S._config.usePrefixes ? P.toLowerCase().split(" ") : []; S._domPrefixes = T; var z; !function () { var e = {}.hasOwnProperty; z = r(e, "undefined") || r(e.call, "undefined") ? function (e, t) { return t in e && r(e.constructor.prototype[t], "undefined") } : function (t, n) { return e.call(t, n) } }(), S._l = {}, S.on = function (e, t) { this._l[e] || (this._l[e] = []), this._l[e].push(t), Modernizr.hasOwnProperty(e) && setTimeout(function () { Modernizr._trigger(e, Modernizr[e]) }, 0) }, S._trigger = function (e, t) { if (this._l[e]) { var n = this._l[e]; setTimeout(function () { var e, r; for (e = 0; e < n.length; e++) (r = n[e])(t) }, 0), delete this._l[e] } }, Modernizr._q.push(function () { S.addTest = s }); var N = S._config.usePrefixes ? P.split(" ") : []; S._cssomPrefixes = N; var j = function (t) { var r, o = b.length, i = e.CSSRule; if ("undefined" == typeof i) return n; if (!t) return !1; if (t = t.replace(/^@/, ""), r = t.replace(/-/g, "_").toUpperCase() + "_RULE", r in i) return "@" + t; for (var s = 0; o > s; s++) { var a = b[s], l = a.toUpperCase() + "_" + r; if (l in i) return "@-" + a.toLowerCase() + "-" + t } return !1 }; S.atRule = j; var A = function () { function e(e, t) { var o; return e ? (t && "string" != typeof t || (t = a(t || "div")), e = "on" + e, o = e in t, !o && r && (t.setAttribute || (t = a("div")), t.setAttribute(e, ""), o = "function" == typeof t[e], t[e] !== n && (t[e] = n), t.removeAttribute(e)), o) : !1 } var r = !("onblur" in t.documentElement); return e }(); S.hasEvent = A, Modernizr.addTest("csscalc", function () { var e = "width:", t = "calc(10px);", n = a("a"); return n.style.cssText = e + b.join(t + e), !!n.style.length }); var L = function () { var t = e.matchMedia || e.msMatchMedia; return t ? function (e) { var n = t(e); return n && n.matches || !1 } : function (t) { var n = !1; return u("@media " + t + " { #modernizr { position: absolute; } }", function (t) { n = "absolute" == (e.getComputedStyle ? e.getComputedStyle(t, null) : t.currentStyle).position }), n } }(); S.mq = L; var k = (S.testStyles = u, { elem: a("modernizr") }); Modernizr._q.push(function () { delete k.elem }); var q = { style: k.elem.style }; Modernizr._q.unshift(function () { delete q.style }); S.testProp = function (e, t, r) { return g([e], n, t, r) }; S.testAllProps = y, S.testAllProps = _, Modernizr.addTest("cssanimations", _("animationName", "a", !0)), Modernizr.addTest("appearance", _("appearance")), Modernizr.addTest("svg", !!t.createElementNS && !!t.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect), o(), i(C), delete S.addTest, delete S.addAsyncTest; for (var R = 0; R < Modernizr._q.length; R++) Modernizr._q[R](); e.Modernizr = Modernizr }(window, document);
/* -- spin.js -- */
!function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";var t,e,i=["webkit","Moz","ms","O"],o={};function n(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function r(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}function s(i,n,r,s){var a=["opacity",n,~~(100*i),r,s].join("-"),l=.01+r/s*100,c=Math.max(1-(1-i)/n*(100-l),i),d=t.substring(0,t.indexOf("Animation")).toLowerCase(),p=d&&"-"+d+"-"||"";return o[a]||(e.insertRule("@"+p+"keyframes "+a+"{0%{opacity:"+c+"}"+l+"%{opacity:"+i+"}"+(l+.01)+"%{opacity:1}"+(l+n)%100+"%{opacity:"+i+"}100%{opacity:"+c+"}}",e.cssRules.length),o[a]=1),a}function a(t,e){var o,n,r=t.style;if(void 0!==r[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(n=0;n<i.length;n++)if(void 0!==r[o=i[n]+e])return o}function l(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function c(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function d(t,e){return"string"==typeof t?t:t[e%t.length]}var p,u={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function f(t){this.opts=c(t||{},f.defaults,u)}if(f.defaults={},c(f.prototype,{spin:function(e){this.stop();var i=this,o=i.opts,r=i.el=n(null,{className:o.className});if(l(r,{position:o.position,width:0,zIndex:o.zIndex,left:o.left,top:o.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!t){var s,a=0,c=(o.lines-1)*(1-o.direction)/2,d=o.fps,p=d/o.speed,u=(1-o.opacity)/(p*o.trail/100),f=p/o.lines;!function t(){a++;for(var e=0;e<o.lines;e++)s=Math.max(1-(a+(o.lines-e)*f)%p*u,o.opacity),i.opacity(r,e*o.direction+c,s,o);i.timeout=i.el&&setTimeout(t,~~(1e3/d))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(e,i){var o,a=0,c=(i.lines-1)*(1-i.direction)/2;function p(t,e){return l(n(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*a+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(;a<i.lines;a++)o=l(n(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:t&&s(i.opacity,i.trail,c+a*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&r(o,l(p("#000","0 0 4px #000"),{top:"2px"})),r(e,r(o,p(d(i.color,a),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){p=n("style",{type:"text/css"}),r(document.getElementsByTagName("head")[0],p),e=p.sheet||p.styleSheet;var h=l(n("group"),{behavior:"url(#default#VML)"});!a(h,"transform")&&h.adj?function(){function t(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}e.addRule(".spin-vml","behavior:url(#default#VML)"),f.prototype.lines=function(e,i){var o=i.scale*(i.length+i.width),n=2*i.scale*o;function s(){return l(t("group",{coordsize:n+" "+n,coordorigin:-o+" "+-o}),{width:n,height:n})}var a,c=-(i.width+i.length)*i.scale*2+"px",p=l(s(),{position:"absolute",top:c,left:c});function u(e,n,a){r(p,r(l(s(),{rotation:360/i.lines*e+"deg",left:~~n}),r(l(t("roundrect",{arcsize:i.corners}),{width:o,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:a}),t("fill",{color:d(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(a=1;a<=i.lines;a++)u(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)u(a);return r(e,p)},f.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=(n=(n=n.childNodes[e+o])&&n.firstChild)&&n.firstChild)&&(n.opacity=i)}}():t=a(h,"animation")}return f});
/* -- spin.ext.js -- */
"function"==typeof Spinner&&(Spinner.prototype.spinWithOverlay=function(e){var o=this.spin(e);if(e){var r=this.overlay=document.createElement("div");r.className="block-overlay",r.id="spinnerBlockOverlay",e.insertBefore(r,null)}return o},Spinner.prototype.proxiedStop=Spinner.prototype.stop,Spinner.prototype.stop=function(){var e=this.overlay;e&&(e.parentNode&&e.parentNode.removeChild(e),this.overlay=void 0),this.proxiedStop()});
/* -- js.cookie.js -- */
!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}return function n(o){function t(n,i,r){var c;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},t.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{c=JSON.stringify(i),/^[\{\[]/.test(c)&&(i=c)}catch(e){}return i=o.write?o.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}n||(c={});for(var s=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var f=s[d].split("="),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var l=f[0].replace(p,decodeURIComponent);if(u=o.read?o.read(u,l):o(u,l)||u.replace(p,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(n===l){c=u;break}n||(c[l]=u)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}(function(){})});
/* -- jquery.fittext.js -- */
!function(t){t.fn.fitText=function(n,i){var e=n||1,o=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},i);return this.each(function(){var n=t(this),i=function(){n.css("font-size",Math.max(Math.min(n.width()/(10*e),parseFloat(o.maxFontSize)),parseFloat(o.minFontSize)))};i(),t(window).on("resize.fittext orientationchange.fittext",i)})}}(jQuery);
/* -- purl.min.js -- */
!function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function f(a,c){for(var e=decodeURI(a),f=d[c?"strict":"loose"].exec(e),g={attr:{},param:{},seg:{}},h=14;h--;)g.attr[b[h]]=f[h]||"";return g.param.query=k(g.attr.query),g.param.fragment=k(g.attr.fragment),g.seg.path=g.attr.path.replace(/^\/+|\/+$/g,"").split("/"),g.seg.fragment=g.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),g.attr.base=g.attr.host?(g.attr.protocol?g.attr.protocol+"://"+g.attr.host:g.attr.host)+(g.attr.port?":"+g.attr.port:""):"",g}function g(b){var c=b.tagName;return void 0!==c?a[c.toLowerCase()]:c}function h(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function i(a,b,c,d){var f=a.shift();if(f){var g=b[c]=b[c]||[];"]"==f?o(g)?""!==d&&g.push(d):"object"==typeof g?g[p(g).length]=d:g=b[c]=[b[c],d]:~f.indexOf("]")?(f=f.substr(0,f.length-1),!e.test(f)&&o(g)&&(g=h(b,c)),i(a,g,f,d)):(!e.test(f)&&o(g)&&(g=h(b,c)),i(a,g,f,d))}else o(b[c])?b[c].push(d):"object"==typeof b[c]?b[c]=d:void 0===b[c]?b[c]=d:b[c]=[b[c],d]}function j(a,b,c){if(~b.indexOf("]")){i(b.split("["),a,"base",c)}else{if(!e.test(b)&&o(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}""!==b&&l(a.base,b,c)}return a}function k(a){return n(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(a){}var c=b.indexOf("="),d=m(b),e=b.substr(0,d||c),f=b.substr(d||c,b.length);return f=f.substr(f.indexOf("=")+1,f.length),""===e&&(e=b,f=""),j(a,e,f)},{base:{}}).base}function l(a,b,c){var d=a[b];void 0===d?a[b]=c:o(d)?d.push(c):a[b]=[d,c]}function m(a){for(var c,d,b=a.length,e=0;e<b;++e)if(d=a[e],"]"==d&&(c=!1),"["==d&&(c=!0),"="==d&&!c)return e}function n(a,b){for(var c=0,d=a.length>>0,e=arguments[2];c<d;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function o(a){return"[object Array]"===Object.prototype.toString.call(a)}function p(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function q(a,b){return 1===arguments.length&&!0===a&&(b=!0,a=void 0),b=b||!1,a=a||window.location.toString(),{data:f(a,b),attr:function(a){return a=c[a]||a,void 0!==a?this.data.attr[a]:this.data.attr},param:function(a){return void 0!==a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return void 0!==a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return void 0===a?this.data.seg.path:(a=a<0?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return void 0===a?this.data.seg.fragment:(a=a<0?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var a={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],c={anchor:"fragment"},d={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},e=/^[0-9]+$/;return q.jQuery=function(a){null!=a&&(a.fn.url=function(b){var c="";return this.length&&(c=a(this).attr(g(this[0]))||""),q(c,b)},a.url=q)},q.jQuery(window.jQuery),q});
/* -- common.js -- */
function getURLParam(e){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==e)return n[1]}}function removeURLParameter(e,t){var o=e.split("?");if(o.length>=2){for(var n=encodeURIComponent(t)+"=",r=o[1].split(/[&;]/g),a=r.length;a-- >0;)-1!==r[a].lastIndexOf(n,0)&&r.splice(a,1);return e=o[0]+"?"+r.join("&")}return e}function activateScrollTopButton(){var e=$(".js-back-to-top");$("html, body").scrollTop()>50||window.pageYOffset>50?e.show():e.hide()}function scrollToTop(){$("html, body").animate({scrollTop:0},"slow")}function refreshFMPage(e,t){return!!(window.tzoo&&tzoo.focusMove&&tzoo.fmPage)&&(e?tzoo.fmPage.refresh():(t=t||200,setTimeout(function(){tzoo.fmPage.refresh()},t)),!0)}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,configurable:!1,writable:!1,value:function(e){"use strict";if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,o=Object(this),n=o.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=o[a],e.call(r,t,a,o))return t}}),Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{enumerable:!1,configurable:!1,writable:!1,value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,o=Object(this),n=o.length>>>0,r=0;if(2===arguments.length)t=arguments[1];else{for(;r<n&&!(r in o);)r++;if(r>=n)throw new TypeError("Reduce of empty array with no initial value");t=o[r++]}for(;r<n;r++)r in o&&(t=e(t,o[r],r,o));return t}}),Array.prototype.every||Object.defineProperty(Array.prototype,"every",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){"use strict";var o,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(o=t),n=0;n<a;){var i;if(n in r)if(i=r[n],!e.call(o,i,n,r))return!1;n++}return!0}}),Array.prototype.map||Object.defineProperty(Array.prototype,"map",{enumerable:!1,configurable:!1,writable:!1,value:function(e){var t,o,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),o=new Array(a),n=0;n<a;){var i,l;n in r&&(i=r[n],l=e.call(t,i,n,r),o[n]=l),n++}return o}}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,function(t,o){return e[o]})}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e}),Date.prototype.addDays||(Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}),function(e){Number.prototype.formatSimple=function(t){var o=this.toFixed(Math.max(0,~~t));return e.decimalSeparator?o.replace(".",e.decimalSeparator):o}}(window.tzoo=window.tzoo||{}),tzoo.isVisible=function(e){"use strict";function t(e,t){return window.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:void 0}return function e(o,n,r,a,i,l,s){var c=o.parentNode;return!!function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}(o)&&(9===c.nodeType||"0"!==t(o,"opacity")&&"none"!==t(o,"display")&&"hidden"!==t(o,"visibility")&&("undefined"!=typeof n&&"undefined"!=typeof r&&"undefined"!=typeof a&&"undefined"!=typeof i&&"undefined"!=typeof l&&"undefined"!=typeof s||(n=o.offsetTop,i=o.offsetLeft,a=n+o.offsetHeight,r=i+o.offsetWidth,l=o.offsetWidth,s=o.offsetHeight),!c||("hidden"!==t(c,"overflow")&&"scroll"!==t(c,"overflow")||!(i+2>c.offsetWidth+c.scrollLeft||i+l-2<c.scrollLeft||n+2>c.offsetHeight+c.scrollTop||n+s-2<c.scrollTop))&&(o.offsetParent===c&&(i+=c.offsetLeft,n+=c.offsetTop),e(c,n,r,a,i,l,s))))}(e)},function(e,t,o,n){"use strict";o.devicePixelRatio=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,o.hasHighPixelDensity=o.devicePixelRatio>1,o.getImage=function(e){var n="",r="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(e&&e.nam&&0!==e.nam.length){var a=o.AssetUrl,i=e.cap?e.cap:"",l=e.cre?e.cre:"",s=o.isTrue(t.get("progressive_loading")),c=" fade-in";a+=e.ir?"remote":"images",a+="/"+o.stripUrlPrefix(e.nam),a+="?width={width}",e.v>1&&(a+="&v="+e.v),s&&(r=a.replace("{width}","100"),c=""),n='<div class="tzsg-img-container"><div class="tzsg-img-2-by-1"></div><img src="'+r+'" data-src="'+a+'" alt="'+i+'" data-credits="'+l+'" class="tzsg-lazy'+c+'" /></div>'}return n},o.getImageSlickTagOnly=function(e,n,r){var a="",i="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(e&&e.nam&&0!==e.nam.length){var l=o.AssetUrl,s=e.cap?e.cap:"",c=e.cre?e.cre:"",u=o.isTrue(t.get("progressive_loading")),d="";l+=e.ir?"remote":"images",l+="/"+o.stripUrlPrefix(e.nam),l+="?width={width}",e.v>1&&(l+="&v="+e.v),u&&(i=l.replace("{width}","100")),0===n&&(d="tzsg-lazy"),a='<img src="'+i+'" data-src="'+l+'" alt="'+s+'" data-credits="'+c+'" class="'+d+'" />'}return a},o.getImageFixed=function(e,t,n){var r="";if(e&&0!==e.length){var a=o.AssetUrl+"images/"+o.stripUrlPrefix(e),i="";t&&0!==t&&n&&0!==n&&(i=' width="'+t+'" height="'+n+'"',a+="?width={width}"),r='<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+a+'"'+i+'class="tzsg-lazy" />'}return r},o.getImageUrl=function(e){return o.AssetUrl+"images/"+o.stripUrlPrefix(e)},o.absoluteUrl=function(e,t){if(e&&!e.includes("//"))return"//"+window.location.hostname+e;var n=t.replace("http://","").replace("https://","").replace(".com/",".com").replace(o.EnvironmentPrefix,"");return e.replace(o.EnvironmentPrefix,"").replace("//www.travelzoo.com","//"+o.EnvironmentPrefix+n)},o.stripUrlPrefix=function(e){var t="";return e&&0!==e.length&&(t=e.replace(/https?:\/\//i,"")),t},o.isTrue=function(e){var t=!1;switch(String(e).toLowerCase()){case"1":case"true":case"yes":case"y":case"on":case"checked":t=!0}return t},o.getQueryParameters=function(e){return(e||document.location.search).replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]},o.getUserLocation=function(){var e={},o=t.get("geol");if(void 0!==o){var n=o.split("|");2===n.length&&(e.lat=Number(n[0].replace(",",".")),e.lng=Number(n[1].replace(",",".")))}return e.defaultOrigin=t.get("def-ori"),e.isSet=void 0!==e.lat&&void 0!==e.lng&&(0!==e.lat||0!==e.lng),e},o.resetUserLocation=function(){t.remove("def-ori",{domain:".travelzoo.com",path:"/"}),t.remove("geol",{domain:".travelzoo.com",path:"/"})},o.setUserLocation=function(e){return o.util.setCookie("geol",e,o.util.cookieClassification.F,1),t.remove("def-ori",{domain:".travelzoo.com",path:"/"}),o.layout.setOriginAirports(!0)},o.setDefaultOriginLocation=function(e){o.util.setCookie("def-ori",e,o.util.cookieClassification.F,1)},o.updateLocation=function(e){o.BrowserLocationDetector.start({success:function(){e?o.askForLocationThenRedirect(window.location.href):window.location.reload()},denied:function(){o.resetUserLocation(),o.askForLocationThenRedirect(window.location.href)}})},o.askForLocationThenRedirect=function(e){document.activeElement.blur(),o.LocationDetection.showOverlay(function(){window.location.href=e})},o.askForLocationThenSearch=function(t){document.activeElement.blur(),o.LocationDetection.showOverlay(function(){void 0===t&&(t=o.layout.isXs()?"#overlay-search-form":"#header-search-form"),window.location.href.includes("ehe=1")?window.location.replace(window.location.href):e(t).submit()})},o.showSearchFilter=function(){var t=e("#refine-search-toggle"),n=e("#refine-search-container");t&&n&&(t.removeClass("button-refine-search--on"),n.removeClass("fullscreen-overlay"),n.removeClass("visible"),t.addClass("button-refine-search--on"),o.layout.isXs()?n.addClass("fullscreen-overlay"):(o.Overlays.isRegistered("refine-search-overlay")||o.Overlays.initializeAndRegister("#refine-search-container",{id:"refine-search-overlay"},{modal:!0,dialogClass:"refine-search-overlay"}),o.Overlays.show("refine-search-overlay")),n.addClass("visible"))},o.getResource=function(t,n){var r={tzlocale:o.TzLocale,resourceapplication:1,resourcekey:t};return n&&0!==n.length&&e.extend(r,{viewkey:n}),e.getJSON(o.ServiceBaseUrl+"v1/content/getresource/",r).then(function(e){if(e&&e.suc)return e.val})},o.getDealExpertTip=function(t,n,r,a){e.ajax({type:"GET",url:o.ServiceBaseUrl+"/v1/content/getdealexperttip?tzlocale="+t+"&resourceKey="+n+"&viewKey="+r,dataType:"json",success:function(e){a(e)}})},o.platform={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}},o.device={iPad:function(){return navigator.userAgent.match(/iPad/i)},AndroidTablet:function(){var e=navigator.userAgent.toLowerCase();return e.search("android")>-1&&-1===e.search("mobile")}},o.trackImpressions=function(e,t,n){var r,a;e&&e.length>0&&(r=e.join("|"),a="t="+o.websiteType+"&a="+r+"&s="+o.clickSource+"&rnd="+Math.random(),(new Image).src=o.TrackingBaseUrl+"Hit.ashx?"+a),t&&t.length>0&&(r=t.join("-"),a="t="+o.websiteType+"&a="+r+"&at=l&rnd="+Math.random(),(new Image).src=o.TrackingBaseUrl+"Hit.ashx?"+a),n&&n.length>0&&(r=n.join("-"),a="t="+o.websiteType+"&a="+r+"&at=s&rnd="+Math.random(),(new Image).src=o.TrackingBaseUrl+"Hit.ashx?"+a)},o.getQueryStringParameter=function(e,t){var o,n,r,a,i,l;for(r=(a=(r=(t=t||top.location.href).indexOf("?"))>=0?t.substr(r+1):t).lastIndexOf("#"),o=0,n=(i=(a=r>=0?a.substr(0,r):a).split("&")).length;o<n;o++)if((l=i[o].split("=")).length>=2&&l[0]===e)return unescape(l[1]);return null},o.addQueryStringParameter=function(e,t){var o=t.split("#"),n=o[0],r=n.indexOf("?")>0;n+=(r?"&":"?")+e;for(var a=1;a<o.length;a++)n+="#"+o[1];return n};var r=!1;o.hasInteracted=function(e){return void 0!==e&&(r=Boolean(e)),r},o.pad=function(e,t){return(e=e.toString()).length<t?o.pad("0"+e,t):e},o.getwrapparamfordotdotdot=function(e){switch(e.toString()){case"8":case"9":case"12":case"13":return"letter"}return"word"},o.loadNearestCity=function(t,o,n,r){o&&n&&e.getJSON("/api/v1/location/getuserlocationdata/",{TzLocale:t,Latitude:o,Longitude:n}).done(function(e){if(e&&e.suc&&e.loc&&e.loc.loc){var t={id:e.loc.loc.id,type:e.loc.loc.t,name:e.loc.loc.dn};r&&r(t)}})},o.myAccountTabs=function(t,n){var r=e(t).children("a, button,.button");if(r.is(n)){var a=r.filter(".selected");a.data("tab")&&e("#"+a.data("tab")).hide(),a.removeClass("selected"),e(n).addClass("selected"),e(n).data("tab")&&(e("#"+e(n).data("tab")).show(),o.imageLoader.loadImages())}},o.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},o.htmlAttributeEncode=function(e){var t=e;return e&&0!==e.length&&(t=e.replace('"',"&quot;").replace("\\","&#39;").replace("&","&amp;").replace("<","&lt;")),t},o.restArgs=function(e,t){return t=null==t?e.length-1:+t,function(){for(var o=Math.max(arguments.length-t,0),n=Array(o),r=0;r<o;r++)n[r]=arguments[r+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var a=Array(t+1);for(r=0;r<t;r++)a[r]=arguments[r];return a[t]=n,e.apply(this,a)}},o.delay=o.restArgs(function(e,t,o){return setTimeout(function(){return e.apply(null,o)},t)}),o.now=Date.now||function(){return(new Date).getTime()},o.debounce=function(e,t,n){var r,a,i=function(t,o){r=null,o&&(a=e.apply(t,o))},l=o.restArgs(function(l){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(i,t),s&&(a=e.apply(this,l))}else r=o.delay(i,t,this,l);return a});return l.cancel=function(){clearTimeout(r),r=null},l},o.throttle=function(e,t,n){var r,a,i,l,s=0;n||(n={});var c=function(){s=!1===n.leading?0:o.now(),r=null,l=e.apply(a,i),r||(a=i=null)},u=function(){var u=o.now();s||!1!==n.leading||(s=u);var d=t-(u-s);return a=this,i=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),s=u,l=e.apply(a,i),r||(a=i=null)):r||!1===n.trailing||(r=setTimeout(c,d)),l};return u.cancel=function(){clearTimeout(r),s=0,r=a=i=null},u},o.debounce=function(e,t,o){var n;return function(){var r=this,a=arguments;n?clearTimeout(n):o&&e.apply(r,a),n=setTimeout(function(){o||e.apply(r,a),n=null},t||100)}},o.scrollAfterLoad=function(){var t=o.getQueryParameters();if(t.scrollto){var n=e("li[data-sid="+t.scrollto+"]").get(0);null!=n?n.scrollIntoView(!0):(n=e("ul.result-list>li").last().get(0)).scrollIntoView(!0)}},o.parseParams=function(e){return e.split("&").reduce(function(e,t){var o=t.split("=").map(function(e){return decodeURIComponent(e.replace("+"," "))});return e[o[0]]=o[1],e},{})};var a=null;o.optimizelyTrackEvent=function(e){var n=(null==a&&o.optimizelyDatafile&&(a=optimizelyClient.createInstance({datafile:o.optimizelyDatafile})),a);if(null!=n){var r={MobilePhone:o.isSmartPhone?"Yes":"No"};n.track(e,t.get("uu"),r)}},o.trackLinkClicksAsEvents=function(t,n,r){e(t).on("click","a",function(){var t=e(this).attr("href");return t&&!t.startsWith("http")&&t.startsWith("/")&&(t=location.protocol+"//"+location.host+t),t&&t.startsWith("http")&&o.gtm&&"function"==typeof o.gtm.analyticsEvent&&o.gtm.analyticsEvent(n,r,t,null,!1),!0})},o.LabelInInput=function(t){var o=(t=t||e("body")).find(".label-in-field").find("input");o.each(function(){null===e(this).val()||""===e(this).val()?(e(this).removeClass("valid"),e(this).addClass("null-value")):e(this).removeClass("null-value")}),o.on("focus blur click change tz-update",function(){null===e(this).val()||""===e(this).val()?(e(this).removeClass("valid"),e(this).addClass("null-value")):e(this).removeClass("null-value")})},o.LabelInSelect=function(t){var o=(t=t||e("body")).find(".label-in-select").find("select");o.each(function(){null===e(this).val()||e(this).val()===[]?e(this).addClass("null-value"):e(this).removeClass("null-value")}),o.on("focus blur click change tz-update",function(){null===e(this).val()||e(this).val()===[]?e(this).addClass("null-value"):e(this).removeClass("null-value")})},o.LabelInTextarea=function(t){var o=(t=t||e("body")).find(".label-in-field").find("textarea");o.each(function(){null===e(this).val()||""===e(this).val()?e(this).addClass("null-value"):e(this).removeClass("null-value")}),o.on("focus blur click change tz-update",function(){null===e(this).val()||""===e(this).val()?e(this).addClass("null-value"):e(this).removeClass("null-value")})},e(document).ready(function(){var t="",n=o.getQueryStringParameter("tab",window.location.href);null!=n&&(t="a[data-tab='"+n+"']"),e(t).length>0&&o.myAccountTabs(e(t).parent(),e(t)),e(document).on("confirmShortcutButtonLocation",function(t,n){o.getUserLocation().isSet?window.location.href=n:(e(document).trigger("getGeolocation"),setTimeout(function(){e(document).trigger("cancelGetGeoLocation"),o.getUserLocation().isSet?window.location.href=n:o.askForLocationThenRedirect(n),e(document).trigger("resetWhereAndButton",!0)},3e3))});var r=e(".js-back-to-top");r.length>0&&r.on("click",scrollToTop),e.valHooks.input={set:function(t,o){return t.value=o,e(t).trigger("tz-update"),o}},e(".js-mailto-support").on("click",function(){o.gtm.analyticsEvent("Email Us Click",o.CurrentPageType+" Page",location.href,void 0,!1)})}),e(window).on("scroll",o.debounce(function(){e(".js-back-to-top").length>0&&activateScrollTopButton()},250)),e(document).on("click",'[class^="btn-tab"], [class^="lnk-tab"]',function(e){o.myAccountTabs(this,e.target)}),e.fn.expandable=function(){return this.each(function(){var t=e(this);if(0!==t.html().length){var o=!1;t.data("startopen")&&(o=1==t.data("startopen"));var n=e('<a role="button" class="noprint block '+t.data("collapse-expand-button-class")+'"></a>').text(t.data("expand-label")||"+ Show all"),r=e('<a role="button" class="noprint block '+t.data("collapse-expand-button-class")+'"></a>').text(t.data("collapse-label")||"+ Hide all");o?(t.after(n,r).show(),n.hide()):(t.after(n,r).hide(),r.hide());var a=t.hasClass("teaser-mode");n.click(function(){t.show(),n.hide(),a&&t.prev(".teaser").hide(),r.show(),t.data("expand-trigger")&&e(document).trigger(t.data("expand-trigger"),[e(this)])}),r.click(function(){t.hide("fast",function(){r.hide(),a&&t.prev(".teaser").show(),n.show(),e(this).prev("h2").length>0&&window.scrollTo(0,e(this).prev("h2").offset().top-150)})})}}),this},e.fn.isInViewport=function(){var t=e(this).offset().top,o=t+e(this).outerHeight(),n=e(window).scrollTop(),r=n+e(window).height();return o>n&&t<r},e.fn.isAboveBottomWindowEdge=function(){return e(this).offset().top<e(window).scrollTop()+e(window).height()},e(document).ready(function(){e(".js-expandable").expandable(),e(".fullscreen-overlay-close").on("click",function(){e(this).closest(".fullscreen-overlay").hide("slide"),e("body").removeClass("js-noscroll")}),e(".box-solid").on("click",".button-close",function(){e(this).closest(".box-solid").fadeOut()}),e(".js-close-target").on("click",".button-close",function(){e(this).closest(".js-close-target").fadeOut()}),e(".js-close-target-slideup").on("click",".button-close",function(){e(this).closest(".js-close-target-slideup").slideUp()});var t=e(".header-menu-toggle, .member-menu-toggle");t.on("click",function(){e(this).toggleClass("menu-open")}),e(document).on("click",function(o){e(o.target).closest(".header-menu").length||t.removeClass("menu-open")});var n=e(".globalnav-toggle");n.on("click",function(){e(this).hasClass("menu-open")||o.optimizelyTrackEvent("GNavClicks"),e(this).toggleClass("menu-open")}),e(document).on("click",function(t){e(t.target).closest(".header-globalnav").length||n.removeClass("menu-open")}),e(".quicklinks-global-nav a").on("click",function(){o.optimizelyTrackEvent("GNavClicksInternal")});var r=e(".site-edition-toggle"),a=e("#siteEditionDrawer"),i=e("#siteEditions");r.on("click",function(){o.Overlays.show("siteEditionDrawer"),e("body").addClass("scroll-locked");var t=o.Overlays.get("siteEditionDrawer");t&&o.focusMove&&(t.focusMove?t.focusMove.refresh(!0):(t.focusMove=new o.focusMove(e("#siteEditionDrawer"),{mode:"independence",delayFocusMove:!0,enterAsClick:!0,focusCss:"ada-state-focus",skipFocusAttr:"disabled"}),t.focusMove.add({ele:"#siteEditionDrawer #siteEditions > li > a",alias:"edition"}),t.focusMove.add({ele:"#siteEditionDrawer button.button-close",alias:"close"}),t.focusMove.init()),t.focusMove.trySetDelayStatus(!0),t.focusMove.moveToHead(!0)),t&&o.focusMove&&o.fmPage&&(o.fmPage.custom.from=o.fmPage.getCurrent())}),a.on("click",function(t,n){var r=o.Overlays.get("siteEditionDrawer");o.Overlays.hide("siteEditionDrawer"),e("body").removeClass("scroll-locked"),o.focusMove&&r&&o.fmPage&&setTimeout(function(){o.fmPage.custom.from?e(o.fmPage.custom.from).trigger("focus"):o.fmPage.moveToHead(!0),o.fmPage.custom.from=null},200)}),i.on("click","li",function(t){var n=e(this);"LI"===n.prop("nodeName")&&(n=n.find("a"));var r=n.data("code");o.util.setCookie("tld_selector",r,o.util.cookieClassification.F,90),o.util.setCookie("tld_selector_tmp",r,o.util.cookieClassification.F)});var l=navigator.userAgent;if(/(Mobile|Android|Windows Phone)/.test(l)&&e("body").addClass("is-touch"),e(document).on("focus.interacted","input",function(){o.hasInteracted(!0),e(document).off("focus.interacted","input")}),e(document.body).on("click",".js-button-clear",function(){var t=e(this).siblings(".js-input-clear");t.val(""),t.keydown(),t.keypress(),t.keyup(),t.change(),t.blur(),t.focus()}).on("keyup focus click",".js-input-clear",function(){""!==e(this).val()?e(this).addClass("show-clear-button"):e(this).removeClass("show-clear-button")}).on("blur",".js-input-clear",function(){var t=this;setTimeout(function(){e(t).removeClass("show-clear-button")},200)}),o.focusMove){e('[role="dialog"].loginOverlay').each(function(t,o){e(o).addClass("ada-auto-ignore")});var s=new o.focusMove("body",{mode:"cooperation",delayFocusMove:!0,enterAsClick:!0,focusCss:"ada-state-focus",skipFocusCss:"ada-state-ignore visuallyhidden",skipFocusAttr:"disabled",loopFocus:!0,autoScan:!0,autoFocusCss:"ada-auto-proxy",autoSkipFocusCss:"ada-auto-ignore",wakeUpOnHead:!0});s.on("focus.AfterMove",function(t,o,n){if(t&&o&&o&&e(o.ele).hasClass("search-form")){var r=e(o.ele).data("fm-siteSearch-focusMove");if(!r)return;"next"===n?r.moveToHead():"pre"===n&&r.moveToTail()}}),s.on("focus.EnterClick",function(t){if(t&&t.ele&&t.ele.tagName&&"LI"===t.ele.tagName.toUpperCase()){var o=e(t.ele).find("a:first");o&&o.length>0&&o[0].click()}}),s.on("focus.CustomDetectAutoScanFocus",function(t,o,n){if(!t||!t.tagName)return null;if(!o||!o.tagName)return null;var r={ele:null,autoFocus:!1,skipFocus:!1,isProxy:!1};if(e(o).hasClass("deal-module")||e(o).hasClass("deal-card")||e(o).hasClass("story-card")||e(o).hasClass("circle-module"))return r.ele=o,r.autoFocus=!0,r.isProxy=!0,r;if(-1===n&&e(t).hasClass("js-gallery-image")&&e(o).hasClass("tzsg-img-container"))return r.ele=o,r.autoFocus=!0,r.isProxy=!0,r;if(1===n&&e(o).hasClass("action")&&e(o).parent().hasClass("actions"))return r.ele=o,r.autoFocus=!0,r.isProxy=!0,r;if(1===n&&t.id&&"INPUT"===t.tagName.toUpperCase()&&(t.type&&"CHECKBOX"===t.type.toUpperCase()||"RADIO"===t.type.toUpperCase())){var a=e(o).find('[for="'+t.id+'"]'),i=e.makeArray(a);if(i.length>0)return r.ele=i,r.autoFocus=!0,r.isProxy=!0,e(t).hasClass("alertsCheckbox")&&(r.isProxyOnClick=!0),r}return null}),s.add(function(){return e("body").find('input[type!="hidden"], textarea, select, a, button, [role="button"], [role="tab"]')}),s.init(),o.fmPage=s}}),e.cachedScript=function(t,o){return o=e.extend(o||{},{dataType:"script",cache:!0,url:t}),e.ajax(o)}}(jQuery,window.Cookies,window.tzoo=window.tzoo||{});
/* -- layout.js -- */
!function(n,e){n.layout={init:function(){this.bindEvents(),this.rebuildLayoutDependentSectionsCache(),this.moveLayoutDependentSections()},bindEvents:function(){e(window).on("resize",n.debounce(e.proxy(this.moveLayoutDependentSections,this),250))},rebuildLayoutDependentSectionsCache:function(){this.sections={};var n=this;e("[data-section-name]").each(function(){var t=e(this).data("section-name");if(""!=t){var i=e(this).data("layout");["Xs","Sm","Md","Lg","SmOrSmaller","MdOrSmaller","SmOrLarger","MdOrLarger"].indexOf(i)<0&&(i="Default",e(this).data("layout","Default"));var o=""!=e.trim(e(this).html());"undefined"==typeof n.sections[t]&&(n.sections[t]={sectionContainers:{},currentContainer:null}),n.sections[t].sectionContainers[i]=e(this),o&&(n.sections[t].currentContainer=e(this))}})},moveLayoutDependentSections:function(n){for(var t in this.sections){var i=this.sections[t];if(null!=i.currentContainer){var o=null;for(var r in"undefined"!=typeof i.sectionContainers.Default&&(o=i.sectionContainers.Default),i.sectionContainers)"Default"!=r&&this["is"+r]()&&(o=i.sectionContainers[r]);null==o&&((o=e("<div class='hidden' data-layout='Default'></div>")).appendTo(e("body")),i.sectionContainers.Default=o),i.currentContainer.data("layout")!=o.data("layout")&&(o.append(i.currentContainer.contents()),i.currentContainer=o)}}},isXs:function(){return Modernizr.mq("only screen and (max-width: 767px)")},isSm:function(){return Modernizr.mq("only screen and (min-width: 768px) and (max-width: 1023px)")},isMd:function(){return Modernizr.mq("only screen and (min-width: 1024px) and (max-width: 1279px)")},isLg:function(){return Modernizr.mq("only screen and (min-width: 1280px)")},isSmOrSmaller:function(){return Modernizr.mq("only screen and (max-width: 1023px)")},isMdOrSmaller:function(){return Modernizr.mq("only screen and (max-width: 1279px)")},isSmOrLarger:function(){return Modernizr.mq("only screen and (min-width: 768px)")},isMdOrLarger:function(){return Modernizr.mq("only screen and (min-width: 1024px)")},adjustCircleHeadlines:function(){e(".circle-info").each(function(){var n=e(this).find(".circle-headline"),t=n.height(),i=n.css("font-size");chFontsizeIsDefault="16px"==i||"18px"==i,chFontsizeIsDefault&&(t>80?n.fitText(1.15,{minFontSize:"14px",maxFontSize:"32px"}):t>48?n.fitText(.95,{minFontSize:"14px",maxFontSize:"32px"}):t>24?n.fitText(.8,{minFontSize:"14px",maxFontSize:"32px"}):n.fitText(.75,{minFontSize:"14px",maxFontSize:"32px"}))}),e(".mkt-headline").fitText(.9,{minFontSize:"14px",maxFontSize:"38px"});var n=e(".circle .circle-headline h3");n.height()>80&&n.fitText(1,{minFontSize:"14px",maxFontSize:"32px"})}},n.layout.init()}(window.tzoo=window.tzoo||{},jQuery);
/* -- image-loader.js -- */
var tzoo=window.tzoo||{};tzoo.imageLoader={},function(){"use strict";var a=function(a,o){var t,i="";return a&&0!==a.length&&(i=a.replace("{width}",Math.round(o))),i+((t=tzoo.devicePixelRatio)&&(t=Math.ceil(2*t)/2)>1?"&spr="+(t=Math.min(3,t)):"")},o=function(o){var t=$(o),i=Math.round(t.height()),e=Math.round(t.width());e>i?t.addClass("tzsg-img-landscape"):e===i?t.addClass("tzsg-img-square"):t.addClass("tzsg-img-portrait"),t.removeClass("tzsg-lazy"),e=Math.round(t.width());var s=t.data("src");if("undefined"!=typeof s){var n=a(s,e);-1===window.location.search.indexOf("disable-image-loading")&&t.prop("src",n)}t.hasClass("fade-in")&&t.hide().on("load",function(){t.data("src")&&t.css("visibility","visible").fadeIn(200)}),t.on("load",function(){e>o.naturalWidth?t.addClass("tzsg-img-lowres"):t.removeClass("tzsg-img-lowres"),t.trigger("after-load")})};this.getImageUrl=function(o,t){return a(o,t)},this.loadImages=function(){var t=$(window),i=t.height(),e=t.scrollTop()+i;$("img.tzsg-lazy:visible").each(function(a,t){$(t).offset().top<=e+i&&o(t)}),$("div.tzsg-hero-img-lazy:visible").each(function(o,t){$(t).offset().top<=e+i&&function(o){var t=$(o),i=Math.round(t.width()),e=t.data("src"),s=a(e,i);t.removeClass("tzsg-hero-img-lazy"),-1===window.location.search.indexOf("disable-image-loading")&&t.css("background-image","url('"+s+"')"),t.on("load",function(){t.trigger("after-load")})}(t)})},this.forceLoadImages=function(a){a&&0!==a.length&&$(a).each(function(a,t){o(t)})}}.apply(tzoo.imageLoader),$(window).on("resize scroll",tzoo.throttle(tzoo.imageLoader.loadImages,250)),$(document).ready(tzoo.delay(tzoo.imageLoader.loadImages,50));
/* -- external.js -- */
var Tzoo=function(n,i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var t=function(){function n(n,i,t,o,e){return this.callbackUrl=o,this.genericErrorUrl=e,this.jsonWebTokenId=i,this.paymentTransactionId="",this.version="",this.initCardinal(n,t),this}return n.prototype.initCardinal=function(n,t){var o=this,e=i(".js-button-submit:visible"),r=e.text();e.prop("disabled",!0).text(window.tzoo.resources.Loading),window.Cardinal.configure({logging:{level:""===window.tzoo.EnvironmentPrefix?"off":"verbose"}}),window.Cardinal.off("payments.setupComplete"),window.Cardinal.on("payments.setupComplete",function(n){t.val(n.sessionId),window.Cardinal.trigger("bin.process","1234567894561237"),e.text(r).prop("disabled",!1)}),window.Cardinal.off("payments.validated"),window.Cardinal.on("payments.validated",function(n,i){return o.handlePayerAuthenticationResponse(n,i)}),window.Cardinal.setup("init",{jwt:n})},n.prototype.handlePayerAuthenticationData=function(n){this.version=n.version,this.paymentTransactionId=n.Id,window.Cardinal.continue("cca",n.auth,n.order)},n.prototype.handlePayerAuthenticationResponse=function(n,t){if(n&&null!==n.ErrorNumber)switch(n.ErrorNumber){case 0:t&&n.Payment&&n.Payment.ProcessorTransactionId&&i.post(this.callbackUrl,{MD:this.jsonWebTokenId,PaRes:t,id:this.paymentTransactionId,version:this.version}).done(function(n){window.top.location.href=n.RedirectUrl});break;default:window.tzoo.EnvironmentPrefix,window.top.location.href=this.genericErrorUrl}else window.tzoo.EnvironmentPrefix,window.top.location.href=this.genericErrorUrl},n}();return n.Cardinal=t,n}({},jQuery);
/* -- focusMove.js -- */
!function(t,o){o.focusMove=function(o,e){this.$container=this.convertToJQObj(o),this.currentIdx=-1,this.onDelayStatus=!1,this.sys={},this.custom={},this.styles={skipFocusCss:[],skipFocusAttr:[],autoFocusCss:[],autoSkipFocusCss:[]},this.options=t.extend({mode:"independence",delayFocusMove:!1,shareDelayStatus:!0,enterAsClick:!1,enterClickIgnoreInput:!0,focusCss:"",focusAttr:{},skipFocusCss:"",skipFocusAttr:"disabled readonly",skipInvisible:!0,tabIndex:null,moveKey:"tab",loopFocus:null,autoScan:!1,autoFocusCss:"",autoSkipFocusCss:"",wakeUpOnHead:!1},e),this.options.tabIndex||(this.options.tabIndex="independence"===this.options.mode?"-1":"0"),null==this.options.loopFocus&&(this.options.loopFocus="independence"===this.options.mode),this.options.moveKey=(this.options.moveKey||"").toUpperCase(),this.events={},this.controlArr=[],this.eleList=[]},o.focusMove.prototype.init=function(){if(this.options.skipFocusCss&&(this.styles.skipFocusCss=this.options.skipFocusCss.split(" ")),this.options.skipFocusAttr&&(this.styles.skipFocusAttr=this.options.skipFocusAttr.split(" ")),this.options.autoFocusCss&&(this.styles.autoFocusCss=this.options.autoFocusCss.split(" ")),this.options.autoSkipFocusCss&&(this.styles.autoSkipFocusCss=this.options.autoSkipFocusCss.split(" ")),this.initContainer(),this.initControls(),this.options.delayFocusMove&&(this.onDelayStatus=!0),o.focusMove.instance=this,o.focusMove.instanceList=o.focusMove.instanceList||[],o.focusMove.instanceList.push(this),this.options.shareDelayStatus&&null==o.focusMove.onDelayStatus){var t=o.util.getCookie("tzoo.focusMove.OnDelayStatus");o.focusMove.onDelayStatus=null==t||"1"==t}},o.focusMove.prototype.on=function(o,e){return!(!o||!e)&&("function"==typeof e&&(t(this.events).data(o,e),!0))},o.focusMove.prototype.trigger=function(o,e){if(!o)return!1;var s=t(this.events).data(o);return!!s&&("function"==typeof s&&s.apply(this,e))},o.focusMove.prototype.triggerClick=function(t){return!!t&&(this.setPulseNoDelay(),t.click(),!0)},o.focusMove.prototype.isPulseNoDelay=function(){return this.options.shareDelayStatus?o.focusMove.pulseNoDelay||!1:this.sys.pulseNoDelay||!1},o.focusMove.prototype.setPulseNoDelay=function(){var t=this;this.options.shareDelayStatus?(o.focusMove.pulseNoDelay=!0,setTimeout(function(){o.focusMove.pulseNoDelay=!1},500)):(this.sys.pulseNoDelay=!0,setTimeout(function(){t.sys.pulseNoDelay=!1},500))},o.focusMove.prototype.refresh=function(t,e){o.focusMove.instance=this;var s=this.getCurrent();if(this.clearAllFocusStyle(),this.initControls(),this.clearAllFocusStyle(),!(this.eleList.length<=0))if(t)this.moveToHead();else{var i=-1;s&&(i=this.detectFocus(s)),"function"==typeof e?this.currentIdx=e(this,this.currentIdx,i):this.isValidIdx(i)&&this.isValidIdxScope(i)?this.currentIdx=i:this.isValidIdx(i)&&this.isValidIdxScope(i)?this.currentIdx=i:this.isValidIdx(this.currentIdx)&&this.isValidIdxScope(this.currentIdx)||(i<0?this.currentIdx=-1:i>=this.eleList.length&&(this.currentIdx=this.eleList.length-1)),this.moveToIndex(this.currentIdx,null,!0,!0)}},o.focusMove.prototype.add=function(t){if(t)if("string"==typeof t||"function"==typeof t)this.controlArr.push({ele:t});else{if(!t.ele)return!1;this.controlArr.push(t)}},o.focusMove.prototype.movePre=function(t){this.isValidIdx(t)||(t=this.currentIdx);var o=this.fetchPreFocus(t);this.moveToIndex(o,"pre")},o.focusMove.prototype.moveNext=function(t){this.isValidIdx(t)||(t=this.currentIdx);var o=this.fetchNextFocus(t);this.moveToIndex(o,"next")},o.focusMove.prototype.moveTo=function(t,o,e){var s=this.detectFocus(t);return this.moveToIndex(s,null,o,e)},o.focusMove.prototype.moveToAlias=function(t,o,e,s){var i=this.getElementByAlias(t,o);return!!i&&this.moveTo(i,e,s)},o.focusMove.prototype.initIndex=function(){this.moveToIndex(-1,null,!0,!0)},o.focusMove.prototype.moveToHead=function(o){this.removeFocusStyle(),this.currentIdx=-1;var e=this.detectFocusOnIndex(-1,"next");if(this.moveToIndex(e),o){var s=this.getCurrent();this.getDelayStatus()&&s&&t(s).trigger("focus")}},o.focusMove.prototype.moveToFirstInput=function(){var t=this,o=this.detectFocusOnIndex(-1,"next",function(o,e){return!!t.isInputControl(o)});return!!this.isValidIdxScope(o)&&this.moveToIndex(o,null,!1,!0)},o.focusMove.prototype.moveToTail=function(){this.removeFocusStyle(),this.currentIdx=-1;var t=this.detectFocusOnIndex(this.eleList.length,"pre");this.moveToIndex(t)},o.focusMove.prototype.getCurrent=function(){return this.getElement()},o.focusMove.prototype.getElement=function(t){return this.isValidIdx(t)||(t=this.currentIdx),this.isValidIdxScope(t)?this.eleList[t]:null},o.focusMove.prototype.getAliasCurrent=function(){return this.getAliasElement()},o.focusMove.prototype.getAliasElement=function(t){if(this.isValidIdx(t)||(t=this.currentIdx),this.isValidIdxScope(t)){for(var o=!1,e=null,s=this.controlArr.length-1;s>=0;s--)if(!((e=this.controlArr[s]).startIdx<0||e.len<=0)&&t>=e.startIdx){o=!0;break}if(!o)return null;var i=t-e.startIdx;return{ele:this.eleList[t],alias:e.alias,aliasIdx:i}}return null},o.focusMove.prototype.getElementByAlias=function(t,o){if(!t)return null;o=o||0;for(var e=0;e<this.controlArr.length;e++){var s=this.controlArr[e];if(!(s.alias!=t||s.len<=0||s.startIdx<0))return s.len<=o?null:this.eleList[s.startIdx+o]}return null},o.focusMove.prototype.getPreIdx=function(t){return this.isValidIdx(t)||(t=this.currentIdx),this.fetchPreFocus(t)},o.focusMove.prototype.getPre=function(t){var o=this.getPreIdx(t);return this.getElement(o)},o.focusMove.prototype.getNextIdx=function(t){return this.isValidIdx(t)||(t=this.currentIdx),this.fetchNextFocus(t)},o.focusMove.prototype.getNext=function(t){var o=this.getNextIdx(t);return this.getElement(o)},o.focusMove.prototype.getAliasNext=function(t){var o=this.getNextIdx(t);return this.getAliasElement(o)},o.focusMove.prototype.getDelayStatus=function(){return!!this.options.delayFocusMove&&(this.options.shareDelayStatus?o.focusMove.onDelayStatus:this.onDelayStatus)},o.focusMove.prototype.isProxyElement=function(o,e){return t(e).data("focus.ProxyOn")===o},o.focusMove.prototype.getProxyElementOnClick=function(o){return t(o).data("focus.ProxyOnClick")?o:t(o).data("focus.ProxyOn")},o.focusMove.prototype.trySetDelayStatus=function(t){t?this.isPulseNoDelay()||(this.setDelayStatus(!0),this.removeFocusStyle()):this.setDelayStatus(t)},o.focusMove.prototype.setDelayStatus=function(t){this.onDelayStatus=t,this.options.shareDelayStatus&&(o.focusMove.onDelayStatus=t,o.util.setCookie("tzoo.focusMove.OnDelayStatus",t?"1":"0",o.util.cookieClassification.F))},o.focusMove.prototype.isAutoSkipFocus=function(o){if(!this.options.autoScan)return!1;for(var e=t(o).parents(),s=0;s<=e.length;s++){var i=e[s];if(i){if(i.tagName&&"BODY"===i.tagName.toUpperCase())return!1;if(i===this.$container[0])return!1;if(this.isAutoSkipFocusProxy(i))return!0}}return!1},o.focusMove.prototype.initContainer=function(){var o=this;this.$container.off("blur.containerFM"),this.$container.off("keydown.containerFM"),this.$container.off("click.containerFM"),"cooperation"===o.options.mode&&this.$container.on("blur.containerFM",function(t,e){t&&t.target&&o.isAutoSkipFocus(t.target)||o.containerEvent_OnBlur(this,e)}),this.options.delayFocusMove&&this.$container.on("click.containerFM",function(t,e){t&&t.target&&o.containerEvent_OnClick(this,t.target,e)}),this.$container.on("keydown.containerFM",function(t,e){if(!(o.eleList.length<=0)){var s=t.shiftKey||e&&e.shiftKey,i=(t.key||"").toUpperCase(),n=!s&&"TAB"===i,r=s&&"TAB"===i,u="ARROWUP"===i||"UP"===i,c="ARROWDOWN"===i||"DOWN"===i,a=!1;("TAB"===o.options.moveKey&&(n||r)||"ARROW"===o.options.moveKey&&(u||c))&&(a=!0);var l=!1;if(!(a&&(o.getDelayStatus()&&(l=!0),o.setDelayStatus(!1),t&&t.target&&o.isAutoSkipFocus(t.target)))){var h=o.getCurrent();if(l&&"independence"===o.options.mode&&o.isValidIdxScope(o.currentIdx)&&!o.isInputControl(h))return o.moveToIndex(o.currentIdx,null,!1,!0),!1;if("TAB"===o.options.moveKey){if(n||r)return o.containerEvent_OnMove(this,e,r,n);if(u)return o.containerEvent_OnArrowUp(this,e);if(c)return o.containerEvent_OnArrowDown(this,e)}else if("ARROW"===o.options.moveKey){if(u||c)return o.containerEvent_OnMove(this,e,u,c);if(r)return o.containerEvent_OnShiftTab(this,e);if(n)return o.containerEvent_OnTab(this,e)}return o.containerEvent_OnCustomKeydown(this,e,i),!0}}}),this.options.wakeUpOnHead&&(t(window).off("focus.containerFM"),t(window).on("focus.containerFM",function(){document.activeElement===t("html")[0]&&setTimeout(function(){var e=o.getElement(0);t(e).trigger("focus")},200)}))},o.focusMove.prototype.initControlTabIndex=function(o,e){e=e||this.options.tabIndex,t(o).attr("tabindex",e)},o.focusMove.prototype.initControlEvents=function(o,e){this.initControlTabIndex(o,e),t(o).off("click.focusMove"),t(o).off("focus.focusMove"),t(o).off("blur.focusMove"),t(o).off("keydown.focusMove")},o.focusMove.prototype.isInputControl=function(t){if(!t||!t.tagName)return!1;var o=t.tagName.toUpperCase(),e=(t.type||"").toUpperCase();return"INPUT"===o&&("TEXT"===e||"EMAIL"===e||"PASSWORD"===e||"SEARCH"===e)||"TEXTAREA"===o},o.focusMove.prototype.isLabelControl=function(t){return!(!t||!t.tagName)&&"LABEL"===t.tagName.toUpperCase()},o.focusMove.prototype.isButtonControl=function(t){return!(!t||!t.tagName)&&"BUTTON"===t.tagName.toUpperCase()},o.focusMove.prototype.isSafari=function(){return!(!window.navigator||!window.navigator.userAgent||window.navigator.userAgent.match(/Chrome/)||!window.navigator.userAgent.match(/Safari/))},o.focusMove.prototype.isFirefox=function(){return!!(window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.match(/Firefox/))},o.focusMove.prototype.shouldMonitorEnter=function(o,e){return!!this.options.enterAsClick&&(!(!o||!e)&&("ENTER"===(e.key||"").toUpperCase()&&(!this.getDelayStatus()&&(!this.isAutoSkipFocusProxy(o)&&((!this.options.enterClickIgnoreInput||!this.isInputControl(o))&&"tab"!==t(o).attr("role"))))))},o.focusMove.prototype.initControlElement=function(o){var e=this;if(this.skipFocus(o))return this.initControlEvents(o,"-1"),!0;var s=t(o).attr("tabindex");return null==s&&(s=this.options.tabIndex),this.initControlEvents(o,s),t(o).on("click.focusMove",function(t,o){return e.eleEvent_OnClick(this,o)}),t(o).on("focus.focusMove",function(t,o){return e.eleEvent_OnFocus(this,o)}),t(o).on("blur.focusMove",function(t,o){return e.eleEvent_OnBlur(this,o)}),t(o).on("keydown.focusMove",function(t,o){if(e.shouldMonitorEnter(this,t))return e.eleEvent_OnEnter(this,o)}),!0},o.focusMove.prototype.forceToArray=function(t){var o=[];return Array.isArray(t)?o=t:t&&o.push(t),o},o.focusMove.prototype.initControls=function(){this.eleList=[];for(var t=0;t<this.controlArr.length;t++){var o=this.controlArr[t];if(o.startIdx=-1,o.len=0,o.alias=o.alias||"",o.ele){var e=this.convertToJQObj(o.ele);if(e&&!(e.length<=0)){var s=0;o.startIdx=this.eleList.length;for(var i=0;i<e.length;i++){var n=e[i];if(this.options.autoScan)n=this.autoScanFocus(n);else{var r=this.invoke("focus.CustomDetectAutoScanFocus",[n,null,0],!0);r&&r.ele&&r.autoFocus&&(this.tryRecordProxyEle(r,r.ele,n),n=r.ele)}if(n)for(var u=this.forceToArray(n),c=0;c<u.length;c++){var a=u[c];this.initControlElement(a)&&(this.eleList.push(a),s++)}}s>0?o.len=s:(o.startIdx=-1,o.len=0)}}}},o.focusMove.prototype.detectAutoScanFocusFromParents=function(o){for(var e={ele:null,skipFocus:!1,autoFocus:!1,isProxy:!1,isProxyOnClick:!1},s=t(o).parents(),i=0;i<s.length;i++){var n=s[i];if(n){if(n.tagName&&"BODY"===n.tagName.toUpperCase())return e;if(n===this.$container[0])return e;this.isAutoSkipFocusProxy(n)&&(e.ele=n,e.skipFocus=!0),this.isAutoFocusProxy(n)&&(e.ele=n,e.autoFocus=!0);var r=i+1,u=this.invoke("focus.CustomDetectAutoScanFocus",[o,n,r],!0);if(u&&u.ele&&(e=u),e.skipFocus||e.autoFocus)break}}return e},o.focusMove.prototype.detectAutoScanFocusFromChidren=function(o){for(var e={ele:null,skipFocus:!1,autoFocus:!1,isProxy:!1,isProxyOnClick:!1},s=t(o).children(),i=0;i<s.length;i++){var n=s[i];if(n){var r=-(i+1),u=this.invoke("focus.CustomDetectAutoScanFocus",[o,n,r],!0);if(u&&u.ele&&(e=u),e.skipFocus||e.autoFocus)break}}return e},o.focusMove.prototype.tryRecordProxyEle=function(o,e,s){if(o&&e){var i=this.forceToArray(e);if(o.autoFocus&&!o.skipFocus&&o.isProxy)for(var n=0;n<i.length;n++){var r=i[n];this.isProxyElement(r,s)||t(r).data("focus.ProxyOn",s),o.isProxyOnClick&&t(r).data("focus.ProxyOnClick",!0)}}},o.focusMove.prototype.combineAutoScanResult=function(t,o){var e;e=this.forceToArray(t.ele);for(var s=[],i=0;i<e.length;i++){var n=e[i];if(n){if(t.autoFocus||t.skipFocus||t.isProxy){for(var r=!1,u=0;u<this.eleList.length;u++)if(n===this.eleList[u]){r=!0;break}if(r)continue}t.isProxy?this.initControlTabIndex(n,this.options.tabIndex):t.skipFocus?this.initControlTabIndex(n,"-1"):t.autoFocus&&this.initControlTabIndex(n,this.options.tabIndex),t.autoFocus&&s.push(n)}}return this.tryRecordProxyEle(t,s,o),s},o.focusMove.prototype.autoScanFocus=function(t){var o=[],e=this.detectAutoScanFocusFromParents(t),s=this.combineAutoScanResult(e,t);o=o.concat(s);var i=this.detectAutoScanFocusFromChidren(t),n=this.combineAutoScanResult(i,t);return o=o.concat(n),(e.isProxy||i.isProxy||!e.autoFocus&&e.skipFocus||!i.autoFocus&&i.skipFocus)&&this.initControlTabIndex(t,"-1"),o.length>0?o:e.isProxy||i.isProxy||e.autoFocus||i.autoFocus||e.skipFocus||i.skipFocus?null:(o.push(t),o)},o.focusMove.prototype.convertToJQObj=function(o){return"string"==typeof o?t(o):"function"==typeof o?o(this):o},o.focusMove.prototype.isValidIdx=function(t){return!(!t&&0!==t)},o.focusMove.prototype.isValidIdxScope=function(t){return t>=0&&t<this.eleList.length},o.focusMove.prototype.invoke=function(t,o,e){if(this.getDelayStatus()&&!e)return!1;try{return this.trigger(t,o)}catch(t){}return!1},o.focusMove.prototype.moveToIndex=function(t,o,e,s){var i=this.getAliasCurrent();i&&i.ele&&this.removeFocusStyle(i.ele);var n=this.isValidIdxScope(t),r=n?this.getAliasElement(t):null;return s||this.invoke("focus.BeforeMove",[i,r,o]),n?this.getDelayStatus()?(this.currentIdx=t,!0):this.currentIdx===t?(this.setFocus(r,o,e),!0):(this.currentIdx=t,this.setFocus(r,o,e),s||this.invoke("focus.AfterMove",[i,r,o]),!0):(this.currentIdx=t,!1)},o.focusMove.prototype.setFocusStyle=function(o){if(this.options.focusCss&&t(o).addClass(this.options.focusCss),this.options.focusAttr)for(var e in this.options.focusAttr)t(o).attr(e,this.options.focusAttr[e])},o.focusMove.prototype.removeFocusStyle=function(o){if((o=o||this.getCurrent())&&(this.options.focusCss&&t(o).removeClass(this.options.focusCss),this.options.focusAttr))for(var e in this.options.focusAttr)t(o).removeAttr(e)},o.focusMove.prototype.clearAllFocusStyle=function(){var t=this;this.eleList.forEach(function(o,e){t.removeFocusStyle(o)})},o.focusMove.prototype.setFocusAction=function(o,e){t(this.events).data("focus.CustomMove")?this.invoke("focus.CustomMove",[o,e]):t(o.ele).trigger("focus")},o.focusMove.prototype.setFocus=function(t,o,e){return!(!t||!t.ele)&&(!this.isAutoSkipFocusProxy(t.ele)&&(this.setFocusStyle(t.ele),e||this.setFocusAction(t,o),!0))},o.focusMove.prototype.detectFocus=function(t,o){var e=document.activeElement;this.isFirefox()&&this.isLabelControl(this.getCurrent())&&(e=null);var s=t||e;return s?this.tryDetectFocus(s,o):this.currentIdx},o.focusMove.prototype.tryDetectFocus=function(o,e){try{if(!o)return-1;if(o===this.getCurrent())return this.currentIdx;for(var s=0;s<this.eleList.length;s++)if(this.eleList[s]===o)return s;if(e)return-1;for(var i=this.$container[0],n=t("body")[0],r=t(o),u=0;u<=1e3&&(u++,(r=r.parent())&&!(r.length<=0));){var c=r[0];if(c===n)break;if(c===i)break;for(s=0;s<this.eleList.length;s++)if(this.eleList[s]===c)return s}}catch(t){}return-1},o.focusMove.prototype.isAutoFocusProxy=function(o){for(var e=0;e<this.styles.autoFocusCss.length;e++){var s=this.styles.autoFocusCss[e];if(s&&t(o).hasClass(s))return!0}return!1},o.focusMove.prototype.isAutoSkipFocusProxy=function(o){for(var e=0;e<this.styles.autoSkipFocusCss.length;e++){var s=this.styles.autoSkipFocusCss[e];if(s&&t(o).hasClass(s))return!0}return!1},o.focusMove.prototype.isInvisible=function(o,e){return!(!o||!this.options.skipInvisible)&&(!t(o).is(":visible")||("visible"!==t(o).css("visibility")||(0==t(o).css("opacity")||!!(e&&(t(o).outerWidth()<=1||t(o).outerHeight()<=1)&&t(o).children().length<=0))))},o.focusMove.prototype.skipInvisible=function(o){if(!this.options.skipInvisible)return!1;if(this.isInvisible(o,!0))return!0;var e=t(o).parent();return!!this.isInvisible(e)},o.focusMove.prototype.skipFocus=function(o){for(var e=0;e<this.styles.skipFocusCss.length;e++){var s=this.styles.skipFocusCss[e];if(s&&t(o).hasClass(s))return!0}for(e=0;e<this.styles.skipFocusAttr.length;e++){var i=this.styles.skipFocusAttr[e];if(i&&t(o).attr(i))return!0}return!1},o.focusMove.prototype.fetchCurrentFocus=function(t){var o=t;if(!this.isValidIdx(t))if("cooperation"==this.options.mode){if((o=this.detectFocus())<0)return-1}else o=this.currentIdx;return o},o.focusMove.prototype.fetchPreFocus=function(t){var o=this.fetchCurrentFocus(t);return o<0&&"cooperation"==this.options.mode?-1:(o<0?o=this.eleList.length>0?0:-1:o>=this.eleList.length&&(o=this.eleList.length-1),this.detectFocusOnIndex(o,"pre"))},o.focusMove.prototype.fetchNextFocus=function(t){var o=this.fetchCurrentFocus(t);return o<0&&"cooperation"==this.options.mode?-1:(o<0?o=-1:o>=this.eleList.length&&(o=this.eleList.length-1),this.detectFocusOnIndex(o,"next"))},o.focusMove.prototype.detectFocusOnIndex=function(t,o,e){for(var s=0;s<this.eleList.length;){if(s++,"next"===o)if(t<this.eleList.length-1)t+=1;else{if(!this.options.loopFocus)return-1;t=0}else{if("pre"!==o)return-1;if(t>0)t-=1;else{if(!this.options.loopFocus)return-1;t=this.eleList.length-1}}var i=this.eleList[t];if(!this.skipFocus(i)&&!this.skipInvisible(i)){if("function"!=typeof e)return t;if(e(i,t))return t}}return-1},o.focusMove.prototype.containerEvent_OnBlur=function(t,o){this.clearAllFocusStyle()},o.focusMove.prototype.containerEvent_OnClick=function(t,o,e){this.trySetDelayStatus(!0)},o.focusMove.prototype.containerEvent_OnMove=function(t,o,e,s){var i=s?"next":"pre",n=-1;if(s)n=this.fetchNextFocus();else{if(!e)return!0;n=this.fetchPreFocus()}if(this.moveToIndex(n,i),n<0&&"cooperation"===this.options.mode)return!0;var r=this.getCurrent();return!!(r&&this.isFirefox()&&this.isLabelControl(r))},o.focusMove.prototype.containerEvent_OnArrowUp=function(o,e){if(!t(this.events).data("focus.ArrowUp"))return!0;var s=this.getAliasCurrent();this.invoke("focus.ArrowUp",[s])},o.focusMove.prototype.containerEvent_OnArrowDown=function(o,e){if(!t(this.events).data("focus.ArrowDown"))return!0;var s=this.getAliasCurrent();this.invoke("focus.ArrowDown",[s])},o.focusMove.prototype.containerEvent_OnShiftTab=function(o,e){if(!t(this.events).data("focus.ShiftTab"))return!0;var s=this.getAliasCurrent();this.invoke("focus.ShiftTab",[s])},o.focusMove.prototype.containerEvent_OnTab=function(o,e){if(!t(this.events).data("focus.Tab"))return!0;var s=this.getAliasCurrent();this.invoke("focus.Tab",[s])},o.focusMove.prototype.containerEvent_OnCustomKeydown=function(o,e,s){if(!t(this.events).data("focus.CustomKeydown"))return!0;var i=this.getAliasCurrent();this.invoke("focus.CustomKeydown",[i,s])},o.focusMove.prototype.relocateFocusTo=function(t){return!(t=t||this.getCurrent())||this.skipFocus(t)||this.skipInvisible(t)?(this.moveNext(),!0):(this.moveTo(t,!1,!0),!0)},o.focusMove.prototype.tryRelocateFocus=function(o){if(!this.getDelayStatus()){var e=this;setTimeout(function(){if(document.activeElement&&document.activeElement!==t("body")[0]&&document.activeElement!==e.$container[0]){if(!o||!e.isAutoSkipFocus(o))if(e.isProxyElement(document.activeElement,o)){var s=e.getProxyElementOnClick(o);s&&e.relocateFocusTo(s)}else o&&document.activeElement===o&&e.moveTo(o,!0,!0)}else e.relocateFocusTo()},500)}},o.focusMove.prototype.eleEvent_OnClick=function(t,o){this.trySetDelayStatus(!0);var e=this.detectFocus(t);this.moveToIndex(e,null,!0,!1);var s=!1;if(e>=0&&this.options.enterAsClick){var i=this.getAliasCurrent();i&&i.ele&&(s=!0)}return s&&(this.invoke("focus.EnterClick",[i]),this.tryRelocateFocus(i.ele)),!0},o.focusMove.prototype.eleEvent_OnEnter=function(t,o){var e=t,s=this.getCurrent();"cooperation"===this.options.mode?e=t:"independence"===this.options.mode&&(e=s||t);var i=e;if(e){var n=this.getProxyElementOnClick(e);n&&(i=n,this.tryRelocateFocus(e))}if(i)try{this.triggerClick(i)}catch(t){}return!1},o.focusMove.prototype.eleEvent_OnFocus=function(t,o){var e=this.detectFocus(t,!0);return this.options.wakeUpOnHead&&0===e&&this.setDelayStatus(!1),e===this.currentIdx?this.moveToIndex(e,null,!0,!0):"cooperation"===this.options.mode?this.moveToIndex(e,null,!0,!0):"independence"===this.options.mode&&this.isValidIdxScope(e)&&this.moveToIndex(e,null,!0,!0),!0},o.focusMove.prototype.eleEvent_OnBlur=function(t,o){return"cooperation"===this.options.mode&&this.removeFocusStyle(t),!0}}(jQuery,window.tzoo=window.tzoo||{});
/* -- site-search-history.js -- */
!function(e,t){var r={addSearchHistory:function(t,r,n,a,i,l){!function(t,r,n,a,i,l){var s=c(t,r),o=new Array,u={what:e.util.sanitize(n),where:e.util.sanitize(a),when:null==i?"":e.util.sanitize(i),url:l,searchdate:Date.now()};null!=s&&(o=d(o="object"==typeof s?s:JSON.parse(s)));var p=o.map(function(e){return e.what+"|"+e.where+"|"+e.when}).indexOf(u.what+"|"+u.where+"|"+u.when);p>=0&&o.splice(p,1);o.unshift(u),h(t,r,o)}(t,r,n,a,i,l)},loadSearchHistory:function(e,t,r){return l(e,t,r)},renderSearchHistoryToOverlay:function(r,n){return function(r,n){if(null==r||null==n)return;if(e.layout.isXs()){var a=r.empty(),s=l(e.SearchHistoryStorageName,e.IsUser,5);if(s.length>0){for(i=0;i<s.length;i++){i>0&&t("<div><hr></div>").appendTo(a);var c=s[i].searchdate,h=o(s[i]),d=u(s[i],"url");t("<li>").append(t("<di>").attr("class","history-item").append(t("<a>").attr("role","button").attr("href","#").attr("data-link",d).click(function(e){e.preventDefault(),p({label:h,timestamp:c});var r=t(this).attr("data-link");window.location.href=r}).append(h))).appendTo(a)}n.show()}else n.hide()}}(r,n)},renderSearchHistoryToAutoComplete:function(r,a,i){return function(r,a,i){var c=l(e.SearchHistoryStorageName,e.IsUser,5),h=[];if(c.length>0){h.push({label:e.resources["SearchWidget.SearchHistoryLabel"],value:"",id:-99,dnmi:!1,st:0}),t.each(c,function(e,t){h.push({label:o(t),value:u(t,a),id:0,dnmi:!1,st:0,url:u(t,"url"),css:"search-collapsible-item collapsed-item",ishide:e>2,timestamp:t.searchdate})});var d=s();""!=d&&c.length>3&&h.push({label:'<a role="button" class="search-collapsible-link '+n+'-link" >'+d+"</a>",value:"",id:-98,dnmi:!1,st:0}),h.push({label:"<hr/>",value:"",id:-99,dnmi:!1,st:0}),0==i?(h=h.reverse(),t.each(h,function(e,t){r.unshift({label:t.label,value:t.value,id:t.id,dnmi:t.dnmi,st:t.st,url:t.url,ishide:t.ishide,timestamp:t.timestamp})})):t.each(h,function(e,t){r.push({label:t.label,value:t.value,id:t.id,dnmi:t.dnmi,st:t.st,url:t.url,ishide:t.ishide,timestamp:t.timestamp})})}return r}(r,a,i)},renderSearchHistoryItem:function(e){return o(e)},renderSearchHistoryAttr:function(e,t){return u(e,t)},collapsibleLinkClick:function(r){return function(r){"expanded"==n?(n="collapsed",t(r).text(" + "+e.resources["SearchWidget.ExpandLabel"])):(n="expanded",t(r).text(" - "+e.resources["SearchWidget.CollapseLabel"]));return!1}(r)},collapsibleStatusGet:function(){return n},renderCollapsibleLinkHTML:function(){return'<a role="button" class="search-collapsible-link '+n+'-link" >'+s()+"</a>"},isSearchHistorySectionVisible:function(){return a},fixKeyworkSearchSpelling:function(t,r){return function(t,r){var n=new Array,a=c(e.SearchHistoryStorageName,e.IsUser);if(null!=a&&(n="object"==typeof a?a:JSON.parse(a)).length>0&&n[0].what==decodeURIComponent(t)){n[0].what=r;var i=n[0].url.replace(new RegExp("keyword=[\\s\\S]*?&","g"),"keyword="+r+"&").replace(new RegExp("ga_s=[\\s\\S]*?&","g"),"ga_s="+r+"&");n[0].url=i;var l=n.map(function(e){return e.what+"|"+e.where+"|"+e.when}).lastIndexOf(n[0].what+"|"+n[0].where+"|"+n[0].when);l>0&&n.splice(l,1),h(e.SearchHistoryStorageName,e.IsUser,n)}}(t,r)},trackGAEvent:function(e){return p(e)}},n="collapsed",a=!1;function l(e,t,r){var n=new Array,i=c(e,t);return null!=i&&(h(e,t,n=d(n="object"==typeof i?i:JSON.parse(i))),null!=n&&n.length>=r&&(n=n.slice(0,r)),a=!0),n}function s(){return"collapsed"==n?e.resources["SearchWidget.ExpandLabel"]:"expanded"==n?e.resources["SearchWidget.CollapseLabel"]:""}function o(e){return null==e?"":e.what+" - "+e.where+(""==e.when?"":" - "+e.when)}function u(e,t){return null==e||null==e[t]?"":e[t]}function c(e,t){return t?Storages.localStorage.get(e):Storages.sessionStorage.get(e)}function h(e,t,r){t?Storages.localStorage.set(e,JSON.stringify(r)):Storages.sessionStorage.set(e,JSON.stringify(r))}function d(e){var t=new Date,r=t.setDate(t.getDate()-60);return e=e.filter(function(e){return e.searchdate>r})}function p(t){if(null!=t&&null!=t.timestamp){var r=t.timestamp,n=(new Date).getTime(),a=Math.round((n-r)/864e5),i=a>1?" days":" day",l=t.label+" | "+a+i;try{e.gtm.analyticsEvent("RecentSearches","Click",l,1,void 0,void 0)}catch(e){}}}e.SiteSearchHistory=r}(window.tzoo=window.tzoo||{},jQuery);
/* -- site-search.js -- */
!function(e,a){e.ALL_DEALS=0,e.LOCATION_ID_NEAR_ME=-1,e.LOCATION_ID_ANYWHERE=0,e.SEARCH_TYPE_AIRFARE=1,e.SEARCH_TYPE_HOTEL=2,e.SEARCH_TYPE_DEAL_VACATIONS=6,e.SEARCH_TYPE_DEAL_CRUISES=4,e.FACTUAL_LOCATION_TYPE_LOCALITY=1,e.FACTUAL_LOCATION_TYPE_AIRPORT=100,e.FACTUAL_LOCATION_TYPE_METRO_AIRPORT=102;var t=[6,10,15];function i(l){var s=l.whenMenuContainerSelector,r=l.whenDisplayFieldSelector,c=l.submitButtonSelector,d=a(l.whatDisplayFieldSelector),u=a(l.whatValueFieldSelector),h=a(l.whereDisplayFieldSelector),f=a(l.whereValueFieldSelector),v=a(l.whereFromValueFieldSelector),m=a(l.whereFromDisplayFieldSelector),p=a(l.whereToValueFieldSelector),g=(a(l.whereToDisplayFieldSelector),a(l.guestsFieldSelector)),w=a(l.travelersFieldSelector),y=a(l.whenMenuContainerSelector),D=a(l.whenMenuSelector),S=a(l.whenDisplayFieldSelector),C=a(l.whenTypeValueFieldSelector),b=a(l.whenMonthValueFieldSelector),T=a(l.submitButtonSelector),A=a(l.formSelector),k=a(l.formOverlaySelector),E=l.trackSearch,_=(l.translations,l.heatMapDataSource),O=(l.gaSearchTypeSelector,a(l.gaSearchTypeSelector)),L=l.whereFromHelperText,I="locationSelected-"+f[0].id;if(A.is(":visible")){var R=function(t,i,n,o,l,s,r,c,d,u,h){if("function"!=typeof e.focusMove||!i||i.length<=0)return null;var f=new e.focusMove(i,{mode:"independence",delayFocusMove:!0,enterAsClick:!0,focusCss:"ada-state-focus",skipFocusAttr:"disabled",loopFocus:!1});return f.on("focus.ArrowDown",function(e){if(e){var i=null;if("when"===e.alias){if(!(i=t.data("fm-calendar-focusMove")))return;setTimeout(function(){var e=!1;a(c+" .exact-dates-display").is(":visible")&&(e=i.moveToAlias("date",0)),e||i.moveToHead()},300)}if(e.alias&&("what"===e.alias||e.alias.startsWith("where"))){if(!(i=a(e.ele).data("fm-focusMove")))return;setTimeout(function(){i.moveToHead()},300)}}}),f.on("focus.BeforeMove",function(t,i,n){t&&t.ele&&("when"===t.alias?a(c).hide():"what"!==t.alias||"pre"!==n||i?"submit"!==t.alias||"next"!==n||i||setTimeout(function(){e.fmPage.moveNext()},200):setTimeout(function(){e.fmPage.movePre()},200))}),f.on("focus.AfterMove",function(e,a,t){if(a){var n=this;if("when"===a.alias){var o=i.data("fm-calendar-focusMove");if(!o)return;setTimeout(function(){o.initIndex(),n.refresh()},300)}}}),f.on("focus.CustomKeydown",function(e,t){e&&("ESCAPE"!==t&&"ESC"!==t||"when"!==e.alias||a(c).hide())}),f.add({ele:n,alias:"what"}),f.add({ele:o,alias:"where"}),f.add({ele:l,alias:"where-from"}),f.add({ele:s,alias:"where-to"}),f.add({ele:r,alias:"when"}),f.add({ele:d,alias:"guest"}),f.add({ele:u,alias:"traveler"}),f.add({ele:h,alias:"submit"}),f.init(),f}(A,A,l.whatDisplayFieldSelector+":visible",l.whereDisplayFieldSelector+":visible",l.whereFromDisplayFieldSelector+":visible",l.whereToDisplayFieldSelector+":visible",l.whenDisplayFieldSelector+":visible",l.whenMenuContainerSelector+":visible",l.guestsFieldSelector+":visible",l.travelersFieldSelector+":visible",l.submitButtonSelector+":visible"),F=function(t,i,n,o,l,s,r,c,d,u,h){if("function"!=typeof e.focusMove||!i||i.length<=0)return null;var f=new e.focusMove(i,{mode:"independence",delayFocusMove:!0,enterAsClick:!0,skipInvisible:!1,focusCss:"ada-state-focus",skipFocusAttr:"disabled"});return f.on("focus.CustomKeydown",function(e,i){if("ESCAPE"===i||"ESC"===i){this.initIndex(),setTimeout(function(){a(c).hide()},200);var n=t.data("fm-siteSearch-focusMove");if(n){var o=n.getElementByAlias("when",0);o&&(n.initIndex(),n.moveTo(o,!1,!0))}}}),f.on("focus.BeforeMove",function(e,t,i){if(t&&t.ele){var n=a(t.ele).closest(".when-submenu");if(0==n.length&&a(t.ele).closest(".ui-datepicker-calendar").length>0&&(n=a(".when-submenu.exact-dates-container")),n.length>0&&!n.hasClass("ui-accordion-content-active")){var o=n[0].id;this.triggerClick(a(c+" [aria-controls="+o+"]")[0])}}}),f.on("focus.AfterMove",function(e,t,i){e&&("when"!==e.alias||a(c).is(":visible")&&a(c).hide())}),f.on("focus.EnterClick",function(e){if(e){var n=this;setTimeout(function(){if(i.is(":visible")){n.refresh();var o=a(c).find("td.tzsg-selected-start > a.ui-state-active"),l=a(c).find("td.tzsg-selected-end > a.ui-state-active");if(o.length>0&&l.length>0)o[0]===l[0]&&(n.moveTo(o[0]),n.moveNext());else if(">"!==e.alias&&"<"!==e.alias);else{var s=n.getElementByAlias("date",0);s&&n.moveTo(s,!1,!0)}}else{var r=t.data("fm-siteSearch-focusMove");if(r){var d=r.getElementByAlias("when");d&&(r.moveTo(d,!0,!0),r.moveNext())}}},400)}}),f.add({ele:c+" .when-submenu ul > li",alias:"year-month"}),f.add({ele:function(){return a(c+" .exact-dates-display").is(":visible")?a(c+" .ui-datepicker-group-first a.ui-datepicker-prev:not(.ui-state-disabled)"):null},alias:"<"}),f.add({ele:function(){return a(c+" .exact-dates-display").is(":visible")?a(c+" .when-submenu .ui-datepicker-calendar td > a:first-child:not(.not-available)"):null},alias:"date"}),f.add({ele:function(){return a(c+" .exact-dates-display").is(":visible")?a(c+" .ui-datepicker-group-last a.ui-datepicker-next:not(.ui-state-disabled)"):null},alias:">"}),f.init(),f.moveToHead(!0),f}(A,y,l.whatDisplayFieldSelector,l.whereDisplayFieldSelector,l.whereFromDisplayFieldSelector,l.whereToDisplayFieldSelector,l.whenDisplayFieldSelector,l.whenMenuContainerSelector+":visible",l.guestsFieldSelector,l.travelersFieldSelector,l.submitButtonSelector);null!=R&&A.data("fm-siteSearch-focusMove",R),null!=F&&A.data("fm-calendar-focusMove",F)}function N(t,i){var n,o,l,s,r,c,v,m,p=(n=u.val(),o=d.val(),l=d.val(),s=f.val(),r=n===String(e.ALL_DEALS),c=""!==n&&!r&&""!=o,v=l.length>=3&&!r,m=""!==s,c||v||m),g=t&&"autocompleteselect"!==t.type&&t.target===d[0],w=t&&t.target===h[0],y=(t&&a(t.target),a("#result-container")),D=a("#when-field-value-1, #when-field-value-2");a(".validation-error").remove(),T.toggleClass("highlight",p),D.length>0&&"ExactDates"==D.val()?y.addClass("exact-dates-search"):y.removeClass("exact-dates-search");var S=t&&"autocompletefocus"==t.type;!i&&(A.hasClass("is-hotels-search")||A.hasClass("is-flights-search")||!g&&!w||S||a(".when-field-container").is(":visible"))||p&&T.click()}function P(i,o,l){A.removeClass("is-hotels-search is-flights-search is-vacations-search is-cruises-search"),y.removeClass("opt-is-hotels-search opt-is-flights-search opt-is-vacations-search opt-is-cruises-search");var s=!1,r=!1;switch(i){case e.SEARCH_TYPE_HOTEL:A.addClass("is-hotels-search"),y.addClass("opt-is-hotels-search"),s=!0,r=!0;break;case e.SEARCH_TYPE_AIRFARE:A.addClass("is-flights-search"),y.addClass("opt-is-flights-search"),s="false"!=e.resources[":FlightSearch.Enabled"],""!=getURLParam("origin")&&function(){if(""===v.val()||"0"===v.val()){var t=e.getUserLocation();void 0!==t&&(isNaN(t.defaultOrigin)?(i=t.lat,o=t.lng,l=function(a){B(a),void 0!==a&&e.setDefaultOriginLocation(a.id)},isNaN(i)||isNaN(o)||a.getJSON(e.ServiceBaseUrl+"v1/location/getclosestairportcity/",{Latitude:i,Longitude:o,tzlocale:e.TzLocale,SearchByLocationName:!0},function(e){e&&e.loc&&l(e.loc)})):n(t.defaultOrigin,B))}var i,o,l}();break;case e.SEARCH_TYPE_DEAL_VACATIONS:A.addClass("is-vacations-search"),y.addClass("opt-is-vacations-search");break;case e.SEARCH_TYPE_DEAL_CRUISES:A.addClass("is-cruises-search"),y.addClass("opt-is-cruises-search")}if(o||null==o){if("boolean"==typeof l&&l&&(s=!1),s&&i>0){!function(i,n){var o,l,s=a("#when-field-value-1, #when-field-value-2"),r=a("#when-field-1, #when-field-2"),c=a("#when-menu-container"),d=(a("#when-menu"),a("#when-field-value-startDate-1, #when-field-value-startDate-2")),h=a("#when-field-value-endDate-1, #when-field-value-endDate-2"),v=a("#dpExactDates",".exact-dates-container"),m="",p=a(".period",".exact-dates-container"),g="",w=e.globalization.calendar.shortMonthNameDayPattern,y=new Date;null!=getURLParam("startDate")?y=new Date(decodeURIComponent(getURLParam("startDate"))):null!=getURLParam("checkinDate")&&(y=new Date(decodeURIComponent(getURLParam("checkinDate"))));g=new Object({inline:!0,datepickerType:"rangeDatepicker",searchType:i,region:e.Lcid,minDate:new Date,maxDate:"+364D",defaultDate:y,displayPlaceholders:!0,numberOfMonths:e.layout.isXs()?13:2,showInfoTooltip:!0,periodSelector:a(".period",".exact-dates-container"),heatMapDataSourceUrl:n,displayDateFormat:e.globalization.calendar.longDatePattern,localization:e.SiteSearch.dpLocalization,currentRegionSettings:e.SiteSearch.dpCurrentRegionSettings}),getURLParam("startDate")&&getURLParam("endDate")&&(checkInValue=a.datepicker.formatDate("mm/dd/yy",new Date(decodeURIComponent(getURLParam("startDate")))),checkOutValue=a.datepicker.formatDate("mm/dd/yy",new Date(decodeURIComponent(getURLParam("endDate")))),g.selectedDateRangeBeginning=checkInValue,g.selectedDateRangeEnd=checkOutValue,s.val("ExactDates"),r.val(a.datepicker.formatDate(w,new Date(checkInValue))+" - "+a.datepicker.formatDate(w,new Date(checkOutValue))),d.val(a.datepicker.formatDate("mm/dd/yy",new Date(checkInValue))),h.val(a.datepicker.formatDate("mm/dd/yy",new Date(checkOutValue))));getURLParam("checkinDate")&&getURLParam("checkoutDate")&&(checkInValue=a.datepicker.formatDate("mm/dd/yy",new Date(decodeURIComponent(getURLParam("checkinDate")))),checkOutValue=a.datepicker.formatDate("mm/dd/yy",new Date(decodeURIComponent(getURLParam("checkoutDate")))),g.selectedDateRangeBeginning=checkInValue,g.selectedDateRangeEnd=checkOutValue,s.val("ExactDates"),r.val(a.datepicker.formatDate(w,new Date(checkInValue))+" - "+a.datepicker.formatDate(w,new Date(checkOutValue))),d.val(a.datepicker.formatDate("mm/dd/yy",new Date(checkInValue))),h.val(a.datepicker.formatDate("mm/dd/yy",new Date(checkOutValue))));v.gettzsgDatepicker()&&v.gettzsgDatepicker().selectedDateRangeBeginning&&v.gettzsgDatepicker().selectedDateRangeEnd&&(checkInValue=a.datepicker.formatDate("mm/dd/yy",new Date(v.gettzsgDatepicker().selectedDateRangeBeginning)),checkOutValue=a.datepicker.formatDate("mm/dd/yy",new Date(v.gettzsgDatepicker().selectedDateRangeEnd)),g.selectedDateRangeBeginning=checkInValue,g.selectedDateRangeEnd=checkOutValue);g.eventsNameSpace="TzsgCalendarForSearchWidget",v.destroytzsgDatepicker().tzsgDatepicker(g),(m=v.gettzsgDatepicker()).setSearchType(i).updateLabels(),m&&W&&(m.refreshFMFunc=W);i==e.SEARCH_TYPE_HOTEL&&a(document).off(I).on(I,function(n,o){var l=f.data("hqty"),s=!1;a.inArray(f.data("ft"),t)>-1&&(0===l||l>e.locationCountryTypeSearchThreshold)&&(s=!0),o===e.LOCATION_ID_ANYWHERE&&(s=!0),P(u.data("searchtype"),!0,s);var r=a(".exact-dates-container").find(".heatmap-legend"),c=a(".app-datepicker");0!=o&&i==e.SEARCH_TYPE_HOTEL?(m.setDataSource(o,v.gettzsgDatepicker(),!0),r.removeClass("hidden"),c.addClass("has-heatmap")):(v.destroytzsgDatepicker().tzsgDatepicker(g),(m=v.gettzsgDatepicker()).setSearchType(i).updateLabels(),r.addClass("hidden"),c.removeClass("has-heatmap"))});if(e.layout.isXs()){var D=a(".exact-dates"),S=D.find(".ui-datepicker-group-first");S.find("thead").length>0&&0==D.find(".mobile-table-head").length&&a("<div><table /></div>").find("table").html(S.find("thead")).addClass("mobile-table-head").end().insertAfter(D.find(".date-field.check-out")),D.find(".ui-datepicker-calendar").find("thead").detach(),D.find(".ui-datepicker-group-first").find("thead").detach()}a(document).off("onPeriodSelected"+m.eventsNameSpace).on("onPeriodSelected"+m.eventsNameSpace,function(e){e.namespace===m.eventsNameSpace.substring(1)&&(o=new Date(m.selectedDateRangeBeginning),l=new Date(m.selectedDateRangeEnd),""!=o&&""!=l&&o<l&&""!=p.val()&&(m.focusPeriodSelection(!1),s.val("ExactDates"),r.val(a.datepicker.formatDate(w,new Date(o))+" - "+a.datepicker.formatDate(w,new Date(l))),d.val(a.datepicker.formatDate("mm/dd/yy",new Date(o))),h.val(a.datepicker.formatDate("mm/dd/yy",new Date(l))),c.hide()))})}(i,_);var c=a(".exact-dates-container").find(".heatmap-legend"),d=a(".app-datepicker");r&&""!=C.val()?(c.removeClass("hidden"),d.addClass("has-heatmap")):(c.addClass("hidden"),d.removeClass("has-heatmap"))}if(i===e.SEARCH_TYPE_HOTEL&&0===f.val().length&&(s=!1),s)D.accordion("option","active",2),D.find(".exact-dates-display").show();else{if("ExactDates"===a("#when-field-value-1, #when-field-value-2").val()&&q(),2==D.accordion("option","active")){var h=0;"SpecificMonth"===C.val()&&(h=1),D.accordion("option","active",h)}D.find(".exact-dates-display").hide()}}"function"==typeof W&&W(!1,!0)}function x(e,t){a.each(M,function(a,i){var n=new RegExp("^"+M[a].label+("s"==M[a].label.substr(M[a].label.length-1)?"?$":"$"),"gi");e.val().match(n)&&(u.val(M[a].id),u.data("name",M[a].label),u.data("searchtype",M[a].st),N(),P(M[a].st,t))})}var M=[];function H(t){return a.ajax({url:e.ServiceBaseUrl+"v1/navigation/getcategorytagfilterautocomplete/?tzlocale="+e.TzLocale+"&query="+t,dataType:"json"})}var U=!1,Y=!1,z=null;function W(e,a){R&&(a?R.refresh(e):setTimeout(function(){R.refresh(e)},300))}function V(e,a){F&&(a?F.refresh(e):setTimeout(function(){F.refresh(e)},300))}function B(e){m.val(e.dn),v.val(e.id),v.data("name",e.dn)}var G,j,q=function(){C.val(""),b.val(""),S.val(""),a("#when-field-1, #when-field-2, #when-field-value-1, #when-field-value-2, #when-field-value-startDate-1, #when-field-value-startDate-2, #when-field-value-endDate-1, #when-field-value-endDate-2").val("")};return i.prototype.initSerpCookie=function(){var t,i,n=new Object;if(C){var o=C.val();o&&""!==o&&"ExactDates"===o&&(t=a("#when-field-value-startDate-1"),i=a("#when-field-value-endDate-1"))}try{Cookies.get("serp")&&(n=a.parseJSON(Cookies.get("serp")))}catch(e){}n.startDate="",n.endDate="",n.when=0,n.filts=[],t&&i&&(n.startDate=t.val(),n.endDate=i.val(),n.when=1),e.util.setCookie("serp",n,e.util.cookieClassification.F)},G=function(e){if(0===a(e.target).closest(s).length&&0===a(e.target).closest(r).length&&0===a(e.target).parents(".ui-datepicker-header").length){var t=y.find("#dpExactDates").gettzsgDatepicker();t&&t.close(t),y.hide()}},D.accordion({heightStyle:"content"}),S.on("focus",function(e,a){}).on("mousedown",function(e){N(),x(d,!1)}).focusin(function(){a("#datepicker").datepicker("option","numberOfMonths",e.layout.isXs()?13:2),y.show(),"function"==typeof V&&V(),a("body").find(".nav-internal").addClass("when-menu-opened"),e.layout.isXs()?e.delay(function(){y.css({position:"fixed"}),y.position({of:window,my:"center",at:"center",collision:"fit"});var t=y.find("#dpExactDates"),i=a(".exact-dates-container").find(".heatmap-legend"),n=y.find(".exact-dates-header"),o="block"==i.css("display")?i.height():6,l=n.height();a(".ui-accordion-header-active").hasClass("exact-dates-display")&&t.offset().top>0&&e.delay(function(){t.scrollTop(a(".ui-datepicker-current-day").last().parents(".ui-datepicker-calendar").position().top-30);var e=window.innerHeight-t.offset().top-l-o,i=l+o+10;i+="px",e=t.position().top?e+l:e,t.css({height:e,"margin-top":i}),t.scrollTop(a(".ui-datepicker-current-day").last().parents(".ui-datepicker-calendar").position().top-30)},500)},250):(y.css({position:"absolute"}),y.position({of:c,my:"right top",at:"right bottom",collision:"fit none"}),a("body").off("click.close-when-menu"),a("body").on("click.close-when-menu",G))}).keydown(function(e){9===e.which&&y.hide()}),D.on("click",".when-submenu li",function(){C.val(a(this).data("date-type")),b.val(a(this).data("month")),S.val(a(this).html()),y.hide()}),0!==S.width()&&0!==S.height()||S.prop("disabled",!0),j=e.layout.isXs()?3:0,d.autocomplete({minLength:j,source:function(t,i){var n=u.data("name")!==d.val()?t.term:"";Y&&null!=z?(M=[],e.layout.isXs()||(M=e.SiteSearchHistory.renderSearchHistoryToAutoComplete(M,"what",!0)),a.each(z.ctfs,function(e,a){M.push({label:a.nam,value:a.nam,id:a.id,dnmi:a.dnmi,st:a.st})}),M.length>0&&A.removeClass("is-keyword-search"),Y=!1,i(M)):H(n).done(function(t){M=[],e.layout.isXs()||(M=e.SiteSearchHistory.renderSearchHistoryToAutoComplete(M,"what",!0)),a.each(t.ctfs,function(e,a){M.push({label:a.nam,value:a.nam,id:a.id,dnmi:a.dnmi,st:a.st})}),z=t,M.length>0&&A.removeClass("is-keyword-search"),i(M)}).fail(function(){i([])})},focus:function(e,t){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&e.bubbles&&(a(this).data("ui-autocomplete")._trigger("select","autocompleteselect",{item:t.item}),a(this).autocomplete("close")),!1},select:function(t,i){var o=a(this).data("fm-focusMove"),l=null,s=null;try{o&&!i.directSet&&(l=o.getCurrent()),l&&(s=a(l).data("fm-data-source")),s&&i.item!==s&&(i.item=s,a(this).data("fm-should-override",!0))}catch(e){}if(U=!1,i.item){if(null!=i.item.url&&(e.SiteSearchHistory.trackGAEvent(i.item),window.location.href=i.item.url),-98==i.item.id)return U=!0,t.preventDefault(),e.SiteSearchHistory.collapsibleLinkClick(a(".search-collapsible-link"));a(this).val(i.item.value),u.val(i.item.id),u.data("name",i.item.label),u.data("searchtype",i.item.st),P(i.item.st),!i.item.dnmi||""!=f.val()&&f.val()!=e.LOCATION_ID_ANYWHERE||n(e.LOCATION_ID_NEAR_ME,function(a){h.val(a.dn),f.val(e.LOCATION_ID_NEAR_ME),f.data("name",a.dn),h.focus()}),i.item.st!=e.SEARCH_TYPE_AIRFARE&&""!=f.val()&&f.val()!=e.LOCATION_ID_ANYWHERE&&f.val()!=e.LOCATION_ID_NEAR_ME&&n(f.val(),function(t){var i,n;void 0===t||t.ft!=e.FACTUAL_LOCATION_TYPE_AIRPORT&&t.ft!=e.FACTUAL_LOCATION_TYPE_METRO_AIRPORT||(i=f.val(),n=function(e){void 0!==e&&(h.val(e.dn),f.val(e.id),f.data("name",e.dn))},isNaN(i)||a.getJSON(e.ServiceBaseUrl+"v1/location/GetLocationAncestor/",{LocationId:i,FactualTypeId:e.FACTUAL_LOCATION_TYPE_LOCALITY,LocaleId:0,TzLocale:e.TzLocale},function(e){e&&e.loc&&n(e.loc)}))}),9!=t.which&&(i.item.st==e.SEARCH_TYPE_AIRFARE?(setTimeout(function(){m.focus()},10),d.blur()):""==f.val()&&(setTimeout(function(){h.focus()},10),d.blur())),i.item.st==e.SEARCH_TYPE_HOTEL&&""!=f.val()&&f.val()!=e.LOCATION_ID_ANYWHERE&&f.val()!=e.LOCATION_ID_NEAR_ME&&a(document).trigger(I,f.val())}N()},open:function(t){if(a(this).data("is_open",!0),e.focusMove){var i=a(this).data("fm-focusMove");if(i)i.refresh();else{var n=a(this).autocomplete("instance").menu.element.attr("id");(i=new e.focusMove(a("#"+n),{mode:"independence",delayFocusMove:!0,enterAsClick:!0,focusCss:"ui-state-active",skipFocusAttr:"disabled",moveKey:"arrow"})).on("focus.CustomMove",function(e){}),i.add({ele:"#"+n+" li.ui-menu-item:not(.ui-state-disabled) > div, #"+n+" .reset-location",alias:"item"}),i.init(),a(this).data("fm-focusMove",i)}i&&i.initIndex()}},close:function(e,t){U?(U=!1,Y=!0,e.preventDefault(),a(this).autocomplete("search","")):a(this).data("is_open",!1)},position:{my:"left top",at:"left bottom"}}).on("click",function(t){"0"!==u.val()&&""!==u.val()||a(this).val(""),e.layout.isXs()||a(this).autocomplete("search")}).on("focus",function(){e.layout.isXs()?H("").done(function(e){a.each(e.ctfs,function(e,a){M.push({label:a.nam,value:a.nam,id:a.id,dnmi:a.dnmi,st:a.st})}),a(".what-button-container").show(),a("#where-buttons button").remove(),a(".where-button-container").hide(),""==jQuery.trim(a("#what-buttons").html())&&a.each(M,function(e,t){a("#what-buttons").append('<button type="button" data-id='+t.id+" data-label="+encodeURIComponent(t.label)+" data-st="+t.st+' class="btn-group-item js-what-button">'+t.label+"</button>")}),a(".js-what-button").off("click.what"),a(".js-what-button").on("click.what",function(){A.removeClass("is-keyword-search"),d.autocomplete("instance")._trigger("select","autocompleteselect",{directSet:!0,item:{label:decodeURIComponent(a(this).data("label")),value:decodeURIComponent(a(this).data("label")),id:a(this).data("id"),st:a(this).data("st")}})})}):(a(this).autocomplete("search"),a(this).select())}).on("focus",function(){a(this).one("mouseup",function(){return e.layout.isXs()||"0"===u.val()&&""===u.val()||a(this).select(),!1})}).on("keydown",function(e){d.val()!==u.data("name")&&u.val("");var t=a(this).data("fm-focusMove");if(t)try{var i=(e.key||"").toUpperCase(),n="ARROWUP"===i||"UP"===i,o="ARROWDOWN"===i||"DOWN"===i,l=a(this).data("fm-should-override");if(a(this).data("fm-should-override",!1),n||o)return t.trySetDelayStatus(!1),t.clearAllFocusStyle(),n?t.movePre():o&&t.moveNext(),!1;var s=t.getCurrent();if(l&&s){var r=a(s).data("fm-data-source");a(this).val(r.value),u.val(r.id),u.data("name",r.label),u.data("searchtype",r.st)}}catch(e){}e.which==="\r".charCodeAt(0)?x(a(this)):e.which==="\t".charCodeAt(0)?(N(),x(a(this))):N()}),d.autocomplete("instance")._renderItem=function(t,i){var n,o=i.dnmi?"label-local":"";return o+=null!=i.url?" history-item":"",null!=i.css&&(o+=" "+i.css),t.addClass("what-display-list"),i.id<-1?-98==i.id?((n=a('<div class="collapsiblelabel">').append(e.SiteSearchHistory.renderCollapsibleLinkHTML())).data("fm-data-source",i),a("<li>").attr("class","ui-menu-item  placeholder").append(n).appendTo(t)):((n=a("<div>").append(i.label)).data("fm-data-source",i),a("<li>").attr("class","ui-menu-item ui-state-disabled placeholder").append(n).appendTo(t)):((n=a("<div>").attr("class",o).append(i.label)).data("fm-data-source",i),null!=i.ishide&&1==i.ishide&&"collapsed"==e.SiteSearchHistory.collapsibleStatusGet()?a('<li style="display:none;">').append(n).appendTo(t):a("<li>").append(n).appendTo(t))},P(u.data("searchtype")),a(d).off("focus.keywordsearch"),a(d).on("focus.keywordsearch",function(){""==u.val()&&A.removeClass("is-keyword-search")}),a(d).off("blur.keywordsearch"),a(d).on("blur.keywordsearch",function(){""==u.val()&&(e.layout.isXs()||A.addClass("is-keyword-search"),u.data("searchtype","0"),P("0"))}),A.find(".js-location-autocomplete").each(function(){!function(t,i,n,o,l,s,r){e.Controls.LocationDropdown.initializeWhereField({whatValueFieldSelector:o,whereDisplayFieldSelector:t,whereValueFieldSelector:i,whereFromHelperText:l,updateSubmitButtonState:N,isSearchHistoryItemsRequired:!0,queryType:n,formOverlay:k,whereFieldPlaceholder:s,whereFieldAltPlaceholder:r,getCategoryTagFilterId:function(){return o.val()},showShortResetLabel:function(){return o.data("searchtype")==e.SEARCH_TYPE_HOTEL}}),t.on("keypress",function(e){e.which==="\r".charCodeAt(0)&&N(e)}).on("focus",function(e){a(this).data("is_open",!0)}).on("blur",function(e){a(this).data("is_open",!1)}).on("mousedown",function(e){N(),x(d,!1)})}(a(this).find("input[type=text]"),a(this).find("input[type=hidden]"),a(this).data("query-type"),u,L,l.whereFieldPlaceholder,l.whereFieldAltPlaceholder)}),N(),A.submit(function(){var t=new RegExp("^"+u.data("name")+("s"==u.data("name").substr(u.data("name").length-1)?"?$":"$"),"gi"),i=d.val().match(t)?u.val():"",n=e.UrlPrefix+"deals/",l="",s=!1;if(""!==f.val()||""!==f.data("name")&&void 0!==f.data("name")||(f.val(e.LOCATION_ID_ANYWHERE),f.data("name",e.resources["SearchWidget.AnywhereLabel"]),h.val(f.data("name"))),f.val()===String(e.LOCATION_ID_NEAR_ME)&&!e.getUserLocation().isSet)return h.blur(),f.val(e.LOCATION_ID_NEAR_ME),e.BrowserLocationDetector.start({success:function(){T.click()},denied:function(){e.askForLocationThenSearch("#"+A.attr("id"))}}),!1;""===i?""!==d.val()&&(l="?keyword="+encodeURIComponent(d.val()),s=!0):l+=(""===l?"?":"&")+"ctfId="+i,A.hasClass("is-hotels-search")&&(l+=(""===l?"?":"&")+"guests="+g.val()),A.hasClass("is-flights-search")?(l+=(""===l?"?":"&")+"origin="+v.val(),l+=(""===l?"?":"&")+"destination="+p.val(),l+=(""===l?"?":"&")+"locationId="+p.val(),l+=(""===l?"?":"&")+"travelers="+w.val()):l+=(""===l?"?":"&")+"locationId="+(0!==f.val().length?f.val():String(e.LOCATION_ID_ANYWHERE));var r=C.val();r&&""!==r&&(l+=(""===l?"?":"&")+"when="+r,(L=b.val())&&""!==L&&(l+="&month="+L),"ExactDates"===r&&((k=a("#when-field-value-startDate-1"))&&""!==k.val()&&(l+="&startDate="+k.val()),(_=a("#when-field-value-endDate-1"))&&""!==_.val()&&(l+="&endDate="+_.val())));var c=e.getQueryParameters().view;c&&c.length>0&&(l+=(""===l?"?":"&")+"view="+c);var m=a("#page-type-field").val();m&&""!=m&&(l+=(""===l?"?":"&")+"pageType="+encodeURIComponent(m));var y,D=[];if(i!==String(e.ALL_DEALS)&&""!==d.val()&&D.push(d.val()),A.hasClass("is-flights-search")?D.push(p.data("name")):""!==f.data("name")&&f.val()!==String(e.LOCATION_ID_ANYWHERE)&&D.push(f.data("name")),null!=O&&(y=O.val()),l+=(""===l?"?":"&")+"ga_s="+encodeURIComponent(D.join("; ")),l+=(""===l?"?":"&")+"search_type="+(null!=y&&y.length>0?y:s?"keyword":"destination"),"function"==typeof E){var k,_,L,I={query:d.val(),queryDropdownSelect:""!=i?"true":"false",location:f.data("name"),locationDropdownSelect:f.data("isdefault")?"true":"false",date:r,dateDropdownSelect:""!=r?"true":"false"};"ExactDates"===r&&((k=a("#when-field-value-startDate-1"))&&""!==k.val()&&(I.fromDate=k.val()),(_=a("#when-field-value-endDate-1"))&&""!==_.val()&&(I.toDate=_.val())),(L=b.val())&&""!==L&&(I.date=["","January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(L)]),A.hasClass("is-hotels-search")&&(I.numberOfGuests=g.val()),A.hasClass("is-flights-search")&&(I.origin=v.data("name"),I.originDropdownSelect=""==v.val()||null==v.val()?"false":"true",I.location=p.data("name"),I.locationDropdownSelect=""==p.val()||null==p.val()?"false":"true",I.numberOfTravelers=w.val());var R=(""!=I.query?"What|":"")+(""!=I.location?"Where|":"")+(""!=I.date?"When|":"")+(void 0!==I.numberOfGuests&&""!=I.numberOfGuests?"Guests|":"")+(void 0!==I.numberOfTravelers&&""!=I.numberOfTravelers?"Travelers|":"");R.length>0&&(R=R.slice(0,-1)),I.queriesUsed=R;var F=(""!=I.query?I.query+"|":"")+(""!=I.location?I.location+"|":"")+(""!=I.date?I.date+"|":"")+(void 0!==I.numberOfGuests&&""!=I.numberOfGuests?I.numberOfGuests+" Guests|":"")+(void 0!==I.numberOfTravelers&&""!=I.numberOfTravelers?I.numberOfTravelers+" Travelers|":"");F.length>0&&(F=F.slice(0,-1)),E(F,I)}var N=i,P=u.data("name"),x=0!==N.length&&0!==P.length?P:"",M=f.val(),H=0!==M.length&&M!==String(e.LOCATION_ID_ANYWHERE)&&0!==f.data("name").length?f.data("name").replace("/","|"):"",U="";A.hasClass("is-flights-search")&&(H=v.data("name")&&0!==v.data("name").length?v.data("name"):"",H+=p.data("name")&&0!==p.data("name").length?"-"+p.data("name"):""),0!==x.length&&(U=x),0!==H.length&&(0!==U.length&&(U+="-"),U+=H),0!==C.val().length&&"Anytime"!==C.val()&&"ExactDates"!==C.val()&&(U+="-"+S.val()),0!==U.length&&(U=encodeURIComponent(U.replace("&","").replace(/\//gi,"-").replace(/\s+/gi,"-")).replace(/-+/gi,"-").toLowerCase()+"/"),o.initSerpCookie();var Y=n+U+l,z=s?d.val():P,W="Anytime"!==C.val()?S.val():"",V="";if(A.hasClass("is-flights-search")){var B=v.data("name")&&0!==v.data("name").length?v.data("name"):"";V=B.lastIndexOf(",")>0?B.substring(0,B.lastIndexOf(",")):B;var G=p.data("name")&&0!==p.data("name").length?"-"+p.data("name"):"";V+=G.lastIndexOf(",")>0?G.substring(0,G.lastIndexOf(",")):G}else V=f.val()===String(e.LOCATION_ID_ANYWHERE)?f.data("name"):H.lastIndexOf(",")>0?H.substring(0,H.lastIndexOf(",")):H;return u.val()===String(e.ALL_DEALS)&&f.val()===String(e.LOCATION_ID_ANYWHERE)||e.SiteSearchHistory.addSearchHistory(e.SearchHistoryStorageName,e.IsUser,z,V,W,Y),window.location.href=Y,!1}),g.val(g.data("selected")),w.val(w.data("selected")),i.prototype.openWhenMenu=function(){window.scrollTo(0,0),a(".when-field-container>input").focus()},i.prototype.openWhereFrom=function(){window.scrollTo(0,0),a("#where-from-field-1").focus()},i.prototype.openWhereTo=function(){window.scrollTo(0,0),a("#where-to-field-1").focus()},T.on("click",function(){sessionStorage.removeItem("paginationEndIndex"),x(d,!1)}),a(window).on("resize",e.debounce(function(){d.data("is_open")&&d.autocomplete("search"),h.data("is_open")&&h.autocomplete("search"),(S.data("is_open")||a("#when-menu-container").is(":visible"))&&S.focusin()},250)),a(document).on("resetWhereAndButton",function(e,a){a||(h.val(""),f.val(""),f.data("name",""))}),this}function n(t,i){t&&""!=t&&a.getJSON(e.ServiceBaseUrl+"v1/location/getlocation/",{LocationId:t,locale:e.Lcid,tzlocale:e.TzLocale},function(e){e&&e.loc&&i(e.loc)})}var o=null,l={initializeSearch:function(e){o=new i(e)},openWhenMenu:function(){o&&o.openWhenMenu()},openWhereFrom:function(){o&&o.openWhereFrom()},openWhereTo:function(){o&&o.openWhereTo()}};e.SiteSearch=l,a(document).ready(function(){a(document).on("click","#spanResetLocation",function(){e.updateLocation(!1)}),a(document).on("click","#resetLocation, footer .update-location",function(){e.updateLocation(!0)}),a(document).on("keydown","#resetLocation, footer .update-location",function(a){"ENTER"===(a.key||"").toUpperCase()&&e.updateLocation(!0)}),a(document).on("click",".dextip-otherdeals",function(){a("html, body").animate({scrollTop:a("#dealExpertGroupTip").offset().top},500)})})}(window.tzoo=window.tzoo||{},jQuery);
/* -- signup.js -- */
var GlobalVarStorage="";tzoo.SignupOverlay=function($,tzoo,Cookies){var spinner=new Spinner;function SignupOverlay(){var overlayId,fbApiId,isMember,overlayImages,zipCodePlaceholder,fbRedirectUrl,dealHdr,dealImage,targetUrl,adid,hotelId,storyId,placement,isGenericOverlay,fbRedirectUrl,source,mode,isFbConnect,isExistingSubscriber,isConfirmation=!1,isGenericConfOverlay,isHotelOverlay,isLoginOverlay,favDealType,isFavoriteOverlay,isDestAlertsOverlay,expiredMessage,convincingWords,dynamicLoginTitles,dynamicSubTitles,triggerType,closeOnEscape,translations,clientSideLoginLogout=!1,showZOverlayParam,authToken,modal=!0,dialogClass="loginOverlay",consentGiven=!1,isWithoutEmailOptin=!1,askForExplicitConsent=!1,showGotoInboxOverlay=!1,emailDomainUrl="",queueId="",isMKT=!1,addQueryStrParamsOnSignin=!0,targetUrlNewWindow=!1,cssClass,visibleDivs=$(),hiddenDivs=$(),elementsDisplayed={signup:"signup",emailSignup:"emailSignup",btnSignup:"btnSignup",btnFbSignup:"btnFbSignup","signup-email-step":"signup-email-step",btnWxSignup:"btnWxSignup",btnQqSignup:"btnQqSignup",signin:"signin",emailSignin:"emailSignin",btnSignin:"btnSignin",btnFbSignin:"btnFbSignin",btnWwSignin:"btnWwSignin",btnQqSignin:"btnQqSignin",login:"login",emailLogin:"emailLogin",passwordLogin:"passwordLogin",rememberMeLogin:"rememberMeLogin",btnLogin:"btnLogin",btnFbLogin:"btnFbLogin",btnWxLogin:"btnWxLogin",btnQqLogin:"btnQqLogin","postcode-step":"postcode-step",zipCode:"zipCode",ddCountries:"ddCountries",btnSubmitZip:"btnSubmitZip","confirmation-step":"confirmation-step","welcome-step":"welcome-step",goToEmail:"goToEmail",lnkGoToEmail:"lnkGoToEmail","password-reset":"password-reset",emailPasswordReset:"emailPasswordReset",btnPasswordReset:"btnPasswordReset","password-reset-done":"password-reset-done","signup-password-step":"signup-password-step",passwordSignup:"passwordSignup",password2Signup:"password2Signup",btnSignupPassword:"btnSignupPassword",emailLogin_fav:"emailLogin_fav",btnFbLogin_fav:"btnFbLogin_fav",btnLogin_fav:"btnLogin_fav",rememberMeLogin_fav:"rememberMeLogin_fav",btnWxLogin_fav:"btnWxLogin_fav",btnQqLogin_fav:"btnQqLogin_fav",passwordLogin_fav:"passwordLogin_fav",passwordLogin_fav:"passwordLogin_fav",loginFavorite:"loginFavorite","reset-goToEmail":"reset-goToEmail","reset-lnkGoToEmail":"reset-lnkGoToEmail",loginPortal:"loginPortal",ddpostcodes:"ddpostcodes",consentGiven:"consentGiven",btnSendMeEmails:"btnSendMeEmails",btnSendMeEmailsDeal:"btnSendMeEmailsDeal",changeEmail:"changeEmail"},isGoogleSignIn=!1,isAppleSignIn=!1,self=this,obliviateTimeout,websiteTypeUnknown="Unknown";function verifyReferrer_wx(e){if(!document.referrer)return!0;var i=e.attr("host").toLowerCase(),o=$.url(document.referrer.toLowerCase()),n=o.segment();if(!n||n.length<2)return!1;var t=o.attr("host"),a=n[0],r=n[1],s=n.length>=3?n[2]:"";return"open.weixin.qq.com"==t&&"connect"==a&&"qrconnect"==r||("open.weixin.qq.com"==t&&"connect"==a&&"oauth2"==r&&"authorize"==s||t==i&&"social"==a&&"sociallogin"==r)}function restartOverlay(urlParam,onOpenFunc){var overlayParam=null;try{var cookieName=tzoo.EnvironmentPrefix.replace(".","_")+tzoo.CountryCode+"-showZOverlayParam-"+urlParam.socialType,overlayParamStr=tzoo.util.getCookie(cookieName,!0);overlayParam=JSON.parse(overlayParamStr)}catch(e){return!1}if(!overlayParam)return!1;var overlay=tzoo.Overlays.get(overlayParam.overlayId);if(overlay&&overlay.signupOverlay||"function"==typeof createSignupOverlay&&(createSignupOverlay(overlayParam.overlayId),overlay=tzoo.Overlays.get(overlayParam.overlayId)),!overlay||!overlay.signupOverlay)return!1;overlayParam.populateFuncName&&overlayParam.populateFuncParam&&eval("overlay.signupOverlay."+overlayParam.populateFuncName+"(overlayParam.populateFuncParam);");var isMKT=!1;overlayParam.updateParams&&(overlay.signupOverlay.updateParams(overlayParam.updateParams),isMKT=overlayParam.updateParams.isMKT);var isShown=isMKT||tzoo.Overlays.isShown(overlayParam.overlayId),dialogopenFunc=function(e,i){var o=overlayParam.buttonId;if(o){var n=$("#"+o);if(1==n.length){var t=n.attr("social-login-switch-to");if(t){var a=$("#"+t);1==a.length&&(o=t,n=a)}var r=n.parents("#register-form > .register-section");if(1==r.length){var s=r.find("button.button-login");if(1==s.length){var l=r.find('input[type="email"]');$("#register-form > .register-section").hide(),r.show();var d=r.find(".js-nocookie");d.length>0&&d.show();var g={overlay:overlay.signupOverlay,$divLogin:r,$btnSocialLogin:n,$txtEmail:l,$btnLogin:s};"function"==typeof onOpenFunc&&onOpenFunc(g)}}}}};isShown?dialogopenFunc():(overlay.triggerOnceOnly=!0,overlay.dialogopen=dialogopenFunc,overlay.signupOverlay.showZOverlay(overlayParam.isConfirmation,overlayParam.hideDivs,overlayParam.isHotelUnlock,overlayParam.goBack,overlayParam.purchasePageData,overlayParam.isClientSideLoginLogout,overlayParam.isHotelExactDateSearch,!0))}function processSocialLogin(e,i,o){var n=o.LoginResult.UserInfo.Email;n&&i.$txtEmail.val(n);var t=o.LoginData,a={tokenType:e,tokenValue:t.AccessToken,userId:t.UserUnionId,openId:t.UserOpenId},r=o.LoginResult.UserInfo.CanDoDirectLogin;i.overlay.setAuthToken(a,r),r&&setTimeout(function(){i.$btnLogin.trigger("click")},100)}function showLoginResult(e,i,o){e=e.toLowerCase(),$rm=$("#register-message"),$labMessage=$("#register-message .label-message-"+e),0!=$rm.length&&0!=$labMessage.length&&(o?($rm.addClass("alert-box-error"),$rm.removeClass("alert-box-success")):($rm.addClass("alert-box-success"),$rm.removeClass("alert-box-error")),i&&i.LoginMessage?$labMessage.text(i.LoginMessage):o&&("wechat"==e?$labMessage.text(translations.WxLoginError):"qq"==e?$labMessage.text(translations.QqLoginError):$labMessage.text(translations.UnknownError)),$rm.children().hide(),$rm.show(),$labMessage.show())}function getSocialRequestUrl(e,i){self.showZOverlayParam.buttonId=i;var o=tzoo.EnvironmentPrefix.replace(".","_")+tzoo.CountryCode+"-showZOverlayParam-"+e;tzoo.util.setCookie(o,self.showZOverlayParam,tzoo.util.cookieClassification.SN);var n=$.url(window.location.href),t=n.param(),a="";for(key in t)"code"!=key&&"state"!=key&&"socialType"!=key&&"showZOverlayParam"!=key&&"referrer"!=key&&(a.length>0&&(a+="&"),a+=key+"="+encodeURIComponent(t[key]));return a=a?"?"+a:a,n.attr("protocol")+"://"+n.attr("host")+n.attr("path")+a}this.dynamicTitleEnum=Object.freeze({Default:0,Favorites:1,Alerts:2}),this.initializeOverlay=function(e){e&&(overlayId=e.overlayId,fbApiId=e.fbApiId,isMember=e.isMember,overlayImages=e.overlayImages,zipCodePlaceholder=e.zipCodePlaceholder,fbRedirectUrl=e.fbRedirectUrl,isFbConnect=e.isFbConnect,isGoogleSignIn=e.isGoogleSignIn,isAppleSignIn=e.isAppleSignIn,isGenericConfOverlay=e.isGenericConfOverlay,isExistingSubscriber=e.isExistingSubscriber,isConfirmation=e.isConfirmation,closeOnEscape=e.closeOnEscape,translations=e.translations,modal=e.modal,isHotelOverlay=e.isHotelOverlay,e.dialogClass&&(dialogClass=e.dialogClass),e.source&&(source=e.source),e.placement&&(placement=e.placement),e.dynamicLoginTitles&&(dynamicLoginTitles=e.dynamicLoginTitles),e.dynamicSubTitles&&(dynamicSubTitles=e.dynamicSubTitles),e.isWithoutEmailOptin&&(isWithoutEmailOptin=e.isWithoutEmailOptin),e.askForExplicitConsent&&(askForExplicitConsent=e.askForExplicitConsent),e.showGotoInboxOverlay&&(showGotoInboxOverlay=e.showGotoInboxOverlay),e.emailDomainUrl&&(emailDomainUrl=e.emailDomainUrl),e.queueId&&(queueId=e.queueId)),registerDialogWithOverlayManager(),memorizeState(),this.setLoginTitle(),this.postSocialSignin=postSocialSignin,this.showZOverlayParam={},this.showZOverlayParam.overlayId=overlayId,this.authToken=null,this.doSocialDirectLogin=!1,this.trySocialLoginSucceed=!1},this.setAuthToken=function(e,i){this.authToken=e,this.doSocialDirectLogin=i},this.populateDealInformation=function(e){this.showZOverlayParam.populateFuncName="populateDealInformation",this.showZOverlayParam.populateFuncParam=e,dealHdr=e.dealHdr,dealImage=e.dealImage,targetUrl=e.targetUrl,adid=null!=e.adid?e.adid:0,hotelId=null!=e.hotelId?e.hotelId:0,storyId=null!=e.storyId?e.storyId:0,targetUrlNewWindow=null!=e.targetUrlNewWindow&&e.targetUrlNewWindow,e&&e.source&&(source=e.source),e&&e.placement&&(placement=e.placement),isGenericOverlay=!1,e&&e.fbRedirectUrl&&(fbRedirectUrl=e.fbRedirectUrl),e&&null!=e.addQueryStrParamsOnSignin&&(addQueryStrParamsOnSignin=e.addQueryStrParamsOnSignin),e&&e.targetUrl&&(this.showZOverlayParam.targetUrl=e.targetUrl),expiredMessage=e.expiredMessage,convincingWords=e.convincingWords},this.populateGenericOverlay=function(e){this.showZOverlayParam.populateFuncName="populateGenericOverlay",this.showZOverlayParam.populateFuncParam=e,adid=0,e&&e.source&&(source=e.source),e&&e.placement&&(placement=e.placement),targetUrl=e&&e.targetUrl?e.targetUrl:"",isGenericOverlay=!0,hotelId=0,tzoo.SignupOverlay.current=this},this.populateLoginOverlay=function(e){this.showZOverlayParam.populateFuncName="populateLoginOverlay",this.showZOverlayParam.populateFuncParam=e,adid=0,e&&e.source&&(source=e.source),e&&e.placement&&(placement=e.placement),targetUrl=e&&e.targetUrl?e.targetUrl:"",isGenericOverlay=!0,hotelId=0,isLoginOverlay=!0,e&&e.triggerType&&(triggerType=e.triggerType),e&&e.mode?fbRedirectUrl+=encodeURIComponent("&mode="+e.mode):fbRedirectUrl+=encodeURIComponent("&mode=login")},this.populateFavoriteInformation=function(e){this.showZOverlayParam.populateFuncName="populateFavoriteInformation",this.showZOverlayParam.populateFuncParam=e,isFavoriteOverlay=!0,adid=null!=e.adid?e.adid:0,source=e.source,placement=e.placement,targetUrl=e.targetUrl,favDealType=e.favDealType,mode=e.mode,isLoginOverlay=!0,triggerType="SaveFavoriteFromAuthentication",this.setLoginTitle(this.dynamicTitleEnum.Favorites),hotelId=0,fbRedirectUrl+=encodeURIComponent("&mode=favorites")},this.populateAlertInformation=function(e){this.showZOverlayParam.populateFuncName="populateAlertInformation",this.showZOverlayParam.populateFuncParam=e,isDestAlertsOverlay=!0,source=e.source,placement=e.placement,targetUrl=e.targetUrl,mode=e.mode,isLoginOverlay=!0,triggerType="SaveAlertFromAuthentication",this.setLoginTitle(this.dynamicTitleEnum.Alerts),fbRedirectUrl+=encodeURIComponent("&mode=destalerts")},this.displayConfirmationOverlay=function(e,i){var o=history.state,n="welcomeOverlayShown_"+(adid||hotelId),t=null!=o&&"boolean"==typeof o[n]&&!0===o[n];!isConfirmation&&!e||t&&!isHotelOverlay||("undefined"!=typeof i&&""!=i?self.showConfirmationOverlay(e,i):$.getJSON(tzoo.ServiceBaseUrl+"v1/member/getmembersimple/",{MemberIdEncrypted:tzoo.MemberId,CacheVersion:tzoo.clientCache.versioning.getVersion("membersimple")}).done(function(i){if(null!=i.mbr){var o=i.mbr.eml;self.showConfirmationOverlay(e,o)}}))},this.showConfirmationOverlay=function(e,i){if(self.showZOverlay(!0),trackConfirmation(isExistingSubscriber||e,i),isConfirmation?obliviate():!isConfirmation&&askForExplicitConsent&&isWithoutEmailOptin&&(deRegisterEventHandlers(),registerEventHandlers(),$("#"+elementsDisplayed.emailSignup).val(i),isWithoutEmailOptin&&$(".exp-consent.toSubscribe").show()),0!=adid||0!=hotelId){var o={};o["welcomeOverlayShown_"+(adid||hotelId)]=!0,history.pushState(o,"","")}isHotelOverlay&&dealImage&&setImage(".ovrlayImage",dealImage),tzoo.imageLoader.loadImages()},this.displaySoldOutOverlay=function(){self.showZOverlay(!1),expiredMessage&&($(".js-expired-message").html(expiredMessage),$(".js-expired-message").show()),convincingWords&&$(".js-convincing-words").html(convincingWords),tzoo.imageLoader.loadImages()},this.initInPage=function(e){this.updateParams(e),checkExperiments(),registerEventHandlers(),populateCountriesDropDown(),tzoo.gtm.signupEvent("LandingPage",source,placement,"Double")},this.showZOverlay=function(e,i,o,n,t,a,r,s){if(this.showZOverlayParam.isConfirmation=e,this.showZOverlayParam.hideDivs=i,this.showZOverlayParam.isHotelUnlock=o,this.showZOverlayParam.goBack=n,this.showZOverlayParam.purchasePageData=t,this.showZOverlayParam.isClientSideLoginLogout=a,this.showZOverlayParam.isHotelExactDateSearch=r,!tzoo.Overlays.isShown(overlayId)){checkExperiments(),$("#register-message").hide(),clientSideLoginLogout=a&&!0===a,null==n&&(n=!1);var l=r&&!0===r;if(reset(),$(i).each(function(){$(this).hide()}),$("#register-div").removeClass(cssClass),$("#purchase-signin").hide(),$("#purchase-member-signin").hide(),e?(!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId||$(".js-manage-email-prefs").parent().hide(),$(".explore-div").show(),$("#welcome-step").show(),$("#signup").hide(),$("#signin").hide(),$("#hotel-signin").hide(),$("#hotel-loginPortal").hide().closest("#register-div").removeClass("hotel-login-portal"),$(".js-generic").hide(),$(".js-dealSpecific").hide(),$(".js-favoriteSpecific").hide(),$(".js-manage-email-prefs").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 4: Member Confirm"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":"")+(isWithoutEmailOptin?" - No Email":""),"Step 4: Manage Email Preferences",getAnalyticsEventPrefix())}),isGenericConfOverlay||isGenericOverlay?(setImage(".ovrlayImage",overlayImages[3]),$(".js-generic").show()):isFavoriteOverlay||isDestAlertsOverlay?(setImage(".ovrlayImage",overlayImages[3]),$(".js-favoriteSpecific").show()):(null==dealImage?$(".ovrlay-image-container").hide():dealImage&&setImage(".ovrlayImage",dealImage),$(".js-dealSpecific").show())):showGotoInboxOverlay&&askForExplicitConsent?showGotoInboxStep():(isHotelOverlay=o,$(".js-generic").hide(),$(".js-dealSpecific").hide(),$(".js-favoriteSpecific").hide(),o?(updateElementsDisplayed("hotel"),$("#signup").hide(),l?$("#hotel-loginPortal").show().closest("#register-div").addClass("hotel-login-portal"):$("#hotel-signin").show()):($("#hotel-loginPortal").hide().closest("#register-div").removeClass("hotel-login-portal"),$("#hotel-signin").hide()),isGenericOverlay?(setImage(".ovrlayImage",overlayImages[0]),cssClass="genericLogin ",$(".js-generic").show()):isFavoriteOverlay||isDestAlertsOverlay?(setImage(".ovrlayImage",overlayImages[0]),cssClass="genericLogin ",$(".js-favoriteSpecific").show()):o?setImage(".ovrlayImage",overlayImages[0]):(tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||$("#chkSubscribe").off("change").on("change",function(){$("#btnSignup,#btnFbSignup,.button-signup-google").prop("disabled",!this.checked)}).change(),cssClass="dealSpecificLogin ",$(".ovrlayDealHdr").html(dealHdr),null==dealImage?$(".ovrlay-image-container").hide():setImage(".ovrlayImage",dealImage||""),$(".js-dealSpecific").show(),isNumeric(adid)||(adid=0),isNumeric(hotelId)||(hotelId=0))),(isLoginOverlay&&!e&&!s||isFavoriteOverlay&&!e&&!s)&&setMemberInfo(),$("#register-div").addClass(cssClass),$("#register-div").on("click","#btnClose, .close-dialog",function(){obliviateTimeout&&clearTimeout(obliviateTimeout),tzoo.Overlays.hide(overlayId),e?tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 4: Member Confirm"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":"")+(isWithoutEmailOptin?" - No Email":""),"Step 4: Click to Exit",getAnalyticsEventPrefix()):tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1: Signup","Step 1: Click to Exit",getAnalyticsEventPrefix())}),this.showZOverlayParam.targetUrl&&$("#register-div #btnExplore, #register-div #btnExploreDeal").data("targetUrl",this.showZOverlayParam.targetUrl),$("#register-div").on("click","#btnExplore, #btnExploreDeal",function(i){if(obliviateTimeout&&clearTimeout(obliviateTimeout),tzoo.Overlays.hide(overlayId),e)!1!==modal?tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 4: Member Confirm"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":"")+(isWithoutEmailOptin?" - No Email":""),"btnExplore"==i.target.id?"Step 4: Explore":"Step 4: View Deal",getAnalyticsEventPrefix()):location.href=tzoo.UrlPrefix;else{var o=$("#register-div #btnExplore, #register-div #btnExploreDeal").data("targetUrl");location.href=o||location.href}}),!0===modal&&(tzoo.Overlays.show(overlayId),$("body").addClass("js-noscroll")),deRegisterEventHandlers(),registerEventHandlers(),$("#register-div").on("dialogclose",function(e,i){if(deRegisterEventHandlers(),$("body").removeClass("js-noscroll"),n)if(""===document.referrer||window.history.length<3)window.location=tzoo.UrlPrefix||"/";else{var o=removeURLParameter(document.referrer,"scrollto"),t=(adid>0?adid:hotelId)||0;o=t>0?o+(o.indexOf("?")>0?"&":"?")+"scrollto="+t:o,window.location=o}}),e||t&&t.isPurchasePage||(!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId?tzoo.gtm.signupEvent("LandingPage",source,placement,"Double"):tzoo.gtm.signupEvent("LandingPage",source,placement,"Single")),t&&t.isPurchasePage){var d="#purchase-signin";t.isMember&&!s&&(d="#purchase-member-signin","purchase-member"),$("#signup").length>0&&(GlobalVarStorage=$("#signup").detach().wrap('<div id="signup"></div>').html()),setTimeout(function(){$(document).trigger("showZOverlay.purchase",t)},0),$(d).show()}tzoo.delay(tzoo.imageLoader.loadImages,50),populateCountriesDropDown()}},this.setLoginTitle=function(e){$(".dynamicLoginTitle")&&dynamicLoginTitles&&(e||(e=this.dynamicTitleEnum.Default),$(".dynamicLoginTitle").html(dynamicLoginTitles[e])),$(".dynamicSubTitle")&&dynamicSubTitles&&(e||(e=this.dynamicTitleEnum.Default),$(".dynamicSubTitle").html(dynamicSubTitles[e]))},this.showPasswordReset=function(){$("#"+elementsDisplayed.login).hide(),$("#"+elementsDisplayed.loginFavorite).hide(),$("#"+elementsDisplayed["password-reset"]).show(),$("#"+elementsDisplayed.emailPasswordReset).focus()},this.updateParams=function(e){this.showZOverlayParam.updateParams=this.showZOverlayParam.updateParams||{},e&&(e.source&&(source=e.source,this.showZOverlayParam.updateParams.source=e.source),e.placement&&(placement=e.placement,this.showZOverlayParam.updateParams.placement=e.placement),e.targetUrl&&(targetUrl=e.targetUrl,this.showZOverlayParam.updateParams.targetUrl=e.targetUrl),e.isMKT&&(isMKT=this.showZOverlayParam.updateParams.isMKT=e.isMKT),modal=e.modal,this.showZOverlayParam.updateParams.modal=modal)},this.trySocialLogin=function(e){e&&$.post(tzoo.UrlPrefix+"social/TrySocialLogin",{state:e.state,code:e.code,socialType:e.socialType}).done(function(i){restartOverlay(e,function(o){i&&i.IsSuccess&&i.LoginData&&i.LoginResult?(showLoginResult(e.socialType,i.LoginResult,!i.LoginResult.IsSuccess),i.LoginResult.IsSuccess&&(o.overlay.trySocialLoginSucceed=!0,processSocialLogin(e.socialType,o,i))):showLoginResult(e.socialType,null,!0)})}).fail(function(i){restartOverlay(e,function(i){showLoginResult(e.socialType,null,!0)})})},this.showCreatePassword=function(e,i){e&&validateEmail("",e)&&($("#login-email-step > .js-nocookie").hide(),$("#login-email-step > .js-signedin").show(),$("#login-email-step > .js-signedin > .js-enterPassword").hide(),$("#login-email-step > .js-signedin > .js-createPassword").show(),$("#btnSignup_memberWithNoPW").off().on("click.signin_and_createpassword",{pwdControl:"password_memberWithNoPW",pwd2Control:"password2_memberWithNoPW",dontSendNotificationEmail:i},signIn_and_createPassword),$(".js-memberEmail:visible").text(e),$("#forgotPasswordLogin").hide())},this.detectSocialLogin=function(){var e=$.url(window.location.href);if(!verifyReferrer_wx(e))return null;var i=e.param();return i.referrer&&i.state&&i.code&&i.socialType?i:null};var loadSignupSection=function(){var e=elementsDisplayed.signup;GlobalVarStorage&&0==$("#"+e).length&&$("<div>",{id:e,html:GlobalVarStorage}).insertBefore($("#"+elementsDisplayed.signin));populateCountriesDropDown(),deRegisterEventHandlers(),registerEventHandlers(),$("#"+elementsDisplayed.ddCountries).trigger("change")},isSignedIn=function(){return""!=tzoo.MemberId};function registerEventHandlers(){$("#btnSignin, #hotel-btnSignin, #purchase-btnSignin").on("click.signup-overlay-signin",signIn),$("#btnFbSignin, #btnFbLogin, #hotel-btnFbSignin, #hotel-btnFbLogin, #btnFbLogin_fav, #purchase-btnFbSignin, #purchase-member-btnFbSignin").on("click.signup-overlay-connectfb",function(){return tzoo.gtm.analyticsEventPrefixed("Sign In Overlay","Sign In With Facebook","Facebook Confirm",getAnalyticsEventPrefix()),connectWithFacebook()}),$("#btnFbSignup, #hotel-btnFbSignup").on("click.signup-overlay-connectfb",function(){return tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1: Signup","Step 1: Sign Up With Facebook",getAnalyticsEventPrefix()),connectWithFacebook()}),$("#btnWxSignin, #btnWxSignup, #btnWxLogin, #hotel-btnWxSignin, #hotel-btnWxSignup, #hotel-btnWxLogin, #btnWxLogin_fav, #purchase-btnWxSignin, #purchase-member-btnWxSignin").on("click.signup-overlay-connectWx",connectWithWechat),$("#btnQqSignin, #btnQqSignup, #btnQqLogin, #hotel-btnQqSignin, #hotel-btnQqSignup, #hotel-btnQqLogin, #btnQqLogin_fav, #purchase-btnQqSignin, #purchase-member-btnQqSignin").on("click.signup-overlay-connectQq",connectWithQq),$(".button-signin-google").on("click",function(e){return tzoo.gtm.analyticsEventPrefixed("Sign In Overlay","Sign In With Google","Google Confirm",getAnalyticsEventPrefix()),googleSignIn(e)}),$(".button-signup-google").on("click",function(e){return tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1: Signup","Step 1: Sign Up With Google",getAnalyticsEventPrefix()),googleSignIn(e)}),$(".button-signin-apple").on("click",function(e){return tzoo.gtm.analyticsEventPrefixed("Sign In Overlay","Sign In With Apple","Apple Confirm",getAnalyticsEventPrefix()),appleSignIn(e)}),$(".button-signup-apple").on("click",function(e){return tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1: Signup","Step 1: Sign Up With Apple",getAnalyticsEventPrefix()),appleSignIn(e)}),$("#hotel-btnLogin").on("click.signup-overlay-login",logIn),$("#btnLogin, #btnLogin_fav").on("click.signup-overlay-login",logIn),$("#btnLogin_memberWithPW, #btnLogin_memberWithPW_fav").on("click.signup-overlay-login-pwdonly",logInPasswordOnly),$("#btnPasswordReset, #hotel-btnPasswordReset").on("click.signup-overlay-passwordreset",resetPassword),$("#btnSignup, #hotel-btnSignup").on("click.signup-overlay-signup",signUp),$("#btnSendMeEmails, #btnSendMeEmailsDeal").on("click.signup-overlay-signup",function(){consentGiven=!0,signUp()}),$("#btnSubmitZip, #hotel-btnSubmitZip").on("click.signup-overlay-submitzip",function(){return updateZip(!0),!1}),$("#btnSignupPassword, #hotel-btnSignupPassword").on("click.signup-overlay-signup-password",{pwdControl:elementsDisplayed.passwordSignup,pwd2Control:elementsDisplayed.password2Signup,showZipCodeStep:!0},createPassword),$("#btnSignup_memberWithNoPW").on("click.signup-overlay-signup-password",{pwdControl:"password_memberWithNoPW",pwd2Control:"password2_memberWithNoPW"},createPassword),$("#btnSignup_memberWithNoPW_fav").on("click.signup-overlay-signup-password",{pwdControl:"password_memberWithNoPW_fav",pwd2Control:"password2_memberWithNoPW_fav"},createPassword),$("#skipPostCodeStep").on("click.signup-overlay-skipzip",function(){return updateZip(!1),!1}),$("#btnTellUsLater, #hotel-btnTellUsLater").on("click.signup-overlay-submitzip",function(){return!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId?showGotoInboxStep():showWelcomeStepFromSignup(),!1}),$(".js-becomesubscriber").on("click.signup-overlay-becomesubscriber",function(){return loadSignupSection(),$("#"+elementsDisplayed.emailSignup).val($("#"+elementsDisplayed.emailSignin).val()),$activeSection=$("#"+elementsDisplayed.signup),$activeSection.show(),setTimeout(function(){$activeSection.find(":focusable").eq(0).focus()},200),$("#"+elementsDisplayed["password-reset"]).hide(),$("#"+elementsDisplayed.loginFavorite).hide(),$("#"+elementsDisplayed.loginPortal).hide().closest("#register-div").removeClass("hotel-login-portal"),isLoginOverlay?$("#"+elementsDisplayed.login).hide():$("#"+elementsDisplayed.signin).hide(),$("#"+elementsDisplayed["signup-email-step"]).show(),$("#"+elementsDisplayed["postcode-step"]).hide(),$("#"+elementsDisplayed["confirmation-step"]).hide(),$("#"+elementsDisplayed["signup-password-step"]).hide(),isHotelOverlay&&dealImage&&setImage(".ovrlayImage",dealImage),tzoo.imageLoader.loadImages(),!1}),$(document).off("click.signup-overlay-alreadysubscriber",".js-alreadysubscriber").on("click.signup-overlay-alreadysubscriber",".js-alreadysubscriber",function(){$("#"+elementsDisplayed.emailSignin).val($("#"+elementsDisplayed.emailSignup).val()),$("#"+elementsDisplayed.signup).hide(),$("#"+elementsDisplayed["password-reset"]).hide(),$("#"+elementsDisplayed.loginPortal).hide().closest("#register-div").removeClass("hotel-login-portal");var e=null;return(e=$(isLoginOverlay?isFavoriteOverlay||isDestAlertsOverlay?"#"+elementsDisplayed.loginFavorite:"#"+elementsDisplayed.login:"#"+elementsDisplayed.signin)).show(),setTimeout(function(){e.find(":focusable").eq(0).focus()},200),tzoo.imageLoader.loadImages(),!1}),$("#forgotPasswordLogin, #forgotPasswordLogin_fav").on("click.signup-overlay-forgotpassword",function(){$("#"+elementsDisplayed.login).hide(),$("#"+elementsDisplayed.loginFavorite).hide(),$("#"+elementsDisplayed["password-reset"]).show(),$("#"+elementsDisplayed.emailPasswordReset).focus()}),isFavoriteOverlay||isDestAlertsOverlay?$(".js-change-email").on("click",function(){$(".js-nocookie").show(),$(".js-signedin").hide(),$(".becomesubscriber").show(),$("#emailTextbox_fav > input").val(""),$("#btnLogin_fav").off().on("click.signup-overlay-login",logIn),$("div.joinLinks, #forgotPasswordLogin").show()}):$(".js-change-email").on("click",function(){$(".js-nocookie").show(),$(".js-signedin").hide(),$(".becomesubscriber").show(),$("#emailTextbox > input").val(""),$("#btnLogin").off().on("click.signup-overlay-login",logIn),$("div.joinLinks, #forgotPasswordLogin").show()}),askForExplicitConsent&&$(".js-change-email-conf").off("click").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 3: Check Inbox","Step 3: Change Email",getAnalyticsEventPrefix()),$("#signup #confirmation-step").hide(),$("#signup #signup-email-step").show(),$("#signup .overlayFooter").show(),$("#signup .asSeenOn").show(),isGenericOverlay?(setImage(".ovrlayImage",overlayImages[0]),$(".js-generic").show(),$("#subscribe, #subscribe .convincingWords").show()):isFavoriteOverlay||isDestAlertsOverlay?(setImage(".ovrlayImage",overlayImages[0]),$(".js-favoriteSpecific").show()):($(".ovrlayDealHdr").html(dealHdr),null==dealImage?$(".ovrlay-image-container").hide():setImage(".ovrlayImage",dealImage||""),$(".js-dealSpecific").show()),tzoo.delay(tzoo.imageLoader.loadImages,50)}),$(document).off("createPassword").on("createPassword",function(e,i){createPassword(i)}),$(document).on("mousedown","#linkCreatePassword",function(){return isFavoriteOverlay||isDestAlertsOverlay?($(".js-memberEmail").html($("#emailLogin_fav").val()),$("#passwordLogin_fav").val(""),$("#forgotPasswordLogin_fav").hide(),$("#btnSignup_memberWithNoPW_fav").off().on("click.signin_and_createpassword",{pwdControl:"password_memberWithNoPW_fav",pwd2Control:"password2_memberWithNoPW_fav"},signIn_and_createPassword),$("#emailTextbox_fav").find($(".alert-bubble-error")).remove(),$("#emailLogin_fav").off()):($(".js-memberEmail").html($("#emailLogin").val()),$("#passwordLogin").val(""),$("#forgotPasswordLogin").hide(),$("#btnSignup_memberWithNoPW").off().on("click.signin_and_createpassword",{pwdControl:"password_memberWithNoPW",pwd2Control:"password2_memberWithNoPW"},signIn_and_createPassword),$("#emailTextbox").find($(".alert-bubble-error")).remove(),$("#emailLogin").off()),$(".js-signedin, .js-createPassword").show(),$(".js-enterPassword, .js-nocookie, .joinLinks").hide(),!1}),$("#"+elementsDisplayed.ddCountries).on("change",function(){var e=$(this).val();"CN"===e||"HK"===e||"TW"===e?(populatePostCodesDropDown(e),$("#"+elementsDisplayed.ddpostcodes).show(),$("#"+elementsDisplayed.zipCode).hide()):($("#"+elementsDisplayed.zipCode).val(""),$("#"+elementsDisplayed.ddpostcodes).hide(),$("#"+elementsDisplayed.zipCode).show())}),$("#"+elementsDisplayed.ddpostcodes).on("change",function(){$("#"+elementsDisplayed.zipCode).val($(this).val())})}function deRegisterEventHandlers(){$("#btnSignin, #hotel-btnSignin, #purchase-btnSignin").off("click.signup-overlay-signin"),$("#btnFbSignin, #btnFbSignup, #hotel-btnFbSignin, #hotel-btnFbSignup, #btnFbLogin_fav, #purchase-btnFbSignin, #purchase-member-btnFbSignin").off("click.signup-overlay-connectfb"),$(".button-signin-google, .button-signup-google").off("click"),$("#btnLogin, #hotel-btnLogin").off("click.signup-overlay-login"),$("#btnLogin_fav").off("click.signup-overlay-login"),$("#btnPasswordReset, #hotel-btnPasswordReset").off("click.signup-overlay-passwordreset"),$("#btnSignup, #hotel-btnSignup, #btnSendMeEmails, #btnSendMeEmailsDeal").off("click.signup-overlay-signup"),$("#btnSignupPassword, #hotel-btnSignupPassword").off("click.signup-overlay-signup-password"),$("#btnSubmitZip, #hotel-btnSubmitZip").off("click.signup-overlay-submitzip"),$("#skipPostCodeStep").off("click.signup-overlay-skipzip"),$(".js-becomesubscriber").off("click.signup-overlay-becomesubscriber"),$(".js-alreadysubscriber").off("click.signup-overlay-alreadysubscriber"),$("#forgotPasswordLogin").off("click.signup-overlay-forgotpassword"),$("#forgotPasswordLogin_fav").off("click.signup-overlay-forgotpassword"),$("#btnSignup_memberWithNoPW, #btnSignup_memberWithNoPW_fav").off("click.signup-overlay-signup-password"),$("#btnLogin_memberWithPW, #btnLogin_memberWithPW_fav").off("click.signup-overlay-login-pwdonly"),$("#btnTellUsLater, #hotel-btnTellUsLater").off("click.signup-overlay-submitzip")}function populateCountriesDropDown(){$.getJSON(tzoo.ServiceBaseUrl+"v1/member/getcountries/?TzLocale="+tzoo.TzLocale,function(e){$("#"+elementsDisplayed.ddCountries).empty(),$.each(e.cs,function(e,i){$(document.createElement("option")).attr("value",this.cc).text(this.cn).appendTo($("#"+elementsDisplayed.ddCountries))})})}function populatePostCodesDropDown(e){$.getJSON(tzoo.ServiceBaseUrl+"v1/member/getpostcodes/?TzLocale="+tzoo.TzLocale+"&selectedCountryCode="+e,function(e){$("#"+elementsDisplayed.ddpostcodes).empty(),$.each(e.pc,function(e,i){$(document.createElement("option")).attr("value",this.pcn).text(this.pn).appendTo($("#"+elementsDisplayed.ddpostcodes))})})}function registerDialogWithOverlayManager(){tzoo.Overlays.initializeAndRegister("#register-div",{id:overlayId,priority:1,autoShow:!1,signupOverlay:self},{modal:modal,dialogClass:dialogClass,fluid:!0,closeOnEscape:closeOnEscape})}function setImage(e,i){$(e).addClass("tzsg-lazy ");var o=tzoo.getQueryStringParameter("width",i);i=null==o?i?tzoo.addQueryStringParameter("width={width}",i):"":i.replace(o,"{width}"),$(e).data("src",i),$(e).attr("data-src",i),$(e).attr("src","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")}function reset(){visibleDivs.each(function(){$(this).show()}),hiddenDivs.each(function(){$(this).hide()}),$("#welcome-step").hide()}function memorizeState(){$(".loginOverlay div").each(function(){"block"==$(this).css("display")?visibleDivs.push($(this)):"none"==$(this).css("display")&&hiddenDivs.push($(this))})}function trackConfirmation(e,i){var o="Double";!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId||(o="Single"),e?tzoo.gtm.signupEvent("SignedIn",source,placement,o,i):(tzoo.gtm.signupEvent(isWithoutEmailOptin?"ConfirmedNoOptin":"Confirmed",source,placement,o,i),tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 4: Member Confirm"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":"")+(isWithoutEmailOptin?" - No Email":""),"Step 4: Overlay Confirmation",getAnalyticsEventPrefix()))}function htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function obliviate(){obliviateTimeout=setTimeout(function(){tzoo.Overlays.hide(overlayId)},1e4)}function focusOnVisibleInput(){var e=null!=$("#register-div input[type=email]:visible")[0]?$("#register-div input[type=email]:visible")[0]:$("#register-div input[type=password]:visible")[0];null!=(e=null!=e?e:$("#register-div input[type=text]:visible")[0])&&e.focus()}var showErrorAlert=function(e,i){null==elementsDisplayed[e]?($("#"+e).alertBubbleError(i),$("#"+e).focus()):($("#"+elementsDisplayed[e]).alertBubbleError(i),$("#"+elementsDisplayed[e]).focus())},validateEmail=function(e,i){var o=""!=e&&null!=e?$("#"+elementsDisplayed[e]).val():i;return!!tzoo.util.isValidEmail(o)||(showErrorAlert(e,translations.EmailInvalid),!1)},signIn=function(e,i){e||(e=window.event);var o=(e.target||e.srcElement).id,n=o.indexOf("-")>0?o.split("-")[0]:"";""!=n&&updateElementsDisplayed(n);var t=""!=i&&null!=i?validateEmail("",i):validateEmail("emailSignin","");i=""!=i&&null!=i?i:$("#"+elementsDisplayed.emailSignin).val();if(t){tzoo.gtm.analyticsEventPrefixed("Sign In Overlay","Sign In","Email Confirm",getAnalyticsEventPrefix());var a={email:i,adid:0};null!=self.authToken&&(a.authToken=self.authToken),$.ajax({type:"POST",async:!targetUrlNewWindow,url:tzoo.UrlPrefix+"Authentication/signin",data:a,headers:{RequestVerificationToken:$("#AFTForm input").val()},success:function(o){(isFavoriteOverlay||isDestAlertsOverlay)&&(e.isLoggedInClientSide=!0,$(document).trigger(triggerType,e)),o&&o.suc&&o.mid>0?(tzoo.MemberId=o.mide,null!=triggerType?(e.isLoggedInClientSide=!0,e.email=i,$(document).trigger(triggerType,e)):clientSideLoginLogout?loggedInClientSide(overlayId,i):signedIn(i)):showErrorAlert("emailSignin",translations.EmailNotRegistered)},error:function(e){showErrorAlert("emailSignin",translations.UnknownError)}})}return!1},loggedInClientSide=function(e,i){tzoo.layout.setOriginAirports(),$(document).one("headerreloaded.layout",function(){$(document).trigger("loggedInClientSide.signupoverlay",{email:i}),tzoo.Overlays.hide(e)}),tzoo.layout.reloadHeader()},signedIn=function(e){tzoo.layout.setOriginAirports(),$("body").off("click.deal-lockup"),""!=targetUrl&&null!=targetUrl?(targetUrl+=(targetUrl.indexOf("?")>0?"&":"?")+"cm=signedin",addQueryStrParamsOnSignin&&(null==tzoo.getQueryStringParameter("source",targetUrl)&&(targetUrl=tzoo.addQueryStringParameter("source="+source,targetUrl)),null==tzoo.getQueryStringParameter("placement",targetUrl)&&(targetUrl=tzoo.addQueryStringParameter("placement="+placement,targetUrl))),isHotelOverlay&&(targetUrl+=hotelId>0&&-1==location.search.indexOf("scrollto")?(targetUrl.indexOf("?")>0?"&":"?")+"scrollto="+hotelId:""),"join"==tzoo.getQueryStringParameter("mode",targetUrl)&&tzoo.getQueryStringParameter("email",targetUrl)&&(targetUrl=removeURLParameter(targetUrl,"mode"),targetUrl=removeURLParameter(targetUrl,"email"),targetUrl=tzoo.addQueryStringParameter("mode=signin",targetUrl)),targetUrlNewWindow?(self.displayConfirmationOverlay(!0,e),window.open(targetUrl,"dl"+adid)):location.href=targetUrl):self.displayConfirmationOverlay(!0,e)},logIn=function(){var e,i,o;if($("#emailTextbox").is(":visible")||"btnLogin"==this.id?(e="emailLogin",i="passwordLogin",o=$("#"+elementsDisplayed.rememberMeLogin).is(":checked")):($("#emailTextbox_fav").is(":visible")||"btnLogin_fav"==this.id)&&(e="emailLogin_fav",i="passwordLogin_fav",o=$("#"+elementsDisplayed.rememberMeLogin_fav).is(":checked")),validateEmail(e)){var n=$("#"+e).val(),t=$("#"+elementsDisplayed[i]).val();if(self.doSocialDirectLogin||t&&t.length>0)if(self.doSocialDirectLogin||tzoo.util.isValidPassword(t)){var a={email:n,password:self.doSocialDirectLogin?"":t,rememberme:o};null!=self.authToken&&(a.authToken=self.authToken),$.ajax({type:"POST",url:tzoo.UrlPrefix+"Authentication/login",data:a,headers:{RequestVerificationToken:$("#AFTForm input").val()}}).done(function(i){1==i.Status?(tzoo.MemberId=i.MemberIdEncrypted,tzoo.MemberIdLoggedIn=i.MemberIdEncrypted,isFavoriteOverlay||isDestAlertsOverlay?(tzoo.Overlays.hide(overlayId),$(document).trigger(triggerType,{isLoggedInClientSide:!0}),$("div.header-menu li.myaccount").show(),$("div.header-menu li.signout").show(),$("div.header-menu li.join").hide(),$("div.header-menu li.signin").hide()):clientSideLoginLogout?loggedInClientSide(overlayId,n):loggedIn(targetUrl)):2==i.Status?showErrorAlert(e,translations.PassMultipleTries):3==i.Status?showErrorAlert(e,translations.PassMustCreate):showErrorAlert(e,translations.CredentialsInvalid)}).fail(function(e){showErrorAlert(i,translations.UnknownError)})}else showErrorAlert(e,translations.CredentialsInvalid);else showErrorAlert(i,translations.PassMustEnter)}return!1},loggedIn=function(e){tzoo.layout.setOriginAirports(),$("body").off("click.deal-lockup"),"close"==tzoo.getQueryParameters().cm&&window.close(),null==tzoo.getQueryParameters().returnURL||""==tzoo.getQueryParameters().returnURL?location.href=null==e||""==e?tzoo.UrlPrefix+"MyAccount/":e:location.href=decodeURIComponent(tzoo.getQueryParameters().returnURL)},logInPasswordOnly=function(){var e,i,o;if($("#emailText_fav").is(":visible")?(e=$("#emailText_fav .js-memberEmail").text(),i="passwordLogin_memberWithPW_fav",o="rememberMeLogin_fav"):$("#emailText").is(":visible")&&(e=$("#emailText .js-memberEmail").text(),i="passwordLogin_memberWithPW",o="rememberMeLogin"),e.length>0){var n=$("#"+i).val();if(n&&n.length>0)if(tzoo.util.isValidPassword(n)){var t=$("#"+elementsDisplayed[o]).is(":checked");$.ajax({type:"POST",url:tzoo.UrlPrefix+"Authentication/login",data:{email:e,password:n,rememberme:t},headers:{RequestVerificationToken:$("#AFTForm input").val()}}).done(function(o){1==o.Status?(tzoo.MemberId=o.MemberIdEncrypted,tzoo.MemberIdLoggedIn=o.MemberIdEncrypted,isFavoriteOverlay||isDestAlertsOverlay?($(document).trigger(triggerType,{isLoggedInClientSide:!0}),tzoo.Overlays.hide(overlayId),$("div.header-menu li.myaccount").show(),$("div.header-menu li.signout").show(),$("div.header-menu li.join").hide(),$("div.header-menu li.signin").hide()):clientSideLoginLogout?loggedInClientSide(overlayId,e):loggedIn(targetUrl)):2==o.Status?showErrorAlert(i,translations.PassMultipleTries):showErrorAlert(i,translations.CredentialsInvalid)}).fail(function(e){showErrorAlert(i,translations.UnknownError)})}else showErrorAlert(i,translations.CredentialsInvalid);else showErrorAlert(i,translations.PassMustEnter)}return!1},resetPassword=function(){if(validateEmail("emailPasswordReset")){var e=$("#"+elementsDisplayed.emailPasswordReset).val();$.post(tzoo.ServiceBaseUrl+"v1/member/resetpassword",{username:e,tzlocale:tzoo.TzLocale}).done(function(e){resetPasswordDone(),null!=e.ret&&null!=e.ret.edu&&""!=e.ret.edu&&($("#"+elementsDisplayed["reset-lnkGoToEmail"]).attr("href",e.ret.edu),$("#"+elementsDisplayed["reset-goToEmail"]).show())}).fail(function(e){showErrorAlert("emailPasswordReset",translations.UnknownError)})}return!1},resetPasswordDone=function(){$("#"+elementsDisplayed["password-reset"]).hide(),$("#"+elementsDisplayed["password-reset-done"]).show()},connectWithFacebook=function(){var e=decodeURIComponent(fbRedirectUrl);return e=removeURLParameter(e,"consentgiven"),e=removeURLParameter(e,"subscribe"),e=removeURLParameter(e,"singleConfirm"),e=removeURLParameter(e,"experiments"),e=encodeURIComponent(e),$("#"+elementsDisplayed.consentGiven).length&&$("#"+elementsDisplayed.consentGiven).is(":checked")||tzoo.SignupOverlay.signupDealVariant===tzoo.SignupOverlay.variants.C&&(0!==adid||0!==hotelId)?(e+=encodeURIComponent("&consentgiven=true"),consentGiven=!0):(e+=encodeURIComponent("&consentgiven=false"),consentGiven=!1),e+=encodeURIComponent("&modal="+modal),e+=encodeURIComponent("&isHotelOverlay="+(!0===isHotelOverlay)),e+=encodeURIComponent("&signupWithPassword=true"),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.B||0===adid&&0===hotelId||(e+=encodeURIComponent("&subscribe=false")),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||(e+=encodeURIComponent("&subscribe=true")),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.A||0===adid&&0===hotelId||(e+=encodeURIComponent("&subscribe=false"),e+=encodeURIComponent("&singleConfirm=false")),!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId||(e+=encodeURIComponent("&singleConfirm=true")),tzoo.SignupOverlay.signupDealVariant>0&&(0!==adid||0!==hotelId)&&(e+=encodeURIComponent("&experiments="+tzoo.SignupOverlay.signupDealVariant)),popupWindow("https://www.facebook.com/dialog/oauth?client_id="+fbApiId+"&redirect_uri="+e+"&scope=email&display=popup","ConnectWithFacebook",window,620,320,",menubar=no,status=no,location=no,toolbar=no,scrollbars=yes"),!1},connectWithSocialCommon=function(e,i){var o=getSocialRequestUrl(e,i);return $.post(tzoo.UrlPrefix+"social/GetSocialRedirectUrl",{requestUrl:o,socialType:e}).done(function(i){i&&i.IsSuccess?window.location.href=i.SocialRedirectUrl:showLoginResult(e,null,!0)}).fail(function(i){showLoginResult(e,null,!0)}),!1},connectWithWechat=function(){return connectWithSocialCommon("Wechat",this.id),!1},connectWithQq=function(){return connectWithSocialCommon("QQ",this.id),!1};$("#btnSignup").off("stopSpinner").on("stopSpinner",function(e,i){i&&$("#"+i+" *").prop("disabled",!1),spinner.stop(),e.stopPropagation()});var signUp=function(){var e=isLoginOverlay||isFavoriteOverlay||isDestAlertsOverlay;isNumeric(adid)||(adid=0),isNumeric(hotelId)||(hotelId=0);var i=null==tzoo.websiteType||null==tzoo.websiteType?websiteTypeUnknown:tzoo.websiteType;if(validateEmail("emailSignup")){var o=$("#"+elementsDisplayed.emailSignup).val();$("#"+elementsDisplayed.consentGiven).length&&(consentGiven=!!$("#"+elementsDisplayed.consentGiven).is(":checked")),(isWithoutEmailOptin||tzoo.SignupOverlay.signupDealVariant===tzoo.SignupOverlay.variants.C&&(0!==adid||0!==hotelId))&&(consentGiven=!0),tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1: Signup","Step 1: Get Started",getAnalyticsEventPrefix());var n={email:o,adid:adid,hotelId:hotelId,source:source,placement:placement,signupCode:"",postalCode:"",countryCode:"",websiteType:i,consentGiven:consentGiven,signupWithPassword:e,storyId:storyId,isFromMKT:isMKT};null!=self.authToken&&(n.authToken=self.authToken),spinner.el||spinner.spin(),document.getElementById("register-div").appendChild(spinner.el),$("#register-div *").prop("disabled",!0),tzoo.SignupOverlay.signupDealVariant>0&&(0!==adid||0!==hotelId)&&(n.experiments=tzoo.SignupOverlay.signupDealVariant),!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId||(n.singleConfirm=!0),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.B||0===adid&&0===hotelId||(n.subscribe=!1),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||(n.subscribe=!0),$.ajax({type:"POST",async:!targetUrlNewWindow,url:tzoo.UrlPrefix+"Authentication/SignupMember",data:n,headers:{RequestVerificationToken:$("#AFTForm input").val()},success:function(e){if($("#btnSignup").trigger("stopSpinner","register-div"),e){if("invalid"==e.s)return void showErrorAlert("emailSignup",translations.EmailInvalid);if(e.mide&&(tzoo.MemberId=e.mide),"currentmember"==e.s)isFavoriteOverlay||isDestAlertsOverlay?showErrorAlert("emailSignup",translations.AccountExists):self.trySocialLoginSucceed&&e.hp&&!self.doSocialDirectLogin?($("#emailLogin").val(o),$("#register-form > .register-section").hide(),$("#login").show(),$("#login .js-signedin").hide(),$("#login .js-nocookie").show(),setTimeout(function(){$("#passwordLogin").focus()},100)):clientSideLoginLogout?loggedInClientSide(overlayId,o):signedIn(o);else{emailDomainUrl=e.edu,"singleconf"===e.s?tzoo.gtm.signupEvent("Requested",source,placement,"Single"):tzoo.gtm.signupEvent("Requested",source,placement,"Double"),(isGenericOverlay||isHotelOverlay||isFavoriteOverlay||isDestAlertsOverlay)&&setImage(".ovrlayImage",isHotelOverlay&&dealImage?dealImage:overlayImages[1]),dealImage&&setImage(".ovrlayImage",dealImage),tzoo.imageLoader.loadImages();var i="#"+elementsDisplayed["signup-email-step"]+", #subscribe, .convincingWords, .overlayFooter, .asSeenOn, .gdprSection";askForExplicitConsent&&(i+=",#register-div-close");var n="#"+elementsDisplayed["postcode-step"],t=isGenericOverlay||isFavoriteOverlay||isDestAlertsOverlay?n+", "+n+" .js-generic":n+", "+n+" .dealSpecific";isLoginOverlay?(t="#"+elementsDisplayed["signup-password-step"],isFavoriteOverlay||isDestAlertsOverlay||askForExplicitConsent&&!consentGiven&&(isWithoutEmailOptin=!0)):askForExplicitConsent&&!consentGiven&&(isWithoutEmailOptin=!0);var a=setupSubscribeStep(t,source,placement,adid,hotelId);null!==a&&(t=a),$(t).show(),$(i).hide(),$("#"+elementsDisplayed.ddCountries).trigger("change"),deRegisterEventHandlers(),registerEventHandlers()}}},error:function(e){$("#btnSignup").trigger("stopSpinner","register-div"),showErrorAlert("emailSignup",translations.UnknownError)}})}return!1},createPassword=function(e){"createPassword"===triggerType&&(triggerType=void 0);var i=e.data.pwdControl,o=e.data.pwd2Control,n=$("#"+i).val(),t=$("#"+o).val();return""==n||""==t||n.length<8||t.length<8?(showErrorAlert(i,translations.PassInvalid),!1):n!=t?(showErrorAlert(i,translations.PassMisMatch),!1):($.ajax({type:"POST",url:tzoo.UrlPrefix+"Authentication/createpassword",data:{password:n,password2:t,dontSendNotificationEmail:!!e.data.dontSendNotificationEmail},headers:{RequestVerificationToken:$("#AFTForm input").val()}}).done(function(o){if(tzoo.clientCache.versioning.incrementVersion("membersimple"),1==o)if(tzoo.MemberIdLoggedIn=tzoo.MemberId,isFavoriteOverlay||isDestAlertsOverlay){if(askForExplicitConsent){if(e.data.showZipCodeStep){var n="#"+elementsDisplayed["postcode-step"];$(n+", "+n+" .js-generic").show(),$("#"+elementsDisplayed["signup-password-step"]+", .convincingWords, .overlayFooter, .asSeenOn, #register-div-close").hide()}}else tzoo.Overlays.hide(overlayId),e.isLoggedInClientSide=!0,$(document).trigger(triggerType,e);$("div.header-menu li.myaccount").show(),$("div.header-menu li.signout").show(),$("div.header-menu li.join").hide(),$("div.header-menu li.signin").hide()}else if(e.isLoggedInClientSide&&e.email&&clientSideLoginLogout)loggedInClientSide(overlayId,e.email);else if(e.data.showZipCodeStep){n="#"+elementsDisplayed["postcode-step"];$(n+", "+n+" .js-generic").show(),$("#"+elementsDisplayed["signup-password-step"]+", .convincingWords, .overlayFooter, .asSeenOn, #register-div-close").hide()}else loggedIn();else showErrorAlert(i,2==o?translations.PassMisMatch:3==o?translations.PassInvalid:translations.UnknownError)}).fail(function(e){showErrorAlert(i,translations.UnknownError)}),!1)},postSocialSignin=function(e,i,o,n,t,a,r,s){if(source=tzoo.SignupOverlay.source,placement=tzoo.SignupOverlay.placement,adid=tzoo.SignupOverlay.adid,hotelId=tzoo.SignupOverlay.hotelId,consentGiven=n,modal=t,isHotelOverlay=a,emailDomainUrl=r,"undefined"!=typeof o){if(!o)return void loggedInClientSide(overlayId,e);clientSideLoginLogout=!0}loadSignupSection();var l="#"+elementsDisplayed["postcode-step"];$("#signup").is(":visible")||($("#signup").show(),elementsDisplayed.signup="signup",elementsDisplayed.emailSignup="emailSignup",$("#signup").children().each(function(e,i){$(i).is($(".ovrlayContainer"))||$(i).is($(".bodyDiv"))||$(i).is(".asSeenOn")||$(i).hide()})),$("#"+elementsDisplayed.emailSignup).val(e);var d=l+", "+l+" .dealSpecific",g=setupSubscribeStep(d,source,placement,adid,hotelId);null!==g?($.ajax({url:"/Authentication/RefreshAntiForgeryToken",cache:!1,dataType:"html"}).done(function(e){$("#AFTForm").html(e)}),$(g).show()):isLoginOverlay?d="#"+elementsDisplayed["signup-password-step"]:!askForExplicitConsent||o||isHotelOverlay?isHotelOverlay&&askForExplicitConsent?($("#hotel-signup").hide(),$(l).show(),$(l+" .js-dealSpecific ").is(":visible")||$(l+" .js-generic ").show()):($(l).show(),$(l+" .js-dealSpecific ").is(":visible")||$(l+" .js-generic ").show(),isHotelOverlay&&$("#hotel-signup").hide()):(tzoo.SignupOverlay.signupDealVariant===tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||(isWithoutEmailOptin=!0),$(l).show(),$(l+" .js-dealSpecific ").is(":visible")||$(l+" .js-generic ").show()),$(".gdprSection,#"+elementsDisplayed["signup-email-step"]+",.convincingWords,.overlayFooter,.asSeenOn,#register-div-close,#"+elementsDisplayed.loginFavorite+",#login,#purchase-signin,#hotel-signin,#purchase-member-signin,#signin,#subscribe").hide(),$("#"+elementsDisplayed.emailSignup).val(e),$("input#fbSignUpResponseUrl").val(i);var c="";0===s?(c="&fromFB=1",$("input#fbSignUpResponseUrl").data("fromFB",!0)):1===s?(c="&fromG=1",$("input#fbSignUpResponseUrl").data("fromG",!0)):2===s&&(c="&fromA=1",$("input#fbSignUpResponseUrl").data("fromA",!0)),tzoo.imageLoader.loadImages(),tzoo.layout.setOriginAirports(),$("#btnTellUsLater, #hotel-btnTellUsLater").off("click").on("click",function(){if("undefined"!=i&&""!=i)i=i;else if(location.href.indexOf("cm=signedup")<0){var e=location.href.toLowerCase();e.indexOf("thisweeksdeals")>0&&(e=e.replace("/top20/thisweeksdeals/","/top20/")),e+=(e.indexOf("?")>0?"&":"?")+"conf=1&cm=signedup"+c,i=e}else i=location.href;location.href=i})},signIn_and_createPassword=function(e){return isSignedIn()?createPassword(e):(triggerType="createPassword",signIn(e,$(".js-memberEmail:visible").text())),!1},showGotoInboxStep=function(){deRegisterEventHandlers(),registerEventHandlers(),tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 2: Postcode Confirm","Step 2: Tell Us Later",getAnalyticsEventPrefix()),$("#"+elementsDisplayed["postcode-step"]).hide(),$("#"+elementsDisplayed["confirmation-step"]).show();var e=$("#"+elementsDisplayed.emailSignup).val();isGenericConfOverlay||isGenericOverlay||isHotelOverlay||isFavoriteOverlay||isDestAlertsOverlay?setImage(".ovrlayImage",overlayImages[2]):(null==dealImage?$(".ovrlay-image-container").hide():dealImage&&setImage(".ovrlayImage",dealImage),""!=dealHdr&&($(".ovrlayDealHdr").html(dealHdr),$(".ovrlayDealHdr").show())),tzoo.imageLoader.loadImages(),$("#lnkGoToEmail").off(),$("#lnkGoToEmail").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 3: Check Inbox","Step 3: Go To Email",getAnalyticsEventPrefix())}),null!=emailDomainUrl&&""!=emailDomainUrl&&null!=e&&""!=e?($("#"+elementsDisplayed.lnkGoToEmail).attr("href",emailDomainUrl),$("#"+elementsDisplayed.goToEmail).show(),$("#register-div").addClass("transition-goToEmail"),$("#"+elementsDisplayed.changeEmail).show(),$(".email-addr").text(e)):($.getJSON(tzoo.ServiceBaseUrl+"v1/member/getpendingmemberemail/",{QueueId:queueId,TzLocale:tzoo.TzLocale}).done(function(e){null!=e.mbr&&(null!=(emailDomainUrl=e.mbr.edu)&&""!=emailDomainUrl&&($("#goToEmail").show(),$("#"+elementsDisplayed.lnkGoToEmail).attr("href",emailDomainUrl),$("#"+elementsDisplayed.goToEmail).show(),$("#register-div").addClass("transition-goToEmail")),$("#"+elementsDisplayed.changeEmail).show(),$(".email-addr").text(e.mbr.eml))}),$("#register-div").addClass("transition")),$("#hotel-loginPortal").hide().closest("#register-div").removeClass("hotel-login-portal");var i="#"+elementsDisplayed["signup-email-step"]+",#signin, #hotel-signin, #subscribe, .js-convincing-words, .js-dealSpecific, .js-generic, .js-favoriteSpecific, .convincingWords, .overlayFooter, .asSeenOn, .gdprSection, .member-menu-toggle";("Homepage"==$("#page-type-field").val()||null!=placement&&""!=placement&&null!=placement&&-1!=placement.indexOf("Top20MarketingPage"))&&(i+=",#register-div-close"),isLoginOverlay&&($("#register-div-close").show(),$("#register-div").off("click","#btnClose, .close-dialog"),$("#register-div").on("click","#btnClose, .close-dialog",function(){isDestAlertsOverlay||isFavoriteOverlay?(event.isLoggedInClientSide=!0,$(document).trigger(triggerType,event),tzoo.Overlays.hide(overlayId)):loggedIn()})),$(i).hide()},updateZip=function(e){var i=$("#"+elementsDisplayed.zipCode).val().trim().replace(/ +(?= )/g,""),o=$("#"+elementsDisplayed.ddCountries).val(),n=$("input#fbSignUpResponseUrl").val(),t=$("input#fbSignUpResponseUrl").data("fromFB")||!1,a=$("input#fbSignUpResponseUrl").data("fromG")||!1,r=$("input#fbSignUpResponseUrl").data("fromA")||!1,s=$("#"+elementsDisplayed.emailSignup).val();return e&&19!=tzoo.TzLocale&&!tzoo.util.isValidZip(i,o)?(showErrorAlert("zipCode",translations.PostCodeInvalid),!1):(tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 2: Postcode Confirm","Step 2: Continue",getAnalyticsEventPrefix()),$.post(tzoo.UrlPrefix+"Authentication/UpdateZipCode",{email:s,tzlocale:tzoo.TzLocale,countrycode:o,zip:i,source:source,placement:placement}).done(function(e){if(e)if(clientSideLoginLogout)loggedInClientSide(overlayId,s);else if(t||a||r)if(askForExplicitConsent&&(!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId))showGotoInboxStep();else{var i="";if("undefined"!=n&&""!=n)i=n;else if(location.href.indexOf("cm=signedup")<0){var o=location.href.toLowerCase();o.indexOf("thisweeksdeals")>0&&(o=o.replace("/top20/thisweeksdeals/","/top20/")),i=o+=(o.indexOf("?")>0?"&":"?")+"conf=1&cm=signedup"}else i=location.href;i=removeURLParameter(i,"fromFB"),i=removeURLParameter(i,"fromG"),t?i+=(i.indexOf("?")>0?"&":"?")+"fromFB=1":a?i+=(i.indexOf("?")>0?"&":"?")+"fromG=1":r&&(i+=(i.indexOf("?")>0?"&":"?")+"fromA=1"),$("#"+elementsDisplayed.consentGiven).length&&(consentGiven=!!$("#"+elementsDisplayed.consentGiven).is(":checked")),!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId||(consentGiven=!0),askForExplicitConsent&&!consentGiven&&(i+=(i.indexOf("?")>0?"&":"?")+"subs=1"),location.href=i}else isLoginOverlay?askForExplicitConsent?showGotoInboxStep():loggedIn():!tzoo.SignupOverlay.singleConfirm||0===adid&&0===hotelId?($("#lnkGoToEmail").off(),$("#lnkGoToEmail").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 3: Check Inbox","Step 3: Go To Email",getAnalyticsEventPrefix())}),null!=emailDomainUrl&&""!=emailDomainUrl?($("#"+elementsDisplayed.lnkGoToEmail).attr("href",emailDomainUrl),$("#"+elementsDisplayed.goToEmail).show(),$("#register-div").addClass("transition-goToEmail")):$("#register-div").addClass("transition"),(isGenericOverlay||isHotelOverlay||isFavoriteOverlay||isDestAlertsOverlay)&&(setImage(".ovrlayImage",isHotelOverlay&&dealImage?dealImage:overlayImages[2]),tzoo.imageLoader.loadImages()),null!=placement&&""!=placement&&null!=placement&&-1!=placement.indexOf("Top20MarketingPage")?($("#"+elementsDisplayed["confirmation-step"]).show(),$("#register-div-close").hide()):(askForExplicitConsent?$("#register-div-close").hide():$("#register-div-close").show(),$("#"+elementsDisplayed["confirmation-step"]).show()),askForExplicitConsent&&($("#"+elementsDisplayed.changeEmail).show(),$(".email-addr").text(s)),$("#"+elementsDisplayed["postcode-step"]+", .asSeenOn").hide()):showWelcomeStepFromSignup()}),!1)},setMemberInfo=function(){$("#"+elementsDisplayed.signup).hide(),isFavoriteOverlay||isDestAlertsOverlay?($("#loginFavorite").show(),$("#"+elementsDisplayed.login).hide()):($("#"+elementsDisplayed.login).show(),$("div.joinLinks").show()),""==tzoo.MemberId&&0!=modal||$(".becomesubscriber").hide(),""!=tzoo.MemberId?$.getJSON(tzoo.ServiceBaseUrl+"v1/member/getmembersimple/",{MemberIdEncrypted:tzoo.MemberId,CacheVersion:tzoo.clientCache.versioning.getVersion("membersimple")}).done(function(e){null==e.mbr?($(".js-nocookie").show(),$(".js-signedin").hide()):($(".js-signedin").show(),$(".js-nocookie").hide(),$(".js-memberEmail").html(e.mbr.eml),$(".js-memberEmail").val(e.mbr.eml),$("#"+elementsDisplayed.emailPasswordReset).val(e.mbr.eml),e.mbr.acp?($(".js-createPassword").show(),$(".js-enterPassword").hide()):($(".js-enterPassword").show(),$(".js-createPassword").hide(),$("#passwordLogin_memberWithPW_fav").val(""),$("#passwordLogin_memberWithPW").val(""))),focusOnVisibleInput()}):($(".js-nocookie").show(),$(".js-signedin").hide())},updateElementsDisplayed=function(e){for(key in elementsDisplayed)elementsDisplayed[key]=e+"-"+key},showWelcomeStepFromSignup=function(e){var i=location.href;if(i=tzoo.addQueryStringParameter("conf=1",i),i=tzoo.addQueryStringParameter("cm=signedup",i),!0===e){var o=$("input#fbSignUpResponseUrl").data("fromFB")||!1,n=$("input#fbSignUpResponseUrl").data("fromG")||!1,t=$("input#fbSignUpResponseUrl").data("fromA")||!1;o?i=tzoo.addQueryStringParameter("fromFB=1",i):n?i=tzoo.addQueryStringParameter("fromG=1",i):t&&(i=tzoo.addQueryStringParameter("fromA=1",i)),i=tzoo.addQueryStringParameter("subs=true",i)}i=removeURLParameter(i,"stv"),location.href=i},setupSubscribeStep=function(e,i,o,n,t){if(tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.B||0===n&&0===t)return null;var a=e;return $("#btnNoSubscribe").off("click").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1.5: Email Subscription"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":""),"Step 1.5: NO Email Subscription",getAnalyticsEventPrefix()),showWelcomeStepFromSignup(!0)}),$("#btnSubscribe").off("click").on("click",function(){tzoo.gtm.analyticsEventPrefixed("Signup Overlay","Step 1.5: Email Subscription"+(isFbConnect?" - Facebook":"")+(isGoogleSignIn?" - Google":"")+(isAppleSignIn?" - Apple":""),"Step 1.5: YES Email Subscription",getAnalyticsEventPrefix()),$.ajax({type:"POST",async:!1,url:tzoo.UrlPrefix+"Marketing/SubscribeAll",data:{m:tzoo.MemberId,s:i,p:o,d:0===n?t:n},headers:{RequestVerificationToken:$("#AFTForm input").val()}}).done(function(e){0===e?($(a).show(),$("#subscribe-step").hide()):showWelcomeStepFromSignup()}).fail(function(){showWelcomeStepFromSignup()})}),"#subscribe-step"},getAnalyticsEventPrefix=function(){var e=Object.keys(tzoo.SignupOverlay.variants)[tzoo.SignupOverlay.signupDealVariant];return"None"===e?e="":e+=": ",e},googleSignIn=function(e){var i={},o=!0;tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.B||0===adid&&0===hotelId||(o=!1),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||(o=!0,consentGiven=!0),i.tzlocale=tzoo.TzLocale,i.source=source,i.placement=placement,i.adid=adid,i.hotelId=hotelId,i.singleConfirm=tzoo.SignupOverlay.singleConfirm,i.subscribe=o,i.experiments=tzoo.SignupOverlay.signupDealVariant,i.mode=mode,i.consentGiven=consentGiven,i.modal=modal,i.isHotelOverlay=isHotelOverlay,tzoo.util.setCookie("gsi",i,tzoo.util.cookieClassification.SN),$.ajax({async:!1,headers:{RequestVerificationToken:$("#AFTForm input").val()},url:window.tzoo.UrlPrefix+"Authentication/GoogleAuthorizationLinkAsync/",type:"GET"}).done(function(i){""===i?$(e.target).hide():popupWindow(i,"GoogleSignIn",window,480,680,",menubar=no,status=no,location=no,toolbar=no,scrollbars=yes")})},appleSignIn=function(e){var i={},o=!0;tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.B||0===adid&&0===hotelId||(o=!1),tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.C||0===adid&&0===hotelId||(o=!0,consentGiven=!0),i.tzlocale=tzoo.TzLocale,i.source=source,i.placement=placement,i.adid=adid,i.hotelId=hotelId,i.singleConfirm=tzoo.SignupOverlay.singleConfirm,i.subscribe=o,i.experiments=tzoo.SignupOverlay.signupDealVariant,i.mode=mode,i.consentGiven=consentGiven,i.modal=modal,i.isHotelOverlay=isHotelOverlay,tzoo.util.setCookie("asi",i,tzoo.util.cookieClassification.SN),$.ajax({async:!1,headers:{RequestVerificationToken:$("#AFTForm input").val()},url:window.tzoo.UrlPrefix+"Authentication/AppleAuthorizationLinkAsync/",type:"GET"}).done(function(i){""===i?$(e.target).hide():popupWindow(i,"AppleSignIn",window,700,650,",menubar=no,status=no,location=no,toolbar=no,scrollbars=yes")})},popupWindow=function(e,i,o,n,t,a){var r=o.top.outerHeight/2+o.top.screenY-t/2,s=o.top.outerWidth/2+o.top.screenX-n/2;return o.open(e,i,"width="+n+",height="+t+",top="+r+",left="+s+a)},checkExperiments=function(){tzoo.SignupOverlay.signupDealVariant!==tzoo.SignupOverlay.variants.None&&0===adid&&0===hotelId&&(tzoo.SignupOverlay.signupDealVariant=tzoo.SignupOverlay.variants.A,tzoo.SignupOverlay.singleConfirm=!1,$("#subscribe-checkbox, #subscribe-step").remove())}}return SignupOverlay}(jQuery,window.tzoo=window.tzoo||{},window.Cookies=window.Cookies||{}),$(document).ready(function(){function e(e,i){$(e).off("keydown").on("keydown",function(e){13==e.keyCode&&(e.preventDefault(),$(i).click())})}$("#register-div").on("dialogclose",function(e,i){$("#register-div").removeClass("transition"),$("#register-div").removeClass("transition-goToEmail"),$("#register-div").removeClass("hotel-login-portal")}),e("#emailSignup","#btnSignup"),e("#hotel-emailSignup","#hotel-btnSignup"),e("#emailSignin","#btnSignin"),e("#hotel-emailSignin","#hotel-btnSignin"),e("#emailLogin","#btnLogin"),e("#emailLogin_fav","#btnLogin_fav"),e("#hotel-emailLogin","#hotel-btnLogin"),e("#passwordLogin","#btnLogin"),e("#passwordLogin_fav","#btnLogin_fav"),e("#hotel-passwordLogin","#hotel-btnLogin"),e("#emailPasswordReset","#btnPasswordReset"),e("#hotel-emailPasswordReset","#hotel-btnLoginbtnPasswordReset"),e("#zipCode","#btnSubmitZip"),e("#hotel-zipCode","#hotel-btnSubmitZip"),e("#password_memberWithNoPW","#btnSignup_memberWithNoPW"),e("#password2_memberWithNoPW","#btnSignup_memberWithNoPW"),e("#password_memberWithNoPW_fav","#btnSignup_memberWithNoPW_fav"),e("#password2_memberWithNoPW_fav","#btnSignup_memberWithNoPW_fav"),e("#passwordLogin_memberWithPW","#btnLogin_memberWithPW"),e("#password_memberWithPW_fav","#btnSignup_memberWithPW_fav"),e("#passwordLogin_memberWithPW_fav","#btnLogin_memberWithPW_fav"),e("#purchase-emailSignin","#purchase-btnSignin"),$("#lnkcontinueWhereILeftOff").on("click",function(){location.reload()})});
/* -- overlay-manager.js -- */
var tzoo=tzoo||{};tzoo.Overlays={},function(){var e={},o=[],t=[];function n(){o.sort(function(e,o){return o.priority-e.priority})}function i(){for(n();o.length>0;){var e=o.shift();if(e.defer)return void e.show()}}this.register=function(n){e[n.id]||n.show&&n.hide&&("priority"in n||(n.priority=0),"autoShow"in n||(n.autoShow=!0),e[n.id]=n,n.autoShow&&(o.push(n),t.push(n.id)))},this.initializeAndRegister=function(e,o,t){t.autoOpen=!1;$(e).dialog({autoOpen:!1,open:function(){tzoo.Overlays.onOpen(o.id)},close:function(){tzoo.Overlays.onHide(o.id)},show:{effect:"fade"},hide:{effect:"fade"},height:"auto",draggable:!1,resizable:!1}),$(e).dialog("option",t),o.show=function(){$(e).dialog("open")},o.hide=function(){$(e).dialog("close")},o.selector=e,$(e).on("dialogopen",function(e,t){"function"==typeof o.dialogopen&&(o.dialogopen(e,t),o.dialogopen=o.triggerOnceOnly?null:o.dialogopen)}),this.register(o)},this.initializeFromUrlAndRegister=function(e,o,t,n){var i=document.createElement("div");i.id=o.id,i.style="display: none;",$.ajax({url:e,success:function(e){var r=$.trim(e);r.length>0&&($(i).html(r),tzoo.Overlays.initializeAndRegister(i,o,t),"function"==typeof n&&n())},error:function(){}})},this.isShown=function(e){return t.indexOf(e)>=0},this.show=function(o,n){n&&t.length>0||e[o]&&(e[o].show(),t.push(o))},this.get=function(o){return e[o]},this.hide=function(o){e[o],e[o].hide(),i();var n=t.indexOf(o);n>-1&&t.splice(n,1)},this.onOpen=function(o){var t=e[o];if(t&&tzoo.focusMove&&t&&t.selector){var n=$(t.selector).parent();n&&"dialog"===n.attr("role")&&(n.hasClass("ada-auto-ignore")||(n.addClass("ada-auto-ignore"),refreshFMPage(!0))),t.fmOverlay||(t.fmOverlay=new tzoo.focusMove(t.selector,{mode:"independence",delayFocusMove:"object"!=typeof t.signupOverlay,enterAsClick:!0,focusCss:"ada-state-focus",skipFocusCss:"ada-state-ignore",skipFocusAttr:"disabled"}),t.fmOverlay.on("focus.CustomDetectAutoScanFocus",function(e,o,t){if(!e||!e.tagName)return null;var n={ele:null,autoFocus:!1,skipFocus:!1,isProxy:!1};if(e.id&&"INPUT"===e.tagName.toUpperCase()&&(e.type&&"CHECKBOX"===e.type.toUpperCase()||"RADIO"===e.type.toUpperCase())){var i=$(e).parent().find('[for="'+e.id+'"]'),r=$.makeArray(i);if(r.length>0)return n.ele=r,n.autoFocus=!0,n.isProxy=!0,n}return null}),t.fmOverlay.add(function(){return $(t.selector).find('input[type!="hidden"], textarea, select, a, button, [role="button"], [role="tab"]')}),t.fmOverlay.init()),t.fmOverlay.refresh(),setTimeout(function(){t.fmOverlay.moveToFirstInput()||t.fmOverlay.moveToHead()},200);var i=null,r=null;if(window.event&&window.event.target?i=r=window.event.target:tzoo.fmPage&&document.activeElement===tzoo.fmPage.getCurrent()&&(i=tzoo.fmPage.getCurrent()),i&&(t.fmOverlay.custom.from=i,t.fmOverlay.custom.fromOffset=$(window).scrollTop(),tzoo.fmPage)){var a=tzoo.fmPage.getCurrent();a&&r&&tzoo.fmPage.isProxyElement(r,a)&&(t.fmOverlay.custom.from=a)}}},this.onHide=function(o){var t=e[o];i(),tzoo.focusMove&&t&&t.fmOverlay&&setTimeout(function(){if(!t.fmOverlay.getDelayStatus()){t.fmOverlay.custom.fromOffset&&$("html, body").animate({scrollTop:t.fmOverlay.custom.fromOffset},500);var e=t.fmOverlay.custom.from;if(e){var o=!1;tzoo.fmPage&&(o=tzoo.fmPage.moveTo(e)),o||$(e).trigger("focus")}else tzoo.fmPage&&tzoo.fmPage.moveToHead(!0)}t.fmOverlay.custom.from=null},200)},this.isRegistered=function(o){return e[o]},$(document).ready(function(){o.length>0&&(n(),o.shift().show())})}.apply(tzoo.Overlays);
/* -- utility.js -- */
!function(i,n){i.util={isValidEmail:function(i){var n=/^(([a-zA-Z0-9!#$%&'*+\-/=?^_`{|}~]+)((\.)([a-zA-Z0-9!#$%&'*+\-/=?^_`{|}~]+))*)@(([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)((\.)([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?))+)$/.test(i),t=/^[\x00-\x7F]*$/.test(i),e=i.indexOf(".."),o=i.indexOf(".@@"),a=i.indexOf("email@email.com"),r=i.indexOf("email@email.de");return n&&t&&-1===e&&-1===o&&-1===a&&-1===r},isValidZip:function(n,t){if(!n||!t)return!1;var e=i.zipValidation[t];e||(e=i.zipValidation.generic);var o=!0;return new RegExp("^[*]+$","i").test(n)||(o=new RegExp(e,"i").test(n)),o},isValidPassword:function(i){return/^(?=.*\d)(?=.*\D).{8,}$/.test(i)},isValidPhoneNumber:function(i){return/(?=^[0-9a-zA-Z-\(\)\\\+\,\*\.\#\/ ]*$)/.test(i)&&/^([^0-9]*[0-9][^0-9]*){6,20}$/.test(i)},isDigit:function(i){var n;return window.event?n=i.keyCode:i.which&&(n=i.which),8===n||9===n||46===n||37===n||39===n||n>=48&&n<=57||n>=96&&n<=105||229===n},isDigitOrCtrlA:function(i){var n;return window.event?n=i.keyCode:i.which&&(n=i.which),8===n||9===n||46===n||37===n||39===n||n>=48&&n<=57||n>=96&&n<=105||65===n&&i.ctrlKey||229===n},htmlEncode:function(i){return n("<div/>").text(i).html()},getCookie:function(i,n){n=n||!1;var t=document.cookie.match(new RegExp(i+"=([^;]+)"));return t?n?decodeURIComponent(t[1]):t[1]:null},setCookie:function(n,t,e,o,a,r){if(a=a||"travelzoo.com",r=r||"/",((e=void 0!==e?e:i.util.cookieClassification.F)!=i.util.cookieClassification.A||i.ccaa)&&(e!=i.util.cookieClassification.F||i.ccaf)&&(e!=i.util.cookieClassification.M||i.ccam)){e!=i.util.cookieClassification.SN||i.ccaf||(o=0);var c={domain:a,path:r};void 0!==o&&(o||0)>0&&(c.expires=o),Cookies.set(n,t,c)}},cookieClassification:{SN:0,F:1,A:2,M:3,IA:9},pad:function(i,n,t){n=n||2,t=t||"0";for(var e=i+"";e.length<n;)e=t+e;return e},removeClass:function(i,n){i.removeClass(function(i,t){return t.split(/\s+/).filter(function(i){return n.test(i)}).join(" ")})},AvCalendarLogger:null,sanitize:function(i){const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return i.replace(/[&<>"'/]/gi,function(i){return n[i]})}},i.getAndroidVersion=function(i){var n=(i=(i||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/);return n?n[1]:""},i.getiOSversion=function(){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=i?i[1]+"."+i[2]+"."+i[3]:""},i.runWhenReady=function(n,t,e,o,a){e=e||500,o=o||1,a=a||10,n()?t():o>a||window.setTimeout(function(){i.runWhenReady(n,t,e,o+1,a)},e)}}(window.tzoo=window.tzoo||{},jQuery);
/* -- location-detection.js -- */
tzoo.LocationDetection=function(o,e){var t,i,n,a,c,l=function(t){o.Overlays.show("setLocation",t),e("#where-locationPrompt").focus()};return e(window).on("resize",o.debounce(function(){var o=e(document).find(".ui-dialog-content:visible").data("ui-dialog");null!=o&&null!=o.options&&o.options.fluid&&(o.option("position",o.options.position),e(".ui-autocomplete").is(":visible")&&e(".ui-autocomplete").css("display","none"))},250)),{initializeOverlay:function(c){t=c.akamaiLatitude,i=c.akamaiLongitude,n=c.setLocationErrorMessage,o.Overlays.initializeAndRegister("#setLocation",{id:"setLocation",priority:1,autoShow:!1,defer:!0},{modal:!0,dialogClass:"changeLocation",minHeight:"0",fluid:!0}),e("#btnCancelLocationChange").on("click",function(){window.location.reload()}),e("#btnChangeLocation").on("click",function(){""==e("#where-locationPrompt").val()?(e("#where-locationPrompt").alertBubbleError(n),e("#where-locationPrompt").parent(".where-field-container").addClass("inputWithErrorBubble"),e("#where-locationPrompt").focus()):o.setUserLocation(e("#where-locationPrompt-coords").val()).always(function(){e("#where-locationPrompt").parent(".where-field-container").removeClass("inputWithErrorBubble").css("position","static"),o.Overlays.hide("setLocation"),void 0===a?window.location.reload():a()})}),o.Controls.LocationDropdown.initializeWhereField({whereDisplayFieldSelector:"#where-locationPrompt",whereValueFieldSelector:"#where-locationPrompt-value",whereCoordsFieldSelector:"#where-locationPrompt-coords",includeFuzzyLocations:!1,queryType:"city",appendTo:"body"}),o.Overlays.initializeAndRegister("#locationDetection-overlay",{id:"locationDetection",priority:1,autoShow:!1,defer:!0},{modal:!0,dialogClass:"locationDetection",height:"auto",minHeight:"0"}),e("#btnUseAssumedLocation").on("click",function(){o.setUserLocation(e("#detected-coords").val()),o.Overlays.hide("locationDetection"),void 0!==a&&a()}),e("#closeLocationOverlay").on("click",function(){o.Overlays.hide("locationDetection"),e(document).trigger("resetWhereAndButton",!1)}),e("#btnChangeMyLocation").on("click",function(){o.Overlays.hide("locationDetection"),l()})},showOverlay:function(n,c){a=n,locationCookie=o.getUserLocation(),e.post(o.ServiceBaseUrl+"v1/member/getlocationinfo/",{TzLocale:o.TzLocale,MemberIdEncrypted:o.MemberId,Latitude:t,Longitude:i,BrowserLatitude:locationCookie.lat,BrowserLongitude:locationCookie.lng}).done(function(t){null!=t.loc&&null!=t.loc.loc&&null!=t.loc.lat&&null!=t.loc.lon?function(t,i,n,a){e("#memberLocDetection-header, #nonMemberLocDetection-header").hide();var c=n?"#memberLocDetection-header":"#nonMemberLocDetection-header",l=e(c).html().replace("{0}",t);e(c).html(l).show(),e("#detected-coords").val(i),o.Overlays.show("locationDetection",a)}(t.loc.loc.dn,t.loc.lat+"|"+t.loc.lon,t.memu,c):l(c)}).fail(function(){l(c)})},showSetLocationDialog:l,getNearestCity:function(){return c},setNearestCity:function(o){c=o}}}(window.tzoo=window.tzoo||{},jQuery);
/* -- controls.js -- */
!function(e,t){var a={isCollapisbleClick:!1,autoSelectedItem:null,loadFromCache:!1,isFirstLocItemProcessed:!1,cachedData:null,initializeWhereField:function(a){var o,l,n=t(a.whatValueFieldSelector),i=t(a.whereDisplayFieldSelector),c=t(a.whereValueFieldSelector),s=!(null!=a.includeFuzzyLocations&&!a.includeFuzzyLocations),r=t(a.whereCoordsFieldSelector),d=(t(a.triggerName),a.queryType),u=null!=a.getCategoryTagFilterId?a.getCategoryTagFilterId:function(){return null},p=null!=a.showShortResetLabel?a.showShortResetLabel:function(){return!1},h=t(a.formOverlay),m="locationSelected-"+c[0].id,f=a.whereFieldPlaceholder,v=a.whereFieldAltPlaceholder,y=a.isSearchHistoryItemsRequired,S=null!=a.preventScrollTop&&a.preventScrollTop,C=null!=a.useCodeAsValue&&a.useCodeAsValue,g=a.onItemSelected;function w(a,o){return null==o&&(o=!!e.layout.isXs()||e.isTrue(i.data("suppress-default-locations"))),t.getJSON(e.ServiceBaseUrl+"v1/location/getlocationsautocomplete/",{query:c.data("name")!=i.val()?a:"",querytype:d,tzlocale:e.TzLocale,locale:e.Lcid,SuppressDefaultLocations:o,IncludeFuzzyLocations:s,CategoryTagFilterId:u()})}i.autocomplete({source:function(a,o){if(e.Controls.LocationDropdown.isFirstLocItemProcessed=!1,e.Controls.LocationDropdown.loadFromCache&&null!=e.Controls.LocationDropdown.cachedData){null==e.Controls.LocationDropdown.cachedData.loc&&(e.Controls.LocationDropdown.cachedData.loc=[]);var l=t.map(e.Controls.LocationDropdown.cachedData.loc,function(e){return{label:e.dn,id:e.id,value:e.dn,cc:e.cc,lat:e.lt,lng:e.lng,em:e.em,def:e.def,hqty:e.hqty,ft:e.ft,c:e.c,sti:e.sti}}).slice(0,20);e.layout.isXs()||void 0===y||!0!==y||(l=e.SiteSearchHistory.renderSearchHistoryToAutoComplete(l,"when",!1)),e.Controls.LocationDropdown.loadFromCache=!1,o(l)}else w(a.term).done(function(a){null==a.loc&&(a.loc=[]);var l=t.map(a.loc,function(e){return{label:e.dn,id:e.id,value:e.dn,cc:e.cc,lat:e.lt,lng:e.lng,em:e.em,def:e.def,hqty:e.hqty,ft:e.ft,c:e.c,sti:e.sti}}).slice(0,20);e.layout.isXs()||void 0===y||!0!==y||(l=e.SiteSearchHistory.renderSearchHistoryToAutoComplete(l,"when",!1)),e.Controls.LocationDropdown.cachedData=a,o(l)})},appendTo:a.appendTo,focus:function(t,o){return o.item&&(o.item.id>=0&&null==o.item.url?(C?c.val(o.item.c):c.val(o.item.id),c.data("name",o.item.label),c.data("isdefault",o.item.def),c.data("hqty",o.item.hqty),c.data("ft",o.item.ft),e.Controls.LocationDropdown.autoSelectedItem=o.item,null!=g&&g(o.item)):o.item.id==e.LOCATION_ID_NEAR_ME?(c.val(e.LOCATION_ID_NEAR_ME),c.data("name",e.resources["SearchWidget.NearMe"])):(c.val(e.LOCATION_ID_ANYWHERE),c.data("name",e.resources["SearchWidget.AnywhereLabel"])),null!=r&&null!=r&&r.val(o.item.lat+"|"+o.item.lng),null!=a.updateSubmitButtonState&&a.updateSubmitButtonState(t)),!1},select:function(o,l){var n=t(this).data("fm-focusMove"),i=null,s=null;try{if(n&&!l.directSet&&(i=n.getCurrent()),i){if("spanResetLocation"===i.id||t(i).hasClass("reset-location"))return void e.updateLocation(!1);s=t(i).data("fm-data-source")}else if(n&&!n.getDelayStatus())return!1;s&&l.item!==s&&(l.item=s,e.Controls.LocationDropdown.autoSelectedItem=s,t(this).data("fm-should-override",!0),t(this).val(s.value),C?c.val(s.c):c.val(s.id),null!=g&&g(s.item),c.data("name",s.label))}catch(e){}if(null!=l.item.url&&(e.SiteSearchHistory.trackGAEvent(l.item),window.location.href=l.item.url),-98==l.item.id)return e.Controls.LocationDropdown.isCollapisbleClick=!0,o.preventDefault(),e.SiteSearchHistory.collapsibleLinkClick(t(".search-collapsible-link"));l.item.id<-1&&e.Controls.LocationDropdown.autoSelectedItem&&(l.item=e.Controls.LocationDropdown.autoSelectedItem),t(this).val(l.item.value),null!=a.updateSubmitButtonState&&0==t("#resetLocation:hover").length&&0==t("#resetLocation:active").length&&(a.updateSubmitButtonState(o),t(document).trigger(m,l.item.id)),S||window.scrollTo(0,0),null!=h&&h.scrollTop(0),null!=a.triggerName&&t(document).trigger(a.triggerName)},delay:50,cacheLength:1,open:function(a){var o,l="#"+t(this).data("ui-autocomplete").menu.element.attr("id");if(t(l).width()<350&&!e.layout.isXs()&&0!=t(l).find("#spanResetLocation").length&&t(".where-display-list").css("width",350),e.focusMove)if(t(this).data("fm-focusMove"))(o=t(this).data("fm-focusMove")).refresh();else if((o=new e.focusMove(t(l),{mode:"independence",delayFocusMove:!0,enterAsClick:!0,focusCss:"ui-state-active",skipFocusAttr:"disabled",moveKey:"arrow"})).on("focus.CustomMove",function(e){}),o.add({ele:l+" li.ui-menu-item:not(.ui-state-disabled) > div, "+l+" .reset-location",alias:"item"}),o.init(),o.clearAllFocusStyle(),t(this).data("fm-focusMove",o),initVal=i.val(),initVal){var n=null;t(l+" li.ui-menu-item:not(.ui-state-disabled) > div").each(function(e,a){var o=t(a).data("fm-data-source");if(o&&o.label===initVal)return n=a,!1}),n&&o.moveTo(n)}},close:function(a,o){e.Controls.LocationDropdown.isCollapisbleClick&&(e.Controls.LocationDropdown.isCollapisbleClick=!1,e.Controls.LocationDropdown.loadFromCache=!0,a.preventDefault(),t(this).autocomplete("search",""))}}).on("focus click",function(){t(this).autocomplete("option","autoFocus",!1),t(this).parents(".ui-dialog").length>0&&t(this).parents(".ui-dialog").css("zIndex",1e3),e.layout.isXs()?w("",!1).done(function(a){null==a.loc&&(a.loc=[]);var o=t.map(a.loc,function(e){return{label:e.dn,id:e.id,value:e.dn,cc:e.cc,lat:e.lt,lng:e.lng,em:e.em,def:e.def,hqty:e.hqty,ft:e.ft}}).slice(0,20);n.data("searchtype")==e.SEARCH_TYPE_AIRFARE?(t("#where-buttons button").remove(),t(".where-button-container").hide(),t(".what-button-container").hide()):(t("#where-buttons button").remove(),t(".where-button-container").show(),t(".what-button-container").hide(),""!=o&&t.each(o,function(e,a){t("#where-buttons").append('<button type="button" data-id='+a.id+" data-value="+encodeURIComponent(a.value)+" data-label="+encodeURIComponent(a.label)+" data-cc="+encodeURIComponent(a.cc)+" data-lat="+encodeURIComponent(a.lat)+" data-lng="+encodeURIComponent(a.lng)+" data-em="+encodeURIComponent(a.em)+" data-def="+encodeURIComponent(a.def)+" data-hqt="+encodeURIComponent(a.hqt)+" data-ft="+encodeURIComponent(a.ft)+' class="btn-group-item js-where-button">'+a.label+"</button>")}),t(".js-where-button").off("click.where"),t(".js-where-button").on("click.where",function(){c.val(t(this).data("id")),c.data("name",decodeURIComponent(t(this).data("label"))),c.data("isdefault",t(this).data("def")),c.data("hqty",t(this).data("hqt")),c.data("ft",t(this).data("ft"));var e=i.autocomplete("instance");e._trigger("select","autocompleteselect",{directSet:!0,item:{label:decodeURIComponent(t(this).data("label")),value:decodeURIComponent(t(this).data("value")),id:t(this).data("id"),cc:t(this).data("cc"),lat:t(this).data("lat"),lng:t(this).data("lng"),em:t(this).data("em"),def:t(this).data("def"),hqty:t(this).data("hqty"),ft:t(this).data("ft")}})}))}):(t(this).autocomplete("search"),t(this).select()),n.data("searchtype")!=e.SEARCH_TYPE_AIRFARE&&t(i).attr("placeholder",v)}).on("keydown",function(e){var a=(e.key||"").toUpperCase(),o="ARROWUP"===a||"UP"===a,l="ARROWDOWN"===a||"DOWN"===a,n="ENTER"===a,i="TAB"===a,s=t(this).data("fm-focusMove");if(s)try{var r=t(this).data("fm-should-override");if(t(this).data("fm-should-override",!1),o||l)return s.trySetDelayStatus(!1),s.clearAllFocusStyle(),o?s.movePre():l&&s.moveNext(),!1;var d=s.getCurrent(),u=null;if(r&&d&&(u=t(d).data("fm-data-source"),t(this).val(u.value),C?c.val(u.c):c.val(u.id),null!=g&&g(u),c.data("name",u.label)),(n||i)&&t(d).hasClass("reset-location"))return}catch(e){}}).on("keyup",function(e){t(this).autocomplete("option","autoFocus",!0),t(this).parents(".ui-dialog").length>0&&t(this).parents(".ui-dialog").css("zIndex",1e3),""==i.val()&&(c.val(""),c.data("name",""))}).on("focus",function(){t(this).one("mouseup",function(){return e.layout.isXs()||"0"===c.val()&&""===c.val()||t(this).select(),!1})}).on("blur",function(){c.val()!==String(0)&&c.val()!==String(-98)?i.val(c.data("name")):i.val(""),t(i).attr("placeholder",f)}),e.layout.isXs()||i.autocomplete("option","minLength",0),i.autocomplete("instance")._renderItem=function(a,o){var l,n,i,c,s=o,r=e.LocationDetection.getNearestCity();if(a.addClass("where-display-list"),o.id<-1)return-98==o.id?((c=t('<div class="collapsiblelabel">').append(e.SiteSearchHistory.renderCollapsibleLinkHTML())).data("fm-data-source",o),t("<li>").attr("class","ui-menu-item  placeholder").append(c).appendTo(a)):((c=t("<div>").append(o.label)).data("fm-data-source",o),t("<li>").attr("class","ui-menu-item ui-state-disabled placeholder").append(c).appendTo(a));if(null!=o.url)return(c=t("<div>").attr("class","history-item").append(o.label)).data("fm-data-source",o),null!=o.ishide&&1==o.ishide&&"collapsed"==e.SiteSearchHistory.collapsibleStatusGet()?t('<li style="display:none;">').append(c).appendTo(a):t("<li>").append(c).appendTo(a);var d="";if(1==e.SiteSearchHistory.isSearchHistorySectionVisible()&&0==e.Controls.LocationDropdown.isFirstLocItemProcessed&&(d="ui-state-active",e.Controls.LocationDropdown.isFirstLocItemProcessed=!0),null!=r){if(-1==o.id){var u='<div class="clear-both"></div>',h=r.name,m=t('<div class="text-bold">').append(h),f=t("<div>").append(e.resources[":SearchNearMe"]);l=t('<div class="left">').append(f).append(m);var v=t('<div id="resetLocation">').append(t('<div class="margin-top-5">').append(e.resources[":Update"])).attr("class","reset-location"),y=o;o=o.value;o=0==y.em?"<i>"+o+"</i>":o,c=t("<div>").attr("class",d).append(l).append(v)}else{y=o;o=(o.cc&&""!=o.cc?'<img src="'+e.AssetUrl+"static/images/flagtiny/"+o.cc+'.png"> ':"")+o.value,o=0==y.em?"<i>"+o+"</i>":o,c=t("<div>").attr("class",d).append(o)}return d&&(e.Controls.LocationDropdown.autoSelectedItem=s),c.data("fm-data-source",y),0==a.find(".where-from-divider").length?t('<li class="where-from-divider">').append(c.append(u)).appendTo(a):t("<li>").append(c).appendTo(a)}p()?resetSpan=t('<span id="spanResetLocation">').append(e.resources[":SetMyLocationShort"]).attr("class","reset-location"):(n=t("<span>").append(e.resources[":SetMyLocationShort"]).attr("class","reset-location").attr("id","resetshorthand"),i=t("<span>").append(e.resources[":SetMyLocation"]).attr("class","reset-location").attr("id","resetText"),resetSpan=t('<span id="spanResetLocation">').append(n).append(i));var S=-1==o.id?resetSpan:"";y=o,o=-1==o.id?o.value:(o.cc&&""!=o.cc?'<img src="'+e.AssetUrl+"static/images/flagtiny/"+o.cc+'.png"> ':"")+o.value;return o=0==y.em?"<i>"+o+"</i>":o,(c=t("<div>").attr("class",d).append(o).append(S)).data("fm-data-source",y),d&&(e.Controls.LocationDropdown.autoSelectedItem=s),t("<li>").append(c).appendTo(a)},o=c.val(),l=function(e){c.val()!==String(0)&&i.val(e.dn),c.data("name",e.dn),c.data("hqty",e.hqty),c.data("ft",e.ft),t(document).trigger(m,e.id)},o&&""!=o&&t.getJSON(e.ServiceBaseUrl+"v1/location/getlocation/",{LocationId:o,locale:e.Lcid,tzlocale:e.TzLocale},function(e){e&&e.loc&&l(e.loc)})}};e.Controls=e.Controls||{},e.Controls.LocationDropdown=a}(window.tzoo=window.tzoo||{},jQuery);
/* -- tooltip.js -- */
!function(e){e.fn.alertBubbleError=function(t,r){if(""==t&&(t="Please correct this error"),r&&r.width&&""!=r.width)var i=!0,n=r.width;if(r&&r.fontSize&&""!=r.fontSize)var o=!0,a=r.fontSize;if(r&&r.padding&&""!=r.padding)var b=!0,s=r.padding;if(r&&r.textAlign&&""!=r.textAlign)var l=!0,u=r.textAlign;if(r&&r.color&&""!=r.color)var p=!0,c=r.color;var f="alert-bubble-error";if(r&&r.position&&"below"==r.position&&(f="alert-bubble-error-below"),r&&r.nowrap)var d=!0;var v=e(this),h=e('<span class="'+f+'" style="'+(i?"width: "+n+";":"")+(d?"white-space: nowrap;":"")+(o?"font-size: "+a+";":"")+(b?"padding: "+s+";":"")+(l?"text-align: "+u+";":"")+(p?"color: "+c+";":"")+'">'+t+"</span>"),g=v;if(v.is("input")&&!v.is(".input-text-clear"))if(v.is("[type=radio]")||v.is("[type=checkbox]"))g=v.parents("div,span,table").first();else{var x=v.parents(".input-text-clear, .input-datepicker");g=x&&x.length>0?x.first():v.parents("div,span,table").first()}else v.is("textarea, select")&&(g=v.parents("div,span,table").first());"static"==g.css("position")&&g.css("position","relative"),g.hasClass("input-text-clear")&&g.removeClass("input-text-error-bubble").addClass("input-text-error-bubble"),g.find(".alert-bubble-error").length>0&&e(g).find(".alert-bubble-error").remove(),r&&r.hiddenByDefault||g.append(h),r&&r.focus&&v.focus();var m=!0;return r&&r.manualRemove&&(m=!1,v.on("removeAlertBubbleError",function(){h.remove(),g.removeClass("input-text-error-bubble"),v.off(".alertBubbleError")})),(v.is(".input-datepicker")||v.parents().is(".input-datepicker"))&&(v.is("input")?v.one("focus",function(){h.remove()}):v.children("input").one("focus",function(){h.remove()})),v.one("change keyup keydown",function(e){13!=e.keyCode&&(h.remove(),g.removeClass("input-text-error-bubble"),m&&v.off(".alertBubbleError"))}),v.on("blur.alertBubbleError",function(){h.remove(),g.removeClass("input-text-error-bubble")}),v.on("focus.alertBubbleError",function(){g.find(".alert-bubble-error").length>0&&e(g).find(".alert-bubble-error").remove(),g.append(h)}),v.on("changeAlertBubbleError",function(e,t){h.text(t)}),this},e.fn.tzsgTooltip=function(t,r){if(""==t)return this;if(r&&r.width&&""!=r.width)r.width;if(r&&r.position&&""!=r.position)r.position;var i=e(this);e('<span class="alert-bubble-error"'+(bubbleWidthSet?' style="width: '+bubbleWidth+';"':"")+">"+t+"</span>");return tooltiptarget=i,i.is("input")&&!i.is(".input-text-clear")?i.is("[type=radio]")||i.is("[type=checkbox]")?bubbletarget=i.parents("div,span,table").first():bubbletarget=i.parents(".input-text-clear").first():i.is("textarea")&&(bubbletarget=i.parents("div,span,table").first()),"static"==bubbletarget.css("position")&&bubbletarget.css("position","relative"),bubbletarget.hasClass("input-text-clear")&&bubbletarget.removeClass("input-text-error-bubble").addClass("input-text-error-bubble"),bubbletarget.append(bubbleWrap),r&&r.focus&&i.focus(),(i.is(".input-datepicker")||i.parents().is(".input-datepicker"))&&(i.is("input")?i.one("focus",function(){bubbleWrap.remove()}):i.children("input").one("focus",function(){bubbleWrap.remove()})),i.one("change keyup",function(){bubbleWrap.remove(),bubbletarget.removeClass("input-text-error-bubble")}),this}}(jQuery);
/* -- js.storage.js -- */
!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var r=window.Storages,o=window.Storages=e();o.noConflict=function(){return window.Storages=r,o}}}(function(){var e={},t=e.toString,r=e.hasOwnProperty,o=r.toString,n=o.call(Object),i=Object.getPrototypeOf,s={};function a(){var e,t,r,o,n,i=this._type,s=arguments.length,a=window[i],l=arguments,f=l[0];if(s<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(f)){for(o in t={},f)if(f.hasOwnProperty(o)){e=f[o];try{t[e]=JSON.parse(a.getItem(e))}catch(r){t[e]=a.getItem(e)}}return t}if(1!=s){try{t=JSON.parse(a.getItem(f))}catch(e){throw new ReferenceError(f+" is not defined in this storage")}for(o=1;o<s-1;o++)if(void 0===(t=t[l[o]]))throw new ReferenceError([].slice.call(l,1,o+1).join(".")+" is not defined in this storage");if(Array.isArray(l[o])){for(n in r=t,t={},l[o])l[o].hasOwnProperty(n)&&(t[l[o][n]]=r[l[o][n]]);return t}return t[l[o]]}try{return JSON.parse(a.getItem(f))}catch(e){return a.getItem(f)}}function l(){var e,t,r,o,n=this._type,i=arguments.length,s=window[n],a=arguments,l=a[0],f=a[1],u=isNaN(f)?{}:[];if(i<1||!p(l)&&i<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(p(l)){for(o in l)l.hasOwnProperty(o)&&(p(e=l[o])||this.alwaysUseJson?s.setItem(o,JSON.stringify(e)):s.setItem(o,e));return l}if(2==i)return"object"==typeof f||this.alwaysUseJson?s.setItem(l,JSON.stringify(f)):s.setItem(l,f),f;try{null!=(r=s.getItem(l))&&(u=JSON.parse(r))}catch(e){}for(r=u,o=1;o<i-2;o++)e=a[o],t=isNaN(a[o+1])?"object":"array",(!r[e]||"object"==t&&!p(r[e])||"array"==t&&!Array.isArray(r[e]))&&(r[e]="array"==t?[]:{}),r=r[e];return r[a[o]]=a[o+1],s.setItem(l,JSON.stringify(u)),u}function f(){var e,t,r,o,n=this._type,i=arguments.length,s=window[n],a=arguments,l=a[0];if(i<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(l)){for(r in l)l.hasOwnProperty(r)&&s.removeItem(l[r]);return!0}if(1==i)return s.removeItem(l),!0;try{e=t=JSON.parse(s.getItem(l))}catch(e){throw new ReferenceError(l+" is not defined in this storage")}for(r=1;r<i-1;r++)if(void 0===(t=t[a[r]]))throw new ReferenceError([].slice.call(a,1,r).join(".")+" is not defined in this storage");if(Array.isArray(a[r]))for(o in a[r])a[r].hasOwnProperty(o)&&delete t[a[r][o]];else delete t[a[r]];return s.setItem(l,JSON.stringify(e)),!0}function u(e){var t,r=g.call(this);for(t in r)r.hasOwnProperty(t)&&f.call(this,r[t]);if(e)for(t in s.namespaceStorages)s.namespaceStorages.hasOwnProperty(t)&&w(t)}function c(){var e,t=arguments.length,r=arguments,o=r[0];if(0==t)return 0==g.call(this).length;if(Array.isArray(o)){for(e=0;e<o.length;e++)if(!c.call(this,o[e]))return!1;return!0}try{var n=a.apply(this,arguments);for(e in Array.isArray(r[t-1])||(n={totest:n}),n)if(n.hasOwnProperty(e)&&!(p(n[e])&&m(n[e])||Array.isArray(n[e])&&!n[e].length||"boolean"!=typeof n[e]&&!n[e]))return!1;return!0}catch(e){return!0}}function h(){var e,t=arguments.length,r=arguments,o=r[0];if(t<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(o)){for(e=0;e<o.length;e++)if(!h.call(this,o[e]))return!1;return!0}try{var n=a.apply(this,arguments);for(e in Array.isArray(r[t-1])||(n={totest:n}),n)if(n.hasOwnProperty(e)&&(void 0===n[e]||null===n[e]))return!1;return!0}catch(e){return!1}}function g(){var e=this._type,t=arguments.length,r=window[e],o=[],n={};if((n=t>0?a.apply(this,arguments):r)&&n._cookie){var i=Cookies.get();for(var s in i)i.hasOwnProperty(s)&&""!=s&&o.push(s.replace(n._prefix,""))}else for(var l in n)n.hasOwnProperty(l)&&o.push(l);return o}function w(e){if(!e||"string"!=typeof e)throw new Error("First parameter must be a string");d?(window.localStorage.getItem(e)||window.localStorage.setItem(e,"{}"),window.sessionStorage.getItem(e)||window.sessionStorage.setItem(e,"{}")):(window.localCookieStorage.getItem(e)||window.localCookieStorage.setItem(e,"{}"),window.sessionCookieStorage.getItem(e)||window.sessionCookieStorage.setItem(e,"{}"));var t={localStorage:y({},s.localStorage,{_ns:e}),sessionStorage:y({},s.sessionStorage,{_ns:e})};return S&&(window.cookieStorage.getItem(e)||window.cookieStorage.setItem(e,"{}"),t.cookieStorage=y({},s.cookieStorage,{_ns:e})),s.namespaceStorages[e]=t,t}function p(e){var s,a;return!(!e||"[object Object]"!==t.call(e))&&(!(s=i(e))||"function"==typeof(a=r.call(s,"constructor")&&s.constructor)&&o.call(a)===n)}function m(e){var t;for(t in e)return!1;return!0}function y(){for(var e=1,t=arguments[0];e<arguments.length;e++){var r=arguments[e];for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}var d=function(e){try{return!!window[e]&&(window[e].setItem("jsapi","jsapi"),window[e].removeItem("jsapi"),!0)}catch(e){return!1}}("localStorage"),S="undefined"!=typeof Cookies,_={_type:"",_ns:"",_callMethod:function(e,t){var r=[],o=(t=Array.prototype.slice.call(t))[0];return this._ns&&r.push(this._ns),"string"==typeof o&&-1!==o.indexOf(".")&&(t.shift(),[].unshift.apply(t,o.split("."))),[].push.apply(r,t),e.apply(this,r)},alwaysUseJson:!1,get:function(){return d||S?this._callMethod(a,arguments):null},set:function(){var e=arguments.length,t=arguments,r=t[0];if(e<1||!p(r)&&e<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(!d&&!S)return null;if(p(r)&&this._ns){for(var o in r)r.hasOwnProperty(o)&&this._callMethod(l,[o,r[o]]);return r}var n=this._callMethod(l,t);return this._ns?n[r.split(".")[0]]:n},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return d||S?this._callMethod(f,arguments):null},removeAll:function(e){return d||S?this._ns?(this._callMethod(l,[{}]),!0):this._callMethod(u,[e]):null},isEmpty:function(){return d||S?this._callMethod(c,arguments):null},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return d||S?this._callMethod(h,arguments):null},keys:function(){return d||S?this._callMethod(g,arguments):null}};if(S){window.name||(window.name=Math.floor(1e8*Math.random()));var v={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(e,t){Cookies.set(this._prefix+e,t,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(e){return Cookies.get(this._prefix+e)},removeItem:function(e){return Cookies.remove(this._prefix+e,{path:this._path})},clear:function(){var e=Cookies.get();for(var t in e)e.hasOwnProperty(t)&&""!=t&&(!this._prefix&&-1===t.indexOf("ls_")&&-1===t.indexOf("ss_")||this._prefix&&0===t.indexOf(this._prefix))&&Cookies.remove(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};d||(window.localCookieStorage=y({},v,{_prefix:"ls_",_expires:3650}),window.sessionCookieStorage=y({},v,{_prefix:"ss_"+window.name+"_"})),window.cookieStorage=y({},v),s.cookieStorage=y({},_,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}return s.initNamespaceStorage=function(e){return w(e)},d?(s.localStorage=y({},_,{_type:"localStorage"}),s.sessionStorage=y({},_,{_type:"sessionStorage"})):(s.localStorage=y({},_,{_type:"localCookieStorage"}),s.sessionStorage=y({},_,{_type:"sessionCookieStorage"})),s.namespaceStorages={},s.removeAllStorages=function(e){s.localStorage.removeAll(e),s.sessionStorage.removeAll(e),s.cookieStorage&&s.cookieStorage.removeAll(e),e||(s.namespaceStorages={})},s.alwaysUseJsonInStorage=function(e){_.alwaysUseJson=e,s.localStorage.alwaysUseJson=e,s.sessionStorage.alwaysUseJson=e,s.cookieStorage&&(s.cookieStorage.alwaysUseJson=e)},s});
/* -- client-cache-versioning.js -- */
!function(e,n){e.clientCache=e.clientCache||{};var t=new t;function t(){var e=Storages.localStorage,n=36e5;return{get:function(t){if(e.isSet(t)){var r=e.get(t);return r.hasOwnProperty("TimeStamp")&&r.hasOwnProperty("Value")?new Date-new Date(r.TimeStamp)>n?(e.remove(t),null):e.get(t).Value:(e.remove(t),null)}return null},set:function(n,t){e.set(n,{Value:t,TimeStamp:new Date})}}}e.clientCache.versioning={getVersion:function(e){return t.get(e)},incrementVersion:function(e){var n=t.get(e),r=0;null!=n&&(r=parseInt(n),isNaN(r)&&(r=0)),r++,t.set(e,r)}}}(window.tzoo=window.tzoo||{},jQuery);
/* -- gtmhelper.js -- */
!function(t,e){var i=function(t){this.dl,this.ecommerceCurrency,this.listName,this.searchString,this.searchCityName,this.searchRegionName,this.searchCountryName,this.checkinDate,this.checkoutDate,this.init(t)};i.prototype={init:function(t){t&&t.dataLayer&&(this.dl=t.dataLayer),t&&t.ecommerceCurrency&&(this.ecommerceCurrency=t.ecommerceCurrency),t&&t.listName&&(this.listName=t.listName),t&&t.searchString&&(this.searchString=t.searchString),t&&t.searchCityName&&(this.searchCityName=t.searchCityName),t&&t.searchRegionName&&(this.searchRegionName=t.searchRegionName),t&&t.searchCountryName&&(this.searchCountryName=t.searchCountryName),t&&t.checkinDate&&(this.checkinDate=t.checkinDate),t&&t.checkoutDate&&(this.checkoutDate=t.checkoutDate),this.setupImpressionTracking()},setupImpressionTracking:function(){var i=this;e(function(){e(window).on("scroll resize",t.debounce(function(){i.trackImpressions()},250))})},trackImpressions:function(){var t=this,i=[];e(".ga-product").each(function(a){var n=e(this),o=n.data("ga-product-id");if(!n.is(".ga-product-impression-recorded")&&n.is(":visible")&&n.isAboveBottomWindowEdge()&&!n.is("[aria-hidden=true]")){var c=t.listName;n.data("ga-product-widgetname")&&(c=c+" ["+n.data("ga-product-widgetname")+"]");var r=t.productItem(o,n.data("ga-product-name"),n.data("ga-product-price"),n.data("ga-product-brand"),n.data("ga-product-category"),n.data("ga-product-variant"),c,n.data("ga-product-position"),n.data("ga-product-dealtype"),n.data("ga-product-platform"));i.push(r),n.addClass("ga-product-impression-recorded")}}),i.length>0&&t.productImpressions(i,t.searchString,t.searchCityName,t.searchRegionName,t.searchCountryName,t.checkinDate,t.checkoutDate);var a=[];e(".ga-promotion").each(function(i){var n=e(this),o=n.data("ga-promotion-id");if(!n.is(".ga-promotion-impression-recorded")&&n.is(":visible")&&n.isAboveBottomWindowEdge()){var c=t.promotionItem(o,t.listName,n.data("ga-promotion-creative"),n.data("ga-promotion-position"));a.push(c),n.addClass("ga-promotion-impression-recorded")}}),a.length>0&&t.promotionImpressions(a),t.setupClickTracking()},handleProductClick:function(t){var i=e(this).closest(".ga-product");if(!i.is(".ga-product-clicked")){i.addClass("ga-product-clicked");var a=t.data.helper.listName;i.data("ga-product-widgetname")&&(a=a+" ["+i.data("ga-product-widgetname")+"]");t.data.helper.productClick(i.data("ga-product-id"),i.data("ga-product-name"),i.data("ga-product-price"),i.data("ga-product-brand"),i.data("ga-product-category"),i.data("ga-product-variant"),a,i.data("ga-product-position"),null,i.data("ga-product-dealtype"),i.data("ga-product-platform"))}},handlePromotionClick:function(t){var i=e(this).closest(".ga-promotion");if(!i.is(".ga-promotion-clicked")){i.addClass("ga-promotion-clicked");t.data.helper.promotionClick(i.data("ga-promotion-id"),t.data.helper.listName,i.data("ga-promotion-creative"),i.data("ga-promotion-position"),null)}},setupClickTracking:function(){var t=this;e(function(){e(".ga-product a, .ga-product").filter(":not(.ga-clickhandler-added)").on("click",{helper:t},t.handleProductClick).addClass("ga-clickhandler-added"),e(".ga-promotion a").filter(":not(.ga-clickhandler-added)").on("click",{helper:t},t.handlePromotionClick).addClass("ga-clickhandler-added")})},analyticsEvent:function(t,i,a,n,o,c){var r={event:"analyticsEvent",eventCategory:t,eventAction:i,eventLabel:a,eventValue:n,eventNonInt:o};void 0!==c&&null!=c&&e.extend(r,c),this.dl.push(r)},analyticsEventPrefixed:function(t,e,i,a){var n={event:"analyticsEvent",eventCategory:a+t,eventAction:a+e,eventLabel:a+i};this.dl.push(n)},socialInteraction:function(t,e,i,a){this.dl.push({event:"social",socialNetwork:t,socialAction:e,socialTarget:i,socialPagePath:a})},additionalPageView:function(t){this.dl.push({event:"additionalPageView",pp:t})},signupEvent:function(t,e,i,a,n){this.dl.push({event:"signupEvent","signup.Action":t,"signup.Source":e,"signup.Placement":i,"signup.Mode":a,"signup.Email":n})},setCustomDimension:function(t,e){var i={};i["customDimension."+t]=e,this.dl.push(i)},setEcommerceCurrency:function(t){this.ecommerceCurrency=t},setProductList:function(t,e,i,a,n,o,c){this.listName=t,this.searchString=e,this.searchCityName=i,this.searchRegionName=a,this.searchCountryName=n,this.checkinDate=o,this.checkoutDate=c},productItem:function(t,e,i,a,n,o,c,r,s,u){return{name:e,id:t,price:i,brand:a,category:n,variant:o,list:c,position:r,dimension33:s,platform:u}},productImpressions:function(t,e,i,a,n,o,c){this.dl.push({event:"productImpression",ecommerce:{impressions:t,extraParameters:{checkinDate:o,checkoutDate:c}},searchString:e,searchCityName:i,searchRegionName:a,searchCountryName:n})},productImpression:function(t,e,i,a,n,o,c,r,s,u){var d=[this.productItem(t,e,i,a,n,o,c,r,s,u)];this.productImpressions(d)},productClick:function(t,e,i,a,n,o,c,r,s,u,d){this.dl.push({event:"productClick",ecommerce:{click:{actionField:{list:c},products:[{name:e,id:t,price:i,brand:a,category:n,variant:o,position:r,dimension33:u,platform:d}]}},eventCallback:"function"==typeof s?s:void 0})},productDetail:function(t,e,i,a,n,o,c,r,s,u,d,p,l){this.dl.push({event:"productDetail",ecommerce:{detail:{actionField:{list:c},products:[{name:e,id:t,price:i,brand:a,category:n,variant:o,position:r,dimension33:p,platform:l}],extraParameters:{checkinDate:u,checkoutDate:d}}},eventCallback:"function"==typeof s?s:void 0})},productAdd:function(t,e,i,a,n,o,c,r,s,u,d){this.dl.push({event:"addToCart",ecommerce:{currencyCode:this.ecommerceCurrency,add:{products:[{name:e,id:t,price:i,brand:a,category:n,variant:o,quantity:r,dimension33:u,platform:d}]}},eventCallback:"function"==typeof s?s:void 0})},productRemove:function(t,e,i,a,n,o,c,r){this.dl.push({event:"removeFromCart",ecommerce:{currencyCode:this.ecommerceCurrency,remove:{products:[{name:e,id:t,price:i,brand:a,category:n,variant:o,quantity:r}]}}})},product:function(t,e,i,a,n,o,c,r,s,u,d,p,l,h){return{name:e,id:t,price:i,brand:a,category:n,variant:o,quantity:c,merchantId:r,commissionGroup:s,commissionRate:u,locationName:d,dimension33:p,platform:l,dimension40:h}},checkoutStep:function(t,e,i,a){this.checkoutStepInternal({step:t},e,i,a)},checkoutStepWithOption:function(t,e,i,a,n){this.checkoutStepInternal({step:t,option:e},i,a,n)},checkoutStepInternal:function(t,e,i,a){this.dl.push({event:"checkout",ecommerce:{currencyCode:this.ecommerceCurrency,checkout:{actionField:t,products:e,extraParameters:{checkinDate:i,checkoutDate:a}}}})},checkoutStepOption:function(t,e){this.dl.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:t,option:e}}}})},purchase:function(t,e,i,a,n,o,c,r,s,u,d,p,l,h,m,g,v,f){this.dl.push({event:"purchase",ecommerce:{currencyCode:this.ecommerceCurrency,purchase:{actionField:{id:t,affiliation:n,revenue:e,tax:i,shipping:"",coupon:a},products:o,extraParameters:{checkinDate:c,checkoutDate:r,numTravelers:s,purchaseSource:u,totalDiscountAmount:d,discountCodeKey:p,withSignup:l,isFirstTransaction:g,email:v,totalAmount2:f}}}}),l&&this.signupEvent("Confirmed",h,m,"Single",v)},refund:function(t,e){this.dl.push({event:"refund",ecommerce:{refund:{actionField:{id:t},products:e}}})},promotionItem:function(t,e,i,a){return{id:t,name:e,creative:i,position:a}},promotionClick:function(t,e,i,a,n){this.dl.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{id:t,name:e,creative:i,position:a}]}},eventCallback:"function"==typeof n?n:void 0})},promotionImpressions:function(t){this.dl.push({event:"promotionImpression",ecommerce:{promoView:{promotions:t}}})},clickout:function(t,e){var i={event:"clickout",clickoutPlatform:t,clickoutDealid:e};this.dl.push(i)},getParamValue:function(t,e){if("function"!=typeof t)return t;try{return t.apply(e)}catch(t){return this.errorHandler(t),null}},voucherFunnelEvent:function(t,e,i,a,n,o){var c=this;this.executeTrackingFunction(t,e,function(){c.analyticsEvent(i,a,n,null,null,{numberOfGuests:c.getParamValue(o,this)})},null)},hotelFunnelEvent:function(t,e,i,a,n,o,c,r){var s=this;this.executeTrackingFunction(t,e,function(){s.analyticsEvent(i,a,s.getParamValue(n,this),null,null,{fromDate:s.getParamValue(o,this),toDate:s.getParamValue(c,this),numberOfGuests:s.getParamValue(r,this)})},null)},errorHandler:function(t){console&&console.log},executeTrackingFunction:function(t,e,i,a){var n=this;try{t&&e?t.on(e,a||null,function(){try{i.apply(this,arguments)}catch(t){n.errorHandler(t)}}):i()}catch(t){this.errorHandler(t)}},trackAnalyticsEvent:function(t,e,i,a,n){var o=this;this.executeTrackingFunction(t,e,function(){o.analyticsEvent(i,a,null,null,null)},n)}},t.GTMHelper=function(t){return new i(t)}}(window.tzoo=window.tzoo||{},jQuery);
/* -- tzsgDatepicker.js -- */
!function(e){var t="tzsgDatepicker";function a(t,a){if(this.element=e(t),a&&"datepickerType"in a&&"rangeDatepicker"==a.datepickerType){this.onhoverItemDate=null,this.settings=null;var n=this;this.currentDate=null,this.previousDate=null,this.searchType=null,this.cssDefault="tzsg-tooltip-parent",this.cssDateStateRange="tzsg-date-state-range tzsg-tooltip-parent",this.cssDateStateSelected="tzsg-date-state-selected tzsg-tooltip-parent",this.selectedDateSelector="tzsg-date-state-selected",this.selectedDateStateRangeSelector="tzsg-date-state-range",this.activeStateSelector="ui-state-active",this.heatMapClasses=["hm-no-data","hm-low","hm-medium","hm-high"],this.selectedDateRangeBeginning=null,this.selectedDateRangeEnd=null,this.periodSelector=null,this.refreshFMFunc=null,this.eventsNameSpace="",this.lastValidSelectedDateRange={beginning:null,end:null},this.heatMapDs={},this.daysDiff=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());return a.valueOf()>n.valueOf()?Math.round((a.getTime()-n.getTime())/864e5):Math.round((n.getTime()-a.getTime())/864e5)},this.displayDate=function(){var t=0;if(n.selectedDateRangeBeginning){if(e.datepicker._setDateWithoutMovingMonth(this.element,new Date(this.selectedDateRangeBeginning)),n.selectedDateRangeEnd){n.periodSelector.val(e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeBeginning,{})+" - "+e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeEnd,{})),n.checkinSelector.val(e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeBeginning,{})),n.checkoutSelector.val(e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeEnd,{}));var a=n.daysDiff(n.selectedDateRangeEnd,n.selectedDateRangeBeginning),i=this.settings.currentRegionSettings.hintTextSelectedDates.replace("{NR_NIGHTS}",a).replace("{NIGHTS}",a>1?this.settings.currentRegionSettings.hintTextNightsLiteral:this.settings.currentRegionSettings.hintTextNightLiteral);n.dateSelectionMessageSelector.html(i),t=1,n.manualCheckoutSelection=!1}else n.periodSelector.val(e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeBeginning,{})+" - "),n.checkinSelector.val(e.datepicker.formatDate(n.settings.displayDateFormat,n.selectedDateRangeBeginning,{})),n.dateSelectionMessageSelector.html(n.settings.currentRegionSettings.hintTextSelectEndDate),n.checkoutSelector.attr("placeholder",n.settings.localization.selectedDateRangePlaceHolder).val(""),n.noResultSelector.addClass("hidden");this.periodSelector.addClass("show-clear-button")}else this.settings.displayPlaceholders&&(n.periodSelector.attr("placeholder",n.settings.currentRegionSettings.selectedDateRangePlaceHolder),n.checkinSelector.attr("placeholder",n.settings.currentRegionSettings.selectedDateRangePlaceHolder).val(""),n.checkoutSelector.attr("placeholder",n.settings.currentRegionSettings.selectedDateRangePlaceHolder).val("")),this.periodSelector.removeClass("show-clear-button"),this.dateSelectionMessageSelector.html(this.settings.currentRegionSettings.hintTextSelectStartDate);t?e(document).trigger("onPeriodSelected"+n.eventsNameSpace):e(document).trigger("onIncompletePeriodSelected"+n.eventsNameSpace),this.refreshFM()},this.initRangeDatepicker(a)}else a&&"datepickerType"in a&&"singleDatepicker"==a.datepickerType?this.initSingleDatepicker(a):this.element.datepicker(a);return this}e.fn[t]=function(n){return this.each(function(){e.data(this,"plugin_"+t)?"function"==typeof e.data(this,"plugin_"+t)[n]&&e.data(this,"plugin_"+t)[n].apply():e.data(this,"plugin_"+t,new a(this,n))})},e.fn.destroytzsgDatepicker=function(){return this.each(function(){e.isEmptyObject(e.data(e(this).get(0)))||(e(this).datepicker("destroy"),e(this).removeData("plugin_"+t))})},e.fn.gettzsgDatepicker=function(){return this.data("plugin_"+t)};var n={minDate:new Date,maxDate:"+1Y",gotoCurrent:!0,displayDateFormat:"D, M dd",dateFormat:"mm/dd/yy",showInfoTooltip:!0,currentRegionSettings:{}},i={minDate:new Date,maxDate:"+1Y",gotoCurrent:!0,displayDateFormat:"D, M dd, yy"};a.prototype.initRangeDatepicker=function(t){var a=this;e.datepicker.setDefaults(t.currentRegionSettings),this.settings=e.extend(!0,{},n,t),this.settings.minDateObj=e.datepicker._determineDate(e.datepicker._getInst(this.element[0]),a.settings.minDate,new Date),this.settings.maxDateObj=e.datepicker._determineDate(e.datepicker._getInst(this.element[0]),a.settings.maxDate,new Date),this.settings.ajax={url:t.heatMapDataSourceUrl},this.settings.disableHeatMap=this.isHeatMapDisabled(),this.settings.searchType&&(this.searchType=parseInt(this.settings.searchType)-1),this.settings.selectedDateRangeBeginning&&(this.selectedDateRangeBeginning=new Date(this.settings.selectedDateRangeBeginning)),this.settings.selectedDateRangeEnd&&(this.selectedDateRangeEnd=new Date(this.settings.selectedDateRangeEnd)),this.settings.periodSelector&&(this.periodSelector=this.settings.periodSelector,this.periodSelector.siblings(".button-clear").on("click",function(){e(this).prev().val("").trigger("click"),a.currentDate=null,a.selectedDateRangeBeginning=null,a.selectedDateRangeEnd=null,a.element.datepicker("refresh"),a.displayDate(),e(document).trigger("onRangeReset"+a.eventsNameSpace),a.refreshFM(!0)})),this.settings.dateSelectionMessageSelector?this.dateSelectionMessageSelector=this.settings.dateSelectionMessageSelector:this.dateSelectionMessageSelector=e(),this.settings.checkinSelector?this.checkinSelector=this.settings.checkinSelector:this.checkinSelector=e(),this.settings.checkoutSelector?this.checkoutSelector=this.settings.checkoutSelector:this.checkoutSelector=e(),this.settings.noResultSelector?this.noResultSelector=this.settings.noResultSelector:this.noResultSelector=e(),this.settings.eventsNameSpace&&(this.eventsNameSpace="."+this.settings.eventsNameSpace),this.settings.useCustomTooltip?(this.selectedDateRangeBeginningTooltip=this.settings.selectedDateRangeBeginningTooltip[this.searchType],this.selectedDateRangeEndTooltip=this.settings.selectedDateRangeEndTooltip[this.searchType]):(this.settings.currentRegionSettings.selectedDateRangeBeginningTooltip&&(this.selectedDateRangeBeginningTooltip=this.settings.currentRegionSettings.selectedDateRangeBeginningTooltip[this.searchType]),this.settings.currentRegionSettings.selectedDateRangeEndTooltip&&(this.selectedDateRangeEndTooltip=this.settings.currentRegionSettings.selectedDateRangeEndTooltip[this.searchType])),this.lastValidSelectedDateRange={beginning:new Date(this.selectedDateRangeBeginning),end:new Date(this.selectedDateRangeEnd)};var i={beforeShow:function(t,n){setTimeout(function(t){e(".ui-datepicker .ui-state-active").removeClass("ui-state-active").removeClass("ui-state-highlight").removeClass("ui-state-hover"),a.subscribeCalendarDayOnHover.call(a,e.datepicker._getInst(a.element[0]))},0),e(n.dpDiv).addClass("rangepicker-calendar")},beforeShowDay:function(e){return a.beforeShowDay(e)},onSelect:function(t,n){a.onSelect(t,n),tzoo.layout.isXs()&&e(document).trigger("click"+a.eventsNameSpace)},onClose:function(e,t){if(a.currentDate=null,a.previousDate=null,t.inline=!1,a.selectedDateRangeBeginning&&!a.selectedDateRangeEnd){var n=new Date(a.selectedDateRangeBeginning.valueOf());n.setDate(a.selectedDateRangeBeginning.getDate()+1),a.selectedDateRangeEnd=n,a.displayDate()}t.dpDiv.hide()},onChangeMonthYear:function(t,n,i){a.currentMonthNavigation=n-1,a.currentYearNavigation=t;i.dpDiv.find("table.ui-datepicker-calendar tbody tr").length;setTimeout(function(){e(".ui-datepicker .ui-state-active").removeClass("ui-state-active").removeClass("ui-state-highlight").removeClass("ui-state-hover"),a.subscribeCalendarDayOnHover(i),i&&a.refreshFM()},0)}};this.element.datepicker(e.extend(this.settings,i)),this.focusPeriodSelection(!0),this.displayDate(),this.refresh()},a.prototype.initSingleDatepicker=function(t){var a=this;e.datepicker.setDefaults(t.currentRegionSettings),this.settings=e.extend(!0,{},i,t),this.settings.controlSelector&&(this.controlSelector=this.settings.controlSelector),this.element.datepicker({region:this.settings.region,minDate:this.settings.minDate,maxDate:this.settings.maxDate,gotoCurrent:this.settings.gotoCurrent,controlSelector:this.settings.controlSelector,dateFormat:this.settings.dateFormat,onSelect:function(t,n){if(void 0!==n.settings.controlSelector){var i=e.datepicker.parseDate(a.settings.dateFormat,t,{});n.settings.controlSelector.val(e.datepicker.formatDate(a.settings.displayDateFormat,i,{}))}e(document).trigger("closeSingleDatepicker")},onClose:function(e,t){t.dpDiv.hide()}})},a.prototype.setSearchType=function(e){return this.searchType=e-1,this},a.prototype.refreshFM=function(e){"function"==typeof this.refreshFMFunc&&this.refreshFMFunc(e)},a.prototype.focusPeriodSelection=function(e){return this.periodSelector.toggleClass("active-input",e),this},a.prototype.beforeShowDay=function(e){return this.selectedDateRangeBeginning?this.selectedDateRangeEnd?this.beforeShowDayCheckInCheckOutSelected(e):this.beforeShowDayCheckInSelected(e):this.beforeShowDayEmptySelection(e)},a.prototype.beforeShowDayEmptySelection=function(e){return[!0,this.cssDefault+this.priceHeatMapClass(e)]},a.prototype.beforeShowDayCheckInSelected=function(e){if(e.valueOf()==this.selectedDateRangeBeginning.valueOf())return[!0,this.cssDateStateSelected+this.priceHeatMapClass(e)];var t=new Date(this.selectedDateRangeBeginning.valueOf());return t.setDate(this.selectedDateRangeBeginning.getDate()+1),e.valueOf()!=t.valueOf()||window.appAc?[!0,this.cssDefault+this.priceHeatMapClass(e)]:[!0,this.cssDateStateRange+this.priceHeatMapClass(e)]},a.prototype.beforeShowDayCheckInCheckOutSelected=function(e){return e.valueOf()==this.selectedDateRangeBeginning.valueOf()||e.valueOf()==this.selectedDateRangeEnd.valueOf()?[!0,this.cssDateStateSelected+this.priceHeatMapClass(e)]:e.valueOf()>this.selectedDateRangeBeginning.valueOf()&&e.valueOf()<this.selectedDateRangeEnd.valueOf()?[!0,this.cssDateStateRange+this.priceHeatMapClass(e)]:[!0,this.cssDefault+this.priceHeatMapClass(e)]},a.prototype.onSelect=function(t,a){var n=this;this.previousDate=new Date(this.currentDate).getTime(),this.currentDate=new Date(t).getTime(),!this.previousDate||this.currentDate<=this.previousDate?(this.previousDate=this.currentDate,this.selectedDateRangeBeginning=new Date(this.currentDate),this.selectedDateRangeEnd=null,this.refresh(),setTimeout(function(){n.subscribeCalendarDayOnHover.call(n,e.datepicker._getInst(n.element[0]))},0)):(this.selectedDateRangeBeginning=new Date(Math.min(this.previousDate,this.currentDate)),this.selectedDateRangeEnd=new Date(Math.max(this.previousDate,this.currentDate)),this.lastValidSelectedDateRange={beginning:new Date(this.selectedDateRangeBeginning),end:new Date(this.selectedDateRangeEnd)},this.currentDate=null,this.previousDate=null,this.onhoverItemDate=null,n.settings.onSelectionChanged&&"function"==typeof n.settings.onSelectionChanged&&setTimeout(function(){n.settings.onSelectionChanged({target:n.element,selectedDateRangeBeginning:n.selectedDateRangeBeginning,selectedDateRangeEnd:n.selectedDateRangeEnd})},0)),this.displayDate(),setTimeout(function(){e(".ui-datepicker-today > .ui-state-highlight").removeClass("ui-state-highlight ui-state-hover")},0),setTimeout(function(){if(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&n.selectedDateRangeBeginning&&!n.selectedDateRangeEnd){var t=e(a.dpDiv).find(".tzsg-date-state-range");1===t.length&&n.showTooltip(n.selectedDateRangeEndTooltip,t.children("a.ui-state-default"))}},30)},a.prototype.applyOnHoverSelectionRangeStyle=function(t){var a=this;e(t.dpDiv).find(".ui-datepicker-calendar tbody td").each(function(){var t=e(this),n=t.attr("data-year"),i=t.attr("data-month"),s=t.find(":first-child");if(n&&i&&s.length>0){var o=new Date(n,i,s[0].innerHTML);a.onhoverItemDate&&a.selectedDateRangeBeginning&&!a.selectedDateRangeEnd&&a.onhoverItemDate.valueOf()>a.selectedDateRangeBeginning.valueOf()&&o.valueOf()>a.selectedDateRangeBeginning.valueOf()&&o.valueOf()<=a.onhoverItemDate.valueOf()?t.addClass("tzsg-date-state-range-hover"):t.removeClass("tzsg-date-state-range-hover")}})},a.prototype.subscribeCalendarDayOnHover=function(t){var a=this;e(t.dpDiv).find(".ui-datepicker-calendar tbody td").on("mouseenter","a.ui-state-default",function(n){var i=e(this).parent(),s=i.attr("data-year"),o=i.attr("data-month"),l=new Date(s,o,e(this)[0].innerHTML);setTimeout(function(){a.selectedDateRangeBeginning&&!a.selectedDateRangeEnd&&(a.onhoverItemDate=new Date(l),a.applyOnHoverSelectionRangeStyle.call(a,t)),a.applyTooltip(t,l,n)},0)}).on("mouseleave","a.ui-state-default",function(){setTimeout(function(){a.onhoverItemDate=null,a.applyOnHoverSelectionRangeStyle.call(a,t),a.removeAllTooltips(t)},0)})},a.prototype.removeAllTooltips=function(t){this.settings.showInfoTooltip&&e(t.dpDiv).find(".tzsg-tooltip-above").remove()},a.prototype.applyTooltip=function(t,a,n){if(!this.settings.showInfoTooltip)return!1;var i="",s=n&&e(n.target),o=this.selectedDateRangeBeginning&&this.selectedDateRangeBeginning.valueOf(),l=this.selectedDateRangeEnd&&this.selectedDateRangeEnd.valueOf();switch(this.removeAllTooltips(t),a.valueOf()){case o:var r=e(t.dpDiv).find(".tzsg-date-state-range");1===r.length?(i=this.selectedDateRangeEndTooltip,s=r.children("a.ui-state-default")):i=this.selectedDateRangeBeginningTooltip;break;case l:i=this.selectedDateRangeBeginningTooltip;break;default:this.selectedDateRangeBeginning&&!this.selectedDateRangeEnd?!this.selectedDateRangeEnd&&a.valueOf()>this.selectedDateRangeBeginning.valueOf()&&(i=this.selectedDateRangeEndTooltip):i=this.selectedDateRangeBeginningTooltip}this.showTooltip(i,s)},a.prototype.showTooltip=function(t,a){this.settings.showInfoTooltip&&a&&t&&0!==t.length&&e('<div class="tzsg-tooltip-above tzsg-tooltip-show">'+t+"</div>").insertAfter(a)},a.prototype.updateLabels=function(){this.settings.displayPlaceholders&&this.searchType>0&&(this.periodSelector.attr("placeholder",this.settings.currentRegionSettings.selectedDateRangePlaceHolder),this.checkinSelector.attr("placeholder",this.settings.currentRegionSettings.selectedDateRangePlaceHolder),this.checkoutSelector.attr("placeholder",this.settings.currentRegionSettings.selectedDateRangePlaceHolder),this.selectedDateRangeBeginningTooltip=this.settings.currentRegionSettings.selectedDateRangeBeginningTooltip[this.searchType],this.selectedDateRangeEndTooltip=this.settings.currentRegionSettings.selectedDateRangeEndTooltip[this.searchType])},a.prototype.close=function(e){if(this.currentDate=null,this.previousDate=null,e.inline=!1,this.selectedDateRangeBeginning&&!this.selectedDateRangeEnd){var t=new Date(this.selectedDateRangeBeginning.valueOf());t.setDate(this.selectedDateRangeBeginning.getDate()+1),this.selectedDateRangeEnd=t,this.displayDate()}},a.prototype.getDataSource=function(t){return e.ajax({url:this.settings.ajax.url,type:"POST",data:{locationId:t,tzLocale:tzoo.TzLocale}})},a.prototype.getCellDate=function(e,t,a,n){var i=e.data();if("undefined"!=typeof i.year&&"undefined"!=typeof i.month)return new Date(i.year,i.month,t);var s=a,o=n;return e.closest(".ui-datepicker-group-last").length>0&&(11==o?(o=0,s++):o++),new Date(s,o,t)},a.prototype.updateCellContent=function(t,a,n){var i=e.datepicker.formatDate("d-m-y",a,{});t.removeClass(n.heatMapClasses.join(" ")),null!=n.heatMapDs[i]&&t.addClass(n.heatMapClasses[parseInt(n.heatMapDs[i].score)])},a.prototype.priceHeatMapClass=function(t){if(e.isEmptyObject(this.heatMapDs))return"";var a=e.datepicker.formatDate("d-m-y",t,{});return null!=this.heatMapDs[a]?" "+this.heatMapClasses[parseInt(this.heatMapDs[a].score)]:""},a.prototype.setupCells=function(e){},a.prototype.isHeatMapDisabled=function(){var e=tzoo.getQueryStringParameter("disableHeatMap");return null!=e?tzoo.util.setCookie("datepicker_disableHeatMap",e,tzoo.util.cookieClassification.F):(e=Cookies.get("datepicker_disableHeatMap"))||(e="0"),"1"==e},a.prototype.refresh=function(){this.element&&(this.element.datepicker("refresh"),setTimeout(function(){e(".ui-datepicker-today > .ui-state-highlight").removeClass("ui-state-highlight ui-state-hover")},0))},a.prototype.setDataSource=function(t,a){var n=e(".exact-dates-container").find(".heatmap-legend"),i=e(".app-datepicker");1==this.settings.disableHeatMap?setTimeout(function(){n.addClass("hidden"),i.removeClass("has-heatmap")},0):this.getDataSource(t).done(function(t){var s,o,l;if(/;/i.test(t.ds)){s=t.ds.split(";"),l=new Date(s[0]),o=s[1];for(var r=0;r<o.length;r++)a.heatMapDs[e.datepicker.formatDate("d-m-y",l,{})]={score:o[r]},l.setDate(l.getDate()+1)}else a.heatMapDs={},n.addClass("hidden"),i.removeClass("has-heatmap");a.element.datepicker("refresh")}).fail(function(){a.heatMapDs={},n.addClass("hidden"),i.removeClass("has-heatmap"),a.element.datepicker("refresh")})}}(jQuery);
/* -- datepicker.inline-extension.js -- */
!function(t){t.extend(t.datepicker,{_updateDatepickerRef:t.datepicker._updateDatepicker,_updateDatepicker:function(e){if(this._updateDatepickerRef(e),e.settings.tzsgOptions&&e.settings.tzsgOptions.drawMonth&&e.settings.tzsgOptions.drawYear&&(this._moveCalendarToMonth(e,e.settings.tzsgOptions.drawMonth,e.settings.tzsgOptions.drawYear),e.settings.tzsgOptions.drawMonth=null,e.settings.tzsgOptions.drawYear=null),e.dpDiv.find("td.tzsg-date-state-selected").first().addClass("tzsg-selected-start").end().last().addClass("tzsg-selected-end"),e.settings.hasOwnProperty("tzsgOptions")&&e.settings.tzsgOptions.hasOwnProperty("getCellData")){if(e.settings.tzsgOptions.isFirstLoad())return;var a=new Date(e.settings.minDate).setHours(0,0,0,0),s=function(t,s,i,n){var d={datevalue:new Date(s,i,n),dateid:(s+"").substring(2)+"-"+i+"-"+n};t.data(d),d.datevalue.valueOf()<a||d.datevalue.valueOf()>e.settings.tzsgOptions.maxDateObj||(t.find(".ui-state-default").addClass("date"),e.settings.tzsgOptions.getCellData(t,d.datevalue,t.find("a")))};e.dpDiv.find("td[data-month]").each(function(e){var a=t(this);s(a,a.data("year"),a.data("month"),a.find("a").text())}).end().find("td.ui-datepicker-unselectable:not(.ui-datepicker-other-month, .tzsg-date-state-selected.ui-datepicker-current-day)").each(function(a){var i=t(this);s.apply(i,e.settings.tzsgOptions.getDisabledFieldDate(i))}),e.settings.tzsgOptions.hasOwnProperty("hotelAvailabilityCalendar")&&e.dpDiv.find("."+e.settings.tzsgOptions.selectedDay+":not([data-month])").each(function(a){var i=t(this);0!=t(this).children("span.date").length&&parseInt(t(this).children("span.date").html())!=e.selectedDay||s(i,e.selectedYear,e.selectedMonth,e.selectedDay)})}},_inlineDatepicker2:t.datepicker._inlineDatepicker,_inlineDatepicker:function(e,a){this._inlineDatepicker2(e,a);var s=t.datepicker._get(a,"beforeShow");s&&s.apply(e,[e,a])},_moveCalendarToMonth:function(t,e,a){t.drawMonth=e,t.drawYear=a},_setDateWithoutMovingMonth:function(e,a){var s,i,n=t.datepicker._getInst(e[0]);void 0!==n&&(s=n.drawMonth,i=n.drawYear),e.datepicker("setDate",a),void 0!==s&&void 0!==i&&(n.drawMonth=s,n.drawYear=i)}})}(jQuery);
/* -- pagingStorage.js -- */
!function(e,a,t){"use strict";var n=function(){var t=null,n=0,i=function(){t&&(window.clearTimeout(t),a("#navPagers").stop(!0,!0).fadeOut(100)),t=e.delay(function(){var i=window.pageYOffset,o=-1;e.layout.isSmOrSmaller()&&(a(".client-image-gallery").length>0?o=a(".client-image-gallery").offset().top:a("#deal-image-single").length>0&&(o=a("#deal-image-single").offset().top)),i<=n&&i>o&&a("#navPagers").stop(!0,!0).fadeIn(100),t=null,n=i},250)};this.addScrollListner=function(){window.addEventListener("scroll",i)},this.removeScrollListner=function(){window.removeEventListener("scroll",i)}};n.prototype.clear=function(){var a="gds"===e.pagingStorageName?"_"+e.pagingStorageName:e.pagingStorageName;t.localStorage.remove(a),t.sessionStorage.remove(e.pagingStorageName)},n.prototype.store=function(n,i){var o=n;if((o=o&&0!==o.length?function(a){for(var t=[],n=0;n<a.length;n++){var i=a[n];i.dl||t.push({headline:i.hdl,id:i.plt===e.dealPlatform.HotelDeal?i.pid:i.id,location:i.src,plt:i.plt,price:i.prc,url:i.url})}return t}(n):function(e){var t=[];return a("#"+(e?"top20-list":"collection")).find(".ga-product").each(function(e,n){var i=a(n),o=i.hasClass("deal-module--linkout"),r=i.data();!o&&r&&r.sid&&r.sid>0&&1!==r.pagiExcl&&t.push({headline:a.trim(""===i.find(".deal-headline-text").text()?i.find(".deal-headline").text():i.find(".deal-headline-text").text()),id:r.sid,location:a.trim(""===i.find(".deal-location").text()?i.find(".deal-meta").text():i.find(".deal-location").text()),plt:r.gaProductPlatform,price:a.trim(""===i.find(".deal-headline-price").text()?i.find(".deal-price").text():i.find(".deal-headline-price").text()),url:i.find("a:first").attr("href")})}),t}(i))&&0!==o.length){var r={};r.bbu=location.href,r.pagi=o,r.isTop20=!0===i,t.sessionStorage.set(e.pagingStorageName,JSON.stringify(r))}},n.prototype.setup=function(n,i){var o=t.sessionStorage.get(e.pagingStorageName);if(o&&o.pagi&&0!==o.pagi.length){a("header.global-header").addClass("dealPagination"),a(" .nav-internal, #header-search-form").addClass("is-dealPagination");var r=o.isTop20?e.resources.BackToTop20:e.resources.BackToResult,s=o.isTop20?e.resources.Top20:e.resources.BackToResultShort,l=e.addQueryStringParameter("scrollto="+(0===i?n:i),window.removeURLParameter(o.bbu,"scrollto"));l=window.removeURLParameter(l,"conf"),l=window.removeURLParameter(l,"cm"),l=window.removeURLParameter(l,"fromFB"),l=window.removeURLParameter(l,"fromG"),a("#deal-back-nav").append("<a href='"+l+"'><i class='button-go-back'></i>"+r+"</a>"),a("#header-back-nav").append("<a href='"+l+"' class='link-back-arrowhead icon-only'>"+s+"</a>").removeClass("hidden"),window.history&&window.history.pushState&&(window.history.pushState({page:1},null,null),a(window).on("popstate",function(){0===location.hash.length&&window.location.replace(l)}));var d=o.pagi.reduce(function(e,a,t){return a.id===n||a.id===i?t:e},-1);if(-1!==d){var c=0===d?-1:d-1,p=d===o.pagi.length-1?-1:d+1,u=null,g=null,m=null,h=null,f=null,v=null;if(-1!==c&&((u=document.createElement("a")).id="aPrev",u.className="button-prev-shadow js-dealpagination-prev "+e.OverrideClass,u.innerText="Previous",e.MakePush&&(e.layout.isLg()||e.layout.isMd())?((m=document.createElement("div")).id="divPrev",m.className="div-prev-body",(f=document.createElement("div")).id="divPrevText",f.className="deal-info",f.innerHTML+=o.pagi[c].price?'<h2 class="deal-price">'+o.pagi[c].price+"</h2>":"",f.innerHTML+='<h2 class="deal-headline">'+o.pagi[c].headline+"</h2>",f.innerHTML+=o.pagi[c].location?'<div class="deal-location">'+o.pagi[c].location+"</div>":"",f.innerHTML+='<div class="deal-button"><a role="button" href="'+o.pagi[c].url+'" class="button button-search js-dealpagination-prev">'+e.ViewDealText+"</a></div>",m.appendChild(f),u.addEventListener("mouseenter",function(){(e.layout.isLg()||e.layout.isMd())&&(a(".push").css("transform","translateX(300px)"),a(".div-prev-body").css("transform","translateX(300px)"),a("#dealLockbar").css("transform","translateX(300px)"),a("#dealLockbar.hide-lockbar").css("transform",""))})):u.href=o.pagi[c].url),-1!==p&&((g=document.createElement("a")).id="aNext",g.className="button-next-shadow js-dealpagination-next "+e.OverrideClass,g.innerText="Next",e.MakePush&&(e.layout.isLg()||e.layout.isMd())?((h=document.createElement("div")).id="divNext",h.className="div-next-body",(v=document.createElement("div")).id="divNextText",v.className="deal-info",v.innerHTML+=o.pagi[p].price?'<h2 class="deal-price">'+o.pagi[p].price+"</h2>":"",v.innerHTML+='<h2 class="deal-headline">'+o.pagi[p].headline+"</h2>",v.innerHTML+=o.pagi[p].location?'<div class="deal-location">'+o.pagi[p].location+"</div>":"",v.innerHTML+='<div class="deal-button"><a role="button" href="'+o.pagi[p].url+'" class="button button-search js-dealpagination-next">'+e.ViewDealText+"</a></div>",h.appendChild(v),g.addEventListener("mouseenter",function(){(e.layout.isLg()||e.layout.isMd())&&(a(".push").css("transform","translateX(-300px)"),a(".div-next-body").css("transform","translateX(-300px)"),a("#dealLockbar").css("transform","translateX(-300px)"),a("#dealLockbar.hide-lockbar").css("transform",""))})):g.href=o.pagi[p].url),u||g){var w=document.createElement("nav");w.id="navPagers",w.style.display="none",w.className=e.OverrideClass,u&&(e.MakePush&&(e.layout.isLg()||e.layout.isMd())?(m.appendChild(u),w.appendChild(m)):w.appendChild(u)),g&&(e.MakePush&&(e.layout.isLg()||e.layout.isMd())?(h.appendChild(g),w.appendChild(h)):w.appendChild(g)),e.MakePush&&(e.layout.isLg()||e.layout.isMd())&&(a(".push").on("mouseenter",function(){a(".push").css("transform",""),a(".div-prev-body").css("transform",""),a(".div-next-body").css("transform",""),a("#dealLockbar").css("transform","")}),a(document).mouseleave(function(){a(".push").css("transform",""),a(".div-prev-body").css("transform",""),a(".div-next-body").css("transform",""),a("#dealLockbar").css("transform","")}),a(document).scroll(e.debounce(function(){a(".push").css("transform",""),a(".div-prev-body").css("transform",""),a(".div-next-body").css("transform",""),a("#dealLockbar").css("transform","")},250)));var y=document.createDocumentFragment();y.appendChild(w),document.body.appendChild(y),a(".js-dealpagination-prev").on("click",function(){e.PagingStorage.gaTrackPrev(o.pagi[d].id)}),a(".js-dealpagination-next").on("click",function(){e.PagingStorage.gaTrackNext(o.pagi[d].id)}),e.MakePush&&e.layout.isLg()?(a("#navPagers").show(),this.removeScrollListner()):this.addScrollListner()}}}},e.PagingStorage=new n}(window.tzoo=window.tzoo||{},window.jQuery,window.Storages);
/* -- jquery.smartbanner.js -- */
!function(t,s){"function"==typeof define&&define.amd?define(["jquery"],s):s(t.jQuery)}(this,function(t){var s=navigator.userAgent,i=/Edge/i.test(s),n=function(n){this.origHtmlMargin=parseFloat(t("html").css("margin-top")),this.options=t.extend({},t.smartbanner.defaults,n);var e=navigator.standalone;if(this.options.force?this.type=this.options.force:null!==s.match(/Windows Phone/i)&&null!==s.match(/Edge|Touch/i)?this.type="windows":null!==s.match(/iPhone|iPod/i)||s.match(/iPad/)&&this.options.iOSUniversalApp?null!==s.match(/Safari/i)&&(null!==s.match(/CriOS/i)||null!=s.match(/FxiOS/i)||window.Number(s.substr(s.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):s.match(/\bSilk\/(.*\bMobile Safari\b)?/)||s.match(/\bKF\w/)||s.match("Kindle Fire")?this.type="kindle":null!==s.match(/Android/i)&&(this.type="android"),this.type&&!e&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")){this.scale="auto"==this.options.scale?t(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var o=t("android"==this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':"kindle"==this.type?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(o.length){if("windows"==this.type)i&&(this.appId=t('meta[name="msApplication-PackageEdgeName"]').attr("content")),this.appId||(this.appId=t('meta[name="msApplication-PackageFamilyName"]').attr("content"));else{var a=/app-id=([^\s,]+)/.exec(o.attr("content"));if(!a)return;this.appId=a[1]}this.title=this.options.title?this.options.title:o.data("title")||t("title").text().replace(/\s*[|\-·].*$/,""),this.author=this.options.author?this.options.author:o.data("author")||(t('meta[name="author"]').length?t('meta[name="author"]').attr("content"):window.location.hostname),this.iconUrl=o.data("icon-url"),this.price=o.data("price"),"function"==typeof this.options.onInstall?this.options.onInstall=this.options.onInstall:this.options.onInstall=function(){},"function"==typeof this.options.onClose?this.options.onClose=this.options.onClose:this.options.onClose=function(){},this.create(),this.show(),this.listen()}}};n.prototype={constructor:n,create:function(){var n,e=this.price||this.options.price,o=this.options.url||function(){switch(this.type){case"android":return"market://details?id=";case"kindle":return"amzn://apps/android?asin=";case"windows":return i?"ms-windows-store://pdp/?productid=":"ms-windows-store:navigate?appid="}return"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"}.call(this)+this.appId,a=e?function(){var t=e+" - ";switch(this.type){case"android":return t+this.options.inGooglePlay;case"kindle":return t+this.options.inAmazonAppStore;case"windows":return t+this.options.inWindowsStore}return t+this.options.inAppStore}.call(this):"",r=null==this.options.iconGloss?"ios"==this.type:this.options.iconGloss;if("android"==this.type&&this.options.GooglePlayParams&&(o+="&referrer="+this.options.GooglePlayParams),"android"==this.type&&this.options.deeplink&&s.match(/Chrome/)){var p=this.options.deeplink,l=p.match(/([^:]+):\/\/(.+)$/i);p="intent://"+l[2]+"#Intent;scheme="+l[1],o=p+=";package="+this.appId+";end"}var h='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+a+'</span></div><a href="'+o+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?t(this.options.appendToSelector).append(h):t(this.options.appendToSelector).prepend(h),this.options.icon?n=this.options.icon:this.iconUrl?n=this.iconUrl:t('link[rel="apple-touch-icon-precomposed"]').length>0?(n=t('link[rel="apple-touch-icon-precomposed"]').attr("href"),null==this.options.iconGloss&&(r=!1)):t('link[rel="apple-touch-icon"]').length>0?n=t('link[rel="apple-touch-icon"]').attr("href"):t('meta[name="msApplication-TileImage"]').length>0?n=t('meta[name="msApplication-TileImage"]').attr("content"):t('meta[name="msapplication-TileImage"]').length>0&&(n=t('meta[name="msapplication-TileImage"]').attr("content")),n?(t("#smartbanner .sb-icon").css("background-image","url("+n+")"),r&&t("#smartbanner .sb-icon").addClass("gloss")):t("#smartbanner").addClass("no-icon"),this.bannerHeight=t("#smartbanner").outerHeight()+2,this.scale>1&&(t("#smartbanner").css("top",parseFloat(t("#smartbanner").css("top"))*this.scale).css("height",parseFloat(t("#smartbanner").css("height"))*this.scale).hide(),t("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",t(window).width()/this.scale)),t("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){t("#smartbanner .sb-close").on("click",t.proxy(this.close,this)),t("#smartbanner .sb-button").on("click",t.proxy(this.install,this))},show:function(s){var i=t("#smartbanner");if(i.stop(),this.options.layer)i.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show(),t(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",s);else if(t.support.transition){i.animate({top:0},this.options.speedIn).addClass("shown");t(this.pushSelector).addClass("sb-animation").one(t.support.transition.end,function(){t("html").removeClass("sb-animation"),s&&s()}).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else i.slideDown(this.options.speedIn).addClass("shown")},hide:function(s){var i=t("#smartbanner");if(i.stop(),this.options.layer)i.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown"),t(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",s);else if(t.support.transition){"android"!==this.type?i.css("top",-1*this.bannerHeight*this.scale).removeClass("shown"):i.css({display:"none"}).removeClass("shown");t(this.pushSelector).addClass("sb-animation").one(t.support.transition.end,function(){t("html").removeClass("sb-animation"),s&&s()}).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)}else i.slideUp(this.options.speedOut).removeClass("shown")},close:function(t){t.preventDefault(),this.hide(),this.setCookie("sb-closed","true",this.options.daysHidden),this.options.onClose(t)},install:function(t){this.options.hideOnInstall&&this.hide(),this.setCookie("sb-installed","true",this.options.daysReminder),this.options.onInstall(t)},setCookie:function(t,s,i){var n=new Date;n.setDate(n.getDate()+i),s=encodeURI(s)+(null==i?"":"; expires="+n.toUTCString()),document.cookie=t+"="+s+"; path=/;"},getCookie:function(t){var s,i,n,e=document.cookie.split(";");for(s=0;s<e.length;s++)if(i=e[s].substr(0,e[s].indexOf("=")),n=e[s].substr(e[s].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==t)return decodeURI(n);return null},switchType:function(){var s=this;this.hide(function(){s.type="android"==s.type?"ios":"android";var i=t("android"==s.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");s.appId=/app-id=([^\s,]+)/.exec(i)[1],t("#smartbanner").detach(),s.create(),s.show()})}},t.smartbanner=function(s){var i=t(window),e=i.data("smartbanner"),o="object"==typeof s&&s;e||i.data("smartbanner",e=new n(o)),"string"==typeof s&&e[s]()},t.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body",pushSelector:"html",deeplink:null},t.smartbanner.Constructor=n,void 0===t.support.transition&&(t.fn.emulateTransitionEnd=function(s){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});return setTimeout(function(){i||t(n).trigger(t.support.transition.end)},s),this},t(function(){t.support.transition=function(){var t=document.createElement("smartbanner"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in s)if(void 0!==t.style[i])return{end:s[i]};return!1}()}))});
/* -- browser-deeplink.js -- */
!function(e,n){"function"==typeof define&&define.amd?define("deeplink",n(e)):"object"==typeof exports?module.exports=n(e):e.deeplink=n(e)}(window||this,function(e){"use strict";if(e.document&&e.navigator){var n,t={},a={iOS:{},android:{},fallback:!0,delay:1e3,delta:500},i=function(){var e=t.android.appId;return e?"market://details?id="+e:null},o=function(){return navigator.userAgent.match("Android")},r=function(){return navigator.userAgent.match("iPad")||navigator.userAgent.match("iPhone")||navigator.userAgent.match("iPod")},d=function(e){return function(){var n,a,o={ios:t.iOS.storeUrl||(n=t.iOS.appName,a=t.iOS.appId,a&&n?"itms-apps://itunes.apple.com/app/"+n+"/id"+a+"?mt=8":null),android:t.android.storeUrl||i()}[t.platform],r=t.delay+t.delta;"string"==typeof o&&Date.now()-e<r&&(window.location.href=o)}};return{setup:function(e){t=function(e,n){var t={};for(var a in e)t[a]=e[a];for(var a in n)t[a]=n[a];return t}(a,e),o()&&(t.platform="android"),r()&&(t.platform="ios")},open:function(e){if(!o()&&!r())return!1;if(o()&&!navigator.userAgent.match(/Firefox/)){var a=e.match(/([^:]+):\/\/(.+)$/i);e="intent://"+a[2]+"#Intent;scheme="+a[1],e+=";package="+t.android.appId+";end"}t.fallback&&(n=setTimeout(d(Date.now()),t.delay));var i=window.navigator.userAgent;if(i.match(/CriOS/)||i.match(/Safari/)&&i.match(/Version\/9/))document.location=e;else{var u=document.createElement("iframe");u.onload=function(){clearTimeout(n),u.parentNode.removeChild(u),window.location.href=e},u.src=e,u.setAttribute("style","display:none;"),document.body.appendChild(u)}return!0}}}});
/* -- cookiesettings.js -- */
!function(e,c){var o,i,t,n;function a(){o.filter(":checked").val()&&i.filter(":checked").val()?t.removeAttr("disabled"):t.attr("disabled","disabled")}function r(e){e.children("i").remove(),t.children("i").remove(),k(!0,!0),e.prepend('<i class="icon-success-white-sm"></i> ')}function k(e,o){var i="travelzoo.com";e?(Cookies.set(c.cnccfunc,e?1:0,{domain:i,path:"/",expires:365}),Cookies.set(c.cnccmkt,o?1:0,{domain:i,path:"/",expires:365}),Cookies.set(c.cncc,1,{domain:i,path:"/",expires:365})):(Cookies.set(c.cnccfunc,e?1:0,{domain:i,path:"/"}),Cookies.set(c.cnccmkt,o?1:0,{domain:i,path:"/"}),Cookies.set(c.cncc,1,{domain:i,path:"/"}))}e(document).ready(function(){var l;(o=e("#cookieSettings input[name=func-cookie-radio]"),i=e("#cookieSettings input[name=mkt-cookie-radio]"),t=e("#cookieSettings-save"),n=e("#cookieSettings-acceptall"),e("#cookieSettings").length&&(o.on("click",function(){a()}),i.on("click",function(){a()}),t.on("click",function(){t.children("i").remove(),n.children("i").remove(),k("1"==o.filter(":checked").val(),"1"==i.filter(":checked").val()),t.prepend('<i class="icon-success-white-sm"></i> ')}),n.on("click",function(){o.removeAttr("checked"),o.filter("[value=1]").prop("checked",!0),i.removeAttr("checked"),i.filter("[value=1]").prop("checked",!0),r(n)}),function(){var e=Cookies.get(c.cnccfunc);void 0!==e&&(o.removeAttr("checked"),o.filter("[value="+e+"]").attr("checked","checked"));var t=Cookies.get(c.cnccmkt);void 0!==t&&(i.removeAttr("checked"),i.filter("[value="+t+"]").attr("checked","checked"))}()),e(".cookiebanner").length)&&(l=e(".cookiebanner .js-button-accept")).on("click",function(){r(l),location.reload()});e(".cookieoverlay").length&&(l=e(".cookieoverlay .js-button-accept")).on("click",function(){r(l),location.reload()})})}(jQuery,window.tzoo=window.tzoo||{});
