/* -- 2020-11-06T23:11:33.1516560Z -- */
/* -- jquery.unorphanize.js -- */
!function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,s,i,e){Array.prototype.filter||(Array.prototype.filter=function(t){if(this===e||null===this)throw new TypeError(this+"is not an object");if(!(t instanceof Function))throw new TypeError(t+" is not a function");for(var s,i=Object(this),r=arguments[1],n=i instanceof String?i.split(""):i,a=Math.max(Math.min(n.length,9007199254740991),0)||0,h=-1,o=[];++h<a;)s=n[h],h in n&&t.call(r,s,h,i)&&o.push(s);return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,s){var i;if(null===this)throw new TypeError("“this” is null or not defined");var e=Object(this),r=e.length>>>0;if(0===r)return-1;var n=+s||0;if(Math.abs(n)===1/0&&(n=0),n>=r)return-1;for(i=Math.max(n>=0?n:r-Math.abs(n),0);i<r;){if(i in e&&e[i]===t)return i;i++}return-1});var r="unorphanize",n={words:2,wrapEl:"",className:"",append:""};function a(s,i){this.element=s,this.settings=t.extend({},n,i),this._defaults=n,this._name=r,this.init()}t.extend(a.prototype,{init:function(){var s=this,i=t(this.element);if(0===t.trim(i.text()).length)return!1;this.text=t.trim(i.html()),this.startTags=this.text.match(/<([A-Z][A-Z0-9]*)\b[^>]*>/gi),this.startTagsCount=null!==this.startTags?this.startTags.length:0,this.startPlaceholders=[];for(var e=0;e<this.startTagsCount;e++)this.startPlaceholders.push("__"+e+"__"),this.text=this.text.replace(s.startTags[e],s.startPlaceholders[e]);this.endTags=this.text.match(/<\/[A-Z][A-Z0-9]*>/gi),this.endTagsCount=null!==this.endTags?this.endTags.length:0,this.endPlaceholders=[];for(e=0;e<this.endTagsCount;e++)this.endPlaceholders.push("~~"+e+"~~"),this.text=this.text.replace(s.endTags[e],s.endPlaceholders[e]);this.wordArray=this.text.split(/\s+/);this.wordPositions=[],this.cleanWordArray=this.wordArray.map(function(t,i){return t.match(/__[0-9]+__\b/gi)||t.match(/~~[0-9]+~~\b/gi)?(0,!1):(s.wordPositions.push(i),t)}),this.cleanWordArray=this.cleanWordArray.filter(function(t){return t}),"number"!=typeof this.settings.words||this.settings.words<1?this.settings.words=this._defaults.words:1===this.settings.words?(this.settings.wrapEl=this.settings.wrapEl.length?this.settings.wrapEl:"span",this.settings.className=this.settings.className.length?this.settings.className:"u-nowrap"):this.settings.words>=this.cleanWordArray.length&&(this.settings.words=this.cleanWordArray.length),this.lastWordPos=this.cleanWordArray.length-this.settings.words,this.lastWordIndex=this.wordPositions[this.lastWordPos],this.firstPart=s.wordArray.slice(0,s.lastWordIndex).join(" "),this.lastPart=s.wordArray.slice(s.lastWordIndex).join(" "),"string"!=typeof this.settings.wrapEl&&(this.settings.wrapEl=this._defaults.wrapEl),"string"!=typeof this.settings.className&&(this.settings.className=this._defaults.className),"string"!=typeof this.settings.append&&(this.settings.append=this._defaults.append),this.settings.wrapEl?this.text=this.firstPart+" <"+this.settings.wrapEl+' class="'+this.settings.className+'">'+this.lastPart+this.settings.append+"</"+this.settings.wrapEl+">":(this.lastPart=this.lastPart.split(" ").join("&nbsp;"),this.text=this.firstPart+" "+this.lastPart);for(e=0;e<this.startTagsCount;e++){var r=new RegExp(this.startPlaceholders[e]);this.text=this.text.replace(r,this.startTags[e])}for(e=0;e<this.endTagsCount;e++){r=new RegExp(this.endPlaceholders[e]);this.text=this.text.replace(r,this.endTags[e])}i.html(this.text)}}),t.fn[r]=function(s){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new a(this,s))})}});
/* -- jquery.slick.custom.js -- */
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,"undefined"!=typeof document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=i(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(o in s=null,r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n=this,r=i(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),o=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,e.data.message){case"previous":s=0===o?n.options.slidesToScroll:n.options.slidesToShow-o,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-s,!1,t);break;case"next":s=0===o?n.options.slidesToScroll:o,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+s,!1,t);break;case"index":var l=0===e.data.index?0:e.data.index||r.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(l),!1,t),r.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(t=0,i>(e=this.getNavigableIndexes())[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){var e,t,o,s=this;function n(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),n=i(this).attr("data-sizes")||s.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),n&&e.attr("sizes",n)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),s.$slider.trigger("lazyLoaded",[s,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,e,t])},r.src=t})}if(!0===s.options.centerMode?!0===s.options.infinite?o=(t=s.currentSlide+(s.options.slidesToShow/2+1))+s.options.slidesToShow+2:(t=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),o=s.options.slidesToShow/2+1+2+s.currentSlide):(t=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,o=Math.ceil(t+s.options.slidesToShow),!0===s.options.fade&&(t>0&&t--,o<=s.slideCount&&o++)),e=s.$slider.find(".slick-slide").slice(t,o),"anticipated"===s.options.lazyLoad)for(var r=t-1,l=o,d=s.$slider.find(".slick-slide"),a=0;a<s.options.slidesToScroll;a++)r<0&&(r=s.slideCount-1),e=(e=e.add(d.eq(r))).add(d.eq(l)),r--,l++;n(e),s.slideCount<=s.options.slidesToShow?n(s.$slider.find(".slick-slide")):s.currentSlide>=s.slideCount-s.options.slidesToShow?n(s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow)):0===s.currentSlide&&n(s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){for(e in s.respondTo=s.options.respondTo||"window",n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":"undefined"!=typeof arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){i||this.autoPlay(),this.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,l=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(d=(d=a.getNavTarget()).slick("getSlick")).slideCount<=d.options.slidesToShow&&d.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(l,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>15?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||"undefined"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),"undefined"!=typeof t)return t;return o}});
/* -- deal-carousel-slick.js -- */
function carouselIn(e){var o=$(e).find(".carouselArrowsOff");if(0!==o.length){var s=$(o).find(".btnPrevOff"),t=$(o).find(".btnNextOff");o.removeClass("carouselArrowsOff").addClass("carouselArrowsOn"),s.removeClass("btnPrevOff").addClass("btnPrevOn"),t.removeClass("btnNextOff").addClass("btnNextOn")}}function carouselOut(e){var o=$(e).find(".carouselArrowsOn");if(0!==o.length){var s=$(o).find(".btnPrevOn"),t=$(o).find(".btnNextOn");o.removeClass("carouselArrowsOn").addClass("carouselArrowsOff"),s.removeClass("btnPrevOn").addClass("btnPrevOff"),t.removeClass("btnNextOn").addClass("btnNextOff")}}function dealGetPreviousImage(e){var o=$(e).parents("div.deal-img.slick-images"),s=$(o).find(".carousel-images");loadNextPrevious(s,-1);var t=e.parent().find(".carouselStorage"),a=$(s).slick("slickCurrentSlide"),d=parseInt($(t).data("total"));shiftDots(o,!1,d,a>0?a-1:d-1),$(s).slick("slickPrev")}function dealGetNextImage(e){var o=$(e).parents("div.deal-img.slick-images"),s=$(o).find(".carousel-images");loadNextPrevious(s,1);var t=e.parent().find(".carouselStorage"),a=$(s).slick("slickCurrentSlide"),d=parseInt($(t).data("total"));shiftDots(o,!0,d,a<d-1?a+1:0),$(s).slick("slickNext")}function imagesCarousel(e){var o=50,s=tzoo.resources.DealSlickTouchThreshold;s&&!isNaN(s)&&(o=parseInt(s)),e||(e="anticipated");var t=$(".carousel-images:not(.slick-initialized)"),a={infinite:!0,speed:250,touchThreshold:o,arrows:!1,lazyLoad:"ondemand"};t.slick(a),$(".slick-next, .slick-prev, .slick-dots").on("click",function(e){e.preventDefault(),e.stopPropagation()}),t.on("touchstart",function(e){loadNextPrevious($(e.target).parents("div.deal-img.slick-images").find(".carousel-images"))}),t.on("swipe",function(e,o){var s=$(this).parents("div.deal-img.slick-images"),t=s.find(".carouselStorage"),a=(e=$(s).find(".carousel-images"),$(e).slick("slickCurrentSlide")),d=parseInt($(t).data("total")),i=parseInt($(t).val()),n=getDirection(i,a);i!=a&&shiftDots(s,n,d,a)}),t.on("beforeChange",function(o,s,t,a){if("ondemand"!==e&&t!==a){var d,i=t-a,n=1===i||i===-1*(s.slideCount-1),l=0===a?s.slideCount-1:a-1,r=a===s.slideCount-1?0:a+1;d=n?$(s.$slides.get(l)).find("img"):$(s.$slides.get(r)).find("img"),tzoo.imageLoader.forceLoadImages(d)}}),t.addClass("slick-initialized"),$(document).on("refreshDealSlick",function(){t.slick("refresh")})}function shiftDots(e,o,s,t){var a=e.find(".carouselStorage");a||(a=e.find(".carouselindex"));var d,i,n=t>=3&&t<s-3,l=$(e).find(".dotFocused");if(n?(1==o?(3==t&&s>6&&(!0,$('<div class="dotTrail"></div>').prependTo($(e).find(".dotConsole"))),$(e).find(".dotConsole>:last").removeClass("dotTrail").addClass("dot"),$(e).find(".dotConsole>:first").appendTo($(e).find(".dotConsole")),$(e).find(".dotConsole>:first").removeClass("dot").addClass("dotTrail"),$(e).find(".dotWrapper").animate({left:20},0).animate({left:0},"fast"),d=$(e).find(".dotConsole>:nth-child(4)")):(t==s-4&&s>6&&(!0,$('<div class="dotTrail"></div>').appendTo($(e).find(".dotConsole"))),$(e).find(".dotWrapper").animate({left:"+=20"},"fast",function(){$(this).animate({left:0},0),$(e).find(".dotConsole>:first").removeClass("dotTrail").addClass("dot"),$(e).find(".dotConsole>:last",this).prependTo($(e).find(".dotConsole",this)),$(e).find(".dotConsole>:last").removeClass("dot").addClass("dotTrail")}),d=$(e).find(".dotConsole>:nth-child(3)")),i="dot"):1==o?(t==s-3&&($(e).find(".dotConsole>:last").removeClass("dotTrail").addClass("dot"),s>6&&($(e).find(".dotConsole>:nth-child(2)").removeClass("dot").addClass("dotTrail"),$(e).find(".dotConsole>:first").remove()),!0),0==t?(d=$(e).find(".dotConsole>:first"),i=s>6?"dotTrail":"dot"):(d=l.next(),i="dot")):(2==t&&($(e).find(".dotConsole>:first").removeClass("dotTrail").addClass("dot"),s>6&&($(e).find(".dotConsole>:nth-child(6)").removeClass("dot").addClass("dotTrail"),$(e).find(".dotConsole>:last").remove()),!0),t==s-1?(d=$(e).find(".dotConsole>:last"),i=s>6?"dotTrail":"dot"):(d=l.prev(),i="dot")),l.removeClass("dotFocused").addClass(i),d.removeClass("dot").removeClass("dotTrail").addClass("dotFocused"),a&&$(a).val(t),tzoo.gtm){var r=e.find("a");if(r){var f=$(r).data("id"),c=$(r).data("headline");try{tzoo.gtm.analyticsEvent("GalleryScroll","onScroll",f+"|"+c)}catch(e){}}}}function getDirection(e,o){var s=!1;return(e>1&&0==o||e+1==o)&&(s=!0),s}var loadNextPrevious=function(e,o){if(e&&0!==e.length){var s=[],t=e.get(0).slick,a=t.slickCurrentSlide(),d=0===a?t.slideCount-1:a-1,i=a===t.slideCount-1?0:a+1;-1!==o&&"undefined"!=typeof o||s.push($(t.$slides.get(d)).find("img")),1!==o&&"undefined"!=typeof o||s.push($(t.$slides.get(i)).find("img")),tzoo.imageLoader.forceLoadImages(s)}};
/* -- alertButton.js -- */
!function(t,e){var o,l=t.UrlPrefix+"DestAlerts/GetAlertStatus/",r=t.UrlPrefix+"DestAlerts/SetAlertStatus/",i=0,n=!1,a="alrtOverlay",s="",d=null,c=null,u="",p="favttp";function v(g,m,A,h,b,k){i=g,m,n=A,s=b,u=k;var y=!1,C=!1;function w(t){e.post(r,{pPlacekey:i,pStatus:t}).done(function(t){f(t.stat),h||location.reload(!0)})}function S(){return e(".alertsCheckbox").prop("checked")}return h||n?("undefined"==typeof o&&(o=e.ajax({url:l,data:{pLocationId:i}})),o.done(function(t){f(t.stat),C=t.iec,((y=t.hfa)||Cookies.get(p))&&(e(".display-tooltip").hide(),e("#btnAlert").removeClass("set-dest-alerts-top"),e("#result-list").removeClass("tooltip-bottom-padding"))})):o=e.Deferred(),this.track=o,v.prototype.getStatus=S,g>0&&m.length>0&&e("#btnAlert").removeClass("hidden"),h&&(e(".destAlertsCheckbox").removeAttr("disabled"),C&&t.Overlays.register({id:a+u,priority:10,show:function(t){e("#"+t).dialog("open")},hide:function(t){e("#"+t).dialog("close")},autoShow:!1,defer:!0})),Cookies.get(p)?(e(".display-tooltip").hide(),e("#btnAlert").removeClass("set-dest-alerts-top"),e("#result-list").removeClass("tooltip-bottom-padding")):!y&&g>0&&m.length>0&&e(".display-tooltip").length&&e(".list-view").addClass("tooltip-bottom-padding"),e(document).on("click",u,function(o){(Cookies.get(p)||e("#alert-div-close").trigger("click"),h)?(e(".alertsCheckbox").removeAttr("disabled"),w(!S())):A?function(){t.Overlays.isRegistered("ovrlPasswordAlrt")||(d=createSignupOverlay("ovrlPasswordAlrt")).populateAlertInformation({placement:"Overlay-Fav-Alerts-Password",source:s,mode:"signedin"});d.showZOverlay()}():function(){null==c&&(c=createSignupOverlay("ovrlLoginFav")).populateAlertInformation({placement:"Overlay-Fav-Alerts-Login",source:s,mode:"notsignedin"});c.showZOverlay()}();return o.stopImmediatePropagation(),!1}),e(document).on("click","#alert-div-close",function(o){e(".display-tooltip").hide(),e("#btnAlert").removeClass("set-dest-alerts-top"),e(".list-view").removeClass("tooltip-bottom-padding"),t.util.setCookie(p,1,t.util.cookieClassification.F)}),e(document).on("SaveAlertFromAuthentication",function(t,o){var l=S();o&&(e("#btnAlert label").off("click"),e("#btnAlert label").on("click",function(){w(!S())}),w(!l),e(".alertsCheckbox").removeAttr("disabled"))}),"#DestAlert"==location.hash&&e(document).trigger("SaveAlertFromAuthentication",[!0]),this}function f(t){e(".alertsCheckbox").prop("checked",t)}var g=null,m={initAlertBtn:function(t,e,o,l,r,i){return g=new v(t,e,o,l,r,i)},getStatus:function(){g&&g.getStatus()}};t.DestAlert=m}(window.tzoo=window.tzoo||{},jQuery);
/* -- moment.min.js -- */
//! moment.js
//! version : 2.15.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function (a, b) { "object" == typeof exports && "undefined" != typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.moment = b() }(this, function () {
    "use strict"; function a() { return md.apply(null, arguments) }
    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function b(a) { md = a } function c(a) { return a instanceof Array || "[object Array]" === Object.prototype.toString.call(a) } function d(a) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return null != a && "[object Object]" === Object.prototype.toString.call(a)
    } function e(a) {
        var b; for (b in a)
            // even if its not own property I'd still call it non-empty
            return !1; return !0
    } function f(a) { return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a) } function g(a, b) { var c, d = []; for (c = 0; c < a.length; ++c) d.push(b(a[c], c)); return d } function h(a, b) { return Object.prototype.hasOwnProperty.call(a, b) } function i(a, b) { for (var c in b) h(b, c) && (a[c] = b[c]); return h(b, "toString") && (a.toString = b.toString), h(b, "valueOf") && (a.valueOf = b.valueOf), a } function j(a, b, c, d) { return qb(a, b, c, d, !0).utc() } function k() {
        // We need to deep clone this object.
        return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null }
    } function l(a) { return null == a._pf && (a._pf = k()), a._pf } function m(a) { if (null == a._isValid) { var b = l(a), c = nd.call(b.parsedDateParts, function (a) { return null != a }), d = !isNaN(a._d.getTime()) && b.overflow < 0 && !b.empty && !b.invalidMonth && !b.invalidWeekday && !b.nullInput && !b.invalidFormat && !b.userInvalidated && (!b.meridiem || b.meridiem && c); if (a._strict && (d = d && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour), null != Object.isFrozen && Object.isFrozen(a)) return d; a._isValid = d } return a._isValid } function n(a) { var b = j(NaN); return null != a ? i(l(b), a) : l(b).userInvalidated = !0, b } function o(a) { return void 0 === a } function p(a, b) { var c, d, e; if (o(b._isAMomentObject) || (a._isAMomentObject = b._isAMomentObject), o(b._i) || (a._i = b._i), o(b._f) || (a._f = b._f), o(b._l) || (a._l = b._l), o(b._strict) || (a._strict = b._strict), o(b._tzm) || (a._tzm = b._tzm), o(b._isUTC) || (a._isUTC = b._isUTC), o(b._offset) || (a._offset = b._offset), o(b._pf) || (a._pf = l(b)), o(b._locale) || (a._locale = b._locale), od.length > 0) for (c in od) d = od[c], e = b[d], o(e) || (a[d] = e); return a }
    // Moment prototype object
    function q(b) { p(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), pd === !1 && (pd = !0, a.updateOffset(this), pd = !1) } function r(a) { return a instanceof q || null != a && null != a._isAMomentObject } function s(a) { return 0 > a ? Math.ceil(a) || 0 : Math.floor(a) } function t(a) { var b = +a, c = 0; return 0 !== b && isFinite(b) && (c = s(b)), c }
    // compare two arrays, return the number of differences
    function u(a, b, c) { var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0; for (d = 0; e > d; d++) (c && a[d] !== b[d] || !c && t(a[d]) !== t(b[d])) && g++; return g + f } function v(b) { a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b) } function w(b, c) { var d = !0; return i(function () { if (null != a.deprecationHandler && a.deprecationHandler(null, b), d) { for (var e, f = [], g = 0; g < arguments.length; g++) { if (e = "", "object" == typeof arguments[g]) { e += "\n[" + g + "] "; for (var h in arguments[0]) e += h + ": " + arguments[0][h] + ", "; e = e.slice(0, -2) } else e = arguments[g]; f.push(e) } v(b + "\nArguments: " + Array.prototype.slice.call(f).join("") + "\n" + (new Error).stack), d = !1 } return c.apply(this, arguments) }, c) } function x(b, c) { null != a.deprecationHandler && a.deprecationHandler(b, c), qd[b] || (v(c), qd[b] = !0) } function y(a) { return a instanceof Function || "[object Function]" === Object.prototype.toString.call(a) } function z(a) {
        var b, c; for (c in a) b = a[c], y(b) ? this[c] = b : this["_" + c] = b; this._config = a,
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _ordinalParseLenient.
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    } function A(a, b) {
        var c, e = i({}, a); for (c in b) h(b, c) && (d(a[c]) && d(b[c]) ? (e[c] = {}, i(e[c], a[c]), i(e[c], b[c])) : null != b[c] ? e[c] = b[c] : delete e[c]); for (c in a) h(a, c) && !h(b, c) && d(a[c]) && (
        // make sure changes to properties don't modify parent config
        e[c] = i({}, e[c])); return e
    } function B(a) { null != a && this.set(a) } function C(a, b, c) { var d = this._calendar[a] || this._calendar.sameElse; return y(d) ? d.call(b, c) : d } function D(a) { var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()]; return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function (a) { return a.slice(1) }), this._longDateFormat[a]) } function E() { return this._invalidDate } function F(a) { return this._ordinal.replace("%d", a) } function G(a, b, c, d) { var e = this._relativeTime[c]; return y(e) ? e(a, b, c, d) : e.replace(/%d/i, a) } function H(a, b) { var c = this._relativeTime[a > 0 ? "future" : "past"]; return y(c) ? c(b) : c.replace(/%s/i, b) } function I(a, b) { var c = a.toLowerCase(); zd[c] = zd[c + "s"] = zd[b] = a } function J(a) { return "string" == typeof a ? zd[a] || zd[a.toLowerCase()] : void 0 } function K(a) { var b, c, d = {}; for (c in a) h(a, c) && (b = J(c), b && (d[b] = a[c])); return d } function L(a, b) { Ad[a] = b } function M(a) { var b = []; for (var c in a) b.push({ unit: c, priority: Ad[c] }); return b.sort(function (a, b) { return a.priority - b.priority }), b } function N(b, c) { return function (d) { return null != d ? (P(this, b, d), a.updateOffset(this, c), this) : O(this, b) } } function O(a, b) { return a.isValid() ? a._d["get" + (a._isUTC ? "UTC" : "") + b]() : NaN } function P(a, b, c) { a.isValid() && a._d["set" + (a._isUTC ? "UTC" : "") + b](c) }
    // MOMENTS
    function Q(a) { return a = J(a), y(this[a]) ? this[a]() : this } function R(a, b) { if ("object" == typeof a) { a = K(a); for (var c = M(a), d = 0; d < c.length; d++) this[c[d].unit](a[c[d].unit]) } else if (a = J(a), y(this[a])) return this[a](b); return this } function S(a, b, c) { var d = "" + Math.abs(a), e = b - d.length, f = a >= 0; return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d }
    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function T(a, b, c, d) { var e = d; "string" == typeof d && (e = function () { return this[d]() }), a && (Ed[a] = e), b && (Ed[b[0]] = function () { return S(e.apply(this, arguments), b[1], b[2]) }), c && (Ed[c] = function () { return this.localeData().ordinal(e.apply(this, arguments), a) }) } function U(a) { return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "") } function V(a) { var b, c, d = a.match(Bd); for (b = 0, c = d.length; c > b; b++) Ed[d[b]] ? d[b] = Ed[d[b]] : d[b] = U(d[b]); return function (b) { var e, f = ""; for (e = 0; c > e; e++) f += d[e] instanceof Function ? d[e].call(b, a) : d[e]; return f } }
    // format date using native date object
    function W(a, b) { return a.isValid() ? (b = X(b, a.localeData()), Dd[b] = Dd[b] || V(b), Dd[b](a)) : a.localeData().invalidDate() } function X(a, b) { function c(a) { return b.longDateFormat(a) || a } var d = 5; for (Cd.lastIndex = 0; d >= 0 && Cd.test(a) ;) a = a.replace(Cd, c), Cd.lastIndex = 0, d -= 1; return a } function Y(a, b, c) { Wd[a] = y(b) ? b : function (a, d) { return a && c ? c : b } } function Z(a, b) { return h(Wd, a) ? Wd[a](b._strict, b._locale) : new RegExp($(a)) }
    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function $(a) { return _(a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (a, b, c, d, e) { return b || c || d || e })) } function _(a) { return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function aa(a, b) { var c, d = b; for ("string" == typeof a && (a = [a]), "number" == typeof b && (d = function (a, c) { c[b] = t(a) }), c = 0; c < a.length; c++) Xd[a[c]] = d } function ba(a, b) { aa(a, function (a, c, d, e) { d._w = d._w || {}, b(a, d._w, d, e) }) } function ca(a, b, c) { null != b && h(Xd, a) && Xd[a](b, c._a, c, a) } function da(a, b) { return new Date(Date.UTC(a, b + 1, 0)).getUTCDate() } function ea(a, b) { return a ? c(this._months) ? this._months[a.month()] : this._months[(this._months.isFormat || fe).test(b) ? "format" : "standalone"][a.month()] : this._months } function fa(a, b) { return a ? c(this._monthsShort) ? this._monthsShort[a.month()] : this._monthsShort[fe.test(b) ? "format" : "standalone"][a.month()] : this._monthsShort } function ga(a, b, c) {
        var d, e, f, g = a.toLocaleLowerCase(); if (!this._monthsParse) for (
            // this is not used
        this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], d = 0; 12 > d; ++d) f = j([2e3, d]), this._shortMonthsParse[d] = this.monthsShort(f, "").toLocaleLowerCase(), this._longMonthsParse[d] = this.months(f, "").toLocaleLowerCase(); return c ? "MMM" === b ? (e = sd.call(this._shortMonthsParse, g), -1 !== e ? e : null) : (e = sd.call(this._longMonthsParse, g), -1 !== e ? e : null) : "MMM" === b ? (e = sd.call(this._shortMonthsParse, g), -1 !== e ? e : (e = sd.call(this._longMonthsParse, g), -1 !== e ? e : null)) : (e = sd.call(this._longMonthsParse, g), -1 !== e ? e : (e = sd.call(this._shortMonthsParse, g), -1 !== e ? e : null))
    } function ha(a, b, c) {
        var d, e, f; if (this._monthsParseExact) return ga.call(this, a, b, c);
        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), d = 0; 12 > d; d++) {
            // test the regex
            if (e = j([2e3, d]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a)) return d; if (c && "MMM" === b && this._shortMonthsParse[d].test(a)) return d; if (!c && this._monthsParse[d].test(a)) return d
        }
    }
    // MOMENTS
    function ia(a, b) {
        var c; if (!a.isValid())
            // No op
            return a; if ("string" == typeof b) if (/^\d+$/.test(b)) b = t(b); else
                // TODO: Another silent failure?
                if (b = a.localeData().monthsParse(b), "number" != typeof b) return a; return c = Math.min(a.date(), da(a.year(), b)), a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a
    } function ja(b) { return null != b ? (ia(this, b), a.updateOffset(this, !0), this) : O(this, "Month") } function ka() { return da(this.year(), this.month()) } function la(a) { return this._monthsParseExact ? (h(this, "_monthsRegex") || na.call(this), a ? this._monthsShortStrictRegex : this._monthsShortRegex) : (h(this, "_monthsShortRegex") || (this._monthsShortRegex = ie), this._monthsShortStrictRegex && a ? this._monthsShortStrictRegex : this._monthsShortRegex) } function ma(a) { return this._monthsParseExact ? (h(this, "_monthsRegex") || na.call(this), a ? this._monthsStrictRegex : this._monthsRegex) : (h(this, "_monthsRegex") || (this._monthsRegex = je), this._monthsStrictRegex && a ? this._monthsStrictRegex : this._monthsRegex) } function na() {
        function a(a, b) { return b.length - a.length } var b, c, d = [], e = [], f = []; for (b = 0; 12 > b; b++) c = j([2e3, b]), d.push(this.monthsShort(c, "")), e.push(this.months(c, "")), f.push(this.months(c, "")), f.push(this.monthsShort(c, "")); for (
            // Sorting makes sure if one month (or abbr) is a prefix of another it
            // will match the longer piece.
        d.sort(a), e.sort(a), f.sort(a), b = 0; 12 > b; b++) d[b] = _(d[b]), e[b] = _(e[b]); for (b = 0; 24 > b; b++) f[b] = _(f[b]); this._monthsRegex = new RegExp("^(" + f.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + d.join("|") + ")", "i")
    }
    // HELPERS
    function oa(a) { return pa(a) ? 366 : 365 } function pa(a) { return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0 } function qa() { return pa(this.year()) } function ra(a, b, c, d, e, f, g) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var h = new Date(a, b, c, d, e, f, g);
        //the date constructor remaps years 0-99 to 1900-1999
        return 100 > a && a >= 0 && isFinite(h.getFullYear()) && h.setFullYear(a), h
    } function sa(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        //the Date.UTC function remaps years 0-99 to 1900-1999
        return 100 > a && a >= 0 && isFinite(b.getUTCFullYear()) && b.setUTCFullYear(a), b
    }
    // start-of-first-week - start-of-year
    function ta(a, b, c) {
        var// first-week day -- which january is always in the first week (4 for iso, 1 for other)
        d = 7 + b - c,
        // first-week day local weekday -- which local weekday is fwd
        e = (7 + sa(a, 0, d).getUTCDay() - b) % 7; return -e + d - 1
    }
    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function ua(a, b, c, d, e) { var f, g, h = (7 + c - d) % 7, i = ta(a, d, e), j = 1 + 7 * (b - 1) + h + i; return 0 >= j ? (f = a - 1, g = oa(f) + j) : j > oa(a) ? (f = a + 1, g = j - oa(a)) : (f = a, g = j), { year: f, dayOfYear: g } } function va(a, b, c) { var d, e, f = ta(a.year(), b, c), g = Math.floor((a.dayOfYear() - f - 1) / 7) + 1; return 1 > g ? (e = a.year() - 1, d = g + wa(e, b, c)) : g > wa(a.year(), b, c) ? (d = g - wa(a.year(), b, c), e = a.year() + 1) : (e = a.year(), d = g), { week: d, year: e } } function wa(a, b, c) { var d = ta(a, b, c), e = ta(a + 1, b, c); return (oa(a) - d + e) / 7 }
    // HELPERS
    // LOCALES
    function xa(a) { return va(a, this._week.dow, this._week.doy).week } function ya() { return this._week.dow } function za() { return this._week.doy }
    // MOMENTS
    function Aa(a) { var b = this.localeData().week(this); return null == a ? b : this.add(7 * (a - b), "d") } function Ba(a) { var b = va(this, 1, 4).week; return null == a ? b : this.add(7 * (a - b), "d") }
    // HELPERS
    function Ca(a, b) { return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10) } function Da(a, b) { return "string" == typeof a ? b.weekdaysParse(a) % 7 || 7 : isNaN(a) ? null : a } function Ea(a, b) { return a ? c(this._weekdays) ? this._weekdays[a.day()] : this._weekdays[this._weekdays.isFormat.test(b) ? "format" : "standalone"][a.day()] : this._weekdays } function Fa(a) { return a ? this._weekdaysShort[a.day()] : this._weekdaysShort } function Ga(a) { return a ? this._weekdaysMin[a.day()] : this._weekdaysMin } function Ha(a, b, c) { var d, e, f, g = a.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], d = 0; 7 > d; ++d) f = j([2e3, 1]).day(d), this._minWeekdaysParse[d] = this.weekdaysMin(f, "").toLocaleLowerCase(), this._shortWeekdaysParse[d] = this.weekdaysShort(f, "").toLocaleLowerCase(), this._weekdaysParse[d] = this.weekdays(f, "").toLocaleLowerCase(); return c ? "dddd" === b ? (e = sd.call(this._weekdaysParse, g), -1 !== e ? e : null) : "ddd" === b ? (e = sd.call(this._shortWeekdaysParse, g), -1 !== e ? e : null) : (e = sd.call(this._minWeekdaysParse, g), -1 !== e ? e : null) : "dddd" === b ? (e = sd.call(this._weekdaysParse, g), -1 !== e ? e : (e = sd.call(this._shortWeekdaysParse, g), -1 !== e ? e : (e = sd.call(this._minWeekdaysParse, g), -1 !== e ? e : null))) : "ddd" === b ? (e = sd.call(this._shortWeekdaysParse, g), -1 !== e ? e : (e = sd.call(this._weekdaysParse, g), -1 !== e ? e : (e = sd.call(this._minWeekdaysParse, g), -1 !== e ? e : null))) : (e = sd.call(this._minWeekdaysParse, g), -1 !== e ? e : (e = sd.call(this._weekdaysParse, g), -1 !== e ? e : (e = sd.call(this._shortWeekdaysParse, g), -1 !== e ? e : null))) } function Ia(a, b, c) {
        var d, e, f; if (this._weekdaysParseExact) return Ha.call(this, a, b, c); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), d = 0; 7 > d; d++) {
            // test the regex
            if (e = j([2e3, 1]).day(d), c && !this._fullWeekdaysParse[d] && (this._fullWeekdaysParse[d] = new RegExp("^" + this.weekdays(e, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[d] = new RegExp("^" + this.weekdaysShort(e, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[d] = new RegExp("^" + this.weekdaysMin(e, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[d] || (f = "^" + this.weekdays(e, "") + "|^" + this.weekdaysShort(e, "") + "|^" + this.weekdaysMin(e, ""), this._weekdaysParse[d] = new RegExp(f.replace(".", ""), "i")), c && "dddd" === b && this._fullWeekdaysParse[d].test(a)) return d; if (c && "ddd" === b && this._shortWeekdaysParse[d].test(a)) return d; if (c && "dd" === b && this._minWeekdaysParse[d].test(a)) return d; if (!c && this._weekdaysParse[d].test(a)) return d
        }
    }
    // MOMENTS
    function Ja(a) { if (!this.isValid()) return null != a ? this : NaN; var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != a ? (a = Ca(a, this.localeData()), this.add(a - b, "d")) : b } function Ka(a) { if (!this.isValid()) return null != a ? this : NaN; var b = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == a ? b : this.add(a - b, "d") } function La(a) {
        if (!this.isValid()) return null != a ? this : NaN;
        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.
        if (null != a) { var b = Da(a, this.localeData()); return this.day(this.day() % 7 ? b : b - 7) } return this.day() || 7
    } function Ma(a) { return this._weekdaysParseExact ? (h(this, "_weekdaysRegex") || Pa.call(this), a ? this._weekdaysStrictRegex : this._weekdaysRegex) : (h(this, "_weekdaysRegex") || (this._weekdaysRegex = pe), this._weekdaysStrictRegex && a ? this._weekdaysStrictRegex : this._weekdaysRegex) } function Na(a) { return this._weekdaysParseExact ? (h(this, "_weekdaysRegex") || Pa.call(this), a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (h(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = qe), this._weekdaysShortStrictRegex && a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) } function Oa(a) { return this._weekdaysParseExact ? (h(this, "_weekdaysRegex") || Pa.call(this), a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (h(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = re), this._weekdaysMinStrictRegex && a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) } function Pa() {
        function a(a, b) { return b.length - a.length } var b, c, d, e, f, g = [], h = [], i = [], k = []; for (b = 0; 7 > b; b++) c = j([2e3, 1]).day(b), d = this.weekdaysMin(c, ""), e = this.weekdaysShort(c, ""), f = this.weekdays(c, ""), g.push(d), h.push(e), i.push(f), k.push(d), k.push(e), k.push(f); for (
            // Sorting makes sure if one weekday (or abbr) is a prefix of another it
            // will match the longer piece.
        g.sort(a), h.sort(a), i.sort(a), k.sort(a), b = 0; 7 > b; b++) h[b] = _(h[b]), i[b] = _(i[b]), k[b] = _(k[b]); this._weekdaysRegex = new RegExp("^(" + k.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + h.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + g.join("|") + ")", "i")
    }
    // FORMATTING
    function Qa() { return this.hours() % 12 || 12 } function Ra() { return this.hours() || 24 } function Sa(a, b) { T(a, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), b) }) }
    // PARSING
    function Ta(a, b) { return b._meridiemParse }
    // LOCALES
    function Ua(a) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return "p" === (a + "").toLowerCase().charAt(0)
    } function Va(a, b, c) { return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM" } function Wa(a) { return a ? a.toLowerCase().replace("_", "-") : a }
    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function Xa(a) {
        for (var b, c, d, e, f = 0; f < a.length;) {
            for (e = Wa(a[f]).split("-"), b = e.length, c = Wa(a[f + 1]), c = c ? c.split("-") : null; b > 0;) {
                if (d = Ya(e.slice(0, b).join("-"))) return d; if (c && c.length >= b && u(e, c, !0) >= b - 1)
                    //the next array item is better than a shallower substring of this one
                    break; b--
            } f++
        } return null
    } function Ya(a) {
        var b = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!we[a] && "undefined" != typeof module && module && module.exports) try {
            b = se._abbr, require("./locale/" + a),
            // because defineLocale currently also sets the global locale, we
            // want to undo that for lazy loaded locales
            Za(b)
        } catch (c) { } return we[a]
    }
    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function Za(a, b) {
        var c;
        // moment.duration._locale = moment._locale = data;
        return a && (c = o(b) ? ab(a) : $a(a, b), c && (se = c)), se._abbr
    } function $a(a, b) {
        if (null !== b) {
            var c = ve;
            // treat as if there is no base config
            // backwards compat for now: also set the locale
            return b.abbr = a, null != we[a] ? (x("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), c = we[a]._config) : null != b.parentLocale && (null != we[b.parentLocale] ? c = we[b.parentLocale]._config : x("parentLocaleUndefined", "specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")), we[a] = new B(A(c, b)), Za(a), we[a]
        }
        // useful for testing
        return delete we[a], null
    } function _a(a, b) {
        if (null != b) {
            var c, d = ve;
            // MERGE
            null != we[a] && (d = we[a]._config), b = A(d, b), c = new B(b), c.parentLocale = we[a], we[a] = c,
            // backwards compat for now: also set the locale
            Za(a)
        } else
            // pass null for config to unupdate, useful for tests
            null != we[a] && (null != we[a].parentLocale ? we[a] = we[a].parentLocale : null != we[a] && delete we[a]); return we[a]
    }
    // returns locale data
    function ab(a) { var b; if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return se; if (!c(a)) { if (b = Ya(a)) return b; a = [a] } return Xa(a) } function bb() { return rd(we) } function cb(a) { var b, c = a._a; return c && -2 === l(a).overflow && (b = c[Zd] < 0 || c[Zd] > 11 ? Zd : c[$d] < 1 || c[$d] > da(c[Yd], c[Zd]) ? $d : c[_d] < 0 || c[_d] > 24 || 24 === c[_d] && (0 !== c[ae] || 0 !== c[be] || 0 !== c[ce]) ? _d : c[ae] < 0 || c[ae] > 59 ? ae : c[be] < 0 || c[be] > 59 ? be : c[ce] < 0 || c[ce] > 999 ? ce : -1, l(a)._overflowDayOfYear && (Yd > b || b > $d) && (b = $d), l(a)._overflowWeeks && -1 === b && (b = de), l(a)._overflowWeekday && -1 === b && (b = ee), l(a).overflow = b), a }
    // date from iso format
    function db(a) {
        var b, c, d, e, f, g, h = a._i, i = xe.exec(h) || ye.exec(h); if (i) {
            for (l(a).iso = !0, b = 0, c = Ae.length; c > b; b++) if (Ae[b][1].exec(i[1])) { e = Ae[b][0], d = Ae[b][2] !== !1; break } if (null == e) return void (a._isValid = !1); if (i[3]) {
                for (b = 0, c = Be.length; c > b; b++) if (Be[b][1].exec(i[3])) {
                    // match[2] should be 'T' or space
                    f = (i[2] || " ") + Be[b][0]; break
                } if (null == f) return void (a._isValid = !1)
            } if (!d && null != f) return void (a._isValid = !1); if (i[4]) { if (!ze.exec(i[4])) return void (a._isValid = !1); g = "Z" } a._f = e + (f || "") + (g || ""), jb(a)
        } else a._isValid = !1
    }
    // date from iso format or fallback
    function eb(b) { var c = Ce.exec(b._i); return null !== c ? void (b._d = new Date(+c[1])) : (db(b), void (b._isValid === !1 && (delete b._isValid, a.createFromInputFallback(b)))) }
    // Pick the first defined of two or three arguments.
    function fb(a, b, c) { return null != a ? a : null != b ? b : c } function gb(b) {
        // hooks is actually the exported moment object
        var c = new Date(a.now()); return b._useUTC ? [c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()] : [c.getFullYear(), c.getMonth(), c.getDate()]
    }
    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function hb(a) {
        var b, c, d, e, f = []; if (!a._d) {
            // Default to current date.
            // * if no year, month, day of month are given, default to today
            // * if day of month is given, default month and year
            // * if month is given, default only year
            // * if year is given, don't default anything
            for (d = gb(a), a._w && null == a._a[$d] && null == a._a[Zd] && ib(a), a._dayOfYear && (e = fb(a._a[Yd], d[Yd]), a._dayOfYear > oa(e) && (l(a)._overflowDayOfYear = !0), c = sa(e, 0, a._dayOfYear), a._a[Zd] = c.getUTCMonth(), a._a[$d] = c.getUTCDate()), b = 0; 3 > b && null == a._a[b]; ++b) a._a[b] = f[b] = d[b];
            // Zero out whatever was not defaulted, including time
            for (; 7 > b; b++) a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
            // Check for 24:00:00.000
            24 === a._a[_d] && 0 === a._a[ae] && 0 === a._a[be] && 0 === a._a[ce] && (a._nextDay = !0, a._a[_d] = 0), a._d = (a._useUTC ? sa : ra).apply(null, f),
            // Apply timezone offset from input. The actual utcOffset can be changed
            // with parseZone.
            null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), a._nextDay && (a._a[_d] = 24)
        }
    } function ib(a) { var b, c, d, e, f, g, h, i; b = a._w, null != b.GG || null != b.W || null != b.E ? (f = 1, g = 4, c = fb(b.GG, a._a[Yd], va(rb(), 1, 4).year), d = fb(b.W, 1), e = fb(b.E, 1), (1 > e || e > 7) && (i = !0)) : (f = a._locale._week.dow, g = a._locale._week.doy, c = fb(b.gg, a._a[Yd], va(rb(), f, g).year), d = fb(b.w, 1), null != b.d ? (e = b.d, (0 > e || e > 6) && (i = !0)) : null != b.e ? (e = b.e + f, (b.e < 0 || b.e > 6) && (i = !0)) : e = f), 1 > d || d > wa(c, f, g) ? l(a)._overflowWeeks = !0 : null != i ? l(a)._overflowWeekday = !0 : (h = ua(c, d, e, f, g), a._a[Yd] = h.year, a._dayOfYear = h.dayOfYear) }
    // date from string and format string
    function jb(b) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (b._f === a.ISO_8601) return void db(b); b._a = [], l(b).empty = !0;
        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var c, d, e, f, g, h = "" + b._i, i = h.length, j = 0; for (e = X(b._f, b._locale).match(Bd) || [], c = 0; c < e.length; c++) f = e[c], d = (h.match(Z(f, b)) || [])[0], d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && l(b).unusedInput.push(g), h = h.slice(h.indexOf(d) + d.length), j += d.length), Ed[f] ? (d ? l(b).empty = !1 : l(b).unusedTokens.push(f), ca(f, d, b)) : b._strict && !d && l(b).unusedTokens.push(f);
        // add remaining unparsed input length to the string
        l(b).charsLeftOver = i - j, h.length > 0 && l(b).unusedInput.push(h),
        // clear _12h flag if hour is <= 12
        b._a[_d] <= 12 && l(b).bigHour === !0 && b._a[_d] > 0 && (l(b).bigHour = void 0), l(b).parsedDateParts = b._a.slice(0), l(b).meridiem = b._meridiem,
        // handle meridiem
        b._a[_d] = kb(b._locale, b._a[_d], b._meridiem), hb(b), cb(b)
    } function kb(a, b, c) {
        var d;
        // Fallback
        return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), d && 12 > b && (b += 12), d || 12 !== b || (b = 0), b) : b
    }
    // date from string and array of format strings
    function lb(a) { var b, c, d, e, f; if (0 === a._f.length) return l(a).invalidFormat = !0, void (a._d = new Date(NaN)); for (e = 0; e < a._f.length; e++) f = 0, b = p({}, a), null != a._useUTC && (b._useUTC = a._useUTC), b._f = a._f[e], jb(b), m(b) && (f += l(b).charsLeftOver, f += 10 * l(b).unusedTokens.length, l(b).score = f, (null == d || d > f) && (d = f, c = b)); i(a, c || b) } function mb(a) { if (!a._d) { var b = K(a._i); a._a = g([b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond], function (a) { return a && parseInt(a, 10) }), hb(a) } } function nb(a) {
        var b = new q(cb(ob(a)));
        // Adding is smart enough around DST
        return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b
    } function ob(a) { var b = a._i, d = a._f; return a._locale = a._locale || ab(a._l), null === b || void 0 === d && "" === b ? n({ nullInput: !0 }) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), r(b) ? new q(cb(b)) : (c(d) ? lb(a) : f(b) ? a._d = b : d ? jb(a) : pb(a), m(a) || (a._d = null), a)) } function pb(b) {
        var d = b._i; void 0 === d ? b._d = new Date(a.now()) : f(d) ? b._d = new Date(d.valueOf()) : "string" == typeof d ? eb(b) : c(d) ? (b._a = g(d.slice(0), function (a) { return parseInt(a, 10) }), hb(b)) : "object" == typeof d ? mb(b) : "number" == typeof d ?
        // from milliseconds
        b._d = new Date(d) : a.createFromInputFallback(b)
    } function qb(a, b, f, g, h) {
        var i = {};
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        return "boolean" == typeof f && (g = f, f = void 0), (d(a) && e(a) || c(a) && 0 === a.length) && (a = void 0), i._isAMomentObject = !0, i._useUTC = i._isUTC = h, i._l = f, i._i = a, i._f = b, i._strict = g, nb(i)
    } function rb(a, b, c, d) { return qb(a, b, c, d, !1) }
    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function sb(a, b) { var d, e; if (1 === b.length && c(b[0]) && (b = b[0]), !b.length) return rb(); for (d = b[0], e = 1; e < b.length; ++e) b[e].isValid() && !b[e][a](d) || (d = b[e]); return d }
    // TODO: Use [].sort instead?
    function tb() { var a = [].slice.call(arguments, 0); return sb("isBefore", a) } function ub() { var a = [].slice.call(arguments, 0); return sb("isAfter", a) } function vb(a) {
        var b = K(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
        // representation for dateAddRemove
        this._milliseconds = +k + 1e3 * j +// 1000
        6e4 * i +// 1000 * 60
        1e3 * h * 60 * 60,//using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +g + 7 * f,
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = ab(), this._bubble()
    } function wb(a) { return a instanceof vb } function xb(a) { return 0 > a ? -1 * Math.round(-1 * a) : Math.round(a) }
    // FORMATTING
    function yb(a, b) { T(a, 0, 0, function () { var a = this.utcOffset(), c = "+"; return 0 > a && (a = -a, c = "-"), c + S(~~(a / 60), 2) + b + S(~~a % 60, 2) }) } function zb(a, b) { var c = (b || "").match(a) || [], d = c[c.length - 1] || [], e = (d + "").match(Ge) || ["-", 0, 0], f = +(60 * e[1]) + t(e[2]); return "+" === e[0] ? f : -f }
    // Return a moment from input, that is local/utc/zone equivalent to model.
    function Ab(b, c) {
        var d, e;
        // Use low-level api, because this fn is low-level api.
        return c._isUTC ? (d = c.clone(), e = (r(b) || f(b) ? b.valueOf() : rb(b).valueOf()) - d.valueOf(), d._d.setTime(d._d.valueOf() + e), a.updateOffset(d, !1), d) : rb(b).local()
    } function Bb(a) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return 15 * -Math.round(a._d.getTimezoneOffset() / 15)
    }
    // MOMENTS
    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function Cb(b, c) { var d, e = this._offset || 0; return this.isValid() ? null != b ? ("string" == typeof b ? b = zb(Td, b) : Math.abs(b) < 16 && (b = 60 * b), !this._isUTC && c && (d = Bb(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), e !== b && (!c || this._changeInProgress ? Sb(this, Nb(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, a.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? e : Bb(this) : null != b ? this : NaN } function Db(a, b) { return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset() } function Eb(a) { return this.utcOffset(0, a) } function Fb(a) { return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Bb(this), "m")), this } function Gb() { if (this._tzm) this.utcOffset(this._tzm); else if ("string" == typeof this._i) { var a = zb(Sd, this._i); 0 === a ? this.utcOffset(0, !0) : this.utcOffset(zb(Sd, this._i)) } return this } function Hb(a) { return this.isValid() ? (a = a ? rb(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0) : !1 } function Ib() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function Jb() { if (!o(this._isDSTShifted)) return this._isDSTShifted; var a = {}; if (p(a, this), a = ob(a), a._a) { var b = a._isUTC ? j(a._a) : rb(a._a); this._isDSTShifted = this.isValid() && u(a._a, b.toArray()) > 0 } else this._isDSTShifted = !1; return this._isDSTShifted } function Kb() { return this.isValid() ? !this._isUTC : !1 } function Lb() { return this.isValid() ? this._isUTC : !1 } function Mb() { return this.isValid() ? this._isUTC && 0 === this._offset : !1 } function Nb(a, b) {
        var c, d, e, f = a,
        // matching against regexp is expensive, do it on demand
        g = null;// checks for null or undefined
        return wb(a) ? f = { ms: a._milliseconds, d: a._days, M: a._months } : "number" == typeof a ? (f = {}, b ? f[b] = a : f.milliseconds = a) : (g = He.exec(a)) ? (c = "-" === g[1] ? -1 : 1, f = { y: 0, d: t(g[$d]) * c, h: t(g[_d]) * c, m: t(g[ae]) * c, s: t(g[be]) * c, ms: t(xb(1e3 * g[ce])) * c }) : (g = Ie.exec(a)) ? (c = "-" === g[1] ? -1 : 1, f = { y: Ob(g[2], c), M: Ob(g[3], c), w: Ob(g[4], c), d: Ob(g[5], c), h: Ob(g[6], c), m: Ob(g[7], c), s: Ob(g[8], c) }) : null == f ? f = {} : "object" == typeof f && ("from" in f || "to" in f) && (e = Qb(rb(f.from), rb(f.to)), f = {}, f.ms = e.milliseconds, f.M = e.months), d = new vb(f), wb(a) && h(a, "_locale") && (d._locale = a._locale), d
    } function Ob(a, b) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var c = a && parseFloat(a.replace(",", "."));
        // apply sign while we're at it
        return (isNaN(c) ? 0 : c) * b
    } function Pb(a, b) { var c = { milliseconds: 0, months: 0 }; return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, c.milliseconds = +b - +a.clone().add(c.months, "M"), c } function Qb(a, b) { var c; return a.isValid() && b.isValid() ? (b = Ab(b, a), a.isBefore(b) ? c = Pb(a, b) : (c = Pb(b, a), c.milliseconds = -c.milliseconds, c.months = -c.months), c) : { milliseconds: 0, months: 0 } }
    // TODO: remove 'name' arg after deprecation is removed
    function Rb(a, b) {
        return function (c, d) {
            var e, f;
            //invert the arguments, but complain about it
            return null === d || isNaN(+d) || (x(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = Nb(c, d), Sb(this, e, a), this
        }
    } function Sb(b, c, d, e) { var f = c._milliseconds, g = xb(c._days), h = xb(c._months); b.isValid() && (e = null == e ? !0 : e, f && b._d.setTime(b._d.valueOf() + f * d), g && P(b, "Date", O(b, "Date") + g * d), h && ia(b, O(b, "Month") + h * d), e && a.updateOffset(b, g || h)) } function Tb(a, b) { var c = a.diff(b, "days", !0); return -6 > c ? "sameElse" : -1 > c ? "lastWeek" : 0 > c ? "lastDay" : 1 > c ? "sameDay" : 2 > c ? "nextDay" : 7 > c ? "nextWeek" : "sameElse" } function Ub(b, c) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var d = b || rb(), e = Ab(d, this).startOf("day"), f = a.calendarFormat(this, e) || "sameElse", g = c && (y(c[f]) ? c[f].call(this, d) : c[f]); return this.format(g || this.localeData().calendar(f, this, rb(d)))
    } function Vb() { return new q(this) } function Wb(a, b) { var c = r(a) ? a : rb(a); return this.isValid() && c.isValid() ? (b = J(o(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() > c.valueOf() : c.valueOf() < this.clone().startOf(b).valueOf()) : !1 } function Xb(a, b) { var c = r(a) ? a : rb(a); return this.isValid() && c.isValid() ? (b = J(o(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() < c.valueOf() : this.clone().endOf(b).valueOf() < c.valueOf()) : !1 } function Yb(a, b, c, d) { return d = d || "()", ("(" === d[0] ? this.isAfter(a, c) : !this.isBefore(a, c)) && (")" === d[1] ? this.isBefore(b, c) : !this.isAfter(b, c)) } function Zb(a, b) { var c, d = r(a) ? a : rb(a); return this.isValid() && d.isValid() ? (b = J(b || "millisecond"), "millisecond" === b ? this.valueOf() === d.valueOf() : (c = d.valueOf(), this.clone().startOf(b).valueOf() <= c && c <= this.clone().endOf(b).valueOf())) : !1 } function $b(a, b) { return this.isSame(a, b) || this.isAfter(a, b) } function _b(a, b) { return this.isSame(a, b) || this.isBefore(a, b) } function ac(a, b, c) {
        var d, e, f, g;// 1000
        // 1000 * 60
        // 1000 * 60 * 60
        // 1000 * 60 * 60 * 24, negate dst
        // 1000 * 60 * 60 * 24 * 7, negate dst
        return this.isValid() ? (d = Ab(a, this), d.isValid() ? (e = 6e4 * (d.utcOffset() - this.utcOffset()), b = J(b), "year" === b || "month" === b || "quarter" === b ? (g = bc(this, d), "quarter" === b ? g /= 3 : "year" === b && (g /= 12)) : (f = this - d, g = "second" === b ? f / 1e3 : "minute" === b ? f / 6e4 : "hour" === b ? f / 36e5 : "day" === b ? (f - e) / 864e5 : "week" === b ? (f - e) / 6048e5 : f), c ? g : s(g)) : NaN) : NaN
    } function bc(a, b) {
        // difference in months
        var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
        f = a.clone().add(e, "months");
        //check for negative zero, return zero if negative zero
        // linear across the month
        // linear across the month
        return 0 > b - f ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), d = (b - f) / (c - f)), -(e + d) || 0
    } function cc() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function dc() { var a = this.clone().utc(); return 0 < a.year() && a.year() <= 9999 ? y(Date.prototype.toISOString) ? this.toDate().toISOString() : W(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : W(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") } function ec(b) { b || (b = this.isUtc() ? a.defaultFormatUtc : a.defaultFormat); var c = W(this, b); return this.localeData().postformat(c) } function fc(a, b) { return this.isValid() && (r(a) && a.isValid() || rb(a).isValid()) ? Nb({ to: this, from: a }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate() } function gc(a) { return this.from(rb(), a) } function hc(a, b) { return this.isValid() && (r(a) && a.isValid() || rb(a).isValid()) ? Nb({ from: this, to: a }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate() } function ic(a) { return this.to(rb(), a) }
    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function jc(a) { var b; return void 0 === a ? this._locale._abbr : (b = ab(a), null != b && (this._locale = b), this) } function kc() { return this._locale } function lc(a) {
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (a = J(a)) {
            case "year": this.month(0);/* falls through */
            case "quarter": case "month": this.date(1);/* falls through */
            case "week": case "isoWeek": case "day": case "date": this.hours(0);/* falls through */
            case "hour": this.minutes(0);/* falls through */
            case "minute": this.seconds(0);/* falls through */
            case "second": this.milliseconds(0)
        }
        // weeks are a special case
        // quarters are also special
        return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), this
    } function mc(a) {
        // 'date' is an alias for 'day', so it should be considered as such.
        return a = J(a), void 0 === a || "millisecond" === a ? this : ("date" === a && (a = "day"), this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms"))
    } function nc() { return this._d.valueOf() - 6e4 * (this._offset || 0) } function oc() { return Math.floor(this.valueOf() / 1e3) } function pc() { return new Date(this.valueOf()) } function qc() { var a = this; return [a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond()] } function rc() { var a = this; return { years: a.year(), months: a.month(), date: a.date(), hours: a.hours(), minutes: a.minutes(), seconds: a.seconds(), milliseconds: a.milliseconds() } } function sc() {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null
    } function tc() { return m(this) } function uc() { return i({}, l(this)) } function vc() { return l(this).overflow } function wc() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } function xc(a, b) { T(0, [a, a.length], 0, b) }
    // MOMENTS
    function yc(a) { return Cc.call(this, a, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) } function zc(a) { return Cc.call(this, a, this.isoWeek(), this.isoWeekday(), 1, 4) } function Ac() { return wa(this.year(), 1, 4) } function Bc() { var a = this.localeData()._week; return wa(this.year(), a.dow, a.doy) } function Cc(a, b, c, d, e) { var f; return null == a ? va(this, d, e).year : (f = wa(a, d, e), b > f && (b = f), Dc.call(this, a, b, c, d, e)) } function Dc(a, b, c, d, e) { var f = ua(a, b, c, d, e), g = sa(f.year, 0, f.dayOfYear); return this.year(g.getUTCFullYear()), this.month(g.getUTCMonth()), this.date(g.getUTCDate()), this }
    // MOMENTS
    function Ec(a) { return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3) }
    // HELPERS
    // MOMENTS
    function Fc(a) { var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == a ? b : this.add(a - b, "d") } function Gc(a, b) { b[ce] = t(1e3 * ("0." + a)) }
    // MOMENTS
    function Hc() { return this._isUTC ? "UTC" : "" } function Ic() { return this._isUTC ? "Coordinated Universal Time" : "" } function Jc(a) { return rb(1e3 * a) } function Kc() { return rb.apply(null, arguments).parseZone() } function Lc(a) { return a } function Mc(a, b, c, d) { var e = ab(), f = j().set(d, b); return e[c](f, a) } function Nc(a, b, c) { if ("number" == typeof a && (b = a, a = void 0), a = a || "", null != b) return Mc(a, b, c, "month"); var d, e = []; for (d = 0; 12 > d; d++) e[d] = Mc(a, d, c, "month"); return e }
    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function Oc(a, b, c, d) { "boolean" == typeof a ? ("number" == typeof b && (c = b, b = void 0), b = b || "") : (b = a, c = b, a = !1, "number" == typeof b && (c = b, b = void 0), b = b || ""); var e = ab(), f = a ? e._week.dow : 0; if (null != c) return Mc(b, (c + f) % 7, d, "day"); var g, h = []; for (g = 0; 7 > g; g++) h[g] = Mc(b, (g + f) % 7, d, "day"); return h } function Pc(a, b) { return Nc(a, b, "months") } function Qc(a, b) { return Nc(a, b, "monthsShort") } function Rc(a, b, c) { return Oc(a, b, c, "weekdays") } function Sc(a, b, c) { return Oc(a, b, c, "weekdaysShort") } function Tc(a, b, c) { return Oc(a, b, c, "weekdaysMin") } function Uc() { var a = this._data; return this._milliseconds = Ue(this._milliseconds), this._days = Ue(this._days), this._months = Ue(this._months), a.milliseconds = Ue(a.milliseconds), a.seconds = Ue(a.seconds), a.minutes = Ue(a.minutes), a.hours = Ue(a.hours), a.months = Ue(a.months), a.years = Ue(a.years), this } function Vc(a, b, c, d) { var e = Nb(b, c); return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, a._bubble() }
    // supports only 2.0-style add(1, 's') or add(duration)
    function Wc(a, b) { return Vc(this, a, b, 1) }
    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function Xc(a, b) { return Vc(this, a, b, -1) } function Yc(a) { return 0 > a ? Math.floor(a) : Math.ceil(a) } function Zc() {
        var a, b, c, d, e, f = this._milliseconds, g = this._days, h = this._months, i = this._data;
        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        // The following code bubbles up values, see the tests for
        // examples of what that means.
        // convert days to months
        // 12 months -> 1 year
        return f >= 0 && g >= 0 && h >= 0 || 0 >= f && 0 >= g && 0 >= h || (f += 864e5 * Yc(_c(h) + g), g = 0, h = 0), i.milliseconds = f % 1e3, a = s(f / 1e3), i.seconds = a % 60, b = s(a / 60), i.minutes = b % 60, c = s(b / 60), i.hours = c % 24, g += s(c / 24), e = s($c(g)), h += e, g -= Yc(_c(e)), d = s(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, this
    } function $c(a) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return 4800 * a / 146097
    } function _c(a) {
        // the reverse of daysToMonths
        return 146097 * a / 4800
    } function ad(a) {
        var b, c, d = this._milliseconds; if (a = J(a), "month" === a || "year" === a) return b = this._days + d / 864e5, c = this._months + $c(b), "month" === a ? c : c / 12; switch (b = this._days + Math.round(_c(this._months)), a) {
            case "week": return b / 7 + d / 6048e5; case "day": return b + d / 864e5; case "hour": return 24 * b + d / 36e5; case "minute": return 1440 * b + d / 6e4; case "second": return 86400 * b + d / 1e3;
                // Math.floor prevents floating point math errors here
            case "millisecond": return Math.floor(864e5 * b) + d; default: throw new Error("Unknown unit " + a)
        }
    }
    // TODO: Use this.as('ms')?
    function bd() { return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * t(this._months / 12) } function cd(a) { return function () { return this.as(a) } } function dd(a) { return a = J(a), this[a + "s"]() } function ed(a) { return function () { return this._data[a] } } function fd() { return s(this.days() / 7) }
    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function gd(a, b, c, d, e) { return e.relativeTime(b || 1, !!c, a, d) } function hd(a, b, c) { var d = Nb(a).abs(), e = jf(d.as("s")), f = jf(d.as("m")), g = jf(d.as("h")), h = jf(d.as("d")), i = jf(d.as("M")), j = jf(d.as("y")), k = e < kf.s && ["s", e] || 1 >= f && ["m"] || f < kf.m && ["mm", f] || 1 >= g && ["h"] || g < kf.h && ["hh", g] || 1 >= h && ["d"] || h < kf.d && ["dd", h] || 1 >= i && ["M"] || i < kf.M && ["MM", i] || 1 >= j && ["y"] || ["yy", j]; return k[2] = b, k[3] = +a > 0, k[4] = c, gd.apply(null, k) }
    // This function allows you to set the rounding function for relative time strings
    function id(a) { return void 0 === a ? jf : "function" == typeof a ? (jf = a, !0) : !1 }
    // This function allows you to set a threshold for relative time strings
    function jd(a, b) { return void 0 === kf[a] ? !1 : void 0 === b ? kf[a] : (kf[a] = b, !0) } function kd(a) { var b = this.localeData(), c = hd(this, !a, b); return a && (c = b.pastFuture(+this, c)), b.postformat(c) } function ld() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        var a, b, c, d = lf(this._milliseconds) / 1e3, e = lf(this._days), f = lf(this._months); a = s(d / 60), b = s(a / 60), d %= 60, a %= 60, c = s(f / 12), f %= 12;
        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var g = c, h = f, i = e, j = b, k = a, l = d, m = this.asSeconds(); return m ? (0 > m ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D"
    } var md, nd; nd = Array.prototype.some ? Array.prototype.some : function (a) { for (var b = Object(this), c = b.length >>> 0, d = 0; c > d; d++) if (d in b && a.call(this, b[d], d, b)) return !0; return !1 };
    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var od = a.momentProperties = [], pd = !1, qd = {}; a.suppressDeprecationWarnings = !1, a.deprecationHandler = null; var rd; rd = Object.keys ? Object.keys : function (a) { var b, c = []; for (b in a) h(a, b) && c.push(b); return c }; var sd, td = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, ud = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, vd = "Invalid date", wd = "%d", xd = /\d{1,2}/, yd = { future: "in %s", past: "%s ago", s: "a few seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, zd = {}, Ad = {}, Bd = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Cd = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Dd = {}, Ed = {}, Fd = /\d/, Gd = /\d\d/, Hd = /\d{3}/, Id = /\d{4}/, Jd = /[+-]?\d{6}/, Kd = /\d\d?/, Ld = /\d\d\d\d?/, Md = /\d\d\d\d\d\d?/, Nd = /\d{1,3}/, Od = /\d{1,4}/, Pd = /[+-]?\d{1,6}/, Qd = /\d+/, Rd = /[+-]?\d+/, Sd = /Z|[+-]\d\d:?\d\d/gi, Td = /Z|[+-]\d\d(?::?\d\d)?/gi, Ud = /[+-]?\d+(\.\d{1,3})?/, Vd = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Wd = {}, Xd = {}, Yd = 0, Zd = 1, $d = 2, _d = 3, ae = 4, be = 5, ce = 6, de = 7, ee = 8; sd = Array.prototype.indexOf ? Array.prototype.indexOf : function (a) {
        // I know
        var b; for (b = 0; b < this.length; ++b) if (this[b] === a) return b; return -1
    }, T("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), T("MMM", 0, 0, function (a) { return this.localeData().monthsShort(this, a) }), T("MMMM", 0, 0, function (a) { return this.localeData().months(this, a) }), I("month", "M"), L("month", 8), Y("M", Kd), Y("MM", Kd, Gd), Y("MMM", function (a, b) { return b.monthsShortRegex(a) }), Y("MMMM", function (a, b) { return b.monthsRegex(a) }), aa(["M", "MM"], function (a, b) { b[Zd] = t(a) - 1 }), aa(["MMM", "MMMM"], function (a, b, c, d) { var e = c._locale.monthsParse(a, d, c._strict); null != e ? b[Zd] = e : l(c).invalidMonth = a });
    // LOCALES
    var fe = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/, ge = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), he = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), ie = Vd, je = Vd;
    // FORMATTING
    T("Y", 0, 0, function () { var a = this.year(); return 9999 >= a ? "" + a : "+" + a }), T(0, ["YY", 2], 0, function () { return this.year() % 100 }), T(0, ["YYYY", 4], 0, "year"), T(0, ["YYYYY", 5], 0, "year"), T(0, ["YYYYYY", 6, !0], 0, "year"),
    // ALIASES
    I("year", "y"),
    // PRIORITIES
    L("year", 1),
    // PARSING
    Y("Y", Rd), Y("YY", Kd, Gd), Y("YYYY", Od, Id), Y("YYYYY", Pd, Jd), Y("YYYYYY", Pd, Jd), aa(["YYYYY", "YYYYYY"], Yd), aa("YYYY", function (b, c) { c[Yd] = 2 === b.length ? a.parseTwoDigitYear(b) : t(b) }), aa("YY", function (b, c) { c[Yd] = a.parseTwoDigitYear(b) }), aa("Y", function (a, b) { b[Yd] = parseInt(a, 10) }),
    // HOOKS
    a.parseTwoDigitYear = function (a) { return t(a) + (t(a) > 68 ? 1900 : 2e3) };
    // MOMENTS
    var ke = N("FullYear", !0);
    // FORMATTING
    T("w", ["ww", 2], "wo", "week"), T("W", ["WW", 2], "Wo", "isoWeek"),
    // ALIASES
    I("week", "w"), I("isoWeek", "W"),
    // PRIORITIES
    L("week", 5), L("isoWeek", 5),
    // PARSING
    Y("w", Kd), Y("ww", Kd, Gd), Y("W", Kd), Y("WW", Kd, Gd), ba(["w", "ww", "W", "WW"], function (a, b, c, d) { b[d.substr(0, 1)] = t(a) }); var le = {
        dow: 0,// Sunday is the first day of the week.
        doy: 6
    };
    // FORMATTING
    T("d", 0, "do", "day"), T("dd", 0, 0, function (a) { return this.localeData().weekdaysMin(this, a) }), T("ddd", 0, 0, function (a) { return this.localeData().weekdaysShort(this, a) }), T("dddd", 0, 0, function (a) { return this.localeData().weekdays(this, a) }), T("e", 0, 0, "weekday"), T("E", 0, 0, "isoWeekday"),
    // ALIASES
    I("day", "d"), I("weekday", "e"), I("isoWeekday", "E"),
    // PRIORITY
    L("day", 11), L("weekday", 11), L("isoWeekday", 11),
    // PARSING
    Y("d", Kd), Y("e", Kd), Y("E", Kd), Y("dd", function (a, b) { return b.weekdaysMinRegex(a) }), Y("ddd", function (a, b) { return b.weekdaysShortRegex(a) }), Y("dddd", function (a, b) { return b.weekdaysRegex(a) }), ba(["dd", "ddd", "dddd"], function (a, b, c, d) {
        var e = c._locale.weekdaysParse(a, d, c._strict);
        // if we didn't get a weekday name, mark the date as invalid
        null != e ? b.d = e : l(c).invalidWeekday = a
    }), ba(["d", "e", "E"], function (a, b, c, d) { b[d] = t(a) });
    // LOCALES
    var me = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), ne = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), oe = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), pe = Vd, qe = Vd, re = Vd; T("H", ["HH", 2], 0, "hour"), T("h", ["hh", 2], 0, Qa), T("k", ["kk", 2], 0, Ra), T("hmm", 0, 0, function () { return "" + Qa.apply(this) + S(this.minutes(), 2) }), T("hmmss", 0, 0, function () { return "" + Qa.apply(this) + S(this.minutes(), 2) + S(this.seconds(), 2) }), T("Hmm", 0, 0, function () { return "" + this.hours() + S(this.minutes(), 2) }), T("Hmmss", 0, 0, function () { return "" + this.hours() + S(this.minutes(), 2) + S(this.seconds(), 2) }), Sa("a", !0), Sa("A", !1),
    // ALIASES
    I("hour", "h"),
    // PRIORITY
    L("hour", 13), Y("a", Ta), Y("A", Ta), Y("H", Kd), Y("h", Kd), Y("HH", Kd, Gd), Y("hh", Kd, Gd), Y("hmm", Ld), Y("hmmss", Md), Y("Hmm", Ld), Y("Hmmss", Md), aa(["H", "HH"], _d), aa(["a", "A"], function (a, b, c) { c._isPm = c._locale.isPM(a), c._meridiem = a }), aa(["h", "hh"], function (a, b, c) { b[_d] = t(a), l(c).bigHour = !0 }), aa("hmm", function (a, b, c) { var d = a.length - 2; b[_d] = t(a.substr(0, d)), b[ae] = t(a.substr(d)), l(c).bigHour = !0 }), aa("hmmss", function (a, b, c) { var d = a.length - 4, e = a.length - 2; b[_d] = t(a.substr(0, d)), b[ae] = t(a.substr(d, 2)), b[be] = t(a.substr(e)), l(c).bigHour = !0 }), aa("Hmm", function (a, b, c) { var d = a.length - 2; b[_d] = t(a.substr(0, d)), b[ae] = t(a.substr(d)) }), aa("Hmmss", function (a, b, c) { var d = a.length - 4, e = a.length - 2; b[_d] = t(a.substr(0, d)), b[ae] = t(a.substr(d, 2)), b[be] = t(a.substr(e)) }); var se, te = /[ap]\.?m?\.?/i, ue = N("Hours", !0), ve = { calendar: td, longDateFormat: ud, invalidDate: vd, ordinal: wd, ordinalParse: xd, relativeTime: yd, months: ge, monthsShort: he, week: le, weekdays: me, weekdaysMin: oe, weekdaysShort: ne, meridiemParse: te }, we = {}, xe = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, ye = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, ze = /Z|[+-]\d\d(?::?\d\d)?/, Ae = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/],
    // YYYYMM is NOT allowed by the standard
    ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], Be = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], Ce = /^\/?Date\((\-?\d+)/i; a.createFromInputFallback = w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (a) { a._d = new Date(a._i + (a._useUTC ? " UTC" : "")) }),
    // constant that refers to the ISO standard
    a.ISO_8601 = function () { }; var De = w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var a = rb.apply(null, arguments); return this.isValid() && a.isValid() ? this > a ? this : a : n() }), Ee = w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var a = rb.apply(null, arguments); return this.isValid() && a.isValid() ? a > this ? this : a : n() }), Fe = function () { return Date.now ? Date.now() : +new Date }; yb("Z", ":"), yb("ZZ", ""),
    // PARSING
    Y("Z", Td), Y("ZZ", Td), aa(["Z", "ZZ"], function (a, b, c) { c._useUTC = !0, c._tzm = zb(Td, a) });
    // HELPERS
    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var Ge = /([\+\-]|\d\d)/gi;
    // HOOKS
    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    a.updateOffset = function () { };
    // ASP.NET json date format regex
    var He = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Ie = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/; Nb.fn = vb.prototype; var Je = Rb(1, "add"), Ke = Rb(-1, "subtract"); a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", a.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var Le = w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (a) { return void 0 === a ? this.localeData() : this.locale(a) });
    // FORMATTING
    T(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), T(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), xc("gggg", "weekYear"), xc("ggggg", "weekYear"), xc("GGGG", "isoWeekYear"), xc("GGGGG", "isoWeekYear"),
    // ALIASES
    I("weekYear", "gg"), I("isoWeekYear", "GG"),
    // PRIORITY
    L("weekYear", 1), L("isoWeekYear", 1),
    // PARSING
    Y("G", Rd), Y("g", Rd), Y("GG", Kd, Gd), Y("gg", Kd, Gd), Y("GGGG", Od, Id), Y("gggg", Od, Id), Y("GGGGG", Pd, Jd), Y("ggggg", Pd, Jd), ba(["gggg", "ggggg", "GGGG", "GGGGG"], function (a, b, c, d) { b[d.substr(0, 2)] = t(a) }), ba(["gg", "GG"], function (b, c, d, e) { c[e] = a.parseTwoDigitYear(b) }),
    // FORMATTING
    T("Q", 0, "Qo", "quarter"),
    // ALIASES
    I("quarter", "Q"),
    // PRIORITY
    L("quarter", 7),
    // PARSING
    Y("Q", Fd), aa("Q", function (a, b) { b[Zd] = 3 * (t(a) - 1) }),
    // FORMATTING
    T("D", ["DD", 2], "Do", "date"),
    // ALIASES
    I("date", "D"),
    // PRIOROITY
    L("date", 9),
    // PARSING
    Y("D", Kd), Y("DD", Kd, Gd), Y("Do", function (a, b) { return a ? b._ordinalParse : b._ordinalParseLenient }), aa(["D", "DD"], $d), aa("Do", function (a, b) { b[$d] = t(a.match(Kd)[0], 10) });
    // MOMENTS
    var Me = N("Date", !0);
    // FORMATTING
    T("DDD", ["DDDD", 3], "DDDo", "dayOfYear"),
    // ALIASES
    I("dayOfYear", "DDD"),
    // PRIORITY
    L("dayOfYear", 4),
    // PARSING
    Y("DDD", Nd), Y("DDDD", Hd), aa(["DDD", "DDDD"], function (a, b, c) { c._dayOfYear = t(a) }),
    // FORMATTING
    T("m", ["mm", 2], 0, "minute"),
    // ALIASES
    I("minute", "m"),
    // PRIORITY
    L("minute", 14),
    // PARSING
    Y("m", Kd), Y("mm", Kd, Gd), aa(["m", "mm"], ae);
    // MOMENTS
    var Ne = N("Minutes", !1);
    // FORMATTING
    T("s", ["ss", 2], 0, "second"),
    // ALIASES
    I("second", "s"),
    // PRIORITY
    L("second", 15),
    // PARSING
    Y("s", Kd), Y("ss", Kd, Gd), aa(["s", "ss"], be);
    // MOMENTS
    var Oe = N("Seconds", !1);
    // FORMATTING
    T("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), T(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), T(0, ["SSS", 3], 0, "millisecond"), T(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), T(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), T(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), T(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), T(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), T(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }),
    // ALIASES
    I("millisecond", "ms"),
    // PRIORITY
    L("millisecond", 16),
    // PARSING
    Y("S", Nd, Fd), Y("SS", Nd, Gd), Y("SSS", Nd, Hd); var Pe; for (Pe = "SSSS"; Pe.length <= 9; Pe += "S") Y(Pe, Qd); for (Pe = "S"; Pe.length <= 9; Pe += "S") aa(Pe, Gc);
    // MOMENTS
    var Qe = N("Milliseconds", !1);
    // FORMATTING
    T("z", 0, 0, "zoneAbbr"), T("zz", 0, 0, "zoneName"); var Re = q.prototype; Re.add = Je, Re.calendar = Ub, Re.clone = Vb, Re.diff = ac, Re.endOf = mc, Re.format = ec, Re.from = fc, Re.fromNow = gc, Re.to = hc, Re.toNow = ic, Re.get = Q, Re.invalidAt = vc, Re.isAfter = Wb, Re.isBefore = Xb, Re.isBetween = Yb, Re.isSame = Zb, Re.isSameOrAfter = $b, Re.isSameOrBefore = _b, Re.isValid = tc, Re.lang = Le, Re.locale = jc, Re.localeData = kc, Re.max = Ee, Re.min = De, Re.parsingFlags = uc, Re.set = R, Re.startOf = lc, Re.subtract = Ke, Re.toArray = qc, Re.toObject = rc, Re.toDate = pc, Re.toISOString = dc, Re.toJSON = sc, Re.toString = cc, Re.unix = oc, Re.valueOf = nc, Re.creationData = wc,
    // Year
    Re.year = ke, Re.isLeapYear = qa,
    // Week Year
    Re.weekYear = yc, Re.isoWeekYear = zc,
    // Quarter
    Re.quarter = Re.quarters = Ec,
    // Month
    Re.month = ja, Re.daysInMonth = ka,
    // Week
    Re.week = Re.weeks = Aa, Re.isoWeek = Re.isoWeeks = Ba, Re.weeksInYear = Bc, Re.isoWeeksInYear = Ac,
    // Day
    Re.date = Me, Re.day = Re.days = Ja, Re.weekday = Ka, Re.isoWeekday = La, Re.dayOfYear = Fc,
    // Hour
    Re.hour = Re.hours = ue,
    // Minute
    Re.minute = Re.minutes = Ne,
    // Second
    Re.second = Re.seconds = Oe,
    // Millisecond
    Re.millisecond = Re.milliseconds = Qe,
    // Offset
    Re.utcOffset = Cb, Re.utc = Eb, Re.local = Fb, Re.parseZone = Gb, Re.hasAlignedHourOffset = Hb, Re.isDST = Ib, Re.isLocal = Kb, Re.isUtcOffset = Lb, Re.isUtc = Mb, Re.isUTC = Mb,
    // Timezone
    Re.zoneAbbr = Hc, Re.zoneName = Ic,
    // Deprecations
    Re.dates = w("dates accessor is deprecated. Use date instead.", Me), Re.months = w("months accessor is deprecated. Use month instead", ja), Re.years = w("years accessor is deprecated. Use year instead", ke), Re.zone = w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", Db), Re.isDSTShifted = w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", Jb); var Se = Re, Te = B.prototype; Te.calendar = C, Te.longDateFormat = D, Te.invalidDate = E, Te.ordinal = F, Te.preparse = Lc, Te.postformat = Lc, Te.relativeTime = G, Te.pastFuture = H, Te.set = z,
    // Month
    Te.months = ea, Te.monthsShort = fa, Te.monthsParse = ha, Te.monthsRegex = ma, Te.monthsShortRegex = la,
    // Week
    Te.week = xa, Te.firstDayOfYear = za, Te.firstDayOfWeek = ya,
    // Day of Week
    Te.weekdays = Ea, Te.weekdaysMin = Ga, Te.weekdaysShort = Fa, Te.weekdaysParse = Ia, Te.weekdaysRegex = Ma, Te.weekdaysShortRegex = Na, Te.weekdaysMinRegex = Oa,
    // Hours
    Te.isPM = Ua, Te.meridiem = Va, Za("en", { ordinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (a) { var b = a % 10, c = 1 === t(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th"; return a + c } }),
    // Side effect imports
    a.lang = w("moment.lang is deprecated. Use moment.locale instead.", Za), a.langData = w("moment.langData is deprecated. Use moment.localeData instead.", ab); var Ue = Math.abs, Ve = cd("ms"), We = cd("s"), Xe = cd("m"), Ye = cd("h"), Ze = cd("d"), $e = cd("w"), _e = cd("M"), af = cd("y"), bf = ed("milliseconds"), cf = ed("seconds"), df = ed("minutes"), ef = ed("hours"), ff = ed("days"), gf = ed("months"), hf = ed("years"), jf = Math.round, kf = {
        s: 45,// seconds to minute
        m: 45,// minutes to hour
        h: 22,// hours to day
        d: 26,// days to month
        M: 11
    }, lf = Math.abs, mf = vb.prototype; mf.abs = Uc, mf.add = Wc, mf.subtract = Xc, mf.as = ad, mf.asMilliseconds = Ve, mf.asSeconds = We, mf.asMinutes = Xe, mf.asHours = Ye, mf.asDays = Ze, mf.asWeeks = $e, mf.asMonths = _e, mf.asYears = af, mf.valueOf = bd, mf._bubble = Zc, mf.get = dd, mf.milliseconds = bf, mf.seconds = cf, mf.minutes = df, mf.hours = ef, mf.days = ff, mf.weeks = fd, mf.months = gf, mf.years = hf, mf.humanize = kd, mf.toISOString = ld, mf.toString = ld, mf.toJSON = ld, mf.locale = jc, mf.localeData = kc,
    // Deprecations
    mf.toIsoString = w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", ld), mf.lang = Le,
    // Side effect imports
    // FORMATTING
    T("X", 0, 0, "unix"), T("x", 0, 0, "valueOf"),
    // PARSING
    Y("x", Rd), Y("X", Ud), aa("X", function (a, b, c) { c._d = new Date(1e3 * parseFloat(a, 10)) }), aa("x", function (a, b, c) { c._d = new Date(t(a)) }),
    // Side effect imports
    a.version = "2.15.1", b(rb), a.fn = Se, a.min = tb, a.max = ub, a.now = Fe, a.utc = j, a.unix = Jc, a.months = Pc, a.isDate = f, a.locale = Za, a.invalid = n, a.duration = Nb, a.isMoment = r, a.weekdays = Rc, a.parseZone = Kc, a.localeData = ab, a.isDuration = wb, a.monthsShort = Qc, a.weekdaysMin = Tc, a.defineLocale = $a, a.updateLocale = _a, a.locales = bb, a.weekdaysShort = Sc, a.normalizeUnits = J, a.relativeTimeRounding = id, a.relativeTimeThreshold = jd, a.calendarFormat = Tb, a.prototype = Se; var nf = a; return nf
});
/* -- jquery.waypoints.min.js -- */
/*!
Waypoints - 4.0.0
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=y+l-f,h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();
/* -- recentlyViewedDeals.js -- */
var tzoo=tzoo||{};tzoo.recentlyViewedDeal={},function(){this.addDeal=function(e,t,a,o,r,s,i,n,g,l,c,S,d,f,u){return function(e,t,a,o,r,s,i,n,g,l,c,S,d,f,u){var p="",w=t&&tzoo.ccaf;p=w?Storages.localStorage.get(e):Storages.sessionStorage.get(e);var D=new Array,v={adid:o,headline:r,image:s,meta:i,url:n,when:g,directlink:l,source:c,expirationdate:d,platform:f,viewdate:Date.now(),countrycode:u};if(null!=p){D="object"==typeof p?p:JSON.parse(p);for(var y=0;y<D.length;y++)D[y].adid==v.adid&&D.splice(y,1);var h=S.split(",");$(h).each(function(e,t){var a=D.filter(function(e){return e.adid==t}),o=a?D.indexOf(a[0]):-1;o>-1&&D.splice(o,1)}),D.length==a&&D.pop()}D.unshift(v),w?Storages.localStorage.set(e,JSON.stringify(D)):Storages.sessionStorage.set(e,JSON.stringify(D))}(e,t,a,o,r,s,i,n,g,l,c,S,d,f,u)},this.updateExpirationDate=function(e,t){!function(e,t){var a,o,r="",s=t&&tzoo.ccaf;s?(r=Storages.localStorage.get(e),a=Storages.localStorage.get(e+"_LastUpdate")):(r=Storages.sessionStorage.get(e),a=Storages.sessionStorage.get(e+"_LastUpdate"));a&&!isNaN(a)&&(a=new Date(parseInt(a)),isNaN(a)||(o=a.setHours(a.getHours()+1)));r&&(!a||o<(new Date).getTime())&&$.ajax({url:tzoo.ServiceBaseUrl+"v1/deal/getallactivedeals/",async:!1,success:function(t){t&&t.res&&t.res.length>0&&(dealsArr="object"==typeof r?r:JSON.parse(r),$(dealsArr).each(function(){var e=this,a=new Date(e.expirationdate)>=new Date(Date.now());if(t.res.find(function(t){t.id==e.adid&&t.plt==e.platform&&(e.expirationdate=t.exp,a=!1)}),a){var o=new Date;o.setDate(o.getDate()-7),e.expirationdate=o.toISOString()}}),s?(Storages.localStorage.set(e,JSON.stringify(dealsArr)),Storages.localStorage.set(e+"_LastUpdate",(new Date).getTime())):(Storages.sessionStorage.set(e,JSON.stringify(dealsArr)),Storages.sessionStorage.set(e+"_LastUpdate",(new Date).getTime())))}})}(e,t)},this.removeOldData=function(e,t){!function(e,t){var a="",o=new Array,r=t&&tzoo.ccaf;a=r?Storages.localStorage.get(e):Storages.sessionStorage.get(e);if(null!=a){o=a,$(o).each(function(e,t){t.viewdate||(t.viewdate=Date.now())});var s=new Date,i=s.setDate(s.getDate()-60);o=o.filter(function(e){return e.viewdate>i}),r?Storages.localStorage.set(e,JSON.stringify(o)):Storages.sessionStorage.set(e,JSON.stringify(o))}}(e,t)}}.apply(tzoo.recentlyViewedDeal);
/* -- googlemap.js -- */
var mapsAPIAppended=!1,mapsLoadedTriggered=!1;function mapsLoaded(){$(document).trigger("mapsLoaded"),mapsLoadedTriggered=!0}!function(a,e,t,r,i){"use strict";t.map.googleMap,t.map.mapIdleListener,t.map.spinner,t.map.isInitialLoadDone=!1,t.map.isInitialLoadInProgress=!1,t.map.crossesIDL=!1,t.map.minLat,t.map.minLong,t.map.maxLat,t.map.maxLong,t.map.markers=[],t.map.info,t.map.mapDealsList,t.map.currentMarker,t.map.datasource=[],t.map.settingsHiddenField=a("#mapSettingsHiddenField"),t.map.baseUrl="http://www.travelzoo.com",a(".filter-container-map").on("onFilterRendered",function(a){a&&a.items&&a.items.length>0?t.map.hasFilters=!0:t.map.hasFilters=!1}),t.map.loadMap=function(a,t,r,i){var n={zoom:i,center:new e.maps.LatLng(t,r),gestureHandling:"greedy",mapTypeControl:!1};return new e.maps.Map(document.getElementById(a),n)},t.map.createMarker=function(r,i,n,s){var l,o,m=new e.maps.Marker({position:i,map:r,icon:s?s.img:void 0});return e.maps.event.addListener(m,"click",function(r){if(t.map.currentMarker){var i=t.map.currentMarker,l=i.addListener("mouseout",function(){var a=i.getIcon();if(a.url=a.url.replace("_on","_off"),i.setZIndex(e.maps.Marker.MAX_ZINDEX-1),i.setIcon(a),t.map.mapDealsList){var r=t.map.mapDealsList.find("div[data-dealid='"+i.dealId+"'][data-platform='"+i.platform+"']");0!==r.length&&r.removeClass("primary")}});i.outListner=l}m.outListner&&(m.outListner.remove(),m.outListner=null);for(var o=0;o<t.map.markers.length;o++){var p=t.map.markers[o].getIcon();p.url=p.url.replace("_on","_off"),t.map.markers[o].setIcon(p)}if(t.map.mapDealsList){var d=t.map.mapDealsList.find("div[data-dealid='"+m.dealId+"'][data-platform='"+m.platform+"']");t.map.mapDealsList.find("div.primary").removeClass("primary"),0!==d.length&&(d.addClass("primary"),t.map.mapDealsList.scrollTop(d.offset().top-t.map.mapDealsList.offset().top+t.map.mapDealsList.scrollTop()))}if(t.map.currentMarker=m,t.map.info.html(n).removeClass("hidden"),t.imageLoader.loadImages(),!t.layout.isXs()){var f=Math.pow(2,t.map.googleMap.getZoom()),g=t.map.googleMap.getBounds(),c=g.getSouthWest(),u=g.getNorthEast(),v=new e.maps.LatLng(u.lat(),c.lng()),h=t.map.googleMap.getProjection(),L=h.fromLatLngToPoint(v),I=h.fromLatLngToPoint(m.getPosition()),M=I.x-L.x;M<0&&(M=I.x+(256-L.x));var k=new e.maps.Point(Math.floor(M*f),Math.floor((I.y-L.y)*f)),D=a(t.map.googleMap.getDiv()).position(),w=D.top+k.y-(t.map.info.height()+50),y=D.left+k.x-t.map.info.width()/2;w<a(window).scrollTop()&&(w=a(window).scrollTop()),y<a(window).scrollLeft()&&(y=a(window).scrollLeft()),t.map.info.css({top:Math.round(w),left:Math.round(y)})}this.setZIndex(e.maps.Marker.MAX_ZINDEX+1),s&&this.setIcon(s.over)}),m.overListner||(l=m.addListener("mouseover",function(a){if(t.map.mapDealsList){var r=t.map.mapDealsList.find("div[data-dealid='"+this.dealId+"'][data-platform='"+this.platform+"']");0!==r.length&&a&&(r.addClass("primary"),t.map.mapDealsList.scrollTop(r.offset().top-t.map.mapDealsList.offset().top+t.map.mapDealsList.scrollTop()))}this.setZIndex(e.maps.Marker.MAX_ZINDEX+1),s&&this.setIcon(s.over)})),m.outListner||(o=m.addListener("mouseout",function(a){if(t.map.mapDealsList){var r=t.map.mapDealsList.find("div[data-dealid='"+this.dealId+"'][data-platform='"+this.platform+"']");0!==r.length&&a&&r.removeClass("primary")}this.setZIndex(e.maps.Marker.MAX_ZINDEX-1),s&&this.setIcon(s.img)})),m.overListner=l,m.outListner=o,m},t.map.getInfoWindowContent=function(a){var e='<button type="button" class="button-close-white">Close</button>';if(a.url){var r="";(a.dl||t.search&&t.search.searchParameters&&t.search.searchParameters.isHotelPlatformSearch)&&(r=' target="_blank"'),e+='<a href="'+t.absoluteUrl(a.url,t.map.baseUrl)+'"'+r+">"}(a.ima&&(e+=t.getImage(a.ima,!1)),a.stl||a.str)&&(e+='<div class="rating-container"><div class="inside-container"><div class="rating-overlay"></div><div class="ratingCategory">'+(a.stl?a.stl:"&nbsp;")+'<div class="starRating white" title="'+a.str+'"><div style="width:'+Math.round(100*a.str/5)+'%"></div></div></div></div></div>');if(e+='<div class="deal-text">',t.map.isInternationalSearch){var i=t.map.allEditions[a.tzl];e+='<div class="edition-header"><i class="flag-'+i.cc+'-md"></i>'+i.hmm+"</div>"}return a.prc&&(e+='<div class="deal-price">'+a.prc+"</div>"),e+='<div class="deal-headline">'+a.hdl+"</div>",a.src&&(e+='<div class="deal-source">'+a.src+"</div>"),a.whn&&(e+='<div class="deal-when">'+a.whn+"</div>"),e+="</div>",e+="</div>",a.url&&(e+="</a>"),e},t.map.closeInfoWindow=function(){if(t.map.info&&(t.map.info.addClass("hidden"),t.map.currentMarker)){var r=t.map.currentMarker.getIcon();r.url=r.url.replace("_on","_off"),t.map.currentMarker.setIcon(r),t.map.currentMarker.setZIndex(e.maps.Marker.MAX_ZINDEX-1);var i=t.map.currentMarker.addListener("mouseout",function(){if(this.setZIndex(e.maps.Marker.MAX_ZINDEX-1),this.setIcon(r),t.map.mapDealsList){var a=t.map.mapDealsList.find("div[data-dealid='"+this.dealId+"'][data-platform='"+this.platform+"']");0!==a.length&&a.removeClass("primary")}});t.map.currentMarker.outListner=i,t.map.currentMarker=null;var n=a("#map-deals-list > div.primary");0!==n.length&&n.removeClass("primary"),t.map.mapDealsList.scrollTop(0)}},t.map.getBounds=function(){var a=t.map.googleMap.getBounds(),e=a.getSouthWest(),r=a.getNorthEast();t.map.minLat=e.lat(),t.map.minLong=e.lng(),t.map.maxLat=r.lat(),t.map.maxLong=r.lng(),t.map.minLong>=0&&t.map.maxLong<0&&(t.map.crossesIDL=!0)},t.map.getMarkers=function(e,r,n,s,l){if(!(t.map.googleMap.getZoom()<5)){t.map.spinner||(t.map.spinner=(new i).spin(t.map.googleMap.getDiv())),t.map.clearMarkers(),t.map.info&&t.map.info.addClass("hidden"),t.map.getBounds();var o=t.map.minLong,m=t.map.maxLong;t.map.crossesIDL&&(o=-179.99999);var p="tzlocale="+t.TzLocale+"&includeDeals=true";if(-1!==r&&(p+="&categorytagfilterid="+r),""!==n&&(p+="&keyword="+n),0!==l.length)for(var d=l.split(","),f=0;f<d.length;f++)p+="&tagids="+d[f];""!=t.MemberId&&(p+="&HasFullAccess=true");var g=[],c=t.map.retrieveAndProcessMarkerData(e,p+"&latitude="+t.map.minLat.toFixed(3)+"&longitude="+o.toFixed(3)+"&maxlatitude="+t.map.maxLat.toFixed(3)+"&maxlongitude="+t.map.maxLong.toFixed(3)+"&isInternationalSearch="+t.map.isInternationalSearch);if(g.push(c),t.map.crossesIDL){m=180;var u=t.map.retrieveAndProcessMarkerData(e,p+"&latitude="+t.map.minLat.toFixed(3)+"&longitude="+t.map.minLong.toFixed(3)+"&maxlatitude="+t.map.maxLat.toFixed(3)+"&maxlongitude="+m.toFixed(3)+"&isInternationalSearch="+t.map.isInternationalSearch);g.push(u)}a.when.apply(this,g).done(function(){t.map.markers.length<5&&-1!==s&&!t.map.isInitialLoadDone?(t.map.clearMarkers(),t.map.retrieveAndProcessMarkerData(e,p+"&locationid="+s).done(function(){t.map.fitBoundsAllMarkers(!0)})):(t.map.dropInvisibleMarkers(),window.setTimeout(t.map.fitBoundsAllMarkers,100))})}},t.map.retrieveAndProcessMarkerData=function(e,r){var i=a.getJSON(e,r);return i.done(t.map.populateMarkers),i},t.map.populateMarkers=function(a){if(a.dls&&0!==a.dls.length){var r="",i=a.dls;t.map.isInternationalSearch&&i.sort(function(a,e){return a.srt.sto-e.srt.sto});for(var n=-1,s=0;s<i.length;s++)if(i[s].lat&&i[s].lng){var l=t.map.createMarker(t.map.googleMap,new e.maps.LatLng(i[s].lat,i[s].lng),t.map.getInfoWindowContent(i[s]),t.map.getIconForDealCategory(i[s].dc));if(l.dealId=i[s].id,l.platform=i[s].plt,l.tag=i[s].tag,1==i[s].hhl&&l.setVisible(!1),t.map.markers.push(l),t.map.mapDealsList){if(t.map.isInternationalSearch&&i[s].srt.sto!=n){var o=t.map.allEditions[i[s].tzl];r+='<div class="edition-header"><i class="flag-'+o.cc+'-md"></i>'+o.hdg+"</div>",n=i[s].srt.sto}if(r+='<div data-dealid="'+i[s].id+'" data-platform="'+i[s].plt+'">',i[s].prc&&(r+='<div class="deal-price">'+i[s].prc+"</div>"),i[s].plt===t.dealPlatform.Hotel){var m="";"string"==typeof i[s].et&&0!==i[s].et.length&&(m=i[s].et),"string"==typeof i[s].src&&0!==i[s].src.length&&(m+="<br />"+i[s].src),0!==m.length?r+='<div class="deal-headline">'+m+"</div>":r+='<div class="deal-headline">'+i[s].hdl+"</div>"}else r+='<div class="deal-headline">'+i[s].hdl+"</div>";r+="</div>"}}document.getElementById("map-deals-list").innerHTML+=r,a&&(t.map.datasource=a)}},t.hashCode=function(a){var e,t=0,r=a.length;if(0===r)return t;for(e=0;e<r;e++)t=(t<<5)-t+a.charCodeAt(e),t&=t;return t},t.map.getIconForDealCategory=function(a){var r=t.AssetUrl+"res/img/map-markers/",i="",n="",s=t.dealCategoryImagesLookup[a],l=t.hasHighPixelDensity?"@2x":"";return s&&(i=s.image),i&&0!==i.length&&(i=r+s.image+"_off"+l+".png",n=r+s.image+"_on"+l+".png"),{img:{url:i,scaledSize:new e.maps.Size(34,42)},over:{url:n,scaledSize:new e.maps.Size(34,42)}}},t.map.dropInvisibleMarkers=function(){for(var e=t.map.googleMap.getBounds(),r=0;r<t.map.markers.length;r++){var i=t.map.markers[r];if(i&&!e.contains(i.getPosition())){if(t.map.mapDealsList){var n=t.map.mapDealsList.find("div[data-dealid='"+i.dealId+"'][data-platform='"+i.platform+"']");0!==n.length&&n.remove()}i.setMap(null),i=null,t.map.markers.splice(r,1)}}t.map.markersFiltered=a.extend(!0,{},t.map.markers)},t.map.clearMarkers=function(){for(var a=0;a<t.map.markers.length;a++)t.map.markers[a].setMap(null),t.map.markers[a]=null;t.map.mapDealsList&&t.map.mapDealsList.empty(),t.map.markers.length=0},t.map.findMarkerByDealAndPlatformId=function(a,e){return e||(e=-1),t.map.markers.find(function(t){return t.dealId===Number(a)&&(-1===e||t.platform===Number(e))})},t.map.fitBoundsAllMarkers=function(r){if(t.map.mapIdleListener.remove(),0!==t.map.markers.length){e.maps.event.addListenerOnce(t.map.googleMap,"bounds_changed",function(a){window.setTimeout(t.map.addMapIdleListener,500)});for(var i=new e.maps.LatLngBounds,n=0;n<t.map.markers.length;n++)i.extend(t.map.markers[n].getPosition());!0===r&&t.map.googleMap.fitBounds(i)}else t.map.addMapIdleListener();if(t.map.spinner&&(t.map.spinner.stop(),t.map.spinner=null),t.map.mapDealsList&&0!==t.map.markers.length&&t.map.mapDealsList.show(),t.map.filterAPI&&0!==t.map.filterAPI.length&&t.map.datasource&&t.map.filter){for(var s=0;s<t.map.filterAPI.length;s++){var l=t.map.filterAPI[s];l.renderFilter(t.map.datasource,a.grep(t.map.filter,function(a){return a.name===l.settings.filterType})[0]),l.filterContainer.on("onMenuItemClicked",function(a){t.map.filterDeals(a.filter)})}t.map.filterDeals(t.map.filter),t.map.displayFilters()}},t.map.filterDeals=function(e){if(e&&e.name){var r=a.grep(t.map.filter,function(a){return a.name===e.name})[0];if(r.values=e.values,e.reset)a.grep(t.map.filter,function(a){return 1===a.name})[0].values=[],r.reset=e.reset}for(var i=t.map.filter.sort(function(a,e){return e.name-a.name}),n=0;n<i.length;n++){var s=i[n],l=a.grep(t.map.filterAPI,function(a){return a.settings.filterType===s.name})[0];if(0!==n||0!==s.values.length&&!s.reset||(t.map.markersFiltered=t.map.markers),t.map.markersFiltered){var o=l.filter(t.map.markersFiltered,s);t.map.markersFiltered=o}}if(t.map.markersFiltered)for(var m=0;m<t.map.markers.length;m++){var p=[],d=t.map.markersFiltered.find(function(a){return a.dealId===t.map.markers[m].dealId&&a.platform===t.map.markers[m].platform});t.map.mapDealsList&&(p=t.map.mapDealsList.find("div[data-dealid='"+t.map.markers[m].dealId+"'][data-platform='"+t.map.markers[m].platform+"']")),d?(t.map.markers[m].setMap(t.map.googleMap),0!==p.length&&p.removeClass("hidden")):(t.map.markers[m].setMap(null),0!==p.length&&p.addClass("hidden"))}t.map.setRefineSearchVisibility(),t.map.mapDealsList&&t.map.markersFiltered&&t.map.mapDealsList.trigger({type:"onFilteredDataSourceChanged",itemsCount:t.map.markersFiltered.length,displayItemsCount:t.map.markersFiltered.length})},t.map.storeSettings=function(){t.map.settingsHiddenField.val(JSON.stringify({center:{lat:t.map.googleMap.getCenter().lat(),lng:t.map.googleMap.getCenter().lng()},zoom:t.map.googleMap.getZoom()}))},t.map.handleDealMouseHoverEvent=function(a){var r=a.target;void 0===r.dataset.dealid&&(r=r.parentNode);var i=t.map.findMarkerByDealAndPlatformId(r.dataset.dealid,r.dataset.platform);i&&e.maps.event.trigger(i,a.type)},t.map.initializeMapView=function(r,i,n,s,l,o,m,p){t.map.locationId=m,t.map.baseUrl=o,t.map.isInternationalSearch=p;var d=12;a(document).on(r,function(){if(t.map.settingsHiddenField.val()&&t.map.settingsHiddenField.val().length>0){var r=JSON.parse(t.map.settingsHiddenField.val());r&&(r.center&&r.center.lat&&r.center.lng&&(i=r.center.lat,n=r.center.lng),r.zoom&&r.zoom>0&&(d=r.zoom))}var o;t.map.googleMap=t.map.loadMap("map",i,n,d),s&&l&&(o=new e.maps.LatLng(s,l,"Me")),null!=o&&t.map.createMarker(t.map.googleMap,o),t.map.info=a("#marker-infowindow"),t.layout.isXs()||(t.map.mapDealsList=a("#map-deals-list"),t.map.mapDealsList.on("click",function(r){t.map.closeInfoWindow();var i=r.target;void 0===i.dataset.dealid&&(i=i.parentNode),a(i).addClass("primary");var n=t.map.findMarkerByDealAndPlatformId(i.dataset.dealid,i.dataset.platform);if(n){var s=n.getPosition();t.map.googleMap.getBounds().contains(s)||t.map.googleMap.setCenter(s),e.maps.event.trigger(n,"click")}}),t.map.mapDealsList.on("mouseover",function(a){t.map.handleDealMouseHoverEvent(a)}),t.map.mapDealsList.on("mouseout",function(a){t.map.handleDealMouseHoverEvent(a)})),t.map.addMapIdleListener=function(){t.map.mapIdleListener=e.maps.event.addListenerOnce(t.map.googleMap,"idle",function(){t.map.getMarkers(t.map.getMarkersUrl,t.map.ctfId,t.map.keyword,t.map.locationId,t.map.tags)})},t.map.addMapIdleListener(),e.maps.event.addListener(t.map.googleMap,"click",function(){t.map.closeInfoWindow()}),t.map.info.on("click",".button-close-white",function(){t.map.closeInfoWindow()}),e.maps.event.addListener(t.map.googleMap,"center_changed",function(){t.map.storeSettings(),t.map.isInitialLoadInProgress&&!t.map.isInitialLoadDone&&(t.map.isInitialLoadDone=!0)}),e.maps.event.addListener(t.map.googleMap,"zoom_changed",function(){t.map.storeSettings(),t.map.isInitialLoadInProgress&&!t.map.isInitialLoadDone&&(t.map.isInitialLoadDone=!0)}),t.map.storeSettings(),t.map.isInitialLoadInProgress=!0}),a(document).on("click",".filter-close-button-map",function(){var e=a(this).parent().data("id"),r=a("#catfilter-container-map").find("[data-filtering-field-value='"+e+"']");r.length||(r=a("#filter-container-map").find("[data-filtering-field-value='"+e+"']")).length||(r=a("#locfilter-container-map").find("[data-filtering-field-value='"+e+"']")),r.length&&(r.trigger("click"),a("#loc-list").val("-2")),t.map.displayFilters()})},t.map.resetFilters=function(){if(t.map.filter){for(var a=0;a<t.map.filter.length;a++)t.map.filter[a].values=[];t.map.filterDeals(t.map.filter)}},t.map.setRefineSearchVisibility=function(){var e=!0,r=0;if(t.map.filterAPI){for(var i=0;i<t.map.filterAPI.length;i++){!0===t.map.filterAPI[i].noFilter&&(r+=1)}e=r===t.map.filterAPI.length}var n=a("#refine-search-toggle");e?n.hide():n.show()},t.map.getFilteredDataSourceItemsCount=function(){if(t.map.markersFiltered)return t.map.markersFiltered.length},t.map.displayFilters=function(){var e=new Array,r=0,i=!1,n="",s=!1,l=a("#display-filters-container");if(l.length&&null!=t.map.filterAPI){l.empty();for(var o=0;o<t.map.filterAPI.length;o++){var m=t.map.filterAPI[o];if(null!=m.FilterMenu&&null!=m.FilterMenu.menuItems)for(var p=0;p<m.FilterMenu.menuItems.length;p++){var d=m.FilterMenu.menuItems[p];d.pushed&&d.enabled&&(t.device.iPad()&&r>=3?(i=!0,r+=1):!t.layout.isXs()&&!t.device.iPad()&&r>=4?(i=!0,r+=1):(e[r]={id:d.value,name:d.item[0].textContent,mapClass:"-map"},r+=1))}}if(r>0){s=!0,i&&(n=r-e.length,n=" +".concat(t.resources["Search.MoreItems.Title"].replace("{0}",n)));var f=t.template.renderJSTemplate("displayfilter",null,{sortItem:null,filterList:e,hasSort:!1,hasMoreItems:i,moreCount:n,hasfilter:s});a("#display-filters-container").html(f),a("#refine-search-toggle").addClass("button-refine-search--on"),a("#filter-on").removeClass("hidden"),a("#display-refine-search").removeClass("hidden"),t.layout.isXs()&&a("#result-map").addClass("display-filter")}else l.removeClass("button-refine-search--on"),a("#filter-on").addClass("hidden"),a("#display-refine-search").addClass("hidden"),t.layout.isXs()&&a("#result-map").removeClass("display-filter")}}}(jQuery,window.google=window.google||{},window.tzoo=window.tzoo||{},window.tzoo.map=window.tzoo.map||{},Spinner);
