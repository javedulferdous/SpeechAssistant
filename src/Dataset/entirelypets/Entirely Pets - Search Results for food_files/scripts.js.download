function equalizeHeight(){if(SLI.jQuery.equalizeHeight!==undefined){SLI.jQuery.equalizeHeight({element:".product.grid .sli_title"});SLI.jQuery.equalizeHeight({element:".product.grid"});SLI.jQuery.equalizeHeight({element:".product.grid .blackfriday-form"})}}function recentDivCode(){var recentDiv=rs.getListRecentSearches();SLI.jQuery("#sli_recent").html(recentDiv)}function facetHeaderScript(){SLI.jQuery(".side-header").on("click",function(e){var element=e.currentTarget.parentNode.getElementsByTagName("ul")[0];
SLI.jQuery(element).toggle("slow")})}function closeRac(){SLI.jQuery('input[data-provide="rac"]').blur()}function toggleMobileRefinements(){SLI.jQuery("#MobileFacetButton").click(function(){SLI.jQuery(this).find("div").toggleClass("filterbuttonminusicon");SLI.jQuery("#LeftColumn").slideToggle()})}function validatepriceBoxOrder($this){var pricelow=$this.find(".pricelow").get(0);var pricehigh=$this.find(".pricehigh").get(0);return{low:parseInt(pricelow.value),high:parseInt(pricehigh.value)}}function tokeniseAf(af){var afParts=af.split(" ");
var tokens=[];for(var i=0;i<afParts.length;i++){var tokenParts=afParts[i].split(":");if(tokenParts[0]&&tokenParts[1]){tokens.push({facet:tokenParts[0],value:tokenParts[1]})}}return tokens}function afPosition(href){var afStart=href.indexOf("&af=");if(afStart==-1){afStart=href.indexOf("?af=")}var afEnd=href.indexOf("&",afStart+1);return{start:(afStart===-1)?null:afStart+4,end:(afEnd===-1)?null:afEnd}}function afFromUrl(href){var afPos=afPosition(href);if(afPos.end){href=afPos.start?href.substring(afPos.start,afPos.end):""
}else{href=afPos.start?href.substring(afPos.start):""}return href.replace(/%20/g," ").replace(/%3[aA]/g,":")}function replaceAfInUrl(af,href){af=!!af?"af="+af:"";var afPos=afPosition(href);if(afPos.start){var tmp=href.substring(0,afPos.start-4);if(afPos.end){tmp=urlCat(tmp,href.substring(afPos.end))}href=tmp}return urlCat(href,af)}function afFromTokens(tokens){var af="";for(var i=0;i<tokens.length;i++){if(tokens[i].facet&&tokens[i].value){af+=tokens[i].facet+":"+tokens[i].value+" "}}return af.replace(/\s+$/,"")
}function priceRangeBoxes(){SLI.jQuery(".sli_facets").on("keyup",".custom_price input",function(e){console.log("keyup input ");if(e.keyCode!==13){return}clearInterval(wtoprice);console.log("keyup input 1");var thisInput=SLI.jQuery(".sli_facets .custom_price").parent().find("input").eq(0);var otherInput=thisInput.siblings("input");var minInput=thisInput.hasClass("pricemin")?thisInput:otherInput;var maxInput=thisInput.hasClass("pricemax")?thisInput:otherInput;console.log("keyup input 2");if(!(/^\d+$/.test(minInput.val()))){minInput.val("0")
}console.log("keyup input 3");if(!(/^\d+$/.test(maxInput.val()))||maxInput.val()>384500/100){maxInput.val(384500/100)}console.log("keyup input 4");if(parseInt(maxInput.val())<=parseInt(minInput.val())){alert("Invalid range. Please make sure the maximum value is higher than the minimum");SLI.processFacets("","price","[0,384500]");return}console.log("keyup input 5");SLI.processFacets("","price","["+Math.round(minInput.val())*100+","+Math.round(maxInput.val())*100+"]")});var $slider=SLI.jQuery(".sli_slider .sli-range-slider");
var pricevalDiv=$slider.attr("data-sli-slider-divisor");var wtoprice;var validatepriceBoxOrder=function($this){var pricelow=$this.find(".pricelow").get(0);var pricehigh=$this.find(".pricehigh").get(0);return{low:parseInt(pricelow.value),high:parseInt(pricehigh.value)}};SLI.jQuery(".sli_facets .custom_price").bind("input",function(){console.log("bind input ");var pricenewBoxValues=validatepriceBoxOrder(SLI.jQuery(".sli_facets .custom_price").parent());clearTimeout(wtoprice);wtoprice=setTimeout(function(){var thisInput=SLI.jQuery(".sli_facets .custom_price").parent().find("input").eq(0);
var otherInput=thisInput.siblings("input");var minInput=thisInput.hasClass("pricemin")?thisInput:otherInput;var maxInput=thisInput.hasClass("pricemax")?thisInput:otherInput;if(!(/^\d+$/.test(minInput.val()))){minInput.val("0")}if(!(/^\d+$/.test(maxInput.val()))||maxInput.val()>384500/100){maxInput.val(384500/100)}if(parseInt(maxInput.val())<=parseInt(minInput.val())){alert("Invalid range. Please make sure the maximum value is higher than the minimum");SLI.processFacets("","price","[0,384500]");return}SLI.processFacets("","price","["+Math.round(minInput.val())*100+","+Math.round(maxInput.val())*100+"]")
},3000)})}function processPriceFacet(extraHref,facet,value,multi){}function ie8tabsizeFix(){(function($){$(".sli_unselected").css({backgroundSize:"cover"})})(SLI.jQuery)}function removeBotPhrases(){var childsToRemove=35;if($("marquee").children().length>childsToRemove){var i;for(i=0;i<childsToRemove;i++){$("marquee").children()[0].remove()}}}function removeSuggestionsOnNoResult(){if($("#sli_no_results").length>0){$(".sli_outer").css("display","none")}}function setCookie(cookie_name,cookie_value,cookie_expire,cookie_path,cookie_domain,cookie_secure){var cookie_string=cookie_name+"="+cookie_value;
if(cookie_expire){var expire_date=new Date();var ms_from_now=cookie_expire*24*60*60*1000;expire_date.setTime(expire_date.getTime()+ms_from_now);var expire_string=expire_date.toGMTString();cookie_string+="; expires="+expire_string}if(cookie_path){cookie_string+="; path="+cookie_path}if(cookie_domain){cookie_string+="; domain="+cookie_domain}if(cookie_secure){cookie_string+="; true"}document.cookie=cookie_string}function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;
i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null}function openFacet(facetname){var current=readCookie("sli_facet_close");current=current.replace("^"+facetname,"");setCookie("sli_facet_close",current,"","/",document.domain)}function closeFacet(facetname){var current=readCookie("sli_facet_close");if(current==null){setCookie("sli_facet_close","^"+facetname+"^","","/",document.domain)}else{setCookie("sli_facet_close",current+facetname+"^","","/",document.domain)
}}var cgiurl=document.location.protocol+"//"+document.location.hostname+"/search";var rs=new RecentSearches(cgiurl);function onDocumentReady(){try{equalizeHeight();recentDivCode();toggleMobileRefinements();priceRangeBoxes();ie8tabsizeFix();removeBotPhrases();removeSuggestionsOnNoResult()}catch(e){console.log(e)}}function onSliAjaxComplete(event){try{equalizeHeight();recentDivCode();facetHeaderScript();closeRac();priceRangeBoxes();toggleMobileRefinements();removeSuggestionsOnNoResult()}catch(e){console.log(e)
}}SLI.jQuery(document).ready(onDocumentReady).on("sli-ajax-complete",onSliAjaxComplete);