(window.klaviyoOnsiteJSONP=window.klaviyoOnsiteJSONP||[]).push([[3],{"../forms/src/Client/Components/FormComponents/Dropdown/DropdownComponents.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h}));n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.keys.js");var o=n("../../node_modules/preact/compat/dist/compat.module.js"),r=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("../../node_modules/prop-types/index.js"),i=n.n(l),s=n("../forms/src/Client/Components/ResetElements/index.tsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=Object(r.c)(s.b).withConfig({displayName:"DropdownComponents__DropdownContainer",componentId:"sc-1ahum51-0"})(["&&{position:relative;}"]),d=(Object(r.c)(s.g).withConfig({displayName:"DropdownComponents__DropdownLabel",componentId:"sc-1ahum51-1"})(["&&{","}"],(function(e){return e.visible?"":"display: none"})),Object(r.c)(s.b).withConfig({displayName:"DropdownComponents__DropdownField",componentId:"sc-1ahum51-2"})(["&&{display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;background-color:",";padding:0 8px 0px 16px;border:1px solid;border-radius:","px;border-color:",";height:","px;cursor:pointer;&:hover{border-color:",";}&:focus-within{border-color:",";box-shadow:0 0 5px ",";}}"],(function(e){return e.theme.inputStyles.inputBackgroundColor}),(function(e){var t=e.theme;return t.inputStyles.control?t.inputStyles.control.borderRadius:t.inputStyles.borderRadius}),(function(e){var t=e.theme,n=e.isOpen,o=e.isValid;return n&&t.inputStyles.border.activeColor||!o&&t.inputStyles.border.errorColor||t.inputStyles.border.defaultColor}),(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){return e.theme.focusColor}))),p=Object(r.c)(s.f).withConfig({displayName:"DropdownComponents__DropDownInput",componentId:"sc-1ahum51-3"})(["&&{border:none;flex:1;cursor:pointer;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;&::placeholder{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;}}"],(function(e){return e.theme.inputStyles.textStyles.formInputTextColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.textStyles.placeholderColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing})),m=Object(r.c)(s.b).withConfig({displayName:"DropdownComponents__Items",componentId:"sc-1ahum51-4"})(["&&{background-color:#fff;border:1px solid #000;box-sizing:border-box;border:1px solid #000;width:100%;max-height:",";position:absolute;overflow-y:auto;overflow-x:none;z-index:1;border:1px solid ",";",";","}"],(function(e){var t=e.maxHeight;return"".concat(t,"px")}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){return e.dropUp?"border-bottom: none":"border-top: none"}),(function(e){return e.dropUp?"bottom: 100%;":""}));m.propTypes={dropUp:i.a.bool},m.defaultProps={dropUp:!1};var f=Object(r.c)(s.b).withConfig({displayName:"DropdownComponents__Item",componentId:"sc-1ahum51-5"})(["&&{padding:8px;user-select:none;cursor:pointer;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:",";border-color:",";&[aria-selected='true']{border-color:",";}}"],(function(e){return e.theme.inputStyles.textStyles.formInputTextColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.inputBackgroundColor}),(function(e){return e.theme.inputStyles.border.defaultColor}),(function(e){return e.theme.inputStyles.border.activeColor})),y=function(e){var t=e.className,n=void 0===t?"":t,r=e.isOpen,l=a(e,["className","isOpen"]);return o.default.createElement("svg",u({height:"20",width:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:n,transform:r?"rotate(180)":""},l),o.default.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))};y.defaultProps={className:"",isOpen:!1};var h=Object(r.c)(y).withConfig({displayName:"DropdownComponents__StyledChevron",componentId:"sc-1ahum51-6"})(["&&{fill:",";}"],(function(e){return e.theme.inputStyles.border.defaultColor}))},"../forms/src/Client/Components/FormComponents/PhoneNumberInput/index.js":function(e,t,n){"use strict";n.r(t);n("../../node_modules/core-js/modules/es6.string.iterator.js"),n("../../node_modules/core-js/modules/es6.array.from.js"),n("../../node_modules/core-js/modules/es6.function.name.js"),n("../../node_modules/core-js/modules/es6.regexp.to-string.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("../../node_modules/core-js/modules/es6.symbol.js");var o=n("../../node_modules/preact/compat/dist/compat.module.js"),r=n("../../node_modules/react-redux/es/index.js"),l=(n("../../node_modules/prop-types/index.js"),n("../../node_modules/lodash-es/uniqueId.js")),i=n("../../node_modules/lodash-es/isUndefined.js"),s=n("../../node_modules/react-country-flag/dist/index.es.js"),u=function(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var n=function(n){return function(e,t,n){n.current&&!n.current.contains(e.target)&&t()}(n,e,t)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[]),t},a=n("../forms/src/Store/actions/loadForm.js"),c=n("../forms/src/Store/selectors/openFormVersions.js"),d=n("../forms/src/Store/selectors/client.js"),p=n("../forms/src/Client/Components/FormComponents/Label.js"),m=n("../forms/src/Client/Components/FormComponents/ValidationMessage.js"),f=n("../forms/src/Client/Components/FormComponents/Dropdown/DropdownComponents.js"),y=(n("../../node_modules/core-js/modules/es7.array.includes.js"),n("../../node_modules/core-js/modules/es6.string.includes.js"),n("../../node_modules/phone/dist/index.js")),h=n.n(y),b=n("../forms/src/Constants/locations.js"),g=function(e){return b.a.filter((function(t){return void 0===e||!!t.name.toLowerCase().includes(e.toLowerCase())})).map((function(e){return{label:e.name,value:e.callingCode,code:e.code}}))},S=function(e,t){var n=h()(e,t);return n.length>0?n[0]:e},x=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),C=n("../forms/src/Client/Components/ResetElements/index.tsx"),j=n("../forms/src/Client/Components/ResetElements/CleaveInput.tsx"),v=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__StyledInputContainer",componentId:"sc-2pvkjx-0"})(["&&{display:flex;flex-grow:1;flex-direction:column;align-self:flex-end;}"]),w=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__DropdownIcon",componentId:"sc-2pvkjx-1"})(["&&{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:","px;height:","px;cursor:pointer;padding-left:10px;padding-right:5px;}"],(function(e){var t=e.theme;return parseInt(t.inputStyles.textStyles.height,10)+12}),(function(e){return e.theme.inputStyles.textStyles.height})),I=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__StyledPhoneInputContainer",componentId:"sc-2pvkjx-2"})(["&&{&&&{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;border-radius:2px;padding:0px;height:","px;text-align:left;font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:",";border:1px solid;border-color:",";&:hover{border-color:",";}&:focus{border:1px solid ",";box-shadow:0 0 5px ",";}}}"],(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.inputBackgroundColor}),(function(e){var t=e.isValid;return e.theme.inputStyles.border[t?"defaultColor":"errorColor"]}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){var t=e.isValid;return e.theme.inputStyles.border[t?"activeColor":"errorColor"]}),(function(e){return e.theme.focusColor})),O=Object(x.c)((function(e){return o.default.createElement(j.a,e)})).withConfig({displayName:"PhoneNumberInputComponents__FormStyledTextInput",componentId:"sc-2pvkjx-3"})(["&&{&&&{border:none;text-align:left;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:rgba(0,0,0,0);flex-grow:1;::placeholder{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;}}}"],(function(e){return e.theme.inputStyles.textStyles.formInputTextColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.textStyles.placeholderColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing})),_=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__CountryCodeItemContainer",componentId:"sc-2pvkjx-4"})(["&&{display:flex;}"]),E=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__CountryDisplay",componentId:"sc-2pvkjx-5"})(["&&{display:flex;justify-content:flex-start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),N=Object(x.c)(C.i).withConfig({displayName:"PhoneNumberInputComponents__CountryName",componentId:"sc-2pvkjx-6"})(["&&{margin-left:8px;display:inline;}"]),P=Object(x.c)(C.b).withConfig({displayName:"PhoneNumberInputComponents__CountryCode",componentId:"sc-2pvkjx-7"})(["&&{margin-left:4px;color:",";}"],(function(e){return e.theme.inputStyles.textStyles.placeholderColor})),k=Object(x.c)(C.j).withConfig({displayName:"PhoneNumberInputComponents__IconStyle",componentId:"sc-2pvkjx-8"})(["&&{color:",";height:18px;width:12px;}"],(function(e){return e.theme.inputStyles.border.defaultColor})),V=function(){return o.default.createElement(k,null,o.default.createElement("svg",{version:"1.1",viewBox:"0 -144 936 1008"},o.default.createElement("g",{transform:"matrix(1 0 0 -1 0 864)"},o.default.createElement("path",{fill:"currentColor",d:"M936 -72c0 -39 -33 -72 -72 -72c-19 0 -37 8 -51 21l-193 193c-65 -46 -144 -70 -224 -70c-219 0 -396 177 -396 396s177 396 396 396s396 -177 396 -396c0 -80 -24 -159 -70 -224l193 -193c13 -13 21 -32 21 -51zM648 396c0 139 -113 252 -252 252s-252 -113 -252 -252 s113 -252 252 -252s252 113 252 252z"}))))},D=(n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../../node_modules/downshift/dist/downshift.esm.js"));function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var F=function(e,t){return window.innerHeight-e.getBoundingClientRect().bottom<t},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(o.useState)(null),n=A(t,2),r=n[0],l=n[1],i=Object(o.useCallback)((function(t){null!==t&&l(F(t,e))}),[e]);return[i,r]};function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var B=function(e){var t=e.countryCodeDropdownValue,n=e.countryCodeOptions,r=e.componentAriaID,l=e.isDesignWorkflow,i=e.isValid,u=e.label,a=e.onDropdownChange,c=e.onInputChange,d=e.clickOutsideRef,p=M(R(160),2),m=p[0],y=p[1];return o.default.createElement(D.a,{onChange:a,itemToString:function(e){return e?e.label:""}},(function(e){var a=e.getRootProps,p=e.getToggleButtonProps,h=e.getItemProps,b=e.getMenuProps,g=e.isOpen,S=e.getInputProps;return o.default.createElement(C.b,L({},a(),{ref:d}),o.default.createElement(f.b,null,o.default.createElement(f.c,{ref:m,isOpen:g,isValid:i,"aria-describedby":r,getToggleButtonProps:function(){return p()},getItemProps:function(){return h()},getMenuProps:function(){return b()},getRootProps:function(){return a()},getInputProps:function(){return S()}},o.default.createElement(f.a,L({},S({placeholder:"Search countries",tabIndex:l?-1:0}),{"aria-invalid":!i,"aria-describedby":r,"aria-label":u,value:t,onChange:c,autoFocus:!0})),o.default.createElement(V,null)),o.default.createElement(f.e,L({maxHeight:150,dropUp:null===y||y},b()),0===n.length&&o.default.createElement(f.d,h({key:"no-results",disabled:!0,item:{}}),"No results found"),n.map((function(e,t){return o.default.createElement(f.d,h({key:e.label,index:t,item:e}),o.default.createElement(_,null,o.default.createElement(E,null,o.default.createElement(s.a,{code:e.code.toLowerCase(),styleProps:{borderRadius:"3px"},svg:!0}),o.default.createElement(N,null,e.label)),o.default.createElement(P,null,"+".concat(e.value))))})))))}))};B.defaultProps={label:void 0,clickOutsideRef:null};var U=B;n("../../node_modules/cleave.js/dist/addons/cleave-phone.us.js");function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw l}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var H=function(e){var t=e.setComponentValue,n=e.updateMetadataForComponent,r=e.componentInstance,a=e.component,c=a.componentId,d=a.data,y=d.styling,h=d.label,x=d.placeholder,C=d.selectedCountryCode,j=e.runValidations,_=e.isDesignWorkflow,E=e.formVersionCId,N=W(Object(o.useState)(null),2),P=N[0],k=N[1],V=W(Object(o.useState)(!1),2),D=V[0],A=V[1],z=W(Object(o.useState)(g()),2),F=z[0],R=z[1],L=W(Object(o.useState)(""),2),M=L[0],T=L[1],B=W(Object(o.useState)(C||b.d),2),$=B[0],H=B[1],J=W(Object(o.useState)(!1),2),q=J[0],G=J[1],K=Object(o.useRef)(!1),Q=function(e){var n=e.newValue,o=e.validate,r=e.changedSinceLastValidation;k(n),G(r),t({formVersionCId:E,componentId:c,value:S(n,$),validate:o})};Object(o.useEffect)((function(){n({formVersionCId:E,componentId:c,metadata:{phoneNumberCountryCode:$}}),!0===K.current?Q({newValue:P,validate:!0,changedSinceLastValidation:!1}):K.current=!0}),[$]);var X=W(Object(o.useState)(Object(l.a)("klaviyo_ariaid_")),1)[0],Y=q||!1===j||!r||Object(i.a)(r.valid)||r.valid,Z=u((function(){A(!1)}));return o.default.createElement(v,null,o.default.createElement(p.a,null,h),D?o.default.createElement(U,{isValid:Y,isDesignWorkflow:_,label:h,componentAriaID:X,countryCodeDropdownValue:M,countryCodeOptions:F,onDropdownChange:function(e){A(!1),H(e.code)},onInputChange:function(e){var t=e.target.value;"$no-results"!==t&&(T(t),R(g(t)))},clickOutsideRef:Z}):o.default.createElement(I,{isValid:Y},o.default.createElement(w,{onClick:function(){A(!0)}},o.default.createElement(s.a,{code:$.toLowerCase(),styleProps:{borderRadius:"3px"},svg:!0}),o.default.createElement(f.f,{isOpen:!1})),o.default.createElement(o.Suspense,{fallback:o.default.createElement("div",null)},o.default.createElement(O,{type:"tel",autoComplete:"tel",name:"phone-number",tabIndex:_?-1:0,styling:y,placeholder:x,"aria-label":h||x||"Phone Number","aria-invalid":!Y,"aria-describedby":Y?void 0:X,onBlur:function(e){Q({newValue:e.target.value,validate:!0,changedSinceLastValidation:!1})},onChange:function(e){Q({newValue:e.target.value,validate:!1,changedSinceLastValidation:!0})},options:{delimiter:"-",phone:!0,phoneRegionCode:$,placeholder:x},value:P||""}))),j&&!q&&o.default.createElement(m.a,{formVersionCId:E,componentAriaID:X,componentInstance:r}))};H.defaultProps={componentInstance:null,runValidations:!0};var J={setComponentValue:a.e,updateMetadataForComponent:a.i},q=Object(r.b)((function(e,t){var n=t.formVersionCId,o=t.component.componentId;return{componentInstance:c.d(e,n,o),runValidations:!d.c(e)}}),J)(H);t.default=q}}]);
