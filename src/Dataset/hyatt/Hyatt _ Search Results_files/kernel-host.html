
<!-- saved from url=(0089)https://onboard.triptease.io/kernel/v3428.30504/kernel-host.html?originHost=www.hyatt.com -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript">//<![CDATA[
!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function r(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}Object.create;function n(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e){return this instanceof i?(this.v=e,this):new i(e)}function s(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){s[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=s[e](t)).value instanceof i?Promise.resolve(r.value.v).then(u,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function d(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function o(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,s){t[n]=e[n]?function(t){return(r=!r)?{value:i(e[n](t)),done:"return"===n}:s?s(t):t}:s}}function a(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=n(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}Object.create;var c=function(){var t=this,n={exports:this};function i(e){switch(typeof e){case"undefined":return!0;case"string":return""===e.trim();case"number":return isNaN(e);case"object":if(null==e)return!0;if(e.constructor===Object)return 0===Object.keys(e).length;if(Array.isArray(e))return 0===e.length}return!1}t.__esModule=!0,t.isEmpty=i;t.Strings=class{static noWhitespace(e){return e&&"string"==typeof e?e.replace(/\s+/g,""):""}static startWith(e,t){return e?e.substring(0,t.length)===t:e===t}static endsWith(e,t){return e.substring(e.length-t.length,e.length)===t}static isEmpty(e){return null==e||0===e.trim().length}static isLowerCase(e){return e===e.toLowerCase()&&e!==e.toUpperCase()}static isUpperCase(e){return e===e.toUpperCase()&&e!==e.toLowerCase()}static kebabCase(e){return e.replace(/([A-Z][a-z]+)/g,"$1-").toLowerCase().replace(/-$/,"")}};class s{static keys(e){return Object.keys(e)}static values(e){return Object.keys(e).map((t=>e[t]))}static entries(e){return Object.keys(e).map((t=>[t,e[t]]))}static removeEmpty(e){return e&&e.constructor===Object?Object.keys(e).reduce(((t,r)=>{const n=s.removeEmpty(e[r]);return i(n)||(t[r]=n),t}),{}):e}static sort(e){return e?Array.isArray(e)?e.map(s.sort):e.constructor===Object?Object.keys(e).sort().reduce(((t,r)=>{const n=e[r];return t[r]=s.sort(n),t}),{}):e:e}static toLowerCase(e){return"string"==typeof e?e.toLowerCase():Array.isArray(e)?e.map(s.toLowerCase):a((()=>e.constructor===Object))?Object.entries(e).reduce(((e,[t,r])=>(e[t]=s.toLowerCase(r),e)),{}):e}}t.Objects=s;t.Maps=class{static entries(e){if(e.entries)return e.entries();const t=[];return e.forEach(((e,r)=>{t.push([r,e])})),t}};class o{static from(e){return Array.from(e)}static find(e,t){if(e.find)return e.find(t);const[r]=e.filter(t);return r}static toObject(e){return e.reduce(((e,t)=>(Object.keys(t).forEach((r=>{r in e||(e[r]=t[r])})),e)),{})}static flatten(e){return e.reduce(((e,t)=>e.concat(t)),[])}static flatMap(e,t){return e.flatMap?e.flatMap(t):o.flatten(e.map(t))}static unique(e){return Array.from(new Set(e))}static clean(e){return e.filter(Boolean)}static trim(e){return e.map((e=>e.trim()))}static includes(e,t){return"includes"in e?e.includes(t):-1!==e.indexOf(t)}static last(e){return e[e.length-1]}static safeReverse(e){return e.slice().reverse()}}t.Arrays=o;function a(e,t){try{const r=e();return void 0===r?t:r}catch(e){return t}}function c(e,t){const r=t.toLowerCase(),n=o.find(Object.keys(e),(e=>e.toLowerCase()===r));if(!n)return;const i=e[n];return"string"==typeof i?i.trim():i}function u(e,...t){if(!e)return[];if(Array.isArray(e))return o.clean(o.flatten(e.map((e=>u(e,...t)))));if("object"==typeof e){const[r,...n]=t,i=c(e,r);return"object"==typeof i?u(i,...n):Boolean(i)?[i]:[]}return[]}t.Elements=class{static path(e){let t=[e];for(;e.parentElement;)e=e.parentElement,t.push(e);return t}},t.get=a,t.getAsync=function(e,t){return r(this,void 0,void 0,(function*(){try{const r=yield e();return void 0===r?t:r}catch(e){return t}}))},t.getValue=c,t.getAll=u,t.extract=function(e,t){return o.flatten(t.map((t=>o.clean(o.unique(u(e,...t.split(".")))))))};const l="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==n?n:Function("return this")();function d(e,t,r,n=(e=>e)){const i=[];let s,o=0;for(;null!=(s=e.exec(t));)i.push(n(t.substring(o,s.index))),i.push(r(s)),o=e.lastIndex;return i.push(n(t.substring(o))),i.join("")}function h(e){return e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()}function y(e){return JSON.stringify(s.sort(e))}t.globalThis=l,t.accumulateMultipleValues=function(e,t,r){const n=e[t];return void 0===n?e[t]=r:Array.isArray(n)?-1==n.indexOf(r)&&n.push(r):e[t]=[n,r],e},t.regexReplace=d,t.titleCase=function(e){return d(/\w+/g,e,(e=>h(e[0])))},t.caseWord=h,t.stableJson=y,t.same=function(e,t){return y(e)===y(t)},t.sameIgnoringCase=function(e,t){return y(s.toLowerCase(e))===y(s.toLowerCase(t))},t.limit=function(e,t){return e.slice(0,t)};const f=/\s+/g;return t.cleanSpaces=function(e){return e.trim().replace(f," ")},n.exports}.call({});function u(e,t=!0){return e?(0==e.indexOf("?")&&(e=e.substring(1,e.length)),e.split("&").map((function(e){return e.split("=")})).reduce((function(e,r){const n=r[0],i=r[1];if(!n)return e;const s=i?c.get((()=>decodeURIComponent(i.replace(/\+/g,"%20"))),void 0):i,o=t?function(e){try{return JSON.parse(e)}catch(t){return e}}(s):s;return c.accumulateMultipleValues(e,n,o)}),{})):{}}function l(e,t=!0){return Object.keys(c.Objects.removeEmpty(e)).map((r=>{const n=e[r],i=t?function(e){return"string"==typeof e?e:JSON.stringify(e)}(n):n;return`${r}=${encodeURIComponent(i)}`})).join("&")}class d{constructor(e){const t=d.RFC_3986.exec(e);if(!t)throw new Error("Invalid Uri: "+e);const[,,r,,n,i,,s,,o]=t;this.scheme=r,this.authority=n?new h(n):void 0,this.path=i,this.query=s,this.fragment=o}toString(){const e=[];return void 0!==this.scheme&&e.push(this.scheme,":"),void 0!==this.authority&&e.push("//",this.authority.toString()),e.push(this.path),void 0!==this.query&&e.push("?",this.query),void 0!==this.fragment&&e.push("#",this.fragment),e.join("")}get host(){return this.authority&&this.authority.host}get port(){return this.authority&&this.authority.port}get userInfo(){return this.authority&&this.authority.userInfo}}d.RFC_3986=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{constructor(e){const t=h.RFC_3986.exec(e);if(!t)throw new Error("Invalid Authority: "+e);const[,r,n,i]=t;this.userInfo=r,this.host=n,this.port=i}toString(){const e=[];return void 0!==this.userInfo&&e.push(this.userInfo,"@"),void 0!==this.host&&e.push(this.host),void 0!==this.port&&e.push(":",this.port),e.join("")}}h.RFC_3986=/(?:([^@]+)@)?([^:]+)(?::([\d]+))?/;class y{constructor(e=console.log,t=console.error,r=console.debug||console.log){this.log=e,this.error=t,this.debug=r}}class f{constructor(){this.log=()=>{},this.error=()=>{},this.debug=()=>{}}}const p="triptease-debug";function g(e,t="triptease-debug"){const r=c.get((()=>{var r;return u(null===(r=e.location)||void 0===r?void 0:r.search,!1)[t]}))||c.get((()=>{var r;return u(new d(null===(r=e.location)||void 0===r?void 0:r.originalHref).query,!1)[t]}))||c.get((()=>{var t,r;return null===(r=null===(t=e.process)||void 0===t?void 0:t.env)||void 0===r?void 0:r.DEBUG}))||c.get((()=>{var r;return(null===(r=e.localStorage)||void 0===r?void 0:r.getItem)&&e.localStorage.getItem(t)}))||"";return c.get((()=>r.substring(0,256)),"")}function v(e=c.globalThis){const t=g(e,p);return c.Strings.isEmpty(t)?"":l({[p]:t})}function m(e){const t=e.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^"+t+"$")}function w(e,t=c.globalThis){try{const r=function(e){return g(e,p).split(",").map((e=>e.trim()))}(t),n=r.filter((e=>"!"===e[0])).map((e=>e.substr(1)));return n.length>0?!n.some((t=>m(t).test(e))):r.some((t=>"true"===t||m(t).test(e)))}catch(e){return!1}}class b{constructor(e){this.name=e,this.console=new y}debug(e,...t){this.console.debug(`[${this.name}] ${e}`,...t)}log(e,...t){this.console.log(`[${this.name}] ${e}`,...t)}error(e,...t){this.console.error(`[${this.name}] ${e}`,...t)}}function k(e,t=c.globalThis){return w(e,t)?new b(e):new f}class O{constructor(e){this.logger=e,this.workers={}}createWorker(e,t){return r(this,void 0,void 0,(function*(){const r=this.workers[e];return r||(this.workers[e]=yield this.create(t,{name:e}))}))}create(e,t){return r(this,void 0,void 0,(function*(){try{return new Worker(e,t)}catch(n){this.logger.debug("Failed to create Worker switching to Blob Worker because:",n.message);const i=`location.originalHref = "${e}";\n`,s=(yield function(e){return r(this,void 0,void 0,(function*(){if("undefined"!=typeof fetch){const t=yield fetch(e.url,{method:e.method,headers:e.headers,body:e.body,credentials:e.options&&e.options.credentials?"include":"omit"});return{status:t.status,body:yield t.text()}}{const t=new XMLHttpRequest;return t.open(e.method,e.url,!0),e.headers&&Object.keys(e.headers).forEach((r=>{t.setRequestHeader(r,e.headers[r])})),e.options&&e.options.credentials&&(t.withCredentials=!0),t.send(e.body),new Promise(((e,r)=>{t.addEventListener("load",(r=>{e({status:t.status,body:t.responseText})})),t.addEventListener("error",(e=>{r(e)}))}))}}))}({method:"GET",url:e})).body,o=new Blob([i,s],{type:"application/javascript"});return new Worker(URL.createObjectURL(o),t)}}))}}class S{constructor(e,t=k("application-starter"),r=new O(t),n=new j(e,t)){this.window=e,this.logging=t,this.workerFactory=r,this.waiter=n}start(e){return r(this,void 0,void 0,(function*(){this.logging.debug(`ApplicationStarter starting app "${e.name}" (${e.type}), ${e.url}`);const t=this.window.document;if("worker"===e.type){const t=yield this.workerFactory.createWorker(e.name,e.url);return e.startMessage&&(yield this.waiter.waitForMessage(e.startMessage,t)),this.logging.debug("ApplicationStarter returning worker"),t}const r=t.querySelector(`${e.type}[name="${e.name}"]`);if(r)return this.logging.debug(`ApplicationStarter app "${e.name}" previously started returning that`),r;const n=t.createElement(e.type);n.setAttribute("name",e.name),n.src=e.url;const i=S.DefaultOptions[e.type];return Object.keys(i).forEach((e=>{n.setAttribute(e.toLowerCase(),i[e])})),this.addElement(n),e.startMessage?yield this.waiter.waitForMessage(e.startMessage):"script"===e.type&&(yield this.waiter.waitForLoadEvent(n)),n}))}addElement(e){(this.window.document.body||this.window.document.documentElement).appendChild(e)}}S.DefaultOptions={script:{defer:"",async:"",crossOrigin:"anonymous"},iframe:{style:"display: none;",sandbox:"allow-scripts allow-same-origin",title:"blank","aria-hidden":"true"}};class j{constructor(e,t){this.window=e,this.logging=t}waitForLoadEvent(e){return this.logging.debug("MessageWaiter waiting for load/error event for",e),new Promise(((t,r)=>{e.addEventListener("load",t),e.addEventListener("error",r)}))}waitForMessage(e,t=this.window){return this.logging.debug("MessageWaiter waiting for message",e),new Promise((r=>{this.logging.debug("MessageWaiter creating handler");const n=i=>{try{const s=i.data&&i.data.type,o=s===e;this.logging.debug(`ApplicationStarter message received "${s}", expecting "${e}", matched: ${o}`),o&&(t.removeEventListener("message",n),r(i.data))}catch(e){this.logging.debug("ApplicationStarter error in parsing message",e,i)}};this.logging.debug("MessageWaiter adding listener"),t.addEventListener("message",n)}))}}var T,I,x,E;(I=T||(T={})).Search="Search",I.RoomsAndRates="RoomsAndRates",I.Confirmation="Confirmation",I.Payment="Payment",I.Group="Group",I.Partial="Partial",I.Unknown="Unknown",(E=x||(x={})).Singleton="Singleton",E.ApplicationHost="ApplicationHost",E.DataSource="DataSource";const L="triptease.onboard.kernel";function A(e,t,r){return function(e,t,r){return Object.defineProperty(e,t,{value:r})}(e,t,r)[t]}function C(e){try{const{target:t,method:r}=R(e.type);if(t&&r)return!0}catch(e){}return!1}class M{constructor(e,t=k("worker")){this.worker=e,this.logger=t}addListener(e){this.worker.addEventListener("message",(t=>{C(t.data)&&e(t.data,this)}))}send(e){this.worker.postMessage(e)}}class q{constructor(e,t,r=_,n=k("messaging")){this.listener=e,this.target=t,this.allowedOrigins=r,this.logger=n}addListener(e){this.listener&&this.listener.addEventListener("message",(t=>{this.disallowedOrigin(t)||C(t.data)&&e(t.data,new q(void 0,t.source||this.target))}))}disallowedOrigin(e){return e.origin&&this.allowedOrigins.length>0&&-1===this.allowedOrigins.indexOf(new d(e.origin).host)}send(e){this.target.postMessage(e,"*")}}const _=["onboard.triptease.io","localhost"],P=/^(.*)\.([^.]+)$/;function R(e){const[,t,r]=e.match(P)||[];return{target:t,method:r}}function $(e,t,r){return{name:e,message:t,stack:null!=r?r:""}}var W={};Object.defineProperty(W,"__esModule",{value:!0});var F=($e=void 0,Fe=W.IdentityTransducer=$e,He=W.identity=Fe,ze=W.transducer=He,Ve=W.FirstTransducer=ze,Ke=W.first=Ve,Ge=W.LastTransducer=Ke,Ze=W.last=Ge,Xe=W.MapTransducer=Ze,Ye=W.map=Xe,et=W.ZipTransducer=Ye,tt=W.zip=et,nt=W.zipWithIndex=tt,it=W.FlatMapTransducer=nt,ot=W.flatMap=it,ct=W.FilterTransducer=ot,ut=W.filter=ct,lt=W.reject=ut,ht=W.find=lt,ft=W.CompositeTransducer=ht,pt=W.compose=ft,vt=W.decompose=pt,wt=W.ScanTransducer=vt,bt=W.scan=wt,Ot=W.reduce=bt,St=W.TakeTransducer=Ot,Tt=W.take=St,It=W.DropTransducer=Tt,Et=W.drop=It,Lt=W.DropWhileTransducer=Et,Ct=W.dropWhile=Lt,Mt=W.TakeWhileTransducer=Ct,_t=W.takeWhile=Mt,Pt=W.SortTransducer=_t,$t=W.sort=Pt,Wt=W.DedupTransducer=$t,Ht=W.dedupe=Wt,Ut=W.UniqueTransducer=Ht,zt=W.unique=Ut,W.windowed=zt);W.WindowedTransducer=F;var H={};Object.defineProperty(H,"__esModule",{value:!0});var U=(se=void 0,oe=H.ascending=se,ae=H.descending=oe,ce=H.comparators=ae,le=H.key=ce,de=H.isIterable=le,he=H.isAsyncIterable=de,ye=H.isPromiseLike=he,fe=H.toIterable=ye,ge=H.iterable=fe,ve=H.isArrayLike=ge,me=H.array=ve,we=H.toAsyncIterable=me,H.by=we);H.single=U;var z={};Object.defineProperty(z,"__esModule",{value:!0});var D=(Z=void 0,X=z.iterate=Z,Q=z.repeat=X,ee=z.range=Q,re=z.sequence=ee,z.Sequence=re);z.AsyncSequence=D;var V={};Object.defineProperty(V,"__esModule",{value:!0});var N=(K=void 0,B=V.increment=K,G=V.add=B,V.subtract=G);V.sum=N;var K=function(e){return e+1};V.increment=K;var B=function(e,t){return void 0===t?t=>e+t:e+t};V.add=B;var G=function(e,t){return void 0===t?t=>t-e:e-t};function*J(e,t){for(;;)yield t,t=e(t)}V.subtract=G,N=(e,t)=>e+t,V.sum=N;var Z=J;z.iterate=Z;var X=function*(e){for(;;)yield e()};z.repeat=X;var Q=function*(e,t,r=1){if(0===r)throw new Error("step can not be 0");if(void 0===t)yield*J(V.add(r),e);else{const n=Math.abs(r);t<e?yield*Y(J(V.subtract(n),e),W.takeWhile((e=>e>=t))):yield*Y(J(V.add(n),e),W.takeWhile((e=>e<=t)))}};function Y(e,...t){return H.isIterable(e)?new te(e,t):H.isArrayLike(e)?new te(H.iterable(e),t):new ne(e,t)}z.range=Q;var ee=Y;z.sequence=ee;class te{constructor(e,t){this.source=e,this.transducers=t}[Symbol.iterator](){return this.transducers.reduce(((e,t)=>t.sync(e)),this.source)[Symbol.iterator]()}}var re=te;z.Sequence=re;class ne{constructor(e,t){this.source=e,this.transducers=t}[Symbol.asyncIterator](){return this.transducers.reduce(((e,t)=>t.async_(e)),this.source)[Symbol.asyncIterator]()}}function ie(e,t){return e<t?-1:e>t?1:0}D=ne,z.AsyncSequence=D;var se=ie;H.ascending=se;var oe=function(e,t){return e<t?1:e>t?-1:0};H.descending=oe;var ae=function(...e){return(t,r)=>{for(const n of e){const e=n(t,r);if(0!=e)return e}return 0}};H.comparators=ae;var ce=function(e){return Object.assign((t=>t[e]),{name:e})};function ue(e){return"object"==typeof e&&Symbol.iterator in e}H.key=ce;var le=ue;H.isIterable=le;var de=function(e){return"object"==typeof e&&Symbol.asyncIterator in e};H.isAsyncIterable=de;var he=function(e){return"object"==typeof e&&"then"in e};H.isPromiseLike=he;var ye=function(...e){return e};H.toIterable=ye;var fe=function*(e){for(let t=0;t<e.length;t++)yield e[t]};function pe(e){return"object"==typeof e&&"number"==typeof e.length}H.iterable=fe;var ge=pe;H.isArrayLike=ge;var ve=function(e,...t){return ue(e)||pe(e)?function(e){const t=[];for(const r of e)t.push(r);return t}(z.sequence(e,...t)):function(e){var t,n,i,s;return r(this,void 0,void 0,(function*(){const r=[];try{for(t=a(e);!(n=yield t.next()).done;){const e=n.value;r.push(e)}}catch(e){i={error:e}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return r}))}(z.sequence(e,...t))};H.array=ve;var me=function(e){return s(this,arguments,(function*(){yield yield i(e)}))};H.toAsyncIterable=me;var we=function(e,t=ie){return"function"==typeof e?function(e,t=ie){return(r,n)=>t(e(r),e(n))}(e,t):function(e,t=ie){return(r,n)=>t(r[e],n[e])}(e,t)};H.by=we,U=function(e,...t){return ue(e)?function(e){for(const t of e)return t;throw new Error("Expected a single value")}(z.sequence(e,...t)):function(e){var t,n,i,s;return r(this,void 0,void 0,(function*(){try{for(t=a(e);!(n=yield t.next()).done;){return n.value}}catch(e){i={error:e}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}throw new Error("Expected a single value")}))}(z.sequence(e,...t))},H.single=U;var be={};Object.defineProperty(be,"__esModule",{value:!0});var ke=void 0;be.AVLTree=ke;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Se=(Te=void 0,xe=Oe.replace=Te,Oe.lazy=xe);function je(e,t,r){return Object.defineProperty(e,t,{value:r})}Oe.container=Se;var Te=je;function Ie(e,t,r){if(void 0===r.get)throw new Error("@lazy can only decorate getter methods");return Object.defineProperty(e,t,Object.assign(Object.assign({},r),{get(){return je(this,t,r.get.call(this))[t]}}))}Oe.replace=Te;var xe=Ie;Oe.lazy=xe,Se=function(e){return Object.keys(e).reduce(((t,r)=>Ie(t,r,{configurable:!0,get:()=>e[r](t)})),{})},Oe.container=Se;class Ee{constructor(e){this.comparator=e}static empty(e=H.ascending){return new Le(e)}static create(e,t,r=H.ascending){const n=Ee.empty(r);return new Ae(r,e,t,n,n)}static of(e,t=H.ascending){return Ee.preSorted(e.sort(H.by(0)),t,Ee.empty(t))}static preSorted(e,t,r){const n=e.length;switch(n){case 0:return r;case 1:{const[[n,i]]=e;return new Ae(t,n,i,r,r)}default:{const i=Math.floor(n/2),s=Ee.preSorted(e.slice(0,i),t,r),o=Ee.preSorted(e.slice(i+1),t,r),[a,c]=e[i];return new Ae(t,a,c,s,o)}}}}ke=Ee,be.AVLTree=ke;class Le extends Ee{constructor(e){super(e),this.isEmpty=!0,this.height=0,this.balance=0}insert(e,t){return new Ae(this.comparator,e,t,this,this)}contains(e){return!1}lookup(e){}delete(e){return{tree:this}}first(){}last(){}removeFirst(){return{tree:this}}removeLast(){return{tree:this}}toString(){return""}*keys(){}*values(){}*entries(){return[]}}class Ae extends Ee{constructor(e,t,r,n,i){super(e),this.key=t,this.value=r,this.left=n,this.right=i,this.isEmpty=!1}insert(e,t){const r=this.comparator(e,this.key);return 0===r?new Ae(this.comparator,e,t,this.left,this.right):r<0?this.replaceLeft(this.left.insert(e,t)):this.replaceRight(this.right.insert(e,t))}contains(e){const t=this.comparator(e,this.key);return 0===t||(t<0?this.left.contains(e):this.right.contains(e))}lookup(e){const t=this.comparator(e,this.key);return 0===t?this.value:t<0?this.left.lookup(e):this.right.lookup(e)}delete(e){const t=this.comparator(e,this.key);if(0===t){if(this.left.isEmpty)return{tree:this.right,key:this.key,value:this.value};if(this.right.isEmpty)return{tree:this.left,key:this.key,value:this.value};const{tree:e,key:t,value:r}=this.left.removeLast();return{tree:Ce(new Ae(this.comparator,t,r,e,this.right)),key:this.key,value:this.value}}if(t<0){const{tree:t,key:r,value:n}=this.left.delete(e);return{tree:this.replaceLeft(t),key:r,value:n}}const{tree:r,key:n,value:i}=this.right.delete(e);return{tree:this.replaceRight(r),key:n,value:i}}first(){return this.left.isEmpty?this.value:this.left.first()}last(){return this.right.isEmpty?this.value:this.right.last()}removeFirst(){if(this.left.isEmpty)return{tree:this.right,key:this.key,value:this.value};const{tree:e,key:t,value:r}=this.left.removeFirst();return{tree:this.replaceLeft(e),key:t,value:r}}removeLast(){if(this.right.isEmpty)return{tree:this.left,key:this.key,value:this.value};const{tree:e,key:t,value:r}=this.right.removeLast();return{tree:this.replaceRight(e),key:t,value:r}}replaceLeft(e){return Ce(new Ae(this.comparator,this.key,this.value,e,this.right))}replaceRight(e){return Ce(new Ae(this.comparator,this.key,this.value,this.left,e))}toString(){return`(${this.left} ${this.key}=${this.value} ${this.right})`}get balance(){return this.left.height-this.right.height}get height(){return Math.max(this.left.height,this.right.height)+1}*keys(){yield*this.left.keys(),yield this.key,yield*this.right.keys()}*values(){yield*this.left.values(),yield this.value,yield*this.right.values()}*entries(){yield*this.left.entries(),yield[this.key,this.value],yield*this.right.entries()}}function Ce(e){const t=e.balance;return-2==t?function(e){const t=e.right.balance;return 1==t?function(e){const t=Pe(e.right);return qe(e.replaceRight(t))}(e):-1==t?qe(e):e}(e):2==t?function(e){const t=e.left.balance;return-1==t?function(e){const t=_e(e.left);return Me(e.replaceLeft(t))}(e):1==t?Me(e):e}(e):e}function Me(e){return Pe(e)}function qe(e){return _e(e)}function _e(e){const t=e.right,r=t.left,n=e.replaceRight(r);return t.replaceLeft(n)}function Pe(e){const t=e.left,r=t.right,n=e.replaceLeft(r);return t.replaceRight(n)}t([Oe.lazy],Ae.prototype,"balance",null),t([Oe.lazy],Ae.prototype,"height",null);class Re{async_(e){return e}sync(e){return e}}var $e=Re;function We(){return new Re}W.IdentityTransducer=$e;var Fe=We;W.identity=Fe;var He=We;W.transducer=He;class Ue{async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;return yield i(yield yield i(e))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e)return yield t}}var ze=Ue;function De(){return new Ue}W.FirstTransducer=ze;var Ve=De;W.first=Ve;class Ne{async_(e){return s(this,arguments,(function*(){var t,r;let n;try{for(var s,o=a(e);!(s=yield i(o.next())).done;)n=s.value}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&(yield i(r.call(o)))}finally{if(t)throw t.error}}void 0!==n&&(yield yield i(n))}))}*sync(e){let t;for(t of e);void 0!==t&&(yield t)}}var Ke=Ne;function Be(){return new Ne}W.LastTransducer=Ke;var Ge=Be;W.last=Ge;class Je{constructor(e){this.mapper=e}async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;yield yield i(this.mapper(e))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e)yield this.mapper(t)}}var Ze=Je;W.MapTransducer=Ze;var Xe=function(e){return new Je(e)};W.map=Xe;class Qe{constructor(e){this.other=e}async_(e){return s(this,arguments,(function*(){if(!H.isAsyncIterable(this.other))throw new Error("Unsupported operation exception");const t=e[Symbol.asyncIterator](),r=this.other[Symbol.asyncIterator]();for(;;){const[e,n]=yield i(Promise.all([t.next(),r.next()]));if(e.done||n.done)return yield i(void 0);yield yield i([e.value,n.value])}}))}*sync(e){if(!H.isIterable(this.other))throw new Error("Unsupported operation exception");const t=e[Symbol.iterator](),r=this.other[Symbol.iterator]();for(;;){const e=t.next(),n=r.next();if(e.done||n.done)return;yield[e.value,n.value]}}}var Ye=Qe;W.ZipTransducer=Ye;var et=function(e){return new Qe(e)};W.zip=et;var tt=function(){return new Qe(z.range(0))};W.zipWithIndex=tt;class rt{constructor(e){this.mapper=e}async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;yield i(yield*o(a(this.mapper(e))))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e)yield*this.mapper(t)}}var nt=rt;W.FlatMapTransducer=nt;var it=function(e){return new rt(e)};W.flatMap=it;class st{constructor(e){this.predicate=e}async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;this.predicate(e)&&(yield yield i(e))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e)this.predicate(t)&&(yield t)}}var ot=st;function at(e){return new st(e)}W.FilterTransducer=ot;var ct=at;W.filter=ct;var ut=function(e){return new st((t=>!e(t)))};W.reject=ut;var lt=function(e){return yt(at(e),De())};W.find=lt;class dt{constructor(e,t){this.a=e,this.b=t}async_(e){return this.b.async_(this.a.async_(e))}sync(e){return this.b.sync(this.a.sync(e))}}var ht=dt;function yt(e,t){return new dt(e,t)}W.CompositeTransducer=ht;var ft=yt;W.compose=ft;var pt=function*e(t){t instanceof dt?(yield*e(t.a),yield*e(t.b)):yield t};W.decompose=pt;class gt{constructor(e,t){this.reducer=e,this.seed=t}async_(e){return s(this,arguments,(function*(){var t,r;let n=this.seed;yield yield i(n);try{for(var s,o=a(e);!(s=yield i(o.next())).done;){const e=s.value;yield yield i(n=this.reducer(n,e))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&(yield i(r.call(o)))}finally{if(t)throw t.error}}}))}*sync(e){let t=this.seed;yield t;for(const r of e)yield t=this.reducer(t,r)}}var vt=gt;function mt(e,t){return new gt(e,t)}W.ScanTransducer=vt;var wt=mt;W.scan=wt;var bt=function(e,t){return yt(mt(e,t),Be())};W.reduce=bt;class kt{constructor(e){this.count=e}async_(e){return s(this,arguments,(function*(){var t,r;if(this.count<1)return yield i(void 0);try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;if(yield yield i(e),--this.count<1)return yield i(void 0)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){if(!(this.count<1))for(const t of e)if(yield t,--this.count<1)return}}var Ot=kt;W.TakeTransducer=Ot;var St=function(e){return new kt(e)};W.take=St;class jt{constructor(e){this.count=e}async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;--this.count<0&&(yield yield i(e))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e)--this.count<0&&(yield t)}}var Tt=jt;W.DropTransducer=Tt;var It=function(e){return new jt(e)};W.drop=It;class xt{constructor(e){this.predicate=e}async_(e){return s(this,arguments,(function*(){var t,r;let n=!0;try{for(var s,o=a(e);!(s=yield i(o.next())).done;){const e=s.value;n&&(n=this.predicate(e)),n||(yield yield i(e))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&(yield i(r.call(o)))}finally{if(t)throw t.error}}}))}*sync(e){let t=!0;for(const r of e)t&&(t=this.predicate(r)),t||(yield r)}}var Et=xt;W.DropWhileTransducer=Et;var Lt=function(e){return new xt(e)};W.dropWhile=Lt;class At{constructor(e){this.predicate=e}async_(e){return s(this,arguments,(function*(){var t,r;try{for(var n,s=a(e);!(n=yield i(s.next())).done;){const e=n.value;if(!this.predicate(e))return yield i(void 0);yield yield i(e)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=s.return)&&(yield i(r.call(s)))}finally{if(t)throw t.error}}}))}*sync(e){for(const t of e){if(!this.predicate(t))return;yield t}}}var Ct=At;W.TakeWhileTransducer=Ct;var Mt=function(e){return new At(e)};W.takeWhile=Mt;class qt{constructor(e){this.comparator=e}async_(e){return s(this,arguments,(function*(){const t=yield i(H.array(e));t.sort(this.comparator),yield i(yield*o(a(t)))}))}*sync(e){const t=H.array(e);t.sort(this.comparator),yield*t}}var _t=qt;W.SortTransducer=_t;var Pt=function(e=H.ascending){return new qt(e)};W.sort=Pt;class Rt{constructor(e){this.comparator=e}async_(e){return s(this,arguments,(function*(){var t,r;let n;try{for(var s,o=a(e);!(s=yield i(o.next())).done;){const e=s.value;(void 0===n||0!==this.comparator(e,n))&&(yield yield i(e)),n=e}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&(yield i(r.call(o)))}finally{if(t)throw t.error}}}))}*sync(e){let t;for(const r of e)(void 0===t||0!==this.comparator(r,t))&&(yield r),t=r}}var $t=Rt;W.DedupTransducer=$t;var Wt=function(e=H.ascending){return new Rt(e)};W.dedupe=Wt;class Ft{constructor(e){this.comparator=e}async_(e){return s(this,arguments,(function*(){var t,r;let n=be.AVLTree.empty(this.comparator);try{for(var s,o=a(e);!(s=yield i(o.next())).done;){const e=s.value;n.contains(e)||(n=n.insert(e,void 0),yield yield i(e))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&(yield i(r.call(o)))}finally{if(t)throw t.error}}}))}*sync(e){let t=be.AVLTree.empty(this.comparator);for(const r of e)t.contains(r)||(t=t.insert(r,void 0),yield r)}}var Ht=Ft;W.UniqueTransducer=Ht;var Ut=function(e=H.ascending){return new Ft(e)};W.unique=Ut;var zt=function(e,t=1,r=!1){return new Dt(e,t,r)};W.windowed=zt;class Dt{constructor(e,t,r){this.size=e,this.step=t,this.remainder=r}async_(e){return s(this,arguments,(function*(){var t,r;let n=[],s=0;try{for(var o,c=a(e);!(o=yield i(c.next())).done;){const e=o.value;s>0?s--:(n.push(e),n.length===this.size&&(yield yield i([...n]),n=n.slice(this.step),this.step>this.size&&(s=this.step-this.size)))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=c.return)&&(yield i(r.call(c)))}finally{if(t)throw t.error}}this.remainder&&(yield yield i([...n]))}))}*sync(e){let t=[],r=0;for(const n of e)r>0?r--:(t.push(n),t.length===this.size&&(yield[...t],t=t.slice(this.step),this.step>this.size&&(r=this.step-this.size)));this.remainder&&(yield[...t])}}function Vt(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}F=Dt,W.WindowedTransducer=F;class Nt{static get last(){return Object.assign({},Nt.value)}static get(e,t,r,n){const i={clientKey:t,apiKey:n,pageType:e};if(!c.isEmpty(Nt.value)&&c.get((()=>{const e=Object.assign({},Nt.value);return delete e.pageVisitId,c.same(e,i)})))return Nt.value;const s=Object.assign(Object.assign({},i),{clientName:r,pageVisitId:Vt()});return Nt.value=s}}function Kt(e,t=Nt.last){const{pageVisitId:r}=t,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(t,["pageVisitId"]);return Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},n),e.context||{}),pageVisitId:r})}function*Bt(e){for(let t=0;t<e.frames.length;t++){const r=e.frames[t];yield r,yield*Bt(r)}}function Gt(e,t){return H.array(Bt(e),W.filter((e=>c.get((()=>e.name))===t)))}function Jt(e){return e===e.top?0:1+Jt(e.parent)}function Zt(e){const[t]=e.sort(H.by(Jt,H.ascending));return t}Nt.value={};const Xt=[T.Payment,T.Confirmation,T.RoomsAndRates,T.Group,T.Unknown];function Qt(e){return Xt.indexOf(e.type)}function Yt(e){const[t]=(r=e,r.map((e=>c.get((()=>e.triptease.config)))).filter(Boolean)).sort(H.by(Qt,H.ascending));var r;return t}function er(e){return Gt(e.top,L)}function tr(e,t=er(e)){if(1===t.length)return x.Singleton;return Zt(t)===e?x.ApplicationHost:x.DataSource}function rr(e){return e&&"object"==typeof e&&"triptease.onboard.request"===e.type&&"string"==typeof e.requestType&&"string"==typeof e.correlationId&&Array.isArray(e.payload)}function nr(e){return e&&"object"==typeof e&&"triptease.onboard.response"===e.type&&"string"==typeof e.correlationId}function ir(e,t){return{type:"triptease.onboard.response",correlationId:e,payload:t}}function sr(e,t){return ir(e,$("MissingHandler","No handler for "+t))}const or=k("messaging");class ar{constructor(){this.handlers=new Map}register(e,t){return e.forEach((e=>{if(this.hasHandlerFor(e))throw new Error(`Method name "${e}" already registered to a handler`);this.handlers.set(e,t)})),this}handle(e){return r(this,void 0,void 0,(function*(){const t=this.handlers.get(e.requestType);return t?(or.debug("Matched message to handler",e,t),yield t.handle(e)):sr(e.correlationId,e.requestType)}))}hasHandlerFor(e){return this.handlers.has(e)}}const cr=k("messaging");class ur{constructor(e){this.target=e}handle(e){return r(this,void 0,void 0,(function*(){const t=this.target[e.requestType];if(!t)return cr.debug("No method found that matches method",e.requestType,this.target),sr(e.correlationId,e.requestType);try{cr.debug("Found method",e.requestType);const r=yield t.apply(this.target,e.payload);return ir(e.correlationId,r)}catch(t){return cr.debug("Error trying to in invoke method",e.requestType,t),function(e,t){return ir(e,$(t.name,t.message,t.stack))}(e.correlationId,t)}}))}}class lr{generate(e){if(void 0!==e)throw new Error("UuidGenerator does not support custom lengths");return Vt().replace(/-/g,"")}}class dr{constructor(e,t){this.messaging=e,this.idGenerator=t}get(e,t,n){return(...e)=>r(this,void 0,void 0,(function*(){const r=this.idGenerator.generate(),{payload:n}=yield this.messaging.handle({type:"triptease.onboard.request",requestType:String(t),payload:e,correlationId:r});if((i=n)&&"object"==typeof i&&"name"in i&&"string"==typeof i.name&&"message"in i&&"string"==typeof i.message&&"stack"in i&&"string"==typeof i.stack)throw n;var i;return n}))}}const hr=k("messaging");class yr{constructor(e){this.messageHandler=e,this.promises=new Map,e&&e.addListener((e=>{if(nr(e)){const{correlationId:t}=e,r=this.promises.get(t);r&&(hr.debug("Sender matched response",e),r.resolve(e),this.promises.delete(t))}}))}handle(e){return r(this,void 0,void 0,(function*(){return hr.debug("Sending request",e),this.messageHandler&&this.messageHandler.send(e),new Promise(((t,r)=>{this.promises.set(e.correlationId,{resolve:t,reject:r})}))}))}}const fr=k("messaging");class pr{constructor(e,t){this.listen=e,this.router=t,this.rules=[],e.addListener(this.handler.bind(this)),this.addRule(rr,(e=>e),(e=>e)),this.addRule(gr,vr,mr)}registerAlias(e,t){if(!this.router.hasHandlerFor(t))throw new Error(`Illegal alias: Method "${t}" is not registered with router`);return this.addRule((r=e,e=>e.type===r),function(e){return t=>({type:"triptease.onboard.request",requestType:String(e),payload:[t],correlationId:t.correlationId||"fire-and-forget"})}(t),mr);var r}handler(e,t){return r(this,void 0,void 0,(function*(){if(nr(e))return;fr.debug("listenOn received request",e);const r=this.rules.find((t=>t.predicate(e)));if(!r)return;const n=r.requestConverter(e),i=yield this.router.handle(n);e.correlationId&&e.correlationId===i.correlationId&&(fr.debug("listenOn sending response to sender",i),t.send(r.responseConverter(i)))}))}addRule(e,t,r){return this.rules.push({predicate:e,requestConverter:t,responseConverter:r}),this}}function gr(e){return!rr(e)&&!!e.correlationId}function vr(e){const{value:t,correlationId:r}=e,{method:n}=R(e.type);return{type:"triptease.onboard.request",requestType:n,payload:[t],correlationId:r}}function mr(e){return{type:"triptease.onboard.response",correlationId:e.correlationId,value:e.payload}}class wr{constructor(e,t,r=k("kernel"),n=new S(e,r)){this.window=e,this.allowedOrigin=t,this.logger=r,this.starter=n}get triptease(){const e=this.window.triptease=this.window.triptease||{};return e.onboard={"kernel-host":this},A(this,"triptease",e)}start(){return r(this,void 0,void 0,(function*(){this.logger.debug("KernelHost starting"),this.triptease;const e=new q(this.window,this.window.parent,[..._,this.allowedOrigin],this.logger),t=yield this.starter.start({name:L,url:"kernel.js?"+v(),type:"worker",startMessage:"triptease.onboard.kernel-started"}),r=new M(t),n=new yr(r);this.kernel=function(e,t=new lr){return new Proxy({},new dr(e,t))}(n),new pr(e,this.router=(new ar).register(["getPageState","startApp","applicationConfig","processConfig"],new ur(this)).register(["generateConfig"],n)).registerAlias("triptease.config","processConfig"),e.send({type:"triptease.onboard.kernel-host-started"}),this.logger.log("KernelHost started")}))}startApp(e){return r(this,void 0,void 0,(function*(){const t=yield this.starter.start(e),r=new yr(new M(t));this.router.register(e.requestTypes,r)}))}getPageState(){return r(this,void 0,void 0,(function*(){return Nt.last}))}applicationConfig(e){return r(this,void 0,void 0,(function*(){return tr(this.window)===x.DataSource?{applications:[]}:this.kernel.applicationConfig(e)}))}processConfig(e){return r(this,void 0,void 0,(function*(){const t=this.window.parent,r=this.window;(function(e=c.globalThis){return e.triptease=e.triptease||{},e.triptease.onboard=e.triptease.onboard||{},{triptease:e.triptease,onboard:e.triptease.onboard}})(r).triptease.config=e.payload;const n=er(r.top),i=tr(r,n);switch(this.logger.log(`Kernel Host is in ${i} mode`),i){case x.Singleton:return this.logger.log("Broadcasting triptease.config message",e.payload),this.sendTo(Kt(e,Nt.get(e.payload.type,e.payload.clientKey,e.payload.clientName,e.payload.apiKey)),t);case x.ApplicationHost:const r=function(e,t){const r=Yt(e);return Kt(Object.assign(Object.assign({},t),{payload:r}),Nt.get(r.type,r.clientKey,r.clientName,r.apiKey))}(n,e);return this.logger.log("Broadcasting triptease.config message",r.payload),this.sendTo(r,t);case x.DataSource:const i=Zt(n);return this.logger.log("Sending triptease.config message to kernel host in application host mode",e.payload),this.sendTo(e,i)}}))}sendTo(e,t){new q(void 0,t).send(e)}}r(void 0,void 0,void 0,(function*(){yield new wr(window,u(location.search).originHost).start()}))}();
//]]></script></head><body data-new-gr-c-s-check-loaded="14.983.0"></body></html>