parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.willnevermatch?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"i1Q6":[function(require,module,exports) {

var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);
},{}],"zKeE":[function(require,module,exports) {
var e=module.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e);
},{}],"g31e":[function(require,module,exports) {
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],"3zRh":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"g31e"}],"BxvP":[function(require,module,exports) {
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],"zotD":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"BxvP"}],"wLcK":[function(require,module,exports) {
module.exports=function(r){try{return!!r()}catch(t){return!0}};
},{}],"6MLN":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"wLcK"}],"9kxq":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"BxvP","./_global":"i1Q6"}],"R6c1":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"6MLN","./_fails":"wLcK","./_dom-create":"9kxq"}],"EKwp":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"BxvP"}],"Gfzd":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"zotD","./_ie8-dom-define":"R6c1","./_to-primitive":"EKwp","./_descriptors":"6MLN"}],"0WCH":[function(require,module,exports) {
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],"akPY":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"Gfzd","./_property-desc":"0WCH","./_descriptors":"6MLN"}],"yS17":[function(require,module,exports) {
var r={}.hasOwnProperty;module.exports=function(e,n){return r.call(e,n)};
},{}],"vSO4":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),n=require("./_ctx"),t=require("./_hide"),i=require("./_has"),u="prototype",o=function(c,a,f){var l,s,p,h=c&o.F,v=c&o.G,q=c&o.S,w=c&o.P,_=c&o.B,y=c&o.W,d=v?r:r[a]||(r[a]={}),F=d[u],g=v?e:q?e[a]:(e[a]||{})[u];for(l in v&&(f=a),f)(s=!h&&g&&void 0!==g[l])&&i(d,l)||(p=s?g[l]:f[l],d[l]=v&&"function"!=typeof g[l]?f[l]:_&&s?n(p,e):y&&g[l]==p?function(e){var r=function(r,n,t){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,t)}return e.apply(this,arguments)};return r[u]=e[u],r}(p):w&&"function"==typeof p?n(Function.call,p):p,w&&((d.virtual||(d.virtual={}))[l]=p,c&o.R&&F&&!F[l]&&t(F,l,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,module.exports=o;
},{"./_global":"i1Q6","./_core":"zKeE","./_ctx":"3zRh","./_hide":"akPY","./_has":"yS17"}],"htFH":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f});
},{"./_export":"vSO4","./_descriptors":"6MLN","./_object-dp":"Gfzd"}],"3v7p":[function(require,module,exports) {
require("../../modules/es6.object.define-property");var e=require("../../modules/_core").Object;module.exports=function(r,o,t){return e.defineProperty(r,o,t)};
},{"../../modules/es6.object.define-property":"htFH","../../modules/_core":"zKeE"}],"6eIq":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/define-property");
},{"core-js/library/fn/object/define-property":"3v7p"}],"U72i":[function(require,module,exports) {
module.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o};
},{}],"N3sD":[function(require,module,exports) {
module.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
},{}],"Kj+H":[function(require,module,exports) {
var r=require("./_export"),e=require("./_defined"),i=require("./_fails"),n=require("./_string-ws"),t="["+n+"]",u="​",o=RegExp("^"+t+t+"*"),p=RegExp(t+t+"*$"),a=function(e,t,o){var p={},a=i(function(){return!!n[e]()||u[e]()!=u}),f=p[e]=a?t(c):n[e];o&&(p[o]=f),r(r.P+r.F*a,"String",p)},c=a.trim=function(r,i){return r=String(e(r)),1&i&&(r=r.replace(o,"")),2&i&&(r=r.replace(p,"")),r};module.exports=a;
},{"./_export":"vSO4","./_defined":"U72i","./_fails":"wLcK","./_string-ws":"N3sD"}],"wsAP":[function(require,module,exports) {
var r=require("./_global").parseInt,e=require("./_string-trim").trim,t=require("./_string-ws"),i=/^[-+]?0[xX]/;module.exports=8!==r(t+"08")||22!==r(t+"0x16")?function(t,n){var s=e(String(t),3);return r(s,n>>>0||(i.test(s)?16:10))}:r;
},{"./_global":"i1Q6","./_string-trim":"Kj+H","./_string-ws":"N3sD"}],"h7/j":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-int");r(r.G+r.F*(parseInt!=e),{parseInt:e});
},{"./_export":"vSO4","./_parse-int":"wsAP"}],"++Z+":[function(require,module,exports) {
require("../modules/es6.parse-int"),module.exports=require("../modules/_core").parseInt;
},{"../modules/es6.parse-int":"h7/j","../modules/_core":"zKeE"}],"6TiY":[function(require,module,exports) {
module.exports=require("core-js/library/fn/parse-int");
},{"core-js/library/fn/parse-int":"++Z+"}],"Q17y":[function(require,module,exports) {
var r=require("../../modules/_core"),i=r.JSON||(r.JSON={stringify:JSON.stringify});module.exports=function(r){return i.stringify.apply(i,arguments)};
},{"../../modules/_core":"zKeE"}],"E09K":[function(require,module,exports) {
module.exports=require("core-js/library/fn/json/stringify");
},{"core-js/library/fn/json/stringify":"Q17y"}],"tuDi":[function(require,module,exports) {

},{}],"MpYs":[function(require,module,exports) {
var o=Math.ceil,r=Math.floor;module.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)};
},{}],"lytE":[function(require,module,exports) {
var e=require("./_to-integer"),r=require("./_defined");module.exports=function(t){return function(n,i){var o,u,c=String(r(n)),d=e(i),a=c.length;return d<0||d>=a?t?"":void 0:(o=c.charCodeAt(d))<55296||o>56319||d+1===a||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):o:t?c.slice(d,d+2):u-56320+(o-55296<<10)+65536}};
},{"./_to-integer":"MpYs","./_defined":"U72i"}],"1kq3":[function(require,module,exports) {
module.exports=!0;
},{}],"gojl":[function(require,module,exports) {
module.exports=require("./_hide");
},{"./_hide":"akPY"}],"dhak":[function(require,module,exports) {
module.exports={};
},{}],"ShN9":[function(require,module,exports) {
var r={}.toString;module.exports=function(t){return r.call(t).slice(8,-1)};
},{}],"E5Ce":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"ShN9"}],"Wyka":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"E5Ce","./_defined":"U72i"}],"S7IM":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"MpYs"}],"Zwq5":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"MpYs"}],"LNnS":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"Wyka","./_to-length":"S7IM","./_to-absolute-index":"Zwq5"}],"NB7d":[function(require,module,exports) {

var r=require("./_core"),e=require("./_global"),o="__core-js_shared__",i=e[o]||(e[o]={});(module.exports=function(r,e){return i[r]||(i[r]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:require("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"});
},{"./_core":"zKeE","./_global":"i1Q6","./_library":"1kq3"}],"X6va":[function(require,module,exports) {
var o=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++o+t).toString(36))};
},{}],"/wuY":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"NB7d","./_uid":"X6va"}],"B9Lq":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"yS17","./_to-iobject":"Wyka","./_array-includes":"LNnS","./_shared-key":"/wuY"}],"KxjL":[function(require,module,exports) {
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],"knrM":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"B9Lq","./_enum-bug-keys":"KxjL"}],"gjjs":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"Gfzd","./_an-object":"zotD","./_object-keys":"knrM","./_descriptors":"6MLN"}],"ebIA":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"i1Q6"}],"TNJq":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"zotD","./_object-dps":"gjjs","./_enum-bug-keys":"KxjL","./_shared-key":"/wuY","./_dom-create":"9kxq","./_html":"ebIA"}],"Ug9I":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"NB7d","./_uid":"X6va","./_global":"i1Q6"}],"11Ut":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"Gfzd","./_has":"yS17","./_wks":"Ug9I"}],"b7Q2":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"TNJq","./_property-desc":"0WCH","./_set-to-string-tag":"11Ut","./_hide":"akPY","./_wks":"Ug9I"}],"mbLO":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"U72i"}],"HHE0":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"yS17","./_to-object":"mbLO","./_shared-key":"/wuY"}],"uRfg":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_iterators"),u=require("./_iter-create"),o=require("./_set-to-string-tag"),s=require("./_object-gpo"),a=require("./_wks")("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",l="keys",q="values",y=function(){return this};module.exports=function(_,p,h,k,v,w,d){u(h,p,k);var x,b,g,j=function(e){if(!c&&e in I)return I[e];switch(e){case l:case q:return function(){return new h(this,e)}}return function(){return new h(this,e)}},m=p+" Iterator",A=v==q,F=!1,I=_.prototype,O=I[a]||I[f]||v&&I[v],P=O||j(v),z=v?A?j("entries"):P:void 0,B="Array"==p&&I.entries||O;if(B&&(g=s(B.call(new _)))!==Object.prototype&&g.next&&(o(g,m,!0),e||"function"==typeof g[a]||i(g,a,y)),A&&O&&O.name!==q&&(F=!0,P=function(){return O.call(this)}),e&&!d||!c&&!F&&I[a]||i(I,a,P),n[p]=P,n[m]=y,v)if(x={values:A?P:j(q),keys:w?P:j(l),entries:z},d)for(b in x)b in I||t(I,b,x[b]);else r(r.P+r.F*(c||F),p,x);return x};
},{"./_library":"1kq3","./_export":"vSO4","./_redefine":"gojl","./_hide":"akPY","./_iterators":"dhak","./_iter-create":"b7Q2","./_set-to-string-tag":"11Ut","./_object-gpo":"HHE0","./_wks":"Ug9I"}],"i+u+":[function(require,module,exports) {
"use strict";var i=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(i){this._t=String(i),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})});
},{"./_string-at":"lytE","./_iter-define":"uRfg"}],"ID6i":[function(require,module,exports) {
module.exports=function(){};
},{}],"xwD+":[function(require,module,exports) {
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],"OYXR":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"ID6i","./_iter-step":"xwD+","./_iterators":"dhak","./_to-iobject":"Wyka","./_iter-define":"uRfg"}],"COf8":[function(require,module,exports) {

require("./es6.array.iterator");for(var t=require("./_global"),e=require("./_hide"),i=require("./_iterators"),r=require("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),L=0;L<s.length;L++){var a=s[L],l=t[a],S=l&&l.prototype;S&&!S[r]&&e(S,r,a),i[a]=i.Array}
},{"./es6.array.iterator":"OYXR","./_global":"i1Q6","./_hide":"akPY","./_iterators":"dhak","./_wks":"Ug9I"}],"O6kh":[function(require,module,exports) {
var r=require("./_hide");module.exports=function(e,i,n){for(var o in i)n&&e[o]?e[o]=i[o]:r(e,o,i[o]);return e};
},{"./_hide":"akPY"}],"KUik":[function(require,module,exports) {
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],"hEIm":[function(require,module,exports) {
var r=require("./_an-object");module.exports=function(t,e,o,a){try{return a?e(r(o)[0],o[1]):e(o)}catch(n){var c=t.return;throw void 0!==c&&r(c.call(t)),n}};
},{"./_an-object":"zotD"}],"af0K":[function(require,module,exports) {
var r=require("./_iterators"),e=require("./_wks")("iterator"),t=Array.prototype;module.exports=function(o){return void 0!==o&&(r.Array===o||t[e]===o)};
},{"./_iterators":"dhak","./_wks":"Ug9I"}],"ZHvQ":[function(require,module,exports) {
var e=require("./_cof"),t=require("./_wks")("toStringTag"),n="Arguments"==e(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(n){}};module.exports=function(u){var o,c,i;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(c=r(o=Object(u),t))?c:n?e(o):"Object"==(i=e(o))&&"function"==typeof o.callee?"Arguments":i};
},{"./_cof":"ShN9","./_wks":"Ug9I"}],"7AqT":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_wks")("iterator"),t=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(o){if(null!=o)return o[e]||o["@@iterator"]||t[r(o)]};
},{"./_classof":"ZHvQ","./_wks":"Ug9I","./_iterators":"dhak","./_core":"zKeE"}],"ozpD":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iter-call"),t=require("./_is-array-iter"),i=require("./_an-object"),o=require("./_to-length"),n=require("./core.get-iterator-method"),u={},a={},f=module.exports=function(f,l,c,q,_){var h,s,d,g,p=_?function(){return f}:n(f),v=e(c,q,l?2:1),x=0;if("function"!=typeof p)throw TypeError(f+" is not iterable!");if(t(p)){for(h=o(f.length);h>x;x++)if((g=l?v(i(s=f[x])[0],s[1]):v(f[x]))===u||g===a)return g}else for(d=p.call(f);!(s=d.next()).done;)if((g=r(d,v,s.value,l))===u||g===a)return g};f.BREAK=u,f.RETURN=a;
},{"./_ctx":"3zRh","./_iter-call":"hEIm","./_is-array-iter":"af0K","./_an-object":"zotD","./_to-length":"S7IM","./core.get-iterator-method":"7AqT"}],"FGzK":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_core"),i=require("./_object-dp"),t=require("./_descriptors"),u=require("./_wks")("species");module.exports=function(o){var c="function"==typeof r[o]?r[o]:e[o];t&&c&&!c[u]&&i.f(c,u,{configurable:!0,get:function(){return this}})};
},{"./_global":"i1Q6","./_core":"zKeE","./_object-dp":"Gfzd","./_descriptors":"6MLN","./_wks":"Ug9I"}],"e8vu":[function(require,module,exports) {
var e=require("./_uid")("meta"),r=require("./_is-object"),t=require("./_has"),n=require("./_object-dp").f,i=0,u=Object.isExtensible||function(){return!0},f=!require("./_fails")(function(){return u(Object.preventExtensions({}))}),o=function(r){n(r,e,{value:{i:"O"+ ++i,w:{}}})},s=function(n,i){if(!r(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!t(n,e)){if(!u(n))return"F";if(!i)return"E";o(n)}return n[e].i},c=function(r,n){if(!t(r,e)){if(!u(r))return!0;if(!n)return!1;o(r)}return r[e].w},E=function(r){return f&&a.NEED&&u(r)&&!t(r,e)&&o(r),r},a=module.exports={KEY:e,NEED:!1,fastKey:s,getWeak:c,onFreeze:E};
},{"./_uid":"X6va","./_is-object":"BxvP","./_has":"yS17","./_object-dp":"Gfzd","./_fails":"wLcK"}],"7Liz":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e,i){if(!r(e)||e._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return e};
},{"./_is-object":"BxvP"}],"AePr":[function(require,module,exports) {
"use strict";var e=require("./_object-dp").f,r=require("./_object-create"),t=require("./_redefine-all"),i=require("./_ctx"),n=require("./_an-instance"),_=require("./_for-of"),o=require("./_iter-define"),u=require("./_iter-step"),f=require("./_set-species"),s=require("./_descriptors"),l=require("./_meta").fastKey,c=require("./_validate-collection"),v=s?"_s":"size",a=function(e,r){var t,i=l(r);if("F"!==i)return e._i[i];for(t=e._f;t;t=t.n)if(t.k==r)return t};module.exports={getConstructor:function(o,u,f,l){var h=o(function(e,t){n(e,h,u,"_i"),e._t=u,e._i=r(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&_(t,f,e[l],e)});return t(h.prototype,{clear:function(){for(var e=c(this,u),r=e._i,t=e._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete r[t.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=c(this,u),t=a(r,e);if(t){var i=t.n,n=t.p;delete r._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),r._f==t&&(r._f=i),r._l==t&&(r._l=n),r[v]--}return!!t},forEach:function(e){c(this,u);for(var r,t=i(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(t(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!a(c(this,u),e)}}),s&&e(h.prototype,"size",{get:function(){return c(this,u)[v]}}),h},def:function(e,r,t){var i,n,_=a(e,r);return _?_.v=t:(e._l=_={i:n=l(r,!0),k:r,v:t,p:i=e._l,n:void 0,r:!1},e._f||(e._f=_),i&&(i.n=_),e[v]++,"F"!==n&&(e._i[n]=_)),e},getEntry:a,setStrong:function(e,r,t){o(e,r,function(e,t){this._t=c(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,r=this._l;r&&r.r;)r=r.p;return this._t&&(this._l=r=r?r.n:this._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(this._t=void 0,u(1))},t?"entries":"values",!t,!0),f(r)}};
},{"./_object-dp":"Gfzd","./_object-create":"TNJq","./_redefine-all":"O6kh","./_ctx":"3zRh","./_an-instance":"KUik","./_for-of":"ozpD","./_iter-define":"uRfg","./_iter-step":"xwD+","./_set-species":"FGzK","./_descriptors":"6MLN","./_meta":"e8vu","./_validate-collection":"7Liz"}],"ayXv":[function(require,module,exports) {
var r=require("./_cof");module.exports=Array.isArray||function(e){return"Array"==r(e)};
},{"./_cof":"ShN9"}],"7tZR":[function(require,module,exports) {
var r=require("./_is-object"),e=require("./_is-array"),o=require("./_wks")("species");module.exports=function(i){var t;return e(i)&&("function"!=typeof(t=i.constructor)||t!==Array&&!e(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t};
},{"./_is-object":"BxvP","./_is-array":"ayXv","./_wks":"Ug9I"}],"TD/Z":[function(require,module,exports) {
var r=require("./_array-species-constructor");module.exports=function(e,n){return new(r(e))(n)};
},{"./_array-species-constructor":"7tZR"}],"tMiz":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iobject"),t=require("./_to-object"),i=require("./_to-length"),u=require("./_array-species-create");module.exports=function(n,c){var s=1==n,a=2==n,o=3==n,f=4==n,l=6==n,q=5==n||l,_=c||u;return function(u,c,h){for(var v,p,b=t(u),d=r(b),g=e(c,h,3),j=i(d.length),x=0,m=s?_(u,j):a?_(u,0):void 0;j>x;x++)if((q||x in d)&&(p=g(v=d[x],x,b),n))if(s)m[x]=p;else if(p)switch(n){case 3:return!0;case 5:return v;case 6:return x;case 2:m.push(v)}else if(f)return!1;return l?-1:o||f?f:m}};
},{"./_ctx":"3zRh","./_iobject":"E5Ce","./_to-object":"mbLO","./_to-length":"S7IM","./_array-species-create":"TD/Z"}],"cYD/":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_export"),t=require("./_meta"),i=require("./_fails"),o=require("./_hide"),n=require("./_redefine-all"),u=require("./_for-of"),s=require("./_an-instance"),a=require("./_is-object"),c=require("./_set-to-string-tag"),_=require("./_object-dp").f,f=require("./_array-methods")(0),d=require("./_descriptors");module.exports=function(p,l,q,h,g,y){var v=e[p],E=v,b=g?"set":"add",m=E&&E.prototype,x={};return d&&"function"==typeof E&&(y||m.forEach&&!i(function(){(new E).entries().next()}))?(E=l(function(e,r){s(e,E,p,"_c"),e._c=new v,null!=r&&u(r,g,e[b],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var r="add"==e||"set"==e;e in m&&(!y||"clear"!=e)&&o(E.prototype,e,function(t,i){if(s(this,E,e),!r&&y&&!a(t))return"get"==e&&void 0;var o=this._c[e](0===t?0:t,i);return r?this:o})}),y||_(E.prototype,"size",{get:function(){return this._c.size}})):(E=h.getConstructor(l,p,g,b),n(E.prototype,q),t.NEED=!0),c(E,p),x[p]=E,r(r.G+r.W+r.F,x),y||h.setStrong(E,p,g),E};
},{"./_global":"i1Q6","./_export":"vSO4","./_meta":"e8vu","./_fails":"wLcK","./_hide":"akPY","./_redefine-all":"O6kh","./_for-of":"ozpD","./_an-instance":"KUik","./_is-object":"BxvP","./_set-to-string-tag":"11Ut","./_object-dp":"Gfzd","./_array-methods":"tMiz","./_descriptors":"6MLN"}],"+o4f":[function(require,module,exports) {
"use strict";var e=require("./_collection-strong"),t=require("./_validate-collection"),r="Set";module.exports=require("./_collection")(r,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return e.def(t(this,r),i=0===i?0:i,i)}},e);
},{"./_collection-strong":"AePr","./_validate-collection":"7Liz","./_collection":"cYD/"}],"YLmZ":[function(require,module,exports) {
var r=require("./_for-of");module.exports=function(e,o){var u=[];return r(e,!1,u.push,u,o),u};
},{"./_for-of":"ozpD"}],"x6MZ":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_array-from-iterable");module.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return e(this)}};
},{"./_classof":"ZHvQ","./_array-from-iterable":"YLmZ"}],"XMdB":[function(require,module,exports) {
var e=require("./_export");e(e.P+e.R,"Set",{toJSON:require("./_collection-to-json")("Set")});
},{"./_export":"vSO4","./_collection-to-json":"x6MZ"}],"32ty":[function(require,module,exports) {
"use strict";var r=require("./_export");module.exports=function(e){r(r.S,e,{of:function(){for(var r=arguments.length,e=new Array(r);r--;)e[r]=arguments[r];return new this(e)}})};
},{"./_export":"vSO4"}],"OhiW":[function(require,module,exports) {
require("./_set-collection-of")("Set");
},{"./_set-collection-of":"32ty"}],"IC7E":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_a-function"),u=require("./_ctx"),i=require("./_for-of");module.exports=function(t){r(r.S,t,{from:function(r){var t,n,o,s,f=arguments[1];return e(this),(t=void 0!==f)&&e(f),null==r?new this:(n=[],t?(o=0,s=u(f,arguments[2],2),i(r,!1,function(r){n.push(s(r,o++))})):i(r,!1,n.push,n),new this(n))}})};
},{"./_export":"vSO4","./_a-function":"g31e","./_ctx":"3zRh","./_for-of":"ozpD"}],"dMXp":[function(require,module,exports) {
require("./_set-collection-from")("Set");
},{"./_set-collection-from":"IC7E"}],"vvo2":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.set"),require("../modules/es7.set.to-json"),require("../modules/es7.set.of"),require("../modules/es7.set.from"),module.exports=require("../modules/_core").Set;
},{"../modules/es6.object.to-string":"tuDi","../modules/es6.string.iterator":"i+u+","../modules/web.dom.iterable":"COf8","../modules/es6.set":"+o4f","../modules/es7.set.to-json":"XMdB","../modules/es7.set.of":"OhiW","../modules/es7.set.from":"dMXp","../modules/_core":"zKeE"}],"Oo+u":[function(require,module,exports) {
module.exports=require("core-js/library/fn/set");
},{"core-js/library/fn/set":"vvo2"}],"vUQk":[function(require,module,exports) {
"use strict";var e=require("./_object-dp"),r=require("./_property-desc");module.exports=function(t,i,o){i in t?e.f(t,i,r(0,o)):t[i]=o};
},{"./_object-dp":"Gfzd","./_property-desc":"0WCH"}],"Lli7":[function(require,module,exports) {
var r=require("./_wks")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}module.exports=function(n,u){if(!u&&!t)return!1;var o=!1;try{var c=[7],a=c[r]();a.next=function(){return{done:o=!0}},c[r]=function(){return a},n(c)}catch(e){}return o};
},{"./_wks":"Ug9I"}],"N484":[function(require,module,exports) {
"use strict";var e=require("./_ctx"),r=require("./_export"),t=require("./_to-object"),i=require("./_iter-call"),o=require("./_is-array-iter"),u=require("./_to-length"),n=require("./_create-property"),a=require("./core.get-iterator-method");r(r.S+r.F*!require("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(r){var l,c,f,q,_=t(r),h="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,d=void 0!==y,s=0,g=a(_);if(d&&(y=e(y,v>2?arguments[2]:void 0,2)),null==g||h==Array&&o(g))for(c=new h(l=u(_.length));l>s;s++)n(c,s,d?y(_[s],s):_[s]);else for(q=g.call(_),c=new h;!(f=q.next()).done;s++)n(c,s,d?i(q,y,[f.value,s],!0):f.value);return c.length=s,c}});
},{"./_ctx":"3zRh","./_export":"vSO4","./_to-object":"mbLO","./_iter-call":"hEIm","./_is-array-iter":"af0K","./_to-length":"S7IM","./_create-property":"vUQk","./core.get-iterator-method":"7AqT","./_iter-detect":"Lli7"}],"O35A":[function(require,module,exports) {
require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/_core").Array.from;
},{"../../modules/es6.string.iterator":"i+u+","../../modules/es6.array.from":"N484","../../modules/_core":"zKeE"}],"ybNn":[function(require,module,exports) {
module.exports=require("core-js/library/fn/array/from");
},{"core-js/library/fn/array/from":"O35A"}],"z7R8":[function(require,module,exports) {
exports.f={}.propertyIsEnumerable;
},{}],"d/AR":[function(require,module,exports) {
var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_to-iobject"),o=require("./_object-pie").f;module.exports=function(u){return function(i){for(var c,n=t(i),s=r(n),f=s.length,l=0,p=[];f>l;)c=s[l++],e&&!o.call(n,c)||p.push(u?[c,n[c]]:n[c]);return p}};
},{"./_descriptors":"6MLN","./_object-keys":"knrM","./_to-iobject":"Wyka","./_object-pie":"z7R8"}],"Omhj":[function(require,module,exports) {
var r=require("./_export"),e=require("./_object-to-array")(!0);r(r.S,"Object",{entries:function(r){return e(r)}});
},{"./_export":"vSO4","./_object-to-array":"d/AR"}],"lQ0T":[function(require,module,exports) {
require("../../modules/es7.object.entries"),module.exports=require("../../modules/_core").Object.entries;
},{"../../modules/es7.object.entries":"Omhj","../../modules/_core":"zKeE"}],"dv51":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/entries");
},{"core-js/library/fn/object/entries":"lQ0T"}],"cOHw":[function(require,module,exports) {
var e=require("./_export"),r=require("./_core"),t=require("./_fails");module.exports=function(c,i){var o=(r.Object||{})[c]||Object[c],u={};u[c]=i(o),e(e.S+e.F*t(function(){o(1)}),"Object",u)};
},{"./_export":"vSO4","./_core":"zKeE","./_fails":"wLcK"}],"PDcB":[function(require,module,exports) {
var e=require("./_to-object"),r=require("./_object-keys");require("./_object-sap")("keys",function(){return function(t){return r(e(t))}});
},{"./_to-object":"mbLO","./_object-keys":"knrM","./_object-sap":"cOHw"}],"eOjq":[function(require,module,exports) {
require("../../modules/es6.object.keys"),module.exports=require("../../modules/_core").Object.keys;
},{"../../modules/es6.object.keys":"PDcB","../../modules/_core":"zKeE"}],"1d81":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/keys");
},{"core-js/library/fn/object/keys":"eOjq"}],"K3Lz":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Array",{isArray:require("./_is-array")});
},{"./_export":"vSO4","./_is-array":"ayXv"}],"6bW7":[function(require,module,exports) {
require("../../modules/es6.array.is-array"),module.exports=require("../../modules/_core").Array.isArray;
},{"../../modules/es6.array.is-array":"K3Lz","../../modules/_core":"zKeE"}],"BpbX":[function(require,module,exports) {
module.exports=require("core-js/library/fn/array/is-array");
},{"core-js/library/fn/array/is-array":"6bW7"}],"ZxII":[function(require,module,exports) {
exports.f=require("./_wks");
},{"./_wks":"Ug9I"}],"nFDa":[function(require,module,exports) {
require("../../modules/es6.string.iterator"),require("../../modules/web.dom.iterable"),module.exports=require("../../modules/_wks-ext").f("iterator");
},{"../../modules/es6.string.iterator":"i+u+","../../modules/web.dom.iterable":"COf8","../../modules/_wks-ext":"ZxII"}],"573u":[function(require,module,exports) {
module.exports=require("core-js/library/fn/symbol/iterator");
},{"core-js/library/fn/symbol/iterator":"nFDa"}],"c2zY":[function(require,module,exports) {

var r=require("./_global"),e=require("./_core"),o=require("./_library"),i=require("./_wks-ext"),l=require("./_object-dp").f;module.exports=function(u){var a=e.Symbol||(e.Symbol=o?{}:r.Symbol||{});"_"==u.charAt(0)||u in a||l(a,u,{value:i.f(u)})};
},{"./_global":"i1Q6","./_core":"zKeE","./_library":"1kq3","./_wks-ext":"ZxII","./_object-dp":"Gfzd"}],"Ocr3":[function(require,module,exports) {
exports.f=Object.getOwnPropertySymbols;
},{}],"ycyv":[function(require,module,exports) {
var e=require("./_object-keys"),r=require("./_object-gops"),o=require("./_object-pie");module.exports=function(t){var u=e(t),i=r.f;if(i)for(var c,f=i(t),a=o.f,l=0;f.length>l;)a.call(t,c=f[l++])&&u.push(c);return u};
},{"./_object-keys":"knrM","./_object-gops":"Ocr3","./_object-pie":"z7R8"}],"Ni5N":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(t){return e(t,r)};
},{"./_object-keys-internal":"B9Lq","./_enum-bug-keys":"KxjL"}],"rMkZ":[function(require,module,exports) {
var e=require("./_to-iobject"),t=require("./_object-gopn").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(e){try{return t(e)}catch(o){return r.slice()}};module.exports.f=function(c){return r&&"[object Window]"==o.call(c)?n(c):t(e(c))};
},{"./_to-iobject":"Wyka","./_object-gopn":"Ni5N"}],"sxPs":[function(require,module,exports) {
var e=require("./_object-pie"),r=require("./_property-desc"),i=require("./_to-iobject"),t=require("./_to-primitive"),o=require("./_has"),c=require("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?u:function(p,q){if(p=i(p),q=t(q,!0),c)try{return u(p,q)}catch(_){}if(o(p,q))return r(!e.f.call(p,q),p[q])};
},{"./_object-pie":"z7R8","./_property-desc":"0WCH","./_to-iobject":"Wyka","./_to-primitive":"EKwp","./_has":"yS17","./_ie8-dom-define":"R6c1","./_descriptors":"6MLN"}],"Aa2f":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_has"),t=require("./_descriptors"),i=require("./_export"),n=require("./_redefine"),o=require("./_meta").KEY,u=require("./_fails"),s=require("./_shared"),f=require("./_set-to-string-tag"),c=require("./_uid"),a=require("./_wks"),l=require("./_wks-ext"),p=require("./_wks-define"),b=require("./_enum-keys"),y=require("./_is-array"),h=require("./_an-object"),_=require("./_is-object"),q=require("./_to-object"),g=require("./_to-iobject"),m=require("./_to-primitive"),v=require("./_property-desc"),d=require("./_object-create"),S=require("./_object-gopn-ext"),j=require("./_object-gopd"),O=require("./_object-gops"),w=require("./_object-dp"),k=require("./_object-keys"),P=j.f,F=w.f,E=S.f,N=e.Symbol,J=e.JSON,x=J&&J.stringify,I="prototype",T=a("_hidden"),C=a("toPrimitive"),M={}.propertyIsEnumerable,D=s("symbol-registry"),G=s("symbols"),K=s("op-symbols"),Q=Object[I],W="function"==typeof N&&!!O.f,Y=e.QObject,z=!Y||!Y[I]||!Y[I].findChild,A=t&&u(function(){return 7!=d(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,r,t){var i=P(Q,r);i&&delete Q[r],F(e,r,t),i&&e!==Q&&F(Q,r,i)}:F,B=function(e){var r=G[e]=d(N[I]);return r._k=e,r},H=W&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},L=function(e,t,i){return e===Q&&L(K,t,i),h(e),t=m(t,!0),h(i),r(G,t)?(i.enumerable?(r(e,T)&&e[T][t]&&(e[T][t]=!1),i=d(i,{enumerable:v(0,!1)})):(r(e,T)||F(e,T,v(1,{})),e[T][t]=!0),A(e,t,i)):F(e,t,i)},R=function(e,r){h(e);for(var t,i=b(r=g(r)),n=0,o=i.length;o>n;)L(e,t=i[n++],r[t]);return e},U=function(e,r){return void 0===r?d(e):R(d(e),r)},V=function(e){var t=M.call(this,e=m(e,!0));return!(this===Q&&r(G,e)&&!r(K,e))&&(!(t||!r(this,e)||!r(G,e)||r(this,T)&&this[T][e])||t)},X=function(e,t){if(e=g(e),t=m(t,!0),e!==Q||!r(G,t)||r(K,t)){var i=P(e,t);return!i||!r(G,t)||r(e,T)&&e[T][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=E(g(e)),n=[],u=0;i.length>u;)r(G,t=i[u++])||t==T||t==o||n.push(t);return n},$=function(e){for(var t,i=e===Q,n=E(i?K:g(e)),o=[],u=0;n.length>u;)!r(G,t=n[u++])||i&&!r(Q,t)||o.push(G[t]);return o};W||(n((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0),i=function(t){this===Q&&i.call(K,t),r(this,T)&&r(this[T],e)&&(this[T][e]=!1),A(this,e,v(1,t))};return t&&z&&A(Q,e,{configurable:!0,set:i}),B(e)})[I],"toString",function(){return this._k}),j.f=X,w.f=L,require("./_object-gopn").f=S.f=Z,require("./_object-pie").f=V,O.f=$,t&&!require("./_library")&&n(Q,"propertyIsEnumerable",V,!0),l.f=function(e){return B(a(e))}),i(i.G+i.W+i.F*!W,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ee.length>re;)a(ee[re++]);for(var te=k(a.store),ie=0;te.length>ie;)p(te[ie++]);i(i.S+i.F*!W,"Symbol",{for:function(e){return r(D,e+="")?D[e]:D[e]=N(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var r in D)if(D[r]===e)return r},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!W,"Object",{create:U,defineProperty:L,defineProperties:R,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$});var ne=u(function(){O.f(1)});i(i.S+i.F*ne,"Object",{getOwnPropertySymbols:function(e){return O.f(q(e))}}),J&&i(i.S+i.F*(!W||u(function(){var e=N();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var r,t,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);if(t=r=i[1],(_(r)||void 0!==e)&&!H(e))return y(r)||(r=function(e,r){if("function"==typeof t&&(r=t.call(this,e,r)),!H(r))return r}),i[1]=r,x.apply(J,i)}}),N[I][C]||require("./_hide")(N[I],C,N[I].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(e.JSON,"JSON",!0);
},{"./_global":"i1Q6","./_has":"yS17","./_descriptors":"6MLN","./_export":"vSO4","./_redefine":"gojl","./_meta":"e8vu","./_fails":"wLcK","./_shared":"NB7d","./_set-to-string-tag":"11Ut","./_uid":"X6va","./_wks":"Ug9I","./_wks-ext":"ZxII","./_wks-define":"c2zY","./_enum-keys":"ycyv","./_is-array":"ayXv","./_an-object":"zotD","./_is-object":"BxvP","./_to-object":"mbLO","./_to-iobject":"Wyka","./_to-primitive":"EKwp","./_property-desc":"0WCH","./_object-create":"TNJq","./_object-gopn-ext":"rMkZ","./_object-gopd":"sxPs","./_object-gops":"Ocr3","./_object-dp":"Gfzd","./_object-keys":"knrM","./_object-gopn":"Ni5N","./_object-pie":"z7R8","./_library":"1kq3","./_hide":"akPY"}],"c6mp":[function(require,module,exports) {
require("./_wks-define")("asyncIterator");
},{"./_wks-define":"c2zY"}],"2mwf":[function(require,module,exports) {
require("./_wks-define")("observable");
},{"./_wks-define":"c2zY"}],"Ky5l":[function(require,module,exports) {
require("../../modules/es6.symbol"),require("../../modules/es6.object.to-string"),require("../../modules/es7.symbol.async-iterator"),require("../../modules/es7.symbol.observable"),module.exports=require("../../modules/_core").Symbol;
},{"../../modules/es6.symbol":"Aa2f","../../modules/es6.object.to-string":"tuDi","../../modules/es7.symbol.async-iterator":"c6mp","../../modules/es7.symbol.observable":"2mwf","../../modules/_core":"zKeE"}],"mr6k":[function(require,module,exports) {
module.exports=require("core-js/library/fn/symbol");
},{"core-js/library/fn/symbol":"Ky5l"}],"h/VH":[function(require,module,exports) {
var o=require("../core-js/symbol/iterator"),t=require("../core-js/symbol");function r(e){return(r="function"==typeof t&&"symbol"==typeof o?function(o){return typeof o}:function(o){return o&&"function"==typeof t&&o.constructor===t&&o!==t.prototype?"symbol":typeof o})(e)}function e(n){return"function"==typeof t&&"symbol"===r(o)?module.exports=e=function(o){return r(o)}:module.exports=e=function(o){return o&&"function"==typeof t&&o.constructor===t&&o!==t.prototype?"symbol":r(o)},e(n)}module.exports=e;
},{"../core-js/symbol/iterator":"573u","../core-js/symbol":"mr6k"}],"B1ls":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_a-function"),u=require("./_wks")("species");module.exports=function(n,o){var i,t=r(n).constructor;return void 0===t||null==(i=r(t)[u])?o:e(i)};
},{"./_an-object":"zotD","./_a-function":"g31e","./_wks":"Ug9I"}],"o4G5":[function(require,module,exports) {
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],"uzcO":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"3zRh","./_invoke":"o4G5","./_html":"ebIA","./_dom-create":"9kxq","./_global":"i1Q6","./_cof":"ShN9"}],"H109":[function(require,module,exports) {


var e=require("./_global"),t=require("./_task").set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,o=e.Promise,a="process"==require("./_cof")(n);module.exports=function(){var i,c,s,v=function(){var e,t;for(a&&(e=n.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(r){throw i?s():c=void 0,r}}c=void 0,e&&e.enter()};if(a)s=function(){n.nextTick(v)};else if(!r||e.navigator&&e.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);s=function(){u.then(v)}}else s=function(){t.call(e,v)};else{var f=!0,l=document.createTextNode("");new r(v).observe(l,{characterData:!0}),s=function(){l.data=f=!f}}return function(e){var t={fn:e,next:void 0};c&&(c.next=t),i||(i=t,s()),c=t}};
},{"./_global":"i1Q6","./_task":"uzcO","./_cof":"ShN9"}],"AIlg":[function(require,module,exports) {
"use strict";var r=require("./_a-function");function e(e){var o,t;this.promise=new e(function(r,e){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=r,t=e}),this.resolve=r(o),this.reject=r(t)}module.exports.f=function(r){return new e(r)};
},{"./_a-function":"g31e"}],"kX4D":[function(require,module,exports) {
module.exports=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}};
},{}],"/cCi":[function(require,module,exports) {

var e=require("./_global"),r=e.navigator;module.exports=r&&r.userAgent||"";
},{"./_global":"i1Q6"}],"5Czc":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_is-object"),i=require("./_new-promise-capability");module.exports=function(o,t){if(r(o),e(t)&&t.constructor===o)return t;var u=i.f(o);return(0,u.resolve)(t),u.promise};
},{"./_an-object":"zotD","./_is-object":"BxvP","./_new-promise-capability":"AIlg"}],"9kJF":[function(require,module,exports) {


"use strict";var e,r,t,i,n=require("./_library"),o=require("./_global"),c=require("./_ctx"),s=require("./_classof"),u=require("./_export"),a=require("./_is-object"),_=require("./_a-function"),h=require("./_an-instance"),f=require("./_for-of"),l=require("./_species-constructor"),v=require("./_task").set,d=require("./_microtask")(),p=require("./_new-promise-capability"),m=require("./_perform"),q=require("./_user-agent"),y=require("./_promise-resolve"),j="Promise",w=o.TypeError,g=o.process,x=g&&g.versions,b=x&&x.v8||"",k=o[j],P="process"==s(g),F=function(){},S=r=p.f,E=!!function(){try{var e=k.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(F,F)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(F)instanceof r&&0!==b.indexOf("6.6")&&-1===q.indexOf("Chrome/66")}catch(t){}}(),O=function(e){var r;return!(!a(e)||"function"!=typeof(r=e.then))&&r},R=function(e,r){if(!e._n){e._n=!0;var t=e._c;d(function(){for(var i=e._v,n=1==e._s,o=0,c=function(r){var t,o,c,s=n?r.ok:r.fail,u=r.resolve,a=r.reject,_=r.domain;try{s?(n||(2==e._h&&H(e),e._h=1),!0===s?t=i:(_&&_.enter(),t=s(i),_&&(_.exit(),c=!0)),t===r.promise?a(w("Promise-chain cycle")):(o=O(t))?o.call(t,u,a):u(t)):a(i)}catch(h){_&&!c&&_.exit(),a(h)}};t.length>o;)c(t[o++]);e._c=[],e._n=!1,r&&!e._h&&C(e)})}},C=function(e){v.call(o,function(){var r,t,i,n=e._v,c=G(e);if(c&&(r=m(function(){P?g.emit("unhandledRejection",n,e):(t=o.onunhandledrejection)?t({promise:e,reason:n}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=P||G(e)?2:1),e._a=void 0,c&&r.e)throw r.v})},G=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(e){v.call(o,function(){var r;P?g.emit("rejectionHandled",e):(r=o.onrejectionhandled)&&r({promise:e,reason:e._v})})},T=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),R(r,!0))},U=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");(r=O(e))?d(function(){var i={_w:t,_d:!1};try{r.call(e,c(U,i,1),c(T,i,1))}catch(n){T.call(i,n)}}):(t._v=e,t._s=1,R(t,!1))}catch(i){T.call({_w:t,_d:!1},i)}}};E||(k=function(r){h(this,k,j,"_h"),_(r),e.call(this);try{r(c(U,this,1),c(T,this,1))}catch(t){T.call(this,t)}},(e=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(k.prototype,{then:function(e,r){var t=S(l(this,k));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=P?g.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&R(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var r=new e;this.promise=r,this.resolve=c(U,r,1),this.reject=c(T,r,1)},p.f=S=function(e){return e===k||e===i?new t(e):r(e)}),u(u.G+u.W+u.F*!E,{Promise:k}),require("./_set-to-string-tag")(k,j),require("./_set-species")(j),i=require("./_core")[j],u(u.S+u.F*!E,j,{reject:function(e){var r=S(this);return(0,r.reject)(e),r.promise}}),u(u.S+u.F*(n||!E),j,{resolve:function(e){return y(n&&this===i?k:this,e)}}),u(u.S+u.F*!(E&&require("./_iter-detect")(function(e){k.all(e).catch(F)})),j,{all:function(e){var r=this,t=S(r),i=t.resolve,n=t.reject,o=m(function(){var t=[],o=0,c=1;f(e,!1,function(e){var s=o++,u=!1;t.push(void 0),c++,r.resolve(e).then(function(e){u||(u=!0,t[s]=e,--c||i(t))},n)}),--c||i(t)});return o.e&&n(o.v),t.promise},race:function(e){var r=this,t=S(r),i=t.reject,n=m(function(){f(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});
},{"./_library":"1kq3","./_global":"i1Q6","./_ctx":"3zRh","./_classof":"ZHvQ","./_export":"vSO4","./_is-object":"BxvP","./_a-function":"g31e","./_an-instance":"KUik","./_for-of":"ozpD","./_species-constructor":"B1ls","./_task":"uzcO","./_microtask":"H109","./_new-promise-capability":"AIlg","./_perform":"kX4D","./_user-agent":"/cCi","./_promise-resolve":"5Czc","./_wks":"Ug9I","./_redefine-all":"O6kh","./_set-to-string-tag":"11Ut","./_set-species":"FGzK","./_core":"zKeE","./_iter-detect":"Lli7"}],"zaru":[function(require,module,exports) {

"use strict";var r=require("./_export"),e=require("./_core"),t=require("./_global"),n=require("./_species-constructor"),i=require("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(r){var o=n(this,e.Promise||t.Promise),u="function"==typeof r;return this.then(u?function(e){return i(o,r()).then(function(){return e})}:r,u?function(e){return i(o,r()).then(function(){throw e})}:r)}});
},{"./_export":"vSO4","./_core":"zKeE","./_global":"i1Q6","./_species-constructor":"B1ls","./_promise-resolve":"5Czc"}],"+CEt":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_new-promise-capability"),i=require("./_perform");r(r.S,"Promise",{try:function(r){var t=e.f(this),o=i(r);return(o.e?t.reject:t.resolve)(o.v),t.promise}});
},{"./_export":"vSO4","./_new-promise-capability":"AIlg","./_perform":"kX4D"}],"9u1Q":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),require("../modules/es7.promise.finally"),require("../modules/es7.promise.try"),module.exports=require("../modules/_core").Promise;
},{"../modules/es6.object.to-string":"tuDi","../modules/es6.string.iterator":"i+u+","../modules/web.dom.iterable":"COf8","../modules/es6.promise":"9kJF","../modules/es7.promise.finally":"zaru","../modules/es7.promise.try":"+CEt","../modules/_core":"zKeE"}],"7eOf":[function(require,module,exports) {
module.exports=require("core-js/library/fn/promise");
},{"core-js/library/fn/promise":"9u1Q"}],"1gnz":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],r=p(require("@babel/runtime-corejs2/core-js/json/stringify")),t=p(require("@babel/runtime-corejs2/core-js/set")),n=p(require("@babel/runtime-corejs2/core-js/array/from")),o=p(require("@babel/runtime-corejs2/core-js/object/entries")),u=p(require("@babel/runtime-corejs2/core-js/object/keys")),a=p(require("@babel/runtime-corejs2/core-js/array/is-array")),i=p(require("@babel/runtime-corejs2/helpers/typeof")),f=p(require("@babel/runtime-corejs2/core-js/object/define-property")),c=p(require("@babel/runtime-corejs2/core-js/symbol/iterator")),l=p(require("@babel/runtime-corejs2/core-js/symbol")),s=p(require("@babel/runtime-corejs2/core-js/promise"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e,r,t,n){return new(t||(t=s.default))(function(o,u){function a(e){try{f(n.next(e))}catch(r){u(r)}}function i(e){try{f(n.throw(e))}catch(r){u(r)}}function f(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,i)}f((n=n.apply(e,r||[])).next())})},v=function(e,r){var t,n,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof l.default&&(u[c.default]=function(){return this}),u;function i(u){return function(i){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=r.call(e,a)}catch(i){u=[6,i],n=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},y=function(e,r){var t="function"==typeof l.default&&e[c.default];if(!t)return e;var n,o,u=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(t=u.return)&&t.call(u)}finally{if(o)throw o.error}}return a},x=function(e){var r="function"==typeof l.default&&c.default,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(y(arguments[r]));return e};function h(e){switch((0,i.default)(e)){case"undefined":return!0;case"string":return""===e;case"number":return isNaN(e);case"object":return null==e||e.constructor!==Date&&((0,a.default)(e)?0===e.length:0===(0,u.default)(e).length);default:return!1}}(0,f.default)(exports,"__esModule",{value:!0}),exports.sameIgnoringCase=exports.same=exports.stableJson=exports.caseWord=exports.titleCase=exports.regexReplace=exports.lazy=exports.replace=exports.accumulateMultipleValues=exports.getOrCreate=exports.globalThis=exports.getAsync=exports.get=exports.extract=exports.getAll=exports.getValue=exports.Elements=exports.Arrays=exports.Objects=exports.isEmpty=void 0,exports.isEmpty=h;var m=function(){function e(){}return e.keys=function(e){return(0,u.default)(e).map(function(e){return e})},e.values=function(e){return(0,u.default)(e).map(function(r){return e[r]})},e.entries=function(e){return(0,u.default)(e).map(function(r){return[r,e[r]]})},e.clean=function(e){return(0,u.default)(e).reduce(function(r,t){return void 0===e[t]?r:(r[t]=e[t],r)},{})},e.removeEmpty=function(r){return(0,a.default)(r)?r.map(e.removeEmpty):(0,u.default)(r).reduce(function(e,t){var n=r[t];return h(n)||(e[t]=n),e},{})},e.sort=function(r){return r?(0,a.default)(r)?r.map(e.sort):r.constructor===Object?(0,u.default)(r).sort().reduce(function(t,n){var o=r[n];return t[n]=e.sort(o),t},{}):r:r},e.toLowerCase=function(r){return"string"==typeof r?r.toLowerCase():(0,a.default)(r)?r.map(e.toLowerCase):O(function(){return r.constructor===Object})?(0,o.default)(r).reduce(function(r,t){var n=y(t,2),o=n[0],u=n[1];return r[o]=e.toLowerCase(u),r},{}):r},e}();exports.Objects=m;var w=function(){function e(){}return e.from=function(e){var r,t;if("function"==typeof n.default)return(0,n.default)(e);var o=[];try{for(var u=x(e),a=u.next();!a.done;a=u.next()){var i=a.value;o.push(i)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}return o},e.reverse=function(e){var r,t,n=[];try{for(var o=x(e),u=o.next();!u.done;u=o.next()){var a=u.value;n.unshift(a)}}catch(i){r={error:i}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return n},e.flatten=function(e){return e.reduce(function(e,r){return e.concat(r)},[])},e.flatMap=function(r,t){return r.flatMap?r.flatMap(t):e.flatten(r.map(t))},e.unique=function(r){var n,o;if("function"==typeof t.default&&1===new t.default([1]).size)return e.from(new t.default(r));var u=[];try{for(var a=x(r),i=a.next();!i.done;i=a.next()){var f=i.value;u.indexOf(f)<0&&u.push(f)}}catch(c){n={error:c}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return u},e.clean=function(e){return e.filter(Boolean)},e.trim=function(e){return e.map(function(e){return e.trim()})},e.fill=function(e,r){for(var t=[],n=e;n--;)t[n]=r;return t},e.find=function(e,r){if("function"==typeof Array.prototype.find)return e.find(r);if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var o=arguments[1],u=0;u<n;){var a=t[u];if(r.call(o,a,u,t))return a;u++}},e.diff=function(e,r){return e.filter(function(e){return r.indexOf(e)<0})},e.includes=function(e,r){return"includes"in e?e.includes(r):-1!==e.indexOf(r)},e}();exports.Arrays=w;var g=function(){function e(){}return e.path=function(e){for(var r=e,t=[];r;)t.push(r),r=r.parentElement;return t},e}();function j(e,r){var t=w.find((0,u.default)(e),function(e){return e.toLowerCase()===r.toLowerCase()}),n=t&&e[t];return"string"==typeof n?n.trim():n}function C(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];if(!e)return[];if((0,a.default)(e))return w.clean(w.flatten(e.map(function(e){return C.apply(void 0,b([e],r))})));if("object"===(0,i.default)(e)){var n=y(r),o=n[0],u=n.slice(1),f=j(e,o);return"object"===(0,i.default)(f)?C.apply(void 0,b([f],u)):Boolean(f)?[f]:[]}return[]}function q(e,r){return w.flatten(r.map(function(r){return w.clean(w.unique(C.apply(void 0,b([e],r.split(".")))))}))}function O(e,r){void 0===r&&(r=void 0);try{var t=e();return void 0===t?r:t}catch(n){return r}}function E(e,r){return void 0===r&&(r=void 0),d(this,void 0,s.default,function(){var t;return v(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return void 0===(t=n.sent())?[2,r]:[2,t];case 2:return n.sent(),[2,r];case 3:return[2]}})})}function L(e,r){return r.split(".").reduce(function(e,r){return e[r]=e[r]||{}},e)}function A(e,r,t){var n=e[r];return void 0===n?e[r]=t:(0,a.default)(n)?-1===n.indexOf(t)&&n.push(t):e[r]=[n,t],e}function M(e,r,t){return(0,f.default)(e,r,{value:t})}function k(e,r,t){return M(e,r,t)[r]}function T(e,r,t,n){void 0===n&&(n=function(e){return e});for(var o,u=[],a=0;null!=(o=e.exec(r));)u.push(n(r.substring(a,o.index))),u.push(t(o)),a=e.lastIndex;return u.push(n(r.substring(a))),u.join("")}function V(e){return T(/\w+/g,e,function(e){return _(e[0])})}function _(e){return e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()}function z(e){return(0,r.default)(m.sort(e))}function I(e,r){return z(e)===z(r)}function B(e,r){return z(m.toLowerCase(e))===z(m.toLowerCase(r))}exports.Elements=g,exports.getValue=j,exports.getAll=C,exports.extract=q,exports.get=O,exports.getAsync=E,exports.globalThis="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof module?module:Function("return this")(),exports.getOrCreate=L,exports.accumulateMultipleValues=A,exports.replace=M,exports.lazy=k,exports.regexReplace=T,exports.titleCase=V,exports.caseWord=_,exports.stableJson=z,exports.same=I,exports.sameIgnoringCase=B;
},{"@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/set":"Oo+u","@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/object/entries":"dv51","@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf"}],"8IMT":[function(require,module,exports) {
"use strict";var e=n(require("@babel/runtime-corejs2/core-js/object/keys")),r=n(require("@babel/runtime-corejs2/core-js/array/is-array")),t=n(require("@babel/runtime-corejs2/core-js/object/define-property")),o=n(require("@babel/runtime-corejs2/core-js/symbol/iterator")),u=n(require("@babel/runtime-corejs2/core-js/symbol"));function n(e){return e&&e.__esModule?e:{default:e}}var a=function(e,r){var t="function"==typeof u.default&&e[o.default];if(!t)return e;var n,a,s=t.call(e),c=[];try{for(;(void 0===r||r-- >0)&&!(n=s.next()).done;)c.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(a)throw a.error}}return c},s=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(a(arguments[r]));return e};function c(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,o,u,n){var a=unescape(o),c=void 0!==n?unescape(n):void 0,i=t[a];t[a]=i?(0,r.default)(i)?s(i,[c]):[i,c]:c}),t}function i(r){for(var t=c(r),o={},u=(0,e.default)(t),n=0;n<u.length;n++)t[u[n]]&&(o[u[n].toLowerCase()]=t[u[n]]);return o}(0,t.default)(exports,"__esModule",{value:!0}),exports.qsCI=exports.qs=void 0,exports.qs=c,exports.qsCI=i,exports.default={qs:c,qsCI:i};
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k"}],"3jmX":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.getLanguageFromDocument=exports.innerText=void 0;var n=require("./functional"),r=require("./queryUtils");function o(e){return e?e instanceof HTMLElement?e.innerText&&e.innerText.trim():e.textContent&&e.textContent.trim()||"":""}exports.innerText=o,exports.getLanguageFromDocument=function(e){return n.get(function(){return e.document.documentElement.lang.split("-")[0]},"")||n.get(function(){return r.qsCI(e.location.search).lang},"")};
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./functional":"1gnz","./queryUtils":"8IMT"}],"Rqna":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.Hyatt=void 0;var r=require("../../utils/functional"),i=require("../../utils/DomFunctions"),n=function(){function t(e){void 0===e&&(e=window),this.browserWindow=e,this.integrationName="HYATT",this.clientKey="80XPzab8D"}return t.getCurrencyFromElement=function(e){if(e){var t=i.innerText(e).replace(/\n\s+/,"");if(t){var r=t.match(/[A-Z]{3}$/);return r?r[0]:""}}},(0,e.default)(t.prototype,"identifiers",{get:function(){var e=this,t=r.get(function(){return e.browserWindow.utag.data.hotel_spirit_code});return t?[{identifier:t,type:"Trusted",identifierType:"HotelCode"}]:[]},enumerable:!1,configurable:!0}),(0,e.default)(t,"keys",{get:function(){return new t},enumerable:!1,configurable:!0}),t}();exports.Hyatt=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","../../utils/functional":"1gnz","../../utils/DomFunctions":"3jmX"}],"pp58":[function(require,module,exports) {
var r=require("./_global").parseFloat,e=require("./_string-trim").trim;module.exports=1/r(require("./_string-ws")+"-0")!=-1/0?function(t){var i=e(String(t),3),a=r(i);return 0===a&&"-"==i.charAt(0)?-0:a}:r;
},{"./_global":"i1Q6","./_string-trim":"Kj+H","./_string-ws":"N3sD"}],"RVll":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-float");r(r.G+r.F*(parseFloat!=e),{parseFloat:e});
},{"./_export":"vSO4","./_parse-float":"pp58"}],"WBOY":[function(require,module,exports) {
require("../modules/es6.parse-float"),module.exports=require("../modules/_core").parseFloat;
},{"../modules/es6.parse-float":"RVll","../modules/_core":"zKeE"}],"QyHQ":[function(require,module,exports) {
module.exports=require("core-js/library/fn/parse-float");
},{"core-js/library/fn/parse-float":"WBOY"}],"xBqJ":[function(require,module,exports) {
var r=/^(?:([A-Z]{3}) ?)?(?:([^\d ]+?) ?)?(((?:\d{1,3}([,. ’'\u00A0]))*?\d{1,})(([,.])\d{1,2})?)(?: ?([^\d ]+?))??(?: ?([A-Z]{3}))?$/,e=/^\d{1,3}([,. ’'\u00A0]\d{3})*$/,a=/^\d{1,2}(,\d{2})*(,\d{3})?$/;module.exports=function(u){if(!u||!u.match)return null;var l=u.match(r);if(!l)return null;var n=l[5]||"",t=l[7]||"";if(n===t&&t)return null;var d=l[4];if(n&&!d.match(e)&&!d.match(a))return null;var c=l[3];if(!c)return null;n&&(c=c.replace(RegExp("\\"+n,"g"),"")),t&&(c=c.replace(t,"."));var i=+c;return"number"!=typeof i||isNaN(i)?null:{raw:u,value:i,integer:d||"",decimals:l[6]||"",currency:l[1]||l[9]||"",symbol:l[2]||l[8]||"",decimalSeparator:t,groupSeparator:n}};
},{}],"ap3z":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.Strings=void 0;var r=function(){function e(){}return e.noWhitespace=function(e){return e&&"string"==typeof e?e.replace(/\s+/g,""):""},e.startWith=function(e,t){return e.substring(0,t.length)===t},e.endsWith=function(e,t){return e.substring(e.length-t.length,e.length)===t},e.isEmpty=function(e){return!e||0===e.trim().length},e.isLowerCase=function(e){return e===e.toLowerCase()&&e!==e.toUpperCase()},e.isUpperCase=function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()},e}();exports.Strings=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"Sprw":[function(require,module,exports) {
"use strict";var e=n(require("@babel/runtime-corejs2/core-js/parse-int")),r=n(require("@babel/runtime-corejs2/core-js/parse-float")),t=n(require("@babel/runtime-corejs2/core-js/object/define-property"));function n(e){return e&&e.__esModule?e:{default:e}}(0,t.default)(exports,"__esModule",{value:!0}),exports.stripCurrency=exports.pad=exports.chooseLowestPrice=exports.getNumber=exports.parsingPrice=exports.currencySymbolToCode=void 0;var o=require("parsecurrency"),u=require("./Strings"),c={ADP:0,AFA:0,BEF:0,BHD:3,BIF:0,BYB:0,BYR:0,CLP:0,COP:0,DJF:0,ECS:0,ESP:0,GNF:0,GRD:0,HUF:0,IDR:0,IQD:3,ITL:0,JOD:3,JPY:0,KMF:0,KRW:0,KWD:3,LAK:0,LUF:0,LYD:3,MGF:0,MZM:0,OMR:3,PTE:0,PYG:0,ROL:0,RWF:0,TJR:0,TMM:0,TND:3,TPE:0,TRL:0,TWD:0,UGX:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0};function i(e,t){var n=2;t&&void 0!==c[t]&&(n=c[t]);for(var o=e.replace(/[\s]/g,"").replace(/[^\d,.]+/g," ").split(" ").filter(function(e){return""!==e}).map(function(e){return s(e,r.default,n)}),u=void 0,i=0;i<o.length;i++)u=void 0===u||u>o[i]?o[i]:u;return u}function s(e,t,n){void 0===n&&(n=2),"function"!=typeof t&&(t=r.default);var o=e.replace(/[^\d,.]+/g,"").split(/[.,]+/g),u="";if(o.length>1){for(var c=0;c<o.length-1;c++)u=u.concat(o[c]);o[o.length-1].length===n&&(u=u.concat(".")),u=u.concat(o[o.length-1])}else u=o[0];return t(u)}function a(e){return"number"==typeof e[0]?e:e[0].rateName?e.filter(function(e){return!(document.ttIncludeRates&&-1===document.ttIncludeRates.indexOf(e.rateName)||document.ttExcludeRates&&-1!==document.ttExcludeRates.indexOf(e.rateName))}):e}function l(e){if(e.length){var r="number"==typeof e[0]?function(e,r){return e-r}:function(e,r){return e.price-r.price};return a(e).sort(function(e,t){return r(e,t)})[0]}}function p(r){return(0,e.default)(r)>9?r:"0"+(0,e.default)(r)}function d(e){var r=e.match(/(\d{1,3}[\.,\s]?)*(\d+)([\.,]\d{1,2})?/);return r?o(u.Strings.noWhitespace(r[0])).value:null}exports.currencySymbolToCode={"€":"EUR",$:"USD","£":"GBP","¥":"JPY"},exports.parsingPrice=i,exports.getNumber=s,exports.chooseLowestPrice=l,exports.pad=p,exports.stripCurrency=d;
},{"@babel/runtime-corejs2/core-js/parse-int":"6TiY","@babel/runtime-corejs2/core-js/parse-float":"QyHQ","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","parsecurrency":"xBqJ","./Strings":"ap3z"}],"axue":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.CommonFunctions=void 0;var r=function(){function e(e){void 0===e&&(e=window),this.browserWindow=e}return e.prototype.getDirectPrice=function(e,t,r){return void 0===t&&(t=this.browserWindow.tt_excludeRates||[]),void 0===r&&(r=this.browserWindow.document.ttAllowRateCodes||[]),e.filter(function(e){return!e.rateCode||-1===t.indexOf(e.rateCode)}).filter(function(e){return!(r.length>0&&e.rateCode)||-1!==r.indexOf(e.rateCode)}).sort(function(e,t){return e.price-t.price})[0]},e.prototype.getCugPrice=function(e,t,r){return void 0===t&&(t=this.browserWindow.tt_excludeRates||[]),void 0===r&&(r=this.browserWindow.document.ttAllowRateCodes||[]),e.filter(function(e){return!e.rateCode||-1===t.indexOf(e.rateCode)}).filter(function(e){return!(r.length>0&&e.rateCode)||-1!==r.indexOf(e.rateCode)}).sort(function(e,t){return e.cugPrice-t.cugPrice})[0]},e}();exports.CommonFunctions=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"2bVH":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/core-js/parse-int")),t=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}(0,t.default)(exports,"__esModule",{value:!0}),exports.HyattRoomsAndRatesPage=void 0;var o=require("./Hyatt"),n=require("../../utils/functional"),i=require("../../utils/queryUtils"),a=require("../../utils/DomFunctions"),s=require("../../utils/tools"),u=require("../../utils/CommonFunctions"),c=function(){function t(e){void 0===e&&(e=window),this.browserWindow=e}return t.prototype.getAdults=function(){var t=this,r=n.get(function(){return i.qs(t.browserWindow.location.search).adults},"");return r?(0,e.default)(r):0},t.prototype.getCheckin=function(){var e=this;return n.get(function(){return i.qs(e.browserWindow.location.search).checkinDate},n.get(function(){return e.browserWindow.utag.data.date_checkin},""))},t.prototype.getCheckout=function(){var e=this;return n.get(function(){return i.qs(e.browserWindow.location.search).checkoutDate},n.get(function(){return e.browserWindow.utag.data.date_checkout},""))},t.prototype.getChildren=function(){var t=this,r=n.get(function(){return i.qs(t.browserWindow.location.search).kids},"");return r?(0,e.default)(r):0},t.prototype.getCurrency=function(){var e=this,t=n.get(function(){return i.qs(e.browserWindow.location.search).currency},"");return t&&3===t.length?t:o.Hyatt.getCurrencyFromElement(this.browserWindow.document.querySelector(".rate-pricing"))},t.prototype.isGroupCodeApplied=function(){var e=i.qsCI(this.browserWindow.location.search).corp_id;return!!e&&!!e.match(/G.*/i)},t.prototype.getRateDetails=function(){var e=this.getCurrency(),t=this.getAllRateNames();return n.Arrays.from(this.browserWindow.document.querySelectorAll(".p-rate-card[data-room-type-code]")).map(function(r){var o=t[r.parentElement.parentElement.previousElementSibling.dataset.id],n=a.innerText(r.querySelector(".rate-room-title"));return{price:s.stripCurrency(a.innerText(r.querySelector(".rate"))),currency:e,rateCode:o?o.toLowerCase().split(" ").join(""):"",rateName:o,roomCode:r.dataset.roomTypeCode,roomName:n}})},t.prototype.getLanguage=function(){var e=this;return n.get(function(){return e.browserWindow.document.querySelector("html").lang.split("-")[0]},"")},t.prototype.getRooms=function(){var t=this;return n.get(function(){return(0,e.default)(i.qs(t.browserWindow.location.search).rooms)},1)},t.prototype.isUsingPoints=function(){var e=this;return n.get(function(){return-1===n.Arrays.from(e.browserWindow.document.querySelectorAll(".toggle-rates-points > a"))[1].className.indexOf("toggle-selected")},!0)},t.prototype.isTotal=function(){return!1},t.prototype.integrationData=function(){if(!this.isUsingPoints()){var e=this.getRateDetails(),t=["govt","veteran","aaa","senior","seniorcitizen","military"],r=(new u.CommonFunctions).getDirectPrice(e,t);return{getCheckin:this.getCheckin(),getCheckout:this.getCheckout(),getAdults:this.getAdults(),getChildren:this.getChildren(),getLanguage:this.getLanguage(),getCurrency:this.getCurrency(),getRateDetails:e,getRateName:r?r.rateName:"",getRoomName:r?r.roomName:"",getDirectPrice:r?r.price:"",getLoggedIn:this.getLoggedIn(),total:this.isTotal(),getRooms:this.getRooms(),priceCheckTest:this.browserWindow.document.tt_ABVariant||"",getExcludedRates:t,ratesModified:this.isGroupCodeApplied()?"discountCode":void 0}}},t.prototype.getAllRateNames=function(){var e={};return n.Arrays.from(this.browserWindow.document.querySelectorAll(".m-rate-plan-header")).forEach(function(t){e[t.dataset.id]=e[t.dataset.id]||a.innerText(t.querySelector("h5.rate-name").firstElementChild)}),e},t.prototype.getLoggedIn=function(){return!1},t.prototype.getRateName=function(){return""},t.prototype.getDirectPrice=function(){return""},t}();exports.HyattRoomsAndRatesPage=c;
},{"@babel/runtime-corejs2/core-js/parse-int":"6TiY","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./Hyatt":"Rqna","../../utils/functional":"1gnz","../../utils/queryUtils":"8IMT","../../utils/DomFunctions":"3jmX","../../utils/tools":"Sprw","../../utils/CommonFunctions":"axue"}],"yOG5":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{create:require("./_object-create")});
},{"./_export":"vSO4","./_object-create":"TNJq"}],"cjsw":[function(require,module,exports) {
require("../../modules/es6.object.create");var e=require("../../modules/_core").Object;module.exports=function(r,o){return e.create(r,o)};
},{"../../modules/es6.object.create":"yOG5","../../modules/_core":"zKeE"}],"HJjO":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/create");
},{"core-js/library/fn/object/create":"cjsw"}],"ZaKr":[function(require,module,exports) {
var t=require("./_is-object"),e=require("./_an-object"),r=function(r,o){if(e(r),!t(o)&&null!==o)throw TypeError(o+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(c){e=!0}return function(t,c){return r(t,c),e?t.__proto__=c:o(t,c),t}}({},!1):void 0),check:r};
},{"./_is-object":"BxvP","./_an-object":"zotD","./_ctx":"3zRh","./_object-gopd":"sxPs"}],"b1tA":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{setPrototypeOf:require("./_set-proto").set});
},{"./_export":"vSO4","./_set-proto":"ZaKr"}],"dXs8":[function(require,module,exports) {
require("../../modules/es6.object.set-prototype-of"),module.exports=require("../../modules/_core").Object.setPrototypeOf;
},{"../../modules/es6.object.set-prototype-of":"b1tA","../../modules/_core":"zKeE"}],"+5Pi":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/set-prototype-of");
},{"core-js/library/fn/object/set-prototype-of":"dXs8"}],"aIll":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/helpers/typeof")),t=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}function n(t){return!!t&&("object"===(0,e.default)(t)&&!!t.currency&&!!t.price&&!!t.reference)}(0,t.default)(exports,"__esModule",{value:!0}),exports.AbstractConfirmationPage=exports.isConfirmationPageData=void 0,exports.isConfirmationPageData=n;var o=function(){function e(){}return e.prototype.getCheckin=function(){},e.prototype.getCheckout=function(){},e.prototype.getPriceExcludingTaxes=function(){},e.prototype.getPageType=function(){return"Confirmation"},e.prototype.integrationData=function(){var e=this.getGrossPrice(),t=e.currency,r=e.amount;return{reference:this.getReference(),currency:t,price:r,basePrice:this.getPriceExcludingTaxes(),checkin:this.getCheckin(),checkout:this.getCheckout(),pageType:this.getPageType()}},e}();exports.AbstractConfirmationPage=o;
},{"@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"i03j":[function(require,module,exports) {
"use strict";var r=n(require("@babel/runtime-corejs2/core-js/parse-float")),e=n(require("@babel/runtime-corejs2/core-js/object/define-property")),t=n(require("@babel/runtime-corejs2/core-js/object/create")),o=n(require("@babel/runtime-corejs2/core-js/object/set-prototype-of"));function n(r){return r&&r.__esModule?r:{default:r}}var a=function(){var r=function(e,t){return(r=o.default||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])})(e,t)};return function(e,o){function n(){this.constructor=e}r(e,o),e.prototype=null===o?(0,t.default)(o):(n.prototype=o.prototype,new n)}}();(0,e.default)(exports,"__esModule",{value:!0}),exports.HyattConfirmationPage=void 0;var u=require("../../utils/contract/ConfirmationPage"),c=require("./Hyatt"),i=function(e){function t(r){void 0===r&&(r=window);var t=e.call(this)||this;return t.browserWindow=r,t}return a(t,e),t.prototype.getGrossPrice=function(){try{var e=this.browserWindow.document.querySelector("[data-js=cash-total-price]");return{amount:Number(e.dataset.price),currency:e.dataset.currency}}catch(t){return{amount:(0,r.default)(this.browserWindow.utag.data.total_revenue_local_currency),currency:c.Hyatt.getCurrencyFromElement(this.browserWindow.document.querySelector("dl.total-per-room > dd"))}}},t.prototype.getReference=function(){return this.browserWindow.utag.data.confirmation_number},t}(u.AbstractConfirmationPage);exports.HyattConfirmationPage=i;
},{"@babel/runtime-corejs2/core-js/parse-float":"QyHQ","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/object/create":"HJjO","@babel/runtime-corejs2/core-js/object/set-prototype-of":"+5Pi","../../utils/contract/ConfirmationPage":"aIll","./Hyatt":"Rqna"}],"uj5A":[function(require,module,exports) {
"use strict";var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_object-gops"),o=require("./_object-pie"),i=require("./_to-object"),c=require("./_iobject"),n=Object.assign;module.exports=!n||require("./_fails")(function(){var e={},r={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach(function(e){r[e]=e}),7!=n({},e)[t]||Object.keys(n({},r)).join("")!=o})?function(n,u){for(var s=i(n),a=arguments.length,f=1,b=t.f,j=o.f;a>f;)for(var l,q=c(arguments[f++]),_=b?r(q).concat(b(q)):r(q),p=_.length,g=0;p>g;)l=_[g++],e&&!j.call(q,l)||(s[l]=q[l]);return s}:n;
},{"./_descriptors":"6MLN","./_object-keys":"knrM","./_object-gops":"Ocr3","./_object-pie":"z7R8","./_to-object":"mbLO","./_iobject":"E5Ce","./_fails":"wLcK"}],"YD0x":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F,"Object",{assign:require("./_object-assign")});
},{"./_export":"vSO4","./_object-assign":"uj5A"}],"vcHl":[function(require,module,exports) {
require("../../modules/es6.object.assign"),module.exports=require("../../modules/_core").Object.assign;
},{"../../modules/es6.object.assign":"YD0x","../../modules/_core":"zKeE"}],"h2Mz":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/assign");
},{"core-js/library/fn/object/assign":"vcHl"}],"67C9":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/define-property")),t=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),r=o(require("@babel/runtime-corejs2/core-js/symbol"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e,o){var i="function"==typeof r.default&&e[t.default];if(!i)return e;var n,a,u=i.call(e),l=[];try{for(;(void 0===o||o-- >0)&&!(n=u.next()).done;)l.push(n.value)}catch(y){a={error:y}}finally{try{n&&!n.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return l},n=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.getValueFromDataLayer=exports.getClientKey=exports.getGlobalApiKey=exports.getApiKey=void 0;var a=require("./functional");function u(e,t){void 0===e&&(e=""),void 0===t&&(t=window);var r=t.tt_apiKeys&&t.tt_apiKeys[e]||t.ttApiKeys&&t.ttApiKeys[e]||t.document.apiKeys&&t.document.apiKeys[e]||t.document.ttApiKeys&&t.document.ttApiKeys[e];return r||(t.ttData&&t.ttData.apiKey||t.ttApiKey||t.document.ttApiKey)}function l(e){return void 0===e&&(e=window),e.ttData&&e.ttData.globalApiKey||e.tt_globalApiKey||e.ttGlobalApiKey||e.document.ttGlobalApiKey}function y(e){return void 0===e&&(e=window),e.tt_clientKey||e.document.ttClientKey||e.document.tt_clientKey}function c(e,t){return void 0===t&&(t=""),window.dataLayer?a.get(function(){var t=a.Arrays.find(n(window.dataLayer).reverse(),function(t){return void 0!==t[e]});return t?t[e]:void 0},t):t}exports.getApiKey=u,exports.getGlobalApiKey=l,exports.getClientKey=y,exports.getValueFromDataLayer=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./functional":"1gnz"}],"1VDa":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.defaultKeys=exports.MappingKey=void 0;var r=require("../getVariables"),i=require("../Strings"),n=function(){function e(e,t){if(this.hotelKey=i.Strings.noWhitespace(e),this.propertyId=i.Strings.noWhitespace(t),!this.hotelKey||!this.propertyId)throw new Error("You must provide a hotel key and property id")}return e.prototype.toString=function(){return this.hotelKey+":"+this.propertyId},e.create=function(t,r){return t&&r?new e(t,r):t||""},e}();exports.MappingKey=n,exports.defaultKeys=function(e){return{integrationName:e,get apiKey(){return i.Strings.noWhitespace(r.getApiKey())},get clientKey(){return i.Strings.noWhitespace(r.getClientKey())}}};
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","../getVariables":"67C9","../Strings":"ap3z"}],"VB5w":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){for(r=e="";e++<36;r+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return r}(0,e.default)(exports,"__esModule",{value:!0}),exports.uuid=void 0,exports.uuid=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"Rbua":[function(require,module,exports) {
"use strict";var t=o(require("@babel/runtime-corejs2/core-js/object/define-property")),r=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),e=o(require("@babel/runtime-corejs2/core-js/symbol"));function o(t){return t&&t.__esModule?t:{default:t}}var i=function(t,o){var i="function"==typeof e.default&&t[r.default];if(!i)return t;var u,n,s=i.call(t),h=[];try{for(;(void 0===o||o-- >0)&&!(u=s.next()).done;)h.push(u.value)}catch(a){n={error:a}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return h};(0,t.default)(exports,"__esModule",{value:!0}),exports.Authority=exports.Uri=void 0;var u=function(){function r(t){var e=r.RFC_3986.exec(t);if(!e)throw new Error("Invalid Uri: "+t);var o=i(e,10),u=o[2],s=o[4],h=o[5],a=o[7],f=o[9];this.scheme=u,this.authority=s?new n(s):void 0,this.path=h,this.query=a,this.fragment=f}return r.prototype.toString=function(){var t=[];return void 0!==this.scheme&&t.push(this.scheme,":"),void 0!==this.authority&&t.push("//",this.authority.toString()),t.push(this.path),void 0!==this.query&&t.push("?",this.query),void 0!==this.fragment&&t.push("#",this.fragment),t.join("")},(0,t.default)(r.prototype,"host",{get:function(){return this.authority&&this.authority.host},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"port",{get:function(){return this.authority&&this.authority.port},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"userInfo",{get:function(){return this.authority&&this.authority.userInfo},enumerable:!1,configurable:!0}),r.RFC_3986=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,r}();exports.Uri=u;var n=function(){function t(r){var e=t.RFC_3986.exec(r);if(!e)throw new Error("Invalid Authority: "+r);var o=i(e,4),u=o[1],n=o[2],s=o[3];this.userInfo=u,this.host=n,this.port=s}return t.prototype.toString=function(){var t=[];return void 0!==this.userInfo&&t.push(this.userInfo,"@"),void 0!==this.host&&t.push(this.host),void 0!==this.port&&t.push(":",this.port),t.join("")},t.RFC_3986=/(?:([^@]+)@)?([^:]+)(?::([\d]+))?/,t}();exports.Authority=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k"}],"3CTW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(){}return t.prototype.now=function(){return new Date},t}();exports.SystemClock=t;var e=function(){function t(t){this.value=t}return t.prototype.now=function(){return this.value},t}();exports.StoppedClock=e;
},{}],"4EzD":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/keys")),r=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,r.default)(exports,"__esModule",{value:!0}),exports.buildQueryString=exports.coerce=exports.queryObject=void 0;var u=require("./functional");function n(e,r){return void 0===r&&(r=!0),e?(0==e.indexOf("?")&&(e=e.substring(1,e.length)),e.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=t[0],i=t[1];if(!n)return e;var c=i?u.get(function(){return decodeURIComponent(i.replace(/\+/g,"%20"))},void 0):i,s=r?o(c):c;return u.accumulateMultipleValues(e,n,s)},{})):{}}function o(e){try{return JSON.parse(e)}catch(r){return e}}function i(r){return(0,e.default)(r).filter(function(e){return void 0!==r[e]}).map(function(e){return e+"="+r[e]}).join("&")}exports.queryObject=n,exports.coerce=o,exports.buildQueryString=i;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./functional":"1gnz"}],"zXYq":[function(require,module,exports) {

"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property")),r=t(require("@babel/runtime-corejs2/core-js/symbol/iterator")),o=t(require("@babel/runtime-corejs2/core-js/symbol"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t){var n="function"==typeof o.default&&e[r.default];if(!n)return e;var u,i,l=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(u=l.next()).done;)a.push(u.value)}catch(s){i={error:s}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return a},u=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(n(arguments[r]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.defaultLogger=exports.namedLogger=exports.nameMatches=exports.wildcardToRegexp=exports.isDebug=exports.globalParameter=exports.NoOpLogger=exports.ConsoleLogger=void 0;var i=require("./functional"),l=require("./Uri"),a=require("./QueryParams"),s=function(){return function(e,r,o){void 0===e&&(e=console.log),void 0===r&&(r=console.error),void 0===o&&(o=console.debug||console.log),this.log=e,this.error=r,this.debug=o}}();exports.ConsoleLogger=s;var c=function(){return function(){this.log=function(){},this.error=function(){},this.debug=function(){}}}();exports.NoOpLogger=c;var g="triptease-debug";function f(e,r){return(i.get(function(){return a.queryObject(e.location.search,!1)[r]})||i.get(function(){return a.queryObject(new l.Uri(e.location.originalHref).query,!1)[r]})||i.get(function(){return e.process.env.DEBUG})||i.get(function(){return e.localStorage.getItem&&e.localStorage.getItem(r)})||"").split(",").map(function(e){return e.trim()}).filter(Boolean)}function p(e){void 0===e&&(e=globalThis);var r=n(f(e,g),1)[0];return!!r&&"true"===r.toLowerCase()}exports.globalParameter=f,exports.isDebug=p;var h=function(){function e(){this.console=new s}return e.prototype.debug=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).debug.apply(r,u([e],o))},e.prototype.log=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).log.apply(r,u([e],o))},e.prototype.error=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).error.apply(r,u([e],o))},e}();function d(e){var r=e.replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp("^"+r+"$")}function v(e,r){void 0===r&&(r=globalThis);try{var o=f(r,g),t=o.filter(function(e){return"!"===e[0]}).map(function(e){return e.substr(1)});return t.length>0?!i.Arrays.includes(t,e):o.some(function(r){return"true"===r||d(r).test(e)})}catch(n){return!1}}exports.wildcardToRegexp=d,exports.nameMatches=v;var b=function(){function e(e){this.name=e,this.console=new s}return e.prototype.debug=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).debug.apply(r,u(["["+this.name+"] "+e],o))},e.prototype.log=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).log.apply(r,u(["["+this.name+"] "+e],o))},e.prototype.error=function(e){for(var r,o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];(r=this.console).error.apply(r,u(["["+this.name+"] "+e],o))},e}();function y(e,r){return void 0===r&&(r=globalThis),v(e,r)?new b(e):new c}exports.namedLogger=y,exports.defaultLogger=p()?new h:new c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./functional":"1gnz","./Uri":"Rbua","./QueryParams":"4EzD"}],"xTNs":[function(require,module,exports) {
"use strict";var e=l(require("@babel/runtime-corejs2/core-js/set")),r=l(require("@babel/runtime-corejs2/core-js/array/from")),t=l(require("@babel/runtime-corejs2/core-js/object/entries")),n=l(require("@babel/runtime-corejs2/core-js/object/keys")),u=l(require("@babel/runtime-corejs2/core-js/json/stringify")),o=l(require("@babel/runtime-corejs2/core-js/array/is-array")),c=l(require("@babel/runtime-corejs2/helpers/typeof")),s=l(require("@babel/runtime-corejs2/core-js/object/define-property")),i=l(require("@babel/runtime-corejs2/core-js/symbol/iterator")),a=l(require("@babel/runtime-corejs2/core-js/symbol")),f=l(require("@babel/runtime-corejs2/core-js/object/assign"));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){return(d=f.default||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)},p=function(e,r){var t="function"==typeof a.default&&e[i.default];if(!t)return e;var n,u,o=t.call(e),c=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)c.push(n.value)}catch(s){u={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(u)throw u.error}}return c},b=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(p(arguments[r]));return e};(0,s.default)(exports,"__esModule",{value:!0}),exports.nullish=exports.JsonValues=exports.SafeJson=exports.parseJSONWithDates=exports.walkValues=exports.convertDates=void 0;var j=require("./functional"),h=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}\.\d{3}Z)?$/;function m(e){return v(e,function(e){return"string"==typeof e&&h.test(e)},function(e){var r=new Date(e);return isNaN(r.valueOf())?e:r})}function v(e,r,t){if(r(e))return t(e);switch((0,c.default)(e)){case"undefined":return;case"object":if(null===e)return null;if((0,o.default)(e))return e.map(function(e){return v(e,r,t)});if(e.constructor===Object)return j.Objects.keys(e).sort().reduce(function(n,u){var o=e[u];return n[u]=v(o,r,t),n},{})}return e}function g(e){return m(JSON.parse(e))}exports.convertDates=m,exports.walkValues=v,exports.parseJSONWithDates=g;var y=function(){function e(){}return e.parse=function(e){return g(e)},e.stringify=function(e){return(0,u.default)(v(e,function(e){var r=(0,c.default)(e);switch(r){case"undefined":case"string":case"number":case"boolean":return!0;case"object":if(null===e)return!0;if((0,o.default)(e))return!1;if(e.constructor===Object)return!1;if("toJSON"in e)return!0}throw new Error("Illegal JsonValue: "+r+" "+e+" ")},function(e){return e}))},e}();exports.SafeJson=y;var q=function(){function u(){}return u.same=function(e,r){return y.stringify(e)===y.stringify(r)},u.isSuperset=function(e,r){return null===e||null===r?u.same(e,r):(0,o.default)(e)&&(0,o.default)(r)?!(e.length>r.length)&&e.every(function(e){return r.some(function(r){return u.isSuperset(e,r)})}):j.get(function(){return e.constructor===Object})&&j.get(function(){return r.constructor===Object})?(0,n.default)(e).reduce(function(t,n){return t&&u.isSuperset(e[n],r[n])},!0):u.same(e,r)},u.compress=function(e){var r=u.groupValues(e);return this.compressGrouped(r)},u.compressGrouped=function(e){return(0,t.default)(e).reduce(function(e,r){var t=e.shared,c=e.unique,s=p(r,2),i=s[0],a=s[1];if(j.get(function(){return a.constructor===Object})){var f=u.compressGrouped(a);(0,n.default)(f.shared).length>0&&(t[i]=f.shared),f.unique.forEach(function(e,r){c[r]=c[r]||{},(0,n.default)(e).length>0&&(c[r][i]=e)})}return(0,o.default)(a)&&a.forEach(function(e,r){c[r]=c[r]||{},1===j.Arrays.unique(a.map(function(e){return y.stringify(e)})).length||void 0!==e&&(c[r][i]=e)}),{shared:t,unique:c}},{shared:{},unique:[]})},u.groupValues=function(o){var c=(0,r.default)(o.reduce(function(e,r){return(0,n.default)(r).reduce(function(e,r){return e.add(r)},e)},new e.default)),s=p(o.reduce(function(e,r){return c.reduce(function(e,t){var n=p(e,2),u=n[0],o=n[1],c=r[t];return j.get(function(){return c.constructor===Object})?(o[t]=o[t]||[],o[t].push(c)):(u[t]=u[t]||[],u[t].push(c)),[u,o]},e)},[{},{}]),2),i=s[0],a=s[1],f=(0,t.default)(a).reduce(function(e,r){var t=p(r,2),n=t[0],o=t[1];return e[n]=u.groupValues(o),e},{});return d(d({},i),f)},u.decompress=function(e){var r=this;return e.unique.map(function(t){return r.merge(e.shared,t)})},u.merge=function(e,r){return b((0,n.default)(e),(0,n.default)(r)).reduce(function(t,n){var o=e[n],c=r[n];return j.get(function(){return o.constructor===Object})&&j.get(function(){return c.constructor===Object})?t[n]=u.merge(o,c):t[n]=O(c,o),t},{})},u}();function O(e,r){return null==e?r:e}exports.JsonValues=q,exports.nullish=O;
},{"@babel/runtime-corejs2/core-js/set":"Oo+u","@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/object/entries":"dv51","@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./functional":"1gnz"}],"ueYp":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/helpers/typeof")),t=i(require("@babel/runtime-corejs2/core-js/object/define-property")),r=i(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=i(require("@babel/runtime-corejs2/core-js/symbol")),o=i(require("@babel/runtime-corejs2/core-js/promise"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r,n){return new(r||(r=o.default))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof n.default&&(s[r.default]=function(){return this}),s;function l(r){return function(n){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(a=(a=u.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){u.label=r[1];break}if(6===r[0]&&u.label<a[1]){u.label=a[1],a=r;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(r);break}a[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(n){r=[6,n],i=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,n])}}},u=function(e,t){var o="function"==typeof n.default&&e[r.default];if(!o)return e;var i,a,s=o.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)u.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}return u},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};(0,t.default)(exports,"__esModule",{value:!0}),exports.errorLike=exports.isError=exports.targetAndMethod=exports.targetAndMethodSplitter=exports.DEFAULT_HOSTS=exports.WindowHandler=exports.WorkerHandler=exports.isOnboardMessage=exports.asyncHandlerFor=exports.kernelHandler=exports.kernelFrame=exports.UuidGenerator=exports.defaultEvents=exports.collapse=exports.defaultTimers=exports.ManualTimers=exports.SystemTimers=void 0;var c=require("./functional"),d=require("../UUID"),p=require("./Uri"),f=require("@bodar/totallylazy/dates/clock"),h=require("./Logger"),m=require("./Json");function v(e){var t=this;return new o.default(function(r){t.setTimeout(function(){r()},e)})}var g=function(){function e(e){void 0===e&&(e=new f.SystemClock),this.clock=e,this.delay=v.bind(this),this.delay=v}return e.prototype.task=function(e){return a(this,void 0,o.default,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.delay(0)];case 1:return t.sent(),[2,e()]}})})},e.prototype.setTimeout=function(e,t){return c.globalThis.setTimeout(e,t)},e.prototype.clearTimeout=function(e){c.globalThis.clearTimeout(e)},e.prototype.setInterval=function(e,t){return c.globalThis.setInterval(e,t)},e.prototype.clearInterval=function(e){c.globalThis.clearInterval(e)},e.prototype.requestIdleCallback=function(e,t){var r=t?t.timeout:1,n=this.clock.now().getTime()+r,o=this;return this.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(o.clock.now().getTime()-n))}})},r)},e.prototype.cancelIdleCallback=function(e){this.clearTimeout(e)},e}();exports.SystemTimers=g;var y=function(){function e(e){void 0===e&&(e=new f.SystemClock),this.clock=e,this.timers=[],this.lastHandle=0,this.delay=v.bind(this)}return e.prototype.task=function(e){return a(this,void 0,o.default,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.delay(0)];case 1:return t.sent(),[2,e()]}})})},e.prototype.setTimeout=function(e,t){return this.createTimer(t,e,"timeout")},e.prototype.clearTimeout=function(e){this.clearInterval(e)},e.prototype.setInterval=function(e,t){return this.createTimer(t,e,"interval")},e.prototype.clearInterval=function(e){this.timers=this.timers.filter(function(t){return t.handle!=e})},e.prototype.requestIdleCallback=function(e,t){var r=(void 0===t?{timeout:50}:t).timeout;return this.createTimer(r,e,"interval")},e.prototype.cancelIdleCallback=function(e){this.timers=this.timers.filter(function(t){return t.handle!=e})},e.prototype.runNext=function(){this.timers=this.timers.sort(function(e,t){return t.scheduled.getTime()-e.scheduled.getTime()});var e=this.timers.pop();if(e)return e.handler(),"interval"===e.type&&this.createTimer(e.timeout,e.handler,e.type,e.handle),e},e.prototype.runAll=function(){for(var e,t=[];e=this.runNext();)t.push(e);return t},e.prototype.createTimer=function(e,t,r,n){void 0===n&&(n=this.nextHandle());var o=new Date(this.clock.now().getTime()+e);return this.timers.push({handler:t,timeout:e,type:r,handle:n,scheduled:o}),n},e.prototype.nextHandle=function(){return++this.lastHandle},e}();function w(){var e=c.globalThis.triptease=c.globalThis.triptease||{};if(!e.events)throw new Error("Client integration script called before Bootstrap has loaded");return e.events}exports.ManualTimers=y,exports.defaultTimers=new g,exports.collapse=function(e,t,r,n){void 0===r&&(r=new g),void 0===n&&(n=h.defaultLogger);var o=0;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];o?n.log("Event already Queued"):(n.log("Queuing event"),o=r.setTimeout(function(){o=0,n.log("Firing event"),t.apply(void 0,l(i))},e))}},exports.defaultEvents=w;var x=function(){function e(){}return e.prototype.generate=function(e){if(void 0!==e)throw new Error("UuidGenerator does not support custom lengths");return d.uuid().replace(/-/g,"")},e}();function b(e){return e.document.querySelector('iframe[name="triptease.onboard.kernel"]')}function T(e){var t=b(e);if(t&&t.contentWindow)return new M(e,t.contentWindow)}function k(e){return a(this,void 0,o.default,function(){var t;return s(this,function(r){return(t=b(e))?[2,new M(e,t.contentWindow)]:[2,new o.default(function(e){return window.setTimeout(function(){return e(k(window))},500)})]})})}function H(t){return"object"===(0,e.default)(t)&&"type"in t&&"string"==typeof t.type}exports.UuidGenerator=x,exports.kernelFrame=b,exports.kernelHandler=T,exports.asyncHandlerFor=k,exports.isOnboardMessage=H;var q=function(){function e(e,t){void 0===t&&(t=h.namedLogger("worker")),this.worker=e,this.logger=t}return e.prototype.addListener=function(e){var t=this;this.worker.addEventListener("message",function(r){H(r.data)&&e(r.data,t)})},e.prototype.send=function(e){this.worker.postMessage(e)},e}();exports.WorkerHandler=q;var M=function(){function e(e,t,r,n){void 0===r&&(r=exports.DEFAULT_HOSTS),void 0===n&&(n=h.namedLogger("messaging")),this.listener=e,this.target=t,this.allowedOrigins=r,this.logger=n}return e.prototype.addListener=function(t){var r=this;this.listener&&this.listener.addEventListener("message",function(n){r.disallowedOrigin(n)||H(n.data)&&t(n.data,new e(void 0,n.source||r.target))})},e.prototype.disallowedOrigin=function(e){return e.origin&&this.allowedOrigins.length>0&&-1===this.allowedOrigins.indexOf(new p.Uri(e.origin).host)},e.prototype.send=function(e){this.target.postMessage(e,"*")},e}();function S(e){var t=u(e.match(exports.targetAndMethodSplitter)||[],3);return{target:t[1],method:t[2]}}function E(t){return t&&"object"===(0,e.default)(t)&&"name"in t&&"string"==typeof t.name&&"message"in t&&"string"==typeof t.message&&"stack"in t&&"string"==typeof t.stack}function L(e,t,r){return{name:e,message:t,stack:m.nullish(r,"")}}exports.WindowHandler=M,exports.DEFAULT_HOSTS=["onboard.triptease.io","localhost"],exports.targetAndMethodSplitter=/^(.*)\.([^.]+)$/,exports.targetAndMethod=S,exports.isError=E,exports.errorLike=L;
},{"@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./functional":"1gnz","../UUID":"VB5w","./Uri":"Rbua","@bodar/totallylazy/dates/clock":"3CTW","./Logger":"zXYq","./Json":"xTNs"}],"avI9":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.safeExecute=exports.construct=void 0;var r=require("./functional");function o(e){var t={};for(var o in window.ttExecutionErrors=[],e)e.hasOwnProperty(o)&&(t[o]=n(e[o]),void 0===t[o]&&delete t[o]);return r.Objects.removeEmpty(t)}function n(e){void 0===window.ttExecutionErrors&&(window.ttExecutionErrors=[]);try{return"function"==typeof e?e():e}catch(t){window.ttExecutionErrors.push({name:e&&e instanceof Function&&e.name||"",message:t.message})}}exports.construct=o,exports.safeExecute=n,exports.default={safeExecute:n};
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./functional":"1gnz"}],"0z0e":[function(require,module,exports) {
"use strict";var r=n(require("@babel/runtime-corejs2/core-js/object/define-property")),e=n(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=n(require("@babel/runtime-corejs2/core-js/symbol"));function n(r){return r&&r.__esModule?r:{default:r}}var o=function(r,n){var o="function"==typeof t.default&&r[e.default];if(!o)return r;var a,u,i=o.call(r),f=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)f.push(a.value)}catch(c){u={error:c}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(u)throw u.error}}return f},a=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(o(arguments[e]));return r};(0,r.default)(exports,"__esModule",{value:!0}),exports.findAndExtractFromDataLayer=exports.getValueFromDataLayer=void 0;var u=require("./functional");function i(r,e,t){void 0===r&&(r=window),void 0===t&&(t="");var n=a(r.dataLayer||[]).reverse(),o=u.get(function(){var r=u.Arrays.find(n,function(r){return void 0!==r[e]});return r&&r[e]},t);return"string"==typeof o?o.trim():o}function f(r,e,t,n){return void 0===r&&(r=window),u.get(function(){return t(u.Arrays.find(a(r.dataLayer).reverse(),e))},n)}exports.getValueFromDataLayer=i,exports.findAndExtractFromDataLayer=f;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./functional":"1gnz"}],"+5Yy":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.ScriptVersion=void 0;var t=function(){function e(){}return e.get=function(){return"3395.3060"},e}();exports.ScriptVersion=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"TfwD":[function(require,module,exports) {
"use strict";var e,t=r(require("@babel/runtime-corejs2/core-js/json/stringify")),o=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}function n(o){var r=o.method,n=void 0===r?e.POST:r,d=o.url,s=o.body,i=(0,t.default)(s);if(void 0!==navigator.sendBeacon&&"POST"===n)navigator.sendBeacon(d,i);else if("undefined"!=typeof fetch)fetch(d,{method:n,body:i});else if(XMLHttpRequest){var T=new XMLHttpRequest;T.open(n,d,!0),T.send(i)}}(0,o.default)(exports,"__esModule",{value:!0}),exports.fireAndForget=exports.HTTPMethod=void 0,function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.OPTIONS="OPTIONS",e.HEAD="HEAD"}(e=exports.HTTPMethod||(exports.HTTPMethod={})),exports.fireAndForget=n;
},{"@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"vGDY":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/core-js/object/define-property")),r=i(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=i(require("@babel/runtime-corejs2/core-js/symbol")),o=i(require("@babel/runtime-corejs2/core-js/object/assign"));function i(e){return e&&e.__esModule?e:{default:e}}var n=function(){return(n=o.default||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},s=function(e,o){var i="function"==typeof t.default&&e[r.default];if(!i)return e;var n,s,a=i.call(e),u=[];try{for(;(void 0===o||o-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(d){s={error:d}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(s)throw s.error}}return u},a=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(s(arguments[r]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.RealMessageBatcher=exports.InMemoryMessageBatcher=void 0;var u=require("./fireAndForget"),d=require("../UUID"),c=require("@bodar/totallylazy/dates/clock"),l=require("./functional"),h={name:"triptease.integrations",version:"3395.3060"},f="https://onboard.triptease.io",p=function(){function e(e){void 0===e&&(e=[]),this.queued=e}return e.prototype.send=function(e){this.queued.push(e)},e}();exports.InMemoryMessageBatcher=p;var b=function(){function e(e,r,t,o){var i=this;void 0===e&&(e=window),void 0===r&&(r=new c.SystemClock),void 0===t&&(t=u.fireAndForget),void 0===o&&(o=!0),this.browserWindow=e,this.clock=r,this.fire=t,this.queued=[],o&&setInterval(this.flush.bind(this),1e3),this.browserWindow.addEventListener("unload",function(){return i.flush()})}return e.prototype.send=function(e){this.queued.push(n(n({},e),{messageId:d.uuid(),createdAt:this.clock.now()}))},e.prototype.flush=function(){var e=this;if(0!==this.queued.length){var r=l.get(function(){return e.browserWindow.triptease.onboard.bootstrap.identity});if(r){var t=this.browserWindow.navigator,o=this.browserWindow.document,i=this.clock.now(),n={type:"triptease.onboard.batch",messageId:d.uuid(),userId:r&&r.userId,sessionId:r&&r.sessionId,domainUserId:r&&r.domainUserId,pageVisitId:r&&r.pageVisitId,createdAt:i,sentAt:i,context:{library:h,userAgent:t.userAgent,locale:t.language,page:{title:o.title,locale:o.documentElement.lang,url:this.browserWindow.location.href,referrer:o.referrer},screen:{width:this.browserWindow.screen.width,height:this.browserWindow.screen.height},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},payload:a(this.queued)};this.queued=[],this.fire({url:f+"/message/batch",body:n})}}},e}();exports.RealMessageBatcher=b;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./fireAndForget":"TfwD","../UUID":"VB5w","@bodar/totallylazy/dates/clock":"3CTW","./functional":"1gnz"}],"Im0n":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.TrackingEvents=exports.FakeTrackingEvents=exports.IntegrationEventType=void 0;var r,a=require("./ScriptVersion"),n=require("./MessageBatcher");!function(e){e.PageDisplayedRoomsAndRates="triptease.integration.page_displayed_rooms-and-rates",e.PageErroredRoomsAndRates="triptease.integration.page_errored_rooms-and-rates",e.PageDisplayedConfirmation="triptease.integration.page_displayed_confirmation",e.PageErroredConfirmation="triptease.integration.page_errored_confirmation",e.IntegrationData="triptease.integration.integration_data",e.PartialConfirmationPageData="triptease.integration.partial_confirmation_data",e.GenericScript="triptease.integration.generic_script",e.DataCapture="triptease.integration.data_capture"}(r=exports.IntegrationEventType||(exports.IntegrationEventType={}));var i=function(){function e(e){void 0===e&&(e=[]),this.events=e}return e.prototype.track=function(e,t){this.events.push({type:e,data:t})},e}();exports.FakeTrackingEvents=i;var o=function(){function e(e,t){void 0===t&&(t=new n.RealMessageBatcher),this.integrationName=e,this.messageBatcher=t}return e.prototype.track=function(e,t){this.messageBatcher.send({type:e,context:{app:{name:this.integrationName,version:a.ScriptVersion.get()}},payload:t})},e}();exports.TrackingEvents=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./ScriptVersion":"+5Yy","./MessageBatcher":"vGDY"}],"u7uj":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/core-js/parse-float")),r=i(require("@babel/runtime-corejs2/core-js/parse-int")),t=i(require("@babel/runtime-corejs2/core-js/object/define-property")),a=i(require("@babel/runtime-corejs2/core-js/object/assign"));function i(e){return e&&e.__esModule?e:{default:e}}var n=function(){return(n=a.default||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};(0,t.default)(exports,"__esModule",{value:!0});var o=require("./dataLayerExtractor"),u=require("./trackingEvents"),s=function(){function t(e,r){this.integrationName=e,this.eventTracker=r}return t.prototype.dateValid=function(e){if(void 0===e)return!1;var t=e.split("-");return t.map(function(e){return!isNaN((0,r.default)(e))}).every(Boolean)&&(0,r.default)(t[1])<=12&&(0,r.default)(t[1])>=1},t.prototype.validate=function(t){var a=[];if("string"==typeof t.currency&&3===t.currency.length||a.push("currencyError"),isNaN((0,e.default)(t["direct-price"]))&&a.push("priceNotFound"),!this.dateValid(t.checkin)&&(a.push("invalidArrivalDate"),"synxis-v2"===this.integrationName)){var i=o.getValueFromDataLayer(window,"ArrivalDt");a.push(i)}if(!this.dateValid(t.checkout)&&(a.push("invalidDepartureDate"),"synxis-v2"===this.integrationName)){var s=o.getValueFromDataLayer(window,"DepartDt");a.push(s)}return t.checkin==t.checkout&&this.dateValid(t.checkout)&&a.push("bothDatesEqual"),isNaN((0,r.default)(t.adults))&&a.push("adultsNotFound"),isNaN((0,r.default)(t.children))&&a.push("childrenNotFound"),isNaN((0,r.default)(t.rooms))&&a.push("roomsNotFound"),a.length&&(t.ignore=!0,this.eventTracker.track(u.IntegrationEventType.PageErroredRoomsAndRates,n(n({},t),{errors:a}))),t},t}();exports.default=s;
},{"@babel/runtime-corejs2/core-js/parse-float":"QyHQ","@babel/runtime-corejs2/core-js/parse-int":"6TiY","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./dataLayerExtractor":"0z0e","./trackingEvents":"Im0n"}],"85Xn":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime-corejs2/core-js/array/from")),r=u(require("@babel/runtime-corejs2/core-js/object/define-property")),t=u(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=u(require("@babel/runtime-corejs2/core-js/symbol")),o=u(require("@babel/runtime-corejs2/core-js/promise"));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e,r,t,n){return new(t||(t=o.default))(function(o,u){function a(e){try{c(n.next(e))}catch(r){u(r)}}function i(e){try{c(n.throw(e))}catch(r){u(r)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,i)}c((n=n.apply(e,r||[])).next())})},i=function(e,r){var o,u,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof n.default&&(i[t.default]=function(){return this}),i;function l(t){return function(n){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,u=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(e,c)}catch(n){t=[6,n],u=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}};(0,r.default)(exports,"__esModule",{value:!0}),exports.google=exports.googleTagManager=exports.googleAnalytics=void 0;var c=require("./Uri"),l=require("./QueryParams"),s=require("./functional");function f(e){return a(this,void 0,o.default,function(){var r;return i(this,function(t){switch(t.label){case 0:return"function"!=typeof(r=e[e.GoogleAnalyticsObject||"ga"])?[2,[]]:[4,new o.default(function(e){return r(function(){return e(s.Arrays.unique(r.getAll().map(function(e){return e.get("trackingId")})))})})];case 1:return[2,t.sent()]}})})}function p(r){return s.Arrays.unique((0,e.default)(r.document.querySelectorAll("script[src*=googletagmanager]")).map(function(e){var r=new c.Uri(e.src).query;return l.queryObject(r).id}))}function g(e){return a(this,void 0,o.default,function(){var r;return i(this,function(t){switch(t.label){case 0:return r={},[4,f(e)];case 1:return[2,(r.ga=t.sent(),r.gtm=p(e),r)]}})})}exports.googleAnalytics=f,exports.googleTagManager=p,exports.google=g;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./Uri":"Rbua","./QueryParams":"4EzD","./functional":"1gnz"}],"hszo":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/define-property")),t=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),r=o(require("@babel/runtime-corejs2/core-js/symbol")),n=o(require("@babel/runtime-corejs2/core-js/promise"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,r,o){return new(r||(r=n.default))(function(n,i){function u(e){try{a(o.next(e))}catch(t){i(t)}}function s(e){try{a(o.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,s)}a((o=o.apply(e,t||[])).next())})},u=function(e,n){var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof r.default&&(s[t.default]=function(){return this}),s;function c(t){return function(r){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=2&t[0]?i.return:t[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,t[1])).done)return u;switch(i=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(u=(u=a.trys).length>0&&u[u.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){a.label=t[1];break}if(6===t[0]&&a.label<u[1]){a.label=u[1],u=t;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(t);break}u[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(r){t=[6,r],i=0}finally{o=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,r])}}};(0,e.default)(exports,"__esModule",{value:!0}),exports.BrowserMessageBuilder=exports.ClientIntegrationsVersionDefinition=void 0;var s=require("./functional"),a=require("../UUID"),c=require("@bodar/totallylazy/dates/clock"),l=require("./ScriptVersion"),d=require("./Google"),f=require("./QueryParams"),h=require("./Uri"),p=require("./Json");function m(e){return{title:e.document.title,locale:e.document.documentElement.lang||e.document.documentElement.getAttribute("xml:lang")||"",url:e.location.href,urlParsed:g(e.location.href),referrer:e.document.referrer,referrerParsed:g(e.document.referrer),characterSet:e.document.characterSet}}function g(e){if(!e)return{};var t=new h.Uri(e),r=t.scheme,n=t.host,o=t.path,i=t.query,u=t.fragment;return s.Objects.removeEmpty({scheme:r,host:n,path:o,query:i,queryParsed:f.queryObject(i,!1),fragment:u})}exports.ClientIntegrationsVersionDefinition={name:"client-integrations",version:l.ScriptVersion.get()};var w=function(){function e(e,t){void 0===t&&(t=new c.SystemClock),this.window=e,this.clock=t;try{this.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(r){this.timezone=""}}return e.prototype.buildMessage=function(e){return i(this,void 0,n.default,function(){var t,r,n,o,i,c,l=this;return u(this,function(u){switch(u.label){case 0:return t=s.get(function(){return l.window.triptease.onboard.bootstrap.identity}),r=this.clock.now(),o=(n=p.JsonValues).merge,i={createdAt:r,messageId:a.uuid(),userId:s.get(function(){return t.userId}),sessionId:s.get(function(){return t.sessionId}),domainUserId:s.get(function(){return t.domainUserId})},c={library:exports.ClientIntegrationsVersionDefinition,userAgent:this.window.navigator.userAgent,locale:this.window.navigator.language,page:m(this.window),screen:{width:this.window.screen.width,height:this.window.screen.height},timezone:this.timezone},[4,s.getAsync(function(){return d.google(l.window)},{})];case 1:return[2,o.apply(n,[(i.context=(c.google=u.sent(),c),i),e])]}})})},e}();exports.BrowserMessageBuilder=w;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./functional":"1gnz","../UUID":"VB5w","@bodar/totallylazy/dates/clock":"3CTW","./ScriptVersion":"+5Yy","./Google":"85Xn","./QueryParams":"4EzD","./Uri":"Rbua","./Json":"xTNs"}],"4WXj":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/define-property")),r=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=o(require("@babel/runtime-corejs2/core-js/symbol")),n=o(require("@babel/runtime-corejs2/core-js/promise"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,r,t,o){return new(t||(t=n.default))(function(n,a){function i(e){try{s(o.next(e))}catch(r){a(r)}}function u(e){try{s(o.throw(e))}catch(r){a(r)}}function s(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(i,u)}s((o=o.apply(e,r||[])).next())})},i=function(e,n){var o,a,i,u,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof t.default&&(u[r.default]=function(){return this}),u;function c(r){return function(t){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,a=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=n.call(e,s)}catch(t){r=[6,t],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,t])}}};(0,e.default)(exports,"__esModule",{value:!0}),exports.messageProxy=exports.MessageProxy=void 0;var u=require("../onboard"),s=function(){function e(e,r){this.messaging=e,this.idGenerator=r}return e.prototype.get=function(e,r,t){var n=this;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(n,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return t=this.idGenerator.generate(),[4,this.messaging.handle({type:"triptease.onboard.request",requestType:String(r),payload:e,correlationId:t})];case 1:if(n=o.sent().payload,u.isError(n))throw n;return[2,n]}})})}},e}();function c(e,r){return void 0===r&&(r=new u.UuidGenerator),new Proxy({},new s(e,r))}exports.MessageProxy=s,exports.messageProxy=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","../onboard":"ueYp"}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=u,exports.__awaiter=i,exports.__generator=c,exports.__exportStar=f,exports.__values=l,exports.__read=s,exports.__spread=p,exports.__spreadArrays=y,exports.__await=_,exports.__asyncGenerator=h,exports.__asyncDelegator=v,exports.__asyncValues=b,exports.__makeTemplateObject=d,exports.__importStar=x,exports.__importDefault=w,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,u=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(u=(a<3?o(u):a>3?o(e,r,u):o(e,r))||u);return a>3&&u&&Object.defineProperty(e,r,u),u}function a(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,r,n){return new(r||(r=Promise))(function(o,a){function u(t){try{c(n.next(t))}catch(e){a(e)}}function i(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(u,i)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],u=0,i=a.length;u<i;u++,o++)n[o]=a[u];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function h(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||i(t,e)})})}function i(t,e){try{(r=o[t](e)).value instanceof _?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){i("next",t)}function f(t){i("throw",t)}function l(t,e){t(e),a.shift(),a.length&&i(a[0][0],a[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:_(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof l?l(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function d(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}exports.__assign=r;
},{}],"jo+4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("tslib");function e(e,t,n){if("function"!=typeof n.value)throw new Error("@cache can only decorate methods");var a={};return Object.defineProperty(e,t,r.__assign({},n,{value:function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=JSON.stringify(t),c=a[i];return void 0!==c?c:a[i]=(e=n.value).call.apply(e,r.__spread([this],t))}}))}function t(e){var t={};return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var o=JSON.stringify(n),i=t[o];return void 0!==i?i:t[o]=e.apply(void 0,r.__spread(n))}}exports.cache=e,exports.caching=t;
},{"tslib":"vCxL"}],"vRT7":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/define-property")),r=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=o(require("@babel/runtime-corejs2/core-js/symbol")),n=o(require("@babel/runtime-corejs2/core-js/promise"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e,r,t,o){return new(t||(t=n.default))(function(n,i){function u(e){try{c(o.next(e))}catch(r){i(r)}}function a(e){try{c(o.throw(e))}catch(r){i(r)}}function c(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(u,a)}c((o=o.apply(e,r||[])).next())})},u=function(e,n){var o,i,u,a,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof t.default&&(a[r.default]=function(){return this}),a;function l(r){return function(t){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(u=2&r[0]?i.return:r[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,r[1])).done)return u;switch(i=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){c.label=r[1];break}if(6===r[0]&&c.label<u[1]){c.label=u[1],u=r;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(r);break}u[2]&&c.ops.pop(),c.trys.pop();continue}r=n.call(e,c)}catch(t){r=[6,t],i=0}finally{o=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,t])}}};(0,e.default)(exports,"__esModule",{value:!0}),exports.KernelProxy=void 0;var a=require("./messaging/MessageProxy"),c=require("@bodar/totallylazy/cache"),l=function(){return function(e,r){var t=this;void 0===r&&(r=a.messageProxy(e)),this.proxy=r,this.applicationConfig=c.caching(function(e){return i(t,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,this.proxy.applicationConfig(e)];case 1:return[2,r.sent()]}})})}),this.generateConfig=c.caching(function(e){return i(t,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,this.proxy.generateConfig(e)];case 1:return[2,r.sent()]}})})})}}();exports.KernelProxy=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./messaging/MessageProxy":"4WXj","@bodar/totallylazy/cache":"jo+4"}],"lIt4":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.triptease=e.triptease||{},e.triptease.onboard=e.triptease.onboard||{},{triptease:e.triptease,onboard:e.triptease.onboard}}(0,e.default)(exports,"__esModule",{value:!0}),exports.globalObjects=void 0,exports.globalObjects=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"bfIM":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/core-js/object/define-property")),r=i(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=i(require("@babel/runtime-corejs2/core-js/symbol"));function i(e){return e&&e.__esModule?e:{default:e}}var n=function(e,i){var n="function"==typeof t.default&&e[r.default];if(!n)return e;var s,o,u=n.call(e),f=[];try{for(;(void 0===i||i-- >0)&&!(s=u.next()).done;)f.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}return f},s=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(n(arguments[r]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.trustedIdentifierOnly=exports.trustedIdentifier=exports.constantScraper=exports.processPageData=exports.processApiKey=void 0;var o=require("../Strings");function u(e){if(o.Strings.isEmpty(e))return{};if(-1!==e.indexOf(":")){var r=n(e.split(":"),2);return{clientKey:r[0],identifiers:[{identifier:r[1],type:"Trusted"}]}}return{apiKey:e}}function f(e){var r,t=e.hotelKey,i=e.clientKey,n=e.property,o=e.identifiers,f=u(t);return i&&(f.clientKey=i),f.identifiers=f.identifiers||[],n&&f.identifiers.push({identifier:n,type:"Trusted"}),o&&(r=f.identifiers).push.apply(r,s(o)),f}function a(e){return{scrapeIdentifiers:function(){return e}}}function p(e){return{identifiers:c(e)}}function c(e){return o.Strings.isEmpty(e)?[]:[{identifier:e.trim(),type:"Trusted"}]}exports.processApiKey=u,exports.processPageData=f,exports.constantScraper=a,exports.trustedIdentifier=p,exports.trustedIdentifierOnly=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","../Strings":"ap3z"}],"HHZq":[function(require,module,exports) {
"use strict";var r=e(require("@babel/runtime-corejs2/core-js/object/define-property"));function e(r){return r&&r.__esModule?r:{default:r}}(0,r.default)(exports,"__esModule",{value:!0}),exports.ScriptsFinder=void 0;var t=require("../Uri"),i=require("../functional"),n=function(){function r(){}return r.find=function(r){var e=["bootstrap.js","/paperboy/","/identity-service/confirm"].map(function(r){return'script[src*="'+r+'"][src*="triptease.io"]'});e.push('script[src*="paperboy.triptease.net"]');var n=e.join(", ");return i.Arrays.from(r.querySelectorAll(n)).map(function(r){return new t.Uri(r.src)})},r}();exports.ScriptsFinder=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","../Uri":"Rbua","../functional":"1gnz"}],"F06f":[function(require,module,exports) {
"use strict";var r=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(r){return r&&r.__esModule?r:{default:r}}(0,r.default)(exports,"__esModule",{value:!0}),exports.StackScriptFinder=void 0;var e=require("./Uri"),i=require("./GlobalObjects"),c=function(){function r(){this.scripts=[]}return r.create=function(t){var e=i.globalObjects(t).onboard,c=e.stackScriptFinder;return c||(e.stackScriptFinder=new r)},r.prototype.capture=function(){try{throw new Error}catch(i){if(!i.stack)return;var r=i.stack.match(/(https?.*):\d+:\d+/);if(!r)return;var t=r[1];this.scripts.push(new e.Uri(t))}},r.prototype.get=function(){return this.scripts},r}();exports.StackScriptFinder=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./Uri":"Rbua","./GlobalObjects":"lIt4"}],"8nnK":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/core-js/object/define-property")),r=i(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=i(require("@babel/runtime-corejs2/core-js/symbol"));function i(e){return e&&e.__esModule?e:{default:e}}var n=function(e,i){var n="function"==typeof t.default&&e[r.default];if(!n)return e;var o,a,u=n.call(e),c=[];try{for(;(void 0===i||i-- >0)&&!(o=u.next()).done;)c.push(o.value)}catch(f){a={error:f}}finally{try{o&&!o.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return c},o=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(n(arguments[r]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.ScriptScraper=void 0;var a=require("./ScriptFinder"),u=require("../StackScriptFinder"),c=require("../functional"),f=require("./IdentifierScrapers"),l=require("../QueryParams"),p=function(){function e(e){this.window=e}return e.prototype.scrapeIdentifiers=function(){var r=a.ScriptsFinder.find(this.window.document),t=u.StackScriptFinder.create(this.window).get();return e.extract(o(r,t))},e.extract=function(r){return c.Objects.removeEmpty(r.reduce(function(r,t){var i=r.integrationId?[r.integrationId]:[],o=r.clientKey?[r.clientKey]:[],a=r.apiKey?[r.apiKey]:[],u=r.identifiers?r.identifiers:[],c=l.queryObject(t.query,!1),p=e.pathClientKey(t);p&&o.unshift(p),c.clientKey&&o.unshift(c.clientKey),i.unshift(c.integrationId);var s=e.queryApiKey(c),y=f.processApiKey(s);return y.apiKey&&a.unshift(y.apiKey),y.clientKey&&o.unshift(y.clientKey),y.identifiers&&u.unshift(y.identifiers[0]),{integrationId:n(i.filter(Boolean),1)[0],clientKey:n(o.filter(Boolean),1)[0],apiKey:n(a.filter(Boolean),1)[0],identifiers:u.filter(Boolean)}},{}))},e.queryApiKey=function(e){return e.apiKey||e.hotelkey||e.hotelKey||e["api-key"]||e.token},e.pathClientKey=function(e){if("paperboy.triptease.net"===e.host)return n(e.path.match(/\/+([^/.]+)(?:\.js)?$/)||[],2)[1];var r=n(e.path.match(/\/paperboy\/+([^/.]+)(?:\.js)?$/)||[],2)[1],t=void 0===r?"":r;return"paperboy"!=t&&"confirm"!=t?t:void 0},e}();exports.ScriptScraper=p;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./ScriptFinder":"HHZq","../StackScriptFinder":"F06f","../functional":"1gnz","./IdentifierScrapers":"bfIM","../QueryParams":"4EzD"}],"aLkH":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property")),r=t(require("@babel/runtime-corejs2/core-js/object/assign"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(){return(i=r.default||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};(0,e.default)(exports,"__esModule",{value:!0}),exports.LegacyScraper=void 0;var n=require("./IdentifierScrapers"),o=require("../getVariables"),u=require("../functional"),a=function(){function e(e){this.window=e}return e.prototype.scrapeIdentifiers=function(){var e=o.getApiKey(void 0,this.window),r=n.processApiKey(e);return u.Objects.removeEmpty(i(i({},r),{clientKey:o.getClientKey(this.window)}))},e}();exports.LegacyScraper=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./IdentifierScrapers":"bfIM","../getVariables":"67C9","../functional":"1gnz"}],"xrvq":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime-corejs2/core-js/object/keys")),t=u(require("@babel/runtime-corejs2/helpers/typeof")),r=u(require("@babel/runtime-corejs2/core-js/array/is-array")),o=u(require("@babel/runtime-corejs2/core-js/object/define-property")),a=u(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=u(require("@babel/runtime-corejs2/core-js/symbol"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var r="function"==typeof n.default&&e[a.default];if(!r)return e;var o,u,s=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)i.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return i},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=function(e){var t="function"==typeof n.default&&a.default,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(0,o.default)(exports,"__esModule",{value:!0}),exports.CompositeIdentifierSources=exports.UntrustedIdentifierSources=exports.TrustedIdentifierSources=exports.supportedStructuredDataTypes=exports.otherStructuredDataTypes=exports.untrustedStructuredDataTypes=exports.trustedStructuredDataTypes=exports.StructuredDataSources=exports.identifierSource=exports.OtherSource=exports.clean=exports.spaceCleaner=exports.defaultCleaner=exports.CleanEndsWithAmpersandRule=exports.CleanOfficialSiteRule=exports.CleanAdultsOnlyRule=exports.CleanImageLogoRule=exports.CleanAndRule=exports.CleanSpaceRule=exports.CleanPunctuationRule=exports.CleanTemplateString=exports.decode=exports.Cleaner=void 0;var l=require("./functional"),p=require("./Logger"),d=function(){function o(e){this.rules=e}return o.prototype.clean=function(o){var a=this;return"string"==typeof o?this.rules.reduce(function(e,t){return"function"==typeof t?t(e):e.replace(t.search,t.replace)},o):(0,r.default)(o)?o.map(m):o&&"object"==(0,t.default)(o)?(0,e.default)(o).reduce(function(e,t){var r=o[t];return e[t]=a.clean(r),e},{}):o},o}();exports.Cleaner=d;var f=function(e){return e.trim()},y={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&nbsp;":" "},x=function(t){var r="(?:"+(0,e.default)(t).join("|")+")",o=RegExp(r),a=RegExp(r,"g");return function(e){return o.test(e)?e.replace(a,function(e){return t[e]}):e}};function m(e){return exports.defaultCleaner.clean(e)}function h(e,t,r,o){return void 0===o&&(o="Untrusted"),{source:e+"["+t+"]",identifier:m(r),type:o}}exports.decode=x(y),exports.CleanTemplateString={search:/{{.*}}/g,replace:""},exports.CleanPunctuationRule={search:/[,.\/#!$%^*;:{}\[\]()=_`~®©™'\u201C\u201D\u2018\u2019]+/g,replace:""},exports.CleanSpaceRule={search:/\s+/g,replace:" "},exports.CleanAndRule={search:/\sand\s/gi,replace:" & "},exports.CleanImageLogoRule={search:/\s*(?:Image|Logo)\s*/gi,replace:""},exports.CleanAdultsOnlyRule={search:/\s*(?:Uniquement\s+Adultes|Adults?\s*(?:Only)\s*)/gi,replace:""},exports.CleanOfficialSiteRule={search:/\s*[(\[]?Official\s*(?:Hotel)?\s*(?:((?:Web)?Site)|Homepage|booking\s*engine)\s*(?:for|of)?[)\]]?\s*/gi,replace:""},exports.CleanEndsWithAmpersandRule={search:/\s&$/,replace:""},exports.defaultCleaner=new d([exports.CleanTemplateString,exports.decode,exports.CleanPunctuationRule,exports.CleanSpaceRule,exports.CleanImageLogoRule,exports.CleanAdultsOnlyRule,exports.CleanOfficialSiteRule,exports.CleanAndRule,exports.CleanEndsWithAmpersandRule,l.titleCase,f]),exports.spaceCleaner=new d([exports.decode,exports.CleanSpaceRule,f]),exports.clean=m,exports.OtherSource={source:"Other",identifier:"Other",type:"Untrusted"},exports.identifierSource=h;var S=function(){function e(e,t){this.orderedStructuredDataTypes=e,this.type=t}return e.prototype.from=function(e){var t=this;return l.Arrays.flatten(this.filterStructuredData(e).map(function(e){return((0,r.default)(e.name)?e.name:[e.name]).map(function(r){return{source:"structuredData[@type='"+e["@type"]+"'].name",identifier:m(t.addBrand(e.brand,r)),type:t.type}})}))},e.prototype.addBrand=function(e,t){return e?t.indexOf(e)>=0?t:e+" "+t:t},e.prototype.filterStructuredData=function(e){var t=this;return e?e.filter(function(e){return t.orderedStructuredDataTypes.indexOf(e["@type"])>=0}).filter(function(e){return Boolean(e.name)}).sort(function(e,r){return t.orderedStructuredDataTypes.indexOf(e["@type"])-t.orderedStructuredDataTypes.indexOf(r["@type"])}):[]},e}();exports.StructuredDataSources=S,exports.trustedStructuredDataTypes=["Hotel","LodgingBusiness","BedAndBreakfast"],exports.untrustedStructuredDataTypes=["WebSite","LocalBusiness","Organization"],exports.otherStructuredDataTypes=["HotelRoom","LodgingReservation","Offer"],exports.supportedStructuredDataTypes=i(exports.trustedStructuredDataTypes,exports.untrustedStructuredDataTypes,exports.otherStructuredDataTypes);var g=function(){function e(){this.identifierType="Trusted",this.logger=p.defaultLogger,this.sources=["dataLayer.context.hotelName","dataLayer.Cart.HName","dataLayer.propertyName","dataLayer.ihReservations.ihHotelName","dataLayer.ihHotelName","dataLayer.HName","dataLayer.transactionHotelName","dataLayer.ratequeryHotelName","dataLayer.hpr","dataLayer.strippedPropertyName","dataLayer.property_name","globalTokens.HName","dataLayer.flipto.sessionData.propertyName","dataLayer.HotelName","wsVars.HotelName","wlp.hotelInfo.name","Imperatore","rmsClientId","location.context.chainSelectorValue","busyRooms"],this.structuredDataSources=new S(exports.trustedStructuredDataTypes,this.identifierType)}return e.prototype.fromProbe=function(e){var o=this,a=this.fromTrustedSources(e),n=this.fromStructuredData(e.structuredData);return i(a,n).filter(function(e){switch((0,t.default)(e.identifier)){case"string":case"number":return e.identifier;case"object":(0,r.default)(e.identifier)?o.logger.log("Array found from",e.source):o.logger.log("Object found from",e.source)}})},e.prototype.fromStructuredData=function(e){return this.structuredDataSources.from(e)},e.prototype.fromTrustedSources=function(e){var t=this;return l.Arrays.flatten(this.sources.map(function(r){return l.Arrays.clean(l.Arrays.unique(l.getAll.apply(void 0,i([e],r.split("."))))).map(function(e,o){return h(r,o,e,t.identifierType)})}))},e}();exports.TrustedIdentifierSources=g;var C=function(){function e(e){this.labels=e,this.identifierType="Untrusted",this.sources=["dataLayer.SynxisHotelName","location.context.channelId","location.context.hotel","location.context.hotelid","hotelCodeFromCookie","loews","explicitHotelIdentifier"],this.structuredDataSources=new S(exports.untrustedStructuredDataTypes,this.identifierType)}return e.prototype.fromProbe=function(e){var t=this.fromStructuredData(e.structuredData),r=this.fromUntrustedSources(e);return i(t,this.labels,r).filter(function(e){return"string"==typeof e.identifier||"number"==typeof e.identifier})},e.prototype.fromStructuredData=function(e){return this.structuredDataSources.from(e)},e.prototype.fromUntrustedSources=function(e){var t=this;return l.Arrays.flatten(this.sources.map(function(r){return l.Arrays.clean(l.Arrays.unique(l.getAll.apply(void 0,i([e],r.split("."))))).map(function(e,o){return h(r,o,e,t.identifierType)})}))},e}();exports.UntrustedIdentifierSources=C;var b=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.finders=e}return e.prototype.fromProbe=function(e){var t,r,o=[];try{for(var a=c(this.finders),n=a.next();!n.done;n=a.next()){var u=n.value.fromProbe(e);o=o.concat(u)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},e}();exports.CompositeIdentifierSources=b;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./functional":"1gnz","./Logger":"zXYq"}],"DyHB":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.getDocumentIdentifierSources=void 0;var n=require("../IdentifierSources");function r(e){if(e.hasOwnProperty("parentElement"))return e.parentElement;var t=e.parentNode;return t instanceof Element?t:t?r(t):null}var o=/^\s*$/,i=function(e){return e instanceof Text&&o.test(e.data)},u=["script","style","noscript","a"].map(function(e){return e.toUpperCase()}),a=function(e){return e&&-1!==u.indexOf(e.tagName)},c=function(e){return!i(e)&&!a(r(e))};function l(e){return e instanceof Element?e:r(e)}function f(e){var t=l(e);if(t)return t.getBoundingClientRect()}function s(e,t){var n=t.documentElement.scrollWidth,r=t.documentElement.scrollHeight,o=t.documentElement.scrollLeft,i=t.documentElement.scrollTop;if(0!=n&&0!=r){var u=f(e);if(u)return{x:(u.left+o)/n,y:(u.top+i)/r,width:u.width/n,height:u.height/r}}}function d(e){return e instanceof Text?e.data.trim():e instanceof Element&&(e.getAttribute("aria-label")||e.getAttribute("title")||e.getAttribute("alt"))||void 0}function m(e,t){return void 0===t&&(t=.8),e.y<t&&e.width>0&&e.height>0}function p(e,t){void 0===t&&(t=m);for(var r=e.document,o=[],i=r.createNodeIterator(r.documentElement,NodeFilter.SHOW_TEXT,null);;){var u=i.nextNode();if(!u)break;c(u)&&o.push(u)}for(var a=r.querySelectorAll("[aria-label], img[title], img[alt]"),f=0;f<a.length;f++)o.push(a[f]);o.sort(function(e,t){var n=l(e).compareDocumentPosition(l(t));return n&Node.DOCUMENT_POSITION_PRECEDING?1:n&Node.DOCUMENT_POSITION_FOLLOWING?-1:0});var p=[],g=function(e){var i=o[e],u=s(i,r);if(u&&!t(u))return"continue";var a=d(i);"string"==typeof a&&a.split(/[\r\n]/).forEach(function(e){if(e.length>2&&e.length<93){var t=l(i);p.push({source:t?t.tagName.toLowerCase():"",type:"Untrusted",identifier:n.clean(e)})}})};for(f=0;f<o.length;f++)g(f);return p}exports.getDocumentIdentifierSources=p;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","../IdentifierSources":"xrvq"}],"WxuX":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime-corejs2/core-js/object/keys")),r=u(require("@babel/runtime-corejs2/helpers/typeof")),t=u(require("@babel/runtime-corejs2/core-js/array/is-array")),n=u(require("@babel/runtime-corejs2/core-js/object/define-property"));function u(e){return e&&e.__esModule?e:{default:e}}(0,n.default)(exports,"__esModule",{value:!0}),exports.spaceCleaner=exports.CleanSpaceRule=exports.Cleaner=void 0;var a=function(){function n(e){this.rules=e}return n.prototype.clean=function(n){var u=this;return null==n?n:"string"==typeof n?this.rules.reduce(function(e,r){return"function"==typeof r?r(e):e.replace(r.search,r.replace)},n):(0,t.default)(n)?n.map(this.clean):"object"==(0,r.default)(n)?(0,e.default)(n).reduce(function(e,r){var t=n[r];return e[r]=u.clean(t),e},{}):n},n}();exports.Cleaner=a;var o=function(e){return e.trim()};function c(e){if("undefined"==typeof document)return e;var r=document.createElement("textarea");return r.innerHTML=e,r.value}exports.CleanSpaceRule={search:/\s+/g,replace:" "},exports.spaceCleaner=new a([c,exports.CleanSpaceRule,o]);
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"jdNp":[function(require,module,exports) {
"use strict";var t=u(require("@babel/runtime-corejs2/core-js/array/is-array")),r=u(require("@babel/runtime-corejs2/core-js/object/define-property")),e=u(require("@babel/runtime-corejs2/core-js/symbol/iterator")),o=u(require("@babel/runtime-corejs2/core-js/symbol")),n=u(require("@babel/runtime-corejs2/core-js/object/assign"));function u(t){return t&&t.__esModule?t:{default:t}}var a=function(){return(a=n.default||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var n in r=arguments[e])Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t}).apply(this,arguments)},c=function(t,r){var n="function"==typeof o.default&&t[e.default];if(!n)return t;var u,a,c=n.call(t),s=[];try{for(;(void 0===r||r-- >0)&&!(u=c.next()).done;)s.push(u.value)}catch(i){a={error:i}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return s},s=function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(c(arguments[r]));return t};(0,r.default)(exports,"__esModule",{value:!0}),exports.AllStructuredDataProcessor=exports.jsonLd=exports.rdfa=exports.microdata=exports.StructuredDataExtractor=void 0;var i=require("./cleaner"),p=require("../../utils/functional"),l=function(){function t(t,r,e){this.scope=t,this.property=r,this.seed=e}return t.prototype.parentScope=function(t){var r=this,e=c(p.Elements.path(t)).slice(1);return p.Arrays.find(e,function(t){return t.hasAttribute(r.scope)})},t.prototype.getValue=function(t){return t.hasAttribute(this.scope)?this.processScope(t):t.getAttribute("content")||t.getAttribute("src")||t.getAttribute("href")||t.getAttribute("data")||t.getAttribute("value")||t.getAttribute("datetime")||t.textContent},t.prototype.processScope=function(t){var r=this;return p.Arrays.from(t.querySelectorAll("*["+this.property+"]")).filter(function(e){return r.parentScope(e)===t}).reduce(function(t,e){return p.accumulateMultipleValues(t,e.getAttribute(r.property),i.spaceCleaner.clean(r.getValue(e)))},this.seed(t))},t.prototype.processDocument=function(t){return p.Arrays.from(t.querySelectorAll("*["+this.scope+"]")).map(this.processScope.bind(this))},t}();function f(t,r){return a(a({},r),{"@format":t})}exports.StructuredDataExtractor=l,exports.microdata=new l("itemscope","itemprop",function(t){var r=(t.getAttribute("itemtype")||"Unknown").split("/");return f("microdata",{"@type":r.pop(),"@context":r.join("/")})}),exports.rdfa=new l("typeof","property",function(t){return f("rdfa",{"@type":t.getAttribute("typeof"),"@context":t.getAttribute("vocab")})}),exports.jsonLd={processDocument:function(r){return p.Arrays.flatten(p.Arrays.from(r.querySelectorAll('script[type="application/ld+json"]')).map(function(r){var e=r.textContent.replace(/[\r\n]/g," ");try{var o=JSON.parse(e);return(0,t.default)(o["@graph"])?o["@graph"].map(function(t){return f("json-ld",t)}):f("json-ld",o)}catch(u){try{var n=e.replace(/'/g,'"');return f("json-ld",o=JSON.parse(n))}catch(a){return{"@type":"Error",error:u.toString(),json:e}}}}))}},exports.AllStructuredDataProcessor={processDocument:function(t){return s(exports.jsonLd.processDocument(t),exports.microdata.processDocument(t),exports.rdfa.processDocument(t))}};
},{"@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./cleaner":"WxuX","../../utils/functional":"1gnz"}],"l2wx":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/keys")),t=o(require("@babel/runtime-corejs2/core-js/object/define-property")),r=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=o(require("@babel/runtime-corejs2/core-js/symbol")),i=o(require("@babel/runtime-corejs2/core-js/object/assign"));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){return(u=i.default||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var i="function"==typeof n.default&&e[r.default];if(!i)return e;var o,u,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(u)throw u.error}}return s},s=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};(0,t.default)(exports,"__esModule",{value:!0}),exports.DataExtractor=void 0;var c=require("./onboard"),l=require("./functional"),d=require("./IdentifierSources"),f=require("../platform/structured-data/StructuredData"),m=require("./QueryParams"),p=function(){function r(e,t,r,n,i){void 0===t&&(t={}),void 0===r&&(r=e.document),void 0===n&&(n=new c.SystemTimers),void 0===i&&(i=50),this.window=e,this.context=t,this.document=r,this.timers=n,this.maxIdentifiers=i}return r.prototype.probe=function(){var e=this.identifierSources();return u(u({},this.baseData()),{identifierSources:e})},r.prototype.baseData=function(){return{context:this.context,language:this.language,location:this.location,referrer:this.document.referrer,structuredData:this.structuredData}},r.prototype.windowData=function(){var e=this,t=this.baseData(),r=l.get(function(){return e.window.document.querySelector("#clienId").value},void 0);return l.Objects.removeEmpty(u(u({},t),{dataLayer:this.dataLayer,globalTokens:this.window._GlobalTokens||{},wsVars:this.window.WsVars||{},wlp:this.window.wlp||{},imperatore:this.window.Imperatore,busyRooms:this.window.$IBE_hotelName,rmsClientId:r,hotelCodeFromCookie:this.cookie.HotelCode,loews:this.window._reztrack&&this.window._reztrack.send&&this.window._reztrack.send.name,explicitHotelIdentifier:this.window.explicitHotelIdentifier}))},r.prototype.identifierSources=function(){var e=this.windowData(),t=(new d.TrustedIdentifierSources).fromProbe(e);return t.length>0?t.slice(0,this.maxIdentifiers):new d.UntrustedIdentifierSources(this.labels).fromProbe(e).slice(0,this.maxIdentifiers)},(0,t.default)(r.prototype,"dataLayer",{get:function(){var e=this;return l.get(function(){return e.window.dataLayer.filter(function(e){return l.get(function(){return 0!==e.event.indexOf("gtm.")},!0)}).reverse()},[])},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"cookie",{get:function(){var e=this;return l.get(function(){return e.parseCookies()},{})},enumerable:!1,configurable:!0}),r.prototype.parseCookies=function(){return this.document.cookie.split(";").reduce(function(e,t){var r=a(t.trim().split("=").map(decodeURIComponent),2),n=r[0],i=r[1];return e[n]=i,e},{})},(0,t.default)(r.prototype,"language",{get:function(){return{browser:this.window.navigator.language,html:this.document.documentElement.getAttribute("lang")||this.document.documentElement.getAttribute("xml:lang")||""}},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"location",{get:function(){var e={href:this.window.location.href,host:this.window.location.host},t=m.queryObject(this.window.location.search,!1);return u(u({},e),{context:t})},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"labels",{get:function(){return s(this.titles,this.metaLabels).filter(function(e){return e.identifier&&e.identifier.length>2&&e.identifier.length<93})},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"titles",{get:function(){return this.document.title.split(/[|\-:]/).reverse().map(function(e,t){return d.identifierSource("title",t,e)})},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"meta",{get:function(){return l.Arrays.from(this.document.getElementsByTagName("meta")).reduce(function(e,t){var r=t.getAttribute("name")||t.getAttribute("property")||t.getAttribute("http-equiv"),n=t.getAttribute("content");return r?e[r]=n:(e.unknown=e.unknown||[],e.unknown.push(l.Arrays.from(t.attributes).map(function(e){return[e.name,e.value]}))),e},{})},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"metaLabels",{get:function(){var t=["site-id","og:title","og:site_name","twitter:title"],r=this.meta;return(0,e.default)(r).filter(function(e){return-1!=t.indexOf(e)}).map(function(e,t){return d.identifierSource("meta."+e,t,r[e])})},enumerable:!1,configurable:!0}),(0,t.default)(r.prototype,"structuredData",{get:function(){return f.AllStructuredDataProcessor.processDocument(this.document).filter(function(e){return-1!==d.supportedStructuredDataTypes.indexOf(e["@type"])})},enumerable:!1,configurable:!0}),r}();exports.DataExtractor=p;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./onboard":"ueYp","./functional":"1gnz","./IdentifierSources":"xrvq","../platform/structured-data/StructuredData":"jdNp","./QueryParams":"4EzD"}],"Rlni":[function(require,module,exports) {
"use strict";var e=n(require("@babel/runtime-corejs2/core-js/object/define-property")),r=n(require("@babel/runtime-corejs2/core-js/symbol/iterator")),t=n(require("@babel/runtime-corejs2/core-js/symbol")),i=n(require("@babel/runtime-corejs2/core-js/object/assign"));function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){return(o=i.default||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},u=function(e,i){var n="function"==typeof t.default&&e[r.default];if(!n)return e;var o,u,s=n.call(e),a=[];try{for(;(void 0===i||i-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(u)throw u.error}}return a},s=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(u(arguments[r]));return e};(0,e.default)(exports,"__esModule",{value:!0}),exports.HotelIdentifiersScraper=void 0;var a=require("../functional"),f=require("../identifierSources/documentIdentifierSources"),c=require("../DataExtractor"),d=function(){function e(e,r){this.window=e,this.provider=r}return e.prototype.scrapeIdentifiers=function(){var e=this.provider.scrapeIdentifiers(),r=this.hasApiKeyOrIdentifier(e)?e.identifiers:this.identifierSources().map(function(e){return{identifier:e.identifier,type:e.type}});return a.Objects.removeEmpty(o(o({},e),{identifiers:r}))},e.prototype.hasApiKeyOrIdentifier=function(e){return!!e.apiKey||!!e.identifiers&&e.identifiers.length>0},e.prototype.identifierSources=function(){var e=new c.DataExtractor(this.window).identifierSources();if(a.Arrays.find(e,function(e){return"Trusted"===e.type}))return e;var r=f.getDocumentIdentifierSources(this.window);return s(e,r)},e}();exports.HotelIdentifiersScraper=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","../functional":"1gnz","../identifierSources/documentIdentifierSources":"DyHB","../DataExtractor":"l2wx"}],"ndaq":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property")),r=t(require("@babel/runtime-corejs2/core-js/object/assign"));function t(e){return e&&e.__esModule?e:{default:e}}var i=function(){return(i=r.default||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};(0,e.default)(exports,"__esModule",{value:!0}),exports.CompositeScraper=void 0;var n=require("../functional"),o=require("../Strings"),u=function(){function e(e){this.providers=e}return e.prototype.scrapeIdentifiers=function(){var e=this;return this.providers.reduce(function(r,t){return i(i({},r),e.clean(t.scrapeIdentifiers()))},{})},e.prototype.clean=function(e){var r=n.Objects.removeEmpty(e);return r.identifiers&&(r.identifiers=r.identifiers.map(function(e){return{identifier:e.identifier.trim(),type:e.type}}).filter(function(e){return!o.Strings.isEmpty(e.identifier)})),r},e}();exports.CompositeScraper=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","../functional":"1gnz","../Strings":"ap3z"}],"VOF2":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}(0,e.default)(exports,"__esModule",{value:!0}),exports.getClientKey=exports.getIntegrationId=exports.scrapeAllIdentifiers=void 0;var t=require("./ScriptScraper"),i=require("./LegacyScraper"),n=require("./HotelIdentifiersScraper"),o=require("./CompositeScraper"),c=require("./IdentifierScrapers");function a(e,r){void 0===r&&(r={});var a=[new t.ScriptScraper(e),new i.LegacyScraper(e),c.constantScraper(r)];return new n.HotelIdentifiersScraper(e,new o.CompositeScraper(a)).scrapeIdentifiers()}function p(e){return a(e).integrationId}function s(e){return a(e).clientKey}exports.scrapeAllIdentifiers=a,exports.getIntegrationId=p,exports.getClientKey=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./ScriptScraper":"8nnK","./LegacyScraper":"aLkH","./HotelIdentifiersScraper":"Rlni","./CompositeScraper":"ndaq","./IdentifierScrapers":"bfIM"}],"SKjJ":[function(require,module,exports) {
"use strict";var t=require("./_collection-strong"),e=require("./_validate-collection"),r="Map";module.exports=require("./_collection")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(n){var i=t.getEntry(e(this,r),n);return i&&i.v},set:function(n,i){return t.def(e(this,r),0===n?0:n,i)}},t,!0);
},{"./_collection-strong":"AePr","./_validate-collection":"7Liz","./_collection":"cYD/"}],"2SH0":[function(require,module,exports) {
var e=require("./_export");e(e.P+e.R,"Map",{toJSON:require("./_collection-to-json")("Map")});
},{"./_export":"vSO4","./_collection-to-json":"x6MZ"}],"oRPk":[function(require,module,exports) {
require("./_set-collection-of")("Map");
},{"./_set-collection-of":"32ty"}],"VEMT":[function(require,module,exports) {
require("./_set-collection-from")("Map");
},{"./_set-collection-from":"IC7E"}],"K+F3":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.map"),require("../modules/es7.map.to-json"),require("../modules/es7.map.of"),require("../modules/es7.map.from"),module.exports=require("../modules/_core").Map;
},{"../modules/es6.object.to-string":"tuDi","../modules/es6.string.iterator":"i+u+","../modules/web.dom.iterable":"COf8","../modules/es6.map":"SKjJ","../modules/es7.map.to-json":"2SH0","../modules/es7.map.of":"oRPk","../modules/es7.map.from":"VEMT","../modules/_core":"zKeE"}],"y6NN":[function(require,module,exports) {
module.exports=require("core-js/library/fn/map");
},{"core-js/library/fn/map":"K+F3"}],"zqdE":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime-corejs2/core-js/map")),t=u(require("@babel/runtime-corejs2/core-js/json/stringify")),r=u(require("@babel/runtime-corejs2/helpers/typeof")),o=u(require("@babel/runtime-corejs2/core-js/array/is-array")),n=u(require("@babel/runtime-corejs2/core-js/object/define-property")),a=u(require("@babel/runtime-corejs2/core-js/symbol/iterator")),i=u(require("@babel/runtime-corejs2/core-js/symbol"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var r="function"==typeof i.default&&e[a.default];if(!r)return e;var o,n,u=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=u.next()).done;)s.push(o.value)}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},c=function(e){var t="function"==typeof i.default&&a.default,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(0,n.default)(exports,"__esModule",{value:!0}),exports.CompositeTypedStorage=exports.InMemoryTypedStorage=exports.JsonStorage=exports.parseJSONWithDates=exports.convertDates=void 0;var f=require("./functional"),l=new Date(0).toJSON().length;function p(e){if(!e)return e;if((0,o.default)(e))return e.map(p);switch((0,r.default)(e)){case"object":return f.Objects.entries(e).reduce(function(e,t){var r=s(t,2),o=r[0],n=r[1];return e[o]=p(n),e},{});case"string":if(e.length===l){var t=new Date(e);if(!isNaN(t.valueOf()))return t}}return e}function y(e){return p(JSON.parse(e))}exports.convertDates=p,exports.parseJSONWithDates=y;var d=function(){function e(e){this.storage=e}return e.prototype.get=function(e){var t=this.storage.getItem(e);if(t)return y(t)},e.prototype.set=function(e,r){return this.storage.setItem(e,(0,t.default)(r)),this},e.prototype.clear=function(){this.storage.clear()},e}();exports.JsonStorage=d;var h=function(){function t(){this.data=new e.default}return t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,t){return this.data.set(e,t)},t.prototype.clear=function(){this.data.clear()},t}();exports.InMemoryTypedStorage=h;var v=function(){function e(e){this.stores=e}return e.prototype.clear=function(){this.stores.forEach(function(e){return e.clear()})},e.prototype.get=function(e){var t,r;try{for(var o=c(this.stores),n=o.next();!n.done;n=o.next()){var a=n.value;try{var i=a.get(e);if(i)return i}catch(u){}}}catch(s){t={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},e.prototype.set=function(e,t){return this.stores.forEach(function(r){return r.set(e,t)}),this},e}();exports.CompositeTypedStorage=v;
},{"@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","./functional":"1gnz"}],"kj6x":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){return!!r&&(!e||Number(e)>Number(r))}(0,e.default)(exports,"__esModule",{value:!0}),exports.isBasePriceValid=void 0,exports.isBasePriceValid=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"i6I7":[function(require,module,exports) {
"use strict";var e=u(require("@babel/runtime-corejs2/core-js/object/keys")),t=u(require("@babel/runtime-corejs2/core-js/object/define-property")),r=u(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=u(require("@babel/runtime-corejs2/core-js/symbol")),o=u(require("@babel/runtime-corejs2/core-js/promise"));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r,n){return new(r||(r=o.default))(function(o,u){function a(e){try{c(n.next(e))}catch(t){u(t)}}function s(e){try{c(n.throw(e))}catch(t){u(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},s=function(e,t){var o,u,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof n.default&&(s[r.default]=function(){return this}),s;function i(r){return function(n){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,u&&(a=2&r[0]?u.return:r[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,r[1])).done)return a;switch(u=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,u=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){c.label=r[1];break}if(6===r[0]&&c.label<a[1]){c.label=a[1],a=r;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(r);break}a[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(n){r=[6,n],u=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,n])}}};function c(t){return a(this,void 0,o.default,function(){var r,n,u;return s(this,function(a){switch(a.label){case 0:return"undefined"==typeof fetch?[3,3]:[4,fetch(t.url,{method:t.method,headers:t.headers,body:t.body})];case 1:return r=a.sent(),u={status:r.status},[4,r.text()];case 2:return[2,(u.body=a.sent(),u)];case 3:if("undefined"!=typeof XMLHttpRequest)return(n=new XMLHttpRequest).open(t.method,t.url,!0),t.headers&&(0,e.default)(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),n.send(t.body),[2,new o.default(function(e,t){n.addEventListener("load",function(t){e({status:n.status,body:n.responseText})}),n.addEventListener("error",function(e){t(e)})})];throw new Error("No fetch or XMLHttpRequest available for http call")}})})}(0,t.default)(exports,"__esModule",{value:!0}),exports.http=void 0,exports.http=c;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf"}],"glw7":[function(require,module,exports) {
"use strict";var e=a(require("@babel/runtime-corejs2/core-js/object/keys")),t=a(require("@babel/runtime-corejs2/core-js/object/define-property")),r=a(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=a(require("@babel/runtime-corejs2/core-js/symbol")),o=a(require("@babel/runtime-corejs2/core-js/promise"));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,r,n){return new(r||(r=o.default))(function(o,a){function i(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof n.default&&(s[r.default]=function(){return this}),s;function c(r){return function(n){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(n){r=[6,n],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,n])}}};(0,t.default)(exports,"__esModule",{value:!0}),exports.MessageWaiter=exports.ApplicationStarter=exports.WorkerFactory=void 0;var u=require("./Logger"),c=require("./miniHttp"),l=function(){function e(e){this.logger=e,this.workers={}}return e.prototype.createWorker=function(e,t){return i(this,void 0,o.default,function(){var r,n,o;return s(this,function(a){switch(a.label){case 0:return(r=this.workers[e])?[2,r]:(n=this.workers,o=e,[4,this.create(t,{name:e})]);case 1:return[2,n[o]=a.sent()]}})})},e.prototype.create=function(e,t){return i(this,void 0,void 0,function(){var r,n,o,a,i;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,1,,3]),[2,new Worker(e,t)];case 1:return r=s.sent(),this.logger.debug("Failed to create Worker switching to Blob Worker because:",r.message),n='location.originalHref = "'+e+'";\n',[4,c.http({method:"GET",url:e})];case 2:return o=s.sent(),a=o.body,i=new Blob([n,a],{type:"application/javascript"}),[2,new Worker(URL.createObjectURL(i),t)];case 3:return[2]}})})},e}();exports.WorkerFactory=l;var p=function(){function t(e,t,r,n){void 0===t&&(t=u.namedLogger("application-starter")),void 0===r&&(r=new l(t)),void 0===n&&(n=new d(e,t)),this.window=e,this.logging=t,this.workerFactory=r,this.waiter=n}return t.prototype.start=function(r){return i(this,void 0,o.default,function(){var n,o,a,i,u;return s(this,function(s){switch(s.label){case 0:return this.logging.debug('ApplicationStarter starting app "'+r.name+'" ('+r.type+"), "+r.url),n=this.window.document,"worker"!==r.type?[3,4]:[4,this.workerFactory.createWorker(r.name,r.url)];case 1:return o=s.sent(),r.startMessage?[4,this.waiter.waitForMessage(r.startMessage,o)]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2,o];case 4:return(a=n.querySelector(r.type+'[name="'+r.name+'"]'))?(this.logging.debug('ApplicationStarter app "'+r.name+'" previously started returning that'),[2,a]):((i=n.createElement(r.type)).setAttribute("name",r.name),i.src=r.url,u=t.DefaultOptions[r.type],(0,e.default)(u).forEach(function(e){i.setAttribute(e.toLowerCase(),u[e])}),this.addElement(i),r.startMessage?[4,this.waiter.waitForMessage(r.startMessage)]:[3,6]);case 5:return s.sent(),[3,8];case 6:return"script"!==r.type?[3,8]:[4,this.waiter.waitForLoadEvent(i)];case 7:s.sent(),s.label=8;case 8:return[2,i]}})})},t.prototype.addElement=function(e){(this.window.document.body||this.window.document.documentElement).appendChild(e)},t.DefaultOptions={script:{defer:"",async:"",crossOrigin:"anonymous"},iframe:{style:"display: none;",sandbox:"allow-scripts allow-same-origin"}},t}();exports.ApplicationStarter=p;var d=function(){function e(e,t){this.window=e,this.logging=t}return e.prototype.waitForLoadEvent=function(e){return this.logging.debug("MessageWaiter waiting for load/error event for",e),new o.default(function(t,r){e.addEventListener("load",t),e.addEventListener("error",r)})},e.prototype.waitForMessage=function(e,t){var r=this;return void 0===t&&(t=this.window),this.logging.debug("MessageWaiter waiting for message",e),new o.default(function(n){t.addEventListener("message",function o(a){try{var i=a.data&&a.data.type;r.logging.debug('ApplicationStarter message received "'+i+'", expecting "'+e+'"'),i===e&&(t.removeEventListener("message",o),n(a.data))}catch(s){r.logging.debug("ApplicationStarter error in parsing message",s,a)}})})},e}();exports.MessageWaiter=d;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./Logger":"zXYq","./miniHttp":"i6I7"}],"fCfp":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/object/define-property")),t=o(require("@babel/runtime-corejs2/core-js/symbol/iterator")),r=o(require("@babel/runtime-corejs2/core-js/symbol")),n=o(require("@babel/runtime-corejs2/core-js/promise"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,r,o){return new(r||(r=n.default))(function(n,i){function a(e){try{l(o.next(e))}catch(t){i(t)}}function u(e){try{l(o.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,u)}l((o=o.apply(e,t||[])).next())})},a=function(e,n){var o,i,a,u,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof r.default&&(u[t.default]=function(){return this}),u;function c(t){return function(r){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){l.label=t[1];break}if(6===t[0]&&l.label<a[1]){l.label=a[1],a=t;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(t);break}a[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(e,l)}catch(r){t=[6,r],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,r])}}},u=function(e,n){var o="function"==typeof r.default&&e[t.default];if(!o)return e;var i,a,u=o.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(i=u.next()).done;)l.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return l};(0,e.default)(exports,"__esModule",{value:!0}),exports.ApplicationLoader=void 0;var l=require("./Logger"),c=require("./ApplicationStarter"),s=require("./functional"),p=require("./scrapers/ScriptFinder"),f=require("./QueryParams"),d=function(){function e(e,t,r,n){void 0===r&&(r=l.namedLogger("integration-executor")),void 0===n&&(n=new c.ApplicationStarter(e,r)),this.window=e,this.kernel=t,this.logger=r,this.starter=n}return e.prototype.loadApplications=function(e){return i(this,void 0,n.default,function(){var t,r,o,i,c,d,h,y,b,g,v=this;return a(this,function(a){switch(a.label){case 0:return t=u(l.globalParameter(this.window,"triptease-applications"),1),r=t[0],o=void 0===r?"auto":r,"none"===(i=s.get(function(){var e=u(p.ScriptsFinder.find(v.window.document),1)[0];return f.queryObject(e.query).applications},o).toLowerCase())?(this.logger.log('applications set to "none", skipping loading'),[2,[]]):(c=e.integrationId,d=e.clientKey,h=e.apiKey,y=e.type,[4,this.kernel.applicationConfig({integrationId:c,clientKey:d,apiKey:h,bookingEngine:s.get(function(){return v.window.triptease.onboard.bookingEngine}),pageType:y})]);case 1:return b=a.sent().applications,g="auto"===i?b:b.filter(function(e){return e.name.toLowerCase()===i}),this.logger.log("load applications",g),[2,n.default.all(g.map(function(e){return v.starter.start(e)}))]}})})},e}();exports.ApplicationLoader=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./Logger":"zXYq","./ApplicationStarter":"glw7","./functional":"1gnz","./scrapers/ScriptFinder":"HHZq","./QueryParams":"4EzD"}],"WPek":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/array/is-array")),r=t(require("@babel/runtime-corejs2/helpers/typeof")),o=t(require("@babel/runtime-corejs2/core-js/object/define-property"));function t(e){return e&&e.__esModule?e:{default:e}}(0,o.default)(exports,"__esModule",{value:!0}),exports.errorResponse=exports.missingHandler=exports.voidResponse=exports.responseFor=exports.requestHandler=exports.isOnboardResponse=exports.isOnboardRequest=void 0;var s=require("../onboard");function n(o){return o&&"object"===(0,r.default)(o)&&"triptease.onboard.request"===o.type&&"string"==typeof o.requestType&&"string"==typeof o.correlationId&&(0,e.default)(o.payload)}function a(e){return e&&"object"===(0,r.default)(e)&&"triptease.onboard.response"===e.type&&"string"==typeof e.correlationId}function i(e){return{handle:e}}function p(e,r){return{type:"triptease.onboard.response",correlationId:e,payload:r}}function u(){return p("fire-and-forget",void 0)}function d(e,r){return p(e,s.errorLike("MissingHandler","No handler for "+r))}function l(e,r){return p(e,s.errorLike(r.name,r.message,r.stack))}exports.isOnboardRequest=n,exports.isOnboardResponse=a,exports.requestHandler=i,exports.responseFor=p,exports.voidResponse=u,exports.missingHandler=d,exports.errorResponse=l;
},{"@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","../onboard":"ueYp"}],"j+eO":[function(require,module,exports) {
"use strict";var e=i(require("@babel/runtime-corejs2/core-js/map")),r=i(require("@babel/runtime-corejs2/core-js/object/define-property")),t=i(require("@babel/runtime-corejs2/core-js/symbol/iterator")),n=i(require("@babel/runtime-corejs2/core-js/symbol")),o=i(require("@babel/runtime-corejs2/core-js/promise"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e,r,t,n){return new(t||(t=o.default))(function(o,i){function u(e){try{a(n.next(e))}catch(r){i(r)}}function s(e){try{a(n.throw(e))}catch(r){i(r)}}function a(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(u,s)}a((n=n.apply(e,r||[])).next())})},s=function(e,r){var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof n.default&&(s[t.default]=function(){return this}),s;function l(t){return function(n){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=2&t[0]?i.return:t[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,t[1])).done)return u;switch(i=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(u=(u=a.trys).length>0&&u[u.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){a.label=t[1];break}if(6===t[0]&&a.label<u[1]){a.label=u[1],u=t;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(t);break}u[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(e,a)}catch(n){t=[6,n],i=0}finally{o=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}};(0,r.default)(exports,"__esModule",{value:!0}),exports.Sender=void 0;var a=require("./shared"),l=require("../Logger"),c=l.namedLogger("messaging"),f=function(){function r(r){var t=this;this.messageHandler=r,this.promises=new e.default,r&&r.addListener(function(e){if(a.isOnboardResponse(e)){var r=e.correlationId,n=t.promises.get(r);n&&(c.debug("Sender matched response",e),n.resolve(e),t.promises.delete(r))}})}return r.prototype.handle=function(e){return u(this,void 0,o.default,function(){var r=this;return s(this,function(t){return c.debug("Sending request",e),this.messageHandler&&this.messageHandler.send(e),[2,new o.default(function(t,n){r.promises.set(e.correlationId,{resolve:t,reject:n})})]})})},r}();exports.Sender=f;
},{"@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","./shared":"WPek","../Logger":"zXYq"}],"Q9Gd":[function(require,module,exports) {
"use strict";var e=s(require("@babel/runtime-corejs2/core-js/object/keys")),r=s(require("@babel/runtime-corejs2/helpers/typeof")),t=s(require("@babel/runtime-corejs2/core-js/object/define-property")),n=s(require("@babel/runtime-corejs2/core-js/symbol/iterator")),i=s(require("@babel/runtime-corejs2/core-js/symbol")),o=s(require("@babel/runtime-corejs2/core-js/promise")),a=s(require("@babel/runtime-corejs2/core-js/object/assign"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){return(c=a.default||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},u=function(e,r,t,n){return new(t||(t=o.default))(function(i,o){function a(e){try{c(n.next(e))}catch(r){o(r)}}function s(e){try{c(n.throw(e))}catch(r){o(r)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,s)}c((n=n.apply(e,r||[])).next())})},l=function(e,r){var t,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof i.default&&(s[n.default]=function(){return this}),s;function u(n){return function(i){return function(n){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=r.call(e,c)}catch(i){n=[6,i],o=0}finally{t=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}},p=function(e,r){var t="function"==typeof i.default&&e[n.default];if(!t)return e;var o,a,s=t.call(e),c=[];try{for(;(void 0===r||r-- >0)&&!(o=s.next()).done;)c.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(a)throw a.error}}return c};(0,t.default)(exports,"__esModule",{value:!0}),exports.calculateReservations=exports.basePrice=exports.calculateReservationStatus=exports.limit=exports.convertLegacyConfirmationData=exports.validRates=exports.searchParameters=exports.convertLegacyRoomsAndRatesData=exports.caseWord=exports.camelCase=exports.storeIntegrationConfig=exports.IntegrationConfig=exports.validDate=exports.isDate=void 0;var d=require("./functional"),f=require("./onboard"),g=require("./MessageBuilder"),v=require("./Proxies"),h=require("./Logger"),m=require("./GlobalObjects"),y=require("./scrapers/IdentifierScrapers"),b=require("./scrapers/scrapeAllIdentiers"),x=require("./ScriptVersion"),w=require("./TypedStorage"),k=require("./isBasePriceValid"),j=require("./ApplicationLoader"),P=require("./Json"),D=require("./messaging/Adapter");function R(e){return!(!e||"object"!==(0,r.default)(e))&&(e.constructor===Date&&!isNaN(e.getTime()))}function q(e){var r=new Date(e);return R(r)?r:void 0}exports.isDate=R,exports.validDate=q;var C=function(){function r(e,r,t,n,i,o){void 0===r&&(r=["userAgent"]),void 0===t&&(t=h.namedLogger("integration-executor")),void 0===n&&(n=new g.BrowserMessageBuilder(e)),void 0===i&&(i=new v.KernelProxy(new D.Sender(f.kernelHandler(e)))),void 0===o&&(o=new j.ApplicationLoader(e,i)),this.window=e,this.excludeKeys=r,this.logger=t,this.messageBuilder=n,this.kernel=i,this.loader=o}return r.prototype.store=function(e,r){return u(this,void 0,o.default,function(){var t,n,i,o,a,s,u,p,f;return l(this,function(l){switch(l.label){case 0:return t=this.formatToCamelCase(this.filter(e)),this.logger.log("integration pageData",t),[4,this.addIdentificationData(t)];case 1:return n=l.sent(),i=n.integrationId,o=n.clientKey,a=n.clientName,s=n.apiKey,delete(u=d.Objects.removeEmpty(c({integrationId:i,clientKey:o,clientName:a,apiKey:s},O(t)))).identifiers,(p=E()).unshift(u),B.set(N,G(p,10)),m.globalObjects(this.window).triptease.config=u,[4,this.loader.loadApplications(u)];case 2:return l.sent(),f=this.sendToKernelHost,[4,this.messageBuilder.buildMessage({type:"triptease.config",payload:u,context:{app:{name:r,version:x.ScriptVersion.get()}}})];case 3:return f.apply(this,[l.sent()]),[2,u]}})})},r.prototype.addIdentificationData=function(e){return u(this,void 0,void 0,function(){var r,t,n;return l(this,function(i){switch(i.label){case 0:return r=y.processPageData(e),this.logger.log("integration scraped overrides",r),t=b.scrapeAllIdentifiers(this.window,r),this.logger.log("allIdentifiers",t),"none"===t.apiKey?(this.logger.log('Skipping identification as apiKey is set to "none" - Only interested in page data for ARI feed'),[2,e]):[4,this.kernel.generateConfig(t)];case 1:return n=i.sent(),this.logger.log("generatedConfig",n),[2,n]}})})},r.prototype.sendToKernelHost=function(e){this.logger.log("Sending triptease.config message to local kernel host",e);var r=f.kernelHandler(this.window);r&&r.send(e)},r.prototype.filter=function(r){var t=this;return(0,e.default)(r).filter(function(e){return-1===t.excludeKeys.indexOf(e)}).reduce(function(e,t){return e[t]=r[t],e},{})},r.prototype.formatToCamelCase=function(r){return(0,e.default)(r).reduce(function(e,t){return e[A(t)]=r[t],e},{})},r}();function S(e,r){return new C(window).store(e,r)}function A(e){var r=p(e.split("-"));return r[0]+r.slice(1).map(function(e){return I(e)}).join("")}function I(e){return e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()}function O(e){return"RoomsAndRates"===e.type?T(e):"Confirmation"===e.type?F(e):e}function K(e){return e.rateDetails?e.rateDetails:e.directPrice||e.currency?[d.Objects.removeEmpty({price:Number(e.directPrice),currency:e.currency,rateName:e.roomRate,roomName:e.roomType||e.roomName})]:[]}function T(e){var r=d.Objects.removeEmpty(c(c({},e),{rateDetails:K(e),checkin:q(e.checkin),checkout:q(e.checkout)}));return r.ratesModified=M(r),delete r.directPrice,delete r.directCugPrice,delete r.currency,delete r.roomRate,delete r.roomType,r}function M(e){var r=e.ratesModified,t=e.promoCodes;return r||(V(e)?"untrusted":H(e)?"roomOrRateFiltered":t&&t.length>0?"discountCode":"none")}exports.IntegrationConfig=C,exports.storeIntegrationConfig=S,exports.camelCase=A,exports.caseWord=I,exports.convertLegacyRoomsAndRatesData=T;var N="triptease.integration.previous-pages",L=new w.InMemoryTypedStorage,B=new w.CompositeTypedStorage([new w.JsonStorage(window.sessionStorage),L]);function E(){return B.get(N)||[{type:"Unknown"}]}function V(e){var r=p(E(),1)[0];return"RoomsAndRates"===r.type&&(d.same(_(e),_(r))?void 0:d.sameIgnoringCase(e.rateDetails,r.rateDetails))}function H(e){var r=p(E(),1)[0];if("RoomsAndRates"!==r.type)return!1;if(!d.same(_(e),_(r)))return!1;var t=r.rateDetails,n=r.ratesModified;if("roomOrRateFiltered"===n)return!0;if("untrusted"===n)return!1;var i=e.rateDetails;return!(0===J(r).length&&i&&i.length>0)&&!P.JsonValues.isSuperset(t,i)}function _(e){return{hotelKey:e.hotelKey,checkin:e.checkin,checkout:e.checkout,rooms:e.rooms,adults:e.adults,children:e.children}}function J(e){return e.rateDetails?e.rateDetails.filter(function(e){return e.price>0}):[]}function F(e){var r=c(c({},e),{price:Number(e.price),basePrice:k.isBasePriceValid(e.price,e.basePrice)?Number(e.basePrice):void 0,checkin:q(e.checkin),checkout:q(e.checkout),reservationStatus:U(e)});r.reservations=z(r);var t=r.reference,n=r.price,i=r.currency,o=r.basePrice,a=r.reservationStatus;if(r.reservations=[d.Objects.removeEmpty({reference:t,price:n,currency:i,basePrice:o,reservationStatus:a})],!e.checkin||!e.checkout){var s=d.Arrays.find(E(),function(e){return"RoomsAndRates"===e.type});s&&(r.checkin=s.checkin,r.checkout=s.checkout)}return d.Objects.removeEmpty(r)}function G(e,r){return e.slice(Math.max(0,e.length-r))}function U(e){var r=e.reservationStatus,t=e.reservations;if(r)return r;if(!t)return"confirmed";var n=d.Arrays.unique(t.map(function(e){return e.reservationStatus}));return 1===n.length?n[0]:"modified"}function W(e,r){return k.isBasePriceValid(e,r)?r:void 0}function z(e){if(!e.reservations){var r=e.reference,t=e.price,n=e.currency,i=e.basePrice,o=e.reservationStatus;return[d.Objects.removeEmpty({reference:r,price:t,currency:n,basePrice:i,reservationStatus:o})]}return e.reservations.map(function(e){return d.Objects.removeEmpty(c(c({},e),{basePrice:W(e.price,e.basePrice)}))})}exports.searchParameters=_,exports.validRates=J,exports.convertLegacyConfirmationData=F,exports.limit=G,exports.calculateReservationStatus=U,exports.basePrice=W,exports.calculateReservations=z;
},{"@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./functional":"1gnz","./onboard":"ueYp","./MessageBuilder":"hszo","./Proxies":"vRT7","./Logger":"zXYq","./GlobalObjects":"lIt4","./scrapers/IdentifierScrapers":"bfIM","./scrapers/scrapeAllIdentiers":"VOF2","./ScriptVersion":"+5Yy","./TypedStorage":"zqdE","./isBasePriceValid":"kj6x","./ApplicationLoader":"fCfp","./Json":"xTNs","./messaging/Adapter":"j+eO"}],"zbkV":[function(require,module,exports) {
"use strict";var e=o(require("@babel/runtime-corejs2/core-js/parse-int")),t=o(require("@babel/runtime-corejs2/core-js/array/is-array")),r=o(require("@babel/runtime-corejs2/core-js/object/define-property"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return e&&e.__esModule?e:{default:e}};(0,r.default)(exports,"__esModule",{value:!0});var a=require("./argumentConstructor"),n=i(require("./validator")),c=require("./tools"),u=require("./getVariables"),l=require("./Strings"),s=require("./IntegrationConfig"),g=require("./trackingEvents"),d=require("./functional");function f(r){var o,i,f=d.get(function(){return a.safeExecute(r.getDirectPrice)});(0,t.default)(f)&&(i="number"==typeof(o=c.chooseLowestPrice(f))?o:o.price);var p="number"==typeof o?{price:o,currency:void 0,rateName:void 0}:o;r.getHotelKey||(u.getGlobalApiKey()?r.getHotelKey=u.getGlobalApiKey():r.getHotelKey=u.getApiKey(a.safeExecute(r.getHotelId)));var m=l.Strings.noWhitespace(a.safeExecute(r.getHotelKey)),v=a.construct({hotelKey:m,clientKey:r.clientKey,property:r.getProperty,language:r.getLanguage,adults:r.getAdults,children:r.getChildren||0,checkin:r.getCheckin,checkout:r.getCheckout,"rate-details":r.getRateDetails,"direct-price":i||r.getDirectPrice,currency:r.getCurrency||p&&p.currency,"room-rate":r.getRateName||p&&p.rateName,"room-type":r.getRoomName,"direct-cug-price":r.getDirectCugPrice,total:r.total,"excluded-rates":r.getExcludedRates,"allowed-rates":r.getAllowedRates,"rates-modified":r.ratesModified,"promo-codes":r.getPromoCodes,"allowed-promo-codes":r.getAllowedPromoCodes,rooms:r.getRooms||1,userAgent:navigator.userAgent,"logged-in":r.getLoggedIn,ignore:r.getIgnore,layout:r.layout,type:r.type||"RoomsAndRates","price-check-test":r.priceCheckTest,identifiers:r.identifiers});v["excluded-rates"]=v["excluded-rates"]||y(window.tt_excludeRates)||[],v["allowed-rates"]=v["allowed-rates"]||y(window.document.ttAllowRateCodes)||[];var w=r.integrationName;if(s.storeIntegrationConfig(v,w),1!==(0,e.default)(v.rooms)&&(v.ignore=!0),!v.ignore){var b=new g.TrackingEvents(w);new n.default(w,b).validate(v),"function"==typeof r.afterAll&&r.afterAll()}return v}function y(e){if(e)return"string"==typeof e?[e]:e}exports.default=f;
},{"@babel/runtime-corejs2/core-js/parse-int":"6TiY","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./argumentConstructor":"avI9","./validator":"u7uj","./tools":"Sprw","./getVariables":"67C9","./Strings":"ap3z","./IntegrationConfig":"Q9Gd","./trackingEvents":"Im0n","./functional":"1gnz"}],"ilxp":[function(require,module,exports) {
"use strict";var e=t(require("@babel/runtime-corejs2/core-js/object/define-property")),r=t(require("@babel/runtime-corejs2/core-js/object/assign"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(){return(n=r.default||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};(0,e.default)(exports,"__esModule",{value:!0});var o=require("./IntegrationConfig");function i(e){o.storeIntegrationConfig(n(n({},e),{type:"Confirmation"}),e.integrationName)}exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./IntegrationConfig":"Q9Gd"}],"aIww":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime-corejs2/helpers/typeof")),t=r(require("@babel/runtime-corejs2/core-js/object/define-property"));function r(e){return e&&e.__esModule?e:{default:e}}function o(t){return!!t&&!!("object"===(0,e.default)(t)&&t.getCurrency&&t.getDirectPrice&&t.getCheckin&&t.getCheckout&&t.getAdults)}function a(t){return!!t&&("object"===(0,e.default)(t)&&void 0!==t.pageType&&"Payment"===t.pageType)}(0,t.default)(exports,"__esModule",{value:!0}),exports.isPaymentPage=exports.isRoomsAndRatesPageData=void 0,exports.isRoomsAndRatesPageData=o,exports.isPaymentPage=a;
},{"@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq"}],"XGZ4":[function(require,module,exports) {
"use strict";var e=l(require("@babel/runtime-corejs2/core-js/json/stringify")),t=l(require("@babel/runtime-corejs2/core-js/object/keys")),r=l(require("@babel/runtime-corejs2/core-js/array/is-array")),n=l(require("@babel/runtime-corejs2/helpers/typeof")),o=l(require("@babel/runtime-corejs2/core-js/object/define-property")),i=l(require("@babel/runtime-corejs2/core-js/symbol/iterator")),a=l(require("@babel/runtime-corejs2/core-js/symbol")),s=l(require("@babel/runtime-corejs2/core-js/promise")),u=l(require("@babel/runtime-corejs2/core-js/object/assign"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){return(c=u.default||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=s.default))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},g=function(e,t){var r,n,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof a.default&&(s[i.default]=function(){return this}),s;function l(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},d=function(e){var t="function"==typeof a.default&&i.default,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e,t){var r="function"==typeof a.default&&e[i.default];if(!r)return e;var n,o,s=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)u.push(n.value)}catch(l){o={error:l}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return u},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},y=function(e){return e&&e.__esModule?e:{default:e}};(0,o.default)(exports,"__esModule",{value:!0}),exports.twoInARow=exports.ignoreChanges=exports.IntegrationContract=exports.isPromiseLike=void 0;var v=require("./Page"),b=require("../onboard"),w=require("../functional"),m=y(require("../integrationExecutor")),j=y(require("../doConversionThings")),x=require("./RoomsAndRatesPage"),q=require("./ConfirmationPage"),R=require("../ScriptVersion"),k=require("../Logger"),P=require("../IntegrationConfig");function C(e){return"object"==(0,n.default)(e)&&"then"in e}function A(e){return C(e)?e:s.default.resolve(e)}function D(e,t){return"hotelKey"in t?t.hotelKey:"getHotelKey"in t?t.getHotelKey:e?e.toString():void 0}function K(e){var t=e.type||e.pageType;return"Confirmation"!==t&&"RoomsAndRates"!==t||(e.type="Unknown",e.pageType="Unknown"),e}exports.isPromiseLike=C;var I=function(){function e(e,t,r,n,o){var i=this;void 0===n&&(n=b.defaultEvents()),void 0===o&&(o=k.namedLogger("integration-contract")),this.window=e,this.pages=t,this.keys=r,this.events=n,this.logger=o,this.integrate=function(){return f(i,void 0,void 0,function(){var e,t,r=this;return g(this,function(n){switch(n.label){case 0:return t=this.addAdditionalFields,[4,this.findPageData()];case 1:return e=t.apply(this,[n.sent()]),exports.ignoreChanges(exports.twoInARow("pageData",this,function(){r.logger.log("New page data detected",e),q.isConfirmationPageData(e)?j.default(e):x.isRoomsAndRatesPageData(e)?m.default(e):new P.IntegrationConfig(r.window).store(K(e),r.keys.integrationName)}))(e),[2]}})})}}return e.prototype.start=function(){this.events.listen(this.integrate),this.events.start()},e.prototype.findPageData=function(){return f(this,void 0,s.default,function(){var e,t,r,n,o,i,a,s,u,l,f;return g(this,function(g){switch(g.label){case 0:g.trys.push([0,7,8,9]),e=d(this.pages),t=e.next(),g.label=1;case 1:if(t.done)return[3,6];r=t.value,g.label=2;case 2:return g.trys.push([2,4,,5]),[4,A(r.integrationData())];case 3:return n=g.sent(),this.logger.log("integrationData",n),x.isPaymentPage(n)?[2,n]:(o=x.isRoomsAndRatesPageData(n),i=q.isConfirmationPageData(n),o||i?(this.logger.log("Matched page (page, data)",r,n),this.logger.log("isRoomsAndRatesPageData",o),this.logger.log("isConfirmationPageData",i),a=o?"RoomsAndRates":"Confirmation",[2,c(c({},n),{type:a})]):[3,5]);case 4:return s=g.sent(),this.logger.log(s.message),[3,5];case 5:return t=e.next(),[3,1];case 6:return[3,9];case 7:return u=g.sent(),l={error:u},[3,9];case 8:try{t&&!t.done&&(f=e.return)&&f.call(e)}finally{if(l)throw l.error}return[7];case 9:return[2,{type:"Unknown",pageType:"Unknown"}]}})})},e.prototype.addAdditionalFields=function(e){var t=this,r=D(this.keys.apiKey,e);return w.Objects.removeEmpty(c({getHotelKey:r,hotelKey:r,apiKey:r,clientKey:this.keys.clientKey,integrationName:w.get(function(){return t.keys.integrationName},"Unknown"),scriptVersion:R.ScriptVersion.get(),identifiers:this.keys.identifiers},e))},e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=p(t),o=n[0],i=n.slice(1),a=w.getOrCreate(window,"triptease");a.integration&&a.integration.stop&&a.integration.stop();var s=new e(window,i,"string"==typeof o?v.defaultKeys(o):o);return s.start(),a.integration={script:s},s},e}();function T(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(e){if((0,r.default)(e))return e.map(function(e){return T.apply(void 0,h([e],o))});if("object"===(0,n.default)(e)){var a=e;return(0,t.default)(a).reduce(function(e,t){return-1!=o.indexOf(t)?e:(e[t]=T.apply(void 0,h([a[t]],o)),e)},{})}return e}}exports.IntegrationContract=I,exports.ignoreChanges=function(e){return function(t){return e(T(t,"getCurrency","getRooms","currency","getLanguage"))}},exports.twoInARow=function(t,r,n,o,i){void 0===o&&(o=k.defaultLogger),void 0===i&&(i=b.defaultTimers);var a=r.state=r.state||{},s=a[t+"-counter"]=a[t+"-counter"]||0;return function(u){var l=a[t];a[t]=(0,e.default)(u),l===a[t]?++s<2?(o.log("twoInARow: Page been the same "+s+" times in a row - ignoring"),i.setTimeout(r.integrate,500)):2==s&&(o.log("twoInARow: Page been the same "+s+" times in a row: integrating with",u),n(u)):(o.log("twoInARow: "+t+" data has changed (old, new) - resetting counter",l,u),s=0,i.setTimeout(r.integrate,500)),a[t+"-counter"]=s}};
},{"@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/object/keys":"1d81","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/typeof":"h/VH","@babel/runtime-corejs2/core-js/object/define-property":"6eIq","@babel/runtime-corejs2/core-js/symbol/iterator":"573u","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"7eOf","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","./Page":"1VDa","../onboard":"ueYp","../functional":"1gnz","../integrationExecutor":"zbkV","../doConversionThings":"ilxp","./RoomsAndRatesPage":"aIww","./ConfirmationPage":"aIll","../ScriptVersion":"+5Yy","../Logger":"zXYq","../IntegrationConfig":"Q9Gd"}],"u73f":[function(require,module,exports) {
"use strict";var t=e(require("@babel/runtime-corejs2/core-js/object/define-property"));function e(t){return t&&t.__esModule?t:{default:t}}(0,t.default)(exports,"__esModule",{value:!0});var a=require("./hyatt/HyattRoomsAndRatesPage"),r=require("./hyatt/HyattConfirmationPage"),o=require("../utils/contract/IntegrationContract"),n=require("./hyatt/Hyatt");o.IntegrationContract.create(n.Hyatt.keys,new r.HyattConfirmationPage,new a.HyattRoomsAndRatesPage);
},{"@babel/runtime-corejs2/core-js/object/define-property":"6eIq","./hyatt/HyattRoomsAndRatesPage":"2bVH","./hyatt/HyattConfirmationPage":"i03j","../utils/contract/IntegrationContract":"XGZ4","./hyatt/Hyatt":"Rqna"}]},{},["u73f"], null)
//# sourceMappingURL=platform/hyatt.js.map