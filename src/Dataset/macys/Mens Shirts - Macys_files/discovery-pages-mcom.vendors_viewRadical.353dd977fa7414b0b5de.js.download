(window.discovery_pages_mcom_jsonp=window.discovery_pages_mcom_jsonp||[]).push([["vendors~viewRadical"],{"6f62294d":function(e,t,i){},"7f5470a0":function(e,t,i){},"8cd95de3":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=s(i("8fa5214a")),n=s(i("1be88a21")),a=s(i("ceef8e7e"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.ItemView.extend({tagName:"div",className:"redesign-header-radical-category-dropdown",template:a.default,showDropdownTimeout:null,hideDropdownTimeout:null,hideAnimationTimeout:null,mouseIsOverList:!1,mouseIsOverFlyout:!1,events:{"mouseover #shopByDepartmentDropdownLabel":"showDropdown","mouseleave #shopByDepartmentDropdownLabel":"hideDropdown","mouseover .redesign-header-fobs-container":"onMouseOverList","mouseleave .redesign-header-fobs-container":"onMouseLeaveList","mouseover #mainNavigationFlyouts > div":"onMouseOverFlyout","mouseleave #mainNavigationFlyouts > div":"onMouseLeaveFlyout","click #showByDepartmentCaret":"onScreenReaderButtonClick"},initialize:function(){this.hideDropdown=this.hideDropdown.bind(this),(0,o.default)("body").on("touchstart",this.hideDropdown)},destroy:function(){(0,o.default)("body").off("touchstart",this.hideDropdown)},showDropdown:function(){(0,o.default)("#globalSearchInputField").is(":focus")&&(0,o.default)("#globalSearchInputField").blur();var e=this;e._clearTimeouts(),this.showDropdownTimeout=setTimeout((function(){e._show(),e._applyAnimationClass("show")}),100)},hideDropdown:function(){var e=this;e._clearTimeouts(),this.hideDropdownTimeout=setTimeout((function(){e.mouseIsOverDropdownList||e.mouseIsOverFlyout||e.focusIsOnDropdownList||(e._applyAnimationClass("hide"),e._hide(!0))}),200)},onMouseOverList:function(){this.mouseIsOverList=!0,this._clearTimeouts()},onMouseLeaveList:function(){this.mouseIsOverList=!1,this.hideDropdown()},onMouseOverFlyout:function(){this.mouseIsOverFlyout=!0},onMouseLeaveFlyout:function(){this.mouseIsOverFlyout=!1,this.hideDropdown()},getListHeight:function(){return(0,o.default)("#mainNavigation").outerHeight()},onScreenReaderButtonClick:function(e){"true"===(0,o.default)(e.currentTarget).attr("aria-expanded")?(this.hideDropdown(),this._setAriaExpandedAttribute("false")):(this.showDropdown(),this._setAriaExpandedAttribute("true"))},_clearTimeouts:function(){clearTimeout(this.showDropdownTimeout),clearTimeout(this.hideDropdownTimeout),clearTimeout(this.hideAnimationTimeout)},_show:function(){this.$el.hasClass("dropdown-shown")||(this.$el.addClass("dropdown-shown"),this._setAriaExpandedAttribute("true"),this.trigger("dropdown:show",this.$el))},_hide:function(e){if(!this.mouseIsOverList&&!this.mouseIsOverFlyout){var t=this.$el.find("#shopByDepartmentDropdownList"),i=parseFloat(t.css("animation-duration"))||0,o=this;i&&e?(o._clearTimeouts(),this.hideAnimationTimeout=setTimeout((function(){o.$el.removeClass("dropdown-shown"),o._setAriaExpandedAttribute("false"),o.trigger("dropdown:hide",o.$el)}),1e3*i)):(o.$el.removeClass("dropdown-shown"),o._setAriaExpandedAttribute("false"),o.trigger("dropdown:hide",o.$el))}},_applyAnimationClass:function(e){var t=this.$el;switch(e){case"show":t.removeClass("animated-hide").addClass("animated-show");break;case"hide":t.removeClass("animated-show").addClass("animated-hide")}},_setAriaExpandedAttribute:function(e){this.$el.find("#showByDepartmentCaret").attr("aria-expanded",e)}})},"954a2067":function(e,t,i){},aa0b7ff8:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=S(i("8fa5214a")),n=S(i("3ebdffc6")),a=S(i("8554f259")),s=S(i("1be88a21")),r=S(i("ed888121")),l=S(i("4e3cb0c9")),d=S(i("5dcf66de")),u=S(i("2452fcf2")),h=S(i("2a281c45")),c=S(i("eab81cf1")),m=S(i("bb702b59")),f=S(i("c20fde7b")),p=S(i("24f57241")),g=S(i("ab4afc55")),v=S(i("fba02ed1")),y=S(i("0b02db71")),w=S(i("ec46748c")),b=S(i("f7694998")),F=S(i("eff04897")),_=S(i("8cd95de3")),T=S(i("37e8eadd")),C=S(i("5fcbd480")),D=S(i("a557c491"));function S(e){return e&&e.__esModule?e:{default:e}}i("6f62294d"),i("88fa8f07");t.default=s.default.LayoutView.extend({initialize:function(e){var t=r.default.channel?r.default.channel:r.default.default.channel;this.isRendered=e.isRendered,this.fobSelected=e.fobSelected,this.listenTo(this.collection,"linkRail:rerender",this.renderLinkRail.bind(this,!0)),this.listenTo(this.collection,"shopDeptButton:rerender",this.rerenderShopDepartmentButtonLabel.bind(this)),this.listenTo(this.collection,"search:rerender",this.renderSearchAndBag),this.listenTo(this.collection,"media:ready",this.renderMediaRailAds),this.listenTo(t,"starRewards:update",this.renderMediaRailAds),this.listenTo(this.collection,"performanceInstrumentation:ready",this.renderHnFPerformanceInstrumentation),this.listenTo(this.collection,"mainNavCollection:rerender",this.renderMainNav),this.listenTo(this.collection,"loadShopByDepartmentHeaderClass",this.loadShopByDepartmentHeaderClass),this.overlay=null,this.hasScrollbarInDropdownMenu=!1},ui:{search:"#search",bag:"#bagContainer",linkRail:"#link-rail",mediaRail:"#media-rail",shopByDepartment:"#shopByDepartmentDropdown > div",mainNavigation:"#mainNavigation",fobs:"#mainNavigation > div"},regions:{search:"#search",bag:"#bagContainer",bagIcon:"#bag-icon-container",linkRail:"#link-rail",mediaRail:"#media-rail",mainNavigation:"#mainNavigation",shopByDepartment:"#shopByDepartmentDropdown"},_flyoutAnimationEnded:!0,_minimumDropdownListHeight:null,getUrlParameter:function(e){var t=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search);return null===i?"":decodeURIComponent(i[1].replace("%20+","").replace(/\+/g," "))},renderMediaRailAds:function(e,t){var i=e,a=(0,o.default)("script[data-mcom-header-media]").html()?JSON.parse((0,o.default)("script[data-mcom-header-media]").html()):this.collection.media;n.default.isUndefined(t)||(i=a),!this.hasMediaRailChildren()||i&&t?this.mediaRail.show(new F.default({transitionDuration:400,mediaRailSelector:"#media-rail",context:this.collection.context,properties:this.collection.properties,media:i,tierInfo:t})):this.mediaRail.attachView(new F.default({el:"#redesign-media-rail",attached:!0,transitionDuration:400,mediaRailSelector:"#media-rail",context:this.collection.context,properties:this.collection.properties,media:i,tierInfo:t}))},hideMediaRail:function(){(0,o.default)("#media-rail").slideUp(400)},renderOverlay:function(){this.overlay||(this.overlay=new w.default({viewType:"Radical"}).render(),(0,o.default)("body").append(this.overlay.el))},renderSearch:function(){var e=window.location.href,t=this.collection&&this.collection.properties?this.collection.properties:{},o=void 0,a="",s=t.customerExperimentMapping,r=void 0,h=!1,c=u.default.buildQueryMap(),m=d.default.get("UserName","MISCGCs");if(this.collection&&!n.default.isEmpty(this.collection.context)&&!n.default.isEmpty(this.collection.properties)){var f="string"==typeof this.collection.context.shoppingMode?this.collection.context.shoppingMode:"SITE",p=-1!==e.indexOf("/wedding-registry")||-1!==e.indexOf("/registry/wedding")||"wedding_registry"===f.toLowerCase();t.hostlink=this.model.get("hostlink"),o=p?t.keywordSearchRegistryViewActionPath+"?keyword=":t.keywordFeaturedViewActionPath,this.collection.context.domestic&&(r=s.split(new RegExp([",","\\|",";"].join("|"),"g")),l.default.detect(r,(function(e){e&&(a=e)}))),-1===e.indexOf("/shop/featured/")&&-1===e.indexOf("/buy/")||(h=!0),!p&&c.ss&&(h=!1);var g={pathName:window.location.pathname,baseSearchUrl:o,seoSplCharList:t.seoSplCharList,seoSplCharReplacementList:t.seoSplCharReplacementList?JSON.parse(t.seoSplCharReplacementList):{},searchKeyword:this.getUrlParameter("keyword"),isDLP:h,nlsQueryParam:a};this.search.attachView(new v.default({el:"#search",viewType:"Radical",template:y.default,properties:t,context:this.collection.context,shoppingMode:this.collection.context.shoppingMode,userName:m,searchBoxMessage:this.model.get("searchBoxMessage"),showOverlay:this.showOverlay.bind(this),hideOverlay:this.hideOverlay.bind(this)})),this.listenTo(this.search.currentView,"search:showSuggestions",this.showOverlay),this.listenTo(this.search.currentView,"search:clearSuggestions",this.hideOverlay),t.viewType="Radical",Promise.all([i.e("app.common"),i.e("utilSearchBase")]).then(i.t.bind(null,"3daccd4f",7)).then((function(e){e.init(g,t,p)}))}},getAction:function(e){return e>0?"attachView":"show"},renderBag:function(e){this.bag.currentView||this.bag.attachView(new b.default({el:"#bagContainer",mcomBagIconId:"#quickBagHeader",template:!1,attachedView:!0})),e&&this.bagIcon.show(new s.default.ItemView({template:m.default,model:new a.default.Model({context:{serviceproxy:this.model.get("serviceproxy"),hostlink:this.model.get("hostlink"),meta:{properties:this.collection.properties,context:this.collection.context}},count:this.bag.currentView?this.bag.currentView.model.get("bagItemsCount"):0})}))},renderSearchAndBag:function(){this.renderSearch(),this.renderBag(!0)},renderLinkRail:function(e){var t=h.default.isSignedIn()?"signed-in":"guest",i={context:this.collection.context?this.collection.context:{},properties:this.collection.properties?this.collection.properties:{}},o=new a.default.Model({hostlink:this.model.get("hostlink"),serviceproxy:this.model.get("serviceproxy"),shippingCountry:this.model.get("shippingCountry"),domesticMode:this.model.get("domesticMode"),shoppingMode:this.model.get("shoppingMode"),properties:this.collection.properties,userStatus:h.default.isSoftSignedIn()?"soft signed-in":t,media:(0,T.default)({media:this.collection.media?this.collection.media:{},meta:i}),meta:i,signedIn:d.default.get("SignedIn"),userName:d.default.get("UserName","MISCGCs"),context:i.context});e||!this._hasLinksInLinkRail()?this.linkRail.show(new p.default({viewType:"Radical",model:o,template:g.default})):(this.linkRail.attachView(new p.default({el:"#link-rail > div",attached:!0,viewType:"Radical",model:o})),this.linkRail.currentView.onAttach.call(this.linkRail.currentView))},rerenderShopDepartmentButtonLabel:function(){this.model.set("shopDeptButtonLabel",(0,C.default)({media:this.collection.media?this.collection.media:{},meta:{context:this.collection.context?this.collection.context:{}}})),(0,o.default)("#shopByDepartmentLabelText").text(this.model.get("shopDeptButtonLabel"))},renderShopByDepartmentDropdown:function(){var e=new a.default.Model({shoppingMode:this.model.get("shoppingMode"),menu:this.collection.toJSON()});this._hasShopByDepartmentDropdown()?this.shopByDepartment.attachView(new _.default({el:"#shopByDepartmentDropdown > div",attached:!0,model:e})):(e.set("shopDeptButtonLabel",(0,C.default)({media:this.collection.media?this.collection.media:{},meta:{context:this.collection.context?this.collection.context:{}}})),this.shopByDepartment.show(new _.default({model:e}))),this.listenTo(this.shopByDepartment.currentView,"dropdown:show",this.onShopByDepartmentDropdownShow),this.listenTo(this.shopByDepartment.currentView,"dropdown:hide",this.onShopByDepartmentDropdownHide)},renderMainNav:function(){this._hasFobs()?this.mainNavigation.attachView(new f.default({el:"#mainNavigation > div",collection:this.collection,shoppingMode:this.model.get("shoppingMode"),regionCode:this.model.get("shippingCountry"),viewType:"radical",attached:!0})):this.mainNavigation.show(new f.default({collection:this.collection,shoppingMode:this.model.get("shoppingMode"),regionCode:this.model.get("shippingCountry"),viewType:"radical"}));var e=this;this.listenTo(this.mainNavigation.currentView,"flyout:show",(function(){e._flyoutAnimationEnded=!1})),this.listenTo(this.mainNavigation.currentView,"flyout:show:animationend",(function(t){e._flyoutAnimationEnded=!0,e._resizeCategoryDropdownWithFlyout(t)})),this.listenTo(this.mainNavigation.currentView,"flyout:imagesLoaded",(function(t){e._flyoutAnimationEnded&&n.default.defer(e._resizeCategoryDropdownWithFlyout.bind(e,t))})),this.listenTo(this.mainNavigation.currentView,"flyout:hide",this._resizeCategoryDropdownList.bind(this,null))},renderHnFPerformanceInstrumentation:function(){var e=window.performance.now();!0===this.collection.properties.hnfPerformanceInstrumentationEnabled&&D.default.saveTimeData({appName:"SPO_MCOM_POLARIS_HEADER_RADICAL",name:"Polaris_Header_Radical",timeStart:c.default.getValue("qVStartTime"),timeEnd:e,description:"Start and stop times for display of radical header",logging:!0})},onRender:function(){this.renderLinkRail(),this.renderSearch(),this.renderBag(),this.renderShopByDepartmentDropdown(),this.renderMainNav(),this.renderOverlay(),this.hasMediaRailChildren()&&this.renderMediaRailAds()},loadShopByDepartmentHeaderClass:function(){(0,o.default)("header").addClass("shopByDepartmentStylingChangesEnabled")},onShopByDepartmentDropdownShow:function(){this._minimumDropdownListHeight=(0,o.default)("#shopByDepartmentDropdownList .redesign-main-menu-container").outerHeight(),this._resizeCategoryDropdownList(null),this.showOverlay()},onShopByDepartmentDropdownHide:function(){this._resizeCategoryDropdownList(null),this.mainNavigation.currentView&&this.mainNavigation.currentView.deselectFlyout(),this.hideOverlay()},showOverlay:function(){this.overlay.show();var e=parseInt(this.overlay.$el.css("z-index"),10);this.$el.css("z-index",e?e+1:1e4)},hideOverlay:function(){this.overlay.hide(),this.$el.css("z-index","")},getMainNavigationFobCount:function(){var e=this.mainNavigation&&this.mainNavigation.currentView;return e?e.getFobCount():0},getMainNavigationFlyoutCount:function(){var e=this.mainNavigation&&this.mainNavigation.currentView;return e?e.getFlyoutCount():0},getMainNavigationCurrentFob:function(){var e=this.mainNavigation&&this.mainNavigation.currentView;return e?e.getCurrentFob():null},hasMediaRailChildren:function(){return(0,o.default)("#redesign-media-rail").children().length>0},_hasLinksInLinkRail:function(){return this.ui.linkRail.children().length>0},_hasFobs:function(){return this.ui.fobs.children().length>0},_hasShopByDepartmentDropdown:function(){return this.ui.shopByDepartment.children().length>0},_resizeCategoryDropdownWithFlyout:function(e){var t=this;n.default.defer((function(){var i=(0,o.default)(e),n=i.find("> div"),a=parseInt(i.css("padding-top"),10)||0,s=parseInt(i.css("padding-bottom"),10)||0,r=Math.max.apply(null,n.map((function(){return(0,o.default)(this).outerHeight(!0)})));t._resizeCategoryDropdownList(r+s+a)}))},_resizeCategoryDropdownList:function(e){var t=this;n.default.defer((function(){var i=(0,o.default)("#shopByDepartmentDropdownList .redesign-main-menu-container"),n=(0,o.default)("#shopByDepartmentDropdownList .redesign-header-fobs-container"),a=(0,o.default)("#mainNavigationFobs"),s=(0,o.default)("#mainNavigationFlyouts"),r=s.outerHeight(),l=(0,o.default)("#mainNavigationFobs").outerHeight()+2,d=t.hasScrollbarInDropdownMenu?25:0;s.css("height",560),r=t.hasScrollbarInDropdownMenu?560:l,e?(i.css("height",e>l?e:l),s.css("height",e>r?e:r),n.css({height:t.hasScrollbarInDropdownMenu||e<=l?l:e,"max-height":t.hasScrollbarInDropdownMenu||e<=560?560:e}),t.hasScrollbarInDropdownMenu?(n.css({"overflow-y":"scroll"}),s.addClass("redesign-header-flyouts-container-scrollbar"),a.css({height:560+d})):n.css({"overflow-y":"hidden"})):(i.css("height",l),s.css("height",r),n.css({height:l,"max-height":560}),t.hasScrollbarInDropdownMenu=l>560)}))}})},b58ae099:function(e,t,i){},c20fde7b:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("8fa5214a")),n=u(i("3ebdffc6")),a=u(i("1be88a21")),s=u(i("544ffca4")),r=u(i("ed69bfc0")),l=u(i("5ea4fe45")),d=u(i("52bce46f"));function u(e){return e&&e.__esModule?e:{default:e}}i("954a2067"),i("b58ae099");var h="#mainNavigationFobs > li";t.default=a.default.CollectionView.extend({tagName:"div",className:"redesign-main-menu-container",template:l.default,events:{mouseleave:"deselectFlyout","mousemove #mainNavigationFobs > li":"onFobMouseMove","mouseleave #mainNavigationFobs > li":"onFobMouseLeave","mouseenter #mainNavigationFlyouts > div":"onFlyoutMouseOver","mouseleave #mainNavigationFlyouts > div":"onFlyoutMouseLeave","touchstart #mainNavigationFobs > li > a":"onFobLinkTouchStart","mousedown #mainNavigationFobs > li > a":"onFobLinkClick","touchstart #mainNavigationFlyouts > div":"onFlyoutDivTouchStart","click #mainNavigationFobs > li > button":"onScreenReaderButtonClick","keydown #mainNavigationFobs > li > button":"onScreenReaderButtonKeyPress","keydown #mainNavigationFlyouts > div":"onFlyoutKeyPress","click #mainNavigationFobs > li > a":"onMainNavFobClick","click #mainNavigationFlyouts .flyout-column a":"onMainNavFlyoutsClick"},fobSelected:null,mouseIsOverFlyout:!1,selectTimeout:null,deselectTimeout:null,hideAnimationTimeout:null,_previousTargetToSelect:null,_previouslyTouchedFob:null,_tabbedFromButton:null,_firstLinkToTabFrom:null,_lastLinkToTabFrom:null,_triggerPointX:1/0,_selectedCategoryId:null,_shoppingMode:null,initialize:function(e){this.listenTo(this.collection,"mainNavCollection:change",this.onErrorHandler),this.listenTo(this.collection,"update",this.render),this.listenTo(this.collection,"reset",this.render),this.listenTo(this,"flyout:show",this.onFlyoutShow),this.listenTo(this,"flyout:change",this.onFlyoutChange),this.listenTo(this,"flyout:hide",this.onFlyoutHide),this._shoppingMode=e&&"string"==typeof e.shoppingMode?e.shoppingMode:"SITE",this._regionCode=e&&"string"==typeof e.regionCode?e.regionCode:"US",this._viewType=e&&"string"==typeof e.viewType?e.viewType:"Radical",this.deselectFlyout=this.deselectFlyout.bind(this),(0,o.default)("body").on("touchstart",this.deselectFlyout),this.context=(0,o.default)("header").data("context")?(0,o.default)("header").data("context"):{}},destroy:function(){(0,o.default)("body").off("touchstart",this.deselectFlyout)},render:function(){var e=this.getCurrentFob().attr("id");return this.$el.html((0,l.default)({menu:this.collection.toJSON()})),e&&this.$el.find("#"+e).addClass("selected"),this.$el},loadImages:function(e,t){var i=this;e&&n.default.defer((function(){s.default.loadContained(void 0,e,(function(o){i.trigger("flyout:imagesLoaded",e,o),"function"==typeof t&&t.call(i,e,o)}))}))},onErrorHandler:function(){var e=this;this._fallback=Promise.resolve((0,d.default)({viewType:e._viewType,regionCode:e._regionCode,shoppingMode:e._shoppingMode})).then((function(t){e.collection.reset(t,{parse:!0})}))},onFobMouseMove:function(e){if(!this.mouseIsOverFlyout){var t=e.currentTarget,i=(0,o.default)(t),n=this._triggerPointX-0,a=this._triggerPointX+0,s=void 0;n<0||e.offsetX<=n?s=t:a>0&&e.offsetX>a&&(s=i.next()[0]),s?s!==this._previousTargetToSelect&&(this._previousTargetToSelect=s,this.deselectFlyout(),this.selectFlyout(s)):this.deselectFlyout()}},onFobMouseLeave:function(){this._previousTargetToSelect=null},onFobLinkTouchStart:function(e){e.preventDefault(),e.stopPropagation(),this._isTouchStart=!0;var t=(0,o.default)(e.currentTarget).parent("li"),i=t[0];if(this._previouslyTouchedFob===i){var n=t.children("a")[0];n&&(this._isTouchStart=!1,n.click())}else this.deselectFlyout(),this.selectFlyout(i);this._previouslyTouchedFob=i},onFobLinkClick:function(e){this._isTouchStart&&(e.preventDefault(),e.stopPropagation(),this._isTouchStart=!1)},selectFlyout:function(e){var t=this;t._clearTimeouts();var i=(t.fobSelected,200);t.selectTimeout=setTimeout((function(){t._hideFlyout(!1);var i=t._showFlyout(e);t.trigger(t.fobSelected?"flyout:change":"flyout:show",i),t.$el.addClass("flyout-shown"),n.default.defer((function(){t._setAriaExpandedAttribute(e,"true"),setTimeout((function(){t._removeAnimationClasses(),t.trigger("flyout:show:animationend",i)}),t._measureFlyoutAnimationDuration()),t.fobSelected=e}))}),i)},deselectFlyout:function(){var e=this;e._clearTimeouts(),e._previouslyTouchedFob=null,e._setAriaExpandedAttribute(e.fobSelected,"false"),e.deselectTimeout=setTimeout((function(){e._hideFlyout(!0),e.trigger("flyout:hide",e.fobSelected),e.$el.removeClass("flyout-shown"),e.fobSelected=null}),200)},onFlyoutMouseOver:function(){this.mouseIsOverFlyout=!0,this._clearTimeouts()},onFlyoutMouseLeave:function(){this.mouseIsOverFlyout=!1},onFlyoutDivTouchStart:function(e){e.stopPropagation()},onFlyoutShow:function(e){this._applyAnimationClass("show"),this.loadImages(e)},onFlyoutChange:function(e){this._applyAnimationClass("change"),this.loadImages(e)},onFlyoutHide:function(){this._applyAnimationClass("hide")},onScreenReaderButtonClick:function(e){var t=(0,o.default)(e.currentTarget),i=t.parent("li"),n=t.attr("aria-expanded");this.mouseIsOverFlyout=!1,this.deselectFlyout(),"false"===n&&this.selectFlyout(i[0])},onScreenReaderButtonKeyPress:function(e){if(9===e.which&&!e.shiftKey){var t=(0,o.default)(e.currentTarget),i=t.parent("li");if("true"===t.attr("aria-expanded")){var n=this._findFlyoutContainer(i),a=n.find("a");e.preventDefault(),this._tabbedFromButton=t,this._firstLinkToTabFrom=a.first(),this._lastLinkToTabFrom=a.last(),n.focus()}}},onFlyoutKeyPress:function(e){var t=(0,o.default)(e.target);9===e.which&&e.shiftKey?(t.is(this._firstLinkToTabFrom)||t.is(e.currentTarget)&&this._tabbedFromButton)&&(e.preventDefault(),this._tabbedFromButton.focus(),this._clearTabPressHelpers()):9===e.which&&this._tabbedFromButton&&t.is(this._lastLinkToTabFrom)&&this._tabbedFromButton&&(e.preventDefault(),this._tabbedFromButton.next().focus(),this._clearTabPressHelpers())},getFobCount:function(){return(0,o.default)(h).length},getFlyoutCount:function(){return(0,o.default)("#mainNavigationFlyouts> div").length},getCurrentFob:function(){return(0,o.default)(h+".selected").eq(0)},onMainNavFobClick:function(e){var t=(0,o.default)(e.currentTarget),i=(0,o.default)(e.currentTarget).parent(),n=t.text().trim(),a=i.attr("data-flyout-id")||"";r.default.navItemClickLinkTag({topNavCatName:n,position:i.index()+1,column:1,context:this.context,catName:n,catId:a})},onMainNavFlyoutsClick:function(e){var t=(0,o.default)(e.currentTarget),i=t.closest(".flyout-column"),a=n.default.findIndex(i.find("a"),(function(e){return(0,o.default)(e).attr("href")===t.attr("href")})),s=t.find("img"),l=s.length?(0,o.default)(s[0]).attr("data-file-name")||"":t.text().trim(),d=t.attr("href")?t.attr("href").match(/id=[0-9]+/g):[],u=d&&d.length?d[0].replace("id=",""):"";r.default.navItemClickLinkTag({topNavCatName:i.parent().attr("aria-label")||"",column:i.index()+2,position:a+1,context:this.context,catName:s.length?l.split(".")[0]:l,catId:s.length>0?"image":u})},_showFlyout:function(e){var t=(0,o.default)(e),i=this._findFlyoutContainer(t);return t.addClass("selected-flyout"),i.addClass("selected-flyout"),i[0]},_hideFlyout:function(e){if(!this.mouseIsOverFlyout){var t=this._measureFlyoutAnimationDuration();t&&e?this.hideAnimationTimeout=setTimeout((function(){(0,o.default)(h).removeClass("selected-flyout"),(0,o.default)("#mainNavigationFlyouts> div").removeClass("selected-flyout")}),t):((0,o.default)(h).removeClass("selected-flyout"),(0,o.default)("#mainNavigationFlyouts> div").removeClass("selected-flyout"))}},_findFlyoutContainer:function(e){var t=(0,o.default)(e),i=t.data("flyoutId");return i&&(i instanceof o.default||(i=this.$el.find(".flyout_"+i),t.data("flyoutId",i))),i},_applyAnimationClass:function(e){var t=(0,o.default)("#mainNavigationFlyouts").parent();switch(e){case"show":t.removeClass("animated-hide").removeClass("animated-change").addClass("animated-show");break;case"change":t.removeClass("animated-show").removeClass("animated-change").addClass("animated-change");break;case"hide":t.removeClass("animated-change").removeClass("animated-show").addClass("animated-hide")}},_removeAnimationClasses:function(){(0,o.default)("#mainNavigationFlyouts").removeClass("animated-show").removeClass("animated-change").removeClass("animated-hide")},_clearTimeouts:function(){clearTimeout(this.selectTimeout),clearTimeout(this.deselectTimeout),clearTimeout(this.hideAnimationTimeout)},_clearTabPressHelpers:function(){this._firstLinkToTabFrom=null,this._lastLinkToTabFrom=null,this._tabbedFromButton=null},_measureFlyoutAnimationDuration:function(){var e=(0,o.default)("#mainNavigationFlyouts .selected-flyout");return 1e3*(parseFloat(e.css("animation-duration"))||0)},_setAriaExpandedAttribute:function(e,t){(0,o.default)(e).find("> button").attr("aria-expanded",t)}})}}]);
//# sourceMappingURL=discovery-pages-mcom.vendors~viewRadical.353dd977fa7414b0b5de.js.map