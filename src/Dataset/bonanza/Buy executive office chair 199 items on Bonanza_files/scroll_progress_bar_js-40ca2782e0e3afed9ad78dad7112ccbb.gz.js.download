      if (typeof(BONZ) !== 'undefined' && BONZ.packageLoading) BONZ.packageLoading('scroll_progress_bar_js');
      BONZ.Util=new function(){var g=this;g.deparam=function(a){key=a.split("&");if(""==key)return{};a={};for(var c=0;c<key.length;++c){var f=key[c].split("=");2==f.length&&(a[f[0]]=decodeURIComponent(f[1].replace(/\+/g," ")))}return a};g.params=function(a){return g.deparam(a)}(window.location.search.substr(1));this.partialApply=function(a){var c=Array.prototype.slice.apply(arguments,[1]);return function(){return a.apply(this,c.concat(Array.prototype.slice.apply(arguments)))}};this.returnFalse=function(a){return function(){a&&
a();return!1}};this.getSelectedText=function(){var a="";window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text);return a};this.ensureFixedElementIsVisibile=function(a){$(a).height()+parseInt($(a).css("top"))>$(window).height()&&$(a).css({position:"absolute",top:$(window).scrollTop()})};this.isScrolledIntoView=function(a,c){var f=$(window).scrollTop(),d=f+$(window).height(),b=$(a).offset().top;return b+
("undefined"===typeof c?$(a).height():c)>=f&&b<=d};this.scrollToContent=function(a,c,f,d){var b=null,b=BONZ.isMobile?Math.ceil(a.position().top):Math.ceil(a.offset().top);$("html, body").animate({scrollTop:b+(c||0)},f||400,d||function(){})};this.preloadImages=function(a){for(var c=0;c<a.length;c++)(new Image).src=a[c]};g.onImageLoad=function(a,c){a=$(a);var f=a.length;a.each(function(){var d=$(new Image);d.load(function(){f-=1;1>f&&c(a)});d.attr("src",$(this).attr("src"))})};this.removeDuplicateElements=
function(a){var c={};$(a).each(function(){var a=$(this),d=a.text();c[d]?a.remove():c[d]=!0})};this.quoteAttr=function(a,c){c=c?"&#13;":"\n";return(""+a).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,c).replace(/[\r\n]/g,c)};this.alert=function(a,c){"undefined"===typeof swal?alert(a):(c=$.extend({title:"",text:a},c),swal(c))};this.popupDefaultAlert=function(){this.alert("We're sorry, but something went wrong. Please refresh the page and try again.")};
this.confirm=function(a,c,f,d){var b;b="string"==typeof a?{title:"",text:a,showCancelButton:!0}:$.extend({title:"",text:"Are you sure?",showCancelButton:!0},a||{});if(null==c&&null==f&&null==d)return confirm(a);"undefined"===typeof swal?confirm(a)?null==c&&d?window.location.replace($(d).attr("href")):c&&BONZ.run(c):null!=f&&BONZ.run(f):swal(b,function(a){if(a)null==c&&d?window.location.replace($(d).attr("href")):c&&BONZ.run(function(){c(a)});else{if(null==f)return!1;BONZ.run(f)}});return!1};var b=
[],e=null;this.smartResize=function(a){b.push(a);onresize=function(){clearTimeout(e);e=setTimeout(function(){$.each(b,function(){this.call()})},100)}};this.resizeIframe=function(a,c){a=$(a);if(!a.hasClass("resized")||c){a.addClass("resized");a.siblings(".loading").hide();var b=0,d=null;a.contents().find("img").each(function(){if((!this.complete||"undefined"===typeof this.naturalWidth||0===this.naturalWidth)&&0!==$(this).attr("width")){var a=$(this).attr("src");a&&(d||(d=a),b++)}});0<b&&$.post("/items/broken_images",
{url:a.attr("src"),count:b,example:d});a.show().animate({height:a.contents().height()+"px"},1E3);var e=a.parents(".html_description_container");e.removeClass("loading").siblings(".loading_overlay").hide();e.parent().css("min-height",0)}};this.formatCurrencyString=function(a,c,b){var d="";b=b||"USD";c=(c||"en")+"-"+b.substr(0,2);a:{try{(0).toLocaleString("i")}catch(e){d="RangeError"===e.name;break a}d=!1}d?d=a.toLocaleString(c,{style:"currency",currency:b}).toString():(a=$("<span>").html(a),d=a.formatCurrency(a,
{region:c}).html());isNaN(parseInt(d.slice(-1)))?d=(d.slice(-1)+d.substr(0,d.length-1)).trim():0==d.indexOf("CA")&&(d=d.substr(2)+" CAD");return d};this.camelToSnake=function(a){return a.replace(/([A-Z])/g,"_$1").toLowerCase()}};Array.prototype.compare=function(g){if(!g||this.length!=g.length)return!1;for(var b=0,e=this.length;b<e;b++)if(this[b]instanceof Array&&g[b]instanceof Array){if(!this[b].compare(g[b]))return!1}else if(this[b]!=g[b])return!1;return!0};
(function(g){g.expr[":"].onScreen=function(b){var e=g(window),a=e.scrollTop(),e=e.height(),c=a+e,f=g(b);b=f.offset().top;var f=f.height(),d=b+f;return b>=a&&b<c||d>a&&d<=c||f>e&&b<=a&&d>=c}})(jQuery);(function(g){for(var b=["Width","Height"],e;e=b.pop();)(function(a,c){a in new Image?g.fn[a]=function(){return this[0][a]}:g.fn[a]=function(){var a=this[0],b;"img"===a.tagName.toLowerCase()&&(b=new Image,b.src=a.src,b=b[c]);return b}})("natural"+e,e.toLowerCase())})(jQuery);
(function(g){g.fn.absolutize=function(){return this.each(function(){var b=g(this);if("absolute"==b.css("position"))return b;var e=b.position(),a=b.offset(),c=e.top,e=e.left,f=b.css("width"),d=b.css("height");b.data({originalOffsetLeft:a.left,originalOffsetTop:a.top,originalLeft:e,originalTop:c,originalWidth:f,originalHeight:d}).css({position:"absolute",top:c,left:e,width:f,height:d});return b})}})(jQuery);BONZ.ScrollProgressBar=function(){var g={},b=null,e=null,a=null,c=null,f={"#booth_page_area_update_container":"page_content","#search_pages_container":"results_page"};g.initialize=function(d){b=$(d);e=$(".scroll_progress_bar_container");a=$(d).data("pagecount");c=function(){return $("."+f[d])};$.event.special.smartscroll.setDelay(10);$(window).bind("smartscroll.scroll_progress",m);"#booth_page_area_update_container"===d&&(e.addClass("hidden stretchy"),$(window).bind("smartscroll.scroll_progress",
n))};g.updateTotalPages=function(b){a=b;$(e).data("pagecount",a);a&&l&&d()};var d=function(){newTitle="Page "+l+" of "+a;$(e).attr("title",newTitle)},k=null,h=null,l=null,m=function(){var a=null;c().each(function(b){b=$(this);!a&&(b.is(":visible")&&BONZ.Util.isScrolledIntoView(b))&&(a=b)});if(a&&!$(".loader",a).length){k=h||k;h=null;$(".gridblock, .search_result_item.browsable_item",a).each(function(){BONZ.Util.isScrolledIntoView($(this))&&(h=parseInt($(this).data("item-position")),l=parseInt(a.data("key")),
d())});h=h||k;var b=(h||k)/parseInt($(".scroll_progress_bar_container").data("total-entries")),b=Math.min(100*b,100);e.show();$(".scroll_progress_bar").css("width",b+"%")}},n=function(){b.offset().top<$(window).scrollTop()?e.removeClass("hidden").addClass("stretched"):e.addClass("hidden").removeClass("stretched")};return g}();


if (typeof(BONZ) !== 'undefined' && BONZ.packageLoaded) BONZ.packageLoaded('scroll_progress_bar_js');
//# sourceMappingURL=scroll_progress_bar_js.js.map
