//tealium universal tag - utag.912 ut4.0.202010081656, Copyright 2020 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=!!utag_data.gtag;u.map={"currencyCode":"currencyCode","gad_campaignConfig":"campaignConfig","hotelId":"hotelId","rsvTotal":"rsvTotal","travelStartDateYYYYMMDD":"travelStartDateYYYYMMDD","travelEndDateYYYYMMDD":"travelEndDateYYYYMMDD","offerNumber":"offerNumber","rsvTotalNoTaxFee":"rsvTotalNoTaxFee"};u.extend=[function(a,b){try{if(1){b.gad_campaignConfig=[{conversionId:'AW-1069486950',conversionLabel:'BXbGCIa5wgYQ5qb8_QM'},{conversionId:'AW-997054710',conversionLabel:'rJyVCJLXxgMQ9rG32wM',products:/[58]/},{conversionId:'AW-944642730',conversionLabel:'G3I9CMf8kFwQqrW4wgM',products:/[8]/},{conversionId:'AW-951373341',conversionLabel:'tG-CNy2m1wQnZzTxQM',products:/[1]/},{conversionId:'AW-975268637',conversionLabel:'ejH1CIOF9wcQndaF0QM',products:/[8]/,otherPages:/listing/i},{conversionId:'AW-793109081',conversionLabel:'_B7ZCIX__IcBENnEl_oC',haPartnerId:'HA-220',eventType:'purchase',cookiePrefix:'_ha',conversionItems:{id:'hotelId',start_date:'travelStartDateYYYYMMDD',end_date:'travelEndDateYYYYMMDD'}},{conversionId:'AW-994104933',conversionLabel:'4miLCLO64AQQ5ayD2gM',products:/no-conversion-subtag-931/},{conversionId:'AW-988352309',conversionLabel:'y39lCJSIo5YBELWepNcD'},{conversionId:'AW-988352309',conversionLabel:'K4-FCPmtgOIBELWepNcD'},{conversionId:'AW-988352309',conversionLabel:'foTpCPC-9eEBELWepNcD',products:/\b1\b/i},{conversionId:'AW-988352309',conversionLabel:'aA1_CK-ogeIBELWepNcD',products:/[8]/},{conversionId:'AW-988352309',conversionLabel:'cOIoCIbD9eEBELWepNcD',products:/[5]/},{conversionId:'AW-988352309',conversionLabel:'sKzICKXE9eEBELWepNcD',products:/\b17\b/i}];}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={"base_url":"//www.googletagmanager.com/gtag/js"
};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){if(typeof utag_err!='undefined'){utag_err.push({e:'extension error:'+e,s:utag.cfg.path+'utag.'+id+'.js',l:c,t:'ex'})}}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
u.loader_cb=function(){if(!!u.data.campaignConfig){var trackingData={appName:'Tealium',offerNumber:utag_data.offerNumber||'',eventData:[],gclid:utag_data['cp._gcl_aw'],eventName:"Google AdWords","tags":[]};var cc=u.data.campaignConfig;for(var i=0;i<cc.length;i++){var campaign=cc[i];if(!!campaign){utag_data.gtag('config',campaign.conversionId);if(!!campaign.haPartnerId&&(location.href.indexOf('dblcnt')>-1||b.pageType=='confirmation')){utag_data.gtag('config',campaign.haPartnerId,{'conversion_cookie_prefix':(campaign.cookiePrefix||'')});}}
if((b.pageType=='confirmation'||(!!campaign&&!!campaign.otherPages))&&(b.offerJustSubmittedFlag==='Y'||b.productId===17)){if(!!campaign&&(campaign.conversionLabel)&&(!campaign.products||campaign.products.test(b.productId))&&(!campaign.otherPages||campaign.otherPages.test(b.pageType))){var gtagEvent={'send_to':campaign.conversionId+'/'+campaign.conversionLabel,'value':(u.data.rsvTotalNoTaxFee||'1.0').toString(),'currency':u.data.currencyCode||'USD','transaction_id':(u.data.offerNumber||'').toString()};if(!!campaign.haPartnerId){gtagEvent.send_to=[gtagEvent.send_to,campaign.haPartnerId];}
if(!!campaign.conversionItems){var itemsObject={};var conversionItemKeys=Object.keys(campaign.conversionItems);for(var ci=0;ci<conversionItemKeys.length;ci++){var googleKey=conversionItemKeys[ci];var utagKey=campaign.conversionItems[googleKey];itemsObject[googleKey]=(u.data[utagKey]||'').toString();}
gtagEvent.items=[itemsObject];}
var eventType='conversion';if(!!campaign.eventType){eventType=campaign.eventType;}
utag_data.gtag('event',eventType,gtagEvent);var trackingEvent={event:eventType,payload:gtagEvent};trackingData.eventData.push(trackingEvent);}}}
utag_data.gtag('event','conversion',{'send_to':'AW-988352309/8FnjCIa3q5YBELWepNcD'});if(trackingData.eventData.length>0){var payload=JSON.stringify(trackingData);var xhr=new XMLHttpRequest();xhr.timeout=2000;xhr.open('POST','/pws/v0/fly/tag/batch',true);xhr.setRequestHeader('Content-Type','application/json');xhr.send(payload);}
utag_data.tealium_event='google-gtag-complete';utag.link(utag_data);}};if(!utag_data.gtag){window.dataLayer=window.dataLayer||[];utag_data.gtag=function(){dataLayer.push(arguments);}
utag_data.gtag('js',new Date());var gadIds=[];for(var i=0;i<u.data.campaignConfig.length&&gadIds.length===0;i++){var campaign=u.data.campaignConfig[i];if(!!campaign&&!!campaign.conversionId){gadIds.push(campaign.conversionId);}}
u.loader({"type":"script","src":u.data.base_url+'?id='+gadIds.join(','),"cb":u.loader_cb,"loc":"script","id":'utag_912'});}else{u.loader_cb();}
}};utag.o[loader].loader.LOAD(id);})("912","pcln.opt");}catch(error){utag.DB(error);}
