(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1279:function(e,t,n){"use strict";var a=n(6),o=n.n(a),i=n(13),r=n.n(i),l=n(14),s=n.n(l),c=n(8),d=n.n(c),p=n(16),u=n.n(p),h=n(17),m=n.n(h),f=n(12),g=n.n(f),v=n(9),b=n.n(v),y=n(0),x=n.n(y),I=(n(1),n(1203)),C=n.n(I),w=n(2),S=n(103),k=n(26),O=n(548),P=n(21),E=n(161),M=n(369);var _=Object(w.default)(S.a).withConfig({displayName:"POISearch__POISearchWrapper",componentId:"sc-30pkxb-0"})(["box-shadow:",";width:260px;"," transition:width .2s;"],function(e){return e.theme.boxShadows[2]},function(e){return e.active&&"\n    width: calc(100vw - 32px);\n\n    ".concat(e.theme.mediaQueries.md," {\n      width: 260px;\n    }\n\n    ").concat(e.theme.mediaQueries.lg," {\n      width: 400px;\n    }\n  ")}),N=function(e){u()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=g()(e);if(t()){var o=g()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return m()(this,n)}}(n);function n(e){var a;r()(this,n),a=t.call(this,e),b()(d()(a),"onDismiss",function(e){a.state.active&&a.elementRef&&!a.elementRef.contains(e.target)&&(a.setState({active:!1}),a.props.onDismiss&&a.props.onDismiss())}),b()(d()(a),"onItemSelection",function(e){a.setState({active:!1},function(){return Object(M.a)(e)}),a.props.onItemSelection&&a.props.onItemSelection(e)}),b()(d()(a),"onInputClick",function(){a.setState({active:!0,dropDownItems:[]}),a.props.onInputClick&&a.props.onInputClick()}),b()(d()(a),"typeaheadApiRequest",function(e){var t=Object(E.a)("TYPEAHEAD_ENDPOINT");return fetch("".concat(t).concat(e,"/0/5/0/5")).then(function(e){if(e.ok)return e.json()}).then(function(e){return e&&e.searchItems}).catch(function(e){k.a.logError({message:e.message,severity:3,stack:"molecules/POISearch POISearch.js"})})}),b()(d()(a),"apiRequestHandler",function(e){Array.isArray(e)?a.setState({dropDownItems:e.map(function(e){return o()(o()({},e),{},{content:e.itemName})})}):a.setState({dropDownItems:[]})}),b()(d()(a),"onTypeAheadChange",function(e){var t=e.target.value;t&&t.length>0?a.typeaheadApiRequest(t).then(a.apiRequestHandler):a.setState({dropDownItems:[]})}),a.state={dropDownItems:[],active:!1},a.elementRef=null;var i=a.props,l=i.searchedItemName,s=i.isPOIOrAirportSearch;return l&&s&&P.a.fireImpression("HTL_MAP_PERSIST_POI_PIN"),a.mapPinSetiTest=l&&s&&"VARIANT"===P.a.getTestState("HTL_MAP_PERSIST_POI_PIN"),a.mapPinSetiTest&&a.typeaheadApiRequest(l).then(function(e){a.onItemSelection(e[0])}),a}return s()(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onDismiss)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDismiss)}},{key:"render",value:function(){var e=this,t=this.props,n=t.alwaysActive,a=t.fontSize,o=t.inputId,i=t.isAddressPlottingSeti,r=t.maxWidth,l=t.isPoiSearchChip,s=t.searchedItemName,c=a?{style:{fontSize:a}}:null;return x.a.createElement(_,{innerRef:function(t){return e.elementRef=t},active:this.state.active||n,maxWidth:r},x.a.createElement(O.a,{clearInputOnClick:!0,dropDownItems:this.state.dropDownItems,floatMode:!0,id:o,initialValue:this.mapPinSetiTest?s:"",inputProps:c,onInputClick:this.onInputClick,onItemSelection:this.onItemSelection,onTypeAheadChange:C()(this.onTypeAheadChange,200),placeholder:i&&l?"Type an address, landmark, airport...":"Search attractions, airports, landmarks…"}))}}]),n}(x.a.Component);N.defaultProps={alwaysActive:!1,inputId:"hotel-map-poi-search",maxWidth:"none"};var H=N;t.a=H},1544:function(e,t,n){"use strict";n.r(t);var a=n(13),o=n.n(a),i=n(14),r=n.n(i),l=n(8),s=n.n(l),c=n(16),d=n.n(c),p=n(17),u=n.n(p),h=n(12),m=n.n(h),f=n(0),g=n.n(f),v=(n(1),n(3)),b=n.n(v),y=n(1118),x=n.n(y),I=n(2),C=n(56),w=n(531),S=n(103),k=n(4),O=n(1150),P=n(291),E=n(1149),M=n(21),_=n(366),N=n(1387),H=n(6),L=n.n(H),R=n(20),T=n.n(R),j=n(9),D=n.n(j),z=n(375),A=n.n(z),F=n(1242),B=n.n(F),W=n(363),Z=n(1157),q=n(1148),Q=n(1056),V=n(1094),Y=n(1303),G=n(26),U=n(1261),X=n(1245),J=n(1179),K=n(1386),$=n(1540),ee=n(1562),te=n(1525),ne=function(e,t,n,a,o,i,r,l,s){var c={};return Object.keys(a).forEach(function(d){if(a[d].polygonPoints){var p,u=a[d].polygonPoints.map(function(e,t){var a={lat:e.latitude,lng:e.longitude};return 0===t?p=a:0!==t&&a.lat>p.lat&&(p=a),n.extend(a),a}),h=new e.Polygon({paths:u,strokeColor:l,strokeOpacity:.8,strokeWeight:2,fillColor:s,fillOpacity:.1,position:p});h.zoneId=d;var m=a[d].name?new e.InfoWindow({content:"<div>".concat(a[d].name,"</div>")}):null;if(m&&m.setOptions({disableAutoPan:!0}),h.infowindow=m,h.addListener("click",function(){o(h,t)}),!i&&r){var f=r.zoneMouseEnterHandler,g=r.zoneMouseLeaveHandler;f&&h.addListener("mouseover",function(){f(h)}),g&&h.addListener("mouseout",function(){g(h)})}c[d]=h,h.setMap(t)}}),c},ae=function(e){e.setOptions({fillOpacity:.5}),e.infowindow&&e.infowindow.open(void 0,e)},oe=function(e){e.setOptions({fillOpacity:.1}),e.infowindow&&e.infowindow.close()},ie=function(e,t,n){var a=t.getBounds(),o=t.getProjection(),i=o.fromLatLngToPoint(a.getNorthEast()),r=o.fromLatLngToPoint(a.getSouthWest()),l=n/Math.pow(2,t.getZoom()),s=new e.Point(i.x-l,i.y+l),c=new e.Point(r.x+l,r.y-l),d=o.fromPointToLatLng(c),p=o.fromPointToLatLng(s);return new e.LatLngBounds(d,p)},re=n(292),le=n(73),se=n(49),ce=n(1154),de=n(1155),pe=n(1171),ue=n(1197),he=n(1329),me=n(1512),fe=n(1495),ge=Object(I.default)(S.a).withConfig({displayName:"HotelCard__ImageBox",componentId:"sc-1a1ot7-0"})(["position:relative;height:160px;width:100%;border-radius:2px 2px 0 0;background-image:url(",");background-position:center center;background-repeat:no-repeat;background-size:cover;"],function(e){return e.imageURL}),ve=Object(I.default)(O.a).withConfig({displayName:"HotelCard__OverLay",componentId:"sc-1a1ot7-1"})(["width:100%;height:100%;background:linear-gradient(180deg,rgba(0,0,0,0) 30%,#000000 100%);"]),be=Object(I.default)(se.a).withConfig({displayName:"HotelCard__ShadowText",componentId:"sc-1a1ot7-2"})(["text-shadow:0 1px 2px 0 rgba(0,0,0,0.5);line-height:12px;"]),ye=Object(I.default)(ce.a).withConfig({displayName:"HotelCard__SmallBadge",componentId:"sc-1a1ot7-3"})(["height:18px;font-size:12px;"]),xe=Object(I.default)(se.a).withConfig({displayName:"HotelCard__LabelText",componentId:"sc-1a1ot7-4"})(["border-radius:2px;text-transform:uppercase;"]),Ie=Object(I.default)(ue.b).withConfig({displayName:"HotelCard__Price",componentId:"sc-1a1ot7-5"})(["& > span{font-size:20px !important;}"]),Ce=Object(I.default)(S.a).withConfig({displayName:"HotelCard__PriceWrapper",componentId:"sc-1a1ot7-6"})(["text-align:right;"]),we=Object(I.default)(se.a).withConfig({displayName:"HotelCard__SubText",componentId:"sc-1a1ot7-7"})(["overflow:hidden;"]),Se=Object(I.default)(E.a).withConfig({displayName:"HotelCard__CardWrapper",componentId:"sc-1a1ot7-8"})(["transition:0.15s;cursor:pointer;&:hover{box-shadow:",";border-color:",";}"],function(e){return e.theme.boxShadows[3]},Object(k.g)("border.light")),ke=Object(I.default)(P.a).withConfig({displayName:"HotelCard__SavingsAndPriceFlex",componentId:"sc-1a1ot7-9"})(["height:",";"],function(e){return e.isGeniusBadge?"60px":"56px"}),Oe=Object(I.default)(P.a).withConfig({displayName:"HotelCard__AmenitiesAndRatingFlex",componentId:"sc-1a1ot7-10"})(["height:54px;border-bottom:1px solid rgba(192,202,213,0.5);"]),Pe=Object(I.default)(S.a).withConfig({displayName:"HotelCard__NeighborhoodNameBox",componentId:"sc-1a1ot7-11"})(["line-height:16px;"]),Ee=Object(I.default)(se.a.span).withConfig({displayName:"HotelCard__StarRatingText",componentId:"sc-1a1ot7-12"})(["letter-spacing:0.4px;line-height:15px;"]),Me=Object(I.default)(de.a).withConfig({displayName:"HotelCard__HotelNameText",componentId:"sc-1a1ot7-13"})(["line-height:16px;"]),_e=Object(I.default)(se.a.span).withConfig({displayName:"HotelCard__GeniusFlagWrapper",componentId:"sc-1a1ot7-14"})(["max-width:35px;"]),Ne=Object(I.default)(pe.a).withConfig({displayName:"HotelCard__CugNameIcon",componentId:"sc-1a1ot7-15"})(["vertical-align:middle;"]),He=Object(I.default)(se.a.span).withConfig({displayName:"HotelCard__CugNameText",componentId:"sc-1a1ot7-16"})(["vertical-align:middle;"]),Le=Object(I.default)(S.a).withConfig({displayName:"HotelCard__VIPBox",componentId:"sc-1a1ot7-17"})(["height:24px;"]),Re=function(e){var t=e.className,n=e.imageURL,a=e.hotelName,o=e.merchandising,i=e.subtitle,r=e.price,l=e.currencySymbol,s=e.dataAutobotElementId,c=e.handleClick,d=e.hotelId,p=e.guestRating,u=e.guestRatingColor,h=e.subText,m=e.amenities,f=e.maxNumOfAmenities,v=e.strikePrice,b=e.isGeniusBadge,y=e.cugPriceColor,x=e.iconName,I=e.starLevelCopy,C=e.pclnVipSize,w=e.showPclnVip,k=m&&m.length>0,E=k?m.slice(0,f):[];return g.a.createElement(Se,{width:"276px",boxShadowSize:"md",borderRadius:"2px","data-autobot-element-id":s,onClick:c,role:"button",className:t,bg:"background.lightest"},g.a.createElement(ge,{imageURL:n},g.a.createElement(ve,{top:0,left:0}),g.a.createElement(O.a,{left:0,bottom:"12px",width:"100%"},g.a.createElement(be,{fontSize:2,color:"text.lightest",pl:"12px"},I&&g.a.createElement(S.a,{mb:1},g.a.createElement(Ee,{caps:!0,fontSize:"11px"},I)),g.a.createElement(Me,null,a)))),g.a.createElement(Oe,{pl:"12px",flexDirection:"column"},g.a.createElement(P.a,{mt:"9px",alignItems:"center"},g.a.createElement(ye,{bg:u},p),g.a.createElement(be,{fontSize:0,color:"text.base",ml:"8px"},"Guest Rating",k&&g.a.createElement(se.a.span,{mx:"7px"},"|")),k&&E.map(function(e,t){return g.a.createElement(pe.a,{key:e.icon+t,size:14,color:"text.base",mr:"6px",name:e.icon})})),g.a.createElement(Pe,{mt:1},h&&g.a.createElement(we,{fontSize:0,color:"text.light",pr:2},g.a.createElement(de.a,null,h)))),g.a.createElement(ke,{px:"12px",alignItems:"center",isGeniusBadge:b},g.a.createElement(P.a,{flexDirection:"column"},g.a.createElement(P.a,{alignItems:"center"},(null==o?void 0:o.flagText)&&!w&&g.a.createElement(xe,{width:"109px",bg:o.merchandisingColor,fontSize:"10px",py:1,px:2,color:o.flagTextColor},!b&&d&&g.a.createElement(Ne,{name:x,color:"text.lightest",size:14,mr:1}),g.a.createElement(He,null,o.flagText)),w&&g.a.createElement(P.a,{flexDirection:"row",alignItems:"center",justifyContent:"center","data-testid":"HCC_HC_PCLN_VIPICON"},g.a.createElement(S.a,{mr:"8px",mt:"4px"},g.a.createElement(fe.a,null)),g.a.createElement(Le,null,g.a.createElement(me.a,{fontSize:C})),i&&!b&&g.a.createElement(S.a,null,g.a.createElement(se.a,{fontWeight:"bold",fontSize:1,color:o&&o.merchandisingColor||"secondary.base",ml:"8px",mt:"auto"},g.a.createElement(de.a,null,i)))),b&&g.a.createElement(_e,{mt:1,ml:2},g.a.createElement(he.a,{iconHeight:"18px"})),i&&!b&&g.a.createElement(se.a,{fontWeight:"bold",fontSize:1,color:o&&o.merchandisingColor||"secondary.base",ml:"8px",mt:"auto"},!w&&g.a.createElement(de.a,null," ",i))),i&&b&&g.a.createElement(se.a,{fontWeight:"bold",fontSize:1,color:o&&o.merchandisingColor||"blue"},i)),g.a.createElement(Ce,{ml:"auto"},v&&g.a.createElement(se.a,{fontSize:0,color:"text.base",fontWeight:"bold"},"was ",g.a.createElement(ue.e,{price:v,currencySymbol:l,color:"text.base",toFixDecimal:"0",size:"small",strikeColor:"transparent",bold:!0})),g.a.createElement(Ie,{price:r,currencySymbol:l,color:y,size:"small",toFixDecimal:"0"}))))};Re.defaultProps={guestRatingColor:"orange",maxNumOfAmenities:6,isGeniusBadge:!1,cugPriceColor:"pricePrimary.base",pclnVipSize:"24px",showPclnVip:!1};var Te=Re,je=function(e){var t=document.getElementById("map-hotellisting-wrapper");if(e){var n=document.getElementById("map-hotel-".concat(e));if(n){var a=n.offsetTop,o=t.scrollTop;if(0!=a-o){var i=Date.now();window.requestAnimationFrame(function e(){var n=Date.now(),r=Math.min(1,(n-i)/500),l=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(r);t.scrollTop=l*(a-16-o)+o,r<1&&window.requestAnimationFrame(e)})}}}else t&&(t.scrollTop=0)},De=n(1201);var ze=g.a.memo(Te),Ae=Object(I.default)(q.a).withConfig({displayName:"MapListings__HotelBox",componentId:"sc-1bvu004-0"})(["width:280px;height:",";border-radius:2px;transition:background-color 0.15s;&:hover{background-color:",";}",""],function(e){return e.isGeniusBadge?"280px":"276px"},Object(k.g)("background.dark"),function(e){return e.active&&"\n    background-color: ".concat(Object(k.g)("background.dark")(e),";\n\n    > div {\n      box-shadow: ").concat(e.theme.boxShadows[3],";\n      border-color: transparent;\n    }\n  ")}),Fe=Object(I.default)(Z.a).withConfig({displayName:"MapListings__HotelLink",componentId:"sc-1bvu004-1"})(["",""],function(e){return e.hide&&"\n      display: none;\n    "}),Be=Object(I.default)(ze).withConfig({displayName:"MapListings__MapHotelCard",componentId:"sc-1bvu004-2"})(["background-color:transparent;&:hover{border-color:transparent;}> div{background-color:",";}"],Object(k.g)("background.lightest")),We={flagText:"Express Deal",flagTextColor:"text.lightest",merchandisingColor:"primary.base"},Ze={flagText:"Instant Reward",flagTextColor:"text.lightest",merchandisingColor:"primary.dark"},qe={flagTextColor:"text.lightest",merchandisingColor:"primary.dark"},Qe={flagText:"INSTANT DISCOUNT",flagTextColor:"text.lightest",merchandisingColor:"primary.dark"},Ve=function(e){d()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=m()(e);if(t()){var o=m()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return u()(this,n)}}(n);function n(e){var a;return o()(this,n),a=t.call(this,e),D()(s()(a),"onClickCard",function(){G.a.logEvent({event:null,category:"hotel+list+mapview",action:"button_click",label:"listing_card"})}),a.renderHotels=a.renderHotels.bind(s()(a)),a}return r()(n,[{key:"componentDidMount",value:function(){this.props.activeHotel&&je(this.props.activeHotel.hotelId)}},{key:"componentDidUpdate",value:function(e){this.props.activeHotel&&this.props.activeHotel!==e.activeHotel?je(this.props.activeHotel.hotelId):this.props.listing!==e.listing&&je()}},{key:"keyGenerator",value:function(e){return e.hotelId?"mapListings-".concat(e.hotelId):"mapListing-".concat(e.zoneId,"-").concat(e.price,"-").concat(e.hotelName)}},{key:"getMerchandising",value:function(e){var t=e.cugProgramName,n=e.hotel,a=e.isGeniusBadge;e.isMobile;return(null==n?void 0:n.isInstantDiscount)?Qe:Boolean(null==n?void 0:n.hotelId)?Object(le.b)(t)||a?qe:null:We}},{key:"renderHotels",value:function(){var e=this,t=this.props,n=t.listing,a=n.hotels,o=n.cityId,i=n.isSOPQ,r=t.activeZone,l=t.activeHotel,s=t.hoverIn,c=t.hoverOut,d=t.pclnBootstrapData,p=d.isMobile,u=d.userAgent,h=d.partnerSlug;return a.filter(function(e){var t;return!(null==e?void 0:null===(t=e.sponsoredInfo)||void 0===t?void 0:t.rank)}).map(function(t){var n=r&&r.zoneId!==t.zoneId,a=b()(t,"cugProgramName"),d=a&&"genius"===a.toLowerCase(),m=b()(t,"hotelId"),f=m&&Math.floor(m/1e3),v="https://mobileimg.priceline.com/htlimg/".concat(f,"/").concat(m,"/thumbnail-300-landscape.jpg"),y=a&&Object(De.a)(a)&&Object(De.a)(a).savingIcon,x=i?{hotelId:b()(t,"hotelId"),hotelName:b()(t,"contentProps.hotelName"),guestRating:b()(t,"contentProps.score"),guestRatingColor:"alert.base",price:b()(t,"priceSectionProps.price"),currencySymbol:b()(t,"priceSectionProps.currencySymbol"),imageURL:b()(t,"imageProps.imageURL"),merchandising:b()(t,"hotelId")?p?Ze:qe:We,subtitle:t.displaySavingsPct?"".concat(t.displaySavingsPct,"% Off"):null,zoneId:b()(t,"zoneId")}:{hotelId:b()(t,"hotelId"),hotelName:b()(t,"contentProps.hotelName"),guestRating:b()(t,"contentProps.score"),guestRatingColor:"alert.base",price:b()(t,"priceSectionProps.price"),currencySymbol:b()(t,"priceSectionProps.currencySymbol"),imageURL:b()(t,"imageProps.imageURL"),subText:b()(t,"locationProps.neighborhoodName")};p||(x.starRating=b()(t,"starRating"),x.amenities=b()(t,"contentProps.uniqueAmenitiesIcon"),x.strikePrice=b()(t,"displayStrikePrice"),i?x.subText=b()(t,"contentProps.hotelLocation"):(x.starLevelCopy=m?b()(t,"contentProps.starLevelText"):null,x.isGeniusBadge=d,x.cugPriceColor=d||y?"primary.dark":"secondary.base",x.iconName=y,x.imageURL=m?v:b()(t,"imageProps.imageURL"),x.subtitle=t.displaySavingsPct?"".concat(t.displaySavingsPct,"% Off"):null,x.merchandising=e.getMerchandising({cugProgramName:a,hotel:t,isGeniusBadge:d,isMobile:p}),x.showPclnVip=Object(le.b)(a),x.subText=b()(t,"locationProps.neighborhoodName")||b()(t,"contentProps.hotelLocation")));var I=Object(re.c)({pclnId:t.pclnId,hotelId:t.hotelId,price:t.priceSectionProps.price,currencyCode:t.priceSectionProps.currencyCode,gid:t.gid,cug:t.programName,isMobile:p,userAgent:u,cityId:o,preferredRateId:t.priceSectionProps.preferredRateId,metaId:t.metaId,searchForm:e.props.searchForm,partnerSlug:h}),C=Boolean(l)&&l.hotelId===x.hotelId,w=e.keyGenerator(x);return g.a.createElement(Fe,{href:I,target:"_blank",key:w,hide:n,onClick:e.onClickCard},g.a.createElement(Ae,{id:"map-hotel-".concat(x.hotelId),mb:"12px",onMouseEnter:function(){s(t)},onMouseLeave:function(){c(t)},active:C,isGeniusBadge:d},g.a.createElement(O.a,{top:"2px",left:"2px",width:1},g.a.createElement(Be,x))))})}},{key:"render",value:function(){return g.a.createElement(S.a,{p:3},this.renderHotels())}}]),n}(g.a.Component),Ye=Object(C.connect)(function(e){return{listing:e.graphQLResponse,searchForm:e.searchForm,pclnBootstrapData:e.pclnBootstrapData}})(Ve),Ge=n(1279),Ue=n(1233),Xe=n(1408),Je=n(1203),Ke=n.n(Je),$e=n(373),et=n(386);var tt={UNLOCKED_EXPRESS_DEAL:"primary.dark"},nt=Object(I.default)(Z.a).withConfig({displayName:"FullHotelMap__MobileLink",componentId:"sc-8ombvb-0"})(["&:hover{text-decoration:none;}"]),at=Object(I.default)(P.a).withConfig({displayName:"FullHotelMap__Wrapper",componentId:"sc-8ombvb-1"})(["position:relative;height:100%;"]),ot=Object(I.default)(q.a).withConfig({displayName:"FullHotelMap__MapWrapper",componentId:"sc-8ombvb-2"})(["height:100%;flex-grow:1;"]),it=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__CloseIconWrapper",componentId:"sc-8ombvb-3"})(["height:40px;box-shadow:",";text-align:center;> svg{position:relative;top:5px;transition:transform 0.3s;}cursor:pointer;"],function(e){return e.theme.boxShadows[2]}),rt=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__ListingWrapper",componentId:"sc-8ombvb-4"})(["height:100%;overflow:auto;"]),lt=Object(I.default)(q.a).withConfig({displayName:"FullHotelMap__ListingWidthWrapper",componentId:"sc-8ombvb-5"})(["width:312px;height:100%;overflow:hidden;border-right:1px solid ",";box-shadow:",";z-index:1;transition:width 0.3s;"],Object(k.g)("border.base"),function(e){return e.theme.boxShadows[2]}),st=Object(I.default)(q.a).withConfig({displayName:"FullHotelMap__ListingOuterWrapper",componentId:"sc-8ombvb-6"})(["height:100%;","{","}","{","}"],lt,function(e){return e.hideList&&"\n      width: 0;\n    "},it,function(e){return e.hideList&&"\n      > svg {\n        transform: rotate(180deg);\n      }\n    "}),ct=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__FloatLoaderWrapper",componentId:"sc-8ombvb-7"})(["transform:translateX(-50%);"]),dt=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__MobileCardWrapper",componentId:"sc-8ombvb-8"})(["left:50%;transform:translateX(-50%);width:calc(100% - 16px);max-width:420px;bottom:16px;.mbcard-enter{transform:translateY(calc(100% + 16px));}.mbcard-enter-active{transform:translateY(0);transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}.mbcard-exit{transform:translateY(0);}.mbcard-exit-active{transform:translateY(calc(100% + 16px));transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}"]),pt=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__SwipableMobileCardWrapper",componentId:"sc-8ombvb-9"})(["left:50%;transform:translateX(-50%);width:calc(100% - 16px);max-width:420px;bottom:16px;.mbcard-enter{transform:",";}.mbcard-enter-active{transform:translateY(0);transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}.mbcard-exit{transform:translateY(0);}.mbcard-exit-active{transform:",";transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}"],function(e){return"left"!==e.direction&&e.direction?"translateX(calc(-100% - 16px))":"translateX(calc(100% + 16px))"},function(e){return"left"!==e.direction&&e.direction?"translateX(calc(100% + 16px))":"translateX(calc(-100% - 16px))"}),ut=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__MobileSOPQCardsWrapper",componentId:"sc-8ombvb-10"})(["left:0;width:100%;bottom:16px;.mbsopqcard-enter{transform:translateY(calc(100% + 16px));}.mbsopqcard-enter-active{transform:translateY(0);transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}.mbsopqcard-exit{transform:translateY(0);}.mbsopqcard-exit-active{transform:translateY(calc(100% + 16px));transition:transform 0.3s cubic-bezier(0.5,0,0.25,1);}"]),ht=Object(I.default)(P.a).withConfig({displayName:"FullHotelMap__MobileSOPQCardsFlex",componentId:"sc-8ombvb-11"})(["width:100%;overflow:auto;-webkit-overflow-scrolling:touch;","{width:calc(100% - 16px);max-width:420px;flex-shrink:0;padding-right:8px;&:first-child{padding-left:8px;}}"],nt),mt=Object(I.default)(O.a).withConfig({displayName:"FullHotelMap__POIMarkerWrapper",componentId:"sc-8ombvb-12"})(["transform:translateX(-50%);font-size:0;@keyframes drop{0%{transform:translateY(-400px);visibility:visible;}60%{transform:translateY(0);visibility:visible;}80%{transform:translateY(-30px);visibility:visible;}100%{transform:translateY(0);visibility:visible;}}svg{vertical-align:top;visibility:hidden;transform:translateY(-400px);animation:drop 0.3s ease-out 1s 1 forwards;}"]),ft=function(e){d()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=m()(e);if(t()){var o=m()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return u()(this,n)}}(n);function n(e){var a,i,r;o()(this,n),r=t.call(this,e),D()(s()(r),"initializeActive",function(){var e=b()(r.props,"mapView.initialActiveHotelId"),t=b()(r.props,"mapView.initialActiveZoneId");if(e){var n=r.props.listing,a=b()(n,"hotels",[]).find(function(t){return String(t.hotelId)===String(e)});a&&r.pinClickHandler(a)}if(t&&r.zones){var o=r.zones[t];o&&r.zoneClickHandler(o)}}),D()(s()(r),"renderTile",function(e){var t,n,a,o,i,r,l,s,c,d=(null==e?void 0:e.hotelId)&&Math.floor((null==e?void 0:e.hotelId)/1e3),p="https://mobileimg.priceline.com/htlimg/".concat(d,"/").concat(null==e?void 0:e.hotelId,"/thumbnail-300-landscape.jpg"),u=null==e?void 0:null===(t=e.locationProps)||void 0===t?void 0:t.neighborhoodName,h=null==e?void 0:null===(n=e.locationProps)||void 0===n?void 0:null===(a=n.address)||void 0===a?void 0:a.addressLine1,m={amenities:null==e?void 0:null===(o=e.contentProps)||void 0===o?void 0:o.hotelAmenitiesForTray,currencyCode:null==e?void 0:null===(i=e.priceSectionProps)||void 0===i?void 0:i.currencyCode,currencySymbol:null==e?void 0:null===(r=e.priceSectionProps)||void 0===r?void 0:r.currencySymbol,guestRating:null==e?void 0:null===(l=e.contentProps)||void 0===l?void 0:l.score,hotelName:null==e?void 0:null===(s=e.contentProps)||void 0===s?void 0:s.hotelName,imageURL:p,neighborhood:"".concat(u,", ").concat(h),price:null==e?void 0:null===(c=e.priceSectionProps)||void 0===c?void 0:c.price,stars:null==e?void 0:e.starRating};return e?g.a.createElement(U.a,T()({"data-testId":"TRAY_TILE"},m)):""}),D()(s()(r),"shouldRenderMobileCard",function(e){var t=r.swipableMapTest?pt:dt;return e?g.a.createElement(t,{direction:r.state.direction},g.a.createElement(W.CSSTransition,{in:r.shouldShowMobileCard(),classNames:"mbcard",timeout:300,unmountOnExit:!0,onEntered:r.onMobileCardEnter,onExited:r.onMobileCardExit},r.renderRetailMobileCard)):(r.cleanPrevHotel(),null)}),D()(s()(r),"shouldRenderSOPQMobileCards",function(e){return e?g.a.createElement(ut,null,r.renderMobileSOPQCards()):null}),D()(s()(r),"onMobileCardEnter",function(){r.setState({prevHotel:r.state.hotel})}),D()(s()(r),"onMobileCardExit",function(){r.setState({prevHotel:null})}),D()(s()(r),"cleanPrevHotel",function(){r.state.prevHotel&&r.setState({prevHotel:null})}),D()(s()(r),"renderRetailMobileCard",function(){return r.state.hotel||r.state.prevHotel?r.renderMobileCard(r.state.prevHotel||r.state.hotel):null}),D()(s()(r),"renderMobileSOPQCards",function(){if(!r.state.activeZone&&!r.state.prevZone)return null;var e=r.props.listing.hotels,t=r.state.prevZone||r.state.activeZone,n=e.filter(function(e){return e.zoneId===t.zoneId});return g.a.createElement(ht,null,n.map(function(e){return r.renderMobileCard(e)}))}),D()(s()(r),"updateActiveCard",function(e,t){var n=r.state.hotels,a=n.find(function(e){return e.pclnId===t.pclnId||Boolean(e.hotelId)&&e.hotelId===t.hotelId}),o=n.indexOf(a);if("left"===e){var i=n[o+1]||n[0];r.setState({hotel:i,direction:"left"})}else if("right"===e){var l=n[o-1]||n[n.length-1];r.setState({hotel:l,direction:"right"})}}),D()(s()(r),"handleSwipeRight",function(){r.swipableMapTest&&!r.props.listing.isSOPQ&&r.updateActiveCard("right",r.state.hotel)}),D()(s()(r),"handleSwipeLeft",function(){r.swipableMapTest&&!r.props.listing.isSOPQ&&r.updateActiveCard("left",r.state.hotel)}),D()(s()(r),"renderMobileCard",function(e){var t=r.props,n=t.listing.cityId,a=t.authentication,o=t.pclnBootstrapData,i=Object(et.a)(e,{authentication:a,pclnBootstrapData:o});i.showNewPriceSection=!0,i.isMobile=!0;var l=Object(re.c)({pclnId:e.pclnId,hotelId:e.hotelId,price:e.priceSectionProps.price,currencyCode:e.priceSectionProps.currencyCode,gid:e.gid,cug:e.programName,isMobile:o.isMobile,userAgent:o.userAgent,cityId:n,preferredRateId:e.priceSectionProps.preferredRateId,metaId:e.metaId,searchForm:r.props.searchForm,partnerSlug:null==o?void 0:o.partnerSlug});return g.a.createElement(B.a,{onSwipedLeft:r.handleSwipeLeft,onSwipedRight:r.handleSwipeRight},g.a.createElement(nt,{href:l,target:"_blank"},g.a.createElement(E.a,{color:"background.lightest",borderRadius:"6px"},g.a.createElement($.a,T()({},i,{showNavyColor:r.props.navyBlueProximityMessaging,partnerMerchandisingComponent:Boolean(r.props.partner)&&g.a.createElement(ee.a,{id:"CARD_MERCHANDISING_COMPONENT"})})))))}),D()(s()(r),"onPOISelection",function(e){if(e&&e.id&&e.lat&&e.lon){if(!r.state.POIMarkers[e.id]){var t=e.id;r.setState(function(n){return{POIMarkers:L()(L()({},n.POIMarkers),{},D()({},t,{lat:e.lat,lng:e.lon}))}})}r.mapClickHandler(),r.state.map&&(r.state.map.setCenter({lat:e.lat,lng:e.lon}),r.state.map.setZoom(14))}}),D()(s()(r),"renderPOIMarkers",function(){return Object.keys(r.state.POIMarkers).map(function(e){return g.a.createElement(X.a,{lat:r.state.POIMarkers[e].lat,lng:r.state.POIMarkers[e].lng,key:e},g.a.createElement(mt,{zIndex:300,bottom:0,left:"50%"},g.a.createElement(V.a,{color:"strike",size:45})))})}),r.state={hotel:null,prevHotel:null,maps:null,map:null,hideList:!1,activeZone:null,prevZone:null,hoverHotel:null,POIMarkers:{},hotels:r.props.listing.hotels,direction:null};var l=null===(a=r.props)||void 0===a?void 0:null===(i=a.pclnBootstrapData)||void 0===i?void 0:i.isMobile;return r.mapOptions={fullscreenControl:!1,disableDefaultUI:l},r.zones=null,r.activeZoneId=null,r.mapCallbackFn=r.mapCallbackFn.bind(s()(r)),r.hoverIn=r.hoverIn.bind(s()(r)),r.hoverOut=r.hoverOut.bind(s()(r)),r.toggleList=r.toggleList.bind(s()(r)),r.openList=r.openList.bind(s()(r)),r.pinClickHandler=r.pinClickHandler.bind(s()(r)),r.zoneClickHandler=r.zoneClickHandler.bind(s()(r)),r.mapClickHandler=r.mapClickHandler.bind(s()(r)),r.fitMapBound=r.fitMapBound.bind(s()(r)),r.onBoundChange=r.onBoundChange.bind(s()(r)),r.forFitBound=!0,r.swipableMapTest="VARIANT"===M.a.getTestState("HTL_M_MAP_CARD_SWIPING"),r}return r()(n,[{key:"componentDidUpdate",value:function(e){if(this.state.maps&&this.state.map&&this.props.listing!==e.listing){var t,n,a,o=!this.props.searchForm.formChanged&&e.searchForm.formChanged,i=Array.isArray(null==e?void 0:null===(t=e.listing)||void 0===t?void 0:t.hotels)&&e.listing.hotels,r=Array.isArray(null===(n=this.props)||void 0===n?void 0:null===(a=n.listing)||void 0===a?void 0:a.hotels)&&this.props.listing.hotels;o||i.length!==r.length?this.fitMapBound(this.state.map,this.state.maps):this.fitMapBound(this.state.map,this.state.maps,!0)}}},{key:"onBoundChange",value:function(){this.forFitBound?this.forFitBound=!1:this.props.onMapBoundChange(ie(this.state.maps,this.state.map,50).toJSON())}},{key:"pinClickHandler",value:function(e){this.state.activeZone&&(oe(this.state.activeZone),this.setState({activeZone:null})),b()(this.state,"hotel.hotelId")!==b()(e,"hotelId")&&this.setState({hotel:e}),G.a.logEvent({event:null,category:"hotel+list+mapview",action:"button_click",label:"price_pin"})}},{key:"zoneClickHandler",value:function(e){this.state.activeZone&&oe(this.state.activeZone),this.state.hotel&&this.setState({hotel:null,prevHotel:null}),ae(e),this.state.activeZone!==e&&this.setState({activeZone:e}),this.openList()}},{key:"mapClickHandler",value:function(){this.state.activeZone&&oe(this.state.activeZone),(this.state.hotel||this.state.activeZone)&&this.setState({hotel:null,activeZone:null}),G.a.logEvent({event:null,category:"hotel+list+mapview",action:"button_click",label:"neighborhood_zone"})}},{key:"fitMapBound",value:function(e,t,n){var a=this.props,o=a.listing,i=o.hotels,r=o.isSOPQ,l=o.zonePolygonInfo,s=a.pclnBootstrapData.isMobile,c=new t.LatLngBounds;if(this.zones&&function(e){for(var t=0,n=Object.keys(e);t<n.length;t++)e[n[t]].setMap(null)}(this.zones),r){var d=Object(k.g)("primary.base")(this.props),p=Object(k.g)("primary.base")(this.props);this.zones=ne(t,e,c,l,this.zoneClickHandler,s,null,d,p)}n||(i.forEach(function(e){e.hotelId&&c.extend(new t.LatLng(e.latitude,e.longitude))}),this.forFitBound=!0,e.fitBounds(c)),this.swipableMapTest&&!r&&this.setState({hotels:i,hotel:i[0]})}},{key:"mapCallbackFn",value:function(e,t){this.setState({map:e,maps:t,sopqHotels:null,hotel:this.state.hotel,activeZone:null}),this.fitMapBound(e,t,!1),this.initializeActive(),e.addListener("click",this.mapClickHandler),e.addListener("bounds_changed",Ke()(this.onBoundChange,500))}},{key:"hoverIn",value:function(e){var t=e.zoneId;t&&this.zones?this.state.activeZone||(ae(this.zones[t]),this.activeZoneId=t):e.hotelId&&this.setState({activeHotel:e})}},{key:"hoverOut",value:function(e){var t=e.zoneId;t&&this.zones?this.state.activeZone||(oe(this.zones[t]),this.activeZoneId=null):e.hotelId&&this.setState({activeHotel:null})}},{key:"openList",value:function(){this.setState({hideList:!1})}},{key:"toggleList",value:function(){this.setState({hideList:!this.state.hideList})}},{key:"renderPins",value:function(){var e=this,t=this.props,n=t.listing.hotels,a=t.pclnBootstrapData.isMobile;return n.filter(function(e){return e.hotelId}).map(function(t){var n=b()(e.state,"hotel.hotelId");return g.a.createElement(X.a,{lat:t.latitude,lng:t.longitude,key:t.hotelId},g.a.createElement(Ue.a,{price:"".concat(t.priceSectionProps.currencySymbol).concat(t.priceSectionProps.price),handleClick:function(){e.pinClickHandler(t)},enableHoverChildren:!a,isActive:n===t.hotelId,isHighlighted:e.state.activeHotel===t,bg:t.cugProgramName?tt[t.cugProgramName]:"primary.base",isMobile:a,showChildren:a&&n===t.hotelId},!a&&e.renderTile(t)))})}},{key:"shouldShowMobileCard",value:function(){var e=b()(this.state,"hotel"),t=b()(this.state,"prevHotel");return t&&e===t||!t&&e}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.history,a=e.searchForm,o=e.searchedItemName,i=e.pclnBootstrapData,r=i.isMobile,l=i.partnerSlug;return!this.props.listing.isSOPQ&&r&&M.a.fireImpression("HTL_M_MAP_CARD_SWIPING"),g.a.createElement(at,{width:1},g.a.createElement(A.a,{query:"(min-width: ".concat(w.b.md,")")},g.a.createElement(st,{hideList:this.state.hideList},g.a.createElement(it,{width:"40px",color:"primary.base",right:"-40px",top:"16px",zIndex:"1",onClick:this.toggleList,role:"button"},g.a.createElement(Y.a,{color:"background.lightest",size:30})),g.a.createElement(lt,{hideList:this.state.hideList},g.a.createElement(rt,{id:"map-hotellisting-wrapper",top:0,right:0},g.a.createElement(Ye,{activeHotel:this.state.hotel,activeZone:this.state.activeZone,hoverIn:this.hoverIn,hoverOut:this.hoverOut}))))),g.a.createElement(ot,null,g.a.createElement(O.a,{zIndex:"4",top:"16px",left:["16px","16px","48px"]},g.a.createElement(Ge.a,{onItemSelection:this.onPOISelection,searchedItemName:o,isPOIOrAirportSearch:"AIRPORT"===(null==a?void 0:a.type)||"POI"===(null==a?void 0:a.type)})),g.a.createElement(O.a,{zIndex:2,right:16,top:16},g.a.createElement(Q.a,{xs:!0,sm:!0,md:!0,lg:!0},g.a.createElement(Xe.a,{history:n,partnerSlug:l,floating:!0,mapView:!0}))),t&&g.a.createElement(ct,{left:"50%",top:"auto",bottom:"24px",zIndex:"3"},g.a.createElement(E.a,{color:"background.lightest",boxShadowSize:"md",borderRadius:"2px",borderWidth:0,px:["32px","32px","64px"],py:["8px","8px","24px"]},g.a.createElement(J.a,null))),g.a.createElement(K.a,{mapCallbackFn:this.mapCallbackFn,options:this.mapOptions},this.renderPOIMarkers(),this.renderPins())),g.a.createElement(A.a,{query:"(max-width: ".concat(w.b.md,")")},this.shouldRenderMobileCard),g.a.createElement(A.a,{query:"(max-width: ".concat(w.b.md,")")},this.shouldRenderSOPQMobileCards))}}]),n}(f.Component),gt=Object(C.connect)(function(e){var t;return{listing:e.graphQLResponse,searchForm:e.searchForm,pclnBootstrapData:e.pclnBootstrapData,authentication:e.authentication,searchedItemName:null==e?void 0:null===(t=e.graphQLResponse)||void 0===t?void 0:t.searchedItemName,mapView:e.mapView}},function(e){return{onMapBoundChange:function(t){return e(Object($e.a)(t))}}})(Object(I.withTheme)(Object(te.a)(ft))),vt=n(387),bt=n(54),yt=n(1276),xt=n(61),It=n(1200),Ct=n(225),wt=function(e,t){var n=t.fetchMoreResult;return n?{listings:n.listings}:e},St=function(e){var t,n=e.ownProps,a=e.data,o=a.fetchMore,i=a.loading,r=a.listings,l=a.variables,s=a.error;return{getAllListingsResult:{onLoadMore:function(e){return o({variables:{offset:e},updateQuery:wt})},loading:i,variables:l,listings:r,params:null==n?void 0:null===(t=n.match)||void 0===t?void 0:t.params,error:s||b()(r,"errorMessage")}}},kt=n(92),Ot=n(137);var Pt=x()(function(){Object(kt.b)(function(){bt.q.preLoad()},5e3)}),Et={headerText:"LOADING MAP...",message:""},Mt="\n  html {\n    height: 100%;\n  }\n\n  body {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    height: 100%;\n  }\n\n  #root {\n    position: relative;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n    -ms-flex-positive: 1;\n    flex-grow: 1;\n  }\n\n  #pcln-global-footer {\n    display: none !important;\n  }\n\n  #pcln-global-header {\n    display: none !important;\n  }\n\n  ".concat(w.e.md,"{\n    #pcln-global-header {\n      display: block !important;\n    }\n  }\n"),_t=Object(I.default)(S.a).withConfig({displayName:"HotelMapListing__ItineraryBarWrapper",componentId:"sc-1apkqe7-0"})(["max-width:1280px;"]),Nt=Object(I.default)(S.a).withConfig({displayName:"HotelMapListing__FilterWrapper",componentId:"sc-1apkqe7-1"})(["",""],function(e){return"".concat(e.theme.mediaQueries.xl,"{\n    height: 100%;\n    overflow: auto;\n    padding-left: 24px;\n    padding-right: 24px;\n    border-right: 1px solid ").concat(Object(k.g)("border.base")(e),";\n    box-shadow: ").concat(e.theme.boxShadows[2],";\n  }")}),Ht=Object(I.default)(S.a).withConfig({displayName:"HotelMapListing__MapWrapper",componentId:"sc-1apkqe7-2"})(["height:100%;overflow:auto;flex-grow:1;"]),Lt=Object(I.default)(O.a).withConfig({displayName:"HotelMapListing__FullHeightContainer",componentId:"sc-1apkqe7-3"})(["width:100%;height:100%;display:flex;flex-direction:column;"]),Rt=Object(I.default)(P.a).withConfig({displayName:"HotelMapListing__PageWrapper",componentId:"sc-1apkqe7-4"})(["position:relative;height:100%;"]),Tt=Object(I.default)(E.a).withConfig({displayName:"HotelMapListing__SearchBarCard",componentId:"sc-1apkqe7-5"})(["position:relative;z-index:10;"]),jt=function(e){d()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=m()(e);if(t()){var o=m()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return u()(this,n)}}(n);function n(e){var a;return o()(this,n),(a=t.call(this,e)).state={isMobileFiltersOpen:!1},a.handleFilterToggle=a.handleFilterToggle.bind(s()(a)),a.typeaheadInitialDisplayValueTest="VARIANT"===M.a.getTestState("HTL_LST_TYPEAHEAD_DISPLAY_TEXT"),a}return r()(n,[{key:"componentDidUpdate",value:function(){var e,t,n,a,o,i=this.props.getAllListingsResult,r=i.variables,l=i.params,s=Boolean((null==l?void 0:l.lat)||(null==l?void 0:l.lon)),c=null==r?void 0:r.locationID,d=this.props.list.displayCityName,p=this.props.listType,u=this.typeaheadInitialDisplayValueTest&&s?c:d,h=(null===(e=this.props.pclnBootstrapData)||void 0===e?void 0:null===(t=e.partner)||void 0===t?void 0:null===(n=t.config)||void 0===n?void 0:null===(a=n.head)||void 0===a?void 0:null===(o=a.meta)||void 0===o?void 0:o.brandName)||Ot.b;document.title=Object(yt.a)({cityName:u,checkIn:r&&r.checkIn,checkOut:r&&r.checkOut,listType:p,isMap:!0,brandName:h})}},{key:"componentDidMount",value:function(){Pt()}},{key:"handleFilterToggle",value:function(){this.setState({isMobileFiltersOpen:!this.state.isMobileFiltersOpen})}},{key:"render",value:function(){var e,t,n,a=this.props,o=a.getAllListingsResult,i=a.isFiltering,r=a.list,l=r.searchedItemName,s=r.pageCount,c=r.offset,d=r.isSOPQ,p=r.error,u=r.formattedDates,h=r.isNoDateSearch,m=r.displayCityName,f=null==o?void 0:null===(e=o.variables)||void 0===e?void 0:e.locationID,v=Boolean((null==o?void 0:null===(t=o.params)||void 0===t?void 0:t.lat)||(null==o?void 0:null===(n=o.params)||void 0===n?void 0:n.lon)),y=this.typeaheadInitialDisplayValueTest&&v?f:m,x=this.typeaheadInitialDisplayValueTest&&v?y:l||y,I=b()(this.props,"location.state.isInvalidMaxLOS");if(o.error&&!o.listings||p)return g.a.createElement(bt.h,null);var C=o.loading&&!i&&(s<1||1===c),w={state:{location:"".concat(x," hotels")}};return g.a.createElement(S.a,null,g.a.createElement("style",null,Mt),C?g.a.createElement(_.a,{headerText:Et.headerText,message:Et.message}):g.a.createElement(Lt,{top:0,left:0},g.a.createElement(Tt,{color:"background.light",borderWidth:0,boxShadowSize:"md"},g.a.createElement(_t,{py:[0,0,0,0,3],px:[0,0,0,0,"24px"],mx:"auto"},g.a.createElement(vt.a,{checkInDate:o.variables.checkIn,checkOutDate:o.variables.checkOut,dateText:u,locationName:y,isNoDateSearch:h,isInvalidMaxLOS:I,onHotelsItineraryBarFilterClick:this.handleFilterToggle,isSOPQ:d,showMap:!0,showFilter:!0,mapView:!0}))),g.a.createElement(Rt,{justifyContent:"center",width:1,alignItems:"flex-start"},g.a.createElement(Nt,{pt:"16px"},g.a.createElement(P.a,{flexDirection:"column"},g.a.createElement(N.a,{history:this.props.history,handleFilterToggle:this.handleFilterToggle,isMobileFiltersOpen:this.state.isMobileFiltersOpen,handleProductTypeChange:this.handleProductTypeChange,isSOPQ:d,location:x,mapView:!0}))),g.a.createElement(Ht,null,g.a.createElement(gt,{history:this.props.history,location:w,loading:o.loading||i})))))}}]),n}(f.Component),Dt=Object(C.connect)(function(e){var t,n;return{isFiltering:null==e?void 0:null===(t=e.filters)||void 0===t?void 0:null===(n=t.loader)||void 0===n?void 0:n.isFiltering,list:null==e?void 0:e.graphQLResponse,authentication:null==e?void 0:e.authentication,pclnBootstrapData:null==e?void 0:e.pclnBootstrapData,reqQuery:null==e?void 0:e.reqQuery}})(function(e){return Object(xt.compose)(Object(xt.graphql)(It.n,{options:function(e){return{fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,errorPolicy:"all",variables:Object.assign({},Object(Ct.j)(e,"map"))}},props:St}))(e)}(jt));t.default=Dt}}]);