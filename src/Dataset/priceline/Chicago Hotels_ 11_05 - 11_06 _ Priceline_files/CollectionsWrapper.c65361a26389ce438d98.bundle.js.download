(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1230:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var a=n(61),i=n(56),l=n(3),o=n.n(l),r="\n{\n    rguid,\n    errorMessage,\n    hotels {\n        hotelId\n        quotes {\n            text\n        }\n        images {\n            imageHDUrl\n            imageUrl\n        }\n        hotelFeatures {\n          hotelAmenities {\n            code\n            name\n          }\n        }\n        hotelOtherInfo {\n          hotelCleanlinessDetails {\n            cleanlinessId\n            cleanlinessDetail\n          }\n        }\n    }\n}",c="\n    $deals:  [ContentDealType],\n    $cguid: String,\n    $rid: String,\n    $at: String,\n    $rguid: String,\n    $visitId: String,\n    $appc: String,\n    $responseOptions: String,\n    $addErrToResponse: Boolean\n",s="\nhotelContent(\n    cguid: $cguid,\n    deals: $deals,\n    rid: $rid,\n    at: $at,\n    rguid: $rguid,\n    visitId: $visitId,\n    appc: $appc,\n    responseOptions: $responseOptions,\n    addErrToResponse: $addErrToResponse\n)",d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.idListProp,a=[];if(n&&Array.isArray(o()(e,n))){var i=o()(e,n,[]);i.forEach(function(e){a.push({dealId:"".concat(e),isSopqHotel:isNaN(e)})})}else{var l="".concat(o()(e,"hotel.hotelId")||o()(e,"hotel.pclnId"));a.push({dealId:l,isSopqHotel:Boolean(o()(e,"hotel.pclnId"))})}return{deals:a,appc:e.appc,rid:e.rid,responseOptions:"ALL_AMENITIES,HOTEL_IMAGES,UHD_IMAGES",cguid:e.cguid,visitId:e.visitId,addErrToResponse:!0}},u=n(230),m=n.n(u),p=function(e,t){return{appc:o()(e,"pclnBootstrapData.appCode"),rid:o()(e,"pclnBootstrapData.rID"),visitId:o()(e,"pclnBootstrapData.vid"),cguid:o()(e,"pclnBootstrapData.cguid"),isMobile:o()(e,"pclnBootstrapData.isMobile")}},h={functionName:"loadHotelContent",propName:"shouldLoadHotelContent"},f=function(e,t){var n=t.idListProp,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i="\n    query getHotelContentDeals(\n      ".concat(e,"\n    )\n    {\n      ").concat(t,"\n      ").concat(n,"\n    }\n  ");return Object(a.gql)(i)}(),u=m()(d);return Object(a.compose)(Object(i.connect)(p),Object(a.graphql)(l,{skip:function(e){return!e.shouldLoadHotelContent},options:function(e){return{fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,errorPolicy:"all",variables:u(e,{idListProp:n})}},props:function(e){var t=e.data,n=t.error,a=t.hotelContent,i=t.loading,l=t.variables;return{loading:i,hotelsContent:o()(a,"hotels",[]),hotelContent:o()(a,"hotels[0]",null),variables:l,error:n}}}))(e)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(e,t)}},1244:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(33),i=n(64),l=n(232),o=function(e){var t=e.date,n=void 0===t?null:t,o=e.mask,r=void 0===o?"yyyyMMdd":o,c=function(e){return Object(l.a)(e)?e:Object(i.a)(e,new Date)}(n);return n?Object(a.a)(c,r):null}},1267:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=(n(1),n(1150)),o=n(49),r=n(2),c=n(3),s=n.n(c),d=Object(r.default)(l.a).withConfig({displayName:"Sticker__StickerBox",componentId:"sc-17r8wtr-0"})(["border-radius:3px;transform:rotate(","deg);"],function(e){return e.rotate}),u=function(e){var t=e.bg,n=e.fontSize,a=e.color,l=e.displayText,r=e.stickerBoxSpecs,c=s()(r,"rotate"),u=s()(r,"topSpacing"),m=s()(r,"leftSpacing");return i.a.createElement(d,{color:t,left:m,leftSpacing:m,px:"2px",rotate:c,top:u,topSpacing:u,zIndex:"1"},i.a.createElement(o.a,{color:a,fontSize:n,fontWeight:"bold"},l))};u.defaultProps={bg:"warning.base",fontSize:0,color:"text.lightest",displayText:"NEW",stickerBoxSpecs:{rotate:-10,topSpacing:0,leftSpacing:0}};var m=u;t.a=m},1279:function(e,t,n){"use strict";var a=n(6),i=n.n(a),l=n(13),o=n.n(l),r=n(14),c=n.n(r),s=n(8),d=n.n(s),u=n(16),m=n.n(u),p=n(17),h=n.n(p),f=n(12),g=n.n(f),v=n(9),b=n.n(v),C=n(0),x=n.n(C),y=(n(1),n(1203)),w=n.n(y),E=n(2),I=n(103),k=n(26),S=n(548),T=n(21),O=n(161),_=n(369);var N=Object(E.default)(I.a).withConfig({displayName:"POISearch__POISearchWrapper",componentId:"sc-30pkxb-0"})(["box-shadow:",";width:260px;"," transition:width .2s;"],function(e){return e.theme.boxShadows[2]},function(e){return e.active&&"\n    width: calc(100vw - 32px);\n\n    ".concat(e.theme.mediaQueries.md," {\n      width: 260px;\n    }\n\n    ").concat(e.theme.mediaQueries.lg," {\n      width: 400px;\n    }\n  ")}),R=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=g()(e);if(t()){var i=g()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return h()(this,n)}}(n);function n(e){var a;o()(this,n),a=t.call(this,e),b()(d()(a),"onDismiss",function(e){a.state.active&&a.elementRef&&!a.elementRef.contains(e.target)&&(a.setState({active:!1}),a.props.onDismiss&&a.props.onDismiss())}),b()(d()(a),"onItemSelection",function(e){a.setState({active:!1},function(){return Object(_.a)(e)}),a.props.onItemSelection&&a.props.onItemSelection(e)}),b()(d()(a),"onInputClick",function(){a.setState({active:!0,dropDownItems:[]}),a.props.onInputClick&&a.props.onInputClick()}),b()(d()(a),"typeaheadApiRequest",function(e){var t=Object(O.a)("TYPEAHEAD_ENDPOINT");return fetch("".concat(t).concat(e,"/0/5/0/5")).then(function(e){if(e.ok)return e.json()}).then(function(e){return e&&e.searchItems}).catch(function(e){k.a.logError({message:e.message,severity:3,stack:"molecules/POISearch POISearch.js"})})}),b()(d()(a),"apiRequestHandler",function(e){Array.isArray(e)?a.setState({dropDownItems:e.map(function(e){return i()(i()({},e),{},{content:e.itemName})})}):a.setState({dropDownItems:[]})}),b()(d()(a),"onTypeAheadChange",function(e){var t=e.target.value;t&&t.length>0?a.typeaheadApiRequest(t).then(a.apiRequestHandler):a.setState({dropDownItems:[]})}),a.state={dropDownItems:[],active:!1},a.elementRef=null;var l=a.props,r=l.searchedItemName,c=l.isPOIOrAirportSearch;return r&&c&&T.a.fireImpression("HTL_MAP_PERSIST_POI_PIN"),a.mapPinSetiTest=r&&c&&"VARIANT"===T.a.getTestState("HTL_MAP_PERSIST_POI_PIN"),a.mapPinSetiTest&&a.typeaheadApiRequest(r).then(function(e){a.onItemSelection(e[0])}),a}return c()(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onDismiss)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDismiss)}},{key:"render",value:function(){var e=this,t=this.props,n=t.alwaysActive,a=t.fontSize,i=t.inputId,l=t.isAddressPlottingSeti,o=t.maxWidth,r=t.isPoiSearchChip,c=t.searchedItemName,s=a?{style:{fontSize:a}}:null;return x.a.createElement(N,{innerRef:function(t){return e.elementRef=t},active:this.state.active||n,maxWidth:o},x.a.createElement(S.a,{clearInputOnClick:!0,dropDownItems:this.state.dropDownItems,floatMode:!0,id:i,initialValue:this.mapPinSetiTest?c:"",inputProps:s,onInputClick:this.onInputClick,onItemSelection:this.onItemSelection,onTypeAheadChange:w()(this.onTypeAheadChange,200),placeholder:l&&r?"Type an address, landmark, airport...":"Search attractions, airports, landmarks…"}))}}]),n}(x.a.Component);R.defaultProps={alwaysActive:!1,inputId:"hotel-map-poi-search",maxWidth:"none"};var A=R;t.a=A},1491:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=(n(1),n(2)),o=n(1147),r=n(1149),c=n(291),s=n(103),d=n(1155),u=n(49),m=Object(l.default)(o.a).withConfig({displayName:"CompactHotelCard__HotelImage",componentId:"sc-1c9ap2q-0"})(["object-fit:cover;border-radius:6px;width:56px;height:56px;"]),p=function(e){var t,n=e.className,a=e.location,l=e.name,o=e.nearbyPoiInfo,p=e.overallGuestRating,h=e.starRating,f=e.thumbnailUrl,g=e.totalReviewCount;return i.a.createElement(r.a,{borderRadius:"6px",color:"background.lightest",className:n,width:300},i.a.createElement(c.a,{flexDirection:"row",justifyContent:"flex-start",p:1,width:1},f&&i.a.createElement(m,{"aria-label":l,src:f}),i.a.createElement(s.a,{width:f?228:"auto",pl:f?2:0},l&&i.a.createElement(d.a,{color:"text.dark",fontSize:0,fontWeight:"bold"},l),o&&i.a.createElement(d.a,{color:"text.light",fontSize:"11px",fontWeight:"regular",mt:"2px"},o.distance," mi from ",o.itemName),!o&&(null==a?void 0:null===(t=a.address)||void 0===t?void 0:t.addressLine1)&&i.a.createElement(d.a,{color:"text.light",fontSize:"11px",fontWeight:"regular",mt:"2px"},a.address.addressLine1),i.a.createElement(c.a,{flexDirection:"row",justifyContent:"flex-start",pt:1},p&&i.a.createElement(r.a,{borderRadius:"2px",borderWidth:0,color:"alert.base",textAlign:"center",width:"26px"},i.a.createElement(u.a,{color:"text.lightest",fontSize:"11px",fontWeight:"bold"},p)),g&&i.a.createElement(u.a,{color:"text.dark",fontSize:"11px",ml:2},g," Reviews"),g&&Number(h)>0&&i.a.createElement(u.a,{mx:2,fontSize:"11px",color:"text.dark"},"|"),Number(h)>0&&i.a.createElement(u.a,{color:"text.dark",fontSize:"11px",ml:g||!p?0:2},h,"-Star Hotel")))))};p.defaultProps={location:{}};var h=p;t.a=h},1502:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=n(2),o=(n(1),n(103)),r=n(47),c=n.n(r),s=function(e,t){var n=e.primaryColor,i=(e.secondaryColor,e.title),l=e.titleId;c()(e,["primaryColor","secondaryColor","title","titleId"]);return a.createElement("svg",{viewBox:"0 0 90 14",ref:t,"aria-labelledby":l},i?a.createElement("title",{id:l},i):null,a.createElement("path",{fill:n,fillRule:"evenodd",d:"M5.269 3.007c1.928 0 3.422 1.459 3.422 4.077 0 1.61-.702 4.11-3.408 4.11-.875 0-1.327-.285-1.947-.662v3.234H1V3.216h2.067v.737c.074-.089.15-.18.234-.255a2.902 2.902 0 011.968-.69zm71.189-.07c1.157 0 2.076.39 2.754 1.17.68.78 1.018 1.838 1.016 3.172v.192a1.946 1.946 0 00-.012.2l-5.355-.008a2.443 2.443 0 00.469 1.54c.315.366.783.565 1.266.536.39.006.772-.121 1.081-.36.349-.29.62-.662.791-1.082l1.709.852a3.838 3.838 0 01-1.52 1.68 4.56 4.56 0 01-2.34.574c-1.153 0-2.067-.369-2.743-1.105-.675-.737-1.012-1.731-1.01-2.984 0-1.315.357-2.373 1.073-3.174a3.6 3.6 0 012.82-1.203zm-24.296 0c1.159 0 2.077.39 2.754 1.17.678.78 1.016 1.838 1.016 3.172 0 .064-.004.128-.012.192v.2l-5.347-.008a2.443 2.443 0 00.468 1.54c.313.364.779.562 1.259.536.39.007.771-.12 1.079-.36.347-.29.616-.662.784-1.082l1.708.852a3.838 3.838 0 01-1.51 1.68 4.564 4.564 0 01-2.34.574c-1.154 0-2.069-.369-2.743-1.105-.674-.737-1.008-1.731-1.001-2.984 0-1.315.358-2.373 1.076-3.174a3.6 3.6 0 012.809-1.203zm8.285-.014c1.212 0 2.08.21 2.602.632.523.421.784 1.124.784 2.106v.09l-.063 3.61v.356c-.005.306.014.61.056.913.023.175.083.342.176.492h-2.184a1.912 1.912 0 01-.089-.363 2.67 2.67 0 01-.03-.39v-.12c-.278.368-.64.662-1.058.859-.437.193-.91.29-1.388.28a2.708 2.708 0 01-1.898-.65 2.219 2.219 0 01-.702-1.716 2.422 2.422 0 01.435-1.437c.313-.43.749-.757 1.25-.936a14.46 14.46 0 012.083-.524c.48-.1.847-.178 1.105-.234V5.54a1.17 1.17 0 00-.255-.847 1.151 1.151 0 00-.845-.246 1.285 1.285 0 00-.864.234 1.04 1.04 0 00-.302.768h-2.298V5.42c-.03-.73.313-1.424.91-1.844.604-.435 1.462-.653 2.575-.653zm-37.978.103a3.817 3.817 0 012.637.993 4.06 4.06 0 00-1.01 1.752c0 .022-.043 0-.057-.016a1.83 1.83 0 00-.597-.702 1.542 1.542 0 00-.875-.272c-1.252 0-1.676 1.433-1.676 2.383 0 1.042.513 2.355 1.75 2.355.451-.003.878-.201 1.171-.543.069-.08.13-.165.183-.256.016-.025.054-.032.058 0a3.64 3.64 0 00.976 1.639 3.77 3.77 0 01-2.621 1.001c-1.51 0-3.911-.905-3.911-4.121.012-2.284 1.341-4.213 3.967-4.213h.005zm6.764-.1c.465.009 1.823.053 2.831 1.14 1.023 1.104 1.082 2.646 1.115 3.538H27.56c-.014.983.543 1.966 1.79 1.966 1.248 0 1.705-.83 1.993-1.39l1.743.891c-.263.427-.578.82-.936 1.17a4.311 4.311 0 01-2.968 1.12c-2.34 0-3.978-1.498-3.978-4.085 0-1.905.936-4.35 4.028-4.35zM36.628.438v3.335c.274-.258.599-.456.953-.583.38-.133.781-.199 1.184-.194a3.043 3.043 0 012.465 1.147c.624.764.936 1.77.936 3.016 0 1.272-.3 2.269-.901 2.991-.601.723-1.425 1.084-2.472 1.084A3.602 3.602 0 0137.457 11a2.677 2.677 0 01-1.014-.702v.835h-2.106L34.327.438h2.301zm30.69 0v5.766l2.661-3.023h2.575l-2.745 2.803 3.042 5.15h-2.687l-1.97-3.457-.876.88v2.574l-2.298-.002V.438h2.298zm-19.552 2.66v2.13c-.053 0-.112 0-.173-.011h-.262c-.641 0-1.097.114-1.367.344-.27.23-.405.61-.407 1.142v4.426h-2.296V3.17h2.207v.815a4.758 4.758 0 011.128-.632 3.714 3.714 0 011.17-.255zm38.053 0v2.13c-.053 0-.11 0-.173-.011h-.262c-.641 0-1.095.114-1.367.344-.271.23-.4.615-.4 1.147v4.42h-2.305V3.172h2.21v.815c.345-.26.724-.473 1.127-.632a3.714 3.714 0 011.17-.255zm-68.314.11V11h-2.296V3.209h2.296zm-3.3-.09v2.03l-.763.12C12.335 5.463 12 5.617 12 6.612V11H9.706V3.192h2.238v.82c.508-.433 1.06-.775 2.256-.895h.005zM61.516 7.33l-.468.117c-1.507.37-2.26.838-2.26 1.404-.012.25.09.49.276.656.213.167.48.25.75.234.473.024.932-.166 1.248-.517.325-.408.487-.922.454-1.442V7.33zM38.26 4.756c-.481-.013-.933.23-1.187.639a3.13 3.13 0 00-.433 1.764c0 .759.143 1.35.428 1.774.256.409.71.651 1.192.637.474.011.919-.23 1.17-.632.28-.421.421-1.016.421-1.779 0-.758-.14-1.35-.421-1.771a1.341 1.341 0 00-1.17-.632zm-33.354-.11a1.451 1.451 0 00-1.191.632c-.332.437-.482 1.114-.482 1.85 0 .993.255 1.611.557 1.943.272.285.648.447 1.041.452 1.13 0 1.639-1.22 1.639-2.455 0-1.037-.286-2.134-1.236-2.378a1.228 1.228 0 00-.328-.044zm47.228-.014a1.376 1.376 0 00-1.049.416c-.292.34-.467.764-.498 1.21h3.073a2.02 2.02 0 00-.469-1.205 1.39 1.39 0 00-1.057-.421zm24.28 0a1.376 1.376 0 00-1.047.416c-.289.34-.46.765-.491 1.21h3.084a2.036 2.036 0 00-.489-1.205 1.39 1.39 0 00-1.058-.421zm-47.198-.038c-.445 0-.87.187-1.17.515a2.069 2.069 0 00-.468 1.044h3.206a1.872 1.872 0 00-.437-1.119 1.638 1.638 0 00-1.13-.44zm58.792-3.129a.962.962 0 01.988.985.99.99 0 01-.492.866.992.992 0 01-1.362-.36 1.034 1.034 0 010-1 .995.995 0 01.866-.49zm-.429.265a.8.8 0 00-.3.3.892.892 0 000 .849c.072.125.176.229.3.302a.859.859 0 00.845 0 .807.807 0 00.297-.305.826.826 0 00.11-.426.805.805 0 00-.4-.72.87.87 0 00-.852 0zm.485.173a.508.508 0 01.34.105.342.342 0 01.126.28.365.365 0 01-.073.212.353.353 0 01-.164.13l.234.38h-.234l-.217-.337h-.246v.337h-.234V1.903h.468zm-.028.192h-.206v.39h.206a.29.29 0 00.18-.051.176.176 0 00.065-.145.17.17 0 00-.065-.145.29.29 0 00-.18-.05zM16.353 0a1.238 1.238 0 11.005 2.476A1.238 1.238 0 0116.353 0z"}))},d=a.forwardRef(s),u=a.memo(d),m=n(1251),p={small:"14px",medium:"16px",large:"20px"},h={small:"90px",medium:"104px",large:"128px"},f=function(e){return p[e]||p.large},g=function(e){return h[e]||h.large},v=Object(l.default)(o.a).withConfig({displayName:"ListingsLogo__LogoWrapper",componentId:"xwigk9-0"})(["height:",";line-height:0;"],function(e){return e.height});t.a=function(e){var t=e.size,n=void 0===t?"large":t,a=e.title,l=void 0===a?"Pricebreakers logo":a,o=Object(m.a)("secondary"),r=o.primaryColor,c=o.secondaryColor;return i.a.createElement(v,{height:f(n),width:g(n),"data-testid":"ListingsLogo-IconContainer"},i.a.createElement(u,{primaryColor:r,secondaryColor:c,title:l}))}},1538:function(e,t,n){"use strict";n.r(t);var a=n(20),i=n.n(a),l=n(47),o=n.n(l),r=n(6),c=n.n(r),s=n(13),d=n.n(s),u=n(14),m=n.n(u),p=n(8),h=n.n(p),f=n(16),g=n.n(f),v=n(17),b=n.n(v),C=n(12),x=n.n(C),y=n(9),w=n.n(y),E=n(0),I=n.n(E),k=n(1),S=n.n(k),T=n(56),O=n(2),_=n(21),N=n(103),R=n(1148),A=n(291),M=n(49),D=n(1153),H=n(76),L=n(1267),P=n(1502),j=Object(O.default)(M.a).withConfig({displayName:"CollectionsHeader__AntialiasedText",componentId:"vpavxh-0"})(["-webkit-font-smoothing:antialiased;"]),z=j,B=j,W=j,U=j,V=Object(O.default)(D.a).withConfig({displayName:"CollectionsHeader__DisplayTooltip",componentId:"vpavxh-1"})(["display:none;z-index:5;"]),F=Object(O.default)(D.a).withConfig({displayName:"CollectionsHeader__PriceChangeMessageTooltip",componentId:"vpavxh-2"})(["width:",";z-index:5;","{bottom:-16px;}"],function(e){return e.width},function(e){return e.theme.mediaQueries.lg}),G=Object(O.default)(A.a).withConfig({displayName:"CollectionsHeader__HeaderWrapper",componentId:"vpavxh-3"})(["justify-content:space-between;","{&:hover{","{display:block;}}}"],function(e){return e.theme.mediaQueries.lg},V),q=Object(O.default)(A.a).withConfig({displayName:"CollectionsHeader__PriceHeader",componentId:"vpavxh-4"})(["position:relative;"]),$=Object(O.default)(N.a).withConfig({displayName:"CollectionsHeader__TitleHeader",componentId:"vpavxh-5"})(["flex:1 0 auto;"]),Q=Object(O.default)(N.a).withConfig({displayName:"CollectionsHeader__BlueBox",componentId:"vpavxh-6"})(["border-radius:6px 6px 0 0;"]),X=function(e,t){return I.a.createElement(F,{bg:"background.dark",color:"text.lightest",top:!0,right:!0,width:t},I.a.createElement(M.a,{fontSize:0,fontWeight:"regular"},e))},Y=function(e){var t=e.bgColor,n=e.editing,a=e.hasSticker,i=e.priceChangeMessage,l=e.priceChangeMessageWidth,o=e.priceText,r=e.rateColor,c=e.rateInfo,s=c.price,d=c.currencySymbol,u=e.stickerProps,m=e.subtitle,p=e.tipBg,h=e.tipColor,f=e.tipText;return I.a.createElement(I.a.Fragment,null,a&&I.a.createElement(L.a,u),I.a.createElement(Q,{color:"primary.base",height:8}),I.a.createElement(G,{color:t},I.a.createElement($,{"data-testid":"TITLE_HEADER",mr:3,my:m?"unset":"auto",pl:3,pt:m?"12px":0,width:"60%",maxWidth:"none"},f&&I.a.createElement(V,{"aria-hidden":!0,bg:p,color:h,top:!0,left:!0},f),I.a.createElement(P.a,{size:m?"small":"large"}),m&&I.a.createElement(U,{color:"text.dark","data-testid":"HEADER_SUBTITLE_TEXT",fontSize:[0,null,null,2],fontWeight:"bold",pt:[2,null,null,1]},n?"":m)),I.a.createElement(H.a,{maxWidth:"lg",ignore:!1},I.a.createElement(A.a,{flexDirection:"column",mt:[m?"12px":1,"12px"],pr:"12px"},i&&X(i,l),I.a.createElement(N.a,{width:83},I.a.createElement(j,{color:"text.dark",fontSize:0,textAlign:"right"},o)),I.a.createElement(A.a,{justifyContent:"flex-end",flexDirection:"row"},I.a.createElement(z,{color:r,lineHeight:3,fontSize:0,fontWeight:"bold",mr:1,mt:-1},d),I.a.createElement(B,{color:r,fontSize:4,fontWeight:"bold"},n?s.replace(/[0-9]/g,"_"):s)))),I.a.createElement(H.a,{minWidth:"lg",ignore:!1},I.a.createElement(q,{alignItems:"center",flexDirection:"row",pr:3},I.a.createElement(W,{color:"text.dark",fontSize:2,maxWidth:"105px",mr:3},o),I.a.createElement(z,{color:r,fontSize:3,fontWeight:"bold",mr:1,mt:-3},d),I.a.createElement(B,{color:r,fontSize:6,fontWeight:"bold"},i&&X(i,l),n?s.replace(/[0-9]/g,"_"):s)))))};Y.defaultProps={bgColor:"background.lightest",priceChangeMessageWidth:"240px",priceText:"Collection Price",tipBg:"background.darkest",tipColor:"text.lightest",tipText:"",title:"Collection",rateColor:"pricePrimary.base"};var K=Y,J=n(138),Z=n.n(J),ee=n(1146),te=n(361),ne=n(4),ae=n(1056),ie=n(1302),le=n(1100),oe=n(1094),re=Object(O.default)(te.b).withConfig({displayName:"WhichHotel__WhichHotelBtn",componentId:"rbljhv-0"})(["height:32px;white-space:nowrap;"]),ce=function(e){var t=e.buttonText,n=e.className,a=e.onClick;return a?I.a.createElement(re,{className:n,color:"background.lightest",textAlign:"center",onClick:a,p:2},I.a.createElement(A.a,{alignItems:"center",height:"100%",justifyContent:"center"},I.a.createElement(M.a,{color:"primary",fontSize:1,fontWeight:"regular"},t))):null};ce.defaultProps={buttonText:"Which hotel will I get?"};var se=ce,de=Object(O.default)(ee.a).withConfig({displayName:"CollectionsFooter__BorderRadiusBanner",componentId:"wis9lp-0"})(["border-radius:0 0 ","px ","px;"],function(e){return e.theme.radii[2]},function(e){return e.theme.radii[2]}),ue=A.a,me=A.a,pe=A.a,he=Object(O.default)(te.b).withConfig({displayName:"CollectionsFooter__CollectionBookButton",componentId:"wis9lp-1"})(["align-self:center;min-width:144px;white-space:nowrap;visibility:",";"],function(e){return e.editing?"hidden":"visible"}),fe=Object(O.default)(te.b).withConfig({displayName:"CollectionsFooter__FeatureButton",componentId:"wis9lp-2"})(["border:1px solid ",";height:32px;white-space:nowrap;"],function(e){return e.selected?Object(ne.g)("primary.base")(e):Object(ne.g)("border.base")(e)}),ge=Object(O.default)(A.a).withConfig({displayName:"CollectionsFooter__HeightFlex",componentId:"wis9lp-3"})(["height:100%;"]),ve=Object(O.default)(A.a).withConfig({displayName:"CollectionsFooter__VisibilityFlex",componentId:"wis9lp-4"})(["visibility:",";"],function(e){return e.editing?"hidden":"visible"}),be=function(e){var t=e.disclaimerText,n=e.footerText;return I.a.createElement(A.a,{flexDirection:["column",null,null,"row"],mt:["12px",null,null,0]},I.a.createElement(A.a,{flexDirection:"row"},I.a.createElement(ie.a,{color:"text.light",size:16}),I.a.createElement(M.a,{color:"text.light",fontSize:0,ml:1},t)),I.a.createElement(A.a,{flexDirection:"row",mt:[1,null,null,0],ml:[0,null,null,3]},I.a.createElement(ie.a,{color:"text.light",size:16}),I.a.createElement(M.a,{color:"text.light",fontSize:0,ml:1},n)))},Ce={buttonText:"Book",disclaimerText:"2 guests per room (or less).",footerText:"We’ll reveal your hotel right after you book.",onHandleBook:Z.a,whichHotel:null},xe=function(e){var t=e.buttonText,n=e.className,a=e.disclaimerText,i=e.editCollections,l=e.editing,o=e.errorMessage,r=e.footerText,c=e.hideToggle,s=e.onHandleBook,d=e.showMap,u=e.toggleEdit,m=e.toggleMap,p=e.whichHotelProps;return I.a.createElement(N.a,{width:1},I.a.createElement(A.a,{className:n,flexDirection:"column",m:["0 12px 12px",null,null,"0 16px 16px"]},I.a.createElement(ae.a,{xs:!0,sm:!0,md:!0},be({disclaimerText:a,footerText:r})),I.a.createElement(me,{flexDirection:["column",null,null,"row"]},!c&&I.a.createElement(pe,{alignItems:"center",flexDirection:"row",justifyContent:["space-between",null,null,"flex-start"],mt:[0,null,null,2],width:[1,null,null,"40%"]},I.a.createElement(ve,{"aria-hidden":l,editing:l},I.a.createElement(fe,{"aria-checked":!d,color:d?"background.lightest":"primary.light",onClick:d?m:null,p:2,role:"checkbox",selected:!d},I.a.createElement(ge,{alignItems:"center",width:1},I.a.createElement(le.a,{color:"primary.base",size:16}),I.a.createElement(M.a,{color:"primary.base",fontSize:0,fontWeight:"regular",ml:2},"List"))),I.a.createElement(fe,{"aria-checked":d,color:d?"primary.light":"background.lightest",ml:2,onClick:d?null:m,p:2,role:"checkbox",selected:d},I.a.createElement(ge,{alignItems:"center",width:1},I.a.createElement(oe.a,{color:"primary.base",size:16}),I.a.createElement(M.a,{color:"primary.base",fontSize:0,fontWeight:"regular",ml:2},"Map")))),i&&I.a.createElement(fe,{color:l?"primary.base":"background.lightest",ml:2,onClick:u,p:2,selected:l},I.a.createElement(ge,{alignItems:"center",width:1},I.a.createElement(M.a,{color:l?"text.lightest":"primary.base",fontSize:["11px",0],fontWeight:"regular"},l?"Cancel":"Edit Hotel Options")))),c&&I.a.createElement(A.a,{alignItems:"center",justifyContent:"space-between",my:["12px",null,null,0],width:[1,null,null,"40%"]},i&&I.a.createElement(fe,{color:l?"primary.base":"background.lightest",onClick:u,p:2,selected:l},I.a.createElement(ge,{alignItems:"center",width:1},I.a.createElement(M.a,{color:l?"text.lightest":"primary.base",fontSize:["11px",0],fontWeight:"regular"},l?"Cancel":"Edit Hotel Options"))),p&&I.a.createElement(N.a,{display:["block",null,null,"none"]},I.a.createElement(se,{buttonText:null==p?void 0:p.buttonText,onClick:null==p?void 0:p.onClick}))),I.a.createElement(ue,{alignItems:"center",flexDirection:["column",null,null,"row"],justifyContent:"flex-end",width:[1,null,null,"60%"]},p&&I.a.createElement(N.a,{display:c?["none",null,null,"block"]:"block",my:[2,null,null,0]},I.a.createElement(se,{buttonText:null==p?void 0:p.buttonText,onClick:null==p?void 0:p.onClick})),I.a.createElement(he,{"aria-hidden":l,color:"secondary",editing:l,ml:[0,null,null,2],onClick:s,size:"large",width:[1,null,null,"unset"]},t))),I.a.createElement(ae.a,{lg:!0,xl:!0,xxl:!0},be({disclaimerText:a,footerText:r}))),o&&function(e){return I.a.createElement(de,{color:"notify.light",showIcon:!1},I.a.createElement(M.a,{color:"text.dark",fontSize:"11px",px:"12px",py:2},e))}(o))};xe.defaultProps=Ce;var ye=xe,we=n(1518),Ee=n(1149),Ie=n(1065),ke=Object(O.default)(M.a.span).withConfig({displayName:"AttributeStatus__AttributeText",componentId:"hm15rv-0"})(["text-decoration:",";color:",";"],function(e){return e.isMissing?"line-through":"none"},function(e){return e.isMissing?Object(ne.g)("text.light"):Object(ne.g)("black")}),Se=function(e){var t=e.className,n=e.attribute,a=e.attributesToDisplay,i=e.attributeDivider,l="Missing"===n;return a&&I.a.createElement(M.a,{className:t,fontSize:0,lineHeight:"18px"},I.a.createElement(M.a.span,{mr:2,fontWeight:"bold"},n,":"),I.a.createElement(ke,{isMissing:l},a.join("".concat(i))))};Se.defaultProps={attributesToDisplay:[],attributeDivider:", "};var Te=Se,Oe=n(184),_e=n.n(Oe),Ne=n(1303),Re=n(1070),Ae=n(1116),Me=n(557),De=Object(O.default)(te.b).withConfig({displayName:"MapToggleView__BoxShadowButton",componentId:"sc-1lx2z15-0"})(["border-radius:6px 6px 0 0;","{border-radius:6px 0 0 6px;}"],function(e){return e.theme.mediaQueries.lg}),He=Object(O.default)(A.a).withConfig({displayName:"MapToggleView__ColorFlex",componentId:"sc-1lx2z15-1"})(["color:",";&:hover{color:",";}"],Object(ne.g)("primary.base"),Object(ne.g)("primary.dark")),Le=function(e){var t=e.buttonText,n=e.className,a=e.fallbackText,l=e.isButton,o=e.showUp,r=e.showLeft,c=e.textColor,s=e.dsProps;return I.a.createElement(Ee.a,i()({borderRadius:["6px 6px 0 0",null,null,"6px 0 0 6px"],borderWidth:1,className:n,color:"background.lightest",height:l?["46px",null,null,"74px"]:["30px",null,null,"74px"],p:1,width:l?["112px",null,null,"52px"]:["116px",null,null,"48px"]},s),I.a.createElement(He,{alignItems:"center",flexDirection:["row",null,null,"column"],height:"100%",justifyContent:"center",p:[0,null,null,1],width:1},I.a.createElement(ae.a,{"aria-hidden":!0,xs:!0,sm:!0,md:!0,height:"20px",mb:1},r?I.a.createElement(Ne.a,{color:c,size:20}):I.a.createElement(Re.a,{color:c,size:20})),I.a.createElement(M.a,{textAlign:"center",color:c,fontSize:1,fontWeight:"regular"},t||a),I.a.createElement(ae.a,{"aria-hidden":!0,lg:!0,xl:!0,xxl:!0,height:"20px",ml:1},o?I.a.createElement(Ae.a,{color:c,size:20}):I.a.createElement(Me.a,{color:c,size:20}))))},Pe=function(e){var t=e.buttonText,n=e.className,a=e.onClick,i=e.showLeft,l=e.showUp,r=e.textColor,c=o()(e,["buttonText","className","onClick","showLeft","showUp","textColor"]),s=l||i?"Map View":"List View";return a?I.a.createElement(De,{className:n,color:"background.lightest",onClick:a,p:0},Le({buttonText:t,className:n,fallbackText:s,isButton:!0,showUp:l,showLeft:i,textColor:r})):Le({buttonText:t,className:n,fallbackText:s,showUp:l,showLeft:i,textColor:r,dsProps:c})},je=Object(O.default)(te.b).withConfig({displayName:"ToggleViewButton__ToggleButton",componentId:"wix916-0"})(["border:1px solid ",";height:32px;"],function(e){return e.showMap?Object(ne.g)("primary.base")(e):Object(ne.g)("border.base")(e)}),ze=Object(O.default)(A.a).withConfig({displayName:"ToggleViewButton__VisibilityFlex",componentId:"wix916-1"})(["visibility:",";"],function(e){return e.editing?"hidden":"visible"}),Be=function(e){var t=e.className,n=e.editing,a=e.showMap,l=e.toggleMap,r=e.buttonText,c=e.onClick,s=e.showLeft,d=e.showUp,u=e.textColor,m=e.updatedToggle,p=o()(e,["className","editing","showMap","toggleMap","buttonText","onClick","showLeft","showUp","textColor","updatedToggle"]);return m?I.a.createElement(Pe,i()({buttonText:r,className:t,onClick:c,showLeft:s,showUp:d,textColor:u},p)):I.a.createElement(ze,{"aria-hidden":n,className:t,"data-testid":"TOGGLE_UI",editing:n},I.a.createElement(je,{color:a?"background.lightest":"primary.base",onClick:a?l:null,width:"32px",radius:"2px",size:"small",showMap:!a},I.a.createElement(le.a,{name:"List","data-testid":"LIST_ICON",size:16,color:a?"primary.base":"background.lightest",title:"List Icon",titleId:"list-view-of-hotel",desc:"List View of Hotel",ml:"-4px"})),I.a.createElement(je,{color:a?"primary.base":"background.lightest",onClick:a?null:l,width:"32px",radius:"2px",size:"small",showMap:a},I.a.createElement(oe.a,{name:"Pin","data-testid":"MAP_ICON",size:16,ml:"-4px",color:a?"background.lightest":"primary.base",title:"Map Icon",titleId:"map-view-of-hotel",desc:"Map View of Hotel"})))},We=Object(O.default)(te.b).withConfig({displayName:"MapButton__HeightButton",componentId:"sc-1lpjfd3-0"})(["height:36px;background-image:",";background-repeat:no-repeat;background-position:center;background-size:cover;border-radius:","px;border:1px solid ",";","{height:100%;border-radius:","px 0px 0px ","px;}"],function(e){var t=e.imageUrl;return t?"url(".concat(t,")"):"none"},function(e){return e.theme.radii[2]},Object(ne.g)("border.base"),function(e){return e.theme.mediaQueries.lg},function(e){return e.theme.radii[2]},function(e){return e.theme.radii[2]}),Ue=function(e){var t=e.buttonText,n=e.className,a=e.imageUrl,i=e.onClick,l=Object(E.useState)("primary.base"),o=_e()(l,2),r=o[0],c=o[1];return I.a.createElement(We,{className:n,color:"background.lightest",imageUrl:a,onClick:i,onMouseEnter:function(){return c("primary.dark")},onMouseLeave:function(){return c("primary.base")},p:0,width:[1,null,null,"54px"]},I.a.createElement(A.a,{height:"100%",alignItems:["flex-end",null,null,"center"],justifyContent:["center",null,null,"flex-end"],width:1},I.a.createElement(Be,{buttonText:t,mb:["-1px",null,null,"unset"],mr:[null,null,null,"-1px"],showLeft:!0,showUp:!0,textColor:r,updatedToggle:!0})))};function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}var Fe=Object(O.default)(A.a).withConfig({displayName:"CollectionCardContainer__CollectionItemsWrapper",componentId:"sc-1kve8m0-0"})(["overflow:auto;","{-webkit-overflow-scrolling:touch;&:hover{text-decoration:none;}}"],function(e){return e.theme.mediaQueries.sm}),Ge=Object(O.default)(R.a).withConfig({displayName:"CollectionCardContainer__InlineHeader",componentId:"sc-1kve8m0-1"})(["display:inline;"]),qe=Object(O.default)(A.a).withConfig({displayName:"CollectionCardContainer__RelativeFooter",componentId:"sc-1kve8m0-2"})(["position:relative;"]),$e=Object(O.default)(N.a).withConfig({displayName:"CollectionCardContainer__MinWidthBox",componentId:"sc-1kve8m0-3"})(["min-width:262px;"]),Qe=Object(O.default)(A.a).withConfig({displayName:"CollectionCardContainer__AttributesDisplay",componentId:"sc-1kve8m0-4"})(["display:",";white-space:nowrap;overflow:auto;visibility:",";"],function(e){return 1===e.displayItems?"block":"flex"},function(e){return e.visible?"visible":"hidden"}),Xe=Object(O.default)(A.a).withConfig({displayName:"CollectionCardContainer__FlexItemsWrapper",componentId:"sc-1kve8m0-5"})(["",""],function(e){return e.forceHorizontal&&" overflow: scroll;\n    padding: 0 16px;\n    > div {\n      padding-right: 16px;\n    }"}),Ye=Object(O.default)(Ie.a).withConfig({displayName:"CollectionCardContainer__ExpandableButton",componentId:"sc-1kve8m0-6"})(["margin-top:1px;margin-right:12px;align-self:end;}"]),Ke=function(e){g()(n,e);var t=Ve(n);function n(){var e;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),w()(h()(e),"renderAmenities",function(e){var t=e.attribute,n=e.attributeDivider,a=e.badgeText,i=e.editing,l=e.handleMoreAmenitiesClick,o=e.includedAmenities,r=e.missingAmenities,c=e.displayItems;return(a||o||r)&&I.a.createElement(A.a,null,I.a.createElement(Qe,{alignItems:"center","data-testid":"AMENITIES",displayItems:c,mb:2,ml:3,visible:!i},a&&I.a.createElement(we.a,{color:"primary.base",fontSize:0,mr:2},a),o&&I.a.createElement(Te,{attribute:t,attributeDivider:n,attributesToDisplay:o}),r&&o&&I.a.createElement(M.a.span,{fontSize:0,lineHeight:"18px",mx:2},"|"),r&&I.a.createElement(Te,{attribute:"Missing",attributeDivider:n,attributesToDisplay:r})),l&&I.a.createElement(Ye,{onClick:l},I.a.createElement(M.a,{fontSize:0,color:"primary.base"}," ...more")))}),e}return m()(n,[{key:"render",value:function(){var e=this.props,t=e.attribute,n=e.attributeDivider,a=e.badgeText,i=e.children,l=e.className,o=e.collectionMap,r=e.editing,c=e.footer,s=e.forceHorizontal,d=e.handleMoreAmenitiesClick,u=e.header,m=e.includedAmenities,p=e.toggleProps,h=e.missingAmenities,f=i&&i.length?1/i.length:"auto",g=I.a.Children.map(i,function(e,t){return I.a.createElement($e,{"data-testid":"COLLECTION-ITEM-WRAPPER",ml:0===t?3:0,pr:[2,3],width:f},e)}),v={attribute:t,attributeDivider:n,badgeText:a,editing:r,handleMoreAmenitiesClick:d,includedAmenities:m,missingAmenities:h,displayItems:(a?1:0)+(m?1:0)+(h?1:0)};return I.a.createElement(Ee.a,{className:l,boxShadowSize:"sm","data-testid":"CONTAINER_WRAPPER",borderRadius:6,color:"background.lightest"},I.a.createElement(Ge,null,u),o||I.a.createElement(I.a.Fragment,null,this.renderAmenities(v),I.a.createElement(H.a,{maxWidth:"lg",ignore:!1},I.a.createElement(Xe,{mb:3,mt:2,flexDirection:[s?"row":"column"],forceHorizontal:s,"data-testid":"ITEMS_WRAPPER"},i),p&&I.a.createElement(N.a,{mx:"12px"},I.a.createElement(Ue,{imageUrl:null==p?void 0:p.imageUrl,onClick:null==p?void 0:p.onClick}))),I.a.createElement(H.a,{minWidth:"lg",ignore:!1},I.a.createElement(A.a,null,I.a.createElement(Fe,{pt:1,pb:3},g),p&&I.a.createElement(N.a,{pt:1,pb:3,pl:[1,null,null,null,0]},I.a.createElement(Ue,{imageUrl:null==p?void 0:p.imageUrl,onClick:null==p?void 0:p.onClick}))))),I.a.createElement(qe,null,c))}}]),n}(E.Component);w()(Ke,"propTypes",{attribute:S.a.string,attributeDivider:S.a.string,badgeText:S.a.string,children:S.a.node,className:S.a.string,collectionMap:S.a.node,editing:S.a.bool,footer:S.a.node,forceHorizontal:S.a.bool,handleMoreAmenitiesClick:S.a.func,header:S.a.node,includedAmenities:S.a.arrayOf(S.a.string),missingAmenities:S.a.arrayOf(S.a.string),toggleProps:S.a.shape({imageUrl:S.a.string,onClick:S.a.func})});var Je=Ke,Ze=n(1176),et=n(1052),tt=n(1053),nt=n(1150),at=n(1159),it=n(1165),lt=n(1147),ot=Object(O.default)(lt.a).withConfig({displayName:"ImageSet__BorderRadiusImage",componentId:"sc-1nsm3b2-0"})(["border-radius:","px;object-fit:cover;"],function(e){return e.theme.radii[1]}),rt=function(e){var t=e.className,n=e.imageHeight,a=e.imageUrls,l=e.imageMr,r=e.imageWidth,c=o()(e,["className","imageHeight","imageUrls","imageMr","imageWidth"]);return(null==a?void 0:a.length)>0&&I.a.createElement(A.a,i()({alignItems:"row",className:t},c),a.map(function(e,t){return I.a.createElement(N.a,{key:"HotelImage-".concat(t,"-").concat(e),mr:t!==a.length-1?l:0},I.a.createElement(ot,{alt:"Hotel ".concat(t+1),height:n,src:e,width:r}))}))};rt.defaultProps={imageHeight:"32px",imageMr:"2px",imageWidth:"32px"};var ct=rt,st={bookBtnText:"Got it!",bookUrl:"#",checkboxText:"Do not show me this again",disclaimerText:"Remember that with Pricebreakers, you see 3 hotels, and Priceline picks 1 of them after you pay. You get a great discount, but you do not get to pick the exact hotel.",dismissBtnText:"No thanks",onHandleDismiss:Z.a,onHandleBook:Z.a,title:"About Pricebreakers"},dt=Object(O.default)(Ze.a).withConfig({displayName:"CollectionsDisclaimer__MaxWidthModal",componentId:"sc-4ohst2-0"})(["border-radius:","px;margin:0 ","px;max-width:362px;","{margin:auto;}"],function(e){return e.theme.radii[2]},function(e){return e.theme.space[4]},function(e){return e.theme.mediaQueries.sm}),ut=Object(O.default)(te.b.withComponent(et.a)).withConfig({displayName:"CollectionsDisclaimer__BookLink",componentId:"sc-4ohst2-1"})(["background-color:",";color:",";&:hover{text-decoration:none;background-color:",";color:",";}"],Object(ne.g)("primary.base"),Object(ne.g)("text.lightest"),Object(ne.g)("primary.dark"),Object(ne.g)("text.lightest")),mt=Object(O.default)(tt.a).withConfig({displayName:"CollectionsDisclaimer__HoverCloseButton",componentId:"sc-4ohst2-2"})(["&:hover{background-color:",";color:",";}"],Object(ne.g)("background.dark"),Object(ne.g)("background.lightest")),pt=Object(O.default)(te.b).withConfig({displayName:"CollectionsDisclaimer__HoverButton",componentId:"sc-4ohst2-3"})(["color:",";&:hover{color:",";}"],Object(ne.g)("primary.base"),Object(ne.g)("text.lightest")),ht=function(e){var t=e.bookBtnText,n=e.bookUrl,a=e.checkboxText,i=e.className,l=e.disclaimerText,o=e.dismissBtnText,r=e.imageUrls,c=e.isModalOpen,s=e.onHandleDismiss,d=e.onHandleBook,u=e.showCheckbox,m=e.title,p=Object(E.useState)(!1),h=_e()(p,2),f=h[0],g=h[1];return I.a.createElement(dt,{className:i,height:"auto",isOpen:c,onClose:s,zIndex:1501},I.a.createElement(A.a,{alignItems:"center",flexDirection:"column",justifyContent:"center",p:3,textAlign:"center"},I.a.createElement(nt.a,{top:16,right:16},I.a.createElement(mt,{onClick:s})),I.a.createElement(M.a,{fontSize:2,fontWeight:"bold"},m),I.a.createElement(ct,{imageUrls:r,mt:2}),I.a.createElement(M.a,{fontSize:1,my:3,width:1},l),I.a.createElement(ut,{href:n,onClick:function(){return d({alwaysHideCollectionsDisclaimer:f})},target:"_blank",p:2,width:1},t),I.a.createElement(pt,{color:"background",mt:2,onClick:s,p:2,width:1},I.a.createElement(M.a,{fontSize:1},o)),u&&I.a.createElement(at.a,{fontSize:0,fontWeight:"regular",mt:3},I.a.createElement(A.a,{alignItems:"center",justifyContent:"center"},I.a.createElement(it.a,{checked:f,id:"alwaysHideCollectionsDisclaimer",onChange:function(){return g(function(e){return!e})}}),a))))};ht.defaultProps=st;var ft=ht,gt=n(1178),vt=n(1158),bt=n(82),Ct=n(368),xt=n(80),yt=(n(553),n(377)),wt=n(88),Et=n(46),It=n(1561),kt=n(1491),St=n(1386),Tt=Object(O.default)(N.a).withConfig({displayName:"CollectionMap__MapContainer",componentId:"kk2l5a-0"})(["height:100%;padding:0;position:relative;"]),Ot=Object(O.default)(nt.a).withConfig({displayName:"CollectionMap__MaxWidthAbsolute",componentId:"kk2l5a-1"})(["max-width:calc(100% - 16px);"]),_t=function(e){var t=e.className,n=e.disableDefaultUI,a=e.hotelPolygon,l=e.lat,r=e.lng,c=e.mapCallback,s=e.mapChildren,d=e.mapTypeControl,u=e.params,m=e.POISearch,p=e.refitOnCoordsChange,h=e.streetViewControl,f=e.clickableIcons,g=e.zoom,v=e.clusterComponent,b=e.clusterStyle,C=e.clusterCallback,x=e.toggleProps,y=o()(e,["className","disableDefaultUI","hotelPolygon","lat","lng","mapCallback","mapChildren","mapTypeControl","params","POISearch","refitOnCoordsChange","streetViewControl","clickableIcons","zoom","clusterComponent","clusterStyle","clusterCallback","toggleProps"]),w=a&&a.points?[a.points]:null;return I.a.createElement(Tt,i()({className:t,"data-testid":"COLLECTION_MAP",width:1},y),m&&I.a.createElement(Ot,{zIndex:1,top:8,left:8},m),x&&I.a.createElement(nt.a,{display:["block",null,null,"none"],bottom:0,right:"50%",mr:"-56px",zIndex:1},I.a.createElement(Be,{onClick:null==x?void 0:x.onClick,mb:["-1px",null,null,"unset"],mr:[null,null,null,"-1px"],updatedToggle:!0})),x&&I.a.createElement(nt.a,{display:["none",null,null,"block"],top:"50%",right:0,mt:"-23px",zIndex:1},I.a.createElement(Be,{onClick:null==x?void 0:x.onClick,mb:["-1px",null,null,"unset"],mr:[null,null,null,"-1px"],updatedToggle:!0})),I.a.createElement(St.a,{isClustering:!0,center:{lat:l,lng:r},mapCallbackFn:function(e,t){return c(e,t,[{lat:l,lng:r}],w)},options:{disableDefaultUI:n,streetViewControl:h,mapTypeControl:d,clickableIcons:f},params:u,refitOnCoordsChange:p,zoom:g,clusterComponent:v,clusterStyle:b,clusterCallback:C},s))};_t.defaultProps={disableDefaultUI:!1,mapTypeControl:!1,streetViewControl:!1,clickableIcons:!1,refitOnCoordsChange:!1,zoom:15};var Nt=_t,Rt=n(1246),At=n(1245),Mt=n(1233),Dt=n(363),Ht=n(1098),Lt=n(1265),Pt=n(1279),jt=Object(O.default)(nt.a).withConfig({displayName:"POISearchChip__FadeWrapper",componentId:"sc-1rwu8tb-0"})(["top:-2px;left:-1px;max-width:100%;visibility:hidden;.pb-map-s-enter{visibility:visible;opacity:0;width:220px;height:28px;}.pb-map-s-enter-active{transition:opacity 100ms ease-in 100ms,width 200ms ease-in;opacity:1;width:400px;}.pb-map-s-enter-done{opacity:1;visibility:visible;width:400px;}.pb-map-s-exit{opacity:1;visibility:visible;width:400px;}.pb-map-s-exit-active{transition:opacity 200ms ease-in,width 200ms ease-in;opacity:0;width:220px;}.pb-map-s-exit-done{opacity:0;visibility:hidden;width:220px;}"]),zt=Object(O.default)(R.a).withConfig({displayName:"POISearchChip__ResizeWrapper",componentId:"sc-1rwu8tb-1"})([".pb-map-s-enter{width:396px;height:44px;}.pb-map-s-enter-active{transition:width 200ms ease-in,height 100ms ease-in 100ms;width:220px;height:32px;}.pb-map-s-enter-done{width:220px;height:32px;}.pb-map-s-exit{width:220px;height:32px;}.pb-map-s-exit-active{transition:width 200ms ease-in,height 200ms ease-in;width:396px;height:44px;}.pb-map-s-exit-done{width:396px;height:44px;}"]),Bt=function(e){var t=e.initialPoi,n=e.inputId,a=e.onItemClear,i=void 0===a?function(){}:a,l=e.onItemSelect,o=void 0===l?function(){}:l,r=e.onSearchOpen,c=void 0===r?function(){}:r,s="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_MAP_ADDRESS_PLOTTING_COVID_GENERAL");_.a.fireImpression("HTL_COLLECTIONS_MAP_ADDRESS_PLOTTING_COVID_GENERAL");var d=Object(E.useState)(!1),u=_e()(d,2),m=u[0],p=u[1],h=Object(E.useState)(!1),f=_e()(h,2),g=f[0],v=f[1],b=function(e){v(!0),p(!1),o(e)};Object(E.useEffect)(function(){t&&b(t)},[]);var C=I.a.createElement(Ht.a,{color:"primary.base",ml:1,size:20}),x=I.a.createElement(Me.a,{color:"primary.base",mr:2,size:18}),y=g?"Places (1)":s?"Search places or add an address":"Add a place, airport, etc.";return I.a.createElement(I.a.Fragment,null,I.a.createElement(jt,null,I.a.createElement(Dt.CSSTransition,{in:m,classNames:"pb-map-s",onEntered:function(){var e=document.getElementById(n);e&&e.click()},onEnter:function(){var e=document.getElementById(n);e&&e.focus()},timeout:200},I.a.createElement(Pt.a,{alwaysActive:!0,fontSize:"14px",inputId:n,isAddressPlottingSeti:s,isPoiSearchChip:!0,maxWidth:"100%",onDismiss:function(){p(!1)},onItemSelection:b}))),I.a.createElement(zt,null,I.a.createElement(Dt.CSSTransition,{in:!m,classNames:"pb-map-s",timeout:200},I.a.createElement(Lt.a,{closeButton:g,flexDirection:"row",image:C,maxWidth:"98%",onClick:function(){g?(v(!1),i()):(p(!0),c())},optionalIcon:g?null:x,outlined:m,reducedSize:!0,selected:g,text:y,textAlign:"left"}))))},Wt=n(1211),Ut=Object(O.default)(nt.a).withConfig({displayName:"CollectionsInlineMap__POIMarkerWrapper",componentId:"sc-1fqz970-0"})(["font-size:0;@keyframes drop{0%{transform:translateY(-400px);visibility:visible;}60%{transform:translateY(0);visibility:visible;}80%{transform:translateY(-30px);visibility:visible;}100%{transform:translateY(0);visibility:visible;}}svg{vertical-align:top;visibility:hidden;transform:translateY(-400px);animation:drop 0.3s ease-out 0.5s 1 forwards;}"]),Vt=Object(O.default)(Rt.a).withConfig({displayName:"CollectionsInlineMap__StyledClusterMarker",componentId:"sc-1fqz970-1"})(["border:2px solid ",";"],Object(ne.g)("background.lightest")),Ft=function(e){var t=e.clusterPoints,n=t.length,a="".concat(n," Hotels");return{clusterColor:t.reduce(function(e,t){return e||t.isSelected},!1)?"primary.dark":"primary.base",clusterTitle:a}},Gt=function(e){var t,n,a=e.collectionHotels,i=e.initialPoi,l=e.mapId,o=e.mapInfo,r=e.onChangePoi,s=e.selectedHotelId,d=e.setSelectedHotel,u=e.smartUI,m=e.toggleProps,p=Object(E.useState)([]),h=_e()(p,2),f=h[0],g=h[1],v=Object(E.useState)(),b=_e()(v,2),C=b[0],x=b[1];Object(E.useEffect)(function(){return Object(Wt.e)({pinList:a,mapInstance:C,selectedPinId:s,usePoiSearch:!0})},[s]);var y=function(e,t){var n=[],a=!0,i=!1,l=void 0;try{for(var o,r=e[Symbol.iterator]();!(a=(o=r.next()).done);a=!0){var c=o.value;n.push({lat:null==c?void 0:c.latitude,lng:null==c?void 0:c.longitude})}}catch(e){i=!0,l=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw l}}var s=!0,d=!1,u=void 0;try{for(var m,p=t[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var h=m.value;n.push({lat:h.lat,lng:h.lng})}}catch(e){d=!0,u=e}finally{try{s||null==p.return||p.return()}finally{if(d)throw u}}return n}(null==o?void 0:o.locations,f),w={lat:null==o?void 0:null===(t=o.centerPoint)||void 0===t?void 0:t.latitude,lng:null==o?void 0:null===(n=o.centerPoint)||void 0===n?void 0:n.longitude};(null==f?void 0:f.length)>0&&(w=function(e){var t=e.length,n=0,a=0,i=!0,l=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){var s=r.value;n+=s.lat,a+=s.lng}}catch(e){l=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw o}}return{lat:n/t,lng:a/t}}(y));var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.poiList,a=t.selectedHotelId,i=t.setSelectedHotel,l=e.map(function(e){var t,n,l,o,r=null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.latitude,c=null==e?void 0:null===(n=e.location)||void 0===n?void 0:n.longitude,s=null==e?void 0:null===(l=e.ratesSummary)||void 0===l?void 0:l.minPrice,d=null==e?void 0:null===(o=e.ratesSummary)||void 0===o?void 0:o.minCurrencyCodeSymbol,u=e.hotelId===a;return I.a.createElement(At.a,{key:"".concat(r,"-").concat(c),lat:r,lng:c,isSelected:u},I.a.createElement(nt.a,{left:0,bottom:"12px",zIndex:u?20:10},I.a.createElement(Mt.a,{bg:u?"primary.dark":"primary.base",handleClick:function(){return i(e.hotelId)},price:"".concat(d).concat(s),showChildren:u},I.a.createElement(kt.a,e))))});return n&&n.forEach(function(e){l.push(I.a.createElement(At.a,{isExcluded:!0,lat:e.lat,lng:e.lng,key:e.itemName},I.a.createElement(Ut,{zIndex:15,bottom:"-15px",left:"-19px"},I.a.createElement(oe.a,{color:"error",size:45}))))}),l}(a,{setSelectedHotel:d,selectedHotelId:s,poiList:f}),S=function(e){g(e),r(e[0])},T=I.a.createElement(Bt,{initialPoi:i,inputId:l,onItemClear:function(){return S([])},onItemSelect:function(e){return S([c()(c()({},e),{},{lng:e.lon})])}}),O=["350px",null,null,"312px"];return u&&m?O=["429px",null,null,"312px"]:u?O=["401px",null,null,"334px"]:m&&(O=["376px",null,null,"312px"]),I.a.createElement(N.a,{mb:[2,null,null,3],height:O},I.a.createElement(Nt,{clusterCallback:Ft,clusterComponent:Vt,clusterStyle:{size:75,titleBold:!1},lat:w.lat,lng:w.lng,mapCallback:function(e){x(e),Object(Wt.e)({pinList:a,mapInstance:e,selectedPinId:s,usePoiSearch:!0})},mapChildren:k,params:{coordinatesArray:y},POISearch:T,refitOnCoordsChange:!0,toggleProps:m}))};Gt.defaultProps={onChangePoi:function(){},smartUI:!1};var qt=Gt,$t=n(28),Qt=n.n($t),Xt=n(1242),Yt=n.n(Xt),Kt=n(1054),Jt=n(1501);function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}var en=1,tn=Object(O.default)(Ze.a).withConfig({displayName:"CarouselModal__FullScreenModal",componentId:"sc-1diqngu-0"})(["position:fixed;top:0;bottom:0;left:0;right:0;"]),nn=Object(O.default)(N.a).withConfig({displayName:"CarouselModal__ClickableBox",componentId:"sc-1diqngu-1"})(["position:absolute;width:100%;height:100%;"]),an=Object(O.default)(Jt.a).withConfig({displayName:"CarouselModal__RelativePaginationDot",componentId:"sc-1diqngu-2"})(["position:relative;"]),ln=Object(O.default)(te.b).withConfig({displayName:"CarouselModal__ItemButton",componentId:"sc-1diqngu-3"})(["background-color:",";border-radius:","px;border-width:0px;overflow:hidden;display:block;height:400px;width:273px;position:absolute;display:flex;flex-direction:column;left:",";right:",";@media all and (-ms-high-contrast:none){&{margin-top:-25%;}}&:hover{background-color:",";","{box-shadow:rgba(0,24,51,1) 0px 0px 0px 2px,rgba(0,0,0,0.48) 0px 0px 4px 0px,rgba(0,0,0,0.4) 0px 8px 16px 0px;}}&.transition{transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out;transform:",";}","{height:500px;}","{margin-top:0px;height:287px;position:relative;left:auto;right:auto;}"],Object(ne.g)("background.lightest"),function(e){return e.theme.radii[2]},function(e){return e.leftCard&&"-257px"},function(e){return e.rightCard&&"-257px"},Object(ne.g)("background.lightest"),function(e){return e.theme.mediaQueries.xl},function(e){return e.isSwiping&&"translate3d(".concat(e.translateX,"%, 0, 0) scale3d(").concat(e.scaleX,", ").concat(e.scaleY,", 1)")||"left"===e.direction&&"translate3d(-".concat(e.translate,"px, 0, 0) ").concat(e.rightCard?"scale3d(".concat(e.scaleX,", ").concat(e.scaleY,", 1)"):"scale3d(".concat(1/e.scaleX,", ").concat(1/e.scaleY,", 1)"))||"right"===e.direction&&"translate3d(".concat(e.translate,"px, 0, 0) ").concat(e.leftCard?"scale3d(".concat(e.scaleX,", ").concat(e.scaleY,", 1)"):"scale3d(".concat(1/e.scaleX,", ").concat(1/e.scaleY,", 1)"))},function(e){return e.theme.mediaQueries.md},function(e){return e.theme.mediaQueries.xl}),on=Object(O.default)(ln).withConfig({displayName:"CarouselModal__ItemButtonOffScreen",componentId:"sc-1diqngu-4"})(["display:flex;flex-direction:column;","{max-width:273px;position:absolute;left:",";right:",";&.transition{transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out;transform:",";}}"],function(e){return e.theme.mediaQueries.xl},function(e){return e.rightCard&&"100vw"},function(e){return e.leftCard&&"100vw"},function(e){return"left"===e.direction&&e.rightCard&&"translate3d(-".concat(e.translate,"px, 0, 0)")||"right"===e.direction&&e.leftCard&&"translate3d(".concat(e.translate,"px, 0, 0)")}),rn=Object(O.default)(nt.a).withConfig({displayName:"CarouselModal__ArrowButtonContainer",componentId:"sc-1diqngu-5"})(["display:flex;justify-content:center;align-items:center;box-shadow:",";background-color:",";border-radius:",";left:",";right:",";bottom:128px;z-index:100;"],function(e){return e.theme.boxShadows[1]},Object(ne.g)("background.lightest"),function(e){return e.radius},function(e){return e.leftController&&"6px"},function(e){return e.rightController&&"6px"}),cn=Object(O.default)(Ee.a).withConfig({displayName:"CarouselModal__BigCard",componentId:"sc-1diqngu-6"})(["overflow:hidden;position:relative;"]),sn=Object(O.default)(N.a).withConfig({displayName:"CarouselModal__BigBox",componentId:"sc-1diqngu-7"})(["height:calc(100vh - 110px);overflow-y:scroll;width:calc(100vw - 48px);&.transition{transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out;transform:",";}","{width:calc(100vw - 64px);}","{width:auto;max-width:720px;}"],function(e){return e.isSwiping&&"translate(".concat(e.translateX,"%, 0)")||"left"===e.direction?"translate3d(-".concat(e.translate,"px, 0, 0) scale3d(").concat(e.scaleX,", ").concat(e.scaleY,", 1)"):"translate3d(".concat(e.translate,"px, 0, 0) scale3d(").concat(e.scaleX,", ").concat(e.scaleY,", 1)")},function(e){return e.theme.mediaQueries.sm},function(e){return e.theme.mediaQueries.xl}),dn=16,un=16,mn=720,pn=273,hn=function(e){return I.a.createElement(e,{size:24,color:"primary.base",tabIndex:0})},fn=function(e){g()(n,e);var t=Zt(n);function n(e){var a;return d()(this,n),a=t.call(this,e),w()(h()(a),"updateScaleValues",function(){var e=window,t=e.innerWidth,n=e.innerHeight,i=a.props.theme.breakpoints.map(function(e){return parseInt(e,10)*dn}),l={w:t-40,h:n-110},o={w:pn,h:400},r=4,c=4;if(t>=i[0]&&(l.w=t-64,c=un,r=un),t>=i[1]&&(o.h=500),t>=i[3]){l.w=Math.min(t-610,mn),o.h=287;var s=Math.round((t-l.w-2*o.w)/6);s>un?(r=s+6,c=2*s-4):(r=un,c=un)}var d=l.w/o.w,u=l.h/o.h,m=l.w/2+o.w/2+c,p=o.w+un+r;a.setState({heightScale:u,widthScale:d,translate:m,translateOff:p})}),w()(h()(a),"componentDidMount",function(){window.addEventListener("resize",a.updateScaleValues),a.updateScaleValues();var e=a.props.onMountEvent;e&&e({setCenterDisplayItem:a.setCenterDisplayItem})}),w()(h()(a),"componentWillUnmount",function(){window.removeEventListener("resize",a.updateScaleValues)}),w()(h()(a),"setCenterDisplayItem",function(e){var t=a.props.items,n=a.state.itemOrder,i=t.map(function(e){return e.id}).indexOf(e),l=n.indexOf(i);if(en===l)return null;l>en?a.shiftXTimes("left",l-en):a.shiftXTimes("right",en-l)}),w()(h()(a),"handleClose",function(){a.props.closeModal()}),w()(h()(a),"handleSwipingLeft",function(e,t){var n=t/window.innerWidth*100,i=n<=100?n:100;a.setState(function(){return{currentItemTranslate:0-i,isSwiping:!0}})}),w()(h()(a),"handleSwipingRight",function(e,t){var n=t/window.innerWidth*100,i=n<=100?n:100;a.setState(function(){return{currentItemTranslate:0+i,isSwiping:!0}})}),w()(h()(a),"handleSwipedLeft",function(){a.setState({currentItemTranslate:0,isSwiping:!1},function(){return a.shift("left")})}),w()(h()(a),"handleSwipedRight",function(){a.setState({currentItemTranslate:0,isSwiping:!1},function(){return a.shift("right")})}),w()(h()(a),"finishRotation",function(e,t){a.setState(function(t){var n=Qt()(t.itemOrder),a="right"===e?n.pop():n.shift();return{direction:null,itemOrder:"right"===e?[a].concat(Qt()(n)):[].concat(Qt()(n),[a])}},function(){var e;a.bigCardRef.current.focus(),a.bigCardRef.current.scrollIntoView();var n=a.props,i=n.items,l=n.onCenterItemChange,o=null==i?void 0:i[null===(e=a.state)||void 0===e?void 0:e.itemOrder[1]];t&&l&&l(null==o?void 0:o.id)})}),w()(h()(a),"shift",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.setState({direction:e},function(){setTimeout(function(){a.finishRotation(e,t)},500)})}),w()(h()(a),"shiftXTimes",function(e,t){for(var n=t;n>0;n--){var i=1===n;a.shift(e,i)}}),w()(h()(a),"dynamicArray",function(){var e,t;return Array.from({length:null===(e=a.props)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t.length},function(e,t){return t})}),a.bigCardRef=I.a.createRef(),a.state={direction:null,currentItemTranslate:0,itemOrder:e.itemOrder||[0,1,2],isSwiping:!1},a}return m()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.bigCardMb,a=t.bookBar,i=t.className,l=t.header,o=t.isOpen,r=t.items,c=t.labelType,s=t.showSwipeButtons,d=t.usePaginationDots,u=t.onScroll,m=this.state,p=m.direction,h=m.currentItemTranslate,f=m.heightScale,g=m.isSwiping,v=m.itemOrder,b=m.translate,C=m.translateOff,x=m.widthScale,y=_e()(v,3),w=y[0],E=y[1],k=y[2];if(!o||!Array.isArray(r)||r.length<=2)return null;var S=3===r.length,T=S?k:v[v.length-1],O=S?w:v[3],_=r[E],N=this.dynamicArray();return I.a.createElement(tn,{ariaLabel:"Pricebreaker Carousel Modal",bg:"transparent",className:i,disableCloseButton:!0,enableOverflow:!0,fullScreen:!0,header:l,headerBg:"background.lightest",imgMode:!0,isOpen:o,onClose:this.handleClose,zIndex:1501},I.a.createElement(nn,{"data-testid":"CAROUSEL_MODAL_BG",onClick:this.handleClose}),_&&d&&I.a.createElement(A.a,{justifyContent:"center",my:1,width:1},N.map(function(t){return I.a.createElement(an,{active:r[t].id===_.id,index:t,key:"page-dot-".concat(r[t].id),labelType:c,onClick:function(){if(r[t].id!==_.id){var n=v.indexOf(t);n>en?e.shiftXTimes("left",n-en):e.shiftXTimes("right",en-n)}}})})),I.a.createElement(Yt.a,{onSwipingLeft:this.handleSwipingLeft,onSwipingRight:this.handleSwipingRight,onSwipedLeft:this.handleSwipedLeft,onSwipedRight:this.handleSwipedRight},I.a.createElement(A.a,{justifyContent:"space-around",mt:d?0:2,width:1},I.a.createElement(A.a,{flexDirection:"column",justifyContent:"center"},I.a.createElement(H.a,{minWidth:"xl",ignore:!1},I.a.createElement(on,{"aria-hidden":!0,disabled:!0,className:p?"transition":"",direction:p,p:0,leftCard:!0,mr:3,ml:[null,null,null,null,3],tabIndex:"-1",translate:C},r[T].smallCard)),I.a.createElement(ln,{className:p?"transition":"",direction:p,disabled:Boolean(p),isSwiping:g,leftCard:!0,ml:[null,null,null,null,3],mr:3,onClick:function(){return e.shift("right")},p:0,translateX:h,scaleX:x,scaleY:f,translate:"right"===p?b:C},I.a.createElement(H.a,{minWidth:"xl",ignore:!1},"right"===p&&r[w].transitionCard||r[w].smallCard),I.a.createElement(H.a,{maxWidth:"xl",ignore:!1},r[w].transitionCard||r[w].smallCard))),I.a.createElement(H.a,{maxWidth:"xl",ignore:!1},s&&I.a.createElement(rn,{width:"48px",height:"48px",radius:"50%",leftController:!0,onClick:function(){return e.shift("right")},"data-testid":"LEFT_ARROW","aria-label":"go to previous card"},I.a.createElement(Kt.a,{icon:hn(Ne.a)}))),I.a.createElement(sn,{className:p?"transition":"",direction:p,isSwiping:g,mx:0,pb:3,translateX:h,scaleX:1/x,scaleY:1/f,translate:b,onScroll:u},r[E].stickyHeader,I.a.createElement(cn,{color:"background.lightest",borderRadius:"6px",borderWidth:0,innerRef:this.bigCardRef,mb:n,tabIndex:"0"},r[E].fullCard)),I.a.createElement(H.a,{maxWidth:"xl",ignore:!1},s&&I.a.createElement(rn,{width:"48px",height:"48px",radius:"50%",rightController:!0,onClick:function(){return e.shift("left")},"data-testid":"RIGHT_ARROW","aria-label":"go to next card"},I.a.createElement(Kt.a,{icon:hn(Re.a)}))),I.a.createElement(A.a,{flexDirection:"column",justifyContent:"center"},I.a.createElement(H.a,{minWidth:"xl",ignore:!1},I.a.createElement(on,{"aria-hidden":!0,className:p?"transition":"",direction:p,disabled:!0,mr:[null,null,null,null,3],ml:3,rightCard:!0,p:0,tabIndex:"-1",translate:C},r[O].smallCard)),I.a.createElement(ln,{className:p?"transition":"",direction:p,disabled:Boolean(p),isSwiping:g,ml:3,mr:[null,null,null,null,3],onClick:function(){return e.shift("left")},p:0,rightCard:!0,translateX:h,scaleX:x,scaleY:f,translate:"left"===p?b:C},I.a.createElement(H.a,{minWidth:"xl",ignore:!1},"left"===p&&r[k].transitionCard||r[k].smallCard),I.a.createElement(H.a,{maxWidth:"xl",ignore:!1},r[k].transitionCard||r[k].smallCard))))),a)}}]),n}(I.a.Component);w()(fn,"propTypes",{bigCardMb:S.a.array,bookBar:S.a.node,className:S.a.string,closeModal:S.a.func.isRequired,header:S.a.node,isOpen:S.a.bool,itemOrder:S.a.arrayOf(S.a.number),items:S.a.arrayOf(S.a.shape({id:S.a.string.isRequired,smallCard:S.a.node,fullCard:S.a.node,transitionCard:S.a.node,stickyHeader:S.a.node})).isRequired,labelType:S.a.string,onCenterItemChange:S.a.func,onMountEvent:S.a.func,onScroll:S.a.func,theme:S.a.object,showSwipeButtons:S.a.bool,usePaginationDots:S.a.bool}),w()(fn,"defaultProps",{bigCardMb:["260px",null,null,"140px"],bookBar:null,isOpen:!1,labelType:"Hotel",usePaginationDots:!0});var gn=Object(O.withTheme)(fn),vn=n(1578),bn=Object(O.default)(Ee.a).withConfig({displayName:"WhichHotelCard__HeightCard",componentId:"sc-14ibm5n-0"})(["height:100%;"]),Cn=Object(O.default)(A.a).withConfig({displayName:"WhichHotelCard__HeightFlex",componentId:"sc-14ibm5n-1"})(["height:100%;"]),xn=function(e){var t=e.className,n=e.imageUrls,a=e.text;return I.a.createElement(bn,{boxShadowSize:"sm",borderRadius:6,color:"background.lightest",width:1,className:t},I.a.createElement(Cn,{alignItems:"center",flexDirection:"column",justifyContent:"center"},I.a.createElement(vn.a,{width:"160px"}),I.a.createElement(ct,{imageUrls:n,justifyContent:"center",imageHeight:"56px",imageMr:1,imageWidth:"56px",mt:3}),I.a.createElement(M.a,{fontSize:3,fontWeight:"regular",mt:3,textAlign:"center"},a)))};xn.defaultProps={text:"Which hotel will I get?"};var yn=xn,wn=function(e){var t=e.className,n=e.images,a=e.headerText,i=n.map(function(e){return e.thumbnailUrl});return I.a.createElement(A.a,{className:t},I.a.createElement(ct,{imageUrls:i,imageHeight:"100%",imageWidth:[32,null,null,null,null,40]}),I.a.createElement(A.a,{ml:2,flexDirection:"column",justifyContent:"center"},I.a.createElement(P.a,{size:"small"}),a&&I.a.createElement(M.a,{color:"text.base",fontSize:["11px",0,null],fontWeight:"regular",mt:1},a)))};wn.defaultProps={images:[]};var En=wn,In=R.a,kn=Object(O.default)(D.a).withConfig({displayName:"ModalBookBarCTA__WidthTooltip",componentId:"sc-1g3tp0e-0"})(["width:254px;"]),Sn=function(e){var t=e.disabled,n=e.buttonSize,a=e.buttonText,i=e.bookUrl,l=e.isChecklistTooltipOpen,o=e.onCloseChecklistTooltip,r=e.onHandleBook;return I.a.createElement(In,{width:[1,null,null,"auto"],minWidth:"255px"},l&&I.a.createElement(kn,{bg:"black",right:!0,top:!0,zIndex:1502},I.a.createElement(A.a,{alignItems:"center"},I.a.createElement(M.a,{color:"text.lightest"},"Review each hotel before you book"),I.a.createElement(tt.a,{color:"background.lightest",ml:1,onClick:o,size:20}))),I.a.createElement(et.a,{href:t?null:i,target:"_blank",onClick:t?void 0:r},I.a.createElement(te.b,{disabled:t,size:n,color:"secondary",width:1},I.a.createElement(M.a,{fontSize:1},a))))},Tn=function(e){var t=e.bookUrl,n=e.buttonText,a=e.className,i=e.disabled,l=e.footerText,o=e.headerText,r=e.images,c=e.isChecklistTooltipOpen,s=e.onCloseChecklistTooltip,d=e.onHandleBook;return I.a.createElement(A.a,{className:a,flexDirection:["column",null,null,"row"],alignItems:["flex-start",null,null,"center"],justifyContent:["space-between",null,null,"center"],width:1},I.a.createElement(N.a,{mr:[0,null,null,5],mb:[2,null,null,0]},I.a.createElement(En,{images:r,headerText:o}),I.a.createElement(H.a,{minWidth:"lg",ignore:!1},I.a.createElement(M.a,{mt:2,color:"text.light",fontSize:0},l))),I.a.createElement(H.a,{minWidth:"lg",ignore:!1},Sn({bookUrl:t,buttonSize:"large",buttonText:n,disabled:i,isChecklistTooltipOpen:c,onCloseChecklistTooltip:s,onHandleBook:d})),I.a.createElement(H.a,{maxWidth:"lg",ignore:!1},Sn({bookUrl:t,buttonSize:"medium",buttonText:n,disabled:i,isChecklistTooltipOpen:c,onCloseChecklistTooltip:s,onHandleBook:d}),I.a.createElement(M.a,{mt:1,m:"0 auto",color:"text.light",fontSize:0},l)))};Tn.defaultProps={footerText:"",buttonText:"Choose"};var On=Tn,_n=Object(O.default)(N.a).withConfig({displayName:"ModalBookBar__StickyModalBookBar",componentId:"xwqldb-0"})(["bottom:0px;position:fixed;-webkit-font-smoothing:antialiased;"]),Nn=Object(O.default)(N.a).withConfig({displayName:"ModalBookBar__StickyContainer",componentId:"xwqldb-1"})(["box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 8px 16px 0 rgba(0,0,0,0.2);border-top:1px solid ",";padding:8px 16px 12px 16px;","{padding:12px 0 8px 0;}"],Object(ne.g)("border.base"),function(e){return e.theme.mediaQueries.lg}),Rn=function(e){var t=e.bookUrl,n=e.buttonText,a=e.className,i=e.disabled,l=e.footerText,o=e.headerText,r=e.images,c=e.isChecklistTooltipOpen,s=e.onCloseChecklistTooltip,d=e.onHandleBook;return I.a.createElement(_n,{className:a,width:1},I.a.createElement(Nn,{color:"text.lightest"},I.a.createElement(On,{bookUrl:t,buttonText:n,disabled:i,footerText:l,headerText:o,images:r,isChecklistTooltipOpen:c,onCloseChecklistTooltip:s,onHandleBook:d})))};Rn.defaultProps={footerText:"",buttonText:"Choose"};var An=Rn,Mn=n(3),Dn=n.n(Mn),Hn=n(1225),Ln=n(1401);function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}var jn=Object(O.default)(N.a).withConfig({displayName:"DiskList__ItemsMask",componentId:"sc-1cfkxtp-0"})(["height:",";overflow:hidden;","{height:auto;}"],function(e){return e.isMasked?"calc(60px * ".concat(e.minItemCount,")"):"auto"},function(e){return e.theme.mediaQueries.md}),zn=Object(O.default)(A.a).withConfig({displayName:"DiskList__ItemContainer",componentId:"sc-1cfkxtp-1"})(["","{display:inline-flex;}"],function(e){return e.theme.mediaQueries.md}),Bn=Object(O.default)(Ln.a).attrs({bg:"background.base",size:45,borderWidth:4,borderColor:"background.lightest"}).withConfig({displayName:"DiskList__CircleContainer",componentId:"sc-1cfkxtp-2"})(["box-shadow:0 0 1px 0 rgba(0,0,0,0.12),0 1px 1px 0 rgba(0,0,0,0.24);"]),Wn=O.default.img.withConfig({displayName:"DiskList__IconContainer",componentId:"sc-1cfkxtp-3"})(["object-fit:cover;height:100%;"]),Un=Object(O.default)(et.a).withConfig({displayName:"DiskList__ToggleViewButton",componentId:"sc-1cfkxtp-4"})(["font-size:12px;","{display:none;}"],function(e){return e.theme.mediaQueries.md}),Vn=function(e){g()(n,e);var t=Pn(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).toggleViewMore=a.toggleViewMore.bind(h()(a)),a.state={showAll:!1},a}return m()(n,[{key:"toggleViewMore",value:function(){this.setState(function(e){return{showAll:!e.showAll}})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.itemWidth,a=e.minItemCount,i=t.length>a;return Array.isArray(t)&&I.a.createElement(N.a,null,I.a.createElement(jn,{isMasked:i&&!this.state.showAll,minItemCount:a},t.map(function(e){var t=e.name,a=e.icon,i=e.description;return I.a.createElement(zn,{key:t,pb:3,width:n,alignItems:"center"},I.a.createElement(Bn,null,I.a.createElement(Wn,{src:a,alt:i,"data-testid":"DISK_ICON_IMAGE_CONTAINER"})),I.a.createElement(M.a,{px:2,fontSize:0},t))})),i&&I.a.createElement(Un,{color:"primary.base",onClick:this.toggleViewMore,"data-testid":"DISK_LIST_TOGGLE_BTN"},this.state.showAll?"View Less":"View More"))}}]),n}(I.a.Component);w()(Vn,"propTypes",{items:S.a.arrayOf(S.a.shape({name:S.a.string,iconUrl:S.a.string.isRequired,iconAlt:S.a.string.isRequired})),itemWidth:S.a.string,minItemCount:S.a.number}),w()(Vn,"defaultProps",{itemWidth:"220px",minItemCount:4});var Fn=Vn,Gn=n(359),qn=Object(O.default)(et.a).withConfig({displayName:"ModalDetailCTA__ImageFlexLink",componentId:"sc-18glphe-0"})(["display:flex;min-width:255px;align-items:center;&:hover{text-decoration:none;}"]),$n=Object(O.default)(lt.a).withConfig({displayName:"ModalDetailCTA__HotelImage",componentId:"sc-18glphe-1"})(["object-fit:cover;border-radius:3px;margin-right:2px;height:100%;"]),Qn=function(e){var t=e.className,n=e.footerText,a=e.buttonText,i=e.name,l=e.thumbnailUrl,o=e.detailsUrl,r=e.ratesSummary,c=r.minCurrencyCodeSymbol,s=r.minPrice,d=a||"Or, pay ".concat(c).concat(s," for a sure thing");return I.a.createElement(A.a,{className:t,flexDirection:["column",null,null,null,null,"row"],alignItems:["flex-start",null,null,null,null,"center"],justifyContent:"space-between",width:1},n&&I.a.createElement(N.a,{width:1,mb:["12px",null,null,null,null,0]},I.a.createElement(M.a,{color:"text.light",fontSize:0},n)),I.a.createElement(qn,{href:o,target:"_blank"},l&&I.a.createElement($n,{key:"".concat(i,"-").concat(l),"aria-label":i,src:l,width:[32,null,null,null,null,40]}),I.a.createElement(M.a,{fontSize:0,bold:!0,ml:2},d),I.a.createElement(Re.a,{size:24})))};Qn.defaultProps={footerText:"",ratesSummary:{minCurrencyCodeSymbol:"$",minPrice:"0"}};var Xn=Qn,Yn=n(1152),Kn=R.a,Jn=Object(O.default)(D.a).withConfig({displayName:"ModalCollectionCTA__WidthTooltip",componentId:"sc-1c6h0bd-0"})(["width:254px;"]),Zn=function(e){var t=e.bookUrl,n=e.buttonText,a=e.className,i=e.disabled,l=e.headerText,o=e.images,r=e.isChecklistTooltipOpen,c=e.onCloseChecklistTooltip,s=e.onHandleBook;return I.a.createElement(A.a,{className:a,flexDirection:["column",null,null,null,null,"row"],alignItems:["flex-start",null,null,null,null,"center"],justifyContent:"space-between",width:1},I.a.createElement(N.a,{mb:["12px",null,null,null,null,0]},I.a.createElement(En,{images:o,headerText:l})),I.a.createElement(Kn,{mb:["12px",null,null,null,null,0],width:[1,null,null,null,null,"auto"],minWidth:"255px"},I.a.createElement(et.a,{href:i?null:t,target:"_blank",onClick:i?void 0:s},I.a.createElement(te.b,{disabled:i,color:"secondary",width:1},I.a.createElement(M.a,{fontSize:1},n))),r&&I.a.createElement(Jn,{bg:"black",bottom:!0,right:!0,zIndex:1502},I.a.createElement(A.a,{alignItems:"center"},I.a.createElement(M.a,{color:"text.lightest"},"Review each hotel before you book"),I.a.createElement(tt.a,{color:"background.lightest",ml:1,onClick:c,size:20})))))};Zn.defaultProps={footerText:"",buttonText:"Choose"};var ea=Zn,ta=Object(O.default)(Yn.a).withConfig({displayName:"ModalInlineBookCTAs__StyledDivider",componentId:"sc-18q0ezt-0"})(["margin-top:16px;"]),na=function(e){var t=e.className,n=e.collectionBookCTA,a=e.disabled,i=e.footerText,l=e.headerText,o=e.hotelDetailCTA,r=e.images,s=c()(c()({},n),{},{disabled:a,headerText:l,images:r}),d=c()({footerText:i},o);return I.a.createElement(N.a,{className:t},I.a.createElement(ea,s),I.a.createElement(H.a,{minWidth:"xxl",ignore:!1},I.a.createElement(ta,{width:1})),I.a.createElement(Xn,d))};na.defaultProps={collectionBookCTA:{},disabled:!1,footerText:""};var aa=na,ia=n(1272),la=n(1068),oa=n.n(la),ra=n(1214),ca=n(1223),sa=n(1244),da={PCLN:"Priceline",BOOKING:"Booking.com"},ua=function(e){var t=e.className,n=e.overallScore,a=e.firstName,i=e.travelerType,l=e.creationDate,o=e.reviewTextGeneral,r=e.reviewTextPositive,c=e.reviewTextNegative,s=e.index,d=e.sourceCode,u=e.showReviewSource,m=e.generalTextSize,p=e.overallScoreAdjectiveSize;m=m.replace(/[^0-9]/g,"");var h=Object(sa.a)({date:l,mask:"MMM d, yyyy"});return I.a.createElement(ma,{className:t,id:"guest-review-"+s,p:3,"data-unit-id":"REVIEW_ROW_WRAPPER"},I.a.createElement(A.a,{mb:"12px"},I.a.createElement(pa,{"data-unit-id":"REVIEW_ROW_SCORE",fontWeight:"bold",fontSize:3,justifyContent:"center",alignItems:"center",mt:1,mr:2,color:"text.lightest",bg:"primary.base",width:"48px"},n),I.a.createElement(A.a,{justifyContent:"center",flexDirection:"column"},I.a.createElement(ga,{"data-unit-id":"REVIEW_ROW_SCORE_ADJECTIVE",fontWeight:"bold",fontSize:p,color:"text.base",lineHeight:"21px"},Object(ra.a)(n)),I.a.createElement(ga,{contentLineHeight:"18px",fontSize:0,color:"text.light",lineHeight:"18px"},h))),!r&&!c&&!o&&I.a.createElement(N.a,{"data-unit-id":"REVIEW_ROW_NO_GUEST_COMMENTS",mb:3,fontSize:1,color:"text.light"},"This guest did not leave comments about this hotel."),o&&I.a.createElement(ha,{"data-unit-id":"REVIEW_ROW_TEXT_GENERAL",contentLineHeight:"21px",expandText:"Read More",collapseText:"Read Less",fontSize:m,content:o,collapsedHeight:80,textColor:"text.base",mb:3}),r&&I.a.createElement(N.a,null,I.a.createElement(A.a,{mb:c?"12px":"16px"},I.a.createElement(ca.a,{"data-unit-id":"REVIEW_ROW_TEXT_POSITIVE",contentLineHeight:"21px",fontSize:m,collapsedHeight:80,expandText:"Read More",collapseText:"Read Less",content:r,preContent:"What did you like most?",textColor:"text.base"}))),!r&&c&&I.a.createElement(N.a,null,I.a.createElement(A.a,{mb:3},I.a.createElement(ca.a,{contentLineHeight:"20px",fontSize:m,collapsedHeight:80,content:"Guest did not submit any positive comments.",preContent:"What did you like most?",isItalic:!0,textColor:"text.base"}))),c&&I.a.createElement(N.a,null,I.a.createElement(A.a,{mb:3},I.a.createElement(ca.a,{"data-unit-id":"REVIEW_ROW_TEXT_NEGATIVE",contentLineHeight:"20px",expandText:"Read More",collapseText:"Read Less",fontSize:m,collapsedHeight:80,content:c,preContent:"Was there anything you didn't like?",textColor:"text.base"}))),!c&&r&&I.a.createElement(N.a,null,I.a.createElement(A.a,{mb:3},I.a.createElement(ca.a,{contentLineHeight:"20px",fontSize:m,collapsedHeight:80,content:"Guest did not submit any negative comments.",preContent:"Was there anything you didn't like?",isItalic:!0,textColor:"text.base"}))),I.a.createElement(ga,{fontWeight:"bold",fontSize:0,color:"text.base",lineHeight:"18px"},a),I.a.createElement(A.a,{alignItems:"center"},I.a.createElement(ga,{fontSize:0,color:"text.light",lineHeight:"18px"},i),i&&I.a.createElement(fa,{width:"1px",bg:"border.base"}),I.a.createElement(ga,{"data-unit-id":"REVIEW_ROW_VERIFIED_GUEST",fontSize:0,color:"alert.dark",lineHeight:"18px"},"Verified ",u&&da[d]," Guest")))},ma=Object(O.default)(N.a).withConfig({displayName:"ReviewRow__ReviewWrapper",componentId:"sc-1orj8ll-0"})(["border-bottom:1px solid ",";"],Object(ne.g)("border.base")),pa=Object(O.default)(A.a).withConfig({displayName:"ReviewRow__OverallScore",componentId:"sc-1orj8ll-1"})(["height:32px;border-radius:","px;"],function(e){return e.theme.radii[1]}),ha=Object(O.default)(ca.a).withConfig({displayName:"ReviewRow__StyledSeeMoreContent",componentId:"sc-1orj8ll-2"})([""]),fa=Object(O.default)(N.a).withConfig({displayName:"ReviewRow__StyledRule",componentId:"sc-1orj8ll-3"})(["height:12px;margin:0 8px;"]),ga=Object(O.default)(M.a).withConfig({displayName:"ReviewRow__TextWithLineHeight",componentId:"sc-1orj8ll-4"})(["line-height:",";"],function(e){return e.lineHeight});ua.defaultProps={sourceCode:"PCLN",showReviewSource:!0,generalTextSize:"14",overallScoreAdjectiveSize:1};var va=ua,ba=n(61),Ca=n(53),xa=n.n(Ca);function ya(){var e=xa()(["\n  query getHotelReviews(\n    $hotelIds: [ID]\n    $numReviews: Int\n    $cguid: String\n    $visitId: String\n    $rid: String\n    $appc: String\n    $at: String\n    $offset: Int\n  ) {\n    hotelReviews(\n      hotelIds: $hotelIds\n      numReviews: $numReviews\n      cguid: $cguid\n      visitId: $visitId\n      rid: $rid\n      appc: $appc\n      at: $at\n      offset: $offset\n    ) {\n      hotels {\n        hotelId\n        pclnReviewInfo {\n          pclnScore\n          totalReviews\n          travelerTypeDescCounts {\n            count\n            travelerTypeDesc\n          }\n          scoreCounts {\n            score\n            count\n          }\n          ratingSummary {\n            score\n            description\n            label\n            summaryCount\n            summaryValue\n          }\n          hotelReviews {\n            creationDate\n            overallScore\n            homeTown\n            firstName\n            travelerType\n            travelerTypeId\n            creationDate\n            languageCode\n            reviewTextGeneral\n            reviewTextNegative\n            reviewTextPositive\n          }\n        }\n      }\n      duration\n      rguid\n      version\n      src\n    }\n  }\n"]);return ya=function(){return e},e}var wa=Object(ba.gql)(ya()),Ea=function(e,t){var n=t.hotelIds,a=t.numReviews,i=t.reviewOffset,l=e[t.idListProp];return{hotelIds:n||e.hotelIds||[l],appc:e.appCode,cguid:e.cguid,visitId:e.visitId,at:e.authToken,rid:e.rid,numReviews:a||4,offset:i||0}},Ia=function(e){return{appCode:Dn()(e,"pclnBootstrapData.appCode"),visitId:Dn()(e,"pclnBootstrapData.vid"),cguid:Dn()(e,"pclnBootstrapData.cguid"),authToken:Dn()(e,"pclnBootstrapData.customer.authtoken")||Dn()(e,"authentication.authToken"),rid:Dn()(e,"pclnBootstrapData.rID")}},ka=function(e,t){var n=t.fetchMoreResult;return n?{hotelReviews:n.hotelReviews}:e},Sa=function(e){var t=e.data,n=t.error,a=t.hotelReviews,i=t.loading,l=t.variables,o=t.fetchMore;return{loading:i,hotelReviews:a,variables:l,error:n,onLoadMore:function(e){return o({variables:{offset:e},updateQuery:ka})}}},Ta=function(e,t){var n=t.idListProp,a=t.hotelIds,i=t.numReviews,l=t.reviewOffset,o=void 0===l?0:l;return Object(ba.compose)(Object(T.connect)(Ia),Object(ba.graphql)(wa,{skip:function(e){return!e.shouldLoadHotelReviews},options:function(e){return{fetchPolicy:"cache-first",errorPolicy:"all",variables:Ea(e,{hotelIds:a,numReviews:i,reviewOffset:o,idListProp:n})}},props:Sa}))(e)},Oa=n(1579);var _a=Object(O.default)(va).withConfig({displayName:"CustomerReviewGrid__ReviewRowCard",componentId:"umsqxf-0"})(["border-bottom:none;"]),Na="@media screen and (min-width: 1280px)",Ra=Object(O.default)(A.a).withConfig({displayName:"CustomerReviewGrid__ReviewCardsFlex",componentId:"umsqxf-1"})(["align-content:",";","{width:100% margin:0px};","{align-content:",";};","{max-width:","};"],function(e){return e.alignment?"center":"none"},function(e){return e.theme.mediaQueries.sm},function(e){return e.theme.mediaQueries.xl},function(e){return e.alignment?e.alignment:"none"},Na,function(e){return e.alignment?"50%":"none"}),Aa=Object(O.default)(Ee.a).withConfig({displayName:"CustomerReviewGrid__CardWithMinWidth",componentId:"umsqxf-2"})(["width:100%;","{width:","%;}","{width:100%;}","{width:","%;}"],function(e){return e.theme.mediaQueries.md},function(e){return e.specificReviews?"95":"48"},function(e){return e.theme.mediaQueries.xl},Na,function(e){return e.specificReviews?"95":"48"}),Ma=Object(O.default)(A.a).withConfig({displayName:"CustomerReviewGrid__RecentReviewFlex",componentId:"umsqxf-3"})(["display:block;","{display:flex;}"],Na),Da=Object(O.default)(M.a).withConfig({displayName:"CustomerReviewGrid__RecentReviewText",componentId:"umsqxf-4"})(["margin-top:","px;","{margin-top:0px;}"],function(e){return e.extraMargin?"16":"0"},Na),Ha=Object(O.default)(te.b).withConfig({displayName:"CustomerReviewGrid__ShowMoreButton",componentId:"umsqxf-5"})(["display:block;"]),La=function(e){var t=e.reviews,n=e.headerText,a=e.alignment,l=e.marginTop;return I.a.createElement(Ra,{flexWrap:"wrap",flexDirection:"column",alignment:a},I.a.createElement(Da,{fontSize:"14px",fontWeight:"bold",mb:3,extraMargin:l},n),t.map(function(e,t){return I.a.createElement(Aa,{specificReviews:!0,borderRadius:2,borderWidth:1,boxShadowSize:"sm",m:1,key:"ReviewRowCard"+t},I.a.createElement(_a,i()({className:"ReviewRow","data-testid":"REVIEW_CARD",topContentRedesign:!0,generalTextSize:"12",overallScoreAdjectiveSize:1},e)))}))},Pa=function(e){return I.a.createElement(N.a,{mb:3,width:[1,1,"48%",1,"48%"]},I.a.createElement(Oa.a,e))},ja=function(e){var t=e.map(function(e){return function(e){var t={titleSize:"12px",barHeight:"4px",bg:"alert.base",percent:10*e.score,number:e.score.toFixed(1)};switch(e.label){case"8001":return c()(c()({},t),{},{scoreRank:1,title:"LOCATION"});case"8002":return c()(c()({},t),{},{scoreRank:2,title:"CLEANLINESS"});case"8003":return c()(c()({},t),{},{scoreRank:3,title:"STAFF"});case"8019":return c()(c()({},t),{},{scoreRank:4,title:"DINING"});default:return null}}(e)}).filter(Boolean).sort(function(e,t){return e.rank-t.rank});return I.a.createElement(Ra,{mb:3,flexWrap:"wrap",justifyContent:"space-between",flexDirection:"row"},t.map(function(e,t){return I.a.createElement(Pa,i()({},e,{key:t}))}))},za=function(e){return[e.reduce(function(e,t){var n,a,i,l,o,r,c=(null!==(n=null==t?void 0:null===(a=t.reviewTextGeneral)||void 0===a?void 0:a.length)&&void 0!==n?n:0)+(null!==(i=null==t?void 0:null===(l=t.reviewTextPositive)||void 0===l?void 0:l.length)&&void 0!==i?i:0)+(null!==(o=null==t?void 0:null===(r=t.reviewTextNegative)||void 0===r?void 0:r.length)&&void 0!==o?o:0);return(null===e[1]||c>e[0])&&(e[0]=c,e[1]=t),e},[0,null])[1]]},Ba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ta(e,t)}(function(e){g()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=x()(e);if(t()){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}(n);function n(e){var a;return d()(this,n),a=t.call(this,e),w()(h()(a),"getMoreReviews",function(e){var t=a.props.onLoadMore,n=a.state.reviewsDisplayed+(a.state.numberOfReviewsPerLoad+1),i=n<e;n>a.state.reviews.length&&i?t(a.state.reviews.length):a.setState(function(e){return{reloadState:!e.reloadState}})}),a.state={reviews:[],positiveReviews:[],negativeReviews:[],numberOfReviewsPerLoad:8,reviewsDisplayed:4,reloadState:!1},a}return m()(n,[{key:"render",value:function(){var e,t,n,a,l,o,r,c,s,d,u,m=this,p=this.props,h=p.posReviewCopy,f=p.negReviewCopy,g=this.state,v=g.positiveReviews,b=g.negativeReviews,C=g.reviews,x=v.length>0&&b.length>0,y=x&&(null===(e=this.props)||void 0===e?void 0:null===(t=e.hotelReviews)||void 0===t?void 0:null===(n=t.hotels)||void 0===n?void 0:null===(a=n[0])||void 0===a?void 0:null===(l=a.pclnReviewInfo)||void 0===l?void 0:l.totalReviews),w=Number(y)>this.state.reviewsDisplayed,E=null!==(o=null===(r=this.props)||void 0===r?void 0:null===(c=r.hotelReviews)||void 0===c?void 0:null===(s=c.hotels)||void 0===s?void 0:null===(d=s[0])||void 0===d?void 0:null===(u=d.pclnReviewInfo)||void 0===u?void 0:u.ratingSummary)&&void 0!==o?o:[];return I.a.createElement(I.a.Fragment,null,ja(E),I.a.createElement(Ma,{justifyContent:"flex-start"},x&&La({reviews:v,headerText:h.value,alignment:"flex-start"}),x&&La({reviews:b,headerText:f.value,alignment:"flex-end",marginTop:!0})),y&&I.a.createElement(M.a,{fontSize:0,color:"text.light",mt:4,mb:3},"Verified reviews from ",y," guests:"),I.a.createElement(Ra,{justifyContent:"center",flexWrap:"wrap",flexDirection:"row"},oa()(C,this.state.reviewsDisplayed).map(function(e,t){return I.a.createElement(Aa,{borderRadius:2,borderWidth:1,boxShadowSize:"sm",m:1,key:"ReviewRowCard"+t},I.a.createElement(_a,i()({className:"ReviewRow","data-testid":"REVIEW_CARD",topContentRedesign:!0,generalTextSize:"12",overallScoreAdjectiveSize:1},e)))})),w&&I.a.createElement(Ha,{color:"background",my:3,mx:"auto",onClick:function(){return m.getMoreReviews(y)}},I.a.createElement(M.a,{color:"primary"},"Show More Reviews")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return function(e,t){var n,a,i,l,o,r,c,s,d,u=null!==(n=null==e?void 0:null===(a=e.hotelReviews)||void 0===a?void 0:null===(i=a.hotels)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:null===(o=l.pclnReviewInfo)||void 0===o?void 0:o.hotelReviews)&&void 0!==n?n:[],m=/^[\x00-\x7F]*$/,p=[],h=!0,f=!1,g=void 0;try{for(var v,b=u[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var C=v.value;(Boolean(C.reviewTextNegative)||Boolean(C.reviewTextPositive))&&m.test(C.reviewTextNegative)&&m.test(C.reviewTextPositive)&&p.push(C)}}catch(e){f=!0,g=e}finally{try{h||null==b.return||b.return()}finally{if(f)throw g}}var x=null==e?void 0:null===(r=e.hotelReviews)||void 0===r?void 0:null===(c=r.hotels)||void 0===c?void 0:null===(s=c[0])||void 0===s?void 0:null===(d=s.pclnReviewInfo)||void 0===d?void 0:d.totalReviews,y=t.reviewsDisplayed+(t.numberOfReviewsPerLoad+1),w=y<x;if(t.positiveReviews.length<=0){var E=[],I=[],k=[].concat(p).sort(function(e,t){return e.overallScore-t.overallScore});return p.length>4?(I=za(k.slice(0,2)),E=za(k.slice(-2))):p.length>2&&(I=k.slice(0,1),E=k.slice(-1)),{positiveReviews:E,negativeReviews:I,reviews:p,numberOfReviewsPerLoad:4,reviewsDisplayed:4}}var S,T,O,_,N=null==e?void 0:null===(S=e.hotelReviews)||void 0===S?void 0:null===(T=S.hotels)||void 0===T?void 0:null===(O=T[0])||void 0===O?void 0:null===(_=O.pclnReviewInfo)||void 0===_?void 0:_.totalReviews,R=Math.min(t.reviewsDisplayed+t.numberOfReviewsPerLoad,N);return y>t.reviews.length-1&&w?{reviews:t.reviews.concat(p),reviewsDisplayed:R}:{reviewsDisplayed:R}}(e,t)}}]),n}(E.Component),{numReviews:24,idListProp:"hotelId"}),Wa=Object(gt.a)(Ba,{posReviewCopy:{name:["BA9958A8B1"],fallback:{value:"Most Recent Positive Review"}},negReviewCopy:{name:["850B1DEA94"],fallback:{value:"Most Recent Negative Review"}}}),Ua=n(1287),Va=n(1308),Fa=Object(O.default)(A.a).withConfig({displayName:"CleanlinessList__CircleFlex",componentId:"sc-1pzxbku-0"})(["border-radius:50%;flex-basis:40px;flex-shrink:0;"]),Ga=Object(O.default)("ul").withConfig({displayName:"CleanlinessList__UnstyledList",componentId:"sc-1pzxbku-1"})(["list-style:none;padding:0;margin:0;"]),qa=Object(O.default)(Ie.a).withConfig({displayName:"CleanlinessList__ToggleViewButton",componentId:"sc-1pzxbku-2"})(["&:hover{","{text-decoration:underline;}}"],M.a),$a=function(e){var t=e.headerText,n=e.items,a=e.minItemCount,i=Object(E.useState)(!1),l=_e()(i,2),o=l[0],r=l[1],c=n.length>a,s=c&&!o?n.slice(0,a):n;return I.a.createElement(N.a,null,function(e){return I.a.createElement(A.a,{pb:3,alignItems:"center"},I.a.createElement(Fa,{color:"primary.light",width:"40px",height:"40px",justifyContent:"center",alignItems:"center"},I.a.createElement(Ua.a,{size:24,color:"primary.base"})),I.a.createElement(M.a,{px:2,fontSize:0},e))}(t),I.a.createElement(Ga,null,s.map(function(e,t){return I.a.createElement("li",{key:"cleanliness-item-".concat(t)},I.a.createElement(A.a,{pb:3,alignItems:"flex-start"},I.a.createElement(Va.a,{size:12,mt:"2px"}),I.a.createElement(M.a,{px:2,fontSize:0},e)))})),c&&I.a.createElement(qa,{onClick:function(){r(!o)},"data-testid":"LIST_TOGGLE_BTN"},I.a.createElement(M.a,{fontSize:0,color:"primary.base"},o?"View Less":"View More")))};$a.defaultProps={headerText:"This property has new health and safety guidelines:",minItemCount:2};var Qa=$a,Xa=n.p+"assets/images/defaultAmenityIcon.png",Ya=Object(O.default)(ia.a).withConfig({displayName:"QuickView__TallRoomPhotoSwipe",componentId:"dodww8-0"})(["height:35vh;width 100%;","{height:50vh;}"],function(e){return e.theme.mediaQueries.md}),Ka=Object(O.default)(ee.a).withConfig({displayName:"QuickView__BannerWithBorderRadius",componentId:"dodww8-1"})(["border-radius:8px 8px 0px 0px;"]),Ja=function(e){var t=e.title,n=e.Component,a=e.data,i=a.collectionMapInfo,l=(a.height,a.hideMargin),r=a.hideBorder,c=a.onInViewChange,s=o()(a,["collectionMapInfo","height","hideMargin","hideBorder","onInViewChange"]);return I.a.createElement(Ee.a,{m:l?0:3,p:r?0:3,borderWidth:r?0:1,borderRadius:6,"data-testid":"QUICKVIEW-CARD-WRAPPER"},t&&I.a.createElement(M.a,{fontSize:0,color:"text.light",mb:3},t),I.a.createElement(R.a,null,!i&&n&&function(e){return e?I.a.createElement(Hn.a,{onChange:e},I.a.createElement(n,s)):I.a.createElement(n,s)}(c)),i&&I.a.createElement(I.a.Fragment,null,(null==s?void 0:s.hidePotentialHotelsCallout)&&I.a.createElement(Ka,{color:"background.dark",px:3,py:2,text:"We'll pick one of these 3:"}),I.a.createElement(qt,i)))},Za=function(e){var t=e.allHotels,n=e.collectionMapInfo,a=e.inlineDualCTAs,i=e.modalDetailCTA,l=e.detailsUrl,o=e.guestFavorite,r=e.hotelFeatures,s=e.hotelId,d=e.hotelImageUrls,u=e.hotelCleanliness,m=(e.hotelReviewInfo,e.location),p=(e.locationScore,e.mapDetails),h=e.name,f=e.overallGuestRating,g=e.priceTagDescription,v=e.ratesSummary,b=e.starRating,C=e.totalReviewCount,x=e.onInViewChange,y=e.useAddress,w=function(e){var t,n,a=(null==e?void 0:null===(t=e.rankedAmenityList)||void 0===t?void 0:t.length)>0,i=(null==e?void 0:null===(n=e.hotelAmenities)||void 0===n?void 0:n.length)>0;return a||i?(a?e.rankedAmenityList:e.hotelAmenities).map(function(e){var t=Dn()(bt.a,a?e:null==e?void 0:e.code,{}),n=t.name,i=t.photoIcon;return n?{name:n,description:n,icon:i||Xa}:null}).filter(function(e,t,n){return e&&e.name&&n.findIndex(function(t){return(null==t?void 0:t.name)===e.name})===t}):[]}(r);return I.a.createElement(N.a,null,Ja({Component:Ya,data:{appendedKey:"modal-carousel",hideBorder:!0,hideMargin:!0,imageFit:"cover",imageUrls:d,imageDescStyle:{fontSize:"12px",borderRadius:"6px"},imageDescDisclaimer:"We pick the hotel after you pay"}}),Ja({Component:Gn.a,data:{hideBorder:!0,hideTitle:!1,isWider:!0,name:h,neighborhoodName:Dn()(m,"neighborhoodName",""),overallGuestRating:f,priceTagDescription:g,ratesSummary:v,showInformationBanner:o,starRating:b,title:{fontColor:"text",fontSize:"18px",mobileFontSize:1},totalReviewCount:C,onInViewChange:x,useAddress:y,location:m}}),i&&Ja({Component:Xn,data:c()({hideBorder:!0,isWider:!0},i)}),a&&Ja({Component:aa,data:c()({images:t.map(function(e){return{name:e.name,thumbnailUrl:e.thumbnailUrl}})},a)}),(null==w?void 0:w.length)&&Ja({title:"AMENITIES",Component:Fn,data:{items:w,minItemCount:4,itemWidth:"215px"}}),u&&Ja({title:u.headline,Component:Qa,data:{headerText:u.byline,items:u.cleanlinessList,minItemCount:2}}),Ja({title:"LOCATION",Component:qt,data:{collectionMapInfo:n,details:p,height:"inherit",hidePotentialHotelsCallout:!0,potentialHotelsForMap:t}}),Ja({title:"RATINGS & REVIEWS",Component:Wa,data:{hotelId:s,shouldLoadHotelReviews:!0,key:s}}),l&&I.a.createElement(et.a,{href:l,target:"_blank"},I.a.createElement(A.a,{justifyContent:"flex-end",mb:3,mr:3},I.a.createElement(M.a,{lineHeight:"18px",fontSize:1,mr:1},"View Hotel Details"),I.a.createElement(Re.a,{height:20,width:20}))))},ei=n(1230),ti=n(448),ni=Object(O.default)(Ee.a).withConfig({displayName:"ChecklistPagination__OverflowCard",componentId:"eggj3r-0"})(["overflow:hidden;"]),ai=Object(O.default)(te.b).withConfig({displayName:"ChecklistPagination__ButtonWithIcon",componentId:"eggj3r-1"})(["border-radius:0px;height:16px;outline:none;"]),ii=Object(O.default)(M.a).withConfig({displayName:"ChecklistPagination__NoWrapText",componentId:"eggj3r-2"})(["white-space:nowrap;"]),li=function(e){var t=e.className,n=e.handleItemChecked,a=e.items,l=o()(e,["className","handleItemChecked","items"]);if((null==a?void 0:a.length)<1)return null;var r=a.filter(function(e){return!0===e.checked}).map(function(e){return e.id});return I.a.createElement(A.a,i()({className:t,justifyContent:"center",width:1},l),I.a.createElement(ni,{borderRadius:2,borderWidth:0,color:"background.base",width:"min-content"},I.a.createElement(A.a,null,a.map(function(e,t){var a=e.checked;return I.a.createElement(ai,{"aria-checked":a,color:a?"primary":"background",isFirst:0===t,key:e.id,onClick:function(){return function(e,t){var a=new Set(r);a.add(e),n(Qt()(a),t)}(e.id,t)},p:0,role:"checkbox"},I.a.createElement(A.a,null,a?I.a.createElement(ti.a,{color:"background.lightest",size:16}):I.a.createElement(Va.a,{color:"background.lightest",size:16}),I.a.createElement(ii,{fontSize:0,ml:3,mr:4},e.text)))}))))},oi=Object(O.default)("ul").withConfig({displayName:"carouselModalHelpers__UnstyledList",componentId:"sc-1nikmz1-0"})(["list-style:none;padding:0;margin:0;"]),ri=function(e){var t=e.hotelId,n=e.viewedHotels,a=new Set(n);return Number(t)&&a.add(t),Qt()(a)},ci=function(e){var t=e.index;return t<=0?3:t-1},si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addressLine1,n=e.cityName;return t&&n?"".concat(t,", ").concat(n):""},di=function(e){var t,n;return{mapInfo:{lat:null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.latitude,lon:null==e?void 0:null===(n=e.location)||void 0===n?void 0:n.longitude}}},ui=function(e){var t=e.collectionHotels,n=e.index;return t.map(function(e,t){var a,i,l,o,r;return{address:si(null==e?void 0:null===(a=e.location)||void 0===a?void 0:a.address),lat:null==e?void 0:null===(i=e.location)||void 0===i?void 0:i.latitude,lng:null==e?void 0:null===(l=e.location)||void 0===l?void 0:l.longitude,name:null==e?void 0:e.name,pinPrice:{currencySymbol:null==e?void 0:null===(o=e.ratesSummary)||void 0===o?void 0:o.minCurrencyCodeSymbol,price:null==e?void 0:null===(r=e.ratesSummary)||void 0===r?void 0:r.minPrice},selectedHotel:t===n,starRating:null==e?void 0:e.starRating,thumbnailUrl:null==e?void 0:e.thumbnailUrl}})},mi=Object(O.default)(lt.a).withConfig({displayName:"carouselModalHelpers__HotelImage",componentId:"sc-1nikmz1-1"})(["border-radius:6px;"]),pi=Object(O.default)(Ie.a).withConfig({displayName:"carouselModalHelpers__BlueLinkButton",componentId:"sc-1nikmz1-2"})(["color:",";margin-left:-","px;&:hover{color:",";}"],Object(ne.g)("primary.base"),function(e){return e.theme.space[1]},Object(ne.g)("primary.dark")),hi=function(e){var t=e.bookUrl,n=e.buttonText,a=e.disabled,i=(e.footerText,e.onHandleBook);return t?I.a.createElement(et.a,{disabled:a,href:t,target:"_blank",onClick:i,width:1},I.a.createElement(te.b,{color:"secondary",disabled:a,p:2,width:1},n)):I.a.createElement(te.b,{color:"secondary",disabled:a,onClick:i,p:2,width:1},n)},fi=function(e){var t=e.bookBarProps,n=t.bookUrl,a=t.buttonText,i=t.footerText,l=t.onHandleBook,o=t.priceDescription,r=void 0===o?"/night":o,c=t.rateInfo,s=c.currencySymbol,d=c.price,u=e.collectionHotels,m=e.disabled,p=e.imageUrls,h=e.isChecklistTooltipOpen,f=e.lowestPricePercentage,g=e.onCloseChecklistTooltip,v=e.setCenterDisplayItem,b=e.sharedAmenities,C=Math.round(100*(1-f)),x=Math.round(100*f),y="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_PERCENT_CHANCE_FRAMING_COVID_GENERAL");return I.a.createElement(N.a,{minHeight:"100vh",p:[3,null,null,4],width:1},I.a.createElement(A.a,{alignItems:"center",justifyContent:"space-between",width:1},I.a.createElement(N.a,{mt:2},I.a.createElement(P.a,{size:"small"}),I.a.createElement(M.a,{fontSize:[2,null,null,3],fontWeight:"bold",mt:1},"We pick 1 of these 3 hotels")),I.a.createElement(A.a,{flexDirection:"column",textAlign:"right"},I.a.createElement(A.a,null,I.a.createElement(M.a,{color:"pricePrimary.base",fontSize:0,fontWeight:"bold",mt:1},s),I.a.createElement(M.a,{color:"pricePrimary.base",fontSize:4,fontWeight:"bold"},d)),I.a.createElement(M.a,{color:"pricePrimary.base",fontSize:0,fontWeight:"regular",mt:-1},r))),I.a.createElement(M.a,{fontSize:[1,null,null,2],fontWeight:"regular",mt:[2,null,null,3]},y?"There's a ".concat(x,"% chance* you'll get the least expensive option shown."):"There's a ".concat(C,"% chance* you'll get one of the more expensive options shown.")),I.a.createElement(N.a,{mt:["24px",null,null,4]},function(e,t){return I.a.createElement(A.a,{flexDirection:"column"},e.map(function(n,a){var i,l,o;return I.a.createElement(A.a,{key:"big-card-hotelImage-".concat(a),flexDirection:"row",pb:a!==e.length-1?3:0},I.a.createElement(mi,{alt:n.name,src:n.thumbnailUrl,height:72,width:72}),I.a.createElement(N.a,{ml:3},I.a.createElement(M.a,{fontSize:0,fontWeight:"bold"},n.name),(null==n?void 0:null===(i=n.ratesSummary)||void 0===i?void 0:i.minPrice)&&I.a.createElement(N.a,{mt:1},I.a.createElement(M.a,{fontSize:0,color:"pricePrimary.base"},"Retail",I.a.createElement(M.a.span,{fontWeight:"bold"}," ".concat(null==n?void 0:null===(l=n.ratesSummary)||void 0===l?void 0:l.minCurrencyCodeSymbol).concat(null==n?void 0:null===(o=n.ratesSummary)||void 0===o?void 0:o.minPrice)),"/night")),I.a.createElement(pi,{onClick:function(){return t(null==n?void 0:n.hotelId)}},I.a.createElement(M.a,{fontSize:0,fontWeight:"bold",p:1},"See details"))))}))}(u,v)),I.a.createElement(Ee.a,{borderRadius:2,mt:[3,null,null,4]},I.a.createElement(A.a,{flexDirection:["column",null,null,"row"],p:3},I.a.createElement(A.a,{alignItems:"center",width:[1,null,null,.6]},I.a.createElement(ct,{imageMr:["2px",null,null,"3px"],imageWidth:[32,null,null,40],imageHeight:"100%",imageUrls:p}),I.a.createElement(M.a,{fontSize:[0,null,null,1],maxWidth:["60%",null,null,"50%"],ml:[2,null,null,3]},i)),I.a.createElement(A.a,{alignItems:"center",mt:[3,null,null,0],width:[1,null,null,.4]},I.a.createElement(hi,{bookUrl:n,buttonText:a,disabled:m,footerText:i,onHandleBook:l}),h&&I.a.createElement(R.a,null,I.a.createElement(nt.a,{top:16},I.a.createElement(vi,{bg:"black",bottom:!0,right:!0,zIndex:1502},I.a.createElement(A.a,{alignItems:"center"},I.a.createElement(M.a,{color:"text.lightest"},"Review each hotel before you book"),I.a.createElement(tt.a,{color:"background.lightest",ml:1,onClick:g,size:20})))))))),b&&I.a.createElement(N.a,null,I.a.createElement(M.a,{fontSize:2,mt:24,fontWeight:"bold",mb:3},"All 3 hotels include:"),I.a.createElement(oi,null,I.a.createElement(A.a,{flexWrap:"wrap"},function(e){return e.filter(function(e){return"HEALTHSVCS"!==e}).map(function(e,t){var n,a=null!==(n=bt.a[e])&&void 0!==n?n:{};return(null==a?void 0:a.name)?I.a.createElement("li",{key:"pb-amenity-item-".concat(t)},I.a.createElement(A.a,{pt:1,pb:2,width:"300px"},I.a.createElement(ie.a,{size:16,color:"secondary.base",mr:2}),I.a.createElement(M.a.span,{fontSize:"12px"},null==a?void 0:a.name))):null})}(b)))),I.a.createElement(M.a,{color:"text.light",fontSize:["11px",null,null,0],fontWeight:"regular",mt:4},"*Based on all Pricebreakers booked over the past 30 days."))},gi=function(e){var t=e.categoryName,n=e.color,a=void 0===n?"text.lightest":n,i=e.handleModalClose,l=e.headerTitle,o=e.useLogo;return I.a.createElement(R.a,{color:o?"background.lightest":"primary.base",p:o?0:["12px",null,null,3]},I.a.createElement(nt.a,{top:8,right:8},I.a.createElement(tt.a,{color:o?"text.base":"background.lightest",onClick:i,size:24})),o?I.a.createElement(A.a,{justifyContent:"center",width:1,mt:"12px"},I.a.createElement(P.a,{size:"small"})):I.a.createElement(M.a,{color:a,fontSize:"11px",fontWeight:"bold",mx:2,textAlign:"center"},t),I.a.createElement(M.a,{color:a,fontSize:o?0:1,fontWeight:o?"regular":"bold",mt:o?1:0,mb:0,mx:2,textAlign:"center"},l))},vi=Object(O.default)(D.a).withConfig({displayName:"carouselModalHelpers__WidthTooltip",componentId:"sc-1nikmz1-3"})(["width:254px;"]),bi=function(e){var t=e.categoryName,n=e.handleItemChecked,a=e.handleModalClose,i=e.headerTitle,l=e.hotelItems;return I.a.createElement(A.a,{color:"background.lightest",flexDirection:"column",justifyContent:"center",width:1},I.a.createElement(gi,{categoryName:t,color:"text",handleModalClose:a,headerTitle:i,useLogo:!0}),I.a.createElement(li,{handleItemChecked:n,items:l,my:2}))},Ci=function(e){var t=e.categoryName,n=e.handleItemChecked,a=e.handleModalClose,i=e.headerTitle,l=e.hotelItems;return l?I.a.createElement(bi,{categoryName:t,handleItemChecked:n,handleModalClose:a,headerTitle:i,hotelItems:l}):I.a.createElement(gi,{categoryName:t,headerTitle:i,handleModalClose:a})};var xi=Object(O.default)(lt.a).withConfig({displayName:"CarouselModalWrapper__ImageCard",componentId:"sc-1qzht0s-0"})(["max-height:calc(45vw - 32px);"]),yi=Object(O.default)(Ee.a).withConfig({displayName:"CarouselModalWrapper__StickyBox",componentId:"sc-1qzht0s-1"})(["width:calc(100vw - 48px);position:fixed;z-index:101;border-top:0;border-left:0;border-right:0;display:",";","{width:calc(100vw - 64px);}","{width:calc(100vw - 610px);max-width:720px;}"],function(e){return e.showStickyNav?"flex":"none"},function(e){return e.theme.mediaQueries.sm},function(e){return e.theme.mediaQueries.xl}),wi=function(e){g()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=x()(e);if(t()){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}(n);function n(e){var a,i;d()(this,n),i=t.call(this,e),w()(h()(i),"closeModal",function(){i.setState({isModalOpen:!1}),i.props.onCloseButtonClick(null)}),w()(h()(i),"setSelectedMapHotel",function(e){i.setState(function(t){return{selectedMapHotel:t.selectedMapHotel===e?null:e}})}),w()(h()(i),"closeChecklistTooltip",function(){i.setState({isChecklistTooltipOpen:!1})}),w()(h()(i),"getDisplayedHotelId",function(e){var t=ri({hotelId:e,viewedHotels:i.state.viewedHotels});"WhichHotelCard"===e&&_.a.fireImpression("HTL_COLLECTIONS_PERCENT_CHANCE_FRAMING_COVID_GENERAL"),i.setState({inView:!1,selectedMapHotel:e,viewedHotels:t})}),w()(h()(i),"stickyHeader",function(e,t){return I.a.createElement(yi,{color:"background.lightest",showStickyNav:t},I.a.createElement(M.a,{mx:3,fontSize:0,fontWeight:"bold"},e))}),w()(h()(i),"onInViewChange",function(e){i.setState({inView:!e})}),w()(h()(i),"assignCarouselFunctions",function(e){i.setState({carouselModalFunctions:e})}),w()(h()(i),"assignCarouselFunctionsWithAutoRotate",function(e){var t,n,a=i.props,l=null!==(t=null===(n=a.collectionHotels[a.selectedHotelIndex])||void 0===n?void 0:n.hotelId)&&void 0!==t?t:"WhichHotelCard";i.setState({carouselModalFunctions:e},function(){return i.setCenterDisplayItem(l)})}),w()(h()(i),"setCenterDisplayItem",function(e){var t=i.state.carouselModalFunctions.setCenterDisplayItem;t&&t(e)}),w()(h()(i),"handleItemChecked",function(e,t){var n=i.props.collectionHotels[t].hotelId;i.setCenterDisplayItem(n)}),i.autoRotateOnMobile=e.isMobile&&"VARIANT"===_.a.getTestState("HTL_M_COLLECTIONS_MODAL_SCROLL_COVID_GENERAL"),i.showSwipeButtons=e.isMobile&&"VARIANT"===_.a.getTestState("HTL_M_COLLECTIONS_MODAL_ARROWS_COVID_GENERAL");var l=ci({index:e.selectedHotelIndex}),o=e.collectionHotels,r=e.selectedHotelIndex,c="".concat(null==o?void 0:null===(a=o[r])||void 0===a?void 0:a.hotelId);return i.state={carouselModalFunctions:{},inView:!1,isChecklistTooltipOpen:!0,isModalOpen:!1,selectedHotelIndex:i.autoRotateOnMobile?l:r,selectedMapHotel:c,viewedHotels:Number(c)?[c]:[]},i.modalCTAsTest="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_MODAL_CTAS"),i.useCheckListHeader="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_MODAL_WARNING"),i}return m()(n,[{key:"componentDidMount",value:function(){_.a.fireImpression("HTL_COLLECTIONS_MODAL_WARNING"),_.a.fireImpression("HTL_COLLECTIONS_MODAL_CTAS"),this.props.isMobile&&_.a.fireImpression("HTL_M_COLLECTIONS_MODAL_SCROLL_COVID_GENERAL"),this.props.isMobile&&_.a.fireImpression("HTL_M_COLLECTIONS_MODAL_ARROWS_COVID_GENERAL")}},{key:"render",value:function(){var e,t,n,a=this,l=this.props,o=l.bookBarProps,r=l.categoryName,s=l.collectionHotels,d=l.collectionLocation,u=l.collectionMapInfo,m=l.collectionType,p=l.headerTitle,h=l.cleanlinessHeadline,f=l.cleanlinessByline,g=l.hotelIds,v=l.imageUrls,b=l.lowestPricePercentage,C=l.sharedAmenities,x=this.state,y=x.isChecklistTooltipOpen,w=x.inView,E=x.selectedHotelIndex,k=x.viewedHotels;if(!Array.isArray(s)||!Array.isArray(g)||null===E)return null;var S=null===(e=this.props)||void 0===e?void 0:null===(t=e.hotelReviews)||void 0===t?void 0:t.hotels,T=null===(n=this.props)||void 0===n?void 0:n.hotelsContent,O=this.useCheckListHeader&&3!==(null==k?void 0:k.length),_=3!==(null==k?void 0:k.length)&&(this.useCheckListHeader&&y),N=s.map(function(e,t){var n,l,r,p,g,v,b,C,x,y,E,k=S&&S.find(function(t){return t.hotelId===e.hotelId}),N=null==k?void 0:k.pclnReviewInfo,R=T&&T.find(function(t){return t.hotelId.toString()===e.hotelId}),A=function(e){var t,n=e.images,a=void 0===n?[]:n;return null!==(t=null==a?void 0:a.map(function(e){var t;return null!==(t=e.imageHDUrl)&&void 0!==t?t:e.imageUrl}))&&void 0!==t?t:[]}({images:null==R?void 0:R.images}),M=null!==(n=null==R?void 0:null===(l=R.hotelFeatures)||void 0===l?void 0:l.hotelAmenities)&&void 0!==n?n:[],D=null!==(r=null==R?void 0:null===(p=R.hotelOtherInfo)||void 0===p?void 0:p.hotelCleanlinessDetails)&&void 0!==r?r:[],H=(x=D,y=M.map(function(e){return"HEALTHSVCS"===e.code?e.name:null}).filter(function(e){return null!==e}),E=x.map(function(e){var t;return null!==(t=null==e?void 0:e.cleanlinessDetail)&&void 0!==t?t:null}).filter(function(e){return null!==e}),[].concat(Qt()(y),Qt()(E))),L=(null==H?void 0:H.length)?{headline:h,byline:f,cleanlinessList:H}:null,P={};P.id=null==e?void 0:e.hotelId,P.smallCard=Object(xt.M)(e,{borderWidth:0,city:d,forceFullCard:!0,noShadow:!0,type:m,tileNumber:t}),P.stickyHeader=a.stickyHeader(e.name,w);var j=c()(c()({},u),{},{collectionHotels:s,mapId:e.hotelId,mb:0,pageType:"MODAL",setSelectedHotel:a.setSelectedMapHotel,selectedHotelId:a.state.selectedMapHotel,smartUI:!0}),z={thumbnailUrl:null==e?void 0:e.thumbnailUrl,detailsUrl:null==e?void 0:e.detailsUrl,ratesSummary:null==e?void 0:e.ratesSummary},B=a.modalCTAsTest?null:{collectionBookCTA:{bookUrl:null==o?void 0:o.bookUrl,buttonText:null==o?void 0:o.buttonText,isChecklistTooltipOpen:_,onCloseChecklistTooltip:a.closeChecklistTooltip,onHandleBook:null==o?void 0:o.onHandleBook},disabled:O,footerText:null==o?void 0:o.footerText,headerText:"We pick 1 of these 3 hotels",hotelDetailCTA:z},W=null!==(g=null==z?void 0:null===(v=z.ratesSummary)||void 0===v?void 0:v.minCurrencyCodeSymbol)&&void 0!==g?g:"$",U=null!==(b=null==z?void 0:null===(C=z.ratesSummary)||void 0===C?void 0:C.minPrice)&&void 0!==b?b:0,V=a.modalCTAsTest?c()(c()({},z),{},{buttonText:"Book this hotel for ".concat(W).concat(U,"/night")}):null;return P.fullCard=I.a.createElement(Za,i()({},e,{allHotels:ui({collectionHotels:s,index:t}),inlineDualCTAs:B,modalDetailCTA:V,collectionMapInfo:j,guestFavorite:null==e?void 0:e.guestFavorite,hotelImageUrls:A,hotelCleanliness:L,hotelReviewInfo:N,mapDetails:di(e),onInViewChange:a.onInViewChange,useAddress:!0})),P.transitionCard=I.a.createElement(xi,{"aria-hidden":!0,src:A[0]||e.thumbnailHDUrl||e.thumbnailUrl,width:"100%",height:"56%"}),P}),R=this.useCheckListHeader?s.map(function(e,t){var n=e.hotelId;return{checked:k.indexOf(n)>=0,id:n,text:"Hotel ".concat(t+1)}}):null,A=I.a.createElement(Ci,{categoryName:r,handleItemChecked:this.handleItemChecked,handleModalClose:this.closeModal,headerTitle:p,hotelItems:R}),M={id:"WhichHotelCard",fullCard:I.a.createElement(fi,{bookBarProps:o,collectionHotels:s,disabled:O,imageUrls:v,isChecklistTooltipOpen:_,lowestPricePercentage:Number(b),onCloseChecklistTooltip:this.closeChecklistTooltip,setCenterDisplayItem:this.setCenterDisplayItem,sharedAmenities:C}),smallCard:I.a.createElement(yn,{imageUrls:v}),transitionCard:I.a.createElement(yn,{imageUrls:v})};N.push(M);var D=0===E?N.length-1:E-1,H=E===N.length-1?0:E+1,L=[D,E,H,H<N.length-1?H+1:0],P={bookUrl:null==o?void 0:o.bookUrl,buttonText:null==o?void 0:o.buttonText,disabled:O,footerText:null==o?void 0:o.footerText,headerText:"We pick 1 of these 3 hotels",images:s.map(function(e){return{name:e.name,thumbnailUrl:e.thumbnailUrl}}),isChecklistTooltipOpen:_,onCloseChecklistTooltip:this.closeChecklistTooltip,onHandleBook:null==o?void 0:o.onHandleBook};return I.a.createElement(gn,{bookBar:this.modalCTAsTest?I.a.createElement(An,P):null,showSwipeButtons:this.showSwipeButtons,closeModal:this.closeModal,header:A,isOpen:this.state.isModalOpen,itemOrder:L,items:N,onCenterItemChange:this.getDisplayedHotelId,onMountEvent:this.autoRotateOnMobile?this.assignCarouselFunctionsWithAutoRotate:this.assignCarouselFunctions,usePaginationDots:!this.useCheckListHeader})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null!==e.selectedHotelIndex&&!1===t.isModalOpen?{isModalOpen:!0}:null}}]),n}(E.Component),Ei=Object(ei.b)(wi,{idListProp:"hotelIds"});var Ii=Object(O.default)(N.a).withConfig({displayName:"CollectionsWrapper__SideLine",componentId:"web3rx-0"})(["flex-grow:1;margin:auto;"]),ki=function(e){g()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var n,a=x()(e);if(t()){var i=x()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return b()(this,n)}}(n);function n(e){var a;d()(this,n),a=t.call(this,e),w()(h()(a),"sortSharedAttributes",function(e,t){var n="AMENITY"===e?[]:a.props.filterSummary,i=[];(null==n?void 0:n.length)>0&&(i=n.reduce(function(e,t){return"amenityCodes"===t.type&&e.push(t.value),e},[]));var l=["NSMKFAC","HANDFAC"],o=t.filter(function(e){var t=-1===i.indexOf(e),n=-1===l.indexOf(e);return t&&n});i=i.filter(function(e){return-1!==o.indexOf(e)});var r=Object(yt.b)(o,yt.a);return i.concat(r).slice(0,3)}),w()(h()(a),"selectHotelToShowCarouselModal",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e?a.scrollLock.off():(a.scrollLock.off(),a.scrollLock.on()),!(null==t?void 0:t.priceBreakerDealMatchModal)&&null!==e){var n,i,l,o,r=null!==(n=null===(i=a.props)||void 0===i?void 0:null===(l=i.collection)||void 0===l?void 0:null===(o=l.hotels[e])||void 0===o?void 0:o.hotelId)&&void 0!==n?n:"WhichHotelCard";r&&Object(xt.J)(c()(c()({},a.props),{},{action:"PricebreakerModalDisplayed",selectedModalHotelId:r})),"WhichHotelCard"===r&&_.a.fireImpression("HTL_COLLECTIONS_PERCENT_CHANCE_FRAMING_COVID_GENERAL")}a.setState({selectedHotelIndex:e})}),w()(h()(a),"checkListicleName",function(e){if(e){var t=e.split(" ")[0],n="Our"!==t&&"Save"!==t&&"Created"!==t&&"Similar"!==t;return(a.props.isListingsPage||a.props.priceBreakerMatchProps)&&n?"3 "+e:!a.props.isListingsPage&&n?(_.a.fireImpression("HTL_PB_LISTINGS_LISTICLE_NAMING_COVID_GENERAL"),a.listicleNaming?"3 "+e:e):e}}),w()(h()(a),"handleModalDisclaimerOpen",function(){a.scrollLock.off(),a.setState({isModalDisclaimerOpen:!0}),a.scrollLock.on()}),w()(h()(a),"modalTakeoverHandleBook",function(e){var t=e.alwaysHideCollectionsDisclaimer;a.disclaimerCheckboxSeti&&t&&(Object(xt.N)({key:"alwaysHideTakeoverDisclaimer",value:!0}),a.setState({alwaysHideCollectionsDisclaimer:t})),Object(xt.J)(c()(c()({},a.props),{},{action:"TakeoverModalConfirmedViaModal"}))}),w()(h()(a),"handleBookOrDisclaimer",function(){_.a.fireImpression("HTL_COLLECTIONS_TAKEOVER_MODAL_MEMORY_COVID_GENERAL");var e=a.state.alwaysHideCollectionsDisclaimer;if(!a.disclaimerCheckboxSeti||!e)return a.handleModalDisclaimerOpen()}),w()(h()(a),"chooseBtnSelected",function(e){var t="string"==typeof e;return Object(xt.J)(c()(c()({},a.props),{},{action:t?e:"PricebreakerListingChooseButtonSelected"})),null===a.state.selectedHotelIndex?a.selectHotelToShowCarouselModal(1):a.handleBookOrDisclaimer()}),w()(h()(a),"handleToggleEdit",function(){a.setState(function(e){return{isCollectionEditingInProgress:!e.isCollectionEditingInProgress,showMap:!1}})}),w()(h()(a),"mapAmenities",function(e){return e.reduce(function(e,t){var n=bt.a[t]?bt.a[t].name:null;return n&&e.push(n),e},[])}),w()(h()(a),"setSelectedMapHotel",function(e){a.setState(function(t){return{selectedMapHotel:t.selectedMapHotel===e?null:e}})}),w()(h()(a),"toggleCollectionCardContainer",function(){a.setState(function(e){return{showMap:!e.showMap}})}),w()(h()(a),"onChangePoi",function(e){a.setState({mapPoi:e})}),w()(h()(a),"dismissModalTakeover",function(){a.setState({isModalDisclaimerOpen:!1}),Object(xt.J)(c()(c()({},a.props),{},{action:"TakeoverModalDismissed"}))}),a.scrollLock=new vt.a;var i=Object(xt.r)({key:"alwaysHideTakeoverDisclaimer"});i||Object(Et.d)({key:"alwaysHideCollectionsTakeoverDisclaimer"})&&(i=!0,Object(xt.N)({key:"alwaysHideTakeoverDisclaimer",value:!0}),Object(Et.e)({key:"alwaysHideCollectionsTakeoverDisclaimer"}));return a.showMapFirst="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_DEFAULT_MAP_COVID_GENERAL"),a.state={alwaysHideCollectionsDisclaimer:i,isCollectionEditingInProgress:!1,isModalDisclaimerOpen:!1,mapPoi:null,selectedHotelIndex:null,selectedMapHotel:null,showMap:a.showMapFirst},a.disclaimerCheckboxSeti="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_TAKEOVER_MODAL_MEMORY_COVID_GENERAL"),a.listicleNaming="VARIANT"===_.a.getTestState("HTL_PB_LISTINGS_LISTICLE_NAMING_COVID_GENERAL"),a.mapToggleUpdate="VARIANT"===_.a.getTestState("HTL_COLLECTIONS_MAP_PREVIEW_COVID_GENERAL"),Object(Ct.b)(),a}return m()(n,[{key:"componentDidMount",value:function(){if(this.props.collection){var e=this.props.onMountEvent;e?e(c()({},this.props)):Object(xt.J)(c()({},this.props)),_.a.fireImpression("HTL_COLLECTIONS_DEFAULT_MAP_COVID_GENERAL"),_.a.fireImpression("HTL_COLLECTIONS_MAP_PREVIEW_COVID_GENERAL")}}},{key:"render",value:function(){var e,t,n,a,l,r,s,d,u,m,p=this,h=this.props,f=(h.additionalTitle,h.amenityStatusCopy),g=h.categoryName,v=h.children,b=h.cityName,C=h.citySearchInfo,x=h.className,y=h.collection,w=h.collectionName,E=h.collectionsDisclaimerBookBtnText,k=h.collectionsDisclaimerDismissBtnText,S=h.collectionsDisclaimerText,T=h.collectionsDisclaimerTitle,O=h.modalCleanlinessHeadline,_=h.modalCleanlinessByline,D=h.collectionsFilterSummary,H=h.CTACopy,L=h.currencySymbol,P=h.priceBreakerMatchProps,j=h.errorMessage,z=h.failedToEditCollection,B=void 0!==z&&z,W=h.filterSummary,U=h.footerCopy,V=h.handleCollectionEditStart,F=h.hasSticker,G=h.headerTitle,q=h.hotelId,$=(h.hotelIdsToExclude,h.isCollectionEditable),Q=h.isListingsPage,X=h.isMobile,Y=(h.isSignedInName,h.loadingEditedCollection),J=h.location,Z=h.matchedHotelData,ee=(h.metaHotelIdForNewUi,h.preferredHotel,h.preferredHotelData),te=h.priceChangeMessage,ne=h.priceCopy,ae=h.priceTagDescription,ie=h.searchedStateCode,le=o()(h,["additionalTitle","amenityStatusCopy","categoryName","children","cityName","citySearchInfo","className","collection","collectionName","collectionsDisclaimerBookBtnText","collectionsDisclaimerDismissBtnText","collectionsDisclaimerText","collectionsDisclaimerTitle","modalCleanlinessHeadline","modalCleanlinessByline","collectionsFilterSummary","CTACopy","currencySymbol","priceBreakerMatchProps","errorMessage","failedToEditCollection","filterSummary","footerCopy","handleCollectionEditStart","hasSticker","headerTitle","hotelId","hotelIdsToExclude","isCollectionEditable","isListingsPage","isMobile","isSignedInName","loadingEditedCollection","location","matchedHotelData","metaHotelIdForNewUi","preferredHotel","preferredHotelData","priceChangeMessage","priceCopy","priceTagDescription","searchedStateCode"]),oe=this.state,re=oe.alwaysHideCollectionsDisclaimer,ce=oe.isModalDisclaimerOpen,se=oe.showMap;if(!y||3!==(null==y?void 0:null===(e=y.hotels)||void 0===e?void 0:e.length)||Object(xt.e)(y,W))return null;var de,ue=null==y?void 0:null===(t=y.hotels)||void 0===t?void 0:t.map(function(e){return null==e?void 0:e.hotelId}),me=Number(null==y?void 0:null===(n=y.ratesSummary)||void 0===n?void 0:n.minPrice),pe="".concat(this.props.currencySymbol).concat(me),he=(null==y?void 0:y.includedPreferredHotels)||(null==y?void 0:y.incorporatedHotels);(null==H?void 0:null===(a=H.value)||void 0===a?void 0:a.length)>0&&(null==H?void 0:null===(l=H.value)||void 0===l?void 0:l.includes("$price$"))?de=H.value.replace("$price$",pe):(null==H?void 0:null===(r=H.value)||void 0===r?void 0:r.length)>0&&(de=H.value);var fe=Object(xt.w)({citySearchInfo:C,matchedHotelData:Z,preferredHotelData:ee}),ge=null,ve=Boolean(b&&ie),be=null==y?void 0:y.hotels.map(function(e){var t,n,a,i=null==e?void 0:null===(t=e.location)||void 0===t?void 0:null===(n=t.address)||void 0===n?void 0:n.provinceCode,l=Number(null==e?void 0:null===(a=e.ratesSummary)||void 0===a?void 0:a.minPrice);((null===ge||l<ge)&&(ge=l),i)&&(ve&&!(ie===i)&&(y.outsideOfState=!0,e.hotelOutOfState=!0));return Object(xt.j)({hotel:e,otherData:{detailUrlProps:p.props,mapPoi:p.state.mapPoi,priceTagDescription:ae,searchDerivedPoi:fe}})}),Ce=null,xe=null,we=null==y?void 0:y.missingSeeds,Ee=null==y?void 0:y.includedSeeds,Ie=!1===(null==y?void 0:y.partialMatch)&&"BUILD_A_DEAL"===(null==y?void 0:y.collectionType);if(we){var ke=(null==we?void 0:we.amenities)||null;Array.isArray(ke)&&ke.length>0&&(Ce=this.mapAmenities(ke),Object(xt.G)("Collection Displayed Missing Amenity: ".concat(Ce)))}if(Ee){var Se=(null==Ee?void 0:Ee.amenities)||null;Array.isArray(Se)&&Se.length>0&&(xe=this.mapAmenities(Se),"BUILD_A_DEAL"===(null==y?void 0:y.collectionType)&&Object(xt.G)("Collection Displayed Included Amenity: ".concat(xe)))}var Te=null==y?void 0:y.collectionType,Oe="BUILD_A_DEAL"===Te,_e=null==y?void 0:y.sharedAttributes,Ne=null==_e?void 0:_e.amenities,Re=null!==(s=null==_e?void 0:_e.tags)&&void 0!==s?s:[];Array.isArray(Ne)&&!Oe&&(xe=this.mapAmenities(this.sortSharedAttributes(Te,Ne)));var Ae=Object(xt.s)(Re),Me=Object(xt.n)(this.props),De=$&&!B,He=null==y?void 0:y.collectionKey,Le=ge-me,Pe=this.checkListicleName(w||(null==y?void 0:y.displayName)),je=this.mapToggleUpdate?{imageUrl:null==y?void 0:null===(d=y.mapInfo)||void 0===d?void 0:d.staticMapUrl,onClick:this.toggleCollectionCardContainer}:null,ze={header:{editing:this.state.isCollectionEditingInProgress,hasSticker:F,priceText:ne.value,priceChangeMessage:te,rateColor:"priceSecondary.base",rateInfo:{price:"".concat(me),currencySymbol:L},stickerProps:{stickerBoxSpecs:{leftSpacing:-6,topSpacing:-3,rotate:-11}},subtitle:Pe,title:G||g.value},footer:{buttonText:de,editCollections:De,editing:this.state.isCollectionEditingInProgress,disclaimerText:"Save at least ".concat(L).concat(Le," per night"),errorMessage:j,footerText:U.value,hideToggle:this.mapToggleUpdate,onHandleBook:this.chooseBtnSelected,showMap:se,toggleEdit:this.handleToggleEdit,toggleMap:this.toggleCollectionCardContainer,toggleProps:je,whichHotelProps:{onClick:function(){return p.selectHotelToShowCarouselModal(3)}}}},Be={bookUrl:this.disclaimerCheckboxSeti&&re?Me:null,buttonText:de,categoryText:g.value,footerText:U.value,onHandleBook:function(){return p.chooseBtnSelected("PricebreakerModalChooseButtonSelected")},rateInfo:{currencySymbol:L,price:me}},We=I.a.createElement(K,i()({tipText:(null==he?void 0:he.length)>1?"Learns from the hotels you click to find better deals":null},ze.header)),Ue=I.a.createElement(ye,ze.footer),Ve=De?Object(xt.R)(Q?W:D):{},Fe=Boolean(y.outsideOfState||(null==he?void 0:he.length)>0),Ge=this.state.showMap?I.a.createElement(qt,{collectionHotels:be,initialPoi:this.state.mapPoi,mapId:y.collectionKey,mapInfo:y.mapInfo,onChangePoi:this.onChangePoi,pageType:"LISTING",selectedHotelId:this.state.selectedMapHotel,setSelectedHotel:this.setSelectedMapHotel,smartUI:Fe,toggleProps:je}):null,qe=c()(c()({onClick:function(){return p.selectHotelToShowCarouselModal(1,{priceBreakerDealMatchModal:!0})}},P),{},{title:Pe}),$e=null==y?void 0:null===(u=y.hotels)||void 0===u?void 0:u.map(function(e){return null==e?void 0:e.thumbnailUrl}),Qe={bookBtnText:E.value,bookUrl:Me,disclaimerText:S.value,dismissBtnText:k.value,imageUrls:$e,isModalOpen:ce,onHandleBook:this.modalTakeoverHandleBook,onHandleDismiss:this.dismissModalTakeover,showCheckbox:this.disclaimerCheckboxSeti,title:T.value},Xe={initialPoi:this.state.mapPoi,mapInfo:y.mapInfo,onChangePoi:this.onChangePoi};return I.a.createElement(N.a,i()({className:x},le),null!==this.state.selectedHotelIndex?I.a.createElement(Ei,{bookBarProps:Be,categoryName:g.value,collectionHotels:be,collectionLocation:J,collectionMapInfo:Xe,collectionType:null==y?void 0:y.collectionType,"data-testid":"CAROUSEL_MODAL_WRAPPER",headerTitle:Pe,cleanlinessHeadline:O.value,cleanlinessByline:_.value,hotelIds:be.map(function(e){return Number(e.hotelId)}),imageUrls:$e,isMobile:X,lowestPricePercentage:null==y?void 0:y.lowestPricePercentage,onCloseButtonClick:this.selectHotelToShowCarouselModal,selectedHotelIndex:this.state.selectedHotelIndex,sharedAmenities:null==y?void 0:null===(m=y.sharedAttributes)||void 0===m?void 0:m.amenities,shouldLoadHotelContent:!0}):null,P?I.a.createElement(I.a.Fragment,null,I.a.createElement(A.a,{mt:2,mb:[2,-2]},I.a.createElement(Ii,{color:"border",height:"1px"}),I.a.createElement(M.a,{fontSize:0,fontWeight:"bold",mx:[2,4],textAlign:"center",maxWidth:["85%","100%"]},qe.sideLineText),I.a.createElement(Ii,{color:"border",height:"1px"})),I.a.createElement(It.a,i()({},qe,{mb:4}))):I.a.createElement(N.a,{my:1,"data-testid":"RELAX_CONTAINER_WRAPPER"},v,I.a.createElement(R.a,null,I.a.createElement(Je,{attribute:f.value,attributeDivider:" ・ ",badgeText:Ie?"100% match":"",collectionMap:Ge,editing:p.state.isCollectionEditingInProgress,footer:Ue,handleMoreAmenitiesClick:function(){return p.selectHotelToShowCarouselModal(3)},header:We,includedAmenities:xe,missingAmenities:Ce,toggleProps:je},be.map(function(e,t){return Object(xt.M)(e,{cityName:b,collectionKey:He,currentAnchorHotelId:q,handleCollectionEditStart:V,includedPreferredHotels:he,index:t,isCollectionEditingInProgress:p.state.isCollectionEditingInProgress,listOfHotelIds:ue,listOfEditingFilters:Ve,sharedAttributesBannerText:Ae,showInformationBanner:Boolean(Ae),showBannerInImage:!0,outsideOfState:y.outsideOfState,setSelectedHotel:p.selectHotelToShowCarouselModal,toggleEdit:p.handleToggleEdit})})),Y&&Object(xt.D)())),ce?I.a.createElement(ft,Qe):null,Q&&Object(xt.K)(this.props))}}]),n}(E.Component);ki.defaultProps={collectionBranding:"Collection",hasSticker:!0,indexOnPage:0,isAllInclusive:!1,isListingsPage:!1,isPreferredMetaHotel:!1};var Si=Object(gt.a)(Object(T.connect)(function(e,t){var n,a,i,l,o,r,c,s,d,u,m,p,h,f,g,v,b,C,x,y,w,E,I,k,S,T,O,_,N,R,A,M,D,H,L=null==e?void 0:null===(n=e.pclnBootstrapData)||void 0===n?void 0:n.selectedCurrency,P=null==e?void 0:null===(a=e.pclnBootstrapData)||void 0===a?void 0:a.currencyMap;H="USD"===L?"$":P[L];var j=null!==(i=null===(l=e.graphQLResponse)||void 0===l?void 0:l.hotels)&&void 0!==i?i:[],z=null!==(o=t.isListingsPage?null===(r=e.graphQLResponse)||void 0===r?void 0:r.citySearchInfo:null===(c=e.collections)||void 0===c?void 0:c.cityInfo)&&void 0!==o?o:{},B=Object(wt.a)(window.location.search,"preferredhotelids"),W=B?j.find(function(e){return"".concat(e.hotelId)==="".concat(B)}):null,U=t.hotelId?j.find(function(e){return"".concat(e.hotelId)==="".concat(t.hotelId)}):null;return{adultOcc:null==e?void 0:null===(s=e.searchForm)||void 0===s?void 0:s.adultOcc,amenities:(null==t?void 0:t.amenities)||(null==e?void 0:null===(d=e.reqQuery)||void 0===d?void 0:d.amenities),checkIn:null==e?void 0:null===(u=e.searchForm)||void 0===u?void 0:u.checkIn,checkOut:null==e?void 0:null===(m=e.searchForm)||void 0===m?void 0:m.checkOut,childOcc:null==e?void 0:null===(p=e.searchForm)||void 0===p?void 0:p.childOcc,cityName:null==e?void 0:null===(h=e.collections)||void 0===h?void 0:null===(f=h.cityInfo)||void 0===f?void 0:f.cityName,citySearchInfo:z,countryCode:null==e?void 0:null===(g=e.pclnBootstrapData)||void 0===g?void 0:g.countryCode,currencyCode:L,currencySymbol:H,dateChanged:null==e?void 0:null===(v=e.searchForm)||void 0===v?void 0:v.dateChanged,filterSummary:(null==e?void 0:null===(b=e.filters)||void 0===b?void 0:b.summary)||[],formChanged:null==e?void 0:null===(C=e.searchForm)||void 0===C?void 0:C.formChanged,isAllInclusive:null==e?void 0:null===(x=e.pclnBootstrapData)||void 0===x?void 0:x.isAllInclusive,isMobile:null==e?void 0:null===(y=e.pclnBootstrapData)||void 0===y?void 0:y.isMobile,isSignedInName:(null==e?void 0:null===(w=e.authentication)||void 0===w?void 0:null===(E=w.sticky)||void 0===E?void 0:E.isSignedIn)?null==e?void 0:null===(I=e.authentication)||void 0===I?void 0:null===(k=I.sticky)||void 0===k?void 0:k.firstName:null==e?void 0:null===(S=e.authentication)||void 0===S?void 0:S.firstName,location:null==e?void 0:null===(T=e.searchForm)||void 0===T?void 0:T.locationId,locationType:null==e?void 0:null===(O=e.searchForm)||void 0===O?void 0:O.type,matchedHotelData:U,preferredHotel:B,preferredHotelData:W,recCollectionsCount:null==e?void 0:null===(_=e.collections)||void 0===_?void 0:_.recCollectionsCount,rooms:null==e?void 0:null===(N=e.searchForm)||void 0===N?void 0:N.rooms,starRating:(null==t?void 0:t.starRating)||(null==e?void 0:null===(R=e.reqQuery)||void 0===R?void 0:R.starRatings),searchedStateCode:null==e?void 0:null===(A=e.collections)||void 0===A?void 0:null===(M=A.cityInfo)||void 0===M?void 0:M.stateCode,zoneIds:(null==t?void 0:t.zoneIds)||(null==e?void 0:null===(D=e.reqQuery)||void 0===D?void 0:D.clusters)}})(ki),{amenityStatusCopy:{name:["9F7EAAA889"],fallback:{value:"All 3 Include"}},categoryName:{name:["HOTELS.HOTELS_COMMON.COLLECTIONS.HOTELSTAB.CATEGORY_NAME"],fallback:{value:"Pricebreaker"}},collectionsDisclaimerBookBtnText:{name:["AB09BA358A"],fallback:{value:"I understand"}},collectionsDisclaimerDismissBtnText:{name:["A8A9A2A948"],fallback:{value:"No thanks"}},collectionsDisclaimerText:{name:["28B1A97BD9"],fallback:{value:"Remember that with Pricebreakers, you get a great discount, but you do not get to pick the exact hotel. You'll see the exact hotel after you pay."}},collectionsDisclaimerTitle:{name:["969F980573"],fallback:{value:"About Pricebreakers"}},collectionsHomePageLink:{name:["HOTELS.HOTELS_COMMON.COLLECTIONS.HOTELSTAB.LINK_COPY"],fallback:{value:"See all Pricebreakers"}},CTACopy:{name:["BB9BA319B9"],fallback:{value:"Get 1 of These 3, Pay $price$"}},footerCopy:{name:["790A3806FA"],fallback:{value:"You'll see the exact hotel after you pay."}},modalCleanlinessByline:{name:["A6BABA892F"],fallback:{value:"This property has new health and safety guidelines:"}},modalCleanlinessHeadline:{name:["BA9889B89B"],fallback:{value:"ENHANCED CLEANING PLAN"}},priceCopy:{name:["CAC76B8D98"],fallback:{value:"We pick one of these 3 for:"}},priceTagDescription:{name:["HOTELS.HOTELS_COMMON.COLLECTIONS.HOTELSTAB.RETAIL_PRICE_COPY"],fallback:{value:"Retail price"}}});t.default=Si}}]);