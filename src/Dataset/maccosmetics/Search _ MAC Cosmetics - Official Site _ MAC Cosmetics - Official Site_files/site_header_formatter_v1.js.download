Drupal.behaviors.siteHeaderFormatterV1=function(e){var t,a=e(),n=e(),r=e(),i=!1,s=e(),o=e(),c=e(),d=e(),l=e(),h=e(),g=e(),f=e(),u=e(),v=e(),p=e(),m=e(),k=e(),b=e(),j=Unison.fetch.all(),x=Unison.fetch.now(),C=e(window).scrollTop();return{attached:!1,attach:function(H){function w(){var t=e(window).scrollTop();t<=C?n.toggleClass("site-header-formatter--hidden",!1):(n.toggleClass("site-header-formatter--hidden",!0),n.toggleClass("site-header-formatter--sticky",!0)),0===t&&n.toggleClass("site-header-formatter--sticky",!1),C=t}function y(e){a.toggleClass("active-gnav",!!e),l.attr("aria-expanded",!!e),g.attr("aria-expanded","false"),f.attr("aria-hidden","true"),m.attr("aria-expanded","false"),k.attr("aria-hidden","true"),b.prop("checked",!1).change(),b.siblings(".gnav-links__content").attr("aria-expanded",!!t),e||(v.prop("checked",!0),l.scrollTop(0))}function U(){t?u.off("mouseover.siteHeader click.siteHeader touchstart.siteHeader").on("click.siteHeader touchstart.siteHeader",(function(t){!function(e){var t=e.parents(".js-header-nav-section__section-v1"),a=t.prev(),n=t.find(".js-header-nav-section__section-content"),r=n.find(".js-gnav-section-formatter-v1").first(),i=r.find(".js-gnav-section-formatter__content-wrapper"),s=!!n.length;if("true"===t.attr("aria-expanded"))return;y(s),n.length&&(a.prop("checked",!0),t.attr("aria-expanded","true"),n.attr("aria-hidden","false"),l.attr("aria-expanded","true"),r.attr("aria-expanded","true"),i.attr("aria-hidden","false"))}(e(this))})).on("mouseover",(function(){e(this).trigger("click")})):u.off("mouseover.siteHeader click.siteHeader touchstart.siteHeader").on("click.siteHeader",(function(t){!function(e){var t=e.parents(".js-header-nav-section__section-v1"),n=t.prev(),r=t.find(".js-header-nav-section__section-content"),i=t.find(".js-gnav-section-formatter-v1"),s=t.find(".gnav-links"),o=1===s.length;if(y(!0),!r.length)return;n.prop("checked",!0),a.toggleClass("active-gnav",!0),s.toggleClass("only-gnav-link",o),l.attr("aria-expanded","true"),i.attr("aria-expanded","true"),t.attr("aria-expanded","true"),r.attr("aria-hidden","false")}(e(this))}))}this.attached||(this.attached=!0,a=e("html"),n=e("body"),r=e(".js-site-header-formatter-v1",H),s=e(".header-search__icon",H),o=e(".js-site-header-formatter-search-icon-wrapper",H),c=e(".js-gnav-mobile-trigger",r),d=e("#gnav_mobile_trigger_input",r),l=e(".js-site-header-formatter__sections",r),h=e(".js-site-header-formatter__mobile-menu-header",l),g=e(".js-header-nav-section__section-v1",l),f=e(".js-header-nav-section__section-content",g),u=e(".js-header-nav-section__section-label",g),v=e("#gnav_section_trigger_reset",r),p=e(".js-gnav-section-trigger-reset",r),m=e(".js-gnav-section-formatter-v1",r),k=e(".js-gnav-section-formatter__content-wrapper",m),b=l.find(".js-gnav-links-trigger"),i=r.hasClass(".hide-site-header-on-scroll"),e.cookie("hide_header_offer_banner")&&r.toggleClass("header-offers-banner-hidden",!0),r.on("keydown",(function(t){"Escape"===t.key&&e(document).trigger("check_reset_gnav_radio_buttom")})),t&&(l.attr("aria-expanded","true"),b.siblings(".gnav-links__content").attr("aria-expanded","true")),i&&(e(window).off("scroll.siteHeader").on("scroll.siteHeader",_.throttle(w,300)),w()),Unison.on("change",(function(){j=Unison.fetch.all(),x=Unison.fetch.now(),(t=parseInt(x.width,10)>=parseInt(j["usn-largest"],10))&&(l.attr("aria-expanded","true"),b.siblings(".gnav-links__content").attr("aria-expanded","true")),y(),U()})),U(),p.off("mouseover.siteHeader click.siteHeader").on("click.siteHeader",(function(){a.hasClass("ada-enabled")||y()})).on("mouseover.siteHeader",(function(){e(this).hasClass("site-header-formatter-overlay")&&!a.hasClass("ada-enabled")&&e(document).trigger("check_reset_gnav_radio_buttom")})),h.once().on("click",(function(){y(!0)})),b.once().on("click",(function(){var t=e(this).is(":checked");e(this).siblings(".gnav-links__content").attr("aria-expanded",t)})),c.once().on("click",(function(){a.toggleClass("active-gnav"),a.hasClass("active-gnav")?l.attr("aria-expanded","true"):y()})),a.once().on("click mouseout mouseover",_.debounce((function(n){!t||!a.hasClass("active-gnav")||a.hasClass("ada-enabled")||("mouseout"!==n.type||n.relatedTarget)&&e(n.target).parents(".site-header-formatter__header").length||y()}),100)),e(document).on("hide_header_offer_banner",(function(){r.toggleClass("header-offers-banner-hidden",!0)})),e(document).on("check_reset_gnav_radio_buttom",(function(){y(),d.removeProp("checked")})),o.once().on("click",(function(e){e.preventDefault(),e.stopPropagation(),s.first().focus().trigger("click")})))}}}(jQuery);
//# sourceMappingURL=site_header_formatter_v1.js.map
