(window.gvpc_shop_header=window.gvpc_shop_header||[]).push([[9],{240:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=["cartAddLocation","pageName","epValue","currencyCode","purchaseId","orderId","merchPageName","taskName","recognized","rzTier","headerFooter","shelfDisplay","upgradeEligibility","payTypeList","questionsAnswers","searchRelevancyTerm","partyID","profileId","itemsInCart","contextId","searchTermSuccess","searchTermFailure","geekSquadContractID","searchTermPromo","abTest65","abTest69","BVload","userToken","visitorToken","trackVariant","offerId","checkoutType","headerBannerClick","searchLocation","templateName","widgetImpression","widgetClick","searchResultsNum","errorCodeList","headerBannerString","skuId","productAvailability","tealeafId","dealsProductList","EPload","userSearchTermSuccess","userSearchTermFailure","internalSearchTerm","searchAutocomplete","reportedPageType","pageType","checkoutOptimizedFlags","recipeType","orderState","orderZip","campaignLatency","checkoutPwpSuccess","scProducts","scEvents","previousLid","lidTrack","campaignId","channel","hierarchy","moduleState","pageCampaign","listFacetsString","visitorId","seePriceIn","videoTrackingString","abTest20","epClick","searchRelevancyRank","fastTrackCheckout","icmp","ccApplication","confirmIt","abTest66","abTest67","abTest68","BVinteraction","marketingEvolutionUuid","productFindingMethod","findingMethod","listViewType","categoryId","internalCampaign","lastFacetSelected","language","lastLink","errorCodes","clickAction","searchTerm","legacyCodebase","payWithPoints","renewalsBundleList","errorLocation","linkName","viewSize","autoCompleteCategory"],n={asValidator:e=>function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(t," does not pass validation");if(!e(t))throw new Error(a)},contractMap(e){Object.keys(e).forEach(e=>{var t="bb"===e.split(".")[0],a=-1===i.indexOf(e);if(!t&&a)throw new Error("object has invalid properties, should be a context variable or a contract map variable")})},type:{isObject:e=>e&&"object"==typeof e&&e.constructor===Object,isArray:e=>Array.isArray(e),isBool:e=>"boolean"==typeof e,isNumber:e=>"number"==typeof e&&isFinite(e),isString:e=>"string"==typeof e||e instanceof String},isEmail:e=>/\S+@\S+\.\S+/.test(e),templateName(){var{templateName:e=!1,reportingVariables:t=!1}=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!!(t&&t.templateName&&t["bb.templateName"]);return!(!e||!t||!t.templateName&&!t["bb.templateName"])||a},reportingVariables:e=>{if(null!=e){var t=n.asValidator(n.type.isObject),a=n.asValidator(n.type.isString);t(e,"`reportingVariables` should be an object or undefined"),n.contractMap(e);var i=["experimentName","treatmentGroup"],r=["experience"];void 0!==e["bb.experimentList"]&&(n.asValidator(n.type.isArray)(e["bb.experimentList"],"'".concat("bb.experimentList","' must be an Array")),e["bb.experimentList"].forEach(e=>{t(e,"Each experiment in '".concat("bb.experimentList","' must be an Object")),i.forEach(t=>{a(e[t],"'".concat(t,"' is a required string in each experiment of ").concat("bb.experimentList"))}),r.forEach(t=>{e[t]&&a(e[t],"'".concat(t,"' must be a string if present in an experiment of ").concat("bb.experimentList"))})}))}},adobe:e=>{var t=e=>n.reportingVariables(e&&e.reportingVariables);if(n.type.isObject(e)){if(t(e),e.skus)for(var a of e.skus)t(a)}else if(n.type.isArray(e))for(var i of e)t(i)}},r=n,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;r.adobe(a);var i=e(a);return r.type.isObject(a)&&(i.reportingVariables=i.reportingVariables||a.reportingVariables),i}}(e=>{var{context:t,deviceClass:a,pageType:i,templateName:n,findingMethod:o,searchData:s,blueprintName:c,skus:l}=e;if(r.templateName(e))throw new Error("templateName cannot be located in reportingVariables and on the root level of the action.");if(s&&!r.type.isObject(s))throw new Error("SearchData should be an object, received a type: ".concat(typeof s," instead"));if(c&&!r.type.isString(c))throw new Error("blueprint name is not a string, received a type: ".concat(typeof c," instead"));return{type:"TRACK_DATA",context:t,deviceClass:a,pageType:i,findingMethod:o,templateName:n,blueprintName:c,searchData:s,skus:l}})},251:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(27),o=a(17),s=a(20),c=a(37),l=a(29),p=a(6),d=a.n(p),h=a(3),u=new d.a(h.LocalStorageHandler);function m(e){var t={expireAt:g()};u.set(e,!0,t)}function g(){var e=new Date,t=new Date;return t.setDate(e.getDate()+1),t}var b=a(63);function y(e){var t,a,i=!Object(b.a)("ut"),n=(t=new Date,!((a=u.getMeta(l.b))&&new Date(t)<new Date(a.ExpiresAt))),r=f(e);return i&&n&&r}var f=e=>{var{signInToastPagePermissions:{allowOnGhp:t=!1,allowOnPdp:a=!1,allowOnPlp:i=!1}}=e,n=window.location.pathname,r=window.location.href,o=window._do_not_use_me||{};return"/"===n?t:/\/(\d+)\.p\?skuId=\1((\D{1,})\w{0,})?$/.test(r)?a:(o.pageType===l.i.BROWSE||o.pageType===l.i.PROMO||o.pageType===l.i.SEARCH)&&i},v=a(240);class w extends n.a.Component{constructor(e){super(e),this.state={showSignIn:!1},this.handleClickOutside=this.handleClickOutside.bind(this),this.handleToastClick=this.handleToastClick.bind(this)}componentDidMount(){this.manageToast(),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}componentDidUpdate(e){"Account"===this.props.activeHeadingItem&&"Account"!==e.activeHeadingItem&&m(l.b)}manageToast(){var{liveConfig:e,deviceClass:t,instanceId:a}=this.props;if(y(e)){var i=e.signInToastWaitTime;((e,t,a)=>{Object(s.dispatch)({type:c.b,payload:{deviceClass:e,interruptionId:l.c,interruptionType:l.d,placement:l.h,requestedInterruptionDuration:t}},a)})(t,i,a),Object(s.listen)(e=>{(e=>e.type===c.a&&e.payload.interruptionType===l.d&&e.payload.interruptionId===l.c&&e.payload.permissionGranted)(e)&&this.showToast(i)},a)}}showToast(e){this.setState({showSignIn:!0}),this.dispatchAnalytics(),m(l.b),setTimeout(()=>{this.state.showSignIn&&this.setState({showSignIn:!1})},e)}handleClickOutside(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({showSignIn:!1})}handleToastClick(e,t){this.noBubble(t),this.setState({showSignIn:!1})}noBubble(e){e&&(e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation())}dispatchAnalytics(){var e=window.analyticsQ,{dispatch:t}=e;t(Object(v.a)({reportingVariables:{"bb.notification":1,"bb.notificationType":"Notification:Sign In"}}))}render(){var{showSignIn:e}=this.state;return e?n.a.createElement("div",{role:"alert",className:"notification-toast sign-in-toast notifi_toastBtn",ref:e=>{this.wrapperRef=e}},n.a.createElement("div",{className:"signin_toastText"},n.a.createElement("p",{className:"signin_gtng heading-6"},"Hi there!"),n.a.createElement("p",{className:"signin_cnt v-fw-regular body-copy-lg"},"For the best experience, be sure to sign in.")),n.a.createElement("div",{className:"signin_links body-copy-lg"},n.a.createElement("a",{href:"/identity/global/signin","data-track":"Notification:Sign In",onClick:e=>this.handleToastClick("link",e)},"Sign In"),n.a.createElement(o.PLPipe,null),n.a.createElement("a",{href:"/identity/global/createAccount","data-track":"Notification:Create Account",onClick:e=>this.handleToastClick("link",e)},"Create Account")),n.a.createElement(o.PLButton,{id:"SignInToastCloseButton",buttonStyle:"unstyled",size:"medium",className:"notifi_closeBtn",onClick:e=>this.handleToastClick("close",e)},n.a.createElement(r.a,{fill:o.humanBlue,width:"15",height:"15",iconString:"Close_Cancel_Line"}))):null}}t.default=w}}]);
//# sourceMappingURL=sign-in-toast-f9661a9f6186ef8929eebb9a36c73bb3.mjs.map