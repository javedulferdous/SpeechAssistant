!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=10)}([function(e,t){e.exports=React},function(e,t){e.exports=patternLibrary},function(e,t){e.exports=PropTypes},function(e,t){e.exports=ReactDOM},function(e,t){e.exports={creatorNamespace:"shop",componentId:"footer",componentVersion:"",contractVersion:"v1",assetBasePath:"dist/client"}},function(e,t){e.exports=initializer},function(e,t,a){e.exports=a.p+"images/6928c0f2d5f3d29fd778fef1b1cbcc6e.gif"},function(e,t,a){e.exports=a.p+"images/4b6960d3dfba2ea59ca90c1dc68df5ac.svg"},function(e,t,a){const i=window.metaLayer||window._metaLayer,n=i?i.env_assets+"/shop/footer/dist/client/":"shop/footer/dist/client/";a.p=n},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"init",(function(){return T}));a(8);var i=a(0),n=a.n(i),r=a(3),s=a(5),l=a.n(s),o=a(4),c=a(1),d=a(6),m=a.n(d);class u extends i.Component{constructor(e){super(e),this.onFeedbackLinkClick=this.onFeedbackLinkClick.bind(this)}onFeedbackLinkClick(e){const t=e||window.event||{returnValue:!1};t&&t.preventDefault&&t.preventDefault(),window.oo_feedback&&window.oo_feedback.show(t)}render(){return n.a.createElement(c.PLButton,{className:"feedback-link",buttonStyle:"unstyled",onClick:this.onFeedbackLinkClick},n.a.createElement("img",{className:"feedback-icon",src:m.a,alt:"Give Feedback Icon"}),"Give Feedback")}}var p=u,h=a(2),f=a.n(h);class v extends i.Component{constructor(e){super(e),this.onRedirectClick=this.onRedirectClick.bind(this)}onRedirectClick(){const{deviceClass:e}=this.props;document.cookie=`bby_rdp=${"s"===e?"l":"s"}; domain=.bestbuy.com; path=/;`,location.reload()}render(){const{deviceClass:e}=this.props,t="s"===e?"Full Site":"Mobile Site";return n.a.createElement(c.PLButton,{className:"device-redirect-link",buttonStyle:"unstyled",onClick:this.onRedirectClick},t)}}v.propTypes={deviceClass:f.a.string};var y=v;var b=a(7),E=a.n(b);class g extends i.Component{constructor(e){super(e),this.message=this.props.errorMessage}render(){return n.a.createElement("div",{className:"input-error-message"},n.a.createElement(c.Validation,{message:this.message,error:!0,id:"footer-email-field-error"}))}}var S=g;g.propTypes={errorMessage:f.a.string.isRequired};class C extends i.Component{constructor(e){super(e),this.state={emailText:"",emailSubmittedSuccess:!1,emailErrorMessage:"",isSmallView:"s"===e.deviceClass},this.handleSubmit=this.handleSubmit.bind(this),this.handleOnChange=this.handleOnChange.bind(this),this.renderSignUpBtn=this.renderSignUpBtn.bind(this),this.onClose=this.onClose.bind(this)}handleSubmit(e){if(e.preventDefault(),this.checkValid(this.state.emailText))(t=this.state.emailText,fetch("/profile/rest/a/emailsub/enroll",{method:"POST",body:JSON.stringify({emailAddress:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.state.toLowerCase()).catch(e=>{})).then(e=>{"completed"===e?this.setState({emailSubmittedSuccess:!0,emailText:"",emailErrorMessage:""}):this.setState({emailErrorMessage:"Something went wrong. Please try that again."})});else{this.setState({emailErrorMessage:"Please enter a valid email address."});const e=document.getElementById("footerEmailField");e&&e.focus()}var t}handleOnChange(e){this.clearError(),this.setState({emailText:e.value})}clearError(){this.setState({emailErrorMessage:!1})}checkValid(e){return new RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$/).test(e)}renderSignUpBtn(){return n.a.createElement(c.PLButton,{buttonStyle:"primary",size:"medium",key:"footerEmailSignUpBtn",id:"footerEmailSignUpBtn","data-lid":"ft_signup","aria-describedby":"footer-email-field-error",type:"submit"},"Sign Up")}renderInputSplit(e,t,a){return n.a.createElement("div",{id:"input-wrapper"},!a&&n.a.createElement(c.PLOverlayStatic,{id:"footer-email-overlay-wrapper",overlay:S,overlayProps:{errorMessage:t},position:"bottom",isVisible:!!t},this.renderInput(e,t)),a&&t&&this.renderModal(t),a&&this.renderInput(e,t),!t&&n.a.createElement("span",{id:"footer-email-field-error"}))}renderInput(e,t){return n.a.createElement(c.PLInputWrapper,{className:"footer-email-input-group"},n.a.createElement(c.PLText,{required:!0,key:"footerEmailField",name:"footerEmailField",id:"footerEmailField",placeholder:"Enter email address",onChange:({target:e})=>this.handleOnChange(e),"aria-invalid":!!t,"aria-label":"Email Address","aria-describedby":"footer-email-field-error",value:e}),this.renderSignUpBtn(e))}renderModal(e){return n.a.createElement(c.PLModal,{size:"small-view",grid:"1",autoFocus:"true",onClose:this.onClose,removeCloseIcon:!1},n.a.createElement(c.Validation,{message:e,error:!0,id:"footer-email-field-error"}))}onClose(){this.setState({emailErrorMessage:!1});const e=document.getElementById("footerEmailField");e&&e.focus()}render(){const{emailText:e,emailSubmittedSuccess:t,emailErrorMessage:a,isSmallView:i}=this.state;return n.a.createElement("form",{noValidate:!0,"aria-invalid":a?"true":"false",onSubmit:this.handleSubmit,id:"footer-email-form",className:"email-block-wrap "+(a?"invalid":"")},n.a.createElement("div",{htmlFor:"footerEmailField",className:"headline "+(t?"success":"")},"Get the latest deals and more."),!t&&this.renderInputSplit(e,a,i),t&&n.a.createElement("div",{className:"success-message-wrap"},n.a.createElement("span",{className:"success-message"},n.a.createElement("img",{className:"footer-email-field-check-icon",src:E.a,alt:"check icon"}),"Thanks!")))}}var k=C;C.propTypes={deviceClass:f.a.string};var N=()=>n.a.createElement("div",{className:"bby-app-block"},n.a.createElement(c.PLSVG,{"aria-hidden":"true",icon:"MobileApp_Line_Sm",fill:c.techWhite,className:"device-icon",alt:"device icon"}),n.a.createElement("a",{"data-lid":"ft_bby_apps",className:"app-entry",href:"/site/misc/mobile-app/pcmcat208500050016.c?id=pcmcat208500050016"},n.a.createElement("span",{className:"app-entry-label"},"Best Buy app"),n.a.createElement("span",{className:"app-entry-action"},"Learn more ›")));var w=()=>n.a.createElement("div",{className:"footer-email-wrap"},n.a.createElement("div",{className:"footer-email-container"},n.a.createElement("div",{className:"col-xs-12"},n.a.createElement(k,{deviceClass:"s"})),n.a.createElement("div",{className:"col-xs-12 divider"}),n.a.createElement("div",{className:"col-xs-12"},n.a.createElement(N,null))));var x=()=>n.a.createElement("div",{className:"footer-email-wrap"},n.a.createElement("div",{className:"footer-email-container"},n.a.createElement("div",{className:"col-xs-8"},n.a.createElement(k,{deviceClass:"l"})),n.a.createElement("div",{className:"divider-block col-xs-1"},n.a.createElement("div",{className:"divider"})),n.a.createElement("div",{className:"col-xs-3"},n.a.createElement(N,null))));class L extends i.Component{constructor(e){super(e),this.state={isAvailable:!1}}componentDidMount(){const{displayLiveChat:e}=this.props;e&&window.unifiedChat&&"function"==typeof window.unifiedChat.getAvailability&&window.unifiedChat.getAvailability().then(({isAvailable:e})=>{this.setState({isAvailable:e})})}onClick(){window.unifiedChat.init()}render(){const{displayLiveChat:e}=this.props,{isAvailable:t}=this.state;return n.a.createElement("div",null,n.a.createElement("h2",{className:"title"},"We're here to help."),n.a.createElement("div",{className:"container"},n.a.createElement("a",{href:"/site/electronics/customer-service/pcmcat87800050001.c?id=pcmcat87800050001","data-lid":"ft_help_center",className:"icon-container"},n.a.createElement("div",{className:"icon-wrapping"},n.a.createElement(c.PLSVG,{"aria-hidden":"true",className:"icon-styling",icon:"Question_Line_Sm"})),n.a.createElement("p",{className:"icon-text"},"Support Center")),t&&e&&n.a.createElement(c.PLButton,{onClick:()=>this.onClick(),className:"btn-live-chat icon-container chat-now",buttonStyle:"link",size:"medium","data-lid":"ft_chat_now"},n.a.createElement("div",{className:"icon-wrapping"},n.a.createElement(c.PLSVG,{className:"icon-styling",icon:"Chat_Line_Sm","aria-hidden":"true"})),n.a.createElement("p",{className:"icon-text"},"Chat Now")),n.a.createElement("a",{href:"/site/store-locator/","data-lid":"ft_find_store",className:"icon-container"},n.a.createElement("div",{className:"icon-wrapping"},n.a.createElement(c.PLSVG,{"aria-hidden":"true",className:"icon-styling",icon:"Store_Line_Sm"})),n.a.createElement("p",{className:"icon-text"},"Find a store"))))}}function _({utilityNavigation:e,deviceClass:t}){const[a,r]=Object(i.useState)("l"===t);return n.a.createElement(n.a.Fragment,null,"s"===t?n.a.createElement(c.PLButton,{className:"link "+(a?"":"last"),buttonStyle:"unstyled",onClick:()=>r(e=>!e),"aria-expanded":a},"More",n.a.createElement("i",{className:"toggle-carrot "+(a?"ficon-caret-up":"ficon-caret-down")})):null,a&&e.map((e,t)=>n.a.createElement("a",{key:t,className:"link utility",href:e.link.url,"data-lid":e.link.lid},e.displayName)))}L.propTypes={displayLiveChat:f.a.bool},_.propTypes={utilityNavigation:f.a.array,deviceClass:f.a.oneOf(["l","s"])};class P extends i.Component{constructor(e){super(e),this.onSurveyLinkClick=this.onSurveyLinkClick.bind(this)}onSurveyLinkClick(e){const t=e||window.event||{returnValue:!1};if(t&&t.preventDefault&&t.preventDefault(),window.analyticsQ){const{analyticsQ:e}=window;e.dispatch({type:"TMS_EVENT",name:"OpinionLab - Assistive Tech",event:"launch"})}}render(){const{deviceClass:e}=this.props;return n.a.createElement(c.PLButton,{className:`link utility sr-only sr-only-focusable ${"s"===e?" feedback-link ":""} `,buttonStyle:"default-link",onClick:this.onSurveyLinkClick},"Accessibility Survey")}}P.propTypes={deviceClass:f.a.string};var O=P;a(9);const M={componentId:o.componentId,contractVersion:o.contractVersion,creatorNamespace:o.creatorNamespace},T=(e,t,a={},i)=>{const s=document.querySelector(t);Object(r.hydrate)(n.a.createElement(p,null),s.querySelector("#footer-feedback-link")),Object(r.hydrate)(n.a.createElement(O,{deviceClass:a.deviceClass}),s.querySelector("#footer-a11y-survey-link")),Object(r.hydrate)("s"===a.deviceClass?n.a.createElement(w,null):n.a.createElement(x,null),s.querySelector("#footer-email-block")),Object(r.hydrate)(n.a.createElement(y,{deviceClass:a.deviceClass}),s.querySelector("#footer-device-redirect")),"s"===a.deviceClass&&(Object(r.hydrate)(n.a.createElement(L,{displayLiveChat:a.displayLiveChat}),s.querySelector("#footer-chat-with-us")),Object(r.hydrate)(n.a.createElement(_,{utilityNavigation:a.utilityNavigation,deviceClass:"s"}),s.querySelector("#footer-utility-navigation-sv")))};l.a.registerComponent(M,T)}]);
//# sourceMappingURL=client-1c8e956beb5691f070397bf1ce4fbce6.mjs.map