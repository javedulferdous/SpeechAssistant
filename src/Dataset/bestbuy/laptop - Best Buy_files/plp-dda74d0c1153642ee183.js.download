/*!
 * Build Version: 20.42.11
 * Build Time: Tue Oct 06 2020 14:47:05 GMT-0500 (Central Daylight Time)
 */
(window.webpackJsonpAnalytics=window.webpackJsonpAnalytics||[]).push([[38],{293:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n.n(a),i=n(0),s=n(320),c=n(50),o=n(326),l=n.n(o),u=n(329),d=n.n(u),p=n(330),v=n.n(p),f=n(333),g=n.n(f),h=n(334),m=n.n(h),y=n(28),b=n(8),F=n.n(b),k=n(14),S=r.a.handlers.LocalStorageHandler,D=new r.a(S),E=r.a.handlers.CookieHandler;t.default={moduleName:"productListing",_searchRankString:function(e){var t=i.b.getData();return e?t.listPageNum.toString()+": "+e.toString()+": "+t.listFaceted.toString()+": "+t.listSort+": "+t.listView:null},_addToCart:function(e){var t=i.b.getData();!0!==e.isRemove&&(i.b.getData("isAccessoryFinderOpen")||(i.b.setData("itemsInCart",++t.itemsInCart),y.a.buildAddToCartData({eventData:e,delayTrack:!1,optionalVariables:{eVars:["eVar38","eVar39"]}}),E.set("a2cTracked","true")))},_facetDataManager:function(e,t){var n,a=[],r=i.b.getData(),s={};e.forEach((function(e){var t=e.split(":")[0],n=e.split(":")[1];s[t]?s[t].push(n):s[t]=new Array(n)}));var c={};t.forEach((function(e,t){var n=e.split(":")[0];""!==n&&(c[n]?c[n].push(e.split(":")[1]):c[n]=new Array(e.split(":")[1]))}));var o={},u=D.get("analytics:facetCache");for(var p in o=u||{}){var f=o[p],h=l()(f,c[p]);0===h.length?delete o[p]:o[p]=h}var m=r.facetRange||r.facetSearch||void 0;m&&(o[m]?o[m]=d()(o[m],s[m]):o[m]=s[m]),D.set("analytics:facetCache",o);var y=function(e){c[e].forEach((function(t){o&&v()(o[e],t)?a.push(("Price"===e?"":"User"+e+":")+t):a.push(e+":"+t)}))};for(var b in c)y(b);n=(a=a.map((function(e){if(0===e.indexOf("UserPrice")){var t=e.split(":")[1].split(" to ");return t=t.map((function(e){})),e.split(":")[0]+":"+t.join(" to ")}return e}))).join(" | "),i.b.setData("listFacetsString",n),r.pageName&&i.b.setData("listFacetsString","Category:"+r.pageName+(r.listFacetsString?" | "+r.listFacetsString:""));var F=e.length?g()(e):void 0,k=F&&F.split(":");F=(F=k&&k.length&&v()(c[k[0]],k[1])?F:"")&&0===F.indexOf(r.facetSearch)?"User"+F:F,i.b.setData("lastFacetSelected",F),E.set("listFacets",r.listFacets)},_doWaterFilterFinderLogic:function(){var e=k.a.get("waterFilterFinderTerm");k.a.remove("waterFilterFinderTerm"),e&&i.b.setData("userSearchTermSuccess",e);var t=k.a.get("waterFilterFinderBrand");k.a.remove("waterFilterFinderBrand"),t&&(i.b.setData("previousLid",i.b.getData("pageName")+": waterfilterfinder"),i.b.setData("listFacetsString","Brand: "+t))},_doInkTonerFinderLogic:function(){var e=k.a.get("inkTonerFinderTerm");k.a.remove("inkTonerFinderTerm");var t=k.a.get("inkTonerFinderBrand");k.a.remove("inkTonerFinderBrand"),e&&i.b.setData({clickAction:"ink_model_search",userSearchTermSuccess:e}),t&&i.b.setData("clickAction","ink_brand_search")},_setGridListView:function(){switch(i.b.getData("plpLayout")){case"list":Object(c.a)("listView");break;case"grid":Object(c.a)("gridView")}},setData:function(){var e=i.b.getData(),t=e.searchTerm||e.gvp_searchTerm;if(t&&t.length){var n=E.get("lastSearchTerm");n&&t!==n&&E.set("listFacets",""),E.set("lastSearchTerm",t)}var a=E.get("listFacets")||"",r=e.listFacets?e.listFacets.split("||"):[],s=(a=(a=a.split("||"))[0].length>0?a:[]).length>0&&r.length>0?m()(a,r):r;!0===e.storeAvailability&&i.b.addEvents("event88"),this._setGridListView(),this._facetDataManager(s,r),this._doInkTonerFinderLogic(),this._doWaterFilterFinderLogic(),i.b.setData("addToCartExists",!0)},_handleEasyReplenishAddToCart:function(e){var t=e.driverSku||"",n={scEvents:"event4",scProducts:";".concat(t,";;;;"),linkName:"Pricing Type Change"};i.b.sendEventData(n)},setEvents:function(){EventManagerWrapper.on("analytics:listing:seePriceInCart",(function(){var e=i.b.getData(),t=F.a.build({sku:e.sku},"addToCart");i.b.sendEventData({pageName:e.pageName,scProducts:t,seePriceIn:"See Price in Cart",clickAction:"lbox:MAP:launch"})})),EventManagerWrapper.on("analytics:inkTonerFinder:searchSelect",(function(e){k.a.set("inkTonerFinderTerm",e.value?e.value.split(",").join(" "):e.value)})),EventManagerWrapper.on("analytics:inkTonerFinder:brandSelect",(function(){k.a.set("inkTonerFinderBrand","null")})),EventManagerWrapper.on("analytics:waterFilterFinder:searchSelect",(function(e){k.a.set("waterFilterFinderTerm",e.value?e.value.split(",").join(" "):e.value)})),EventManagerWrapper.on("analytics:waterFilterFinder:brandSelect",(function(e){k.a.set("waterFilterFinderBrand",e.brand.split(",")[0])})),EventManagerWrapper.on("analytics:storeAvailability:checked",(function(){i.b.sendEventData({clickAction:"PLP:LocalStore",scEvents:"event88"})})),EventManagerWrapper.on("analytics:storeAvailability:lbox:selectPreferredStore",(function(){i.b.sendEventData({clickAction:"PLP:LocalStore:Select-Preferred"})})),EventManagerWrapper.on("analytics:storeAvailability:lbox:selectStore",(function(){i.b.sendEventData({clickAction:"PLP:LocalStore:Select"})})),EventManagerWrapper.on("analytics:easyReplenish:addToCart",this._handleEasyReplenishAddToCart),EventManagerWrapper.on("addToCart:done:success",this._addToCart)},initialize:function(e){return this.setEvents(),this.setData(),s.a.init(),e.resolve(this)}}},316:function(e,t,n){var a=n(136),r=n(319);e.exports=function e(t,n,i,s,c){var o=-1,l=t.length;for(i||(i=r),c||(c=[]);++o<l;){var u=t[o];n>0&&i(u)?n>1?e(u,n-1,i,s,c):a(c,u):s||(c[c.length]=u)}return c}},317:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var a=n(0),r=n(1),i=n.n(r),s=n(318),c=n.n(s),o=n(7),l=n.n(o),u=n(8),d=n.n(u);function p(e){switch(e){case"shipping":return"ship";case"in_store_pickup":case"inStorePickup":return"pickup";case"special_delivery":return"specialDelivery";default:return e}}function v(e){var t=[];return e&&e.items&&(t=c()(e.items.map((function e(t){var r=[];"BUNDLELINK"!==t.type&&r.push(function(e){var t=e.price||l()(e.meta,"price.regular",""),r={sku:e.sku||e.skuId,price:t,quantity:e.quantity,eVars:{eVar44:n(e)}};-1!==a.b.getData("pageType").indexOf("thankYou")&&"0.00"===r.price&&(r.events={event32:r.quantity});return r}(t));t.items&&(r=Array.prototype.concat.apply(r,t.items.map(e)));return r})))),d.a.build(t);function n(e){var t=e.selectedFulfillment,n=t?Object.keys(t)[0]:null;return n||(n=e.fulfillmentType),p(n)||null}}function f(e){return c()(e.items.map((function e(t){var n=[];if("BUNDLE"!==t.type){var a=function(e){var t="";e.meta&&e.meta.category&&(e.meta.category.department&&(t="d".concat(e.meta.category.department)),e.meta.category.skuClass&&(t="".concat(t,"c").concat(e.meta.category.skuClass)),e.meta.category.skuSubClass&&(t="".concat(t,"s").concat(e.meta.category.skuSubClass)));return t}(t);a.length>0&&n.push(a)}t.items&&(n=Array.prototype.concat.apply(n,t.items.map(e)));return n}))).join("_")}function g(e){if(Array.isArray(e))return e.map((function(e){return e.losId||e.id||""})).filter((function(e){return!!e})).join(":");i()("losArr is not an array")}},318:function(e,t,n){var a=n(316);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},319:function(e,t,n){var a=n(39),r=n(58),i=n(20),s=a?a.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||r(e)||!!(s&&e&&e[s])}},320:function(e,t,n){"use strict";var a=n(0),r=n(317),i=n(8),s=n.n(i),c={shippingFulfillmentHandler:function(e){var t=a.b.getData(),n=Object(r.a)(e.losArray),i={scEvents:"event45",scProducts:s.a.build({sku:e.sku,eVars:{eVar45:n}}),clickAction:"ShippingOptionsModal:Launch",templateName:"FOLBOX:"+t.templateName,viewSize:t.viewSize};a.b.sendEventData(i)},deliveryFulfillmentHandler:function(e){var t=a.b.getData(),n={scEvents:"event45",scProducts:s.a.build({sku:e.sku}),clickAction:"DeliveryOptionsModal:Launch",templateName:"FOLBOX:"+t.templateName,viewSize:t.viewSize};a.b.sendEventData(n)},setEvents:function(){window.EventManagerWrapper.on("analytics:fulfillment:shipping",c.shippingFulfillmentHandler),window.EventManagerWrapper.on("analytics:fulfillment:delivery",c.deliveryFulfillmentHandler)},init:function(){c.setEvents()}};t.a=c},326:function(e,t,n){var a=n(135),r=n(327),i=n(137),s=n(328),c=i((function(e){var t=a(e,s);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=c},327:function(e,t,n){var a=n(97),r=n(140),i=n(141),s=n(135),c=n(142),o=n(98),l=Math.min;e.exports=function(e,t,n){for(var u=n?i:r,d=e[0].length,p=e.length,v=p,f=Array(p),g=1/0,h=[];v--;){var m=e[v];v&&t&&(m=s(m,c(t))),g=l(m.length,g),f[v]=!n&&(t||d>=120&&m.length>=120)?new a(v&&m):void 0}m=e[0];var y=-1,b=f[0];e:for(;++y<d&&h.length<g;){var F=m[y],k=t?t(F):F;if(F=n||0!==F?F:0,!(b?o(b,k):u(h,k,n))){for(v=p;--v;){var S=f[v];if(!(S?o(S,k):u(e[v],k,n)))continue e}b&&b.push(k),h.push(F)}}return h}},328:function(e,t,n){var a=n(138);e.exports=function(e){return a(e)?e:[]}},329:function(e,t,n){var a=n(316),r=n(137),i=n(139),s=n(138),c=r((function(e){return i(a(e,1,s,!0))}));e.exports=c},330:function(e,t,n){var a=n(143),r=n(29),i=n(53),s=n(145),c=n(331),o=Math.max;e.exports=function(e,t,n,l){e=r(e)?e:c(e),n=n&&!l?s(n):0;var u=e.length;return n<0&&(n=o(u+n,0)),i(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&a(e,t,n)>-1}},331:function(e,t,n){var a=n(332),r=n(40);e.exports=function(e){return null==e?[]:a(e,r(e))}},332:function(e,t,n){var a=n(135);e.exports=function(e,t){return a(t,(function(t){return e[t]}))}},333:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},334:function(e,t,n){var a=n(144),r=n(137),i=n(335),s=n(138),c=r((function(e){return i(a(e,s))}));e.exports=c},335:function(e,t,n){var a=n(336),r=n(316),i=n(139);e.exports=function(e,t,n){var s=e.length;if(s<2)return s?i(e[0]):[];for(var c=-1,o=Array(s);++c<s;)for(var l=e[c],u=-1;++u<s;)u!=c&&(o[c]=a(o[c]||l,e[u],t,n));return i(r(o,1),t,n)}},336:function(e,t,n){var a=n(97),r=n(140),i=n(141),s=n(135),c=n(142),o=n(98);e.exports=function(e,t,n,l){var u=-1,d=r,p=!0,v=e.length,f=[],g=t.length;if(!v)return f;n&&(t=s(t,c(n))),l?(d=i,p=!1):t.length>=200&&(d=o,p=!1,t=new a(t));e:for(;++u<v;){var h=e[u],m=null==n?h:n(h);if(h=l||0!==h?h:0,p&&m==m){for(var y=g;y--;)if(t[y]===m)continue e;f.push(h)}else d(t,m,l)||f.push(h)}return f}}}]);