(window.cartierFeSetup=window.cartierFeSetup||[]).push([[11],{1018:function(a,e,n){n(1019)},1019:function(a,e,n){var t,i,o,s,r;function l(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),r.$navigationUlist&&r.$navigationUlist.removeClass("slide-left"),o(a.currentTarget).closest(".js-navigation__listitem").find(".js-megamenu").removeClass("ace minHeightMenu"),o(a.currentTarget).closest(".js-navigation__listitem").siblings().removeClass("hidden"),o(a.currentTarget).closest(".js-navigation__listitem").find(".js-manhattan-mm-link").removeClass("hidden")}function m(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),o(a.currentTarget).closest(".manhattan-mm").addClass("slide-left"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level2--packshot-wrapper").removeClass("hidden-xs"),o(a.currentTarget).closest(".manhattan-mm").find("img.manhattan-mm-level2--img-wrapper").removeClass("hidden"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level1--title-wrapper").addClass("hidden"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level0--wrapper").removeClass("visible-xs").addClass("hidden");var e=".mm-tab-content-"+o(a.currentTarget).find(".manhattan-mm-level1--link").attr("data-tab-key")+".manhattan-mm-level2--inner-wrapper";o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level2--inner-wrapper").addClass("hidden"),o(a.currentTarget).closest(".manhattan-mm").find(e).removeClass("hidden")}function d(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),o(a.currentTarget).closest(".manhattan-mm").removeClass("slide-left"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level2--packshot-wrapper").addClass("hidden-xs"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level1--title-wrapper").removeClass("hidden"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level0--wrapper").addClass("visible-xs").removeClass("hidden")}function c(a){a&&(a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation()),r.$algoliaWrapper.find(".js-search-container, .search-container--overlay").removeClass("active"),r.instantSearch||(r.$algoliaWrapper.find(".search-container--overlay").removeClass("hidden"),r.$body.find("#content.main-container").css({"padding-top":"0px"})),r.$documentBody.trigger("aissearch.collapse")}function h(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),r.$algoliaWrapper.find(".js-search-container").hasClass("active")&&!r.$algoliaWrapper.find(".js-algolia-search").hasClass("active")?c(a):(r.$algoliaWrapper.find(".js-search-container, .search-container--overlay").toggleClass("active"),r.instantSearch||(r.$algoliaWrapper.find(".search-container--overlay").addClass("hidden"),common.isMobileMode()?r.$body.find("#content.main-container").css({"padding-top":"150px"}):setTimeout(function(){var a=parseInt(o("html").css("font-size"),10),e=r.$algoliaWrapper.find(".js-search-container").outerHeight();r.$body.find("#content.main-container").css({"padding-top":e/a+"rem"})},200)),r.$algoliaWrapper.find("#jsSearchInput").focus())}function v(a){a.stopImmediatePropagation(),a.stopPropagation()}function p(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),o(a.currentTarget).closest(".manhattan-mm").addClass("slide-left"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level0--wrapper").addClass("hidden-xs"),o(a.currentTarget).closest(".manhattan-mm-level1-grid").siblings().addClass("hidden"),o(a.currentTarget).siblings().addClass("hidden"),o(a.currentTarget).find(".manhattan-mm-level2-grid-header-block").addClass("hidden"),o(a.currentTarget).find(".manhattan-mm-level2-grid--link-wrapper").removeClass("hidden-xs")}function g(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),o(a.currentTarget).closest(".manhattan-mm").removeClass("slide-left"),o(a.currentTarget).closest(".manhattan-mm").find(".manhattan-mm-level0--wrapper").removeClass("hidden-xs"),o(a.currentTarget).closest(".manhattan-mm-level1-grid").siblings().removeClass("hidden"),o(a.currentTarget).closest(".manhattan-mm-level2-grid").siblings().removeClass("hidden"),o(a.currentTarget).closest(".manhattan-mm-level2-grid").find(".manhattan-mm-level2-grid-header-block").removeClass("hidden"),o(a.currentTarget).closest(".manhattan-mm-level2-grid--link-wrapper").addClass("hidden-xs")}function u(a){var e=r.slickConfig||{};if(1<a.find(".manhattan-mm-level2-packshot-grid").length)try{a.hasClass("slick-initialized")||a.slick(e),a.find(".slick-track").width()||(a.slick("unslick"),a.slick(e))}catch(a){s.log("error","Error in Nav Carousel | _initCarousel: "+a)}s.pictureFill(),a.find("[data-original]").lazyload({threshold:9999})}function f(a,e){var n,t=(n=o(!0===a?e:this)).closest(".manhattan-mm-level1--div"),i=n.closest(".js-manhattan-mm-li"),s=n.data("tabKey"),r=i.find(".mm-tab-content-"+s);i.find(".manhattan-mm-level1--div.active").removeClass("active"),i.find(".manhattan-mm-level1--link.active").removeClass("active"),t.addClass("active"),t.find(".manhattan-mm-level1--link").addClass("active"),i.find(".manhattan-mm-level2--inner-wrapper.active").removeClass("active"),r.addClass("active"),u(r.find(".slider-container"))}function C(a){a.find(".js-megamenu").addClass("hoverStateOfMegaMenu"),a.attr("aria-expanded",!0),setTimeout(function(){a.find(".c-manhattan-mm-overlay").addClass("overlayVisible"),r.$algoliaWrapper.find(".js-search-container").hasClass("active")&&!r.$algoliaWrapper.find(".js-algolia-search").hasClass("active")&&c()},200),a.find("> a").attr("aria-expanded",!0)}function k(a){a.closest(".js-navigation__ulist").find(".js-megamenu").removeClass("hoverStateOfMegaMenu"),r.$navigationLi.attr("aria-expanded",!1),r.$navigationLiLinks.attr("aria-expanded",!1),a.closest(".js-navigation__ulist").find(".c-manhattan-mm-overlay").removeClass("overlayVisible")}function w(a){var e=o(this);"mouseenter"===a.type?r.isDelayMegaMenu?r.mouseEnterTimeOut=setTimeout(function(){C(e)},500):C(e):r.mouseEnterTimeOut?(clearTimeout(r.mouseEnterTimeOut),o(".navigation-new").find(a.relatedTarget).length?setTimeout(function(){k(e)},500):k(e)):k(e)}function b(a){a.stopPropagation();var e=o(this),n=e.closest(".js-manhattan-mm-li");if(n.find(".c-manhattan-mm-overlay, .js-megamenu-manhattan").removeClass("hidden"),"focusin"===a.type&&(o('.js-navigation__listitem[aria-expanded="true"]').attr("aria-expanded",!1).removeClass("active"),o('.js-manhattan-mm-link[aria-expanded="true"]').attr("aria-expanded",!1),"false"===e.attr("aria-expanded")&&"false"===n.attr("aria-expanded")&&(e.attr("aria-expanded",!0),n.attr("aria-expanded",!0).addClass("active"))),n.data("rendered")){if(common.isTabletOrDesktopMode()){f(!0,e.find(".js-manhattan-mm-level1--link.active"))}}else(function(){var a=o(this).closest(".js-manhattan-mm-li"),e=s.common.removeTags(a.data("navKey")),n=r.megaMenuJSON[e];o.isEmptyObject(n)||(n.renditions=function(a){return a?{maxwidthdesktop:"300.320",maxwidthlandscapeipad:"300.320",maxwidthportraitipad:"300.320",maxwidthlandscapemobile:"250.250",maxwidthportraitmobile:"250.250",maxwidthmobile:"250.250",selector:""}:{maxwidthdesktop:"355.490",maxwidthlandscapeipad:"355.490",maxwidthportraitipad:"355.490",maxwidthlandscapemobile:"150.150",maxwidthportraitmobile:"150.150",maxwidthmobile:"150.150",selector:""}}(n.isCarouselView),hbsTemplates.ready(function(){a.find(".js-megamenu-manhattan-wrapper").html(CARF.templates.manhattanMainNav(n)),a.data("rendered",!0),common.isTabletOrDesktopMode()&&n.isCarouselView?u(a.find(".manhattan-mm-level2--inner-wrapper.active .slider-container")):(s.pictureFill(),o("[data-original]").lazyload({threshold:9999}))}))}).call(this)}function y(a){a.stopImmediatePropagation(),a.preventDefault(),a.stopPropagation(),b.call(this,a),r.$navigationUlist&&r.$navigationUlist.addClass("slide-left"),o(a.currentTarget).find(".js-megamenu").addClass("ace minHeightMenu"),o(a.currentTarget).siblings().addClass("hidden"),o(a.currentTarget).find(".js-manhattan-mm-link").addClass("hidden")}function $(a){var e=o(this),n=e.closest(".js-manhattan-mm-li");n.find(a.relatedTarget).length||(e.attr("aria-expanded",!1),n.attr("aria-expanded",!1).removeClass("active"))}function j(){r.$navigationLi.on("mouseenter focusin",".js-manhattan-mm-level1--link",f),r.$documentBody.off("click",".c-searchIconBtn, .js-search-btn").on("click",".c-searchIconBtn, .js-search-btn",function(){r.$documentBody.trigger("search:show")}),r.$algoliaWrapper.on("click",".js-search-closebtn",function(){r.$documentBody.trigger("search:hide")}),r.$navigationNew.on("mouseenter",".c-manhattan-mm-overlay",function(){o(this).closest(".js-navigation__listitem").find(".js-megamenu-manhattan, .c-manhattan-mm-overlay").addClass("hidden")}),r.$navigationLi.on("mouseenter mouseleave",w),r.$navigationLi.on("mouseenter focusin",b),r.$navigationLi.on("click",".js-manhattan-mm-link",function(a){o(this).closest(".js-navigation__listitem").hasClass("hvr")&&a.preventDefault()}).on("focusout",$)}function x(){r.$mmNavigationLink.off("click"),r.$navigationLi.off("click").on("click",y).on("click",".manhattan-mm-level0--wrapper",l).on("click",".manhattan-mm-level1--div",m).on("click",".manhattan-mm-level1--back",d).on("click",".manhattan-mm-level2-packshot",v).on("click",".manhattan-mm-level3-links",v).on("click",".manhattan-mm-level2--view-all-link",v).on("click",".manhattan-mm-level2-grid--link-inner-wrapper",v).on("click",".manhattan-mm-non-carousel-view .manhattan-mm-level2-grid",p).on("click",".manhattan-mm-non-carousel-view .manhattan-mm-level2-grid--backlink",g),r.$body.on("click",".js-search-btn",function(){r.$documentBody.trigger("search:show")}),r.$algoliaWrapper.on("click",".js-search-closebtn",function(){r.$documentBody.trigger("search:hide")})}function T(){o(i).on("responsive",function(){common.isMobileMode()?(r.$navigationLi.off("mouseenter focusin mouseleave"),x(),o(".manhattan-mm-level2--inner-wrapper").each(function(){var a=o(this).find(".slider-container");a.hasClass("slick-initialized")&&a.slick("unslick")})):(r.$navigationLi.off("click"),j(),function(){var a=r.$navigationLi.find(".manhattan-mm");a.removeClass("slide-left"),a.find(".manhattan-mm-level2--packshot-wrapper").addClass("hidden-xs"),a.find(".manhattan-mm-level1--title-wrapper").removeClass("hidden"),a.find(".manhattan-mm-level0--wrapper").addClass("visible-xs").removeClass("hidden"),a.find(".manhattan-mm-level2--inner-wrapper").removeClass("hidden"),r.$navigationUlist.removeClass("slide-left"),r.$navigationLi.removeClass("hidden"),r.$navigationLiLinks.removeClass("hidden"),r.$navigationLi.find(".js-megamenu").removeClass("ace minHeightMenu"),a.find(".manhattan-mm-level0--wrapper").removeClass("hidden-xs"),a.find(".manhattan-mm-level1-grid").removeClass("hidden"),a.find(".manhattan-mm-level2-grid").removeClass("hidden"),a.find(".manhattan-mm-level2-grid").find(".manhattan-mm-level2-grid-header-block").removeClass("hidden"),a.find(".manhattan-mm-level2-grid--link-wrapper").addClass("hidden-xs")}())}),common.isMobileMode()?x():j(),r.$documentBody.on("search:show",h).on("search:hide",c).on("click",".search-container--overlay ",c),r.$document.on("sclick enterKeyPress",".js-mm-analytics, .js-manhattan-mm-link",function(){var a=o(this),e=a.hasClass("js-manhattan-mm-link")?a.closest(".js-navigation__listitem").data("navKey"):a.data("firstLevel");i.dataLayer.push({event:"menu",firstLevel:e,secondLevel:a.data("secondLevel"),thirdLevel:a.data("thirdLevel")})})}i=window,o=window.jQuery,s=window.sncf,r={},s.megaMenuManhattan={moduleName:"megaMenuManhattan",initCache:function(){return function(){r={$documentBody:o(document.body),$body:o("body"),$document:o(document),$mmJsonElem:o(".js-manhattan-mm-json"),$mmNavigationLink:o(".js-manhattan-mm-li"),$mmParent:o(".js-megamenu-manhattan"),$mmPlaceHolder:o(".js-megamenu-manhattan-wrapper"),$navigationLi:o(".js-navigation__listitem"),$navigationLiLinks:o(".js-navigation__listitem > a"),$navigationUlist:o(".js-navigation__ulist"),$otherMobileNavLinks:o(".js-otheroptionUl"),$navigationNew:o(".navigation-new"),windowWidth:o(window).width(),mobileLinksOrder:["myAccount","myWishlist","contactUs","phoneNo"],slickConfig:{infinite:!1,slidesToShow:6,slidesToScroll:6,speed:1e3,dots:!1,prevArrow:'<button tabindex="0"class="c-prev-arrow"><span class="sr-only">'+CQ.I18n.getMessage("text.prev.arrow.accessibility")+'</span> <i class="icon icon-arrowsmall-left"></i></button>',nextArrow:'<button tabindex="0"class="c-next-arrow"><span class="sr-only">'+CQ.I18n.getMessage("text.next.arrow.accessibility")+'</span> <i class="icon icon-arrowsmall-right"></i></button>'},$algoliaWrapper:o(".js-algolia-manhattan"),instantSearch:"true"===o("body").find("#enableInstantSearch").attr("value"),isDelayMegaMenu:"true"===o("#isDelayMegaMenu").attr("value")}}.apply(this,arguments)},bindEvents:function(){T.apply(this,arguments)},mmJson:function(){(function(){if(r.$mmJsonElem.length){r.megaMenuJSON=r.$mmJsonElem.text().trim();try{r.megaMenuJSON=JSON.parse(r.megaMenuJSON)}catch(a){s.log("error",a)}}}).apply(this,arguments)},renderOtherMenu:function(){(function(){var e=r.megaMenuJSON.mobileLinks,n=[];o.isEmptyObject(e)||hbsTemplates.ready(function(){r.mobileLinksOrder.forEach(function(a){"phoneNo"===a&&e[a]&&(e[a].imagePath||(e[a].isSvgMissing=!0)),n.push(e[a])}),r.$otherMobileNavLinks.html(CARF.templates.manhattanNavLinksMobile(n))})}).apply(this,arguments)},init:function(){this.initCache(),this.mmJson(),this.renderOtherMenu(),this.bindEvents()}},void 0===(t=function(){return s.megaMenuManhattan}.apply(e,[]))||(a.exports=t)}}]);
//# sourceMappingURL=http://localhost:8080/dist/javascript/megaMenuManhattan.cf7ed67586561d80563a.js.map