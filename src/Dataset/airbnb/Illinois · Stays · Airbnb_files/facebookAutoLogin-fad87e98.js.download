(window.webpackJsonp=window.webpackJsonp||[]).push([["2a16"],{"3a/4":function(t,n,e){"use strict";function o(t,n){var e=new Promise((function(t,e){setTimeout((function(){return e(new Error("Timeout after ".concat(n,"ms")))}),n)}));return Promise.race([t,e])}e.d(n,"a",(function(){return o}))},"Ss7+":function(t,n,e){"use strict";e.r(n),e.d(n,"FACEBOOK_ACTION_TYPE",(function(){return h})),e.d(n,"default",(function(){return g}));var o=e("tl9J"),r=e.n(o),i=e("8dvS"),u=e.n(i),c=e("OtDV"),a=e("wr5J"),s=e("qJkm"),f=e("ANar"),d=e("64m5"),b=e("EqMp"),_=e("yuvK"),l=e("2jR3"),O=e("VXjN");e.d(n,"autologinEnabled",(function(){return O.a}));var p=e("xAPW");e.d(n,"hasDismissedFacebookPrompt",(function(){return p.a}));var h={NO_AUTOLOGIN_AND_PROMPT:0,SHOW_FACEBOOK_PROMPT:1,FACEBOOK_AUTO_LOGIN:2};function m(){r()("nofbautologin",!0)}function g(){var t=Object(_.a)();t&&(Object(f.a)("facebook.js.get_login_status.started",1,void 0,!0),Object(_.b)().then((function(n){var e="unknown"!==(null==n?void 0:n.status)?n.status:null;if(u()("fbs",e,{path:"/"}),u()("fb_logout"))Object(_.g)().then((function(){u()("fblo_".concat(t.appId),null,{domain:void 0,path:"/"})})).catch((function(t){return Object(l.b)(t)})),u()("fb_logout",null,{domain:Object(d.b)(),path:"/"}),m(),Object(f.a)("facebook.js.get_login_status.logout",1,void 0,!0);else{if(Object(f.a)("facebook.js.get_login_status.response",1,["status:".concat(n.status),"is_logged_in:".concat(s.a.isLoggedIn()),"auto_login:".concat(Object(O.a)())],!0),/fb_action_ids=/.test(document.location.search)&&c.default.post("/users/detect_fb_session"),s.a.isLoggedIn())return;if("not_authorized"!==n.status&&"authorization_expired"!==n.status||Object(_.c)().then((function(t){var e=/^\d+$/.test(t);Object(f.a)("facebook.js.not_authorized.get_fb_user_id",1,["has_fb_user_id:".concat(e),"authorization_expired:".concat("authorization_expired"===n.status)],!0)})).catch((function(t){return Object(l.b)(t)})),"connected"===n.status&&!Object(p.a)()){c.default.post("/users/facebook_auto_login",{check_linked_airbnb_account:!0}).then((function(t){if(t.has_linked_airbnb_account)(n=t.facebook_action)===h.SHOW_FACEBOOK_PROMPT?a.default.emit("initializeFacebookPrompt"):n===h.FACEBOOK_AUTO_LOGIN&&Object(O.a)()&&(Object(f.a)("facebook_auto_login.attempt",1,void 0,!0),c.default.post("/users/facebook_auto_login").then((function(t){t.success?Object(b.e)():m()})));else{r()("facebook_prompt_dismissed_p3",!0,{expires:6048e5}),r()("facebook_prompt_dismissed",!0,{expires:6048e5}),m()}var n}))}}})).catch((function(t){return Object(l.b)(t)})))}},"v+iD":function(t,n,e){"use strict";function o(t){return new Promise((function(n,e){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.onload=n,o.onerror=e,o.src=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}))}e.d(n,"a",(function(){return o}))},yuvK:function(t,n,e){"use strict";e.d(n,"e",(function(){return f})),e.d(n,"d",(function(){return d})),e.d(n,"b",(function(){return b})),e.d(n,"i",(function(){return _})),e.d(n,"h",(function(){return l})),e.d(n,"f",(function(){return O})),e.d(n,"g",(function(){return p})),e.d(n,"c",(function(){return h}));var o=e("ilXw"),r=e.n(o),i=e("v+iD"),u=e("3a/4"),c=e("ANar"),a=e("VMDH");e.d(n,"a",(function(){return a.a}));var s=[];function f(){var t;return!!(null===(t=window)||void 0===t?void 0:t.FB)}function d(){var t=r.a.get("facebook-init");if(!(null==t?void 0:t.enabled))return Promise.reject(new Error("Facebook isn't supported on this page"));if(f())return Promise.resolve(window.FB);document.querySelector('script[src="'.concat(t.sdkUrl,'"]'))||(window.fbAsyncInit=function(){return function(t){for(window.FB.init({appId:t,status:!0,cookie:!0,oauth:!0,version:"v6.0"});s.length>0;)s[0](window.FB),s.shift()}(t.appId)},window.Airbnb&&(window.Airbnb.FACEBOOK_PERMS=t.scope),Object(i.a)(t.sdkUrl));var n=new Promise((function(t){return s.push(t)}));return Object(u.a)(n,1e4).catch((function(){throw Object(c.a)("facebook_sdk_init_timeout"),new Error("FB SDK init timeout")}))}function b(){return d().then((function(t){return new Promise((function(n){return t.getLoginStatus(n)}))}))}function _(t){return d().then((function(n){return new Promise((function(e){return n.ui(t,e)}))}))}function l(t){return d().then((function(n){return n.XFBML&&n.XFBML.parse(t),Promise.resolve()}))}function O(t){return d().then((function(n){return new Promise((function(e){return n.login(e,t)}))}))}function p(){return d().then((function(t){return new Promise((function(n){return t.logout(n)}))}))}function h(){return d().then((function(t){return t.getUserID()}))}}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/facebookAutoLogin-d6681128.js.map