define(['jquery','mage/menu'],function($){$.widget('coke.menu',$.mage.menu,{_init:function(){this._super();var navItems=$('body.cms-page-view div.block.block-collapsible-nav ul.items > li'),navLinks;if(navItems){navLinks=navItems.find('> a');navLinks.click(function(){navItems.removeClass('current');$(this).parent('li').addClass('current');});}
$(document).on('click','body.cms-home .banner-items .banner[data-link]',function(event){location.href=$(this).data('link');});$('body.cms-home a[href*="#"]').not('[href="#"]').not('[href="#0"]').on('click touch',function(event){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){event.preventDefault();$('html, body').animate({scrollTop:target.offset().top},1000,function(){var $target=$(target);$target.focus();if($target.is(":focus")){return false;}});}}});},toggle:function(){this._super();var topLevelParents=$('.level-top.level0.parent');if(topLevelParents.length===1){topLevelParents[0].click();}},});return $.coke.menu;});