/*! webme-tracker-js - v900.0.023 */
(function(){"use strict";var a,b,c;!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if((e=o[n.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return void 0!==b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),"require"===(k=m.f))u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("src/vendor/almond-0.2.9/almond.js",function(){}),function(){function a(b,c){function e(a,b){try{a()}catch(a){b&&b()}}function g(a){if(null!=g[a])return g[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=g("json-stringify")&&g("date-serialization")&&g("json-parse");else if("date-serialization"==a){if(b=g("json-stringify")&&t){var d=c.stringify;e(function(){b='"-271821-04-20T00:00:00.000Z"'==d(new k(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new k(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new k(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new k(-1))})}}else{var f,j='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var d=c.stringify,l="function"==typeof d;l&&((f=function(){return 1}).toJSON=f,e(function(){l="0"===d(0)&&"0"===d(new h)&&'""'==d(new i)&&d(r)===p&&d(p)===p&&d()===p&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([p])&&"null"==d(null)&&"[null,null,null]"==d([p,r,null])&&d({a:[f,!0,!1,null,"\0\b\n\f\r\t"]})==j&&"1"===d(null,f)&&"[\n 1,\n 2\n]"==d([1,2],null,1)},function(){l=!1})),b=l}if("json-parse"==a){var m,n=c.parse;"function"==typeof n&&e(function(){0!==n("0")||n(!1)||(f=n(j),(m=5==f.a.length&&1===f.a[0])&&(e(function(){m=!n('"\t"')}),m&&e(function(){m=1!==n("01")}),m&&e(function(){m=1!==n("1.")})))},function(){m=!1}),b=m}}return g[a]=!!b}b||(b=f.Object()),c||(c=f.Object());var h=b.Number||f.Number,i=b.String||f.String,j=b.Object||f.Object,k=b.Date||f.Date,l=b.SyntaxError||f.SyntaxError,m=b.TypeError||f.TypeError,n=b.Math||f.Math,o=b.JSON||f.JSON;"object"==typeof o&&o&&(c.stringify=o.stringify,c.parse=o.parse);var p,q=j.prototype,r=q.toString,s=q.hasOwnProperty,t=new k(-0xc782b5b800cec);if(e(function(){t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}),g["bug-string-char-index"]=g["date-serialization"]=g.json=g["json-stringify"]=g["json-parse"]=null,!g("json")){var u="[object Function]",v="[object Number]",w="[object String]",x="[object Array]",y=g("bug-string-char-index"),z=function(a,b){var c,e,f,g=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,e=new c;for(f in e)s.call(e,f)&&g++;return c=e=null,g?z=function(a,b){var c,d,e=r.call(a)==u;for(c in a)e&&"prototype"==c||!s.call(a,c)||(d="constructor"===c)||b(c);(d||s.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],z=function(a,b){var c,f,g=r.call(a)==u,h=!g&&"function"!=typeof a.constructor&&d[typeof a.hasOwnProperty]&&a.hasOwnProperty||s;for(c in a)g&&"prototype"==c||!h.call(a,c)||b(c);for(f=e.length;c=e[--f];h.call(a,c)&&b(c));}),z(a,b)};if(!g("json-stringify")&&!g("date-serialization")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},B="000000",C=function(a,b){return(B+(b||0)).slice(-a)},D=function(a){var b,c,d,e,f,g,h,i,j;if(t)b=function(a){c=a.getUTCFullYear(),d=a.getUTCMonth(),e=a.getUTCDate(),g=a.getUTCHours(),h=a.getUTCMinutes(),i=a.getUTCSeconds(),j=a.getUTCMilliseconds()};else{var k=n.floor,l=[0,31,59,90,120,151,181,212,243,273,304,334],m=function(a,b){return l[b]+365*(a-1970)+k((a-1969+(b=+(b>1)))/4)-k((a-1901+b)/100)+k((a-1601+b)/400)};b=function(a){for(e=k(a/864e5),c=k(e/365.2425)+1970-1;m(c+1,0)<=e;c++);for(d=k((e-m(c,0))/30.42);m(c,d+1)<=e;d++);e=1+e-m(c,d),f=(a%864e5+864e5)%864e5,g=k(f/36e5)%24,h=k(f/6e4)%60,i=k(f/1e3)%60,j=f%1e3}}return(D=function(a){return a>-1/0&&a<1/0?(b(a),a=(c<=0||c>=1e4?(c<0?"-":"+")+C(6,c<0?-c:c):C(4,c))+"-"+C(2,d+1)+"-"+C(2,e)+"T"+C(2,g)+":"+C(2,h)+":"+C(2,i)+"."+C(3,j)+"Z",c=d=e=g=h=i=j=null):a=null,a})(a)};if(g("json-stringify")&&!g("date-serialization")){var E=function(a){return D(this)},F=c.stringify;c.stringify=function(a,b,c){var d=k.prototype.toJSON;k.prototype.toJSON=E;var e=F(a,b,c);return k.prototype.toJSON=d,e}}else{var G="\\u00",H=function(a){var b=a.charCodeAt(0),c=A[b];return c||G+C(2,b.toString(16))},I=/[\x00-\x1f\x22\x5c]/g,J=function(a){return I.lastIndex=0,'"'+(I.test(a)?a.replace(I,H):a)+'"'},K=function(a,b,c,d,f,g,h){var i,j,l,n,o,q,s,t,u;if(e(function(){i=b[a]}),"object"==typeof i&&i&&(i.getUTCFullYear&&r.call(i)=="[object Date]"&&i.toJSON===k.prototype.toJSON?i=D(i):"function"==typeof i.toJSON&&(i=i.toJSON(a))),c&&(i=c.call(b,a,i)),i==p)return i===p?i:"null";switch(j=typeof i,"object"==j&&(l=r.call(i)),l||j){case"boolean":case"[object Boolean]":return""+i;case"number":case v:return i>-1/0&&i<1/0?""+i:"null";case"string":case w:return J(""+i)}if("object"==typeof i){for(s=h.length;s--;)if(h[s]===i)throw m();if(h.push(i),n=[],t=g,g+=f,l==x){for(q=0,s=i.length;q<s;q++)o=K(q,i,c,d,f,g,h),n.push(o===p?"null":o);u=n.length?f?"[\n"+g+n.join(",\n"+g)+"\n"+t+"]":"["+n.join(",")+"]":"[]"}else z(d||i,function(a){var b=K(a,i,c,d,f,g,h);b!==p&&n.push(J(a)+":"+(f?" ":"")+b)}),u=n.length?f?"{\n"+g+n.join(",\n"+g)+"\n"+t+"}":"{"+n.join(",")+"}":"{}";return h.pop(),u}};c.stringify=function(a,b,c){var e,f,g,h;if(d[typeof b]&&b)if((h=r.call(b))==u)f=b;else if(h==x){g={};for(var i,j=0,k=b.length;j<k;i=b[j++],((h=r.call(i))==w||h==v)&&(g[i]=1));}if(c)if((h=r.call(c))==v){if((c-=c%1)>0)for(e="",c>10&&(c=10);e.length<c;e+=" ");}else h==w&&(e=c.length<=10?c:c.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}}if(!g("json-parse")){var L,M,N=i.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,l()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;L<g;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=y?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;L<g;)if((e=f.charCodeAt(L))<32)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;L<c;L++)(e=f.charCodeAt(L))>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(L+1))>=48&&e<=57&&P(),d=!1;L<g&&(e=f.charCodeAt(L))>=48&&e<=57;L++);if(46==f.charCodeAt(L)){for(c=++L;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==L&&P(),L=c}if(101==(e=f.charCodeAt(L))||69==e){for(e=f.charCodeAt(++L),43!=e&&45!=e||L++,c=L;c<g&&(e=f.charCodeAt(c))>=48&&e<=57;c++);c==L&&P(),L=c}return+f.slice(b,L)}d&&P();var h=f.slice(L,L+4);if("true"==h)return L+=4,!0;if("fals"==h&&101==f.charCodeAt(L+4))return L+=5,!1;if("null"==h)return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(y?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];"]"!=(a=Q());)c?","==a?"]"==(a=Q())&&P():P():c=!0,","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};"}"!=(a=Q());)c?","==a?"}"==(a=Q())&&P():P():c=!0,","!=a&&"string"==typeof a&&"@"==(y?a.charAt(0):a[0])&&":"==Q()||P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===p?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(r.call(e)==x)for(d=e.length;d--;S(e,d,c));else z(e,function(a){S(e,a,c)});return c.call(a,b,e)};c.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&r.call(b)==u?T((d={},d[""]=c,d),"",b):c}}}return c.runInContext=a,c}var b="function"==typeof c&&c.amd,d={function:!0,object:!0},e=d[typeof exports]&&exports&&!exports.nodeType&&exports,f=d[typeof window]&&window||this,g=e&&d[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!g||g.global!==g&&g.window!==g&&g.self!==g||(f=g),e&&!b)a(f,e);else{var h=f.JSON,i=f.JSON3,j=!1,k=a(f,f.JSON3={noConflict:function(){return j||(j=!0,f.JSON=h,i?f.JSON3=i:delete f.JSON3,h=i=null),k}});f.JSON={parse:k.parse,stringify:k.stringify}}b&&c("src/vendor/json3-3.3.2/json3.js",[],function(){return k})}.call(this);var d=window.JSON3;window.JSON3&&window.JSON3.noConflict&&window.JSON3.noConflict(),c("punycode",[],function(){}),c("IPv6",[],function(){}),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof c&&c.amd?c("SecondLevelDomains",b):a.SecondLevelDomains=b(a)}(this,function(a){var b=a&&a.SecondLevelDomains,c={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return!1;var d=a.lastIndexOf(".",b-1);if(d<=0||d>=b-1)return!1;var e=c.list[a.slice(b+1)];return!!e&&e.indexOf(" "+a.slice(d+1,b)+" ")>=0},is:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return!1;if(a.lastIndexOf(".",b-1)>=0)return!1;var d=c.list[a.slice(b+1)];return!!d&&d.indexOf(" "+a.slice(0,b)+" ")>=0},get:function(a){var b=a.lastIndexOf(".");if(b<=0||b>=a.length-1)return null;var d=a.lastIndexOf(".",b-1);if(d<=0||d>=b-1)return null;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(d+1,b)+" ")<0?null:a.slice(d+1):null},noConflict:function(){return a.SecondLevelDomains===this&&(a.SecondLevelDomains=b),this}};return c}),function(a,d){"object"==typeof exports?module.exports=d(b("./punycode"),b("./IPv6"),b("./SecondLevelDomains")):"function"==typeof c&&c.amd?c("URI",["./punycode","./IPv6","./SecondLevelDomains"],d):a.URI=d(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(a,b,c,d){function e(a,b){return this instanceof e?(void 0===a&&(a="undefined"!=typeof location?location.href+"":""),this.href(a),void 0!==b?this.absoluteTo(b):this):new e(a,b)}function f(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===g(a)}function i(a,b){var c,d,e={};if(h(b))for(c=0,d=b.length;c<d;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;c<d;c++)void 0!==e[a[c]]&&(a.splice(c,1),d--,c--);return a}function j(a,b){var c,d;if(h(b)){for(c=0,d=b.length;c<d;c++)if(!j(a,b[c]))return!1;return!0}var e=g(b);for(c=0,d=a.length;c<d;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function k(a,b){if(!h(a)||!h(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function l(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function n(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}}function o(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}}var p=d&&d.URI;e.version="1.14.1";var q=e.prototype,r=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return e.domAttributes[b]}},e.encode=m,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=m,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(b){return a}},e.recodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;c<d;c++)b[c]=e.encodePathSegment(e.decode(b[c]));return b.join("/")},e.decodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;c<d;c++)b[c]=e.decodePathSegment(b[c]);return b.join("/")};var s,t={encode:"encode",decode:"decode"},u=function(a,b){return function(c){try{return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}catch(a){return c}}};for(s in t)e[s+"PathSegment"]=u("pathname",t[s]);e.encodeReserved=u("reserved","encode"),e.parse=function(a,b){var c;return b||(b={}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"))>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)),b.path=a,b},e.parseHost=function(a,b){var c,d,e=a.indexOf("/");return-1===e&&(e=a.length),"["===a.charAt(0)?(c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null),b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=a.lastIndexOf("@",d>-1?d:a.length-1);return f>-1&&(-1===d||f<d)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(!(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;j<i;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,r.call(g,d)?("string"==typeof g[d]&&(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(e.ip6_expression.test(a.hostname)?b+="["+a.hostname+"]":b+=a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,i,j="";for(f in a)if(r.call(a,f)&&f)if(h(a[f]))for(d={},g=0,i=a[f].length;g<i;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),!0!==b&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"==typeof b)for(var d in b)r.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=(a[b]||[]).concat(c)}},e.removeQuery=function(a,b,c){var d,f,g;if(h(b))for(d=0,f=b.length;d<f;d++)a[b[d]]=void 0;else if("object"==typeof b)for(g in b)r.call(b,g)&&e.removeQuery(a,g,b[g]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==c?a[b]===c?a[b]=void 0:h(a[b])&&(a[b]=i(a[b],c)):a[b]=void 0}},e.hasQuery=function(a,b,c,d){if("object"==typeof b){for(var f in b)if(r.call(b,f)&&!e.hasQuery(a,f,b[f]))return!1;return!0}if("string"!=typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(g(c)){case"Undefined":return b in a;case"Boolean":return c===Boolean(h(a[b])?a[b].length:a[b]);case"Function":return!!c(a[b],b,a);case"Array":if(!h(a[b]))return!1;return(d?j:k)(a[b],c);case"RegExp":return h(a[b])?!!d&&j(a[b],c):Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return h(a[b])?!!d&&j(a[b],c):a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;c<d;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return c<1?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":("/"===a.charAt(c)&&"/"===b.charAt(c)||(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var i=d.exec(a);if(!i)break;var j=i.index;if(c.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!c.ignore||!c.ignore.test(m)){l=j+m.length;var n=b(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),d.lastIndex=j+n.length}}return d.lastIndex=0,a},e.ensureValidHostname=function(b){if(b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=p),this},q.build=function(a){return!0===a?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},q.clone=function(){return new e(this)},q.valueOf=q.toString=function(){return this.build(!1)._string},q.protocol=n("protocol"),q.username=n("username"),q.password=n("password"),q.hostname=n("hostname"),q.port=n("port"),q.query=o("query","?"),q.fragment=o("fragment","#"),q.search=function(a,b){var c=this.query(a,b);return"string"==typeof c&&c.length?"?"+c:c},q.hash=function(a,b){var c=this.fragment(a,b);return"string"==typeof c&&c.length?"#"+c:c},q.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}return this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},q.path=q.pathname,q.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){a=a[e.getDomAttribute(a)]||"",f=!1}if(!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var g=d?a._parts:a;for(c in g)r.call(this._parts,c)&&(this._parts[c]=g[c])}return this.build(!b),this},q.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g
;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var v=q.protocol,w=q.port,x=q.hostname;q.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return v.call(this,a,b)},q.scheme=q.protocol,q.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return w.call(this,a,b)},q.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c),a=c.hostname}return x.call(this,a,b)},q.host=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildHost(this._parts):"":(e.parseHost(a,this._parts),this.build(!b),this)},q.authority=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildAuthority(this._parts):"":(e.parseAuthority(a,this._parts),this.build(!b),this)},q.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},q.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},q.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,d),h=new RegExp("^"+f(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&e.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},q.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(f(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},q.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return!0!==b&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var g;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},q.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+f(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},q.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(f(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(b):this.build(!b),this},q.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,g=this.filename(),h=g.lastIndexOf(".");return-1===h?"":(c=g.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(f(j)+"$"):new RegExp(f("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},q.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),a<0&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(h(b)){g=[];for(var i=0,j=b.length;i<j;i++)(b[i].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(b[i]))}else(b||"string"==typeof b)&&(""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b?g[a]=b:g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},q.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),h(d))for(f=0,g=d.length;f<g;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(h(b))for(f=0,g=b.length;f<g;f++)b[f]=e.decode(b[f]);else b="string"==typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var y=q.query;return q.query=function(a,b){if(!0===a)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):y.call(this,a,b)},q.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof a||a instanceof String)d[a]=void 0!==b?b:null;else{if("object"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var f in a)r.call(a,f)&&(d[f]=a[f])}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},q.setSearch=q.setQuery,q.addSearch=q.addQuery,q.removeSearch=q.removeQuery,q.hasSearch=q.hasQuery,q.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},q.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},q.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},q.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},q.normalizePath=function(a){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var b,c,d,f=this._parts.path,g="";for("/"!==f.charAt(0)&&(b=!0,f="/"+f),f=f.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),b&&(g=f.substring(1).match(/^(\.\.\/)+/)||"")&&(g=g[0]);;){if(-1===(c=f.indexOf("/..")))break;0!==c?(d=f.substring(0,c).lastIndexOf("/"),-1===d&&(d=c),f=f.substring(0,d)+f.substring(c+3)):f=f.substring(3)}return b&&this.is("relative")&&(f=g+f.substring(1)),f=e.recodePath(f),this._parts.path=f,this.build(!a),this},q.normalizePathname=q.normalizePath,q.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},q.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},q.normalizeSearch=q.normalizeQuery,q.normalizeHash=q.normalizeFragment,q.iso8859=function(){var a=e.encode,b=e.decode;return e.encode=escape,e.decode=decodeURIComponent,this.normalize(),e.encode=a,e.decode=b,this},q.unicode=function(){var a=e.encode,b=e.decode;return e.encode=m,e.decode=unescape,this.normalize(),e.encode=a,e.decode=b,this},q.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;f<h;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},q.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(b=a.directory(),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},q.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(!(d=e.commonPath(h.path(),a.path())))return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length),h.build()},q.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),i={},j={},l={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;i=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in i)if(r.call(i,d)){if(h(i[d])){if(!k(i[d],j[d]))return!1}else if(i[d]!==j[d])return!1;l[d]=!0}for(d in j)if(r.call(j,d)&&!l[d])return!1;return!0},q.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},q.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function d(a){var b=a.length,c=ga.type(a);return"function"!==c&&!ga.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function e(a,b,c){if(ga.isFunction(b))return ga.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ga.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(oa.test(b))return ga.filter(b,a,c);b=ga.filter(b,a)}return ga.grep(a,function(a){return ga.inArray(a,b)>=0!==c})}function f(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function g(a){var b=va[a]={};return ga.each(a.match(ua)||[],function(a,c){b[c]=!0}),b}function h(){qa.addEventListener?(qa.removeEventListener("DOMContentLoaded",i,!1),a.removeEventListener("load",i,!1)):(qa.detachEvent("onreadystatechange",i),a.detachEvent("onload",i))}function i(){(qa.addEventListener||"load"===event.type||"complete"===qa.readyState)&&(h(),ga.ready())}function j(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Aa,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:za.test(c)?ga.parseJSON(c):c)}catch(a){}ga.data(a,b,c)}else c=void 0}return c}function k(a){var b;for(b in a)if(("data"!==b||!ga.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,b,c,d){if(ga.acceptData(a)){var e,f,g=ga.expando,h=a.nodeType,i=h?ga.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=X.pop()||ga.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ga.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=ga.extend(i[j],b):i[j].data=ga.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ga.camelCase(b)]=c),"string"==typeof b?null==(e=f[b])&&(e=f[ga.camelCase(b)]):e=f,e}}function m(a,b,c){if(ga.acceptData(a)){var d,e,f=a.nodeType,g=f?ga.cache:a,h=f?a[ga.expando]:ga.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ga.isArray(b)?b=b.concat(ga.map(b,ga.camelCase)):b in d?b=[b]:(b=ga.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!k(d):!ga.isEmptyObject(d))return}(c||(delete g[h].data,k(g[h])))&&(f?ga.cleanData([a],!0):ea.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function n(){return!0}function o(){return!1}function p(){try{return qa.activeElement}catch(a){}}function q(a){var b=La.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function r(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==ya?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ya?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ga.nodeName(d,b)?f.push(d):ga.merge(f,r(d,b));return void 0===b||b&&ga.nodeName(a,b)?ga.merge([a],f):f}function s(a){Fa.test(a.type)&&(a.defaultChecked=a.checked)}function t(a,b){return ga.nodeName(a,"table")&&ga.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function u(a){return a.type=(null!==ga.find.attr(a,"type"))+"/"+a.type,a}function v(a){var b=Wa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function w(a,b){for(var c,d=0;null!=(c=a[d]);d++)ga._data(c,"globalEval",!b||ga._data(b[d],"globalEval"))}function x(a,b){if(1===b.nodeType&&ga.hasData(a)){var c,d,e,f=ga._data(a),g=ga._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)ga.event.add(b,c,h[c][d])}g.data&&(g.data=ga.extend({},g.data))}}function y(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ea.noCloneEvent&&b[ga.expando]){e=ga._data(b);for(d in e.events)ga.removeEvent(b,d,e.handle);b.removeAttribute(ga.expando)}"script"===c&&b.text!==a.text?(u(b).text=a.text,v(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ea.html5Clone&&a.innerHTML&&!ga.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Fa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function z(b,c){var d=ga(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:ga.css(d[0],"display");return d.detach(),e}function A(a){var b=qa,c=ab[a];return c||(c=z(a,b),"none"!==c&&c||(_a=(_a||ga("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(_a[0].contentWindow||_a[0].contentDocument).document,b.write(),b.close(),c=z(a,b),_a.detach()),ab[a]=c),c}function B(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=nb.length;e--;)if((b=nb[e]+c)in a)return b;return d}function D(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=ga._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Da(d)&&(f[g]=ga._data(d,"olddisplay",A(d.nodeName)))):f[g]||(e=Da(d),(c&&"none"!==c||!e)&&ga._data(d,"olddisplay",e?c:ga.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function E(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function F(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ga.css(a,c+Ca[f],!0,e)),d?("content"===c&&(g-=ga.css(a,"padding"+Ca[f],!0,e)),"margin"!==c&&(g-=ga.css(a,"border"+Ca[f]+"Width",!0,e))):(g+=ga.css(a,"padding"+Ca[f],!0,e),"padding"!==c&&(g+=ga.css(a,"border"+Ca[f]+"Width",!0,e)));return g}function G(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bb(a),g=ea.boxSizing()&&"border-box"===ga.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=cb(a,b,f),(e<0||null==e)&&(e=a.style[b]),eb.test(e))return e;d=g&&(ea.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+F(a,b,c||(g?"border":"content"),d,f)+"px"}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return setTimeout(function(){ob=void 0}),ob=ga.now()}function J(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=Ca[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function K(a,b,c){for(var d,e=(ub[b]||[]).concat(ub["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Da(a),p=ga._data(a,"fxshow");c.queue||(h=ga._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,ga.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=ga.css(a,"display"),k=A(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===ga.css(a,"float")&&(ea.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ea.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],qb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||ga.style(a,d)}if(!ga.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=ga._data(a,"fxshow",{}),f&&(p.hidden=!o),o?ga(a).show():l.done(function(){ga(a).hide()}),l.done(function(){var b;ga._removeData(a,"fxshow");for(b in m)ga.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=ga.camelCase(c),e=b[d],f=a[c],ga.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ga.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=tb.length,h=ga.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ob||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ga.extend({},b),opts:ga.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ob||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ga.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);f<g;f++)if(d=tb[f].call(j,a,k,j.opts))return d;return ga.map(k,K,j),ga.isFunction(j.opts.start)&&j.opts.start.call(a,j),ga.fx.timer(ga.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ua)||[];if(ga.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function P(a,b,c,d){function e(h){var i;return f[h]=!0,ga.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function Q(a,b){var c,d,e=ga.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ga.extend(!0,a,c),a}function R(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function S(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function T(a,b,c,d){var e;if(ga.isArray(b))ga.each(b,function(b,e){c||Vb.test(a)?d(a,e):T(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ga.type(b))d(a,b);else for(e in b)T(a+"["+e+"]",b[e],c,d)}function U(){try{return new a.XMLHttpRequest}catch(a){}}function V(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function W(a){return ga.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var X=[],Y=X.slice,Z=X.concat,$=X.push,_=X.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da="".trim,ea={},fa="1.11.0",ga=function(a,b){return new ga.fn.init(a,b)},ha=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ia=/^-ms-/,ja=/-([\da-z])/gi,ka=function(a,b){return b.toUpperCase()};ga.fn=ga.prototype={jquery:fa,constructor:ga,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=ga.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ga.each(this,a,b)},map:function(a){return this.pushStack(ga.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:X.sort,splice:X.splice},ga.extend=ga.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ga.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ga.isPlainObject(c)||(b=ga.isArray(c)))?(b?(b=!1,f=a&&ga.isArray(a)?a:[]):f=a&&ga.isPlainObject(a)?a:{},g[d]=ga.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ga.extend({expando:"jQuery"+(fa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ga.type(a)},isArray:Array.isArray||function(a){return"array"===ga.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ga.type(a)||a.nodeType||ga.isWindow(a))return!1;try{if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(ea.ownLast)for(b in a)return ca.call(a,b);for(b in a);return void 0===b||ca.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(b){b&&ga.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ia,"ms-").replace(ja,ka)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e=0,f=a.length,g=d(a);if(c){if(g)for(;e<f&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:da&&!da.call("\ufeff ")?function(a){return null==a?"":da.call(a)}:function(a){return null==a?"":(a+"").replace(ha,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?ga.merge(c,"string"==typeof a?[a]:a):$.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(_)return _.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;f<g;f++)null!=(e=b(a[f],f,c))&&i.push(e);else for(f in a)null!=(e=b(a[f],f,c))&&i.push(e);return Z.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),ga.isFunction(a))return c=Y.call(arguments,2),d=function(){return a.apply(b||this,c.concat(Y.call(arguments)))},d.guid=a.guid=a.guid||ga.guid++,d},now:function(){return+new Date},support:ea}),ga.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var la=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sa.exec(a))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ua,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=ta.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(a){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in y.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),
k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ba.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ba.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];h<e;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(!(b=(y.find.ID(g.matches[0].replace(va,wa),b)||[])[0]))return c;a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&n(f)))return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,aa=Y.slice,ba=Y.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fa=ea.replace("w","w#"),ga="\\["+da+"*("+ea+")"+da+"*(?:([*^$|!~]?=)"+da+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)"+da+"*\\]",ha=":("+ea+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp("="+da+"*([^\\]'\"]*?)"+da+"*\\]","g"),ma=new RegExp(ha),na=new RegExp("^"+fa+"$"),oa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea.replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=aa.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(a){_={apply:Y.length?function(a,b){$.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=ra.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==V)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==V&&I)return b.getElementsByClassName(a)},K=[],J=[],(x.qsa=ra.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+da+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+da+"*(?:value|"+ca+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+da+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=ra.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ha)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?ba.call(D,a)-ba.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?ba.call(D,a)-ba.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),x.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&ma.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ba.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do{if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ca,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ga.find=la,ga.expr=la.selectors,ga.expr[":"]=ga.expr.pseudos,ga.unique=la.uniqueSort,ga.text=la.getText,ga.isXMLDoc=la.isXML,ga.contains=la.contains;var ma=ga.expr.match.needsContext,na=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oa=/^.[^:#\[\.,]*$/;ga.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ga.find.matchesSelector(d,a)?[d]:[]:ga.find.matches(a,ga.grep(b,function(a){return 1===a.nodeType}))},ga.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ga(a).filter(function(){for(b=0;b<e;b++)if(ga.contains(d[b],this))return!0}));for(b=0;b<e;b++)ga.find(a,d[b],c);return c=this.pushStack(e>1?ga.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&ma.test(a)?ga(a):a||[],!1).length}});var pa,qa=a.document,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ga.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ra.exec(a))||!c[1]&&b)return!b||b.jquery?(b||pa).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ga?b[0]:b,ga.merge(this,ga.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:qa,!0)),na.test(c[1])&&ga.isPlainObject(b))for(c in b)ga.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=qa.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return pa.find(a);this.length=1,this[0]=d}return this.context=qa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ga.isFunction(a)?void 0!==pa.ready?pa.ready(a):a(ga):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ga.makeArray(a,this))}).prototype=ga.fn,pa=ga(qa);var sa=/^(?:parents|prev(?:Until|All))/,ta={children:!0,contents:!0,next:!0,prev:!0};ga.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!ga(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ga.fn.extend({has:function(a){var b,c=ga(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(ga.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ma.test(a)||"string"!=typeof a?ga(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ga.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ga.unique(f):f)},index:function(a){return a?"string"==typeof a?ga.inArray(this[0],ga(a)):ga.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ga.unique(ga.merge(this.get(),ga(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ga.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ga.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ga.dir(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return ga.dir(a,"nextSibling")},prevAll:function(a){return ga.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ga.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ga.dir(a,"previousSibling",c)},siblings:function(a){return ga.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ga.sibling(a.firstChild)},contents:function(a){return ga.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ga.merge([],a.childNodes)}},function(a,b){ga.fn[a]=function(c,d){var e=ga.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ga.filter(d,e)),this.length>1&&(ta[a]||(e=ga.unique(e)),sa.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ua=/\S+/g,va={};ga.Callbacks=function(a){a="string"==typeof a?va[a]||g(a):ga.extend({},a);var b,c,d,e,f,h,i=[],j=!a.once&&[],k=function(g){for(c=a.memory&&g,d=!0,f=h||0,h=0,e=i.length,b=!0;i&&f<e;f++)if(!1===i[f].apply(g[0],g[1])&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function b(c){ga.each(c,function(c,d){var e=ga.type(d);"function"===e?a.unique&&l.has(d)||i.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&ga.each(arguments,function(a,c){for(var d;(d=ga.inArray(c,i,d))>-1;)i.splice(d,1),b&&(d<=e&&e--,d<=f&&f--)}),this},has:function(a){return a?ga.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},ga.extend({Deferred:function(a){var b=[["resolve","done",ga.Callbacks("once memory"),"resolved"],["reject","fail",ga.Callbacks("once memory"),"rejected"],["notify","progress",ga.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ga.Deferred(function(c){ga.each(b,function(b,f){var g=ga.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ga.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ga.extend(a,d):d}},e={};return d.pipe=d.then,ga.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&ga.isFunction(a.promise)?g:0,i=1===h?a:ga.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&ga.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;ga.fn.ready=function(a){return ga.ready.promise().done(a),this},ga.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ga.readyWait++:ga.ready(!0)},ready:function(a){if(!0===a?!--ga.readyWait:!ga.isReady){if(!qa.body)return setTimeout(ga.ready);ga.isReady=!0,!0!==a&&--ga.readyWait>0||(wa.resolveWith(qa,[ga]),ga.fn.trigger&&ga(qa).trigger("ready").off("ready"))}}}),ga.ready.promise=function(b){if(!wa)if(wa=ga.Deferred(),"complete"===qa.readyState)setTimeout(ga.ready);else if(qa.addEventListener)qa.addEventListener("DOMContentLoaded",i,!1),a.addEventListener("load",i,!1);else{qa.attachEvent("onreadystatechange",i),a.attachEvent("onload",i);var c=!1;try{c=null==a.frameElement&&qa.documentElement}catch(a){}c&&c.doScroll&&function a(){if(!ga.isReady){try{c.doScroll("left")}catch(b){return setTimeout(a,50)}h(),ga.ready()}}()}return wa.promise(b)};var xa,ya="undefined";for(xa in ga(ea))break;ea.ownLast="0"!==xa,ea.inlineBlockNeedsLayout=!1,ga(function(){var a,b,c=qa.getElementsByTagName("body")[0];c&&(a=qa.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=qa.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==ya&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(ea.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=qa.createElement("div");if(null==ea.deleteExpando){ea.deleteExpando=!0;try{delete a.test}catch(a){ea.deleteExpando=!1}}a=null}(),ga.acceptData=function(a){var b=ga.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/([A-Z])/g;ga.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?ga.cache[a[ga.expando]]:a[ga.expando])&&!k(a)},data:function(a,b,c){return l(a,b,c)},removeData:function(a,b){return m(a,b)},_data:function(a,b,c){return l(a,b,c,!0)},_removeData:function(a,b){return m(a,b,!0)}}),ga.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ga.data(f),1===f.nodeType&&!ga._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=ga.camelCase(d.slice(5)),j(f,d,e[d]));ga._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ga.data(this,a)}):arguments.length>1?this.each(function(){ga.data(this,a,b)}):f?j(f,a,ga.data(f,a)):void 0},removeData:function(a){return this.each(function(){ga.removeData(this,a)})}}),ga.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=ga._data(a,b),c&&(!d||ga.isArray(c)?d=ga._data(a,b,ga.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ga.queue(a,b),d=c.length,e=c.shift(),f=ga._queueHooks(a,b),g=function(){ga.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ga._data(a,c)||ga._data(a,c,{empty:ga.Callbacks("once memory").add(function(){ga._removeData(a,b+"queue"),ga._removeData(a,c)})})}}),ga.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ga.queue(this[0],a):void 0===b?this:this.each(function(){var c=ga.queue(this,a,b);ga._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ga.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ga.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ga.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=ga._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=["Top","Right","Bottom","Left"],Da=function(a,b){return a=b||a,"none"===ga.css(a,"display")||!ga.contains(a.ownerDocument,a)},Ea=ga.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ga.type(c)){e=!0;for(h in c)ga.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ga.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ga(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Fa=/^(?:checkbox|radio)$/i;!function(){var a=qa.createDocumentFragment(),b=qa.createElement("div"),c=qa.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",ea.leadingWhitespace=3===b.firstChild.nodeType,ea.tbody=!b.getElementsByTagName("tbody").length,ea.htmlSerialize=!!b.getElementsByTagName("link").length,ea.html5Clone="<:nav></:nav>"!==qa.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),ea.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",ea.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",ea.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,ea.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){ea.noCloneEvent=!1}),b.cloneNode(!0).click()),null==ea.deleteExpando){ea.deleteExpando=!0;try{delete b.test}catch(a){ea.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=qa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(ea[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),ea[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}();var Ga=/^(?:input|select|textarea)$/i,Ha=/^key/,Ia=/^(?:mouse|contextmenu)|click/,Ja=/^(?:focusinfocus|focusoutblur)$/,Ka=/^([^.]*)(?:\.(.+)|)$/;ga.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ga._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ga.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof ga===ya||a&&ga.event.triggered===a.type?void 0:ga.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ua)||[""],h=b.length;h--;)f=Ka.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ga.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ga.event.special[n]||{},l=ga.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ga.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&!1!==j.setup.call(a,d,o,k)||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),ga.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ga.hasData(a)&&ga._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ua)||[""],j=b.length;j--;)if(h=Ka.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ga.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ga.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ga.event.remove(a,n+b[j],c,d,!0);ga.isEmptyObject(k)&&(delete q.handle,ga._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||qa],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||qa,3!==d.nodeType&&8!==d.nodeType&&!Ja.test(n+ga.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ga.expando]?b:new ga.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ga.makeArray(c,[b]),j=ga.event.special[n]||{},e||!j.trigger||!1!==j.trigger.apply(d,c))){if(!e&&!j.noBubble&&!ga.isWindow(d)){for(i=j.delegateType||n,Ja.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||qa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ga._data(h,"events")||{})[b.type]&&ga._data(h,"handle"),f&&f.apply(h,c),(f=g&&h[g])&&f.apply&&ga.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||!1===j._default.apply(m.pop(),c))&&ga.acceptData(d)&&g&&d[n]&&!ga.isWindow(d)){k=d[g],k&&(d[g]=null),ga.event.triggered=n;try{d[n]()}catch(a){}ga.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ga.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(ga._data(this,"events")||{})[a.type]||[],j=ga.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=ga.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(d.namespace)||(a.handleObj=d,a.data=d.data,void 0!==(c=((ga.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;f<h;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?ga(c,this).index(i)>=0:ga.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ga.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ia.test(e)?this.mouseHooks:Ha.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ga.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||qa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){
return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||qa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ga.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return ga.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ga.extend(new ga.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ga.event.trigger(e,null,b):ga.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ga.removeEvent=qa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===ya&&(a[d]=null),a.detachEvent(d,c))},ga.Event=function(a,b){if(!(this instanceof ga.Event))return new ga.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault())?n:o):this.type=a,b&&ga.extend(this,b),this.timeStamp=a&&a.timeStamp||ga.now(),this[ga.expando]=!0},ga.Event.prototype={isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()}},ga.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ga.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ga.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ea.submitBubbles||(ga.event.special.submit={setup:function(){if(ga.nodeName(this,"form"))return!1;ga.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ga.nodeName(b,"input")||ga.nodeName(b,"button")?b.form:void 0;c&&!ga._data(c,"submitBubbles")&&(ga.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),ga._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ga.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(ga.nodeName(this,"form"))return!1;ga.event.remove(this,"._submit")}}),ea.changeBubbles||(ga.event.special.change={setup:function(){if(Ga.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ga.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ga.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ga.event.simulate("change",this,a,!0)})),!1;ga.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ga.test(b.nodeName)&&!ga._data(b,"changeBubbles")&&(ga.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ga.event.simulate("change",this.parentNode,a,!0)}),ga._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return ga.event.remove(this,"._change"),!Ga.test(this.nodeName)}}),ea.focusinBubbles||ga.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ga.event.simulate(b,a.target,ga.event.fix(a),!0)};ga.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ga._data(d,b);e||d.addEventListener(a,c,!0),ga._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ga._data(d,b)-1;e?ga._data(d,b,e):(d.removeEventListener(a,c,!0),ga._removeData(d,b))}}}),ga.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=o;else if(!d)return this;return 1===e&&(g=d,d=function(a){return ga().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=ga.guid++)),this.each(function(){ga.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ga(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=o),this.each(function(){ga.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ga.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ga.event.trigger(a,b,c,!0)}});var La="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ma=/ jQuery\d+="(?:null|\d+)"/g,Na=new RegExp("<(?:"+La+")[\\s/>]","i"),Oa=/^\s+/,Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qa=/<([\w:]+)/,Ra=/<tbody/i,Sa=/<|&#?\w+;/,Ta=/<(?:script|style|link)/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Va=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Xa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ea.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Za=q(qa),$a=Za.appendChild(qa.createElement("div"));Ya.optgroup=Ya.option,Ya.tbody=Ya.tfoot=Ya.colgroup=Ya.caption=Ya.thead,Ya.th=Ya.td,ga.extend({clone:function(a,b,c){var d,e,f,g,h,i=ga.contains(a.ownerDocument,a);if(ea.html5Clone||ga.isXMLDoc(a)||!Na.test("<"+a.nodeName+">")?f=a.cloneNode(!0):($a.innerHTML=a.outerHTML,$a.removeChild(f=$a.firstChild)),!(ea.noCloneEvent&&ea.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ga.isXMLDoc(a)))for(d=r(f),h=r(a),g=0;null!=(e=h[g]);++g)d[g]&&y(e,d[g]);if(b)if(c)for(h=h||r(a),d=d||r(f),g=0;null!=(e=h[g]);g++)x(e,d[g]);else x(a,f);return d=r(f,"script"),d.length>0&&w(d,!i&&r(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=q(b),n=[],o=0;o<l;o++)if((f=a[o])||0===f)if("object"===ga.type(f))ga.merge(n,f.nodeType?[f]:f);else if(Sa.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Qa.exec(f)||["",""])[1].toLowerCase(),k=Ya[i]||Ya._default,h.innerHTML=k[1]+f.replace(Pa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ea.leadingWhitespace&&Oa.test(f)&&n.push(b.createTextNode(Oa.exec(f)[0])),!ea.tbody)for(f="table"!==i||Ra.test(f)?"<table>"!==k[1]||Ra.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ga.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ga.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),ea.appendChecked||ga.grep(r(n,"input"),s),o=0;f=n[o++];)if((!d||-1===ga.inArray(f,d))&&(g=ga.contains(f.ownerDocument,f),h=r(m.appendChild(f),"script"),g&&w(h),c))for(e=0;f=h[e++];)Va.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ga.expando,i=ga.cache,j=ea.deleteExpando,k=ga.event.special;null!=(c=a[g]);g++)if((b||ga.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ga.event.remove(c,d):ga.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==ya?c.removeAttribute(h):c[h]=null,X.push(e))}}}),ga.fn.extend({text:function(a){return Ea(this,function(a){return void 0===a?ga.text(this):this.empty().append((this[0]&&this[0].ownerDocument||qa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){t(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=t(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ga.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ga.cleanData(r(c)),c.parentNode&&(b&&ga.contains(c.ownerDocument,c)&&w(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ga.cleanData(r(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ga.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ga.clone(this,a,b)})},html:function(a){return Ea(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ma,""):void 0;if("string"==typeof a&&!Ta.test(a)&&(ea.htmlSerialize||!Na.test(a))&&(ea.leadingWhitespace||!Oa.test(a))&&!Ya[(Qa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Pa,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ga.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ga.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Z.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=ga.isFunction(m);if(n||j>1&&"string"==typeof m&&!ea.checkClone&&Ua.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=ga.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=ga.map(r(h,"script"),u),e=f.length;i<j;i++)d=h,i!==l&&(d=ga.clone(d,!0,!0),e&&ga.merge(f,r(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,ga.map(f,v),i=0;i<e;i++)d=f[i],Va.test(d.type||"")&&!ga._data(d,"globalEval")&&ga.contains(g,d)&&(d.src?ga._evalUrl&&ga._evalUrl(d.src):ga.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Xa,"")));h=c=null}return this}}),ga.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ga.fn[a]=function(a){for(var c,d=0,e=[],f=ga(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),ga(f[d])[b](c),$.apply(e,c.get());return this.pushStack(e)}});var _a,ab={};!function(){var a,b,c=qa.createElement("div");c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",ea.opacity=/^0.5/.test(a.style.opacity),ea.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ea.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,ea.shrinkWrapBlocks=function(){var a,c,d;if(null==b){if(!(a=qa.getElementsByTagName("body")[0]))return;c=qa.createElement("div"),d=qa.createElement("div"),a.appendChild(c).appendChild(d),b=!1,typeof d.style.zoom!==ya&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b=3!==d.offsetWidth),a.removeChild(c),a=c=d=null}return b}}();var bb,cb,db=/^margin/,eb=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),fb=/^(top|right|bottom|left)$/;a.getComputedStyle?(bb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||ga.contains(a.ownerDocument,a)||(g=ga.style(a,b)),eb.test(g)&&db.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):qa.documentElement.currentStyle&&(bb=function(a){return a.currentStyle},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),eb.test(g)&&!fb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d=qa.getElementsByTagName("body")[0];d&&(b=qa.createElement("div"),c=qa.createElement("div"),b.style.cssText=j,d.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ga.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth}),f=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),d.removeChild(b),c=d=null)}var c,d,e,f,g,h,i=qa.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=i.getElementsByTagName("a")[0],c.style.cssText="float:left;opacity:.5",ea.opacity=/^0.5/.test(c.style.opacity),ea.cssFloat=!!c.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ea.clearCloneStyle="content-box"===i.style.backgroundClip,c=i=null,ga.extend(ea,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=qa.createElement("div"),f=qa.getElementsByTagName("body")[0];return f?(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=qa.createElement("div"),a.style.cssText=j,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",d=c&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,d):void 0},boxSizing:function(){return null==e&&b(),e},boxSizingReliable:function(){return null==f&&b(),f},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){if(!(b=qa.getElementsByTagName("body")[0]))return;c=qa.createElement("div"),d=qa.createElement("div"),c.style.cssText=j,b.appendChild(c).appendChild(d),e=d.appendChild(qa.createElement("div")),e.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",e.style.marginRight=e.style.width="0",d.style.width="1px",h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return h}})}(),ga.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var gb=/alpha\([^)]*\)/i,hb=/opacity\s*=\s*([^)]*)/,ib=/^(none|table(?!-c[ea]).+)/,jb=new RegExp("^("+Ba+")(.*)$","i"),kb=new RegExp("^([+-])=("+Ba+")","i"),lb={position:"absolute",visibility:"hidden",display:"block"},mb={letterSpacing:0,fontWeight:400},nb=["Webkit","O","Moz","ms"];ga.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ea.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ga.camelCase(b),i=a.style;if(b=ga.cssProps[h]||(ga.cssProps[h]=C(i,h)),g=ga.cssHooks[b]||ga.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=kb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ga.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||ga.cssNumber[h]||(c+="px"),ea.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=ga.camelCase(b);return b=ga.cssProps[h]||(ga.cssProps[h]=C(a.style,h)),g=ga.cssHooks[b]||ga.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=cb(a,b,d)),"normal"===f&&b in mb&&(f=mb[b]),""===c||c?(e=parseFloat(f),!0===c||ga.isNumeric(e)?e||0:f):f}}),ga.each(["height","width"],function(a,b){ga.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&ib.test(ga.css(a,"display"))?ga.swap(a,lb,function(){return G(a,b,d)}):G(a,b,d)},set:function(a,c,d){var e=d&&bb(a);return E(a,c,d?F(a,b,d,ea.boxSizing()&&"border-box"===ga.css(a,"boxSizing",!1,e),e):0)}}}),ea.opacity||(ga.cssHooks.opacity={get:function(a,b){return hb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ga.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ga.trim(f.replace(gb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=gb.test(f)?f.replace(gb,e):f+" "+e)}}),ga.cssHooks.marginRight=B(ea.reliableMarginRight,function(a,b){if(b)return ga.swap(a,{display:"inline-block"},cb,[a,"marginRight"])}),ga.each({margin:"",padding:"",border:"Width"},function(a,b){ga.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ca[d]+b]=f[d]||f[d-2]||f[0];return e}},db.test(a)||(ga.cssHooks[a+b].set=E)}),ga.fn.extend({css:function(a,b){return Ea(this,function(a,b,c){var d,e,f={},g=0;if(ga.isArray(b)){for(d=bb(a),e=b.length;g<e;g++)f[b[g]]=ga.css(a,b[g],!1,d);return f}return void 0!==c?ga.style(a,b,c):ga.css(a,b)},a,b,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Da(this)?ga(this).show():ga(this).hide()})}}),ga.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ga.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=ga.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ga.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ga.fx.step[a.prop]?ga.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ga.cssProps[a.prop]]||ga.cssHooks[a.prop])?ga.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ga.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ga.fx=H.prototype.init,ga.fx.step={};var ob,pb,qb=/^(?:toggle|show|hide)$/,rb=new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),sb=/queueHooks$/,tb=[L],ub={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rb.exec(b),f=e&&e[3]||(ga.cssNumber[a]?"":"px"),g=(ga.cssNumber[a]||"px"!==f&&+d)&&rb.exec(ga.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,ga.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ga.Animation=ga.extend(N,{tweener:function(a,b){ga.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],ub[c]=ub[c]||[],ub[c].unshift(b)},prefilter:function(a,b){b?tb.unshift(a):tb.push(a)}}),ga.speed=function(a,b,c){var d=a&&"object"==typeof a?ga.extend({},a):{complete:c||!c&&b||ga.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ga.isFunction(b)&&b};return d.duration=ga.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ga.fx.speeds?ga.fx.speeds[d.duration]:ga.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){ga.isFunction(d.old)&&d.old.call(this),d.queue&&ga.dequeue(this,d.queue)},d},ga.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ga.isEmptyObject(a),f=ga.speed(b,c,d),g=function(){var b=N(this,ga.extend({},a),f);(e||ga._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ga.timers,g=ga._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ga.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=ga._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ga.timers,g=d?d.length:0;for(c.finish=!0,ga.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ga.each(["toggle","show","hide"],function(a,b){var c=ga.fn[b];ga.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),ga.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ga.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ga.timers=[],ga.fx.tick=function(){var a,b=ga.timers,c=0;for(ob=ga.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||ga.fx.stop(),ob=void 0},ga.fx.timer=function(a){ga.timers.push(a),a()?ga.fx.start():ga.timers.pop()},ga.fx.interval=13,ga.fx.start=function(){pb||(pb=setInterval(ga.fx.tick,ga.fx.interval))},ga.fx.stop=function(){clearInterval(pb),pb=null},ga.fx.speeds={slow:600,fast:200,_default:400},ga.fn.delay=function(a,b){return a=ga.fx?ga.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=qa.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=qa.createElement("select"),d=c.appendChild(qa.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",ea.getSetAttribute="t"!==e.className,ea.style=/top/.test(a.getAttribute("style")),ea.hrefNormalized="/a"===a.getAttribute("href"),ea.checkOn=!!b.value,ea.optSelected=d.selected,ea.enctype=!!qa.createElement("form").enctype,c.disabled=!0,ea.optDisabled=!d.disabled,b=qa.createElement("input"),b.setAttribute("value",""),ea.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),ea.radioValue="t"===b.value,a=b=c=d=e=null}();var vb=/\r/g;ga.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ga.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ga(this).val()):a,null==e?e="":"number"==typeof e?e+="":ga.isArray(e)&&(e=ga.map(e,function(a){return null==a?"":a+""})),(b=ga.valHooks[this.type]||ga.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=ga.valHooks[e.type]||ga.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vb,""):null==c?"":c)}}}),ga.extend({valHooks:{option:{get:function(a){var b=ga.find.attr(a,"value");return null!=b?b:ga.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(ea.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ga.nodeName(c.parentNode,"optgroup"))){if(b=ga(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ga.makeArray(b),g=e.length;g--;)if(d=e[g],ga.inArray(ga.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ga.each(["radio","checkbox"],function(){ga.valHooks[this]={set:function(a,b){if(ga.isArray(b))return a.checked=ga.inArray(ga(a).val(),b)>=0}},ea.checkOn||(ga.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb,xb,yb=ga.expr.attrHandle,zb=/^(?:checked|selected)$/i,Ab=ea.getSetAttribute,Bb=ea.input;ga.fn.extend({attr:function(a,b){return Ea(this,ga.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ga.removeAttr(this,a)})}}),ga.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===ya?ga.prop(a,b,c):(1===f&&ga.isXMLDoc(a)||(b=b.toLowerCase(),d=ga.attrHooks[b]||(ga.expr.match.bool.test(b)?xb:wb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ga.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ga.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ua);if(f&&1===a.nodeType)for(;c=f[e++];)d=ga.propFix[c]||c,ga.expr.match.bool.test(c)?Bb&&Ab||!zb.test(c)?a[d]=!1:a[ga.camelCase("default-"+c)]=a[d]=!1:ga.attr(a,c,""),a.removeAttribute(Ab?c:d)},attrHooks:{type:{set:function(a,b){if(!ea.radioValue&&"radio"===b&&ga.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),xb={set:function(a,b,c){return!1===b?ga.removeAttr(a,c):Bb&&Ab||!zb.test(c)?a.setAttribute(!Ab&&ga.propFix[c]||c,c):a[ga.camelCase("default-"+c)]=a[c]=!0,c}},ga.each(ga.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yb[b]||ga.find.attr;yb[b]=Bb&&Ab||!zb.test(b)?function(a,b,d){var e,f;return d||(f=yb[b],yb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,yb[b]=f),e}:function(a,b,c){if(!c)return a[ga.camelCase("default-"+b)]?b.toLowerCase():null}}),Bb&&Ab||(ga.attrHooks.value={set:function(a,b,c){if(!ga.nodeName(a,"input"))return wb&&wb.set(a,b,c);a.defaultValue=b}}),Ab||(wb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},yb.id=yb.name=yb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ga.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:wb.set},ga.attrHooks.contenteditable={set:function(a,b,c){wb.set(a,""!==b&&b,c)}},ga.each(["width","height"],function(a,b){ga.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),ea.style||(ga.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i;ga.fn.extend({prop:function(a,b){return Ea(this,ga.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ga.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),ga.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!ga.isXMLDoc(a),f&&(b=ga.propFix[b]||b,e=ga.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ga.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}}}),ea.hrefNormalized||ga.each(["href","src"],function(a,b){ga.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ea.optSelected||(ga.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ga.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ga.propFix[this.toLowerCase()]=this}),ea.enctype||(ga.propFix.enctype="encoding");var Eb=/[\t\r\n\f]/g;ga.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(ga.isFunction(a))return this.each(function(b){ga(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ga.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(ga.isFunction(a))return this.each(function(b){ga(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ga.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ga.isFunction(a)?this.each(function(c){ga(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=ga(this),f=a.match(ua)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==ya&&"boolean"!==c||(this.className&&ga._data(this,"__className__",this.className),this.className=this.className||!1===a?"":ga._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1}}),ga.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ga.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ga.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},
undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fb=ga.now(),Gb=/\?/,Hb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ga.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ga.trim(b+"");return e&&!ga.trim(e.replace(Hb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ga.error("Invalid JSON: "+b)},ga.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ga.error("Invalid XML: "+b),c};var Ib,Jb,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ob=/^(?:GET|HEAD)$/,Pb=/^\/\//,Qb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rb={},Sb={},Tb="*/".concat("*");try{Jb=location.href}catch(a){Jb=qa.createElement("a"),Jb.href="",Jb=Jb.href}Ib=Qb.exec(Jb.toLowerCase())||[],ga.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb,type:"GET",isLocal:Nb.test(Ib[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ga.parseJSON,"text xml":ga.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Q(Q(a,ga.ajaxSettings),b):Q(ga.ajaxSettings,a)},ajaxPrefilter:O(Rb),ajaxTransport:O(Sb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&a<300||304===a,c&&(s=R(l,v,c)),s=S(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ga.lastModified[f]=u),(u=v.getResponseHeader("etag"))&&(ga.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--ga.active||ga.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ga.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ga(m):ga.event,o=ga.Deferred(),p=ga.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Mb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Jb)+"").replace(Kb,"").replace(Pb,Ib[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ga.trim(l.dataType||"*").toLowerCase().match(ua)||[""],null==l.crossDomain&&(d=Qb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Ib[1]&&d[2]===Ib[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Ib[3]||("http:"===Ib[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ga.param(l.data,l.traditional)),P(Rb,l,b,v),2===t)return v;i=l.global,i&&0==ga.active++&&ga.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Ob.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Gb.test(f)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Lb.test(f)?f.replace(Lb,"$1_="+Fb++):f+(Gb.test(f)?"&":"?")+"_="+Fb++)),l.ifModified&&(ga.lastModified[f]&&v.setRequestHeader("If-Modified-Since",ga.lastModified[f]),ga.etag[f]&&v.setRequestHeader("If-None-Match",ga.etag[f])),(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Tb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(!1===l.beforeSend.call(m,v,l)||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=P(Sb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(a){if(!(t<2))throw a;c(-1,a)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ga.get(a,b,c,"json")},getScript:function(a,b){return ga.get(a,void 0,b,"script")}}),ga.each(["get","post"],function(a,b){ga[b]=function(a,c,d,e){return ga.isFunction(c)&&(e=e||d,d=c,c=void 0),ga.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ga.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ga.fn[b]=function(a){return this.on(b,a)}}),ga._evalUrl=function(a){return ga.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ga.fn.extend({wrapAll:function(a){if(ga.isFunction(a))return this.each(function(b){ga(this).wrapAll(a.call(this,b))});if(this[0]){var b=ga(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ga.isFunction(a)?this.each(function(b){ga(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ga(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ga.isFunction(a);return this.each(function(c){ga(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ga.nodeName(this,"body")||ga(this).replaceWith(this.childNodes)}).end()}}),ga.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!ea.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||ga.css(a,"display"))},ga.expr.filters.visible=function(a){return!ga.expr.filters.hidden(a)};var Ub=/%20/g,Vb=/\[\]$/,Wb=/\r?\n/g,Xb=/^(?:submit|button|image|reset|file)$/i,Yb=/^(?:input|select|textarea|keygen)/i;ga.param=function(a,b){var c,d=[],e=function(a,b){b=ga.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ga.ajaxSettings&&ga.ajaxSettings.traditional),ga.isArray(a)||a.jquery&&!ga.isPlainObject(a))ga.each(a,function(){e(this.name,this.value)});else for(c in a)T(c,a[c],b,e);return d.join("&").replace(Ub,"+")},ga.fn.extend({serialize:function(){return ga.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ga.prop(this,"elements");return a?ga.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ga(this).is(":disabled")&&Yb.test(this.nodeName)&&!Xb.test(a)&&(this.checked||!Fa.test(a))}).map(function(a,b){var c=ga(this).val();return null==c?null:ga.isArray(c)?ga.map(c,function(a){return{name:b.name,value:a.replace(Wb,"\r\n")}}):{name:b.name,value:c.replace(Wb,"\r\n")}}).get()}}),ga.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Zb=0,$b={},_b=ga.ajaxSettings.xhr();a.ActiveXObject&&ga(a).on("unload",function(){for(var a in $b)$b[a](void 0,!0)}),ea.cors=!!_b&&"withCredentials"in _b,_b=ea.ajax=!!_b,_b&&ga.ajaxTransport(function(a){if(!a.crossDomain||ea.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $b[g],b=void 0,f.onreadystatechange=ga.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(a){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),ga.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ga.globalEval(a),a}}}),ga.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ga.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=qa.head||ga("head")[0]||qa.documentElement;return{send:function(d,e){b=qa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ac=[],bc=/(=)\?(?=&|$)|\?\?/;ga.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||ga.expando+"_"+Fb++;return this[a]=!0,a}}),ga.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(bc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ga.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bc,"$1"+e):!1!==b.jsonp&&(b.url+=(Gb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ga.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ac.push(e)),g&&ga.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ga.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||qa;var d=na.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ga.buildFragment([a],b,e),e&&e.length&&ga(e).remove(),ga.merge([],d.childNodes))};var cc=ga.fn.load;ga.fn.load=function(a,b,c){if("string"!=typeof a&&cc)return cc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),ga.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&ga.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?ga("<div>").append(ga.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},ga.expr.filters.animated=function(a){return ga.grep(ga.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;ga.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ga.css(a,"position"),l=ga(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ga.css(a,"top"),i=ga.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ga.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ga.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ga.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ga.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,ga.contains(b,e)?(typeof e.getBoundingClientRect!==ya&&(d=e.getBoundingClientRect()),c=W(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ga.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ga.nodeName(a[0],"html")||(c=a.offset()),c.top+=ga.css(a[0],"borderTopWidth",!0),c.left+=ga.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ga.css(d,"marginTop",!0),left:b.left-c.left-ga.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dc;a&&!ga.nodeName(a,"html")&&"static"===ga.css(a,"position");)a=a.offsetParent;return a||dc})}}),ga.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ga.fn[a]=function(d){return Ea(this,function(a,d,e){var f=W(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?ga(f).scrollLeft():e,c?e:ga(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}}),ga.each(["top","left"],function(a,b){ga.cssHooks[b]=B(ea.pixelPosition,function(a,c){if(c)return c=cb(a,b),eb.test(c)?ga(a).position()[b]+"px":c})}),ga.each({Height:"height",Width:"width"},function(a,b){ga.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ga.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return Ea(this,function(b,c,d){var e;return ga.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ga.css(b,c,g):ga.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ga.fn.size=function(){return this.length},ga.fn.andSelf=ga.fn.addBack,"function"==typeof c&&c.amd&&c("jquery",[],function(){return ga});var ec=a.jQuery,fc=a.$;return ga.noConflict=function(b){return a.$===ga&&(a.$=fc),b&&a.jQuery===ga&&(a.jQuery=ec),ga},ga});var e=e||{};e.cometd={},e.cometd.JSON={},e.cometd.JSON.toJSON=e.cometd.JSON.fromJSON=function(a){throw"Abstract"},e.cometd.Utils={},e.cometd.Utils.isString=function(a){return void 0!==a&&null!==a&&("string"==typeof a||a instanceof String)},e.cometd.Utils.isArray=function(a){return void 0!==a&&null!==a&&a instanceof Array},e.cometd.Utils.inArray=function(a,b){for(var c=0;c<b.length;++c)if(a===b[c])return c;return-1},e.cometd.Utils.setTimeout=function(a,b,c){return window.setTimeout(function(){try{b()}catch(c){a._debug("Exception invoking timed function",b,c)}},c)},e.cometd.Utils.clearTimeout=function(a){window.clearTimeout(a)},e.cometd.TransportRegistry=function(){var a=[],b={};this.getTransportTypes=function(){return a.slice(0)},this.findTransportTypes=function(c,d,e){for(var f=[],g=0;g<a.length;++g){var h=a[g];!0===b[h].accept(c,d,e)&&f.push(h)}return f},this.negotiateTransport=function(c,d,e,f){for(var g=0;g<a.length;++g)for(var h=a[g],i=0;i<c.length;++i)if(h===c[i]){var j=b[h];if(!0===j.accept(d,e,f))return j}return null},this.add=function(c,d,e){for(var f=!1,g=0;g<a.length;++g)if(a[g]===c){f=!0;break}return f||("number"!=typeof e?a.push(c):a.splice(e,0,c),b[c]=d),!f},this.find=function(c){for(var d=0;d<a.length;++d)if(a[d]===c)return b[c];return null},this.remove=function(c){for(var d=0;d<a.length;++d)if(a[d]===c){a.splice(d,1);var e=b[c];return delete b[c],e}return null},this.clear=function(){a=[],b={}},this.reset=function(){for(var c=0;c<a.length;++c)b[a[c]].reset()}},e.cometd.Transport=function(){var a,b;this.registered=function(c,d){a=c,b=d},this.unregistered=function(){a=null,b=null},this._debug=function(){b._debug.apply(b,arguments)},this._mixin=function(){return b._mixin.apply(b,arguments)},this.getConfiguration=function(){return b.getConfiguration()},this.getAdvice=function(){return b.getAdvice()},this.setTimeout=function(a,c){return e.cometd.Utils.setTimeout(b,a,c)},this.clearTimeout=function(a){e.cometd.Utils.clearTimeout(a)},this.convertToMessages=function(a){if(e.cometd.Utils.isString(a))try{return e.cometd.JSON.fromJSON(a)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+a+'"'),b}if(e.cometd.Utils.isArray(a))return a;if(void 0===a||null===a)return[];if(a instanceof Object)return[a];throw"Conversion Error "+a+", typeof "+typeof a},this.accept=function(a,b,c){throw"Abstract"},this.getType=function(){return a},this.send=function(a,b){throw"Abstract"},this.reset=function(){this._debug("Transport",a,"reset")},this.abort=function(){this._debug("Transport",a,"aborted")},this.toString=function(){return this.getType()}},e.cometd.Transport.derive=function(a){function b(){}return b.prototype=a,new b},e.cometd.RequestTransport=function(){function a(a){for(;m.length>0;){var b=m[0],c=b[0],d=b[1];if(c.url!==a.url||c.sync!==a.sync)break;m.shift(),a.messages=a.messages.concat(c.messages),this._debug("Coalesced",c.messages.length,"messages from request",d.id)}}function b(a,b){if(this.transportSend(a,b),b.expired=!1,!a.sync){var c=this.getConfiguration().maxNetworkDelay,d=c;!0===b.metaConnect&&(d+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",c);var e=this;b.timeout=this.setTimeout(function(){b.expired=!0;var c="Request "+b.id+" of transport "+e.getType()+" exceeded "+d+" ms max network delay",f={reason:c},g=b.xhr;f.httpCode=e.xhrStatus(g),e.abortXHR(g),e._debug(c),e.complete(b,!1,b.metaConnect),a.onFailure(g,a.messages,f)},d)}}function c(a){var c=++j,d={id:c,metaConnect:!1};l.length<this.getConfiguration().maxConnections-1?(l.push(d),b.call(this,a,d)):(this._debug("Transport",this.getType(),"queueing request",c,"envelope",a),m.push([a,d]))}function d(a){var b=a.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",b),null!==k&&k.id!==b)throw"Longpoll request mismatch, completing request "+b;k=null}function f(b,d){var f=e.cometd.Utils.inArray(b,l);if(f>=0&&l.splice(f,1),m.length>0){var g=m.shift(),h=g[0],i=g[1];if(this._debug("Transport dequeued request",i.id),d)this.getConfiguration().autoBatch&&a.call(this,h),c.call(this,h),this._debug("Transport completed request",b.id,h);else{var j=this;this.setTimeout(function(){j.complete(i,!1,i.metaConnect);var a={reason:"Previous request failed"},b=i.xhr;a.httpCode=j.xhrStatus(b),h.onFailure(b,h.messages,a)},0)}}}function g(a){if(null!==k)throw"Concurrent metaConnect requests not allowed, request id="+k.id+" not yet completed";var c=++j;this._debug("Transport",this.getType(),"metaConnect send, request",c,"envelope",a);var d={id:c,metaConnect:!0};b.call(this,a,d),k=d}var h=new e.cometd.Transport,i=e.cometd.Transport.derive(h),j=0,k=null,l=[],m=[];return i.complete=function(a,b,c){c?d.call(this,a):f.call(this,a,b)},i.transportSend=function(a,b){throw"Abstract"},i.transportSuccess=function(a,b,c){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&c.length>0?a.onSuccess(c):a.onFailure(b.xhr,a.messages,{httpCode:204}))},i.transportFailure=function(a,b,c){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c))},i.send=function(a,b){b?g.call(this,a):c.call(this,a)},i.abort=function(){h.abort();for(var a=0;a<l.length;++a){var b=l[a];this._debug("Aborting request",b),this.abortXHR(b.xhr)}k&&(this._debug("Aborting metaConnect request",k),this.abortXHR(k.xhr)),this.reset()},i.reset=function(){h.reset(),k=null,l=[],m=[]},i.abortXHR=function(a){if(a)try{a.abort()}catch(a){this._debug(a)}},i.xhrStatus=function(a){if(a)try{return a.status}catch(a){this._debug(a)}return-1},i},e.cometd.LongPollingTransport=function(){var a=new e.cometd.RequestTransport,b=e.cometd.Transport.derive(a),c=!0;return b.accept=function(a,b,d){return c||!b},b.xhrSend=function(a){throw"Abstract"},b.transportSend=function(a,b){this._debug("Transport",this.getType(),"sending request",b.id,"envelope",a);var d=this;try{var f=!0;b.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(a.messages),onSuccess:function(e){d._debug("Transport",d.getType(),"received response",e);var f=!1;try{var g=d.convertToMessages(e);0===g.length?(c=!1,d.transportFailure(a,b,{httpCode:204})):(f=!0,d.transportSuccess(a,b,g))}catch(e){if(d._debug(e),!f){c=!1;var h={exception:e};h.httpCode=d.xhrStatus(b.xhr),d.transportFailure(a,b,h)}}},onError:function(e,g){c=!1;var h={reason:e,exception:g};h.httpCode=d.xhrStatus(b.xhr),f?d.setTimeout(function(){d.transportFailure(a,b,h)},0):d.transportFailure(a,b,h)}}),f=!1}catch(e){c=!1,this.setTimeout(function(){d.transportFailure(a,b,{exception:e})},0)}},b.reset=function(){a.reset(),c=!0},b},e.cometd.CallbackPollingTransport=function(){var a=new e.cometd.RequestTransport,b=e.cometd.Transport.derive(a),c=2e3;return b.accept=function(a,b,c){return!0},b.jsonpSend=function(a){throw"Abstract"},b.transportSend=function(a,b){for(var d=this,f=0,g=a.messages.length,h=[];g>0;){var i=e.cometd.JSON.toJSON(a.messages.slice(f,f+g));if(a.url.length+encodeURI(i).length>c){if(1===g)return void this.setTimeout(function(){d.transportFailure(a,b,{reason:"Bayeux message too big, max is "+c})},0);--g}else h.push(g),f+=g,g=a.messages.length-f}var j=a;if(h.length>1){var k=0,l=h[0];this._debug("Transport",this.getType(),"split",a.messages.length,"messages into",h.join(" + ")),j=this._mixin(!1,{},a),j.messages=a.messages.slice(k,l),j.onSuccess=a.onSuccess,j.onFailure=a.onFailure;for(var m=1;m<h.length;++m){var n=this._mixin(!1,{},a);k=l,l+=h[m],n.messages=a.messages.slice(k,l),n.onSuccess=a.onSuccess,n.onFailure=a.onFailure,this.send(n,b.metaConnect)}}this._debug("Transport",this.getType(),"sending request",b.id,"envelope",j);try{var o=!0;this.jsonpSend({transport:this,url:j.url,sync:j.sync,headers:this.getConfiguration().requestHeaders,body:e.cometd.JSON.toJSON(j.messages),onSuccess:function(a){var c=!1;try{var e=d.convertToMessages(a);0===e.length?d.transportFailure(j,b,{httpCode:204}):(c=!0,d.transportSuccess(j,b,e))}catch(a){d._debug(a),c||d.transportFailure(j,b,{exception:a})}},onError:function(a,c){var e={reason:a,exception:c};o?d.setTimeout(function(){d.transportFailure(j,b,e)},0):d.transportFailure(j,b,e)}}),o=!1}catch(a){this.setTimeout(function(){d.transportFailure(j,b,{exception:a})},0)}},b},e.cometd.WebSocketTransport=function(){function a(){if(!m){m=!0;var a=d.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);try{var b=d.getConfiguration().protocol,c=b?new e.cometd.WebSocket(a,b):new e.cometd.WebSocket(a)}catch(a){throw h=!1,this._debug("Exception while creating WebSocket object",a),a}j=!1!==d.getConfiguration().stickyReconnect;var f=this,g=null,i=d.getConfiguration().connectTimeout;i>0&&(g=this.setTimeout(function(){g=null,f._debug("Transport",f.getType(),"timed out while connecting to URL",a,":",i,"ms");var b={code:1e3,reason:"Connect Timeout"};f.webSocketClose(c,b.code,b.reason),f.onClose(c,b)},i));var k=function(){f._debug("WebSocket opened",c),m=!1,g&&(f.clearTimeout(g),g=null),n?(d._warn("Closing Extra WebSocket Connections",c,n),f.webSocketClose(c,1e3,"Extra Connection")):f.onOpen(c)},l=function(a){a=a||{code:1e3},f._debug("WebSocket closing",c,a),m=!1,g&&(f.clearTimeout(g),g=null),null!==n&&c!==n?f._debug("Closed Extra WebSocket Connection",c):f.onClose(c,a)},o=function(a){f._debug("WebSocket message",a,c),c!==n&&d._warn("Extra WebSocket Connections",c,n),f.onMessage(c,a)};c.onopen=k,c.onclose=l,c.onerror=function(){l({code:1002,reason:"Error"})},c.onmessage=o,this._debug("Transport",this.getType(),"configured callbacks on",c)}}function b(a,b,c){var d=e.cometd.JSON.toJSON(b.messages);a.send(d),this._debug("Transport",this.getType(),"sent",b,"metaConnect =",c);var f=this.getConfiguration().maxNetworkDelay,g=f;c&&(g+=this.getAdvice().timeout,o=!0);for(var h=this,i=[],j=0;j<b.messages.length;++j)!function(){var c=b.messages[j];c.id&&(i.push(c.id),l[c.id]=window.setTimeout(function(){h._debug("Transport",h.getType(),"timing out message",c.id,"after",g,"on",a);var b={code:1e3,reason:"Message Timeout"};h.webSocketClose(a,b.code,b.reason),h.onClose(a,b)},g))}();this._debug("Transport",this.getType(),"waiting at most",g,"ms for messages",i,"maxNetworkDelay",f,", timeouts:",l)}function c(c,d,e){try{null===c?a.call(this):b.call(this,c,d,e)}catch(a){this.setTimeout(function(){d.onFailure(c,d.messages,{exception:a})},0)}}var d,f=new e.cometd.Transport,g=e.cometd.Transport.derive(f),h=!0,i=!1,j=!0,k={},l={},m=!1,n=null,o=!1,p=null;return g.reset=function(){f.reset(),h=!0,i=!1,j=!0,k={},l={},m=!1,n=null,o=!1,p=null},g.onOpen=function(a){this._debug("Transport",this.getType(),"opened",a),n=a,i=!0,this._debug("Sending pending messages",k);for(var c in k){var d=k[c],e=d[0],f=d[1];p=e.onSuccess,b.call(this,a,e,f)}},g.onMessage=function(a,b){this._debug("Transport",this.getType(),"received websocket message",b,a);for(var c=!1,d=this.convertToMessages(b.data),f=[],g=0;g<d.length;++g){var h=d[g];if((/^\/meta\//.test(h.channel)||void 0!==h.successful)&&h.id){f.push(h.id);var i=l[h.id];i&&(this.clearTimeout(i),delete l[h.id],this._debug("Transport",this.getType(),"removed timeout for message",h.id,", timeouts",l))}"/meta/connect"===h.channel&&(o=!1),"/meta/disconnect"!==h.channel||o||(c=!0)}for(var j=!1,m=0;m<f.length;++m){var n=f[m];for(var q in k){var r=q.split(","),s=e.cometd.Utils.inArray(n,r);if(s>=0){j=!0,r.splice(s,1);var t=k[q][0],u=k[q][1];delete k[q],r.length>0&&(k[r.join(",")]=[t,u]);break}}}j&&this._debug("Transport",this.getType(),"removed envelope, envelopes",k),p.call(this,d),c&&this.webSocketClose(a,1e3,"Disconnect")},g.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b),h=j&&i;for(var c in l)this.clearTimeout(l[c]);l={};for(var d in k){var e=k[d][0];k[d][1]&&(o=!1),e.onFailure(a,e.messages,{websocketCode:b.code,reason:b.reason})}k={},n=null},g.registered=function(a,b){f.registered(a,b),d=b},g.accept=function(a,b,c){return h&&!!e.cometd.WebSocket&&!1!==d.websocketEnabled},g.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect =",b);for(var d=[],e=0;e<a.messages.length;++e){var f=a.messages[e];f.id&&d.push(f.id)}k[d.join(",")]=[a,b],this._debug("Transport",this.getType(),"stored envelope, envelopes",k),c.call(this,n,a,b)},g.webSocketClose=function(a,b,c){try{a.close(b,c)}catch(a){this._debug(a)}},g.abort=function(){if(f.abort(),n){var a={code:1001,reason:"Abort"};this.webSocketClose(n,a.code,a.reason),this.onClose(n,a)}this.reset()},g},e.cometd.Cometd=function(a){function b(a,b){try{return a[b]}catch(a){return}}function c(a){return e.cometd.Utils.isString(a)}function d(a){return void 0!==a&&null!==a&&"function"==typeof a}function f(a,b){if(window.console){var c=window.console[a];d(c)&&c.apply(window.console,b)}}function g(a){ga._debug("Configuring cometd object with",a),c(a)&&(a={url:a}),a||(a={}),ya=ga._mixin(!1,ya,a);var b=ga.getURL();if(!b)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var d=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(b),e=d[2],f=d[8],g=d[9];if(ia=ga._isCrossDomain(e),ya.appendMessageTypeToURL)if(void 0!==g&&g.length>0)ga._info("Appending message type to URI "+f+g+" is not supported, disabling 'appendMessageTypeToURL' configuration"),ya.appendMessageTypeToURL=!1;else{var h=f.split("/"),i=h.length-1;f.match(/\/$/)&&(i-=1),h[i].indexOf(".")>=0&&(ga._info("Appending message type to URI "+f+" is not supported, disabling 'appendMessageTypeToURL' configuration"),ya.appendMessageTypeToURL=!1)}}function h(a){if(a){var b=qa[a.channel];b&&b[a.id]&&(delete b[a.id],ga._debug("Removed",a.listener?"listener":"subscription",a))}}function i(a){a&&!a.listener&&h(a)}function j(){for(var a in qa){var b=qa[a];if(b)for(var c=0;c<b.length;++c)i(b[c])}}function k(a){ka!==a&&(ga._debug("Status",ka,"->",a),ka=a)}function l(){return"disconnecting"===ka||"disconnected"===ka}function m(){return++la}function n(a,b,c,e,f){try{return b.call(a,e)}catch(a){ga._debug("Exception during execution of extension",c,a);var g=ga.onExtensionException;if(d(g)){ga._debug("Invoking extension exception callback",c,a);try{g.call(ga,a,c,f,e)}catch(a){ga._info("Exception during execution of exception callback in extension",c,a)}}return e}}function o(a){for(var b=0;b<ta.length&&(void 0!==a&&null!==a);++b){var c=ya.reverseIncomingExtensions?ta.length-1-b:b,e=ta[c],f=e.extension.incoming;if(d(f)){var g=n(e.extension,f,e.name,a,!1);a=void 0===g?a:g}}return a}function p(a){for(var b=0;b<ta.length&&(void 0!==a&&null!==a);++b){var c=ta[b],e=c.extension.outgoing;if(d(e)){var f=n(c.extension,e,c.name,a,!0);a=void 0===f?a:f}}return a}function q(a,b){var c=qa[a];if(c&&c.length>0)for(var e=0;e<c.length;++e){var f=c[e];if(f)try{f.callback.call(f.scope,b)}catch(a){ga._debug("Exception during notification",f,b,a);var g=ga.onListenerException;if(d(g)){ga._debug("Invoking listener exception callback",f,a);try{g.call(ga,a,f,f.listener,b)}catch(a){ga._info("Exception during execution of listener callback",f,a)}}}}}function r(a,b){q(a,b);for(var c=a.split("/"),d=c.length-1,e=d;e>0;--e){var f=c.slice(0,e).join("/")+"/*";e===d&&q(f,b),f+="*",q(f,b)}}function s(){null!==sa&&e.cometd.Utils.clearTimeout(sa),sa=null}function t(a){s();var b=ua.interval+ra;ga._debug("Function scheduled in",b,"ms, interval =",ua.interval,"backoff =",ra,a),sa=e.cometd.Utils.setTimeout(ga,a,b)}function u(a,b,c,e){for(var f=0;f<b.length;++f){var g=b[f],h=""+m();g.id=h,ma&&(g.clientId=ma);var i=void 0;d(g._callback)&&(i=g._callback,delete g._callback),g=p(g),void 0!==g&&null!==g?(g.id=h,b[f]=g,i&&(va[h]=i)):b.splice(f--,1)}if(0!==b.length){var j=ga.getURL();ya.appendMessageTypeToURL&&(j.match(/\/$/)||(j+="/"),e&&(j+=e));var k={url:j,sync:a,messages:b,onSuccess:function(a){try{za.call(ga,a)}catch(a){ga._debug("Exception during handling of messages",a)}},onFailure:function(a,b,c){try{c.connectionType=ga.getTransport().getType(),Aa.call(ga,a,b,c)}catch(a){ga._debug("Exception during handling of failure",a)}}};ga._debug("Send",k),da.send(k,c)}}function v(a){na>0||!0===pa?oa.push(a):u(!1,[a],!1)}function w(){ra=0}function x(){ra<ya.maxBackoff&&(ra+=ya.backoffIncrement)}function y(){++na}function z(){var a=oa;oa=[],a.length>0&&u(!1,a,!1)}function A(){if(--na<0)throw"Calls to startBatch() and endBatch() are not paired";0!==na||l()||pa||z()}function B(){if(!l()){var a={channel:"/meta/connect",connectionType:da.getType()};xa||(a.advice={timeout:0}),k("connecting"),ga._debug("Connect sent",a),u(!1,[a],!0,"connect"),k("connected")}}function C(){k("connecting"),t(function(){B()})}function D(a){a&&(ua=ga._mixin(!1,{},ya.advice,a),ga._debug("New advice",ua))}function E(a){s(),a&&da.abort(),ma=null,k("disconnected"),na=0,w(),da=null,oa.length>0&&(Aa.call(ga,void 0,oa,{reason:"Disconnected"}),oa=[])}function F(a,b,c){var e=ga.onTransportFailure;if(d(e)){ga._debug("Invoking transport failure callback",a,b,c);try{e.call(ga,a,b,c)}catch(a){ga._info("Exception during execution of transport failure callback",a)}}}function G(a,b){d(a)&&(b=a,a=void 0),ma=null,j(),l()?(ja.reset(),D(ya.advice)):D(ga._mixin(!1,ua,{reconnect:"retry"})),na=0,pa=!0,ea=a,fa=b;var c="1.0",e=ga.getURL(),f=ja.findTransportTypes(c,ia,e),g={version:c,minimumVersion:c,channel:"/meta/handshake",supportedConnectionTypes:f,_callback:b,advice:{timeout:ua.timeout,interval:ua.interval}},h=ga._mixin(!1,{},ea,g);if(!da&&!(da=ja.negotiateTransport(f,c,ia,e))){var i="Could not find initial transport among: "+ja.getTransportTypes();throw ga._warn(i),i}ga._debug("Initial transport is",da.getType()),k("handshaking"),ga._debug("Handshake sent",h),u(!1,[h],!1,"handshake")}function H(){k("handshaking"),pa=!0,t(function(){G(ea,fa)})}function I(a){var b=va[a.id];d(b)&&(delete va[a.id],b.call(ga,a))}
function J(a){I(a),r("/meta/handshake",a),r("/meta/unsuccessful",a),l()||"none"===ua.reconnect?E(!1):(x(),H())}function K(a){if(a.successful){ma=a.clientId;var b=ga.getURL(),c=ja.negotiateTransport(a.supportedConnectionTypes,a.version,ia,b);if(null===c){var d="Could not negotiate transport with server; client=["+ja.findTransportTypes(a.version,ia,b)+"], server=["+a.supportedConnectionTypes+"]",e=ga.getTransport();return F(e.getType(),null,{reason:d,connectionType:e.getType(),transport:e}),ga._warn(d),void E(!0)}da!==c&&(ga._debug("Transport",da.getType(),"->",c.getType()),da=c),pa=!1,z(),a.reestablish=wa,wa=!0,I(a),r("/meta/handshake",a);var f=l()?"none":ua.reconnect;switch(f){case"retry":w(),C();break;case"none":E(!1);break;default:throw"Unrecognized advice action "+f}}else J(a)}function L(a){var b="1.0",c=ga.getURL(),d=ga.getTransport(),e=ja.findTransportTypes(b,ia,c),f=ja.negotiateTransport(e,b,ia,c);f?(ga._debug("Transport",d.getType(),"->",f.getType()),F(d.getType(),f.getType(),a.failure),J(a),da=f):(F(d.getType(),null,a.failure),ga._warn("Could not negotiate transport; client=["+e+"]"),E(!0),J(a))}function M(a){r("/meta/connect",a),r("/meta/unsuccessful",a);var b=l()?"none":ua.reconnect;switch(b){case"retry":C(),x();break;case"handshake":ja.reset(),w(),H();break;case"none":E(!1);break;default:throw"Unrecognized advice action"+b}}function N(a){if(xa=a.successful){r("/meta/connect",a);var b=l()?"none":ua.reconnect;switch(b){case"retry":w(),C();break;case"none":E(!1);break;default:throw"Unrecognized advice action "+b}}else M(a)}function O(a){xa=!1,M(a)}function P(a){E(!0),I(a),r("/meta/disconnect",a),r("/meta/unsuccessful",a)}function Q(a){a.successful?(E(!1),I(a),r("/meta/disconnect",a)):P(a)}function R(a){P(a)}function S(a){var b=qa[a.subscription];if(b)for(var c=b.length-1;c>=0;--c){var d=b[c];if(d&&!d.listener){delete b[c],ga._debug("Removed failed subscription",d);break}}I(a),r("/meta/subscribe",a),r("/meta/unsuccessful",a)}function T(a){a.successful?(I(a),r("/meta/subscribe",a)):S(a)}function U(a){S(a)}function V(a){I(a),r("/meta/unsubscribe",a),r("/meta/unsuccessful",a)}function W(a){a.successful?(I(a),r("/meta/unsubscribe",a)):V(a)}function X(a){V(a)}function Y(a){I(a),r("/meta/publish",a),r("/meta/unsuccessful",a)}function Z(a){void 0===a.successful?void 0!==a.data?r(a.channel,a):ga._warn("Unknown Bayeux Message",a):a.successful?(I(a),r("/meta/publish",a)):Y(a)}function $(a){Y(a)}function _(a){if(void 0!==(a=o(a))&&null!==a){D(a.advice);switch(a.channel){case"/meta/handshake":K(a);break;case"/meta/connect":N(a);break;case"/meta/disconnect":Q(a);break;case"/meta/subscribe":T(a);break;case"/meta/unsubscribe":W(a);break;default:Z(a)}}}function aa(a){var b=qa[a];if(b)for(var c=0;c<b.length;++c)if(b[c])return!0;return!1}function ba(a,b){var e={scope:a,method:b};if(d(a))e.scope=void 0,e.method=a;else if(c(b)){if(!a)throw"Invalid scope "+a;if(e.method=a[b],!d(e.method))throw"Invalid callback "+b+" for scope "+a}else if(!d(b))throw"Invalid callback "+b;return e}function ca(a,b,c,d){var e=ba(b,c);ga._debug("Adding",d?"listener":"subscription","on",a,"with scope",e.scope,"and callback",e.method);var f={channel:a,scope:e.scope,callback:e.method,listener:d},g=qa[a];return g||(g=[],qa[a]=g),f.id=g.push(f)-1,ga._debug("Added",d?"listener":"subscription",f),f[0]=a,f[1]=f.id,f}var da,ea,fa,ga=this,ha=a||"default",ia=!1,ja=new e.cometd.TransportRegistry,ka="disconnected",la=0,ma=null,na=0,oa=[],pa=!1,qa={},ra=0,sa=null,ta=[],ua={},va={},wa=!1,xa=!1,ya={protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6e4,interval:0,reconnect:"retry"}};this._mixin=function(a,c,d){for(var e=c||{},f=2;f<arguments.length;++f){var g=arguments[f];if(void 0!==g&&null!==g)for(var h in g){var i=b(g,h),j=b(e,h);if(i!==c&&void 0!==i)if(a&&"object"==typeof i&&null!==i)if(i instanceof Array)e[h]=this._mixin(a,j instanceof Array?j:[],i);else{var k="object"!=typeof j||j instanceof Array?{}:j;e[h]=this._mixin(a,k,i)}else e[h]=i}}return e},this._warn=function(){f("warn",arguments)},this._info=function(){"warn"!==ya.logLevel&&f("info",arguments)},this._debug=function(){"debug"===ya.logLevel&&f("debug",arguments)},this._isCrossDomain=function(a){return a&&a!==window.location.host};var za,Aa;this.send=v,this.receive=_,za=function(a){ga._debug("Received",a);for(var b=0;b<a.length;++b){_(a[b])}},Aa=function(a,b,c){ga._debug("handleFailure",a,b,c),c.transport=a;for(var d=0;d<b.length;++d){var e=b[d],f={id:e.id,successful:!1,channel:e.channel,failure:c};switch(c.message=e,e.channel){case"/meta/handshake":L(f);break;case"/meta/connect":O(f);break;case"/meta/disconnect":R(f);break;case"/meta/subscribe":f.subscription=e.subscription,U(f);break;case"/meta/unsubscribe":f.subscription=e.subscription,X(f);break;default:$(f)}}},this.registerTransport=function(a,b,c){var e=ja.add(a,b,c);return e&&(this._debug("Registered transport",a),d(b.registered)&&b.registered(a,this)),e},this.getTransportTypes=function(){return ja.getTransportTypes()},this.unregisterTransport=function(a){var b=ja.remove(a);return null!==b&&(this._debug("Unregistered transport",a),d(b.unregistered)&&b.unregistered()),b},this.unregisterTransports=function(){ja.clear()},this.findTransport=function(a){return ja.find(a)},this.configure=function(a){g.call(this,a)},this.init=function(a,b){this.configure(a),this.handshake(b)},this.handshake=function(a,b){k("disconnected"),wa=!1,G(a,b)},this.disconnect=function(a,b,c){if(!l()){"boolean"!=typeof a&&(c=b,b=a,a=!1),d(b)&&(c=b,b=void 0);var e={channel:"/meta/disconnect",_callback:c},f=this._mixin(!1,{},b,e);k("disconnecting"),u(!0===a,[f],!1,"disconnect")}},this.startBatch=function(){y()},this.endBatch=function(){A()},this.batch=function(a,b){var c=ba(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(a){throw this._info("Exception during execution of batch",a),this.endBatch(),a}},this.addListener=function(a,b,d){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(a))throw"Illegal argument type: channel must be a string";return ca(a,b,d,!0)},this.removeListener=function(a){if(!(a&&a.channel&&"id"in a))throw"Invalid argument: expected subscription, not "+a;h(a)},this.clearListeners=function(){qa={}},this.subscribe=function(a,b,e,f,g){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(a))throw"Illegal argument type: channel must be a string";if(l())throw"Illegal state: already disconnected";d(b)&&(g=f,f=e,e=b,b=void 0),d(f)&&(g=f,f=void 0);var h=!aa(a),i=ca(a,b,e,!1);if(h){var j={channel:"/meta/subscribe",subscription:a,_callback:g};v(this._mixin(!1,{},f,j))}return i},this.unsubscribe=function(a,b,c){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(l())throw"Illegal state: already disconnected";d(b)&&(c=b,b=void 0),this.removeListener(a);var e=a.channel;if(!aa(e)){var f={channel:"/meta/unsubscribe",subscription:e,_callback:c};v(this._mixin(!1,{},b,f))}},this.resubscribe=function(a,b){if(i(a),a)return this.subscribe(a.channel,a.scope,a.callback,b)},this.clearSubscriptions=function(){j()},this.publish=function(a,b,e,f){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!c(a))throw"Illegal argument type: channel must be a string";if(/^\/meta\//.test(a))throw"Illegal argument: cannot publish to meta channels";if(l())throw"Illegal state: already disconnected";d(b)?(f=b,b=e={}):d(e)&&(f=e,e={});var g={channel:a,data:b,_callback:f};v(this._mixin(!1,{},e,g))},this.getStatus=function(){return ka},this.isDisconnected=l,this.setBackoffIncrement=function(a){ya.backoffIncrement=a},this.getBackoffIncrement=function(){return ya.backoffIncrement},this.getBackoffPeriod=function(){return ra},this.setLogLevel=function(a){ya.logLevel=a},this.registerExtension=function(a,b){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!c(a))throw"Illegal argument type: extension name must be a string";for(var e=!1,f=0;f<ta.length;++f){if(ta[f].name===a){e=!0;break}}return e?(this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1):(ta.push({name:a,extension:b}),this._debug("Registered extension",a),d(b.registered)&&b.registered(a,this),!0)},this.unregisterExtension=function(a){if(!c(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,e=0;e<ta.length;++e){var f=ta[e];if(f.name===a){ta.splice(e,1),b=!0,this._debug("Unregistered extension",a);var g=f.extension;d(g.unregistered)&&g.unregistered();break}}return b},this.getExtension=function(a){for(var b=0;b<ta.length;++b){var c=ta[b];if(c.name===a)return c.extension}return null},this.getName=function(){return ha},this.getClientId=function(){return ma},this.getURL=function(){if(da&&"object"==typeof ya.urls){var a=ya.urls[da.getType()];if(a)return a}return ya.url},this.getTransport=function(){return da},this.getConfiguration=function(){return this._mixin(!0,{},ya)},this.getAdvice=function(){return this._mixin(!0,{},ua)},e.cometd.WebSocket=window.WebSocket,e.cometd.WebSocket||(e.cometd.WebSocket=window.MozWebSocket)},"function"==typeof c&&c.amd&&c("org/cometd",[],function(){return e.cometd}),function(){function a(a,b){function c(a,b){if(b)for(var c in b)"content-type"!==c.toLowerCase()&&a.setRequestHeader(c,b[c])}function e(){var d=new b.LongPollingTransport,e=b.Transport.derive(d);return e.xhrSend=function(b){return a.ajax({url:b.url,async:!0!==b.sync,type:"POST",contentType:"application/json;charset=UTF-8",data:b.body,xhrFields:{withCredentials:!0},beforeSend:function(a){return c(a,b.headers),!0},success:b.onSuccess,error:function(a,c,d){b.onError(c,d)}})},e}function f(){var d=new b.CallbackPollingTransport,e=b.Transport.derive(d);return e.jsonpSend=function(b){a.ajax({url:b.url,async:!0!==b.sync,type:"GET",dataType:"jsonp",jsonp:"jsonp",data:{message:b.body},beforeSend:function(a){return c(a,b.headers),!0},success:b.onSuccess,error:function(a,c,d){b.onError(c,d)}})},e}return b.JSON.toJSON=d.stringify,b.JSON.fromJSON=d.parse,a.Cometd=function(a){var c=new b.Cometd(a);return b.WebSocket&&c.registerTransport("websocket",new b.WebSocketTransport),c.registerTransport("long-polling",new e),c.registerTransport("callback-polling",new f),c},a.cometd=new a.Cometd,a.cometd}"function"==typeof c&&c.amd?c("jquery.cometd",["jquery","org/cometd"],a):a(jQuery,e.cometd)}(),function(a,d){"function"==typeof c&&c.amd?c("notificationAgentModule",["jquery","jquery.cometd"],d):"object"==typeof exports?module.exports=d(b("jquery"),b("jquery.cometd")):a.NotificationAgentModule=d(a.$)}(this,function(a){return function(){var c=void 0;return this.jQuery=a,function(a,d){"function"==typeof c&&c.amd?c(["jquery"],d):"object"==typeof exports?(void 0).exports=d(b("jquery")):a.NotificationMessageHandler=d(a.jQuery)}(this,function(a){function b(b,c){function e(a){c.errorFunc("NotificationMessageHandler: "+a)}function f(a){c.logFunc("NotificationMessageHandler: "+a)}function g(a){f("checkRelativeAndGetAbsolute: "+a);var c=a;return 0!==a.indexOf("http")&&(c=b.currentEndpoint+a),f("checkRelativeAndGetAbsolute result: "+c),c}function h(a,b){var c,d=a.split("."),e=d.pop(),f=window;for(c=0;c<d.length;c+=1)f=f[d[c]];return f[e].apply(f,b)}var i=this;this["gpe.appendContent"]=function(b){var c,h;if(void 0===b)return void e('appendContent: "data" field should be defined');if(f("appendContent with data:"+d.stringify(b)),""===a.trim(b.url))return void e("appendContent: url is empty");c=g(b.url),h={type:"GET",url:c,success:function(c){f("gpe.appendContent success: append data to container: "+b.container);try{a(b.container).append(c)}catch(a){e("gpe.appendContent: "+a.message)}}},"GET"!==b.method&&(h.dataType="jsonp"),""===a.trim(b.container)&&(b.container="body");try{a.ajax(h)}catch(a){e("gpe.appendContent: "+a.message)}},this["gpe.setVariable"]=function(b){if(void 0===b)return void e('gpe.setVariable: "data" field should be defined');f("gpe.setVariable with options: "+d.stringify(b));var c,g=b.variable,h=b.value,i=window;if("string"!=typeof g)return void e("gpe.setVariable: variableName "+g+" is not a string");if(""===a.trim(g))return void e("gpe.setVariable: variableName "+g+" is empty");c=g.split(".");try{a.each(c,function(a,b){i[b]=i[b]||{},a!==c.length-1?i=i[b]:i[b]=h})}catch(a){e("Unable to set packaged variable : "+a)}},this["gpe.callFunction"]=function(b){if(void 0===b)return void e('callFunction: "data" field should be defined');if(f("NotificationMessageHandler callFunction: "+d.stringify(b)),""===a.trim(b.function)||"string"!=typeof b.function)return void e("NotificationMessageHandler callFunction: function to call is empty");try{h(b.function,b.arguments)}catch(a){e("callFunction error: "+a.message)}},this.handleMessage=function(b){b&&a.isPlainObject(b)&&(f("start handle message:"+d.stringify(b)),f("execute:"+b.channel),i[b.channel]&&i[b.channel](b.data))}}return b}),function(a,b){a.NotificationAgent=b(a.NotificationMessageHandler,a.jQuery)}(this,function(a,b){function c(c,e,f,g,h){function i(a){e.errorFunc("NotificationAgent: "+a)}function j(a){e.logFunc("NotificationAgent: "+a)}function k(){var a="/notification/"+g.getVar(e.cookieVisitID),b={pageID:e.internal.pageID};j("NotificationAgent subscribed to url: "+a+"  additional:"+d.stringify(b)),w.subscribe(a,f.notificationCallback,b)}function l(){k()}function m(){j("Connection to Server is Closed")}function n(a){j("disableUnusedTransports currentTransport = "+a),b.each(w.getTransportTypes(),function(b,c){a!==c&&(w.unregisterTransport(c),j("disableUnusedTransports transport disabled: "+c))})}function o(){j("Connection to Server has been Established"),w&&w.getTransport&&w.getTransport().getType&&(j("COMETD TRANSPORT = "+w.getTransport().getType()),e.disableUnusedTransports&&n(w.getTransport().getType()))}function p(){j("Connection to Server is Broken")}function q(a){a.successful&&l()}function r(a){if(y)x=!1,m();else{var b=x;x=!0===a.successful,!b&&x?o():b&&!x?p():j("metaConnect wasConnected:"+b+" _connected:"+x)}}function s(a){return""===b.trim(a.channel)&&"string"!=typeof a.channel?(i("message channel is empty or incorrect syntax:"+d.stringify(a)),!1):""!==b.trim(a.page)||"string"==typeof a.page||(i("message page is empty or incorrect syntax:"+d.stringify(a)),!1)}function t(a){return j("checkPageIsCorrect: "+a),A.ALL_PAGES_ALLOWED===a||(A.ACTIVE_PAGE_ALLOWED===a?window.document.hasFocus():e.internal.pageID===a||(j("Page ID not correct - current Page ID = "+e.internal.pageID),!1))}function u(a){var c=[],d=[];if(!b.isArray(a))return void j("initCometdTransorts transports options should be an array. Default transports used");b.each(a,function(a,e){return e?b.isPlainObject(e)?void(w.registerTransport(e.type,e.transport)?(d.push(e.type),j('initCometd new transport "'+e.type+'" has been registered')):i('initCometd Unable to register a new transport "'+e.type+'"')):"string"==typeof e&&b.trim(e)?void c.push(e):void i('initCometd Unsupported Transport Configuration "'+e+'" Transport should be a String("websoket", "long-polling" etc.) or an Object( {type : [String], transport: [transport implementation]} )'):void i("initCometd CometD transport is empty")}),b.each(w.getTransportTypes(),function(a,e){-1===b.inArray(e,c)&&-1===b.inArray(e,d)&&w.unregisterTransport(e)}),j("initCometd Registered CometD transports : "+w.getTransportTypes())}function v(){var a=h.getBrowserInfo(),f={url:c.urlCometdURL+"?split=1",logLevel:"warn",appendMessageTypeToURL:!1},g=b.extend(!0,{},f,e.cometdConfig);if(e.debugCometD&&(g.logLevel="debug"),j("initCometd: "+d.stringify(g)+" defaultCometdConfig: "+d.stringify(f)+" config.cometdConfig: "+d.stringify(e.cometdConfig)),w.configure(g),e.cometdConfig.transports){if(0===e.cometdConfig.transports.length)return;u(e.cometdConfig.transports)}else w.websocketEnabled=!e.disableWebSockets,e.disableWebSockets&&w.unregisterTransport("websocket");"Safari"===a.name&&0===a.version.indexOf("5.0")&&(w.websocketEnabled=!1),w.withCredentials=!1,w.addListener("/meta/handshake",q),w.addListener("/meta/connect",r),w.handshake(),b(window).unload(function(){w.disconnect()})}var w=new b.Cometd,x=!1,y=null,z=new a(c,e),A={ALL_PAGES_ALLOWED:"all",ACTIVE_PAGE_ALLOWED:"active"};this.fireNotificationMessageEvent=function(a){j("fire notificationMessage event");var d=b.proxy(z.handleMessage,z);c.callbacks.notificationMessage.add(d),c.callbacks.notificationMessage.fireWith(window,[a]),c.callbacks.notificationMessage.remove(d)},this.onMessageReceive=function(a){if(a&&a.data){var c,f,g=a.data;for(j("onMessageReceive: "+d.stringify(g)),b.isArray(g)||i("onCommandsReceive commands should be array"),c=0;c<g.length;c+=1){if(f=g[c],!s(f))return;if(!t(f.page))return void j("not correct page: "+g.page+" current page: "+e.internal.pageID);this.fireNotificationMessageEvent(f)}}else i("onMessageReceive: message is empty or data not provided")},this.init=function(){j("init..."),v(),j("has been initialized")}}return c}),this.NotificationAgent}.call({})}),function(a,d){"function"==typeof c&&c.amd?c("dist/modules/trackerApplicationModule.js",["URI","jquery","notificationAgentModule"],d):"object"==typeof exports?module.exports=d(b("URI"),b("jquery"),b("notificationAgentModule")):a.TrackerApplicationModule=d(a.URI,a.$,a.NotificationAgentModule)}(this,function(a,c,e){return function(){var f=void 0,g=void 0;return this.URI=a,this.jQuery=c,this.NotificationAgentModule=e,function(a,c){"function"==typeof f&&f.amd?f(["jquery"],c):"object"==typeof exports?g.exports=c(b("jquery")):a.utility=c(a.jQuery)}(this,function(a){function b(){function b(a,b){return void 0!==a.attributes[b]}function c(a,c){var d,e=window.document.getElementsByTagName(a);if(0===e.length)return null;for(d=0;d<e.length;d+=1)if(b(e[d],c))return e[d];return null}this.getBrowserInfo=function(){var a=window.navigator.appName,b=window.navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),d=b.match(/version\/([\.\d]+)/i);return c&&d&&(c[2]=d[1]),c?{name:c[1],family:parseInt(c[2].substring(0,c[2].indexOf(".")),10),version:c[2]}:{name:a,family:"?",version:window.navigator.appVersion}},this.sleep=function(a){for(var b=new Date,c=new Date;c-b<a;)c=new Date},this.generateUUID=function(){var a=window.crypto||window.msCrypto;return a&&a.getRandomValues&&window.Uint32Array&&"function"==typeof window.Uint32Array?this.generateUUIDCrypto():this.generateUUIDRandom()},this.replaceCharAt=function(a,b,c){var d=a.split("");return d[b]=c,d.join("")},this.generateUUIDRandom=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var b=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a();return b=this.replaceCharAt(b,14,"4"),b=this.replaceCharAt(b,19,"8")},this.generateUUIDCrypto=function(){var a,b,c,d=window.crypto||window.msCrypto;return b=new Uint16Array(8),d.getRandomValues(b),a=function(a){for(var b=a.toString(16);b.length<4;)b="0"+b;return b},c=a(b[0])+a(b[1])+"-"+a(b[2])+"-"+a(b[3])+"-"+a(b[4])+"-"+a(b[5])+a(b[6])+a(b[7]),c=this.replaceCharAt(c,14,"4"),c=this.replaceCharAt(c,19,"8")},this.parseJSON=function(a){var b;try{b=d.parse(a)}catch(b){window&&window.console&&window.console.log("ERROR parseJSON: invalid JSON: "+a,b)}return b},this.parseXML=function(a){if(!a||"string"!=typeof a)return null;var b,c;try{window.DOMParser?(c=new window.DOMParser,b=c.parseFromString(a,"text/xml")):(b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(a){b=void 0}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||(window&&window.console&&window.console.log("ERROR parseXML: invalid XML: "+a),b=void 0),b},this.sendFormPost=function(a,b){var c,d,e,f,g="__frameSend__"+1e17*Math.random(),h=this.getBrowserInfo();"msie"===h.name.toLowerCase()&&h.family<9?c=window.document.createElement('<iframe name="'+g+'"/>'):(c=window.document.createElement("iframe"),c.setAttribute("name",g)),c.style.display="none",d=window.document.createElement("form"),d.setAttribute("method","POST"),d.setAttribute("target",g),d.setAttribute("action",a),d.setAttribute("accept-charset","utf-8"),e=window.document.createElement("input"),e.setAttribute("type","hidden"),e.setAttribute("name","event"),e.setAttribute("value",b),d.appendChild(e),f=window.document.createElement("input"),f.setAttribute("type","submit"),f.setAttribute("onClick","this.form.submit()"),f.style.display="none",d.appendChild(f),window.document.body.appendChild(d),window.document.body.appendChild(c),f.click()},this.loadJS=function(a){var b,c=window.document.createElement("script");c.type="text/javascript",c.src=a,c.async=!1,c.onload=function(){c.onload=null},b=window.document.getElementsByTagName("head"),b.length>0?b[0].appendChild(c):window.document.body.appendChild(c)},this.loadJSCallback=function(a,b){var c=window.document.createElement("script");c.type="text/javascript",c.async=!0,c.readyState?c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onreadystatechange=null,b&&b())}:c.onload=function(){b&&b()},c.src=a,window.document.getElementsByTagName("head")[0].appendChild(c)},this.loadCSS=function(a){var b,c=window.document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,c.async=!1,b=window.document.getElementsByTagName("head"),b.length>0?b[0].appendChild(c):window.document.body.appendChild(c)},this.isXMLHttpRequestAvailable=function(a){if(a&&a.XMLHttpRequest){if(void 0!==(new a.XMLHttpRequest).withCredentials)return!0}return!1},this.sendUsingIMG=function(a,b,c){var d,e=window.document.createElement("img");e.src=a,e.style.display="none",e.onload=function(){e.onload=null,b&&b()},e.onerror=function(){e.onerror=null,c&&c()},d=window.document.getElementsByTagName("head"),d.length>0?d[0].appendChild(e):window.document.body.appendChild(e)},this.sendBeacon=function(a,b){return window.navigator.sendBeacon(a,b)},this.sendAjaxGET=function(b,c,d){a.ajax({method:"GET",type:"GET",url:b,contentType:"text/plain;charset=UTF-8",dataType:"jsonp",async:!0,crossDomain:!0,xhrFields:{withCredentials:!0},beforeSend:function(a){return a.withCredentials=!0,!0},success:function(a){c&&c(a)},error:function(a,b,c){d&&d(a,b,c)}})},this.sendAjaxPOST=function(b,c,d,e){a.ajax({method:"POST",type:"POST",url:b,data:c,contentType:"text/plain;charset=UTF-8",async:!0,crossDomain:!0,xhrFields:{withCredentials:!0},beforeSend:function(a){return a.withCredentials=!0,!0},success:function(){d&&d()},error:function(a,b,c){e&&e(a,b,c)}})},this.getUrlVars=function(a){var b,c,d=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(c=0;c<e.length;c+=1)b=e[c].split("="),d.push(b[0]),d[b[0]]=b[1];return d[a]},this.bind=function(b,c,d,e){if(a.prototype.on)a(window.document).on(c,b,e,d);else if(a.prototype.delegate)a(window.document).delegate(b,c,e,d);else{if(!a.prototype.bind)throw"Cannot bind event";a(b).bind(c,e,d)}},this.isSecure=function(a){return!(!a||0!==a.toLowerCase().indexOf("https"))},this.locationRealod=function(){window.location.reload()},this.getVariableNameByScriptAttrName=function(a,b,d){var e,f=c(a,b);return f&&(e=f.getAttribute(b)),e||d},this.getVariableFromGlobalScopeByName=function(a){var b,c=a.split("."),d=c.length,e=window;for(b=0;b<d;b+=1)e=e[c[b]];return e},this.createVaiableByName=function(a,b){var c,d=b.split("."),e=a,f=d.length;for(c=0;c<f;c+=1)e[d[c]]||(e[d[c]]={}),e=e[d[c]];return e},this.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a))+a},this.replaceSpecialChars=function(a,b){var c="";return b&&(c=b),a&&"string"==typeof a?a.replace(/[&\/|\\\\#,+()$~%.'":*?<@>\\{\\}]/g,c):a},this.evaluate=function(b,c){return b="return "+b+";",window.Function("window","document","$","event",b).call(null,window,document,a,c)},this.getHostnameFromUrl=function(a){if(a){var b=document.createElement("a");return b.href=a,b.hostname}}}return new b}),function(a,b){"function"==typeof f&&f.amd?f([],b):"object"==typeof exports?g.exports=b():a.cookies=b()}(this,function(){return function(){var a=function(b,c,d){return 1===arguments.length?a.get(b):a.set(b,c,d)};return a.get=function(b){return a._populateCache(),a._cache[b]},a.defaults={path:"/"},a.set=function(b,c,e){var f,g,h,i,j={path:e&&e.path||a.defaults.path,domain:e&&e.domain||a.defaults.domain,expires:e&&e.expires||a.defaults.expires,secure:e&&void 0!==e.secure?e.secure:a.defaults.secure};if("function"!=typeof c){if(void 0===c&&(j.expires=-1),"string"!=typeof c){if("object"!=typeof d||null===d||"function"!=typeof d.stringify)throw new Error("cookies.set() received non-string value and could not serialize.");c=d.stringify(c)}switch(typeof j.expires){case"number":j.expires=new Date((new Date).getTime()+1e3*j.expires);break;case"string":j.expires=new Date(j.expires)}f=j.path?";path="+j.path:"",g=j.domain?";domain="+encodeURIComponent(j.domain):"",h=j.expires?";expires="+j.expires.toGMTString():"",i=j.secure?";secure":"",document.cookie=[encodeURIComponent(b),"=",encodeURIComponent(String(c)),f,g,h,i].join("")}return a},a.expire=function(b,c){return a.set(b,void 0,c)},a._populateCache=function(){a._cache={};var b,c=document.cookie.split("; ");for(b=0;b<c.length;b++){var d=c[b].indexOf("="),e=c[b].substr(0,d),f=c[b].substr(d+1);try{var g=decodeURIComponent(e),h=decodeURIComponent(f);void 0===a._cache[g]&&(a._cache[g]=h)}catch(b){void 0===a._cache[e]&&(a._cache[e]=f)}}},a.enabled=function(){var b="1"===a.set("cookies.js","1").get("cookies.js");return a.expire("cookies.js"),b}(),a}()}),function(a,c){"function"==typeof f&&f.amd?f(["./utility","jquery"],c):"object"==typeof exports?g.exports=c(b("./utility"),b("jquery")):a.TrackerCore=c(a.utility,a.jQuery)}(this,function(a,b){function c(c,d,e,f,g,h,i,j){function k(a){d.errorFunc("TrackerCore: "+a)}function l(a){d.logFunc("TrackerCore: "+a)}function m(){d.httpEndpoint&&d.httpsEndpoint?"https:"===window.document.location.protocol?c.currentEndpoint=d.httpsEndpoint:c.currentEndpoint=d.httpEndpoint:d.httpsEndpoint?c.currentEndpoint=d.httpsEndpoint:c.currentEndpoint=d.httpEndpoint,c.urlTrackerServer=c.currentEndpoint+c.MONITORING_URL_PATH_EVENTS,c.urlCometdURL=c.currentEndpoint+"/server/cometd",d.httpsEndpoint?c.urlUserDataServer=d.httpsEndpoint+c.MONITORING_URL_PATH_EVENTS:c.urlUserDataServer=d.httpEndpoint+c.MONITORING_URL_PATH_EVENTS,d.internal.$=b,d.internal.currentEndpoint=c.currentEndpoint,d.autoUpdateCookieName&&o()}function n(a,b,c){if(b&&a&&a!==b){var f=e.getVar(b);f&&(e.setVar(a,f,c),e.removeVar(b,{domain:d.domainName}))}}function o(){[[d.cookieGlobalVisitID,c.PREV_COOKIE_GLOBAL_VISIT_ID,!0],[d.cookieVisitID,c.PREV_COOKIE_VISIT_ID,!1]].forEach(function(a){n(a[0],a[1],a[2])})}function p(){d.disableAutoSystemEvents||f.pageExit()}function q(){window.addEventListener&&(window.addEventListener("beforeunload",p,!1),window.addEventListener("onunload",p,!1),window.addEventListener("unload",p,!1)),window.attachEvent&&(window.attachEvent("onbeforeunload",p),window.attachEvent("onunload",p))}function r(a){var b=!1;a.eventName===c.EVENT_PAGE_ENTER&&(b=!0,window.setTimeout(function(){b&&(j.restartTimeoutEvents(),b=!1)},0))}function s(){var b,e;try{if(window.localStorage&&(b=window.localStorage[c.STORAGE_DSL]))return l("DSL has been loaded from localStorage"),void i.setDSL(b)}catch(a){l("TrackerCore don not have access to window.localStorage: "+a.message)}void 0===b&&d.dslResource&&(e=d.dslResource+"?obj="+c.GLOBAL_TRACKER_OBJECT_NAME+"&callback=setDSL",l("TrackerCore load DSL from url: "+e),a.loadJS(e))}function t(){var b=c.currentEndpoint+c.MONITORING_URL_PATH_AGGREGATION;b+="?obj="+c.GLOBAL_TRACKER_OBJECT_NAME+"&callback=setAggregationData",b+="&service=dsl",d.loadTags?b+="&service=tags":l("Tags load was disabled."),b+=u(),l("Loading Aggregation data from url: "+b),a.loadJS(b)}function u(){var a="&service=ids";return e.getVar(d.cookieGlobalVisitID)&&(a+="&ids_globalVisitID="+e.getVar(d.cookieGlobalVisitID),e.getVar(d.cookieVisitID)&&(a+="&ids_visitID="+e.getVar(d.cookieVisitID))),a}function v(a,b){var c=e.getVar(d.cookieVisitID),g=e.getVar(d.cookieGlobalVisitID);a&&g!==a&&(l("Global Visit ID = "+a),e.setVar(d.cookieGlobalVisitID,a,!0)),b&&b!==c&&(l("Visit ID = "+b),e.setVar(d.cookieVisitID,b,!1),d.disableAutoSystemEvents||f.VisitStart())}function w(){l("INITIALIZATION PARAMETERS:"),l("GLOBAL VISIT ID = "+e.getVar(d.cookieGlobalVisitID)),l("VISIT ID = "+e.getVar(d.cookieVisitID)),l("PAGE ID = "+d.internal.pageID)}this.init=function(){if(l("init()"),e.isCookiesEnabled()||k("Cookies is disabled in browser! Tracker is working without cookies persistence"),d.domainName&&-1===window.location.host.indexOf(d.domainName))return void k("Domain in configuration: "+d.domainName+" did not match current domain: "+window.location.host);g.init(),m(),q(),c.callbacks.beforeSendEvent.add(r),b(window.document).ready(function(){l("$(document).ready"),s(),t()})},this.onTrackerReady=function(){l("onTrackerReady()"),w(),d.internal.visitID=e.getVar(d.cookieVisitID),d.internal.globalVisitID=e.getVar(d.cookieGlobalVisitID),h&&!d.disableNotification&&h.init(),d.disableAutoSystemEvents||f.pageEnter(),d.enableCampaignTracking&&f.campaignTracking()},this.setVisitIds=function(a){a&&a.globalVisitID&&a.visitID&&v(a.globalVisitID,a.visitID)}}return c}),function(a,c){"function"==typeof f&&f.amd?f(["./utility","jquery"],c):"object"==typeof exports?g.exports=c(b("./utility"),b("jquery")):a.TrackerSystem=c(a.utility,a.jQuery)}(this,function(b,c){function e(e,f,g,h,i){function j(a){f.logFunc("System: "+a)}function k(){return c.isFunction(f.page.url)?f.page.url():f.page.url}function l(){return c.isFunction(f.page.title)?f.page.title():f.page.title}function m(){return c.isFunction(f.page.referrer)?f.page.referrer():f.page.referrer}function n(b){var c=!1,d=b.readable();return d&&(c=!f.ignoreReferrals.some(function(b){return-1!==d.indexOf(a(b).readable())})),c}var o=this,p=!1,q=!1;this.generateRequestUrl=function(a,c){var f;return f=this.isUserEvent(a)?e.urlUserDataServer:e.urlTrackerServer,f+="?rid="+b.getRandomInt(1e16,1e17),c&&(f+="&event="+encodeURIComponent(d.stringify(a))),f},this.createPageEnteredEvent=function(){var a,c=new Date;return q?f.internal.pageID=b.generateUUID():q=!0,a=o.createEvent(e.EVENT_SYSTEM,e.EVENT_PAGE_ENTER),a.data.urlReferrer=m(),a.data.localTime=c.toString(),a.data.title=l(),a.data.domain=b.getHostnameFromUrl(k()),a},this.pageEnter=function(){o.sendEvent(o.createPageEnteredEvent())},this.createCampaignTrackingEvent=function(b,c){var d=o.createEvent(e.EVENT_BUSINESS,e.EVENT_CAMPAIGN),f=a.parseQuery(b.query());return e.CAMPAIGN_TRACKER_ALLOWED_QUERIES.forEach(function(a){var b=e.CAMPAIGN_TRACKER_NAMESPACE+a;b in f&&(d.data[a]=f[b])}),d.data.referrer=c.toString(),d},this.sendCampaignTrackingEvent=function(a,b){this.sendEvent(this.createCampaignTrackingEvent(a,b))},this.campaignTracking=function(){var b,c=new a(k());c.hasQuery(e.CAMPAIGN_TRACKER_REQUIRED_PARAM)&&(b=new a(m()),this.sendCampaignTrackingEvent(c,b))},this.createReferrerEvent=function(a){var b=this.createEvent(e.EVENT_BUSINESS,e.EVENT_REFERRER);return b.data.domain=a.domain(),b.data.host=a.hostname(),b.data.url=a.toString(),b},this.sendReferrerEvent=function(a){this.sendEvent(this.createReferrerEvent(a))},this.referrerTracking=function(){var b=new a(m());n(b)&&this.sendReferrerEvent(b)},this.createPageExitedEvent=function(){return o.createEvent(e.EVENT_SYSTEM,e.EVENT_PAGE_EXIT)},this.pageExit=function(){p||(p=!0,o.sendEvent(o.createPageExitedEvent()))},this.createVisitStartedEvent=function(){var a=o.createEvent(e.EVENT_SYSTEM,e.EVENT_VISIT_START);return a.data.userAgent=window.navigator.userAgent,a.data.screenResolution=window.screen.width+"x"+window.screen.height,
a.data.language=window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||window.navigator.systemLanguage,a.data.timezoneOffset=60*(new Date).getTimezoneOffset()*1e3,a.data.origin=b.getHostnameFromUrl(m()),a.data.domain=b.getHostnameFromUrl(k()),a},this.VisitStart=function(){o.sendEvent(o.createVisitStartedEvent())},this.VisitEnd=function(){var a=o.createEvent(e.EVENT_SYSTEM,e.EVENT_VISIT_END);o.sendEvent(a)},this.createEvent=function(a,c){var d,e=new Date;return d={eventType:a,eventName:c,eventID:b.generateUUID(),pageID:f.internal.pageID,timestamp:e.getTime(),category:"",url:k(),languageCode:f.languageCode},g.getVar(f.cookieGlobalVisitID)&&(d.globalVisitID=g.getVar(f.cookieGlobalVisitID)),g.getVar(f.cookieVisitID)&&(d.visitID=g.getVar(f.cookieVisitID)),d.data={},d},this.isUserEvent=function(a){return a.eventName===e.EVENT_SIGN_IN||a.eventName===e.EVENT_SIGN_OUT||a.eventName===e.EVENT_USER_INFO},this.isBigEvent=function(a){return this.generateRequestUrl(a,!0).length>f.bigUrlLength&&(j("isBigEvent = true"),!0)},this.fireSendEvent=function(a){j("fire beforeSendEvent event");var b=c.proxy(i.sendEventAPI,i),d=c.proxy(this.sendEventToServer,this);e.callbacks.beforeSendEvent.add(b),e.callbacks.beforeSendEvent.add(d),e.callbacks.beforeSendEvent.fireWith(window,[a]),e.callbacks.beforeSendEvent.remove(b),e.callbacks.beforeSendEvent.remove(d)},this.sendEvent=function(a){j("Send event: "+a.eventName),h.categorize(a),this.fireSendEvent(a)},this.sendEventToServer=function(a){j("sendEventToServer: "+d.stringify(a));var c=this.generateRequestUrl(a,!1);if(window.navigator&&window.navigator.sendBeacon&&!f.disableBeaconEventTransport){j("sendEventToServer transport: sendBeacon");try{b.sendBeacon(c,d.stringify(a))?j("event "+a.eventName+" has been send successfully"):(j("sendEventToServer sendBeacon = false"),f.disableBeaconEventTransport=!0,this.sendEventToServer(a))}catch(b){j("sendEventToServer sendBeacon error:"+b.message),f.disableBeaconEventTransport=!0,this.sendEventToServer(a)}}else this.isUserEvent(a)||this.isBigEvent(a)?(j("sendEventToServer POST"),b.isXMLHttpRequestAvailable(window)?(j("sendEventToServer transport: XMLHttpRequest POST"),b.sendAjaxPOST(c,d.stringify(a),function(){j("event "+a.eventName+" has been send successfully")},function(b,c){j("event "+a.eventName+" request failed: "+c)})):(j("sendEventToServer transport: Form POST"),b.sendFormPost(c,d.stringify(a)))):(j("sendEventToServer transport: image"),b.sendUsingIMG(this.generateRequestUrl(a,!0),function(){j("event "+a.eventName+" has been send successfully")},function(){j("event "+a.eventName+" request failed")}))}}return e}),function(a,c){"function"==typeof f&&f.amd?f(["cookies"],c):"object"==typeof exports?g.exports=c(b("cookies")):a.TrackerPersistence=c(a.cookies)}(this,function(a){function b(b,c){var d={};this.getVar=function(b){var c;return this.isCookiesEnabled()&&(c=a.get(b)),!c&&d[b]&&(c=d[b]),c},this.setVar=function(b,e,f){if(this.isCookiesEnabled()){var g={domain:c.domainName,secure:c.secureCookie,expires:c.cookieExpires};if(f){var h=94608e3;g.expires?g.expires+=h:g.expires=h}a.set(b,e,g)}return d[b]=e,e},this.removeVar=function(b,c){this.isCookiesEnabled()&&a.expire(b,c),delete d[b]},this.isCookiesEnabled=function(){var a=!!window.navigator.cookieEnabled;return void 0!==window.navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!==document.cookie.indexOf("testcookie")),a}}return b}),function(a,c){"function"==typeof f&&f.amd?f(["./utility","jquery"],c):"object"==typeof exports?g.exports=c(b("./utility"),b("jquery")):a.TrackerBusiness=c(a.utility,a.jQuery)}(this,function(a,b){function c(c,d,e,f){function g(a){d.errorFunc("TrackerBusiness: "+a)}function h(a){d.logFunc("TrackerBusiness: "+a)}function i(b,c){try{return a.evaluate(b,c)}catch(a){h("Exception during evaluation process: "+a.message+" expression: "+b)}}function j(a){return u[a].triggers.every(function(a){return!(a.count>a.counter)})}function k(a){u[a].triggers.forEach(function(b){b.counter=0,f.removeVar(a+"_"+b.name)})}function l(a,b){var d,f=u[a],g=e.createEvent(c.EVENT_BUSINESS,f.name);f.values.forEach(function(a){var b;a.value&&(b=i(a.value)||"",g.data[a.name]=b)}),f.triggers.forEach(function(a){(a.values||[]).forEach(function(a){a.result&&(g.data[a.name]=a.result)})}),d=f.postcondition,d?i(d,b)?e.sendEvent(g):h("Post-Condition has false result. The Event has been handled without sending"):e.sendEvent(g)}function m(a,b,c){var d,e,g,m,n,o,p,r;if(u[a]&&(r=u[a].triggers.map(function(a){return a.name}),-1!==(o=r.indexOf(b))&&(d=u[a],e=d.triggers[o],!(e.after&&(p=d.triggers.map(function(a){return a.name}).indexOf(e.after),(n=d.triggers[p])&&n.counter<n.count))&&(h("triggerHandler: current event name="+d.name+" trigger="+b+" event="+c),e.counter+=1,e.values.forEach(function(a){a.value&&(m=i(a.value,c),a.result=void 0!==m?m:"")}),e.persistence&&f.setVar(a+"_"+b,u[a].triggers[o].counter,!1),j(a)&&(k(a),l(a,c)),e.counter>=e.count))))for(g in d.triggers)d.triggers.hasOwnProperty(g)&&d.triggers[g].after===b&&q(d.triggers[g],d)}function n(a,c){var d,e,f=c.action.split(":")[1],i=b(c.element?c.element:document);return"timeout"===c.type?d=window.setTimeout(function(){m(a.id,c.name,c.type)},f):"nomove"===c.type?(d=window.setTimeout(function(){m(a.id,c.name,c.type)},f),e="mousemove."+a.id+" keypress."+a.id,b(document).on(e,function(){h("createTimerEvent - clear nomove timer "+c.name),window.clearTimeout(d),d=window.setTimeout(function(){m(a.id,c.name,c.type),b(document).off(e)},f)})):"notyping"===c.type?(e="keypress."+a.id,i.on(e+"first",function(){d=window.setTimeout(function(){m(a.id,c.name,c.type)},f),b(i).on(e,function(){h("createTimerEvent - clear keypress timer "+c.name),window.clearTimeout(d),d=window.setTimeout(function(){m(a.id,c.name,c.type),b(i).off(e)},f)}),b(i).off(e+"first")})):g("unknown timer type: "+c.type),{timeoutId:d,$events:e,$target:i}}function o(b,c){var d=function(a){var b,c,d;10!==(b=a.keyCode?a.keyCode:a.which)&&13!==b||(c=a.data.ev[0],d=a.data.ev[1],m(c,d,a))};a.bind(b.element,"keypress",d,{ev:[c,b.name]})}function p(a){return!a||window.document.URL.match(a)}function q(b,c){var d;if(!b.eventHandler)if(h("Init trigger handler trigger="+b.name+" event="+c.name),-1!==b.action.indexOf("timer")){var e=n(c,b);e&&v.push({timeoutId:e.timeoutId,$events:e.$events,action:b.action,type:b.type,id:c.id,name:b.name,element:b.element,$target:e.$target})}else-1!==b.action.indexOf("enterpress")?o(b,c.id):(d=function(a){m(a.data.ev[0],a.data.ev[1],a)},a.bind(b.element,b.action,d,{ev:[c.id,b.name]}),b.eventHandler=d)}function r(c){c.forEach(function(c){if(c.condition&&!i(c.condition))return void h("event: "+c.name+" not match condition:"+c.condition);c.id=a.generateUUID(),c.values=c.values||[],c.triggers=(c.triggers||[]).filter(function(a){if(a.counter=0,a.count=a.count||1,a.after&&(a.after=b.trim(a.after)||void 0),a.persistence&&f.getVar(c.id+"_"+a.name)&&(a.counter=parseInt(f.getVar(c.id+"_"+a.name),10)),a.values=a.values||[],a.values.forEach(function(b){var d=c.id+"_"+a.name+"_"+b.name;a.persistence&&f.getVar(d)&&(b.result=f.getVar(d))}),p(a.url))return a.after||q(a,c),!0}),u[c.id]=c})}function s(c){var d=a.parseXML(c);if(!d)return void h("The DSL has syntax errors. TrackerBusiness has been started without business events!");b(d).find("event").each(function(){var c,d,e,g,j={};if(j.id=a.generateUUID(),j.name=b(this).attr("name"),j.condition=b(this).attr("condition"),j.postcondition=b(this).attr("postcondition"),j.triggers=[],j.condition&&!i(j.condition))return void h("event: "+j.name+" not match condition:"+j.condition);for(j.values=[],c=b(this).children("val"),d=0;d<c.length;d+=1)e=b(c[d]),g={name:e.attr("name"),value:e.attr("value")},j.values.push(g);b(this).find("trigger").each(function(){var a,c,d,e,g,h=b(this),i={element:h.attr("element"),action:h.attr("action"),url:h.attr("url"),name:h.attr("name"),count:h.attr("count"),counter:0,persistence:h.attr("persistence"),type:h.attr("type"),after:h.attr("after")};for(i.after&&(i.after=b.trim(i.after),""===i.after&&(i.after=void 0)),"true"===i.persistence&&f.getVar(j.id+"_"+i.name)&&(i.counter=parseInt(f.getVar(j.id+"_"+i.name),10)),i.count||(i.count=1),i.values=[],a=h.find("val"),c=0;c<a.length;c+=1)d=b(a[c]),e={name:d.attr("name"),value:d.attr("value")},g=j.id+"_"+i.name+"_"+e.name,"true"===i.persistence&&f.getVar(g)&&(e.result=f.getVar(g)),i.values.push(e);p(i.url)&&(j.triggers.push(i),i.after||q(i,j))}),u[j.id]=j})}var t,u={},v=[];this.restartTimeoutEvents=function(){h("restartTimeoutEvents(): timeout count - "+v.length),v.forEach(function(a){window.clearInterval(a.timeoutId),window.clearTimeout(a.timeoutId),a.$events&&(b(document).off(a.$events),b(a.$target).off(a.$events+"first"));var c={id:a.id,name:a.name,action:a.action,type:a.type,element:a.element},d=n(a,c);a.timeoutId=d.timeoutId,a.$events=d.$events})},this.isXML=function(a){return/^<\?xml/.test(a)},this.init=function(a){this.isXML(a)?(t=a,u={},h("Tracker DSL defined in xml format. Perform reading events from xml source"),s(a)):t||(t=a,h("Tracker DSL was not loaded from _config.dslREsource. Try to get from internal resource storage"),a&&(u={},h("Tracker DSL defined in json format. Perform reading events from json source"),r(a))),h(Object.keys?"has been started: business events count = "+Object.keys(u).length:"has been started")},this.getDSL=function(){return t},this.getEvents=function(){return u}}return c}),function(a,c){"function"==typeof f&&f.amd?f(["jquery"],c):"object"==typeof exports?g.exports=c(b("jquery")):a.TrackerCategorization=c(a.jQuery)}(this,function(a){function b(b){function c(a){b.errorFunc("TrackerCategorization: "+a)}function d(a){b.logFunc("TrackerCategorization: "+a)}function e(b,c){var d,f,g=!1;for(d in b)if(b.hasOwnProperty(d)){if(f=i?a.inArray(d,i):-1,"string"==typeof b[d]&&f<0&&c.test(b[d]))return!0;"object"==typeof b&&(g=e(b[d],c))}return g}function f(b,c,d){var e,g,h,j=!1,k=d?c:c.toLowerCase();for(e in b)if(b.hasOwnProperty(e))if(g=i?a.inArray(e,i):-1,"string"==typeof b[e]){if(h=d?b[e]:b[e].toLowerCase(),g<0&&h.indexOf(k)>=0)return!0}else"object"==typeof b&&(j=f(b[e],c,d));return j}function g(a,c){h=(a||[]).map(function(a){return a.keywords=a.keywords.filter(function(a){if(b.languageCode===a.locale)return a}),a}),i=c||[]}var h=[],i=[];this.init=function(a,b){g(a,b),d("has been started: categories count = "+h.length)},this.categorize=function(a){d("categorize event: "+a.eventName);var b,g,i,j="",k="";return h.forEach(function(d){d.keywords.some(function(h){b="",h.caseSensitive||(b="i"),g="";try{"regex"===h.type.toLowerCase()?(i=new RegExp(h.expr,b),g=e(a,i)):g=f(a,h.expr,h.caseSensitive)}catch(a){c('Fail to categorize REGEX expression: "'+h.expr+'" Exception:'+a.message)}if(g)return j+=k+d.name,k=",",!0})}),a.category&&j?a.category+=k+j:a.category+=j,a}}return b}),function(a,c){"function"==typeof f&&f.amd?f(["jquery"],c):"object"==typeof exports?g.exports=c(b("jquery")):a.TrackerAPI=c(a.jQuery)}(this,function(b){function c(c,e,f,g){function h(a){e.errorFunc("TrackerAPI: "+a)}function i(a){e.logFunc("TrackerAPI: "+a)}var j=this;this.isValidCallback=function(a,d){return i("validateCallback: "+a),a&&"string"===b.type(a)?d&&b.isFunction(d)?!!c.callbacks[a]||(h("addCallbackForEvent: there is no such event: "+a),!1):(h("addCallbackForEvent: callback should be a function"),!1):(h("addCallbackForEvent: event name should be not empty string"),!1)},this.addCallbackForEvent=function(a,b){i("addCallbackForEvent event: "+a),this.isValidCallback(a,b)&&c.callbacks[a].add(b)},this.removeCallbackForEvent=function(a,b){i("removeCallbackForEvent event: "+a),this.isValidCallback(a,b)&&c.callbacks[a].remove(b)},this.handleAPICall=function(a){if(a&&a[0]){var c,f,g,i;switch(a[0]){case"sendSignIn":case"sendSignOut":case"sendUserInfo":i=a[0].replace("send",""),j.sendEvent(i,{data:a[1]});break;case"event":a[1]&&b.isPlainObject(a[1])&&a[1].eventName?(c=a[1].eventName,f=a[1],delete f.eventName,j.sendEvent(c,{data:f})):"string"==typeof a[1]?j.sendEvent(a[1],a[2]):h("Unknown event API call: "+d.stringify(a));break;case"ready":case"getIDs":if(a[1]&&b.isFunction(a[1])){g=a[1];try{g({visitID:e.internal.visitID,globalVisitID:e.internal.globalVisitID,pageID:e.internal.pageID})}catch(b){h(a[0]+" callback exception: "+b.message)}}else h(a[0]+" api: callback is not a function");break;case"on":this.addCallbackForEvent(a[1],a[2]);break;case"off":this.removeCallbackForEvent(a[1],a[2]);break;case"getConfig":j.getConfig(a[1]);break;case"pacing":a[2]&&b.isPlainObject(a[2])&&"string"==typeof a[2].channel?a[3]&&b.isFunction(a[3])?j.handlePacingAPICall(a[1],a[2],a[3]):h("Pacing api: callback is not a function"):h('Pacing\'s "channel" should be a string - '+d.stringify(a[2]));break;default:h("Can not identify command: "+a[0])}}},j.getConfig=function(a){if(!b.isFunction(a))return void h("getConfig : callback should be a defined function");var c=b.extend(!0,{},e);delete c.logFunc,delete c.errorFunc,a(c)},j.handleAPICallsQueue=function(a){if(a&&b.isArray(a)){i("API send events from queue: "+a.length);var c;for(c=0;c<a.length;c+=1)a[c]&&j.handleAPICall(a[c])}},this.pacingUrlBuilder=function(b,d){var e=c.currentEndpoint+"/"+c.PACING_URL_PATH+"/"+b+"?channel="+d.channel;return d.groups&&(e+="&"+a.buildQuery({groups:d.groups})),new a(e).readable()},this.handlePacingAPICall=function(a,b,c){var e=this.pacingUrlBuilder(a,b);i("handlePacingAPICall - "+a+"(): "+e),g.sendAjaxGET(e,function(b){i("handlePacingAPICall - "+a+"(): "+e+" | msg: "+d.stringify(b));var f=g.parseJSON(b);c(f)},function(b){h("handlePacingAPICall - "+a+"(): "+e+" | msg: "+d.stringify(b))})},j.sendEvent=function(a,e){var g,j=c.EVENT_BUSINESS;if(""===b.trim(a)||"string"!=typeof a)return void h('sendEvent event field "name" is required');switch(i("API sendEvent: name = "+a+" data = "+d.stringify(e)),a){case c.EVENT_PAGE_ENTER:g=f.createPageEnteredEvent();break;case c.EVENT_PAGE_EXIT:g=f.createPageExitedEvent();break;case c.EVENT_USER_INFO:case c.EVENT_SIGN_IN:if(!e||!e.data||""===b.trim(e.data.userID)||"string"!=typeof e.data.userID)return void h("for event "+a+' field "userID" is required');g=f.createEvent(c.EVENT_SYSTEM,a);break;case c.EVENT_SIGN_OUT:g=f.createEvent(c.EVENT_SYSTEM,c.EVENT_SIGN_OUT);break;default:g=f.createEvent(j,a)}e&&(g=b.extend(!0,g,e)),f.sendEvent(g)}}return c}),function(a,c){"function"==typeof f&&f.amd?f(["jquery"],c):"object"==typeof exports?g.exports=c(b("jquery")):a.TestAPI=c(a.jQuery)}(this,function(a){function b(b,c,e){function f(a){c.errorFunc("TestAPI: "+a)}function g(a){c.logFunc("TestAPI: "+a)}function h(a){try{window.postMessage&&window.postMessage({type:b.TRACKET_NAMESPACE,cmd:"sendEvent",event:a},location.origin)}catch(a){g("System windowPostMessage: "+a)}}function i(){window.sessionStorage&&window.sessionStorage.setItem(b.STORAGE_SESSION_EVENTS,d.stringify(m.events))}function j(){var a,c;try{window.sessionStorage&&(a=window.sessionStorage.getItem(b.STORAGE_SESSION_EVENTS))&&(c=d.parse(a))&&(m.events=c)}catch(a){g("Can not lod current session events = "+a.message)}}function k(a){l.event[a.eventName]=a,l.events[a.eventName]||(l.events[a.eventName]=[]),l.events[a.eventName].push(a),m.events[a.eventName]||(m.events[a.eventName]=[]),m.events[a.eventName].push(a),i()}var l={event:{},events:{}},m={events:{}};this.sendEventAPI=function(a){if(g("sendEventAPI: "+a.eventName),h(a),c.test)try{k(a)}catch(a){f("sendEventAPI() - eventsHistoryAPI(): "+a.message)}},this.init=function(){g("init"),c.test&&(g("has been initialized config.test = "+c.test),j(),a.extend(e,{page:l,session:m}))}}return b}),function(a,b){"function"==typeof f&&f.amd?f([],b):"object"==typeof exports?g.exports=b():a.IntegrationAgent=b(a.utility)}(this,function(a){function b(b,d,e){function f(a){d.logFunc("IntegrationAgent: "+a)}function g(a){var b=c(c.parseXML('<?xml version="1.0" encoding="utf-8" ?><properties><events /></properties>'));c.each(a,function(a,d){var e=c("<event />"),f={};c.each(d,function(a,b){"triggers"===a?c.each(b,function(a,b){var d={},f=c("<trigger />");c.each(b,function(a,b){"eventHandler"!==a&&("values"!==a?d[a]=b:c.each(b,function(a,b){var d=c("<val />").attr(b);f.append(d)}))}),f.attr(d),e.append(f)}):"values"===a?c.each(b,function(a,b){var d=c("<val />").attr(b);e.append(d)}):"xmlns"!==a&&(f[a]=b)}),e.attr(f),b.find("events").append(e)});var d=(new XMLSerializer).serializeToString(b.context);return d=d.replace('xmlns="http://www.w3.org/1999/xhtml"',"")}function h(){f(b.INTOOLS_NAMESPACE+" - getDsl");var a=e.getDSL();e.isXML(a)||(a=g(a)),console.log("dslString : ",a);try{window.postMessage&&window.postMessage({type:b.TRACKET_NAMESPACE,cmd:"getDslResult",dsl:a},"*")}catch(a){f("getDSL: "+a)}}function i(c){f(b.INTOOLS_NAMESPACE+" - setDsl: "+c.data.dsl),window.localStorage&&(c.data.dsl&&"undefined"!==c.data.dsl?window.localStorage[b.STORAGE_DSL]=c.data.dsl:window.localStorage.removeItem(b.STORAGE_DSL),a.locationRealod())}function j(){window.addEventListener&&window.addEventListener("message",function(a){if(a.data&&a.data.type&&a.data.type===b.INTOOLS_NAMESPACE&&a.data.cmd)switch(a.data.cmd){case"setDsl":i(a);break;case"getDsl":h();break;default:f("Unknown command: "+a.data.cmd)}},!1)}this.init=function(){f("init"),j()}}return b}),function(a,b){a.TrackerApplication=b(a,a.utility,a.jQuery,a.URI)}(this,function(a,b,c,e){function f(a){window.console&&window.console.log("GT "+a)}function g(a){t.logFunc("Tracker: "+a)}function h(a){t.errorFunc("Tracker: "+a)}function i(){var a=!0;return t.httpEndpoint||t.httpsEndpoint||(h('At least one of "httpEndpoint" or "httpsEndpoint" config field is required'),a=!1),a}function j(){w=new a.TrackerPersistence(s,t),z=new a.TrackerCategorization(t),C=new a.TestAPI(s,t,D),v=new a.TrackerSystem(s,t,w,z,C),x=new a.TrackerBusiness(s,t,v,w),y=new a.IntegrationAgent(s,t,x),a.NotificationAgentModule?A=new a.NotificationAgentModule(s,t,r,w,b):g("Tracker: initMainModules - no NotificationAgent module"),u=new a.TrackerCore(s,t,w,v,C,A,r,x),B=new a.TrackerAPI(s,t,v,b)}function k(){g("On jQuery ready"),j(),u.init(),y.init()}function l(){return g("onConfigReady: version: "+s.TRACKER_VERSION),g("init() jQuery version: "+c.prototype.jquery),g("config = "+d.stringify(t)),window.external&&window.external.isGenesysTrackerDisable||window.name&&-1!==window.name.indexOf("disableWebme")?void g("Monitoring Agent has been disable"):t.preventIframeMonitoring&&window.top!==window?void g("Prevent iFrame Monitoring: iFrame detected"):void k()}function m(a){a&&a[0]&&("config"===a[0]?a[1]&&(g("extendConfig: "+d.stringify(a[1])),c.extend(t,a[1]),!s.isConfigReady&&i()&&(s.isConfigReady=!0,l())):G||H?"on"===a[0]||"off"===a[0]?(H.push(a),g("Has been added into the unscheduled queue: "+d.stringify(a))):(G.push(a),g("Has been added into the queue: "+d.stringify(a))):B.handleAPICall(a))}function n(a){g("initAsync(): "+d.stringify(a));var b;for(b=0;b<a.length;b+=1)a&&a[b]&&a[b][0]&&m(a[b])}function o(){if(t.dslResource||(g("DSL is not configured "+t.dslResource),F=!0),F&&E&&!s.isTrackerReady){u.onTrackerReady();var a=c.merge(H,G);B.handleAPICallsQueue(a),H=null,G=null,s.isTrackerReady=!0}}function p(a){c.extend(a,r,{push:m,api:D,version:s.TRACKER_VERSION,isLoaded:!0})}function q(){s.GLOBAL_TRACKER_OBJECT_NAME=b.getVariableNameByScriptAttrName("script",s.SCRIPT_DATA_ATTR_NAME_GPE,s.GLOBAL_TRACKER_OBJECT_NAME_DEFAULT),s.GLOBAL_TRACKER_OBJECT=b.getVariableFromGlobalScopeByName(s.GLOBAL_TRACKER_OBJECT_NAME),void 0===s.GLOBAL_TRACKER_OBJECT||"[object Array]"!==Object.prototype.toString.apply(s.GLOBAL_TRACKER_OBJECT)?(s.GLOBAL_TRACKER_OBJECT=b.createVaiableByName(window,s.GLOBAL_TRACKER_OBJECT_NAME),h('Tracker application configuration variable not found on the page. Default ("'+s.GLOBAL_TRACKER_OBJECT_NAME_DEFAULT+'") will be used')):n(s.GLOBAL_TRACKER_OBJECT),p(s.GLOBAL_TRACKER_OBJECT)}var r={},s={EVENT_SYSTEM:"SYSTEM",EVENT_BUSINESS:"BUSINESS",EVENT_USER_INFO:"UserInfo",EVENT_SIGN_IN:"SignIn",EVENT_SIGN_OUT:"SignOut",EVENT_PAGE_ENTER:"PageEntered",EVENT_PAGE_EXIT:"PageExited",EVENT_VISIT_START:"VisitStarted",EVENT_VISIT_END:"VisitEnded",EVENT_CAMPAIGN:"Campaign",EVENT_REFERRER:"Referrer",CAMPAIGN_TRACKER_NAMESPACE:"utm_",CAMPAIGN_TRACKER_REQUIRED_PARAM:"utm_source",CAMPAIGN_TRACKER_ALLOWED_QUERIES:["name","source","medium","term","content"],TRANSPORT_AJAX:"ajax",TRANSPORT_IMG:"img",STORAGE_SESSION_EVENTS:"com.genesyslab.wme.tracker.session.events",STORAGE_DSL:"com.genesyslab.wme.tracker.dsl",INTOOLS_NAMESPACE:"com.genesyslab.wme.intools",TRACKET_NAMESPACE:"com.genesyslab.wme.tracker",GLOBAL_TRACKER_OBJECT_NAME:"",GLOBAL_TRACKER_OBJECT_NAME_DEFAULT:"_gt",GLOBAL_TRACKER_OBJECT:{},PREV_COOKIE_GLOBAL_VISIT_ID:"genesys.tracker.globalVisitID",PREV_COOKIE_VISIT_ID:"genesys.tracker.visitID",SCRIPT_DATA_ATTR_NAME_GPE:"data-gpe-var",TRACKER_VERSION:"900.0.023",PACING_URL_PATH:"/server/api/pacing/v1/",MONITORING_URL_PATH_EVENTS:"/server/api/monitoring/v1/events",MONITORING_URL_PATH_AGGREGATION:"/server/api/monitoring/v1/info",currentEndpoint:"",urlFrontendServer:"",urlUserDataServer:"",urlCometdURL:"",urlTrackerServer:"",isTrackerReady:!1,isConfigReady:!1,callbacks:{beforeSendEvent:c.Callbacks("stopOnFalse"),notificationMessage:c.Callbacks("stopOnFalse")}},t={dslResource:"",httpEndpoint:"",httpsEndpoint:"",name:"",domainName:new e(window.document.location.href).domain(),languageCode:"en-US",test:!1,debug:!1,debugCometD:!1,preventIframeMonitoring:!1,disableAutoSystemEvents:!1,loadDSL:!0,loadTags:!0,enableReferralTracking:!0,ignoreReferrals:[],enableCampaignTracking:!0,bigUrlLength:2036,disableBeaconEventTransport:!1,disableWebSockets:!1,disableNotification:!1,disableUnusedTransports:!0,cometdConfig:{},page:{url:function(){return window.location.href},title:function(){return window.document.title},referrer:function(){return document.referrer}},logFunc:function(a){t.debug&&f("LOG "+a)},errorFunc:function(a){f("ERROR "+a)},secureCookie:!1,cookieGlobalVisitID:"_gtgvid",cookieVisitID:"_gtvid",autoUpdateCookieName:!0,cookieExpires:void 0,internal:{$:null,currentEndpoint:null,visitID:"",globalVisitID:"",pageID:b.generateUUID()}},u={},v={},w={},x={},y={},z={},A=null,B={},C={},D={},E=!1,F=!1,G=[],H=[];return r.getConfig=function(){return t},r.setAggregationData=function(a){g("Tracker set Aggregation Data");var c=b.parseJSON(a);c.dsl&&x.init(c.dsl),(c.tags||c.exclude)&&z.init(c.tags,c.exclude),c.ids&&u.setVisitIds(c.ids),E||(E=!0,o())},r.setDSL=function(a){g("Tracker set DSL"),x.init(a),F||(F=!0,o())},r.notificationCallback=function(a){g("Tracker notification callback"),A.onMessageReceive(a)},q(),s.GLOBAL_TRACKER_OBJECT}),this.TrackerApplication}.call({})}),function(){var a=this,b=a._,d={},e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.push,i=e.slice,j=e.concat,k=f.toString,l=f.hasOwnProperty,m=e.forEach,n=e.map,o=e.reduce,p=e.reduceRight,q=e.filter,r=e.every,s=e.some,t=e.indexOf,u=e.lastIndexOf,v=Array.isArray,w=Object.keys,x=g.bind,y=function(a){return a instanceof y?a:this instanceof y?void(this._wrapped=a):new y(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):a._=y,y.VERSION="1.6.0";var z=y.each=y.forEach=function(a,b,c){if(null==a)return a;if(m&&a.forEach===m)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(b.call(c,a[e],e,a)===d)return}else for(var g=y.keys(a),e=0,f=g.length;e<f;e++)if(b.call(c,a[g[e]],g[e],a)===d)return;return a};y.map=y.collect=function(a,b,c){var d=[];return null==a?d:n&&a.map===n?a.map(b,c):(z(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var A="Reduce of empty array with no initial value";y.reduce=y.foldl=y.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduce===o)return d&&(b=y.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(z(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(A);return c},y.reduceRight=y.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduceRight===p)return d&&(b=y.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=y.keys(a);f=g.length}if(z(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(A);return c},y.find=y.detect=function(a,b,c){var d;return B(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},y.filter=y.select=function(a,b,c){var d=[];return null==a?d:q&&a.filter===q?a.filter(b,c):(z(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},y.reject=function(a,b,c){return y.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},y.every=y.all=function(a,b,c){b||(b=y.identity);var e=!0;return null==a?e:r&&a.every===r?a.every(b,c):(z(a,function(a,f,g){if(!(e=e&&b.call(c,a,f,g)))return d}),!!e)};var B=y.some=y.any=function(a,b,c){b||(b=y.identity);var e=!1;return null==a?e:s&&a.some===s?a.some(b,c):(z(a,function(a,f,g){if(e||(e=b.call(c,a,f,g)))return d}),!!e)};y.contains=y.include=function(a,b){return null!=a&&(t&&a.indexOf===t?-1!=a.indexOf(b):B(a,function(a){return a===b}))},y.invoke=function(a,b){var c=i.call(arguments,2),d=y.isFunction(b);return y.map(a,function(a){return(d?b:a[b]).apply(a,c)})},y.pluck=function(a,b){return y.map(a,y.property(b))},y.where=function(a,b){return y.filter(a,y.matches(b))},y.findWhere=function(a,b){return y.find(a,y.matches(b))},y.max=function(a,b,c){if(!b&&y.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return z(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},y.min=function(a,b,c){if(!b&&y.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return z(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h<e&&(d=a,e=h)}),d},y.shuffle=function(a){var b,c=0,d=[];return z(a,function(a){b=y.random(c++),d[c-1]=d[b],d[b]=a}),d},y.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=y.values(a)),a[y.random(a.length-1)]):y.shuffle(a).slice(0,Math.max(0,b))};var C=function(a){return null==a?y.identity:y.isFunction(a)?a:y.property(a)};y.sortBy=function(a,b,c){return b=C(b),y.pluck(y.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a){return function(b,c,d){var e={};return c=C(c),z(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};y.groupBy=D(function(a,b,c){y.has(a,b)?a[b].push(c):a[b]=[c]}),y.indexBy=D(function(a,b,c){a[b]=c}),y.countBy=D(function(a,b){y.has(a,b)?a[b]++:a[b]=1}),y.sortedIndex=function(a,b,c,d){c=C(c);for(var e=c.call(d,b),f=0,g=a.length;f<g;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},y.toArray=function(a){return a?y.isArray(a)?i.call(a):a.length===+a.length?y.map(a,y.identity):y.values(a):[]},y.size=function(a){return null==a?0:a.length===+a.length?a.length:y.keys(a).length},y.first=y.head=y.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:b<0?[]:i.call(a,0,b)},y.initial=function(a,b,c){return i.call(a,0,a.length-(null==b||c?1:b))},y.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:i.call(a,Math.max(a.length-b,0))},y.rest=y.tail=y.drop=function(a,b,c){return i.call(a,null==b||c?1:b)},y.compact=function(a){return y.filter(a,y.identity)};var E=function(a,b,c){return b&&y.every(a,y.isArray)?j.apply(c,a):(z(a,function(a){y.isArray(a)||y.isArguments(a)?b?h.apply(c,a):E(a,b,c):c.push(a)}),c)};y.flatten=function(a,b){return E(a,b,[])},y.without=function(a){return y.difference(a,i.call(arguments,1))},y.partition=function(a,b){var c=[],d=[];return z(a,function(a){(b(a)?c:d).push(a)}),[c,d]},y.uniq=y.unique=function(a,b,c,d){y.isFunction(b)&&(d=c,c=b,b=!1);var e=c?y.map(a,c,d):a,f=[],g=[];return z(e,function(c,d){(b?d&&g[g.length-1]===c:y.contains(g,c))||(g.push(c),f.push(a[d]))}),f},y.union=function(){return y.uniq(y.flatten(arguments,!0))},y.intersection=function(a){var b=i.call(arguments,1);return y.filter(y.uniq(a),function(a){return y.every(b,function(b){return y.contains(b,a)})})},y.difference=function(a){var b=j.apply(e,i.call(arguments,1));return y.filter(a,function(a){return!y.contains(b,a)})},y.zip=function(){for(var a=y.max(y.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;c<a;c++)b[c]=y.pluck(arguments,""+c);return b},y.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},y.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=y.sortedIndex(a,b),a[d]===b?d:-1;d=c<0?Math.max(0,e+c):c}if(t&&a.indexOf===t)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1},y.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(u&&a.lastIndexOf===u)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},y.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);e<d;)f[e++]=a,a+=c;return f};var F=function(){};y.bind=function(a,b){var c,d;if(x&&a.bind===x)return x.apply(a,i.call(arguments,1));if(!y.isFunction(a))throw new TypeError;return c=i.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(i.call(arguments)));F.prototype=a.prototype;var e=new F;F.prototype=null;var f=a.apply(e,c.concat(i.call(arguments)));return Object(f)===f?f:e}},y.partial=function(a){var b=i.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;e<f;e++)d[e]===y&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},y.bindAll=function(a){var b=i.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return z(b,function(b){a[b]=y.bind(a[b],a)}),a},y.memoize=function(a,b){var c={};return b||(b=y.identity),function(){var d=b.apply(this,arguments);return y.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},y.delay=function(a,b){var c=i.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},y.defer=function(a){return y.delay.apply(y,[a,1].concat(i.call(arguments,1)))},y.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:y.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=y.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||!1===c.trailing||(g=setTimeout(i,k)),f}},y.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=y.now()-g;j<b?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=y.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},y.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},y.wrap=function(a,b){return y.partial(b,a)},y.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},y.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},y.keys=function(a){if(!y.isObject(a))return[];if(w)return w(a);var b=[];for(var c in a)y.has(a,c)&&b.push(c);return b},y.values=function(a){for(var b=y.keys(a),c=b.length,d=new Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},y.pairs=function(a){for(var b=y.keys(a),c=b.length,d=new Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},y.invert=function(a){for(var b={},c=y.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},y.functions=y.methods=function(a){var b=[];for(var c in a)y.isFunction(a[c])&&b.push(c);return b.sort()},y.extend=function(a){return z(i.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},y.pick=function(a){var b={},c=j.apply(e,i.call(arguments,1));return z(c,function(c){c in a&&(b[c]=a[c])}),b},y.omit=function(a){var b={},c=j.apply(e,i.call(arguments,1));for(var d in a)y.contains(c,d)||(b[d]=a[d]);return b},y.defaults=function(a){
return z(i.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},y.clone=function(a){return y.isObject(a)?y.isArray(a)?a.slice():y.extend({},a):a},y.tap=function(a,b){return b(a),a};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof y&&(a=a._wrapped),b instanceof y&&(b=b._wrapped);var e=k.call(a);if(e!=k.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(y.isFunction(g)&&g instanceof g&&y.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=G(a[i],b[i],c,d)););}else{for(var l in a)if(y.has(a,l)&&(i++,!(j=y.has(b,l)&&G(a[l],b[l],c,d))))break;if(j){for(l in b)if(y.has(b,l)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};y.isEqual=function(a,b){return G(a,b,[],[])},y.isEmpty=function(a){if(null==a)return!0;if(y.isArray(a)||y.isString(a))return 0===a.length;for(var b in a)if(y.has(a,b))return!1;return!0},y.isElement=function(a){return!(!a||1!==a.nodeType)},y.isArray=v||function(a){return"[object Array]"==k.call(a)},y.isObject=function(a){return a===Object(a)},z(["Arguments","Function","String","Number","Date","RegExp"],function(a){y["is"+a]=function(b){return k.call(b)=="[object "+a+"]"}}),y.isArguments(arguments)||(y.isArguments=function(a){return!(!a||!y.has(a,"callee"))}),"function"!=typeof/./&&(y.isFunction=function(a){return"function"==typeof a}),y.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},y.isNaN=function(a){return y.isNumber(a)&&a!=+a},y.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==k.call(a)},y.isNull=function(a){return null===a},y.isUndefined=function(a){return void 0===a},y.has=function(a,b){return l.call(a,b)},y.noConflict=function(){return a._=b,this},y.identity=function(a){return a},y.constant=function(a){return function(){return a}},y.property=function(a){return function(b){return b[a]}},y.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},y.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;e<a;e++)d[e]=b.call(c,e);return d},y.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},y.now=Date.now||function(){return(new Date).getTime()};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=y.invert(H.escape);var I={escape:new RegExp("["+y.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+y.keys(H.unescape).join("|")+")","g")};y.each(["escape","unescape"],function(a){y[a]=function(b){return null==b?"":(""+b).replace(I[a],function(b){return H[a][b]})}}),y.result=function(a,b){if(null!=a){var c=a[b];return y.isFunction(c)?c.call(a):c}},y.mixin=function(a){z(y.functions(a),function(b){var c=y[b]=a[b];y.prototype[b]=function(){var a=[this._wrapped];return h.apply(a,arguments),N.call(this,c.apply(y,a))}})};var J=0;y.uniqueId=function(a){var b=++J+"";return a?a+b:b},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;y.template=function(a,b,c){var d;c=y.defaults({},c,y.templateSettings);var e=new RegExp([(c.escape||K).source,(c.interpolate||K).source,(c.evaluate||K).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(M,function(a){return"\\"+L[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(a){throw a.source=g,a}if(b)return d(b,y);var h=function(a){return d.call(this,a,y)};return h.source="function("+(c.variable||"obj")+"){\n"+g+"}",h},y.chain=function(a){return y(a).chain()};var N=function(a){return this._chain?y(a).chain():a};y.mixin(y),z(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];y.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],N.call(this,c)}}),z(["concat","join","slice"],function(a){var b=e[a];y.prototype[a]=function(){return N.call(this,b.apply(this._wrapped,arguments))}}),y.extend(y.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof c&&c.amd&&c("underscore",[],function(){return y})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("dependencies/validate-arguments",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("validate-arguments",["require","exports","module","lodash"],a)}}).call(this,function(a,b,c){function d(a){return f.reduce(a,function(a,b,c){return b.isa||(j.isPlainObject(b)&&(b=d(b)),b={isa:b}),a[c]=b,a},{})}function e(a,b,c,d){return f.isEmpty(b)?"missing "+a+" argument "+c:a+" argument "+c+' is not a "'+d+'"'}var f=a("lodash"),g=function(a,b,c){var d=[],e=a.length;if(0===e)return d;var f=b<0?Math.max(0,b+e):b||0;for(void 0!==c&&(e=c<0?c+e:c);e-- >f;)d[e-f]=a[e];return d},h=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},i=["isArray","isBoolean","isDate","isElement","isEmpty","isFinite","isFunction","isNull","isNumber","isObject","isRegexp","isString"],j={isWhole:function(a){return f.isNumber(a)&&a%1==0},isReal:function(a){return f.isNumber(a)&&!isNaN(a)},isNatural:function(a){return j.isWhole(a)&&0<=a},isPlainObject:function(a){return f.isObject(a)&&!f.isArray(a)&&!f.isFunction(a)},isPrimitive:function(a){return-1!==f.indexOf(["number","boolean","string"],a)}};f.each(i,function(a){j[a]=f[a]});var k=function(a,b,c){return{isValid:function(){return 0===a.length},errors:function(){return a},get:function(a){return b?b[a]:null},values:function(){return f.isObject(b)?f.values(b):f.isArray(b)?b:[]},errorString:function(){var d=f.isObject(b)?"named":"positional";return f.isEmpty(c)?a[0]:f.map(a,function(a){return e(d,b[a],a,c[a].isa)}).join(", ")}}},l={isValidOfType:function(a,b){var c="is"+h(b);return void 0!==j[c]&&j[c](a)},isValid:function(a,b){return f.isUndefined(a)||f.isNull(a)?b.optional:f.isString(b.isa)?l.isValidOfType(a,b.isa):j.isPlainObject(b.isa)?l.validate(a,b.isa).isValid():"function"==typeof b.isa&&a instanceof b.isa},validatePositional:function(a,b){return l.positional(a,b)},validateObject:function(a,b){return l.named(a,b)},validate:function(a,b){var c=[];return f.isEmpty(b)?k(["missing validation spec"]):!a instanceof Object?k(["invalid values"]):j.isPrimitive(b)?l.positional(a,[b]):(b=d(b),c=f.reduce(b,function(b,c,d){return l.isValid(a[d],c)||b.push(d),b},[]),k(c,a,b))},named:function(a,b){return j.isPlainObject(a)?(f.isArguments(a)&&(a=a[0]),l.validate(a,b)):k(["missing named arguments"])},positional:function(a,b){return f.isArray(a)||f.isArguments(a)?(f.isArray(b)||(b=g(arguments,1)),l.validate(a,b)):k(["missing positional arguments"])}};return c.exports=l,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("cookie",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/cookie",["require","exports","module"],a)}}).call(this,function(a,b,c){function d(a){return encodeURIComponent(a)}function e(a){return decodeURIComponent(a)}function f(a){return d(String(a))}function g(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(j," "))}catch(a){}}function h(a){return g(a)}var i,j=/\+/g;return i=function(a,b,c){var g,i,j,k,l,m,n,o,p;if(void 0!==b)return"number"==typeof c.expires&&(o=c.expires,p=c.expires=new Date,p.setTime(+p+864e5*o)),void(document.cookie=[d(a),"=",f(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""));for(g=a?void 0:{},i=document.cookie?document.cookie.split("; "):[],j=0,k=i.length;j<k;j+=1){if(l=i[j].split("="),m=e(l.shift()),n=l.join("="),a&&a===m){g=h(n,b);break}n=h(n),a||void 0===n||(g[m]=n)}return g},c.exports={cookie:i},c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("util",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/util",["require","exports","module","validate-arguments","URIjs","lodash","./cookie","simply-deferred"],a)}}).call(this,function(a,b,c){var d=a("validate-arguments"),e=a("simply-deferred").Deferred,f=a("URIjs"),g=a("lodash"),h=a("./cookie"),i={STATE_COOKIE_NAME:"gcState",COMETD_COOKIE_NAME:"gcCometdState",TRANSIENT_COOKIE_NAME:"gcCurrentSession",REMOTE_SESSION_CHECK_INTERVAL:200};return function(){function a(a){throw new TypeError("IHG Chat: "+a)}function b(a){var b=a.promise();return{done:b.done,fail:b.fail}}function j(b,c){var e=d.validate(b,c);e.isValid()||a(e.errorString())}function k(a){return a=a||{},{error:{code:a.code||0,description:a.description}}}function l(a,b){return function(c){b("transport failed ",c),a.reject(k(c&&c.error))}}function m(a){var b=document.createElement("a");return b.setAttribute("href",a),b}function n(a){return setTimeout(a,0)}function o(a,b){return a.replace(/\{([^{}]*)\}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})}function p(){return f&&new f(document.location.href).domain()}function q(a,b,c){return void 0!==b?void h.cookie(a,b,g.extend({},c,{domain:p(),path:"/"})):h.cookie(a,b,c)}function r(a){return a=a.replace(/[\x00-\x08]/g,"")}c.exports={defer:n,throwError:a,getSimplePromise:b,validateObject:j,createErrorEvent:k,createTransportFailureResolver:l,simpleParseUrl:m,noop:function(){},Deferred:e,cookie:h.cookie,rootCookie:q,supplant:o,getCookieDomain:p,constants:i,filterInput:r}}(),c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/templates",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/templates",["require","exports","module","lodash"],a)}}).call(this,function(a,b,c){var d=a("lodash");return b["src/ui/templates/chatMessage.html"]=function(a){var b,c="",e=d.escape;Array.prototype.join;return c+='<div class="gwc-chat-message',a.isAgent&&(c+=" gwc-chat-agentMessage"),a.from||(c+=" gwc-chat-systemMessage"),c+='">\r\n  ',a.from&&(c+='\r\n  <div class="gwc-chat-message-author">'+e(a.from)+'</div>\r\n  <div class="gwc-chat-message-time">['+(null==(b=a.when)?"":b)+"]</div>\r\n  "),c+='\r\n  <div class="gwc-chat-message-text">\r\n    ',a.isUrl&&(c+='<a href="'+(null==(b=a.url)?"":b)+'" target="_blank">'),c+="\r\n    "+(null==(b=a.message)?"":b)+"\r\n    ",a.isUrl&&(c+="</a>"),c+="\r\n  </div>\r\n</div>"},b["src/ui/templates/chatRegistration.html"]=function(a){var b,c="";d.escape;return c+='<div>\r\n  <div class="gwc-chat-branding"><div class="gwc-chat-logo"></div></div>\r\n  <div class="gwc-chat-content-area">\r\n    <div class="gwc-chat-registration-intro">\r\n      <p class="gwc-chat-registration-intro-p">\r\n        '+(null==(b=a.nls.regWelcomePart1)?"":b)+'</p>\r\n      <p class="gwc-chat-registration-intro-p">\r\n        '+(null==(b=a.nls.regWelcomePart2)?"":b)+'</p>\r\n    </div>\r\n    <form>\r\n      <div class="gwc-chat-controls-container">\r\n        <div class="gwc-chat-control-group gwc-chat-control-group-required">\r\n          <label for="gcbChatFirstName"\r\n                 class="gwc-chat-label">\r\n            *'+(null==(b=a.nls.regFirstName)?"":b)+'\r\n          </label>\r\n          <div class="gwc-chat-controls">\r\n            <input id="gcbChatFirstName" name="FirstName"\r\n                   class="gwc-chat-registration-input"\r\n                   type="text"/>\r\n            <div class="gwc-chat-validation-error"></div>\r\n          </div>\r\n        </div>\r\n        <div class="gwc-chat-control-group gwc-chat-control-group-required">\r\n          <label for="gcbChatLastName" class="gwc-chat-label">\r\n           *'+(null==(b=a.nls.regLastName)?"":b)+'\r\n          </label>\r\n          <div class="gwc-chat-controls">\r\n            <input id="gcbChatLastName" name="LastName"\r\n                   class="gwc-chat-registration-input"\r\n                   type="text"/>\r\n            <div class="gwc-chat-validation-error"></div>\r\n          </div>\r\n        </div>\r\n        <div class="gwc-chat-control-group">\r\n          <label for="gcbChatEmail" class="gwc-chat-label">\r\n             '+(null==(b=a.nls.regEmail)?"":b)+'\r\n          </label>\r\n          <div class="gwc-chat-controls">\r\n            <input id="gcbChatEmail" name="EmailAddress"\r\n                   class="gwc-chat-registration-input"\r\n                   type="email"/>\r\n            <div class="gwc-chat-validation-error"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="gwc-chat-registration-buttons">\r\n        <div class="gwc-chat-registration-skip">\r\n          <button class="gwc-chat-button gwc-chat-button-light" id="gcbChatSkipRegistration" type="button">\r\n            '+(null==(b=a.nls.regSkip)?"":b)+'\r\n          </button>\r\n        </div>\r\n        <div class="gwc-chat-registration-submit">\r\n          <button class="gwc-chat-button" id="gcbChatRegister" type="submit">\r\n            '+(null==(b=a.nls.regSubmit)?"":b)+"\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>"},b["src/ui/templates/chatTemplates.html"]=function(a){var b,c="";d.escape;return c+='\x3c!-- embeddedWindow.html --\x3e\r\n<script type="text/html" data-gwc-template="embeddedWindow">\r\n'+(null==(b=embeddedWindowTemplate)?"":b)+'\r\n<\/script>\r\n\r\n\x3c!-- chatRegistration.html --\x3e\r\n<script type="text/html" data-gwc-template="chatRegistration">\r\n'+(null==(b=chatRegistrationTemplate)?"":b)+'\r\n<\/script>\r\n\r\n\x3c!-- chatView.html --\x3e\r\n<script type="text/html" data-gwc-template="chatView">\r\n'+(null==(b=chatViewTemplate)?"":b)+'\r\n<\/script>\r\n\r\n\x3c!-- chatMessage.html --\x3e\r\n<script type="text/html" data-gwc-template="chatMessage">\r\n'+(null==(b=chatMessageTemplate)?"":b)+'\r\n<\/script>\r\n\r\n\x3c!-- chatTyping.html --\x3e\r\n<script type="text/html" data-gwc-template="chatTyping">\r\n'+(null==(b=chatTypingTemplate)?"":b)+"\r\n<\/script>"},b["src/ui/templates/chatTyping.html"]=function(a){var b,c="";d.escape;return c+='<div class="gwc-chat-message gwc-chat-typingMessage">\r\n  <div class="gwc-chat-message-text">'+(null==(b=a.message)?"":b)+"</div>\r\n</div>"},b["src/ui/templates/chatView.html"]=function(a){var b,c="";d.escape;return c+='<div>\r\n  <div class="gwc-chat-branding"><div class="gwc-chat-logo"></div></div>\r\n  <div class="gwc-chat-content-area">\r\n    <div class="gwc-chat-message-container">\r\n      <div class="gwc-persistent-chat-messages"></div>\r\n    </div>\r\n    <form class="gwc-chat-message-form" action="javascript:">\r\n      <textarea class="gwc-chat-input gwc-chat-message-input" maxlength="500">'+(null==(b=a.message)?"":b)+"</textarea>\r\n    </form>\r\n  </div>\r\n</div>\r\n"},b["src/ui/templates/embeddedWindow.html"]=function(a){var b,c="";d.escape;return c+='<div class="gwc-chat-embedded-window">\r\n  <div class="gwc-chat">\r\n    <div class="gwc-chat-head gwc-drag-handle">\r\n      <div class="gwc-chat-window-controls">\r\n        <div class="gwc-chat-control gwc-chat-control-minimize">\r\n          <div class="gwc-chat-icon gwc-chat-icon-minimize"></div>\r\n        </div>\r\n        <div class="gwc-chat-control gwc-chat-control-close">\r\n          <div class="gwc-chat-icon gwc-chat-icon-close"></div>\r\n        </div>\r\n      </div>\r\n      <div class="gwc-chat-title">'+(null==(b=a.chatTitle)?"":b)+'</div>\r\n    </div>\r\n    <div class="gwc-chat-body">\r\n\r\n    </div>\r\n  </div>\r\n</div>'},c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/templatesProvider",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/templatesProvider",["require","exports","module","jquery","lodash","./templates"],a)}}).call(this,function(a,b,c){function d(){function b(a,b,c){f.ajax({dataType:b?"jsonp":"",url:a}).done(function(a){l("templates data: ",a),c(a)}).fail(function(){throw new Error("failed to load tempates",arguments)})}function c(a){return/^\S*\/(\S*)\.(\S*)$/g.exec(a)[1]}function d(a){return g.template(a,null,{variable:"data"})}function i(){var b={},e=a("./templates");return g.forEach(e,function(a,e){var g,h=c(e);g=f('script[data-gwc-template="'+h+'"]').html(),g?(l('template "'+h+'" is found on the page'),b[h]=d(g)):b[h]=a}),b}function j(a,b){a&&f.isFunction(a)&&a(b)}function k(a,c,e){b(a,c,function(a){var b={};a&&(f(a).filter("script[data-gwc-template]").each(function(){var a=f(this),c=a.attr("data-gwc-template"),e=a.html();c&&e&&(b[c]=d(e))}),l("following templates were found in loaded file: ",b),l("these templates will take highest priority")),e(b)})}var l=f.noop;this.getTemplates=function(a,b,c){var d=a.templates;l=a.logger||f.noop,e||(e=i()),d?(l("templates to be loaded from "+d),h[d]?(l("returning templates from cache "+d),j(c,f.extend({},e,h[d]))):k(d,b,function(a){h[d]=a,j(c,f.extend({},e,h[d]))})):j(c,e)}}var e,f=a("jquery"),g=a("lodash"),h={};return c.exports=new d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("simpleEvent",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/simpleEvent",["require","exports","module","lodash"],a)}}).call(this,function(a,b,c){function d(){var a=[];this.add=function(b){a.push(b)},this.fire=function(b){e.each(a,function(a){a(b)})},this.remove=function(b){a=e.without(a,b)}}var e=a("lodash");return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("css/chat.min.css",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/css/chat.min.css",["require","exports","module"],a)}}).call(this,function(a,b,c){var d=".gwc-chat-embedded-window{position:fixed;right:20px;bottom:0;z-index:9999999999;width:300px;border:1px solid #e3b33b;color:#000;background:#f9f9f9}.gwc-chat,.gwc-chat button,.gwc-chat div,.gwc-chat input,.gwc-chat textarea{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;font:normal normal normal 12px/1.3 Tahoma,sans-serif;text-align:left}.gwc-chat-button{padding:4px 8px;-webkit-border-radius:3px;border-radius:3px;background-clip:padding-box;border:1px solid #cacaca;color:#fff;font-weight:700!important;cursor:pointer;background-color:#5da1bc;background-image:-webkit-gradient(linear,left top,left bottom,from(#66b1cf),to(#5da1bc));background-image:-webkit-linear-gradient(top,#66b1cf,#5da1bc);background-image:-moz-linear-gradient(top,#66b1cf,#5da1bc);background-image:-o-linear-gradient(top,#66b1cf,#5da1bc);background-image:linear-gradient(to bottom,#66b1cf,#5da1bc)}.gwc-chat-button:hover{background:#66b1cf}.gwc-chat-button:active{background-color:#5da1bc;background-image:-webkit-gradient(linear,left top,left bottom,from(#5da1bc),to(#66b1cf));background-image:-webkit-linear-gradient(top,#5da1bc,#66b1cf);background-image:-moz-linear-gradient(top,#5da1bc,#66b1cf);background-image:-o-linear-gradient(top,#5da1bc,#66b1cf);background-image:linear-gradient(to bottom,#5da1bc,#66b1cf);background-clip:padding-box}.gwc-chat-button-light{color:#4A5965;font-weight:400!important;background-color:#f4f4f4;background-image:-webkit-gradient(linear,left top,left bottom,from(#f4f4f4),to(#edefef));background-image:-webkit-linear-gradient(top,#f4f4f4,#edefef);background-image:-moz-linear-gradient(top,#f4f4f4,#edefef);background-image:-o-linear-gradient(top,#f4f4f4,#edefef);background-image:linear-gradient(to bottom,#f4f4f4,#edefef)}.gwc-chat-button-light:hover{background-color:#fff;background-image:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#f7f7f7));background-image:-webkit-linear-gradient(top,#fff,#f7f7f7);background-image:-moz-linear-gradient(top,#fff,#f7f7f7);background-image:-o-linear-gradient(top,#fff,#f7f7f7);background-image:linear-gradient(to bottom,#fff,#f7f7f7)}.gwc-chat-button-light:active{background-color:#eaeaea;background-image:-webkit-gradient(linear,left top,left bottom,from(#eaeaea),to(#fff));background-image:-webkit-linear-gradient(top,#eaeaea,#fff);background-image:-moz-linear-gradient(top,#eaeaea,#fff);background-image:-o-linear-gradient(top,#eaeaea,#fff);background-image:linear-gradient(to bottom,#eaeaea,#fff)}.gwc-chat-input{width:100%;border:1px solid #a5acb2;background:#fff;height:20px}.gwc-chat-head{padding:3px 7px 3px 10px;background:#e3b33b;cursor:default}.gwc-chat-head .gwc-chat-title{display:inline;font-weight:700;color:#fff}.gwc-chat-window-controls{float:right}.gwc-chat-control{display:inline-block;width:19px;height:19px;cursor:pointer;border:1px solid transparent;border-radius:2px;-webkit-transition:all .15s ease-out;-moz-transition:all .15s ease-out;-o-transition:all .15s ease-out;transition:all .15s ease-out}.gwc-chat-control:hover{border-color:#88919D}.gwc-chat-control:active{border-color:#88919D;background:#96A2B0}.gwc-chat-icon{display:inline-block;width:16px;height:16px}.gwc-chat-icon-close{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAoklEQVR4Aa3PsWoCURAF0G2zsi/gH0UxbUJM8jOR2KxVUiio+IUilmo9R1gWptDSO9XAgZlbPSZqY1NN7t6M1AnGDkJr2G3FDAeTBB/grNWozZzAd4KBuTPC1r8QHS5VxrM5Qjd5LlMZWAFYa+41+RMCYXMDFD/04PZEfm5nCS5aTYL3/vOFko18JXixFxaGfaNfHL0meDLyqWQjUxN19ZBcAT16vTh64lq3AAAAAElFTkSuQmCC)}.gwc-chat-icon-minimize{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQAAAAA3iMLMAAAAAnRSTlMAAHaTzTgAAAAPSURBVHgBYyAG2P9hgjEBDM8BPtXRQkEAAAAASUVORK5CYII=)}.gwc-chat-body{height:316px}.gwc-chat-branding{height:36px;padding:8px 10px}.gwc-chat-logo{width:100px;height:25px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAZCAMAAADwgHt5AAAA21BMVEUAAAAiHh8iHh8iHh8iHh8iHh8iHh9fIiAiHh8iHh8iHh8iHh8iHh8iHh8iHh8iHh/uLiTuLiQiHh8iHh8iHh8iHh/uLiQiHh8iHh/uLiQiHh8iHh8iHh8iHh8iHh8iHh/uLiTuLiQiHh/uLiQiHh/uLiTuLiTuLiTuLiQiHh8iHh8iHh8iHh8iHh/uLiTuLiTuLiTuLiTuLiQiHh/uLiTuLiTuLiTuLiQiHh8iHh/uLiTuLiTuLiTuLiTuLiTuLiTuLiQiHh/uLiTuLiTuLiTuLiTuLiQiHh/uLiQn2tRqAAAAR3RSTlMASiFCG/paAQUSkW3xwgowS9UkdGKejcznBZiKpd6DeuA3r1M2PkQPKzq81ynrCiOWHXMN7TFYe7ZRx6zAZ2y0FVSh9mAZhILhxlwAAAN1SURBVEjHtZXZmqJADIXDWoAbuICtCCq477ttq6093RPe/4kmwW+G+ea2x/+GsqrMSU6CAjO/De3rYb1e7zuDuYBncLOXp2W0e6FlJ3LXC3gCnXPbhoz5F/x/dokLT+fNEfB0nDcghrbdJ+x9tIK/iXPE6wa+yWm7A/saRZFNRJ9r181kzOYMmbEB3+MzcfqL3jybA9exf2t0EQuVagO14rebkmyXdibSGx5+9IAxAtRyKj2l0Xfbdhn8TJLEeV+610/XfXN+XMTpfQBEGdESkCHVPD9H7Sk2R6ZVOFZTD9XwWGjG6XGj0KiWJV8CwmgG6qZyHAeSIUsC2n2xc5OMbQeWyZDv5bBeyiTMroZEPQYTZwUkLBKUuGlUMECYHgd37JqsiHWzkB6px7xCbl3h5dY5LM+O4ywP/ZsYttsLFrFwnBVStHCmq/EEvaKJ2FLUJmIJYg39skxLBVrYnSq+NM0jl9JAq4SYUys1MzzKsCOv9oOXjP02OQgO66MFhBIEgU7e5RXaLddxRJVQhapH0bpYM9J0LLWFVVoJYWEowNQwVrBV5h3DEDDsbcmk94u9+PpaRZcP+vCxemGR7kMk5BkWVWzpd10neyQT6yrt+1gx8tjkTYvqa1DiJim+cmy6DbKG3siElPfVwN0mGT+c/ern8GFXAYhS1U9FMK8R+bzCIqkjOXILtXTXN4tjRAw3YI7xDmPMPfo1UQwgzu0hiOjj1Gac86ED4truPBrfUoGppiKFjcyUi5nIVMPXx6ZKse7U6aaACvryDPmGGdQR2WSIkuTQ4ddkMBjw49ZbJqdbWgKSX4xOIjpOTHjwR6RSzKMOGRR/NoXSTKv9/o2QPaxtgLhwS9b7fmcx7PUv7pkGgQtJO69VqHcq+zalLA0SoPIzEahhi6dckSmlmGIijavwEXnCigp91+KJZuy3JKX9aI3jLoBJBwi9ZpNcGLN56IfhGEf8nlBQEqgIuY71IGxgwwBvZtHpZMOFo2ayEV4Y5Gk6IOWlv/44pQrO2d0v4A+ypSGRryncohYSxymJTLgSC3MCRl0kWlVD1JDwFM5twqJQmiBRU7Nw89WuRyz+/Vsc6TShcRGY6V2/KybJKTFnV5ZUwf7RhakAwYtXGQjDwxG7XZZ0XSnCc9BxpsJTEVVyKWfAUzFqONMNeC4iLm0E/MMv4YOQ3X4CtuYAAAAASUVORK5CYII=)no-repeat}.gwc-chat-content-area{padding:10px}.gwc-chat-registration-intro{margin:0 0 24px}.gwc-chat-registration-intro-p{font-size:1em;margin:0 0 10px}.gwc-chat-controls-container{display:table;width:100%;table-layout:fixed}.gwc-chat-control-group{display:table-row;height:2.3em}.gwc-chat-controls,.gwc-chat-label{display:table-cell}.gwc-chat-controls{width:100%}.gwc-chat-label{width:6.4em;font-size:1em}.gwc-chat-label-invalid{color:#b8400b}.gwc-chat-validation-error{color:#b8400b;margin-bottom:.3em;display:none}.gwc-chat-registration-input{width:100%}.gwc-chat input.gwc-chat-registration-input{font-size:inherit;padding:0 1px}.gwc-chat-registration-skip,.gwc-chat-registration-submit{float:right;margin:5px 0 0 3px}.gwc-chat-message-container{position:absolute;top:63px;left:10px;right:10px;bottom:93px;padding:2px 10px;overflow:auto;border:1px solid #a5acb2;background:#fff}.gwc-chat-message{margin:0 0 3px}.gwc-chat-message-author,.gwc-chat-message-time{display:inline;color:#385078}.gwc-chat-agentMessage .gwc-chat-message-author,.gwc-chat-agentMessage .gwc-chat-message-time{color:#d88000}.gwc-chat-message-form{position:absolute;margin:0;left:10px;right:10px;bottom:12px}.gwc-chat-message-input{width:100%;height:70px;margin:0;padding:2px;resize:none;background:#fff!important;border:1px solid #a5acb2!important;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.gwc-chat-typingMessage .gwc-chat-message-text{color:#88919D}.gwc-chat-message-text{word-wrap:break-word;overflow-wrap:break-word}@media only screen and (max-height:340px){.gwc-chat-embedded-window{position:absolute;top:0;bottom:auto}}@media only screen and (max-device-width:360px){.gwc-chat-embedded-window{width:99%;right:.5%}.gwc-chat,.gwc-chat button,.gwc-chat div,.gwc-chat input,.gwc-chat textarea{font-size:16px}.gwc-chat-message-input:focus,.gwc-chat-registration-input:focus{background:#eee}}@media screen and (-webkit-min-device-pixel-ratio:1.5),screen and (-moz-min-device-pixel-ratio:1.5),screen and (min-device-pixel-ratio:1.5){.gwc-chat-logo{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAwCAMAAABjR8XYAAAAb1BMVEUAAAAwLC0hHR5KR0csKCmJXFk3NTV/f39/d3dyX141MTIdGBpUU1McGBlDPz/WOzHsLCDiMiccGBmrWlXNQjjASEDgNStFQ0MmICElISLpLCDvLCC2UkvvLCAiHiAfGxwbFhfiMSbqLyPfMSbyKx8Wr4MAAAAAHnRSTlMAccU2iBhaAQMLZNgj9kt3zo3nKmJOpnyfr6/yPONbnN1dAAAIn0lEQVRo3t1Z2daTMBAOaxJ2yiKUVijl/Z/RWdIEi6jneKF1/G1hmCTzZdZQwaQUfjZlX1XV1VBf110kPoqkBCi3GjDU3a2JtALSUXPr2rL8JCwKbFFPW99G8v2Rbtq6Ex9CUkT9NpURu5iS8mUmuEbWp5hEim7aSi0EQzh63YeQEuU23eD7VONPgdJtUwNwPp6a+9r+DzhE/ZiifSBIjHdz8asAYSEg9Q+4X/Wo1CGypXrxfqqj+peywvNR7TTRDRTB2lDZ3vRPVER2FofjOA5hocXfpgpcC3TCv6grQfnuBsUdqLm15bW6ls0JFClU7C/LV6IlD/82lP6x1kJJarTK27s2UXudrjeCecAR+PNXR/Ml+LuJupueawnu3tUd+RERPnjFcNNv10bIA45iIf2XPE3JLvNfBiLq9bn2kYjkj1yIQN22rT0oGROO9Euglc7icfka/mUcUleP53pv1SFFcb9FDlZtJavp/IqM4AKjSN8N4u5+yZbyl3K/nkqBmuvzsVZtYysDk6knTQMi962z40jIRxwxdTasiDxugHSFiCdjp1VH0X2jxwMti0YeyhxN5VYwg6Pr9ng+tu1a3iL13sX3Ww9gu/Wu91uRzIDDszq94SA1tKLLA1tarn2utb10cr82xvcr1HCrymkFKOu6TpBvy7btuq6FelLdt3V9ABCpqnUfJmQQX8mzRbJkTNPUx/LCegdhmEkReT6wx1gRl2V1EaLoEEdWJ5BGOWJpLww9tUsx4ZcwwGExreAFGtlZJgTEsaLUBFZ5Ph+PdUPizweythIF+rV/i5C5EPIEh5cvnJLntGD3/bLMgyguJtH5mR1apPNsKpH32ujBsgat/HleduHnL3grgnS3ggKwiXhuN/KQqKxg+1F1R2ikrSYjX9dqF1YerHQ5M74eZ1qC1FkgmSGQ+Wue5MBlHX1tMIeLE51HTW6/G55qEcMXzsHyGcj7gMMNmxOReWEcYmW/cXSpW9nfyQ5McDn1ZcMJYdoBkWKEeYYTg5Ai8+jFcXjhSJJoEdriIYk9f2Em4UAB34sTz8erQUqsT8zzhmUGBDrHPeO1FA5YErALzhbCCumcQ+UIvSQU5frYWtsmKmhM6rqndyhl1+hXWukxVCzpFJRKHBBlSLyUSwOWww3PM7QIaZeRMAloSTWV5iHy8DpGXdk2QMEYkO6YHqVdGDTPUJad1htQ0PMCoa/rc6turM6xIJJ6uoeiafMvBO2FJnLSb+FzgRggYKRFaICMiqeLchiNUaJhmq8xi0pyVx8e+wjIZFllJvRfk5MnECtVRsTmr+iOubfv2EGJwMCSLjmft3coNJVDyaoE9jbzvhAlZBByW2UooyURCCJXxjFnuiH3H6yo8gmfGNBrKGy5RDDfetZcwIJsaCeDf1I0UBCf61bVr5ZRItkTZFlhar5HYgdkISDSGmEGWuZcCtrlVDjyaUkAYv1DSvQtwEoqZ07UYy1j1DJAuVfNWqhkIZIL5xiVwshRf1+lyHO2B2YojO2uedVEHTUdlJKNKkwV7d3HWYSBmC44NY6Qxo58ktwDYSdKGHPuOVHE5UF0pxTJmavXOaUvnhzjXyJYXEbvz3ZXVBycB6BQSdzuFdN92uCWEZZQ2xuHX38fI8GS5znMfJG2J8YPvjgHki1vkkC481lOxWZAq3D64KLFF+AINm2n3s4qfBrRZWWKyMORwXavI3DkthKWyG2/2CmU1rogIIr2CrzMERSw7IdA2JDz96Ix6pv5M0EbqW6ylQdAqC+unUhy2qNL4k6I2KKjf93qCk1A+hMgtg9lAQjXeossDqojvgXCViEg5NB+nOwpVvIUyMVLviOIRJQqGEoesE18Srpgbdw+Zdw7ZCijtm9R6FylqIi0dV9NG9NU9XVLlQSTV7ftgJAq+e7li2StjPcO4o3UKZBUnnSEBdRNztLcos4wYGDGSyby8q+7wnybHnACdC9OVNQ0Nzq2S75Hviq3x125hTJTsvflw8VIqqSSOzoBwvVEfS/qoMToXQMCoajx2bMcWlAnA1O59NluUEbqhpT+ce8ftZCguft1WZUz+ZtFQJZSvJS/tohEjzHMY4uuyA7cnEi2RbBQhWIZhqJTznS8SE1lpG/ZdWwppKcUO5jS1quS7wd2X78ypJJsEYLItdzMdQoEyxtHmjycaFhOc9mTr7wbUqS8pKXxcUrIhgN+A7G9TdcauytHGgrJddowBW+1Uc21jahFZs0YY9bCqQsMwYLObpRDzoFwywTNuxFVZolM0WhlgXAFzHMXDzqjURysoeudblC8KU9xiJdAdU9hDzxMwVP7dtaT2G5hPctMk0IFkTob8tvYbEWSgiZnriVCBO1pk/fSwuQoP+AMy3087zzXGiMhityLXk3k7O08XLVYwW3SZSIQaKp7aS26j26aOveHcPBzzpacCC7I978URQFd9tdQyTOLSO0T/hBEPR+15kSCXXxRDAs5qbTnEBJgPUJ4jRbCoPSV2ZxPqq6f1m13sCIMwJmuHZfPA5L0u5oMUxdcvzJ6sADNZh08WO2BADuhG+1TUXyJmvLNLPy6RNJlFxd73BOYQd7hvUCEB6tpw3Mi/FvBze7XsotOX9doLklMS+pFthUboLQzuMUPlImRxQIJZ/IHcgUvN6JYRzV51AUZzEFPsFZ0iTYbwcAskicHZ5GminRtidS+2kepTl9kRMmQwm6Ce3mor0s/Qehf8guymQOMMLR9P98Y6cwb0zz3xzB4raNjHh0WbkrKIT7e2VF+nqejd3B6073/gnWErqIo0tLeugdaa2m550RzsKjdfWY5Ds6Cdcpz9/hfa4Vfp9opRenw937mccMOGN232xF3cy6KuffAEfHMqfg46g/p10Y7Yf+m6BtUTCCjkB/6g7MlHdMB6GN+X/4xKQh9esH02b/YSqHzr+bc8eGkUzqfiw8nCUBSqDq/jI9vlGj6xCT1poAAAAAASUVORK5CYII=);background-size:contain}}",e=document.getElementsByTagName("head")[0],f=document.createElement("style");if(f.setAttribute("data-gcb-service-node",!0),e.insertBefore(f,e.childNodes[0]),f.styleSheet)f.styleSheet.disabled||(f.styleSheet.cssText=d);else try{f.innerHTML=d}catch(a){f.innerText=d}return c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/chatInitializer",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/chatInitializer",["require","exports","module","../util","lodash","jquery","./templatesProvider","../simpleEvent","../css/chat.min.css"],a)}}).call(this,function(a,b,c){function d(a){return g.reduce(a,function(a,b,c){return a+c+"="+b+","},"").slice(0,-1)}function e(b,c,e,l){function m(a){a.debug&&(x=g.isFunction(a.logger)?a.logger:k())}function n(){
a("../css/chat.min.css")}function o(a,b,c){l.ajax({dataType:"json"+(b?"p":""),url:a}).done(function(a){x("loaded language data: ",a),c(a)}).fail(function(){throw x("getting language data failed ",arguments),new Error("getting language data failed")})}function p(a){a.onStarted(B.fire),a.onEnded(C.fire),a.onRemoteSession(z.fire),a.onMinimized(D.fire)}function q(a,b){var c=l.Deferred();return E.fire(a),a.debug&&(a.logger=x,delete a.debug),i.getTemplates(a,b,function(d){a.templatesData=d,x("templates: ",d),g.isString(a.localization)?(x("loading language data from ",a.localization),o(a.localization,b,function(b){a.langData=b,delete a.localization,x("localization has been loaded: ",b),c.resolve(a)})):g.isFunction(a.localization)?0===a.localization.length?(a.langData=a.localization(),delete a.localization,x("l18n provided via sync function: ",a.localization),c.resolve(a)):(x("l18n is a custom async function, waiting for callback..."),a.localization(function(b){x("l18n provided: ",b),a.langData=b,delete a.localization,c.resolve(a)})):g.isObject(a.localization)?(a.langData=a.localization,delete a.localization,c.resolve(a)):c.resolve(a)}),c.promise()}function r(a){return w||(w=new c(a),p(w),w)}function s(a){a=a||{};var c,i,j,k=a.widgetUrl,l=a.windowSize||{width:400,height:500};return v=h.Deferred(),m(a),x("chat is initializing with options: ",a),(i=e.getTransientSessionAPI(a))&&!i.isImmediate?(x("widget is opened on another page"),v.reject(f.createErrorEvent({code:201,description:"Chat is already running on another page"})),v.promise()):(a.embedded?(x('initializing chat widget in "embedded" mode'),n(),w=r(e),q(a,!0).done(function(a){w.startChat(a).done(function(a){v.resolve(a),A.fire(a)}).fail(v.reject)})):(delete a.widgetUrl,delete a.embedded,delete a.onBeforeStartSession,delete a.logger,delete a.transport,!1!==a.ui&&delete a.ui,j=b.toUrl(a),c=d(g.extend(l,a.windowOptions)),x("opening new window with features: ",c),window.open(k+(f.simpleParseUrl(k).search?"&":"?")+j,a.windowName||"genesysChatWindow",c)),v.promise())}function t(a){return a=a||{},v=h.Deferred(),m(a),x("restoring chat widget with options: ",a),a.embedded?(n(),w=r(e),w.onRestorationComplete(y.resolve),q(a,!0).done(function(a){w.restoreChat(a).done(function(b){v.resolve(b,a),A.fire(b)}).fail(function(a){v.reject(a)})})):(x('can only restore chat in "embedded" mode; quitting'),v.reject({code:0,description:'can only restore chat in "embedded" mode'})),v.promise()}function u(a){var d=b.fromUrl(document.location.href);return a=g.extend(d,a),n(),v=h.Deferred(),w=new c(e),m(a),document.body.className="gwc-chat",x("initializing chat widget in this window with options: ",a),q(a,!1).done(function(a){w.startChat(a).done(function(b){v.resolve(b,a),A.fire(b)}).fail(v.reject)}),v.promise()}var v,w,x,y=h.Deferred(),z=new j,A=new j,B=new j,C=new j,D=new j,E=new j;l=l||h,x=l.noop,this.startChat=s,this.restoreChat=t,this.startChatInThisWindow=u,this.getTransientSessionAPI=e.getTransientSessionAPI,this.onRestorationComplete=y.done,this.onRemoteSession=z.add,this.onStarted=B.add,this.onEnded=C.add,this.onSession=A.add,this.onBeforeChatOptionsApplied=E.add,this.close=function(){return w&&w.close()},this.toggle=function(){return w&&w.toggle()},this.isMinimized=function(){return w&&w.isMinimized()},this.onMinimized=D.add,this.VERSION=e.VERSION}var f=a("../util"),g=a("lodash"),h=a("jquery"),i=a("./templatesProvider"),j=a("../simpleEvent"),k=function(){var a,b=window.console;try{a=b.log.bind(b)}catch(c){a=function(){b&&b.log&&b.log(Array.prototype.slice.call(arguments))}}return a};return c.exports=e,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/chatView",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/chatView",["require","exports","module","jquery","lodash","../simpleEvent","../util"],a)}}).call(this,function(a,b,c){function d(a){function b(){k[0].scrollTop=k[0].scrollHeight}function c(){s.fire(),clearTimeout(m),m=null}function d(a){var b=e(a.target),d=b.val();if(13===a.which||10===a.which){if(a.preventDefault(),!a.ctrlKey)return q.fire(g(d)),b.val(""),void c();b.val(d+"\n")}m||r.fire(),clearTimeout(m),m=setTimeout(c,p)}function i(){j.on("keypress",".gwc-chat-message-input",d)}a=a||{};var j,k,l,m,n=this,o=a.log||e.noop,p=a.typingTimeout||3e3,q=new h,r=new h,s=new h,t={};n.onTextEntered=q.add,n.onTypingStarted=r.add,n.onTypingStopped=s.add,n.append=function(a){l.append(a),b()},n.showTyping=function(a,c){t[a]=e(c),k.append(t[a]),b()},n.hideTyping=function(a){t[a]&&(t[a].remove(),delete t[a])},n.hideAllTyping=function(){f.each(t,function(a,b){n.hideTyping(b)})},n.render=function(){return o("rendering chat view"),j=n.$el=e(a.templatesData.chatView({nls:a.nls})),k=j.find(".gwc-chat-message-container"),l=k.find(".gwc-persistent-chat-messages"),i(),n}}var e=a("jquery"),f=a("lodash"),g=a("../util").filterInput,h=a("../simpleEvent");return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/chatSessionView",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/chatSessionView",["require","exports","module","jquery","lodash","./chatView","URIjs","../util"],a)}}).call(this,function(a,b,c){function d(a){function b(a){return String(a).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br/>$2")}function c(a){return a.type.agent||a.type.supervisor}function d(d){var e,g,h,j;return f.isString(d)?e={from:null,when:null,isAgent:null,isUrl:!1,message:d}:(g=f.escape(d.content.text),g=b(g),h="url"===d.content.type,e={from:d.party.type.client?B.ownUsername:d.party.name,when:new Date(d.timestamp).toLocaleTimeString(),isAgent:c(d.party),isUrl:h,message:g}),h&&(j=new i(d.content.text),j.protocol()||"/"===j.toString().substr(0,1)||j.protocol("http"),e.url=j.toString()),e.nls=B,a.templatesData.chatMessage(e)}function j(){var a=d(B.chatEnded);E.append(a)}function k(b){var c,d,e;e=b.name||B.defaultAgentName,c=h(B.agentTyping,{agentName:e}),d=a.templatesData.chatTyping({message:c,nls:B}),E.hideTyping(b.id),E.showTyping(b.id,d)}function l(a){C("chat UI: sending message",a),A?A.sendMessage(a):D.push(a)}function m(){A.sendTyping({isTyping:!0})}function n(){A.sendTyping({isTyping:!1})}function o(a){var b=Number(a.error.code),c=F[b],e=c?d(c):null;if(C("handling Error event ",a,e),e)E.append(e);else if(150!==b)throw new Error("Chat Error: "+a.error.description+" ("+a.error.code+")")}function p(a){var b=d(h(B.agentJoined,{name:a.party.name}));C("handling AgentConnected event",a),E.append(b)}function q(a){var b=d(h(B.agentLeft,{name:a.party.name}));C("handling AgentDisconnected event",a),E.hideTyping(a.party.id),E.append(b)}function r(a){var b,f;if(C("handling MessageReceived event",a),c(a.party)&&E.hideTyping(a.party.id),b=d(a),b=e(b)[0],y&&(C("applying onBeforeMessage hook"),f=y(b,a.content.text)),!1===f)return void C("not appending the message (filtered out) ",a.content.text);E.append(b)}function s(a){C("handling AgentTyping event",a),E.hideTyping(a.party.id),a.isTyping&&k(a.party)}function t(a){C("chat UI: got Error event",a),E.hideAllTyping(),o(a)}function u(){C("chat UI: got Interrupted event"),E.hideAllTyping(),E.append(d(B.networkInterrupted))}function v(){C("chat UI: got Restored event"),E.append(d(B.networkRestored))}function w(a){C("chat UI: got SessionEnded event",a),E.hideAllTyping(),j()}function x(){C("chat UI: setting up callbacks"),A.onAgentConnected(p),A.onAgentDisconnected(q),A.onMessageReceived(r),A.onAgentTyping(s),A.onError(t),A.onSessionEnded(w),A.onInterrupted(u),A.onContinued(v),E.onTypingStarted(m),E.onTypingStopped(n),D.length&&f.each(D,A.sendMessage)}var y,z=this,A=a.session,B=a.nls,C=a.log||e.noop,D=[],E=a.view||new g({log:C,typingTimeout:a.typingTimeout,templatesData:a.templatesData,nls:a.nls}),F={100:B.serverStopped,101:B.serverUnreachable,152:B.chatSessionExpired};z.render=function(){return E.render(),z.$el=E.$el,z},z.sendMessage=l,z.onBeforeAppend=function(a){y=a},z.sayHello=function(){var a=d(B.chatWelcome);E.append(a)},z.sayError=function(a){var b;a=a||{},b=d(F[a.code]||B.unknownServerError),C("chat UI: appending error ",a,b),E.append(b)},z.injectSession=function(a){if(A)throw new Error("Session already injected");A=a,x()},E.onTextEntered(l),A&&x()}var e=a("jquery"),f=a("lodash"),g=a("./chatView"),h=a("../util").supplant,i=a("URIjs");return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/embeddedWindowView",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/embeddedWindowView",["require","exports","module","jquery","lodash","../simpleEvent"],a)}}).call(this,function(a,b,c){function d(a){function b(){h.find(".gwc-chat-body").slideToggle(m),j=!j,o.fire(j)}function c(){h.fadeOut(m),n.fire()}function d(){h.on("click",".gwc-chat-control-minimize",b),h.on("click",".gwc-chat-control-close",c),h.on("click",".gwc-chat-registration-skip",c)}var h,i=this,j=!!a.minimized,k=a.log||e.noop,l=a.nls,m=f.isNumber(a.animationSpeed)?a.animationSpeed:100,n=new g,o=new g;this.close=c,this.toggle=b,this.onClosed=n.add,this.onMinimized=o.add,this.render=function(){return k("chat window: rendering, is minimized: ",j),h=e(a.templatesData.embeddedWindow({nls:l,chatTitle:l.chatTitle})),j&&h.find(".gwc-chat-body").hide(),d(),i.$el=h,i.$contentArea=h.find(".gwc-chat-body"),i}}var e=a("jquery"),f=a("lodash"),g=a("../simpleEvent");return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/chatRegistrationView",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/chatRegistrationView",["require","exports","module","jquery","lodash","../simpleEvent","../util"],a)}}).call(this,function(a,b,c){function d(a){function b(a){return/\S+@\S+\.\S+/.test(a)&&-1===a.indexOf("@.")&&-1===a.indexOf(".@")}function c(){var a=!0;return m.find(".gwc-chat-control-group-required").each(function(){var c,d=e(this),f=d.find(".gwc-chat-registration-input"),g=d.find(".gwc-chat-label"),h=d.find(".gwc-chat-validation-error"),j=e.trim(f.val());return""===j?(a=!1,c=i(o.regErrorRequiredField,{field:e.trim(g.text().replace("*","").replace(":",""))})):"EmailAddress"!==f.attr("name")||b(j)?(g.removeClass("gwc-chat-label-invalid"),h.html("").hide()):(a=!1,c=o.regErrorInvalidEmail),a||(g.addClass("gwc-chat-label-invalid"),h.text(c).show(),f.focus()),a}),a}function d(){var a=e("form",m).serializeArray(),b={};return f.each(a,function(a){b[a.name]=g(a.value)}),b}function j(a){a.preventDefault(),c()&&q.fire(d())}function k(){h.fadeOut(m),n.fire()}function l(){m.on("click","#gcbChatRegister",j),m.on("submit","form",j)}var m,n=this,o=a.nls,p=a.log||e.noop,q=new h,r=new h;n.onSubmitted=q.add,n.onSkipped=r.add,n.render=function(){return p("chat reg form: rendering"),m=n.$el=e(a.templatesData.chatRegistration({nls:o})),l(),n}}var e=a("jquery"),f=a("lodash"),g=a("../util").filterInput,h=a("../simpleEvent"),i=a("../util").supplant;return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("stateStorage",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/stateStorage",["require","exports","module","./util"],a)}}).call(this,function(a,b,c){function e(a){function b(){f.cookie(c,"",{expires:-1,domain:e,path:g})}a=a||{};var c=a.cookieName||f.constants.STATE_COOKIE_NAME,e=a.domain||f.getCookieDomain(),g="/",h=a.cookieMaxAge||5,i=a.logger||f.noop;return{read:function(){var a=f.cookie(c);return a?d.parse(a):a},write:function(a){a?(f.cookie(c,d.stringify(a),{expires:new Date((new Date).getTime()+1e3*h),domain:e,path:g}),i("saved state with cookie name: ",c,", domain: ",e,", max age: ",h)):null===a&&b()}}}var f=a("./util");return c.exports=e,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/defaultLocalization",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/defaultLocalization",["require","exports","module"],a)}}).call(this,function(a,b,c){return c.exports={chatTitle:"IHG Chat",chatWelcome:"Hello! Next available customer representative will be with you shortly.",defaultUsername:"User",defaultAgentName:"Representative",ownUsername:"You",chatEnded:"Chat session ended",agentJoined:"Representative {name} has joined the session",agentLeft:"Representative {name} has left the session",agentTyping:"{agentName} is typing...",serverStopped:"Connection to chat has been interrupted. Trying to restore...",serverUnreachable:"Chat is unavailable now. Please try again later.",networkInterrupted:"Connection to chat has been interrupted. Trying to restore...",networkRestored:"Connection restored.",unknownServerError:"Chat is unavailable now. Please try again later.",chatSessionExpired:"Chat session has expired.",regFirstName:"First Name:",regLastName:"Last Name:",regEmail:"Email:",regSubmit:"Start Chat",regSkip:"Exit",regWelcomePart1:"Please enter few details about you, and press Start Chat button.",regWelcomePart2:"Next available customer representative will be with you shortly.",regErrorRequiredField:'"{field}" is a required field',regErrorInvalidEmail:"Please enter a valid email address",leaveSessionPrompt:"You are going to leave chat session."},c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("ui/chatController",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/ui/chatController",["require","exports","module","lodash","jquery","../util","./chatSessionView","./embeddedWindowView","./chatRegistrationView","../stateStorage","./defaultLocalization","../simpleEvent"],a)}}).call(this,function(a,b,c){function d(a,b){var c,d,e=new n,f=new n;return c=new l({domain:a.cookieDomain,cookieMaxAge:a.maxOfflineDuration,logger:b}),d={},d.read=function(){var a=c.read();return e.fire(a),b("patched state storage, read(): ",a),a},d.write=function(a){f.fire(a),b("patched state storage, write(): ",a),c.write(a)},d.onAfterRead=e.add,d.onBeforeWrite=f.add,d}function e(a){function b(){return{nls:f.extend(m,I.langData),templatesData:I.templatesData,log:K}}function c(a){return f.extend(b(),a)}function e(){K("binding reg. form state saving"),g(window).on("unload.chatRegForm",function(){var a={};I.embedded&&(f.forEach(I,function(b,c){(f.isBoolean(b)||f.isString(b)&&""!==b)&&(a[c]=b)}),a.regisration=!0,K("saving reg. form state",a),P.write(a))})}function l(){K("unbinding reg. form state saving"),g(window).off("unload.chatRegForm")}function o(){K("removing embedded chat window"),l(),J.done(function(a){try{a.leave()}catch(a){K("session already dead, no need to .leave()")}a=null,O=null}),N.$el.remove(),R=!1,N=null,V.fire()}function p(){I.embedded?o():window.close()}function q(){K("Chat Controller initializes with options: ",I),I.embedded&&(N=new j(c({minimized:X})),N.onMinimized(function(a){W.fire(a),X=a}),N.onClosed(o),N.render()),O=new i(c()),O.render(),M=I.embedded?N.$contentArea:"body",I.ui&&(I.ui.onBeforeWrapper&&I.ui.onBeforeWrapper(N&&N.$el[0]),I.ui.onBeforeChat&&I.ui.onBeforeChat(O.$el[0]),I.ui.onBeforeMessage&&O.onBeforeAppend(I.ui.onBeforeMessage)),O.$el.appendTo(M),f.defer(U.fire)}function r(a){K("failed to start session ",a),L&&O.sayError(a.error),Q=!1,J.reject(a)}function s(a){K("failed to restore session ",a),R=!1,Q=!1,J.reject(a),S.resolve()}function t(a){var b=new Date;for(a+=(new Date).getTime();b<a;)b=new Date}function u(){var a={path:"/",domain:I.cookieDomain||h.getCookieDomain(),expires:-1};h.cookie(h.constants.STATE_COOKIE_NAME,"",a),h.cookie(h.constants.COMETD_COOKIE_NAME,"",a)}function v(a){I.embedded||(g(window).on("beforeunload.chatWidget",function(){return u(),b().nls.leaveSessionPrompt}),g(window).on("unload.chatWidget",function(){a.leave(),u(),t(100)}),a.onSessionEnded(function(){g(window).off(".chatWidget")}))}function w(a){L&&O.injectSession(a),a.onSessionEnded(function(){Q=!1}),v(a),J.resolve(a)}function x(){N&&N.$el.find(":input").first().focus()}function y(a){var b,c="IdentifyCreateContact",d=1,e=2,g=3;b=f.isEmpty(a)?d:!1===I.createContact?e:g,a[c]=b,K("IdentifyCreateContact set to ",a[c])}function z(a){var b="";return a.FirstName&&(b=a.FirstName+" "),a.LastName&&(b+=a.LastName),b}function A(b){I.onBeforeStartSession=I.onBeforeStartSession||function(a,b){b(a)},Q=!0,I.onBeforeStartSession(b,function(b){y(b),K("augmenting registration data with directly passed userData ",b,I.userData),f.extend(b,I.userData);try{a.startSession({serverUrl:I.serverUrl,contactCenterId:I.contactCenterId,apikey:I.apikey,endpoint:I.endpoint,transport:I.transport,username:z(b)||I.username,userData:b,stateStorage:P,maxOfflineDuration:I.maxOfflineDuration,disableWebSockets:I.disableWebSockets,logger:K,debugCometd:I.debugCometd}).done(w).fail(r)}catch(a){return K("startSession thrown error: ",a),void r({code:0,description:a.message})}L&&O.sayHello()})}function B(a){L&&N.$el.appendTo("body"),Q=!0,w(a),S.resolve()}function C(){K=I.logger||function(){}}function D(a){L=I.ui,f.isUndefined(L)&&(L=!0),P=d(I,K),P.onAfterRead(function(a){a&&a.isMinimized&&(X=a.isMinimized,delete a.isMinimized)}),P.onBeforeWrite(function(a){a&&X&&(a.isMinimized=X)}),a()}function E(){return function(a){var b=new k(c());return K("starting default registration workflow"),b.onSubmitted(function(b){K("default registration submitted with ",b),l(),a(b)}),b.onSkipped(function(){K("default registration skipped"),l(),a({})}),e(),b.render().$el[0]}}function F(){function a(a){K("registration workflow ended; data provided: ",a),T.remove(p),A(a),b&&(K("hiding registration UI"),b.remove(),O.$el.show())}var b,c=I.registration;return!1!==c&&(f.isFunction(c)||(K("provided registration is not a function, default will be used"),c=E()),b=c(a),K("registration form (UI) is: ",b),b&&(L.onBeforeRegistration&&(K("firing onBeforeRegistration callback with it"),L.onBeforeRegistration(b)),b=g(b),K("showing registration UI"),O.$el.hide(),b.appendTo(M),T.add(p)),!0)}function G(){if(!L)return void A({});q(),F()||A({}),L&&I.embedded&&N.$el.appendTo("body")}function H(){var b=P.read();P.read=function(){return b},I.embedded&&b&&!b.sessionId&&b.registration?(I=f.extend({},b,I),G(),S.resolve()):(R=!0,a.restoreSession({transport:I.transport,disableWebSockets:I.disableWebSockets,maxOfflineDuration:I.maxOfflineDuration,stateStorage:P,logger:K,debugCometd:I.debugCometd}).done(function(a){L&&q(),B(a)}).fail(s))}var I,J,K,L,M,N,O,P,Q,R=!1,S=g.Deferred(),T=new n,U=new n,V=new n,W=new n,X=!1;!function(){function a(){var c=!!h.cookie(h.constants.TRANSIENT_COOKIE_NAME);Q||c===b||(K('"remote" chat session '+(c?"start":"end")+" detected"),T.fire(c),b=c),setTimeout(a,h.constants.REMOTE_SESSION_CHECK_INTERVAL)}var b=!1;f.defer(a)}(),this.startChat=function(a){return R?(K("widget is already in DOM, skipping"),x(),g.Deferred().reject(h.createErrorEvent({code:200,description:"Chat is already running"})).promise()):(R=!0,I=a||{},J=g.Deferred(),C(),D(G),J.promise())},this.restoreChat=function(a){return R?(K("restore: chat is already running, resolving"),g.Deferred().reject(h.createErrorEvent({code:200,description:"Chat is already running"})).promise()):(I=a||{},J=g.Deferred(),C(),D(H),J.promise())},this.onRestorationComplete=S.done,this.onRemoteSession=T.add,this.onStarted=U.add,this.onEnded=V.add,this.toggle=function(){N&&N.toggle()},this.close=function(){N&&N.close()},this.isMinimized=function(){return X},this.onMinimized=W.add}var f=a("lodash"),g=a("jquery"),h=a("../util"),i=a("./chatSessionView"),j=a("./embeddedWindowView"),k=a("./chatRegistrationView"),l=a("../stateStorage"),m=a("./defaultLocalization"),n=a("../simpleEvent");return c.exports=e,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("paramsConverter",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/paramsConverter",["require","exports","module","./util"],a)}}).call(this,function(a,b,c){function e(a){return d.parse('{"'+decodeURI(a).replace(/"/g,'\\"').replace(/&/g,'","').replace(/\=/g,'":"')+'"}')}function f(a){return"options="+encodeURIComponent(d.stringify(a))}function g(a){var b=h.simpleParseUrl(a).search.slice(1),c=e(b).options;return d.parse(decodeURIComponent(c))}var h=a("./util");return c.exports.toUrl=f,c.exports.fromUrl=g,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("cometdTransport",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/cometdTransport",["require","exports","module","lodash","./util"],a)}}).call(this,function(a,b,c){function d(a){function b(a){var b=a.promise();return{done:b.done,fail:b.fail}}function c(a,b,c,d){L("Chat transport CometD exception: ",a," subscriptionHandle: ",b," isListener: ",c," message: ",d)}function d(){L("chat: CometD is badly disconnected, firing interruption"),y=!0,T(),R.Error&&R.Error({notificationType:"Error",error:{code:150,description:"Network interruption detected"}})}function h(){var a,b=z.getTransportTypes(),c=z.getTransport().getType();"callback-polling"===c&&(a=e.without(b,c),L("chat: Disabling unused CometD transports"),e.each(a,function(a){z.unregisterTransport(a)}),L("  transports before: ",b,", after: ",z.getTransportTypes()))}function i(){if(clearTimeout(A),y&&(L("chat: CometD connection established"),y=!1,U()),!Q)try{h()}catch(a){L("chat: exception cannot disable unused transports: ",a)}finally{Q=!0}}function j(){L("chat: CometD connection lost"),A=setTimeout(d,J)}function k(){var a;return function(b){z.isDisconnected()||(b.successful?i():!1!==a&&j(),a=b.successful)}}function l(){if(F)return void B.disconnect();z.reload()}function m(b){L("chat: instantiating CometD"),z=new D,z.configure({url:E,logLevel:K?"debug":"warn",appendMessageTypeToURL:!1}),a.disableWebSockets&&(L("chat: disabling websocket transport according to config"),z.unregisterTransport("websocket")),F||(z.registerExtension("reload",new G({cookieMaxAge:Number(I),cookieName:H})),L("chat: reload extension cookie name: ",H),L("chat: reload extension cookie max age: ",I)),z.addListener("/meta/handshake",b),z.addListener("/meta/connect",k()),z.onListenerException=c,window.addEventListener?(window.addEventListener("unload",l,!1),window.addEventListener("beforeunload",l,!1)):(window.attachEvent("onunload",l),window.attachEvent("onbeforeunload",l)),L("handshaking"),z.handshake({chatTransient:F})}function n(){if("resolved"!==P.state())throw new Error("Cannot execute. Transport initialization is "+P.state())}function o(a){S=S||{},e.extend(S,a)}function p(a){e.each(a,function(a){R[a.type]&&(R[a.type](a),a.index&&o({lastIndex:a.index}))})}function q(){L("chat: initializing CometD subscriptions"),z.addListener(N,function(a){g(function(){"TranscriptUpdated"===a.data.notificationType&&p(a.data.transcript),"Error"===a.data.notificationType&&R.Error&&R.Error({error:a.data.error})})})}function r(a,c,d){var f,h;return n(),f=new C,h=e.extend({operationName:a},d,c),z.publish(M,h,function(a){g(function(){a.data&&a.data.error?f.reject(a.data||{}):f.resolve(a.data||{})})}),b(f)}function s(a){L("chat: failing transport, result: ",a),z.disconnect(),g(function(){P.reject(a&&a.failure&&a.failure.exception)})}function t(a){return r("GetTranscript",a)}function u(){var a={sessionId:S.sessionId,fromIndex:S.lastIndex||1e9};return L('"pinging" the server with: ',a),t(a)}function v(a){var b=a&&a.transcript;L('chat: "ping" successful ',a),b&&b.length&&(L("found unprocessed transcript, processing (messages: "+b.length+")"),p(b))}function w(a){L('chat: "ping" unsuccessful',a),R.Error&&R.Error({notificationType:"Error",error:{code:152,description:"Chat session expired"}}),z.disconnect(),clearTimeout(A)}function x(){P.resolve(),!F&&S&&S.sessionId&&u().done(v).fail(w)}var y,z,A,B=this,C=f.Deferred,D=a.Cometd,E=a.serverUrl,F=!!a.transient,G=a.ReloadExtension,H=a.reloadCookieName||f.constants.COMETD_COOKIE_NAME,I=a.reloadCookieMaxAge||5,J=1e3*(a.connectionTimeout||3),K=a.debugCometd,L=a.log||f.noop,M="/service/chat/publish",N="/service/chat/notify",O=(new Date).getTimezoneOffset(),P=new C,Q=!1,R={},S={},T=f.noop,U=f.noop;this.init=function(c){var d=a.handshakeAttempts||4;return S=c,F||S&&S.sessionId||(f.rootCookie(H,"",{expires:-1}),L("chat: cleaned CometD state, state is: ",f.cookie(H))),m(function(a){if(a.successful)return L("chat: CometD handshake successful ",a),L("chat: CometD transport: ",z.getTransport()&&z.getTransport().getType()),void g(x);d-=1,L("chat: handshake failed, attempts left:",d,a),d||s()}),F||q(),b(P)},this.startSession=function(a){var b=r("StartSession",a,{timezoneOffset:O});return b.done(function(a){o({sessionId:a.sessionId})}),b},this.sendMessage=function(a){return r("SendMessage",a)},this.getTranscript=t,this.leaveSession=function(a){return r("LeaveSession",a)},this.sendTyping=function(a){return r("SendTyping",a)},this.setUserData=function(a){return r("SetUserData",a)},this.getUserData=function(a){return r("GetUserData",a)},this.deleteUserData=function(a){return r("DeleteUserData",a)},this.disconnect=function(){L("chat: transport.disconnect() is called"),z.isDisconnected()||(L("chat: Calling cometd.disconnect()"),z.disconnect())},this.onAgentConnected=function(a){R.AgentConnected=a},this.onAgentTyping=function(a){R.AgentTyping=a},this.onAgentDisconnected=function(a){R.AgentDisconnected=a},this.onMessageReceived=function(a){R.MessageReceived=a},this.onSessionEnded=function(a){R.SessionEnded=a},this.onError=function(a){R.Error=a},this.onInterrupted=function(a){T=a},this.onContinued=function(a){U=a}}var e=a("lodash"),f=a("./util"),g=f.defer;return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("htccRestTransport",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/htccRestTransport",["require","exports","module","lodash","./util","jquery"],a)}}).call(this,function(a,b,c){function e(a){function b(){s&&"/"!==s[s.length-1]&&(s+="/")}function c(a){var b=a.promise();return{done:b.done,fail:b.fail}}function e(a){var b={},c=!1;switch(a.type){case"Text":a.type="MessageReceived";break;case"ParticipantJoined":a.type="AgentConnected";break;case"ParticipantLeft":a.type="AgentDisconnected";break;case"ParticipantRejoined":a.type="ParticipantRejoined";break;case"TypingStarted":a.type="AgentTyping",c=!0;break;case"TypingStopped":a.type="AgentTyping",c=!1;break;case"TranscriptSaveDone":a.type="TranscriptSaveDone";break;case"Notice":a.type="Notice"}if(a.from&&a.from.type)switch(a.from.type){case"Customer":a.from.type="Client";break;case"Agent":a.from.type="Agent";break;case"External":a.from.type="External"}return b.type=a.type,b.index=a.index,b.timestamp=(new Date).getTime(),b.isTyping="AgentTyping"===a.type?c:void 0,b.content=a.text?{text:a.text,type:"text"}:void 0,b.party={id:a.from?Number(a.from.participantId):"",type:a.from?a.from.type:"",name:a.from?a.from.nickname:""},b}function i(a){var b=a.type;return"AgentConnected"!==b&&"AgentTyping"!==b&&"AgentDisconnected"!==b||"Agent"===a.party.type}function j(a){var b=f.sortBy(a.messages,"index");f.each(b,function(a){var b=e(a);"AgentConnected"===b.type?p+=1:"AgentDisconnected"===b.type&&0===(p-=1)&&x.SessionEnded&&(x.SessionEnded({reason:{id:2,description:""}}),this.stopPoll()),x[b.type]&&i(b)&&x[b.type](b)},this)}function k(a,b,e){var f=new q;return h.when(r).then(function(){h.ajax({url:s+encodeURIComponent(w)+(a||""),type:b,crossDomain:!0,data:"POST"===b?d.stringify(e,void 0,2):e,headers:{"Content-Type":"application/json"},xhrFields:{withCredentials:!0},success:function(a,b,c){g.noop(b),a.id&&(a.sessionId=a.id),c.getResponseHeader("X-CSRF-HEADER")&&c.getResponseHeader("X-CSRF-TOKEN")&&(B.CSRFHeaderName=c.getResponseHeader("X-CSRF-HEADER"),B.CSRFToken=c.getResponseHeader("X-CSRF-TOKEN")),c.getResponseHeader("genesys-awselb")&&(m=c.getResponseHeader("genesys-awselb")),c.getResponseHeader("genesys-jsessionid")&&(n=c.getResponseHeader("genesys-jsessionid")),f.resolve(a||{})},error:function(a){a=a||{},f.reject({error:{code:a.status,description:a.responseText||a.statusText}})},beforeSend:function(a){B.CSRFHeaderName&&B.CSRFToken&&a.setRequestHeader(B.CSRFHeaderName,B.CSRFToken),u?a.setRequestHeader("ContactCenterId",u):t&&(a.setRequestHeader("apikey",t),m&&a.setRequestHeader("genesys-awselb",m),n&&a.setRequestHeader("genesys-jsessionid",n))}})}),c(f)}function l(a){var b,c=new q;return t?b=s.replace(/v2\/chats\/?/,"v2/diagnostics/version"):(C.href=s,b=C.protocol+"//"+C.host+"/api/v2/diagnostics/version"),h.ajax({url:b,type:"GET",crossDomain:!0,data:{},headers:{"Content-Type":"application/json"},xhrFields:{withCredentials:!0},success:function(b,d,e){g.noop(b),g.noop(d),e.getResponseHeader("X-CSRF-HEADER")&&e.getResponseHeader("X-CSRF-TOKEN")&&(B.CSRFHeaderName=e.getResponseHeader("X-CSRF-HEADER"),B.CSRFToken=e.getResponseHeader("X-CSRF-TOKEN")),e.getResponseHeader("genesys-awselb")&&(m=e.getResponseHeader("genesys-awselb")),e.getResponseHeader("genesys-jsessionid")&&(n=e.getResponseHeader("genesys-jsessionid")),a&&a(),c.resolve()},error:function(){c.reject()},beforeSend:function(a){t&&a.setRequestHeader("apikey",t),u&&a.setRequestHeader("ContactCenterId",u)}}),c}if(!a||!a.contactCenterId&&!a.apikey)throw new Error("Contact center ID or apikey must be specified");var m,n,o=this,p=0,q=g.Deferred,r=new q,s=a.serverUrl.replace(/\/$/,""),t=a.apikey,u=t?null:a.contactCenterId,v=a.endpoint,w="",x={},y=!1,z=3e3,A=!0,B={},C=document.createElement("a");this.init=function(a){var b=g.Deferred();return a&&a.sessionId&&(w=a.sessionId,A=!1,o.startPoll()),b.resolve(),b.promise()},this.poll=function(){y||(y=!0,this.getTranscript(A?{index:0}:{}).done(function(a){j(a),y=!1}),A=!1)},this.startPoll=function(){this.stopPoll();var a=this;a.poll(),window.poll_int=setInterval(function(){a.poll()},z)},
this.stopPoll=function(){clearInterval(window.poll_int)},this.startSession=function(a){var b=a.userData||{},c={operationName:"RequestChat",nickname:a.username,subject:a.subject||"No Subject",userData:b};return b.Send_Chat_Transcript="true",v&&(c.endpoint=v),k("","POST",c).done(function(a){a.id&&(w=a.id),o.sendTyping({isTyping:!1}),o.startPoll()})},this.sendMessage=function(a){return k("","POST",{operationName:"SendMessage",text:a.message}).done(function(){o.poll()})},this.getTranscript=function(a){return k("/messages","GET",a)},this.leaveSession=function(){return this.stopPoll(),k("","POST",{operationName:"Complete"}).done(function(){x.SessionEnded({reason:{id:1,description:""}})}).fail(function(){x.SessionEnded({reason:{id:1,description:""}})})},this.sendTyping=function(a){return a=a||{},a.isTyping?k("","POST",{operationName:"SendStartTypingNotification"}):k("","POST",{operationName:"SendStopTypingNotification"})},this.setUserData=function(){return c(new q)},this.getUserData=function(){return c(new q)},this.deleteUserData=function(){return c(new q)},this.onAgentConnected=function(a){x.AgentConnected=a},this.onAgentTyping=function(a){x.AgentTyping=a},this.onAgentDisconnected=function(a){x.AgentDisconnected=a},this.onMessageReceived=function(a){x.MessageReceived=a},this.onSessionEnded=function(a){x.SessionEnded=a},this.onError=function(a){x.Error=a},b(),l(function(){r.resolve()})}var f=a("lodash"),g=a("./util"),h=a("jquery");g.defer;return c.exports=e,c.exports})}.call(this),function(){function a(a){return a.COOKIE||(a.COOKIE={},a.COOKIE.set=function(a,b,c){throw"Abstract"},a.COOKIE.get=function(a){throw"Abstract"}),a.ReloadExtension=function(b){function c(b){if(h&&null!==h.handshakeResponse){e(b),h.cookiePath=j;var c=a.JSON.toJSON(h);g("Reload extension saving cookie value",c),a.COOKIE.set(i,c,{"max-age":k,path:j,expires:new Date((new Date).getTime()+1e3*k)})}}function d(a){return h.url==a.url}function e(a){a&&("number"==typeof a.cookieMaxAge&&(k=a.cookieMaxAge),"string"==typeof a.cookieName&&(i=a.cookieName),"string"==typeof a.cookiePath&&(j=a.cookiePath))}var f,g,h=null,i="org.cometd.reload",j="/",k=5,l=!1;this.configure=e,this.registered=function(a,b){f=b,f.reload=c,g=f._debug},this.unregistered=function(){delete f.reload,f=null},this.outgoing=function(b){switch(b.channel){case"/meta/handshake":h={},h.url=f.getURL();var c=a.COOKIE.get(i);if(g("Reload extension found cookie value",c),c)try{var e=a.JSON.fromJSON(c);if(a.COOKIE.set(i,"",{"max-age":-1,path:e.cookiePath,expires:-1}),e.handshakeResponse&&d(e))return g("Reload extension restoring state",e),setTimeout(function(){g("Reload extension replaying handshake response",e.handshakeResponse),h.handshakeResponse=e.handshakeResponse,h.transportType=e.transportType,h.reloading=!0;var a=f._mixin(!0,{},h.handshakeResponse,{ext:{reload:!0}});a.supportedConnectionTypes=[h.transportType],f.receive(a),g("Reload extension replayed handshake response",a)},0),l||(l=!0,f.startBatch()),null;g("Reload extension could not restore state",e)}catch(a){g("Reload extension error while trying to restore cookie",a)}break;case"/meta/connect":h.transportType||(h.transportType=b.connectionType,g("Reload extension tracked transport type",h.transportType));break;case"/meta/disconnect":h=null}return b},this.incoming=function(a){if(a.successful)switch(a.channel){case"/meta/handshake":h.handshakeResponse||(h.handshakeResponse=a,g("Reload extension tracked handshake response",a));break;case"/meta/disconnect":h=null;break;case"/meta/connect":l&&(f.endBatch(),l=!1)}return a},e(b)}}"function"==typeof c&&c.amd?c("org/cometd/ReloadExtension",["org/cometd"],a):a(e.cometd)}(),function(a){"function"==typeof c&&c.amd?c("jquery.cookie",["jquery"],a):a(jQuery)}(function(a){function b(a){return a}function c(a){return decodeURIComponent(a.replace(f," "))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return g.json?d.parse(a):a}catch(a){}}var f=/\+/g,g=a.cookie=function(f,h,i){if(void 0!==h){if(i=a.extend({},g.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?d.stringify(h):String(h),document.cookie=[g.raw?f:encodeURIComponent(f),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=g.raw?b:c,m=document.cookie.split("; "),n=f?void 0:{},o=0,p=m.length;o<p;o++){var q=m[o].split("="),r=l(q.shift()),s=l(q.join("="));if(f&&f===r){n=e(s);break}f||(n[r]=e(s))}return n};g.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!0)}}),c("jquery.cometd-reload",["jquery","org/cometd","org/cometd/ReloadExtension","node_modules/webme-chat-js/dist/js/umd/util","jquery.cookie"],function(a,b,c,d){return function(e){a.cookie&&(b.COOKIE.set=d.rootCookie,b.COOKIE.get=d.rootCookie);var f=new c(e),g=f.outgoing;return f.outgoing=function(a){return"/meta/disconnect"===a.channel&&(d.log("CLEANING RELOAD EXTENSION STATE ON DISCONNECT ATTEMPT",a),f.incoming({channel:a.channel,successful:!0})),g(a)},f}}),c("node_modules/webme-chat-js/dist/js/umd/helpers/jQueryCometdWrapper",["jquery","jquery.cometd","jquery.cometd-reload"],function(a,b,c){return{Cometd:a.Cometd,ReloadExtension:c}}),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("transientSession",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/transientSession",["require","exports","module","lodash","./simpleEvent","./util"],a)}}).call(this,function(a,b,c){function d(a){var b=a.state,c=a.transport,d=a.logger||f.noop,l=f.Deferred;this.isAgentConnected=function(){return b.isAgentConnected},this.sendMessage=function(a){var f,m=new l,n=b&&b.sessionId;return n?(e.isString(a)&&(a={message:a,type:"text"}),i(a,{message:"string",type:"string"}),"text"!==a.type&&"url"!==a.type&&g('type must be "url" or "text"'),f={sessionId:n,message:a.message,type:a.type},d("transient session, sending message ",f),c.init().fail(k(m,d)).done(function(){c.sendMessage(f).fail(k(m,d)).done(function(){d("sending message done"),m.resolve()})}),h(m)):(m.reject(j({description:"There is no ongoing session"})),h(m))}}var e=a("lodash"),f=(a("./simpleEvent"),a("./util")),g=(f.defer,f.throwError),h=f.getSimplePromise,i=f.validateObject,j=f.createErrorEvent,k=f.createTransportFailureResolver;return c.exports=d,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("chat",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/chat",["require","exports","module","lodash","./util","./transientSession"],a)}}).call(this,function(a,b,c){function e(){var a=i.cookie(i.constants.TRANSIENT_COOKIE_NAME);return a?d.parse(a):null}function f(a,b,c,d,f){function o(a,b){var e;return a("Choosing transport..."),b&&h.isObject(b.transport)?(a("Custom transport is passed, using it: ",b.transport),e=b.transport):b&&(b.contactCenterId||b.apikey)?(a("contactCenterId or apikey is passed, using HTCC REST transport."),e=new c.HtccTransport({serverUrl:b.serverUrl,contactCenterId:b.contactCenterId,apikey:b.apikey,endpoint:b.endpoint})):(a("None additional parameters passed. Using CometD transport."),e=new c.CometDTransport({Cometd:d,disableWebSockets:b.disableWebSockets,serverUrl:b.serverUrl,ReloadExtension:f,log:b.logger,debugCometd:!!b.debugCometd,reloadCookieMaxAge:b.maxOfflineDuration})),e}function p(b){return b.stateStorage||new a({cookieMaxAge:b.maxOfflineDuration,log:b.logger})}function q(a){m(a,{serverUrl:{isa:"string",optional:!0},logger:{isa:"function",optional:!0}}),a.serverUrl||a.transport||k("either serverUrl or a custom transport must be provided")}function r(a){return t=a.logger||i.noop,t("Chat version: "+u),t}var s,t,u="850.6.10",v=i.Deferred,w="User";this.startSession=function(a){var c,d,e={source:"web",pageTitle:document.title,url:document.location.href,referrer:document.referrer};return q(a),m(a,{username:{isa:"string",optional:!0},userData:{isa:"object",optional:!0},subject:{isa:"string",optional:!0},contactCenterId:{isa:"string",optional:!0},apikey:{isa:"string",optional:!0},endpoint:{isa:"string",optional:!0},stateStorage:{isa:{write:{isa:"function"},read:{isa:"function"}},optional:!0}}),t=r(a),s=o(t,a),c=new v,d=p(a),d.write(null),t("startSession: initializing transport"),s.init().fail(n(c,t)).done(function(){var f=h.pick(a,["username","userData","subject"]);f.username||(f.username=w),f.userData=h.extend(e,f.userData),t("startSession: transport initialized, starting session ",f),s.startSession(f).fail(n(c,t)).done(function(e){var f;t("startSession request returned ",e);try{m(e,{sessionId:"string"})}catch(a){return t("startSession failed ",a),void c.reject({error:{code:0,description:a.message}})}f={sessionId:e.sessionId,serverUrl:a.serverUrl,lastIndex:0},a.contactCenterId&&(f.contactCenterId=a.contactCenterId,a.endpoint&&(f.endpoint=a.endpoint)),g=new b({state:f,transport:s,stateStorage:d,logger:t}),g.onSessionEnded(function(){g=null}),t("startSession succeeded"),c.resolve(g)})}),l(c)},this.restoreSession=function(a){var c,d,e,f;return a=a||{},m(a,{logger:{isa:"function",optional:!0},stateStorage:{isa:"object",optional:!0},fromIndex:{isa:"whole",optional:!0}}),t=r(a),c=new v,d=p(a),e=d.read(),e&&e.sessionId?(s=o(t,h.extend({},a,e)),f={state:e,transport:s,stateStorage:d,logger:t},t("restoreSession: initializing transport"),s.init(e).fail(n(c,t)).done(function(){t("restoreSession: transport initialized, restoring the session ",f),g=new b(f),g.onSessionEnded(function(){g=null}),d.write(null),c.resolve(g)})):(t("restoreSession() failed to read state"),c.reject({})),l(c)},this.getTransientSessionAPI=function(a){var b;return a=a||{},t=r(a),g?(t("getTransientSessionAPI(): returning full-featured session"),{isAgentConnected:g.isAgentConnected,sendMessage:g.sendMessage,isImmediate:!0}):(b=e())?(q(a),a.transient=!0,s=o(t,a),t("getTransientSessionAPI(): returning new transient session"),new j({transport:s,logger:t,state:b})):null},this.VERSION=u}var g,h=a("lodash"),i=a("./util"),j=a("./transientSession"),k=i.throwError,l=i.getSimplePromise,m=i.validateObject,n=(i.createErrorEvent,i.createTransportFailureResolver);return c.exports=f,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("session",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/session",["require","exports","module","lodash","./simpleEvent","./util"],a)}}).call(this,function(a,b,c){function e(a){function b(){j("session has ended")}function c(){la||b()}function e(){return!!ma.length}function x(){la&&(ia("updating cross-tab/window chat state"),h.cookie(h.constants.TRANSIENT_COOKIE_NAME,d.stringify({sessionId:da,isAgentConnected:e()}),{path:"/",domain:h.getCookieDomain(),expires:new Date((new Date).getTime()+1e4)}),clearTimeout(ba),ba=setTimeout(x,5e3))}function y(){clearTimeout(ba),h.cookie(h.constants.TRANSIENT_COOKIE_NAME,"",{path:"/",domain:h.getCookieDomain(),expires:-1})}function z(){fa.write(f.extend(a.state,{lastIndex:ha})),y()}function A(){ia("binding session unload handlers"),window.addEventListener?(window.addEventListener("unload",z,!1),window.addEventListener("beforeunload",z,!1)):(window.attachEvent("onunload",z),window.attachEvent("onbeforeunload",z))}function B(){ia("unbinding state saving"),window.removeEventListener?(window.removeEventListener("unload",z,!1),window.removeEventListener("beforeunload",z,!1)):(window.detachEvent("onunload",z),window.detachEvent("onbeforeunload",z))}function C(a,b){ia("replaying transcript"),f.each(a,function(a){var c;a.type?c=oa[a.type]:a.error&&(c=oa[o]),c&&(a.restored=!!b,c.transportListener(a))})}function D(){return ka+"."+da}function E(){_&&(ia("clearing history storage"),ga.removeItem(D()))}function F(){var a=new ja;return c(),ia("fetching history from server"),ca.getTranscript().done(function(b){ia("fetched history from server ",b),b&&b.transcript&&a.resolve(b.transcript)}),a}function G(a){var b;return f.each(a,function(a){a.index&&(b=a.index)}),b}function H(){var a,b,c=new ja;return _?(a=d.parse(ga.getItem(D())))&&a.length?(ia("history found in storage ("+a.length+" messages). Last index: "+f.last(a).index),(b=G(a))!==ha?(ia("history and state indexes do not match",b,ha),c.reject(),c):(i(function(){c.resolve(a)}),c)):(ia("no history found in storage"),c.reject(),c):(c.reject(),c)}function I(a){C(a,!0)}function J(){H().done(I).fail(function(){F().done(I)})}function K(){ia("session ended, clearing up"),B(),E(),la=!1,ma=[]}function L(){y(),K(),ea.disconnect&&ea.disconnect()}function M(a){ma.push(a.party.id),x()}function N(a){ma=f.without(ma,a.party.id),x()}function O(a){var b={};return b[na[a]]=!0,b}function P(a){return function(b){l(arguments,[{isa:"function"}]),ia("adding a callback for "+a),oa[a].event.add(b)}}function Q(a){var b={};return b[a.toLowerCase()]=!0,b}function R(a){l(a,{party:{id:"number",name:"string"},index:"natural"})}function S(a){l(a,{content:"object",party:{id:"number",name:"string",type:"string"},index:"natural",timestamp:"number"}),f.contains(["Client","Agent","External","Supervisor"],a.party.type)||j("party.type is not recognized")}function T(a){l(a,{isTyping:"boolean",party:{id:"number",name:"string"},index:"natural"})}function U(a){l(a,{reason:{id:"natural",description:"string"}}),na[a.reason.id]||j("unknown session end reason.id: "+a.reason.id)}function V(a){return{party:{id:a.party.id,name:a.party.name},index:a.index,timestamp:a.timestamp,restored:!!a.restored}}function W(a){return{content:a.content,timestamp:a.timestamp,index:a.index,restored:!!a.restored,party:{id:a.party.id,name:a.party.name,type:Q(a.party.type)}}}function X(a){return{party:{id:a.party.id,name:a.party.name},isTyping:a.isTyping,index:a.index}}function Y(a){return{reason:O(a.reason.id),restored:!!a.restored}}function Z(a){return a=a||{},{error:a.error||m().error,restored:!!a.restored}}function $(a){var b=oa[a];return f.each(b.innerListeners,function(a){b.event.add(a)}),function(c){if(ia('got "'+a+'" raw transport event ',d.stringify(c)),w)try{b.validate(c)}catch(b){return void oa[o].event.fire(m({code:151,description:"Transport error in "+a+" event ("+b.message+")"}))}if(!1!==b.saveToHistory){if(c&&!c.restored&&ha>=c.index)return void ia("Event with index "+c.index+" was already processed, skipping");aa(c),c.index&&(ha=c.index)}b.event.fire(b.filter(c))}}var _,aa,ba,ca=this,da=a.state.sessionId,ea=a.transport,fa=a.stateStorage,ga=a.sessionStorage||window.sessionStorage,ha=a.state.lastIndex,ia=a.logger||h.noop,ja=h.Deferred,ka="com.genesys.chat",la=!0,ma=[],na=[void 0,"leaveRequest","agent","error"],oa={};_=function(){ia("testing sessionStorage support...");try{return ga.setItem(ka,ka),ga.removeItem(ka),ia("...supported"),!0}catch(a){return ia("...not supported"),!1}}(),aa=function(){var a=[];return _?function(b){f.isArray(b)?a=a.concat(b):a.push(b),ia("saving history to storage ("+a.length+" messages). Last index: "+f.last(a).index),ga.setItem(D(),d.stringify(a))}:h.noop}(),this.sendMessage=function(a){var b,d;return c(),f.isString(a)&&(a={message:a,type:"text"}),l(a,{message:"string",type:"string"}),"text"!==a.type&&"url"!==a.type&&j('type must be "url" or "text"'),b=new ja,d={sessionId:da,message:a.message,type:a.type},ia("sending message ",d),ea.sendMessage(d).fail(n(b,ia)).done(function(){ia("sending message done"),b.resolve()}),k(b)},this.getTranscript=function(a){var b,d;return c(),a=a||{fromIndex:0},l(a,{fromIndex:"number"}),a&&a.fromIndex<0&&j('"fromIndex" must be >= 0'),b=new ja,d={sessionId:da,fromIndex:a&&a.fromIndex||0},ia("sending getTranscript ",d),ea.getTranscript(d).fail(n(b,ia)).done(function(a){if(ia("getTrasncript returned ",a),!a||!a.transcript)return void b.reject(m({description:"No transcript came from transport"}));b.resolve({transcript:a&&a.transcript})}),k(b)},this.sendTyping=function(a){var b,d={};return c(),a=a||{isTyping:!0},l(a,{isTyping:"boolean",typedText:{isa:"string",optional:!0}}),d.isTyping=a.isTyping,d.sessionId=da,a.typedText&&(d.typedText=a.typedText),b=new ja,ia("sending sendTyping ",d),ea.sendTyping(d).fail(n(b,ia)).done(function(){ia("sendTyping done"),b.resolve()}),k(b)},this.leave=function(){var a=new ja;return c(),K(),ia("sending leaveSession ",da),ea.leaveSession({sessionId:da}).fail(n(a,ia)).done(function(b){ia("leaveSession done ",b),b&&b.transcript&&b.transcript.length&&(C(b.transcript,!1),aa(b.transcript)),oa[t].event.fire({reason:O(1),restored:!1}),a.resolve()}),k(a)},this.setUserData=function(a){var b,d;return c(),l({params:a},{params:"plainObject"}),b=new ja,d={userData:a,sessionId:da},ia("sending setUserData",d),ea.setUserData(d).fail(n(b,ia)).done(function(){ia("setUserData done"),b.resolve()}),k(b)},this.getUserData=function(a){var b,d;return c(),f.isString(a)||j("string key is required. Given: "+typeof a),b=new ja,d={keys:[a],sessionId:da},ia("sending getUserData ",d),ea.getUserData(d).fail(n(b,ia)).done(function(a){if(ia("getUserData done ",a),!(a&&a.userData))return void b.reject(m({description:"No userData came from transport"}));b.resolve({userData:a&&a.userData||{}})}),k(b)},this.deleteUserData=function(a){var b,d;return c(),f.isString(a)||j("string key is required. Given: "+typeof a),b=new ja,d={keys:[a],sessionId:da},ia("sending deleteUserData ",d),ea.deleteUserData(d).fail(n(b,ia)).done(function(){ia("deleteUserData done"),b.resolve()}),k(b)},oa[p]={validate:R,filter:V,event:new g,innerListeners:[M]},oa[q]={validate:R,filter:V,event:new g,innerListeners:[N]},oa[s]={validate:S,filter:W,event:new g},oa[r]={validate:T,filter:X,event:new g,saveToHistory:!1},oa[t]={validate:U,filter:Y,event:new g,innerListeners:[L]},oa[u]={validate:h.noop,filter:h.noop,event:new g,saveToHistory:!1},oa[v]={validate:h.noop,filter:h.noop,event:new g,saveToHistory:!1},oa[o]={validate:h.noop,filter:Z,event:new g},f.each(oa,function(a,b){a.transportListener=$(b)}),ea.onError(oa[o].transportListener),ea.onAgentConnected(oa[p].transportListener),ea.onAgentDisconnected(oa[q].transportListener),ea.onAgentTyping(oa[r].transportListener),ea.onMessageReceived(oa[s].transportListener),ea.onSessionEnded(oa[t].transportListener),ea.onInterrupted&&ea.onInterrupted(oa[u].transportListener),ea.onContinued&&ea.onContinued(oa[v].transportListener),this.onError=P(o),this.onAgentConnected=P(p),this.onAgentDisconnected=P(q),this.onAgentTyping=P(r),this.onMessageReceived=P(s),this.onSessionEnded=P(t),this.onInterrupted=P(u),this.onContinued=P(v),this.isAgentConnected=e,A(),x(),0!==ha&&J()}var f=a("lodash"),g=a("./simpleEvent"),h=a("./util"),i=h.defer,j=h.throwError,k=h.getSimplePromise,l=h.validateObject,m=h.createErrorEvent,n=h.createTransportFailureResolver,o="Error",p="AgentConnected",q="AgentDisconnected",r="AgentTyping",s="MessageReceived",t="SessionEnded",u="Interrupted",v="Continued",w=!0;return c.exports=e,c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("helpers/apiWrapper",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/helpers/apiWrapper",["require","exports","module","../cometdTransport","../htccRestTransport","../stateStorage","./jQueryCometdWrapper","../chat","../session","lodash"],a)}}).call(this,function(a,b,c){var d=a("../cometdTransport"),e=a("../htccRestTransport"),f=a("../stateStorage"),g=a("./jQueryCometdWrapper"),h=a("../chat"),i=a("../session");a("lodash");return c.exports=new h(f,i,{CometDTransport:d,HtccTransport:e},g.Cometd,g.ReloadExtension),c.exports})}.call(this),function(){"function"!=typeof c||c.amd;(function(a){if("object"==typeof exports){var d=new(b("urequire").NodeRequirer)("helpers/widgetWrapper",module,b,__dirname,".",void 0);module.exports=a(d.require,exports,module)}else{if("function"!=typeof c||!c.amd)throw new Error("uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`");c("node_modules/webme-chat-js/dist/js/umd/helpers/widgetWrapper",["require","exports","module","../ui/chatInitializer","../ui/chatController","../paramsConverter","./apiWrapper"],a)}}).call(this,function(a,b,c){var d=a("../ui/chatInitializer"),e=a("../ui/chatController"),f=a("../paramsConverter"),g=a("./apiWrapper");return c.exports=new d(f,e,g),c.exports})}.call(this),function(a,d){"function"==typeof c&&c.amd?c("src/js/tracker/utility",["jquery"],d):"object"==typeof exports?module.exports=d(b("jquery")):a.utility=d(a.jQuery)}(this,function(a){function b(){function b(a,b){return void 0!==a.attributes[b]}function c(a,c){var d,e=window.document.getElementsByTagName(a);if(0===e.length)return null;for(d=0;d<e.length;d+=1)if(b(e[d],c))return e[d];return null}this.getBrowserInfo=function(){var a=window.navigator.appName,b=window.navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),d=b.match(/version\/([\.\d]+)/i);return c&&d&&(c[2]=d[1]),c?{name:c[1],family:parseInt(c[2].substring(0,c[2].indexOf(".")),10),version:c[2]}:{name:a,family:"?",version:window.navigator.appVersion}},this.sleep=function(a){for(var b=new Date,c=new Date;c-b<a;)c=new Date},this.generateUUID=function(){var a=window.crypto||window.msCrypto;return a&&a.getRandomValues&&window.Uint32Array&&"function"==typeof window.Uint32Array?this.generateUUIDCrypto():this.generateUUIDRandom()},this.replaceCharAt=function(a,b,c){var d=a.split("");return d[b]=c,d.join("")},this.generateUUIDRandom=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var b=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a();return b=this.replaceCharAt(b,14,"4"),b=this.replaceCharAt(b,19,"8")},this.generateUUIDCrypto=function(){var a,b,c,d=window.crypto||window.msCrypto;return b=new Uint16Array(8),d.getRandomValues(b),a=function(a){for(var b=a.toString(16);b.length<4;)b="0"+b;return b},c=a(b[0])+a(b[1])+"-"+a(b[2])+"-"+a(b[3])+"-"+a(b[4])+"-"+a(b[5])+a(b[6])+a(b[7]),c=this.replaceCharAt(c,14,"4"),c=this.replaceCharAt(c,19,"8")},this.parseJSON=function(a){var b;try{b=d.parse(a)}catch(b){window&&window.console&&window.console.log("ERROR parseJSON: invalid JSON: "+a,b)}return b},this.parseXML=function(a){if(!a||"string"!=typeof a)return null;var b,c;try{window.DOMParser?(c=new window.DOMParser,b=c.parseFromString(a,"text/xml")):(b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(a){b=void 0}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||(window&&window.console&&window.console.log("ERROR parseXML: invalid XML: "+a),b=void 0),b},this.sendFormPost=function(a,b){var c,d,e,f,g="__frameSend__"+1e17*Math.random(),h=this.getBrowserInfo();"msie"===h.name.toLowerCase()&&h.family<9?c=window.document.createElement('<iframe name="'+g+'"/>'):(c=window.document.createElement("iframe"),c.setAttribute("name",g)),c.style.display="none",d=window.document.createElement("form"),d.setAttribute("method","POST"),d.setAttribute("target",g),d.setAttribute("action",a),d.setAttribute("accept-charset","utf-8"),e=window.document.createElement("input"),e.setAttribute("type","hidden"),e.setAttribute("name","event"),e.setAttribute("value",b),d.appendChild(e),f=window.document.createElement("input"),f.setAttribute("type","submit"),f.setAttribute("onClick","this.form.submit()"),f.style.display="none",d.appendChild(f),window.document.body.appendChild(d),window.document.body.appendChild(c),f.click()},this.loadJS=function(a){var b,c=window.document.createElement("script");c.type="text/javascript",c.src=a,c.async=!1,c.onload=function(){c.onload=null},b=window.document.getElementsByTagName("head"),b.length>0?b[0].appendChild(c):window.document.body.appendChild(c)},this.loadJSCallback=function(a,b){var c=window.document.createElement("script");c.type="text/javascript",c.async=!0,c.readyState?c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onreadystatechange=null,b&&b())}:c.onload=function(){b&&b()},c.src=a,window.document.getElementsByTagName("head")[0].appendChild(c)},this.loadCSS=function(a){var b,c=window.document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,c.async=!1,b=window.document.getElementsByTagName("head"),b.length>0?b[0].appendChild(c):window.document.body.appendChild(c)},this.isXMLHttpRequestAvailable=function(a){if(a&&a.XMLHttpRequest){if(void 0!==(new a.XMLHttpRequest).withCredentials)return!0}return!1},this.sendUsingIMG=function(a,b,c){var d,e=window.document.createElement("img");e.src=a,e.style.display="none",e.onload=function(){e.onload=null,b&&b()},e.onerror=function(){e.onerror=null,c&&c()},d=window.document.getElementsByTagName("head"),d.length>0?d[0].appendChild(e):window.document.body.appendChild(e)},this.sendBeacon=function(a,b){return window.navigator.sendBeacon(a,b)},this.sendAjaxGET=function(b,c,d){a.ajax({method:"GET",type:"GET",url:b,contentType:"text/plain;charset=UTF-8",dataType:"jsonp",async:!0,crossDomain:!0,xhrFields:{withCredentials:!0},beforeSend:function(a){return a.withCredentials=!0,!0},success:function(a){c&&c(a)},error:function(a,b,c){d&&d(a,b,c)}})},this.sendAjaxPOST=function(b,c,d,e){a.ajax({method:"POST",type:"POST",url:b,data:c,contentType:"text/plain;charset=UTF-8",async:!0,crossDomain:!0,xhrFields:{withCredentials:!0},beforeSend:function(a){return a.withCredentials=!0,!0},success:function(){d&&d()},error:function(a,b,c){e&&e(a,b,c)}})},this.getUrlVars=function(a){var b,c,d=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(c=0;c<e.length;c+=1)b=e[c].split("="),d.push(b[0]),d[b[0]]=b[1];return d[a]},this.bind=function(b,c,d,e){if(a.prototype.on)a(window.document).on(c,b,e,d);else if(a.prototype.delegate)a(window.document).delegate(b,c,e,d);else{if(!a.prototype.bind)throw"Cannot bind event";a(b).bind(c,e,d)}},this.isSecure=function(a){return!(!a||0!==a.toLowerCase().indexOf("https"))},this.locationRealod=function(){window.location.reload()},this.getVariableNameByScriptAttrName=function(a,b,d){var e,f=c(a,b);return f&&(e=f.getAttribute(b)),e||d},this.getVariableFromGlobalScopeByName=function(a){var b,c=a.split("."),d=c.length,e=window;for(b=0;b<d;b+=1)e=e[c[b]];return e},this.createVaiableByName=function(a,b){var c,d=b.split("."),e=a,f=d.length;for(c=0;c<f;c+=1)e[d[c]]||(e[d[c]]={}),e=e[d[c]];return e},this.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a))+a},this.replaceSpecialChars=function(a,b){var c="";return b&&(c=b),a&&"string"==typeof a?a.replace(/[&\/|\\\\#,+()$~%.'":*?<@>\\{\\}]/g,c):a},this.evaluate=function(b,c){return b="return "+b+";",window.Function("window","document","$","event",b).call(null,window,document,a,c)},this.getHostnameFromUrl=function(a){if(a){var b=document.createElement("a");return b.href=a,b.hostname}}}return new b}),function(a,d){"function"==typeof c&&c.amd?c("src/js/chat/index.js",["node_modules/webme-chat-js/dist/js/umd/helpers/widgetWrapper","../tracker/utility","jquery"],d):"object"==typeof exports?module.exports=d(b("node_modules/webme-chat-js/dist/js/umd/helpers/widgetWrapper"),b("../tracker/utility"),b("jquery")):d(a.chat,a.utility,a.$)}(this,function(a,b,c){function e(a){window.console&&window.console.log("GWC "+a)}function f(a){u.debug&&e("LOG: "+a)}function g(a){e("ERROR: "+a)}function h(a){throw new Error("GWC: "+a)}function i(){var a=b.getVariableNameByScriptAttrName("script",s.SCRIPT_DATA_ATTR_NAME,s.GLOBAL_CHAT_OBJECT_NAME_DEFAULT);return r=b.getVariableFromGlobalScopeByName(a),r||h('Config variable "'+a+'" is not defined on the page'),c.extend({},t,r)}function j(a){c.isFunction(a)?(f("sendOnReadyCallback() call onReady callback"),a(q)):g("onReady callback should be a function")}function k(){f("sendOnReadyPushMethod()"),r&&(c.isArray(r.onReady)||(r.onReady=[]),r.onReady.push=j)}function l(){f("handleOnReadyCallbacks()"),c.isFunction(u.onReady)&&(u.onReady=[u.onReady]),c.isArray(u.onReady)?c.each(u.onReady,function(a,b){j(b)}):g("onReady should be array type"),k()}function m(b){var e=c.extend(!0,{},u,b);return f("startChat options:"+d.stringify(b)),f("startChat start options:"+d.stringify(e)),a.startChat(e)}function n(b){var e=c.extend(!0,{},u,b);return f("restoreChat options:"+d.stringify(b)),f("restoreChat restore options:"+d.stringify(e)),a.restoreChat(e)}function o(){f("initPublicAPI()"),q=c.extend(!0,{},a,{startChat:m,restoreChat:n})}function p(){window.external&&window.external.isGenesysTrackerDisable||window.name&&-1!==window.name.indexOf("disableWebme")||(t.errorFunc=g,t.logFunc=f,u=i(),f("init() config:"+d.stringify(u)),f("init() jQuery version: "+c.prototype.jquery),o(),l(),u.embedded&&u.autoRestore&&n().done(function(){f("autoRestore: chat has been started")}).fail(function(){f("autoRestore: fail to start chat")}))}var q,r,s={SCRIPT_DATA_ATTR_NAME:"data-gwc-var",GLOBAL_CHAT_OBJECT_NAME_DEFAULT:"_gwc"},t={serverUrl:"",autoRestore:!0,debug:!1,debugCometd:!1,logFunc:function(){},errorFunc:function(){},onReady:[]},u={};c(window.document).ready(p)}),a.config({map:{"*":{lodash:"underscore",URIjs:"URI","simply-deferred":"jquery"}}}),b("src/js/chat/index.js"),b("dist/modules/trackerApplicationModule.js")}).call({});
