(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{354:function(e,t){e.exports=function(e,t){return["$parse",function(n){return{link:function(r,a,o){var i,s,c=n(o[e]);function l(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function u(e){i=l(e),s=!0}function d(){s=!1}function p(e){(function(e){if(!i)return!1;var n=Math.abs(e.y-i.y),r=(e.x-i.x)*t;return s&&n<75&&r>30&&n/r<.3})(l(e))&&r.$apply((function(){c(r,{$event:e})}))}a.bind("touchstart mousedown",u),a.bind("touchend mouseup",p),a.bind("touchcancel",d),r.$on("$destroy",(function(){a.unbind("touchstart mousedown",u),a.unbind("touchend mouseup",p),a.unbind("touchcancel",d)}))},restrict:"A"}}]}},359:function(e,t){e.exports=function(){return{link:function(e,t,n){e.$watch(n.thumbnailScroll,(function(e){if(e){var n=t[0],r=n.parentNode,a=n.offsetLeft,o=a+n.offsetWidth,i=r.offsetWidth,s=r.scrollLeft,c=s;a<s?c=a:o>s+i&&(c=o-i-r.offsetLeft),c<0&&(c=0),r.scrollLeft!==c&&(r.scrollLeft=c)}}))},restrict:"A"}}},360:function(e,t){e.exports=["$anchorScroll","$location",function(e,t){return{link:function(n,r,a){if(t.hash()){var o=a.scrollOffset,i=void 0===o?0:o;e.yOffset=parseInt(i,10),e()}},restrict:"A"}}]},368:function(e,t){e.exports=function(){return function(e,t){return e&&e.address?"".concat(t+e.id.substr(0,2).toUpperCase(),"/").concat(e.id,"/").concat(e.id,"A1.JPG"):""}}},386:function(e,t,n){e.exports=angular.module("chApp.boostrapUi",[n(648).name,n(649).name,n(652).name])},387:function(e,t){e.exports={BED_PREFERENCES:{"1_DOUBLE":{name:"cp.oneDoubleBed",params:{rooms:1,type:"DOUBLE"}},"1_KING":{name:"cp.kingBed",params:{rooms:1,type:"KING"}},"2_DOUBLE":{name:"cp.twoDoubleBeds",params:{rooms:2,type:"DOUBLE"}}},EXTRA_BED_OPTIONS:{CRIB:{bedCode:"crib",cost:0,name:"propertyRates.optionsCrib"},DEFAULT:{bedCode:"default",cost:0,name:"propertyRates.addBedCrib"},NONE:{bedCode:"none",cost:0,name:"propertyRates.optionsNone"},ROLLAWAY:{bedCode:"rollaway",cost:0,name:"propertyRates.optionsRollaway"}}}},388:function(e,t){e.exports={ANALYTICS:{BRAND:"CrumbBrandHotels",CITY:"CrumbCity",HOME:"CrumbHome",POI:"CrumbPoi",PROP:"CrumbProp",STATE:"CrumbState"}}},390:function(e,t){e.exports={EN:[{name:"Choice Employee Rate",ratePlanCode:"SED"},{name:"Friends & Family Rate",ratePlanCode:"LFF"},{name:"International Employee Rate",ratePlanCode:"LEMPL"}],ES:[{name:"Tarifa de Empleado Choice",ratePlanCode:"SED"},{name:"Tarifa de Amigos y Familia",ratePlanCode:"LFF"},{name:"Tarifa Internacional de Empleado",ratePlanCode:"LEMPL"}],FR:[{name:"Tarif d' EmployÃ© de Choice",ratePlanCode:"SED"},{name:"Tarif d' Amis et Famille",ratePlanCode:"LFF"},{name:"Tarif d' Employe International",ratePlanCode:"LEMPL"}]}},391:function(e,t){e.exports={BANNER_TYPES:{VACATION_RENTALS:"VR",WOOD_SPRING:"WS"},BUSINESS_FUNCTION:{VIEW_HOTEL:"view_hotel"},DEFAULT_LOAD_HOTEL_IMAGE_COUNT:3,DEFAULT_LOAD_HOTEL_IMAGE_COUNT_FOR_MOBILE:8,EXTENDED:"EXTENDED",HOTEL_MAX_SEARCH_RESULTS:3,HOTEL_SEARCH_SORT_ORDER:"DISTANCE",HOTEL_STATUS:{INACTIVE:"INACTIVE",SUSPENDED:"SUSPENDED",TERMINATED:"TERMINATED"},HOTELS_NEARBY_SEARCH_RADIUS:10,LAZY_LOAD_HOTEL_IMAGE_COUNT:1,MIDSCALE:"MIDSCALE",OPTIMIZE_RESPONSE:{IMAGE_URL:"image_url"},PACKAGES:{FALLBACK_IMAGE:"/assets/images/cp-logo-medium.png"},PROPERTY_TABS:["REVIEWS","AMENITIES","MAP","MEETINGS","PACKAGES"],TEMPLATE:{AC:"UPSCALE",BR:"UPSCALE",CL:{FR:"UPSCALE",default:"MIDSCALE"},MS:"EXTENDED",SB:"EXTENDED",default:"MIDSCALE"},UPSCALE:"UPSCALE"}},392:function(e,t){e.exports={BOUNDS:{east:-70,north:50,south:30,west:-120},CONFIG:{credentials:"AhWjEkph-0Gf5hLefV-CiaK05jAnyWfM30VcEbHIdYxlinHb7jiJPYGqNx0vK7Ep",disableBirdseye:!0,disableScrollWheelZoom:!0,enableClickableLogo:!0,enableSearchLogo:!1,handlerThrottle:150,mobileDisplayRadius:10,navigationBarOrientation:1,showBreadcrumb:!1,showCopyright:!0,showLocateMeButton:!1,showMapTypeSelector:!1,showScalebar:!1,zoom:12,zoomOutLevel:10},DISTANCE_CALCULATIONS:{DEGREES_TO_RADIANS:Math.PI/180,EARTH_RADIUS_IN_MILES:3959,RADIANS_TO_DEGREES:180/Math.PI},EVENTS:{MAP:{click:"bing-map-click",ready:"bing-map-ready"},PANELS:{clear:"shared-bing-map-clear-entities"},PUSHPIN:{click:"bing-map-pushpin-click",out:"bing-map-pushpin-out",over:"bing-map-pushpin-over"}},MAP_BREAK_POINTS:{small:1024},MAP_IDS:{fullViewMap:"Map",hotelLargeMap:"hotelLargeMap",splitViewMap:"Split",thumbnailMap:"hotelThumbMap"},MAP_PIN_SCROLL:{height:105},MODULES:{PUSHPIN_MODULE:"HtmlPushpinLayerModule"},PANELS:{mapDirections:"mapDirections",searchNearby:"searchNearby",thingsToDo:"thingsToDo"},ROUTE_TYPES:{driving:"driving",transit:"transit",walking:"walking"},SRC:"https://www.bing.com/api/maps/mapcontrol?",STATIC_SRC:"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/",TIME_TYPES:{arrival:"arrival",departure:"departure",now:"now"},ZOOM:5}},393:function(e,t){e.exports={ENAME_WRITE:"Write",ETYPE_WRITE:"Write",EVENT_SOURCE_ACTION:"Action",EVENT_TARGET_REVIEW:"Review",PAGE_STATUS_ALREADY_SUBMITTED:"REVIEW_ALREADY_SUBMITTED",PAGE_STATUS_THANK_YOU:"REVIEW_THANKYOU",REVIEWS_LANG:{en:"en_US",es:"es_US",fr:"fr"},REVIEWS_NO_SHOW:"No show",SEO_MATCH_BASE_URL:/\{INSERT_PAGE_URI\}/g,SEO_MATCH_BVRRP:/\??bvrrp=6713-en_us\/reviews\/product\/([0-9]+)\/\S{5}\.htm/gi,SEO_MATCH_BVSTATE:/[?#!]*bvstate=ct:.\/pg:([0-9]*)\/st:p\/id:\S{5}/g,SEO_REMOVE_SCRIPT:/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,SEO_REMOVE_UL:/<ul\b (id='BVSEOCPS_GEN'|id="BVSEOCPS_GEN"|id="BVSEO_meta"|id='BVSEO_meta')[\s\S]*<\/ul>/gi,SEO_REPLACE_COLON:/%3A/gi}},394:function(e,t,n){e.exports={controller:["$location","$q","$rootScope","$sessionStorage","$timeout","$transitions","campaignHelper","cookieConst","cookieHelper","deviceConst","eventsConst","expansionBannerConst","globalLoaderCounter","omniture","siteConfig",function(e,t,n,r,a,o,i,s,c,l,u,d,p,f,h){var g,m=angular.noop,y=this;function E(){o.onStart({},(function(){return v()})),o.onSuccess({},(function(){return A()})),m(),A()}function A(){var t;y.showing=!r.hideExpansionBanner&&(h.deviceType===l.DESKTOP?!d.DESKTOP_BLACKLIST.test(e.path()):!d.MOBILE_BLACKLIST.test(e.path())),t=e.path().split("/").pop(),y.padded=h.deviceType===l.DESKTOP&&d.PADDING_LIST.test(t),function(){if(!y.showing||h.deviceType===l.MOBILE)return void v();var e=s["EXPANSION_BANNER_".concat(y.campaignId)].name;c.getCookie(e)||(c.setCookie(e,!0),C().finally((function(){g=a(v,d.AUTO_COLLAPSE_TIMEOUT)})))}()}function P(){a.cancel(g)}function v(){P(),y.expanded=!1}function C(){return P(),y.preloadBackground=0===y.backgroundPromise.promise.$$state.status,p.inc(),t.all([y.backgroundPromise.promise,y.contentPromise.promise]).finally((function(){y.loaded=!0,y.preloadBackground=!1,y.expanded=!0,p.dec()}))}angular.extend(y,i.getActiveCampaign("EXPANSION_BANNER_{CAMPAIGN_ID}")),y.campaignId&&!r.hideExpansionBanner&&(y.toggleExpandCollapse=function(){f.sendAnalyticsViaPageLoad({pageName:f.getPreviousPageName(),prop54:"".concat(y.expanded?"collapse":"expand","PromoBanner")}),y.expanded?v():C()},y.hide=function(){r.hideExpansionBanner=!0,y.showing=!1},y.backgroundPromise=t.defer(),y.contentPromise=t.defer(),y.expanded=!1,y.loaded=!1,y.showing=!1,y.className="expansion-banner-".concat(y.campaignId.toLowerCase()),m=n.$on(u.PAGE_LOADED,E))}],controllerAs:"expansionBanner",replace:!0,template:n(705)}},395:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports={bindings:{brandCode:"@",international:"@"},controller:["brandConst","brandHotelsMapConst","deviceConst","hotelService","searchHelper","searchService","siteConfig",function(e,t,r,a,o,i,s){var c=this;c.brandName=e.BRAND_NAMES[c.brandCode],c.isMobile=s.deviceType===r.MOBILE,c.loaded=!1,a.getBrandHotels(c.brandCode,{include:"rating"}).then((function(e){c.brandHotels=e.data.hotels,"false"===c.international&&(c.brandHotels=c.brandHotels.filter((function(e){return"US"===e.address.country}))),c.locationsByCountry=a.extractHotelLocations(c.brandHotels),c.locationsByCountry.international&&(c.international=!0),c.isMobile?c.loaded=!0:function(){c.generateLatitudes=function(e){for(var t={},n=0;n<=100;)t[n]=[],n+=e;return t},c.generateCoordinates=function(e){for(var t={},n=0;n<=100;)t[n]=c.generateLatitudes(e),n+=e/2;return t},c.graphObject=c.generateCoordinates(10);var e=function(e,t,n){return(Math.abs(n)-Math.abs(e))/(Math.abs(n)-Math.abs(t))*100},r=t.BOUNDS.contiguous,a=r.lat,o=r.lon;c.locationGroups=[];for(var i=c.brandHotels.slice(),s=0;s<c.brandHotels.length;s++){var l=c.brandHotels[s];if(l.lat&&l.lon){var u=10*Math.round(e(+l.lat,a.min,a.max)/10),d=5*Math.round(e(+l.lon,o.min,o.max)/5);if(c.graphObject[d]&&Array.isArray(c.graphObject[d][u])&&c.graphObject[d][u].length&&"US"===l.address.country){if(c.graphObject[d][u].push(l),i.splice(i.map((function(e){return e.id})).indexOf(l.id),1),!c.graphObject[d][u][0].responseRemoved){c.locationGroups.push({latPercent:u,lonPercent:d});var p=n(c.graphObject[d][u],1)[0];i.splice(i.map((function(e){return e.id})).indexOf(p.id),1),p.responseRemoved=!0}}else"US"===l.address.country&&"HI"!==l.address.subdivision&&"AK"!==l.address.subdivision&&(l.responseRemoved=!1,c.graphObject[d][u].push(l))}}c.locationGroups.forEach((function(e){e.group=c.graphObject[e.lonPercent][e.latPercent],e.address=e.group[e.group.length-1].address,e.lat="".concat(e.group.reduce((function(e,t){return e+ +t.lat}),0)/e.group.length),e.lon="".concat(e.group.reduce((function(e,t){return e+ +t.lon}),0)/e.group.length),(2===e.group.length&&"Pre-Sell"===e.group[0].closureReason||"Pre-Sell"===e.group[1].closureReason)&&(e.presaleStyle=e.group[0].closureReason===e.group[1].closureReason?"presale-sm":"presale-md")})),c.locations=i,c.loaded=!0}()}))}],controllerAs:"brandMapBlade",replace:!0,templateUrl:["siteConfig",function(e){return"/".concat(e.assetFingerprint,"/app/directives/brand-hotels-map/brand-map-blade").concat(e.fileSuffix,".html")}]}},396:function(e,t){e.exports=["$interval","$window","loadScript",function(e,t,n){return{link:function(t,r){n("//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5666783892c842e9",{cache:!1}).then(e((function(){var e=r.find("span"),t=angular.element(document.getElementById("at16pcc")),n=angular.element(document.createElement("div"));n.addClass("popup-wrapper"),t.wrap(n),e.length&&(e.removeClass("at-icon-wrapper"),e.addClass("ch-icon ch-icon-share ch-icon-wrapper"),e.find("svg").remove(),r.removeClass("hide"))}),1e3,10))},restrict:"A"}}]},397:function(e,t){e.exports=["siteConfig","cookieHelper","cookieConst",function(e,t,n){return{link:function(e,r,a,o){if("CA"===t.getCookie(n.AKCC.name)&&!t.cookiesAllowed())var i=e.$watch("".concat(o.$name,".$dirty"),(function(e){e&&(t.setCookieConsent(),i())}))},replace:!1,require:"form",restrict:"A"}}]},398:function(e,t){e.exports=["siteConfig","cookieHelper","featureFlags",function(e,t,n){return{link:function(e,r,a,o){if(n.EEA_GDPR&&!t.cookiesAllowedForEEA())var i=e.$watch("".concat(o.$name,".$dirty"),(function(e){e&&(t.setCookieConsent(),i())}))},replace:!1,require:"form",restrict:"A"}}]},399:function(e,t){e.exports=function(){return{link:function(e,t,n){e.$evalAsync((function(){e.chGallery.cta=t,"detach"===n.chGalleryCta&&t.detach()}))},require:"^?chGalleryLightbox",restrict:"AE"}}},400:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(){return{link:function(e,t,r){var a=!1;t.on("error",(function(){var o=n(t[0].src.split("/").slice(-1),1)[0];!a&&r.chImageError?t.attr("src",r.chImageError):!a&&r.placeholderImage?t.attr("src",r.placeholderImage):(t.remove(),e.$emit("ImageLoadError",o),e.imageStatus?e.imageStatus.error=!0:e.$ctrl&&e.$ctrl.imageStatus&&(e.$ctrl.imageStatus.error=!0)),a=!0,e.$apply()})),t.on("load",(function(){1===t[0].naturalWidth&&(r.chImageError?t.attr("src",r.chImageError):e.imageStatus&&(t.remove(),e.imageStatus.error=!0),e.$apply())})),e.$on("$destroy",(function(){t.off("load"),t.off("error")}))},restrict:"A"}}},401:function(e,t){e.exports=["deviceConst","featureFlags","hotelConst","prerenderService","siteConfig",function(e,t,n,r,a){return{link:function(o,i,s,c){var l,u=a.deviceType===e.MOBILE,d=o.$eval(s.chLazyHotelImages),p=d.length,f=0,h=u?d.length:n.DEFAULT_LOAD_HOTEL_IMAGE_COUNT,g=n.LAZY_LOAD_HOTEL_IMAGE_COUNT,m=!1,y=c.select;function E(){return(d||[]).filter((function(e,t){return t<=f||t>p}))}!r.isRunningInPrerender()&&t.LAZY_LOAD_HOTEL_IMAGES?(h%2==0?(f=h/2,p-=h/2):p-=h-(f=h-(h+1)/2),o.filteredImages=E(),c.select=function(e,t){return"next"===t||"prev"===t?function(e){l=e,(m=f!==p)&&("next"===e?f+=g:p-=g,o.filteredImages=E())}(t):l&&function(e,t,n){if(e&&m){var r=e[t];e.splice(t,1),e.splice(n,0,r),e.forEach((function(e,t){return e.index=t}))}}(this.slides,this.slides.length-1,f+("next"!==l)),y.apply(this,[e,t])}):o.filteredImages=angular.copy(d)},require:"uibCarousel",restrict:"A"}}]},402:function(e,t){e.exports=["$document","$window","eventsConst",function(e,t,n){var r="BOTTOM",a="FIXED",o="TOP";return{link:function(i,s,c){var l=null,u=s.parent(),d=s.clone().empty().css("visibility","hidden"),p=c.hasOwnProperty("confine"),f=c.hasOwnProperty("holdWidth"),h=s.wrap('<div class="wrapper"></div>').parent().css("top","0px");function g(){var e=h[0].getBoundingClientRect(),t=s[0].getBoundingClientRect(),n=u[0].getBoundingClientRect();switch(l!==o&&e.top>0?(l=o,d.remove(),s.removeClass("sticky-fixed sticky-bottom")):l!==a&&e.top<=0&&(!p||n.bottom>=t.height)?(l=a,d.remove(),h.append(d),s.addClass("sticky-fixed").removeClass("sticky-bottom")):p&&l!==r&&n.bottom<t.height&&(l=r,d.remove(),h.append(d),s.addClass("sticky-bottom").removeClass("sticky-fixed")),l){case o:s.css({left:"",right:"",width:""});break;default:d.css("height","".concat(t.height,"px"));var i=d[0].getBoundingClientRect();s.css({left:"".concat(l===a?i.left:d[0].offsetLeft,"px"),width:f||l===a?"".concat(i.width,"px"):""})}}p&&["fixed","absolute","relative"].indexOf(t.getComputedStyle(u[0]).getPropertyValue("position"))<0&&u.css("position","relative"),g(),e.on("scroll",g),angular.element(t).on("resize",g),i.$on("$destroy",(function(){e.off("scroll",g),angular.element(t).off("resize",g)})),i.$on(n.STICKY_CHECK,g)}}}]},403:function(e,t){e.exports=["$sce",function(e){return function(t){if(!t)return"";var n='<line itemprop="streetAddress">';return t.line1&&(n+=t.line1),t.line2&&(n+=", ".concat(t.line2)),n+="</line>",t.line1&&(n+=", "),t.city&&(n+='<span itemprop="addressLocality">'.concat(t.city,"</span>")),t.subdivision&&(n+="".concat(', <span itemprop="addressRegion">').concat(t.subdivision,"</span>")),t.postalCode&&(n+="".concat(', <span itemprop="postalCode">').concat(t.postalCode,"</span>")),t.country&&(n+="".concat(', <span itemprop="addressCountry">').concat(t.country,"</span>")),e.trustAsHtml(n)}}]},404:function(e,t){e.exports=["amenitiesConst","arrayHelper","localeService",function(e,t,n){return function(r,a,o,i){var s=a||r&&r.length,c=o||!1,l=void 0===i||i,u=angular.extend({},e.AMENITIES,e.ROOM_AMENITIES),d=n.getCountryCode().toUpperCase();return r&&r.length>0&&(l&&(t.addIndexes(r),r.sort((function(e,t){var n=u&&u[e.id]&&(u[e.id].displayOrder[d]||u[e.id].displayOrder.US)||1e3+e.originalIndex,r=u&&u[t.id]&&(u[t.id].displayOrder[d]||u[t.id].displayOrder.US)||1e3+t.originalIndex;return n<r?-1:n>r?1:0}))),r=r.slice(0,s),c&&(r=r.map((function(e){return e.description})).join(",").replace(/,/g,", "))),r}}]},405:function(e,t){e.exports=function(){return function(e,t){return e&&t&&e.length>0&&(e=e.filter((function(e){return!!e.distanceDescription&&e.distanceDescription.toUpperCase()===t.toUpperCase()}))),e}}},406:function(e,t){e.exports=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={DSTD:"ch-icon-award-remodeled",GOLD:"ch-icon-award-golden",IOTY:"chi-con-award-golden",NSKH:"ch-icon-non-smoking",PLAT:"ch-icon-award-golden",RGTB:"ch-icon-award-green"},r={BOCH:"best-of-choice-award-icon",GOLD:"gold-award-icon",PLAT:"platinum-award-icon",RGHR:"ring-of-honor-award-icon",SILV:"silver-award-icon"},a=e.code in n?n[e.code]:"",o=e.code in r?r[e.code]:"";return t?o:a}}},407:function(e,t){e.exports=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeRegularAwards,r=void 0!==n&&n,a=t.includeBestAwards,o=void 0!==a&&a,i={DSTD:!0,NSKH:!0,RGTB:!0},s={BOCH:!0,GOLD:!0,IOTY:!0,PLAT:!0,RGHR:!0},c=[];for(var l in e)(r&&i[e[l].code]||o&&s[e[l].code])&&c.push(e[l]);return c}}},408:function(e,t){e.exports=function(){return function(e,t){if(!t)return[1,2,3,4,5];for(var n=5-function(e){var t=Math.floor(e);return Math.floor(e%1*100)>80&&(t+=1),t}(t)-function(e){var t=Math.floor(e%1*100);return t<20||t>80?0:1}(t),r=[],a=0;a<n;a++)r.push(a);return r}}},409:function(e,t){e.exports=function(){return function(e,t){var n=[],r=Math.floor(t);Math.floor(t%1*100)>80&&(r+=1);for(var a=0;a<r;a++)n.push(a);return n}}},410:function(e,t){e.exports=function(){return function(e){var t=Math.floor(e%1*100);return t<20||t>80?0:1}}},411:function(e,t){e.exports=["searchConst","strings","urlParserService",function(e,t,n){var r=function(e){return(e.placeName||e.name||"").split(",")[0]};return function(a){var o=n.getCountryPathObject(a)||{};switch(a.placeType){case e.POSTAL_AREA:return"".concat(a.city,", ").concat(o.name," ").concat(a.placeName.replace(/\D/g,"")," ").concat(a.country);default:return(r(a)||a.city||"")+(o.name?", ".concat(o.name):"")||t.general.currentLocation}}}]},412:function(e,t){e.exports=["strings",function(e){function t(e){var t=e.min&&(e.min.avgNightlyBeforeTax||e.min.avgNightlyPoints),n=e.max&&(e.max.avgNightlyBeforeTax||e.max.avgNightlyPoints);return t||n}function n(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].min;if(r&&"PPC"===r.ratePlanCode)return"pointsPlusCash"}switch(e[0].min.ratePlanCode){case"SRD":return"points";default:return"cash"}}function r(e,t){switch(t){case"pointsPlusCash":return"USD";case"points":return null;default:return e[0].min.currencyCode}}function a(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"avgNightlyBeforeTax";r=parseFloat(r);var o="points"===t?parseInt(n.avgNightlyPoints,10):parseFloat(n[a]);switch(e){case"min":return 0===r||o<r?o:r;case"max":return 0===r||o>r?o:r}}return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"avgNightlyBeforeTax";if(o.rateRanges&&o.rateRanges.length){var s={cpRate:{cash:0,currency:null,withTax:0},currencyCode:null,discount:0,maxCash:0,maxPoints:0,minCash:0,minPoints:0,rackRate:0,ratePlan:n(o.rateRanges)};return o.rateRanges.forEach((function(e){if(!t(e))return[{}];void 0!==e.min&&(void 0!==e.min[i]&&(s.minCash=a("min","cash",e.min,s.minCash,i),s.maxCash=a("max","cash",e.min,s.maxCash,i),s.minCash===parseFloat(e.min[i])&&(s.taxInclusive=e.min[i]===e.min.avgNightlyAfterTax)),void 0!==e.min.avgNightlyPoints&&(s.minPoints=a("min","points",e.min,s.minPoints),s.maxPoints=a("max","points",e.min,s.maxPoints)),Array.isArray(e.min.childRates)&&(s.cpRate.cash=parseFloat(e.min.childRates[0][i]).toFixed(0),s.cpRate.currency=e.min.childRates[0].currencyCode,s.cpRate.withTax=parseFloat(e.min.childRates[0].avgNightlyAfterTax).toFixed(0))),void 0!==e.min&&"SRD"===e.min.ratePlanCode&&"pointsPlusCash"===s.ratePlan&&(s.srdPoints=e.min.avgNightlyPoints),"RACK"===e.min.ratePlanCode&&(s.rackRate=parseFloat(e.min.avgNightlyBeforeTax).toFixed(0))})),s.minCash=parseFloat(s.minCash).toFixed(0),s.maxCash=parseFloat(s.maxCash).toFixed(0),s.discount=s.minCash!==s.maxCash&&"0"!==s.maxCash&&s.maxCash,s.currencyCode=r(o.rateRanges,s.ratePlan),"points"===s.ratePlan?[{currency:"USD",points:+s.minPoints,pointsLabel:e.search.item.points}]:"pointsPlusCash"===s.ratePlan?[{currency:s.currencyCode,points:+s.srdPoints,pointsLabel:e.search.item.points},{cash:s.minCash,currency:s.currencyCode,discount:s.discount,points:+s.minPoints,pointsLabel:e.search.item.points}]:[{cash:s.minCash,cpRate:s.cpRate,currency:s.currencyCode,discount:Number(s.rackRate)>Number(s.minCash)?s.rackRate:null,taxInclusive:s.taxInclusive}]}return[{}]}}]},413:function(e,t){e.exports=["currenciesConst","$filter","$rootScope",function(e,t,n){return function(r,a,o){var i,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i=s&&r?r.toString().replace(",","."):r||"0";var c=a||e.CURRENCY_CODES.USD,l=o?n.values.currencies[c].decimalPlaces:0;return t("number")(i,l)}}]},414:function(e,t){e.exports=["$filter",function(e){return function(t){var n=Date.parse("2000/01/01 ".concat(t));return e("date")(n,"h:mm a")}}]},431:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,a,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootScope=t,this.mapConst=o,this.siteConfig=i,this.deviceConst=r,this.featureFlags=a,this.$window=n,this._htmlPushpins=[],this._pinLocations=[]}var t,r,a;return e.$inject=["$rootScope","$window","deviceConst","featureFlags","mapConst","siteConfig"],t=e,(r=[{key:"addHtmlPushpin",value:function(e,t,n,r){var a=new HtmlPushpin(this.getMapLocation(e.lat,e.lon),n);a.setOptions({anchor:new Microsoft.Maps.Point(1,-8),height:1,width:1}),a.setMetadata(e),a._element.addEventListener("mouseup",r),this._htmlPushpins.push(a),this._pinLocations.push(a.getLocation())}},{key:"removeAllHtmlPins",value:function(){if(!this._map||!this._htmlPushpinLayer)return!1;this._htmlPushpins.forEach((function(e){e.dispose()})),this._htmlPushpins=[],this._pinLocations=[]}},{key:"clearMap",value:function(){this.removeAllHtmlPins(),this._infobox&&this._infobox.setMap(null),this.removePushPinLayer()}},{key:"removePushPinLayer",value:function(){this._htmlPushpinLayer&&this._map.layers.indexOf(this._htmlPushpinLayer)&&(this._map.layers.remove(this._htmlPushpinLayer),this._htmlPushpinLayer=void 0)}},{key:"createInfoBox",value:function(e){this._infobox=new Microsoft.Maps.Infobox(this._map.getCenter(),{htmlContent:e})}},{key:"setInfoBoxContents",value:function(e,t){if(this._infobox.setMap(this._map),document.querySelector("#InfoboxCustom").parentElement.classList.add("map-infobox-wrapper"),this._infobox.setLocation(this._map.getCenter()),this._infobox.setOptions({offset:new Microsoft.Maps.Point(10,120)}),this._infobox.getOverlayElement()){var n=this._infobox.getOverlayElement()[0].querySelector("#mapinfobox");n.hasChildNodes()&&n.removeChild(n.firstChild),n.appendChild(e);var r=this.siteConfig.deviceType===this.deviceConst.MOBILE;this.featureFlags.FULL_SCREEN_MAP_MOBILE?(angular.element(document.querySelector(".mobile-map-tooltip")).remove(),n.classList.add("mobile-fullmap-tooltip")):r&&!t&&(document.querySelector(".fullscreen-btn").classList.add("tooltip-active"),angular.element(document.querySelector(".mobile-map-tooltip")).remove(),n.classList.add("mobile-map-tooltip"),this.$window.scrollTo(0,this.mapConst.MAP_PIN_SCROLL.height))}}},{key:"addHtmlPushpinLayer",value:function(e){void 0===this._htmlPushpinLayer?(this._htmlPushpinLayer=new HtmlPushpinLayer(this._htmlPushpins,e),this._map.layers.insert(this._htmlPushpinLayer)):this._htmlPushpinLayer.setPushpins(this._htmlPushpins)}},{key:"highlightPin",value:function(e){var t=this;this._htmlPushpins.some((function(n){return n.metadata.id===e&&(t.unHighlightPin(),angular.element(n._element.firstElementChild).addClass("active-pin"),!0)}))}},{key:"unHighlightPin",value:function(){var e=angular.element(document.querySelectorAll(".ch-map-pushpin.active-pin"));e.length&&e.addClass("inactive-pin").removeClass("active-pin")}},{key:"getMapLocation",value:function(e,t){if(e&&t)return new Microsoft.Maps.Location(e,t)}},{key:"getHtmlPinsBounds",value:function(){return 1===this._pinLocations.length?new Microsoft.Maps.LocationRect(this.getMapLocation(this._pinLocations[0].latitude,this._pinLocations[0].longitude),.5,.5):this._pinLocations.length?Microsoft.Maps.LocationRect.fromLocations(this._pinLocations):void 0}},{key:"getHtmlPinsCenter",value:function(){return 1===this._htmlPushpins.length?this.getMapLocation(this._htmlPushpins[0].lat,this._htmlPushpins[0].lon):this._htmlPushpins.length?Microsoft.Maps.LocationRect.fromLocations(this._pinLocations).center:void 0}},{key:"getHtmlPushpinLayer",value:function(){return this._htmlPushpinLayer}},{key:"getHtmlPushpins",value:function(){return this._htmlPushpins}},{key:"getCenter",value:function(){return this._map.getCenter()}},{key:"getMap",value:function(){return this._map}},{key:"getMapDimensions",value:function(){return{height:this._map.getHeight(),width:this._map.getWidth()}}},{key:"getPinLocations",value:function(){return this._pinLocations}},{key:"getInfoBox",value:function(){return this._infobox}},{key:"getZoom",value:function(){return this._map.getZoom()}},{key:"centerMap",value:function(e,t){this.setView({center:this.getMapLocation(e,t)})}},{key:"registerAndLoadPushpinModule",value:function(e){var t="/".concat(this.siteConfig.assetFingerprint,"/extlib/HtmlPushpinLayerModule.js");Microsoft.Maps.registerModule(this.mapConst.MODULES.PUSHPIN_MODULE,t),Microsoft.Maps.loadModule(this.mapConst.MODULES.PUSHPIN_MODULE,e)}},{key:"setMap",value:function(e,t){this._map=e,this._map.choiceMapId=t}},{key:"destroyMap",value:function(){this.removeAllHtmlPins(),this.removePushPinLayer(),this._infobox&&this._infobox.setMap(null),this._map=void 0,this._mapId=void 0,this._htmlPushpinLayer=void 0,this._htmlPushpins=[],this._pinLocations=[],this._infobox=void 0}},{key:"setView",value:function(e){this.getMap()&&e&&this._map.setView(e)}},{key:"drawBounds",value:function(){if(!this._pinLocations.length)return!1;this._map.entities.clear();var e=this.getHtmlPinsBounds(),t=[this.getMapLocation(e.getNorth(),e.getWest()),this.getMapLocation(e.getNorth(),e.getEast()),this.getMapLocation(e.getSouth(),e.getEast()),this.getMapLocation(e.getSouth(),e.getWest())],n=new Microsoft.Maps.Polygon(t,{strokeColor:"red"}),r=new Microsoft.Maps.Polygon(this._pinLocations);this._map.entities.push(n),this._map.entities.push(r),this._map.entities.push(new Microsoft.Maps.Pushpin(e.center))}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports=r},432:function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r,a={guest:"loyaltyProgramId|loyaltyAccountNumber|email|homePhone|aaaNumber|username|password|firstName|lastName|creditCardType|creditCardNumber|creditCardName|expirationMonth|expirationYear|isVirtualCreditCard|address1|address2|address3|city|country|subdivision|postalCode|county|optOutOfMarketingEmail|optOutOfMarketingMail|mobilePhone|sendHotelTypeSMS|sendMarketingSMS|sendReservationSMS|sendChoicePrivilegesSMS|updateCustomerProfile|tokenKeyAlias|tokenResponseSignature|tokenResponseTimeStamp|paymentSessionId",roomStay:"hotelId|roomCode[2-9]?|extraBed[2-9]?|checkInDate|checkOutDate|ratePlan|adults[2-9]?|minors[2-9]?|ageOfMinors[2-9]?"},o="preferredLocaleCode|siteName",i={addRoomsIntoReservation:"".concat(o,"|checkInDate|checkOutDate|guaranteeMethod|ratePlan|").concat(a.roomStay),deleteReservation:o,deleteRoomFromReservation:"".concat(o,"|roomIndex"),getCurrentReservation:"".concat(o,"|includeReservationQuote"),saveGuestIntoReservation:"".concat(o,"|guaranteeMethod|").concat(a.guest)};i.updateRoomInReservation="".concat(i.deleteRoomFromReservation,"|adults|minors|extraBed"),i.createReservation="guest|roomStay|preferredLocaleCode|preferredLanguageCode|guaranteeMethod|suc|secondUserReservation|siteName",i.completeReservation="".concat(i.createReservation,"|amount")+"|contextId|specialRequests|additionalEmail[2-3]?|enrollInChoicePrivileges|enablePrivacySettings|referrerUrl|originatingHotelId|cjTrackingJson|discountToken|discountGuid|singleUseCode|groupId|isModifyReservation|loyaltyAccountLastName|reservationsClubNumber|billingAddress1|billingAddress2|billingAddress3|billingCity|billingCountry|billingSubdivision|billingPostalCode|creditCardSecurityCode|findDuplicate|termsAndConditionsSignedBy|travelInsuranceId|travelInsuranceAction|siteName",i.createReservation+="|clientId|travelAgentIATANumber|travelAgentPID",[i,a].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=new RegExp("^(".concat(e[t],")$")))})),e.exports=["$http","$locale","$q","$window","checkoutContextData","cookieHelper","cpUserData","featureFlags","globalLoaderCounter","guestdataConst","localeService","loyaltyAccountHelper","objectHelper","ratesConst","reservationData","searchCriteriaData","selectedLangData","sessionStorageHelper","siteConfig","thirdPartyMarketingConst","thirdPartyMarketingService","travelAgentData","urlEncodeObject",function(e,t,o,s,c,l,u,d,p,f,h,g,m,y,E,A,P,v,C,T,S,R,_){var O,b,I=P.get().code,N=u.get();function L(e,t){return"/webapi/checkout".concat(e?"/".concat(e).concat(t?"/rooms/".concat(t):""):"")}function D(e){if(!e.currencyCode){var t=f.CURRENCY_FOR_RATE_PLAN[e.ratePlan];t&&(e.currencyCode=t)}if(e.guaranteeMethod||(e.guaranteeMethod=f.GUARANTEE_METHOD_FOR_RATE_PLAN[e.ratePlan]),e.cancellationDeadline){var n=e.cancellationDeadline.split("[");e.cancellationDeadlineDate=n[0].replace(/[+-]\d\d:\d\d/,""),n.length>1&&(e.cancellationDeadlineTimeZone=n[1].split("]")[0])}if(e.rooms){var r=e.rooms.map((function(e){return e.points||0})).reduce((function(e,t){return e+t}));r&&(e.totalPoints=r)}e.guest&&e.guest.loyaltyAccountNumber&&(e.guest.cpNumber=g.getCpNumber(e.guest.loyaltyAccountNumber))}function w(r,s,c,l){if(!(l=angular.copy(l||{})).guaranteeMethod){var u=f.GUARANTEE_METHOD_FOR_RATE_PLAN[l.ratePlan];u&&(l.guaranteeMethod=u)}l.roomStay&&l.roomStay.clientId&&(l.clientId=l.roomStay.clientId,delete l.roomStay.clientId);var y=l.guest?l.guest.loyaltyAccount:{},E=!!l.enrollInChoicePrivileges,P=l,T=P.conditionallyAddClientId,S=P.clientId;return l.preferredLanguageCode=I,l.preferredLocaleCode=t.id,d.IWSR_MASTER&&n(l,{siteName:h.getCountryCode(C.locale)}),function(e,t){var n="saveGuestIntoReservation"===e?t:t.guest||{};n.cpNumber&&(n.loyaltyProgramId=n.loyaltyProgramId||g.getProgramId(n.cpNumber),n.loyaltyAccountNumber=n.loyaltyAccountNumber||g.getAccountNumber(n.cpNumber),n.loyaltyProgramId&&n.loyaltyAccountNumber||(delete n.loyaltyProgramId,delete n.loyaltyAccountNumber)),n.creditCardName&&(n.creditCardName=n.creditCardName.replace(/[.]/gi,""));var r=n.address;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a.replace(/^line([1-3])$/,"address$1")]=r[a])}(r,l),function(e,t){var n;if("addRoomsIntoReservation"===e)n=t;else{n=t.roomStay||{},t.roomStay=n,!n.checkInDate&&t.checkInDate&&(n.checkInDate=t.checkInDate,n.checkOutDate=t.checkOutDate,n.ratePlan=t.ratePlan,n.hotelId=t.hotelId);var r=A.get(),a=r.ageOfMinors,o=r.minors,i=r.rooms;if(d.AMR_MASTER&&(i||t.rooms)&&"completeReservation"!==e){var s=Boolean(n.minors>0&&n.ageOfMinors);o>0&&a&&!s?(n.ageOfMinors=a,n.minors=o):s&&n.ageOfMinors||delete n.ageOfMinors}}if(t.rooms)for(var c=0;c<t.rooms.length;c++){var l=t.rooms[c];for(var u in l)/^(roomCode|adults|minors|extraBed|ageOfMinors)$/.test(u)&&(n[u+(c?c+1:"")]=l[u])}n.ageOfMinors||delete n.ageOfMinors}(r,l),l=m.filterObjectByKey(l,r,i,a),m.removeUndefinedProperties(l),m.removeUndefinedProperties(l.guest),l.clientId||delete l.clientId,T&&(l.clientId=S),v.getGroupAdminContext()&&(l.secondUserReservation=!0),p.inc(),e(/^(GET|DELETE)$/.test(s)?{cache:!1,method:s,url:"".concat(c,"?").concat(_(l))}:{cache:!1,data:_(l),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:s,url:c}).then((function(e){return p.dec(),e.data.checkout.acceptedPaymentCards=k(e.data.acceptedPaymentCards),e.data.checkout.guest.loyaltyAccount=y,e.data.checkout.enrollInChoicePrivileges=E,e.data.checkout.outputInfo=e.data.outputInfo,e.data.checkout.status=e.data.status,D(e.data.checkout),e.data.checkout.guest&&e.data.checkout.guest.loyaltyAccountNumber&&(e.data.checkout.guest.cpNumber=g.getCpNumber(e.data.checkout.guest.loyaltyAccountNumber),delete e.data.checkout.guest.loyaltyProgramId,delete e.data.checkout.guest.loyaltyAccountNumber),e.data.creditCardTokenizer&&(e.data.checkout.creditCardTokenizer=e.data.creditCardTokenizer),e.data.checkout})).catch((function(e){return p.dec(),e.data.checkout&&(e.data.acceptedPaymentCards&&(e.data.checkout.acceptedPaymentCards=k(e.data.acceptedPaymentCards)),e.data.checkout.enrollInChoicePrivileges=E,D(e.data.checkout)),o.reject(e)}))}function x(e){O=function(){var e=v.getClientFile();if(e&&"T"===e.clientFileType)return!0;return!1}();var t=e.groupId||e.roomStay&&e.roomStay.isGroupPickup;return O||!S.hasIATANumber()||t?t&&d.GROUP_IATA&&e.roomStay&&e.roomStay.travelAgentIATANumber?e.travelAgentIATANumber=e.roomStay.travelAgentIATANumber:O&&v.getClientFile()&&(e.travelAgentIATANumber=v.getClientFile().code):e.travelAgentIATANumber=S.getIATANumber(),e}function k(e){return e&&e.length?e.filter((function(e){return"GW"!==e.code})):[]}return d.MW_GUEST_DATA_PAGE&&(s.store&&!b&&s.store.subscribe((function(){"CLEAR_CONFIRMATION_DATA"===s.store.getState().lastAction.type&&(r=void 0)})),b=!!s.store),{addRoomsIntoReservation:function(e,t){return e=angular.extend({},t,e),w("addRoomsIntoReservation","POST","".concat(L(e.contextId),"/rooms"),e)},clearReservationContext:function(t){e({cache:!1,method:"DELETE",url:L(t)}),c.clear()},completeReservation:function(e){!function(e){if(e.clientId){var t=v.getClientFile();(e.guest||{}).isVirtualCreditCard&&t&&t.clientId&&(e.conditionallyAddClientId=!0,e.clientId=t.clientId)}}(e);var t=(e.guest||{}).isVirtualCreditCard;return this.deleteConfirmation(),w("completeReservation","POST",L(e.contextId),e).then((function(e){return n(e.guest,{isVirtualCreditCard:t}),e.travelAgentIATANumber===T.cjIATACode&&(e.cjTrackingJson=S.getCookieValue()),v.deleteOutsideReferrerUrl(),v.deleteOriginatingHotelId(),v.deleteDiscountCode(),v.deleteLocalRatePlanCode(),l.deleteDiscountCookie(),l.deleteGuestDataCookie(),c.clear(),r=e,e}))},createReservation:function(e){return(e=x(angular.copy(e))).roomStay&&(e.roomStay.ratePlan===y.RATE_PLAN_CODES.SRD||e.roomStay.ratePlan===y.RATE_PLAN_CODES.PPC)&&N.signedIn&&N.cpLoyaltyAccountNumber&&N.cpLoyaltyProgramId&&(e.guest=angular.copy(N),e.guest.loyaltyAccountNumber=N.cpLoyaltyAccountNumber,e.guest.loyaltyProgramId=N.cpLoyaltyProgramId,e.guaranteeMethod=f.GUARANTEE_METHOD_FOR_RATE_PLAN[e.roomStay.ratePlan],e.roomStay.ratePlan===y.RATE_PLAN_CODES.SRD&&(delete e.guest.creditCardName,delete e.guest.creditCardNumber,delete e.guest.creditCardType,delete e.guest.expirationMonth,delete e.guest.expirationYear),delete e.guest.username),E.clear(),!O&&R.get()&&(e.travelAgentIATANumber=R.get().id),delete e.contextId,w("createReservation","POST",L(),e)},deleteConfirmation:function(){r=void 0},deleteReservation:function(e){return w("deleteReservation","DELETE",L(e.contextId),e)},deleteRoomFromReservation:function(e,t){return w("deleteRoomFromReservation","DELETE",L(e.contextId,t),e)},getConfirmation:function(){return r},getCurrentReservation:function(e){return w("getCurrentReservation","GET",L(e.contextId),e)},optionallyAddTravelAgentIATANumber:x,replaceRoomsIntoReservation:function(e,t){return e=angular.extend({},t,e),w("addRoomsIntoReservation","PUT","".concat(L(e.contextId),"/rooms"),e)},saveGuestIntoReservation:function(e){var t=angular.copy(e.guest);return e.guest.creditCardNumber&&(t.guaranteeMethod=e.guaranteeMethod),w("saveGuestIntoReservation","PUT","/webapi/checkout".concat(e.contextId?"/".concat(e.contextId,"/guest"):""),t)},updateConfirmation:function(e){angular.extend(r,e)},updateRoomInReservation:function(e,t){var n=e.rooms[t-1],r={adults:n.adults,contextId:e.contextId,minors:n.minors};return n.extraBed&&n.extraBed.length&&(r.extraBed=n.extraBed),w("updateRoomInReservation","PUT",L(e.contextId,t),r)}}}]},433:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$http","$locale","$q","featureFlags","localeService","urlEncodeObject",function(e,t,a,o,i,s){var c="/webapi/user-account/favoritehotel/",l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({preferredLocaleCode:t.id},i.getSiteNameObj());return{deleteFavorite:function(t){var n=a.defer();return e({data:s(l),headers:{"content-type":"application/x-www-form-urlencoded"},method:"DELETE",url:c+t}).then((function(e){n.resolve(e.data)}),(function(e){n.reject(e.data)})),n.promise},setFavorite:function(t){var n=a.defer();return e({data:s(l),headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",url:c+t}).then((function(e){n.resolve(e.data)}),(function(e){n.reject(e.data)})),n.promise}}}]},434:function(e,t){e.exports=["featureFlags","ratesConst","sessionStorageHelper",function(e,t,n){function r(e){return n.setPriceType(e)}return{getPreviousRatePlan:function(){return n.getPreviousRatePlan()},getPriceType:function(){return n.getPriceType()},initializePriceType:function(){var e;return n.getCurrentSearch().ratePlanCode===t.RATE_PLAN_CODES.SRD?e=3:3===(e=parseInt(n.getPriceType(),10)||0)&&(e=0),r(e)},invalidatePriceType:function(){return r(null)},isGroupRate:function(){return n.getCurrentSearch().ratePlanCode===t.RATE_PLAN_CODES.GROUP},setPreviousRatePlan:function(){return n.setPreviousRatePlan(n.getCurrentSearch().ratePlanCode||t.RATE_PLAN_CODES.RACK)},setPriceType:r,shouldUsePriceType:function(){return e.SO_SEARCH_PRICE_DISPLAY_B||e.SO_SEARCH_PRICE_DISPLAY_C||e.SO_SEARCH_PRICE_DISPLAY_D}}}]},435:function(e,t){function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["ratesConst","searchConst",function(e,t){function r(e,t){return e.relevanceRank-t.relevanceRank||e.relevance-t.relevance}return{bubbleHotels:function(e,a,o){if(a&&(a.brand||a.amenity)||!o)return e;var i=e.filter((function(e){return t.AVAILABILITY[e.hotelSectionType].available&&0===t.AVAILABILITY[e.hotelSectionType].sortOrder})).sort(r),s=e.filter((function(e){return t.AVAILABILITY[e.hotelSectionType].available&&1===t.AVAILABILITY[e.hotelSectionType].sortOrder})).sort(r),c=e.filter((function(e){return!t.AVAILABILITY[e.hotelSectionType].available})).sort(r);return[].concat(n(i),n(s),n(c))}}}]},436:function(e,t){e.exports=["$rootScope","$timeout","$window","analyticsManager","eventsConst","pagesConst","siteConfig",function(e,t,n,r,a,o,i){return{link:function(n,s,c){s.on("click",(function(){var n=c.soOmnitureClickTracking||c.id||"";r&&r.clickTracking&&(r.clickTracking.value=n),i.omniture.globalProps.prop54=n,c.hasOwnProperty("emit")&&e.$emit(a.CLICK_TRACKED),c.emitPageLoad&&o[c.emitPageLoad]&&t((function(){return e.$emit(a.ANALYTICS_PAGE_LOADED,o[c.emitPageLoad])}),100)}))},replace:!0,restrict:"A",scope:!1}}]},437:function(e,t){e.exports=["$rootScope","analyticsConst","analyticsManager","eventsConst","sessionStorageHelper","siteConfig",function(e,t,n,r,a,o){return{link:function(i,s,c){i.isGallery=s[0].parentElement&&s[0].parentElement.parentElement&&s[0].parentElement.parentElement.className.indexOf("gallery-carousel-container")>=0;var l=n.createCustomLink({customLinkName:"SettingClickmapData",linkTrackAnalyticsConst:[t.CLICK_TRACKING,t.PREVIOUS_PAGE],page:c.page});c.linktrackvars&&c.linktrackvars.length&&angular.forEach(c.linktrackvars.split(","),(function(e){l.linkTrackAnalyticsConst.push(t[e.trim()])})),angular.forEach(c,(function(e,t){0===t.indexOf("tracking")&&(t=(t=t.substr(8)).charAt(0).toLowerCase()+t.substr(1),l.props[t]=e)}));var u=function(){return"close-button"===s[0].id},d=!1;u()&&e.$on(r.MODAL_CLOSED,(function(){p()})),s.on("click",(function(){p()}));var p=function(){if("sidebarModal"!==c.soOmnitureCustomLinkTracking&&(!u()||!d&&(d=!0,1))){var e=c.soOmnitureCustomLinkTracking||c.id||"",t=a.getOmniturePreviousPageName(),r=a.getModalParentPageName();l.props.pageName&&l.props.pageName!==t?a.setModalParentPageName(t):!l.props.pageName&&r&&(l.props.pageName=r,a.setModalParentPageName(null)),o.omniture.globalProps.prop54=n.clickTracking.value=e,i.isGallery||n.sendCustomLink(l),l.props.pageName?a.setOmniturePreviousPageName(l.props.pageName):r&&a.setOmniturePreviousPageName(r)}}},replace:!0,restrict:"A"}}]},438:function(e,t){window.chLoadMapDeferred=null,window.onMapLoaded=function(){Microsoft&&Microsoft.Maps?window.chLoadMapDeferred.resolve(Microsoft.Maps):window.setTimeout(window.onMapLoaded,500)},e.exports=["$q","mapConst",function(e,t){return{getControl:function(){if(!window.chLoadMapDeferred){window.chLoadMapDeferred=e.defer();var n=document.createElement("script");n.setAttribute("src","".concat(t.SRC,"&callback=onMapLoaded")),n.setAttribute("type","text/javascript"),n.setAttribute("charset","UTF-8"),document.documentElement.firstChild.appendChild(n)}return window.chLoadMapDeferred.promise}}}]},439:function(e,t){e.exports=["$location","brandConst","breadcrumbConst","searchConst","strings","urlParserService",function(e,t,n,r,a,o){function i(e,t,n,r){var a={href:n,label:e,shortLabel:t};return n&&(a.href=n),r&&(a.track=r),a}return{addGroupBreadcrumb:function(e,t,n){n.push(i(t.groupId,t.groupId,e))},getBreadcrumbFromAddress:function(e,a){var s,c=[],l=e.address,u="".concat(t.BRAND_NAMES[e.brandCode]," ").concat(r.HOTELS),d=o.getCountryPathObject(l);s=d?d.name:l.country;var p=d?d.urlName:l.country;return c.push(i(s,s,o.encodePathPart(p),n.ANALYTICS.STATE)),c.push(i(l.city,l.city,o.getStateCityUrl(p,l.city),n.ANALYTICS.CITY)),c.push(i(u,u,o.getBrandFilterUrl(p,l.city,u),n.ANALYTICS.BRAND)),c.push(i(e.name,e.name,a,n.ANALYTICS.PROP)),c},includeSubsections:function(t,n){var r=e.path().toLowerCase(),a="";t&&(r=r.replace(t.toLowerCase(),"")),void 0===n&&(n=[]);var o=r.split("/");return t&&(a=t),o.forEach((function(e){e&&""!==e&&(a+="/".concat(e),n.push(i(e,e,a)))})),n},removeHrefFromLastCrumb:function(e){e.length>0&&(e[e.length-1].href=void 0)}}}]},440:function(e,t){e.exports=["$timeout",function(e){return function(t,n){var r=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];e.cancel(r);var s=this;r=e((function(){t.apply(s,o)}),n)}}}]},441:function(e,t){var n=function(e,t){return function(n){return e(t(n))}};e.exports=function(){return{compose:n}}},442:function(e,t){e.exports=["deviceConst","siteConfig",function(e,t){var n=t.deviceType===e.MOBILE;return{transformHotelResponse:function(e,t){return n?t:(angular.extend(e,t),t.general&&(angular.extend(e,t.general),delete e.general),e)}}}]},443:function(e,t){e.exports=["$q","$timeout","memoizationConstant","dateHelper",function(e,t,n,r){return function(a,o,i){return a.cache=a.cache||{},function(){for(var s,c,l,u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return s="function"==typeof o?o.apply(void 0,d):"string"==typeof o?o:JSON.stringify(Array.prototype.slice.apply(d)),a.cache[s]?l=a.cache[s]:(l=a.cache[s]=a.apply(void 0,d),c="function"==typeof i?i({args:Array.prototype.slice.apply(d),calledAt:r.now(),key:s,result:a.cache[s]}):"number"==typeof i?i:n.DEFAULT_TIMEOUT,e.when(c).then((function(e){return t(angular.noop,e)})).then((function(){delete a.cache[s]}))),l}}}]},444:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$location","dateHelper","featureFlags","patternsConst","ratesConst",function(e,t,r,a,o){function i(e){return e.sort((function(e,t){var n=e.min||e,r=t.min||t;return+n.avgNightlyBeforeTax-+r.avgNightlyBeforeTax}))}return{calculateDiscountPercent:function(e,t){return 100*(1-t/e)},findCheapestRatePlanCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"avgNightlyBeforeTax";return e.roomStayCharges.reduce((function(e,t){return Array.isArray(t.childRates)&&r.CLOSED_USER_GROUP_V2?e.concat(t.childRates):e.splice()}),e.roomStayCharges.splice()).reduce((function(e,n){return Number(e[t])<Number(n[t])?e:n}),e.roomStayCharges[0]).ratePlanCode},flattenRateRanges:function(e){function t(e,r){return Array.isArray(e)?e.reduce((function(e,n){return e.concat(t(n,r))}),[]):e[r]&&e[r].childRates?[e].concat(t(e[r].childRates,r)):e.childRates?[e.min||e.max?e:n({},r,e)].concat(t(e.childRates,r)):e.min||e.max?e:n({},r,e)}function a(e){return t(e,"min")}function i(e){return t(e,"max")}function s(e){e.forEach((function(e){e.min&&e.min.ratePlanCode!==o.RATE_PLAN_CODES.RACK&&e.min.childRates&&delete e.min.childRates,e.max&&e.max.ratePlanCode!==o.RATE_PLAN_CODES.RACK&&e.max.childRates&&delete e.max.childRates}))}return Array.isArray(e)&&e.length&&e[0].id?e.filter((function(e){return e.rateRanges})).forEach((function(e){r.CUGII_NEW_UI_ONLY&&s(e.rateRanges),e.rateRanges=a(i(e.rateRanges))})):(r.CUGII_NEW_UI_ONLY&&s(e),e=a(i(e))),e},getLowestAvgNightlyBeforeTax:function(e){var t=e.avgNightlyBeforeTax;return e.childRates&&e.childRates.length&&e.childRates.forEach((function(e){e.avgNightlyBeforeTax<t&&(t=e.avgNightlyBeforeTax)})),t},insideOfPointsWindow:function(e,n){var a=t.subtractDates(n.checkInDate,t.getTodayDate());if(isNaN(a))return!0;if(e.loyaltyAccount&&!r.SRD_WINDOW_100)switch(e.loyaltyAccount.eliteLevel){case"Gold":return a<51;case"Platinum":return a<76;case"Diamond":return a<101;default:return a<31}return a<101},isCugLowestPrice:function(e){var t=e&&e.length&&(e[0].min||e[0]);return t&&(r.CLOSED_USER_GROUP_V2&&t.ratePlanCategoryList&&!!t.ratePlanCategoryList.find((function(e){return e.category===o.RATE_PLAN_CODES.FENCED}))||!r.CLOSED_USER_GROUP_V2&&t.ratePlanCode===o.RATE_PLAN_CODES.CUG)},outsideOfPointsWindowText:function(e){if(r.SRD_WINDOW_100)return t.withAddedDays(t.getTodayDate(),101);if(e.loyaltyAccount)switch(e.loyaltyAccount.eliteLevel){case"Gold":return t.withAddedDays(t.getTodayDate(),51);case"Platinum":return t.withAddedDays(t.getTodayDate(),76);case"Diamond":return t.withAddedDays(t.getTodayDate(),101);default:return t.withAddedDays(t.getTodayDate(),31)}return t.withAddedDays(t.getTodayDate(),31)},sortHotelRatesByPrice:function(e){angular.forEach(e,(function(e){e.rateRanges&&e.rateRanges.length&&i(e.rateRanges)}))},sortRateRangesByPrice:i}}]},445:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=["objectHelper","ratesConst",function(e,t){return{diffPromoRateCodes:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).map((function(e){return e&&e.ratePlanCode?e.ratePlanCode:""}))},filterPromosByLengthOfStay:function(e,t){var r=(Array.isArray(e)&&"object"===n(t)?e.filter((function(e){return t[e.ratePlanCode]&&t[e.ratePlanCode].roomStayCharges&&Array.isArray(t[e.ratePlanCode].roomStayCharges)&&t[e.ratePlanCode].roomStayCharges.filter((function(e){return 0!==e.available})).length})):[]).reduce((function(e,t){return t.matchesRequestDates&&+t.minLengthOfStay>e?t.minLengthOfStay:e}),0);return 0===r?e.slice():e.filter((function(e){return e.matchesRequestDates&&e.minLengthOfStay===r}))},isRatePromo:function(e){return e.ratePlanCategoryList&&e.ratePlanCategoryList.some((function(e){return e.category===t.RATE_PLAN_CODES.PROMO}))},removeRatePlansByCode:function(t,n){var r=e.shallowClone(n);return t.forEach((function(e){return delete r[e]})),r}}}]},447:function(e,t){e.exports=function(){return{replaceStringByKeyValuePairs:function(e,t){return e.replace(/\{([^}]+)\}/g,(function(e,n){return t[n]}))}}}},448:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["valuesService",function(e){var t={};function n(e,n){return(t[e]||{})[n]||n}return e.getValues().then((function(e){e.countries.forEach((function(e){if(e.states&&e.statesAlternateCoded){var n={};e.states.forEach((function(r){r.alternateCode&&r.code!==r.alternateCode&&(n[r.alternateCode]=r.code),t[e.code]=n}))}}))})),{getAlternateSubdivisionIfAvailable:function(e){var t;t=e,0!==Object.keys(t||{}).length&&e.address&&e.address.subdivision&&(e.address.subdivision=n(e.address.country,e.address.subdivision))},mapHotelWithAlternateSubdivisions:function(e){var t=e&&e.address||null;return r(r({},e),t&&{address:r(r({},t),t.subdivision&&{subdivision:n(t.country,t.subdivision)})})}}}]},449:function(e,t,n){e.exports=angular.module("chApp.shared.backToPage",[]).component("chBackToPage",n(890)).component("chBackToPageLink",n(891))},450:function(e,t,n){e.exports=angular.module("chApp.shared.cugPriceTag",[]).component("chCugPriceTag",n(892)).component("chCugPriceTagHeader",n(893)).service("cugPriceTagAnalytics",n(894))},451:function(e,t,n){e.exports=angular.module("chApp.shared.hotel",[]).factory("hotelService",n(903))},452:function(e,t,n){e.exports=angular.module("chApp.shared.rates.rate.plans",[]).factory("ratesRatePlans",n(924))},453:function(e,t,n){e.exports=angular.module("chApp.shared.rates.rates.analytics",[]).service("ratesNewAnalytics",n(925))},454:function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n(371)();e.exports=["$filter","$location","$sce","$q","$rootScope","checkoutContextData","cpUserData","dateHelper","deviceConst","eventsConst","featureFlags","formHelper","globalLoaderCounter","hotelService","objectHelper","promotionHelper","ratesConst","ratesRatePlans","ratesRooms","searchConst","searchCriteriaData","searchHelper","sessionStorageHelper","siteConfig","strings","travelAgentService","urlParserService",function(e,t,n,a,o,s,u,d,p,f,h,g,m,y,E,A,P,v,C,T,S,R,_,O,b,I,N){var L=u.get(),D=a.defer(),w=c({adults:1,ageOfMinors:null,clientId:"",currencyCode:"HOTEL_DEFAULT_CURRENCY",minors:0,ratePlanCode:"RACK",ratePlanName:"",rateType:"LOW_RACK",rooms:1,travelAgentIATANumber:""},R.getDateRange());function x(){delete H.params.api.loyaltyAccountLastName,delete H.params.api.loyaltyAccountNumber,delete H.params.api.loyaltyProgramId,delete H.params.api.clientId}function k(e){e.includePackages=!0,e.includePromotions=!0,h.CLOSED_USER_GROUP_V2&&(e.includePromoLengthOfStay=!0)}function M(e){e.includePackages=!1,e.includePromotions=!1,h.CLOSED_USER_GROUP_V2&&(e.includePromoLengthOfStay=!1)}function U(e){return angular.extend(H.params.api,e),H.groupCreate=H.params.api.rooms>=T.GROUP_OPTIONS.minRoomsPerGroup,B(e),H.trigger("setParams",H.params.api),H}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!H.isGroupAdminFlow){var n=angular.extend({},e,H.params.api);angular.extend(E.filterEquivalentProperties(n,w),$()),t.search(E.filterProperties(n,P.URL_BLACKLIST_REGEX,!0)).replace()}}function $(){var e=t.search(),n={};return Object.keys(e).forEach((function(t){void 0===H.params.api[t]&&(n[t]=e[t])})),n}var H=angular.extend(l,{checkForInputErrors:function(){H.error="",H.hasError=!1;var e=O.deviceType===p.DESKTOP;function t(e){return H.error=e,H.hasError=!0,H}if(!h.POINTS_REDEMPTION_IMPROVEMENTS&&(!h.SO_MOB_PRATES_NEW_SEPARATE||e)&&H.params.api.ratePlanCode===P.RATE_PLAN_CODES.SRD&&(!H.params.api.loyaltyAccountLastName||!H.params.api.loyaltyAccountNumber))return o.$emit("loginRequired"),t(b.propertyRates.errors[H.modify?"cpModifyError":"cPError"]);if(H.groupPickup){var n=d.getToday();if(d.subtractDates(H.params.group.checkOutDate,n)<=0)return t(b.group.inPast);if(!H.isGroupAdminFlow&&d.subtractDates(H.params.group.cutoffDate,n)<=0)return t(b.group.cutoffExpired)}return H},checkForOutputErrors:function(e){return H.error="",H.hasError=!1,H.groupRateHasError=!1,e.NONEXISTENT_HOTEL_RATES_AVAILABILITY&&(H.groupPickup||H.groupCreate)&&(H.groupRateHasError=!0,delete e.NONEXISTENT_HOTEL_RATES_AVAILABILITY),e.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS&&(e.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS=n.trustAsHtml(b.propertyRates.errors.insufficientRatesError)),e.NONEXISTENT_POINTS_PLUS_CASH_RATE?(e.NONEXISTENT_POINTS_PLUS_CASH_RATE=b.general.error.NONEXISTENT_POINTS_PLUS_CASH_RATE,delete e.NONEXISTENT_HOTEL_RATES_AVAILABILITY,delete e.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS):e.NONEXISTENT_HOTEL_RATES_AVAILABILITY&&e.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS&&delete e.NONEXISTENT_HOTEL_RATES_AVAILABILITY,H.hasError=H.groupRateHasError||P.OUTPUT_ERRORS.some((function(t){return!!e[t]&&(H.error=e[t],!0)})),H},checkForRateError:function(){H.rateError=H.ratePlans[H.params.api.ratePlanCode]&&H.params.api.ratePlanCode===P.RATE_PLAN_CODES.SRD&&L&&L.loyaltyAccount&&H.ratePlans[H.params.api.ratePlanCode].fromPoints*d.subtractDates(H.params.api.checkOutDate,H.params.api.checkInDate)>L.loyaltyAccount.accountBalance},checkForWarnings:function(){H.warning="",H.groupCreate||H.groupPickup||H.ratePlans[H.params.api.ratePlanCode]||function(e){function t(e){e.childRates&&n.push.apply(n,r(e.childRates))}var n=[];for(var a in H.ratePlans)if(Object.prototype.hasOwnProperty.call(H.ratePlans,a)){var o=H.ratePlans[a];o.roomStayCharges&&o.roomStayCharges.forEach(t)}return n.some((function(t){return t.ratePlanCode===e}))}(H.params.api.ratePlanCode)||H.ratePlans.PREPD&&H.ratePlans.PREPD.ratePlanCode===H.params.api.ratePlanCode||P.ADVANCE_PURCHASE_RATE_PLANS.indexOf(H.params.api.ratePlanCode)>=0&&H.ratePlans.PREPD||(H.outputInfo&&H.outputInfo.HOTEL_RATE_PLAN_RESTRICTION_SRD&&H.outputInfo.HOTEL_RATE_PLAN_RESTRICTION_SRD.startsWith("TOO_MANY_OCCUPANTS_FOR_AMR_SRD")?H.warning=b.propertyRates.errors.srdMaxCapacity:H.warning=b.propertyRates.errors.notAvailable)},clear:function(){return angular.extend(H,{currency:angular.copy(P.DEFAULT_CURRENCY),multiRoom:!1,packages:[],promotions:[],ratePlans:{},rooms:{},taxRate:0}),h.AMR_MASTER&&delete H.params.api.ageOfMinors,H},currency:angular.copy(P.DEFAULT_CURRENCY),error:"",getGroupURL:function(){return"".concat(N.getPropertyUrl(H.params.hotel.address,H.params.hotel.brandCode,H.params.hotel.id),"/group-request")},groupCreate:!1,groupPickup:!1,hasError:!1,init:function(e,n,r,a){var o=s.get(),c=S.get();return H.initialLoad=!0,H.clear(),H.off("update"),H.params.hotel=e.hotel||r,H.params.group=e.groupInfo||n||o&&o.groupInfo&&o.groupInfo.hotelId===e.hotel.id&&o.groupInfo.ratePlanCode===c.ratePlanCode&&o.groupInfo||null,angular.extend(H,{groupCreate:!1,groupPickup:!!H.params.group,isGroupAdminFlow:a,modify:!1}),e.$on(f.LOGGED_IN,(function(){U({loyaltyAccountLastName:L.lastName,loyaltyAccountNumber:L.loyaltyAccountNumber,loyaltyProgramId:L.loyaltyProgramId}),H.params.api.ratePlanCode===P.RATE_PLAN_CODES.SRD&&H.update()})),e.$on(f.LOGGED_OUT,(function(){x(),U(),H.params.api.ratePlanCode===P.RATE_PLAN_CODES.SRD&&H.update()})),H.groupPickup?function(e){var t=H.params.group;H.params.api={adults:1,checkInDate:t.checkInDate,checkOutDate:t.checkOutDate,clientId:"",currencyCode:"HOTEL_DEFAULT_CURRENCY",isGroupPickup:!0,minors:0,ratePlanCode:t.ratePlanCode,rooms:1,travelAgentIATANumber:t.travelAgentIATANumber||""},angular.extend(H.params.group,{maxCheckInDate:d.asString(d.withAddedDays(d.getDateFromString(t.checkOutDate),-1)),minCheckOutDate:d.asString(d.withAddedDays(d.getDateFromString(t.checkInDate),1))}),e||B();return H}(a):function(){var e=i(i({},S.get()),t.search()),n=i(i(i({},e),(!e.checkInDate||!e.checkOutDate)&&R.getDateRange(e)),d.getDatesFromTimeFrame(e.timeFrame)),r=angular.copy(T.INPUT_LIMITS);n.rooms>=T.GROUP_OPTIONS.minRoomsPerGroup&&(r.rooms={max:T.GROUP_OPTIONS.maxRoomsPerGroup,min:T.GROUP_OPTIONS.minRoomsPerGroup});R.setDefaultsIfInThePast(n),g.setInputLimits(r,n),H.params.api=angular.extend(H.params.api,E.extendExisting(angular.copy(w),n)),H.groupCreate=H.params.api.rooms>=T.GROUP_OPTIONS.minRoomsPerGroup,!H.groupCreate&&s.get().groupRoomCounts&&s.clear();L&&L.signedIn?angular.extend(H.params.api,{loyaltyAccountLastName:L.lastName,loyaltyAccountNumber:L.loyaltyAccountNumber,loyaltyProgramId:L.loyaltyProgramId}):x();n.reservationId&&n.reservationRatePlanCode&&(H.modify=!0,angular.extend(H.params.api,{ratePlanCode:n.reservationRatePlanCode,reservationId:n.reservationId,reservationRatePlanCode:n.reservationRatePlanCode,rooms:(s.get().rooms||{}).length||n.rooms||1}));var a=I.get();!H.params.api.clientId&&a&&(H.params.api.clientId=a.id);return B(),H}()},initialLoad:!1,modify:!1,multiRoom:!1,outputInfo:{},packages:[],params:{api:{},group:null,hotel:null},promise:D.promise,promotions:[],rackLocalCurrency:{},ratePlans:{},ratesError:!1,rooms:{},setCurrency:function(e){return angular.equals(e.code,H.params.api.currencyCode)?H:(H.currency=e,H.update({currencyCode:e.code}))},setUpRatesApiForPackagePromo:k,setUpRatesApiForPackagePromoForGroup:M,taxRate:0,update:function(e){if(e&&U(e),H.checkForInputErrors().hasError)return H.clear(),H.trigger("update",H),H;_.getClientId()&&(H.params.api.clientId=_.getClientId());var t=angular.copy(H.params.api);return angular.extend(t,{adults:t.rooms>1?P.MULTI_ROOM.API_ADULTS:t.adults,minors:t.rooms>1?P.MULTI_ROOM.API_MINORS:t.minors,ratePlanCode:H.groupCreate?P.RATE_PLAN_CODES.GROUP:t.ratePlanCode}),H.groupCreate?M(t):k(t),m.inc(),H.promise=y.getHotelRates(H.params.hotel||{},t,P.TYPES.RATES,void 0,H.isGroupAdminFlow).then((function(e){if(h.CLOSED_USER_GROUP_V2&&e.stay&&e.stay.rates&&Array.isArray(e.promotions)){var t=e.promotions,n=A.filterPromosByLengthOfStay(e.promotions,e.stay.rates);e.stay.rates=A.removeRatePlansByCode(A.diffPromoRateCodes(t,n),e.stay.rates),e.promotions=n}if(H.groupPickup&&e.stay&&e.stay.rates&&!e.stay.rates[H.params.group.ratePlanCode])throw new Error(b.group.pickupNoRoomsAvailable);return e})).then((function(e){if(!e.outputInfo||!H.checkForOutputErrors(e.outputInfo).hasError)return angular.extend(H,{fees:e.fees||[],multiRoom:H.params.api.rooms>1,outputInfo:e.outputInfo||{},ratePlans:e.stay&&e.stay.rates||{},rooms:e.rooms,taxRate:e.stay&&e.stay.taxRate,taxes:e.taxes||[]}),H&&H.ratePlans&&H.ratePlans.RACK&&(H.ratePlans.RACK.currencyCode===o.hotelDefaultCurrency||!o.hotelDefaultCurrency)&&(o.hotelDefaultCurrency=H.ratePlans.RACK.currencyCode,angular.extend(H,{rackLocalCurrency:H.ratePlans.RACK})),H.checkForWarnings(),(e.promotions||e.packages)&&(H.packages=e.packages||[],H.promotions=e.promotions||[]),h.CUGII_NEW_UI_ONLY&&v.removeNewMemberRates(H),v.process(H);H.clear()})).then((function(){C.process(H),C.getStartingRates(H)})).catch((function(e){H.clear(),H.startingRates=[],H.hasError=!0,H.error=e&&e.message||b.general.errors.unexpected})).finally((function(){m.dec(),D.resolve(),S.update(H.params.api),H.checkForRateError(),H.trigger("update",H),H.initialLoad=!1})),o.loadPopUnderWindow&&o.loadPopUnderWindow(),H},warning:""});return H}]},455:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(0);e.exports=["$filter","$stateParams","bedConst","checkoutContextData","dateHelper","featureFlags","ratesConst","roomRateHelper","searchConst",function(e,t,n,a,i,s,c,l,u){function d(t,n){t.nightlyRates=[],!t.roomCharges||t.roomCharges.length<=1||angular.forEach(t.roomCharges,(function(r){for(var a=i.getDateFromString(r.startDate),o=0;o<r.nights;o++){var s=i.withAddedDays(a,o);t.nightlyRates.push({cash:r.avgNightlyBeforeTax,date:e("date")(s,n||u.DATE_FORMAT.DATE_DAY_MONTH_SLIM_SPACE),points:r.avgNightlyPoints,weekDay:e("date")(s,u.DATE_FORMAT.DAY_IN_WEEK)})}}))}function p(e,t,r){e||(e=angular.extend(t,{adults:parseInt(r.params.api.adults,10),ageOfMinors:r.params.api.ageOfMinors?r.params.api.ageOfMinors:[],minors:parseInt(r.params.api.minors,10)}));var a=t.room,o=a.capacity,i=a.maxAdultOccupancy,s=a.maxChildOccupancy,l=t.room.capacity+t.room.extraBed,u=+e.adults+ +e.minors,d=e.extraBed.bedCode!==n.EXTRA_BED_OPTIONS.DEFAULT.bedCode&&e.extraBed.bedCode!==n.EXTRA_BED_OPTIONS.NONE.bedCode;function p(n){e.occupancyStatus=n,t.hasOccupancyError=!r.multiRoom&&!r.modify&&e.occupancyStatus!==c.OCCUPANCY_STATUS.OK}if(0===e.minors&&e.extraBed.bedCode===n.EXTRA_BED_OPTIONS.CRIB.bedCode)return p(c.OCCUPANCY_STATUS.NO_MINORS_NO_CRIB);if(u>l)return p(c.OCCUPANCY_STATUS.EXCEEDED);if(u>o&&!d)return p(t.extraBedOptions&&!t.extraBedOptions.length?c.OCCUPANCY_STATUS.EXTRA_BED_NOT_AVAILABLE:c.OCCUPANCY_STATUS.EXTRA_BED_REQUIRED);if(d&&o===l)return p(c.OCCUPANCY_STATUS.EXTRA_BED_DISALLOWED);var h=f(e,t);if(!isNaN(i)&&e.adults+h>i||!isNaN(s)&&e.minors-h>s)return p(h>0?c.OCCUPANCY_STATUS.EXCEEDED_WITH_MINOR_AGE:c.OCCUPANCY_STATUS.EXCEEDED);p(c.OCCUPANCY_STATUS.OK)}function f(e,t){var n=0;if(e&&t&&t.roomCharges&&t.roomCharges[0]){var a=r(t.roomCharges,1)[0].childAgeTierPrices;n=l.getMinorsPricedAsAdultsCount(e,a)}return n}return{addNightlyRates:d,getMinorsAboveMaxAllowdAge:f,getStartingRates:function(e){e.startingRates=[],angular.forEach(e.ratePlans,(function(t){var n=t.roomStayCharges&&t.roomStayCharges.length>0&&t.roomStayCharges.reduce((function(e,t){return e&&e.avgNightlyBeforeTax?e.avgNightlyBeforeTax>t.avgNightlyBeforeTax?t:e:e.avgNightlyPoints>t.avgNightlyPoints?t:e})),r=["beforeTax","afterTax","avgNightlyBeforeTax","avgNightlyAfterTax","avgNightlyPoints","points","currencyCode","ratePlanCode","startDate","endDate","nights"].reduce((function(e,t){return n&&void 0!==n[t]&&(e[t]=n[t]),e}),{});e.startingRates.push({min:r})})),e.startingRates.length&&(void 0!==e.startingRates[0].min.avgNightlyPoints?e.startingRates=e.startingRates.sort((function(e,t){return e.min.avgNightlyPoints>t.min.avgNightlyPoints})):void 0!==e.startingRates[0].min.avgNightlyBeforeTax&&(e.startingRates=e.startingRates.sort((function(e,t){return e.min.avgNightlyBeforeTax>t.min.avgNightlyBeforeTax}))))},process:function(e){var i,l=a.get();function u(t){return e.ratePlans[t]?e.ratePlans[t]:(angular.forEach(e.ratePlans,(function(e){e.ratePlanCode===t&&(n=e)})),n||{});var n}function f(e,t){return t=angular.extend({adults:1,extraBed:n.EXTRA_BED_OPTIONS.DEFAULT,minors:0,occupancyStatus:c.OCCUPANCY_STATUS.OK},t),e.addedRooms||(e.addedRooms=[]),e.addedRooms.push(t),e.lastRoomEdited=t,e.addCount=e.addedRooms.length,!0}angular.forEach(e.rooms,(function(e){e.images=[]})),angular.forEach(e.params.hotel.images,(function(t){angular.forEach(t.roomCodes,(function(n){e.rooms&&e.rooms[n]&&e.rooms[n].images.push(t)}))})),e.modify&&angular.forEach(l.rooms,(function(t){var n=u(t.ratePlanCode).roomStayCharges;n&&!n.find(o.byRoomCode(t.roomCode))&&(n.push(angular.extend({available:0},t)),e.rooms[t.roomCode]=angular.extend({code:t.roomCode},t))})),angular.forEach(e.ratePlans,(function(t){angular.forEach(t.roomStayCharges,(function(t){angular.extend(t,{_available:t.available,addCount:0,addedRooms:[],afterTax:t.afterTax&&parseFloat(t.afterTax),avgNightlyAfterTax:t.avgNightlyAfterTax&&parseFloat(t.avgNightlyAfterTax),avgNightlyBeforeTax:t.avgNightlyBeforeTax&&parseFloat(t.avgNightlyBeforeTax),beforeTax:t.beforeTax&&parseFloat(t.beforeTax),extraBed:n.EXTRA_BED_OPTIONS.DEFAULT,extraBedOptions:[],hasOccupancyError:!1,hasRoomError:!1,rackObject:e.ratePlans.RACK,room:e.rooms[t.roomCode],roomError:"",total:0}),d(t),t.room.extraBed&&function(){if(t.roomCharges&&t.roomCharges.length){var e=r(t.roomCharges,1)[0];e.hasOwnProperty("crib")&&e.cribQuantity&&t.extraBedOptions.push(angular.extend(angular.copy(n.EXTRA_BED_OPTIONS.CRIB),{cost:e.crib})),e.hasOwnProperty("rollaway")&&e.rollawayQuantity&&t.extraBedOptions.push(angular.extend(angular.copy(n.EXTRA_BED_OPTIONS.ROLLAWAY),{cost:e.rollaway})),t.extraBedOptions.length&&t.extraBedOptions.unshift(n.EXTRA_BED_OPTIONS.NONE)}else t.ratePlanCode!==c.RATE_PLAN_CODES.SRD&&t.ratePlanCode!==c.RATE_PLAN_CODES.PPC||(t.extraBedOptions=[n.EXTRA_BED_OPTIONS.NONE,n.EXTRA_BED_OPTIONS.CRIB,n.EXTRA_BED_OPTIONS.ROLLAWAY])}(),s.CLOSED_USER_GROUP_V2&&t.childRates&&t.childRates.length&&(t.childRates=t.childRates.map((function(e){return angular.extend(e,{afterTax:e.afterTax&&parseFloat(e.afterTax),avgNightlyAfterTax:e.avgNightlyAfterTax&&parseFloat(e.avgNightlyAfterTax),avgNightlyBeforeTax:e.avgNightlyBeforeTax&&parseFloat(e.avgNightlyBeforeTax),beforeTax:e.beforeTax&&parseFloat(e.beforeTax)})})))}))})),e.modify?angular.forEach(l.rooms,(function(e){var t=u(e.ratePlanCode).roomStayCharges;if(t){var r=t.find(o.byRoomCode(e.roomCode));f(r,{adults:e.adults,extraBed:r.extraBedOptions.find((function(t){return t.bedCode===n.EXTRA_BED_OPTIONS[e.extraBed||"DEFAULT"].bedCode}))||n.EXTRA_BED_OPTIONS.DEFAULT,minors:e.minors,occupancyStatus:c.OCCUPANCY_STATUS.OK,roomCode:e.roomCode}),r._available++}})):e.groupCreate&&l.groupRoomCounts&&(i=u(l.ratePlan).roomStayCharges,t.hotelId.toUpperCase()===l.hotelId.toUpperCase()&&angular.forEach(l.groupRoomCounts,(function(e,t){var n=i.find(o.byRoomCode(t));if(n)for(var r=e;r>0;r--)f(n,{roomCode:t})}))),angular.forEach(e.ratePlans,(function(t){t.roomStayCharges.forEach((function(t){p(null,t,e),t.hadOccupancyErrorOnLoad=t.hasOccupancyError}))}))},reset:function(e){angular.forEach(e,(function(e){angular.extend(e,{addCount:0,addedRooms:[],available:e._available||e.available,extraBed:n.EXTRA_BED_OPTIONS.DEFAULT,hasOccupancyError:!1,hasRoomError:!1,lastRoomEdited:null,rackObject:{},roomError:"",total:0})}))},updateOccupancyStatus:p}}]},456:function(e,t,n){e.exports=angular.module("chApp.reviews",[]).directive("chRecentStayLink",n(941)).directive("chRecentStaysReviews",n(942)).directive("chReviews",n(943)).directive("chReviewsStayConfirmation",n(944)).directive("chReviewsStayConfirmationModal",n(945)).factory("chReviewsLink",n(946)).factory("ratingsReviews",n(947)).factory("reviewsAuthStringService",n(948)).factory("reviewsSeoService",n(949))},648:function(e,t){e.exports=angular.module("chApp.bootstrapUi.accordion",[])},649:function(e,t,n){e.exports=angular.module("chApp.bootstrapUi.carousel",[]).run(n(650))},650:function(e,t,n){e.exports=["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",n(651))}]},651:function(e,t){e.exports='<div class="carousel" ch-swipe-left="next(); $event.stopPropagation()" ch-swipe-right="prev(); $event.stopPropagation()">\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ch-keyboard-click\n        ng-class="{\'active\': isActive(slide)}"\n        ng-click="select(slide)"\n        ng-repeat="slide in slides | limitTo: 10 track by $index"\n        ng-attr-id="indicator{{$index}}"\n        tabindex="0">\n      <span class="sr-only" ng-if="!isActive(slide)">{{::$root.strings.general.carousel.navigationLabel}} {{$index + 1}}</span>\n      <span class="sr-only" ng-if="isActive(slide)">{{::$root.strings.general.carousel.navigationLabel}} {{$index + 1}}, {{::$root.strings.general.carousel.selected}}</span>\n    </li>\n  </ol>\n\n  <div aria-live="polite" id="carouselInner" class="carousel-inner" ng-transclude></div>\n\n  <button ch-keyboard-click\n          class="left carousel-control"\n          id="photoLeftScroll"\n          ng-click="prev()"\n          ng-show="slides.length > 1"\n          tabindex="0">\n    <span class="sr-only">{{::$root.strings.general.backLabel}}</span>\n    <span class="ch-icon ch-icon-chevron-left"></span>\n  </button>\n\n  <button ch-keyboard-click\n          class="right carousel-control"\n          id="photoRightScroll"\n          ng-click="next()"\n          ng-show="slides.length > 1"\n          tabindex="0">\n    <span class="sr-only">{{::$root.strings.general.nextLabel}}</span>\n    <span class="ch-icon ch-icon-chevron-right"></span>\n  </button>\n</div>\n'},652:function(e,t,n){e.exports=angular.module("chApp.bootstrapUi.calendar",[]).config(n(653)).config(n(654)).config(n(655)).config(n(656)).run(n(657))},653:function(e,t){e.exports=["uibDatepickerConfig","uibDatepickerPopupConfig","searchConst",function(e,t,n){e.showWeeks=!1,e.formatDay="yyyy-MM-dd",t.datepickerPopup=n.DATE_FORMAT.DAY_DATE,t.showButtonBar=!1}]},654:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["$provide","eventsConst",function(e,t){e.decorator("uibDatepickerDirective",["$delegate","dateHelper",function(e,r){var a=n(e,1)[0],o=a.link;return a.compile=function(){return function(e,a,i,s){o.apply(this,[e,a,i,s]);var c=n(s,2),l=c[0],u=c[1],d=l.split;l.split=function(n,r){return e.$emit(t.DATEPICKER.REFRESH_VIEW,{first:n[0],last:n[n.length-1],refresh:function(){l.refreshView()}}),d.call(l,n,r)};e.$watch("$parent.$parent.focusOnMonth",(function(t){var n;t&&(n=e.$parent.$parent.focusOnMonth,l.activeDate=r.parseToUtcDate(r.getFirstOfMonth(n)),l.refreshView(),e.$parent.$parent.focusOnMonth=void 0)})),e.isHighlight=function(t){return r.dateWithoutTime(r.parseToIso(t))===e.$parent.$parent.highlightDate},u&&e.$on("clearDatepicker",(function(){l.activeDate=angular.isDefined(i.initDate)?e.$parent.$eval(i.initDate):new Date,l.refreshView()}));var p=l.createDateObject,f=e.$parent.$parent,h=f.dateClickable,g=f.dateTooltip;e.createTooltipObject=function(t){var n=g?g({date:t,mode:e.datepickerMode}):void 0;return{enabled:!!n,text:n||""}},e.dateClickable=function(t){return h&&!1!==h({date:t,mode:e.datepickerMode})||!h},l.createDateObject=function(t,n){var r=p.call(l,t,n),a=e.dateClickable(t),o=e.createTooltipObject(t);return r.tooltip=o,r.date.canSelect=a,r}}},e}])}]},655:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["$provide",function(e){e.decorator("uibDatepickerPopupDirective",["$delegate","dateFilter","uibDatepickerPopupConfig",function(e,t,r){var a=n(e,1)[0],o=a.link;return a.scope.dateTooltip="&?",a.scope.dateClickable="&?",a.scope.focusOnMonth="=?",a.scope.highlightDate="=?",a.compile=function(){return function(e,n,a,i){var s=a.uibDatepickerPopup||r.datepickerPopup;(i.$formatters||[]).push((function(e){return t(e,s)})),e.twoNightCheck=a.twoNightCheck,o.apply(this,[e,n,a,i])}},e}])}]},656:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["$provide",function(e){e.decorator("uibDaypickerDirective",["$delegate",function(e){var t=n(e,1)[0],r=t.link;return t.compile=function(){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.apply(this,[e].concat(n));var o=e.select;e.select=function(t){if(t.canSelect)return o.call(e,t)}}},e}])}]},657:function(e,t,n){e.exports=["$templateCache",function(e){e.put("uib/template/datepicker/day.html",n(658)),e.put("uib/template/datepicker/popup.html",n(659))}]},658:function(e,t){e.exports='<table class="search-calendar" role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th role="presentation">\n        <button type="button" class="btn btn-default btn-sm btn-paddle btn-prev pull-left" ng-click="move(-1)" tabindex="-1">\n          <span class="ch-icon ch-icon-chevron-left"></span>\n          <span class="sr-only">{{::$root.strings.search.prevMonth}}</span>\n        </button>\n      </th>\n      <th colspan="{{5 + showWeeks}}">\n        <button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-lg btn-title" tabindex="-1" style="width:100%;">\n          <strong>{{title}}</strong>\n        </button>\n      </th>\n      <th role="presentation">\n        <button type="button" class="btn btn-default btn-sm btn-paddle btn-next pull-right" ng-click="move(1)" tabindex="-1">\n          <span class="sr-only">{{::$root.strings.search.nextMonth}}</span>\n          <span class="ch-icon ch-icon-chevron-right"></span>\n        </button>\n      </th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center">\n        <large aria-label="{{label.full}}">{{label.abbr}}</large>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6">\n        <em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="date-elements text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button"\n                aria-label="{{dt.label | date : \'EEEE d MMMM yyyy\'}}"\n                class="calendar-date-btn btn btn-block btn-default btn-lg"\n                ng-class="{\'btn-info\': isHighlight(dt.date) || dt.selected , active: isActive(dt), strong: !dt.disabled && !dt.secondary, \'btn-no-border\': !dt.date.canSelect}"\n                ng-click="select(dt.date)"\n                ng-disabled="dt.disabled"\n                tabindex="-1"\n                tooltip-placement="top"\n                tooltip-trigger="focus"\n                tooltip-animation="false"\n                tooltip-enable="dt.tooltip.enabled"\n                uib-tooltip-html="dt.tooltip">\n          <span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}" aria-hidden="true">{{dt.label | date : \'d\'}}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},659:function(e,t){e.exports='<div>\n  <ul class="uib-datepicker-popup dropdown-menu dropdown-calendar" dropdown-nested ng-if="isOpen"\n      ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)"\n      ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n\t  <li ng-if="showButtonBar" style="padding: 10px 9px 2px">\n\t    <span class="btn-group pull-left">\n\t      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t    </span>\n\t    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close()">{{ getText(\'close\') }}</button>\n\t  </li>\n  </ul>\n</div>\n'},705:function(e,t){e.exports='<section\n    class="expansion-banner"\n    ng-class="[{\'expansion-banner-padded\': expansionBanner.padded}, expansionBanner.className]"\n    ng-if="expansionBanner.showing">\n  <div\n      class="expansion-panel"\n      ng-class="{preload: expansionBanner.preloadBackground}"\n      uib-collapse="!expansionBanner.expanded">\n    <div\n        ch-responsive-background="{{::expansionBanner.expansionImageUrl}}"\n        on-background-load="expansionBanner.backgroundPromise.resolve()"\n        class="expansion-content img-visible"\n        ng-if="expansionBanner.loaded || expansionBanner.preloadBackground">\n      <div class="container text-center">\n        <div\n            ch-content-module="{{::expansionBanner.expansionContentUrl}}"\n            on-content-load="expansionBanner.contentPromise.resolve()">\n        </div>\n\n        <button\n            class="expansion-hide-button"\n            aria-label="Hide banner"\n            ng-click="expansionBanner.hide()">\n          <span class="ch-icon ch-icon-close"></span>\n        </button>\n\n        <button\n            class="btn expansion-close-button text-center"\n            aria-label="Close banner"\n            ng-click="expansionBanner.toggleExpandCollapse()"\n            ch-focus-if="expansionBanner.expanded">\n          <span class="ch-icon ch-icon-double-arrow-up"></span>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="container">\n    <div class="row">\n      <div class="expansion-button-container col-md-3" ng-hide="expansionBanner.expanded">\n        <div>\n          <button\n              class="expansion-hide-button"\n              aria-label="Hide banner"\n              ng-click="expansionBanner.hide()">\n            <span class="ch-icon ch-icon-close"></span>\n          </button>\n          <button\n              ch-responsive-background="{{::expansionBanner.expansionImageUrl}}"\n              class="expansion-button text-white text-center"\n              ng-click="expansionBanner.toggleExpandCollapse()">\n            <span class="sub-headline">{{::$root.strings.general.introducing}}</span>\n            <h5\n                class="headline"\n                ng-bind-html="::$root.strings.general[expansionBanner.expansionButtonString]">\n            </h5>\n            <span class="ch-icon ch-icon-double-arrow-down"></span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'},890:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,a,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootScope=t,this.$location=n,this.localeService=r,this.selectedLangData=a,this.sessionStorageHelper=o,this.strings=i,this.urlParserService=s,this.showHotelLink=!1,this.showNearbyLink=!1,this.showSearchLink=!1}var t,r,a;return e.$inject=["$rootScope","$location","localeService","selectedLangData","sessionStorageHelper","strings","urlParserService"],t=e,(r=[{key:"$onInit",value:function(){var e=this;this.LANG=this.selectedLangData.get().code,this.isFromPropertyPage=-1!==this.$rootScope.referrer.indexOf(this.$location.path().replace(/\/rates$/,"")),this.showHotelLink=/\/rates$/.test(this.$location.path()),this.backToPropertyLabel=this.strings.propertyRates?this.strings.propertyRates.viewPropertyDetails:"",this.useBackToPropertyArrow=!0,this.propertyPageUrl=this.urlParserService.getPropertyPageUrl(this.hotel.address,this.hotel.brandCode,this.hotel.id,this.LANG,!0),this.searchPageUrl="",this.searchClickTrackingId="BackToSearchResults",this.backToPropertyTrackingId="BackToProperty";var t=this.urlProvider&&this.urlProvider()||this.sessionStorageHelper.getCurrentSearchUrl(),n="".concat(this.$location.protocol(),"://").concat(this.$location.host());if(this.showSearchLink=-1!==this.$rootScope.referrer.indexOf(n)&&Object.keys(t).length,t.path&&t.params&&(this.searchPageUrl=this.localeService.addLocaleToPath(t.path+this.urlParserService.getQueryString()),this.$rootScope.$on("$routeUpdate",(function(){e.searchPageUrl=e.localeService.addLocaleToPath(t.path+e.urlParserService.getQueryString())}))),this.backToSearchLabel=this.strings.hotel.summaryBack,!this.showSearchLink){this.backToSearchLabel=this.strings.hotel.summaryBack,this.showNearbyLink=!0;var r=this.urlParserService.getSearchObject(this.$location.path(),this.$location.search());this.searchClickTrackingId="ViewNearbyHotels",-1===this.$location.path().indexOf("vacation-rentals")&&(this.sessionStorageHelper.getCurrentSearchUrl().path?this.searchPageUrl=this.localeService.addLocaleToPath(this.sessionStorageHelper.getCurrentSearchUrl().path):this.searchPageUrl=this.urlParserService.getStateCityUrl(r.stateCountry,r.city))}this.propertyPageOnly&&(this.showNearbyLink=!1,this.showSearchLink=!1,this.backToPropertyLabel=this.hotel.name,this.useBackToPropertyArrow=!1)}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports={bindings:{hotel:"<?",propertyPageOnly:"<?",seleniumId:"<",urlProvider:"&?chUrlProvider"},controller:r,template:'\n  <div>\n    <ch-back-to-page-link\n        ng-if="$ctrl.showHotelLink"\n        url="$ctrl.propertyPageUrl"\n        selenium-id="backToSearchResultsLink0"\n        click-tracking-id="$ctrl.backToPropertyTrackingId"\n        label="$ctrl.backToPropertyLabel"\n        use-arrow="$ctrl.useBackToPropertyArrow">\n    </ch-back-to-page-link>\n\n    <ch-back-to-page-link\n        ng-if="$ctrl.showNearbyLink || $ctrl.showSearchLink"\n        url="$ctrl.searchPageUrl"\n        selenium-id="backToSearchResultsLink1"\n        click-tracking-id="$ctrl.searchClickTrackingId"\n        label="$ctrl.backToSearchLabel"\n        use-arrow="true">\n    </ch-back-to-page-link>\n  </div>\n  '}},891:function(e,t){e.exports={bindings:{clickTrackingId:"<",label:"<",seleniumId:"@",url:"<",useArrow:"<"},template:'\n    <a\n        ng-href="{{::$ctrl.url}}"\n        class="back-to-search text-right text-uppercase"\n        ng-class="{\'pull-right\': $ctrl.useArrow}"\n        data-seleniumid="{{::$ctrl.seleniumId}}"\n        so-omniture-click-tracking="{{::$ctrl.clickTrackingId}}">\n      <span class="ch-icon ch-icon-chevron-left" ng-if="::$ctrl.useArrow"></span>\n      {{::$ctrl.label}}\n    </a>\n  '}},892:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,a,o,i,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$attrs=t,this.$window=r,this.deviceConst=a,this.eventsConst=o,this.featureFlags=i,this.priceHelper=s,this.scope=n,this.siteConfig=c}var t,r,a;return e.$inject=["$attrs","$scope","$window","deviceConst","eventsConst","featureFlags","priceHelper","siteConfig"],t=e,(r=[{key:"$onInit",value:function(){var e=this;this.disableTooltip=void 0===this.disableTooltip&&this.$attrs.hasOwnProperty("disableTooltip")||!!this.disableTooltip,this.price=this.price||this.prices&&this.prices[0]||{},this.featureFlags.SO_MODIFY_UPDATE_DATE_BUTTON&&this.scope.$on(this.eventsConst.RATE_FORM.RATE_UPDATED,(function(){e.price=e.prices&&e.prices[0]||{}})),this.siteConfig.deviceType===this.deviceConst.DESKTOP&&(this.disableTooltip=void 0===this.disableTooltip&&this.$attrs.hasOwnProperty("disableTooltip")||this.disableTooltip,this.disableTooltip||(this.tooltipOpen=!1,this.tooltipTemplateUrl="/".concat(this.siteConfig.assetFingerprint,"/shared/cug-price-tag/cug-price-tag.popover.html")))}},{key:"showTooltip",value:function(){this.tooltipOpen=!0}},{key:"getTooltipPlacement",value:function(){return this.popoverPlacement||(this.$window.innerWidth>992?"left":"top")}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports={bindings:{disableTooltip:"<?",discountStyles:"=?",isAmrProperty:"=?",mapView:"<?",popoverPlacement:"<?",price:"=?",prices:"=?",smallSize:"=?"},controller:r,controllerAs:"cugPriceTag",templateUrl:["siteConfig",function(e){return"/".concat(e.assetFingerprint,"/shared/cug-price-tag/cug-price-tag").concat(e.fileSuffix,".html")}]}},893:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$attrs=t,this.priceHelper=n}var t,r,a;return e.$inject=["$attrs","priceHelper"],t=e,(r=[{key:"$onInit",value:function(){this.disableTooltip=void 0===this.disableTooltip&&this.$attrs.hasOwnProperty("disableTooltip")||!!this.disableTooltip}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports={bindings:{disableTooltip:"<?",mapView:"<?",modalFallback:"&?",price:"=?",smallSize:"=?"},controller:r,templateUrl:["siteConfig",function(e){return"/".concat(e.assetFingerprint,"/shared/cug-price-tag/cug-price-tag-header.html")}]}},894:function(e,t){e.exports=["analyticsManager","omniture","omnitureConst","pagesConst",function(e,t,n,r){e.setPageDefaults({PAGE_NAME:function(){return t.clearPreviousProperties(),n.CUG_POPUP_PAGE_NAME}},r.CUG_POPUP)}]},903:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$http","$locale","$q","$state","$window","apiParamsHelper","countryDataUtils","cpUserData","deviceConst","featureFlags","globalLoaderCounter","hotelConst","hotelImageHelper","localeService","prerenderService","ratesConst","routeConst","searchConst","searchCriteriaData","searchDataService","siteConfig","subdivisionHelper","urlEncodeObject","urlParserService",function(e,t,n,a,o,i,s,c,l,u,d,p,f,h,g,m,y,E,A,P,v,C,T,S){var R="/webapi/hotel/",_=v.deviceType===l.MOBILE,O=!h.isDomestic()||h.isDomestic()&&u.SHOW_PACKAGES_ON_PROPERTY_PAGE,b={preferredLocaleCode:t.id},I=[m.RATE_PLAN_CODES.RACK,m.RATE_PLAN_CODES.PREPD].concat(u.CLOSED_USER_GROUP_V2&&m.RATE_PLAN_CODES.FENCED||u.CLOSED_USER_GROUP&&m.RATE_PLAN_CODES.CUG||[]).join(","),N=function(){return r(r({preferredLocaleCode:t.id,ratePlans:I},m.DEFAULT_HOTEL_API_PARAMS),u.IWSR_MASTER&&{siteName:h.getCountryCode()})};function L(e){a.current.name===y.ROUTE_NAMES.PROPERTY_PAGE&&angular.extend(e,{businessFunction:p.BUSINESS_FUNCTION.VIEW_HOTEL})}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=angular.uppercase(e.ratePlanCode),o=c.get(),i=o.lastName,s=o.cpLoyaltyProgramId,l=o.cpLoyaltyAccountNumber,d=o.signedIn,p=o.pointsPlusCashAccountStatus,f=N();switch(angular.uppercase(a)){case m.RATE_PLAN_CODES.PPC:case m.RATE_PLAN_CODES.SRD:e.ratePlans=u.POINTS_REDEMPTION_IMPROVEMENTS&&!_&&r?"".concat(f.ratePlans,",").concat(a):a,e.rateType="LOW",u.POINTS_REDEMPTION_IMPROVEMENTS&&e.ratePlans&&-1!==e.ratePlans.indexOf(",")&&(e.rateType="LOW_ALL"),d&&"ELIGIBLE"===p.statusCode&&(e.ratePlans+=",".concat(a===m.RATE_PLAN_CODES.SRD?m.RATE_PLAN_CODES.PPC:m.RATE_PLAN_CODES.SRD),e.rateType="LOW_ALL",e.loyaltyAccountLastName=i,e.loyaltyProgramId=s,e.loyaltyAccountNumber=l);break;case m.RATE_PLAN_CODES.RACK:e.ratePlans=f.ratePlans+(n?",".concat(m.RATE_PLAN_CODES.PROMO):"");break;case m.RATE_PLAN_CODES.GROUP:e.ratePlans=m.RATE_PLAN_CODES.GROUP,e.rateType="LOW";break;default:e.ratePlans="".concat(a,",").concat(t?m.RATE_PLAN_CODES.RACK:f.ratePlans)}delete e.ratePlanCode}function w(t,n){n=angular.copy(n);var r=N();D(n,!1,u.PROMO_CATEGORY);var a=i.formatApiParams(r,n);return e.get(R+t,{params:a})}function x(r,a,o){var i=angular.copy(o)||{};L(i);var s=n.defer();i.preferredLocaleCode=t.id,u.IWSR_MASTER&&(i.siteName=h.getCountryCode()),a&&(i.include=a);var c=a||o?void 0:P.getHotelData(r);function l(e){s.reject(e.data)}return c?s.resolve(c):(i.optimizeResponse=p.OPTIMIZE_RESPONSE.IMAGE_URL,d.inc(),e.get(R+r,{params:i}).then((function(e){"OK"===e.data.status||"PARTIAL"===e.data.status?(C.getAlternateSubdivisionIfAvailable(e.data.hotel),f.updateHotelImagesWithRenditions(e.data.hotel),E.HOTEL_DEFAULT_PARAMS.include===a&&P.setHotelData(e.data.hotel),s.resolve(e.data.hotel)):l(e)}),l).finally(d.dec)),s.promise}return{extractHotelLocations:function(e){var t={};return e.forEach((function(e){var n,r="US"===e.address.country,a=r?e.address.subdivision:e.address.country,o=r?"domestic":"international";if(t[o]=t[o]||{cityCount:0,regionType:o,territories:[]},!(n=t[o].territories.find((function(e){return e.code===a})))){if(n=s.getCountry(e.address.country),r&&(n=n.states.find((function(e){return e.code===a}))),!n)return;n={cities:[],code:a,name:n.name},t[o].territories.push(n)}var i=n.cities.find((function(t){return e.address.city===t.name}));i?i.url=S.getBrandListingUrl(n.name,e.brandCode):(n.cities.push({name:e.address.city,url:S.getPropertyUrl(e.address,e.brandCode,e.id)}),t[o].cityCount++)})),t},getBrandHotels:function(t,n){var r=angular.extend(b,h.getSiteNameObj(),n||{});return e.get("".concat("/webapi/hotels/","brand/").concat(t),{params:r})},getHotel:x,getHotelRate:function(e,t){var r=n.defer(),a=c.get(),o=a.lastName,i=a.loyaltyProgramId,s=a.loyaltyAccountNumber;function l(e){"OK"===e.data.status||"PARTIAL"===e.data.status?r.resolve(e.data.hotel.rateRanges):u(e)}function u(e){r.reject(e.data)}return t.loyaltyAccountLastName=o,t.loyaltyProgramId=i,t.loyaltyAccountNumber=s,L(t),d.inc(),w(e,t).then(l,u).finally(d.dec),r.promise},getHotelRateAsync:function(e,t){var n={},r=c.get();return t.loyaltyAccountLastName=r.lastName,t.loyaltyProgramId=r.loyaltyProgramId,t.loyaltyAccountNumber=r.loyaltyAccountNumber,L(t),n.promise=w(e,t).then((function(e){return"OK"===e.data.status||"PARTIAL"===e.data.status?e.data.hotel.rateRanges:e.data}),(function(e){return e.data})),n},getHotelRates:function a(o,s,c,d,y){var E=s.ratePlanCode;s=angular.copy(s);var P=r(r(r({preferredLocaleCode:t.id,ratePlans:I},m.DEFAULT_RATES_API_PARAMS),u.IWSR_MASTER&&{siteName:h.getCountryCode()}),u.AMR_MWEB_MASTER&&_&&{ageOfMinors:null}),C=s.isGroupPickup?s.ratePlanCode:null,S=n.defer();function b(e){S.reject(e.data)}function N(e){"OK"===e.status||"PARTIAL"===e.status?S.resolve(e):k(e)}if(s.ratePlanCode===m.RATE_PLAN_CODES.GROUP)return w(o.id,angular.extend({},s,{rateType:"LOW"})).then((function(e){var t;"OK"===e.data.status||"PARTIAL"===e.data.status?(e.data.hotel.rateRanges&&(t=e.data.hotel.rateRanges),t&&t.length>0&&t[0].min?(s.ratePlanCode=t[0].min.ratePlanCode,a(o,s,m.TYPES.GROUP).then(N,b)):S.resolve(e.data)):S.reject(e.data)}),b),S.promise;c===m.TYPES.RATES?(D(s,d,null,!0),O&&(s.includePackages=!0,s.includePromotions=!0,u.CLOSED_USER_GROUP_V2&&(s.includePromoLengthOfStay=!0))):(s.adults=2,s.minors=0,s.ratePlans=s.ratePlanCode,s.rateType="LOW",delete s.ratePlanCode);var L=i.formatApiParams(P,s);if(y&&(angular.extend(L,{reservedRoomForRates:E}),L.include=L.include?"".concat(L.include,", reserved_room_for_rates, taxes_and_fees"):"reserved_room_for_rates, taxes_and_fees"),L.include=L.include&&L.include.length?"".concat(L.include,", room_merchandising_info"):"room_merchandising_info",(!u.AMR_MWEB_MASTER||!L.ageOfMinors)&&u.AMR_MASTER&&L.minors>0){var x=A.get();x&&void 0!==x.ageOfMinors&&(L.ageOfMinors=x.ageOfMinors)}function k(e){S.reject(e.data)}if(L.loyaltyAccountNumber||delete L.loyaltyAccountNumber,L.loyaltyProgramId||delete L.loyaltyProgramId,o.id){var M=g.isRunningInPrerender()||y||!u.RATES_PAGE_PERFORMANCE_OPTIMIZATION||v.deviceType!==l.DESKTOP?R:"/webapi/v2/hotel/";L.optimizeResponse=p.OPTIMIZE_RESPONSE.IMAGE_URL,e.post("".concat(M+o.id,"/rates"),T(L),{cache:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(!g.isRunningInPrerender()&&u.RATES_PAGE_PERFORMANCE_OPTIMIZATION&&v.deviceType===l.DESKTOP){var t=function(e,t){var n={};return e.packages&&(n.packages=e.packages),e.promotions&&(n.promotions=angular.copy(e.promotions),n.promotions.forEach((function(e){e.matchesRequestDates=!(!t.stay||!t.stay.rates[e.ratePlanCode])&&t.stay.rates[e.ratePlanCode].matchesRequestDates}))),e.rooms&&(n.rooms=e.rooms),e.imageRenditionInformation&&(n.imageRenditionInformation=e.imageRenditionInformation),n}(o,e.data);t&&angular.extend(e.data,t)}"OK"===e.data.status||"PARTIAL"===e.data.status?(C&&function(e,t){if(t.stay&&t.stay.rates){var n={},r=t.stay.rates[e];r&&angular.forEach(r.roomStayCharges,(function(e){n[e.roomCode]=e})),angular.forEach(Object.keys(t.rooms),(function(e){n[e]||delete t.rooms[e]})),angular.forEach(t.stay.rates,(function(t,r){if(r!==e){var a=[];angular.forEach(t.roomStayCharges,(function(e){n[e.roomCode]&&a.push(e)})),t.roomStayCharges=a}}))}}(C,e.data),f.updateHotelRoomsWithRenditions(e.data.imageRenditionInformation,e.data.rooms),S.resolve(e.data)):k(e)}),k)}return S.promise},getHotelV2:function(r,a,i,s,c){if(u.RATES_PAGE_PERFORMANCE_OPTIMIZATION&&v.deviceType===l.DESKTOP)return function(r,a,i,s,c){if(_||g.isRunningInPrerender())return x(r,a,c);var p=angular.copy(c)||{},m={};L(p);var y=n.defer();p.preferredLocaleCode=t.id,u.IWSR_MASTER&&(p.siteName=h.getCountryCode(),m.siteName=p.siteName);var A=(S=angular.extend({},{id:r},m,{locale:t.id},{includeParam:a==="".concat(E.HOTELV2_PARAMS_FOR_RATES.include,", point_calendar")?"".concat(E.HOTELV2_DEFAULT_PARAMS.include,", point_calendar"):a}),Object.keys(S).sort().map((function(e){var t="".concat(S[e]).toLowerCase();return"".concat(e,":").concat(t)})).join(",")),T=a&&!c?P.getData(A):void 0;var S;if(p.include=i===E.RATES_PAGE&&T?E.HOTELV2_PARAMS_FOR_RATES.include_nocache:a,T&&i===E.PROPERTY_PAGE)y.resolve(T.results);else if((u.ADD_HOTEL_DATA_TTFB||u.RATES_PAGE_PERFORMANCE_OPTIMIZATION)&&!s&&o.hotelInfoData&&v.deviceType===l.DESKTOP){var R=angular.copy(o.hotelInfoData);delete o.hotelInfoData,b({data:R})}else s||d.inc(),e.get("/webapi/v2/hotel/"+r,{params:p}).then(b,O).finally((function(){s||d.dec()}));function O(e){y.reject(e.data)}function b(e){T&&"rates"===i&&angular.extend(e.data.hotel,T.results),"OK"===e.data.status||"PARTIAL"===e.data.status?(C.getAlternateSubdivisionIfAvailable(e.data.hotel),f.updateHotelImagesWithRenditions(e.data.hotel),a==="".concat(E.HOTELV2_DEFAULT_PARAMS.include,", point_calendar")&&P.setData(A,e.data.hotel),y.resolve(e.data.hotel)):O(e)}return y.promise}(r,a,i,s,c);if(_||g.isRunningInPrerender())return x(r,a,c);var p=angular.copy(c)||{};L(p);var m=n.defer();p.preferredLocaleCode=t.id,u.IWSR_MASTER&&(p.siteName=h.getCountryCode()),a&&(p.include=a);var y=a||c?void 0:P.getHotelData(r);function A(e){m.reject(e.data)}function T(e){"OK"===e.data.status||"PARTIAL"===e.data.status?(C.getAlternateSubdivisionIfAvailable(e.data.hotel),f.updateHotelImagesWithRenditions(e.data.hotel),E.HOTELV2_DEFAULT_PARAMS_FEATURED_PHOTO.include===a&&P.setHotelData(e.data.hotel),m.resolve(e.data.hotel)):A(e)}if(y)m.resolve(y);else if(u.ADD_HOTEL_DATA_TTFB&&!s&&o.hotelInfoData){var S=angular.copy(o.hotelInfoData);delete o.hotelInfoData,T({data:S})}else s||d.inc(),e.get("/webapi/v2/hotel/"+r,{params:p}).then(T,A).finally((function(){s||d.dec()}));return m.promise},getMultiBrandHotels:function(t,n){var r=angular.extend(b,h.getSiteNameObj(),{brandCodes:t},n||{});return e.get("".concat("/webapi/hotels/","search"),{params:r})},getTheme:function(e,t,n){var r=[e,n,t,"default"],a=function e(t){var n=r.find((function(e){return e&&t[e]}));return n&&e(t[n])||t}(p.TEMPLATE);return{classes:["property-page-v2",e&&"brand-".concat(e.toLowerCase()),n&&"product-".concat(n.toLowerCase()),t&&"country-".concat(t.toLowerCase()),"template-".concat(a.toLowerCase())].filter((function(e){return e})).join(" "),isExtended:a===p.EXTENDED,isMidscale:a===p.MIDSCALE,isUpscale:a===p.UPSCALE}},sendCustomerActivitySignal:function(t){e({data:T({hotelId:t}),headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",url:"/webapi/activity/track/propertyinfo"})}}}]},924:function(e,t,n){var r=n(0);e.exports=["$http","$sce","$templateCache","featureFlags","patternsConst","ratesConst","siteConfig","siteOpConstant","strings","valuesService",function(e,t,n,a,o,i,s,c,l,u){return{process:function(c){return u.getValues().then((function(u){var d=angular.copy(u.standardRatePlans);d.splice(d.findIndex(r.byRatePlanCode(i.RATE_PLAN_CODES.RACK))+1,0,{ratePlanCode:i.RATE_PLAN_CODES.CUG},{ratePlanCode:i.RATE_PLAN_CODES.PREPD},{ratePlanCode:c.selectedRatePlanCode});var p=[i.TYPES.PROMOTIONS,i.TYPES.PACKAGES,i.TYPES.GROUP];c.groupPickup&&Object.keys(c.ratePlans).forEach((function(e){e===c.params.group.ratePlanCode?c.ratePlans[e].name=l.group.ratePlanName:delete c.ratePlans[e]})),angular.forEach(c.ratePlans,(function(u,f){u.rateType=c.packages&&c.packages.find(r.byRatePlanCode(u.ratePlanCode))&&i.TYPES.PACKAGES||c.promotions&&c.promotions.find(r.byRatePlanCode(u.ratePlanCode))&&i.TYPES.PROMOTIONS||i.TYPES.RATES,u.ratePlanCode!==i.RATE_PLAN_CODES.SRD&&(u.fromCash=u.plusCash||u.ratesFrom&&(u.ratesFrom.fenced||u.ratesFrom.default)||u.from),u.ratePlanCode!==i.RATE_PLAN_CODES.SRD&&u.ratePlanCode!==i.RATE_PLAN_CODES.PPC||(u.fromPoints=u.from),u.rateOrder=d.findIndex(r.byRatePlanCode(f))+1||p.indexOf(u.rateType)+100,u.rate=u.rateType===i.TYPES.RATES&&u.ratePlanCode||u.rateType,a.CLOSED_USER_GROUP_V2&&Array.isArray(u.roomStayCharges)&&(u.childRatePlanCodes=u.roomStayCharges.reduce((function(e,t){return Array.isArray(t.childRates)?Array.prototype.concat.apply(e,t.childRates):e}),[]).reduce((function(e,t){return e[t.ratePlanCode]=t.ratePlanCode,e}),{})),o.groupRatePlanCode.test(u.ratePlanCode)?(angular.extend(u,{groupRate:!0,name:l.group.ratePlanName}),e.get("/".concat(s.assetFingerprint,"/app/rates-desktop/content/rates-groups-description.html"),{cache:n}).then((function(e){u.shortDescHtml=t.trustAsHtml(e.data||"")}))):u.shortDescHtml=t.trustAsHtml(u.shortDescHtml)})),c.ratePlans[i.RATE_PLAN_CODES.PREPD]&&(c.ratePlans[c.ratePlans[i.RATE_PLAN_CODES.PREPD].ratePlanCode]=c.ratePlans[i.RATE_PLAN_CODES.PREPD],delete c.ratePlans[i.RATE_PLAN_CODES.PREPD])}))},removeNewMemberRates:function(e){angular.forEach(e.ratePlans,(function(e){e.ratePlanCode!==i.RATE_PLAN_CODES.RACK&&e.roomStayCharges&&(e.ratesFrom&&e.ratesFrom.fenced&&delete e.ratesFrom.fenced,e.roomStayCharges.forEach((function(e){e.childRates&&delete e.childRates})))}))}}}]},925:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=["$filter","$rootScope","$sce","$location","analyticsConst","analyticsManager","dateHelper","eventsConst","featureFlags","loyaltyAccountHelper","omniture","omnitureConst","pagesConst","priceHelper","ratesCart","ratesConst","ratesInventory","routeConst","searchCriteriaData","strings","urlUtils","valuesService",function(e,t,r,a,o,i,s,c,l,u,d,p,f,h,g,m,y,E,A,P,v,C){var T,S,R=null,_=e("toArray"),O=e("orderBy"),b=e("limitTo"),I=!1;function N(e,t){R=R||[],angular.forEach(e,(function(e){R.push(angular.extend(e,{ratePlanPosition:t}))}))}function L(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].isOpen)return t;return""}function D(){t.$emit(c.ANALYTICS_PAGE_LOADED,f.PROPERTY_RATES_PAGE)}function w(){R=[];var e=(g.selectedTab||"").toLowerCase();angular.forEach(y[e],(function(e,t){y.ratePlans[e.ratePlanCode]&&(T.accordionState[e.ratePlanCode].isOpen?N(y.ratePlans[e.ratePlanCode].roomStayCharges,t):N([{avgNightlyBeforeTax:y.ratePlans[e.ratePlanCode].fromCash,avgNightlyPoints:y.ratePlans[e.ratePlanCode].fromPoints,roomCode:e.ratePlanCode}],t))}))}return{addRooms:N,getRooms:function(){return R},init:function(e){var P=A.get(),N=C.getValues()&&C.getValues().$$state&&C.getValues().$$state.value&&C.getValues().$$state.value.ratePlans,D=function(){return N&&N.find((function(e){return e.ratePlanCode===P.ratePlanCode}))},w={};function x(){return y.groupCreate?m.RATE_PLAN_CODES.SGRP1:P.ratePlanCode||y.params.api.ratePlanCode||g.ratePlanCode}i.initialize();var k=t.$on(c.CLICK_TRACKED,(function(){R=null,t.$emit(c.ANALYTICS_PAGE_LOADED,f.PROPERTY_RATES_PAGE)}));e.virtualRoomTourSend=function(e,n){I=!0,S=e,i.clickTracking.value=p.RATES_PAGE.ROOM_TOUR_LINK+n,t.$emit(c.ANALYTICS_PAGE_LOADED,f.PROPERTY_RATES_PAGE),I=!1},i.create({analyticsConst:o.ROOM_CODES,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:j,view:f.PROPERTY_RATES_PAGE}).register();var M=i.create({analyticsConst:o.TAB_DESCRIPTION,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:G,view:f.PROPERTY_RATES_PAGE}).register(),U=i.create({analyticsConst:o.ERROR_MESSAGES,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:$,view:f.PROPERTY_RATES_PAGE}).register();function B(){return"string"==typeof g.selectedTab&&"promotions"===g.selectedTab.toLowerCase()}function $(){var e=[T&&T.rateError,y.error,y.warning].filter((function(e){return!!e})).map((function(e){return r.valueOf(e).replace(/<\/?[^>]+(>|$)/g,"")})).join(" | ").substr(0,p.MAX_STRING_LENGTH);return 0!==e.length?e:0}function H(e){return e.ratesFrom&&e.ratesFrom.fenced?e.ratesFrom.fenced:e.from}function G(){var t=[];if(y.ratePlans){var n,r,a,o,i=_(y.ratePlans);i=l.SO_TAB_ORDER?O(i,"from"):O(i,"rateOrder"),angular.forEach(i,(function(i,s){var c=i.name,l=e.values.currencies[i.currencyCode]?e.values.currencies[i.currencyCode].symbol:"",u=i.from?" from ".concat(l).concat(Math.round(H(i))):"",d=i.from?" from ".concat(Math.round(i.from)," PTS").concat(i.plusCash?" + ".concat(l).concat(i.plusCash):""):"";101===i.rateOrder&&(H(i)<r||!r)?(o=m.TYPES.PACKAGES.toUpperCase()+u,r=H(i)):100===i.rateOrder&&(H(i)<n||!n)?(a=m.TYPES.DEALS.toUpperCase()+u,n=H(i)):i.rate===m.RATE_PLAN_CODES.PPC||i.rate===m.RATE_PLAN_CODES.SRD?t[s]=(c&&c.visualName||i.name.toUpperCase())+d:t[s]=(c&&c.visualName||i.name.toUpperCase())+u})),a&&(t[100]=a),o&&(t[101]=o),t=(t=t.filter((function(e){return void 0!==e}))).join(" | ")}return t}function F(e){return e.reduce((function(e,t){return Array.isArray(t.childRates)&&t.childRates.forEach((function(t){e.push(function(e){var t=Object.create(e);return t.beforeTax=Number(t.beforeTax),t}(t))})),e.push(t),e}),[])}function j(){if(d.clearPreviousProperties(),U.value=null,w.roomPrices=null,w.hotelStrikethroughPrices=null,!R&&y.ratePlans[g.selectedTab]?R=y.ratePlans[g.selectedTab].roomStayCharges:!R&&y.ratePlans&&Object.keys(y.ratePlans).length&&(R=y.ratePlans[Object.keys(y.ratePlans)[0]].roomStayCharges),R){var t=(Array.isArray(R)?R:_(R)).filter((function(e){return e.room&&e.room.beds}));t=l.CLOSED_USER_GROUP_V2?F(t):t;var n=l.CLOSED_USER_GROUP_V2?t:O(t,["+ratePlanPosition","+beforeTax","+room.bedsDescription","+room.accessible"]),r="",a="",o="",i="";return n.forEach((function(e,t){var n,s=null;if(i=t>0?i:"",r=t>0?"".concat(r," "):"",a=t>0?"".concat(a,"|"):"",o=t>0?"".concat(o,"|"):"",e.roomCode&&e.roomCode.length>0&&(r+=e.roomCode),(void 0!==e.occupancyStatus&&"OK"!==e.occupancyStatus||e.hasOccupancyError)&&(s="NA",i=i+(i.length>0?" | ":"")+e.occupancyStatus),e.avgNightlyPoints&&e.avgNightlyBeforeTax)n=s||e.avgNightlyPoints+Math.round(e.avgNightlyBeforeTax);else{var c=(e.extraBed||{}).cost||0;n=s||e.avgNightlyPoints||Math.round(e.avgNightlyBeforeTax)+c||"NA?"}var l=y.multiRoom||!g.memberRate?m.RATE_PLAN_CODES.RACK:g.selectedTab,u=function(e,t){var n=y.ratePlans[t]&&y.ratePlans[t].roomStayCharges,r=n&&n.filter((function(t){return t.roomCode===e}))[0];return r&&Math.round(r.avgNightlyBeforeTax)}(e.roomCode,l);a+=n,o+=u&&!(e.childRates||[]).length&&e.ratePlanCode!==m.RATE_PLAN_CODES.RACK?u:"FP"})),V(i,a,o),T&&(T.rateError=i),e.pricelist=a,r}V()}function V(e,t,n){if(M.value=G(),y.error||y.warning||e){var a=[],o=r.valueOf(y.error).replace(/<\/?[^>]+(>|$)/g,"");a.push(e),a.push(o),a.push(y.warning),a=a.filter((function(e){return void 0!==e&&""!==e})),U.value=b(a.join(" | "),100)}t&&(w.roomPrices=t),!n||"string"==typeof g.selectedTab&&"packages"===g.selectedTab.toLowerCase()||B()||(w.hotelStrikethroughPrices=n)}l.CLOSED_USER_GROUP_V2&&i.create({analyticsConst:o.HOTEL_LIST_RATE_PLANS,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:function(){var e=g.selectedTab;if("object"!==n(y.ratePlans))return"";if(B()&&T&&T.accordionState&&!(e=L(T.accordionState)))return Object.keys(T.accordionState).reduce((function(e,t){return y.ratePlans[t]?e.concat([h.findCheapestRatePlanCode(y.ratePlans[t])]):e.splice()}),[]).join(" ");var t=y.ratePlans[e];if("object"!==n(y.ratePlans[e]))return"";if(t.childRatePlanCodes){var r=[];return r.push(e),r.concat(Object.keys(t.childRatePlanCodes)).join(" ")}return e},view:f.PROPERTY_RATES_PAGE}).register(),i.setPageDefaults({CURRENT_URL:function(){if(I)return S;return a.host()+a.path()},DAYS_PRIOR_TO_ARRIVAL:function(){return s.subtractDates(P.checkInDate,s.asString(s.getTodayDate())).toString()},DESTINATION_MARKET:function(){var t=e.hotel.address.city||"",n=e.hotel.address.subdivision||"",r=e.hotel.address.country||"";return t.length&&n.length&&r.length?"".concat(t.toLowerCase(),", ").concat(n.toLowerCase(),", ").concat(r.toLowerCase()):""},ERROR_MESSAGES:$,EVENTS:function(){return e.cpUser.signedIn?"event4":""},HOTEL_LIST_FULL_PRICE:function(){return w&&w.hotelStrikethroughPrices},HOTEL_LIST_RATE_PLAN_DESCRIPTION:function(){if(y.ratePlans&&y.ratePlans[x()]){if(!y.groupPickup&&y.ratePlans[x()].groupRate)return p.GROUP_RATE;if(y.groupPickup&&y.ratePlans[x()].rate)return"".concat(y.ratePlans[x()].rate," Rate")}return D()&&D().secondaryName||D()&&D().name||"NA"},HOTEL_LIST_RATE_PLANS:function(){return y.rooms&&0===Object.keys(y.rooms).length?x():g.selectedTab},LENGTH_OF_STAY:function(){return s.subtractDates(P.checkOutDate,P.checkInDate)||void 0},OCCUPANCY:function(){var e=i.formatChildAgesAnalytics(P.ageOfMinors);return"".concat(P.rooms,":").concat(P.adults,"|").concat(P.minors||0).concat(e)},PAGE_NAME:function(){var e=!!y.error.length,t=!!y.warning.length,n=e||t,r=y.rooms?!!Object.keys(y.rooms).length:0;if(I)return p.RATES_PAGE.ROOM_TOUR_POP;if(n&&y.groupCreate)return p.PAGE_NAME.AVAILABILITY_GROUP_BOOKING_ERROR;if(n&&y.params.isGroupPickup)return p.PAGE_NAME.AVAILABILITY_GROUP_PICKUP_ERROR;if(n&&r&&y.ratePlans)return"".concat(p.PAGE_NAME.AVAILABILITY," - ").concat(Object.keys(y.ratePlans)[0]);if(n)return p.PAGE_NAME.AVAILABILITY_ERROR+(x()?" - ".concat(x()):"");if(y.params.isGroupPickup)return p.PAGE_NAME.AVAILABILITY_GROUP_PICKUP;if(y.groupCreate)return p.PAGE_NAME.AVAILABILITY_GROUP_BOOKING;return p.PAGE_NAME.AVAILABILITY+(g.selectedTab?" - ".concat(g.selectedTab):"")},PRODUCTS:[e.hotel.brandCode,e.hotel.id].join(";"),PROPERTY_BRAND_CODE:e.hotel.brandCode,PROPERTY_ID:e.hotel.id,PROPERTY_PRODUCT_CODE:e.hotel.productCode,RATE_PLAN_CODE:x,RESERVATION_MULTI_SINGLE_ROOM:+P.rooms>1?p.ROOM.MULTI:p.ROOM.SINGLE,ROOM_CODES:j,ROOM_PRICES:function(){return w&&w.roomPrices},SEARCH_CHECK_IN_DATE:function(){return P.checkInDate},TAB_DESCRIPTION:G,USER_HASHED_CP_ID:function(){var t=e.cpUser;return t&&t.signedIn&&t.hashedCpId||void 0},USER_TYPE:function(){if(e.cpUser.signedIn)return"Online Profile - ".concat(u.getEliteLevel(e.cpUser)," CP")}},f.PROPERTY_RATES_PAGE),y.group&&i.create({analyticsConst:o.GROUP_RATE,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:p.GROUP_RATE,view:f.PROPERTY_RATES_PAGE}).register(),v.cameFromLocalPath(E.GROUPS_LANDING_PATH)&&i.create({analyticsConst:o.GROUP_LOOKUP_FORM,events:[{name:c.ANALYTICS_PAGE_LOADED,scope:t}],value:p.GROUPs_LOOKUP_FORM,view:f.PROPERTY_RATES_PAGE}).register(),e.$on("$destroy",(function(){k()}))},registerPackagesDealsScope:function(e){T=e,w(),D()},registerStandardRatesScope:function(e){var t=(g.selectedTab||"").toLowerCase();"packages"!==t&&"promotions"!==t&&(T=e,R=null,D())},setAccordionState:function(e){e&&e.oldState!==e.newState&&(w(),e.newState?(i.clickTracking.value=p.CLICK_TRACKING.ACCORDION.EXPANDED,D()):(i.clickTracking.value=p.CLICK_TRACKING.ACCORDION.COLLAPSED,L(T.accordionState)||D()))}}}]},941:function(e,t){e.exports=["$rootScope","$uibModal",function(e,t){return{link:function(n){n.ratingsReviewsUserAuthenticationString="",n.openWriteReviewModal=function(r,a){n.reviewsHotelId=a.hotelId;var o={checkInDate:a.checkInDate,confirmationNumber:a.confirmationId,email:r.email,hotelId:a.hotelId,lastName:r.lastName};r.loyaltyAccount.loyaltyAccountNumber&&(o.loyaltyAccountNumber=r.loyaltyAccount.loyaltyAccountNumber),r.loyaltyAccount.eliteLevel&&(o.eliteLevel=r.loyaltyAccount.eliteLevel),n.writeReviewModal=t.open({controller:["$scope",function(e){e.authData=o}],scope:n,size:"lg",templateUrl:"/".concat(e.assetFingerprint,"/shared/reviews/modals/reviews-recent-stays.modal.html")}),n.closeModal=function(){n.ratingsReviewsUserAuthenticationString="",n.writeReviewModal.close()}}},replace:!1,restrict:"A"}}]},942:function(e,t){e.exports=["$rootScope","ratingsReviews","reviewsAuthStringService","reviewsConst",function(e,t,n,r){return{link:function(e,a,o){t.getBV().then((function(t){t.configure("global",{allowSamePageSubmission:!0,doLogin:function(t){return n.stayConfirmation(e.authData).then((function(e){t(e.auth)})),!1},doScrollSubmission:function(){return!1},doShowSubmission:function(){return!1},onEvent:function(t){"Cancel"===t.formAction&&e.closeModal(),("Cancel"===t.formAction||"Write"===t.eType&&t.eventSource===r.EVENT_SOURCE_ACTION&&t.eventTarget===r.EVENT_TARGET_REVIEW&&t.pageStatus===r.PAGE_STATUS_THANK_YOU||t.eventTarget===r.EVENT_TARGET_REVIEW&&t.eventSource===r.EVENT_SOURCE_ACTION&&t.pageStatus===r.PAGE_STATUS_ALREADY_SUBMITTED)&&e.closeModal()},onSubmissionReturn:function(){t.userToken="",e.ratingsReviewsUserAuthenticationString=""},userToken:""}),t.ui("rr","submit_review",{productId:o.hotelId})}))},replace:!0,restrict:"E",template:'<div class="modal-text" id="BVSubmissionContainer"></div>'}}]},943:function(e,t){e.exports=["chReviewsLink","prerenderService",function(e,t){return{controller:["$scope","$sce",function(e,t){e.bindAsTrusted=function(e){return t.trustAsHtml(e)}}],link:t.isRunningInPrerender()?null:e,replace:!0,restrict:"E",template:'\n      <div id="reviews" itemscope itemtype="http://schema.org/Product">\n        <meta itemprop="name" content="{{::hotel.name}}"/>\n        <div id="BVRRContainer">\n          <div ng-bind-html="bindAsTrusted(seoReviews)"></div>\n        </div>\n        <div ng-if="showRealGuestReviews" class="realGuestReviews row">\n          <img class="col-lg-4 col-md-5 col-sm-6 col-xs-8"\n            src="{{::assetFingerprint}}/assets/images/real-guest-reviews.svg"\n            alt={{::strings.account.recentActivity.verifiedReviewsRealGuestReviews}}>\n          <div class="fs-16 text-light margin-left-15 margin-top-15 col-lg-7 col-md-6 col-xs-12">\n            {{::strings.hotel.detail.reviews.realFeedback}}\n            <a href="/about/hotel-reviews" target="_blank">{{::strings.general.learnMore}}</a>\n          </div>\n        </div>\n      </div>\n      '}}]},944:function(e,t){e.exports=["$uibModal","reviewsAuthStringService","siteConfig","strings",function(e,t,n,r){return{link:function(a,o){a.messageFilter=function(e){return e&&e.$dirty&&e.$invalid},a.confirmMyStay=function(i){a.formError="",a.ratingsReviewsUserAuthenticationString="";var s=i.lastName,c=i.email,l=i.confirmationNumber;if(!i.$valid){[s,c,l].forEach((function(e){e.$error.required&&e.$setDirty()}));var u=angular.element(o)[0].querySelector('form[name="reviewsConfirmStayForm"] .ng-invalid');return u&&u.focus(),!1}var d={confirmationNumber:l.$modelValue,email:c.$modelValue,lastName:s.$modelValue};d&&t.stayConfirmation(d).then((function(t){a.ratingsReviewsUserAuthenticationString=t.auth,a.reviewsHotelId=t.hotelId,a.writeReviewModal=e.open({controller:["$scope",function(e){e.authData=a.ratingsReviewsUserAuthenticationString,e.reviewsHotelId=a.reviewsHotelId}],scope:a,size:"lg",templateUrl:"/".concat(n.assetFingerprint,"/shared/reviews/modals/reviews-stay-confirmation.modal.html")}),a.closeModal=function(){a.ratingsReviewsUserAuthenticationString="",a.reviewsHotelId="",a.writeReviewModal.close()}}),(function(e){a.formError="INVALID_RESERVATION_ID"in e.outputErrors?e.outputErrors.INVALID_RESERVATION_ID:r.hotel.errors.formErrors.stayConfirmation}))}},replace:!0,restrict:"E",templateUrl:"/".concat(n.assetFingerprint,"/shared/reviews/reviews-stay-confirmation-blade.html")}}]},945:function(e,t){e.exports=["$location","$stateParams","ratingsReviews","reviewsConst",function(e,t,n,r){return{link:function(a,o,i){n.getBV().then((function(n){n.configure("global",{allowSamePageSubmission:!0,doLogin:function(e){i.authData?e(i.authData):e(t.authData)},doScrollSubmission:function(){return!1},doShowSubmission:function(){return!1},onEvent:function(n){var o=n.eventSource===r.EVENT_SOURCE_ACTION&&n.eventTarget===r.EVENT_TARGET_REVIEW&&("Write"===n.eType&&n.pageStatus===r.PAGE_STATUS_THANK_YOU||n.pageStatus===r.PAGE_STATUS_ALREADY_SUBMITTED);("Cancel"===n.formAction||o)&&(t.hotelId?e.path("mobile-apps/reviews/write/cancel"):a.closeModal())},onSubmissionReturn:function(){n.userToken="",a.ratingsReviewsUserAuthenticationString=""},userToken:""}),n.ui("rr","submit_review",{productId:i.hotelId||t.hotelId})}))},replace:!0,restrict:"E",template:'<div class="modal-text" id="BVSubmissionContainer"></div>'}}]},946:function(e,t){e.exports=["$document","$location","$rootScope","$state","$stateParams","$uibModal","$window","featureFlags","pageEventsHelper","pagesConst","ratingsReviews","reviewsAuthStringService","reviewsConst","routeConst","siteConfig","strings",function(e,t,n,r,a,o,i,s,c,l,u,d,p,f,h,g){return function(m,y,E){function A(){var e=m.showReviewsConfirmForm?l.WRITE_A_REVIEW_CONFIRM_STAY_PAGE:l.WRITE_A_REVIEW_CP_LOGIN_PAGE;c.loaded(e)}function P(){m.ratingsReviews.lastName="",m.ratingsReviews.email="",m.ratingsReviews.confirmationNumber="",m.formError=""}m.reviewsCollapsed=!0,m.ratingsReviewsUserAuthenticationString="",m.showReviewsConfirmForm=s.REVIEWS,m.showReviewsToggleLink=!0,m.showRealGuestReviews=!1,m.loggedInReviews=!1,m.reviewsWhatsThisShow=!1,m.ratingsReviews={confirmationNumber:"",email:"",lastName:""},m.toggleForms=function(){m.showReviewsConfirmForm=s.REVIEWS&&!m.showReviewsConfirmForm,A()},m.openConfirmStayModal=function(){A(),m.ratingsReviewsUserAuthenticationString="",m.loggedInReviews=!0,m.confirmStayModal=o.open({scope:m,size:"lg",templateUrl:"/".concat(h.assetFingerprint,"/shared/reviews/modals/reviews.modal.html")})},m.toggleReviews=function(){m.reviewsCollapsed=!m.reviewsCollapsed,angular.element(e[0].querySelector("#BVRRDisplayContentID")).css("display",m.reviewsCollapsed?"none":"block")},m.onReviewsLogin=function(){c.loaded(l.LOGGED_IN_REVIEW_MODAL),m.closeModal(),r.go("recentActivity")},u.getBV().then((function(r){r.configure("global",{allowSamePageSubmission:!0,doLogin:function(e,n){return"true"===E.signedIn&&t.path(f.CP_RECENT_ACTIVITY).hash("past-stays"),P(),m.successCallback=e,m.successUrl=n,m.confirmMyStay=function(t){m.formError="";var n=t.lastName,r=t.email,a=t.confirmationNumber;if(!t.$valid)return[n,r,a].forEach((function(e){e.$error.required&&e.$setDirty()})),!1;var o={confirmationNumber:a.$modelValue,email:r.$modelValue,lastName:n.$modelValue};o&&d.stayConfirmation(o).then((function(t){t.hotelId.toUpperCase()===E.hotelId.toUpperCase()?(m.ratingsReviewsUserAuthenticationString=t.auth,e(t.auth)):m.formError=g.hotel.errors.formErrors.stayConfirmation}),(function(e){m.formError="INVALID_RESERVATION_ID"in e.outputErrors?e.outputErrors.INVALID_RESERVATION_ID:g.hotel.errors.formErrors.stayConfirmation}))},m.closeModal=function(){m.ratingsReviewsUserAuthenticationString="",r.userToken="",m.confirmStayModal.close(),m.loggedInReviews=!1},!1},doScrollSubmission:function(){return!1},onEvent:function(t){P(),n.globalHeaderUi.hideHeader&&angular.element(e[0].querySelector(".BVDI_QTHeader")).css("display","none"),0===t.attributes.numReviews&&(angular.element(e[0].querySelector("#BVRRDisplayContentID")).css("display","none"),m.showReviewsToggleLink=!1,m.showRealGuestReviews=!0),m.reviewsCollapsed||angular.element(e[0].querySelector("#BVRRDisplayContentID")).css("display","block"),t.eName===p.ENAME_WRITE&&t.eType===p.ETYPE_WRITE&&t.eventSource===p.EVENT_SOURCE_ACTION&&t.eventTarget===p.EVENT_TARGET_REVIEW&&("true"===E.signedIn?i.location="".concat(f.CP_RECENT_ACTIVITY,"#past-stays"):m.openConfirmStayModal()),("Cancel"===t.formAction||"Write"===t.eType&&t.eventSource===p.EVENT_SOURCE_ACTION&&t.eventTarget===p.EVENT_TARGET_REVIEW&&t.pageStatus===p.PAGE_STATUS_THANK_YOU||t.eventTarget===p.EVENT_TARGET_REVIEW&&t.eventSource===p.EVENT_SOURCE_ACTION&&t.pageStatus===p.PAGE_STATUS_ALREADY_SUBMITTED)&&m.closeModal()},onSubmissionReturn:function(){r.userToken="",m.ratingsReviewsUserAuthenticationString=""},userToken:""}),r.ui("rr","show_reviews",{productId:E.hotelId||a.hotelId})}))}}]},947:function(e,t){e.exports=["$locale","$window","siteConfig","loadScript","localeService","reviewsConst","$document","$compile",function(e,t,n,r,a,o,i,s){var c=n.bv,l="//".concat(c.host,"/").concat(c.env?"".concat(c.env,"/"):"","static/6713").concat(c.qualifier,"-").concat(a.formatBazaarVoiceLocale(e.id),"/bvapi.js");return{buildCanonicalHref:function(e,t){return e>1?"".concat(t,"/hotel-reviews/").concat(e):t},getBV:function(){return r(l).then((function(){return t.$BV}))},headInjectCanonicalTags:function(e,t,n,r,a,o){var c={currentLink:{href:this.buildCanonicalHref(e,a),lang:r,type:"canonical"}};if((e=parseInt(e,10))<t){var l=e+1;c.nextLink={href:this.buildCanonicalHref(l,a),lang:r,type:"next"}}if(e>1){var u=e-1;c.prevLink={href:this.buildCanonicalHref(u,a),lang:r,type:"prev"}}o.injectedCanonicalTags=c;var d={},p=this;[].forEach((function(t){d["".concat(t,"Link")]={href:p.buildCanonicalHref(e,a),lang:t,type:"alternative"}})),o.injectedAltLangTags=d,angular.element(i[0].querySelector('link[rel="canonical"]')).remove();var f=angular.element(i[0].head);f.append(s('<link ng-repeat="tag in injectedCanonicalTags"href="{{tag.href}}" rel="{{tag.type}}"/>')(o)),f.append(s('<link ng-repeat="tag in injectedAltLangTags"href="{{tag.href}}" rel="{{tag.type}}" hreflang="{{tag.lang}}"/>')(o))}}}]},948:function(e,t){e.exports=["$http","$locale","$q","urlEncodeObject",function(e,t,n,r){return{stayConfirmation:function(a){var o=n.defer(),i={confirmationId:a.confirmationNumber,email:a.email,lastName:a.lastName,preferredLocaleCode:t.id};return["hotelId","loyaltyAccountNumber","eliteLevel","checkInDate"].forEach((function(e){a[e]&&(i[e]=a[e])})),e({data:r(i),headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",url:"/webapi/hotel/review/authentication"}).then((function(e){"OK"===e.data.status?o.resolve(e.data):o.reject(e.data)}),(function(e){o.reject(e.data)})),o.promise}}}]},949:function(e,t){e.exports=["$http","$location","strings","ratingsReviews","reviewsConst",function(e,t,n,r,a){return{get:function(o,i,s,c){var l="/webapi/hotel/".concat(o,"/reviews/").concat(i);return e.get("".concat(l,"?preferredLanguageCode=EN"),c?{timeout:c}:null).then((function(e){var c=e.data,l="".concat(t.protocol(),"://").concat(t.host()).concat(t.path()).replace(/\/hotel-reviews\/(.)+/,""),u={description:n.hotel.detail.reviews.sEOMeta.description,pageNumber:i,title:n.hotel.detail.reviews.sEOMeta.title},d=c.pageReviews.reviewsHtml.replace(a.SEO_REPLACE_COLON,":").replace(a.SEO_REMOVE_SCRIPT,"").replace(a.SEO_REMOVE_UL,"").replace(a.SEO_MATCH_BASE_URL,l).replace(a.SEO_MATCH_BVSTATE,(function(e,t){return"1"===t?"":"/hotel-reviews/".concat(t)})).replace(a.SEO_MATCH_BVRRP,(function(e,t){return"1"===t?"":"/hotel-reviews/".concat(t)}));return r.headInjectCanonicalTags(i,c.totalPages,o,"en",l,s),{metaData:u,reviews:d}}))}}}]}}]);