(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1045:function(e,r){function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(r){n(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(){return(a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function i(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(r,t,o,n,i,c,s,l,p,d,u,h){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,{$location:r,$rootScope:t,$scope:o,$state:n,$window:i,featureFlags:c,objectHelper:s,ratesConst:l,ratesInventory:p,reactConst:d,reactHelper:u,sessionStorageHelper:h})}var r,t,n;return e.$inject=["$location","$rootScope","$scope","$state","$window","featureFlags","objectHelper","ratesConst","ratesInventory","reactConst","reactHelper","sessionStorageHelper"],r=e,(t=[{key:"$onInit",value:function(){var e=this;this.reactHelper.loadReactApp().then((function(){e.loadSearchForm()}))}},{key:"loadSearchForm",value:function(){var e=this,r=this.$state,t=this.childAgesRequired,n=this.hotel,a=this.reactConst,i=this.reactHelper,c=this.$rootScope.referrer,s=n||{address:"",brandCode:"",id:""},l=s.address,p=s.brandCode,d=s.id,u=i.generatePageId(),h=this.$location.search();this.$window.store.dispatch({pageId:u,type:"PAGE_READY"}),i.dispatchToStore(a.PAGE_DATA.PROPERTY,n,u,a.ACTIONS.MERGE_PAGE_VALUE);var f=this.$window.SearchForm;this.featureFlags.SO_SEARCH_WIDGET_STYLE_A?f=this.$window.SearchFormA:this.featureFlags.SO_SEARCH_WIDGET_STYLE_B&&(f=this.$window.SearchFormB);var w=this.$window.React.createElement(f,{address:l,brandCode:p,childAgesRequired:t,id:d,isModifyFlow:Boolean(h&&"true"===h.modify),page:this.page,pageId:u,queryParams:h,referrer:c,reload:function(){return r.reload()},searchFormUpdate:function(r){var t="rates"===e.page?e.objectHelper.filterProperties(angular.copy(o(o({},e.ratesParams),r)),e.ratesConst.FORM_WHITELIST_REGEX):r;return e.onSubmit(t)}});i.renderToScope(i.generateProviderElement(w),"#searchForm",this.$scope)}},{key:"$onDestroy",value:function(){var e=this;this.$scope.$on("$destroy",(function(){e.$window.ReactModalService&&(e.$window.ReactModalService.modals=[]);var r=document.getElementById("searchForm");r&&e.$window.ReactDOM.unmountComponentAtNode(r)}))}}])&&i(r.prototype,t),n&&i(r,n),e}();e.exports={bindings:{childAgesRequired:"<?",hotel:"<?",onSubmit:"<?",page:"@",ratesParams:"<?",reload:"<?"},controller:c,template:'<div id="searchForm"></div>'}},178:function(e,r,t){e.exports={module:angular.module("chApp.bundle.react.general",[]).component("chReactSearchForm",t(1045))}}}]);