(window.webpackJsonp=window.webpackJsonp||[]).push([[8],Array(172).concat([function(e,t,n){n(646),e.exports={module:angular.module("chApp.booking",["angular-capitalize-filter","chcom-autosuggest",n(647).name,n(386).name,n(660).name,n(663).name,n(665).name,n(679).name,n(686).name,n(771).name,n(772).name,n(790).name,n(791).name,n(792).name,n(793).name,n(415).name,n(840).name,n(849).name,n(879).name,n(889).name])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return["featureFlags","siteConfig","patternsConst","phoneConst",function(t,n,r,o){return{link:function(e,n,a,i){if(e.values=e.values||e.$ctrl&&e.$ctrl.values,e.optional=a.optional||!1,e.describedby=a.describedby||null,e.cpUserPostalCheck=a.cpUserPostalCheck||null,e.customIdName=a.customIdName,e.isAsterikRequired=a.isAsterikRequired,e.updatedDesign=a.updatedDesign,e.guestInfo=i.guestInfo,e.titleOptions=i.titleOptions,e.guestInfoErrors=i.guestInfoErrors,e.guestInfoForm=i.guestInfoForm,e.clearGuestInfoError=i.clearGuestInfoError,e.guestInfoErrorFilter=i.guestInfoErrorFilter,e.creditCardExpirationFields=i.creditCardExpirationFields,e.checkCreditCardExpiration=i.checkCreditCardExpiration,e.guestInfoReadyCallback=i.guestInfoReadyCallback,e.guestInfoFieldMasks=i.guestInfoFieldMasks,a.hasOwnProperty("zipMask")&&(e.limitLength=function(){(e.guestInfo.address.postalCode&&e.guestInfo.address.postalCode.length)>e.maxLength&&(e.guestInfo.address.postalCode=e.guestInfo.address.postalCode.slice(0,e.maxLength))},e.validateLength=function(){var t=e.guestInfo.address.postalCode&&e.guestInfo.address.postalCode.length;i.guestInfoForm.postalCode.$setValidity(e.maskType,!(t&&t<e.minLength))},e.validatePattern=function(){if(e.countryPattern&&e.guestInfo.address.postalCode){var t=e.countryPattern.test(e.guestInfo.address.postalCode);i.guestInfoForm.postalCode.$setValidity("pattern",t)}},e.$watch("guestInfo.address.country",(function(t,n){var o="US"===t;e.clearGuestInfoError(e.maskType,e.guestInfoForm.postalCode),e.clearGuestInfoError("pattern",e.guestInfoForm.postalCode),o?angular.extend(e,{countryPattern:null,maskType:"mask",maxLength:5,minLength:5,preventChars:"[^0-9]"}):angular.extend(e,{countryPattern:r.postalCodePatterns.postalCodeFor[t],maskType:"foreignMask",maxLength:10,minLength:4,preventChars:null}),n!==t&&(i.guestInfoForm.postalCode.$setPristine(),e.guestInfo.address.postalCode="")}))),a.hasOwnProperty("phoneMask")&&e.$watch("guestInfo.address.country",(function(t){e.isUS="US"===t;var n=e.guestInfo&&e.guestInfo.homePhone;e.phoneMask=e.isUS?i.guestInfoFieldMasks.US_PHONE:i.guestInfoFieldMasks.INT_PHONE;var r=e.isUS?o.US_LENGTH:o.MAX_LENGTH_DEFAULT;e.guestInfo&&e.guestInfo.homePhone&&e.guestInfo.homePhone.length>=r&&(e.guestInfo.homePhone=n&&n.substring(0,r))})),a.hasOwnProperty("countryCondition")&&e.$watch("guestInfo.address.country",(function(t){e.isUS="US"===t})),a.hasOwnProperty("aaaMask")&&(e.aaaMask=i.guestInfoFieldMasks.AAA_NUMBER),a.hasOwnProperty("ccMask")){e.creditCardMask=i.guestInfoFieldMasks.CREDIT_CARD_DEFAULT,e.clearIfStarred=function(){e.guestInfo&&e.guestInfo.creditCardNumber&&-1!==e.guestInfo.creditCardNumber.indexOf("*")&&(e.guestInfo.creditCardNumber="")};var s=function(t){e.creditCardMask=t&&i.guestInfoFieldMasks.CREDIT_CARD[t]||i.guestInfoFieldMasks.CREDIT_CARD_DEFAULT},c=function(){e.generalErrors&&e.generalErrors.complete&&delete e.generalErrors.complete};e.$watch("guestInfo.creditCardType",(function(t,n){t!==n&&s(t),e.clearGuestInfoError("creditCardNumber",e.guestInfoForm.creditCardNumber),e.clearGuestInfoError("creditCardType",e.guestInfoForm.creditCardNumber)})),t.SO_CREDIT_CARD_TYPE_TOGGLE?e.$watch("guestInfo.creditCardNumber",(function(t,n){if(t!==n){if(!t)return;if((t.match(/\*/g)||[]).length>8)return void c();if(-1!==t.indexOf("*"))return;var r=t&&i.guestInfoFieldMasks.CREDIT_CARD_LIST.find((function(e){return e.prefix.test(t)}));e.guestInfo.creditCardType=r&&r.code||void 0}c(),s(e.guestInfo.creditCardType)})):e.$watch("guestInfo.creditCardNumber",(function(){return c()}))}e.guestInfoReadyCallback&&e.guestInfoReadyCallback()},replace:!0,require:"^^chGuestInfo",restrict:"E",scope:!0,templateUrl:"/".concat(n.assetFingerprint,"/app/directives/guest-info/fields/").concat(e)}}]}},,,,,,,,function(e,t){e.exports=["featureFlags","phoneConst",function(e,t){return{link:function(n,r,o,a){function i(t,n){return!(!e.SO_GDP_ERRORS||t)||(t||"").replace(/\D/g,"").length<=n}e.SO_GDP_ERRORS||(o.hasOwnProperty("id")&&o.id===t.BUSINESS_PHONE?a.$validators.maxlength=function(e){return i(e,t.MAX_LENGTH_BUSINESS)}:a.$validators.maxlength=function(e){return i(e,t.MAX_LENGTH_DEFAULT)},a.$validators.minlength=function(n){return!(!e.SO_GDP_ERRORS||n)||(0===(n||"").length||(n||"").replace(/\D/g,"").length>=t.MIN_LENGTH_DEFAULT)})},require:"ngModel"}}]},,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<form\n    name="loginForm"\n    ng-submit="signIn(loginForm)"\n    novalidate>\n  <p class="text-danger" ng-repeat="(key, value) in creationErrors" tabindex="0" ch-focus-if="!loginForm.password.$pristine || loginForm.$submitted">\n    {{$root.strings.account.errors.userAccountPostErrors[key] || value}}\n  </p>\n  <p\n      class="text-danger"\n      ch-focus-if="chLoginAccessDenied"\n      ng-bind-html="::$root.strings.cp.signInUnsuccessfulUnavailable"\n      ng-if="chLoginAccessDenied"\n      tabindex="0">\n  </p>\n  <div class="row">\n    <div ng-class="{\'col-sm-6\': colType === \'inline\', \'col-xs-12\': colType === \'stacked\'}">\n      <div class="form-group" ng-class="{\'has-error\': loginForm.username.$invalid && (!loginForm.username.$pristine || loginForm.$submitted) }">\n        <label for="loginUsername" class="control-label">{{::$root.strings.cp.username}}</label>\n        <input\n            aria-describedby="loginUsernameError"\n            ch-indicate-caps-lock-on\n            ch-indicate-invalid-username\n            class="form-control invalid-xs"\n            id="loginUsername"\n            name="username"\n            ng-minlength="6"\n            ng-maxlength="20"\n            ng-model="login.username"\n            ng-pattern="$root.chConstants.patterns.username"\n            ng-required="true"\n            type="text" />\n      </div>\n    </div>\n\t\t<div ng-class="{\'col-sm-6\': colType === \'inline\', \'col-xs-12\': colType === \'stacked\'}">\n\t\t  <div\n\t\t\t    class="form-group"\n\t\t\t\t  ng-class="{\'has-error\': loginForm.password.$invalid && (!loginForm.password.$pristine || loginForm.$submitted)}">\n\t\t\t  <label for="loginPassword" class="control-label">{{::$root.strings.cp.password}}</label>\n\t\t\t  <input\n            name="password"\n            type="password"\n            aria-describedby="loginPasswordError"\n            id="loginPassword"\n            class="form-control"\n            ng-minlength="6"\n            ng-maxlength="44"\n            ng-model="login.password"\n            ng-required="true" />\n\t\t\t  <div role="alert" aria-live="assertive">\n\t\t\t\t  <div id="loginPasswordError">\n\t\t\t\t\t  <p\n\t\t\t\t\t\t    ng-show="!loginForm.password.$pristine || loginForm.$submitted"\n\t\t\t\t\t\t\t  class="help-block sub-label"\n\t\t\t\t\t\t\t  ng-repeat="(errorname, value) in loginForm.password.$error">\n\t\t\t\t\t\t\t{{::$root.strings.general.validationMessages[errorname]}}\n\t\t\t\t\t  </p>\n\t\t\t\t  </div>\n\t\t\t  </div>\n\t    </div>\n\t  </div>\n  </div>\n\n  <a href="/choice-privileges/account/enroll?createType=createNewAccount" class="link-cta" so-omniture-click-tracking="CreateAccountLink">\n    {{::$root.strings.cp.createAccount}}\n  </a>\n\n  <div ng-if="forgotPassword">\n    <a href="{{::routeConst.CP_FORGOT_CREDENTIALS}}" class="link-cta forgot-password" so-omniture-click-tracking="ForgotPassLink">\n      {{::$root.strings.cp.forgotMore}}\n    </a>\n  </div>\n\n  <button type="submit" class="btn-cta cta-primary pull-right hidden-xs" so-omniture-click-tracking="SignInBTN">\n    {{::$root.strings.cp.signIn}}\n  </button>\n  <button type="submit" class="btn-cta btn-block cta-primary visible-xs" so-omniture-click-tracking="SignInBTN" ng-disabled="loginForm.$invalid" >\n    {{::$root.strings.cp.signIn}}\n  </button>\n</form>\n'},,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={AX:{code:"AX",name:"American Express",pattern:"**** ****** *****?*",prefix:/^3[47]/,validLength:[15]},DC:{code:"DC",name:"Diner's Club",pattern:"**** ****** **** ?*?*",prefix:/^3(0[0-5]|095|6|8)/,validLength:[14]},DS:{code:"DS",name:"Discover",pattern:"**** **** **** *?*?*?*",prefix:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,validLength:[16]},IC:{code:"IC",name:"Corporate Charge Card",pattern:"**** **** *?*?*",prefix:/^13|^23[0-9]{9}/,validLength:[11]},JC:{code:"JC",name:"Japan Credit Bureau",pattern:"**** **** **** *?*?*?*",prefix:/^35(2[89]|[3-8][0-9])/,validLength:[16]},MC:{code:"MC",name:"MasterCard",pattern:"**** **** **** *?*?*?*",prefix:/^5[1-5]|^2[2-7]/,validLength:[16]},VI:{code:"VI",name:"VISA",pattern:"**** **** **** *?*?*?*",prefix:/^4/,validLength:[16]}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(17);e.exports={sortByDefault:function(e,t,n){return n("orderBy")(e,t)},sortByPrice:function(e,t){return e.sort((function(e,n){if(t===r.RATE_PLAN_CODES.SRD){var o=!!(e.rates&&e.rates[0]&&e.rates[0].roomCharges&&e.rates[0].roomCharges[0]&&e.rates[0].roomCharges[0].avgNightlyPoints)&&e.rates[0].roomCharges[0].avgNightlyPoints,a=!!(n.rates&&n.rates[0]&&n.rates[0].roomCharges&&n.rates[0].roomCharges[0]&&n.rates[0].roomCharges[0].avgNightlyPoints)&&n.rates[0].roomCharges[0].avgNightlyPoints;if(o&&a)return o-a}return(e.priceTags&&e.priceTags[0]&&e.priceTags[0].cash)-(n.priceTags&&n.priceTags[0]&&n.priceTags[0].cash)}))},sortByWeight:function(e,t){return t?e.sort((function(e,n){if(e.beds&&n.beds){var r=t[Object.keys(e.beds)[0]||""],o=t[Object.keys(n.beds)[0]||""];if(r&&o)return o-r;if(r)return-1;if(o)return 1}else{if(e.beds)return-1;if(n.beds)return 1}return 0})):e||[]}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=angular.module("chApp.analytics",[]).factory("AnalyticsCustomLink",n(91)).factory("AnalyticsObject",n(92)).factory("AnalyticsVendor",n(93)).service("analyticsManager",n(157)).service("signaltagAnalyticsService",n(166)).service("omnitureAnalyticsService",n(163))},,,,,,,,,,,,,function(e,t,n){e.exports=angular.module("chApp.error-page",[]).controller("ErrorPageController",n(661)).directive("chErrorPage",n(662))},function(e,t){e.exports=["$scope","featureFlags","pageEventsHelper","pagesConst","strings",function(e,t,n,r,o){e.featureFlags=t,e.strings=o,e.includeFailed=!1,e.$on("$includeContentError",(function(){e.includeFailed=!0})),e.resolverError&&n.loaded(r.ERROR_PAGE)}]},function(e,t){e.exports=["siteConfig",function(e){return{controller:"ErrorPageController",replace:!0,scope:{resolverError:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/config/error-page/error-page.html")}}]},function(e,t,n){e.exports=angular.module("chApp.session-warning",[]).controller("SessionWarningCtrl",n(664))},function(e,t){e.exports=["pageEventsHelper","pagesConst",function(e,t){e.loaded(t.SESSION_WARNING_PAGE)}]},function(e,t,n){e.exports=angular.module("chApp.constants",[]).constant("amenitiesConst",n(36)).constant("analyticsConst",n(37)).constant("bedConst",n(387)).constant("bingLocationApiConst",n(666)).constant("brandConst",n(3)).constant("brandColorConst",n(667)).constant("brandHotelsMapConst",n(668)).constant("breadcrumbConst",n(388)).constant("cacheKeyConst",n(38)).constant("cambriaPoiConst",n(39)).constant("campaignConst",n(40)).constant("choicePrivilegesConst",n(669)).constant("clientIdConst",n(41)).constant("cmsConst",n(42)).constant("conversionTrackingConstant",n(43)).constant("cookieConst",n(44)).constant("countriesConst",n(45)).constant("cpStatusIdConst",n(46)).constant("cpVisaBannerConst",n(670)).constant("creditCardTypePatternsConst",n(389)).constant("cugRatesConst",n(47)).constant("currenciesConst",n(48)).constant("dateConst",n(49)).constant("deviceConst",n(50)).constant("discountCodeConst",n(51)).constant("dtmConst",n(52)).constant("employeeRatePlansConst",n(390)).constant("errorConstant",n(53)).constant("eventsConst",n(54)).constant("expansionBannerConst",n(55)).constant("fieldLengthsConst",n(56)).constant("guestdataConst",n(58)).constant("guestInfoConst",n(57)).constant("hotelConst",n(391)).constant("hotelsByTypeConst",n(671)).constant("httpStatusConstant",n(59)).constant("keyboardConst",n(60)).constant("langsConst",n(61)).constant("localesConst",n(62)).constant("loyaltyConst",n(16)).constant("mapConst",n(392)).constant("masksConst",n(672)).constant("memoizationConstant",n(673)).constant("omnitureConst",n(63)).constant("pagesConst",n(64)).constant("patternsConst",n(1)).constant("phoneConst",n(674)).constant("privacyPreferencesConst",n(65)).constant("queryParamsConst",n(66)).constant("ratesConst",n(17)).constant("reactConst",n(67)).constant("reasonConst",n(68)).constant("redeemConst",n(675)).constant("reviewsConst",n(393)).constant("routeConst",n(69)).constant("searchConst",n(70)).constant("serviceEventConst",n(71)).constant("signalTagConst",n(72)).constant("standardRatePlansConst",n(676)).constant("thirdPartyMarketingConst",n(74)).constant("transportationConst",n(677)).constant("webapiStatusConstant",n(76)).constant("windowConst",n(18)).constant("woodspringUrlsConst",n(77)).constant("yourExtrasConst",n(678))},function(e,t){e.exports={API_KEY:"AhWjEkph-0Gf5hLefV-CiaK05jAnyWfM30VcEbHIdYxlinHb7jiJPYGqNx0vK7Ep",CISO2:"ciso2",JSON_CALLBACK:"JSON_CALLBACK",SRC:"//dev.virtualearth.net/REST/v1/Locations?",UNKNOWN:"Unknown"}},function(e,t){e.exports={BRAND_COLOR:{CL:{CA:"mid-scale-brand-primary",US:"mid-scale-brand-primary",default:""},MS:{default:"mid-scale-brand-primary"},QI:{DK:"",FI:"",LT:"",LV:"",NO:"",SE:"",default:"mid-scale-brand-primary"},SL:{default:"mid-scale-brand-primary"}}}},function(e,t){e.exports={BOUNDS:{alaska:{lat:{max:-176.7,min:-127.24},lon:{max:72,min:49.5}},contiguous:{lat:{max:49.4,min:24.3},lon:{max:-142.2,min:-65.85}},hawaii:{lat:{max:24,min:16.3},lon:{max:-161.9,min:-151.4}}},REGIONS:{AK:"alaska",HI:"hawaii",default:"contiguous"}}},function(e,t){e.exports={DIAMOND_MEMBER:"Diamond",ELITE_LEVELS:{GOLD:{NUM_NIGHTS:10},PLATINUM:{NUM_NIGHTS:20}},GOLD_MEMBER:"Gold",PLATINUM_MEMBER:"Platinum"}},function(e,t){e.exports={CMS_PATH_BANNER_DISCOUNT:"choice-hotels/choice-privileges/cp-visa-banner-discount",CMS_PATH_BANNER_GENERIC:"choice-hotels/choice-privileges/cp-visa-banner-generic",STATEMENT_CREDIT_AMOUNT:25}},function(e,t){e.exports={ACTIVE_PREFIX:"cat",HOTEL_LIMIT:6,STARTING_INDEX:0}},function(e,t,n){var r=n(389);e.exports={AAA_NUMBER:"999 999 9999?9?9?9?9?9? ?9",CREDIT_CARD:r,CREDIT_CARD_DEFAULT:r.VI,CREDIT_CARD_LIST:[r.JC,r.DC,r.AX,r.DS,r.MC,r.IC,r.VI],CREDIT_CARD_NAME:"A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?A?",INT_PHONE:"+99999?9?9?9?9?9?9?9?9?9?9?9",US_PHONE:"(999) 999-9999",US_ZIP:"99999"}},function(e,t){e.exports={DEFAULT_TIMEOUT:500}},function(e,t){e.exports={BUSINESS_PHONE:"businessPhone",MAX_LENGTH_BUSINESS:18,MAX_LENGTH_DEFAULT:16,MIN_LENGTH_DEFAULT:6,US_LENGTH:10}},function(e,t){e.exports={ALL_CATEGORY_DESKTOP:"All Merchant Redemption Options",ALL_CATEGORY_MOBILE:"Mobile All Merchant Redemption Options",DONATION_GROUP:["Donations","Mobile Donations"],ELITE:"Elite",MOBILE:"Mobile",MOST_POPULAR_CATEGORY:"Most Popular Gift Card Redemption Options",REWARD_TYPES:{DIGITAL:"DIGITAL",DONATION:"DIGITAL_DONATION",PLASTIC:"PLASTIC"}}},function(e,t){e.exports={EN:[{name:"Best Available Rate",ratePlanCode:"RACK"},{name:"Senior/AARP",ratePlanCode:"SSC"},{name:"AAA/CAA Program Rate*",ratePlanCode:"S3A"},{name:"Choice Privileges Reward Night",ratePlanCode:"SRD"},{name:"Government/Military Rate",ratePlanCode:"SGM"},{name:"State Government Rate",ratePlanCode:"LSTATE"},{name:"Emergency Rate",ratePlanCode:"SCCEO1"}],ES:[{name:"Mejor Tarifa Disponible",ratePlanCode:"RACK"},{name:"Tarifa para personas mayores",ratePlanCode:"SSC"},{name:"Tarifa del programa AAA/CAA*",ratePlanCode:"S3A"},{name:"Noche de estancia gratis de Choice Privileges",ratePlanCode:"SRD"},{name:"Tarifa para empleados gubernamentales/personal militar",ratePlanCode:"SGM"},{name:"Tarifa para empleados del gobierno estatal",ratePlanCode:"LSTATE"}],FR:[{name:"Meilleur tarif disponible",ratePlanCode:"RACK"},{name:"Tarif sénior",ratePlanCode:"SSC"},{name:"Plan tarifaire* AAA/CAA",ratePlanCode:"S3A"},{name:"Nuitée gratuite Choice Privileges",ratePlanCode:"SRD"},{name:"Tarif Fonctionnaire/Militaire",ratePlanCode:"SGM"},{name:"Tarif Fonctionnaires de l'État",ratePlanCode:"LSTATE"}]}},function(e,t){e.exports={TRANSPORTATION_TYPES:{AIR:"airports",ATRAIN:"longDistance",BUS:"local",BUSS:"local",CCAR:"local",FERY:"local",FRRY:"local",GBUS:"longDistance",HELI:"other",METRO:"local",OTHR:"other",PUBL:"local",RAIL:"local",RBUS:"local",RNTL:"longDistance",RTXI:"local",SHTL:"local",TAXI:"local",TRAIN:"longDistance"}}},function(e,t){e.exports={EDIT_MODES:{airlineMilesEditMode:"Airline Miles",fuelRewardsEditMode:"Fuel Rewards"},fuelRewardsOption:"Fuel Rewards Option",optionId:{airline:"Airline Miles",amazonCa:"Amazon Canada",fuel:"Fuel Rewards",none:"None",uber:"Uber"}}},function(e,t,n){e.exports=angular.module("chApp.content",[]).controller("ContentPageCtrl",n(78)).directive("chContentElement",n(680)).directive("chYoutubeComponent",n(681)).directive("cmsContainer",n(682)).directive("cmsContainerItem",n(683)).directive("cmsHomePageBanner",n(684)).factory("contentService",n(107)).service("contentPageAnalytics",n(685)).service("signInFlyoutAnalytics",n(165))},function(e,t){e.exports=function(){return{replace:!1,restrict:"A",template:'<div ng-bind-html="cmsContent" ch-content-components></div>'}}},function(e,t){e.exports=["$sce","siteConfig",function(e,t){return{link:function(t,n){var r;t.videoUrl=(r=t.chYoutubeComponent,r+=r.indexOf("?")<0?"?":"&",r+="rel=0&showinfo=1&controls=1&version=3&autohide=1&hl=en_US&modestbranding=1&fs=0",e.trustAsResourceUrl(r)),n.hasClass("theater-mode")&&function(){var e=n.hasClass("widescreen"),t=n.parent(),r=function(e,t){var n;for(n=0;n<t.length;n++)if(e.hasClass(t[n]))return t[n];return null}(t,["col-xs-12","col-sm-8","col-sm-6","col-sm-4"]);if(r){for(t.addClass("theater-col"),e&&t.addClass("widescreen");t&&!t.hasClass("layout-component");)t=t.parent();t&&(t.addClass("ch-youtube-component"),e&&t.addClass("widescreen"),t.addClass("theater-".concat(r)),n.removeClass("ch-youtube-component"))}}()},replace:!0,restrict:"A",scope:{chYoutubeComponent:"@",videoTitle:"@"},templateUrl:"/".concat(t.assetFingerprint,"/app/content/youtube-component.html")}}]},function(e,t){e.exports=["cmsConst","siteConfig","stringsHelper",function(e,t,n){return{controller:["$scope",function(t){var n=0;this.addItem=function(r){var o;r.itemClass=(o=e.block.classes,t.template&&o[t.template]&&o[t.template][n]||""),n++}}],link:function(t,r,o){t.title&&o.titleBgColor&&(t.titleBgColor=n.prepend(n.validate(o.titleBgColor,e.color,""),e.prepend.color,"bg-")),t.padded="padded"in o},replace:!0,restrict:"A",scope:{template:"@",title:"=?"},templateUrl:"/".concat(t.assetFingerprint,"/app/content/cms-container.html"),transclude:!0}}]},function(e,t){e.exports=["cmsConst","siteConfig","stringsHelper",function(e,t,n){return{link:function(t,r,o,a){var i=[["blockBg",e.color,""],["blockPosition",e.block.position,""],["textAlign",e.textAlign,""],["blockTransparency",e.block.transparency,""],["canvasBg",e.color,""]],s=[["blockBg",e.prepend.color,"bg-"],["canvasBg",e.prepend.color,"bg-"],["textAlign",e.prepend.textAlign,"text-"]];i.forEach((function(e){t[e[0]]=n.validate(o[e[0]]||"",e[1],e[2])})),s.forEach((function(e){t[e[0]]=n.prepend(t[e[0]],e[1],e[2]).toLowerCase()})),t.blockBg||(t.blockBg=t.canvasBg),a.addItem(t)},replace:!0,require:"^cmsContainer",restrict:"A",scope:!0,templateUrl:"/".concat(t.assetFingerprint,"/app/content/cms-container-item.html"),transclude:!0}}]},function(e,t){e.exports=["contentService",function(e){return{link:function(t){t.cmsContent=null;e.getHTMLFragment("/ci_homepage-slim-hero-takeover","module").then((function(e){t.cmsContent=e}))},replace:!1,restrict:"A",scope:{},template:'\n      <div class="home-page-banner">\n        <div ng-if="cmsContent" class="relative">\n          <div ng-bind-html="cmsContent" ch-content-components ></div>\n        </div>\n        <div>\n          <div class="scroll-down">\n            <div class="scroll-arrow-container" ng-if="!siteOp.minimalDesktopHomepage">\n              <div class="scroll-text" >\n                <span ng-if="!$root.featureFlags.HOMEPAGE_COOKIE_BACKGROUND && !cmsContent">\n                  {{::strings.general.scrollToPromotions}}\n                </span>\n              </div>\n              <a ng-href="#scroll-to-blade" du-smooth-scroll class="scroll-arrow" title="scroll down"></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]},function(e,t){e.exports=["analyticsManager","omniture",function(e,t){return{init:function(n,r){e.initialize(),e.setPageDefaults({PAGE_NAME:function(){return t.clearPreviousProperties(),r}},r)}}}]},function(e,t,n){e.exports=angular.module("chApp.common.directives",[n(687).name,n(693).name,n(701).name,n(28).name,n(703).name]).component("chExpansionBanner",n(394)).component("chBrandMapBlade",n(395)).component("soPropertyInfoCard",n(706)).directive("bingMapRefocusElement",n(707)).directive("chAddCountryDataUtilsToScope",n(708)).directive("chAddThis",n(396)).directive("chAllowLinkPropagation",n(81)).directive("chAnchorFragmentFocus",n(709)).directive("chAnchorScroll",n(360)).directive("chBookingWidget",n(710)).directive("chBrandMap",n(711)).directive("chBrandMapPin",n(713)).directive("chCaslFooter",n(82)).directive("chCaslFormConsent",n(397)).directive("chCheckboxSwitch",n(714)).directive("chCloak",n(83)).directive("chCmsForm",n(715)).directive("chConfirmationDisclaimer",n(716)).directive("chConvertToNumber",n(717)).directive("chCreditCardTypeCheck",n(718)).directive("chCurrencyDropdown",n(719)).directive("chCurrentLocation",n(720)).directive("chDeregisterListeners",n(722)).directive("chDisplayLangSelector",n(84)).directive("chDistanceSwitchDisplay",n(723)).directive("chEeaGdprFooter",n(85)).directive("chEeaGdprFormConsent",n(398)).directive("chExpandContent",n(724)).directive("chEmbeddedInString",n(726)).directive("chFeaturedProperty",n(727)).directive("chGalleryCta",n(399)).directive("chGuestAddress",n(728)).directive("chHotelLocationListings",n(729)).directive("chHotelsByType",n(731)).directive("chHotelsByTypeChange",n(732)).directive("chImageError",n(400)).directive("chInputSuffix",n(733)).directive("chLazyHotelImages",n(401)).directive("chLazySrc",n(734)).directive("chLineClamp",n(735)).directive("chLoader",n(86)).directive("chLoginForm",n(736)).directive("chLuhnCheck",n(738)).directive("chMarqueeSearch",n(739)).directive("chMatchesInput",n(740)).directive("chModalLink",n(87)).directive("chObjectFit",n(741)).directive("chOmniturePage",n(742)).directive("chPhantomMarker",n(743)).directive("chPreventEnterSubmit",n(744)).directive("chPriceDisplay",n(745)).directive("chPriceDisplaySimple",n(746)).directive("chReactSearchModal",n(747)).directive("chResponsiveBackground",n(748)).directive("chResponsiveImage",n(749)).directive("chScrollable",n(750)).directive("chSearchFormLoad",n(751)).directive("chSetLocale",n(89)).directive("chSheetPane",n(752)).directive("chSlider",n(753)).directive("chSocialProofing",n(754)).directive("chStaySummary",n(755)).directive("chSticky",n(402)).directive("chSubNav",n(756)).directive("chSwipeLeft",n(354)("chSwipeLeft",-1)).directive("chSwipeRight",n(354)("chSwipeRight",1)).directive("chTravelProsLogin",n(757)).directive("chUkaslFooter",n(758)).directive("chUpdateMeta",n(760)).directive("chUserLoginSignup",n(761)).directive("chUserLoginSignupField",n(762)).directive("chUserMemberStatus",n(763)).directive("chValueFilter",n(764)).directive("chViewHotelMap",n(765)).directive("disableNgAnimate",n(766)).directive("dropdownCenter",n(767)).directive("includeReplace",n(768)).directive("thumbnailScroll",n(359)).directive("validationExpression",n(769)).factory("currentLocationAnalytics",n(770)).factory("galleryLightboxAnalytics",n(20))},function(e,t,n){e.exports=angular.module("chApp.common.directives.nav.brand",[]).directive("chBrandBlade",n(688)).directive("chBrandToggle",n(690)).directive("chBrandNav",n(691)).directive("chBrandItem",n(692))},function(e,t,n){var r=n(689);e.exports=function(){return{link:function(e,t){e.brandNav=new r,t.addClass("ch-brand-blade")},restrict:"A",scope:!0}}},function(e,t){var n=function(){this.nav=!0,this.item=null};n.prototype={open:function(e){this.nav=!1,this.item=e},reset:function(){this.nav=!0,this.item=null},select:function(e){this.nav=!0,this.item=e}},e.exports=n},function(e,t){e.exports=["$rootScope","$timeout","$window","eventsConst",function(e,t,n,r){return{link:function(o,a,i){a.addClass("ch-brand-toggle");var s=n&&n.navigator&&n.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,c=function(){o.$apply((function(){o.brandNav.nav?o.brandNav.link=a:o.brandNav.link&&o.brandNav.link.length&&t((function(){o.brandNav.link[0].focus(),o.brandNav.link=null})),o.brandNav.select(i.chBrandToggle)}))};a.on("click",c),a.on("focus",(function(){s&&e.$apply(e.$broadcast(r.BRAND_TOGGLE.FOCUSED))})),a.on("blur",(function(){s&&e.$apply(e.$broadcast(r.BRAND_TOGGLE.BLURRED))})),o.$watch("brandNav.item",(function(e){e===i.chBrandToggle?a.addClass("ch-brand-toggle-active"):a.removeClass("ch-brand-toggle-active")})),o.$on("$destroy",(function(){a.off("click",c)}))},restrict:"A"}}]},function(e,t){e.exports=function(){return{link:function(e,t){t.addClass("ch-brand-nav"),e.$watch("brandNav.nav",(function(e){e?t.removeClass("ch-brand-nav-hide"):t.addClass("ch-brand-nav-hide")}))},restrict:"A"}}},function(e,t){e.exports=function(){return{link:function(e,t,n){t.addClass("ch-brand-item"),e.$watch("brandNav.item",(function(r){if(r===n.chBrandItem){e.brandNav.open(r),t.addClass("ch-brand-item-active");var o=t.find("a");o&&o.length&&o[0].focus()}else t.removeClass("ch-brand-item-active")}))},restrict:"A"}}},function(e,t,n){e.exports=angular.module("chApp.common.directives.guest-info",[]).directive("chBroadcastSubmit",n(694)).directive("chRequiredOnSubmit",n(695)).directive("chPreventSpecialChar",n(696)).directive("chGuestInfo",n(697)).directive("chGuestInfoAgreementSignature",n(340)("agreement-signature.html")).directive("chGuestInfoFirstName",n(340)("first-name.html")).directive("chGuestInfoFirstNameRedesign",n(340)("./redesign/first-name.html")).directive("chGuestInfoMiddleName",n(340)("middle-name.html")).directive("chGuestInfoLastName",n(340)("last-name.html")).directive("chGuestInfoLastNameRedesign",n(340)("./redesign/last-name.html")).directive("chGuestInfoEmail",n(340)("email.html")).directive("chGuestInfoEmailRedesign",n(340)("./redesign/email.html")).directive("chGuestInfoHomePhone",n(340)("home-phone.html")).directive("chGuestInfoPhoneRedesign",n(340)("./redesign/phone-number.html")).directive("chGuestInfoBusinessPhone",n(340)("business-phone.html")).directive("chGuestInfoIsMobileNumber",n(340)("is-mobile-number.html")).directive("chGuestInfoUpdateCustomerProfile",n(340)("update-customer-profile.html")).directive("chGuestInfoCpNumber",n(340)("cp-number.html")).directive("chGuestInfoAaaNumber",n(340)("aaa-number.html")).directive("chGuestInfoCpEligibleCountry",n(340)("cp-eligible-country.html")).directive("chGuestInfoCountry",n(340)("country.html")).directive("chGuestInfoAddress1",n(340)("address1.html")).directive("chGuestInfoAddressRedesign",n(340)("./redesign/address-primary.html")).directive("chGuestInfoAddress2",n(340)("address2.html")).directive("chGuestInfoAddress3",n(340)("address3.html")).directive("chGuestInfoCity",n(340)("city.html")).directive("chGuestInfoCityRedesign",n(340)("./redesign/city.html")).directive("chGuestInfoSubdivision",n(340)("subdivision.html")).directive("chGuestInfoCounty",n(340)("county.html")).directive("chGuestInfoPostalCode",n(340)("postal-code.html")).directive("chGuestInfoPostalCodeRedesign",n(340)("./redesign/postal-code.html")).directive("chGuestInfoBillingCountry",n(340)("billing-country.html")).directive("chGuestInfoBillingAddress1",n(340)("billing-address1.html")).directive("chGuestInfoBillingAddress2",n(340)("billing-address2.html")).directive("chGuestInfoBillingAddress3",n(340)("billing-address3.html")).directive("chGuestInfoBillingCity",n(340)("billing-city.html")).directive("chGuestInfoBillingSubdivision",n(340)("billing-subdivision.html")).directive("chGuestInfoBillingCounty",n(340)("billing-county.html")).directive("chGuestInfoBillingPostalCode",n(340)("billing-postal-code.html")).directive("chGuestInfoGuaranteeMethod",n(340)("guarantee-method.html")).directive("chGuestInfoCreditCardType",n(340)("credit-card-type.html")).directive("chGuestInfoCreditCardTypeRedesign",n(340)("./redesign/credit-card-type.html")).directive("chGuestInfoCreditCardNumber",n(340)("credit-card-number.html")).directive("chGuestInfoCreditCardNumberRedesign",n(340)("./redesign/credit-card-number.html")).directive("chGuestInfoCreditCardName",n(340)("credit-card-name.html")).directive("chGuestInfoCreditCardNameRedesign",n(340)("./redesign/credit-card-name.html")).directive("chGuestInfoCreditCardExpiration",n(340)("credit-card-expiration.html")).directive("chGuestInfoCreditCardExpirationRedesign",n(340)("./redesign/credit-card-expiration.html")).directive("chGuestInfoCreditCardCvv",n(340)("credit-card-cvv.html")).directive("chGuestInfoVirtualCreditCard",n(340)("virtual-credit-card.html")).directive("chGuestInfoConfirmPassword",n(340)("confirm-password.html")).directive("chGuestInfoPassword",n(340)("password.html")).directive("chGuestInfoPaymentMethod",n(340)("payment-method.html")).directive("chGuestInfoUsername",n(340)("username.html")).directive("chGuestInfoTitle",n(340)("title.html")).directive("chGuestInfoClientId",n(340)("client-id.html")).directive("chGuestInfoCompanyName",n(340)("company-name.html")).directive("chGuestInfoReservationsClub",n(340)("reservations-club.html")).directive("chGuestInfoSpecialRequests",n(340)("special-requests.html")).directive("chValidateHomeOrMobilePhone",n(698)).directive("chValidateBusinessPhone",n(699)).directive("chValidateBasicEmail",n(700)).directive("chYourExtrasPreferences",n(340)("your-extras-preferences.html")).directive("chYourExtrasAirlineMiles",n(340)("your-extras-airline-miles.html")).directive("chYourExtrasFuelRewards",n(340)("your-extras-fuel-rewards.html"))},function(e,t){e.exports=["eventsConst",function(e){return{link:function(t,n){n.on(e.GDP_EVENT.SUBMIT,(function(){t.$broadcast(e.GDP_EVENT.FORM_SUBMIT)}))}}}]},function(e,t){e.exports=["eventsConst",function(e){return{link:function(t,n,r,o){n.on(e.GDP_EVENT.FOCUS,(function(){o.$setValidity(e.GDP_EVENT.REQUIRED,!0)})),t.$on(e.GDP_EVENT.FORM_SUBMIT,(function(){o.$viewValue||o.$setValidity(e.GDP_EVENT.REQUIRED,!1)}))},require:"ngModel"}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){r.$parsers.push((function(e){if(null!==e){var t=n&&n.chPreventSpecialChar?new RegExp(n.chPreventSpecialChar,"gi"):new RegExp(/[^-\s0-9A-Za-z]/gi),o=e.toString().replace(t,"");return o!==e&&(r.$setViewValue(o),r.$render()),o}}))},require:"ngModel"}}},function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["formHelper","guestInfoConst","featureFlags",function(e,t,r){return{controller:["$scope","objectHelper","strings","masksConst",function(n,o,a,i){var s=this;s.checkCreditCardExpiration=e.checkCreditCardExpiration,s.clearGuestInfoError=e.clearError,s.creditCardExpirationFields=e.creditCardExpirationFields,s.guestInfo=n.guestInfo,s.guestInfoConst=t,s.guestInfoErrors=n.guestInfoErrors,s.titleOptions=[],t.personalTitles.forEach((function(e){var t={code:e.code,name:o.getPropertyByString(a,e.name)};s.titleOptions.push(t)})),s.init=function(t){s.guestInfoForm=t,s.guestInfoErrorFilter=function(n){return e.errorFilter(t,n)}},s.guestInfoReadyCallback=n.guestInfoReadyCallback,s.guestInfoFeatureFlags=r,s.guestInfoFieldMasks=i}],link:{pre:function(e,t,r,o){var a=n(o,2),i=a[0],s=a[1];i.init(s)}},require:["chGuestInfo","form"],restrict:"A",scope:{guestInfo:"=chGuestInfo",guestInfoConst:"=?chGuestInfoConst",guestInfoErrors:"=?chGuestInfoErrors",guestInfoFeatureFlags:"=?chGuestInfoFeatureFlags",guestInfoReadyCallback:"=?chGuestInfoReadyCallback"}}}]},function(e,t){e.exports=["featureFlags","phoneConst",function(e,t){return{link:function(n,r,o,a){function i(){return!!n.guestInfo.address&&"US"===n.guestInfo.address.country}function s(){return n.guestInfo.isMobileNumber&&i()}function c(n){return!(s()&&(!e.SO_GDP_ERRORS||n))||(n||"").replace(/\D/g,"").length===t.US_LENGTH}function l(n){if(s()||e.SO_GDP_ERRORS&&!n)return!0;var r=(n||"").replace(/\D/g,"").length;return i()?r>=t.US_LENGTH:r>=t.MIN_LENGTH_DEFAULT}e.SO_GDP_ERRORS&&o.hasOwnProperty("alternateValidation")?a.$validators.usMobilePhoneLengthAlt=function(e){return s()?c(e):l(e)}:(a.$validators.usMobilePhoneLength=c,a.$validators.maxlength=function(n){return!(!e.SO_GDP_ERRORS||n)||(n||"").replace(/\D/g,"").length<=t.MAX_LENGTH_DEFAULT},a.$validators.minlength=l),n.$watch("[guestInfo.address.country, guestInfo.isMobileNumber]",(function(){(n.guestInfoForm||{}).homePhone&&n.guestInfoForm.homePhone.$validate()}),!0)},require:"ngModel"}}]},function(e,t){e.exports=["featureFlags","phoneConst",function(e,t){return{link:function(n,r,o,a){e.SO_GDP_ERRORS&&o.hasOwnProperty("alternateValidation")||(a.$validators.maxlength=function(n){return!(!e.SO_GDP_ERRORS||n)||(n||"").replace(/\D/g,"").length<=t.MAX_LENGTH_BUSINESS},a.$validators.minlength=function(r){if(e.SO_GDP_ERRORS&&!r)return!0;var o=(r||"").replace(/\D/g,"").length;return 0===o||("US"===n.guestInfo.address.country?o>=t.US_LENGTH:o>=t.MIN_LENGTH_DEFAULT)}),n.$watch("[guestInfo.address.country]",(function(){(n.guestInfoForm||{}).businessPhone&&n.guestInfoForm.businessPhone.$validate()}),!0)},require:"ngModel"}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){var o=function(e){return function(t){return t&&e.test(t)}};r.$validators.hasTopLevelHtml=o(/[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/i),r.$validators.hasDomainHtml=o(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@/i),r.$validators.patternAlt=o(/^([a-zA-Z0-9-_@.](?!([^a-zA-Z0-9-_@.])))*$/i)},require:"ngModel"}}},function(e,t,n){e.exports=angular.module("chApp.common.directives.property.rates.modify",[]).controller("PropertyRatesModifyCtrl",n(702))},function(e,t){e.exports=["$scope","$timeout","eventsConst","featureFlags","hotelHelper","searchConst","searchHelper",function(e,t,n,r,o,a,i){function s(){var t=!1,n=o.minorsAgeListIsEmpty(e.childAges),a=o.childAgesEntered(e.childAges),i=o.minorsAgeListExceedsMax(e.childAges);if(e.childAgesExceedMax=i,r.AMR_MWEB_MASTER&&e.rateFormData.minors&&e.hotel&&(!e.adultsOnlyHotel||a)&&e.hotel.childAgesRequired){var s=n&&!e.isRatesPage,c=a&&!i;t=Boolean(e.childAges&&(s||c))}else t=!0;return e.childAgesComplete=t,t}e.childAgeExceedsMax=function(e){return o.minorsAgeExceedsMax(e)},e.adultsOnlyHotel=Boolean(r.AMR_MWEB_MASTER&&e.hotel.amenityGroups&&e.hotel.amenityGroups.findIndex((function(e){return e&&"ADLT"===e.id}))>=0),e.maxChildren=e.adultsOnlyHotel?0:6,e.isRatesPage=!0,e.childAges=e.rateFormData.ageOfMinors&&r.AMR_MWEB_MASTER?e.rateFormData.ageOfMinors.split(","):[],e.childAgeUpdated=function(){e.childAges=i.cleanupChildAges(e.childAges),s(),e.rateFormData.ageOfMinors=e.childAgesComplete&&o.childAgesEntered(e.childAges)&&e.childAges.length?e.childAges.join(","):""},e.updateChildCount=function(){e.childAges.length=e.hotel.childAgesRequired&&r.AMR_MWEB_MASTER?e.rateFormData.minors:0,e.childAgeUpdated()},e.updateChildCount(),e.integerOnly=i.integerOnly,e.searchUi={checkInDateDisplay:"",collapseToggle:function(){e.searchUi.formCollapse=!e.searchUi.formCollapse,e.searchUi.formCollapse||i.cleanupChildAges(e.childAges)},formCollapse:!e.ensureRequiredChildAges||e.childAgesComplete},e.$on(n.RATE_FORM.RATE_UPDATED,(function(){t((function(){e.searchUi.formCollapse=!e.ensureRequiredChildAges||s()}),100)})),e.$on(n.PROPERTY_RATES_JOIN_MODIFY_RATES,(function(){e.searchUi.collapseToggle()})),e.currencyUtil&&e.$on("loginModalSuccess",e.currencyUtil.viewCPPoints),e.handleGroupView=function(){var t=+e.rateFormData.rooms;return!angular.isNumber(t)||!isFinite(t)||t<a.GROUP_OPTIONS.minRoomsPerGroup}}]},function(e,t,n){e.exports=angular.module("chApp.bootstrapUi.tooltip",[]).directive("chTooltip",n(704))},function(e,t){e.exports=["$sce","siteConfig",function(e,t){return{link:function(e,t,n){angular.extend(e,{tooltip:{message:t.html(),messageAriaLabel:n.messageAriaLabel,text:n.tooltip}})},replace:!0,scope:!0,templateUrl:"/".concat(t.assetFingerprint,"/app/directives/tooltip/tooltip.html"),transclude:!0}}]},,function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootscope=r,this.$scope=t,this.$state=n,this.$window=o,this.reactHelper=i,this.brandStyling=a}var t,r,o;return e.$inject=["$scope","$state","$rootScope","$window","brandStyling","reactHelper"],t=e,(r=[{key:"$onInit",value:function(){this.reactHelper.loadReactApp(this.loadPropertyInfoCard.bind(this))}},{key:"loadPropertyInfoCard",value:function(){var e=this.$window.React.createElement(window.PropertyInfoCard,{brandStyling:this.brandStyling,scope:this.$scope}),t=this.reactHelper.generateProviderElementWithPageContext(e,this.pageId);this.reactHelper.renderToScope(t,document.getElementById("property-info-card"),this.$scope)}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{pageId:"<"},controller:r,template:'<div id="property-info-card"></div>'}},function(e,t){e.exports=["$rootScope","mapConst",function(e,t){return{link:function(n,r,o){e.$on(t.EVENTS.MAP.ready,(function(){o.view===n.currentView&&r[0].focus()}))},replace:!1,restrict:"A"}}]},function(e,t){e.exports=["countryDataUtils",function(e){return{link:function(t){t.countryDataUtils=e},restrict:"A"}}]},function(e,t){e.exports=["$document","patternsConst",function(e,t){return{link:function(n,r,o){r.on("click",(function(){if(o.chAnchorFragmentFocus||o.href&&-1!==o.href.indexOf("#")){var n=o.chAnchorFragmentFocus||o.href.replace(t.anchorFragment,"").substring(1);(e[0].getElementById(n)||e[0].getElementsByName(n)[0]).focus()}}))},restrict:"A"}}]},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$filter","$location","$rootScope","brandConst","countryDataUtils","deviceConst","eventsConst","featureFlags","hotelService","localeHelper","localeService","objectHelper","patternsConst","responsiveDateFormats","searchConst","searchHelper","siteConfig","strings",function(e,t,n,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y){return{controller:"SearchFormCtrl",link:function(e,v,C){e.featureFlags=c,e.autosuggest="true"===e.autosuggest;var R=[{format:u.getDateFormat("MM_DD_YY"),threshold:i.BREAKPOINTS.MD},{format:u.getDateFormat(),threshold:i.BREAKPOINTS.XS}],b=m.addListener(R,(function(t){e.dateFormat=t}));function P(t,n){var r=v[0].querySelector("#".concat(t));r&&r.focus(),n&&(e.isOpen[t]=!1)}function E(){angular.extend(e.search,{city:null})}function S(t){var n={cities:[],countries:[]};t.data.hotels.map((function(e){var t,r=e.address.country,o=e.address.subdivision,i=e.address.city,s=a.getCountry(r);o&&(t=s.states&&(t=s.states.filter((function(e){return e.code===o||e.alternateCode===o}))).length>0?t[0].name:o);var c=n.countries.find((function(e){return e.code===r}));if(c?t&&-1===c.subdivisions.indexOf(t)&&c.subdivisions.push(t):(c=s,t&&(c.subdivisions=[t]),n.countries.push(c)),!n.cities.find((function(e){return e.name===i}))){var l=t?"".concat(i,", ").concat(t,", ").concat(r):"".concat(i,", ").concat(r);n.cities.push({country:r,name:i,searchBy:l,subdivision:t})}return n})),e.locations=n}e.showTrademark=!d.isRegisteredTrademarkCountry(),e.expandSearch=function(){e.searchExpanded=!0},e.placeHolderText=y.search.placeHolder,e.getBrandName=function(e){var t=o.BRAND_NAMES[e];if(t)return t.replace(/\s/g,"-").toLowerCase()},e.handleGroupView=function(){var t=+e.search.rooms;return!isFinite(t)||t<f.GROUP_OPTIONS.minRoomsPerGroup},e.setCountryState=function(t,n){E(),t?(e.selectedCountryState=n||t.name,angular.extend(e.search,{country:t.code,subdivision:n})):(e.selectedCountryState=" - ".concat(y.search.any," - "),angular.extend(e.search,{country:null,subdivision:null})),e.displayCities=!0,P("countryStateDropdown",!0)},e.setCity=function(t){angular.extend(e.search,{city:t.name,placeName:t.searchBy}),P("cityDropdown",!0)},e.$on(s.SEARCH_FORM.FORM_ERROR,(function(e,t){t.forEach((function(e){var t=v[0].querySelectorAll('input[name="'.concat(e,'"]'));angular.element(t).addClass("form-error")}))})),e.$on("$destroy",(function(){m.removeListener(b.id)})),function(){if(m.checkListener(b,!0),e.formPosition=C.formPosition||f.LAYOUT_POSITION.BOTTOM,e.searchConst=f,e.strings=y,e.btnClass=C.btnClass||"cta-primary",e.displayCities=!1,e.brandCode?e.useAutoSuggest=!e.brandCode||f.BRAND_LOCATION_AUTOSUGGEST[e.brandCode]:e.useAutoSuggest=e.autosuggest,e.isOpen={cityDropdown:!1,countryStateDropdown:!1},angular.extend(e.search,p.filterProperties(g.getDefaultParams(),f.FORM_PARAMS_REGEX,!0),h.groupsWithLocale.test(t.path())?function(){var n,o=t.search();if(c.WOODSPRING_MASTER){var a=o.checkInDate,i=o.checkOutDate;n=g.getDateRange({checkInDate:a,checkOutDate:i})}else n={checkInDate:o.checkInDate||e.search.checkInDate,checkOutDate:o.checkOutDate||e.search.checkOutDate};return r(r({},n),{},{adults:o.adults||e.search.adults,minors:o.kids||e.search.minors,placeName:o.location||e.search.placeName,ratePlanCode:o.rate||e.search.ratePlanCode,rooms:(o.numberOfRooms>10?o.numberOfRooms:10)||e.search.rooms})}():{}),e.brandCode&&!o.BRAND_GROUPS[e.brandCode])angular.extend(e.search,{brand:e.brandCode}),e.logoPosition=f.LOGO_POSITION[e.brandCode];else if(o.BRAND_GROUPS[e.brandCode])angular.extend(e.search,{group:e.brandCode});else if(e.brandCodes){var a=e.brandCodes.split(",");angular.extend(e.search,{brandCodes:a})}else e.brandCode=o.BRANDS[n.brand];e.brandCode&&!f.BRAND_LOCATION_AUTOSUGGEST[e.brandCode]?(E(),l.getBrandHotels(e.brandCode).then(S)):e.brandCodes&&!e.autosuggest&&(E(),l.getMultiBrandHotels(e.brandCodes).then(S));var i=t.search().ratePlanCode;i&&(e.ratePlanCode=i),e.ratePlanCode&&(e.ignoreSession=!0,angular.extend(e.search,{ratePlanCode:e.ratePlanCode}))}()},replace:!0,restrict:"A",scope:{autosuggest:"@?",brandCode:"@?",brandCodes:"@?",hideAdultsMinors:"=?",ratePlanCode:"@?"},templateUrl:"/".concat(v.assetFingerprint,"/app/directives/booking-widget/booking-widget.html")}}]},function(e,t,n){e.exports=["eventsConst",function(e){return{controller:["brandHotelsMapConst","urlParserService",function(e,t){this.activeHotelId=null,this.mapBounds=e.BOUNDS,this.getPropertyUrl=function(e){return t.getPropertyUrl(e.address,e.brandCode,e.id)}}],controllerAs:"brandMap",link:function(t,n,r,o){var a,i,s=n[0].querySelector(".".concat("ch-brand-map"));function c(){a&&(a.style.display="none",a.setAttribute("aria-hidden",!0),a.tabIndex=-1),o.activeHotelId&&(o.activeHotelId=null)}function l(e,t){t.stopPropagation();var n=o.activeHotelId&&e===o.activeHotelId;c(),n||(o.activeHotelId=e,i=t.target,(a=s.querySelector("#".concat("ch-brand-map","-location-").concat(e))).style.display="block",a.setAttribute("aria-hidden",!1),a.tabIndex=0,u(a,i))}function u(e,t){var n={},r=function(e){var t=e.offsetLeft,n=e.offsetTop;e.offsetParent.classList.contains("ch-brand-map")||(t+=e.offsetParent.offsetLeft,n+=e.offsetParent.offsetTop);return[t,n]}(t);n.left=r[0]+22,r[0]>s.offsetWidth/2&&(e.classList.add("arrow-right"),n.left=r[0]-e.offsetWidth-22),n.top=r[1]-22,r[1]>s.offsetHeight/2&&(e.classList.add("arrow-bottom"),n.top=r[1]-e.offsetHeight+22),e.style.left="".concat(n.left,"px"),e.style.top="".concat(n.top,"px")}angular.extend(t,{handleKeydown:function(e){if(!e.target.classList.contains("".concat("ch-brand-map","-pin")))return;var t;switch(e.keyCode){case 37:case 38:t=e.target.parentElement.previousElementSibling;break;case 39:case 40:t=e.target.parentElement.nextElementSibling;break;case 32:return e.preventDefault(),l(e.target.getAttribute("data-hotel-id"),e),!1;default:return void(t=null)}e.preventDefault(),t&&(e.target.tabIndex=-1,t.firstElementChild.tabIndex=0,t.firstElementChild.focus());return!1},init:function(){s.querySelector(".".concat("ch-brand-map","-pin")).tabIndex=0},mapClick:function(e){(e.target.classList.contains("ch-brand-map")||e.target.className.indexOf("map-pin-region")>-1)&&c()},selectPin:l}),t.$on(e.PAGE_RESIZE,(function(){o.activeHotelId&&u(a,i)}))},replace:!0,restrict:"E",scope:{groups:"<",locations:"<"},template:n(712)}}]},function(e,t){e.exports='<div class="ch-brand-map-container">\n  <div class="ch-brand-map" ng-click="mapClick($event)" ng-keydown="handleKeydown($event)">\n    <p role="presentation" class="ch-brand-map-label map-label-alaska">Alaska</p>\n    <p role="presentation" class="ch-brand-map-label map-label-hawaii">Hawaii</p>\n    <ul role="tablist" class="ch-brand-map-pin-list" aria-label="{{::$root.strings.hotel.brandMapPinsLabel}}">\n      <li\n          role="presentation"\n          ng-repeat="hotel in ::locations | filter: { address: { country: \'US\' }}"\n          ng-class="::{\'map-pin-region-hawaii\': hotel.address.subdivision === \'HI\', \'map-pin-region-alaska\': hotel.address.subdivision === \'AK\'}">\n        <a\n            ch-brand-map-pin\n            class="ch-brand-map-pin"\n            data-hotel-id="{{::hotel.id}}"\n            ng-class="{\n                \'pin-selected\': hotel.id === brandMap.activeHotelId,\n                \'pin-pre-sell\': hotel.closureReason === \'Pre-Sell\'\n            }"\n            ng-focus="selectPin(hotel.id, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')"\n            ng-mouseover="selectPin(hotel.id, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')"\n            role="tab"\n            aria-controls="ch-brand-map-location-{{::hotel.id}}"\n            ng-attr-aria-selected="{{hotel.id === brandMap.activeHotelId}}"\n            tabindex="-1"\n            lat="{{::hotel.lat}}"\n            lon="{{::hotel.lon}}"\n            state="{{::hotel.address.subdivision}}">\n          <span class="sr-only">{{::$root.strings.hotel.brandMapPinIn.replace(\'{city}\', hotel.address.city).replace(\'{state}\', hotel.address.subdivision)}}</span>\n        </a>\n      </li>\n      <li\n          role="presentation"\n          ng-repeat="group in ::groups track by $index">\n        <a\n            ch-brand-map-pin\n            class="ch-brand-map-pin"\n            data-hotel-id="{{$index}}"\n            ng-class="$index === brandMap.activeHotelId ? \'pin-selected\' : null"\n            ng-focus="selectPin($index, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')"\n            ng-mouseover="selectPin($index, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')"\n            role="tab"\n            aria-controls="ch-brand-map-location-{{$index}}"\n            ng-attr-aria-selected="{{$index === brandMap.activeHotelId}}"\n            lat="{{::group.lat}}"\n            lon="{{::group.lon}}"\n            state="{{::group.address.subdivision}}">\n          <span class="sr-only">{{::$root.strings.hotel.brandMapPinNear.replace(\'{city}\', group.address.city).replace(\'{state}\', group.address.subdivision)}}</span>\n        </a>\n      </li>\n    </ul>\n     <ul class="ch-brand-map-locations">\n       <li\n          role="presentation"\n          ng-repeat="hotel in ::locations | filter: { address: { country: \'US\' }}"\n          ng-init="$last && init()">\n        <a\n            aria-hidden="true"\n            class="ch-brand-map-pin-info"\n            id="ch-brand-map-location-{{::hotel.id}}"\n            ng-href="{{::brandMap.getPropertyUrl(hotel)}}"\n            ng-mouseleave="selectPin(hotel.id, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')"\n            role="tabpanel"\n            tabindex="-1">\n          <div\n              ng-if="::hotel.closureReason == null ||\n              hotel.closureReason !== \'Pre-Sell\' ||\n              hotel.hotelSectionType === \'AVAILABLE_HOTELS\'">\n            <h4>{{::hotel.name}}</h4>\n            <div class="hotel-info">\n              <div class="hotel-address">\n                 <div\n                    class="address"\n                    ng-show="hotel.address"\n                    itemscope="itemscope"\n                    itemprop="address"\n                    itemtype="http://schema.org/PostalAddress"\n                    ng-bind-html="hotel.address | chAddress">\n                </div>\n                <ch-ratings model="::hotel.rating" hotel-url="::brandMap.getPropertyUrl(hotel)"></ch-ratings>\n              </div>\n            </div>\n          </div>\n          <div\n              ng-if="::hotel.closureReason === \'Pre-Sell\'"\n              class="coming-soon">\n            <h4>Coming Soon: <span>{{::hotel.address.city}}, {{::hotel.address.subdivision}}</span></h4>\n          </div>\n        </a>\n      </li>\n      <li\n          role="presentation"\n          ng-repeat="cluster in ::groups track by $index">\n        <div\n            class="ch-brand-map-pin-info"\n            id="ch-brand-map-location-{{$index}}"\n            ng-mouseleave="selectPin($index, $event, hotel.address.subdivision === \'AK\' || hotel.address.subdivision === \'HI\')">\n          <div\n              class="pin-info-group"\n              ch-force-scrollbar\n              ng-class="cluster.presaleStyle">\n            <a\n                ng-repeat="hotel in cluster.group track by $index"\n                ng-init="$last && init()"\n                ng-href="{{::brandMap.getPropertyUrl(hotel)}}"\n                tabindex="-1">\n              <span class="sr-only">{{::hotel.name}}, {{hotel.address.line1}}, {{::hotel.address.subdivision}}, {{::hotel.address.postalCode}}, {::hotel.address.country}}</span>\n              <div\n                  ng-if="::hotel.closureReason == null ||\n                  hotel.closureReason !== \'Pre-Sell\' ||\n                  hotel.hotelSectionType === \'AVAILABLE_HOTELS\'"\n                  tabindex="0">\n                <h4>{{::hotel.name}}</h4>\n                <div class="hotel-info">\n                  <div class="hotel-address">\n                    <div\n                        class="address"\n                        ng-show="hotel.address"\n                        itemscope="itemscope"\n                        itemprop="address"\n                        itemtype="http://schema.org/PostalAddress"\n                        ng-bind-html="hotel.address | chAddress">\n                    </div>\n                    <ch-ratings model="::hotel.rating" hotel-url="::brandMap.getPropertyUrl(hotel)"></ch-ratings>\n                  </div>\n                </div>\n              </div>\n              <div\n                  ng-if="::hotel.closureReason === \'Pre-Sell\'"\n                  class="coming-soon">\n                <h4>Coming Soon: <span>{{::hotel.address.city}}, {{::hotel.address.subdivision}}</span></h4>\n              </div>\n              <div\n                  class="border-row"\n                  ng-if="!$last">\n              </div>\n            </a>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(e,t){e.exports=["brandHotelsMapConst",function(e){return{link:function(t,n,r,o){function a(e,t,n){return(Math.abs(n)-Math.abs(e))/(Math.abs(n)-Math.abs(t))*100}!function(){var r=e.REGIONS[t.state]||e.REGIONS.default;if(t.lat<o.mapBounds[r].lat.min||t.lat>o.mapBounds[r].lat.max||t.lon>o.mapBounds[r].lon.min||t.lon<o.mapBounds[r].lon.max)return void n.parent().remove();n[0].style.top="".concat(a(t.lat,o.mapBounds[r].lat.min,o.mapBounds[r].lat.max),"%"),n[0].style.left="".concat(a(t.lon,o.mapBounds[r].lon.min,o.mapBounds[r].lon.max),"%")}()},require:"^chBrandMap",restrict:"A",scope:{lat:"@",lon:"@",state:"@"}}}]},function(e,t){e.exports=function(){return{link:function(e,t){var n=angular.element('<label class="switch"></label>'),r=angular.element('<div class="slider round"></div>');t.on("focus",(function(){angular.element(this.parentElement).addClass("selection-border")})),t.on("blur",(function(){angular.element(this.parentElement).removeClass("selection-border")})),t.wrap(n),t.after(r)},restrict:"A"}}},function(e,t){e.exports=["$compile","formBuilderHelper","globalLoaderCounter","httpHelper","localeService","patternsConst","scrollHelper","siteConfig","strings",function(e,t,n,r,o,a,i,s,c){return{link:function(l,u){var d,p,h;l.patterns=a,l.submitForm=function(e){if(l[h=e].$setSubmitted(),l.submitErrors={},l.success=!1,l.globalError=!1,l[h].$valid&&l.cmsForm&&l.cmsForm!=={}){n.inc();var t=d?"cid=".concat(d.cid,"&"):"",a="".concat("/webformemailer","?").concat(t,"applocale=").concat(o.getLocale(),"&sitename=").concat(o.getCountryCode(),"&d=").concat(s.deviceType);r.postRequest(a,l.cmsForm).then((function(e){l.successMessage=e.thankyouMessage||c.cmsForm.thankyouMessage,l.success=!0,l.globalError=!1,l.submitErrors={}})).catch((function(e){l.globalErrorMessage=e.errorMessage||c.general.error.UNEXPECTED,l.globalError=!0,l.submitErrors={}})).finally((function(){n.dec(),i.scrollToFirstError()}))}else i.scrollToFirstError()},l.resetForm=function(){l[h]&&l[h].$setPristine(),l.success=!1,l.cmsForm=angular.copy(p)},l.isRequiredError=function(e,t){return l[t][e].$error&&l[t][e].$error.required},function(){d=function(e){if(!e||""===e)return{};try{return JSON.parse(e)}catch(e){return{}}}(l.configuration);var n=e(t.createForm(d))(l);p=angular.copy(l.cmsForm),u.append(n)}()},restrict:"A",scope:{configuration:"@"}}}]},function(e,t){e.exports=["$uibModal","guestdataFormatter","siteConfig",function(e,t,n){return{link:function(r,o){r.guestDataStringsHelper=t.stringsHelper,o.bind("click",(function(){e.open({scope:r,size:"lg",templateUrl:"/".concat(n.assetFingerprint,"/app/directives/confirmation-disclaimer/disclaimer.html")})}))},restrict:"A",scope:!0}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){r.$parsers.push((function(e){return null!==e?parseFloat(e,10):null})),r.$formatters.push((function(e){return null!==e?"".concat(e):null}))},require:"ngModel"}}},function(e,t){e.exports=["$timeout","creditCardTypeDetectionService","featureFlags",function(e,t,n){return{link:function(r,o){n.SO_CREDIT_CARD_TYPE_TOGGLE&&(o.on("change",(function(n){n.target.value&&(t.disableCardTypeDetection(r.guestInfoForm.creditCardNumber),e((function(){r.guestInfoForm.creditCardNumber.$validate()})))})),r.$on("$destroy",(function(){t.destroyed()})))},restrict:"A"}}]},function(e,t){e.exports=["$rootScope","featureFlags","siteConfig","strings",function(e,t,n,r){return{controller:["$scope",function(t){t.updateCurrency=function(n){e.chAriaLive.message="".concat(r.propertyRates.selectCurrencyAlert," ").concat(n.code),t.selectedCurrency=n}}],link:function(n){n.strings=e.strings,n.values=e.values,n.featureFlags=t,n.top5Currencies=[n.values.currencies.USD,n.values.currencies.CAD,n.values.currencies.AUD,n.values.currencies.EUR,n.values.currencies.GBP]},replace:!0,restrict:"A",scope:{checkRatePlan:"=",currencies:"=",defaultCurrency:"=",hideCarrot:"=",selectedCurrency:"="},templateUrl:"/".concat(n.assetFingerprint,"/app/directives/currency-dropdown/currency-dropdown").concat(n.fileSuffix,".html")}}]},function(e,t,n){e.exports=["$rootScope","currentLocationAnalytics","currentLocationService","eventsConst","featureFlags",function(e,t,r,o,a){return{controller:["$scope",function(t){t.locationSet=!1,t.currentLocationSet=!1,t.setCurrentLocation=function(){if(!t.currentLocationSet)return r.getCoords().then((function(){t.currentLocation=r.getCurrentLocation(),t.currentLocation.isCurrentLocationFound?(t.locationSet=!0,t.currentLocationSet=!0,t.searchParams.currentLocation=!0,t.searchParams.lat=t.currentLocation.lat,t.searchParams.lon=t.currentLocation.lon,t.input.placeholder=a.MWEB_CURRENT_LOCATION||a.SO_DT_CURRENT_LOCATION?e.strings.general.hotelsNearMe:e.strings.general.currentLocation,t.searchParams.placeName=""):(t.locationSet=!1,t.searchParams.currentLocation=!1,t.input.placeholder=e.strings.search.placeHolder,r.failedLocationAttempt=!0),e.$emit(o.CURRENT_LOCATION_CHANGED)}));t.input.placeholder=a.MWEB_CURRENT_LOCATION||a.SO_DT_CURRENT_LOCATION?e.strings.general.hotelsNearMe:e.strings.general.currentLocation,t.searchParams.currentLocation=!0,t.locationSet=!0,t.searchParams.placeName=""},t.clearInput=function(){t.searchParams.placeName=""},t.prepareFocus=function(e){r.setFocusInputElement(e)},t.$on(o.SEARCH_FORM.FORM_LOADED,(function(){t.$emit(o.SEARCH_FORM.CURRENT_LOCATION_READY,{currentLocationSet:function(){return t.currentLocationSet},setCurrentLocation:t.setCurrentLocation})}))}],link:function(e,n){e.input=angular.element(n).find("input")[0],e.currentLocation={},e.prepareFocus((function(){return e.input.focus()})),angular.element(e.input).on("focus",(function(){e.searchParams.currentLocation=!1})),angular.element(e.input).on("blur",(function(){!angular.element(e.input).val().length&&e.currentLocation.lat&&e.currentLocation.lon&&(a.MWEB_CURRENT_LOCATION||a.SO_DT_CURRENT_LOCATION?e.searchParams.currentLocation=!0:e.setCurrentLocation())})),a.MWEB_CURRENT_LOCATION||a.SO_DT_CURRENT_LOCATION||""!==e.searchParams.placeName||r.failedLocationAttempt||e.setCurrentLocation(),t.init(e)},replace:!0,restrict:"E",scope:{searchParams:"=searchParams"},template:n(721),transclude:!0}}]},function(e,t){e.exports='<div class="current-location">\n  <div ng-transclude></div>\n</div>\n'},function(e,t){e.exports=function(){return{link:function(e,t,n){n.chDeregisterListeners&&n.chDeregisterListeners.replace(/\s/,"").split(",").forEach((function(t){e.$$listeners&&e.$$listeners[t]&&(e.$$listeners[t]=[])}))},restrict:"A"}}},function(e,t){e.exports=["siteConfig",function(e){return{controller:["$scope","searchService","strings",function(e,t,n){e.isKm=t.isKm,e.strings=n}],restrict:"E",scope:{distanceValue:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/distance-switch-display/distance-switch-display.html")}}]},function(e,t,n){e.exports=["$timeout","eventsConst","keyboardConst",function(e,t,r){return{link:function(n,o){var a=o[0].querySelector(".expand-content");function i(){a.offsetHeight>Number(n.hideContentHeight)?(n.hideContent=!0,n.collapsed=!0):(n.hideContent=!1,n.collapsed=!1)}n.buttonText="+ ".concat(n.btnCollapsedText),n.hideContent=!1,n.collapsed=!1,n.expandContent=function(e){e.stopImmediatePropagation(),n.collapsed?(n.collapsed=!1,n.buttonText="- ".concat(n.btnExpandedText)):(n.collapsed=!0,n.buttonText="+ ".concat(n.btnCollapsedText))},n.expandContentOnKeydown=function(e){e.which!==r.TAB&&(e.preventDefault(),n.expandContent(e))},e((function(){i()})),n.$on(t.PAGE_RESIZE,(function(){i()}))},replace:!0,restrict:"A",scope:{btnCollapsedText:"@",btnExpandedText:"@",content:"=",hideContentHeight:"@"},template:n(725)}}]},function(e,t){e.exports='<div>\n    <div class="expand-content" ng-class="{\'collapsed\': collapsed}" ng-bind-html="content">\n    </div>\n    <button class="btn-reset btn-cta-primary text-uppercase" ng-if="hideContent"\n      ng-click="expandContent($event);" ng-keydown="expandContentOnKeydown($event);">\n        <strong>{{buttonText}}</strong>\n    </button>\n</div>\n'},function(e,t){e.exports=["$document",function(e){var t=/^(.*)\{\{([^}]*)\}\}(.*)$/;function n(e){var t=document.createElement("span");return t.innerHTML=e,t}return{link:function(r,o,a){if(!a.chEmbeddedInString)throw new Error("chEmbeddedInString was not given a string.");if(!t.test(a.chEmbeddedInString))throw new Error("attrs.chEmbeddedInString did not match ".concat(t));var i,s=(o=o[0]).parentNode,c=o.nextSibling,l=t.exec(a.chEmbeddedInString);l[1]&&s.insertBefore(n(l[1]),o),l[2]&&o.insertBefore((i=l[2],e[0].createTextNode(i)),null),l[3]&&s.insertBefore(n(l[3]),c)},restrict:"A"}}]},function(e,t){e.exports=["$timeout","hotelService","searchConst","siteConfig","strings","urlParserService",function(e,t,n,r,o,a){return{link:function(e,r,i){e.readMore="".concat(o.general.plusSymbol," ").concat(o.general.more),e.hotelDesc=r.find("description").text(),t.getHotel(i.hotelCode,n.HOTEL_DEFAULT_PARAMS.include).then((function(t){e.hotel=t,e.hotelUrl=a.getPropertyRatesUrl(e.hotel.address,e.hotel.brandCode,e.hotel.id)}))},replace:!1,restrict:"E",scope:{btnClass:"@",btnText:"@",hotelDesc:"@",hotelLocation:"@",hotelName:"@"},templateUrl:"/".concat(r.assetFingerprint,"/app/directives/featured-property/featured-property.html"),transclude:!0}}]},function(e,t){e.exports=["siteConfig",function(e){return{replace:!0,restrict:"E",scope:{address:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/guest-address/guest-address.html")}}]},function(e,t,n){e.exports=function(){return{replace:!0,restrict:"E",scope:{locations:"<"},template:n(730)}}},function(e,t){e.exports='<div class="location-listings-wrapper">\n  <div ng-repeat="territory in ::locations | orderBy:\'name\'" class="location-listing">\n    <h3 class="location-listing-territory">{{::territory.name}}</h3>\n    <h6 class="location-listing-city" ng-repeat="city in ::territory.cities | orderBy:\'name\'">\n      <a ng-href="{{::city.url}}">{{::city.name}}</a>\n    </h6>\n  </div>\n</div>\n'},function(e,t){function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["$q","$window","hotelsByTypeConst","hotelsService","searchCriteriaData","searchHelper","searchService","siteConfig","urlParserService",function(e,t,r,a,i,s,c,l,u){return{link:function(l,d){var p,h,m=o({adults:1,ratePlanCode:"RACK",rateType:"RANGE"},s.getDateRange(),i.get()),f=r.STARTING_INDEX,g=d.find("div")[1];function v(e){var t=(e+1)*l.hotelsLimit;l.hotelsShowing=t>l.hotelsTotal?l.hotelsTotal:t}function y(){return Math.ceil(l.hotels.length/l.hotelsLimit)}function C(){l.hotelsLimit=t.innerWidth<992?1:3}function R(){l.slideCount<1&&t.innerWidth>992?l.hotelsShowing=l.hotelsTotal:t.innerWidth>992?l.hotelsShowing=3:l.hotelsShowing=1}function b(e){C(),l.categories[l.activeCategory].hotels=e,l.hotels=l.categories[l.activeCategory].hotels,l.slideCount=y(),l.slides=S(),l.hotelsTotal=l.hotels.length,t.innerWidth>992&&R()}function P(t){var n=e.defer();return e.all([a.getHotels(t),c.getRates(m,t)]).then((function(e){n.resolve(e)})),n.promise}function E(e,t){return e.forEach((function(n,r){e[r].rates=function(e,t,n){return e.hotels.filter((function(e){return e.id===t[n].id}))}(t,e,r),e[r].rates[0]&&e[r].rates[0].rateRanges&&(e[r].rate=e[r].rates[0].rateRanges[0].min.avgNightlyBeforeTax.split(".")[0]),e[r].url=function(e){return u.getPropertyPageUrl(e.address,e.brandCode,e.id)}(e[r])})),e}function S(){var e=[];return Array.apply(void 0,n(new Array(l.slideCount))).forEach((function(t,n){e.push(n)})),e}o(l,{active:f,activeCategory:r.ACTIVE_PREFIX+f,categories:(p={},h=angular.element(g),l.categoryList=[],angular.forEach(h[0].children,(function(e,t){p["cat".concat(t)]={active:0===t,category:"cat".concat(t),hotels:null,ids:e.attributes.list.value,name:e.attributes.name.value},l.categoryList.push("cat".concat(t))})),p),filterHotels:function(e){l.activeCategory=e,null===l.categories[e].hotels?P(l.categories[e].ids).then((function(e){b(E(e[0].data.hotels,e[1].results)),C(),l.$watch("active",(function(e){return v(e)}))})):(l.hotels=l.categories[l.activeCategory].hotels,l.slideCount=y(),l.slides=S(),l.hotelsTotal=l.hotels.length,l.active=0);R()},getCount:function(e){return 0!==e?e*l.hotelsLimit:0},hotelsLimit:r.HOTEL_LIMIT,setFocus:function(e){var t=d[0].querySelector("#".concat(e));t&&(t.focus(),l.status.isOpen=!1)}}),P(l.categories[l.activeCategory].ids,l.activeCategory).then((function(e){b(E(e[0].data.hotels,e[1].results)),angular.element(t).on("resize",(function(){b(l.categories[l.activeCategory].hotels)})),l.$watch("active",(function(e){return v(e)}))}))},restrict:"E",scope:{brandTitle:"@"},templateUrl:"/".concat(l.assetFingerprint,"/app/directives/hotels-by-type/hotels-by-type.html"),transclude:!0}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){var o=r.select;r.select=function(){e.active=r.getCurrentIndex();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o.apply(this,n)}},require:"uibCarousel",restrict:"A"}}},function(e,t){e.exports=function(){return{link:function(e,t,n,r){r.$formatters.push((function(t){return t+(e.suffix?" ".concat(e.suffix):"")}))},require:"ngModel",restrict:"A",scope:{suffix:"=chInputSuffix"}}}},function(e,t){e.exports=["eventsConst","domHelper","prerenderService","$timeout",function(e,t,n,r){return{link:function(o,a){function i(){(n.isRunningInPrerender()||t.isInView(a))&&(n.isRunningInPrerender()&&a.addClass("img-visible"),a.attr("src",o.url),s(),c(),l())}a.addClass("img-fade");var s=o.$on(e.PAGE_SCROLL,i),c=o.$on(e.PAGE_RESIZE,i),l=o.$on(e.LAZY_SRC,(function(){r(i)}));a.on("load",(function(){a.addClass("img-visible")})),r(i),o.$on("$destroy",(function(){a.off("load")}))},restrict:"A",scope:{url:"@chLazySrc"}}}]},function(e,t){e.exports=function(){return{link:function(e,t,n){var r=parseInt(n.chLineClamp,10)*Math.ceil(parseFloat(window.getComputedStyle(t[0]).lineHeight)),o=e.$eval(n.stringToClamp);t.html(o),o.length>r&&e.$watch((function(){return t[0].offsetHeight}),(function(e){0!==e&&function(e,t,n){var r=n.length;for(e.attr("aria-label",n);r;){if(e.html(n.substring(0,r).trim()+"…"),e[0].offsetHeight<=t)return;r--}}(t,r,o)}))},restrict:"A"}}},function(e,t,n){e.exports=function(){return{controller:n(737),scope:{colType:"@",forgotPassword:"=?",inModal:"=?"},template:n(367)}}},function(e,t){e.exports=["$document","$location","$rootScope","$scope","globalLoaderCounter","locationHelper","routeConst","strings","userHelper","userService",function(e,t,n,r,o,a,i,s,c,l){var u=n.referrerState&&n.referrerState.current||"/";r.routeConst=i,r.fromAdmin=!!t.search().fromAdmin,r.signIn=function(){if(!r.login||!r.login.username||!r.login.password){var n=e[0].querySelector("form[name=loginForm] .ng-invalid");return n&&n.focus(),!1}var i={password:r.login.password,username:r.login.username};r.creationErrors={},o.inc(),l.login(i).then((function(){a.isLoginRequiredPath()&&t.path(u).replace(),r.inModal&&!Object.keys(r.creationErrors).length&&r.$emit("signedIn")})).catch((function(e){!function(e){c.verifyAkamaiResponse(e,r);var t=angular.extend({},e.data.outputErrors,e.data.inputErrors);angular.forEach(t,(function(e,t){r.creationErrors[t]||(r.creationErrors[t]=e)})),r.creationErrors.INVALID_LOYALTY_MEMBER_CREDENTIALS&&(r.creationErrors.INVALID_LOYALTY_MEMBER_CREDENTIALS=s.cp.signInUnsuccessful)}(e)})).finally((function(){o.dec()}))}}]},function(e,t){e.exports=["$timeout","creditCardTypeDetectionService","creditCardTypePatternsConst","featureFlags","luhnCheck","patternsConst",function(e,t,n,r,o,a){return{link:function(i,s,c,l){var u=!0;r.SO_CREDIT_CARD_TYPE_TOGGLE&&e((function(){t.addCardTypeValidator(l,i.guestInfoForm&&i.guestInfoForm.creditCardType,s,i.guestInfo)})),l.$validators.luhn=function(e,t){return!["minlength","maxlength","mask","pattern"].map((function(n){var r=l.$validators[n];return!r||r(e,t)})).reduce((function(e,t){return e&&t}))||(!u||(!!a.ccTokenOrMask.test(e||t)||(!(!e||!e.match(n.IC.prefix))||o("".concat(e)))))},s.on("input",(function(){u=!1,l.$setValidity("luhn",!0)})),s.on("blur",(function(){var e=i.guestInfoForm.creditCardNumber.$modelValue;u=!0,l.$setValidity("luhn",l.$validators.luhn(e,e))}))},require:"ngModel",restrict:"A"}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){var o=r.select,a=angular.element(t.next()[0].querySelector(".cms-container"));function i(e){var t=angular.element(e).children();t.hasClass("content-floating-bottom-right")||t.hasClass("content-floating-top-right")||t.hasClass("content-floating-right")?(a.addClass("col-md-offset-4"),a.removeClass("col-md-offset-2")):t.hasClass("content-floating-top")||t.hasClass("content-floating-bottom")||t.hasClass("content-floating")?(a.addClass("col-md-offset-2"),a.removeClass("col-md-offset-4")):a.removeClass("col-md-offset-2 col-md-offset-4")}function s(e){return angular.element(e.$element[0]).children()[0].innerHTML}r.select=function(t){t!==this.currentSlide&&e.$$postDigest((function(){i(angular.element(t.$element[0]).children()[0]),a.html(s(t))}));for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return o.apply(this,[t].concat(r))}},require:"uibCarousel",restrict:"A"}}},function(e,t){e.exports=function(){return{link:function(e,t,n,r){r.$validators.inputMatch=function(t){return t===e.otherModelValue},e.$watch("otherModelValue",(function(){r.$validate()}))},require:"ngModel",restrict:"A",scope:{otherModelValue:"=chMatchesInput"}}}},function(e,t){e.exports=["$document",function(e){return{link:function(t,n,r){if(e[0].documentElement.style.objectFit)n.addClass("ch-object-fit");else{var o=angular.element("<div>"),a=r.src||r.ngSrc||"";o.addClass("ch-object-fit-polyfill").attr("role","presentational").css("backgroundImage","url(".concat(a,")")),r.alt&&r.alt.length>0&&o.attr({"aria-label":r.alt,role:"img"}),n.parent()[0].insertBefore(o[0],n[0])}},restrict:"A"}}]},function(e,t){e.exports=["$rootScope","contentPageAnalytics","eventsConst","pageEventsHelper","pageMetaData",function(e,t,n,r,o){return{link:function(a,i,s){var c=s.chOmniturePage||o.get().omniturePageName;c&&t.init(a,c),r.reportLoaded(c),e.$emit(n.ANALYTICS_PAGE_LOADED,c)},restrict:"A"}}]},function(e,t){e.exports=function(){return{link:function(e,t,n){var r=n.redirectLocation,o=n.statusCode;e.phantomMarker=o&&r?"PHANTOM_REDIRECT:".concat(o,",").concat(r,":PHANTOM_REDIRECT"):"PHANTOM_RETURN_404_STATUS_CODE"},replace:!0,restrict:"E",template:'<span class="hidden" data-phantommarker="{{phantomMarker}}"></span>'}}},function(e,t){e.exports=function(){return{link:function(e,t){t.on("keypress",(function(e){13===e.keyCode&&e.preventDefault()}))},restrict:"A"}}},function(e,t){e.exports=["$rootScope",function(e){return{link:function(t,n,r){t.strings=e.strings,t.fractions=r.decimals||0},replace:!0,restrict:"E",scope:{cash:"=",decimals:"@?",selectedRate:"=",values:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/price-display/price-display.html")}}]},function(e,t){e.exports=["siteConfig",function(e){return{replace:!0,restrict:"A",scope:{currencyCode:"@",ratePlan:"=",value:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/price-display-simple/price-display-simple.html")}}]},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["$rootScope","$window","featureFlags","pagesConst","reactConst","reactHelper","searchResultsService","strings",function(e,t,r,o,a,i,s,c){return{link:function(l,u,d){l.reactMobile=r.MW_SEARCH&&e.isMobile;var p={pagename:o.SEARCH_MODAL_PAGE,resendanalytics:"true",trackid:"ModifyBTN"},h=function(e,t){return function(n){return e(n)&&t(n)}};l.reactMobile&&i.loadReactApp((function(){r.MW_SEARCH_RESULTS_PAGE||t.store.dispatch({name:a.PAGE_DATA.SEARCH_RESULTS,pageId:l.pageId,type:a.ACTIONS.ADD_PAGE_VALUE,value:s.hotels}),r.MW_PROPERTY_PAGE||t.store.dispatch({name:a.PAGE_DATA.PROPERTY,pageId:l.pageId,type:a.ACTIONS.ADD_PAGE_VALUE,value:n({},l.hotel)});var e=d.titleText,o=d.buttonText,m=l.reactFormUpdate,f=d.hasOwnProperty("hideAutoSuggest"),g=d.hasOwnProperty("enableAutoSuggestFocus"),v=t.React.createElement(t.Provider,{store:t.store},t.React.createElement(t.SearchModalContainer,{buttonText:o,enableAutoSuggestFocus:g,hideAutoSuggest:f,onSubmit:m,pageId:l.pageId,titleText:e},(function(e){var t=e.show,r=e.handleClick;return React.createElement("button",n({className:"btn-reset text-orange text-uppercase pull-right open-modify",onClick:h(t,r)},p),c.hotel.summaryModify)})));i.renderToScope(v,u[0],l)}))},restrict:"E",scope:!0}}]},function(e,t){e.exports=["$timeout","browserCompatibilityHelper","domHelper","eventsConst","prerenderService","responsiveImages",function(e,t,n,r,o,a){return{link:function(i,s,c){var l=i.chResponsiveBackgroundAppendToParent?s.parent():s;if(i.defaultImageObj=a.getImageUrlObject(i.chResponsiveBackground),i.$watch((function(){return s.attr("ch-responsive-background")}),(function(e){i.defaultImageObj=a.getImageUrlObject(e)})),t.isWebpSupported&&"enableWebP"in c){var u=i.defaultImageObj.fileName;i.defaultImageObj.fileName="".concat(u.substr(0,u.lastIndexOf(".")),".webp")}function d(){if(o.isRunningInPrerender()||n.isInView(l)){var e=l[0].clientWidth;if("carousel"===i.chResponsiveBackgroundMode&&0===e){var t=l.parent()[0],r=5;for(e=t.clientWidth;0===e&&r>1;)e=(t=angular.element(t).parent()[0]).clientWidth,r--}var s=a.getTargetImageUrl(i.defaultImageObj,e,c.hasOwnProperty("lowRes")),u=a.getTargetImageWidth(i.defaultImageObj,e,c.hasOwnProperty("lowRes"));o.isRunningInPrerender()&&l.css("background-image","url(".concat(s,")")),u>=(i.width||0)&&!o.isRunningInPrerender()?(i.width=u,a.preloadImage(s).then((function(){l.css("background-image","url(".concat(s,")")),d(s)})).catch((function(){l.css("background-image","url(".concat(i.chResponsiveBackground,")")),d(i.chResponsiveBackground)}))):d(s)}function d(e){l.addClass("img-visible"),p(),h(),c.onBackgroundLoad&&i.$parent.$eval(c.onBackgroundLoad,{$background:e})}}l.addClass("ch-responsive-background img-fade");var p=i.$on(r.PAGE_SCROLL,d),h=i.$on(r.LAZY_SRC,(function(){e(d)}));i.$on(r.PAGE_RESIZE,d),e(d,600)},restrict:"A",scope:{chResponsiveBackground:"@",chResponsiveBackgroundAppendToParent:"=?",chResponsiveBackgroundMode:"@"}}}]},function(e,t){e.exports=["responsiveImages","eventsConst",function(e,t){return{link:function(n,r){var o=r[0];n.defaultImageObj=e.getImageUrlObject(n.chResponsiveImage),r.on("error",(function(){o.src.indexOf(n.chResponsiveImage)<0&&(o.src=n.chResponsiveImage)}));var a=function(){var t=o.clientWidth,r=e.getTargetImageUrl(n.defaultImageObj,t);o.src=r};a(),n.$on(t.PAGE_RESIZE,a),n.$on("$destroy",(function(){r.off("error")}))},replace:!0,restrict:"A",scope:{chResponsiveImage:"@"},template:'<img class="ch-responsive-image" />'}}]},function(e,t){e.exports=["$document","$rootScope","deviceConst","eventsConst","siteConfig",function(e,t,n,r,o){return{link:function(e,a){var i=angular.element(a);o.deviceType===n.MOBILE&&(t.$on(r.PAGE_LOADED,(function(){i.addClass("pre-scroll-home")})),t.$on("$destroy",(function(){i.removeClass("pre-scroll-home")})))},restrict:"A"}}]},function(e,t){e.exports=["$rootScope","eventsConst",function(e,t){return{link:function(){e.$broadcast(t.SEARCH_FORM.FORM_LOADED)},restrict:"A"}}]},function(e,t){e.exports=["$parse","$rootScope","$transitions","globalSheetPaneCounter","globalLoaderCounter",function(e,t,n,r,o){return{link:function(t,a,i){t.showBack=void 0!==i.back,t.showClose=void 0!==i.close&&!i.hasOwnProperty("hideClose"),t.back=e(i.back).bind(null,t.$parent),t.close=e(i.close).bind(null,t.$parent),t.$watch("show",(function(e,n){void 0!==e&&void 0!==n?t.show?r.inc():r.dec():t.show=!!n})),n.onStart({},(function(){t.show&&(t.close(),t.show=!1,o.dec())}))},replace:!0,restrict:"E",scope:{show:"=",title:"="},templateUrl:"/".concat(t.assetFingerprint,"/app/directives/sheet-pane/sheet-pane.html"),transclude:!0}}]},function(e,t){e.exports=["$document","$interval","$timeout","eventsConst","siteConfig","transcludeHelper",function(e,t,n,r,o,a){return{link:function(o,i,s,c,l){var u=angular.element(e[0].body),d=angular.element(i[0].querySelector(".handle.low")),p=angular.element(i[0].querySelector(".handle.high")),h=angular.element(i[0].querySelector(".bar")),m=angular.element(i[0].querySelector(".selection")),f=!1,g=null,v=null,y=0;function C(){o.sliderLow=b(d[0].offsetLeft),o.sliderHigh=b(p[0].offsetLeft)}function R(){d.css("left","".concat(P(o.sliderLow),"px")),p.css("left","".concat(o.sliderHigh!==o.max?P(o.sliderHigh):o.maxLeft,"px")),T()}function b(e){return Math.round(o.min+e/o.maxLeft*(o.max-o.min))}function P(e){return(e-o.min)/(o.max-o.min)*o.maxLeft}function E(e){"mousemove"===e.type&&1!==e.which?o.stopDrag():A(e.pageX)}function S(){o.isMin=b(d[0].offsetLeft)===o.min,o.isMax=b(p[0].offsetLeft)===o.max}function A(e){var t=Math.min(Math.max(0,e-y-i[0].getBoundingClientRect().left),o.maxLeft);g===d&&t>p[0].offsetLeft?(d.css("left","".concat(p[0].offsetLeft,"px")),g=p):g===p&&t<d[0].offsetLeft&&(p.css("left","".concat(d[0].offsetLeft,"px")),g=d),g.css("left","".concat(t,"px")),T(),S()}function T(){function e(e){return e[0].offsetLeft+e[0].offsetWidth/2}m.css("left","".concat(e(d),"px")),m.css("right","".concat(i[0].offsetWidth-e(p),"px"))}o.sliderHigh=o.ngModelHigh,o.sliderLow=o.ngModelLow,o.dragNearest=function(e){function t(e){return e[0].getBoundingClientRect().left+e[0].offsetWidth/2}e.preventDefault(),e.stopPropagation(),g=Math.abs(e.pageX-t(d))<=Math.abs(e.pageX-t(p))?d:p,y=g[0].offsetWidth/2,A(e.pageX),o.startDrag()},o.dragHandle=function(e){e.preventDefault(),e.stopPropagation(),g=d[0]===e.target?d:p,y=e.pageX-g[0].getBoundingClientRect().left,A(e.pageX),o.startDrag()},o.startDrag=function(){u.on("mousemove touchmove",E),u.on("mouseup touchend blur",o.stopDrag),t.cancel(v),v=t(C,100),f=!0},o.stopDrag=function(){t.cancel(v),C(),o.$apply((function(){o.ngModelLow=o.sliderLow,o.ngModelHigh=o.sliderHigh})),u.off("mousemove touchmove",E),u.off("mouseup touchend blur",o.stopDrag),g=null,f=!1},o.keyboardInput=function(e){if(e.which>=33&&e.which<=40){e.preventDefault(),e.stopPropagation();var t=o.max-o.min>200?+((o.max-o.min)/100).toFixed(1):1;switch(g=d[0]===e.target?d:p,y=0,o.sliderVal=d[0]===e.target?o.ngModelLow:o.ngModelHigh,e.which){case 38:case 39:o.sliderVal+=1*t;break;case 37:case 40:o.sliderVal-=1*t;break;case 33:o.sliderVal+=10*t;break;case 34:o.sliderVal-=10*t;break;case 35:o.sliderVal=o.max;break;case 36:o.sliderVal=o.min}A(i[0].getBoundingClientRect().left+P(o.sliderVal)),v=n(C,100)}},function(){a.multiTransclude(o,i,l,!0),d.on("mousedown touchstart",o.dragHandle),p.on("mousedown touchstart",o.dragHandle),h.on("mousedown",o.dragNearest),d.on("keydown",o.keyboardInput),p.on("keydown",o.keyboardInput),n((function(){o.maxLeft=i[0].offsetWidth-p[0].offsetWidth,R(),S()}));var e=o.$on(r.PAGE_RESIZE,(function(){o.maxLeft=i[0].offsetWidth-p[0].offsetWidth,R()}));o.$on("$destroy",e),o.$watchGroup(["ngModelLow","ngModelHigh"],(function(e){e[0]===o.sliderLow&&e[1]===o.sliderHigh||(o.sliderLow=o.ngModelLow,o.sliderHigh=o.ngModelHigh)})),o.$watchGroup(["sliderLow","sliderHigh"],(function(e,t){e[0]===t[0]&&e[1]===t[1]||f||R()})),o.$watchGroup(["min","max"],(function(e,t){e[0]===t[0]&&e[1]===t[1]||(o.sliderLow=Math.max(o.min,o.sliderLow),o.sliderHigh=Math.max(o.max,o.sliderHigh),R())}))}()},replace:!0,restrict:"E",scope:{labelHigh:"@",labelLow:"@",max:"=",min:"=",ngModelHigh:"=",ngModelLow:"="},templateUrl:"/".concat(o.assetFingerprint,"/app/directives/slider/slider.html"),transclude:!0}}]},function(e,t){e.exports=["$rootScope","amenitiesData",function(e,t){return{link:function(e){e.showMessage=!1,e.amenities&&t.get().then((function(t){for(var n=t.AWARD_CODES,r=0;r<e.amenities.length;r++)if(e.amenities[r].code in n){e.message=n[e.amenities[r].code],e.showMessage=!0;break}}))},restrict:"E",scope:{amenities:"=",room:"="},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/social-proofing/social-proofing.html")}}]},function(e,t){e.exports=["deviceConst","eventsConst","featureFlags","localeService","ratePlanHelper","searchConst","siteConfig","strings",function(e,t,n,r,o,a,i,s){return{link:function(c){function l(){c.summary=angular.copy(c.stayData);var e=o.getRatePlan(c.summary.ratePlanCode),t=c.summary.isGroupPickup||c.summary.rooms>=a.GROUP_OPTIONS.minRoomsPerGroup;c.ratePlanDisplayName=t?s.group.ratePlanName:e.name}c.mobileDevice=i.deviceType===e.MOBILE,n.IWSR_MASTER&&!r.isDomestic()?c.dateFormat=c.mobileDevice?a.DATE_FORMAT.DAY_DATE_SLIM_REVERSE:a.DATE_FORMAT.DAY_DATE_REVERSE:c.dateFormat=c.mobileDevice?a.DATE_FORMAT.DAY_DATE_SLIM:a.DATE_FORMAT.DAY_DATE,l(),c.$on(t.RATE_FORM.RATE_UPDATED,(function(){l()}))},replace:!0,restrict:"E",scope:{stayData:"="},templateUrl:"/".concat(i.assetFingerprint,"/app/directives/stay-summary/stay-summary-text.html")}}]},function(e,t){e.exports=["featureFlags","strings",function(e,t){var n,r,o="".concat('<li class="more-link"><a>').concat(t.general.more,'</a><span class="ch-icon ch-icon-chevron-down"></span>')+"</li>";return{compile:function(t){var a,i;return a=t[0],i=a.querySelector("ul"),angular.element(i).append(o),r=i.children[i.children.length-1].offsetWidth,angular.element(i.children[i.children.length-1]).remove(),n=Array.prototype.slice.call(i.children).map((function(t){var n=t.querySelector("a"),r=t.attributes.getNamedItem("ng-if"),o=function(e){var t=e.querySelector(".dropdown-menu");if(!t)return[];var n=t.querySelectorAll('ul[role="menu"] > li');return Array.prototype.slice.call(n).map((function(e){var t=angular.element(e).find("a")[0];return{href:t.href,label:t.innerHTML}}))}(t);return{children:o,childrenColumns:function(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e.slice(n,n+4));return t}(o),className:t.className,displayCondition:r?r.nodeValue:null,hidden:"Rewards Exchange"===n.innerHTML&&!e.PARTNER_HUB,href:n.href,label:n.innerHTML,width:t.offsetWidth}})),t.html("<div ng-include=\"'/' + assetFingerprint + '/app/directives/sub-nav/sub-nav.html'\"></div>"),function(e,t){function o(){!function(){for(var o=t[0].offsetWidth,a=0,i=0,s=!1;!s&&a<n.length;){var c=n[a],l=i+c.width;c.displayCondition&&(c.shouldDisplay=e.$eval(c.displayCondition)),a+1<n.length&&(l+=c.shouldDisplay?r:0),l>o?s=!0:(i+=c.width,a++)}e.visibleMenuItems=n.slice(0,a),e.moreMenuColumns=n.slice(a)}(),function(){var t=e.moreMenuColumns.slice();e.moreMenuColumns=t.filter((function(e){return e.children.length})).map((function(e){return[e]}));var n=t.filter((function(e){return!e.children.length}));n.length&&(e.moreMenuColumns=e.moreMenuColumns.concat([n]))}()}e.$watch((function(){return t[0].offsetWidth}),o),e.$watch("cpUser.signedIn",o)}},restrict:"A",scope:!0}}]},function(e,t){e.exports=["$rootScope","eventsConst","travelAgentService",function(e,t,n){return{link:function(r){n.init(),r.travelAgentIdLength=8,r.travelAgentSignedIn=n.isLoggedIn(),r.travelAgent=n.get(),r.attemptLogin=function(){r.travelAgent&&r.travelAgent.clientId&&r.travelAgent.charVerify?n.login(r.travelAgent.clientId,r.travelAgent.charVerify):r.errorMessage=e.strings.booking.errors.travelAgent.errorMissingFields},r.travelAgentLogout=function(){n.logout()},e.$on(t.TRAVEL_AGENT.ERROR,(function(e,t){r.errorMessage=t.message})),e.$on(t.TRAVEL_AGENT.LOGGED_IN,(function(e,t){r.travelAgent=t,r.travelAgentSignedIn=!0,r.errorMessage=null})),e.$on(t.TRAVEL_AGENT.LOGGED_OUT,(function(){r.travelAgentSignedIn=!1,r.travelAgent={},r.travelAgentLoginForm&&r.travelAgentLoginForm.$setPristine(),r.errorMessage=e.strings.booking.travelAgent.logoutSuccess}))},replace:!0,restrict:"E",templateUrl:"/".concat(e.assetFingerprint,"/app/directives/travel-agent/travel-agent-login.html")}}]},function(e,t,n){e.exports=["$rootScope","featureFlags","cookieConst","cookieHelper","siteConfigHelper","contentService",function(e,t,r,o,a,i){return{link:function(e){e.languages={en:{content:"",isLoaded:!1}},e.hasUkaslCookie=!!o.getCookie(r.COOKIE_CONSENT_UK.name),e.setCookieUKASL=function(){o.setCookieConsent()},e.showUKaslBanner=function(){var e=!!o.getCookie(r.COOKIE_CONSENT_UK.name);return a.isUKAntiSpamLaw()&&!e},e.display=function(n){!t.IWS_MOBILE_REDIRECT||e.languages[n].isLoaded||e.hasUkaslCookie?e.policy=e.languages[n].content:i.getHTMLFragment("ukasl_footer_text","module",n).then((function(t){e.policy=e.languages[n].content=t,e.languages[n].isLoaded=!0}))},e.display("en")},replace:!0,restrict:"E",template:n(759)}}]},function(e,t){e.exports='<div class="casl-footer" ng-if="showUKaslBanner()">\n  <div class="container">\n    <div>\n      <div class="casl-close pull-right clearfix" ng-click="setCookieUKASL()">\n        <span class="ch-icon ch-icon-close"></span>\n        <span class="close-text">{{$root.strings.general.closeLabel}}</span>\n      </div>\n    </div>\n    <div ng-bind-html="policy" ch-content-components></div>\n  </div>\n</div>\n'},function(e,t){e.exports=["pageMetaData",function(e){return{link:function(t){var n={};t.title&&(n.title=t.title),t.description&&(n.description=t.description),e.update(n)},restrict:"E",scope:{description:"@",title:"@"}}}]},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=["$attrs","$document","$location","$parse","$scope","$timeout","eventsConst","globalLoaderCounter","pagesConst","pageEventsHelper","routeConst","strings","userHelper","userService",function(e,t,r,o,a,i,s,c,l,u,d,p,h,m){var f,g=e.onLogin?o(e.onLogin):angular.noop;function v(){var e=[],t=this[this.formName],r=t.$name;Object.keys(t).forEach((function(r){var o=t[r];"object"===n(o)&&o.hasOwnProperty("$viewValue")&&void 0!==o.$viewValue&&(e.push(o.$name),o.$setViewValue(""))})),function(e,t){var n=t.map((function(t){return"#chUserLoginSignup".concat(e).concat(t)}));angular.forEach(n,(function(e){var t=angular.element(document.querySelector(e));void 0!==t.controller("ngModel")&&t.controller("ngModel").$render()}))}(r,e)}function y(){S(f={password:this.loginPassword,username:this.username})&&(this.signInError=!1,this.creationErrors={},c.inc(),m.login(f).then(angular.bind(this,C)).catch(angular.bind(this,R)).finally((function(){c.dec()})))}function C(){this[this.formName].$setPristine(),g(a.$parent,{formData:f})}function R(e){h.verifyAkamaiResponse(e,a),this.signInError=!0,"Unauthorized"===e.statusText&&(this.loginPassword="")}function b(){var e=this.$parent.newCpUserData?this.$parent.newCpUserData:this,t=this[this.formName];S(f={email:e.email,firstName:e.firstName,lastName:e.lastName,loyaltyAccountNumber:"string"==typeof this.loyaltyAccountNumber?this.loyaltyAccountNumber.toUpperCase():e.loyaltyAccountNumber,password:this.createPassword,phoneNumber:e.phone||e.phoneNumber,postalCode:e.postalCode||"",username:this.createUsername||this.username})&&function(e){var t=e.createPassword,n=e.confirmPassword;return t.$viewValue===n.$viewValue||(e.$setPristine(),n.$setViewValue(""),n.$render(),a.creationErrors={password:p.cp.passwordMatch},!1)}(t)&&(this.signInError=!1,this.creationErrors={},c.inc(),m.createUserFromCpNumber(f).then(angular.bind(this,P)).then(angular.bind(this,v)).catch(angular.bind(this,E)).finally(c.dec))}function P(){var e=this;a.$emit(s.NEW_CP_USER.SUCCESSFUL_SIGNUP,null),m.login(f).then((function(){u.loaded(l.LOGGED_IN_SIGNUP),e.$parent&&e.$parent.handleLoggedIn?e.$parent.handleLoggedIn():r.path(d.CP_HOME_PATH).search({enrolled:"true"})})).catch((function(e){h.verifyAkamaiResponse(e,a)})).finally((function(){c.dec()}))}function E(e){if(e.data){h.verifyAkamaiResponse(e,a);var n=angular.extend({},e.data.outputErrors,e.data.inputErrors);angular.forEach(n,(function(e,t){a.creationErrors[t]||(a.creationErrors[t]=e)})),a.$emit(s.NEW_CP_USER.INVALID_SIGNUP),i((function(){var e=angular.element(t[0].querySelector('[name="cpLoginForm"]'));e&&0!==e.length&&t.scrollToElementAnimated(e)}))}}function S(e){return void 0===Object.keys(e).find((function(t){return void 0===e[t]}))}a.creationErrors={},a.signInError=!1,a.clearForm=function(){this.username="",this.loginPassword="",this.firstName="",this.lastName="",this.postalCode="",this.loyaltyAccountNumber="",this.createUsername="",this.createPassword="",this.confirmPassword="",this[this.formName].$setPristine()},a.login=function(e){e.preventDefault(),this[this.formName].$submitted=!0,this.$parent.formState.signIn?angular.bind(this,y)():this.$parent.formState.chooseUsername&&angular.bind(this,b)()}}];e.exports=function(){return{controller:r,link:function(e,t,n){e.formName=n.name},restrict:"A",scope:!0}}},function(e,t){e.exports=["formHelper","siteConfig",function(e,t){return{controller:["$scope",function(t){t.errorFilter=function(){var n=e.errorFilter(this.parentForm,this.parentForm[this.name]);return t.inputErrorKeys=n,n}}],link:function(e){e.parentForm=e.$parent[e.$parent.formName],e.hasInputMatch&&(e.parentForm[e.name].$validators.inputMatch=function(t){return t===e.inputMatch}),e.keyUp=function(t){13===t.keyCode&&e.$parent.login(t)}},replace:!0,restrict:"A",scope:{fieldMember:"@",hasInputMatch:"<?",imgAlt:"@?",imgSrc:"@?",inputMatch:"=?",label:"@",max:"@?",min:"@?",model:"=",name:"@",password:"@?",pattern:"=?",validationMessages:"<?"},templateUrl:"/".concat(t.assetFingerprint,"/app/directives/user-login-signup/user-login-signup-field.html")}}]},function(e,t){e.exports=["choicePrivilegesConst","siteConfig","strings",function(e,t,n){return{controller:["$scope",function(t){t.strings=n,t.$watch("count",(function(){t.count<e.ELITE_LEVELS.GOLD.NUM_NIGHTS?t.arc=9*t.count+270:t.count<e.ELITE_LEVELS.PLATINUM.NUM_NIGHTS?t.arc=9*t.count-90:t.count>=e.ELITE_LEVELS.PLATINUM.NUM_NIGHTS?t.arc=Math.min(9*t.count/2,270):t.arc=270}))}],replace:!0,restrict:"A",scope:{count:"="},templateUrl:"/".concat(t.assetFingerprint,"/app/directives/user-member-status/user-member-status.html")}}]},function(e,t){function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=["$filter",function(e){return{link:function(t,r,o,a){var i=e(o.chValueFilter.split(":").shift());i&&a.$formatters.push((function(e){var r=o.chValueFilter.split(":");return r.shift(),angular.forEach(r,(function(e,n){r[n]=t.$eval(e)})),r.unshift(e),i.apply(void 0,n(r))}))},require:"ngModel",restrict:"A"}}]},function(e,t){e.exports=["siteConfig",function(e){return{controller:["$scope","omniture","omnitureConst",function(e,t,n){e.sendOmnitureAnalytics=function(){t.sendAnalyticsViaCustomLink({linkTrackVars:"prop53,prop54",prop53:e.pageName,prop54:n.ADDRESS_LINK},n.MAP_PREFIX+e.pageName+n.MAP_SUFFIX)}}],restrict:"E",scope:{address:"=?",latitude:"@?",longitude:"@?",pageName:"@?"},templateUrl:"/".concat(e.assetFingerprint,"/app/directives/view-hotel-map/view-hotel-map").concat(e.fileSuffix,".html")}}]},function(e,t){e.exports=["$animate",function(e){return{link:function(t,n){e.enabled(n,!1)},restrict:"A"}}]},function(e,t){e.exports=function(){return{link:function(e,t,n,r){if(t.hasClass("dropdown-menu")&&r){var o=r.toggle,a=t[0],i=0;r.toggle=function(){r.isOpen()||s();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.apply(this,t)},s()}function s(){t.css({display:"block",visibility:"hidden"}),i=a.offsetWidth,a.style.marginLeft="".concat(-i/2,"px"),t.css({display:null,visibility:null})}},require:"^uibDropdown",restrict:"C"}}},function(e,t){e.exports=function(){return{link:function(e,t){t.replaceWith(t.children())},require:"ngInclude",restrict:"A"}}},function(e,t){e.exports=function(){return{link:function(e,t,n,r){r.$validators.validationExpression=function(){return e.validationExpression()}},require:"ngModel",restrict:"A",scope:{validationExpression:"&"}}}},function(e,t){e.exports=["$rootScope","analyticsManager","eventsConst","omnitureConst","siteConfig",function(e,t,n,r,o){return{init:function(a){e.$on(n.CURRENT_LOCATION_CHANGED,(function(){var e=a.searchParams.currentLocation?r.CURRENT_LOCATION:"";t.currentLocationObject.value=e,o.omniture.globalProps.eVar9=o.omniture.globalProps.prop9=e}))}}}]},function(e,t,n){e.exports=angular.module("chApp.factory",[]).factory("chErrorFactory",n(104))},function(e,t,n){e.exports=angular.module("chApp.filters",[]).filter("chAddLocalePath",n(149)).filter("chAddress",n(403)).filter("chAmenities",n(404)).filter("chAmenitiesDistance",n(405)).filter("chAwardIcon",n(406)).filter("chAwards",n(407)).filter("chBedNumber",n(773)).filter("chCitySearch",n(774)).filter("chCountryPriorityLevel",n(775)).filter("chCurrencyCode",n(776)).filter("chCurrencySymbol",n(151)).filter("chDateCustomLocale",n(152)).filter("chDateOrdinalSuffix",n(777)).filter("chDistance",n(778)).filter("chEmptyStars",n(408)).filter("chFullStars",n(409)).filter("chHalfStars",n(410)).filter("chLeadingZeroes",n(779)).filter("chMinMaxRange",n(780)).filter("chNumberToLetterSuffix",n(781)).filter("chPercentage",n(782)).filter("chPlaceDisplay",n(411)).filter("chPrice",n(412)).filter("chPriceFormat",n(413)).filter("chSortRandom",n(783)).filter("chStripTags",n(784)).filter("chThumbnail",n(368)).filter("normalizePhoneNumber",n(785)).filter("stripMobilePrefix",n(786)).filter("stripPathLocale",n(154)).filter("formatLocalePath",n(153)).filter("time24to12",n(414)).filter("toArray",n(787)).filter("unencoded",n(155)).filter("userFriendlyErrorMessages",n(788)).filter("userFriendlyErrorMessagesWithoutDefault",n(789))},function(e,t){e.exports=function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isMore:!1,reverse:!1};return e.filter((function(e){for(var r=e.room.beds,o=Object.keys(r),a=n.isMore,i=n.reverse,s=0,c=0;c<o.length;c++){s+=r[o[c]]}return a?i?s<t:s>=t:i?s!==t:s===t}))}}},function(e,t){e.exports=function(){return function(e,t){if(!t.country)return e;var n={},r=t.country,o=t.subdivision;return angular.forEach(e,(function(e){(o&&e.country===r&&e.subdivision===o||!o&&r&&e.country===r)&&(n[e.name]=e)})),n}}},function(e,t,n){e.exports=["$filter","localesConst","siteConfig",function(e,t,r){var o=n(0);return function(e){var n;if(t[r.locale]&&t[r.locale].countryPriority&&(n=t[r.locale].countryPriority),e&&n)return function(e){e.filter((function(e){return e.priorityLevel})).forEach((function(e){return e.priorityLevel=0}))}(e),n.forEach((function(t,n,r){e.find(o.byCode(t)).priorityLevel=r.length-n})),e}}]},function(e,t){e.exports=["$rootScope",function(e){return function(t,n){var r=t&&(t.currencyCode||t.code||t);if("HOTEL_DEFAULT_CURRENCY"===r)return e.strings.general.currency.toUpperCase();if(n&&r&&n[r]){var o=n[r];if(!o.format||"$"===o.symbol&&"USD"!==r)return r}return""}}]},function(e,t){e.exports=["$rootScope",function(e){var t=e.strings.rentals.daySuffix;return function(e){var n=new Date(Date.parse(e)).getUTCDate();return n+t[n].sup()}}]},function(e,t){e.exports=function(){var e={km:{km:1,mi:.621371},mi:{km:1.60934,mi:1}};return function(t,n,r){return(t*e[n][r]).toFixed(2)}}},function(e,t){e.exports=function(){return function(e,t){return(new Array(t).join("0")+e).substr(-t)}}},function(e,t){e.exports=function(){return function(e){return(e=e||{}).min&&e.max&&e.min!==e.max?"".concat(e.min,"-").concat(e.max):e.max||e.min||""}}},function(e,t){e.exports=function(){return function(e,t){if(window.isNaN(e)||e<1e3)return e;var n=Math.floor(Math.log(e)/Math.log(1e3));return(e/Math.pow(1e3,n)).toFixed(t)+["K","M","G"][n-1]}}},function(e,t){e.exports=["$filter",function(e){return function(t,n){return e("number")(100*t,n)}}]},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){return function(e){var t=angular.copy(e);if(t instanceof Array){for(var r,o,a=t.length;0!==a;)o=Math.floor(Math.random()*a),r=t[a-=1],t[a]=t[o],t[o]=r;return t}throw new TypeError("List parameter is a [".concat(n(t),"], but should be an array."),"sort-random.filter.js")}}},function(e,t){e.exports=function(){return function(e){return angular.element(e).text()}}},function(e,t){e.exports=["countriesConst",function(e){return function(t,n){var r=t.replace(/[^0-9]/g,"");return(e.NANP_COUNTRY_CODES.indexOf(n)>=0&&"1"!==r[0]?"1":"")+r}}]},function(e,t){e.exports=["deviceConst",function(e){return function(t){var n="".concat(e.MOBILE.toLowerCase()," ");return 0===t.toLowerCase().indexOf(n)?t.substr(n.length):t}}]},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){return function(e,t){return e?t?Object.keys(e).map((function(t){return"object"===n(e[t])?Object.defineProperty(e[t],"$key",{enumerable:!1,value:t}):e[t]})):Object.keys(e).map((function(t){return e[t]})):e}}},function(e,t){e.exports=["strings",function(e){return function(t,n){var r={};for(var o in t)n&&n[o]&&(r[o]=n[o]);return t&&Object.keys(t).length>0&&0===Object.keys(r).length&&(r.error=e.general.unknownError),r}}]},function(e,t){e.exports=function(){return function(e,t){var n={};for(var r in e)t&&t[r]&&(n[r]=t[r]);return e&&Object.keys(e).length>0&&0===Object.keys(n).length&&(n=e),n}}},function(e,t,n){e.exports=angular.module("chApp.login",[]).factory("cpUserData",n(110)).factory("profileHelper",n(129)).factory("userHelper",n(147)).factory("userService",n(148))},function(e,t,n){e.exports=angular.module("chApp.notice",[]).directive("chNotice",n(88))},function(e,t,n){e.exports=angular.module("chApp.resolvers",[]).service("preloadService",n(128)).service("resolverService",n(132))},function(e,t,n){e.exports=angular.module("chApp.run",[]).factory("deepLinkHandler",n(112))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=angular.module("chApp.services",[]).service("barclaysService",n(841)).service("bingMapsService",n(431)).service("checkoutService",n(432)).factory("clientFileService",n(105)).service("conversionTrackingService",n(159)).service("creditCardTypeDetectionService",n(842)).factory("discountCodeService",n(113)).factory("favoritesService",n(433)).factory("geolocationService",n(843)).factory("guestService",n(844)).factory("hotelsService",n(845)).factory("localeService",n(123)).service("locationService",n(124)).service("navigationService",n(162)).factory("partnerHubService",n(846)).factory("prerenderService",n(127)).factory("resourceBundleService",n(133)).factory("responsiveDateFormats",n(847)).factory("responsiveImages",n(848)).factory("signalTagService",n(138)).factory("thirdPartyMarketingService",n(142)).factory("travelAgentService",n(24)).factory("urlParserService",n(145)).factory("userActivityDetailsService",n(150)).service("valuesService",n(169))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=["$http","$locale","$rootScope","barclaysApplicationConst","creditCardTypePatternsConst","eventsConst","objectHelper","urlEncodeObject",function(e,t,r,o,a,i,s,c){var l,u={preferredLocaleCode:t.id};return{cardUsedOnTransaction:function(e){return!(!l||"object"!==n(e))&&(l.hasOwnProperty("cardToken")&&e.hasOwnProperty("creditCardNumber")&&l.cardToken.substr(-4)===e.creditCardNumber.substr(-4))},getApplicationData:function(t){var n=angular.extend({contextId:t},u);return e.get("".concat("/webapi/barclays","/checkout"),{cache:!1,params:n})},getCardData:function(){return l||null},postApplicationData:function(n,r){var o={contextId:n,email:r.email,firstName:r.firstName,homePhone:r.homePhone,lastName:r.lastName,preferredLocaleCode:t.id};return r.address&&angular.extend(o,{country:r.address.country,postalCode:r.address.postalCode,subdivision:r.address.subdivision}),e.post("".concat("/webapi/barclays","/checkout"),c(s.removeEmptyProperties(o)),{cache:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},postBackNotify:function(e){var t;l=null,"string"==typeof e&&(e=JSON.parse(e)),"object"===n(e)&&e.hasOwnProperty("barclaysInstantCredit")&&e.barclaysInstantCredit.decisionCode===o.DECISION_CODE.APPROVED&&(t=e.barclaysInstantCredit,l={cardToken:t.cardToken,creditCardNumber:t.maskedCard,creditCardType:a.VI.code,expirationMonth:t.expirationMonth,expirationYear:t.expirationYear,tokenKeyAlias:t.keyAlias,tokenResponseSignature:t.responseSignature,tokenResponseTimeStamp:t.responseTimeStamp}),r.$broadcast(i.BARCLAYS.POSTBACK_RECEIVED,e)}}}]},function(e,t){e.exports=["creditCardTypePatternsConst","featureFlags",function(e,t){return{addCardTypeValidator:function(e,n,r,o){if(!t.SO_CREDIT_CARD_TYPE_TOGGLE)return!1;var a=this;a.validateCardType=!1,t.SO_GDP_ERRORS||r.on("input",(function(){a.validateCardType=!0,e.$setValidity("creditCardType",e.$validators.creditCardType(r.val()))})),e.$validators.creditCardType=function(e){if(n&&n.$untouched&&a.validateCardType&&e){var t=a.getCardTypeFromNumber(e);return!!t&&(a.setCardTypeField(n,t,o),!0)}return!0}},destroyed:function(){this.validateCardType=!1,this.validatedCardTypes={}},disableCardTypeDetection:function(e){e.$validators.creditCardType=function(){return!0}},getCardTypeFromNumber:function(t){var n;return t.match(e.IC.prefix)&&t.length===e.IC.validLength[0]?n=this.validatedCardTypes[t]=e.IC:angular.forEach(e,(function(e){t.match(e.prefix)&&(n=this.validatedCardTypes[t]=e)}),this),n||!1},setCardTypeField:function(e,t,n){t&&(n.creditCardType=t.code)},validateCardType:!1,validatedCardTypes:{}}}]},function(e,t){e.exports=["$window","$q",function(e,t){return{getCoords:function(){var n=t.defer();return e.navigator&&e.navigator.geolocation?e.navigator.geolocation.getCurrentPosition((function(e){n.resolve(e.coords)}),(function(e){n.reject(e)})):n.reject("unsupported"),n.promise}}}]},function(e,t){e.exports=["$http","globalLoaderCounter","objectHelper","urlEncodeObject",function(e,t,n,r){var o={getLoyaltyStatus:"loyaltyAccountLastName|loyaltyAccountNumber"};return[o].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=new RegExp("^(".concat(e[t],")$")))})),{getLoyaltyStatus:function(a){return function(a,i,s,c){return c=angular.copy(c||{}),c=n.filterObjectByKey(c,a,o,{}),t.inc(),e(/^(GET|DELETE)$/.test(i)?{cache:!1,method:i,url:"".concat(s,"?").concat(r(c))}:{cache:!1,data:r(c),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:i,url:s}).then((function(e){return e})).catch((function(e){throw e})).finally(t.dec)}("getLoyaltyStatus","POST","/webapi/guest/loyalty-status",a).then((function(e){return e}))}}}]},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$http","$locale","localeService",function(e,t,o){var a=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({hotelIds:null,imageCategoryCodes:"exterior",include:"relative_media, rating",preferredLocaleCode:t.id},o.getSiteNameObj());return{getHotels:function(t){var n=angular.copy(a);return n.hotelIds=t,e.get("/webapi/hotels/",{cache:!1,params:n})}}}]},function(e,t){e.exports=["$http","$locale","featureFlags","localeService","siteConfig",function(e,t,n,r,o){var a;return{deleteSsoData:function(){a=null},getExtoken:function(i,s){var c=n.IWSR_MASTER?"webapi/value/loyalty-exchange-token?loyaltyExchangePartnerCode=".concat(i,"&loyaltyAccountNumber=").concat(s,"&siteName=").concat(r.getCountryFromLocale(o.locale),"&preferredLocaleCode=").concat(t.id):"webapi/value/loyalty-exchange-token?loyaltyExchangePartnerCode=".concat(i,"&loyaltyAccountNumber=").concat(s);return e({cache:!1,method:"GET",url:c}).then((function(e){return a=e.data.token,e}))},getSsoData:function(){return a}}}]},function(e,t){e.exports=["$rootScope","$timeout","$window","eventsConst",function(e,t,n,r){var o=[],a=0;function i(e,r){"boolean"!=typeof r&&(r=!0),e.formatSettings.some((function(o){return n.innerWidth>=o.threshold&&(r?t((function(){e.callback(o.format)})):e.callback(o.format),!0)}))}return e.$on(r.PAGE_RESIZE,(function(){o.forEach((function(e){i(e)}))})),{addListener:function(e,t){var n={callback:t,formatSettings:e,id:a};return n.formatSettings.sort((function(e,t){return e.threshold<t.threshold?1:e.threshold>t.threshold?-1:0})),o.push(n),a++,n},checkListener:i,removeListener:function(e){o.some((function(t,n){return t.id===e&&(o.splice(n,1),!0)}))}}}]},function(e,t){e.exports=["$http","$q","$window","prerenderService",function(e,t,n,r){var o=[320,480,800,1280,1600,2048],a=function(e,t){for(var r=o.length-2,a=n.devicePixelRatio||1;r>=0&&e*a<=o[r];)r--;return o[(t&&Math.min(r,1)||r)+1]};return{getImageUrlObject:function(e){var t=e.lastIndexOf("/")+1,n=e,r=n.substring(0,t);return{fileName:n.substring(t),path:r}},getTargetImageUrl:function(e,t,n){var o=r.isRunningInPrerender()?a(0):a(t,n);return"".concat(e.path+o,"/").concat(e.fileName)},getTargetImageWidth:function(e,t,n){return r.isRunningInPrerender()?a(0):a(t,n)},preloadImage:function(e){var n=t.defer(),r=document.createElement("img"),o=function e(){n.resolve(),r.removeEventListener("load",e),r.removeEventListener("error",a)},a=function e(){n.reject(),r.removeEventListener("load",o),r.removeEventListener("error",e)};return r.addEventListener("load",o),r.addEventListener("error",a),r.src=e,r.complete&&o(),n.promise}}}]},function(e,t,n){e.exports=angular.module("chApp.siteOp",[n(850).name]).constant("siteOpConstant",n(73)).factory("siteOpHelper",n(140)).service("siteOpFunctionsService",n(167)).service("siteOpService",n(168)).component("chReactPropertyCard",n(877)).component("chReactReviewModal",n(878))},function(e,t,n){e.exports=angular.module("chApp.siteOp.directives",[n(851).name]).component("soBookRoomPriceDetailCard",n(855)).component("soGdpVisaLg2",n(857)).component("soPibRow",n(858)).component("soRoomTypeFilter",n(860)).component("soPriceTagDropdown",n(862)).component("soSearchPriceTypeFilter",n(864)).component("soReviewCard",n(865)).component("soSingleRoomFenced",n(867)).service("gdpCountdownTimerService",n(869)).service("priceTypeService",n(434)).service("soSmartBubbleService",n(435)).directive("soGdpCountdownTimer",n(870)).directive("soOmnitureClickTracking",n(436)).directive("soOmnitureCustomLinkTracking",n(437)).directive("soRateDescriptionModal",n(871)).controller("GuestDataSiteOpCtrl",n(872)).controller("SearchSiteOpCtrl",n(873)).controller("HotelSiteOpCtrl",n(874)).controller("RatesSiteOpCtrl",n(875)).controller("ReactPropertyRatesCtrl",n(79)).run(n(876))},function(e,t,n){e.exports=angular.module("chApp.siteOp.directives.gdpSavings",[]).component("soGdpSavings",n(852)).service("gdpSavingsService",n(854))},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports={bindings:{currency:"<",ratePlan:"<",rooms:"<"},controller:function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.currenciesConst=n,this.gdpSavingsService=r,this.ratesConst=o}var t,n,o;return e.$inject=["$element","currenciesConst","gdpSavingsService","ratesConst"],t=e,(n=[{key:"$onInit",value:function(){this.calculateAndSetTotals()}},{key:"$onChanges",value:function(e){this.checkForRoomRemoval(e),this.calculateAndSetTotals()}},{key:"$postLink",value:function(){(!this.checkCurrency()||!this.checkRatePlan()||this.totals.savingsTotal<=0)&&this.$element.remove()}},{key:"calculateAndSetTotals",value:function(){this.gdpSavingsService.calculateSavings(this.rooms),this.totals=this.gdpSavingsService.getGdpSavings()}},{key:"checkForRoomRemoval",value:function(e){if(e&&e.rooms&&e.rooms.previousValue>e.rooms.currentValue){var t=e.rooms.previousValue.filter((function(t){return e.rooms.currentValue.indexOf(t)<0}));this.gdpSavingsService.removeRackRoom(t)}}},{key:"checkCurrency",value:function(){return this.currency&&this.currency.toLowerCase()===this.currenciesConst.CURRENCY_CODES.USD.toLowerCase()}},{key:"checkRatePlan",value:function(){return this.ratePlan!==this.ratesConst.RATE_PLAN_CODES.PPC&&this.ratePlan!==this.ratesConst.RATE_PLAN_CODES.SRD&&this.ratePlan!==this.ratesConst.RATE_PLAN_CODES.RACK}}])&&r(t.prototype,n),o&&r(t,o),e}(),template:n(853)}},function(e,t){e.exports='<div ng-if="$ctrl.checkCurrency && $ctrl.checkRatePlan && $ctrl.totals.savingsTotal > 0">\n  <p>\n    <span class="pull-right">\n      <ch-price-tag\n          currency="$ctrl.currency"\n          currency-code="true"\n          cash="$ctrl.totals.rackTotal"\n          decimals="true">\n      </ch-price-tag>\n    </span>\n    <strong ng-if="!$root.featureFlags.SO_GDP_SAVINGS_V2">\n      <ng-pluralize count="$ctrl.rooms.length" when="$root.strings.guestData.roomChargeLabelPluralize"></ng-pluralize>\n    </strong>\n    <strong ng-if="$root.featureFlags.SO_GDP_SAVINGS_V2">\n      {{$root.strings.guestData.everydayRate}}:\n    </strong>\n  </p>\n\n  <p>\n    <span class="pull-right your-savings">\n      <ch-price-tag\n          currency="$ctrl.currency"\n          currency-code="true"\n          cash="-$ctrl.totals.savingsTotal"\n          decimals="true">\n      </ch-price-tag>\n    </span>\n    <strong class="your-savings">\n      {{$ctrl.ratePlan === $ctrl.ratesConst.RATE_PLAN_CODES.SCPM ?\n          $root.strings.guestData.memberDiscountLabel : $root.strings.guestData.yourSavingsLabel}}\n    </strong>\n  </p>\n</div>\n'},function(e,t,n){e.exports=["ratesInventory","ratesConst","sessionStorageHelper",function(e,t,r){var o=n(0),a={additional:0,nights:1,rackRooms:[],rackTotal:0,savingsTotal:0},i=r.getGdpSavings()||a;function s(e){return i.rackRooms&&i.rackRooms.find((function(t){return t.roomCode===e.roomCode||t.roomCode===e.code}))}function c(t,n){var r=e&&e.rackLocalCurrency&&e.rackLocalCurrency.roomStayCharges?e.rackLocalCurrency.roomStayCharges.find(o.byRoomCode(n.roomCode)):n.rates&&n.rates.find((function(e){return e.ratePlanCode===t&&e.avgNightlyBeforeTax}));return r&&(parseFloat(r.avgNightlyBeforeTax)||parseFloat(r.beforeTax))}function l(e,t){if((t=t||s(e)||{}).additional=+(e||{}).avgNightlyBeforeTax-(t||{}).discountPrice||0,t.discountPrice&&e.avgNightlyBeforeTax&&!(e.avgNightlyBeforeTax-t.additional>t.rackPrice))return t.additional>0?+e.nights*(t.additional+t.rackPrice):+e.nights*t.rackPrice}return{addRackRoom:function(e,n,r){var o={additional:0,discountPrice:c(n,e),nights:r,rackPrice:c(t.RATE_PLAN_CODES.RACK,e),roomCode:e.roomCode||e.code},a=i.rackRooms.indexOf(s(e));a>-1?i.rackRooms[a]=o:i.rackRooms.push(o)},calculateSavings:function(e){var t=[];i.rackTotal=0,i.savingsTotal=0,e.forEach((function(e){var n=s(e);if(n){var r=l(e,n);t.push(n),i.rackTotal+=r,i.savingsTotal+=r-+e.avgNightlyBeforeTax*n.nights}})),i.rackRooms=t,r.setGdpSavings(i)},clearGdpSavings:function(){i=a,r.deleteGdpSavings()},getGdpSavings:function(){return r.getGdpSavings()},getRackRoom:s,getRackTotal:l,getRatePlanPrice:c,removeRackRoom:function(e){var t=s(e);t&&i.rackRooms.splice(i.rackRooms.indexOf(t),1)}}}]},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cpUserData=t,this.featureFlags=n,this.ratesConst=r,this.roomRateHelper=o}var t,n,o;return e.$inject=["cpUserData","featureFlags","ratesConst","roomRateHelper"],t=e,(n=[{key:"hideNonMemberRate",value:function(){return Boolean(this.cpUserData.get().signedIn)}},{key:"$onInit",value:function(){var e=this.rates,t=this.inventory.ratePlans;if(this.occupancyExceeded=e.occupancyStatus===this.ratesConst.OCCUPANCY_STATUS.EXCEEDED,this.discount&&(this.discountAmount={cash:e.avgNightlyBeforeTax&&e.avgNightlyBeforeTax+(e.lastRoomEdited||e).extraBed.cost}),this.isRACK=0===e.ratePlanCode.indexOf("RACK")||0===e.ratePlanCode.indexOf("SCPM"),this.cancellationPolicy=t[e.ratePlanCode]&&t[e.ratePlanCode].cancellationPolicy,this.cancelExpired=t[e.ratePlanCode]&&t[e.ratePlanCode].cancelExpired||-1!==this.ratesConst.ADVANCE_PURCHASE_RATE_PLANS.indexOf(e.ratePlanCode),this.bookRoomId=this.discount?"BookRoom_Member_".concat(this.index):"BookRoom_".concat(this.index),this.omnitureClickTracking="BookRoom_".concat(this.index),this.featureFlags.FLASH_SALE_MERCHANDISING_DESKTOP){var n=t[e.ratePlanCode]&&(t[e.ratePlanCode].roomStayCharges||[])[0];this.percentDiscountLabel=this.roomRateHelper.getFlashSalePercentOffLabel(this.inventory.ratePlans,n)}}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports={bindings:{bookRoom:"&?",discount:"<",index:"<",inventory:"<",priceDisplayDescription:"<?",priceDisplayName:"<",rates:"=",searchCriteria:"=?",showModal:"<",showOccupancyInfo:"<?",type:"<?"},controller:o,template:n(856)}},function(e,t){e.exports='<div ng-if="!$ctrl.hideNonMemberRate()">\n  <div class="so-book-room-price-detail-card flex jc-space-between">\n    <div ng-if="$ctrl.percentDiscountLabel" class="flex-col flex-col text-semibold fs-14 jc-center ai-center percent-discount">{{$ctrl.percentDiscountLabel}}</div>\n    <div class="booking-text flex flex-col jc-center">\n      <div class="booking-text-block">\n        <div class="text-left">\n          <span class="price-title text-uppercase">{{$ctrl.priceDisplayName}}</span>\n          <a\n            ng-if="$ctrl.showModal"\n            ch-modal-link\n            ch-keyboard-click\n            aria-label="\'member price help\'"\n            href="/modal_member-price"\n            labelledby="memberPrice"\n            target-blank="true"\n            role="button"\n            >\n            <span class="ch-icon-info"></span>\n          </a>\n        </div>\n        <div>\n          <p class="price-subtitle text-left margin-bottom-0 fs-12">{{$ctrl.priceDisplayDescription}}</p>\n        </div>\n        <div>\n          <p ng-if="($ctrl.cancelExpired && !$ctrl.isRACK) || $ctrl.cancellationPolicy === \'NCXL\' " class="price-nonrefund text-left no-margin">\n            {{::$root.strings.reservation.errors.roomNonRefundable}}</p>\n          <p ng-if="!$ctrl.cancelExpired && $ctrl.cancellationPolicy !== \'NCXL\' " class="fs-10 text-left text-green-leaf text-bold no-margin">\n            <span class="ch-icon ch-icon-check-alone"></span>\n            {{::$root.strings.propertyRates.freeCancellationCug}}\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class="flex flex-col price-section">\n      <so-price-tag-dropdown\n        class="flex"\n        discount="$ctrl.discountAmount"\n        strike-rack-rate="$ctrl.inventory.ratePlans[\'RACK\'].roomStayCharges"\n        ng-class="{\'so-price-tag-dropdown-total\': $root.featureFlags.TOTAL_PRICE == true}"\n        extra-bed="$ctrl.rates.extraBed.cost"\n        room-rate="$ctrl.rates"\n        type="$ctrl.type"></so-price-tag-dropdown>\n      <div class="occupancy-info" ng-if="$ctrl.showOccupancyInfo">\n          <span>{{::$root.strings.guestData.for}}</span>\n          <ng-pluralize\n            class="occupancy-adults"\n            ng-if="$ctrl.searchCriteria.adults"\n            count="$ctrl.searchCriteria.adults"\n            when="::$root.strings.guestData.occupancyAdultsPluralize">\n          </ng-pluralize>\n          <ng-pluralize\n            class="occupancy-minors"\n            ng-if="$ctrl.searchCriteria.minors"\n            count="$ctrl.searchCriteria.minors"\n            when="::$root.strings.guestData.occupancyMinorsPluralize">\n          </ng-pluralize>\n      </div>\n      <div class="booking-price">\n        <button\n          class="btn-book text-uppercase btn"\n          ng-attr-id="{{$ctrl.bookRoomId}}"\n          ng-click="$ctrl.bookRoom()"\n          ng-disabled="$ctrl.occupancyExceeded"\n          so-omniture-click-tracking="{{$ctrl.omnitureClickTracking}}"\n        >{{::$root.strings.propertyRates.bookRoom}}</button>\n      </div>\n      <div ng-if="$root.featureFlags.TOTAL_PRICE && $ctrl.rates && !$ctrl.rates.taxInclusive">\n        <div class="so-estimated-total">\n          <span>{{::$root.strings.propertyRates.multiRoomSummaryRates.estimatedTotalAbbr}}:</span>\n          <span class="text-bold">\n            {{::$root.strings.propertyRates.estimatedTotalAndNights\n            .replace(\'{estimatedTotal}\',($ctrl.rates.beforeTax | currency :\'$\':0))\n            .replace(\'{totalNights}\', $ctrl.rates.nights)\n            }}\n          </span>\n        </div>\n        <div class="fs-10 text-uppercase">\n          <span>{{::$root.strings.propertyRates.taxesFeesNotIncluded}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.hideNonMemberRate()">\n  <div class="so-book-room-price-detail-card-alt flex">\n    <div class="booking-text flex flex-col jc-center">\n      <div class="booking-text-block">\n        <div>\n          <span class="price-title">{{$ctrl.priceDisplayName}}</span>\n        </div>\n      </div>\n      <div class="flex flex-col price-section">\n        <so-price-tag-dropdown\n          class="flex"\n          discount="$ctrl.discountAmount"\n          strike-rack-rate="$ctrl.inventory.ratePlans[\'RACK\'].roomStayCharges"\n          ng-class="{\'so-price-tag-dropdown-total\': $root.featureFlags.TOTAL_PRICE == true}"\n          extra-bed="$ctrl.rates.extraBed.cost"\n          room-rate="$ctrl.rates"\n          type="$ctrl.type"></so-price-tag-dropdown>\n        <div class="occupancy-info" ng-if="$ctrl.showOccupancyInfo">\n            <span>{{::$root.strings.guestData.for}}</span>\n            <ng-pluralize\n              class="occupancy-adults"\n              ng-if="$ctrl.searchCriteria.adults"\n              count="$ctrl.searchCriteria.adults"\n              when="::$root.strings.guestData.occupancyAdultsPluralize">\n            </ng-pluralize>\n            <ng-pluralize\n              class="occupancy-minors"\n              ng-if="$ctrl.searchCriteria.minors"\n              count="$ctrl.searchCriteria.minors"\n              when="::$root.strings.guestData.occupancyMinorsPluralize">\n            </ng-pluralize>\n        </div>\n        <div class="booking-price">\n          <button\n            class="btn-book text-uppercase btn"\n            ng-attr-id="{{$ctrl.bookRoomId}}"\n            ng-click="$ctrl.bookRoom()"\n            ng-disabled="$ctrl.occupancyExceeded"\n            so-omniture-click-tracking="{{$ctrl.omnitureClickTracking}}"\n          >{{::$root.strings.propertyRates.bookRoom}}</button>\n        </div>\n        <div ng-if="$root.featureFlags.TOTAL_PRICE && $ctrl.rates && !$ctrl.rates.taxInclusive">\n          <div class="so-estimated-total">\n            <span>{{::$root.strings.propertyRates.multiRoomSummaryRates.estimatedTotalAbbr}}:</span>\n            <span class="text-bold">\n              {{::$root.strings.propertyRates.estimatedTotalAndNights\n              .replace(\'{estimatedTotal}\',($ctrl.rates.beforeTax | currency :\'$\':0))\n              .replace(\'{totalNights}\', $ctrl.rates.nights)\n              }}\n            </span>\n          </div>\n          <div class="fs-10 text-uppercase">\n            <span>{{::$root.strings.propertyRates.taxesFeesNotIncluded}}</span>\n          </div>\n        </div>\n      </div>\n      <div>\n        <p ng-if="($ctrl.cancelExpired && !$ctrl.isRACK) || $ctrl.cancellationPolicy === \'NCXL\' " class="price-nonrefund text-left no-margin">\n          {{::$root.strings.reservation.errors.roomNonRefundable}}</p>\n        <p ng-if="!$ctrl.cancelExpired && $ctrl.cancellationPolicy !== \'NCXL\' " class="fs-10 text-green-leaf text-bold no-margin">\n          <span class="ch-icon ch-icon-check-alone"></span>\n          {{::$root.strings.propertyRates.freeCancellationCug}}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n\n'},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$window=t}var t,r,o;return e.$inject=["$window"],t=e,(r=[{key:"showWindow",value:function(){this.$window.open("https://www.barclaycardus.com/apply/Landing.action?campaignId=2248&cellNumber=17&referrerid=PTRFABP25","","width=1000,height=700")}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{guestData:"=",total:"="},controller:r,templateUrl:"/".concat(siteConfig.assetFingerprint,"/app/site-op/tests/alternative-cp-visa-layouts/lg2/so-gdp-visa-lg2").concat(siteConfig.fileSuffix,".html")}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,a,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exteriorImageIndexHelper=n,this.hotelImageHelper=o,this.searchUrlHelper=s,t.imageStatus={error:!1},t.pageId=this.pageId||null}var t,n,o;return e.$inject=["$scope","exteriorImageIndexHelper","featureFlags","hotelImageHelper","mapActiveHotelService","searchResultsMapService","searchUrlHelper"],t=e,(n=[{key:"$onInit",value:function(){var e=this.hotel,t=this.exteriorImageIndexHelper.getExteriorImageIndex(e.images);this.propertyPageUrl=this.searchUrlHelper.getPropertyPageUrl(e,!1),this.coverImage=e&&e.images&&e.images[t].thumbUrl,this.backupImage=e&&e.images&&e.images[t].backupUrl,this.merchandising=this.hotelImageHelper.getImageMerchandisingTag(e)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports={bindings:{hotel:"<",pageId:"<"},controller:o,template:n(859)}},function(e,t){e.exports='<div class="so-pib-row container">\n  <so-property-info-card page-id="pageId" ng-if="$root.featureFlags.SO_REDESIGN_PROPERTY_INFO_REACT"></so-property-info-card>\n  <div class="row" ng-if="!$root.featureFlags.SO_REDESIGN_PROPERTY_INFO_REACT">\n    <div class="pib-gallery col-xs-5 col-sm-4 col-md-3"\n      ch-gallery-lightbox\n      gallery-title="{{::$ctrl.hotel.name}}"\n      hotel-city="{{::$ctrl.hotel.address.city}}"\n      hotel-subdivision="{{::$ctrl.hotel.address.subdivision}}"\n      hotel-country="{{::$ctrl.hotel.address.country}}"\n      image-collection="$ctrl.hotel.images"\n      ng-click="chGallery.open()"\n      product-code="{{::$ctrl.hotel.productCode}}">\n      <div class="hotel-image-SVG2">\n        <ch-brand-logo\n          brand-code="{{::$ctrl.hotel.brandCode}}"\n          country-code="{{::$ctrl.hotel.address.country}}"\n          product-code="{{::$ctrl.hotel.productCode}}"\n          ng-if="::$root.isLogoEnabled($ctrl.hotel)"\n          size="xs"></ch-brand-logo>\n      </div>\n      <img\n        class="gallery-cover"\n        ng-if="!imageStatus.error"\n        ng-src="{{$ctrl.coverImage}}"\n        ch-image-error="{{$ctrl.backupImage}}">\n      <div\n        include-replace\n        ng-include="\'/\' + $root.assetFingerprint + \'/shared/image-fallback.html\'"\n        ng-if="imageStatus.error"></div>\n      <button class="btn btn-secondary btn-gallery-icon" ng-attr-aria-label="{{::$root.strings.general.carousel.linkLabel}}">\n        <span class="ch-icon ch-icon-camera"></span>\n      </button>\n      <div\n        class="merchandising-tag"\n        ng-if="$ctrl.merchandising && $ctrl.merchandising.label && $root.featureFlags.AMR_MASTER">\n        <span\n          class="badge"\n          alt="{{$ctrl.merchandising.label}}"\n          ng-class="{\n            \'badge-family\': $ctrl.merchandising.family,\n            \'badge-adults\': $ctrl.merchandising.adults\n          }">\n          {{$ctrl.merchandising.label}}\n        </span>\n      </div>\n    </div>\n    <div\n      class="col-xs-7 col-sm-8 col-lg-4"\n      ng-class="{\n        \'col-md-5\': !$root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_B && ! $root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_C,\n        \'col-md-3\': $root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_B || $root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_C\n      }">\n      <div ng-if="$root.featureFlags.SO_PROPERTY_INFO_BLADE">\n        <h3 class="h6" itemprop="name">\n          <a\n            ng-href="{{::$ctrl.propertyPageUrl}}"\n            data-seleniumid="propertyPageLink"\n            so-omniture-click-tracking\n            ng-attr-id="PropName">{{::$ctrl.hotel.name}}</a>\n        </h3>\n        <div\n          class="address"\n          ng-bind-html="::$ctrl.hotel.address | chAddress"\n          itemscope="itemscope"\n          itemprop="address"\n          itemtype="http://schema.org/PostalAddress">\n        </div>\n        <br />\n        <ch-ratings\n          class="reviews-link"\n          hotel="::$ctrl.hotel"\n          hotel-url="::$ctrl.propertyPageUrl"\n          model="$ctrl.hotel.rating"\n          display-review-modal="true"\n          tracking-id="\'Reviews_\' + index">\n        </ch-ratings>\n        <div\n          class="amenities"\n          ng-show="$ctrl.hotel.amenityGroups && $ctrl.hotel.amenityGroups.length">\n          <strong>{{::$root.strings.hotel.mapFeaturedAmenities}}:</strong>\n          <span>{{::$ctrl.hotel.amenityGroups | chAmenities:3:true}}</span>\n        </div>\n      </div>\n    </div>\n    <so-review-card hotel-id="$ctrl.hotel.id">\n  </div>\n</div>\n'},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.roomTypeFilter={isOpen:!1},this.strings=o;var a=o.propertyRates.roomTypeFilter.filterByRoomType;this.filterName=a,this.$filter=t,this.$window=r,this.$scope=n,this.divider={isDivider:!0}}var t,n,o;return e.$inject=["$filter","$scope","$window","strings"],t=e,(n=[{key:"$onInit",value:function(){var e=this.$filter,t=this.$scope,n=this.$window,r=this.strings.propertyRates.roomTypeFilter,o=r.accessible,a=r.allRooms,i=r.oneBed,s=r.suite,c=r.threePlusBeds,l=r.twoBeds;this.unfilteredRooms=e("filter")(this.rooms,{room:{isDivider:void 0}}),this.unfilteredRooms=e("orderBy")(this.unfilteredRooms,["+hadOccupancyErrorOnLoad","+beforeTax","+room.bedsDescription","+room.accessible"]),t.filterOptions=[a],e("filter")(this.unfilteredRooms,{room:{accessibleRoom:!0}}).length>0&&t.filterOptions.push(o),e("chBedNumber")(this.unfilteredRooms,1).length>0&&t.filterOptions.push(i),e("chBedNumber")(this.unfilteredRooms,2).length>0&&t.filterOptions.push(l),e("chBedNumber")(this.unfilteredRooms,3,{isMore:!0}).length>0&&t.filterOptions.push(c),e("filter")(this.unfilteredRooms,{room:{suite:!0}}).length>0&&t.filterOptions.push(s);var u=n.sessionStorage.getItem("bed_filter_selection");u?this.onFilterChange(u):this.rooms=this.unfilteredRooms}},{key:"onFilterChange",value:function(e){this.$window.sessionStorage.setItem("bed_filter_selection",e);var t,n,r=this.$filter,o=this.unfilteredRooms,a=this.strings.propertyRates.roomTypeFilter,i=a.accessible,s=a.allRooms,c=a.oneBed,l=a.showing,u=a.showingRoomsWithType,d=a.showingTypeRooms,p=a.suite,h=a.threePlusBeds,m=a.twoBeds;switch(e){case s:return this.filterName=l.replace("{type}",e),void(this.rooms=r("orderBy")(o,["+hadOccupancyErrorOnLoad","+beforeTax","+room.bedsDescription","+room.accessible"]));case i:this.filterName=d.replace("{type}",e),n=r("filter")(o,{room:{accessibleRoom:!0}}),t=r("filter")(o,{room:{accessibleRoom:!1}});break;case c:this.filterName=u.replace("{type}",e),n=r("chBedNumber")(o,1),t=r("chBedNumber")(o,1,{reverse:!0});break;case m:this.filterName=u.replace("{type}",e),n=r("chBedNumber")(o,2),t=r("chBedNumber")(o,2,{reverse:!0});break;case h:this.filterName=u.replace("{type}",e),n=r("chBedNumber")(o,3,{isMore:!0}),t=r("chBedNumber")(o,3,{isMore:!0,reverse:!0});break;case p:this.filterName=d.replace("{type}",e),n=r("filter")(o,{room:{suite:!0}}),t=r("filter")(o,{room:{suite:!1}})}n=r("orderBy")(n,["+hadOccupancyErrorOnLoad","+beforeTax","+room.bedsDescription","+room.accessible"]),t.length>0?(t=r("orderBy")(t,["+hadOccupancyErrorOnLoad","+beforeTax","+room.bedsDescription","+room.accessible"]),this.rooms=n.concat(this.divider).concat(t)):this.rooms=n}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports={bindings:{rooms:"="},controller:o,template:n(861)}},function(e,t){e.exports='<div\n  is-open="roomTypeFilter.isOpen"\n  class="text-orange text-left padding-bottom-10 text-semibold"\n  on-toggle="isRoomTypeFilterDropdownOpen = !isRoomTypeFilterDropdownOpen"\n  uib-dropdown\n  keyboard-nav\n>\n  <button\n    ng-attr-id="selectFilter_{{option}}"\n    so-omniture-click-tracking\n    aria-haspopup="true"\n    class="btn-reset dropdown-toggle text-capitalize"\n    ng-attr-aria-expanded="{{roomTypeFilter.isOpen}}"\n    type="button"\n    uib-dropdown-toggle\n  >\n    <span>{{$ctrl.filterName}}</span>\n    <span\n      aria-hidden="true"\n      class="ch-icon"\n      ng-class="{\n        \'ch-icon-chevron-down\': !roomTypeFilter.isOpen,\n        \'ch-icon-chevron-up\': roomTypeFilter.isOpen,\n      }"\n    />\n  </button>\n  <ul\n    role="menu"\n    uib-dropdown-menu\n  >\n    <li role="presentation" ng-repeat="option in filterOptions">\n      <a\n        href=""\n        so-omniture-click-tracking\n        ng-attr-id="selectOption_{{option}}"\n        role="menuitem"\n        ng-click="$ctrl.onFilterChange(option)">\n        {{option}}\n      </a>\n    </li>\n  </ul>\n</div>\n'},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureFlags=t,this.isOpen=!1,this.occupancyExceeded=!1,this.ratesConst=n,this.discount&&(this.discountAmount=this.discount.cash),this.featureFlags.SO_RACK_STRIKETHRU&&this.strikeRackRate&&this.strikeRackRate.length&&(this.roomRate.ratePlanCode.indexOf("SAPR")>-1||this.roomRate.ratePlanCode.indexOf("SP")>-1)){var o=this.strikeRackRate.find((function(e){return e.roomCode===r.roomRate.roomCode}));o&&o.avgNightlyBeforeTax&&(this.discountAmount=o.avgNightlyBeforeTax)}}var t,n,o;return e.$inject=["featureFlags","ratesConst"],t=e,(n=[{key:"$onInit",value:function(){var e=this.roomRate,t=e.avgNightlyBeforeTax,n=e.avgNightlyPoints,r=e.childRates,o=e.currencyCode,a=e.lastRoomEdited;e.occupancyStatus===this.ratesConst.OCCUPANCY_STATUS.EXCEEDED?(this.occupancyExceeded=!0,this.cash=e.childRates[0].avgNightlyBeforeTax):this.cash=this.discount?t&&(r&&r.length&&r[0].avgNightlyBeforeTax||t)+(this.extraBed||0):t&&t+(a||e).extraBed.cost,this.currency=o,this.decimals=!1,this.points=n,this.isLongString=this.points>=1e4,this.roomRate.nightlyRates&&this.roomRate.nightlyRates.length&&(this.nightlyRates=this.roomRate.nightlyRates)}},{key:"$onChanges",value:function(e){if(e&&void 0!==e.extraBed&&e.extraBed.currentValue!==e.extraBed.previousValue){var t=e.extraBed.currentValue;this.roomRate.addedRooms&&this.roomRate.addedRooms.forEach((function(e){e.extraBed.cost>t&&(t=e.extraBed.cost)})),this.cash=this.getDisplayAmount(this.roomRate,this.discount)}}},{key:"getDisplayAmount",value:function(e,t){var n=e.avgNightlyBeforeTax,r=e.childRates,o=e.lastRoomEdited;return t?n&&(r&&r.length&&r[0].avgNightlyBeforeTax||n)+(this.extraBed||0):n&&n+(o||e).extraBed.cost}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports={bindings:{discount:"=",extraBed:"<",roomRate:"=",strikeRackRate:"=",type:"<?"},controller:o,template:n(863)}},function(e,t){e.exports='<div ng-class="{\n    \'so-price-tag-dropdown\': !$ctrl.type,\n    \'so-price-tag-dropdown-fenced\': $ctrl.type === \'fenced\',\n  }">\n  <div\n    class="h1 price text-orange fs-28 so-dropdown-text nowrap"\n    ng-if="!$ctrl.nightlyRates.length">\n    \x3c!-- member discount price--\x3e\n    <ch-price-tag\n      ng-if="$ctrl.discount"\n      currency="$ctrl.currency"\n      points="$ctrl.points"\n      cash="$ctrl.cash"\n      discount="$ctrl.discountAmount"\n      decimals="$ctrl.decimals">\n    </ch-price-tag>\n    \x3c!-- non-member price--\x3e\n    <ch-price-tag\n      ng-if="!$ctrl.discount && !$ctrl.occupancyExceeded"\n      currency="$ctrl.currency"\n      points="$ctrl.points"\n      cash="$ctrl.cash"\n      discount="$ctrl.discountAmount"\n      decimals="$ctrl.decimals">\n    </ch-price-tag>\n  </div>\n  <div\n    uib-dropdown\n    on-toggle="$ctrl.isOpen = !$ctrl.isOpen"\n    ng-class="{\n      \'so-dropdown-container\': !$ctrl.type,\n      \'so-dropdown-container-fenced\': $ctrl.type === \'fenced\',\n      \'with-cash\': $ctrl.cash,\n      \'without-cash\': !$ctrl.cash,\n    }"\n    ng-if="$ctrl.nightlyRates.length">\n    <div class="rates-top-border" ng-class="{\'rates-top-open\': $ctrl.isOpen}">\n      <button\n        uib-dropdown-toggle\n        class="btn-reset dropdown-toggle"\n        aria-expanded="false">\n        <div class="h1 price text-orange so-dropdown">\n          <span\n            class="ch-icon"\n            ng-class="{\n            \'has-point\': $ctrl.points,\n            \'ch-icon-chevron-down\': !$ctrl.isOpen,\n            \'ch-icon-chevron-up\': $ctrl.isOpen,\n            \'long-string\': $ctrl.isLongString,\n            \'short-string\': !$ctrl.isLongString,\n            \'cash-only-no-discount\': $ctrl.cash && !$ctrl.points && !$ctrl.discountAmount\n          }"></span>\n          <ch-price-tag\n            currency="$ctrl.currency"\n            points="$ctrl.points"\n            cash="$ctrl.cash"\n            discount="$ctrl.discountAmount"\n            decimals="$ctrl.decimals">\n          </ch-price-tag>\n        </div>\n      </button>\n    </div>\n    <div\n      uib-dropdown-menu\n      class="dropdown-block text-center nightly-rate-container"\n      ng-class="{\n        \'rates-menu-open\': $ctrl.isOpen,\n        \'with-cash\': $ctrl.cash,\n        \'without-cash\': !$ctrl.cash,\n        \'cash-only-no-discount\': $ctrl.cash && !$ctrl.points && !$ctrl.discountAmount\n      }">\n      <ul class="nightly-rates">\n        <li\n          class="flex flex-row jc-space-between fs-12"\n          ng-repeat="nightlyRate in $ctrl.nightlyRates">\n          <div class="nightly-rate-item-date text-left full-width">\n            {{::nightlyRate.date}}\n          </div>\n          <div class="nightly-rate-item-price text-right">\n            <ch-price-tag\n              points="nightlyRate.points"\n              currency="$ctrl.roomRate.currencyCode"\n              cash="nightlyRate.cash &&\n                (nightlyRate.cash + ($ctrl.roomRate.lastRoomEdited || $ctrl.roomRate).extraBed.cost)"\n              decimals="false">\n            </ch-price-tag>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n'},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootScope=t,this.priceTypeService=n}var t,r,o;return e.$inject=["$rootScope","priceTypeService"],t=e,(r=[{key:"filterPrice",value:function(e){"SRD"===e.ratePlanCode?this.priceTypeService.setPreviousRatePlan():"RACK"===e.ratePlanCode&&this.priceTypeService.getPreviousRatePlan()&&(e.ratePlanCode=this.priceTypeService.getPreviousRatePlan()),this.$rootScope.$emit("priceTypeChanged",e),this.checkedIndex=e.index}},{key:"setButtonText",value:function(e){this.typeText=1===e?"Price Per Night (Incl. Taxes & Fees)":2===e?"Total Price (Incl. Taxes & Fees)":3===e?"Choice Privileges Reward Points":"Price Per Night"}},{key:"shouldRender",value:function(){return!this.priceTypeService.isGroupRate()}},{key:"$onInit",value:function(){this.checkedIndex=this.priceTypeService.getPriceType(),this.setButtonText(this.checkedIndex)}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{variant:"@"},controller:r,templateUrl:["$attrs","siteConfig",function(e,t){return"/".concat(t.assetFingerprint,"/app/site-op/tests/search-price-type-filter/search-price-type-filter-").concat(e.variant,".html")}]}},function(e,t,n){var r=["bazaarvoiceHelper",function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.getReviews(this.hotelId).then((function(e){if(e.Includes.Products&&e.Includes.Products[n.hotelId]){var t=e.Includes.Products[n.hotelId];n.recommendPercentage=Math.round(t.ReviewStatistics.RecommendedCount/t.TotalReviewCount*100,.1),n.secondaryRatingsAverages=t.ReviewStatistics.SecondaryRatingsAverages;for(var r=Object.keys(n.secondaryRatingsAverages),o=0;o<r.length;o++){var a=r[o],i=n.secondaryRatingsAverages[a].AverageRating.toFixed(1),s="".concat(i/5*100,"%");n[a]={average:i,style:s}}n.showReviewCard=!0}else n.showReviewCard=!1}))}];e.exports={bindings:{hotelId:"<"},controller:r,template:n(866)}},function(e,t){e.exports='<div class="so-review-card col-xs-12 col-md-6 col-lg-5" ng-if="$ctrl.showReviewCard">\r\n  <div class="row experience-c" ng-if="$root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_C && !$root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_B">\r\n    <div class="col-xs-5 col-sm-4 col-md-5">\r\n      <div class="recommend-container margin-top-0">\r\n        <div class="rec-percent">{{$ctrl.recommendPercentage}}%</div>\r\n        <span class=\'fs-15\'>{{::$root.strings.hotel.detail.reviews.percentOfGuestsRecommendThisHotelFirst}}<br>{{::$root.strings.hotel.detail.reviews.percentOfGuestsRecommendThisHotelSecond}}</span>\r\n      </div>\r\n    </div>\r\n    <div class="col-xs-7 col-sm-8 col-md-7">\r\n      <div class="rate-card-container">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.RoomCondition}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.RoomCondition.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.RoomCondition.average}}/5</div>\r\n        </div>\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.CleanlinessV2}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{ \'width\' : \'\'+ $ctrl.Cleanliness.style + \'\' }"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Cleanliness.average}}/5</div>\r\n        </div>\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.Facilities}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{ \'width\': \'\'+ $ctrl.Facilities.style + \'\' }"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Facilities.average}}/5</div>\r\n        </div>\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.StaffService}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.StaffService.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.StaffService.average}}/5</div>\r\n        </div>\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.Value}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Value.style + \'\' }"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Value.average}}/5</div>\r\n        </div>\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15"> {{::$root.strings.hotel.detail.reviews.secondaryRatings.Wifi}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Wifi.style + \'\' }"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Wifi.average}}/5</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="row experience-b" ng-if="$root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_B && !$root.featureFlags.SO_RATES_PROPERTY_RATING_EXPERIENCE_C">\r\n    <div class="row">\r\n      <div class="col-xs-12">\r\n        <div class="recommend-container margin-top-0">\r\n          <div class="fs-20">\r\n            {{$ctrl.recommendPercentage}}%\r\n            <span class=\'fs-15\'>{{::$root.strings.hotel.detail.reviews.percentOfGuestsRecommendThisHotel}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.RoomCondition}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.RoomCondition.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.RoomCondition.average}}/5</div>\r\n        </div>\r\n      </div>\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.CleanlinessV2}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Cleanliness.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Cleanliness.average}}/5</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.Facilities}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Facilities.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Facilities.average}}/5</div>\r\n        </div>\r\n      </div>\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.StaffService}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.StaffService.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.StaffService.average}}/5</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.Value}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Value.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Value.average}}/5</div>\r\n        </div>\r\n      </div>\r\n      <div class="col-xs-6">\r\n        <div class="rating-container margin-top-10">\r\n          <div class="rate-label fs-15">{{::$root.strings.hotel.detail.reviews.secondaryRatings.Wifi}}</div>\r\n          <div class="progress-bar">\r\n            <div class="progression" ng-style="{\'width\' : \'\' + $ctrl.Wifi.style + \'\'}"></div>\r\n          </div>\r\n          <div class="rating fs-12 margin-left-5">{{$ctrl.Wifi.average}}/5</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$uibModal=n,this.cpUserData=r,this.featureFlags=o,this.siteConfig=a,this.strings=i}var t,n,o;return e.$inject=["$scope","$uibModal","cpUserData","featureFlags","siteConfig","strings"],t=e,(n=[{key:"hideNonMemberRate",value:function(){return Boolean(this.cpUserData.get().signedIn)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports={bindings:{addRoom:"=",bookRoom:"=",cart:"=",index:"<",inventory:"=",openBookingMessageModal:"=",removeRoom:"=",roomRate:"=",searchCriteria:"=?",showOccupancyInfo:"<?",validateAgeOfMinors:"="},controller:o,template:n(868)}},function(e,t){e.exports='<div class="so-single-room-fenced">\n  <label\n    class="rates-social-proofing text-deep-blue text-bold fs-13"\n    ng-class="$ctrl.isNonMemberRateHidden ? \'non-member-rate-hidden-padding\':\'padding-right-20\'"\n    ng-show="$ctrl.roomRate.available <= $root.chConstants.rates.SOCIAL_PROOFING_MAX_ROOMS">\n    <ng-pluralize\n      count="$ctrl.roomRate.available"\n      when="::$root.strings.propertyRates.roomsLeftPluralize">\n    </ng-pluralize>\n  </label>\n    <so-book-room-price-detail-card\n      discount="true"\n      price-display-name="$root.strings.search.item.memberPrice"\n      price-display-description="$root.strings.search.item.joinFree"\n      rates="$ctrl.roomRate"\n      show-modal="true"\n      book-room="$ctrl.bookRoom(true)"\n      index="$ctrl.index"\n      inventory="$ctrl.inventory"\n      type="\'fenced\'"\n      search-criteria="$ctrl.searchCriteria"\n      show-occupancy-info="$ctrl.showOccupancyInfo"\n    ></so-book-room-price-detail-card>\n    <div ng-if="!$ctrl.hideNonMemberRate()">\n      <so-book-room-price-detail-card\n      discount="false"\n      price-display-name="$root.strings.search.item.guestPrice"\n      rates="$ctrl.roomRate"\n      show-modal="false"\n      book-room="$ctrl.bookRoom()"\n      index="$ctrl.index"\n      inventory="$ctrl.inventory"\n      search-criteria="$ctrl.searchCriteria"\n      show-occupancy-info="$ctrl.showOccupancyInfo"\n      type="\'fenced\'"\n      ></so-book-room-price-detail-card>\n    </div>\n</div>\n'},function(e,t){e.exports=["$document","$interval","$location","$rootScope","$uibModal","$window","analyticsManager","ariaHiddenHelper","checkoutContextData","checkoutService","eventsConst","featureFlags","globalLoaderCounter","guestdataConst","localeService","siteConfig","userService",function(e,t,n,r,o,a,i,s,c,l,u,d,p,h,m,f,g){var v,y,C,R,b,P=d.IWSR_MASTER?h.TIMER.START_MINUTES:30,E=!1,S=!1,A={visible:{}};function T(){A.endTime||(A.endTime=new Date(Date.now()+6e4*P).getTime()),$()}function O(e){b=e,T(),D(),M(),y||(y=t($,1e3))}function I(){t.cancel(y),D(),M(),y=null}function $(){var e=(new Date).getTime(),t=Math.floor((A.endTime-e)/1e3/60)-15,n=Math.floor((A.endTime-e)/1e3%60);if(t<0?(A.visible.minutes=0,A.visible.seconds=0):(A.visible.minutes=t,A.visible.seconds=n),A.visible.minutes||A.visible.seconds||S||E||d.SO_URGENCY_TIMER_ONLY||(r.$emit(u.BOOKING_URGENCY.HOLD_ROOM,!0),(v=o.open({backdrop:"static",scope:b,size:"md",templateUrl:"/".concat(f.assetFingerprint,"/app/site-op/tests/gdp-countdown-timer/site-op-gdp-countdown-timer.modal.html")})).opened.then((function(){E=!0,w()})),v.result.then((function(){i.clickTracking.value="ContinueBTN",r.$emit(u.BOOKING_URGENCY.HOLD_ROOM,!1),E=!1,s.restore(),I(),_(),O()}))),A.endTime<=e&&!S||d.SO_URGENCY_TIMER_ONLY&&!A.visible.minutes&&!A.visible.seconds&&!S)return r.$emit(u.BOOKING_URGENCY.SESSION_TIMEOUT,!0),D(),void x();1!==A.visible.minutes||0!==A.visible.seconds||d.SO_URGENCY_TIMER_ONLY||_()}function _(){var e=g.refresh();Object.keys(c.get()).length&&(C=angular.copy(c.get())),e&&(p.inc(),e.finally(p.dec)),p.inc(),l.updateRoomInReservation(C,1).catch(x).finally(p.dec)}function x(){(R=o.open({backdrop:"static",scope:b,size:"md",templateUrl:"/".concat(f.assetFingerprint,"/app/site-op/tests/gdp-countdown-timer/site-op-gdp-countdown-timer-rates-request.modal.html"),windowTemplateUrl:"/".concat(f.assetFingerprint,"/app/bootstrap-ui/modal/generic.modal-window.html")})).rendered.then((function(){S=!0,w()})),R.closed.then((function(){i.clickTracking.value="ContinueBTN",S=!1,I(),s.restore(),c.clear(),a.history.back()}))}function D(){v&&(E=!1,v.dismiss())}function M(){R&&(S=!1,R.dismiss())}function w(){var t=e[0].querySelector("#modal-content");s.isolate(t),t.focus()}return T(),{refreshSession:_,resetEndTime:function(){A.endTime=null},startCountdown:O,stopCountdown:I,timer:A}}]},function(e,t){e.exports=["featureFlags","gdpCountdownTimerService","siteConfig",function(e,t,n){return{link:function(e){e.$on("$locationChangeStart",(function(){t.stopCountdown(),t.resetEndTime()})),e.labelledby="countDownTimer",t.startCountdown(e),e.timer=t.timer},replace:!0,restrict:"A",templateUrl:"/".concat(n.assetFingerprint,"/app/site-op/tests/gdp-countdown-timer/site-op-gdp-countdown-timer.html")}}]},function(e,t){e.exports=["modalService",function(e){return{link:function(t,n){angular.element(n[0].querySelector(".rate-description-modal")).on("click",(function(){e.openModal({element:n[0].querySelector(".rate-description-modal"),label:t.label||"",labelledBy:t.labelledBy||!t.label&&Date.now()||"",size:"lg",template:'\n            <div>\n              <h2 class="text-no-transform text-semibold fs-20">'.concat(t.ratePlanName,"</h2>\n              <p>").concat(t.rateDescription,"</p>\n            </div>\n          ")},t)}))},restrict:"E",scope:{rateDescription:"=",ratePlanName:"="},template:'\n    <button type="button" class="btn-reset rate-description-modal">\n      <span class="ch-icon ch-icon-info fs-18"></span>\n    </button>\n  '}}]},function(e,t){e.exports=["$controller","$document","$filter","$http","$locale","$location","$q","$rootScope","$sce","$scope","$sessionStorage","$state","$timeout","$transitions","$uibModal","$window","ariaHiddenHelper","barclaysApplicationConst","barclaysService","bingLocationApiConst","bingValidationService","brandConst","checkoutContextData","cookieHelper","countryDataUtils","cpUserData","cpVisaEligibilityService","currencyHelper","creditCardTypeDetectionService","dateHelper","deviceConst","exteriorImageIndexHelper","eventsConst","featureFlags","gdpSavingsService","globalLoaderCounter","guestdataAnalytics","GuestdataBookingGroupCreationService","GuestdataBookingGroupPickupService","GuestdataBookingPpcService","GuestdataBookingService","guestdataConst","guestdataFormatter","guestInfoHelper","localeService","modalService","omniture","omnitureConst","pageEventsHelper","pagesConst","pageMetaData","patternsConst","pricingDetails","ratesInventory","ratesConst","ratePlanHelper","reactConst","reactHelper","rapidBookService","scrollHelper","searchCriteriaData","sessionStorageHelper","siteConfig","strings","thirdPartyMarketingService","travelAgentService","values",function(e,t,n,r,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_,x,D,M,w,N,L,k,F,H,U,B,G,j,V,Y,W,q,K,X,z,Z,J,Q,ee,te,ne,re,oe,ae,ie,se,ce,le,ue,de,pe){if(l.shouldLoadReactMobile=M.MW_GUEST_DATA_PAGE&&ce.deviceType===_.MOBILE,l.shouldLoadReactDesktop=M.REACT_GDP&&ce.deviceType===_.DESKTOP,l.shouldLoadReact=l.shouldLoadReactMobile||l.shouldLoadReactDesktop,l.shouldLoadReactMobile){var he=angular.element(t[0].getElementsByTagName("ch-mobile-header")[0]);he.addClass("hidden"),h.onStart({},(function(){he.removeClass("hidden")})),angular.extend(this,e("ReactGuestDataPageMobileCtrl",{$location:a,$rootScope:s,$scope:l,$sessionStorage:u,$timeout:p,$window:f,reactConst:ne,reactHelper:re}))}else l.shouldLoadReactDesktop?angular.extend(this,e("ReactGuestDataCtrl",{$scope:l,$timeout:p,$window:f,pageMetaData:z,reactHelper:re,strings:le})):angular.extend(this,e("GuestDataPageCtrl",{$document:t,$http:r,$locale:o,$location:a,$q:i,$rootScope:s,$sce:c,$scope:l,$timeout:p,$transitions:h,$uibModal:m,$window:f,GuestdataBookingGroupCreationService:k,GuestdataBookingGroupPickupService:F,GuestdataBookingPpcService:H,GuestdataBookingService:U,ariaHiddenHelper:g,barclaysApplicationConst:v,barclaysService:y,bingLocationApiConst:C,bingValidationService:R,brandConst:b,checkoutContextData:P,cookieHelper:E,countryDataUtils:S,cpUserData:A,cpVisaEligibilityService:T,creditCardTypeDetectionService:I,currencyHelper:O,dateHelper:$,deviceConst:_,eventsConst:D,exteriorImageIndexHelper:x,featureFlags:M,gdpSavingsService:w,globalLoaderCounter:N,guestInfoHelper:j,guestdataAnalytics:L,guestdataConst:B,guestdataFormatter:G,localeService:V,modalService:Y,omniture:W,omnitureConst:q,pageEventsHelper:K,pagesConst:X,patternsConst:Z,pricingDetails:J,rapidBookService:oe,ratePlanHelper:te,ratesConst:ee,ratesInventory:Q,scrollHelper:ae,searchCriteriaData:ie,sessionStorageHelper:se,siteConfig:ce,strings:le,thirdPartyMarketingService:ue,travelAgentService:de,values:pe}))}]},function(e,t){e.exports=["$controller","$document","$location","$q","$rootScope","$scope","$state","$timeout","$window","deviceConst","domHelper","eventsConst","featureFlags","mapActiveHotelService","omniture","omnitureConst","pageEventsHelper","pagesConst","prerenderService","ratesConst","reactHelper","resortBannerAnalytics","searchAnalytics","searchConst","searchDataService","searchResults","searchResultsMapService","searchResultsService","searchUpdateMetadata","siteConfig","siteOpService",function(e,t,n,r,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_){a.siteConfig=$,a.searchResults=A,a.shouldLoadReactDesktop=p.REACT_SEARCH_PAGE&&$.deviceType===l.DESKTOP,a.shouldLoadReactMobile=p.MW_SEARCH_RESULTS_PAGE&&$.deviceType===l.MOBILE,a.shouldLoadReact=a.shouldLoadReactDesktop||a.shouldLoadReactMobile,a.shouldLoadReactMobile?angular.extend(this,e("ReactSearchPageMobileCtrl",{$rootScope:o,$scope:a,$timeout:s,$window:c,pagesConst:v,searchResults:A})):a.shouldLoadReactDesktop?angular.extend(this,e("ReactSearchPageDesktopCtrl",{$scope:a,$timeout:s,$window:c,reactHelper:R,searchResults:A})):angular.extend(this,e("SearchPageCtrl",{$document:t,$location:n,$q:r,$rootScope:o,$scope:a,$state:i,$timeout:s,$window:c,deviceConst:l,domHelper:u,eventsConst:d,featureFlags:p,mapActiveHotelService:h,omniture:m,omnitureConst:f,pageEventsHelper:g,pagesConst:v,prerenderService:y,ratesConst:C,resortBannerAnalytics:b,searchAnalytics:P,searchConst:E,searchDataService:S,searchResults:A,searchResultsMapService:T,searchResultsService:O,searchUpdateMetadata:I,siteConfig:$,siteOpService:_}))}]},function(e,t){e.exports=["$anchorScroll","$controller","$document","$filter","$location","$locale","$q","$rootScope","$scope","$state","$stateParams","$timeout","$uibModal","$window","amenitiesHelper","analyticsManager","apiParamsHelper","ariaHiddenHelper","brandConst","breadcrumbsHelper","cookieConst","cookieHelper","cpUserData","dateHelper","deviceConst","domHelper","eventsConst","exteriorImageIndexHelper","featureFlags","formHelper","globalLoaderCounter","groupInfo","historyStackHelper","hotel","hotelAnalytics","hotelConst","hotelImageHelper","hotelResponseTransformerHelper","hotelService","hotelStartingRates","hotelStartingRatesService","loadScript","localeService","locationHelper","multiRoomHelper","objectHelper","omniture","omnitureConst","pageEventsHelper","pagesConst","prerenderService","priceHelper","propertyRatesJoinAnalytics","propertyRatesMobile","propertyRatesRooms","propertyRatesSeparateAnalytics","ratesConst","ratesInventory","reactConst","reactHelper","reviews","roomkeyService","routeConst","searchConst","searchCriteriaData","searchUpdateMetadata","searchUrlHelper","selectedLangData","sessionStorageHelper","siteConfig","siteOpService","strings","urlParserService","userActivityDetailsService",function(e,t,n,r,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_,x,D,M,w,N,L,k,F,H,U,B,G,j,V,Y,W,q,K,X,z,Z,J,Q,ee,te,ne,re,oe,ae,ie,se,ce,le,ue,de,pe,he,me,fe,ge,ve,ye,Ce){c.siteConfig=fe,c.loadReact=I.REACT_FALLBACK&&fe.deviceType!==S.MOBILE||I.MW_PROPERTY_PAGE&&fe.deviceType===S.MOBILE,c.loadReact?angular.extend(this,t("ReactPropertyPageCtrl",{$location:o,$rootScope:s,$scope:c,$stateParams:u,$timeout:d,$window:h,deviceConst:S,eventsConst:T,featureFlags:I,globalLoaderCounter:_,hotel:M,hotelStartingRates:H,loadScript:B,prerenderService:z,reviews:ie,searchUpdateMetadata:de,siteConfig:fe,siteOpService:ge,strings:ve})):(I.SO_MOB_PRATES_NEW_JOIN||I.SO_MOB_PRATES_NEW_SEPARATE)&&fe.deviceType===S.MOBILE?angular.extend(this,t("PropertyRatesCtrl",{$anchorScroll:e,$document:n,$filter:r,$location:o,$rootScope:s,$scope:c,$state:l,$stateParams:u,$timeout:d,analyticsManager:f,domHelper:A,eventsConst:T,featureFlags:I,formHelper:$,globalLoaderCounter:_,historyStackHelper:D,hotel:M,hotelImageHelper:L,hotelService:F,hotelStartingRatesService:U,locationHelper:j,objectHelper:Y,omniture:W,omnitureConst:q,pageEventsHelper:K,pagesConst:X,priceHelper:Z,propertyRatesJoinAnalytics:J,propertyRatesMobile:Q,propertyRatesRooms:ee,propertyRatesSeparateAnalytics:te,ratesConst:ne,ratesInventory:re,reviews:ie,routeConst:ce,searchConst:le,searchCriteriaData:ue,searchUpdateMetadata:de,searchUrlHelper:pe,selectedLangData:he,sessionStorageHelper:me,urlParserService:ye})):angular.extend(this,t("HotelPageCtrl",{$document:n,$filter:r,$locale:a,$location:o,$q:i,$rootScope:s,$scope:c,$state:l,$stateParams:u,$uibModal:p,$window:h,amenitiesHelper:m,apiParamsHelper:g,ariaHiddenHelper:v,brandConst:y,breadcrumbsHelper:C,cookieConst:R,cookieHelper:b,cpUserData:P,dateHelper:E,deviceConst:S,eventsConst:T,exteriorImageIndexHelper:O,featureFlags:I,formHelper:$,globalLoaderCounter:_,historyStackHelper:D,hotel:M,hotelAnalytics:w,hotelConst:N,hotelImageHelper:L,hotelResponseTransformerHelper:k,hotelService:F,hotelStartingRates:H,hotelStartingRatesService:U,localeService:G,locationHelper:j,multiRoomHelper:V,omniture:W,omnitureConst:q,pageEventsHelper:K,pagesConst:X,prerenderService:z,priceHelper:Z,ratesConst:ne,reactConst:oe,reactHelper:ae,reviews:ie,roomkeyService:se,searchConst:le,searchCriteriaData:ue,searchUpdateMetadata:de,searchUrlHelper:pe,selectedLangData:he,sessionStorageHelper:me,siteConfig:fe,strings:ve,urlParserService:ye,userActivityDetailsService:Ce}))}]},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["$controller","$filter","$location","$q","$rootScope","$sce","$scope","$state","$timeout","$uibModal","$window","apiParamsHelper","bedConst","breadcrumbsHelper","checkoutContextData","checkoutService","checkoutServiceHelper","cpUserData","dateFilter","dateHelper","deviceConst","eventsConst","featureFlags","formHelper","globalLoaderCounter","groupInfo","groupService","guestdataConst","guestdataFormatter","handleRatesPageLoaded","hotel","hotelService","locationHelper","multiRoomHelper","omniture","pageEventsHelper","pagesConst","propertyRatesMobile","ratePlanHelper","ratesCart","ratesConst","ratesInventory","ratesNewAnalytics","reactConst","reactHelper","roomkeyService","searchConst","searchCriteriaData","searchHelper","searchUpdateMetadata","selectedLangData","sessionStorageHelper","siteConfig","travelAgentService","urlParserService",function(e,t,r,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_,x,D,M,w,N,L,k,F,H,U,B,G,j,V,Y,W,q,K,X,z,Z,J,Q,ee,te){function ne(e){return function(){var t=s.inventory&&s.inventory.ratePlans||s.results&&s.results.stay&&s.results.stay.rates;if(t){var r=n({},t);r.SCPM&&(r.SCPM=H.dynamicRateChange(r.SCPM,e)),s.inventory?s.inventory.ratePlans=r:(s.results.stay.rates=r,s.updateRateSuccess(s.results))}}}d.branch.closeJourney(),s.siteConfig=Q;var re=s.$on(P.LOGGED_IN,ne(!0)),oe=s.$on(P.LOGGED_OUT,ne(!1));if(s.$on("$destroy",(function(){re(),oe()})),s.shouldLoadReactDesktop=E.REACT_RATES_DESKTOP,s.shouldLoadReactMobile=Q.deviceType===b.MOBILE&&E.MW_PROPERTY_PAGE&&!r.search().modify,s.isModify=r.search().modify,s.shouldLoadReactMobile&&void 0===r.search().roomCode){var ae=r.path().split("/").slice(0,-1).join("/");r.path(ae).search("red","rates")}else Q.deviceType!==b.MOBILE?s.shouldLoadReactDesktop?angular.extend(this,e("ReactRatesPageDesktopCtrl",{$location:r,$rootScope:a,$scope:s,$timeout:l,$window:d,featureFlags:E,groupInfo:T,hotel:x,propertyRatesMobile:F,reactConst:V,reactHelper:Y})):angular.extend(this,e("RatesDesktopPageCtrl",{$location:r,$scope:s,$state:c,$window:d,featureFlags:E,groupInfo:T,handleRatesPageLoaded:_,hotel:x,hotelService:D,pageEventsHelper:L,pagesConst:k,ratesCart:U,ratesConst:B,ratesInventory:G,ratesNewAnalytics:j,reactConst:V,reactHelper:Y,searchCriteriaData:K,searchUpdateMetadata:z})):s.shouldLoadReactMobile?angular.extend(this,e("ReactRatesPageMobileCtrl",{$location:r,$rootScope:a,$scope:s,$timeout:l,$window:d,hotel:x,propertyRatesMobile:F,reactConst:V,reactHelper:Y})):angular.extend(this,e("RatesMobilePageCtrl",{$filter:t,$location:r,$q:o,$rootScope:a,$sce:i,$scope:s,$state:c,$timeout:l,$uibModal:u,$window:d,apiParamsHelper:p,bedConst:h,breadcrumbsHelper:m,checkoutContextData:f,checkoutService:g,checkoutServiceHelper:v,dateFilter:C,dateHelper:R,deviceConst:b,eventsConst:P,featureFlags:E,formHelper:S,globalLoaderCounter:A,groupInfo:T,groupService:O,guestdataConst:I,guestdataFormatter:$,handleRatesPageLoaded:_,hotel:x,hotelService:D,locationHelper:M,multiRoomHelper:w,omniture:N,pageEventsHelper:L,pagesConst:k,ratePlanHelper:H,ratesConst:B,roomkeyService:W,searchConst:q,searchCriteriaData:K,searchHelper:X,searchUpdateMetadata:z,selectedLangData:Z,sessionStorageHelper:J,siteConfig:Q,travelAgentService:ee,urlParserService:te}))}]},function(e,t){e.exports=["$location","dateHelper","searchCriteriaData","siteOpHelper",function(e,t,n,r){var o;o=!!e.search().pmf&&!n.get().checkInDate&&!n.get().checkOutDate,r.setConfigValue("pmf",o)}]},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$rootScope=n,this.$window=r,this.reactHelper=a,this.searchService=i,this.hotelHelper=o}var t,r,o;return e.$inject=["$scope","$rootScope","$window","hotelHelper","reactHelper","searchService"],t=e,(r=[{key:"$onInit",value:function(){var e=this,t=this.searchService.getHotelAction(this.searchParams,this.hotel);this.showSrdMaxOccupancyWarning=this.hotelHelper.shouldHotelShowSrdOccupancyWarning(this.hotel,this.hotel.ratePlanCode)&&t!==this.$rootScope.chConstants.search.HOTEL_ACTION.NONE,this.$scope.$watch((function(){return document.getElementById("property-card-".concat(e.hotel.id))}),(function(t){t&&e.loadReactComponent()}))}},{key:"loadReactComponent",value:function(){var e=this;this.reactHelper.loadReactApp((function(){return e.loadPropertyCard()}))}},{key:"loadPropertyCard",value:function(){var e=this.reactHelper.generatePageId();this.$window.store.dispatch({pageId:e,type:"PAGE_READY"});var t=this.hotel,n=this.index,r=this.searchParam,o=this.showSrdMaxOccupancyWarning,a=this.$scope.chGallery,i=this.$window.React.createElement(this.$window.SearchPropertyCard,{chGallery:a,hotel:t,index:n,searchParam:r,showSrdMaxOccupancyWarning:o}),s=this.reactHelper.generateProviderElement(i);this.reactHelper.renderToScope(s,"#property-card-".concat(t.id),this.$scope)}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{hotel:"<",index:"<",pageId:"<",searchParam:"<"},controller:r,template:'\n    <div \n      ch-gallery-lightbox\n      id="{{\'property-card-\' + $ctrl.hotel.id}}" \n      image-collection="$ctrl.hotel.images"\n      gallery-title="{{::$ctrl.hotel.name}}"\n      hotel-city="{{::$ctrl.hotel.address.city}}"\n      hotel-subdivision="{{::$ctrl.hotel.address.subdivision}}"\n      hotel-country="{{::$ctrl.hotel.address.country}}"\n      hotel-name="{{::$ctrl.hotel.name}}"\n      product-code="{{::$ctrl.hotel.productCode}}"\n      is-room="true"\n      ></div>'}},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$rootScope=r,this.$window=o,this.reactHelper=i,this.reactConst=a,this.$stateParams=n}var t,o,a;return e.$inject=["$scope","$stateParams","$rootScope","$window","reactConst","reactHelper"],t=e,(o=[{key:"$onInit",value:function(){this.loadReactComponent()}},{key:"loadReactComponent",value:function(){var e=this;this.reactHelper.loadReactApp((function(){return e.loadReviewModal()}))}},{key:"loadReviewModal",value:function(){var e=this.hotel,t=this.review,r=this.reactHelper.generatePageId();this.$window.store.dispatch({pageId:r,type:"PAGE_READY"}),this.$window.store.dispatch({name:this.reactConst.PAGE_DATA.PROPERTY,pageId:r,type:this.reactConst.ACTIONS.ADD_PAGE_VALUE,value:n({},e,{reviewPage:this.$stateParams.reviewPage})});var o=this.$window.React.createElement(this.$window.ReviewModal,{hotel:e,pageId:r,review:t}),a=this.reactHelper.generateProviderElement(o);this.reactHelper.dispatchToStore(this.reactConst.PAGE_DATA.PAGE_NAME,this.reactConst.PAGE_NAMES.PROPERTY_PAGE,r,this.reactConst.ACTIONS.ADD_PAGE_VALUE),this.reactHelper.renderToScope(a,"#react-review-modal",this.$scope)}}])&&r(t.prototype,o),a&&r(t,a),e}();e.exports={bindings:{hotel:"=",review:"<"},controller:o,template:'<div id="react-review-modal" />'}},function(e,t,n){e.exports=angular.module("chApp.utility",[]).factory("activeCherpHelper",n(96)("ACTIVE_CHERP")).factory("amenitiesHelper",n(97)).factory("analyticsDcrHelper",n(98)).factory("apiParamsHelper",n(99)).factory("ariaHiddenHelper",n(100)).factory("bazaarvoiceHelper",n(880)).factory("bingMaps",n(438)).factory("brandStyling",n(101)).factory("breadcrumbsHelper",n(439)).factory("browserCompatibilityHelper",n(102)).factory("campaignHelper",n(103)).factory("checkoutServiceHelper",n(881)).factory("chThumbnail",n(368)).factory("clientIdHelper",n(106)).factory("cookieHelper",n(108)).factory("Counter",n(94)).factory("countryDataUtils",n(109)).factory("currencyHelper",n(882)).factory("dateHelper",n(111)).factory("debounceHelper",n(440)).factory("domHelper",n(114)).factory("envHelper",n(115)).factory("formBuilderHelper",n(883)).factory("formHelper",n(19)).factory("functional",n(441)).factory("guestInfoHelper",n(884)).factory("historyStackHelper",n(116)).factory("hotelHelper",n(369)).factory("hotelImageHelper",n(370)).factory("hotelResponseTransformerHelper",n(442)).factory("httpHelper",n(117)).factory("iframeLinkHelper",n(118)).factory("loadScript",n(119)(n(120))).factory("loadReact",n(121)).factory("localeHelper",n(122)).factory("locationHelper",n(21)).factory("loyaltyAccountHelper",n(22)).factory("luhnCheck",n(885)).factory("memoizationHelper",n(443)).factory("multiRoomHelper",n(23)).factory("objectHelper",n(125)).factory("pageEventsHelper",n(126)).factory("priceHelper",n(444)).factory("promotionHelper",n(445)).factory("ratePlanHelper",n(886)).factory("rateSortHelper",n(446)).factory("reactHelper",n(131)).factory("regExHelper",n(447)).factory("resolverHelper",n(130)).factory("roomRateHelper",n(134)).factory("scrollHelper",n(135)).factory("seoUrlFormatter",n(887)).factory("serviceEventsHelper",n(136)).factory("sessionStorageHelper",n(137)).factory("siteConfigHelper",n(139)).factory("stringsHelper",n(141)).factory("subdivisionHelper",n(448)).factory("TimeBoundCounter",n(95)).factory("transcludeHelper",n(888)).factory("urlEncodeHelper",n(143)).factory("urlEncodeObject",n(144)).factory("urlUtils",n(146)).factory("vrBannerPositionHelper",n(170)).service("arrayHelper",n(158)).service("detectOsHelper",n(160)).service("searchHelper",n(164))},function(e,t){e.exports=["$http","localeService",function(e,t){function n(e){var t=r(),n="?Filter=ProductId%3A".concat(e,"&Filter=ContentLocale%3A").concat(t,"&Include=Products&Stats=").concat("Reviews","&ApiVersion=").concat("5.4","&PassKey=").concat("542b258839qbwdumfgwc32hc");return"".concat("https://api.bazaarvoice.com/data/reviews.json").concat(n)}function r(){return"fr-us"===t.getLocale()?"fr_FR":t.getLocale().split("-").map((function(e,t){return 1===t?e.toUpperCase():e})).join("_")}return{constructRequest:n,getLocale:r,getReviews:function(t){return e.get(n(t)).then((function(e){return e.data}),(function(){return!1}))}}}]},function(e,t){e.exports=function(){return{getCheckoutParamsFromQuery:function(e){var t={roomStay:{adults:+e.adults,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,hotelId:(e.hotelId||"").toUpperCase(),minors:+e.minors,ratePlan:(e.ratePlanCode||"").toUpperCase(),roomCode:e.roomCode}};e.extraBed&&(t.roomStay.extraBed=e.extraBed),e.clientId&&(t.clientId=e.clientId);for(var n=2;e["roomCode".concat(n)];n++)t.roomStay["roomCode".concat(n)]=e["roomCode".concat(n)],t.roomStay["adults".concat(n)]=+e["adults".concat(n)],t.roomStay["minors".concat(n)]=+e["minors".concat(n)],e["extraBed".concat(n)]&&(t.roomStay["extraBed".concat(n)]=e["extraBed".concat(n)]);return t}}}},function(e,t){e.exports=["$rootScope",function(e){return{formatCurrency:function(t,n){if(!t&&0!==t)return"";var r=e.values.currencies[n]||{decimalPlaces:2};return(+t).toFixed(r.decimalPlaces)},formatCurrencyWithSymbol:function(t,n){if(!t&&0!==t)return"";var r=e.values.currencies[n]||{decimalPlaces:2};return(r.format||"%s%n").replace("%n",(+t).toFixed(r.decimalPlaces)).replace("%s",r.symbol||"")+(n&&-1===["USD","CP_POINTS"].indexOf(n)?" ".concat(n):"")}}}]},function(e,t){e.exports=["strings",function(e){var t=function(e,t){var n=r(e,t);return n?'<div class="row"><div class="col-sm-6">'.concat(n,"</div></div>"):""},n=function(e,n,a){var i;if(o(e)){var s=e.fields.left.length>e.fields.right.length?"left":"right";i="\n          ".concat(e.fields[s].map((function(t,o){return function(e,t,n){return'<div class="row">'.concat(e.left[t]&&e.left[t].name?'<div class="col-sm-6">'.concat(r(e.left[t],n,!0),"</div>"):'<div class="col-sm-6"></div>').concat(e.right[t]&&e.right[t].name?'<div class="col-sm-6">'.concat(r(e.right[t],n,!0),"</div>"):'<div class="col-sm-6"></div>',"</div>")}(e.fields,o,n)})).join(""))}else i="".concat(e.fields.map((function(e){return t(e,n)})).join(""));var c='\n      <div class="field-group">\n      <h2>'.concat(n.isFieldGroupNumbered?'<span class="badge">'.concat(a+1,"</span>"):"","\n        ").concat(e.title||"","</h2>\n        ").concat(i,"\n      </div>");return m(c)},r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)switch(e.type){case"submit":return d(e,n);case"select":return l(e,t);case"checkbox":return h(e,t,n);case"textarea":return u(e,t);case"radio":return p(e,t,n);default:return i(e,t)}},o=function(e){return e.fields.left&&e.fields.right},a=function(t){return t&&t.indexOf(".")>-1&&-1===t.indexOf(" ")?t.split(".").reduce((function(e,t){return e[t]}),e)||t:e[t]||t},i=function(e,t){var n="".concat(e.pattern?'ng-pattern="patterns.'.concat(e.pattern,'"'):""),r=e.required?'<span aria-hidden="false">*</span>':"",o=e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",i=e.required?'ng-required="true"':"",s=e.description&&""!==e.description?'<span class="fs-13">'.concat(e.description,"</span>"):"",c="number"===e.type?'ng-init="cmsForm.'.concat(e.name," = ").concat(e.default,'"'):'ng-init="cmsForm.'.concat(e.name," = '").concat(e.default,"'\""),l=e.default&&""!==e.default?c:"",u='\n        <label class="control-label" ng-class="{ \'has-error\' : '.concat(t.name,".$submitted && \n            ").concat(t.name,".").concat(e.name,'.$invalid}">\n          ').concat(a(e.label)).concat(r,'\n        </label>\n        <div class="form-group" ng-class="{ \'has-error\' : ').concat(t.name,".$submitted && \n            ").concat(t.name,".").concat(e.name,'.$invalid}">\n          <input class="form-control"\n              type="').concat(e.type,'"\n              id="').concat(e.name,'"\n              name="').concat(e.name,'"\n              ng-model="cmsForm.').concat(e.name,'"\n              ').concat(i,"\n              ").concat(n,"\n              ").concat(o,"\n              ").concat(l,' />\n          <p class="help-block margin-top-5 margin-bottom-5" ng-if="').concat(t.name,".$submitted && \n              ").concat(t.name,".").concat(e.name,'.$invalid">\n            <span ng-if="isRequiredError(\'').concat(e.name,"', '").concat(t.name,"')\">\n              ").concat(a("general.validationMessages.required"),"\n            </span>\n            <span ng-if=\"!isRequiredError('").concat(e.name,"', '").concat(t.name,"')\">\n              ").concat(a(e.errorMessage),"\n              </span>\n          </p>\n          ").concat(s,"\n        </div>");return m(u)},s=function(e){return e.optionalLabel&&""!==e.optionalLabel&&e.values.unshift(e.optionalLabel),e.default&&""!==e.default?"cmsForm.".concat(e.name," = '").concat(e.default,"'"):"cmsForm.".concat(e.name," = '").concat(e.values[0],"'")},c=function(e){return e.values.map((function(t,n){return e.optionalLabel===t?'<option ng-value="" selected="selected">'.concat(t,"</option>"):e.default===t||0===n&&""===e.default&&""===e.optionalLabel?"<option ng-value=\"'".concat(t,'\'" selected="selected">').concat(t,"</option>"):"<option ng-value=\"'".concat(t,"'\">").concat(t,"</option>")}))},l=function(e,t){var n="".concat(e.required?'required="'.concat(e.required,'"'):""),r=e.required?'<span aria-hidden="false">*</span>':"",o=e.description&&""!==e.description?'<span class="fs-13">'.concat(e.description,"</span>"):"",i="\n      <label ng-class=\"{'has-error' : ".concat(t.name,".$submitted &&\n          ").concat(t.name,".").concat(e.name,'.$invalid}">\n        ').concat(a(e.label)).concat(r,'\n      </label>\n      <div class="form-group" ng-class="{\'has-error\' : ').concat(t.name,".$submitted &&\n          ").concat(t.name,".").concat(e.name,'.$invalid}">\n        <select\n            class="form-control"\n            ng-model="cmsForm.').concat(e.name,'"\n            name="').concat(e.name,'"\n            ').concat(n,"\n            ng-class=\"{'has-error' : ").concat(t.name,".$submitted &&\n            ").concat(t.name,".").concat(e.name,'.$invalid}" ng-init="').concat(s(e),'">\n          ').concat(c(e),'\n        </select>\n        <p class="help-block" ng-if="').concat(t.name,".$submitted &&\n            ").concat(t.name,".").concat(e.name,'.$invalid">\n          ').concat(a("general.validationMessages.required"),"\n        </p>\n        ").concat(o,"\n      </div>\n    ");return m(i)},u=function(e){var t=e.required?'<span aria-hidden="false">*</span>':"",n="".concat(a(e.label)?"<label>".concat(a(e.label)).concat(t,"</label>"):""),r=e.placeholder&&""!==e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",o=e.default&&""!==e.default?e.default:"",i=e.description&&""!==e.description?'<span class="fs-13">'.concat(e.description,"</span>"):"",s="\n      ".concat(n,'\n      <div class="form-group">\n        <textarea name="').concat(e.name,'"\n          class="form-control"\n          ng-model="cmsForm.').concat(e.name,'"\n          ').concat(r,">").concat(o,"</textarea>\n        ").concat(i,"\n      </div>\n    ");return m(s)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?'<label class="zero-margin-bottom">&nbsp;</label><div class="form-group">':"",r=t?"</div>":"",o="\n      ".concat(n,'<button type="submit" class="btn-cta cta-primary cta-lg pull-left">\n        <span>').concat(a(e.label),"</span>\n      </button>").concat(r);return m(o)},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.values){var r=e.required?'ng-required="'.concat(e.required,'"'):"",o=e.required?'<span aria-hidden="false">*</span>':"",i=e.default&&""!==e.default?'ng-init="cmsForm.'.concat(e.name," = '").concat(e.default.toLowerCase(),"'\""):"",s=e.description&&""!==e.description?'<p class="fs-13">'.concat(e.description,"</p>"):"",c=n?'class="zero-margin-top"':"",l="\n      <div><label ng-class=\"{'has-error' : ".concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid}">').concat(a(e.label)).concat(o,"</label></div>\n      <label ").concat(c," ng-class=\"{'has-error' : ").concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid}" ').concat(i,'>\n        <input name="').concat(e.name,'" ng-model="cmsForm.').concat(e.name,'"\n          value="').concat(e.values[0].toLowerCase(),'" type="').concat(e.type,'" ').concat(r," />\n      ").concat(e.values[0],"\n      </label>\n      <label ").concat(c," ng-class=\"{'has-error' : ").concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid}">\n         <input name="').concat(e.name,'" ng-model="cmsForm.').concat(e.name,'"\n           type="').concat(e.type,'"\n           value="').concat(e.values[1].toLowerCase(),'" ').concat(r," />\n        ").concat(e.values[1],'\n      </label>\n      <div class="has-error" ng-if="').concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid">\n        <p class="help-block has-error">\n          ').concat(a("general.validationMessages.required"),"\n        </p>\n      </div>\n      ").concat(s,"\n    ");return m(l)}},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.required?'ng-required="'.concat(e.required,'"'):"",o=e.required?'<span aria-hidden="false">*</span>':"",i=e.description&&""!==e.description?'<p class="fs-13">'.concat(e.description,"</p>"):"",s=n?'<label class="zero-margin-top zero-margin-bottom">&nbsp;</label><div class="form-group">':"",c=n?"</div>":"",l="\n      ".concat(s,'<label ng-init="cmsForm.').concat(e.name," = '").concat(e.default,"' === 'selected'\" ng-class=\"{'has-error' : ").concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid}">\n        <span class="radio-box" ng-class="{\'selected\': cmsForm.').concat(e.name,'}">\n          <input\n              ng-model="cmsForm.').concat(e.name,'"\n              name="').concat(e.name,'"\n              type="').concat(e.type,'"\n              aria-invalid="false"\n              ').concat(r,' />\n          <span class="ch-icon ch-icon-check-alone" aria-hidden="true"></span>\n        </span>\n        <span class="radio-box-label">').concat(a(e.label)).concat(o,'</span>\n      </label>\n      <div class="has-error" ng-if="').concat(t.name,".$submitted &&\n      ").concat(t.name,".").concat(e.name,'.$invalid">\n        <p class="help-block has-error">\n          ').concat(a("general.validationMessages.required"),"\n        </p>\n      </div>").concat(c,"\n      ").concat(i,"\n    ");return m(l)},m=function(e){return e.replace(/\r?\n?/g,"").replace(/\s\s+/g," ")};return{buildFormRow:t,createButton:d,createCheckbox:h,createFieldGroup:n,createForm:function(t){if(!t||""===t)return"";var r=t.supportText&&""!==t.supportText?'<div class="row"><div class="col-sm-6"><p class="margin-top-20">'.concat(t.supportText,"</p></div></div>"):"",o='<div class="thank-you" ng-if="success">\n        <h2 class="text-center">'.concat(e.cmsForm.thankYou.header,'</h2>\n        <div class="row success">\n          <div class="text-center" ng-bind-html="successMessage"></div>\n        </div>\n        <div class="row">\n          <div class="text-center sm-text-center">\n            <a class="btn-cta cta-secondary cta-lg" ng-click="resetForm()">').concat(e.cmsForm.thankYou.submitAnother,"</a>\n          </div>\n        </div>\n      </div>"),a='\n      <div class="container cms-form">\n        <div class="has-error text-danger" ng-if="globalError">\n          <p class="fs-15">{{globalErrorMessage}}</p>\n        </div>\n        <div class="has-error text-danger" ng-if="'.concat(t.name,".$invalid && ").concat(t.name,'.$submitted">\n          <p class="fs-15">').concat(e.guestData.correctFields,'</p>\n        </div>\n        <div class="has-error text-danger" ng-if="submitErrors">\n          <div ng-repeat="(key, error) in submitErrors">{{error}}</div>\n        </div>\n        <form name="').concat(t.name,'" ng-submit="submitForm(\'').concat(t.name,'\')" \n          novalidate ng-hide="success">\n          ').concat(t.fieldGroups.map((function(e,r){return n(e,t,r)})).join(""),"\n        </form>\n        ").concat(r,"\n        ").concat(o,"\n      </div>");return m(a)},createFormElement:r,createInput:i,createOptions:c,createRadioButton:p,createSelect:l,createTextarea:u,initSelect:s,isFieldsetMultiColumn:o}}]},function(e,t){e.exports=["objectHelper","localesConst","localeService","strings",function(e,t,n,r){function o(){var e=n.getCountryCode().toLowerCase();return e===t.COUNTRY_CODES.UK&&(e=t.COUNTRY_CODES.UK_ALT),angular.copy({address:{addressType:"HOME",country:e.toUpperCase()}})}return{createGuestInfo:o,getLangOptions:function(){return r.general.languages?Object.keys(r.general.languages).map((function(e){return{code:e,name:r.general.languages[e]}})):[]},resetGuestInfo:function(t){return e.clear(t),angular.extend(t,o()),t},sendSMSSettings:function(e,t){var n="US"===e.address.country,r=(e.isMobileNumber||!1)&&n;return t=(t||e.mobilePhones)&&e.mobilePhones[0].preferences||{},{sendChoicePrivilegesSMS:r&&t.sendChoicePrivilegesSMS||!1,sendHotelTypeSMS:r&&t.sendHotelTypeSMS||!1,sendMarketingSMS:r&&t.sendMarketingSMS||!1,sendReservationSMS:r}}}}]},function(e,t){var n=["0123456789","0246813579"];function r(e){return e.replace(/\D/g,"").split("").reverse().map((function(e,t){return+n[t%2][+e]})).reduce((function(e,t){return e+t}),0)%10==0}e.exports=function(){return r}},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["$rootScope","ratesConst","sessionStorageHelper","valuesService",function(e,t,r,o){return{dynamicRateChange:function(e,r){var o=e.cancelExpired,a=e.dynamicRateNames,i=e.guaranteePolicy,s=e.ratePlanCode,c=Array.isArray(a)&&a.find((function(e){return e.ratePlanCode==="".concat(s,"#LOGGEDIN")&&r||e.ratePlanCode==="".concat(s,"#FREECANCEL")&&!o||e.ratePlanCode==="".concat(s,"#NOPREPAY")&&i!==t.POLICY.PREPAY||e.ratePlanCode==="".concat(s,"#NOREFUND")&&o}));return c?n({},e,c,{ratePlanCode:s}):n({},e,{ratePlanCode:s})},getMemberStatus:function(t){return t?t.isChildRate?" ".concat(e.strings.guestData.rateProgramMember):t.isParentRate?" ".concat(e.strings.guestData.rateProgramNonMember):"":""},getRatePlan:function(t){var n={};if(t){n.code=t;var a=r.getClientFile(),i=a&&a.clientId?(a.ratePlans||[]).concat(e.values.standardRatePlans):e.values.standardRatePlans;if(i&&i.length){var s=i.find((function(e){return e.ratePlanCode===t}));n.name=(s||{}).name}n.name||(n.name="".concat(t," ").concat(e.strings.general.rate),o.getRatePlans(t).then((function(e){e.ratePlans&&1===e.ratePlans.length&&(n.name=e.ratePlans[0].name)})))}return n}}}]},function(e,t,n){var r=n(0),o=/[!*();:@&=+$,/?#[\]\s.]/g,a=/[']/g,i=/^\//,s=/^-|-(?=-)|-$/g;e.exports=["countriesData","diacriticalUtils",function(e,t){function n(e){return"/".concat(encodeURIComponent(t.getLettersWithoutMarks(e.replace(a,"").replace(i,"").replace(o,"-").replace(s,""))).toLowerCase())}function c(t){var n,o=t.country,a=t.subdivision,i=null;return e.isInitialized&&((n=e.get().filter(r.byCode(o))[0]||e.get().filter(r.byAlternateCode(o))[0])&&n.states&&n.statesPreferredInUrls&&(n.statesAlternateCoded&&(i=n.states.find(r.byAlternateCode(a))),i||(i=n.states.find(r.byCode(a)))),i||(i=n),i&&i.name||(i=null)),i}return{encodePathPart:n,getCountryPathObject:c,getCountryPathPart:function(e){var t=c(e),r="";return t&&(r=n(t.urlName)),r}}}]},function(e,t){e.exports=function(){return{multiTransclude:function(e,t,n,r){n(e,(function(e){angular.forEach(e,(function(e){var n=angular.element(e).attr("transclude-to");if(n){var o=angular.element(t[0].querySelector('[transclude-id="'.concat(n,'"]')));o.length?(r&&o.empty(),o.append(e)):e.remove()}}))}))}}}},function(e,t,n){e.exports=angular.module("chApp.shared",[n(29).name,n(449).name,n(30).name,n(450).name,n(895).name,n(31).name,n(897).name,n(899).name,n(901).name,n(32).name,n(451).name,n(33).name,n(904).name,n(35).name,n(923).name,n(456).name,n(34).name,n(950).name,n(951).name]).directive("chCugModal",n(954)).directive("chInfiniteScroll",n(955)).directive("chShowIf",n(956))},,,,,,function(e,t,n){e.exports=angular.module("chApp.shared.filters",[]).filter("chAlphaBubbleUp",n(896))},function(e,t){e.exports=function(){return function(e,t,n){return e.sort((function(e,r){if(!r[t])return-1;if(!e[t])return 1;var o=n.indexOf(e[t]),a=n.indexOf(r[t]);return o>=0&&a>=0?o>a?1:-1:o>=0^a>=0?a>=0?1:-1:e[t]>r[t]?1:-1}))}}},function(e,t,n){e.exports=angular.module("chApp.shared.forceScrollbar",[]).directive("chForceScrollbar",n(898))},function(e,t){e.exports=["$interval","detectOsHelper",function(e,t){return{link:function(n,r){t.isOSXiOS()&&e((function(){r[0].scrollTop+=1,r[0].scrollTop-=1}),200)},replace:!1,restrict:"A"}}]},function(e,t,n){e.exports=angular.module("chApp.shared.groups",[]).factory("groupService",n(900))},function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c;e.exports=["$http","$locale","$q","apiParamsHelper","featureFlags","localeService","loyaltyAccountHelper","strings","urlEncodeObject","userService",function(e,t,r,a,s,l,u,d,p,h){var m,f,g="/webapi/group",v=i(i({additionalInfo:null,address1:null,address2:null,address3:null,chargeRouting:null,checkInDate:"",checkOutDate:"",city:null,clientReferral:null,country:null,county:null,creditCardName:null,creditCardNumber:null,creditCardType:null,email:null,enrollInChoicePrivileges:null,eventType:null,expirationMonth:null,expirationYear:null,firstName:null,groupName:null,homePhone:null,hotelId:null,include:null,lastName:null,loyaltyAccountNumber:null,loyaltyProgramId:null,meetingRoomRequired:!1,parentRatePlanCode:null,password:null,postalCode:null,preferredLocaleCode:t.id,roomCounts:null},l.getSiteNameObj()),{},{subdivision:null,tokenKeyAlias:null,tokenResponseSignature:null,tokenResponseTimeStamp:null,travelAgentIATANumber:null,username:null}),y=o({},v,{enablePrivacySettings:!0,groupChargeRoutingType:null,groupId:null,numberOfAdults:null,numberOfMinors:null,numberOfRooms:1,pickupStatus:null,roomCode:null,roomPayer:null,roomPaymentOption:null,specialRequests:null});function C(n,o,a){var i=r.defer();function c(e){i.reject(e.data)}a.preferredLocaleCode=t.id,s.IWSR_MASTER&&(a.siteName=l.getCountryCode());var h=p(a);return e("GET"===n?{cache:!1,method:n,url:"".concat(o,"?").concat(h)}:{cache:!1,data:h,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:n,url:o}).then((function(e){if("OK"===e.data.status){var t=function(e){var t=angular.extend({},e);angular.forEach(t.rooms,(function(e){e.roomCode=e.code,e.startDate=t.checkInDate,e.endDate=t.checkOutDate})),t.guest=t.planner,delete t.planner,t.ratePlan={code:t.ratePlanCode,name:d.group.ratePlanName},t.additionalInfo&&(t.specialRequests=t.additionalInfo,delete t.additionalInfo);t.guest&&t.guest.loyaltyAccountNumber&&(t.guest.cpNumber=u.getCpNumber(t.guest.loyaltyAccountNumber));t.enrollInChoicePrivileges&&(t.enrollingInChoicePrivileges=t.enrollInChoicePrivileges);return t}(e.data.groupBooking);t.outputInfo=e.data.outputInfo,i.resolve(t)}else c(e)}),c),i.promise}return{addRoomInformation:function(e){return c.totalBeforeTax=0,c.totalAfterTax=0,angular.forEach(c.rooms,(function(t){var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].code===t||e[n].roomCode===t)return e[n];return null}(e,t.roomCode);if(r){var a=r.afterTax,i=r.bedsDescription,s=r.beforeTax,l=r.capacity,u=r.description,d=r.featuresDescription,p=r.thumbUrl;if(c.totalAfterTax+=a*t.count,c.totalBeforeTax+=s*t.count,o(t,{afterTax:a,bedsDescription:i,beforeTax:s,capacity:l,description:u,featuresDescription:d,thumbUrl:p}),r.rates&&r.rates.length>0){var h=n(r.rates,1)[0];o(t,{avgNightlyBeforeTax:h.avgNightlyBeforeTax,currencyCode:h.currencyCode,nights:h.nights})}}})),c},addRoomingList:function(e,t){var n=a.formatApiParams(y,e);return C("POST","".concat(g,"/").concat(t,"/roominglist"),n)},createGroup:function(e,t){this.deleteConfirmation();var n=o({},{chargeRouting:e.group.billing,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,eventType:e.group.eventType.code,groupName:e.group.groupName,hotelId:e.hotelId,include:t,meetingRoomRequired:!!e.group.meetingRoomRequired,parentRatePlanCode:e.ratePlan,roomCounts:JSON.stringify(e.groupRoomCounts)},e.guest);e.specialRequests&&(n.additionalInfo=e.specialRequests),e.travelAgentIATANumber&&(n.travelAgentIATANumber=e.travelAgentIATANumber),delete n.address;var r=e.guest.address;for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i.replace(/^line([1-3])$/,"address$1")]=r[i]);return e.enrollInChoicePrivileges?(o(n,{clientReferral:e.clientReferral,enrollInChoicePrivileges:!0,password:e.password,username:e.username}),m=n.username,f=n.homePhone):(delete n.enrollInChoicePrivileges,delete n.username,delete n.password,delete n.clientReferral),n=a.formatApiParams(v,n),C("POST",g,n).then((function(t){return m&&!t.username&&(t.username=m),f&&t.guest&&!t.guest.homePhone&&(t.guest.homePhone=f),c=t,e.enrollInChoicePrivileges&&t.userProfileCreationStatus?h.login(n).then((function(){return t})):t}))},deleteConfirmation:function(){c=void 0},deleteRoomingListMemberDetails:function(e,t,n){var r=e.hotelId,o=a.formatApiParams(v,e);return C("DELETE","".concat(g,"/").concat(t,"/roominglist/").concat(n,"?hotelId=").concat(r),o)},getConfirmation:function(){return c},getGroup:function(e,t,n,r){var o=t?{include:t,loyaltyAccountNumber:r}:{};return C("POST",n?"".concat(g,"/").concat(e,"/").concat(n):"".concat(g,"/").concat(e),o)},getRoomingListMemberDetails:function(e,t){return C("GET","".concat(g,"/").concat(e,"/roominglist/").concat(t),{})},resendGroupPlannerEmail:function(e){return C("POST","".concat(g,"/resendEmail"),{creditCardLastFour:e.creditCardLastFour,email:e.email,groupCode:e.groupCode,lastName:e.lastName})},updateConfirmation:function(e){return c=angular.extend(c,e)}}}]},function(e,t,n){e.exports=angular.module("chApp.shared.guestdata",[]).factory("guestdataFormatter",n(902))},function(e,t){e.exports=["$rootScope","currencyHelper","dateHelper","objectHelper","strings",function(e,t,n,r,o){return{calculateSelectedNightlyRate:function(e,r){var o=[];return(e.roomCharges||[]).forEach((function(a){for(var i=0;i<a.nights;i++){var s=a.avgNightlyBeforeTax||a.avgNightlyAfterTax,c=a.avgNightlyPoints||"",l={currencyCode:r,date:n.addDays(a.startDate,i).substr(0,10),points:c,rate:t.formatCurrency(s,r)};e.extraBed&&e.addedBed&&a.hasOwnProperty(e.addedBed.bedCode)&&(l.rate+=a[e.addedBed.bedCode]),o.push(l)}})),o},stringsHelper:function(e,t){return e+=t?t.split("_").map((function(e){return e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()})).join(""):"",r.getPropertyByString(o,"guestData.".concat(e))}}}]},,function(e,t,n){e.exports=angular.module("chApp.shared.map",[n(905).name,n(908).name,n(912).name,n(915).name]).component("chMap",n(917)).constant("mapConstant",n(919)).service("mapActiveHotelService",n(920)).service("mapAnalytics",n(921)).service("mapService",n(922))},function(e,t,n){e.exports=angular.module("chApp.shared/map/hotelMapModal",[]).component("chHotelThumbnailImage",n(906)).controller("HotelMapModalController",n(907))},function(e,t){var n=["$rootScope","hotelImageHelper","siteConfig",function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.assetFingerprint=r.assetFingerprint,this.merchandising=n.getImageMerchandisingTag(this.hotel)}];e.exports={bindings:{hotel:"<"},controller:n,template:'\n    <div class="logo-badge z-index-100">\n      <ch-brand-logo\n          brand-code="{{::$ctrl.hotel.brandCode}}"\n          product-code="{{::$ctrl.hotel.productCode}}"\n          country-code="{{::$ctrl.hotel.address.country}}"\n          ng-if="::$root.isLogoEnabled($ctrl.hotel)"\n          size="xs"></ch-brand-logo>\n    </div>\n\n    <div class="image-wrapper">\n      <img\n          ng-src="{{$ctrl.hotel.images[0].thumbUrl}}"\n          itemprop="image"\n          ch-image-error\n          class="thumbnail-image img-responsive"\n          ng-if="!imageStatus.error"\n          ng-attr-alt="{{::$ctrl.hotel.name}} {{::$root.strings.hotel.summaryHotel}}"\n          ng-attr-title="{{::$ctrl.hotel.name}} {{::$root.strings.hotel.summaryHotel}}">\n      <div class="badge merchandising-tag"\n           ng-class="{\'badge-family\': $ctrl.merchandising.family, \'badge-adults\': $ctrl.merchandising.adults}"\n           ng-if="$ctrl.merchandising && $root.deviceType === \'MOBILE\' && $root.featureFlags.AMR_MWEB_MASTER">\n        {{$ctrl.merchandising.label}}</div>\n    </div>\n\n    <div\n        ng-include="/assetFingerprint/shared/image-fallback.html"\n        ng-if="imageStatus.error"\n        include-replace>\n    </div>\n  '}},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,r,o,a,i,s,c,l,u,d,p,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,{$location:t,$rootScope:r,$uibModalInstance:o,roomkeyService:c,searchUrlHelper:l,selectedLangData:u,selectedPin:d,urlParserService:h});var m=this.selectedPin.hotel;this.shouldHideLPG=a.AMR_MASTER&&i.shouldHideLPG(m),this.merchandising=s.getImageMerchandisingTag(m),this.LANG=this.selectedLangData.get().code}var t,o,a;return e.$inject=["$location","$rootScope","$uibModalInstance","featureFlags","hotelHelper","hotelImageHelper","roomkeyService","searchUrlHelper","selectedLangData","selectedPin","strings","urlParserService"],t=e,(o=[{key:"onBookHotel",value:function(){this.$uibModalInstance.dismiss("cancel");var e=this.selectedPin.hotel;this.$location.path(this.urlParserService.getPropertyRatesUrl(e.address,e.brandCode,e.id,this.LANG)),this.$location.search({}),this.$rootScope.loadPopUnderWindow&&this.$rootScope.loadPopUnderWindow()}},{key:"onCloseOverlay",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"propertyPageUrl",get:function(){return this.selectedPin.propertyPageUrl}},{key:"propertyRatesUrl",get:function(){var e=this.selectedPin.hotel;return this.urlParserService.getPropertyRatesUrl(e.address,e.brandCode,e.id,this.LANG,!0)}}])&&r(t.prototype,o),a&&r(t,a),e}();e.exports=o},function(e,t,n){e.exports=angular.module("chApp.shared.map.infobox",[]).component("chInfobox",n(909))},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,a,i,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$location=t,this.$scope=n,this.$uibModal=r,this.featureFlags=o,this.selectedLangData=i,this.siteConfig=s,this.urlParserService=c,this.hotelHelper=a,this.isAmrProperty=this.selectedPin&&this.hotelHelper.isHotelAMResort(this.hotel)}var t,o,a;return e.$inject=["$location","$scope","$uibModal","featureFlags","hotelHelper","selectedLangData","siteConfig","urlParserService"],t=e,(o=[{key:"onInfoboxClick",value:function(){this.featureFlags.HOVER_MAP?this.$location.path(this.urlParserService.getPropertyPageUrl(this.hotel.address,this.hotel.brandCode,this.hotel.id,this.selectedLangData.get().code)):this.onOpenModal()}},{key:"onOpenModal",value:function(){var e=this;angular.extend(this.$scope,{selectedPin:this.selectedPin}),this.hotelOverlayOpen=!0,this.hotelOverlay=this.$uibModal.open({controller:"HotelMapModalController",controllerAs:"$ctrl",resolve:{selectedPin:function(){return e.selectedPin}},size:"lg",template:n(910)})}},{key:"appExtension",get:function(){return this.siteConfig.fileSuffix}},{key:"assetFingerprint",get:function(){return this.siteConfig.assetFingerprint}},{key:"hotel",get:function(){return this.selectedPin.hotel}},{key:"hotelRates",get:function(){return this.selectedPin.hotelRates}},{key:"rateRanges",get:function(){return this.selectedPin.hotel.rateRanges||null}},{key:"propertyPageUrl",get:function(){return this.selectedPin.propertyPageUrl}},{key:"cugDiscount",get:function(){return this.selectedPin.cugDiscount}},{key:"rating",get:function(){return this.selectedPin.hotel.rating?this.selectedPin.hotel.rating.value:0}},{key:"reviews",get:function(){return this.selectedPin.hotel.rating?this.selectedPin.hotel.rating.reviews:0}}])&&r(t.prototype,o),a&&r(t,a),e}();e.exports={bindings:{selectedPin:"<"},controller:o,template:n(911)}},function(e,t){e.exports='<div class="modal-container hotel-map-overlay">\n  <div class="modal-header z-index-100 clearfix">\n    <div class="modal-close pull-right" ng-click="$ctrl.onCloseOverlay()">\n      <span class="ch-icon ch-icon-close"></span>\n      <span class="close-text">Close</span>\n    </div>\n  </div>\n\n  <div class="row result">\n    <div class="preview col-md-4">\n      <div class="merchandising-tag"\n           ng-if="$ctrl.merchandising && ($root.deviceType === \'MOBILE\' && featureFlags.AMR_MWEB_MASTER || $root.deviceType !== \'MOBILE\' && featureFlags.AMR_MASTER)">\n        <span\n          class="badge"\n          ng-class="{\'badge-family\': $ctrl.merchandising.family, \'badge-adults\': $ctrl.merchandising.adults}">\n          {{$ctrl.merchandising.label}}\n        </span>\n      </div>\n      <ch-hotel-thumbnail-image hotel="$ctrl.selectedPin.hotel"></ch-hotel-thumbnail-image>\n\n      <ch-birg-logo ng-if="!$ctrl.shouldHideLPG" logo-width="290"></ch-birg-logo>\n    </div>\n\n    <div class="info col-md-4">\n      <h6 ng-click="$ctrl.onCloseOverlay()">\n        <a ng-href="{{$ctrl.propertyPageUrl}}">{{$ctrl.selectedPin.hotel.name}}</a>\n      </h6>\n\n      <div class="address" ng-bind-html="$ctrl.selectedPin.hotel.address | chAddress"></div>\n\n      <div class="proximity">\n        <ch-distance-switch-display distance-value="$ctrl.selectedPin.hotel.distanceValue"></ch-distance-switch-display>\n      </div>\n\n      <div ng-click="$ctrl.onCloseOverlay()">\n        <ch-ratings model="$ctrl.selectedPin.hotel.rating" hotel-url="$ctrl.selectedPin.propertyPageUrl"></ch-ratings>\n      </div>\n\n      <div class="amenities" ng-show="$ctrl.selectedPin.hotel.amenityGroups.length > 0">\n        <strong>{{::$root.strings.hotel.mapFeaturedAmenities}}:</strong>\n        <span>{{$ctrl.selectedPin.hotel.amenityGroups | chAmenities:3:true}}</span>\n      </div>\n    </div>\n\n    <div class="cta col-md-4 text-uppercase">\n      <ch-price-cta\n          ng-if="$ctrl.selectedPin.hotel.price !== 0"\n          cta-url="::$ctrl.selectedPin.ctaUrl"\n          hotel="$ctrl.selectedPin.hotel"\n          hotel-action="::$ctrl.selectedPin.hotelAction"\n          on-cta-click="$ctrl.onCloseOverlay()"\n          map-view="true">\n        {{$ctrl.selectedPin.hotelAction === $root.chConstants.search.HOTEL_ACTION.GET_QUOTE ? $ctrl.selectedPin.ctaText : $root.strings.general.checkAvailability}}\n      </ch-price-cta>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n  <button\n      aria-label="close-Property-detail"\n      class="property-detail-close"\n      ng-click="$ctrl.onCloseOverlay()">\n    <span class="ch-icon ch-icon-close"></span>\n  </button>\n\n  <div\n      class="infobox-body"\n      tabindex="0"\n      ng-click="$ctrl.onInfoboxClick()"\n      aria-label="propertyDetail">\n    <div class="thumbnail">\n      <img\n          ng-src="{{::$ctrl.hotel.images[0].thumbUrl}}"\n          itemprop="image"\n          ch-image-error\n          ng-if="!imageStatus.error">\n      <div\n          ng-include="`${$ctrl.assetFingerprint}/shared/image-fallback.html`"\n          ng-if="imageStatus.error"\n          include-replace>\n      </div>\n    </div>\n\n    <div class="info">\n      <h6 class="name">{{::$ctrl.hotel.name}}</h6>\n\n      <ch-ratings\n          model="{value: $ctrl.rating, reviews: $ctrl.reviews}"\n          hotel-url="$ctrl.propertyPageUrl"\n          hide-link-to-reviews>\n      </ch-ratings>\n\n      <div ng-if="!$ctrl.rateRanges">\n        <strong>\n          <small class="text-uppercase">{{::$root.strings.search.item.noAvailabilitySoldOut}}</small>\n        </strong>\n      </div>\n\n      <div ng-if="$ctrl.rateRanges">\n        <ch-multi-price-tag\n          is-amr-property="$ctrl.isAmrProperty"\n          prices="$ctrl.hotelRates"\n          class="multi-price-tag colored"\n          ng-class="{\'multi-price-tag-cug\': $ctrl.cugDiscount, \'so-cug-map-iii\': $ctrl.cugDiscount}">\n        </ch-multi-price-tag>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t,n){e.exports=angular.module("chApp.shared.map.pushpin",[]).constant("pushpinConstant",n(913)).factory("PushpinFactory",n(914))},function(e,t){e.exports={BRAND_CODES_TO_SVG:{AC:"ascend-update",BR:"cambria-update",CI:"comfort-inn",CL:{AS:"clarion",HO:"clarion",IN:"clarion",PT:"clarion-point",SU:"clarion"},CS:"comfort-suites",EL:"econo-lodge",MS:"mainstay",QI:"quality-inn-updated",RW:"rodeway-inn",SB:"suburban",SL:"sleep-inn"},EVENTS:{CLICK:"click",HOVER:"mouseover",HOVEROUT:"mouseout"},STATES:{DEFAULT:"DEFAULT",DEFAULT_PRICE:"DEFAULT_PRICE",SELECTED:"SELECTED",SELECTED_PRICE:"SELECTED_PRICE"},STYLE:{DEFAULT:{anchor:{x:17,y:40},inner:{height:25,width:25,x:4,y:5},outer:{height:40,width:50}},DEFAULT_PRICE:{anchor:{x:17,y:50},currencyPlacement:{baselineShift:"-2",fontSize:"0.8em"},inner:{height:28,width:28,x:2,y:22},outer:{height:60,width:50},priceInner:{alignmentBaseline:"middle",fill:"#5E5745",fontFamily:"'Open Sans', sans-serif",fontSize:11,fontWeight:"normal",textAnchor:"middle",x:"50%",y:"50%"},priceOuter:{height:27,width:32,x:0,y:0}},SELECTED:{anchor:{x:24,y:56},inner:{height:35,width:35,x:5,y:7},outer:{height:56,width:70}},SELECTED_PRICE:{anchor:{x:24,y:66},currencyPlacement:{baselineShift:"-2",fontSize:"0.8em"},inner:{height:38,width:38,x:3,y:25},outer:{height:76,width:70},priceInner:{alignmentBaseline:"middle",fill:"#FFFFFF",fontFamily:"'Open Sans', sans-serif",fontSize:14,fontWeight:"bold",textAnchor:"middle",x:"50%",y:"50%"},priceOuter:{height:28,width:43,x:0,y:0}}}}},function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=["$http","$rootScope","$templateCache","$q","$window","brandStyling","currenciesConst","featureFlags","pushpinConstant","prerenderService","siteConfig",function(e,t,r,a,i,s,c,l,u,d,p){return function(){function d(e,t,r,o,a){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.hotel=e;var h=new i.Microsoft.Maps.Location(e.lat,e.lon);this.svgId=s.getPushpinLogo(e.brandCode,e.productCode,e.address&&e.address.country);var m=this.hotel.priceData&&this.hotel.priceData[0].cash&&this.hotel.priceData[0].currency.toLowerCase()===c.CURRENCY_CODES.USD&&l.MAP_PIN_PRICES,f=m?"DEFAULT_PRICE":"DEFAULT",g=m?this.hotel.priceData[0].cash:void 0;this.fetchSvgs(f).then((function(e){var s=n(e,2),c=s[0],d=s[1],m=p.buildPin(f,g,c,d);p.pin=new i.Microsoft.Maps.Pushpin(h,m),l.HOVER_MAP&&(i.Microsoft.Maps.Events.addHandler(p.pin,u.EVENTS.HOVER,(function(e){p.toggleState(e),o(p.hotel,e)})),i.Microsoft.Maps.Events.addHandler(p.pin,u.EVENTS.HOVEROUT,(function(e){p.toggleState(e),a(e)}))),i.Microsoft.Maps.Events.addHandler(p.pin,u.EVENTS.CLICK,(function(e){p.toggleState(e),r(p.hotel,e)})),t(p.pin)}))}var h,m,f;return h=d,(m=[{key:"base64EncodeDecode",value:function(e){var t=window.btoa(unescape(encodeURIComponent(e)));return decodeURIComponent(window.atob(t))}},{key:"fetchSvgs",value:function(t){var o="/".concat(p.assetFingerprint,"/assets/images/svg"),i=["".concat(o,"/").concat(this.svgId,".svg"),"".concat(o).concat(this.setPinSize(t))].map((function(t){return e.get(t,{cache:r}).catch((function(){return a.resolve({data:""})}))}));return a.all(i).then((function(e){var t=n(e,2),r=t[0],o=t[1];return[r.data,o.data]}))}},{key:"buildPin",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=u.STYLE[e],s=a.anchor,c=a.currencyPlacement,d=a.inner,p=a.outer,h=a.priceInner,m=a.priceOuter,f=new i.Microsoft.Maps.Point(s.x,s.y),g=this.hotel.rateRanges&&this.hotel.ratePlanCode&&"SRD"!==this.hotel.ratePlanCode&&this.base64EncodeDecode(t.values.currencies[this.hotel.rateRanges[0].min.currencyCode].symbol),v="DEFAULT_PRICE"!==e&&"SELECTED_PRICE"!==e||!l.MAP_PIN_PRICES?"":'\n          <svg\n            height="'.concat(m.height,'"\n            width="').concat(m.width,'"\n            x="').concat(m.x,'"\n            y="').concat(m.y,'"\n          >\n            <text\n              x="').concat(h.x,'"\n              y="').concat(h.y,'"\n              alignment-baseline="').concat(h.alignmentBaseline,'"\n              text-anchor="').concat(h.textAnchor,'"\n              fill="').concat(h.fill,'"\n              font-family="').concat(h.fontFamily,'"\n              font-size="').concat(h.fontSize,'"\n              font-weight="').concat(h.fontWeight,'"\n              letter-spacing="0.85"\n            >\n              <tspan\n                font-size="').concat(c.fontSize,'"\n                baseline-shift="').concat(c.baselineShift,'"\n              >').concat(g,"</tspan>").concat(n,"\n            </text>\n          </svg>\n        "),y='\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          width="'.concat(p.width,'"\n          height="').concat(p.height,'"\n        >\n          ').concat(o,'\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            width="').concat(d.width,'"\n            height="').concat(d.height,'"\n            x="').concat(d.x,'px"\n            y="').concat(d.y,'px"\n          >\n            ').concat(r,"\n          </svg>\n          ").concat(v,"\n        </svg>\n      ");return{anchor:f,icon:y}}},{key:"setPinSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="/pushpin.svg";if(e&&l.MAP_PIN_PRICES)switch(e){case"DEFAULT_PRICE":t="/pushpin-with-price.svg";break;case"SELECTED_PRICE":t="/pushpin-with-price-selected.svg"}return t}},{key:"toggleState",value:function(){this.hotel.priceData&&this.hotel.priceData[0].cash&&this.hotel.priceData[0].currency.toLowerCase()===c.CURRENCY_CODES.USD&&l.MAP_PIN_PRICES?this.updateState(u.STATES.SELECTED_PRICE):this.updateState(u.STATES.SELECTED)}},{key:"reset",value:function(){this.hotel.priceData&&this.hotel.priceData[0].cash&&this.hotel.priceData[0].currency.toLowerCase()===c.CURRENCY_CODES.USD&&l.MAP_PIN_PRICES?this.updateState(u.STATES.DEFAULT_PRICE):this.updateState(u.STATES.DEFAULT)}},{key:"updateState",value:function(e){var t=this;this.fetchSvgs(e).then((function(r){var o=n(r,2),a=o[0],i=o[1],s=l.MAP_PIN_PRICES?t.hotel.price:void 0,c=t.buildPin(e,s,a,i);t.pin.setOptions(c)}))}}])&&o(h.prototype,m),f&&o(h,f),d}()}]},function(e,t,n){e.exports=angular.module("chApp.shared.map.search",[]).component("chSearchMap",n(916))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,a,i,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=t,this.$rootScope=n,this.$window=r,this.isMobile=c.deviceType===o.MOBILE,this.mapActiveHotelService=a,this.searchConst=i,this.searchResultsService=s}var t,r,o;return e.$inject=["$document","$rootScope","$window","deviceConst","mapActiveHotelService","searchConst","searchResultsService","siteConfig"],t=e,(r=[{key:"$onInit",value:function(){this.viewType&&this.viewType!==this.searchConst.VIEW_OPTIONS.LIST&&(this.deferLoaded=!0)}},{key:"$onChanges",value:function(e){e.viewType&&e.viewType.currentValue!==this.searchConst.VIEW_OPTIONS.LIST&&(this.deferLoaded=!0)}},{key:"scrollToHotel",value:function(e){var t=this,n=e.hotelId;this.searchResultsService.viewHotel(n),this.$rootScope.$$phase||this.$rootScope.$digest(),this.$rootScope.$$postDigest((function(){var e=angular.element(t.$document[0].getElementById("hotel-".concat(n)));e&&t.$document.scrollToElement(e,t.$window.innerHeight/2-e[0].offsetHeight/2,400)}))}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{currentPlace:"<?",initialZoom:"<",onUpdateHotels:"&",results:"<",viewType:"<"},controller:r,template:'\n    <ch-map\n        active-hotel-id="$ctrl.mapActiveHotelService.hotelId"\n        center-on-pin="!$ctrl.isMobile && $ctrl.viewType === $ctrl.searchConst.VIEW_OPTIONS.MAP"\n        current-place="$ctrl.currentPlace"\n        enable-hotel-scroll="$ctrl.viewType === $ctrl.searchConst.VIEW_OPTIONS.SPLIT"\n        initial-zoom="$ctrl.initialZoom"\n        ng-if="$ctrl.deferLoaded"\n        on-update-hotels="$ctrl.onUpdateHotels($event)"\n        results="$ctrl.results"\n        show-infobox="$ctrl.viewType === $ctrl.searchConst.VIEW_OPTIONS.MAP"\n        scroll-to-hotel="$ctrl.scrollToHotel($event)">\n    </ch-map>\n  '}},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,{$compile:t,$filter:n,$location:o,$rootScope:a,$timeout:i,$window:s,PushpinFactory:f,deviceConst:c,eventsConst:l,featureFlags:u,mapActiveHotelService:d,mapAnalytics:p,mapConstant:h,mapService:m,searchConst:g,searchResultsService:y,searchService:v,searchUrlHelper:C,selectedLangData:R,sessionStorageHelper:b,siteConfig:P,strings:E,urlParserService:S})}var t,n,a;return e.$inject=["$compile","$filter","$location","$rootScope","$timeout","$window","deviceConst","eventsConst","featureFlags","mapActiveHotelService","mapAnalytics","mapConstant","mapService","PushpinFactory","searchConst","searchService","searchResultsService","searchUrlHelper","selectedLangData","sessionStorageHelper","siteConfig","strings","urlParserService"],t=e,(n=[{key:"$onInit",value:function(){var e=this;this.isFullscreenMobile=this.featureFlags.FULL_SCREEN_MAP_MOBILE&&this.siteConfig.deviceType===this.deviceConst.MOBILE&&this.$location.search().view===this.searchConst.VIEW_OPTIONS.MAP,this.mapExpanded=!1,this.isMobile=this.siteConfig.deviceType===this.deviceConst.MOBILE,this.showUpdateHotels=!this.featureFlags.FULL_SCREEN_MAP_MOBILE||!this.isMobile||null,this.pushpins={},this.selectedPin=null,this.brandLogos={},this.mapId="myMap-".concat(Date.now()),this.mapService.loadApi().then((function(){return e.loadMap()})),this.mapAnalytics.init(this)}},{key:"$onChanges",value:function(e){if(e.showInfobox&&this.clearInfobox(),e.centerOnPin&&e.showInfobox){var t=e.centerOnPin.currentValue?-1:1;this.map.setView({zoom:this.map.getZoom()+t})}e.results&&(this.clearPushpins(),this.loadMap(this.map)),e.activeHotelId&&this.highlightPushpin(this.activeHotelId)}},{key:"$onDestroy",value:function(){this.map.dispose(),this.mapService.destroy(),this.map=void 0,this.infobox=void 0,this.pushpins={},this.selectedPin=void 0,this.showUpdateHotels=void 0,this.brandLogos={}}},{key:"loadMap",value:function(){var e=this,t=this.results&&this.results.hotels||this.results||[],n=this.mapService.getBoundingBoxBasedOnResults(t),r=this.sessionStorageHelper.getMapCenter()||this.getMapCenter(n),o=(this.sessionStorageHelper.getMapZoomLevel()&&this.sessionStorageHelper.getMapZoomLevel().page&&"property"===this.sessionStorageHelper.getMapZoomLevel().page?this.sessionStorageHelper.getMapZoomLevel().zoom:null)||this.initialZoom||this.isMobile&&this.mapConstant.CONFIG.VIEW_OPTIONS.COMMON.mobileSearchZoom||this.mapConstant.CONFIG.VIEW_OPTIONS.COMMON.zoom;this.map=this.mapService.initMap(this.mapId,"DESKTOP",r,o),this.onUpdateHotels||this.setMapBoundsZoomLevel(n,t),this.createPushpins(t),this.infobox?this.clearInfobox():(this.infobox=new this.$window.Microsoft.Maps.Infobox(this.map.getCenter(),{htmlContent:'<div id="mapinfobox"></div>',visible:!1}),this.infobox.setMap(this.map)),this.$window.Microsoft.Maps.Events.addThrottledHandler(this.map,"viewchangeend",(function(){if(e.endingPoint=e.map.getCenter(),e.featureFlags.MAP_CURRENT_AREA_SEARCH){var t={page:"property",zoom:e.map.getZoom()};e.sessionStorageHelper.setMapZoomLevel(t),e.sessionStorageHelper.setMapCenter(e.map.getCenter())}e.isFullscreenMobile&&e.featureFlags.MAP_CURRENT_AREA_SEARCH&&e.mapService.calculateHaversineFormula(e.mapStartingPoint.latitude,e.mapStartingPoint.longitude,e.endingPoint.latitude,e.endingPoint.longitude)>25&&(e.showUpdateHotels=!0),e.$window.Microsoft.Maps.Events.removeHandler(e.startHandler)})),this.createNewViewChangeHandler(),this.$window.Microsoft.Maps.Events.addHandler(this.map,"click",(function(){e.clearInfobox(),e.unhighlightPushpin()}))}},{key:"getMapCenter",value:function(e){var t=this,n=(!this.featureFlags.FULL_SCREEN_MAP_MOBILE||Array.isArray(this.results)&&this.results.find((function(e){return e.distanceValue<=t.mapConstant.CONFIG.MAP_OPTIONS.MOBILE.mobileViewDistance})))&&this.currentPlace&&this.currentPlace.lat&&this.currentPlace.lon?new this.$window.Microsoft.Maps.Location(+this.currentPlace.lat,+this.currentPlace.lon):null,r=Array.isArray(this.results)&&this.results[0]?new this.$window.Microsoft.Maps.Location(+this.results[0].lat,+this.results[0].lon):null;return n||r||this.mapService.getMapLocation((e.north+e.south)/2,(e.east+e.west)/2)}},{key:"createPushpins",value:function(e){var t=this;this.layer||(this.layer=new this.$window.Microsoft.Maps.Layer),this.clearPushpins(),e.forEach((function(e){var n=new t.PushpinFactory(e,(function(e){return t.layer.add(e)}),t.pushpinClickHandler.bind(t),t.pushpinHoverHandler.bind(t),t.pushpinHoverOutHandler.bind(t));-1===t.map.layers.indexOf(t.layer)&&t.map.layers.insert(t.layer),t.pushpins[e.id]=n}))}},{key:"clearPushpins",value:function(){this.layer.clear(),this.pushpins={}}},{key:"pushpinClickHandler",value:function(e){this.featureFlags.HOVER_MAP?this.enableHotelScroll&&this.scrollToHotel?this.scrollToHotel({$event:{hotelId:e.id}}):this.$location.path(this.urlParserService.getPropertyPageUrl(e.address,e.brandCode,e.id,this.selectedLangData.get().code)):(this.highlightPushpin(e.id),this.mapActiveHotelService.setActiveHotel(e.id,e.lat,e.lon),this.enableHotelScroll&&this.scrollToHotel?this.scrollToHotel({$event:{hotelId:e.id}}):(this.centerOnPin&&this.map.setView({center:new this.$window.Microsoft.Maps.Location(e.lat,e.lon)}),this.showInfobox&&this.setInfoboxContents(e)))}},{key:"pushpinHoverHandler",value:function(e){this.highlightPushpin(e.id),this.showInfobox&&this.setInfoboxContents(e)}},{key:"pushpinHoverOutHandler",value:function(){this.unhighlightPushpin(),this.infobox.setOptions({visible:!1})}},{key:"highlightPushpin",value:function(e){var t=this.pushpins[e];if(t&&t.toggleState(),this.selectedPin&&this.selectedPin!==e){var n=this.pushpins[this.selectedPin];n&&n.reset()}this.selectedPin=e}},{key:"unhighlightPushpin",value:function(){if(this.selectedPin){var e=this.pushpins[this.selectedPin];e&&e.reset()}}},{key:"clearInfobox",value:function(e){!e&&angular.element(document.querySelector(".fullscreen-btn")).removeClass("infobox-active");var t=this.infobox.getOverlayElement()[0].querySelector("#mapinfobox");return t&&t.hasChildNodes()&&t.removeChild(t.firstChild),t}},{key:"getInfoboxLocation",value:function(e){var t=this.mapConstant.CONFIG.VIEW_OPTIONS.DESKTOP.INFOBOX,n=this.mapConstant.CONFIG.VIEW_OPTIONS.DESKTOP.PUSHPIN,r=new this.$window.Microsoft.Maps.Location(e.lat,e.lon),o=this.map.tryLocationToPixel(r);o.x+=t.xOffset,o.y+=t.yOffset;var a=o.x+t.width,i=o.y-t.height,s=this.map.getWidth()/2,c=-this.map.getHeight()/2;return a>s&&(o.x-=t.width+n.width/2),i<c+t.yOffset&&(o.y+=t.height-n.height,o.y-t.height<c+t.yOffset&&(o.y+=n.height-t.xOffset,a>s?o.x+=t.xOffset:o.x-=t.xOffset)),this.map.tryPixelToLocation(o)}},{key:"setInfoboxContents",value:function(e){this.infobox.setOptions(this.isMobile?{visible:!0}:{location:this.featureFlags.HOVER_MAP?this.getInfoboxLocation(e):this.map.getCenter(),visible:!0});var t=this.clearInfobox(!0),n=this.searchService.getHotelAction(this.searchParams,e),r=angular.element(document.querySelector(".Infobox")).parent(),o=this.$rootScope.$new(),a={ctaText:this.searchUrlHelper.getCtaText(n,e),ctaUrl:this.searchUrlHelper.getCtaUrl(n,e,this.searchParams),hotel:e,hotelAction:n,hotelRates:this.$filter("chPrice")(e),propertyPageUrl:this.searchUrlHelper.getPropertyPageUrl(e)};r.addClass("ch-map-infobox"),angular.extend(o,{selectedPin:a});var i=this.$compile('<ch-infobox\n        show-info="this.$location.search().view === this.searchConst.VIEW_OPTIONS.MAP"\n        selected-pin="selectedPin"\n      >\n      </ch-infobox>')(o);this.$timeout((function(){return t.appendChild(i[0])})),this.isMobile&&!this.featureFlags.FULL_SCREEN_MAP_MOBILE&&document.querySelector(".fullscreen-btn").classList.add("infobox-active")}},{key:"setMapBoundsZoomLevel",value:function(e,t){var n=this,r=e.north,o=e.south,a=e.east,i=e.west,s=t.map((function(e){return new n.$window.Microsoft.Maps.Location(+e.lat,+e.lon)}));t?this.map.setView({bounds:this.$window.Microsoft.Maps.LocationRect.fromLocations(s)}):this.map.setView({bounds:this.$window.Microsoft.Maps.LocationRect.fromEdges(r,i,o,a)});var c=this.map.getZoom();this.featureFlags.MAP_CURRENT_AREA_SEARCH&&this.sessionStorageHelper.getMapZoomLevel()&&(c=this.sessionStorageHelper.getMapZoomLevel()),this.map.setView({zoom:c>11?c:c+1})}},{key:"loadInfobox",value:function(){return this.infobox||(this.infobox=new this.$window.Microsoft.Maps.Infobox(this.map.getCenter(),{htmlContent:'<div id="mapinfobox"></div>'})),this.infobox.setMap(this.map),this.infobox}},{key:"createNewViewChangeHandler",value:function(){var e=this;this.startHandler=this.$window.Microsoft.Maps.Events.addThrottledHandler(this.map,"viewchangestart",(function(){e.mapStartingPoint=e.map.getCenter()}))}},{key:"updateHotels",value:function(){if(this.onUpdateHotels){this.featureFlags.FULL_SCREEN_MAP_MOBILE&&this.isFullscreenMobile&&(this.showUpdateHotels=!1);var e=this.map.getCenter();if(this.featureFlags.MAP_CURRENT_AREA_SEARCH){this.mapAnalytics.init(this);var t={page:"property",zoom:this.map.getZoom()};this.sessionStorageHelper.setMapZoomLevel(t),this.sessionStorageHelper.setMapCenter(this.map.getCenter()),this.$rootScope.$broadcast(this.eventsConst.UPDATE_HOTELS,this.strings.search.currentMapArea)}this.onUpdateHotels({$event:{$place:{currentLocation:!0,lat:e.latitude,lon:e.longitude}}})}}}])&&o(t.prototype,n),a&&o(t,a),e}();e.exports={bindings:{activeHotelId:"<?",centerOnPin:"<",currentPlace:"<?",enableHotelScroll:"<?",initialZoom:"<",onUpdateHotels:"&",results:"<",scrollToHotel:"&?",showInfobox:"<?",showUpdateHotels:"<?"},controller:a,template:n(918)}},function(e,t){e.exports='<div\n  class="ch-map-wrapper"\n  ng-class="{\n    \'is-desktop-map\': !$ctrl.isMobile,\n    \'is-mobile-map\': $ctrl.isMobile,\n    \'fullscreen\': ($root.featureFlags.FULL_SCREEN_MAP_MOBILE && $ctrl.isMobile) || $ctrl.isFullscreenMobile\n  }"\n>\n  <nav class="ch-map-tools" ng-if="!$ctrl.hideMapTools">\n    <button\n      ch-focus-if="focusListView"\n      class="btn btn-secondary back-to-list"\n      ch-trap-focus\n      ng-click="$ctrl.searchResultsService.changeView($ctrl.searchConst.VIEW_OPTIONS.LIST).updateSearchCriteria().updateUrl()"\n      ng-if="$ctrl.featureFlags.FULL_SCREEN_MAP_MOBILE && $ctrl.isMobile"\n      so-omniture-custom-click-tracking-link="viewByList"\n    >\n      <span class="ch-icon ch-icon-chevron-left" aria-hidden="true"></span>\n      <span class="sr-only">{{::$root.strings.search.results.backScreenReader}}</span>\n      <span class="btn-title visible-inline hidden-xs">{{::$root.strings.search.results.listView}}</span>\n      <span class="btn-title visible-xs-inline">{{::$root.strings.search.results.back}}</span>\n    </button>\n    <button\n        class="btn btn-secondary fullscreen-btn"\n        ng-click="\n          $ctrl.isFullscreenMobile = !$ctrl.isFullscreenMobile;\n          $ctrl.mapExpanded = !$ctrl.mapExpanded;\n          $ctrl.fireMapExpansionAnalytics();\n          $root.globalHeaderUi.hideHeader = !$root.globalHeaderUi.hideHeader;\n        "\n        ng-if="$ctrl.isMobile && !$root.featureFlags.FULL_SCREEN_MAP_MOBILE"\n        aria-hidden="true">\n      <span\n          class="ch-icon"\n          ng-class="{\n            \'ch-icon-full-screen\': !$ctrl.isFullscreenMobile,\n            \'ch-icon-close-full-screen\': $ctrl.isFullscreenMobile\n          }">\n      </span>\n    </button>\n    <button\n      class="btn btn-secondary"\n      ng-class="{\n        \'update-hotels-left\': !$ctrl.isFullscreenMobile || !$root.featureFlags.FULL_SCREEN_MAP_MOBILE,\n        \'update-hotels-right\': $ctrl.isFullscreenMobile && $root.featureFlags.FULL_SCREEN_MAP_MOBILE\n      }"\n      ng-click="$ctrl.updateHotels()"\n      ng-if="$ctrl.showUpdateHotels"\n      aria-hidden="true"\n    >\n      {{::$root.strings.search.results.mapUpdateHotels}}\n    </button>\n  </nav>\n\n  <div class="ch-map" id="{{$ctrl.mapId}}"></div>\n</div>\n'},function(e,t){e.exports={CONFIG:{MAP_OPTIONS:{COMMON:{credentials:"AhWjEkph-0Gf5hLefV-CiaK05jAnyWfM30VcEbHIdYxlinHb7jiJPYGqNx0vK7Ep",disableScrollWheelZoom:!0,enableClickableLogo:!1,liteMode:!0,navigationBarOrientation:1,showBreadcrumb:!1,showLocateMeButton:!1,showMapTypeSelector:!1,showScalebar:!1},DESKTOP:{},FULL_PAGE:{disablePanning:!1,disableZooming:!1},MOBILE:{mobileViewDistance:10,showDashboard:!1},MOBILE_PROPERTY_RATES:{disablePanning:!0,disableZooming:!0},UNUSED:{allowHidingLabelsOfRoad:null,allowInfoboxOverflow:null,backgroundColor:null,credentials:null,customMapStyle:null,disableMapTypeKeyboardInput:null,disableMapTypeSelectorMouseOver:null,disableStreetside:null,disableStreetsideAutoCoverage:null,disableZooming:null,enableInertia:null,liteMode:null,maxBounds:null,maxZoom:null,minZoom:null,navigationBarMode:null,showTermsLink:null,showTrafficButton:null,showZoomButtons:null,streetsideOptions:null,supportedMapTypes:null}},VIEW_OPTIONS:{COMMON:{bounds:null,center:null,heading:null,labelOverlay:null,mapTypeId:null,mobileSearchZoom:10,padding:null,pitch:null,zoom:11},DESKTOP:{INFOBOX:{height:120,width:430,xOffset:18,yOffset:-110},PUSHPIN:{height:54,width:54}},FULL_PAGE:{center:null,zoom:11},MOBILE:{},MOBILE_PROPERTY_RATES:{},UNUSED:{}}},MAP_ENVS:{DESKTOP:"DESKTOP",FULL_PAGE:"FULL_PAGE",MOBILE:"MOBILE",MOBILE_PROPERTY_RATES:"MOBILE_PROPERTY_RATES"},MAP_IDS:{fullViewMap:"map",hotelLargeMap:"hotelLargeMap",splitViewMap:"Split",thumbnailMap:"hotelThumbMap"},MAPS_MATH:{degree:.017453292519943295,toMiles:1.6093},SRC:"https://www.bing.com/api/maps/mapcontrol"}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hotelId=null,this.lat=null,this.lon=null}var t,r,o;return t=e,(r=[{key:"setActiveHotel",value:function(e,t,n){this.hotelId=e,this.lat=t,this.lon=n}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=r},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["$rootScope","analyticsConst","analyticsManager","eventsConst","omniture","omnitureConst","pagesConst","siteConfig",function(e,t,r,o,a,i,s,c){return{init:function(l){r.initialize();var u=r.create({analyticsConst:t.PAGE_NAME,events:[{name:o.ANALYTICS_PAGE_LOADED,scope:e}],value:"Hotel Info - Home",view:s.PROPERTY_PAGE}).register();e.$on(o.UPDATE_HOTELS,(function(e,t){n(r.currentMapAreaObject,{value:t});var o=n({},c.omniture.globalProps,{eVar9:t,prop9:t});a.sendAnalyticsViaCustomLink(o)})),l.fireMapExpansionAnalytics=function(){u.value=l.mapExpanded?"Hotel Info - Map":"Hotel Info - Home",r.clickTracking.value=l.mapExpanded?i.CLICK_TRACKING.MAP.EXPAND_MAP:i.CLICK_TRACKING.MAP.COLLAPSE_MAP,e.$emit(o.ANALYTICS_PAGE_LOADED,s.PROPERTY_PAGE)}}}}]},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,o,a,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=t,this.$timeout=n,this.$window=r,this.loadScript=a,this.mapConstant=i,this.isMobile=s.deviceType===o.MOBILE,this.maps={}}var t,o,a;return e.$inject=["$q","$timeout","$window","deviceConst","loadScript","mapConstant","siteConfig"],t=e,(o=[{key:"destroy",value:function(){this.maps={}}},{key:"loadApi",value:function(){return this.mapPromise=this.$q.defer(),this.setMapLoadedCallback(),this.$window.Microsoft&&this.$window.Microsoft.Maps?this.$window.onBingMapLoaded():this.loadScript("".concat(this.mapConstant.SRC,"?callback=onBingMapLoaded"),{attrs:{defer:!0}}),this.mapPromise.promise}},{key:"setMapLoadedCallback",value:function(){var e=this;this.$window.onBingMapLoaded=function(){e.$window.Microsoft&&e.$window.Microsoft.Maps?e.mapPromise.resolve():e.$timeout(e.$window.onBingMapLoaded,200)}}},{key:"initMap",value:function(e,t,r,o){var a=!this.isMobile;if(!this.maps[e]){var i=n({},this.mapConstant.CONFIG.MAP_OPTIONS.COMMON,this.mapConstant.CONFIG.VIEW_OPTIONS.COMMON,this.mapConstant.CONFIG.MAP_OPTIONS[t],this.mapConstant.CONFIG.VIEW_OPTIONS[t],{center:r,showZoomButtons:a,zoom:o});this.maps[e]=new this.$window.Microsoft.Maps.Map("#".concat(e),i)}return this.maps[e]}},{key:"getBoundingBoxBasedOnResults",value:function(e){var t=e.reduce((function(e,t){return t.lat<e?t.lat:e}),e[0].lat),n=e.reduce((function(e,t){return t.lat>e?t.lat:e}),e[0].lat),r=e.reduce((function(e,t){return t.lon<e?t.lon:e}),e[0].lon),o=e.reduce((function(e,t){return t.lon>e?t.lon:e}),e[0].lon);return{east:Math.min(r,360),north:Math.max(n,-360),south:Math.min(t,360),west:Math.max(o,-360)}}},{key:"getBoundsZoomLevel",value:function(e,t){var n=256,r=256,o=(this.latitudeRadians(e.north)-this.latitudeRadians(e.south))/Math.PI,a=e.east-e.west,i=(a<0?a+360:a)/360,s=this.zoom(t.height,n,o),c=this.zoom(t.width,r,i),l=Math.min(s,c,19);return l>0?l:0}},{key:"latitudeRadians",value:function(e){var t=Math.sin(e*Math.PI/180),n=Math.log((1+t)/(1-t))/2;return Math.max(Math.min(n,Math.PI),-Math.PI)/2}},{key:"zoom",value:function(e,t,n){return Math.floor(Math.log(e/t/n)/Math.LN2)}},{key:"getMapLocation",value:function(e,t){return e&&t?new this.$window.Microsoft.Maps.Location(e,t):void 0}},{key:"calculateHaversineFormula",value:function(e,t,n,r){var o=this.mapConstant.MAPS_MATH.degree,a=.5-Math.cos((n-e)*o)/2+Math.cos(e*o)*Math.cos(n*o)*(1-Math.cos((r-t)*o))/2;return 12742*Math.asin(Math.sqrt(a))*this.mapConstant.MAPS_MATH.toMiles}}])&&r(t.prototype,o),a&&r(t,a),e}();e.exports=o},function(e,t,n){e.exports=angular.module("chApp.shared.rates",[n(452).name,n(453).name,n(926).name,n(928).name,n(930).name,n(931).name]).controller("ReactRatesPageDesktopCtrl",n(80)).controller("RatesDesktopPageCtrl",n(938)).controller("RatesMobilePageCtrl",n(939)).service("ratesMobileAnalytics",n(940))},,,function(e,t,n){e.exports=angular.module("chApp.shared.rates.rates.cart",[]).factory("ratesCart",n(927))},function(e,t,n){var r=n(0),o=n(371)();e.exports=["$location","$q","$rootScope","$state","$transitions","$uibModal","bedConst","checkoutContextData","checkoutService","cpUserData","dateHelper","deviceConst","eventsConst","featureFlags","gdpSavingsService","globalLoaderCounter","guestdataConst","httpStatusConstant","locationHelper","omniture","omnitureConst","ratesConst","ratesInventory","ratesRooms","roomkeyService","roomRateHelper","routeConst","searchConst","sessionStorageHelper","siteConfig","strings","userHelper",function(e,t,n,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_,x,D,M){var w,N=d.get(),L=t.defer();function k(e){return K.rooms.push(e),K.memberRateDisabled=!K.memberRate||!e.isMemberPrice||K.memberRateDisabled,g.addRackRoom(e,K.ratePlanCode,K.nights),K.updateTotals(),K}function F(e){return K.ratePlanCode=e,K}function H(e){return e.charAt(0).toUpperCase()+e.slice(1)}function U(e){return{checkInDate:e.roomStay.checkInDate,checkOutDate:e.roomStay.checkOutDate,contextId:e.contextId,ratePlan:e.roomStay.ratePlan}}function B(){if(!K.rooms.length||K.rooms.length!==S.params.api.rooms)return K;var e=S.params.api,t=l.get(),n=S.params.hotel,o=S.ratePlans[K.ratePlanCode];function a(){l.clear();var t={},a=[];angular.forEach(K.rooms,(function(e){if(!t[e.roomCode]){var n=o.roomStayCharges.find(r.byRoomCode(e.roomCode));a.push(angular.extend({afterTax:n.afterTax,beforeTax:n.beforeTax},n.room)),t[e.roomCode]=0}t[e.roomCode]++})),l.update({acceptedPaymentCards:n.acceptedPaymentCards,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,currencyCode:o.currencyCode,enrollInChoicePrivileges:!1,enrollingInChoicePrivileges:!1,groupRoomCounts:t,hotelId:n.id,ratePlan:K.ratePlanCode,rooms:a,totalAfterTax:K.cashTotalAfterTax||0,totalBeforeTax:K.cashTotal||0}),R.goToReturnPath()}return t.contextId?K.promise=u.deleteReservation(t).finally(a):(a(),K.promise=L.promise,L.resolve()),K}function G(){return S.modify&&f.MODIFY_RESERVATION_FLOW&&x.deviceType===h.DESKTOP?_.getCheckoutContext():l.get()}function j(){if(!K.rooms.length)return K;var r=G().contextId,o=angular.extend(function(){var e={roomStay:angular.extend({},S.params.api,{hotelId:S.params.hotel.id.toUpperCase(),ratePlan:K.ratePlanCode})};return delete e.roomStay.ratePlanCode,delete e.roomStay.currencyCode,delete e.roomStay.rooms,K.rooms.forEach((function(t,n){var r;Array.isArray(t.ageOfMinors)&&t.minors>0&&t.ageOfMinors.some((function(e){return null!==e}))?t.ageOfMinors=t.ageOfMinors.slice(0,t.minors).join(","):delete t.ageOfMinors,Object.keys(t).filter((function(e){return"isMemberPrice"!==e})).forEach((function(r){return e.roomStay[r+(n?n+1:"")]=t[r]})),e.roomStay["extraBed".concat(n?n+1:"")]=(r=t.extraBed)&&r.bedCode!==c.EXTRA_BED_OPTIONS.DEFAULT.bedCode&&r.bedCode!==c.EXTRA_BED_OPTIONS.NONE.bedCode?r.bedCode:""})),e}());if(r)if(S.modify)if(l.update(angular.extend({},G(),{clientId:o.roomStay.clientId,hotelId:o.roomStay.hotelId})),l.requestedWithModifications(o)){var a=angular.extend(U(o),{contextId:r,ratePlan:K.ratePlanCode});K.ratePlanCode!==E.RATE_PLAN_CODES.SRD&&K.ratePlanCode!==E.RATE_PLAN_CODES.PPC||angular.extend(a,{guaranteeMethod:y.GUARANTEE_METHOD_FOR_RATE_PLAN[K.ratePlanCode]}),K.promise=u.replaceRoomsIntoReservation(a,o.roomStay)}else K.promise=t.reject();else l.requestedWith(o)?(o.contextId=r,K.promise=u.addRoomsIntoReservation(U(o),o.roomStay).catch((function(e){return(e.data.outputErrors||{}).NONEXISTENT_CHECKOUT_CONTEXT?u.createReservation(o):e&&e.status===C.NOT_FOUND?(l.clear(),u.createReservation(o)):void 0}))):(u.deleteReservation({contextId:r}),l.clear(),K.promise=u.createReservation(o));else K.promise=u.createReservation(o);return v.inc(),K.promise.then((function(t){t.hotel=S.params.hotel,S.params.group&&(t.groupInfo=S.params.group),function(e){if(S.modify){var t=G().guestBillingDetails;t&&(e.guestBillingDetails=t)}}(t),l.update(t),T.unloadPopUnderWindow(),R.goToReturnPath(),t.ratePlan===E.RATE_PLAN_CODES.S3A&&t.confirmationId&&e.path("".concat(e.path(),"/guestdata"))})).catch((function(e){var t=G(),r=function(e,t){var n=!1;t&&t.data&&t.data.outputErrors&&(n=!0);var r="";r=e.rooms&&e.ratePlan&&n&&t.data.outputErrors.INVALID_CHECKOUT_INSUFFICIENT_POINTS?D.propertyRates.errors.bookRoomInsufficientPointsErrorContinue:n&&t.data.outputErrors.INVALID_CHECKOUT_INSUFFICIENT_POINTS?D.propertyRates.errors.bookRoomInsufficientPointsErrorCancel:n&&t.data.outputErrors.ADULTS_ONLY_HOTEL?D.propertyRates.errors.bookRoomErrorAdultsOnly:n&&t.data.outputErrors.TOO_MANY_PEOPLE_IN_ROOM?D.propertyRates.errors.srdMaxCapacity:e.rooms&&e.ratePlan?D.propertyRates.errors.bookRoomMessageCancelContinue:D.propertyRates.errors.bookRoomMessageCancel;return r}(t,e),o="".concat(M.isResponseRejectedByAkamaiManager(e)?"AB".concat(M.getBotManagerReferenceNumber(e),"|"):"").concat(r);b.sendAnalyticsViaPageLoad({pageName:P.RATES_PAGE.POP,prop19:o,prop54:P.RATES_PAGE.BUTTON});var a=t.rooms&&t.ratePlan?"rates-bookroom-continue-cancel.modal.html":"rates-bookroom-cancel.modal.html",i=n.$new(!0);i.errorMessage=o,o===D.propertyRates.errors.srdMaxCapacity&&(i.showSrdMaxOccupancyWarning=!0),function(e,t){s.open({backdrop:"static",controller:"RatesMessageModalCtrl",scope:t,size:"lg",templateUrl:"/".concat(x.assetFingerprint,"/app/rates-mobile/modals/").concat(e)})}(a,i)})).finally(v.dec),K}function V(e){f.SO_DEFAULT_RATE_TAB&&(K.specificSelectedRate=e),S.ratePlans[e]?(K.selectedTab=H(S.ratePlans[e].rate),K.ratePlanCode=S.ratePlans[e].ratePlanCode):angular.forEach(E.TYPES,(function(t){angular.equals(t,e&&e.toLowerCase())&&(K.selectedTab=H(t),K.ratePlanCode=e)})),K.updateMemberRate(),K.trigger("selectTab",K)}function Y(){for(var e in S.ratePlans)if(S.ratePlans[e].childRatePlanCodes&&Object.keys(S.ratePlans[e].childRatePlanCodes).length)return!0;return!1}function W(){K.memberRate=S.ratePlans[K.ratePlanCode]&&S.ratePlans[K.ratePlanCode].roomStayCharges&&!!S.ratePlans[K.ratePlanCode].roomStayCharges.find((function(e){return e.childRates&&e.childRates.length})),K.memberRateDisabled=!1,K.nonMemberRate=!K.memberRate||!N||!N.signedIn}function q(){var t=l.get(),n=e.search().view;if(S.initialLoad&&S.modify||S.groupCreate&&t.groupRoomCounts){K.ratePlanCode=t.groupRoomCounts&&t.ratePlan||S.params.api.ratePlanCode,K.setDefaultTab(K.ratePlanCode),K.rooms=[];var r=S.ratePlans[K.ratePlanCode]&&S.ratePlans[K.ratePlanCode].roomStayCharges||[];angular.forEach(r,(function(e){e.addedRooms.forEach(k)}))}else{if(f.SO_DEFAULT_RATE_TAB&&(K.previousSelectedRate!==S.params.api.ratePlanCode?(K.ratePlanUpdated=!0,K.specificSelectedRate=null,K.previousSelectedRate=S.params.api.ratePlanCode):K.ratePlanUpdated=!1),K.ratePlanCode=S.params.api.ratePlanCode||E.RATE_PLAN_CODES.RACK,"packages"===n)return void V(n);n&&S.ratePlans[n]?V(n):K.setDefaultTab(S.params.api.ratePlanCode)}if(e.search("view",null).replace(),K.clear(),S.groupCreate?angular.extend(K,{checkout:B,maxRooms:$.GROUP_OPTIONS.maxRoomsPerGroup}):angular.extend(K,{checkout:j,maxRooms:E.MULTI_ROOM.MAX_ROOM_FOR_RATE[K.ratePlanCode]||E.MULTI_ROOM.MAX_ROOM}),K.nights=p.subtractDates(S.params.api.checkOutDate,S.params.api.checkInDate),S.ratePlans&&S.ratePlans[K.ratePlanCode]){var o=S.ratePlans[K.ratePlanCode];o&&o.ratePlanCode===E.RATE_PLAN_CODES.SRD?(K.selectedCurrencyCode=E.POINTS,K.minPrice=o.fromPoints,K.taxInclusive=o.taxInclusive):(K.selectedCurrencyCode=o.currencyCode,K.minPrice=o.fromCash,K.taxInclusive=o.taxInclusive),function(e){K.selectedCurrencyCode===E.POINTS?K.maxPrice=e.roomStayCharges&&e.roomStayCharges.reduce((function(e,t){return t.avgNightlyPoints>e?t.avgNightlyPoints:e}),0):K.maxPrice=e.roomStayCharges&&e.roomStayCharges.reduce((function(e,t){return t.avgNightlyBeforeTax>e?t.avgNightlyBeforeTax:e}),0)}(o)}}n.$on(m.LOGGED_IN_OR_OUT,(function(){return K.nonMemberRate=!K.memberRate||!N||!N.signedIn})),i.onBefore({},(function(e){w=e.from()})),w||(w={});var K=angular.extend(o,{addRoom:k,adultOnlyHotel:!1,cashTotal:void 0,cashTotalAfterTax:void 0,checkout:j,childAgesRequired:!1,clear:function(){return S.ratePlans[K.ratePlanCode]&&A.reset(S.ratePlans[K.ratePlanCode].roomStayCharges),K.cashTotal=void 0,K.cashTotalAfterTax=void 0,K.pointsTotal=void 0,K.rooms=[],K.updateTotals(),K},discountTotal:void 0,discountTotalAfterTax:void 0,init:function(){return angular.extend(K,{adultOnlyHotel:!1,cashTotal:void 0,cashTotalAfterTax:void 0,checkout:j,childAgesRequired:!1,isEmpty:!0,maxRooms:E.MULTI_ROOM.MAX_ROOM,nights:1,pointsTotal:void 0,previousSelectedRate:null,ratePlanCode:null,ratePlanUpdated:!1,rooms:[],selectedTab:null,specificSelectedRate:null}),S.on("update",q),K.off("selectTab"),K},isEmpty:!0,maxRooms:E.MULTI_ROOM.MAX_ROOM,memberRate:!1,memberRateDisabled:!1,nights:1,nonMemberRate:!0,pointsTotal:void 0,promise:L.promise,ratePlanCode:null,removeRoom:function(e){var t=K.rooms.indexOf(e);return t>=0&&(K.rooms.splice(t,1),g.removeRackRoom(e),K.updateTotals()),K.memberRateDisabled=!K.memberRate||K.rooms.some((function(e){return!e.isMemberPrice})),K},rooms:[],selectTab:V,selectedTab:null,setDefaultTab:function(t){if(w&&w.name===I.ROUTE_NAMES.GUEST_DATA_VIEWS&&Y())return S.ratePlans[a.params.ratePlanCode]&&(r=S.ratePlans[a.params.ratePlanCode]),angular.forEach(S.ratePlans,(function(e){e.childRatePlanCodes&&e.childRatePlanCodes[a.params.ratePlanCode]&&(r=e.childRatePlanCodes[a.params.ratePlanCode]&&e)})),void V(r.rate);var r;function o(){var e;angular.forEach(S.ratePlans,(function(t){(!e||t.fromCash<e.fromCash)&&(e=t)})),e&&e.rate&&(V(e.rate),Y()&&(F(e.ratePlanCode),W()))}if(f.SO_DEFAULT_RATE_TAB)return K.ratePlanUpdated?(V(t),void(K.ratePlanUpdated=!1)):K.specificSelectedRate?void V(K.specificSelectedRate):void o();if(K.ratePlanCode===E.RATE_PLAN_CODES.SRD&&(N.loyaltyAccount||{}).accountBalance>=(S.ratePlans[E.RATE_PLAN_CODES.SRD]||{}).fromPoints)V(E.RATE_PLAN_CODES.SRD);else{t&&(!K.selectedTab||S.ratePlans[K.selectedTab]||Object.keys(S.ratePlans).find((function(e){return H(S.ratePlans[e].rate)===K.selectedTab})))||(K.selectedTab=K.ratePlanCode=null);var i=n.referrer.length&&n.referrer.indexOf(e.host())<=0&&e.search().ratePlanCode&&e.search().ratePlanCode.length;S.ratePlans[e.search().ratePlanCode]&&w&&w.name!==I.ROUTE_NAMES.GUEST_DATA_VIEWS?V(e.search().ratePlanCode):!i&&Object.keys(S.ratePlans).length&&(S.warning&&S.warning.length||S.initialLoad)&&w&&w.name!==I.ROUTE_NAMES.GUEST_DATA_VIEWS?o():(t===E.RATE_PLAN_CODES.RACK&&w&&w.name!==I.ROUTE_NAMES.GUEST_DATA_VIEWS?o():V(t),K.selectedTab||(K.selectedTab=K.ratePlanCode=w&&w.name!==I.ROUTE_NAMES.GUEST_DATA_VIEWS&&S.ratePlans[E.RATE_PLAN_CODES.SRD]&&E.RATE_PLAN_CODES.SRD||E.RATE_PLAN_CODES.RACK))}},setRatePlan:F,updateChildAgesRequired:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];K.childAgesRequired=e},updateHotelAdultStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];K.adultOnlyHotel=e},updateMemberRate:W,updateTotals:function(){var e;return K.isEmpty=!K.rooms.length,K.ratePlanCode!==E.RATE_PLAN_CODES.SRD&&(K.cashTotal=0,K.cashTotalAfterTax=0,K.discountTotal=0,K.discountTotalAfterTax=0,K.RACKtotal=0),K.ratePlanCode!==E.RATE_PLAN_CODES.SRD&&K.ratePlanCode!==E.RATE_PLAN_CODES.PPC||(K.pointsTotal=0),K.rooms.forEach((function(t){var n=(t.extraBed||{}).cost||0,o=S.ratePlans[K.ratePlanCode].roomStayCharges.find(r.byRoomCode(t.roomCode)),a=0,i=0;f.AMR_MASTER&&(a=O.calculateTotalExtraAdultCostForRoom(t,o),i=O.calculateTotalChildCostForRoom(t,o)),S.ratePlans.RACK&&(e=S.ratePlans.RACK.roomStayCharges.find(r.byRoomCode(t.roomCode)));var s=n+a+i;o.extraAdultsCost=a,void 0!==K.cashTotal&&(K.cashTotal+=o.beforeTax+s*K.nights,K.cashTotalAfterTax+=o.afterTax,e&&(K.RACKtotal+=(e.avgNightlyBeforeTax+s)*K.nights),o.childRates&&o.childRates.length&&(K.discountTotal+=o.childRates[0].beforeTax+s*K.nights,K.discountTotalAfterTax+=o.childRates[0].afterTax+s*K.nights)),void 0!==K.pointsTotal&&(K.pointsTotal+=o.points)})),K}});return K}]},function(e,t,n){e.exports=angular.module("chApp.rates.errors",[]).component("chRatesErrors",n(929))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootScope=t}var t,r,o;return e.$inject=["$rootScope"],t=e,(r=[{key:"openLoginModal",value:function(){this.$rootScope.$broadcast("loginRequired")}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{ratesErrorsHtml:"<"},controller:r,templateUrl:["siteConfig",function(e){return"/".concat(e.assetFingerprint,"/shared/rates/rates-errors/rates-errors.html")}]}},function(e,t,n){e.exports=angular.module("chApp.shared.rates.rates.inventory",[]).service("ratesInventory",n(454))},function(e,t,n){e.exports=angular.module("chApp.shared.rates.rooms",[]).component("chRatesRoomPrice",n(932)).component("chReactChildAge",n(933)).directive("chRatesRoom",n(934)).directive("chRatesRoomBed",n(935)).directive("chRatesRoomItem",n(936)).directive("chRatesRoomThumbnail",n(937)).factory("ratesRooms",n(455))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,a,i,s,c,l,u,d,p,h,m){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$uibModal=t,this.$scope=n,this.brandConst=r,this.featureFlags=o,this.hotelHelper=a,this.cart=i,this.ratesConst=s,this.inventory=c,this.ratesRooms=l,this.roomRateHelper=u,this.searchConst=d,this.siteConfig=h,this.searchCriteriaData=p,this.strings=m}var t,r,o;return e.$inject=["$uibModal","$scope","brandConst","featureFlags","hotelHelper","ratesCart","ratesConst","ratesInventory","ratesRooms","roomRateHelper","searchConst","searchCriteriaData","siteConfig","strings"],t=e,(r=[{key:"$onInit",value:function(){this.roomRate&&this.ratesRooms.addNightlyRates(this.roomRate,this.searchConst.DATE_FORMAT.WEEK_MONTH_DAY),this.searchCriteria=this.searchCriteriaData.get(),this.isAmrProperty=this.hotel&&-1!==this.brandConst.BRAND_CODE_GROUPS.AMR.indexOf(this.hotel.brandCode),this.showOccupancyInfo=(this.featureFlags.AMR_OCCUPANCY_ALL&&this.featureFlags.AMR_MASTER||this.featureFlags.AMR_MASTER&&this.isAmrProperty)&&this.searchCriteria&&(this.searchCriteria.minors||this.searchCriteria.adults),this.inventory&&void 0!==this.inventory.ratePlans&&this.roomRate&&this.roomRate.ratePlanCode&&(this.cancelExpired=this.inventory.ratePlans[this.roomRate.ratePlanCode]&&(this.inventory.ratePlans[this.roomRate.ratePlanCode].cancelExpired||"NCXL"===this.inventory.ratePlans[this.roomRate.ratePlanCode].cancellationPolicy)||-1!==this.ratesConst.ADVANCE_PURCHASE_RATE_PLANS.indexOf(this.roomRate.ratePlanCode));var e=this.featureFlags.CLOSED_USER_GROUP_V2&&this.roomRate.childRates&&!this.inventory.multiRoom&&!this.inventory.modify?"-fenced":"-default";this.checkForGuestWarning(),this.includePath="".concat(this.siteConfig.assetFingerprint,"/shared/rates/rooms/rates-room-price").concat(e,".html"),this.featureFlags.FLASH_SALE_MERCHANDISING_DESKTOP&&(this.percentDiscountLabel=this.roomRateHelper.getFlashSalePercentOffLabel(this.inventory.ratePlans,this.roomRate))}},{key:"$onChanges",value:function(e){var t=e.ratePlan;t.currentValue&&this.hotelHelper.shouldHotelShowSrdOccupancyWarning(this.hotel,t.currentValue.ratePlanCode)&&this.checkForGuestWarning()}},{key:"validateAgeOfMinors",value:function(){if(this.featureFlags.AMR_MASTER&&this.searchCriteria&&this.isAmrProperty){var e=this.searchCriteria,t=e.ageOfMinors,n=e.minors,r=this.hotel&&this.hotel.adultOnlyHotel,o=t?t.split(",").filter((function(e){return e})).length:0;return!n||r||n>0&&o===n}return!0}},{key:"openBookingMessageModal",value:function(e,t){this.$scope.errorMessage=t,this.$scope.errorHeader=e,this.$uibModal.open({scope:this.$scope,size:"md",templateUrl:"/".concat(this.siteConfig.assetFingerprint,"/app/rates-mobile/modals/rates-bookroom-minors-error.modal.html")})}},{key:"bookRoom",value:function(e){this.inventory.multiRoom||this.inventory.modify||(this.validateAgeOfMinors()?(this.removeRoom(),this.addRoom({adults:this.inventory.params.api.adults,extraBed:this.roomRate.extraBed,minors:this.inventory.params.api.minors}),this.roomRate.hasOccupancyError||this.cart.setRatePlan((e?this.roomRate.childRates[0]:this.roomRate).ratePlanCode).checkout()):this.openBookingMessageModal(this.strings.propertyRates.errors.ageOfMinorsErrorHeader,this.strings.propertyRates.errors.ageOfMinorsErrorMessage))}},{key:"checkForGuestWarning",value:function(){this.shouldShowGuestWarning=Boolean(this.showOccupancyInfo&&this.ratePlan&&this.hotelHelper.shouldHotelShowSrdOccupancyWarning(this.hotel,this.ratePlan.ratePlanCode)&&this.searchCriteria&&this.hotelHelper.shouldShowGuestWarning(this.searchCriteria.adults,this.searchCriteria.minors))}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports={bindings:{addRoom:"=",discount:"<?",hotel:"=?",index:"<",ratePlan:"<",removeRoom:"=",roomRate:"<"},controller:r,templateUrl:["siteConfig",function(e){return"/".concat(e.assetFingerprint,"/shared/rates/rooms/rates-room-price.html")}]}},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,{$scope:t,$window:r,debounceHelper:o,model:[],reactHelper:a}),this.handleChangeModel=o(this.handleChangeModel.bind(this),0)}var t,o,a;return e.$inject=["$scope","$window","debounceHelper","reactHelper"],t=e,(o=[{key:"$onInit",value:function(){var e=this;this.reactHelper.loadReactApp((function(){return e.loadReactChildAgeSelector()})),this.ngModel.$render=function(){e.model=e.ngModel.$viewValue.slice()},this.$scope.$watchCollection("$ctrl.model",(function(t){e.ngModel.$setViewValue(t),e.callback&&e.callback(),e.loadReactChildAgeSelector()}))}},{key:"$onChanges",value:function(e){e.minors&&e.minors.previousValue!==e.minors.currentValue&&(this.callback&&this.callback(),this.loadReactChildAgeSelector())}},{key:"handleChangeModel",value:function(e){var t=e.value;this.model=t}},{key:"loadReactChildAgeSelector",value:function(){var e=this,t=this.$scope,n=this.$window,r=n.MinorsAgeListInput,o=n.Provider,a=n.React,i=n.store;this.reactHelper.renderToScope(a.createElement(o,{store:i},a.createElement(r,{description:this.errorMessage||null,id:"minors-age-list-input-".concat(this.id),minorsAgeListExceedsMax:this.minorsAgeListExceedsMax,minorsCount:Number(this.minors),onChange:this.handleChangeModel,setMinorsAgeListMaxError:function(t){return e.setMinorsAgeListMaxError(t)},value:this.model})),"#".concat(this.id),t)}}])&&r(t.prototype,o),a&&r(t,a),e}();e.exports={bindings:{callback:"&?",errorMessage:"<",id:"<",isAdultsOnly:"<?",minors:"<",minorsAgeListExceedsMax:"<?",setMinorsAgeListMaxError:"=?"},controller:o,require:{ngModel:"ngModel"},template:'<div id="{{$ctrl.id}}"></div>'}},function(e,t,n){var r=n(0);e.exports=["$location","arrayHelper","bedConst","featureFlags","localeService","ratesCart","ratesConst","ratesInventory","ratesRooms","searchConst","siteConfig",function(e,t,n,o,a,i,s,c,l,u,d){return{link:function(d,p,h){function m(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"VirtualTour",o=n.find((function(e){return e.roomCodes&&e.roomCodes.indexOf(t)>=0&&e.categoryCode===r}))||null;if(!o||!/^http:/.test(o.url)||"https"!==e.protocol())return o}d.addRoom=function(e){if(d.roomRate.roomError=i.rooms.length>=c.ratePlans[d.roomRate.ratePlanCode].maxRoomsPerBooking&&s.ROOM_ERRORS.UNAVAILABLE||d.roomRate.available<=0&&s.ROOM_ERRORS.UNAVAILABLE||i.rooms.length>=i.maxRooms&&s.ROOM_ERRORS.MAX_ROOMS,d.roomRate.hasRoomError=!!d.roomRate.roomError,d.roomRate.roomError)d.roomRate.addCount=d.roomRate.addedRooms.length;else{d.roomRate.available--;var r=angular.extend({adults:1,extraBed:n.EXTRA_BED_OPTIONS.DEFAULT,isMemberPrice:d.roomRate.childRates&&d.roomRate.childRates.length||!1,minors:0,occupancyStatus:s.OCCUPANCY_STATUS.OK,roomCode:d.roomRate.roomCode},e);o.AMR_MASTER&&(r.ageOfMinors=t.times(u.INPUT_LIMITS.minors.max,(function(){return null}))),d.roomRate.extraBed=n.EXTRA_BED_OPTIONS.DEFAULT,d.roomRate.addedRooms.push(r),d.roomRate.addCount=d.roomRate.addedRooms.length,i.setRatePlan(d.roomRate.ratePlanCode).addRoom(r)}},d.removeRoom=function(){if(d.roomRate.addedRooms.length){d.roomRate.hasError=!1,d.roomRate.available++;var e=d.roomRate.addedRooms.pop();d.roomRate.addCount=d.roomRate.addedRooms.length,i.removeRoom(e),e===d.roomRate.lastRoomEdited&&(d.roomRate.lastRoomEdited=null)}},d.updateOccupancyStatus=function(e){l.updateOccupancyStatus(e,d.roomRate,c)},d.updateTotals=function(){d.updateOccupancyStatus(),i.updateTotals()},function(){var e=c.ratePlans.RACK?c.ratePlans.RACK.roomStayCharges.find(r.byRoomCode(d.roomRate.roomCode)):{};if(d.roomRate=d.$eval(h.chRatesRoom),d.roomRate.roomMerchandising.description&&(d.roomRate.roomMerchandising.description=d.roomRate.roomMerchandising.description.replace(/,\s*$/,"")),d.updateOccupancyStatus(),d.showAmenities=!1,d.ratePlan=c.ratePlans[d.roomRate.ratePlanCode]||{},c.params.hotel.videos&&(d.virtualTour=m(d.roomRate.roomCode,c.params.hotel.videos,"VirtualTour"),d.virtualTour&&(d.virtualTourUrl=d.virtualTour.url),o.IWSR_MASTER&&!a.isDomestic())){var t=m(d.roomRate.roomCode,c.params.hotel.videos,"YouTube");d.videoTourUrl=t?t.url:null}d.roomRate.avgNightlyBeforeTax<e.avgNightlyBeforeTax&&(d.discount={cash:e.avgNightlyBeforeTax,currencyCode:e.currencyCode}),d.roomRate.roomMerchandising&&d.roomRate.roomMerchandising.amenities&&(d.amenityList=Object.keys(d.roomRate.roomMerchandising.amenities).map((function(e){return{description:d.roomRate.roomMerchandising.amenities[e]}})))}()},scope:!0,templateUrl:function(){return"/".concat(d.assetFingerprint).concat("/shared/rates/rooms/rates-room.html")}}}]},function(e,t){e.exports=["$parse","featureFlags","objectHelper","siteConfig",function(e,t,n,r){return{link:function(t,r,o){t.getPropertyByString=n.getPropertyByString;var a=e(o.chRatesRoomBed);t.bed=t.roomRate.extraBedOptions[0],t.select=function(e){a.assign(t,e),t.bed=a(t),o.onSelect&&t.$parent.$eval(o.onSelect,{bed:t.bed})}},replace:!0,scope:!0,templateUrl:"/".concat(r.assetFingerprint,"/shared/rates/rooms/rates-room-bed.html")}}]},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=["ratesCart","ratesConst","siteConfig","strings",function(e,t,r,o){return{link:function(r){n(r,{adultOnlyHotel:e.adultOnlyHotel,adultsCountId:"adults-count-input-".concat(r.$id),childAgesRequired:e.childAgesRequired,hasError:!1,minorsAgeListExceedsMax:!1,minorsCountId:"minors-count-input-".concat(r.$id),ratesRoomItemDescription:[r.roomRate.room.bedsDescription,r.roomRate.room.featuresDescription,o.propertyRates.room,r.key+1,""].join(" "),roomRequiresChildAge:!1,setMaxError:function(e){r.minorsAgeListExceedsMax=e},updateTotals:function(){r.room.extraBed=r.roomRate.extraBed,r.updateOccupancyStatus(r.room),n(r,{hasError:r.room.occupancyStatus!==t.OCCUPANCY_STATUS.OK,roomRequiresChildAge:!!r.room&&!!r.room.minors&&!!r.room.ageOfMinors&&r.room.ageOfMinors.slice(0,r.room.minors).indexOf(null)>-1}),r.roomRate.lastRoomEdited=r.room,e.updateTotals()}})},replace:!0,require:"^?chRatesRoom",templateUrl:"/".concat(r.assetFingerprint,"/shared/rates/rooms/rates-room-item.html")}}]},function(e,t){e.exports=["featureFlags","pagesConst","siteConfig",function(e,t,n){return{link:function(e){e.hasCarousel=e.hasGallery=e.images&&!!e.images.length,e.pageTracking=t.PROPERTY_RATES_PAGE},replace:!0,require:"^?chRatesRoom",scope:{galleryTitle:"@?",hotel:"=",image:"=chRatesRoomThumbnail",images:"=?"},templateUrl:"/".concat(n.assetFingerprint,"/shared/rates/rooms/rates-room-thumbnail.html")}}]},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=["$state","$scope","$timeout","$window","brandConst","dateHelper","eventsConst","featureFlags","groupInfo","handleRatesPageLoaded","hotel","hotelHelper","hotelService","pageEventsHelper","pagesConst","ratesCart","ratesConst","ratesInventory","ratesNewAnalytics","reactConst","reactHelper","roomRateHelper","searchCriteriaData","searchUpdateMetadata","sessionStorageHelper","stringsHelper","userActivityDetailsService",function(e,t,n,o,a,i,s,c,l,u,d,p,h,m,f,g,v,y,C,R,b,P,E,S,A,T,O){angular.extend(t,{groupInfo:l,hotel:l&&l.hotel||d,pageTracking:f.PROPERTY_RATES_PAGE,reloadWithRack:function(){e.params.ratePlanCode=v.RATE_PLAN_CODES.RACK,e.transitionTo(e.current,e.params,{location:"replace",reload:!0})}}),t.isAmrProperty=!1,t.inventory=y.init(t),t.cart=g.init(),y.on("update",(function(){!function(){if(this.flashSaleTimeout&&n.cancel(this.flashSaleTimeout),!c.FLASH_SALE_MERCHANDISING_DESKTOP||!P.isValidFlashSale(y.ratePlans))return t.percentDiscountLabel=null,t.flashSaleTimerLabel=null,void(t.ariaLiveTimerLabel=null);t.percentDiscountLabel=P.getFlashSaleBannerLabel(y.ratePlans);var e=Object.keys(y.ratePlans).map((function(e){return y.ratePlans[e]})).find(P.hasRatePlanCategory(v.CATEGORIES.FLASH)).bookingWindows.find((function(e){var t=e.startDate,n=e.endDate,r=(new Date).getTime();return Date.parse(t)<=r&&Date.parse(n)>r})).endDate;!function r(){!function(e){var n=i.millisecondsToDuration(e),r=n.days,o=n.hours,a=n.minutes,s=n.seconds,c=t.strings.general,l=c.daysPluralize,u=c.hoursPluralize,d=c.minutesPluralize;if(r>0){var p=l[1===r?"one":"other"].replace("{}",r);return t.flashSaleTimerLabel=p,void(t.ariaLiveTimerLabel=p)}var h=0!==o?u[1===o?"one":"other"].replace("{}",o):"",m=0!==a?d[1===a?"one":"other"].replace("{}",a):"";t.ariaLiveTimerLabel="".concat(h," ").concat(m).trim(),t.flashSaleTimerLabel=[o,a,s].map((function(e){return T.prepend(e.toString(),/\d\d/,"0")})).join(":")}(Math.max(Date.parse(e)-(new Date).getTime(),0)),this.flashSaleTimeout=n(r,1e3)}()}(),t.searchParams=E.get(),t.extendWeekendNights=A.getExtendWeekendNights(),A.deleteExtendWeekendNights(),C.init(t),C.registerStandardRatesScope(t),u({},m,f,d,y.rooms,y.error,t.searchParams),c.SO_PROP_ROOMS_MODULE&&(t.selectedRoomCode=A.getCurrentSelectedRoomCode())})),t.$on("$destroy",(function(){A.deleteCurrentSelectedRoomCode()})),y.update(),c.SO_REDESIGN_PROPERTY_INFO_REACT&&(t.pageId=b.generatePageId(),b.loadReactApp().then((function(){o.store&&o.store.dispatch({name:R.PAGE_DATA.PROPERTY,pageId:t.pageId,type:R.ACTIONS.ADD_PAGE_VALUE,value:r({},d)}),o.rates={pageId:t.pageId}}))),S.updatePropertyRatesMeta(t.hotel),t.$on(s.LOGGED_IN,(function(){m.loaded(f.LOGGED_IN_RATES_PAGE)})),c.SO_BED_TYPE_FILTER&&o.sessionStorage.removeItem("bed_filter_selection"),t.hideNightsAdded={hide:!1},t.isWoodspring=d&&d.brandCode===a.BRAND_CODES.WOODSPRING,l||O.saveToLocal(f.PROPERTY_RATES_PAGE,d.id,d.brandCode),d&&d.id&&(t.isAmrProperty=p.isHotelAMResort(d),h.sendCustomerActivitySignal(d.id),g.updateChildAgesRequired(d.childAgesRequired&&c.AMR_MASTER),g.updateHotelAdultStatus(d.adultOnlyHotel&&c.AMR_MASTER))}]},function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n(0),u=n(446);function d(e,t,n,r,o,a){n.description.show({description:o.stay.rates[t.ratePlanCodeAlias].longDescHtml,title:"".concat(t.visualName||o.stay.rates[t.ratePlanCodeAlias].name||r.name," ").concat(a.general.info)}),e.stopPropagation()}function p(e,t){var n=[],r=[],o=t.ratePlanCode,a=void 0===o?"":o,i=t.adults,s=void 0===i?0:i,c=t.minors,l=s+(void 0===c?0:c),d=u.sortByPrice(e,a),p=u.sortByWeight(d,{King:3,Queen:2}).filter((function(e){var t=e.capacity,o=e.extraBed,a=void 0===o?0:o,i=e.beds,s=void 0===i?{}:i,c=0;for(var u in s)s[u]&&(c+=s[u]);return t+a<l?(n.push(e),!1):c<2||(r.push(e),!1)}));return l>=3?r.concat(p).concat(n):p.concat(r).concat(n)}function h(e){var t=e.path().indexOf("/rates");return e.path().substr(0,t)}function m(e){return e&&e.ratePlanCode}e.exports=["$filter","$location","$q","$rootScope","$sce","$scope","$state","$uibModal","$window","apiParamsHelper","bedConst","brandConst","breadcrumbsHelper","checkoutContextData","checkoutService","dateFilter","dateHelper","deviceConst","eventsConst","featureFlags","formHelper","gdpSavingsService","globalLoaderCounter","groupInfo","guestdataConst","handleRatesPageLoaded","hotel","hotelHelper","hotelService","httpStatusConstant","locationHelper","multiRoomHelper","objectHelper","omniture","omnitureConst","pageEventsHelper","pagesConst","priceHelper","promotionHelper","ratesConst","ratesInventory","ratesMobileAnalytics","reactHelper","roomkeyService","roomRateHelper","searchConst","searchCriteriaData","searchHelper","searchUpdateMetadata","selectedLangData","sessionStorageHelper","siteConfig","travelAgentService","urlParserService","userActivityDetailsService","userHelper",function(e,t,n,o,a,s,f,g,v,y,C,R,b,P,E,S,A,T,O,I,$,_,x,D,M,w,N,L,k,F,H,U,B,G,j,V,Y,W,q,K,X,z,Z,J,Q,ee,te,ne,re,oe,ae,ie,se,ce,le,ue){V.preloaded(Y.PROPERTY_RATES_PAGE);var de,pe,he,me=oe.get().code,fe={},ge=!1,ve={};s.pageId=Z.generatePageId(),s.isAmrProperty=N&&-1!==R.BRAND_CODE_GROUPS.AMR.indexOf(N.brandCode),s.ensureRequiredChildAges=I.AMR_MWEB_MASTER,we(),s.groupHasRooms=function(e){return e.rooms.length>0},D||(D=function(e,t,n){return e&&t&&e.groupInfo&&e.groupInfo.hotelId===t.id&&e.groupInfo.ratePlanCode===n.ratePlanCode?e.groupInfo:null}(P.get(),N,te.get()));var ye=c(i({adults:1,clientId:"",currencyCode:"HOTEL_DEFAULT_CURRENCY",minors:0,ratePlanCode:"RACK",rateType:"LOW_RACK",rooms:1},I.AMR_MWEB_MASTER&&{ageOfMinors:null}),ne.getDateRange()),Ce=angular.extend({},ye,te.get()),Re={foundPromos:!1,foundRates:!1,promoResults:null};function be(e){if(I.CLOSED_USER_GROUP_V2&&e.stay&&e.stay.rates&&Array.isArray(e.promotions)){var t=e.promotions,n=q.filterPromosByLengthOfStay(e.promotions);e.stay.rates=q.removeRatePlansByCode(q.diffPromoRateCodes(t,n),e.stay.rates),e.promotions=n}return e}s.getPropertyByString=B.getPropertyByString,s.reactFormUpdate=function(e){for(var t in s.rateFormData)void 0!==e[t]&&(s.rateFormData[t]=e[t]);s.updateRates()};var Pe,Ee,Se,Ae,Te={getRateType:function(e,t){var n=!1,r=!1,o=K.TYPES.RATES;return s.results.packages&&s.results.packages[e]&&(n=!0),s.results.promotions&&s.results.promotions[e]&&(r=!0),(n||r)&&(t.additionalRates=!0,o=n?K.TYPES.PACKAGES:K.TYPES.PROMOTIONS),o},isUserAddedBed:function(e){return e.addedBed&&e.addedBed.bedCode!==C.EXTRA_BED_OPTIONS.DEFAULT.bedCode&&e.addedBed.bedCode!==C.EXTRA_BED_OPTIONS.NONE.bedCode},pushRateToRoom:function(e,t,n){if(e.rateType=Te.getRateType(n,t),t.rates.push(e),e.nightlyRates=[],e.extraBedOptions=[],e.originalAvailable=e.available,(e.ratePlanCode===s.rateFormData.ratePlanCode||s.hasGroupRates&&e.ratePlanCode!==K.RATE_PLAN_CODES.RACK)&&(t.selectedRate=e),t.extraBed&&e.roomCharges){var o;t.addedBed=C.EXTRA_BED_OPTIONS.DEFAULT;var a=r(e.roomCharges,1)[0];a.hasOwnProperty("crib")&&a.cribQuantity>0&&((o=angular.copy(C.EXTRA_BED_OPTIONS.CRIB)).cost=a.crib,e.extraBedOptions.push(o),s.maxExtraBeds.resetCribFlag&&(s.maxExtraBeds.crib=a.cribQuantity,s.maxExtraBeds.resetCribFlag=!1)),a.hasOwnProperty("rollaway")&&a.rollawayQuantity>0&&((o=angular.copy(C.EXTRA_BED_OPTIONS.ROLLAWAY)).cost=a.rollaway,e.extraBedOptions.push(o),s.maxExtraBeds.resetRollawayFlag&&(s.maxExtraBeds.rollaway=a.rollawayQuantity,s.maxExtraBeds.resetRollawayFlag=!1)),e.extraBedOptions.length>0&&e.extraBedOptions.unshift(C.EXTRA_BED_OPTIONS.NONE)}var i,c,l,u,d;I.SO_RATES_MOBILE_MODAL&&(c=(i=e).ratePlanCode,l=K.RATE_PLAN_CODES,u=l.PPC,d=l.SRD,s.pointsRates=s.pointsRates||{},[u,d].indexOf(c)>-1&&(s.pointsRates[c]=i))}};function Oe(e,t){var n,r,a;for(r in Array.isArray(e.rates)||(e.rates=[]),t)if(Object.prototype.hasOwnProperty.call(t,r))for(a=t[r],n=0;n<a.roomStayCharges.length;n++){var i=a.roomStayCharges[n];if(i.ratePlanCodeAlias=r,i.roomCode===e.code){Te.pushRateToRoom(i,e,r);break}}!function(e){var t;if(s.modify&&s.reservationRatePlanCode)for(t=0;t<e.rates.length;t++)if(e.rates[t].ratePlanCode===s.reservationRatePlanCode){e.selectedRate=angular.copy(e.rates[t]);break}}(e),!s.hasGroupRates&&0===Object.getOwnPropertyNames(e.selectedRate).length&&e.rates.length>0&&(e.selectedRate=e.rates[0],e.rates.push({disabled:!0,hide:!0,ratePlanCode:s.rateFormData.ratePlanCode,rateType:K.TYPES.RATES})),e.multiRooms={addedRoomCount:0,addedRooms:[]},function(e){var t=!1;o.cpUser.loyaltyAccount&&(e.rates.forEach((function(n){n.points>o.cpUser.loyaltyAccount.accountBalance&&(n.disabled=!0,s.rateCard.isRateSelected(e.selectedRate,n)&&(t=!0))})),t&&(e.selectedRate=e.rates.find((function(e){return!e.disabled}))||{}))}(e),function(e){var t=s.values.standardRatePlans.length;e.rates.forEach((function(e){if(e.rateOrder=I.CLOSED_USER_GROUP_V2?100*W.getLowestAvgNightlyBeforeTax(e):99,I.CLOSED_USER_GROUP_V2)K.SEARCH_DROP_DOWN_RATES[e.ratePlanCode]?e.rateOrder=1:q.isRatePromo(e)&&(e.rateOrder=e.rateOrder/10);else for(var n=0;n<t;n++){if(s.values.standardRatePlans[n].ratePlanCode===e.ratePlanCode){e.rateOrder=n+1;break}}}))}(e)}function Ie(){var e=P.get().rooms;angular.forEach(e,(function(e){var t=function(e){var t;for(var n in angular.forEach(s.results.stay.rates,(function(n){n.ratePlanCode===e.ratePlanCode&&(t=n.roomStayCharges)})),t)if(n.roomCode===e.roomCode)return;return t}(e);t&&(e.available=0,t.push(angular.copy(e)),s.results.rooms[e.roomCode]=angular.copy(e),s.results.rooms[e.roomCode].code=e.roomCode,s.results.rooms[e.roomCode].rates=[e.ratePlanCode])}))}function $e(e,t){var n={};return e&&e.constructor===Array&&e.forEach((function(e){n[e[t]]=e})),n}function _e(e){if(("OK"===e.status||"PARTIAL"===e.status)&&e.stay){if(!Re.foundRates)return Re.foundPromos=!0,void(Re.promoResults=e);if(Re.foundPromos=!0,s.results.packages=$e(e.packages,"ratePlanCode"),s.results.promotions=$e(e.promotions,"ratePlanCode"),s.results.stay&&s.results.stay.rates){var t;for(t in e.stay.rates)Object.prototype.hasOwnProperty.call(e.stay.rates,t)&&(s.results.stay.rates[t]=e.stay.rates[t]);for(t in function(e){var t,n=[];for(t in e.stay.rates)s.results.packages&&s.results.packages[t]||s.results.promotions&&s.results.promotions[t]||n.push(t);n.forEach((function(t){delete e.stay.rates[t],delete s.results.stay.rates[t]}))}(e),s.results.rooms)Object.prototype.hasOwnProperty.call(s.results.rooms,t)&&Oe(s.results.rooms[t],e.stay.rates)}Me()}}function xe(e){var t=e.map((function(e){return(e.selectedRate||{}).avgNightlyPoints})).filter((function(e){return!!e})),n=e.map((function(e){var t=e.rates.filter((function(e){return e.rateType===K.TYPES.RATES}));var n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){t.childRates&&t.childRates.length&&e(t.childRates,n),n.push(t.avgNightlyBeforeTax)})),n}(t);return(t=n.filter((function(e){return!!e}))).length?t:void 0})).filter((function(e){return!!e}));n=[].concat.apply([],n);var r=t.length?Math.min.apply(null,t):void 0,o=t.length?Math.max.apply(null,t):void 0,a=r!==o?o:void 0,i=n.length?Math.min.apply(null,n):void 0,c=n.length?Math.max.apply(null,n):void 0,l=i!==c?c:void 0;return[{cash:i,currency:e.length&&e[0].selectedRate.currencyCode?e[0].selectedRate.currencyCode:"USD",currencyCode:!1,decimals:!1,discount:a?o:l?c:void 0,points:r,pointsLabel:s.strings.search.item.points}]}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["SRD","PPC"],n=r(e.rooms[0].rates,1),o=n[0],a=A.subtractDates(o.endDate,o.startDate),i=e.rooms.reduce((function(e,t){return t.selectedRate.avgNightlyPoints<e.selectedRate.avgNightlyPoints?t:e})),c=t.map((function(e){return i.rates.find((function(t){return t.ratePlanCode===e}))})).filter(Boolean);return c.map((function(e){return{cash:e.beforeTax?e.beforeTax/a:null,currency:"USD",currencyCode:!1,decimals:!0,points:e.points?e.points/a:null,pointsLabel:s.strings.search.item.points}}))}function Me(){if(ie.deviceType===T.MOBILE){n=[{label:o.strings.propertyRates.group1Bed,rooms:[]},{label:o.strings.propertyRates.group2Beds,rooms:[]},{label:o.strings.propertyRates.group3Beds,rooms:[]},{label:o.strings.propertyRates.groupSuite,rooms:[]}],angular.forEach(s.results.rooms,(function(e){if(e.showDetails=!1,e.suite)n[3].rooms.push(e);else{var t=0;angular.forEach(e.beds,(function(e){t+=e})),1===t?n[0].rooms.push(e):2===t?n[1].rooms.push(e):t>=3&&n[2].rooms.push(e)}})),s.results.groups=n;var t=s.results.groups.find((function(e){return e.rooms.find((function(e){return e.rates.find(l.byRatePlanCode(K.RATE_PLAN_CODES.PPC))}))}));s.results.groups.filter((function(e){return(e.rooms||[]).length})).forEach((function(e){e.priceTags=((t||{}).rooms||{}).length?De(t):xe(e.rooms),e.rooms.forEach((function(e){var t=e.rates.find(l.byRatePlanCode(K.RATE_PLAN_CODES.PPC));if(e.priceTags=t?De({rooms:[e]},["SRD","PPC"]):xe([e]),s.groupInfo){var n=s.groupInfo,r=n.groupId,o=n.ratePlanCode;r&&o&&Array.isArray(e.rates)&&(e.rates=e.rates.filter((function(e){return e&&e.ratePlanCode===o})))}I.CLOSED_USER_GROUP&&(e.rates=W.sortRateRangesByPrice(e.rates),e.cugDiscount=W.isCugLowestPrice(e.rates))}))})),s.rooms=function(e){return e.reduce((function(e,t){return e.concat(t.rooms)}),[])}(s.results.groups),I.SO_SORT_BY_OCCUPANCY?(s.sortRoomRatesByOccupancy=p,s.rooms=s.sortRoomRatesByOccupancy(s.rooms,s.rateFormData)):s.rooms=u.sortByDefault(s.rooms,["+priceTags[0].cash","+hasOccupancyError","+searchRateBeforeTax","+bedType","+accessible"],e),s.rooms&&s.rooms[0]&&s.rooms[0].priceTags&&(s.ratePlanCode=s.rooms[0].selectedRate&&s.rooms[0].selectedRate.ratePlanCode,s.ratePlanCode===K.RATE_PLAN_CODES.SRD?s.selectedCurrencyCode=K.POINTS:s.selectedCurrencyCode=s.rooms[0].priceTags[0].currency,s.selectedCurrencyCode===K.POINTS?s.minPrice=s.rooms.reduce((function(e,t){return t.priceTags[0].points<e?t.priceTags[0].points:e}),s.rooms[0].priceTags[0].points):s.minPrice=s.rooms.reduce((function(e,t){return(t.priceTags[0].discount||t.priceTags[0].cash)<e?t.priceTags[0].discount||t.priceTags[0].cash:e}),s.rooms[0].priceTags[0].discount||s.rooms[0].priceTags[0].cash),s.selectedCurrencyCode===K.POINTS?s.maxPrice=s.rooms.reduce((function(e,t){return t.priceTags[0].points>e?t.priceTags[0].points:e}),s.rooms[0].priceTags[0].points):s.maxPrice=s.rooms.reduce((function(e,t){return(t.priceTags[0].discount||t.priceTags[0].cash)>e?t.priceTags[0].discount||t.priceTags[0].cash:e}),s.rooms[0].priceTags[0].discount||s.rooms[0].priceTags[0].cash))}var n}function we(){s.showRates=!I.AMR_MWEB_MASTER||N&&!N.childAgesRequired||!s.rateFormData||!s.rateFormData.minors||!!s.rateFormData.ageOfMinors}function Ne(e){if("OK"===e.status||"PARTIAL"===e.status){var n=e.stay&&e.stay.rates&&e.stay.rates.SRD;if(!n||function(e){var t=o.cpUser.loyaltyAccount&&o.cpUser.loyaltyAccount.accountBalance,n=A.subtractDates(s.rateFormData.checkOutDate,s.rateFormData.checkInDate);return t>=e.from*n}(n)||e.stay.rates.PPC||(Q.removeRoomChargesWithRatePlan(K.RATE_PLAN_CODES.SRD,e),e.outputInfo=i(i({},e.outputInfo?e.outputInfo:{}),{},{NONEXISTENT_HOTEL_RATES_AVAILABILITY:s.strings.propertyRates.errors.insufficientRatesError})),Re.foundRates=!0,s.successfullySearchedFormData=angular.copy(s.rateFormData),s.results=e,z.init(s),s.hasGroupRates=s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup,ve={},angular.forEach(N.images,(function(e){angular.forEach(e.roomCodes,(function(t){ve[t]||(ve[t]=[]),ve[t].push(e)}))})),s.results.packages&&(s.results.deals=$e(e.packages,"ratePlanCode")),s.results.promotions&&(s.results.promos=$e(e.promotions,"ratePlanCode")),s.modify&&s.results.stay&&Ie(),Fe((function(e){var t=[];angular.forEach(e,(function(e,n){if(!e.ratePlanCode){if(e.bedsDescription&&(e.bedType=e.bedsDescription),e.featuresDescription&&(e.description=e.featuresDescription),e.additionalRates=!1,e.roomCollapse=!1,e.selectedRate={},e.rates=[],e.images=ve[n]||[],s.results.stay&&s.results.stay.rates&&Oe(e,s.results.stay.rates),e.rates.length){var r=function(e,t){return(t||[]).filter((function(t){return t.ratePlanCode===e}))[0]||{}}(s.rateFormData.ratePlanCode,e.rates);r.beforeTax&&(e.searchRateBeforeTax=parseFloat(r.beforeTax))}else t.push(n);var a;o.cpUser&&o.cpUser.signedIn&&s.rateFormData.ratePlanCode!==K.RATE_PLAN_CODES.SRD&&(angular.forEach(e.rates,(function(e){(!a||+e.avgNightlyAfterTax<+a.avgNightlyAfterTax)&&(a=e)})),e.selectedRate=a),s.currencyUtil.initialized||(s.currencyUtil.initialized=!0,s.rateFormData.currencyCode=e.selectedRate.currencyCode)}})),t.forEach((function(t){delete e[t]}))})),z.send(s),s.multiRooms.updateCurrency(),we(),s.reservationId&&angular.forEach(e.rooms,(function(e){angular.forEach(e.rates,(function(t){if("PPC"===t.ratePlanCode){var n=e.rates.indexOf(t);e.rates.splice(n,1)}}))})),Re.foundPromos&&_e(Re.promoResults),te.update(s.rateFormData),s.nights=A.subtractDates(s.rateFormData.checkOutDate,s.rateFormData.checkInDate),s.$broadcast(O.RATE_FORM.RATE_UPDATED),s.$broadcast(O.RESIZE),(c=e.outputInfo)&&(delete c.NONEXISTENT_HOTEL_MEDIA,delete c.NONEXISTENT_HOTEL_PACKAGES,delete c.NONEXISTENT_HOTEL_PROMOTIONS,c.NONEXISTENT_HOTEL_RATES_AVAILABILITY&&(s.groupInfo?c.NONEXISTENT_HOTEL_RATES_AVAILABILITY=s.strings.group.pickupNoRoomsAvailable:s.hasGroupRates&&(c.NONEXISTENT_HOTEL_RATES_AVAILABILITY=s.strings.group.ratesNotAvailablePluralize[s.nights>1?"other":"one"].replace("{requested}",s.successfullySearchedFormData.rooms).replace("{checkin}",S(s.rateFormData.checkInDate,"fullDate")).replace("{}",s.nights))),c.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS&&(c.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS=a.trustAsHtml(s.strings.propertyRates.errors.insufficientRatesError)),c&&c.HOTEL_RATE_PLAN_RESTRICTION_SRD&&c.HOTEL_RATE_PLAN_RESTRICTION_SRD.startsWith("TOO_MANY_OCCUPANTS_FOR_AMR_SRD")&&(c.HOTEL_RATE_PLAN_RESTRICTION_SRD=s.strings.propertyRates.errors.srdMaxCapacity,delete c.HOTEL_RATE_PLAN_RESTRICTION_PPC,delete c.NONEXISTENT_HOTEL_RATE_PLAN_STAY_PPC,delete c.NONEXISTENT_HOTEL_RATE_PLAN_STAY_SRD),c.NONEXISTENT_POINTS_PLUS_CASH_RATE?(c.NONEXISTENT_POINTS_PLUS_CASH_RATE=o.strings.general.error.NONEXISTENT_POINTS_PLUS_CASH_RATE,delete c.NONEXISTENT_HOTEL_RATES_AVAILABILITY,delete c.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS):c.NONEXISTENT_HOTEL_RATES_AVAILABILITY&&c.NONEXISTENT_HOTEL_RATES_INSUFFICIENT_POINTS&&delete c.NONEXISTENT_HOTEL_RATES_AVAILABILITY,s.rateMessage=c),Me(),pe&&pe.roomCode&&(s.multiRooms.addRooms(pe),s.multiRooms.addErrors.length&&(g.open({scope:s,size:"md",templateUrl:"/".concat(ie.assetFingerprint,"/app/rates-mobile/modals/rates-multiroom-error.modal.html")}),s.updateRates())),s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup&&s.results.stay&&(s.rateFormData.groupCutoffDate=s.results.stay.rates[Ue()].cutoffDate,P.get().groupRoomCounts)){var r=P.get().groupRoomCounts;angular.forEach(s.results.rooms,(function(e,t){var n=r[t];if(n)for(var o=n;o>0;o--)s.multiRooms.addRoom(e)}))}}var c;w(fe,V,Y,N,s.results.rooms,s.rateMessage,s.rateFormData),s.mostDiscountRoomsAvailable=s.calcMostDiscountRoomsAvailable();var l=ne.removeDefaultParams(te.get(),!0),u=t.search();K.ANALYTIC_PARTNERS.forEach((function(e){u[e]&&(l[e]=u[e])})),u.reservationId&&["reservationId","reservationRatePlanCode","returnPath"].forEach((function(e){l[e]=u[e]})),angular.extend(l,ne.getTrackingParamsFromUrl(ne.getDefaultParams(),u)),t.search(l),t.replace(),s.updateCrumbs()}function Le(){var e=(s.results||{}).rooms;w(fe,V,Y,N,e,s.rateMessage,s.rateFormData)}function ke(e){"ERROR"===e.status&&(e.inputErrors?s.rateMessage=e.inputErrors:e.outputErrors&&(s.rateMessage=e.outputErrors)),Le()}function Fe(e){[s.results.rooms,s.results.packages,s.results.promotions].forEach((function(t){t&&e(t)}))}function He(e){var t=function(e){var t=angular.extend({},e),n={roomStay:t};if(delete t.ratePlanCode,t.ratePlan=e.ratePlanCode,delete t.guaranteeMethod,delete t.loyaltyProgramId,delete t.loyaltyAccountNumber,!e.guaranteeMethod){var r=M.GUARANTEE_METHOD_FOR_RATE_PLAN[t.ratePlan];if(r){n.guaranteeMethod=r;var o={};delete t.loyaltyProgramId,e.loyaltyProgramId&&(o.loyaltyProgramId=e.loyaltyProgramId),delete t.loyaltyAccountNumber,e.loyaltyAccountNumber&&(o.loyaltyAccountNumber=e.loyaltyAccountNumber),Object.keys(o).length&&(n.guest=o)}}delete t.contextId;var a=P.get().contextId;return a&&(n.contextId=a),e.clientId&&(n.clientId=e.clientId,delete t.clientId),delete t.currencyCode,delete t.rooms,n}(e),r=t.roomStay,o=P.get().contextId;if(!o)return E.createReservation(t);if(de.modify&&P.update(angular.extend({},P.get(),{clientId:de.clientId,hotelId:de.hotelId})),s.modify?P.requestedWithModifications(t):P.requestedWith(t)){var a=n.defer(),i=function(e,t){return{checkInDate:t.checkInDate,checkOutDate:t.checkOutDate,contextId:e,ratePlan:t.ratePlan}}(o,r);return de.modify?(angular.extend(i,{ratePlan:s.reservationRatePlanCode}),s.reservationRatePlanCode!==K.RATE_PLAN_CODES.SRD&&s.reservationRatePlanCode!==K.RATE_PLAN_CODES.PPC||angular.extend(i,{guaranteeMethod:M.GUARANTEE_METHOD_FOR_RATE_PLAN[s.reservationRatePlanCode]}),E.replaceRoomsIntoReservation(i,t.roomStay).then((function(e){return a.resolve(e),e})).catch((function(e){a.reject(e)}))):E.addRoomsIntoReservation(i,t.roomStay).then((function(e){return a.resolve(e),e})).catch((function(e){(e.data.outputErrors||{}).NONEXISTENT_CHECKOUT_CONTEXT||e.status===F.NOT_FOUND?(P.clear(),E.createReservation(t).then((function(e){a.resolve(e)})).catch((function(e){a.reject(e)}))):a.reject(e)})),a.promise}return o&&(E.deleteReservation({contextId:o}),delete t.contextId,P.clear()),E.createReservation(t)}function Ue(){if(s.results&&s.results.stay&&s.results.stay.rates)for(var e in s.results.stay.rates)if(e!==K.RATE_PLAN_CODES.RACK)return e;return null}function Be(e){return e&&K.DISCOUNT_RATE_PLAN_CODES.hasOwnProperty(e.ratePlanCode)}function Ge(){P.clear();var e={},t=[],n=Ue();angular.forEach(s.results.rooms,(function(r){if(r.multiRooms.addedRoomCount>0){t.push(r),e[r.code]=r.multiRooms.addedRoomCount;var o=function(e,t){for(var n=s.results.stay.rates[e].roomStayCharges,r=n.length-1;r>=0;r--)if(n[r].roomCode===t)return n[r];return null}(n,r.code);r.beforeTax=o.beforeTax,r.afterTax=o.afterTax}})),P.update(angular.extend({acceptedPaymentCards:N.acceptedPaymentCards,checkInDate:s.rateFormData.checkInDate,checkOutDate:s.rateFormData.checkOutDate,currencyCode:s.results.stay.rates[n].currencyCode,enrollInChoicePrivileges:!1,enrollingInChoicePrivileges:!1,groupRoomCounts:e,hotelId:s.hotel.id,ratePlan:s.results.stay.rates[n].ratePlanCode,rooms:t},function(e,t){var n=0,r=0;return angular.forEach(e,(function(e){var o=t[e.roomCode];o&&(n+=e.beforeTax*o,r+=e.afterTax*o)})),{totalAfterTax:r,totalBeforeTax:n}}(s.results.stay.rates[n].roomStayCharges,e))),H.goToReturnPath()}function je(){var e=angular.copy(s.rateFormData),t="";e.hotelId=s.hotelId,Fe((function(n){angular.forEach(n,(function(n,r){var o=n.selectedRate;o&&(e.ratePlanCode=o.ratePlanCode,(n.multiRooms.addedRooms||[]).forEach((function(n,o){n.occupancyStatus!==K.OCCUPANCY_STATUS.OK&&s.multiRooms.addErrors.push({roomCode:r,roomNumber:o}),e["roomCode".concat(t)]=r,e["adults".concat(t)]=n.adults,e["minors".concat(t)]=n.minors||0,e["extraBed".concat(t)]=Te.isUserAddedBed(n)?n.addedBed.bedCode:"",t=(t||1)+1})))}))})),s.modify&&!s.prefilled&&(e=angular.extend({},de,e),s.prefilled=!0),pe=e,s.roomParameters=pe}angular.extend(s,{activateRoomkey:function(){ge=!0},baseUrl:ee.THUMBNAIL_BASE_URL,breadcrumbs:[],calcMostDiscountRoomsAvailable:function(){var e=0;return Fe((function(t){angular.forEach(t,(function(t){Be(t.selectedRate)&&t.selectedRate.available>=0&&(e=Math.max(e,t.selectedRate.available))}))})),e},closeDetails:function(e){(e=e||he).showDetails=!1},currencyUtil:{defaultCurrency:{code:"HOTEL_DEFAULT_CURRENCY",description:"",symbol:""},dropdownCheckRatePlan:function(e){!o.hotelDefaultCurrency&&o.values&&Object.keys(o.values.currencies).forEach((function(e){s.rateFormData&&e===s.rateFormData.currencyCode&&(o.hotelDefaultCurrency=o.values.currencies[e])})),s.rateFormData&&s.rateFormData.ratePlanCode===K.RATE_PLAN_CODES.SRD&&(void 0!==e&&(e.preventDefault(),e.stopImmediatePropagation()),s.rateFormData.ratePlanCode=void 0!==s.originalRatePlan?s.originalRatePlan:K.RATE_PLAN_CODES.RACK,s.updateRates())},initialized:!1,selectedCurrency:{},updateCurrency:function(){var e=s.currencyUtil.selectedCurrency.code;s.rateFormData.currencyCode!==e&&(s.rateFormData.currencyCode=e,s.updateRates())},viewCPPoints:function(){s.rateFormData&&s.rateFormData.ratePlanCode!==K.RATE_PLAN_CODES.SRD&&(s.originalRatePlan=s.rateFormData.ratePlanCode,s.rateFormData.ratePlanCode=K.RATE_PLAN_CODES.SRD,s.$broadcast(O.RATEPLAN.CODE_CHANGED,K.RATE_PLAN_CODES.SRD),s.updateRates()),o.chAriaLive.message="".concat(o.strings.propertyRates.selectCurrencyAlert," ").concat(o.strings.hotel.updateChoicePrivilegesPoints)}},estimatedTotal:0,getPropertyPageUrl:function(e){if(e.address)return ce.getPropertyPageUrl(e.address,e.brandCode,e.id,me,!0)},getPropertyUrl:h.bind(null,t),groupInfo:D,hasExtraBedError:function(e){return e.extraBed&&e.selectedRate.extraBedOptions.length<=1&&e.capacity+1<=s.successfullySearchedFormData.adults+s.successfullySearchedFormData.minors},hasGroupRates:!1,hotel:D?D.hotel:N,hotelId:D?D.hotelId:N.id,isSelectedRatePlan:function(e,t){return(!s.modify||e.selectedRate&&e.selectedRate.ratePlanCode===s.reservationRatePlanCode)&&e.selectedRate&&e.selectedRate.ratePlanCode===t.ratePlanCode||s.modify&&e.selectedRate.ratePlanCode===t.ratePlanCode},mostDiscountRoomsAvailable:0,multiRooms:{addErrors:[],addRoom:function(e,t){if(s.multiRooms.clearErrors(),s.multiRooms.count<s.multiRooms.pageMax){var n=e.selectedRate||e.rates&&e.rates[0]||e;if(n.available||t){var r={addedBed:C.EXTRA_BED_OPTIONS.DEFAULT,adults:1,minors:0,occupancyStatus:K.OCCUPANCY_STATUS.OK,roomCode:n.roomCode};e.multiRooms.addedRooms=e.multiRooms.addedRooms||[],e.multiRooms.addedRooms.push(r),Fe((function(t){angular.forEach(t,(function(t){t.selectedRate=(t.rates||[]).find((function(t){return t.ratePlanCode===m(e.selectedRate)}))}))}))}else e.multiRooms.addError=!0,e.multiRooms.addErrorAvailable=!0}else e.multiRooms.addError=!0,e.multiRooms.addErrorMax=s.multiRooms.calculatePageMax();e.multiRooms.addedRoomCount=(e.multiRooms.addedRooms||[]).length,s.multiRooms.recalculateTotals()},addRooms:function(e){s.multiRooms.clear();for(var t="";;){var n=e["roomCode".concat(t)];if(!n)break;var r=s.results.rooms[n];if(r){s.multiRooms.addRoom(r,s.modify),r.multiRooms.addedRooms=r.multiRooms.addedRooms||[],s.modify&&(r.multiRooms.initialAddedRoomCount=r.multiRooms.addedRooms.length);var o=r.multiRooms.addedRooms[r.multiRooms.addedRooms.length-1];o.adults=+e["adults".concat(t)],o.minors=+e["minors".concat(t)]||0,e["extraBed".concat(t)]&&s.multiRooms.multiAddExtraBed(o,r,{bedCode:e["extraBed".concat(t)]})}else s.multiRooms.addErrors.push({roomCode:n,roomNumber:t});t=(t||1)+1}s.multiRooms.recalculateTotals()},bookRooms:function(){if(0==+s.multiRooms.count)return J.unloadPopUnderWindow(),void H.goToReturnPath();if(!(+s.multiRooms.count!=+s.successfullySearchedFormData.rooms&&+s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup)){var e=P.get();s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup?e.contextId?E.deleteReservation(e).finally(Ge):Ge():(e.groupRoomCounts&&(delete e.groupRoomCounts,P.update(e)),s.multiRooms.clearErrors(),je(),s.multiRooms.addErrors.length||(x.inc(),He(pe).then((function(e){e.hotel=s.hotel,D&&(e.groupInfo=D),P.update(e),s.multiRooms.setNewRateFlag(P),pe=void 0,J.unloadPopUnderWindow(),H.goToReturnPath()})).catch((function(){g.open({scope:s,size:"md",templateUrl:"/".concat(ie.assetFingerprint,"/app/rates-mobile/modals/rates-multiroom-error.modal.html")}),s.updateRates()})).finally(x.dec)))}},calculatePageMax:function(){return s.multiRooms.pageMax=s.multiRooms.calculateReservationMax()-(s.rateCard.isAddingRoom()?P.get().rooms.length:0)},calculateReservationMax:function(){var e=s.reservationRatePlanCode||s.rateFormData.ratePlanCode;return s.multiRooms.reservationMax=s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup?ee.GROUP_OPTIONS.maxRoomsPerGroup:K.MULTI_ROOM.MAX_ROOM_FOR_RATE[e]||K.MULTI_ROOM.MAX_ROOM},clear:function(){s.multiRooms.updateCurrency(),s.multiRooms.clearErrors(),Fe((function(e){angular.forEach(e,(function(e){e.multiRooms.addedRooms=[]}))})),s.multiRooms.recalculateTotals()},clearErrors:function(){s.multiRooms.addErrors=[],Fe((function(e){angular.forEach(e,(function(e){e.multiRooms||(e.multiRooms={}),e.multiRooms.addError=!1,e.multiRooms.addErrorAvailable=!1,e.multiRooms.addErrorMax=!1}))})),s.multiRooms.calculatePageMax()},count:0,hasExtraBedInventory:function(e){var t=0;return"crib"!==e&&"rollaway"!==e||(Fe((function(n){angular.forEach(n,(function(n){(n.multiRooms.addedRooms||[]).forEach((function(r){var o=angular.extend({},n,r);o.addedBed&&o.addedBed.bedCode===e&&(t+=1)}))}))})),s.maxExtraBeds[e]>t)},isDisabled:function(e){return"OK"!==e&&"NO_MINORS_NO_CRIB"!==e},multiAddExtraBed:function(e,t,n){e.extraBedStatus=K.OCCUPANCY_STATUS.OK,s.multiRooms.hasExtraBedInventory(n.bedCode)?(n.name||(n.name=C.EXTRA_BED_OPTIONS[n.bedCode.toUpperCase()].name),e.addedBed=n,t.addedBed=n,s.multiRooms.recalculateTotals()):e.extraBedStatus=n.bedCode.toUpperCase()},recalculateTotals:function(){var e=0,t={cash:0,points:0};Fe((function(n){angular.forEach(n,(function(n){var r=(n.multiRooms.addedRooms||[]).length;n.multiRooms.addedRoomCount=r,e+=r;var o=n.selectedRate||n.rates&&n.rates[0]||n;o.available=o.originalAvailable+(n.multiRooms.initialAddedRoomCount||0)-r,(n.multiRooms.addedRooms||[]).forEach((function(e){e.occupancyStatus=function(e){var t,n=(e.addedBed.bedCode||"").toLowerCase();if(0===e.minors&&n===C.EXTRA_BED_OPTIONS.CRIB.bedCode)return K.OCCUPANCY_STATUS.NO_MINORS_NO_CRIB;Fe((function(n){!t&&n[e.roomCode].selectedRate&&(t=n[e.roomCode])}));var r=t.selectedRate,o=t.capacity||r.capacity,a=o+(t.extraBed||r.extraBed?1:0),i=e.adults+e.minors;if(i>a)return K.OCCUPANCY_STATUS.EXCEEDED;var s=n!==C.EXTRA_BED_OPTIONS.DEFAULT.bedCode&&n!==C.EXTRA_BED_OPTIONS.NONE.bedCode;return i>o&&!s?r.extraBedOptions&&!r.extraBedOptions.length?K.OCCUPANCY_STATUS.EXTRA_BED_NOT_AVAILABLE:K.OCCUPANCY_STATUS.EXTRA_BED_REQUIRED:s&&o===a?K.OCCUPANCY_STATUS.EXTRA_BED_DISALLOWED:K.OCCUPANCY_STATUS.OK}(e);var r=angular.extend({},n,e);t.points+=+r.selectedRate.points||0,t.cash+=+r.selectedRate.beforeTax+s.rateCard.calculateSelectedTotalExtraBedCost(r)})),Be(n.selectedRate)&&s.updateDiscountRoomsAvail(e)}))})),t.points||(t.points=void 0),t.cash||(t.points?t.cash=void 0:(t.cash=0,t.symbol=!1)),s.multiRooms.count=e,s.multiRooms.total.currency=s.multiRooms.currencyCode,s.multiRooms.total=[t],je()},removeRoom:function(e){s.multiRooms.clearErrors(),e.multiRooms.addedRooms.pop(),e.multiRooms.addedRoomCount=e.multiRooms.addedRooms.length,s.multiRooms.recalculateTotals()},resetModifyParams:function(e){if(s.reservationRatePlanCode=e.ratePlanCode,s.modify){var t=angular.copy(de);de={hotelId:t.hotelId,modify:!0,reservationId:t.reservationId,returnPath:t.returnPath}}},setNewRateFlag:function(e){return e.newRateSelected=!0,e},total:0,updateCurrency:function(){var e=+s.successfullySearchedFormData.rooms>=ee.GROUP_OPTIONS.minRoomsPerGroup?Ue():s.rateFormData.ratePlanCode,t=M.CURRENCY_FOR_RATE_PLAN[e]||s.results.stay&&(s.results.stay.rates[e]||{}).currencyCode;s.multiRooms.currencyCode=t}},nights:1,orderBySiteOpDefaultLowest:function(t){return s.sortedRoomRates=e("orderBy")(t,"rateOrder"),s.sortedRoomRates},plusMinusCounterMode:"counter",plusMinusDropdownMode:ie.deviceType===T.MOBILE?"full":"compact",prefillAdditionalRates:function(e){return s.packagesVisible=!!e.find((function(e){return e.ratePlanCode===s.reservationRatePlanCode&&-1===Object.keys(K.TYPES).indexOf(e.rateType)})),s.packagesVisible},rateCard:{addExtraBed:function(e,t){e.addedBed=t},amenities:{hide:function(){this.showModal=!1},model:{},show:function(e){this.model=e,this.showModal=!0},showModal:!1},bookRoom:function(e){var t=angular.copy(s.rateFormData);t.hotelId=s.hotelId,t.ratePlanCode=m(e.selectedRate),t.roomCode=e.code,t.adults=s.successfullySearchedFormData.adults,t.minors=s.successfullySearchedFormData.minors,delete t.extraBed,Te.isUserAddedBed(e)&&(t.extraBed=e.addedBed.bedCode),_.addRackRoom(e,t.ratePlanCode,e.selectedRate.nights),x.inc(),He(t).then((function(e){e.hotel=s.hotel,D&&(e.groupInfo=D),t.clientId&&!e.clientId&&(e.clientId=t.clientId),P.update(e),s.multiRooms.setNewRateFlag(P),J.unloadPopUnderWindow(),H.goToReturnPath()})).catch((function(e){var t=P.get(),n=function(e,t){var n=!1;t&&t.data&&t.data.outputErrors&&(n=!0);return e.rooms&&e.ratePlan&&n&&t.data.outputErrors.INVALID_CHECKOUT_INSUFFICIENT_POINTS?"".concat(o.strings.propertyRates.errors.bookRoomInsufficientPointsErrorContinue):n&&t.data.outputErrors.INVALID_CHECKOUT_INSUFFICIENT_POINTS?"".concat(o.strings.propertyRates.errors.bookRoomInsufficientPointsErrorCancel):n&&t.data.outputErrors.TOO_MANY_PEOPLE_IN_ROOM?"".concat(o.strings.propertyRates.errors.srdMaxCapacity):e.rooms&&e.ratePlan?"".concat(o.strings.propertyRates.errors.bookRoomMessageCancelContinue):"".concat(o.strings.propertyRates.errors.bookRoomMessageCancel)}(t,e),r="".concat(ue.isResponseRejectedByAkamaiManager(e)?"AB".concat(ue.getBotManagerReferenceNumber(e),"|"):"").concat(n),a={pageName:j.RATES_PAGE.POP,prop19:r,prop54:j.RATES_PAGE.BUTTON};G.sendAnalyticsViaPageLoad(a);var i=t.rooms&&t.ratePlan?"rates-bookroom-continue-cancel.modal.html":"rates-bookroom-cancel.modal.html";s.errorMessage=r,function(e){g.open({backdrop:"static",scope:s,size:"md",templateUrl:"/".concat(ie.assetFingerprint,"/app/rates-mobile/modals/").concat(e)}).closed.then((function(){f.reload()}))}(i)})).finally(x.dec)},calculateSelectedAverageCash:function(e){var t=e.selectedRate.nights||1;return+e.selectedRate.avgNightlyBeforeTax+s.rateCard.calculateSelectedTotalExtraBedCost(e)/t},calculateSelectedAveragePrice:function(e){var t=e.selectedRate.nights||1;return(e.selectedRate.points||+e.selectedRate.avgNightlyBeforeTax)+s.rateCard.calculateSelectedTotalExtraBedCost(e)/t},calculateSelectedNightlyRate:function(e){var t,n,r=e.selectedRate.roomCharges.length;for(e.selectedRate.nightlyRates=[],t=0;t<r;t++){var o=e.selectedRate.roomCharges[t],a=A.getDateFromString(o.startDate);for(n=0;n<o.nights;n++){var i=A.withAddedDays(a,n),s={date:S(i,ee.DATE_FORMAT.DATE),points:+o.avgNightlyPoints,rate:+o.avgNightlyBeforeTax,weekDay:S(i,ee.DATE_FORMAT.DAY_IN_WEEK)};e.extraBed&&o.hasOwnProperty(e.addedBed.bedCode)&&(s.rate+=o[e.addedBed.bedCode]),e.selectedRate.nightlyRates.push(s)}}},calculateSelectedTotalExtraBedCost:function(e){return(e.selectedRate.roomCharges||[]).filter((function(t){return e.extraBed&&t.hasOwnProperty(e.addedBed.bedCode)})).map((function(t){return t[e.addedBed.bedCode]*t.nights})).reduce((function(e,t){return e+t}),0)},description:{hide:function(){this.showModal=!1},html:"",imageUrl:"",images:[],show:function(e){this.html=e.description,this.title=e.title,this.imageUrl=e.imageUrl,this.images=e.images,this.showModal=!0},showModal:!1,title:""},getOccupancyStatusMessage:function(e){return e.addedBed&&e.addedBed.bedCode===C.EXTRA_BED_OPTIONS.CRIB.bedCode&&+s.successfullySearchedFormData.minors<1?s.strings.propertyRates.occupancyStatus.NO_MINORS_NO_CRIB:e.selectedRate&&e.selectedRate.extraBedOptions&&e.selectedRate.extraBedOptions.length>=1?e.selectedRate.occupancyStatusMessage:s.strings.propertyRates.errors.noAvailableExtraBeds},isAddingRoom:function(e){var t={selectedRate:{ratePlanCode:s.rateFormData.ratePlanCode}};return e=e||s.results&&s.results.rooms&&s.results.rooms[0]||t,P.requestedWith({roomStay:{checkInDate:s.rateFormData.checkInDate,checkOutDate:s.rateFormData.checkOutDate,hotelId:s.hotelId.toUpperCase(),ratePlan:m(e.selectedRate)}})},isModifySRD:function(e){return s.modify&&e===K.RATE_PLAN_CODES.SRD},isRateSelected:function(e,t){return e.ratePlanCode===t.ratePlanCode},memberRate:{hide:function(){this.showModal=!1},show:function(){this.showModal=!0},showModal:!1},roomCollapseToggle:function(e){e.roomCollapse=!e.roomCollapse},sendOmnitureAddedBedInfo:function(e){var t=e.addedBed.bedCode.charAt(0).toUpperCase()+e.addedBed.bedCode.substr(1),n="Add".concat(t,"Btn"),r=s.rateCard.getOccupancyStatusMessage(e),o={pageName:r?j.PAGE_NAME.AVAILABILITY_ROOM_CODE_ERROR.replace("%roomcode%",e.code):j.PAGE_NAME.AVAILABILITY_ROOM_CODE.replace("%roomcode%",e.code),prop19:r,prop54:n};G.sendAnalyticsViaCustomLink(o)},sendOmniturePageName:function(){z.sendOmnitureSeparatePageName()},setCancelExpired:function(e){s.cancelExpired=void 0===e||e},setSelectedRate:function(e,t){t.disabled||(s.multiRooms.count&&m(e.selectedRate)!==m(t)?g.open({scope:s,size:"md",templateUrl:"/".concat(ie.assetFingerprint,"/app/rates-mobile/modals/rates-change-rate-warning.modal.html")}).result.then((function(){e.selectedRate=angular.copy(t),s.multiRooms.resetModifyParams(t),s.multiRooms.clear()})):(e.selectedRate=angular.copy(t),s.multiRooms.resetModifyParams(t)))},showMultiRoom:function(){return s.modify||s.successfullySearchedFormData.rooms>1},showOccupancyStatusMessage:function(e){return!!(e.addedBed&&e.addedBed.bedCode===C.EXTRA_BED_OPTIONS.CRIB.bedCode&&+s.successfullySearchedFormData.minors<1)||(e.selectedRate&&e.selectedRate.occupancyStatusMessage?!!(+s.successfullySearchedFormData.adults+ +s.successfullySearchedFormData.minors>e.capacity+(e.extraBed?1:0)&&e.selectedRate.extraBedOptions.length)||(!e.addedBed||e.addedBed.bedCode===C.EXTRA_BED_OPTIONS.DEFAULT.bedCode||e.addedBed.bedCode===C.EXTRA_BED_OPTIONS.NONE.bedCode):!isNaN(e.maxAdultOccupancy)&&s.successfullySearchedFormData.adult>e.maxAdultOccupancy||!isNaN(e.maxChildOccupancy)&&s.successfullySearchedFormData.minors>e.maxChildOccupancy)}},ratePlan:{name:null},ratesTypes:K.TYPES,results:{},roomTotal:0,setModalHash:function(){v.location.hash="modal"},showRoomDetails:function(e){e.showDetails=!0,he=e,z.sendRoomDetails(e)},updateCrumbs:function(){var e=ce.getPropertyPageUrl(N.address,N.brandCode,N.id,me),t=b.getBreadcrumbFromAddress(N,e);D&&b.addGroupBreadcrumb(e,D,t),s.breadcrumbs=t},updateDiscountRoomsAvail:function(e){var t=s.mostDiscountRoomsAvailable-e;Fe((function(e){angular.forEach(e,(function(e){Be(e.selectedRate)&&e.selectedRate.available>t&&(e.selectedRate.available=t)}))}))},updateRateSuccess:Ne,updateRates:function(){o.cpUser.signedIn||s.rateFormData.ratePlanCode!==K.RATE_PLAN_CODES.SRD||(s.ratePlanCode=K.RATE_PLAN_CODES.SRD,o.$broadcast("loginRequired"));var e=n.defer();if(Re.foundRates=!1,Re.foundPromos=!1,Re.promoResults=null,s.rateMessage={},s.multiRooms.clear(),s.maxExtraBeds={crib:0,resetCribFlag:!0,resetRollawayFlag:!0,rollaway:0},s.rateFormData.ratePlanCode===K.RATE_PLAN_CODES.SRD&&!o.cpUser.signedIn)return s.rateMessage.SRD_ERROR=s.strings.propertyRates.errors[s.modify?"cpModifyError":"cPError"],void Le();if(s.showSrdMaxOccupancyWarning=I.AMR_MWEB_MASTER&&L.shouldHotelShowSrdOccupancyWarning(s.hotel,s.rateFormData&&s.rateFormData.ratePlanCode),s.shouldShowGuestWarning=s.showSrdMaxOccupancyWarning&&s.roomParameters&&L.shouldShowGuestWarning(s.roomParameters.adults,s.roomParameters.minors),D){var t=A.getToday();if(A.subtractDates(D.checkOutDate,t)<=0)return s.rateMessage.GROUP_IN_PAST_ERROR=s.strings.group.inPast,void Le();if(A.subtractDates(D.cutoffDate,t)<=0)return s.rateMessage.GROUP_CUTOFF_ERROR=s.strings.group.cutoffExpired,void Le();if(function(e){return e.rooms.reduce((function(e,t){return e+t.available}),0)}(D)<=0)return s.rateMessage.GROUP_NO_AVAILABLE_ROOMS=s.strings.group.pickupNoRoomsAvailable,void Le()}o.cpUser.signedIn?(s.rateFormData.loyaltyAccountNumber=o.cpUser.cpLoyaltyAccountNumber,s.rateFormData.loyaltyProgramId=o.cpUser.cpLoyaltyProgramId):s.rateFormData.loyaltyAccountNumber&&s.rateFormData.loyaltyProgramId||(s.rateFormData.loyaltyAccountNumber=null,s.rateFormData.loyaltyProgramId=null),s.rateFormData.currencyCode=s.currencyUtil.selectedCurrency.code,s.rateFormData.clientId=ae.getClientId();var r=U.conditionallyUpdateApiParams(s.rateFormData),a=se.get();return!r.clientId&&a&&(r.clientId=a.id),X.setUpRatesApiForPackagePromo(r),x.inc(),k.getHotelRates(N,r,K.TYPES.RATES,!!D).then(be).then((function(t){Ne(t),e.resolve(t)}),ke).finally(x.dec),ge&&o.loadPopUnderWindow&&o.loadPopUnderWindow(),s.modify&&(s.reservationRatePlanCode=s.rateFormData.ratePlanCode),e.promise}}),o.$on("requestReload",(function(){f.reload()})),s.reloadWithRack=function(){f.params.ratePlanCode=K.RATE_PLAN_CODES.RACK,f.transitionTo(f.current,f.params,{location:"replace",reload:!0})},s.getRoomDescription=function(e){return e?e.replace(/,\s*$/,""):""},s.noIndexTag=((Pe=document.createElement("meta")).setAttribute("name","robots"),Pe.setAttribute("content","noindex"),document.head.appendChild(Pe)),s.isWoodspring=s.hotel&&s.hotel.brandCode===R.BRAND_CODES.WOODSPRING,s.showRateDetails=d,le.saveToLocal(Y.PROPERTY_RATES_PAGE,s.hotel.id,s.hotel.brandCode),de=D?function(){N=D.hotel;var e={adults:1,checkInDate:D.checkInDate,checkOutDate:D.checkOutDate,clientId:"",minors:0,ratePlanCode:D.ratePlanCode,rooms:1};return s.modify=!1,s.rateFormData=angular.extend({},e,{currencyCode:"HOTEL_DEFAULT_CURRENCY",isGroupPickup:!0}),angular.extend(D,{maxCheckInDate:A.asString(A.withAddedDays(A.getDateFromString(D.checkOutDate),-1)),minCheckOutDate:A.asString(A.withAddedDays(A.getDateFromString(D.checkInDate),1))}),e}():(Ee=c({},Ee=t.search(),ne.setDefaultsIfInThePast(Ee)),H.updateCheckInCheckOutDatesInQueryString(Ee),$.setInputLimits(ee.INPUT_LIMITS,Ee),Ee=angular.extend(Ce,Ee),s.modify=Ee.modify,s.reservationRatePlanCode=Ee.reservationRatePlanCode,s.reservationId=Ee.reservationId,s.rateFormData=y.removeUnknownParams(ye,Ee),Ee),s.reservationRatePlanCode===K.RATE_PLAN_CODES.SRD&&(s.restrictPlansTo=[K.RATE_PLAN_CODES.SRD],s.disableCorpRatePlan=!0,s.rateFormData.ratePlanCode=s.reservationRatePlanCode),s.modify&&(s.rateFormData.ratePlanCode=s.reservationRatePlanCode),s.currencyUtil.selectedCurrency=s.currencyUtil.defaultCurrency,s.showBackToPropertyPageLink=o.referrer.indexOf(t.path().replace(/\/rates$/,""))>-1,s.$watch("currencyUtil.selectedCurrency.code",s.currencyUtil.updateCurrency),s.$on(O.LOGGED_IN_OR_OUT,(function(){(s.rateFormData.reservationRatePlanCode||s.rateFormData.ratePlanCode)===K.RATE_PLAN_CODES.SRD&&(s.results={},s.multiRooms.updateCurrency(),s.updateRates())})),s.$on("$destroy",(function(){angular.element(s.noIndexTag).remove(),s.groupInfo&&ae.deleteLocalRatePlanCode()})),(s.rateFormData.reservationRatePlanCode||s.rateFormData.ratePlanCode)===K.RATE_PLAN_CODES.SRD&&(s.ratePlanSRDShowForm=!0),Se=t.search(),Ae=s.rateFormData,Se&&(Se.rooms&&(Ae.rooms=Se.rooms),Se.adults&&(Ae.adults=+Se.adults),(Se.minors||0===Se.minors)&&(Ae.minors=+Se.minors),Se.lastName&&(Ae.lastName=Se.lastName),Se.loyaltyAccountNumber&&(Ae.loyaltyAccountNumber=Se.loyaltyAccountNumber),Se.loyaltyProgramId&&(Ae.loyaltyProgramId=Se.loyaltyProgramId)),s.successfullySearchedFormData=angular.copy(s.rateFormData),s.rateFormData.rooms<ee.GROUP_OPTIONS.minRoomsPerGroup&&P.get().groupRoomCounts&&P.clear(),s.hotel&&(s.shouldHideLPG=I.AMR_MASTER&&L.shouldHideLPG(s.hotel)),re.updatePropertyRatesMeta(s.hotel),s.updateCrumbs(),I.AMR_MWEB_MASTER&&s.rateFormData.minors&&(L.isHotelAdultOnly(s.hotel)||!s.rateFormData.ageOfMinors&&s.hotel.childAgesRequired)||s.updateRates(),s.$on(O.LOGGED_IN,(function(){V.loaded(Y.LOGGED_IN_PROPERTY_RATES_PAGE,s.rateFormData,s.hotel.id)})),k.sendCustomerActivitySignal(s.hotel.id),s.completeAddress=(s.hotel.address||{}).line1,s.completeAddress+=(s.hotel.address||{}).line2?", ".concat(s.hotel.address.line2):""}]},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=["$filter","$rootScope","$sce","analyticsConst","analyticsManager","dateHelper","eventsConst","featureFlags","loyaltyAccountHelper","omniture","omnitureConst","pagesConst","ratesConst","searchCriteriaData",function(e,t,r,o,a,i,s,c,l,u,d,p,h,m){var f,g,v=e("orderBy"),y=e("toArray");return{init:function(C){a.initialize(),u.clearPreviousProperties(),angular.extend(C,{originalResults:{},showingDetails:!1}),g=C;var R=m.get(),b="";function P(){var e=[],t=[],r=g.showingDetails;if(r)return{roomPrice:r.rates.sort((function(e,t){return e.rateOrder-t.rateOrder})).map((function(e){return e.avgNightlyPoints||Math.round(e.avgNightlyBeforeTax)})).join("|")};var o="object"===n(f)?y(f).filter((function(e){return e.beds})):f,a=v(y(o),["+priceTags[0].cash","+hasOccupancyError","+searchRateBeforeTax","+bedType","+accessible"]);return angular.forEach(a,(function(n){if((n.selectedRate||{roomCode:""}).roomCode&&n.selectedRate.roomCode.length){var r=function(e){return e.selectedRate.occupancyStatusMessage?"NA":void 0}(n)||function(e){return e.selectedRate.avgNightlyPoints&&e.selectedRate.avgNightlyBeforeTax?"".concat(e.avgNightlyPoints,"+").concat(Math.round(e.avgNightlyBeforeTax)):void 0}(n)||n.selectedRate.avgNightlyPoints||Math.round(n.priceTags&&n.priceTags[0].cash)||"NA?",o=n.priceTags&&n.priceTags[0]&&Math.round(n.priceTags[0].discount);e.push(r),t.push(o||"FP")}})),E(),{fullPrice:t.join("|"),roomPrice:e.join("|")}}function E(){g.results.outputInfo&&(angular.forEach(g.results.outputInfo,(function(e){var t=r.valueOf(e).replace(/<\/?[^>]+(>|$)/g,""),n=b.length>0?" | ":"";b="".concat(b).concat(n).concat(t)})),b=e("limitTo")(b,100))}function S(e){return function(e,n){var r=[];e&&n.ratePlanCode===h.RATE_PLAN_CODES.PPC?r.push("".concat(e," ").concat(t.values.currencies[n.currencyCode]&&"".concat(Math.round(n.avgNightlyPoints)," PTS + ").concat(t.values.currencies[n.currencyCode].symbol)).concat(Math.round(n.avgNightlyBeforeTax)," | ")):e&&n.currencyCode?r.push("".concat(e," ").concat(t.values.currencies[n.currencyCode]&&t.values.currencies[n.currencyCode].symbol).concat(Math.round(n.avgNightlyBeforeTax)," | ")):e&&r.push("".concat(e," ").concat(Math.round(n.avgNightlyPoints),"PTS")+" | ");return r}(e.name,e)}c.CLOSED_USER_GROUP_V2&&a.create({analyticsConst:o.HOTEL_LIST_RATE_PLANS,events:[{name:s.ANALYTICS_PAGE_LOADED,scope:t}],view:p.PROPERTY_RATES_PAGE}).register();var A=function(){return t.values.ratePlans.find((function(e){return e.ratePlanCode===R.ratePlanCode}))};a.setPageDefaults({DAYS_PRIOR_TO_ARRIVAL:function(){return i.subtractDates(R.checkInDate||C.rateFormData.checkInDate,i.asString(i.getTodayDate())).toString()},DESTINATION_MARKET:function(){var e=C.hotel.address.city||"",t=C.hotel.address.subdivision||"",n=C.hotel.address.country||"";return!!e.length&&!!t.length&&!!n.length?"".concat(e.toLowerCase(),", ").concat(t.toLowerCase(),", ").concat(n.toLowerCase()):""},ERROR_MESSAGES:function(){E();var e=g.showingDetails.selectedRate;return e&&e.occupancyStatusMessage&&-1===b.indexOf(e.occupancyStatusMessage)&&(b="".concat(b," ").concat(e.occupancyStatusMessage).trim()),b},HOTEL_LIST_FULL_PRICE:function(){return P().fullPrice},HOTEL_LIST_RATE_PLAN_DESCRIPTION:function(){return C.rateFormData.isGroupPickup&&C.rateFormData.ratePlanCode!==h.RATE_PLAN_CODES.GROUP?"".concat(C.rateFormData.ratePlanCode," Rate"):C.rateFormData.isGroupPickup?d.GROUP_RATE:A()&&A().secondaryName||A()&&A().name||"NA"},HOTEL_LIST_RATE_PLANS:function(){return C.rateFormData&&C.rateFormData.ratePlanCode||R.ratePlanCode},LENGTH_OF_STAY:function(){return i.subtractDates(R.checkOutDate||C.rateFormData.checkOutDate,R.checkInDate||C.rateFormData.checkInDate)||void 0},OCCUPANCY:function(){return"".concat(R.rooms||C.rateFormData.rooms,":").concat(R.adults||C.rateFormData.adults,"|").concat(R.minors||C.rateFormData.minors)},PAGE_NAME:function(){return e=C.showingDetails,b?e&&e.code?d.PAGE_NAME.AVAILABILITY_ROOM_CODE_ERROR.replace("%roomcode%",e.code):d.PAGE_NAME.AVAILABILITY_ERROR:e&&e.code?d.PAGE_NAME.AVAILABILITY_ROOM_CODE.replace("%roomcode%",e.code):d.PAGE_NAME.AVAILABILITY;var e},PRODUCTS:[C.hotel.brandCode,C.hotel.id].join(";"),PROPERTY_BRAND_CODE:C.hotel.brandCode,PROPERTY_ID:C.hotel.id,PROPERTY_PRODUCT_CODE:C.hotel.productCode,RATE_PLAN_CODE:function(){return C.rateFormData.ratePlanCode},RATE_PLAN_LIST_DESCRIPTIONS:function(){if(g.showingDetails&&g.showingDetails&&g.showingDetails.rates){var e=v(y(g.showingDetails.rates),["rateOrder"]),t=e.map(S).join(" ").slice(0,-2).trim();return t=e.map(S).join(" ").length>100?t.substring(0,100):t}},RESERVATION_MULTI_SINGLE_ROOM:R.rooms>1?d.ROOM.MULTI:d.ROOM.SINGLE,ROOM_CODES:function(){return function(){if(g.showingDetails)return g.showingDetails.code;var e="object"===n(f)?y(f).filter((function(e){return e.beds})):f,t=v(y(e),["+priceTags[0].cash","+hasOccupancyError","+searchRateBeforeTax","+bedType","+accessible"]),r=[];return angular.forEach(t,(function(e){e.selectedRate.roomCode&&e.selectedRate.roomCode.length&&r.push(e.selectedRate.roomCode)})),E(),r.join("|")}()},ROOM_PRICES:function(){return P().roomPrice},SEARCH_CHECK_IN_DATE:function(){return R.checkInDate||C.rateFormData.checkInDate},USER_HASHED_CP_ID:function(){var e=C.cpUser;return e&&e.signedIn&&e.hashedCpId||void 0},USER_TYPE:function(){return l.getUserType(C.cpUser)}},p.PROPERTY_RATES_PAGE)},send:function(e){e&&e.results&&e.results.rooms&&(e.originalResults=angular.copy(e.results),f=e.results.rooms),t.$emit(s.ANALYTICS_PAGE_LOADED,p.PROPERTY_RATES_PAGE)},sendOmnitureSeparatePageName:function(){this.init(g),g.showingDetails=!1,t.$emit(s.ANALYTICS_PAGE_LOADED,p.PROPERTY_RATES_PAGE)},sendRoomDetails:function(e){g.showingDetails=e,t.$emit(s.ANALYTICS_PAGE_LOADED,p.PROPERTY_RATES_PAGE),g.showingDetails=!1}}}]},,,,,,,,,,function(e,t,n){e.exports=angular.module("chApp.shared.svg-icons",[]).constant("vectorIconConst",n(75)).directive("chSetSvgWidth",n(90))},function(e,t,n){e.exports=angular.module("chApp.shared.validators",[]).directive("chCompareTo",n(952)).directive("chValidatePhone",n(348)).directive("chLowerThan",n(953))},function(e,t){e.exports=function(){return{link:function(e,t,n,r){e.$watch(n.ngModel,(function(t){r.$setValidity("match",e.$eval(n.chCompareTo)===t)})),e.$watch(n.chCompareTo,(function(t){r.$setValidity("match",e.$eval(n.ngModel)===t)}))},require:"ngModel",restrict:"A"}}},function(e,t){e.exports=["$parse",function(e){return{link:function(t,n,r,o){function a(n){var a=e(r.chLowerThan)(t);return n&&a?o.$setValidity("lowerThan",parseFloat(n)<parseFloat(a)):o.$setValidity("lowerThan",!0),n}o.$parsers.unshift(a),o.$formatters.push(a),r.$observe("chLowerThan",(function(){return a(o.$viewValue)}))},require:"ngModel"}}]},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=["$rootScope","analyticsManager","deviceConst","eventsConst","modalService","pagesConst","siteConfig",function(e,t,r,o,a,i,s){return{controller:function(){function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.$scope=e}var l,u,d;return c.$inject=["$scope"],l=c,(u=[{key:"open",value:function(n){s.deviceType===r.MOBILE?this.showing=!0:a.openModal({element:n&&n.target,labelledBy:"cugPriceTagModalTitle",templateUrl:"/shared/cug-modal/cug.modal.html"},this.$scope),t.usingNewAnalytics&&e.$emit(o.ANALYTICS_PAGE_LOADED,i.CUG_POPUP)}}])&&n(l.prototype,u),d&&n(l,d),c}(),controllerAs:"cugModal",templateUrl:s.fileSuffix?"/".concat(s.assetFingerprint,"/shared/cug-modal/cug-modal").concat(s.fileSuffix,".html"):""}}]},function(e,t){e.exports=["$document","$q","$timeout","$window",function(e,t,n,r){return{link:function(o,a,i){if(i.chInfiniteScroll){var s=!1;e.on("scroll",c),angular.element(r).on("resize",c),o.$on("$destroy",l),c()}function c(){if(!s){var e,r=a[0].getBoundingClientRect();r.height>=800&&r.bottom<=800&&(!1===(e=o.$eval(i.chInfiniteScroll))?l():(s=!0,t.when(e).then((function(){o.$$phase||o.$apply(),n((function(){s=!1,c()}),100)})).catch(l)))}}function l(){e.off("scroll",c),angular.element(r).off("resize",c)}}}}]},function(e,t){e.exports=["$location","$rootScope","$sessionStorage","cookieHelper",function(e,t,n,r){return{link:function(o){o.cpUser=t.cpUser,o.cookie=r.getAllCookies(),o.session=n,o.param=e.search(),o.$watch(o.condition,(function(e){o.result=e}))},replace:!1,restrict:"A",scope:{condition:"@chShowIf"},template:'<div ng-transclude ng-if="result"></div>',transclude:!0}}]}])]);