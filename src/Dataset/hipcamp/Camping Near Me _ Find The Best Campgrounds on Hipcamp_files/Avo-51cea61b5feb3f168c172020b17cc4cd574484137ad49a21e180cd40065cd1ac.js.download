!function(){function e(e){return e&&DataView.prototype.isPrototypeOf(e)}function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}})}function s(e){var t=new FileReader,o=a(t);return t.readAsArrayBuffer(e),o}function u(e){var t=new FileReader,o=a(t);return t.readAsText(e),o}function p(e){for(var t=new Uint8Array(e),o=new Array(t.length),r=0;r<t.length;r++)o[r]=String.fromCharCode(t[r]);return o.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:g.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:g.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():g.arrayBuffer&&g.blob&&e(t)?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||w(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function f(e,t){var o=(t=t||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var o=e.split("="),r=o.shift().replace(/\+/g," "),n=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}}),t}function h(e){var t=new n;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var o=e.split(":"),r=o.shift().trim();if(r){var n=o.join(":").trim();t.append(r,n)}}),t}function b(e,t){t||(t={}),this.type="default",this.status=t.status===undefined?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}function m(e,t){return new Promise(function(o,r){function n(){a.abort()}var i=new f(e,t);if(i.signal&&i.signal.aborted)return r(new self.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;o(new b(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new self.DOMException("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&g.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",n),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",n)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})}if("undefined"!=typeof window){var g={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(g.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,r){e=t(e),r=o(r);var n=this.map[e];this.map[e]=n?n+", "+r:r},n.prototype["delete"]=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,r){this.map[t(e)]=o(r)},n.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,o){e.push(o)}),r(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,o){e.push([o,t])}),r(e)},g.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},c.call(f.prototype),c.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];b.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},self.DOMException=self.DOMException;try{new self.DOMException}catch(O){self.DOMException=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack},self.DOMException.prototype=Object.create(Error.prototype),self.DOMException.prototype.constructor=self.DOMException}m.polyfill=!0,self.fetch||(self.fetch=m,self.Headers=n,self.Request=f,self.Response=b)}}(),function(e){function t(e){"undefined"!=typeof window&&I>0&&Math.random()<I&&fetch("https://api.avo.app/i",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){I=e.sa})["catch"](function(){})}function o(e,t){var o=[];return o=o.concat(y.assertInt("1mmrZeWzAil",t?"campground_id: "+t:"campground_id",e))}function r(e,t){var o=[];if(e!==undefined&&null!==e&&(o=o.concat(y.assertString("HEoXs88VLM",t?"campground_bookability: "+t:"campground_bookability",e)),"direct"!==e&&"rtb"!==e&&"walkup"!==e&&"phone"!==e&&"linkout"!==e)){var r=(t?"campground_bookability: "+t:"campground_bookability")+" should match one of the following values [ direct | rtb | walkup | phone | linkout ] but you provided the value "+e;o=o.concat([{tag:"expectedStringMatch",propertyId:"HEoXs88VLM",message:r}])}return o}function n(e,t){var o=[];if(e!==undefined&&null!==e&&(o=o.concat(y.assertString("Q6nvlv--mS",t?"mobile_app_mode: "+t:"mobile_app_mode",e)),"camper"!==e&&"host"!==e)){var r=(t?"mobile_app_mode: "+t:"mobile_app_mode")+" should match one of the following values [ camper | host ] but you provided the value "+e;o=o.concat([{tag:"expectedStringMatch",propertyId:"Q6nvlv--mS",message:r}])}return o}function i(e,t){var o=[];return o=o.concat(y.assertString("REHXUIgA8e",t?"checkout_id: "+t:"checkout_id",e))}function a(e,t){var o=[];return o=o.concat(y.assertInt("fncsZj4QM0",t?"step: "+t:"step",e))}function s(e,t){var o=[];if(e!==undefined&&null!==e&&(o=o.concat(y.assertString("vc0f4xLm5T",t?"campground_inventory_source: "+t:"campground_inventory_source",e)),"hipbook"!==e&&"phone_only"!==e&&"recreation_gov"!==e&&"reserve_america"!==e&&"reserve_california"!==e&&"reserve_world"!==e&&"camis"!==e)){var r=(t?"campground_inventory_source: "+t:"campground_inventory_source")+" should match one of the following values [ hipbook | phone_only | recreation_gov | reserve_america | reserve_california | reserve_world | camis ] but you provided the value "+e;o=o.concat([{tag:"expectedStringMatch",propertyId:"vc0f4xLm5T",message:r}])}return o}function u(e){null!==e.mobileAppMode&&e.mobileAppMode!==undefined&&n(x=e.mobileAppMode)}function p(e){null!==e.mobileAppMode&&e.mobileAppMode!==undefined&&n(x=e.mobileAppMode)}function d(e,t,o,r){O=!1,!0===e.validateProperties&&(g=!0),p(t),r=r||{},v||(e.useProductionKey,(B=o).make(e.useProductionKey),g&&m(w,"setup",[],"setup"))}function c(e,t,o,r){null===w&&(w=e.env.toLowerCase(),!0===e.noop&&(v=!0),v&&"prod"==w&&(console.warn("[avo] ****************************************************"),console.warn("[avo] WARNING Avo cannot be initialized in noop mode in production:"),console.warn("[avo] - Overwriting configuration with noop=false."),console.warn("[avo] - Please reach out if you want to be able to run Avo in production mode with noop=true"),console.warn("[avo] ****************************************************"),v=!1),v&&(console.log("[avo] ****************************************************"),console.log("[avo] Avo is now initialized in noop mode. This means:"),console.log("[avo] - No events will be sent"),console.log("[avo] - No network requests are made"),console.log("[avo] ****************************************************")),e.strict!==undefined&&(A=!1!==e.strict),e.reportFailureAs!==undefined&&(_=e.reportFailureAs),O=!v&&("undefined"!=typeof window&&window.location.search.indexOf("avo_debug=1")>-1||!1!==e.webDebugger&&"prod"!==w),"prod"!==w&&(g=!0),u(t),o=o||{},O&&!v&&function(){if("undefined"!=typeof window){var e=function(){if(null===document.getElementById("avo-debugger")){var e=document.createElement("iframe");document.body.appendChild(e),e.id="avo-debugger",e.src="https://www.avo.app/_debugger",e.style="display: none;"}};document.body?e():document.addEventListener("DOMContentLoaded",e)}}(),v||((B=r).make(w),g&&m(w,"init",[],"init")))}function l(e){if(e=e||{},g||O){var t=[];if(t=(t=(t=(t=(t=(t=(t=t.concat(r(e.campgroundBookability))).concat(s(e.campgroundInventorySource))).concat(i(e.checkoutId))).concat(o(e.campgroundId))).concat(a(e.step))).concat(n(x))).concat(y.assertNoAdditionalProperties("Checkout Step Viewed",Object.keys(e),["campgroundBookability","campgroundInventorySource","checkoutId","campgroundId","step"])),v||b(w,"n1F9TKNNyg","4e61d3be1c45956b79a72a5bb8afef5918e14b06d788f48c8d89471a68349762",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),h.logEventSent("Checkout Step Viewed",{campground_bookability:e.campgroundBookability,campground_inventory_source:e.campgroundInventorySource,checkout_id:e.checkoutId,campground_id:e.campgroundId,step:e.step,mobile_app_mode:x},{}),O&&E("n1F9TKNNyg","Checkout Step Viewed",t,[{id:"1mmrZeWzAil",name:"campground_id",value:e.campgroundId},{id:"HEoXs88VLM",name:"campground_bookability",value:e.campgroundBookability},{id:"REHXUIgA8e",name:"checkout_id",value:e.checkoutId},{id:"fncsZj4QM0",name:"step",value:e.step},{id:"vc0f4xLm5T",name:"campground_inventory_source",value:e.campgroundInventorySource},{id:"Q6nvlv--mS",name:"mobile_app_mode",value:x}],[]),g&&(null===A||A)){if(0!==t.length)throw new Error("Error sending event 'Checkout Step Viewed': "+t[0].message)}else t.forEach(function(e){console[_||"error"]("[avo] "+e.message)})}v||B.logEvent("Checkout Step Viewed",{campground_bookability:e.campgroundBookability,campground_inventory_source:e.campgroundInventorySource,checkout_id:e.checkoutId,campground_id:e.campgroundId,step:e.step,mobile_app_mode:x})}var f,y,h,b,m,g=!1,v=!1,w=null,_=null,A=null,O=!0;Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},writable:!0,configurable:!0}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=o.length;return function(n){if("function"!=typeof n&&("object"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var i,a,s=[];for(i in n)e.call(n,i)&&s.push(i);if(t)for(a=0;a<r;a++)e.call(n,o[a])&&s.push(o[a]);return s}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t,o){"use strict";return function(r,n){if(null===this||this===undefined)throw TypeError("Array.prototype.indexOf called on null or undefined");var i=e(this),a=i.length>>>0,s=o(0|n,a);if(s<0)s=t(0,a+s);else if(s>=a)return-1;if(void 0===r){for(;s!==a;++s)if(void 0===i[s]&&s in i)return s}else if(r!=r){for(;s!==a;++s)if(i[s]!=i[s])return s}else for(;s!==a;++s)if(i[s]===r)return s;return-1}}(Object,Math.max,Math.min)),f=function(e,t){for(var o=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&o.push(e[r]);return o},y={assertObject:function(e,t,o){return"object"!=typeof o?[{tag:"expectedObjectType",propertyId:e,message:t+" should be of type object but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertString:function(e,t,o){return"string"!=typeof o?[{tag:"expectedStringType",propertyId:e,message:t+" should be of type string but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertInt:function(e,t,o){if("number"==typeof o&&o!==Math.round(o)){JSON.stringify(o);return[{tag:"expectedIntType",propertyId:e,actualType:"float"}]}return"number"!=typeof o?[{tag:"expectedIntType",propertyId:e,message:t+" should be of type int but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertLong:function(e,t,o){if("number"==typeof o&&o!==Math.round(o)){JSON.stringify(o);return[{tag:"expectedLongType",propertyId:e,actualType:"float"}]}return"number"!=typeof o?[{tag:"expectedLongType",propertyId:e,message:t+" should be of type long but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertFloat:function(e,t,o){return"number"!=typeof o?[{tag:"expectedFloatType",propertyId:e,message:t+" should be of type float but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertBool:function(e,t,o){return"boolean"!=typeof o?[{tag:"expectedBoolType",propertyId:e,message:t+" should be of type boolean but you provided type "+typeof o+" with value "+JSON.stringify(o),actualType:typeof o}]:[]},assertMax:function(e,t,o,r){return r>o?[{tag:"expectedMax",propertyId:e,message:t+" has a maximum value of "+o+" but you provided the value "+JSON.stringify(r)}]:[]},assertMin:function(e,t,o,r){return r<o?[{tag:"expectedMin",propertyId:e,message:t+" has a minimum value of "+o+" but you provided the value "+JSON.stringify(r)}]:[]},assertList:function(e,t,o){return Array.isArray(o)?[]:[{tag:"expectedList",propertyId:e,message:t+" should be of type list but you provided type "+typeof o,actualType:typeof o}]},assertNoAdditionalProperties:function(e,t,o){var r=f(t,o);return r.length?[{tag:"expectedNoAdditionalProperties",additionalProperties:r,message:"Additional properties when sending event "+e+": "+JSON.stringify(r)}]:[]},assertNoAdditionalUserProperties:function(e,t,o){var r=f(t,o);return r.length?[{tag:"expectedNoAdditionalUserProperties",additionalProperties:r,message:"Additional user properties when sending event "+e+": "+JSON.stringify(r)}]:[]}},h={logEventSent:function(e,t,o){console.log("[avo] Event Sent:",e,"Event Props:",t,"User Props:",o)}};var E,I=1;b=function(e,o,r,n,i){t({ac:"h9aBtDSzJFTLBab8IeAp",br:"master",en:e,ev:o,ha:r,sc:"fe7xdoQBIZ44uQB8cUMH",se:(new Date).toISOString(),so:"OTqdecyKC",va:0===n.length,me:n,or:i})},m=function(e,o,r,n){t({ac:"h9aBtDSzJFTLBab8IeAp",br:"master",en:e,ty:o,sc:"fe7xdoQBIZ44uQB8cUMH",se:(new Date).toISOString(),so:"OTqdecyKC",va:0===r.length,me:r,or:n})};var S=[],T=!1;"undefined"!=typeof window&&window.addEventListener("message",function(e){if("https://www.avo.app"===e.origin){var t=document.getElementById("avo-debugger");if(t&&e&&e.data&&"avo-debugger-update-style"===e.data.type_)t.style=e.data.style;else if(t&&e&&e.data&&"avo-debugger-ready"===e.data.type_){var o={type_:"avo-debugger-boot-events",schemaId:"fe7xdoQBIZ44uQB8cUMH",href:window.location.href,events:S};S=[],T=!0,t.contentWindow.postMessage(o,"https://www.avo.app/_debugger")}}}),E=function(e,t,o,r,n){if("undefined"!=typeof window){var i={eventId:e,eventName:t,messages:o,timestamp:Date.now(),eventProperties:r,userProperties:n};if(T){var a={type_:"avo-debugger-events",events:[i]};document.getElementById("avo-debugger").contentWindow.postMessage(a,"https://www.avo.app/_debugger")}else S.push(i)}};var x,B,P={DIRECT:"direct",RTB:"rtb",WALKUP:"walkup",PHONE:"phone",LINKOUT:"linkout"},k={CAMPER:"camper",HOST:"host"},M={HIPBOOK:"hipbook",PHONE_ONLY:"phone_only",RECREATION_GOV:"recreation_gov",RESERVE_AMERICA:"reserve_america",RESERVE_CALIFORNIA:"reserve_california",RESERVE_WORLD:"reserve_world",CAMIS:"camis"};e.CampgroundBookability=P,e.MobileAppMode=k,e.CampgroundInventorySource=M,e.checkoutStepViewed=l,e.setSystemProperties_=p,e.setSystemProperties=u,e.setup_=d,e.initAvo=c}("undefined"==typeof exports?this.Avo={}:exports);