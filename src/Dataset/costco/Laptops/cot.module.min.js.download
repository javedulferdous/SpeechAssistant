!function(e){function t(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var i,o;i=[],o=function(){var e={fireEvent:function(t){var r={timeout:3e3};$.cachedScript(t.scriptSrc,r).done(function(){var r=[];"true"===t.uat&&r.push({event:"setUat",uat:1}),t.account&&r.push({event:"setAccount",account:t.account}),t.retailerVisitorId&&r.push({event:"setRetailerVisitorId",id:t.retailerVisitorId}),t.email&&r.push({event:"setEmail",email:t.email});var i=void 0;if("viewHome"===t.event?i=e.createHomeArgs(t):"viewBasket"===t.event?i=e.createBasketArgs(t):"trackTransaction"===t.event?i=e.createOrderConfirmationArgs(t):"viewItem"===t.event?i=e.createPDPArgs(t):"viewSearchResult"===t.event?i=e.createSearchResultArgs(t):"viewCategory"===t.event?i=e.createCategoryArgs(t):"addToCart"===t.event&&(i=e.createAddToCartArgs(t)),i){r.push(i),window.criteo_q=window.criteo_q||[];try{window.criteo_q.push(r),console.log("Criteo event has been fired succesfully")}catch(e){console.error(e.message)}}}).fail(function(){console.log("Unable to call Criteo Loader. Script path: "+t.scriptSrc)})},createHomeArgs:function(e){var t={event:e.event,page_id:e.pageId};return t},createBasketArgs:function(e){var t={event:e.event,item:e.item,page_id:e.pageId};return e.zipCode&&(t.zipCode=e.zipCode),t},createOrderConfirmationArgs:function(e){var t={event:e.event,id:e.orderId,item:e.item,page_id:e.pageId};return t},createPDPArgs:function(e){var t=window.atob(e.price),r={event:e.event,item:e.item,price:t,availability:e.availability,page_id:e.pageId};return r},createSearchResultArgs:function(e){var t={event:e.event,item:e.item,page_number:e.pageNumber,keywords:e.keywords,filters:e.filters,page_id:e.pageId};return t},createCategoryArgs:function(t){var r={event:t.event,category:t.category,page_id:t.pageId,item:t.item};return e.isBrowse(t.pageId)&&(r.page_number=t.pageNumber,r.filters=t.filters),r},isBrowse:function(e){return!(!e||!e.startsWith("viewCategory"))},createAddToCartArgs:function(e){var t=[];return t.push({event:e.event,item:[{id:e.itemId,price:e.price,quantity:e.quantity}]}),e.zipCode&&t.push({event:"setZipCode",zipcode:e.zipCode}),e.storeId&&t.push({event:"setStore",storeid:e.storeId}),t},getRetailerVisitorId:function(){var t=$.cookie("CriteoSessionUserId");return t||(t=e.generateCriteoCookie()),t.split(",")[0]},getEmail:function(){var t="",r=$.cookie("CriteoSessionUserId");r||(r=e.generateCriteoCookie());var i=r.split(",");return i.length>1&&(t=i[1]),t},generateCriteoCookie:function(){var e=COSTCO.util.createUUID();return $.cookie("CriteoSessionUserId",e),$.cookie("CriteoSessionUserId")}};return"undefined"==typeof window.COSTCO&&(window.COSTCO=new Object),window.COSTCO.COT=e,e}.apply(t,i),!(void 0!==o&&(e.exports=o))}]);
//# sourceMappingURL=cot.module.min.js.map