window.SYNDI=window.SYNDI||[];window.SYNDI.push({"root":"https://content.syndigo.com/site/common/1.0.94/","uriDataRoot":"https://content.syndigo.com/page/08b9b8e2-abe6-42d5-af6d-995ce9ff38e5/","siteid":"08b9b8e2-abe6-42d5-af6d-995ce9ff38e5","trackingRoot":"https://event.syndigo.cloud/event/","contentDomain":"https://content.syndigo.com/","customModules":["specific/costco/anchor/producthero","specific/costco/anchor/productinline","specific/costco/tracking/addtocart","tracking/storage/local"],"environment":"PRODUCTION","pageIdModule":"specific/costco/costco","locale":"en-US","waitForReadyState":2,"loadTimeout":40000,"abTestingExperiments":{"holdout":{"bucketDuration":3600000,"experimentDuration":31536000000,"threshold":0.05}},"moduleParameters":null,"hasCustomCss":false});!function(){"use strict";const e="syndi_abtesting",t=function(t){try{const n=JSON.parse(window.localStorage.getItem(e));n&&(n[t]&&delete n[t],window.localStorage.setItem(e,JSON.stringify(n)))}catch(e){}};function n(n,o){let i,r,a;if(!o||0===Object.keys(o).length)return t(n.pageid),o;const s=Object.keys(o);if(1===s.length)return t(n.pageid),o[s[0]];try{a=JSON.parse(window.localStorage.getItem(e)),a&&a[n.pageid]&&(i=a[n.pageid].ecId,r=a[n.pageid].date)}catch(e){}i&&!o[i]&&(i=void 0);const c=+new Date;if(r&&r<c&&(i=void 0,r=void 0),r||(r=+new Date+31536e6),!i){const e=s.map(e=>o[e].weight).reduce((e,t)=>t+e),t=Math.random();let n=0;s.sort().map(r=>{n+=o[r].weight/e,n>=t&&!i&&(i=r)})}a=a||{},a[n.pageid]={ecId:i,date:r},a=function(e){if(Object.keys(e).length<=10)return e;const t=+new Date,n=Object.keys(e).filter(n=>e[n].date>t).sort((t,n)=>e[t].date<e[n].date).slice(0,10),o={};return n.map(t=>o[t]=e[t]),n}(a),window.localStorage.setItem(e,JSON.stringify(a));const d=s.map(e=>e+":"+o[e].weight).join("|");return n.tracking.track("x",{ecId:i,experiment:d,decisionExpires:r}),o[i]}function o(){const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=new Array(36);let n=0;for(let o=0;o<36;o++)if(8===o||13===o||18===o||23===o)t[o]="-";else if(14===o)t[o]="4";else{n<=2&&(n=33554432+16777216*Math.random()|0);const i=15&n;n>>=4,t[o]=e[19===o?3&i|8:i]}return t.join("")}function i(e){let t={},n={};const i=o(),r=[],a=function(){n={}},s=function(e,n,...o){if(!Object.prototype.hasOwnProperty.call(t,e))return!1;if(!Object.prototype.hasOwnProperty.call(t[e],n))return!1;for(let t=r.length-1;t>=0;t--){const i=r[t];i.namespace===e&&i.topic===n&&(u(i),i.callback(...o),i.splice(t,1))}return t[e][n].map(e=>e(...o))},c=function(e,t,...o){return s(e,t,...o),"object"!=typeof n[e+"-"+t]&&(n[e+"-"+t]=[]),n[e+"-"+t].push({namespace:e,topic:t,args:o}),!0},d=function(e,t,o){const i=p(e,t,o);for(const e in n){if(!1===n.hasOwnProperty(e))continue;const t=n[e];for(let e=t.length-1;e>=0;e--)t[e].namespace===i.namespace&&t[e].topic===i.topic&&o.apply(null,t[e].args)}return i},u=function(e){if(!Object.prototype.hasOwnProperty.call(t,e.namespace))return!1;if(!Object.prototype.hasOwnProperty.call(t[e.namespace],e.topic))return!1;for(let n=0;n<t[e.namespace][e.topic].length;n++)if(t[e.namespace][e.topic][n]===e.callback)return t[e.namespace][e.topic].splice(n,1),!0;return!1},l=function(){t={},n={}},p=function(e,n,o){return Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),Object.prototype.hasOwnProperty.call(t[e],n)||(t[e][n]=[]),t[e][n].push(o),{namespace:e,topic:n,callback:o}},m=function(...t){t=JSON.parse(JSON.stringify(t)),window.SYNDI.trace({namespace:"eventBus",event:"event-bus",busName:e,busId:i,...t})};return{clearPersistentEvents:()=>{m({portName:"unknown",action:"clearPersistentEvents"}),a()},publish:(e,t,...n)=>(m({portName:"unknown",action:"publish",namespace:e,topic:t,...n}),s(e,t,...n)),publishPersist:(e,t,...n)=>(m({portName:"unknown",action:"publishPersist",namespace:e,topic:t,...n}),c(e,t,...n)),subscribe:(e,t,n)=>(m({portName:"unknown",action:"subscribe",namespace:e,topic:t}),d(e,t,n)),unsubscribe:e=>(m({portName:"unknown",action:"unsubscribe"}),u(e)),unsubscribeAll:()=>{m({portName:"unknown",action:"unsubscribeAll"}),l()},createPort:function(e){return{clearBuffer:()=>{m({portName:e,action:"clearBuffer"}),a()},subscribe:(t,n,o)=>(m({portName:e,action:"subscribe",namespace:t,topic:n}),d(t,n,o)),subscribeOnce:(t,o,i)=>(m({portName:e,action:"subscribeOnce",namespace:t,topic:o}),function(e,t,o){const i=p(e,t,o);for(const e in n){if(!1===n.hasOwnProperty(e))continue;const t=n[e];for(let e=t.length-1;e>=0;e--)if(t[e].namespace===i.namespace&&t[e].topic===i.topic)return o.apply(null,t[e].args),u(i),i}return r.push(i),i}(t,o,i)),unsubscribe:t=>(m({portName:e,action:"unsubscribe"}),u(t)),publish:(t,n,...o)=>(m({portName:e,action:"publish",namespace:t,topic:n,...o}),s(t,n,...o)),publishBuffered:(t,n,...o)=>(m({portName:e,action:"publishBuffered",namespace:t,topic:n,...o}),c(t,n,...o)),unsubscribeAll:()=>{m({portName:e,action:"unsubscribeAll"}),l()}}}}}function r(e){return null!==e&&(void 0!==e.isArray||"[object Array]"===Object.prototype.toString.call(e))}function a(e){return"function"==typeof e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e,t,n){let o,i,u,l,p,m,f,g;for(o=0,i=t.length;o<i;++o)if(u=t[o],s(u)||a(u)){for(f in l=[],u)Object.prototype.hasOwnProperty.call(u,f)&&l.push(f);for(p=0,m=l.length;p<m;p++)f=l[p],g=u[f],n&&s(g)?(w=g,"[object Date]"===Object.prototype.toString.call(w)?e[f]=new Date(g.valueOf()):c(g)?e[f]=new RegExp(g):(s(e[f])||(e[f]=r(g)?[]:{}),d(e[f],[g],!0))):e[f]=g}var w;return e}function u(e){return d(e,Array.prototype.slice.call(arguments,1),!1)}const l={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error","[object Symbol]":"symbol"};function p(e){const t=!!e&&"length"in e&&e.length,n=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[e.toString()]||"object":typeof e}(e),o=null!=e&&e===window;return!a(e)&&!o&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function m(e,t){if(p(e)){const n=e.length;for(let o=0;o<n&&!1!==t.call(e[o],o,e[o]);o++);}else for(const n in e)if(!1===t.call(e[n],n,e[n]))break}function f(e){return"string"==typeof e}function g(e){return f(e)?e.toLowerCase():e}function w(){}let h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,b=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,v=/^</,S=/^<\//,I=/<!--(.*?)-->/g,k=/<!DOCTYPE([^>]*?)>/i,D=/<!\[CDATA\[(.*?)\]\]>/g,x=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,E=/([^#-~| |!])/g;function O(e,t){let n,o={},i=e.split(",");for(n=0;n<i.length;n++)o[t?g(i[n]):i[n]]=!0;return o}let C,N,P=O("area,br,col,hr,img,wbr"),_=O("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T=O("rp,rt"),j=u({},T,_),Y=u({},_,O("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),R=u({},T,O("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=O("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),A=O("script,style"),L=u({},P,Y,R,j,M),q=O("background,cite,href,longdesc,src,usemap,xlink:href"),H=O("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),$=O("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),z=u({},q,$,H);function U(e){return e?(C||(C=document.createElement("pre")),C.innerHTML=e.replace(/</g,"&lt;"),C.textContent):""}function W(e){return e.replace(/&/g,"&amp;").replace(x,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(E,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B(e,t){let n=!1;return{start:function(o,i,r){o=g(o),!n&&A[o]&&(n=o),n||!0!==L[o]||(e.push("<"),e.push(o),m(i,(function(n,i){let r=g(n),a="img"===o&&"src"===r||"background"===r;!0!==z[r]||!0===q[r]&&!t(i,a)||(e.push(" "),e.push(n),e.push('="'),e.push(W(i)),e.push('"'))})),e.push(r?"/>":">"))},end:function(t){t=g(t),n||!0!==L[t]||(e.push("</"),e.push(t),e.push(">")),t===n&&(n=!1)},chars:function(t){n||(!function(e){try{new URL(e)}catch(e){return!1}return!0}(t)?e.push(W(t)):e.push(t))}}}function F(e,t){if(0===t.indexOf("#"))return t;if(new RegExp("^(https?:)*//(a.sellpoint.net)|("+window.location.hostname.split(".").slice(-2).join(".")+")").test(t))return t.indexOf("preview.html")>-1?"unsafe-preview:"+t:t;const n=function(e){const t=document.createElement("a");return t.href=e,t}(t),o=["qa.syndigo.cloud","uat.syndigo.cloud","content.syndigo.com","syndi.webcollage.net"];for(let e=0;e<o.length;e++)if(n.hostname===o[e])return n.pathname.indexOf("preview.html")>-1?`unsafe-${o[e]}:${t}`:t;return void 0!==e.retailerwebsite&&"function"==typeof e.retailerwebsite.sanitizeUrl?e.retailerwebsite.sanitizeUrl(t):"local.spworld"===window.location.hostname?t:"unsafe-default:"+t}function V(e,t){let n=[];return function(e,t){"string"!=typeof e&&(e=null==e?"":Object.prototype.toString.call(e));let n,o,i,r,a=[],s=e;function c(e,n){let o,i=0;if(n=g(n))for(i=a.length-1;i>=0&&a[i]!==n;i--);if(i>=0){for(o=a.length-1;o>=i;o--)t.end&&t.end(a[o]);a.length=i}}function d(e,n,o,i){if(n=g(n),Y[n])for(;a.last()&&R[a.last()];)c(0,a.last());j[n]&&a.last()===n&&c(0,n),(i=P[n]||!!i)||a.push(n);let r={};o.replace(b,(function(e,t,n,o,i){let a=n||o||i||"";r[t]=U(a)})),t.start&&t.start(n,r,i)}for(a.last=function(){return a[a.length-1]};e;){if(r="",o=!0,a.last()&&A[a.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+a.last()+"[^>]*>","i"),(function(e,n){return n=n.replace(I,"$1").replace(D,"$1"),t.chars&&t.chars(U(n)),""})),c(0,a.last())):(0===e.indexOf("\x3c!--")?(n=e.indexOf("--",4),n>=0&&e.lastIndexOf("--\x3e",n)===n&&(t.comment&&t.comment(e.substring(4,n)),e=e.substring(n+3),o=!1)):k.test(e)?(i=e.match(k),i&&(e=e.replace(i[0],""),o=!1)):S.test(e)?(i=e.match(y),i&&(e=e.substring(i[0].length),i[0].replace(y,c),o=!1)):v.test(e)&&(i=e.match(h),i?(i[4]&&(e=e.substring(i[0].length),i[0].replace(h,d)),o=!1):(r+="<",e=e.substring(1))),o&&(n=e.indexOf("<"),r+=n<0?e:e.substring(0,n),e=n<0?"":e.substring(n),t.chars&&t.chars(U(r)))),e===s)throw new Error("The sanitizer was unable to parse the following block of html: "+e);s=e}c()}(t,B(n,(function(t){return!/^unsafe/.test(F(e,t))}))),n.join("")}function J(e,t,n=!0){if(null!=t){if(!0===t||!1===t)return t;if(f(t))return n?V(e,t):t;if("number"==typeof t)return t;if(r(t)){for(let o=t.length-1;o>=0;o--)t[o]=J(e,t[o],n);return t}if(s(t)){for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(t[o]=J(e,t[o],n));return t}}}async function G(e,t,n=!0){e.tracking&&(t=e.tracking.appendParams(t)),t=t.replace(/^\/\//,0===location.protocol.indexOf("https")?"https://":"http://");const o=await function(e){return new Promise((function(t,n){const o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){this.status>=200&&this.status<400?t(this.response):n(new Error("Failed to fetch:"+e))},o.onerror=function(e){n(e)},o.send()}))}(t);return J(e,JSON.parse(o),n)}function X(e){return void 0===N&&(N=function(){const e={};return location.search.replace(/[?|&]([^=]+)=([^&;#]+)/gi,(function(t,n,o){e[decodeURIComponent(n)]=decodeURIComponent(o)})),e}()),N[e]}const Q="syndi_holdout";function K(e){return void 0===e?+new Date:e}function Z({conditions:e,callback:t,startTime:n,timeout:o,retryDelay:i}){return n=K(n),o=o||2e4,i=i||100,e()?setTimeout(t,1):function(e,t=5e3){return+new Date-e>=t}(n,o)?t(new Error("timed out")):void setTimeout(Z,i,{conditions:e,callback:t,startTime:n,timeout:o,retryDelay:i})}async function ee({conditions:e,timeout:t,retryDelay:n}){return new Promise((function(o){Z({callback:function(e){o(!e)},conditions:e,retryDelay:n,timeout:t})}))}function te(e,t){const n=t.filter(t=>void 0===e.modules[t]);return e.allowDynamicModuleLoad&&n.forEach((function(t){!function(e){const t=e+".mjs?cv="+Math.floor(Date.now()/36e5)+"&hn="+encodeURIComponent(window.location.hostname);if(document.querySelector(`script[src="${t}"]`))return;const n=document.createElement("script");n.type="module",n.src=t;const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}(e.root+t+".min")})),0===n.length}function ne(e){if(e.customModules&&e.customModules instanceof Array&&e.customModules.indexOf("lib/jquery")>=0)return!1;if(void 0===window.jQuery||void 0===window.jQuery.fn||void 0===window.jQuery.fn.jquery)return!1;const t=window.jQuery.fn.jquery.split(".");return t[0]>=1&&t[1]>=9}async function oe(e,t,n={}){if(!t.length)return;const o={};for(;t.length;){const i=t.filter((function(e){const t=o[e];return o[e]=!0,!t}));window.SYNDI.trace({namespace:"dynamicImport",event:"request",toLoad:i});if(!await ee({conditions:()=>te(e,i),timeout:e.loadTimeout,retryDelay:e.retryDelay}))return;window.SYNDI.trace({namespace:"dynamicImport",event:"load",toLoad:i});const r=i.indexOf("lib/jquery");r>=0&&ne(e)&&(i.splice(r,1),e.$=window.jQuery),e.modules["lib/jquery"]&&void 0===e.$&&(e.$=new e.modules["lib/jquery"](e)),t.length=0,i.forEach((function(o){const i=e.getDependencies[o];i&&(t=t.concat(i(e,n)))}))}}function ie(e){return e.replace(/\/{2,}/g,"/").replace(/(https?:\/)([^/])/g,"$1/$2").replace(/^(\/[^/])/,"/$1")}async function re(e,t,n){if(t.length>0){let o=e.uriDataRoot;window.SYNDI.isServedFromCxH()?"w"===n&&(o=o.replace(/page\/.*$/,`legacy/sp/w/${e.siteid}/w`)):o=o+"/"+n;const i=!1;return G(e,ie(o+"/"+encodeURIComponent(t)+".json"),i)}return{}}function ae(e){const t=function(e){const t=`sp_widget_${e.id}_css_listener`;let n=document.querySelector(t);return n||(n=document.createElement("div"),n.id=t,n.style.display="none",n.style.position="absolute",document.querySelector(e.targetSelector).appendChild(n),n)}(e),n=getComputedStyle(t);return"string"==typeof n.fontSize&&n.fontSize.indexOf("5311px")>=0||"string"==typeof n.content&&n.content.indexOf("sp-css-load-complete")>=0}async function se(e,t){e.tracking&&(t=e.tracking.appendParams(t));const n=document.createElement("link");return n.rel="styleSheet",n.type="text/css",n.href=t,document.head.appendChild(n),new Promise((function(e){!function(e,t){let n;const o=function(){!n&&t&&(n=!0,t.call(e))};e.addEventListener&&e.addEventListener("load",o),e.attachEvent&&e.attachEvent("onload",o),"isApplicationInstalled"in navigator&&"onloadcssdefined"in e&&e.onloadcssdefined(o)}(n,e)}))}function ce(e,t){"string"==typeof e&&e.length>0&&function(e){return void 0!==X("div")&&X("div")===e&&(void 0!==X("rwsid")||void 0!==X("prtnid"))&&(void 0!==X("pid")||void 0!==X("pageid"))&&null!==location.pathname.match(/p.html$/)&&("a.sellpoint.net"===location.host||location.host.indexOf("local.spworld")>-1)}(t)&&document.querySelector("html").setAttribute("lang",e)}async function de(e,t,n,o=!1){if(e.loadedWidgetAnchors[t.targetSelector]=!0,ce(t.locale,t.targetSelector.slice(1)),t.zones){const e=t.zones.filter(e=>void 0===e.empty);if((0===t.zones.length||0===e.length)&&parseInt(t.isoptional,10)&&t.widgets&&0===t.widgets.length)return void(n&&n.unregisterWidget(t))}t.version=t.version||"v0.0.0";const i=e.getDependencies[t.type],r=i?i(e,t):[];await oe(e,r,t);const a=new e.modules[t.type](e,n);if(await a.init(t),n&&n.registerWidget(a),t.widgets){const n=[];m(t.widgets,(function(i,r){let s;s=void 0!==t.content&&void 0!==t.content[r]?ue(e,t.content[r],a,o):async function(e,t){const n=await re(e,t,"w");return ue(e,n)}(e,r),s&&n.push(s)})),await Promise.all(n)}return a}async function ue(e,t,n,o=!1){try{!function(e,t,n){if(void 0===t.type)throw new Error("Widget type is mandatory");let o=!0;if(void 0!==e.retailerwebsite&&void 0!==e.retailerwebsite.publishrules&&(o=e.retailerwebsite.publishrules(t,n)),o&&n&&!1===t.websiteDisplayPermission&&(o=!1),!o){let e="Failed Loading Widget: permission denied, widgetid:"+t.id;throw n&&(e+=`, parentid:${n.getId()}, prtnid:${n}`),new Error(e)}}(e,t,n);if(!(await Promise.all([oe(e,[t.type],t),ee({conditions:()=>document.querySelector(t.targetSelector),timeout:e.loadTimeout})]))[1])throw new Error("timed out waiting for target selector "+t.targetSelector);if(e.mediator.publish(t.targetSelector+"_to_parent","publish"),n&&(t.parentwidgetid=n.getId()),e.loadedWidgetAnchors[t.targetSelector])return;o||await async function(e,t){if(t.id.length>0&&!ae(t)){let n=e.uriDataRoot;window.SYNDI.isServedFromCxH()?n=n.replace(/page\/.*$/,`legacy/sp/w/${e.siteid}/w`):n+="/w";const o=n+"/"+encodeURIComponent(t.id)+".css";void 0!==t.waitForCSS?await se(e,ie(o)):se(e,ie(o))}return{}}(e,t);const i=await de(e,t,n,o);return e.mediator.publish("heartbeat","start"),i}catch(o){throw n&&n.unregisterWidget(t),e.tracking.trackError({msg:o.message}),o}}function le(){return"undefined"!=typeof MutationObserver}let pe,me;function fe(e){if(void 0===pe){let t;try{t=window[e];const n="__syndigo_storage_test__";t.setItem(n,n),t.removeItem(n),pe=!0}catch(e){pe=e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}return pe}function ge(e){document.querySelector("#syndigo-tab-capture-mission-control")?setTimeout(e,0):setTimeout(ge,2e3,e)}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(me||(me={}));const we={type:"xstate.init"};function he(e){return void 0===e?[]:[].concat(e)}function ye(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function be(e){return t=>e===t}function ve(e){return"string"==typeof e?{type:e}:e}function Se(e,t){return{value:e,context:t,actions:[],changed:!1,matches:be(e)}}function Ie(e,t={}){const n={config:e,_options:t,initialState:{value:e.initial,actions:he(e.states[e.initial].entry).map(e=>ye(e,t.actions)),context:e.context,matches:be(e.initial)},transition:(t,o)=>{const{value:i,context:r}="string"==typeof t?{value:t,context:e.context}:t,a=ve(o),s=e.states[i];if(s.on){const t=he(s.on[a.type]);for(const o of t){if(void 0===o)return Se(i,r);const{target:t=i,actions:c=[],cond:d=(()=>!0)}="string"==typeof o?{target:o}:o;let u=r;if(d(r,a)){const o=e.states[t];let r=!1;const d=[].concat(s.exit,c,o.entry).filter(e=>e).map(e=>ye(e,n._options.actions)).filter(e=>{if("xstate.assign"===e.type){r=!0;let t=Object.assign({},u);return"function"==typeof e.assignment?t=e.assignment(u,a):Object.keys(e.assignment).forEach(n=>{t[n]="function"==typeof e.assignment[n]?e.assignment[n](u,a):e.assignment[n]}),u=t,!1}return!0});return{value:t,context:u,actions:d,changed:t!==i||d.length>0||r,matches:be(t)}}}}return Se(i,r)}};return n}const ke=(e,t)=>e.actions.forEach(({exec:n})=>n&&n(e.context,t));function De(e){let t=e.initialState,n=me.NotStarted;const o=[],i={_machine:e,send:i=>{n===me.Running&&(t=e.transition(t,i),ke(t,ve(i)),o.forEach(e=>e(t)))},subscribe:e=>(o.indexOf(e)<0&&o.push(e),e(t),{unsubscribe:()=>{const t=o.indexOf(e);if(t>=0)return o.splice(t,1)[0]}}),start:()=>(n=me.Running,ke(t,we),i),stop:()=>(n=me.Stopped,o.length=0,i),get status(){return n}};return i}function xe(e){return Math.round(e/1e3)}function Ee(e){const{beaconReportingRoot:t,siteid:n}=e;if(!t||!navigator.sendBeacon)return{destroy:w,newContent:w,send:w};const o={buffer:[],newContentTime:Date.now(),pageVisibleTime:0,clockSkew:void 0},i=Ie({id:"beacon",initial:"syncing",context:{},states:{syncing:{entry:async function(){try{o.clockSkew=await async function(){const e=new XMLHttpRequest,t="https://event.syndigo.cloud/event/date";return e.open("GET",t,!0),new Promise((function(n,o){e.onload=function(){if(this.status<200||this.status>=400)return o(new Error("Failed to fetch: "+t));const i=e.getResponseHeader("Date"),r=Date.parse(new Date(Date.parse(i)).toUTCString()),a=Date.parse((new Date).toUTCString());n(r-a)},e.onerror=function(e){o(e)},e.send()}))}(),s.send("SYNC_COMPLETE")}catch(e){}},on:{SYNC_COMPLETE:"ready"}},ready:{entry:function(){document.addEventListener("visibilitychange",r),window.addEventListener("pagehide",r),window.addEventListener("beforeunload",r),s.send("visible"===document.visibilityState?"PAGE_VISIBLE":"PAGE_HIDDEN")},on:{PAGE_VISIBLE:"showing",PAGE_HIDDEN:"hidden"}},showing:{entry:function(){o.pageVisibleTime=Date.now(),a("pv",{t:xe(Date.now()-o.newContentTime)})},on:{DESTROY:"destroyed",PAGE_HIDDEN:"hidden"}},hidden:{entry:function(){const e=Date.now(),n=xe(e-o.newContentTime),i=xe(e-o.pageVisibleTime);a("ph",{pvdt:i,t:n}),function(e,t){const n=[];for(;t.buffer.length;){const o=t.buffer.shift();o.et+=t.clockSkew,JSON.stringify(n).length+JSON.stringify(o).length>8192&&(navigator.sendBeacon(e,JSON.stringify(n)),n.length=0),n.push(o)}n.length&&navigator.sendBeacon(e,JSON.stringify(n)),t.buffer.length=0,t.lastDrain=Date.now()}(t,o)},on:{DESTROY:"destroyed",PAGE_VISIBLE:"showing"}},destroyed:{entry:function(){document.removeEventListener("visibilitychange",r),window.removeEventListener("pagehide",r),window.removeEventListener("beforeunload",r)}}}}),r=function(){"hidden"===document.visibilityState?s.send("PAGE_HIDDEN"):"visible"===document.visibilityState&&s.send("PAGE_VISIBLE")},a=function(t,i){const{tracking:r}=e,a=r.getCapturedUrlParams();o.buffer.push({pxt:t,et:Date.now(),u:r.spid,siteid:n,pageid:r.getPageid(),s:r.sessionId,v:"v1.0.94",visitid:r.visitId,ref:document.referrer,...i,...a,...r.customParams})},s=De(i).start();return{destroy:function(){s.send("DESTROY")},newContent:function(){o.newContentTime=Date.now()},send:a}}function Oe(e){let t=+new Date,n=!1,i=!1;const s=Ee(e),c={sessionId:void 0,spid:void 0,visitId:void 0,customParams:{},options:{},init:function(){c.getSpid()||(c.spid=o(),c.setStorage("spid",c.spid)),c.getSession()||(c.setSession(),e.mediator.publishPersist("tracking","session",c.sessionId)),c.setPageVisitId(),function(e){let t,n=!1;const o=function(){const i=+new Date-t;i>66e4||(!0===n&&e.tracking.track("h",{t:Math.round(i/1e3,0)}),setTimeout(o,i<12e4?6e3:3e4))};t=K(t),o(),e.mediator.subscribe("heartbeat","start",(function(){n=!0})),e.mediator.subscribe("heartbeat","stop",(function(){n=!1})),e.mediator.subscribe("content","new",(function(){t=K()}))}(e),e.mediator.subscribe("content","new",(function(){s.newContent(),e.tracking.track("p"),t=+new Date,c.visitId=void 0,c.setPageVisitId()}))},recordCartProducts:function(t){if(!0!==i){for(let n=0;n<t.length;n++)e.tracking.track("tp",t[n]);i=!0}},recordTransaction:function(t){!0!==n&&(e.tracking.track("t",t),n=!0)},track:function(n,o,i=w){o||(o={}),"a"!==n||"show"!==o.a&&"hide"!==o.a?(window.SYNDI.trace({namespace:"reporting",eventType:n,params:o}),void 0===o.dt&&(o.dt=(+new Date-t)/1e3),function(e,t){e=e.substr(0,4089);const n=new Image;n.width=1,n.border=0,n.onload=t,n.onerror=t,n.src=e}(c.appendParams(`${e.trackingRoot}${n}.gif`,o),i),"h"!==n&&s.send(n,o)):i()},trackError:function(t){e.tracking.track("e",t)},trackWidgetAction:function(t,n,o={}){const i=t.targetSelector.split("_"),r=t.id.split("_");let a,s,c,d;i.length>4&&(a=i[2],s=i[3]),c=r.length>1?r[0]:t.id,r.length>1&&(d=r[1]),o.wh=c,void 0!==d&&(o.wv=d),o.wt=t.type,void 0!==a&&(o.ph=a),void 0!==s&&(o.pv=s),o.a=n,e.tracking.track("a",o)},getCapturedUrlParams:function(){if(!e.captureUrlParams)return{};if(c.capturedUrlParams)return c.capturedUrlParams;let t=e.captureUrlParams.split(","),n={};return t.forEach((function(e){let t=e.trim(),o=X(t),i="cpt_"+t;o?c.setStorage(i,o,"y",!0):o=c.getStorage(i,o,!0),n[i]=o})),c.capturedUrlParams=n,n},appendParams:function(t,n={}){t+=(-1!==t.indexOf("?")?"&":"?")+"u="+c.spid,t+="&prtnid="+e.siteid,t+="&siteid="+e.siteid,t+="&pageid="+c.getPageid(),t+="&s="+c.sessionId,t+="&v=v1.0.94",t+="&visitid="+c.visitId;const o=function(e){if(void 0===e)return"";const t=[];let n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&!a(e[n])&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}({...n,...c.getCapturedUrlParams(),...c.customParams});return o.length>0&&(t+="&"+o),t+="&ref="+encodeURIComponent(document.referrer),t+="&r="+Math.random()},getPageid:function(){return"a.sellpoint.net"!==document.location.hostname&&"tag.retargeter.com"!==document.location.hostname||(e.pageid=X("pageid")||e.pageid),e.pageid},getStorage:function(t,n){let o=e.mediator.publish("tracking","getstorage",t);if(!1===o||!r(o))return;let i,a,s={},d=0;for(a=o.length-1;a>=0;a--)void 0!==o[a]&&(void 0!==s[o[a]]?s[o[a]]++:s[o[a]]=1,s[o[a]]>d&&(d=s[o[a]],i=o[a]));return void 0!==n&&!1===new RegExp(n).test(i)&&(i=void 0),d!==o.length&&void 0!==i&&c.setStorage(t,i),i},setStorage:function(t,n,o){const i={key:t,value:n,duration:o};e.mediator.publishPersist("tracking","setstorage",i)},getSpid:function(){return"a.sellpoint.net"===document.location.hostname&&(c.spid=X("u")),c.spid=c.spid||c.getStorage("spid","^[0-9a-zA-Z-]{36}$"),c.spid},getSession:function(){return"a.sellpoint.net"===document.location.hostname&&(c.sessionId=X("s")),c.sessionId=c.sessionId||c.getStorage("sp_ssid","^[0-9]+$"),("undefined"===c.sessionId||+new Date-c.sessionId>36e5)&&(c.sessionId=void 0),c.sessionId},setSession:function(){c.sessionId=+new Date,c.setStorage("sp_ssid",c.sessionId,"h")},setPageVisitId:function(){"a.sellpoint.net"===document.location.hostname&&(c.visitId=X("visitid")),c.visitId=c.visitId||o()},getCookie:function(e){const t=new RegExp("^.*(?:[^a-z0-9]+|^)"+e+"[ ]*=([^;]*).*$","g");let n="";return document.cookie.replace(t,(function(e,t){n=t})),n||void 0},setCookie:function(t,n,o){let i=new Date;"y"===o?i.setDate(i.getDate()+365):"h"===o?i.setMilliseconds(i.getMilliseconds()+36e5):i.setDate(i.getDate()-1);const r=void 0!==e.cookieDomain?";domain="+e.cookieDomain:"";document.cookie=`${t}=${n};expires=${i.toUTCString()};path=/${r}; SameSite=None; Secure`},setCustomParams:function(e,t){let n,o,i;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===c.customParams[n]||!0===t)c.customParams[n]=e[n];else if("multi"===t){for(o=0,i=n+"_"+o;!Object.prototype.hasOwnProperty.call(c.customParams,i)&&o<50;)o++,i=n+"_"+o;c.customParams[i]=e[n]}}};return c}const Ce=0,Ne=1,Pe=2,_e=3,Te=4;function je(e){return"complete"!==document.readyState&&void 0===e.waitForReadyState||function(){switch(document.readyState){case"uninitialized":return Ce;case"loading":return Ne;case"loaded":return Pe;case"interactive":return _e;case"complete":return Te;default:return-1}}()>=e.waitForReadyState}function Ye(e){const{el:t,styleId:n,type:o}=e,i=(t.shadowRoot||document).getElementById(n);if((t.shadowRoot||document).getElementById(n))return i;const r=t.shadowRoot||document.head||document.getElementsByTagName("head")[0];let a;return"external"===o?(a=document.createElement("link"),a.href=e.href,a.type="text/css",a.rel="stylesheet",r.appendChild(a)):"inline"===o&&(a=function(e,t){const n=document.createElement("style");return t.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),n}(e.css.replace(/\n/g," "),r)),a.classList.add("syndigo-widget-style"),a.setAttribute("id",n),a}async function Re(e){const t=await G(e,e.uriDataRoot.replace("page","site")+"styles.json","json"),n={};if(Object.keys(t).map(e=>n["--syndi"+e]=t[e]),window.CSS&&CSS.supports("color","var(--fake-var)")){const e=Object.keys(n).map(e=>`${e} : ${n[e]};`);Ye({el:document.head,styleId:"syndigo-site-styles",type:"inline",css:`:root { ${e.join("")} }`})}else{(await window.SYNDI.importDynamic("lib/ponyfill-css-vars"))({include:"style.syndigo-widget-style",variables:n,shadowDOM:!0,silent:!0,updateURLs:!1,watch:le(),onError:function(t){e.tracking.track("e",{message:t})}})}}function Me(){return document.querySelector('[id*="SP_ProductImage"]')||document.querySelector('[id*="wc-power-page"]')||document.querySelector('[id*="wc-pp"]')}function Ae(e){return!!e&&!!(e.offsetHeight||e.offsetWidth||e.getClientRects&&e.getClientRects().length)}function Le(){const e=i("mutation-sensor-component");let t;return{destroy:function(){t&&(t.disconnect(),t=void 0),e.unsubscribeAll()},init:async function({dom:n,config:o}){const i=function(t,n){e.publish("mutation-sensor","mutation",t,n)};if(le())t=new MutationObserver(i);else{const e=await window.SYNDI.importDynamic("lib/ponyfill-mutation-observer");t=new e(i)}t.observe(n,o)},subscribe:function(t,n){e.subscribe("mutation-sensor",t,n)}}}!function(e){if(void 0!==e&&!(e instanceof Array)&&void 0!==e.registerModule)return;const t={abTestingExperiments:{},allowDynamicModuleLoad:!0,beaconReportingRoot:void 0,captureUrlParams:void 0,contentPresence:{hotspots:!1,mosaic:!1,powerpage:!1},cookieDomain:void 0,css:{},customModules:[],environment:"",experiencesByContentId:{},getDependencies:{},hasContent:void 0,loadTimeout:5e3,loadedWidgets:[],loadedWidgetAnchors:{},loadedWidgetTypes:{},locale:void 0,modules:{},moduleParameters:{},retryDelay:100,root:"//a.sellpoint.net/w/spworld/",trackingRoot:"//t.sellpoints.com/",contentDomain:"https://content.syndigo.com",uriDataRoot:"./",waitForReadyState:Pe};let o=[];function c(e){const n=t.customModules.filter(e),o=[];return n.forEach((function(e){const n=new t.modules[e](t);void 0!==n.init&&o.push(n.init())})),Promise.all(o)}function d(e,n,o){if(Object.prototype.hasOwnProperty.call(e,n))if("customModules"===n)t.customModules=t.customModules.concat(e[n]);else if("abTestingExperiments"===n)t.abTestingExperiments=e[n]||{};else if("allowDynamicModuleLoad"===n)t.allowDynamicModuleLoad="yes"===(i=e[n])||"true"===i||!!Number(i);else if("moduleParameters"===n)t.moduleParameters=e[n]||{};else if("contentCallback"===n){const o=t.contentCallback;t.contentCallback=t=>{a(o)&&o(t),a(e[n])&&e[n](t)}}else if("noContentCallback"===n){const o=t.noContentCallback;t.noContentCallback=t=>{a(o)&&o(t),a(e[n])&&e[n](t)}}else t[n]=e[n];else void 0!==o&&(t[n]=o);var i}const u=async function(e){let n,o,i,r=!1;try{[n,o,i]=await Promise.all([window.SYNDI.importDynamic("experience/power-page"),window.SYNDI.importDynamic("experience/hotspots/hotspots"),window.SYNDI.importDynamic("experience/mosaic")])}catch(e){return t.tracking.trackError({type:"haciao",message:"could not load enhanced content JSON for powerpage"}),r}if(!e.experiences)return r;if(e.experiences["power-page"]){t.contentPresence.powerpage=!0,r=!0;new n(t).init({componentId:e.componentId,enhancedProductContentId:e.enhancedProductContentId,...e.experiences["power-page"]})}if(e.experiences.hero){const n=function(e,t){let n,o,i,r;const a=e.abTestingExperiments.holdout;if(!a||window.location.host.indexOf("syndigo")>-1)return!0;try{r=JSON.parse(window.localStorage.getItem(Q)),r&&(n=r.userExcludeGroup,o=r.bucketExpires,i=r.experimentExpires)}catch(e){}const s=+new Date;let c;return n=void 0!==n?n:Math.random()>=a.threshold?1:0,o=void 0!==o?o:s+a.bucketDuration,i=void 0!==i?i:s+a.experimentDuration,c=o<=s||i<=s||1===n,i<=s?(window.localStorage.removeItem(Q),c):(r={userExcludeGroup:n,bucketExpires:o,experimentExpires:i},window.localStorage.setItem(Q,JSON.stringify(r)),e.tracking.track("x",{display:c,ecId:t,...r}),c)}(t,e.enhancedProductContentId);if(e.experiences.hero.heroImages.length){if(n){t.contentPresence.hotspots=!0;new o(t).init({componentId:e.componentId,enhancedProductContentId:e.enhancedProductContentId,...e.experiences.hero})}r=!0}if(e.experiences.hero.mosaicWidgetIds.length){if(n){t.contentPresence.mosaic=!0;new i(t).init({componentId:e.componentId,enhancedProductContentId:e.enhancedProductContentId,...e.experiences.hero})}r=!0}}return r&&(await Re(t),t.mediator.publish("heartbeat","start")),t.mediator.publish("contentPresence","changed",{...t.contentPresence}),r},l=async function(e){if(!e)return;let o,i;if(t.hasContent=void 0,t.mediator.publish("content","new"),t.experiencesByContentId[e])window.SYNDI.trace({namespace:"contentLoad",event:"load-contentid",pageid:e}),i=t.experiencesByContentId[e];else{window.SYNDI.trace({namespace:"contentLoad",event:"load-pageid",pageid:e});try{o=await re(t,e,"l"),i=o.experiences}catch(e){}}const r=o&&(o.widgets&&o.widgets.length||Object.keys(o.experiences||{}).length>0);if(window.SYNDI.trace({namespace:"contentLoad",event:"has-widgets-to-load",hasWidgetsToLoad:r}),!r&&a(t.retailerwebsite.fallbackPageIdentifier)){const e=t.retailerwebsite.fallbackPageIdentifier();if(!e||e===t.pageid)return t.hasContent=!1,void(a(t.contentCallback)&&t.contentCallback(!1));window.SYNDI.trace({namespace:"contentLoad",event:"fallback-pageid",pageid:e}),window.SYNDI.trace({namespace:"frameworkState",event:"pageid",pageid:e}),t.pageid=e,t.mediator.publish("content","new");try{o=await re(t,e,"l")}catch(e){o={}}i=o.experiences}if(o.widgets=o.widgets||[],t.staticWidgets){const e=function(e){const t={};for(let n=0;n<e.length;n++){const o=e[n].split("_");t[o[0]]=parseInt(o[1],10)}return t},n=e(t.staticWidgets),i=e(o.widgets);for(const e in n)n.hasOwnProperty(e)&&(!i.hasOwnProperty(e)||n[e]>i[e])&&o.widgets.unshift(e+"_"+n[e])}if(o.siteid?t.siteid=o.siteid:o.retailerid?t.siteid=o.retailerid:o.prtnid&&(t.siteid=o.prtnid),t.siteid&&window.SYNDI.trace({namespace:"contentLoad",event:"set-siteid",siteid:t.siteid}),o.retailerwebsitepagetype&&o.retailerwebsitepagetype.name&&(t.pagetype=o.retailerwebsitepagetype.name.toLowerCase(),window.SYNDI.trace({namespace:"contentLoad",event:"set-pagetype",pagetype:t.pagetype})),t.mediator.publishPersist("abtesting","page-data",o),i&&Object.keys(i).length>0){const e=n(t,i);t.hasContent=await u(e)}else t.hasContent=!1;a(t.contentCallback)&&t.contentCallback(t.hasContent),await m(o,o.widgets)},p=async function(e){try{const n=await re(t,e,"w"),o=await ue(t,n);if(o){t.loadedWidgets.push(o);const e=o.getType().split("/").pop();t.loadedWidgetTypes[e]=!0,["i2","storypoints"].indexOf(e)>-1&&(t.contentPresence.hotspots=!0,t.mediator.publish("contentPresence","changed",{...t.contentPresence}))}}catch(e){e.message,t.tracking.trackError({message:e.message});const n=(t.environment||"").replace("/","").toLowerCase();if(["dev","staging","qa","uat"].indexOf(n)>-1)throw e}},m=async function(e,n=[]){t.loadedWidgetAnchors={};const o=n.filter(n=>!t.abTesting||t.abTesting.displayWidget(e,n));window.SYNDI.trace({namespace:"contentLoad",event:"load-widgets",widgetids:o});const i=o.map(p);window.SYNDI.trace({namespace:"contentLoad",event:"load-widgets-complete"}),await Promise.all(i),t.mediator.publishPersist("abtesting","saveExperimentsToStorage"),a(t.noContentCallback)&&t.noContentCallback(t.loadedWidgetTypes)};t.getSPname=function(e,t){if(void 0===this)return;const n="sp_widget_"+this.id+"_"+e;return void 0===t?n:t+n},t.$getSPname=function(e,n,o){let i="";return void 0===o&&(o="holder"),e!==o&&(i+=t.getSPname.call(this,o,"#")+" "),void 0===n&&(n="#"),i+=t.getSPname.call(this,e,n),t.$(i)};const g=function(){window.SYNDI.trace({namespace:"contentLoad",event:"reset"}),t.loadedWidgets.forEach(e=>{a(e.destroy)&&e.destroy()}),t.loadedWidgets.length=0,t.contentPresence.hotspots=!1,t.contentPresence.mosaic=!1,t.contentPresence.powerpage=!1,t.mediator.publish("contentPresence","changed",{...t.contentPresence})},h=async function(...e){if(void 0!==t.mediator){for(let n=0;n<e.length;n++)if(f(e[n])){const o=V(t,e[n].trim());o!==t.pageid&&(window.SYNDI.trace({namespace:"frameworkState",event:"pageid",pageid:o}),t.pageid=o,await l(e[n]))}else if(s(e[n]))if("track"===e[n].type)t.mediator.publishPersist("tracking","event",e[n]);else if(a(e[n].contentCallback)){const o=a(t.contentCallback)?t.contentCallback:void 0;t.contentCallback=t=>{o&&o(t),e[n].contentCallback(t)},void 0!==t.hasContent&&e[n].contentCallback(t.hasContent)}}else o=o.concat(e)};setTimeout((async function(){e instanceof Array&&e.filter(e=>"object"==typeof e).map(e=>function(e){window.SYNDI.trace({namespace:"boot",event:"forward-config-properties"});const t=["abTestingExperiments","allowDynamicModuleLoad","beaconReportingRoot","cacheBuster","captureUrlParams","contentCallback","noContentCallback","cookieDomain","customModules","environment","loadTimeout","locale","pageIdModule","moduleParameters","ecJsonURL","prtnid","siteid","retryDelay","root","staticWidgets","trackingRoot","contentDomain","uriDataRoot","waitForReadyState","widgethash"];for(let n=0;n<t.length;n++)d(e,t[n])}(e)),t.siteid=t.siteid||t.prtnid||0,window.SYNDI.trace({namespace:"boot",event:"set-site-id",siteid:t.siteid}),window.SYNDI.trace({namespace:"boot",event:"wait-for-document-ready"}),await async function(e){await ee({conditions:()=>je(e),timeout:e.loadTimeout})}(t);let n=[];n=n.concat(t.customModules),t.pageIdModule&&(n=n.concat(t.pageIdModule));try{window.SYNDI.trace({namespace:"boot",event:"import-custom-modules"}),await oe(t,n)}catch(e){t.tracking.trackError({message:"syndi failed to load dependencies "+e,type:"framework"})}await async function(){window.SYNDI.trace({namespace:"boot",event:"setup-framework-eventbus"}),t.mediator=i("main-bus"),t.mediator.subscribe("content","new",(function(){t.mediator.clearPersistentEvents()})),window.SYNDI.trace({namespace:"boot",event:"init-tracking-modules"}),await c(e=>t.modules[e]&&e.indexOf("tracking/storage")>-1),t.tracking=new Oe(t),t.tracking.init(),void 0!==t.pageIdModule&&(window.SYNDI.trace({namespace:"boot",event:"attach-pageid-module"}),t.retailerwebsite=new t.modules[t.pageIdModule](t),void 0!==t.retailerwebsite.pageType&&(window.SYNDI.trace({namespace:"boot",event:"determine-pagetype"}),t.pagetype=t.retailerwebsite.pageType()));const n=e.concat(o).filter(e=>"string"==typeof e);t.pageid=n.pop(),window.SYNDI.trace({namespace:"frameworkState",event:"pageid",pageid:t.pageid}),window.SYNDI.trace({namespace:"boot",event:"extract-pageid",pageIds:n,extracted:t.pageid}),!t.pageid&&t.retailerwebsite&&(t.pageid=t.retailerwebsite.pageidentifier(),window.SYNDI.trace({namespace:"frameworkState",event:"pageid",pageid:t.pageid}),window.SYNDI.trace({namespace:"boot",event:"extract-specific-pageid",pageid:t.pageid})),window.SYNDI.trace({namespace:"boot",event:"initialize-nontracking-modules"}),await c(e=>e.indexOf("tracking/storage")<0)}();const s=e.concat(o);if(await h(s.filter(e=>e&&void 0!==e.type)),void 0!==t.pageid||void 0!==t.widgethash||void 0!==t.staticWidgets||void 0!==t.ecJsonURL){if(void 0===t.widgethash&&void 0===t.ecJsonURL)window.SYNDI.trace({namespace:"boot",event:"load-content-by-pageid"}),await l(t.pageid);else if(t.ecJsonURL){const e=!1,n=await G(t,t.ecJsonURL,e);await u(n)}else if(t.widgethash){t.pageid="widgetHashPreview-"+t.widgethash,window.SYNDI.trace({namespace:"frameworkState",event:"pageid",pageid:t.pageid}),window.SYNDI.trace({namespace:"boot",event:"load-content-by-widgethash"});const e=r(t.widgethash)?t.widgethash:[t.widgethash],n=X("div");n&&n.indexOf("sp_widget_")>-1&&t.mediator.publishPersist(n+"_to_child","open"),await m({},e)}window.SYNDI.trace({namespace:"boot",event:"reset-on-new-content-events"}),t.mediator.subscribe("content","new",g),setTimeout(()=>{void 0===t.hasContent&&a(t.contentCallback)&&t.contentCallback(!1)},t.loadTimeout)}}),1),window.SYNDI={push:h,importDynamic:async function(e){return await oe(t,[e]),t.modules[e]},isServedFromCxH:()=>t.uriDataRoot.indexOf("/page/")>-1,version:()=>"v1.0.94",registerModule:function(e){void 0===t.modules[e.type]&&(t.modules[e.type]=e.moduleclass,t.getDependencies[e.type]=e.getDependencies)},getContentDomain:()=>t.contentDomain.replace(/\/$/,""),reset:g},async function(){if(!fe("localStorage")||"on"!==localStorage.getItem("syndigo-mission-control"))return window.SYNDI.trace=w,void(window.SYNDI.showMissionControl=w);const e=[];let t,n,o=0;n=le()?MutationObserver:await window.SYNDI.importDynamic("lib/ponyfill-mutation-observer"),ge((function(){new n((function(e){for(const t of e)for(let e=0;e<t.addedNodes.length;e++)r({namespace:"tabVideoCapture",event:"tab-video-capture",src:t.addedNodes[e].src,t:parseInt(t.addedNodes[e].getAttribute("data-t"),10)})})).observe(document.getElementById("syndigo-tab-capture-mission-control"),{childList:!0})}));const i=function(){if(t)for(let n=o;n<e.length;n++)t.postMessage(e[n]),o++},r=function(t){e.push({t:Date.now(),...t}),i()};window.SYNDI.showMissionControl=async function(){t=window.open("","MissionControl","titlebar=yes,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=500,height=600"),t.document.body.innerText.length>0||(t.document.write("<div></div>"),window.addEventListener("beforeunload",(function(){t.close()})),(await window.SYNDI.importDynamic("framework/mission-control/mission-control"))(t.document.querySelector("div")),o=0,i())},window.SYNDI.trace=r}()}(window.SYNDI),window.SYNDI.registerModule({type:"tracking/event/event",moduleclass:function(e){const t={addToCart:"k",transaction:"t",transactionItem:"tp",default:"cd",spRtMap:"map"},n={k:["qty","sku","price"],t:["orderid","total"],tp:["orderid","sku","price","count"],map:["sid","cid"]};function o(i){let r=t[i.event]||t.default;if(!1===function(e,t){if(n.hasOwnProperty(e))for(let o=0;o<n[e].length;o++)if(!1===t.hasOwnProperty(n[e][o]))return!1;return!0}(r,i))return e.tracking.trackError({type:"eventTracking",message:"Missing mandatory parameter for the pixel "+r+" ["+JSON.stringify(n[r])+"]"});void 0!==(i=function(e,t){if("map"!==e){if("t"===e&&t.hasOwnProperty("items")&&t.items instanceof Array){for(let e=0;e<t.items.length;e++){const n=t.items[e];n.orderid=t.orderid,n.event="transactionItem",o(n)}delete t.items}return t}}(r,i))&&e.tracking.track(r,i)}return{init:function(){e.mediator.subscribe("tracking","event",o)}}}});var qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},He="Expected a function",$e=/^\s+|\s+$/g,ze=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,We=/^0o[0-7]+$/i,Be=parseInt,Fe="object"==typeof qe&&qe&&qe.Object===Object&&qe,Ve="object"==typeof self&&self&&self.Object===Object&&self,Je=Fe||Ve||Function("return this")(),Ge=Object.prototype.toString,Xe=Math.max,Qe=Math.min,Ke=function(){return Je.Date.now()};function Ze(e,t,n){var o,i,r,a,s,c,d=0,u=!1,l=!1,p=!0;if("function"!=typeof e)throw new TypeError(He);function m(t){var n=o,r=i;return o=i=void 0,d=t,a=e.apply(r,n)}function f(e){return d=e,s=setTimeout(w,t),u?m(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-d>=r}function w(){var e=Ke();if(g(e))return h(e);s=setTimeout(w,function(e){var n=t-(e-c);return l?Qe(n,r-(e-d)):n}(e))}function h(e){return s=void 0,p&&o?m(e):(o=i=void 0,a)}function y(){var e=Ke(),n=g(e);if(o=arguments,i=this,c=e,n){if(void 0===s)return f(c);if(l)return s=setTimeout(w,t),m(c)}return void 0===s&&(s=setTimeout(w,t)),a}return t=tt(t)||0,et(n)&&(u=!!n.leading,r=(l="maxWait"in n)?Xe(tt(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),d=0,o=c=i=s=void 0},y.flush=function(){return void 0===s?a:h(Ke())},y}function et(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function tt(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Ge.call(e)}(e))return NaN;if(et(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=et(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($e,"");var n=Ue.test(e);return n||We.test(e)?Be(e.slice(2),n?2:8):ze.test(e)?NaN:+e}var nt=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(He);return et(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Ze(e,t,{leading:o,maxWait:t,trailing:i})};function ot({framework:e,isHeroElementReady:t,shouldShow:n,onVisibilityChange:o,onSize:r,onInit:a,getHeroElement:s,getMutableElement:c,mountElement:d}){c=c||w,d=d||w,r=r||w;const u="heroAnchor",l={hotspots:!1,mosaic:!1},p=function(){const t={...l},i=s();if("NONE"!==n()&&i?i.offsetWidth<300?(l.hotspots=!1,l.mosaic=!0):e.contentPresence.hotspots?(l.hotspots="HOTSPOTS"===n(),l.mosaic="MOSAIC"===n()):(l.hotspots=!1,l.mosaic=!0):(l.hotspots=!1,l.mosaic=!1),t.hotspots!==l.hotspots||t.mosaic!==l.mosaic){const e=document.querySelector(".syndigo-absolute-mosaic");e&&(e.style.display=l.mosaic?"":"none"),o({...l})}},m=function(e){window.SYNDI.trace({namespace:u,event:"removing-mutation-and-resize-sensors"}),e.mutationSensor&&(e.mutationSensor.destroy(),e.mutationSensor=void 0),e.resizeSensor&&(e.resizeSensor.destroy(),e.resizeSensor=void 0)},f=function(e,t){window.SYNDI.trace({namespace:u,event:"adding-mutation-and-resize-sensors"}),e.mutationSensor=Le(),e.mutationSensor.init({dom:c()||s(),config:{attributes:!0,subtree:!0}}),e.mutationSensor.subscribe("mutation",nt(t,80)),e.resizeSensor=function(){const e=i("resize-sensor-component");let t;return{destroy:function(){t&&(t.disconnect(),t=void 0),e.unsubscribeAll()},init:async function({dom:n}){const o=function(){e.publish("resize-sensor","resize")};if("undefined"==typeof ResizeObserver){const e=await window.SYNDI.importDynamic("lib/ponyfill-resize-observer");t=new e(o)}else t=new ResizeObserver(o);t.observe(n)},subscribe:function(t,n){e.subscribe("resize-sensor",t,n)}}}(),e.resizeSensor.init({dom:s()}),e.resizeSensor.subscribe("resize",nt(t,80))},g=De(Ie({id:"anchor-hero",initial:"initializing",context:{contentListener:void 0,heroDomObservable:void 0,mutationSensor:void 0,resizeSensor:void 0},states:{initializing:{entry:async function(){const n=document.createElement("div");n.classList.add("syndigo-absolute-mosaic"),n.style.position="absolute",document.body.appendChild(n);await ee({conditions:t,timeout:e.timeout})?(window.SYNDI.trace({namespace:u,event:"wait-for-hero-element",state:"found"}),g.send("READY")):(window.SYNDI.trace({namespace:u,event:"wait-for-hero-element",state:"timedout"}),e.tracking.trackError({type:"haciao",message:"could not find hero anchor"}))},exit:function(t){window.SYNDI.trace({namespace:u,event:"run-website-specific-hero-init"}),a(),t.heroDomObservable=s();const n=window.SYNDI.isServedFromCxH()?"syndi_hotspots":"sp_hero_product";e.mediator.subscribe(`#${n}_to_parent`,"display",(function(){window.SYNDI.trace({namespace:u,event:"received-display-event from hero"}),g.send("SHOW")})),e.mediator.subscribe("mosaic_product_to_parent","display",(function(){window.SYNDI.trace({namespace:u,event:"received-display-event from hero"}),g.send("SHOW")})),e.mediator.subscribe("contentPresence","changed",e=>{p()})},on:{READY:"hidden"}},hidden:{entry:function(t){window.SYNDI.trace({namespace:u,event:"hero-became-invisible"}),p(),e.mediator.publish("producthero","display","hide"),e.mediator.publish("productheromosaic","display","hide"),t.contentListener=e.mediator.subscribe("content","new",(function(){g.send("SHOW")}));f(t,(function(){if(t.heroDomObservable!==s())return g.send("MUTATION");p(),(l.hotspots||l.mosaic)&&g.send("SHOW")}))},exit:function(t){t.contentListener&&(e.mediator.unsubscribe(t.contentListener),t.contentListener=void 0),m(t)},on:{SHOW:"showing",MUTATION:"mutating"}},showing:{entry:function(t){window.SYNDI.trace({namespace:u,event:"hero-became-visible"}),p(),e.mediator.publish("producthero","display","show"),e.mediator.publish("productheromosaic","display","show");s()&&f(t,(function(){const e=s();return t.heroDomObservable!==e?g.send("MUTATION"):document.body.contains(e)?(p(),void(l.hotspots||l.mosaic?r():g.send("HIDE"))):(d(),g.send("MUTATION"))}))},exit:m,on:{HIDE:"hidden",MUTATION:"mutating"}},mutating:{entry:async function(e){await ee({conditions:()=>s()instanceof Node,timeout:3e4})&&(e.heroDomObservable=s(),p(),l.hotspots||l.mosaic?g.send("SHOW"):g.send("HIDE"))},on:{HIDE:"hidden",SHOW:"showing"}}}})).start();g.subscribe(e=>{!1!==e.changed&&window.SYNDI.trace({namespace:u,event:"state-change",state:e.value})}),e.mediator.subscribe("content","new",()=>g.send("MUTATION"))}const it="syndigo-wc-mosaic-disabler";window.SYNDI.registerModule({type:"specific/costco/anchor/producthero",moduleclass:function(e){let t,n,o,i;const r=window.SYNDI.isServedFromCxH()?"syndi_hotspots":"sp_hero_product";return{init:function(){ot({framework:e,isHeroElementReady:function(){if(["product","multi-product"].indexOf(e.pagetype)<0||!Me()||document.querySelector("#"+r))return!1;if(!document.querySelector("#RICHFXViewerContainer___richfx_id_0 #productImage"))return!1;o=document.getElementById("productImage");const t=!!document.querySelector('[id^="RICHFXViewerContainer___richfx_id_"][id$="_zoomImage"]'),n=document.querySelector(".RICHFXViewerContainer");if(!o||!n)return!1;const i=o.getBoundingClientRect().top===n.getBoundingClientRect().top;return o.offsetHeight>0&&t&&i},shouldShow:function(){if(!Ae(i))return"NONE";if(!Ae(document.getElementById("thumbnails")))return"HOTSPOTS";const e=document.querySelector("#thumbnails img");return!e||e.classList.contains("RICHFXColorChangeViewSelected")?"HOTSPOTS":"MOSAIC"},onVisibilityChange:e=>{t.style.display=e.hotspots?"block":"none",n.style.display=e.mosaic?"":"none",window.SYNDI.isServedFromCxH()&&(e.mosaic?function(){const e=document.getElementById(it);e&&e.parentNode.removeChild(e)}():Ye({el:document.head,styleId:it,type:"inline",css:".wc-content-package-mosaic-board { display: none !important; }"}))},onInit:function(){!function(){if(!o||!document.getElementById("initialProductImage"))return;const i=document.getElementById("productImageContainer");let a,s;n=document.createElement("div"),n.id="syndi_mosaic",n.style.display="none",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="400px",n.style.height="40px",i.appendChild(n),t=document.createElement("div"),t.id=r,t.setAttribute("style","\n                display: none;\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                z-index: 20006;\n                pointer-events: none;\n            "),i.appendChild(t),e.mediator.subscribe("i2_callout_zone","will_open",(function(e){"modal"===e.displaymethod&&(s=document.body.getAttribute("style"),a=window.pageYOffset,document.body.setAttribute("style",`\n                        position: fixed;\n                        top: -${a}px;\n                        right: 0px;\n                        bottom: 0px;\n                        left: 0px;\n                        overflow: hidden;\n                    `))})),e.mediator.subscribe("i2_callout_zone","will_close",(function(e){"modal"===e.displaymethod&&(document.body.setAttribute("style",s),window.scroll(void 0,a))}))}()},getHeroElement:()=>(i=document.getElementById("RICHFXViewerContainer___richfx_id_0_initialImage")||document.getElementById("RICHFXViewerContainer___richfx_id_1_initialImage"),i),getMutableElement:()=>document.querySelector("#productImageContainer")})}}}});var rt=/^\s+|\s+$/g,at=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,ct=/^0o[0-7]+$/i,dt=parseInt,ut="object"==typeof qe&&qe&&qe.Object===Object&&qe,lt="object"==typeof self&&self&&self.Object===Object&&self,pt=ut||lt||Function("return this")(),mt=Object.prototype.toString,ft=Math.max,gt=Math.min,wt=function(){return pt.Date.now()};function ht(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function yt(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==mt.call(e)}(e))return NaN;if(ht(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ht(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(rt,"");var n=st.test(e);return n||ct.test(e)?dt(e.slice(2),n?2:8):at.test(e)?NaN:+e}var bt=function(e,t,n){var o,i,r,a,s,c,d=0,u=!1,l=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,r=i;return o=i=void 0,d=t,a=e.apply(r,n)}function f(e){return d=e,s=setTimeout(w,t),u?m(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-d>=r}function w(){var e=wt();if(g(e))return h(e);s=setTimeout(w,function(e){var n=t-(e-c);return l?gt(n,r-(e-d)):n}(e))}function h(e){return s=void 0,p&&o?m(e):(o=i=void 0,a)}function y(){var e=wt(),n=g(e);if(o=arguments,i=this,c=e,n){if(void 0===s)return f(c);if(l)return s=setTimeout(w,t),m(c)}return void 0===s&&(s=setTimeout(w,t)),a}return t=yt(t)||0,ht(n)&&(u=!!n.leading,r=(l="maxWait"in n)?ft(yt(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),d=0,o=c=i=s=void 0},y.flush=function(){return void 0===s?a:h(wt())},y};function vt(e){return"string"!=typeof e?"":e.toLowerCase().replace(/[^a-zA-Z0-9]/g,"_")}window.SYNDI.registerModule({type:"specific/costco/anchor/productinline",moduleclass:function(e){let t;const n=window.SYNDI.isServedFromCxH()?"syndi_powerpage":"sp_inline_product";return{init:function(){void 0!==e.pagetype&&"other"!==e.pagetype&&(!function(){if(t=document.querySelector("#"+n),t)return;let o;if(t=document.createElement("div"),t.id=n,"keyword"===e.pagetype){const e=document.querySelector("#search-results");e.insertBefore(t,e.firstChild)}else if("category"===e.pagetype)if(o=document.querySelector("#search-results .categoryname h1"),o)t.insertAdjacentElement("afterend",o);else{let e;if([...document.querySelector("#search-results").children].forEach(t=>{t.querySelector("h1")&&(e=t)}),t.style.marginBottom="19px",t.setAttribute("role","main"),e)e.insertAdjacentElement("afterend",t);else{const e=document.querySelector("#search-results");e.insertBefore(t,e.firstChild)}}else{const e=document.querySelector("#SP_ACPage");if(e)e.appendChild(t);else{const e=Me();e&&e.parentNode.insertBefore(t,e.nextSibling)}}document.querySelector("head").insertAdjacentHTML("beforeend",`<style>#${n} > div { margin-left: auto; margin-right: auto; }</style>`)}(),window.location.pathname.indexOf("/portofino.html")>-1&&[...document.querySelectorAll("#WC_ContentAreaESpot_div_1_r-portofino_Slot1,#sp_loader")].forEach(e=>e.style.display="none"),e.mediator.subscribe(`#${n}_to_parent`,"display",(function(){"keyword"!==e.pagetype&&"category"!==e.pagetype||(window.offsetWidth<=667&&(t.style.display="none"),window.addEventListener("resize",bt((function(){window.offsetWidth<=667?t.style.display="none":t.style.display="block"}),500))),t.style.display="block"})))}}}}),window.SYNDI.registerModule({type:"specific/costco/tracking/addtocart",moduleclass:function(e){const t=document.createElement("div");t.value="";const n=function(e){return document.querySelector(e)||t},i=function(t,o){try{const i=[],r=[],a=[];window.products&&window.products.length>1?window.products.forEach((function(t,o){const s=n(`#ProductForm input[name="categoryId-${o+1}"]`).value;s&&i.push(s);const c=n(`#ProductForm input[name="price-${o+1}"]`).value;c&&r.push(c);const d=n("catalogEntryId_"+(o+1)).value,u=e.retailerwebsite.getPartNumberFromCatEntryId(d);u&&a.push(u)})):(r.push(n(".your-price .value").innerHTML.replace(/[^0-9.]+/g,"")),i.push(n('input[name="categoryId"]').value)),e.tracking.track(t,{sku:e.pageid,price:r.join(","),currency:n(".your-price .currency").innerHTML,count:n('input[name="quantity"]').value,storeid:n('input[name="storeId"]').value,categoryid:i.join(","),catalogid:n('#ProductForm input[name="catalogId"]').value,itemids:a.join(","),addtocartid:o})}catch(t){e.tracking.trackError({message:"Error while tracking add to cart"})}};return{init:function(){try{const e=document.querySelector('input[type="button"][name="add-to-cart"]');e&&e.addEventListener("click",(function(){const e=o();i("k",e),setTimeout((function(){document.querySelector(".product-error.error .error")&&i("e",e)}),1e3)}))}catch(t){e.tracking.trackError({message:"error while tracking add to Cart"})}}}}}),window.SYNDI.registerModule({type:"tracking/storage/local",moduleclass:function(e){const t=function(e){const t=window.localStorage.getItem(e);if(null!==t)return t},n=function(n){const o=t(n.key);window.localStorage.setItem(n.key,n.value),void 0!==o&&o!==n.value&&e.tracking.track("ns",{type:"local",oldValue:o,newValue:n.value,key:n.key})};return{init:function(){fe("localStorage")&&(e.mediator.subscribe("tracking","setstorage",n),e.mediator.subscribe("tracking","getstorage",t))}}}}),window.SYNDI.registerModule({type:"specific/costco/costco",moduleclass:function(e){let t;const n=function(e){for(let t=0;t<window.products.length;t++)for(let n=0;n<window.products[t].length;n++)if(window.products[t][n].catentry===e)return window.products[t][n].partNumber;return window.spSKU},o=function(e,i=0){const r=document.getElementById("catEntryId");r&&r.value&&window.products instanceof Array&&window.products.length&&window.products[0]instanceof Array&&window.products[0].length?(t=r.value,function(e,o){const i=e.value,r=n(i);r&&setTimeout(o,0,r);const a=Le();a.init({dom:e,config:{attributes:!0}}),a.subscribe("mutation",i=>{if("value"===i[0].attributeName&&e.value!==t){t=e.value;const i=n(e.value);o(i)}})}(r,e)):i<10?setTimeout(o,500,e,++i):window.location.hostname.indexOf("stage")>-1&&setTimeout(e,0,window.spSKU)},i={getPartNumberFromCatEntryId:n,pageidentifier:function(t){let n,r="";if(void 0!==t&&t)return t;switch(i.pageType()){case"multi-product":return window.spSKU;case"product":if(e.pageid&&-1===e.pageid.indexOf("sp-default"))return e.pageid;if(!document.getElementById("catEntryId")&&window.location.hostname.indexOf("costcobusinessdelivery")>-1){let e=window.partNumber;return e||(e=window.location.pathname.match(/product\.([0-9]{4,})/),e&&(e=e[1])),e}o((function(e){window.SYNDI.push(e)}));break;case"category":window.rrData.categoryId&&(r="category-"+window.rrData.categoryId),n=vt(X("refine")),n.length>0&&(r+="-refine-"+n);break;case"page":r="page-"+vt(window.location.pathname);break;case"keyword":r="keyword-"+vt(X("keyword")),n=vt(X("refine")),n.length>0&&(r+="-refine-"+n);break;default:r=vt(window.location.pathname)}return r},fallbackPageIdentifier:function(){if(window.spSKU)return window.spSKU;if(window.partNumber)return window.partNumber;const e=window.location.pathname.match(/product\.([0-9]+)\.html/)||[];return e.length>1?e[1]:void 0},pageType:function(){let e="";return e=window.location.pathname.match(/product\.([0-9]+)\.html/)?window.products&&window.products.length>1?"multi-product":"product":void 0!==window.rrData&&"Category"===window.rrData.pageType?"category":"/CatalogSearch"===window.location.pathname?"keyword":1===window.location.pathname.match(/\//g).length?"page":"other",e},variations:function(){return window.products instanceof Array&&window.products.length>0&&window.products[0].map(e=>e.partNumber)||void 0},heroImage:function(){const e=document.querySelector("#RICHFXViewerContainer___richfx_id_0_initialImage");return e&&e.src||void 0},sanitizeUrl:function(e){return[/^(https?:)*\/\/(www\.)?(allwoodfast\.com)/,/^(https?:)*\/\/(a\.)?(sellpoint\.net)[^?]+p.html/,/^(https?:)*\/\/(www\.)?(costco\.com)/,/^(https?:)*\/\/(www\.)?(costco\.ca)/,/^(https?:)*\/\/(www\.)?(costcobusinessdelivery\.com)/,/^(https?:)*\/\/(tires\.)?(costco\.com)/,/^(https?:)*\/\/(member\.)?(baliblinds.com|baliblinds.ca)/,/^(https?:)*\/\/(homelinksolutions.formstack.com)/,/^(https?:)*\/\/(www.serenityclosets.com)/,/^(https?:)*\/\/(us.catalogue.auventsmultiples.com)/,/^(https?:)*\/\/(www\.)?(ybskin\.com)/,/^(https?:)*\/\/(www\.)?(ultimocabinetry.com)/,/^(https?:)*\/\/(www\.)?(tuscanhillskitchensandbaths.com)/,/^(https?:)*\/\/(www\.)?(technikclosets.com)/,/^(https?:)*\/\/(member.graberblinds.com)/,/^(https?:)*\/\/(costco.coverking.com)/,/^(https?:)*\/\/(mobility\.)?(costco\.ca)/,/^(https?:)*\/\/(costco.weatherstrong.com)/,/^(https?:)*\/\/(www\.)?(allwoodfast.com)/,/^(https?:)*\/\/(www\.)?(easyassemblyrequired.com)/,/^(https?:)*\/\/(www\.)?(buenavistacabinetry.com)/,/^(https?:)*\/\/(costco.centah.com)/,/^(https?:)*\/\/(www\.)?(huskyliners.com)/].filter((function(t){return e.match(t)})).length?e:"unsafe:"+e}};return i}})}();
