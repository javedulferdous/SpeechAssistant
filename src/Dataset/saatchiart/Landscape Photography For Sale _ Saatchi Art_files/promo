 if (typeof saatchiPromo === 'undefined') { var saatchiPromo = {}; } (function () { if( typeof window !== 'undefined' ) { var xhrRequest = function({ url, data, method }) { try { var xhr = new XMLHttpRequest(); xhr.open(method, url, true); xhr.setRequestHeader("Content-type", "application/json; charset=utf-8"); xhr.onload = function () { var users = JSON.parse(xhr.responseText); if (xhr.readyState == 4 && xhr.status == "200") { return; } else { if (window.ineum && typeof window.ineum === 'function') { window.ineum('reportError', 'Problem Applying Coupon'); } } }; xhr.send(data); } catch (err) { if (window.ineum && typeof window.ineum === 'function') { window.ineum('reportError', err); } } }; saatchiPromo.xhrRequest = xhrRequest; var applyCouponText = "Coupon Applied!"; var applyCoupon = function(element) { try { /* element is the main div for a coupon */ var code = document.querySelector("#" + element.id + " .nano-promo-coupon-item-code"); var apply = document.querySelector("#" + element.id + " .nano-promo-coupon-item-apply"); var codeValue = code.innerHTML; var applyValue = apply.innerHTML; if (applyValue === applyCouponText) { return false; } try { var url = "/easel_api/cart/coupon"; var data = JSON.stringify({ couponCode: codeValue }); var method = "PUT"; saatchiPromo.xhrRequest({ url: url, data: data, method: method }); apply.innerHTML = applyCouponText; /* Reset Coupon Code/Hide Coupon Codes */ setTimeout(function(){ apply.innerHTML = applyValue; if (saatchiPromo.mobileCouponToggle) { saatchiPromo.mobileCouponToggle(true); } }, 5000); if (window.dataLayer) { window.dataLayer.push({ event: 'promobar_coupon', message: codeValue }); } } catch(err) { console.error({ err: err }); } } catch (err) { console.error("applyCoupon Error", err); } }; saatchiPromo.applyCoupon = applyCoupon; var copyText = 'Copied!'; var copyToClipboard = function(element) { try { var value = element.innerHTML; if (value === copyText) { return false; } var copyInput = document.createElement("input"); document.body.appendChild(copyInput); copyInput.setAttribute("id", "copyInput"); document.getElementById("copyInput").value = value; copyInput.select(); try { document.execCommand("copy"); document.body.removeChild(copyInput); element.innerHTML = copyText; setTimeout(function(){ element.innerHTML = value; }, 1500); } catch(err) { console.error({ err: err }); } } catch (err) { console.error("copyToClipboard Error", err); } }; saatchiPromo.copyToClipboard = copyToClipboard; var mobileCouponToggle = function(closeOverride) { try { var caret = document.querySelector('.nano-promo-caret'); var layout = document.querySelector('.nano-promo-layout'); var toggleStatus = 'hideCoupons'; if (!closeOverride) { toggleStatus = caret.className.search('hideCoupons') > -1 ? 'showCoupons' : 'hideCoupons'; } caret.className = 'nano-promo-caret ' + toggleStatus; layout.className = 'nano-promo-layout ' + toggleStatus; } catch (err) { console.error("mobileCouponToggle Error", err); } }; saatchiPromo.mobileCouponToggle = mobileCouponToggle; var promoElement = document.getElementById('saatchi_promo_nano_bar'); if ( promoElement ) { promoElement.innerHTML= ''; promoElement.insertAdjacentHTML('beforeend', ' <style> /* ANIMATIONS */ @-webkit-keyframes FadeInNanoBar { from { opacity: 0; } to { opacity: 1; } } @-moz-keyframes FadeInNanoBar { from { opacity: 0; } to { opacity: 1; } } @-o-keyframes FadeInNanoBar { from { opacity: 0; } to { opacity: 1; } } @keyframes FadeInNanoBar { from { opacity: 0; } to { opacity: 1; } } /* PROMO NANO BAR */ .nano-promo-wrapper { box-sizing: border-box; background: #DC3A0F; color: #ffffff; font-weight: 400; font-size: 16px; font-family: \"Crimson Text\", serif; line-height: 1.3em; display: flex; justify-content: center; align-items: center; width: 100%; height: 60px; /* ANIMATIONS - Fade In */ -webkit-animation: FadeInNanoBar 1s; -moz-animation: FadeInNanoBar 1s; -o-animation FadeInNanoBar 1s; animation: FadeInNanoBar 1s; false } .nano-promo-wrapper * { display: flex; box-sizing: border-box; padding: 0; margin: 0; line-height: 1.1em; } /* Countdown Component */ .nano-promo-wrapper .nano-promo-countdown { margin-left: 10px; } .nano-promo-wrapper .nano-promo-countdown-hours:after, .nano-promo-wrapper .nano-promo-countdown-minutes:after { content: \':\'; margin: 0 5px; } /* Coupon Layout & Coupons (List & Items) */ .nano-promo-wrapper .nano-promo-layout { flex-direction: row; align-items: center; } .nano-promo-wrapper .nano-promo-tagline { flex: 0 1 auto; } .nano-promo-wrapper .nano-promo-coupon-list { flex-direction: row; } .nano-promo-wrapper .nano-promo-coupon-item { flex-direction: row; align-items: center; cursor: pointer; } .nano-promo-wrapper .nano-promo-coupon-item:before { display: flex; content: \"\"; width: 1px; height: 30px; background: #ffffff; margin: 0 15px; } .nano-promo-wrapper .nano-promo-coupon-info { flex-direction: column; } .nano-promo-wrapper .nano-promo-coupon-item-title { display: flex; margin: 0 20px 3px 0; font-size: 16px; } .nano-promo-wrapper .nano-promo-coupon-item-code { display: flex; font-family: Helvetica, Arial, sans-serif; font-weight: 700; font-size: 10px; cursor: pointer; } .nano-promo-wrapper .nano-promo-coupon-item-code:before { content: \'Code:\'; padding: 0 5px 0 0; font-weight: 400; font-size: 10px; color: #ffffff; font-family: \"Crimson Text\", serif; } .nano-promo-wrapper .nano-promo-coupon-item-apply { font-size: 14px; } /* Mobile */ @media (max-width: 991px) { .nano-promo-wrapper .nano-promo-tagline { margin-bottom: 10px; font-size: 14px; } .nano-promo-wrapper .nano-promo-coupon-list { width: 100%; flex-direction: column; } .nano-promo-wrapper .nano-promo-coupon-item { width: 100%; border: 1px solid #333333; padding: 10px; justify-content: space-between; } .nano-promo-wrapper .nano-promo-coupon-item:before { display: none; } .nano-promo-wrapper .nano-promo-coupon-item + .nano-promo-coupon-item { margin-top: 10px; } .nano-promo-wrapper .nano-promo-coupon-item-title { font-size: 14px; } .nano-promo-wrapper .nano-promo-coupon-item-code {} .nano-promo-wrapper .nano-promo-coupon-item-code:before { color: #333333; } .nano-promo-wrapper .nano-promo-coupon-item-apply { font-size: 14px; } } /* MOBILE Layout */ .nano-promo-wrapper .nano-promo-mobile { display: flex; justify-content: space-between; align-items: center; padding: 10px; } .nano-promo-wrapper .nano-promo-mobile .nano-promo-offers-tagline { font-size: 16px; } .nano-promo-wrapper .nano-promo-mobile .nano-promo-offers-toggle { font-family: Helvetica, Arial, sans-serif; font-size: 12px; cursor: pointer; } .nano-promo-wrapper .nano-promo-mobile .nano-promo-offers-toggle .nano-promo-caret { background: url(\"https://d3t95n9c6zzriw.cloudfront.net/static/svg/expand.svg\") center center no-repeat; width: 12px; height: 12px; margin-left: 5px; cursor: pointer; transition: transform 0.3s; transform: rotate(180deg); opacity: 1; /* global CSS overwriting opacity .hideCoupons */ } .nano-promo-wrapper .nano-promo-mobile .nano-promo-offers-toggle .nano-promo-caret.showCoupons { transform: rotate(0deg); } /* MOBILE Styling */ @media (min-width: 991px) { .nano-promo-wrapper .nano-promo-layout { display: flex; padding: 10px; } .nano-promo-wrapper .nano-promo-mobile { display: none; } } @media (max-width: 991px) { .nano-promo-wrapper { height: 60px; max-height: 60px; position: fixed; z-index: 105; /* fix for legacy mobile menu high index */ top: 0; left: 0; flex-direction: column; } .nano-promo-wrapper .nano-promo-layout { position: absolute; top: 100%; right: 0; z-index: 10; flex-direction: column; align-items: flex-start; background: #ffffff; padding: 20px; width: 100%; max-width: 600px; min-height: 100px; opacity: 0; transition: opacity .25s ease-in-out; -moz-transition: opacity .25s ease-in-out; -webkit-transition: opacity .25s ease-in-out; box-shadow: 0 5px 15px 0 rgba(0,0,0,0.1), 0 15px 15px 0 rgba(0,0,0,0.1); pointer-events: none; } .nano-promo-wrapper .nano-promo-layout.showCoupons { opacity: 1; pointer-events: initial; } .nano-promo-wrapper .nano-promo-layout.showCoupons > * { color: #333333; } .nano-promo-wrapper .nano-promo-mobile { width: 100%; display: flex; } } /* BOUNCE X - CSS Targeting */ .mobile-navigation, .mobile-navigation__menu__inner, .mobile-navigation__header, .checkout__header, .mobile-navigation__search-container { margin-top:60px; } @media (min-width: 991px) { .checkout__header { margin-top: 0px !important; } } .mobile-navigation__content { height: calc(100% - 60px); } @media screen and (max-width: 991px){ form[action=\"/all\"], form[action=\"/all\"] + div, div[role=\"button\"][data-reactid=\"15\"] { margin-top: 60px; } div[data-reactid=\"20\"] { padding-top: 80px; } div[data-reactid=\"547\"] { top: 60px; z-index: 2 !important; } nav > div > div:first-child > div:nth-child(2), nav > div > form, nav > div > form ~ div, #__next > div > div > nav ~ div > nav + div + div > div:first-child, #__next nav:first-child:not(.link-group-container) { margin-top: 60px !important; } .checkout__container { margin-top: 120px; } } </style> <div class=\"nano-promo-wrapper\" style=\" /* OVERRIDES CMS */ background: #a4865a; \" > <div class=\"nano-promo-mobile\" onclick=\"saatchiPromo.mobileCouponToggle()\"> <p class=\"nano-promo-mobile-tagline\">Up to 15% Off Art</p> <p class=\"nano-promo-offers-toggle\"> See Offers (2) <span class=\"nano-promo-caret hideCoupons\"></span> </p> </div> <div class=\"nano-promo-layout\"> <p class=\"nano-promo-tagline\"> Find Beauty in the Season with Art for Your Home </p> <div class=\"nano-promo-coupon-list\"> <div class=\"nano-promo-coupon-item\" id=\"nano-promo-coupon-0\" onclick=\"saatchiPromo.applyCoupon(document.getElementById(\'nano-promo-coupon-0\'))\"> <div class=\"nano-promo-coupon-info\"> <span class=\"nano-promo-coupon-item-title\">15% Off Originals of 2000+ </span> <span class=\"nano-promo-coupon-item-code\">NOVEMBER15</span> </div> <span class=\'nano-promo-coupon-item-apply\'>Apply Coupon</span> </div> <div class=\"nano-promo-coupon-item\" id=\"nano-promo-coupon-1\" onclick=\"saatchiPromo.applyCoupon(document.getElementById(\'nano-promo-coupon-1\'))\"> <div class=\"nano-promo-coupon-info\"> <span class=\"nano-promo-coupon-item-title\">10% Off Originals of 500+ </span> <span class=\"nano-promo-coupon-item-code\">NOVEMBER10</span> </div> <span class=\'nano-promo-coupon-item-apply\'>Apply Coupon</span> </div> </div> </div> </div> '); } var timer = null; var stopTimer = function () { clearInterval(timer); timer = null; }; var getTimeRemaining = function ( endtime ) { var t = Date.parse(new Date(endtime)) - Date.parse(new Date()); var seconds = Math.floor( (t / 1000) % 60 ); var minutes = Math.floor( (t / 1000 / 60) % 60 ); var hours = Math.floor( (t / (1000 * 60 * 60)) ); /* % 24 */ var days = Math.floor( t / (1000 * 60 * 60 * 24) ); var formatDays = '<span class="nano-promo-countdown-days">' + (days + 1) + ' Days Left</span>'; var formatHours = '' + ( hours ? '<span class="nano-promo-countdown-hours">' + hours + '</span>' : '' ) + '<span class="nano-promo-countdown-minutes">' + ( minutes ? ('0' + minutes).slice(-2) : '00' ) + '</span>' + '<span class="nano-promo-countdown-seconds">' + ( seconds ? ('0' + seconds).slice(-2) : '00' )+ '</span>'; return { total: t, days: days, hours: hours, minutes: minutes, seconds: seconds, format: hours > 35 ? formatDays : formatHours, expired: t < 0, }; }; var startTimerCountdown = function (element) { if (element && element.getAttribute("data-end")) { var remainingTime = getTimeRemaining(Number(element.getAttribute("data-end")) * 1000); if (remainingTime.expired){ stopTimer(); element.parentNode.removeChild(element); return false; } element.innerHTML = remainingTime.format; } return true; }; var countdownTimer = function () { var timerElement = document.getElementById('nano-promo-countdown'); if (timerElement) { if (startTimerCountdown(timerElement)) { timer = setInterval(function() { startTimerCountdown(timerElement); }, 1000); } } }; countdownTimer(); } } )(); 