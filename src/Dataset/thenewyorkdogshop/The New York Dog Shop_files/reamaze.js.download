function ouibounce(e,t){"use strict";function n(e,t){return void 0===e?t:e}function r(){f.addEventListener("mouseleave",i),f.addEventListener("mouseenter",o)}function i(e){e.clientY>c||(h=setTimeout(a,u))}function o(){h&&(clearTimeout(h),h=null)}function a(){s(),d()}function s(){f.removeEventListener("mouseleave",i),f.removeEventListener("mouseenter",o)}var p=t||{},c=n(p.sensitivity,20),l=n(p.timer,1e3),u=n(p.delay,0),d=p.callback||function(){},h=null,f=document.documentElement;return setTimeout(r,l),{fire:a,disable:s,enable:r}}function is_touch_device(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}function webpushNotEnabled(){var e="safari"in window&&"pushNotification"in window.safari,t="serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window,n=e&&"granted"===safari.pushNotification.permission("web.com.reamaze.push").permission,r=t&&"granted"===Notification.permission,i=e&&!n,o=t&&!r&&"denied"!==Notification.permission;return!window.cordova&&(i||o)}function stripdown(e,t){var n,r,i=new marked.Renderer;t?r=!(n={elements:["span"],attributes:{span:["class"]}}):(n={elements:[]},r=!0);var o=new Sanitize(n),a=document.createElement("div");a.innerHTML=marked(e,{sanitize:r,gfm:!0,renderer:i,silent:!0});var s=o.clean_node(a),p=document.createElement("div");return p.appendChild(s),p.innerHTML}function encodeToHtmlEntities(e){var t="[\\u{000A0}-\\u{FFFFF}]";return t=new RegExp(t,"gu"),e.replace(t,function(e){return"&#"+e.codePointAt(0)+";"})}function getContrastYIQ(e){return"#"===e.slice(0,1)&&(e=e.slice(1)),3===e.length&&(e=e.split("").map(function(e){return e+e}).join("")),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3}function _objectWithoutProperties(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var JSON;window._original_export=window["export"],window._original_exports=window.exports,window._original_require=window.require,window._original_requirejs=window.requirejs,window._original_module=window.module,window._original_define=window.define,window["export"]=window.exports=window.require=window.requirejs=window.module=window.define=undefined,JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof rep&&(p=rep.call(t,e,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(p)){for(o=p.length,n=0;n<o;n+=1)a[n]=str(n,p)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],p))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(i=str(r,p))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&((r=walk(i,n))!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(E,e){function s(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,r){if(he.isFunction(n))return he.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return he.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(Ee.test(n))return he.filter(n,e,r);n=he.filter(n,e)}return he.grep(e,function(e){return-1<he.inArray(e,n)!==r})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var n={};return he.each(e.match(Oe)||[],function(e,t){n[t]=!0}),n}function i(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",o),E.removeEventListener("load",o)):(re.detachEvent("onreadystatechange",o),E.detachEvent("onload",o))}function o(){(re.addEventListener||"load"===E.event.type||"complete"===re.readyState)&&(i(),he.ready())}function p(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(De,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?he.parseJSON(n):n)}catch(i){}he.data(e,t,n)}else n=undefined}return n}function c(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(e,t,n,r){if(Ae(e)){var i,o,a=he.expando,s=e.nodeType,p=s?he.cache:e,c=s?e[a]:e[a]&&a;if(c&&p[c]&&(r||p[c].data)||n!==undefined||"string"!=typeof t)return c||(c=s?e[a]=ne.pop()||he.guid++:a),p[c]||(p[c]=s?{}:{toJSON:he.noop}),"object"!=typeof t&&"function"!=typeof t||(r?p[c]=he.extend(p[c],t):p[c].data=he.extend(p[c].data,t)),o=p[c],r||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[he.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[he.camelCase(t)]):i=o,i}}function a(e,t,n){if(Ae(e)){var r,i,o=e.nodeType,a=o?he.cache:e,s=o?e[he.expando]:he.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=he.isArray(t)?t.concat(he.map(t,he.camelCase)):t in r?[t]:(t=he.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!c(r):!he.isEmptyObject(r))return}(n||(delete a[s].data,c(a[s])))&&(o?he.cleanData([e],!0):ue.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function u(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},p=s(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=(he.cssNumber[t]||"px"!==c&&+p)&&Ue.exec(he.css(e,t));if(l&&l[3]!==c)for(c=c||l[3],n=n||[],l=+p||1;l/=o=o||".5",he.style(e,t,l+c),o!==(o=s()/p)&&1!==o&&--a;);return n&&(l=+l||+p||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function g(e){var t=Ke.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){var n,r,i=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||he.nodeName(r,t)?o.push(r):he.merge(o,y(r,t));return t===undefined||t&&he.nodeName(e,t)?he.merge([e],o):o}function b(e,t){for(var n,r=0;null!=(n=e[r]);r++)he._data(n,"globalEval",!t||he._data(t[r],"globalEval"))}function v(e){Ve.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,n,r,i){for(var o,a,s,p,c,l,u,d=e.length,h=g(t),f=[],m=0;m<d;m++)if((a=e[m])||0===a)if("object"===he.type(a))he.merge(f,a.nodeType?[a]:a);else if(Ge.test(a)){for(p=p||h.appendChild(t.createElement("div")),c=(He.exec(a)||["",""])[1].toLowerCase(),u=Ye[c]||Ye._default,p.innerHTML=u[1]+he.htmlPrefilter(a)+u[2],o=u[0];o--;)p=p.lastChild;if(!ue.leadingWhitespace&&$e.test(a)&&f.push(t.createTextNode($e.exec(a)[0])),!ue.tbody)for(o=(a="table"!==c||Xe.test(a)?"<table>"!==u[1]||Xe.test(a)?0:p:p.firstChild)&&a.childNodes.length;o--;)he.nodeName(l=a.childNodes[o],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(he.merge(f,p.childNodes),p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=h.lastChild}else f.push(t.createTextNode(a));for(p&&h.removeChild(p),ue.appendChecked||he.grep(y(f,"input"),v),m=0;a=f[m++];)if(r&&-1<he.inArray(a,r))i&&i.push(a);else if(s=he.contains(a.ownerDocument,a),p=y(h.appendChild(a),"script"),s&&b(p),n)for(o=0;a=p[o++];)We.test(a.type||"")&&n.push(a);return p=null,h}function d(){return!0}function h(){return!1}function f(){try{return re.activeElement}catch(e){}}function x(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=undefined),t)x(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=undefined):null==i&&("string"==typeof n?(i=r,r=undefined):(i=r,r=n,n=undefined)),!1===i)i=h;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return he().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function C(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==he.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&he.hasData(e)){var n,r,i,o=he._data(e),a=he._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)he.event.add(t,n,s[n][r]);a.data&&(a.data=he.extend({},a.data))}}function S(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[he.expando]){for(r in(i=he._data(t)).events)he.removeEvent(t,r,i.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ve.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(n,r,i,o){r=oe.apply([],r);var e,t,a,s,p,c,l=0,u=n.length,d=u-1,h=r[0],f=he.isFunction(h);if(f||1<u&&"string"==typeof h&&!ue.checkClone&&at.test(h))return n.each(function(e){var t=n.eq(e);f&&(r[0]=h.call(this,e,t.html())),N(t,r,i,o)});if(u&&(e=(c=m(r,n[0].ownerDocument,!1,n,o)).firstChild,1===c.childNodes.length&&(c=e),e||o)){for(a=(s=he.map(y(c,"script"),w)).length;l<u;l++)t=c,l!==d&&(t=he.clone(t,!0,!0),a&&he.merge(s,y(t,"script"))),i.call(n[l],t,l);if(a)for(p=s[s.length-1].ownerDocument,he.map(s,_),l=0;l<a;l++)t=s[l],We.test(t.type||"")&&!he._data(t,"globalEval")&&he.contains(p,t)&&(t.src?he._evalUrl&&he._evalUrl(t.src):he.globalEval((t.text||t.textContent||t.innerHTML||"").replace(pt,"")));c=e=null}return n}function R(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(y(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=he(t.createElement(e)).appendTo(t.body),r=he.css(n[0],"display");return n.detach(),r}function O(e){var t=re,n=ut[e];return n||("none"!==(n=k(e,t))&&n||((t=((lt=(lt||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||lt[0].contentDocument).document).write(),t.close(),n=k(e,t),lt.detach()),ut[e]=n),n}function z(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if((e=Tt[n]+t)in St)return e}function I(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=he._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Be(r)&&(o[a]=he._data(r,"olddisplay",O(r.nodeName)))):(i=Be(r),(n&&"none"!==n||!i)&&he._data(r,"olddisplay",i?n:he.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=wt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function P(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=he.css(e,n+Fe[o],!0,i)),r?("content"===n&&(a-=he.css(e,"padding"+Fe[o],!0,i)),"margin"!==n&&(a-=he.css(e,"border"+Fe[o]+"Width",!0,i))):(a+=he.css(e,"padding"+Fe[o],!0,i),"padding"!==n&&(a+=he.css(e,"border"+Fe[o]+"Width",!0,i)));return a}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=gt(e),a=ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=yt(e,t,o))<0||null==i)&&(i=e.style[t]),ht.test(i))return i;r=a&&(ue.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+P(e,t,n||(a?"border":"content"),r,o)+"px"}function j(e,t,n,r,i){return new j.prototype.init(e,t,n,r,i)}function L(){return E.setTimeout(function(){Nt=undefined}),Nt=he.now()}function U(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,i=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function B(t,e,n){var r,i,o,a,s,p,c,l=this,u={},d=t.style,h=t.nodeType&&Be(t),f=he._data(t,"fxshow");for(r in n.queue||(null==(s=he._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,p=s.empty.fire,s.empty.fire=function(){s.unqueued||p()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=he.css(t,"display"))?he._data(t,"olddisplay")||O(t.nodeName):c)&&"none"===he.css(t,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==O(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.shrinkWrapBlocks()||l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(i=e[r],Dt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||f[r]===undefined)continue;h=!0}u[r]=f&&f[r]||he.style(t,r)}else c=undefined;if(he.isEmptyObject(u))"inline"===("none"===c?O(t.nodeName):c)&&(d.display=c);else for(r in f?"hidden"in f&&(h=f.hidden):f=he._data(t,"fxshow",{}),o&&(f.hidden=!h),h?he(t).show():l.done(function(){he(t).hide()}),l.done(function(){var e;for(e in he._removeData(t,"fxshow"),u)he.style(t,e,u[e])}),u)a=F(h?f[r]:0,r,l),r in f||(f[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function q(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=he.camelCase(n)],o=e[n],he.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=he.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function V(o,e,t){var n,a,r=0,i=V.prefilters.length,s=he.Deferred().always(function(){delete p.elem}),p=function(){if(a)return!1;for(var e=Nt||L(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(o,[c,n,t]),n<1&&i?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},t),originalProperties:e,originalOptions:t,startTime:Nt||L(),duration:t.duration,tweens:[],createTween:function(e,t){var n=he.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),l=c.props;for(q(l,c.opts.specialEasing);r<i;r++)if(n=V.prefilters[r].call(c,o,l,c.opts))return he.isFunction(n.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(n.stop,n)),n;return he.map(l,F,c),he.isFunction(c.opts.start)&&c.opts.start.call(o,c),he.fx.timer(he.extend(p,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return he.attr(e,"class")||""}function W(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(Oe)||[];if(he.isFunction(t))for(;n=i[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $(t,i,o,a){function s(e){var r;return p[e]=!0,he.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||c||p[n]?c?!(r=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),r}var p={},c=t===an;return s(i.dataTypes[0])||!p["*"]&&s("*")}function K(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&he.extend(!0,e,n),e}function Y(e,t,n){for(var r,i,o,a,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){p.unshift(a);break}if(p[0]in n)o=p[0];else{for(a in n){if(!p[0]||e.converters[a+" "+p[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==p[0]&&p.unshift(o),n[o]}function G(e,t,n,r){var i,o,a,s,p,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!p&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=o,o=l.shift())if("*"===o)o=p;else if("*"!==p&&p!==o){if(!(a=c[p+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[p+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+p+" to "+o}}}return{state:"success",data:t}}function X(e){return e.style&&e.style.display||he.css(e,"display")}function Q(e){if(!he.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===X(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function J(n,e,r,i){var t;if(he.isArray(e))he.each(e,function(e,t){r||un.test(n)?i(n,t):J(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==he.type(e))i(n,e);else for(t in e)J(n+"["+t+"]",e[t],r,i)}function Z(){try{return new E.XMLHttpRequest}catch(e){}}function ee(){try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=E.document,ie=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,pe={},ce=pe.toString,le=pe.hasOwnProperty,ue={},de="1.12.4",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ye=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(n){return this.pushStack(he.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},he.extend=he.fn.extend=function(e){var t,n,r,i,o,a,s=e||{},p=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[p]||{},p++),"object"==typeof s||he.isFunction(s)||(s={}),p===c&&(s=this,p--);p<c;p++)if(null!=(o=arguments[p]))for(i in o)t=s[i],s!==(r=o[i])&&(l&&r&&(he.isPlainObject(r)||(n=he.isArray(r)))?(n?(n=!1,a=t&&he.isArray(t)?t:[]):a=t&&he.isPlainObject(t)?t:{},s[i]=he.extend(l,a,r)):r!==undefined&&(s[i]=r));return s},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ue.ownFirst)for(t in e)return le.call(e,t);for(t in e);return t===undefined||le.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[ce.call(e)]||"object":typeof e},globalEval:function(e){e&&he.trim(e)&&(E.execScript||function(e){E.eval.call(E,e)})(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;t[r]!==undefined;)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(s(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return oe.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),he.isFunction(e)?(n=ie.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))}).guid=e.guid=e.guid||he.guid++,r):undefined},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ne[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var be=function(n){function x(e,t,n,r){var i,o,a,s,p,c,l,u,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:F)!==A&&z(t),t=t||A,D)){if(11!==h&&(c=ye.exec(e)))if(i=c[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&L(t,a)&&a.id===i)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&y.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(y.qsa&&!W[e+" "]&&(!P||!P.test(e))){if(1!==h)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=U),o=(l=T(e)).length,p=de.test(s)?"#"+s:"[id='"+s+"']";o--;)l[o]=p+" "+g(l[o]);u=l.join(","),d=be.test(e)&&m(t.parentNode)||t}if(u)try{return J.apply(n,d.querySelectorAll(u)),n}catch(f){}finally{s===U&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function e(){function n(e,t){return r.push(e+" ")>w.cacheLength&&delete n[r.shift()],n[e+" "]=t}var r=[];return n}function p(e){return e[U]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function c(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(a){return p(function(o){return o=+o,p(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function m(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function g(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function u(s,e,t){var p=e.dir,c=t&&"parentNode"===p,l=q++;return e.first?function(e,t,n){for(;e=e[p];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var r,i,o,a=[B,l];if(n){for(;e=e[p];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[p];)if(1===e.nodeType||c){if((r=(i=(o=e[U]||(e[U]={}))[e.uniqueID]||(o[e.uniqueID]={}))[p])&&r[0]===B&&r[1]===l)return a[2]=r[2];if((i[p]=a)[2]=s(e,t,n))return!0}}}function d(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function b(e,t,n){for(var r=0,i=t.length;r<i;r++)x(e,t[r],n);return n}function C(e,t,n,r,i){for(var o,a=[],s=0,p=e.length,c=null!=t;s<p;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function v(h,f,m,g,y,e){return g&&!g[U]&&(g=v(g)),y&&!y[U]&&(y=v(y,e)),p(function(e,t,n,r){var i,o,a,s=[],p=[],c=t.length,l=e||b(f||"*",n.nodeType?[n]:n,[]),u=!h||!e&&f?l:C(l,s,h,n,r),d=m?y||(e?h:c||g)?[]:t:u;if(m&&m(u,d,n,r),g)for(i=C(d,p),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(d[p[o]]=!(u[p[o]]=a));if(e){if(y||h){if(y){for(i=[],o=d.length;o--;)(a=d[o])&&i.push(u[o]=a);y(null,d=[],i,r)}for(o=d.length;o--;)(a=d[o])&&-1<(i=y?ee(e,a):s[o])&&(e[i]=!(t[i]=a))}}else d=C(d===t?d.splice(c,d.length):d),y?y(null,t,d,r):J.apply(t,d)})}function h(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,p=u(function(e){return e===i},a,!0),c=u(function(e){return-1<ee(i,e)},a,!0),l=[function(e,t,n){var r=!o&&(n||t!==R)||((i=t).nodeType?p(e,t,n):c(e,t,n));return i=null,r}];s<r;s++)if(t=w.relative[e[s].type])l=[u(d(l),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return v(1<s&&d(l),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),t,s<n&&h(e.slice(s,n)),n<r&&h(e=e.slice(n)),n<r&&g(e))}l.push(t)}return d(l)}function l(g,y){var b=0<y.length,v=0<g.length,e=function(e,t,n,r,i){var o,a,s,p=0,c="0",l=e&&[],u=[],d=R,h=e||v&&w.find.TAG("*",i),f=B+=null==d?1:Math.random()||.1,m=h.length;for(i&&(R=t===A||t||i);c!==m&&null!=(o=h[c]);c++){if(v&&o){for(a=0,t||o.ownerDocument===A||(z(o),n=!D);s=g[a++];)if(s(o,t||A,n)){r.push(o);break}i&&(B=f)}b&&((o=!s&&o)&&p--,e&&l.push(o))}if(p+=c,b&&c!==p){for(a=0;s=y[a++];)s(l,u,t,n);if(e){if(0<p)for(;c--;)l[c]||u[c]||(u[c]=X.call(r));u=C(u)}J.apply(r,u),i&&!e&&0<u.length&&1<p+y.length&&x.uniqueSort(r)}return i&&(B=f,R=d),l};return b?p(e):e}var f,y,w,E,_,T,S,N,R,k,O,z,A,I,D,P,M,j,L,U="sizzle"+1*new Date,F=n.document,B=0,q=0,V=e(),H=e(),W=e(),$=function(e,t){return e===t&&(O=!0),0},K=1<<31,Y={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),pe=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(oe),de=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ve=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){z()};try{J.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(Ee){J={apply:G.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(f in y=x.support={},_=x.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},z=x.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==A&&9===r.nodeType&&r.documentElement&&(I=(A=r).documentElement,D=!_(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),y.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=i(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=ge.test(A.getElementsByClassName),y.getById=i(function(e){return I.appendChild(e).id=U,!A.getElementsByName||!A.getElementsByName(U).length}),y.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(xe,Ce);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=y.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=y.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},M=[],P=[],(y.qsa=ge.test(A.querySelectorAll))&&(i(function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(y.matchesSelector=ge.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e
){y.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),M.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(I.compareDocumentPosition),L=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===F&&L(F,e)?-1:t===A||t.ownerDocument===F&&L(F,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===A?-1:t===A?1:i?-1:o?1:k?ee(k,e)-ee(k,t):0;if(i===o)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?c(a[r],s[r]):a[r]===F?-1:s[r]===F?1:0}),A},x.matches=function(e,t){return x(e,null,null,t)},x.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&z(e),t=t.replace(le,"='$1']"),y.matchesSelector&&D&&!W[t+" "]&&(!M||!M.test(t))&&(!P||!P.test(t)))try{var n=j.call(e,t);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ee){}return 0<x(t,A,null,[e]).length},x.contains=function(e,t){return(e.ownerDocument||e)!==A&&z(e),L(e,t)},x.attr=function(e,t){(e.ownerDocument||e)!==A&&z(e);var n=w.attrHandle[t.toLowerCase()],r=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!D):undefined;return r!==undefined?r:y.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},x.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!y.detectDuplicates,k=!y.sortStable&&e.slice(0),e.sort($),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},E=x.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},(w=x.selectors={cacheLength:50,createPseudo:p,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||x.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&x.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=x.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(ae," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var y="nth"!==f.slice(0,3),b="last"!==f.slice(-4),v="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,p,c=y!==b?"nextSibling":"previousSibling",l=e.parentNode,u=v&&e.nodeName.toLowerCase(),d=!n&&!v,h=!1;if(l){if(y){for(;c;){for(a=e;a=a[c];)if(v?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;p=c="only"===f&&!p&&"nextSibling"}return!0}if(p=[b?l.firstChild:l.lastChild],b&&d){for(h=(s=(r=(i=(o=(a=l)[U]||(a[U]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===B&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||p.pop();)if(1===a.nodeType&&++h&&a===e){i[f]=[B,s,h];break}}else if(d&&(h=s=(r=(i=(o=(a=e)[U]||(a[U]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===B&&r[1]),!1===h)for(;(a=++s&&a&&a[c]||(h=s=0)||p.pop())&&((v?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++h||(d&&((i=(o=a[U]||(a[U]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]=[B,h]),a!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||x.error("unsupported pseudo: "+e);return a[U]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?p(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=ee(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:p(function(e){var r=[],i=[],s=S(e.replace(se,"$1"));return s[U]?p(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:p(function(t){return function(e){return 0<x(t,e).length}}),contains:p(function(t){return t=t.replace(xe,Ce),function(e){return-1<(e.textContent||e.innerText||E(e)).indexOf(t)}}),lang:p(function(n){return de.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(xe,Ce).toLowerCase(),function(e){var t;do{if(t=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[f]=r(f);for(f in{submit:!0,reset:!0})w.pseudos[f]=o(f);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,T=x.tokenize=function(e,t){var n,r,i,o,a,s,p,c=H[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],p=w.preFilter;a;){for(o in n&&!(r=pe.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(se," ")}),a=a.slice(n.length)),w.filter)!(r=he[o].exec(a))||p[o]&&!(r=p[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?x.error(e):H(e,s).slice(0)},S=x.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)(o=h(t[n]))[U]?r.push(o):i.push(o);(o=W(e,l(i,r))).selector=e}return o},N=x.select=function(e,t,n,r){var i,o,a,s,p,c="function"==typeof e&&e,l=!r&&T(e=c.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&y.getById&&9===t.nodeType&&D&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(xe,Ce),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((p=w.find[s])&&(r=p(a.matches[0].replace(xe,Ce),be.test(o[0].type)&&m(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&g(o)))return J.apply(n,r),n;break}}return(c||S(e,l))(r,t,!D,n,!t||be.test(e)&&m(t.parentNode)||t),n},y.sortStable=U.split("").sort($).join("")===U,y.detectDuplicates=!!O,z(),y.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),x}(E);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains;var ve=function(e,t,n){for(var r=[],i=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ce=he.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(r[t],this))return!0}));for(t=0;t<i;t++)he.find(e,r[t],n);return(n=this.pushStack(1<i?he.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&Ce.test(e)?he(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||_e,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(he):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this));if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),we.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=re.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return _e.find(e);this.length=1,this[0]=i}return this.context=re,this.selector=e,this}).prototype=he.fn,_e=he(re);var Se=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t,n=he(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(he.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Ce.test(e)||"string"!=typeof e?he(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},function(r,i){he.fn[r]=function(e,t){var n=he.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=he.filter(t,n)),1<this.length&&(Ne[r]||(n=he.uniqueSort(n)),Se.test(r)&&(n=n.reverse())),this.pushStack(n)}});var Re,ke,Oe=/\S+/g;for(ke in he.Callbacks=function(r){r="string"==typeof r?l(r):he.extend({},r);var i,e,t,n,o=[],a=[],s=-1,p=function(){for(n=r.once,t=i=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=o.length,e=!1);r.memory||(e=!1),i=!1,n&&(o=e?[]:"")},c={add:function(){return o&&(e&&!i&&(s=o.length-1,a.push(e)),function n(e){he.each(e,function(e,t){he.isFunction(t)?r.unique&&c.has(t)||o.push(t):t&&t.length&&"string"!==he.type(t)&&n(t)})}(arguments),e&&!i&&p()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;-1<(n=he.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<he.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return n=!0,e||c.disable(),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),i||p()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},he.extend({Deferred:function(e){var o=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return he.Deferred(function(r){he.each(o,function(e,t){var n=he.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?he.extend(e,a):a}},s={};return a.pipe=a.then,he.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=ie.call(arguments),a=o.length,s=1!==a||e&&he.isFunction(e.promise)?a:0,p=1===s?e:he.Deferred(),c=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?ie.call(arguments):e,r===i?p.notifyWith(n,r):--s||p.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&he.isFunction(o[r].promise)?o[r].promise().progress(c(r,t,i)).done(c(r,n,o)).fail(p.reject):--s;return s||p.resolveWith(n,o),p.promise()}}),he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0)!==e&&0<--he.readyWait||(Re.resolveWith(re,[he]),he.fn.triggerHandler&&(he(re).triggerHandler("ready"),he(re).off("ready")))}}),he.ready.promise=function(e){if(!Re)if(Re=he.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)E.setTimeout(he.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",o),E.addEventListener("load",o);else{re.attachEvent("onreadystatechange",o),E.attachEvent("onload",o);var t=!1;try{t=null==E.frameElement&&re.documentElement}catch(n){}t&&t.doScroll&&function r(){if(!he.isReady){try{t.doScroll("left")}catch(n){return E.setTimeout(r,50)}i(),he.ready()}}()}return Re.promise(e)},he.ready.promise(),he(ue))break;ue.ownFirst="0"===ke,ue.inlineBlockNeedsLayout=!1,he(function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),(r=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(t){ue.deleteExpando=!1}e=null}();var ze,Ae=function(e){var t=he.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/([A-Z])/g;he.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?he.cache[e[he.expando]]:e[he.expando])&&!c(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)}}),he.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(e!==undefined)return"object"==typeof e?this.each(function(){he.data(this,e)}):1<arguments.length?this.each(function(){he.data(this,e,t)}):o?p(o,e,he.data(o,e)):undefined;if(this.length&&(i=he.data(o),1===o.nodeType&&!he._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&p(o,r=he.camelCase(r.slice(5)),i[r]);he._data(o,"parsedAttrs",!0)}return i},removeData:function(e){return this.each(function(){he.removeData(this,e)})}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=he._data(e,t),n&&(!r||he.isArray(n)?r=he._data(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(e,t+"queue"),he._removeData(e,n)})})}}),he.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?he.queue(this[0],t):n===undefined?this:this.each(function(){var e=he.queue(this,t,n);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=he._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),ue.shrinkWrapBlocks=function(){return null!=ze?ze:(ze=!1,(t=re.getElementsByTagName("body")[0])&&t.style?(e=re.createElement("div"),(n=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(re.createElement("div")).style.width="5px",ze=3!==e.offsetWidth),t.removeChild(n),ze):void 0);var e,t,n};var Pe,Me,je,Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),Fe=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},qe=function(e,t,n,r,i,o,a){var s=0,p=e.length,c=null==n;if("object"===he.type(n))for(s in i=!0,n)qe(e,t,s,n[s],!0,o,a);else if(r!==undefined&&(i=!0,he.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(he(e),n)})),t))for(;s<p;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):p?t(e[0],n):o},Ve=/^(?:checkbox|radio)$/i,He=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Pe=re.createElement("div"),Me=re.createDocumentFragment(),je=re.createElement("input"),Pe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===Pe.firstChild.nodeType,ue.tbody=!Pe.getElementsByTagName("tbody").length,ue.htmlSerialize=!!Pe.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,je.type="checkbox",je.checked=!0,Me.appendChild(je),ue.appendChecked=je.checked,Pe.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!Pe.cloneNode(!0).lastChild.defaultValue,Me.appendChild(Pe),(je=re.createElement("input")).setAttribute("type","radio"),je.setAttribute("checked","checked"),je.setAttribute("name","t"),Pe.appendChild(je),ue.checkClone=Pe.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!Pe.addEventListener,Pe[he.expando]=1,ue.attributes=!Pe.getAttribute(he.expando);var Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td;var Ge=/<|&#?\w+;/,Xe=/<tbody/i;!function(){var e,t,n=re.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ue[e]=t in E)||(n.setAttribute(t,"t"),ue[e]=!1===n.attributes[t].expando);n=null}();var Qe=/^(?:input|select|textarea)$/i,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,p,c,l,u,d,h,f,m,g=he._data(e);if(g){for(n.handler&&(n=(p=n).handler,i=p.selector),n.guid||(n.guid=he.guid++),(a=g.events)||(a=g.events={}),(l=g.handle)||((l=g.handle=function(e){return void 0===he||e&&he.event.triggered===e.type?undefined:he.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(Oe)||[""]).length;s--;)h=m=(o=tt.exec(t[s])||[])[1],f=(o[2]||"").split(".").sort(),h&&(c=he.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=he.event.special[h]||{},u=he.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:f.join(".")},p),(d=a[h])||((d=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,f,l)||(e.addEventListener?e.addEventListener(h,l,!1):e.attachEvent&&e.attachEvent("on"+h,l))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),he.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,p,c,l,u,d,h,f,m,g=he.hasData(e)&&he._data(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Oe)||[""]).length;c--;)if(h=m=(s=tt.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=he.event.special[h]||{},d=l[h=(r?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,u.remove&&u.remove.call(e,a));p&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||he.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)he.event.remove(e,h+t[c],n,r,!0);he.isEmptyObject(l)&&(delete g.handle,he._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,p,c,l,u=[n||re],d=le.call(e,"type")?e.type:e,h=le.call(e,"namespace")?e.namespace.split("."):[];if(a=c=n=n||re,3!==n.nodeType&&8!==n.nodeType&&!et.test(d+he.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[he.expando]?e:new he.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:he.makeArray(t,[e]),p=he.event.special[d]||{},r||!p.trigger||!1!==p.trigger.apply(n,t))){if(!r&&!p.noBubble&&!he.isWindow(n)){for(s=p.delegateType||d,et.test(s+d)||(a=a.parentNode);a;a=a.parentNode)u.push(a),c=a;c===(n.ownerDocument||re)&&u.push(c.defaultView||c.parentWindow||E)}for(l=0;(a=u[l++])&&!e.isPropagationStopped();)e.type=1<l?s:p.bindType||d,(i=(he._data(a,"events")||{})[e.type]&&he._data(a,"handle"))&&i.apply(a,t),(i=o&&a[o])&&i.apply&&Ae(a)&&(e.result=i.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!p._default||!1===p._default.apply(u.pop(),t))&&Ae(n)&&o&&n[d]&&!he.isWindow(n)){(c=n[o])&&(n[o]=null),he.event.triggered=d;try{n[d]()}catch(f){}he.event.triggered=undefined,c&&(n[o]=c)}return e.result}},dispatch:function(e){e=he.event.fix(e);var t,n,r,i,o,a=[],s=ie.call(arguments),p=(he._data(this,"events")||{})[e.type]||[],c=he.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=he.event.handlers.call(this,e,p),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,(r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,p=e.target;if(s&&p.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)r[i=(o=t[n]).selector+" "]===undefined&&(r[i]=o.needsContext?-1<he(i,this).index(p):he.find(i,this,null,[p]).length),r[i]&&r.push(o);r.length&&a.push({elem:p,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[he.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ze.test(i)?this.mouseHooks:Je.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new he.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||re).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?d:h):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){he.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===n||he.contains(n,r))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),ue.submit||(he.event.special.submit={setup:function(){if(he.nodeName(this,"form"))return!1;he.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=he.nodeName(t,"input")||he.nodeName(t,"button")?he.prop(t,"form"):undefined;n&&!he._data(n,"submit")&&(he.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),he._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e))},teardown:function(){if(he.nodeName(this,"form"))return!1;he.event.remove(this,"._submit")}}),ue.change||(he.event.special.change={setup:function(){if(Qe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),he.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),he.event.simulate("change",this,e)})),!1;he.event.add(this,"beforeactivate._change",function(e){var t=e.target;Qe.test(t.nodeName)&&!he._data(t,"change")&&(he.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e)}),he._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!Qe.test(this.nodeName)}}),ue.focusin||he.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){he.event.simulate(r,e.target,he.event.fix(e))};he.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=he._data(e,r);t||e.addEventListener(n,i,!0),he._data(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=he._data(e,r)-1;t?he._data(e,r,t):(e.removeEventListener(n,i,!0),he._removeData(e,r))}}}),he.fn.extend({on:function(e,t,n,r){return x(this,
e,t,n,r)},one:function(e,t,n,r){return x(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=h),this.each(function(){he.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+Ke+")[\\s/>]","i"),it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct=g(re).appendChild(re.createElement("div"));he.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,p=he.contains(e.ownerDocument,e);if(ue.html5Clone||he.isXMLDoc(e)||!rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(o=ct.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=y(o),s=y(e),a=0;null!=(i=s[a]);++a)r[a]&&S(i,r[a]);if(t)if(n)for(s=s||y(e),r=r||y(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return 0<(r=y(o,"script")).length&&b(r,!p&&y(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=he.expando,p=he.cache,c=ue.attributes,l=he.event.special;null!=(n=e[a]);a++)if((t||Ae(n))&&(o=(i=n[s])&&p[i])){if(o.events)for(r in o.events)l[r]?he.event.remove(n,r):he.removeEvent(n,r,o.handle);p[i]&&(delete p[i],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(i))}}}),he.fn.extend({domManip:N,detach:function(e){return R(this,e,!0)},remove:function(e){return R(this,e)},text:function(e){return qe(this,function(e){return e===undefined?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,e).appendChild(e)})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return qe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!ot.test(e)&&(ue.htmlSerialize||!rt.test(e))&&(ue.leadingWhitespace||!$e.test(e))&&!Ye[(He.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return N(this,arguments,function(e){var t=this.parentNode;he.inArray(this,n)<0&&(he.cleanData(y(this)),t&&t.replaceChild(e,this))},n)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){he.fn[e]=function(e){for(var t,n=0,r=[],i=he(e),o=i.length-1;n<=o;n++)t=n===o?this:this.clone(!0),he(i[n])[a](t),ae.apply(r,t.get());return this.pushStack(r)}});var lt,ut={HTML:"block",BODY:"block"},dt=/^margin/,ht=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},mt=re.documentElement;!function(){function e(){var e,t,n=re.documentElement;n.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=o=p=!1,i=s=!0,E.getComputedStyle&&(t=E.getComputedStyle(l),r="1%"!==(t||{}).top,p="2px"===(t||{}).marginLeft,o="4px"===(t||{width:"4px"}).width,l.style.marginRight="50%",i="4px"===(t||{marginRight:"4px"}).marginRight,(e=l.appendChild(re.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",l.style.width="1px",s=!parseFloat((E.getComputedStyle(e)||{}).marginRight),l.removeChild(e)),l.style.display="none",(a=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",(e=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),n.removeChild(c)}var r,i,o,a,s,p,c=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===l.style.opacity,ue.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===l.style.backgroundClip,(c=re.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),ue.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,he.extend(ue,{reliableHiddenOffsets:function(){return null==r&&e(),a},boxSizingReliable:function(){return null==r&&e(),o},pixelMarginRight:function(){return null==r&&e(),i},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==r&&e(),s},reliableMarginLeft:function(){return null==r&&e(),p}}))}();var gt,yt,bt=/^(top|right|bottom|left)$/;E.getComputedStyle?(gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=E),t.getComputedStyle(e)},yt=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||gt(e))?n.getPropertyValue(t)||n[t]:undefined)&&a!==undefined||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),n&&!ue.pixelMarginRight()&&ht.test(a)&&dt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),a===undefined?a:a+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},yt=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||gt(e))?n[t]:undefined)&&s&&s[t]&&(a=s[t]),ht.test(a)&&!bt.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),a===undefined?a:a+""||"auto"});var vt=/alpha\([^)]*\)/i,xt=/opacity\s*=\s*([^)]*)/i,Ct=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Le+")(.*)$","i"),Et={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],St=re.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=yt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=he.camelCase(t),p=e.style;if(t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),a=he.cssHooks[t]||he.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(e,!1,r))!==undefined?i:p[t];if("string"===(o=typeof n)&&(i=Ue.exec(n))&&i[1]&&(n=u(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(he.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(p[t]="inherit"),!(a&&"set"in a&&(n=a.set(e,n,r))===undefined)))try{p[t]=n}catch(c){}}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=A(s)||s),(a=he.cssHooks[t]||he.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),o===undefined&&(o=yt(e,t,r)),"normal"===o&&t in _t&&(o=_t[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),he.each(["height","width"],function(e,i){he.cssHooks[i]={get:function(e,t,n){if(t)return Ct.test(he.css(e,"display"))&&0===e.offsetWidth?ft(e,Et,function(){return M(e,i,n)}):M(e,i,n)},set:function(e,t,n){var r=n&&gt(e);return D(e,t,n?P(e,i,n,ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,r),r):0)}}}),ue.opacity||(he.cssHooks.opacity={get:function(e,t){return xt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===he.trim(o.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=vt.test(o)?o.replace(vt,i):o+" "+i)}}),he.cssHooks.marginRight=z(ue.reliableMarginRight,function(e,t){if(t)return ft(e,{display:"inline-block"},yt,[e,"marginRight"])}),he.cssHooks.marginLeft=z(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(yt(e,"marginLeft"))||(he.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(i,o){he.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Fe[t]+o]=r[t]||r[t-2]||r[0];return n}},dt.test(i)||(he.cssHooks[i+o].set=D)}),he.fn.extend({css:function(e,t){return qe(this,function(e,t,n){var r,i,o={},a=0;if(he.isArray(t)){for(r=gt(e),i=t.length;a<i;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return n!==undefined?he.style(e,t,n):he.css(e,t)},e,t,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}}),(he.Tween=j).prototype={constructor:j,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=j.prototype.init,he.fx.step={};var Nt,Rt,kt,Ot,zt,At,It,Dt=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;he.Animation=he.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=he.isEmptyObject(t),o=he.speed(e,n,r),a=function(){var e=V(this,he.extend({},t),o);(i||he._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=undefined),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=he.timers,r=he._data(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&Pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||he.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=he._data(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=he.timers,o=n?n.length:0;for(t.finish=!0,he.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),he.each(["toggle","show","hide"],function(e,r){var i=he.fn[r];he.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(U(r,!0),e,t,n)}}),he.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){he.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),he.timers=[],he.fx.tick=function(){var e,t=he.timers,n=0;for(Nt=he.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),Nt=undefined},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){Rt||(Rt=E.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){E.clearInterval(Rt),Rt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(r,e){return r=he.fx&&he.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=E.setTimeout(e,r);t.stop=function(){E.clearTimeout(n)}})},Ot=re.createElement("input"),zt=re.createElement("div"),At=re.createElement("select"),It=At.appendChild(re.createElement("option")),(zt=re.createElement("div")).setAttribute("className","t"),zt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",kt=zt.getElementsByTagName("a")[0],Ot.setAttribute("type","checkbox"),zt.appendChild(Ot),(kt=zt.getElementsByTagName("a")[0]).style.cssText="top:1px",ue.getSetAttribute="t"!==zt.className,ue.style=/top/.test(kt.getAttribute("style")),ue.hrefNormalized="/a"===kt.getAttribute("href"),ue.checkOn=!!Ot.value,ue.optSelected=It.selected,ue.enctype=!!re.createElement("form").enctype,At.disabled=!0,ue.optDisabled=!It.disabled,(Ot=re.createElement("input")).setAttribute("value",""),ue.input=""===Ot.getAttribute("value"),Ot.value="t",Ot.setAttribute("type","radio"),ue.radioValue="t"===Ot.value;var Mt=/\r/g,jt=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=he.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,he(this).val()):n)?t="":"number"==typeof t?t+="":he.isArray(t)&&(t=he.map(t,function(e){return null==e?"":e+""})),(r=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,t,"value")!==undefined||(this.value=t))})):t?(r=he.valHooks[t.type]||he.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&(e=r.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(Mt,""):null==e?"":e:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,p=i<0?s:o?i:0;p<s;p++)if(((n=r[p]).selected||p===i)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)if(r=i[a],-1<he.inArray(he.valHooks.option.get(r),o))try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=-1<he.inArray(he(e).val(),t)}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ut,Ft=he.expr.attrHandle,Bt=/^(?:checked|selected)$/i,qt=ue.getSetAttribute,Vt=ue.input;he.fn.extend({attr:function(e,t){return qe(this,he.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(t=t.toLowerCase(),i=he.attrHooks[t]||(he.expr.match.bool.test(t)?Ut:Lt)),n!==undefined?null===n?void he.removeAttr(e,t):i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=he.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Oe);if(o&&1===e.nodeType)for(;n=o[i++];)r=he.propFix[n]||n,he.expr.match.bool.test(n)?Vt&&qt||!Bt.test(n)?e[r]=!1:e[he.camelCase("default-"+n)]=e[r]=!1:he.attr(e,n,""),e.removeAttribute(qt?n:r)}}),Ut={set:function(e,t,n){return!1===t?he.removeAttr(e,n):Vt&&qt||!Bt.test(n)?e.setAttribute(!qt&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ft[t]||he.find.attr;Vt&&qt||!Bt.test(t)?Ft[t]=function(e,t,n){var r,i;return n||(i=Ft[t],Ft[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,Ft[t]=i),r}:Ft[t]=function(e,t,n){if(!n)return e[he.camelCase("default-"+t)]?t.toLowerCase():null}}),Vt&&qt||(he.attrHooks.value={set:function(e,t,n){if(!he.nodeName(e,"input"))return Lt&&Lt.set(e,t,n);e.defaultValue=t}}),qt||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ft.id=Ft.name=Ft.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Lt.set},he.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""!==t&&t,n)}},he.each(["width","height"],function(e,n){he.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),ue.style||(he.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Ht=/^(?:input|select|textarea|button|object)$/i,Wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return qe(this,he.prop,e,t,1<arguments.length)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Ht.test(e.nodeName)||Wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.hrefNormalized||he.each(["href","src"],function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),ue.enctype||(he.propFix.enctype="encoding");var $t=/[\t\r\n\f]/g;he.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,p=0;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[p++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace($t," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,p=0;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[p++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace($t," ")){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=he.trim(r))&&he.attr(n,"class",s)}return this},toggleClass:function(i,t){var o=typeof i;return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):he.isFunction(i)?this.each(function(e){he(this).toggleClass(i.call(this,e,H(this),t),t)}):this.each(function(){var e,t,n,r;if("string"===o)for(t=0,n=he(this),r=i.match(Oe)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else i!==undefined&&"boolean"!==o||((e=H(this))&&he._data(this,"__className__",e),he.attr(this,"class",e||!1===i?"":he._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+H(n)+" ").replace($t," ").indexOf(t))return!0;return!1}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){he.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Kt=E.location,Yt=he.now(),Gt=/\?/,Xt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;he.parseJSON=function(e){if(E.JSON&&E.JSON.parse)return E.JSON.parse(e+"");var i,o=null,t=he.trim(e+"");return t&&!he.trim(t.replace(Xt,function(e,t,n,r){return i&&t&&(o=0),0===o?e:(i=n||t,o+=!r-!n,"")}))?Function("return "+t)():he.error("Invalid JSON: "+e)},he.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{E.DOMParser?t=(new E.DOMParser).parseFromString(e,"text/xml"):((t=new E.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+e),t};var Qt=/#.*$/,Jt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),pn=Kt.href,cn=rn.exec(pn.toLowerCase())||[];he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pn,type:"GET",isLocal:en.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,he.ajaxSettings),t):K(he.ajaxSettings,e)},ajaxPrefilter:W(on),ajaxTransport:W(an),ajax:function(e,t){function n(e,t,n,r){var i,o,a,s,p,c=t;2!==C&&(C=2,d&&E.clearTimeout(d),f=undefined,u=r||"",w.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=Y(m,w,n)),s=G(m,s,w,i),i?(m.ifModified&&((p=w.getResponseHeader("Last-Modified"))&&(he.lastModified[l]=p),(p=w.getResponseHeader("etag"))&&(he.etag[l]=p)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,i=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),w.status=e,w.statusText=(t||c)+"",i?b.resolveWith(g,[o,c,w]):b.rejectWith(g,[w,c,a]),w.statusCode(x),x=undefined,h&&y.trigger(i?"ajaxSuccess":"ajaxError",[w,m,i?o:a]),v.fireWith(g,[w,c]),h&&(y.trigger("ajaxComplete",[w,m]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,i,l,u,d,h,f,o,m=he.ajaxSetup({},t),g=m.context||m,y=m.context&&(g.nodeType||g.jquery)?he(g):he.event,b=he.Deferred(),v=he.Callbacks("once memory"),x=m.statusCode||{},a={},s={},C=0,p="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!o)for(o={};t=Zt.exec(u);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?u:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=s[n]=s[n]||e,a[e]=t),this},overrideMimeType:function(e){return C||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(C<2)for(t in e)x[t]=[x[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||p;return f&&f.abort(t),n(0,t),this}};if(b.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,m.url=((e||m.url||pn)+"").replace(Qt,"").replace(nn,cn[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=he.trim(m.dataType||"*").toLowerCase().match(Oe)||[""],null==m.crossDomain&&(r=rn.exec(m.url.toLowerCase()),m.crossDomain=!(!r||r[1]===cn[1]&&r[2]===cn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=he.param(m.data,m.traditional)),$(on,m,t,w),2===C)return w;for(i in(h=he.event&&m.global)&&0==he.active++&&he.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!tn.test(m.type),l=m.url,m.hasContent||(m.data&&(l=m.url+=(Gt.test(l)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Jt.test(l)?l.replace(Jt,"$1_="+Yt++):l+(Gt.test(l)?"&":"?")+"_="+Yt++)),m.ifModified&&(he.lastModified[l]&&w.setRequestHeader("If-Modified-Since",he.lastModified[l]),he.etag[l]&&w.setRequestHeader("If-None-Match",he.etag[l])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+sn+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,w,m)||2===C))return w.abort();for(i in p="abort",{success:1,error:1,complete:1})w[i](m[i]);if(f=$(an,m,t,w)){if(w.readyState=1,h&&y.trigger("ajaxSend",[w,m]),2===C)return w;m.async&&0<m.timeout&&(d=E.setTimeout(function(){w.abort("timeout")},m.timeout));try{C=1,f.send(a,n)}catch(c){if(!(C<2))throw c;n(-1,c)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,undefined,t,"script")}}),he.each(["get","post"],function(e,i){he[i]=function(e,t,n,r){return he.isFunction(t)&&(r=r||n,n=t,t=undefined),he.ajax(he.extend({url:e,type:i,dataType:r,data:t,success:n},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return he.isFunction(n)?this.each(function(e){he(this).wrapInner(n.call(this,e))}):this.each(function(){var e=he(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=he.isFunction(t);return this.each(function(e){he(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}}),he.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)};var ln=/%20/g,un=/\[\]$/,dn=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,fn=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){t=he.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)J(n,e[n],t,i);return r.join("&").replace(ln,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&fn.test(this.nodeName)&&!hn.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(dn,"\r\n")}}):{name:t.name,value:n.replace(dn,"\r\n")}}).get()}}),he.ajaxSettings.xhr=E.ActiveXObject!==undefined?function(){return this.isLocal?ee():8<re.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var mn=0,gn={},yn=he.ajaxSettings.xhr();E.attachEvent&&E.attachEvent("onunload",function(){for(var e in gn)gn[e](undefined,!0)}),ue.cors=!!yn&&"withCredentials"in yn,(yn=ue.ajax=!!yn)&&he.ajaxTransport(function(c){var l;if(!c.crossDomain||ue.cors)return{send:function(e,a){var t,s=c.xhr(),p=++mn;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)s[t]=c.xhrFields[t];for(t in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&s.setRequestHeader(t,e[t]+"");s.send(c.hasContent&&c.data||null),l=function(e,t){var n,r,i;if(l&&(t||4===s.readyState))if(delete gn[p],l=undefined,s.onreadystatechange=he.noop,t)4!==s.readyState&&s.abort();else{i={},n=s.status,"string"==typeof s.responseText&&(i.text=s.responseText);try{r=s.statusText}catch(o){r=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&a(n,r,i,s.getAllResponseHeaders())},c.async?4===s.readyState?E.setTimeout(l):s.onreadystatechange=gn[p]=l:l()},abort:function(){l&&l(undefined,!0)}}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var r,i=re.head||he("head")[0]||re.documentElement;return{send:function(e,n){(r=re.createElement("script")).async=!0,t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,t||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(undefined,!0)}}}});var bn=[],vn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bn.pop()||he.expando+"_"+Yt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(vn.test(e.url
)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=he.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(vn,"$1"+r):!1!==e.jsonp&&(e.url+=(Gt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||he.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=E[r],E[r]=function(){o=arguments},n.always(function(){i===undefined?he(E).removeProp(r):E[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,bn.push(r)),o&&he.isFunction(i)&&i(o[0]),o=i=undefined}),"script"}),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=we.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=m([e],t,i),i&&i.length&&he(i).remove(),he.merge([],r.childNodes))};var xn=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&xn)return xn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=he.trim(e.slice(s,e.length)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),0<a.length&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,p,c=he.css(e,"position"),l=he(e),u={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=he.css(e,"top"),p=he.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<he.inArray("auto",[o,p])?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(p)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):l.css(u)}},he.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){he.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,he.contains(e,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=te(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(r,"marginTop",!0),left:t.left-n.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||mt})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=/Y/.test(i);he.fn[t]=function(e){return qe(this,function(e,t,n){var r=te(e);if(n===undefined)return r?i in r?r[i]:r.document.documentElement[t]:e[t];r?r.scrollTo(o?he(r).scrollLeft():n,o?n:he(r).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),he.each(["top","left"],function(e,n){he.cssHooks[n]=z(ue.pixelPosition,function(e,t){if(t)return t=yt(e,n),ht.test(t)?he(e).position()[n]+"px":t})}),he.each({Height:"height",Width:"width"},function(o,a){he.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){he.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return qe(this,function(e,t,n){var r;return he.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):n===undefined?he.css(e,t,i):he.style(e,t,n,i)},a,n?e:undefined,n,null)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Cn=E.jQuery,wn=E.$;return he.noConflict=function(e){return E.$===he&&(E.$=wn),e&&E.jQuery===he&&(E.jQuery=Cn),he},e||(E.jQuery=E.$=he),he}),function(r){var i,o,a,s,p=1,c=this,l=!1,u="postMessage",d="addEventListener",h=c[u];r[u]=function(e,t,n){t&&(e="string"==typeof e?e:r.param(e),n=n||parent,h?n[u](e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+p+++"&"+e))},r.receiveMessage=s=function(n,t,e){h?(n&&(a&&s(),a=function(e){if("string"==typeof t&&e.origin!==t||r.isFunction(t)&&t(e.origin)===l)return l;n(e)}),c[d]?c[n?d:"removeEventListener"]("message",a,l):c[n?"attachEvent":"detachEvent"]("onmessage",a)):(i&&clearInterval(i),i=null,n&&(e="number"==typeof t?t:"number"==typeof e?e:100,i=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==o&&t.test(e)&&n({data:(o=e).replace(t,"")})},e)))}}(jQuery),function(e,u){var r,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=r=function(o,a,s,p){function e(){function e(){l=+new Date,s.apply(n,i)}function t(){c=u}var n=this,r=+new Date-l,i=arguments;p&&!c&&e(),c&&clearTimeout(c),p===u&&o<r?e():!0!==a&&(c=setTimeout(p?t:e,p===u?o-r:o))}var c,l=0;return"boolean"!=typeof a&&(p=s,s=a,a=u),t.guid&&(e.guid=s.guid=s.guid||t.guid++),e},t.debounce=function(e,t,n){return n===u?r(e,t,!1):r(e,n,!1!==t)}}(this),function(e){if(!e.support.cors&&window.XDomainRequest){var r=/^https?:\/\//i,i=/^get|post$/i,o=new RegExp("^"+location.protocol,"i"),c=/\/xml/i;e.ajaxTransport("text html xml json",function(t,n){if(t.crossDomain&&t.async&&i.test(t.type)&&r.test(t.url)&&o.test(t.url)){var s=null,p=(n.dataType||"").toLowerCase();return{send:function(e,a){s=new XDomainRequest,/^\d+$/.test(n.timeout)&&(s.timeout=n.timeout),s.ontimeout=function(){a(500,"timeout")},s.onload=function(){var e="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,t={code:200,message:"success"},n={text:s.responseText};try{if("json"===p)try{n.json=JSON.parse(s.responseText)}catch(i){t.code=500,t.message="parseerror"}else if("xml"===p||"text"!==p&&c.test(s.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(s.responseText)}catch(i){r=undefined}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+s.responseText;n.xml=r}}catch(o){throw o}finally{a(t.code,t.message,n,e)}},s.onerror=function(){a(500,"error",{text:s.responseText})},s.open(t.type,t.url),s.send(n.data)},abort:function(){s&&s.abort()}}}})}}(jQuery),function(d){d.deparam=function(e,c){var l={},u={"true":!0,"false":!1,"null":null};return d.each(e.replace(/\+/g," ").split("&"),function(e,t){var n,r=t.split("="),i=decodeURIComponent(r[0]),o=l,a=0,s=i.split("]["),p=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[p])?(s[p]=s[p].replace(/\]$/,""),p=(s=s.shift().split("[").concat(s)).length-1):p=0,2===r.length)if(n=decodeURIComponent(r[1]),c&&(n=n&&!isNaN(n)?+n:"undefined"===n?undefined:u[n]!==undefined?u[n]:n),p)for(;a<=p;a++)o=o[i=""===s[a]?o.length:s[a]]=a<p?o[i]||(s[a+1]&&isNaN(s[a+1])?{}:[]):n;else d.isArray(l[i])?l[i].push(n):l[i]!==undefined?l[i]=[l[i],n]:l[i]=n;else i&&(l[i]=c?undefined:"")}),l}}(jQuery),jQuery.namespace=function(e){for(var t=window,n=e.split("."),r=0;r<n.length;r++)"undefined"==typeof t[n[r]]&&(t[n[r]]=new Object),t=t[n[r]];return t},function(){var t;window.supports_localstorage=function(){if(void 0!==t)return t;try{localStorage.setItem("RMZ","RMZ"),localStorage.removeItem("RMZ"),t=!0}catch(e){t=!1}return t}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"!=typeof require?e(require("jquery")):e(jQuery)}(function(l){var o,n=0,s=Array.prototype.slice;l.cleanData=(o=l.cleanData,function(e){var t,n,r;for(r=0;null!=(n=e[r]);r++)try{(t=l._data(n,"events"))&&t.remove&&l(n).triggerHandler("remove")}catch(i){}o(e)}),l.widget=function(e,n,t){var r,i,o,a,s={},p=e.split(".")[0];return e=e.split(".")[1],r=p+"-"+e,t||(t=n,n=l.Widget),l.expr[":"][r.toLowerCase()]=function(e){return!!l.data(e,r)},l[p]=l[p]||{},i=l[p][e],o=l[p][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},l.extend(o,i,{version:t.version,_proto:l.extend({},t),_childConstructors:[]}),(a=new n).options=l.widget.extend({},a.options),l.each(t,function(t,r){var i,o;l.isFunction(r)?s[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):s[t]=r}),o.prototype=l.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:p,widgetName:e,widgetFullName:r}),i?(l.each(i._childConstructors,function(e,t){var n=t.prototype;l.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),l.widget.bridge(e,o),o},l.widget.extend=function(e){for(var t,n,r=s.call(arguments,1),i=0,o=r.length;i<o;i++)for(t in r[i])n=r[i][t],r[i].hasOwnProperty(t)&&n!==undefined&&(l.isPlainObject(n)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],n):l.widget.extend({},n):e[t]=n);return e},l.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;l.fn[o]=function(n){var e="string"==typeof n,r=s.call(arguments,1),i=this;return e?this.each(function(){var e,t=l.data(this,a);return"instance"===n?(i=t,!1):t?l.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&e!==undefined?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:l.error("no such method '"+n+"' for "+o+" widget instance"):l.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=l.widget.extend.apply(null,[n].concat(r))),this.each(function(){var e=l.data(this,a);e?(e.option(n||{}),e._init&&e._init()):l.data(this,a,new t(n,this))})),i}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=l(),this.hoverable=l(),this.focusable=l(),t!==this&&(l.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:l.noop,_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(l.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var n,r,i,o=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(r=o[e]=l.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(e=n.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,e){var p,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=p=l(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,p=this.widget()),l.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||l.guid++);var r=e.match(/^([\w:-]*)\s*(.*)$/),i=r[1]+c.eventNamespace,o=r[2];o?p.delegate(o,i,n):s.bind(i,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=l(this.bindings.not(e).get()),this.focusable=l(this.focusable.not(e).get()),this.hoverable=l(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){l(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){l(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){l(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){l(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var r,i,o=this.options[e];if(n=n||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(r in i)r in t||(t[r]=i[r]);return this.element.trigger(t,n),!(l.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(o,a){l.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var r,i=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),r=!l.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),r&&l.effects&&l.effects.effect[i]?t[o](e):i!==o&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){l(this)[o](),n&&n.call(t[0]),e()})}});l.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(y){"use strict";function e(n){var r="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==y.inArray("Files",t.types)&&!1!==this._trigger(n,y.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),r&&(t.dropEffect="copy"))}}y.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||y('<input type="file">').prop("disabled")),y.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),y.support.xhrFormDataFileUpload=!!window.FormData,y.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),y.widget("blueimp.fileupload",{options:{dropZone:y(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&y.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&y(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:y.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||n<r)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&y.support.xhrFileUpload||y.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===y.type(e.formData)?e.formData(e.form):y.isArray(e.formData)?e.formData:"object"===y.type(e.formData)?(n=[],y.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return y.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?y.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,r=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(r,n,t.bitrateInterval),this._trigger("progress",y.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",y.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var r=this,e=n.xhr?n.xhr():y.ajaxSettings.xhr();e.upload&&(y(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,r._onProgress(e,n)}),n.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(n){var r,i=this,e=n.files[0],t=n.multipart||!y.support.xhrFileUpload,o="array"===y.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=y.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),t&&!n.blob&&this._isInstanceOf("File",e)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),t?y.support.xhrFormDataFileUpload&&(n.postMessage?(r=this._getFormData(n),n.blob?r.push({name:o,value:n.blob}):y.each(n.files,function(e,t){r.push({name:"array"===y.type(n.paramName)&&n.paramName[e]||o,value:t})})):(i._isInstanceOf("FormData",n.formData)?r=n.formData:(r=new FormData,y.each(this._getFormData(n),function(e,t){r.append(t.name,t.value)})),n.blob?r.append(o,n.blob,e.name):y.each(n.files,function(e,t){(i._isInstanceOf("File",t)||i._isInstanceOf("Blob",t))&&r.append("array"===y.type(n.paramName)&&n.paramName[e]||o,t,t.uploadName||t.name)})),n.data=r):(n.contentType=e.type||"application/octet-stream",n.data=n.blob||e),n.blob=null},_initIframeSettings:function(e){var t=y("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=y(e.fileInput),r=e.paramName;return r?y.isArray(r)||(r=[r]):(r=[],t.each(function(){for(var e=y(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)r.push(t),n-=1}),r.length||(r=[t.prop("name")||"files[]"])),r},_initFormSettings:function(e){e.form&&e.form.length||(e.form=y(e.fileInput.prop("form")),e.form.length||(e.form=y(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===y.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=y.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var r=y.Deferred(),i=r.promise();return t=t||this.options.context||i,!0===e?r.resolveWith(t,n):!1===e&&r.rejectWith(t,n),i.abort=r.promise,this._enhancePromise(i)},_addConvenienceMethods:function(e,n){var r=this,i=function(e){return y.Deferred().resolveWith(r,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).then(function(){return n.errorThrown?y.Deferred().rejectWith(r,[n]).promise():i(arguments)}).then(e,t)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",y.Event("submit",{delegatedEvent:e}),this)&&r._onSend(e,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&1<n.length&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,a,s=this,n=o.files[0],p=n.size,c=o.uploadedBytes,l=o.maxChunkSize||p,u=this._blobSlice,d=y.Deferred(),r=d.promise();return!(!(this._isXHRUpload(o)&&u&&(c||l<p))||o.data)&&(!!e||(p<=c?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(a=function(){var r=y.extend({},o),i=r._progress.loaded;r.blob=u.call(n,c,c+l,n.type),r.chunkSize=r.blob.size,r.contentRange="bytes "+c+"-"+(c+r.chunkSize-1)+"/"+p,s._initXHRData(r),s._initProgressListener(r),t=(!1!==s._trigger("chunksend",null,r)&&y.ajax(r)||s._getXHRPromise(!1,r.context)).done(function(e,t,n){c=s._getUploadedBytes(n)||c+r.chunkSize,i+r.chunkSize-r._progress.loaded&&s._onProgress(y.Event("progress",{lengthComputable:!0,loaded:c-r.uploadedBytes,total:c-r.uploadedBytes}),r),o.uploadedBytes=r.uploadedBytes=c,r.result=e,r.textStatus=t,r.jqXHR=n,s._trigger("chunkdone",null,r),s._trigger("chunkalways",null,r),c<p?a():d.resolveWith(r.context,[e,t,n])}).fail(function(e,t,n){r.jqXHR=e,r.textStatus=t,r.errorThrown=n,s._trigger("chunkfail",null,r),s._trigger("chunkalways",null,r),d.rejectWith(r.context,[e,t,n])})},this._enhancePromise(r),r.abort=function(){return t.abort()},a(),r)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,r){var i=r._progress.total,o=r._response;r._progress.loaded<i&&this._onProgress(y.Event("progress",{lengthComputable:!0,loaded:i,total:i}),r),o.result=r.result=e,o.textStatus=r.textStatus=t,o.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,r,i,o,a=this,s=a._getAJAXSettings(t),p=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((r||!1===a._trigger("send",y.Event("send",{delegatedEvent:e}),s))&&a._getXHRPromise(!1,s.context,r)||a._chunkedUpload(s)||y.ajax(s)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._onAlways(e,t,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var r=a._slots.shift();r;){if("pending"===a._getDeferredState(r)){r.resolve();break}r=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(i=y.Deferred(),this._slots.push(i),o=i.then(p)):(this._sequence=this._sequence.then(p,p),o=this._sequence),o.abort=function(){return r=[undefined,"abort","abort"],n?n.abort():(i&&i.rejectWith(s.context,r),p())},this._enhancePromise(o)):p()},_onAdd:function(r,i){var o,e,a,t,s=this,p=!0,n=y.extend({},this.options,i),c=i.files,l=c.length,u=n.limitMultiFileUploads,d=n.limitMultiFileUploadSize,h=n.limitMultiFileUploadSizeOverhead,f=0,m=this._getParamName(n),g=0;if(!l)return!1;if(d&&c[0].size===undefined&&(d=undefined),(n.singleFileUploads||u||d)&&this._isXHRUpload(n))if(n.singleFileUploads||d||!u)if(!n.singleFileUploads&&d)for(a=[],o=[],t=0;t<l;t+=1)f+=c[t].size+h,(t+1===l||f+c[t+1].size+h>d||u&&u<=t+1-g)&&(a.push(c.slice(g,t+1)),(e=m.slice(g,t+1)).length||(e=m),o.push(e),g=t+1,f=0);else o=m;else for(a=[],o=[],t=0;t<l;t+=u)a.push(c.slice(t,t+u)),(e=m.slice(t,t+u)).length||(e=m),o.push(e);else a=[c],o=[m];return i.originalFiles=c,y.each(a||c,function(e,t){var n=y.extend({},i);return n.files=a?t:[t],n.paramName=o[e],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(r,n),p=s._trigger("add",y.Event("add",{delegatedEvent:r}),n)}),p},_replaceFileInput:function(e){var n=e.fileInput,r=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=r,y("<form></form>").append(r)[0].reset(),n.after(r).detach(),t&&r.focus(),y.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var e,r=this,i=y.Deferred(),o=[],a=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},s=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(a)},p=function(){e.readEntries(function(e){e.length?(o=o.concat(e),p()):s(o)},a)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},a):t.isDirectory?(e=t.createReader(),p()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(e,t){var n=this;return y.when.apply(y,y.map(e,function(e){return n._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(y.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):y.Deferred().resolve(y.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,r=(e=y(e)).prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((t=y.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&y.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return y.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return y.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof y&&1!==e.length?y.when.apply(y,y.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,r={fileInput:y(t.target),form:y(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r),!1!==n._trigger("change",y.Event("change",{delegatedEvent:t}),r)&&n._onAdd(t,r)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,r={files:[]};t&&t.length&&(y.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),!1!==this._trigger("paste",y.Event("paste",{delegatedEvent:e}),r)&&this._onAdd(e,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,r={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){r.files=e,!1!==n._trigger("drop",y.Event("drop",{delegatedEvent:t}),r)&&n._onAdd(t,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),y.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==y.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof y||(e.fileInput=y(e.fileInput)),e.dropZone instanceof y||(e.dropZone=y(e.dropZone)),e.pasteZone instanceof y||(e.pasteZone=y(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===y.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var i=this,o=this.options,a=this.element.data();y.each(this.element[0].attributes,function(e,t){var n,r=t.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=a[r],i._isRegExpOption(r,n)&&(n=i._getRegExp(n)),o[r]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=y.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=y.Deferred(),e=o.promise();return e.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){r||(e.length?(t.files=e,(n=i._onSend(null,t)).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})):o.reject())}),this._enhancePromise(e)}if(
t.files=y.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(p){"use strict";var r=0,t=p,n="parseJSON";"JSON"in window&&"parse"in JSON&&(t=JSON,n="parse"),p.ajaxTransport("iframe",function(i){if(i.async){var o,a,t,s=i.initialIframeSrc||"javascript:false;";return{send:function(e,n){(o=p('<form style="display:none;"></form>')).attr("accept-charset",i.formAcceptCharset),t=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+t+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+t+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+t+"_method=PATCH",i.type="POST"),a=p('<iframe src="'+s+'" name="iframe-transport-'+(r+=1)+'"></iframe>').bind("load",function(){var r,t=p.isArray(i.paramName)?i.paramName:[i.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}n(200,"success",{iframe:e}),p('<iframe src="'+s+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",a.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&p.each(i.formData,function(e,t){p('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(r=i.fileInput.clone(),i.fileInput.after(function(e){return r[e]}),i.paramName&&i.fileInput.each(function(e){p(this).prop("name",t[e]||i.paramName)}),o.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),o.submit(),r&&r.length&&i.fileInput.each(function(e,t){var n=p(r[e]);p(t).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(t)})}),o.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),o&&o.remove()}}}}),p.ajaxSetup({converters:{"iframe text":function(e){return e&&p(e[0].body).text()},"iframe json":function(e){return e&&t[n](p(e[0].body).text())},"iframe html":function(e){return e&&p(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&p.isXMLDoc(t)?t:p.parseXML(t.XMLDocument&&t.XMLDocument.xml||p(t.body).html())},"iframe script":function(e){return e&&p.globalEval(p(e[0].body).text())}}})}),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Socked=t():e.Socked=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),v=n(2).extend,x=n(3),C=n(49),w=n(50);e.exports=function(){function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};y(this,r),this.appId=e,this.options=this.setOptions(n||{}),this._channels={},this._socket=x(this.options.url?this.options.url:"ws"+(this.options.ssl?"s":"")+"://"+this.options.host+"/"+this.appId,this.options),this.subscribeEvents(),this._emitter=new w,this.connected=!1,this.connecting=!1}return b(r,[{key:"setOptions",value:function t(e){return v({host:"www.socked.io",path:"/app",ssl:!0,authUrl:"/authenticate",transports:["websocket"]},e)}},{key:"subscribeEvents",value:function e(){var t=this;this._socket.on("msg",function(e){e.channel&&t.channel(e.channel)&&t.channel(e.channel).handleEvent(e),t._emitter.emit(e.event,e)}).on("connecting",function(){t.connecting=!0,t._emitter.emit("connecting")}).on("internal:connect_success",function(){t.connecting=!1,t.connected=!0,t.subscribeAllChannels(),t._emitter.emit("connected")}).on("internal:connect_error",function(e){t.connecting=!1,t.connected=!1,t._emitter.emit("connect_error",e)}).on("disconnect",function(){t.unsubscribeAllChannels(),t.connecting=!1,t.connected=!1,t._emitter.emit("disconnected")}).on("error",function(e){t._emitter.emit("error",e)})}},{key:"unsubscribeAllChannels",value:function n(){var t=this;Object.keys(this._channels).forEach(function(e){t._channels[e].unsubscribe()})}},{key:"subscribeAllChannels",value:function i(){var t=this;Object.keys(this._channels).forEach(function(e){t._channels[e].subscribe()})}},{key:"unsubscribeEvents",value:function o(){this._socket.off("msg")}},{key:"connect",value:function a(){this.connecting||this._socket.connect()}},{key:"disconnect",value:function s(){this._socket.disconnect()}},{key:"channels",value:function p(){return this._channels}},{key:"channel",value:function c(e){return this._channels[e]}},{key:"subscribe",value:function l(e){var t=this.channel(e);return t||(this._channels[e]=t=this._createChannel(e)),t.subscriptionPending||t.subscribe(),t}},{key:"unsubscribe",value:function u(e){var t=this.channel(e);t&&(t.unsubscribe(),delete this._channels[e])}},{key:"trigger",value:function d(e,t,n,r,i){var o={event:e};t&&(o.data=t),r&&(o.sig=r),n&&(o.channel=n),i&&(o.toUserId=i),this._socket.emit("msg",o)}},{key:"on",value:function h(e,t){this._emitter.on(e,t)}},{key:"off",value:function f(e,t){this._emitter.off(e,t)}},{key:"once",value:function m(e,t){this._emitter.once(e,t)}},{key:"_createChannel",value:function g(e){return new C(e,this)}}]),r}()},function(e,t){"use strict";e.exports=t={},t.extend=function(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r=p(e),i=r.source,o=r.id,a=r.path,s=l[o]&&a in l[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=c(i,t):(l[o]||(l[o]=c(i,t)),n=l[o]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var p=n(4),i=n(7),c=n(18);n(6)("socket.io-client");e.exports=t=r;var l=t.managers={};t.protocol=i.protocol,t.connect=r,t.Manager=n(18),t.Socket=n(43)},function(t,e,n){(function(i){function e(e,t){var n=e;t=t||i.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==t?t.protocol+"//"+e:"https://"+e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}var o=n(5);n(6)("socket.io-client:url");t.exports=e}).call(e,function(){return this}())},function(e){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,p=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function c(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=s.exec(e||""),o={},a=14;a--;)o[p[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o}},function(e){"use strict";e.exports=function(){return function(){}}},function(e,s,t){function n(){}function o(e){var t=""+e.type;return s.BINARY_EVENT!==e.type&&s.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}function r(e,i){function t(e){var t=h.deconstructPacket(e),n=o(t.packet),r=t.buffers;r.unshift(n),i(r)}h.removeBlobs(e,t)}function i(){this.reconstructor=null}function a(e){var t=0,n={type:Number(e.charAt(0))};if(null==s.types[n.type])return l("unknown packet type "+n.type);if(s.BINARY_EVENT===n.type||s.BINARY_ACK===n.type){for(var r="";"-"!==e.charAt(++t)&&(r+=e.charAt(t),t!=e.length););if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1))for(n.nsp="";++t;){if(","===(o=e.charAt(t)))break;if(n.nsp+=o,t===e.length)break}else n.nsp="/";var i=e.charAt(t+1);if(""!==i&&Number(i)==i){for(n.id="";++t;){var o;if(null==(o=e.charAt(t))||Number(o)!=o){--t;break}if(n.id+=e.charAt(t),t===e.length)break}n.id=Number(n.id)}if(e.charAt(++t)){var a=p(e.substr(t));if(!(!1!==a&&(n.type===s.ERROR||f(a))))return l("invalid payload");n.data=a}return n}function p(e){try{return JSON.parse(e)}catch(t){return!1}}function c(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:s.ERROR,data:"parser error: "+e}}t(6)("socket.io-parser");var u=t(8),d=t(9),h=t(15),f=t(16),m=t(17);s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=n,s.Decoder=i,n.prototype.encode=function(e,t){(e.type!==s.EVENT&&e.type!==s.ACK||!d(e.data)||(e.type=e.type===s.EVENT?s.BINARY_EVENT:s.BINARY_ACK),s.BINARY_EVENT===e.type||s.BINARY_ACK===e.type)?r(e,t):t([o(e)])},u(i.prototype),i.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),s.BINARY_EVENT===t.type||s.BINARY_ACK===t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(t,e,n){(function(i){function o(e){if(!e||"object"!=typeof e)return!1;if(a(e)){for(var t=0,n=e.length;t<n;t++)if(o(e[t]))return!0;return!1}if("function"==typeof i&&i.isBuffer&&i.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||p&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return o(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&o(e[r]))return!0;return!1}var a=n(14),e=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),p="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);t.exports=o}).call(e,n(10).Buffer)},function(e,et,tt){(function(e){"use strict";function t(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function n(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?l(e,t,n,r):"string"==typeof t?p(e,t,n):d(e,t)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t,n,r){return i(t),t<=0?o(e,t):n!==undefined?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function s(e,t){if(i(t),e=o(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n),i=(e=o(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function c(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=n===undefined&&r===undefined?new Uint8Array(t):r===undefined?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=c(e,t),e}function d(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?o(e,0):c(e,t);if("Buffer"===t.type&&Q(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e){return+e!=e&&(e=0),u.alloc(+e)}function m(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((t===undefined||t<0)&&(t=0),t>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return z(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,p=e.length,c=t.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;p/=s=2,c/=2,n/=2}if(i){var l=-1;for(a=n;a<p;a++)if(o(e,a)===o(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(p<n+c&&(n=p-c),a=n;0<=a;a--){for(var u=!0,d=0;d<c;d++)if(o(e,a+d)!==o(t,d)){u=!1;break}if(u)return a}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function C(e,t,n,r){return K(V(t,e.length-n),e,n,r)}function w(e,t,n,r){return K(H(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function _(e,t,n,r){return K($(t),e,n,r)}function T(e,t,n,r){return K(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,p,c=e[i],l=null,u=239<c?4:223<c?3:191<c?2:1;if(i+u<=n)switch(u){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&127<(p=(31&c)<<6|63&o)&&(l=p);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(p=(15&c)<<12|(63&o)<<6|63&a)&&(p<55296||57343<p)&&(l=p);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(p=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&p<1114112&&(l=p)}null===l?(l=65533,u=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=u}return R(r)}function R(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function z(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=q(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||j(e,t,n,4,34028234663852886e22,-34028234663852886e22),X.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||j(e,t,n,8,17976931348623157e292,-17976931348623157e292),X.write(e,t,n,r,52,8),n+8}function F(e){if((e=B(e).replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||Infinity;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function $(e){return G.toByteArray(F(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e){return e!=e}var G=tt(11),X=tt(12),Q=tt(13);et.Buffer=u,et.SlowBuffer=f,et.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:t(),et.kMaxLength=n(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return r(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return a(null,e,t,n)},u.allocUnsafe=function(e){return s(null,e)},u.allocUnsafeSlow=function(e){return s(null,e)},u.isBuffer=function ee(e){return!(null==e||!e._isBuffer)},u.compare=function te(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function ne(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function re(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(t===undefined)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function ie(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function oe(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function ae(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function se(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):g.apply(this,arguments)},u.prototype.equals=function pe(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function ce(){var e="",t=et.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function te(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===undefined&&(t=0),n===undefined&&(n=e?e.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),p=this.slice(r,i),c=e.slice(t,n),l=0;l<s;++l)if(p[l]!==c[l]){o=p[l],a=c[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function le(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function ue(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function de(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function he(e,t,n,r){if(t===undefined)r="utf8",n=this.length,t=0;else if(n===undefined&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-t;if((n===undefined||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function fe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;u.prototype.slice=function me(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=t===undefined?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,undefined);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function ge(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function ye(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function be(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function ve(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function xe(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function Ce(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function we(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function Ee(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function _e(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function Te(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function Se(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function Ne(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function Re(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function ke(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function Oe(e,t){return t||I(e,4,this.length),X.read(this,e,!0,23,4)},u.prototype.readFloatBE=function ze(e,t){return t||I(e,4,this.length),X.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function Ae(e,t){return t||I(e,8,this.length),X.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function Ie(e,t){return t||I(e,8,this.length),X.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function De(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function Pe(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function Me(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function je(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function Le(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function Ue(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function Fe(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function Be(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function qe(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function Ve(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function He(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function We(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function $e(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function Ke(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function Ye(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function Ge(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function Xe(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function Qe(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function Je(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function Ze(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===undefined?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var Z=/[^+\/0-9A-Za-z-_]/g}).call(et,function(){return this}())},function(e,t){"use strict";function p(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){
return 3*e.length/4-p(e)}function r(e){var t,n,r,i,o,a=e.length;i=p(e),o=new d(3*a/4-i),n=0<i?a-4:a;var s=0;for(t=0;t<n;t+=4)r=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],o[s++]=r>>16&255,o[s++]=r>>8&255,o[s++]=255&r;return 2===i?(r=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,o[s++]=255&r):1===i&&(r=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,o[s++]=r>>8&255,o[s++]=255&r),o}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function c(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function i(e){for(var t,n=e.length,r=n%3,i="",o=[],a=16383,s=0,p=n-r;s<p;s+=a)o.push(c(e,s,p<s+a?p:s+a));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=n,t.toByteArray=r,t.fromByteArray=i;for(var l=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=o.length;s<h;++s)l[s]=o[s],u[o.charCodeAt(s)]=s;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,p=(1<<s)-1,c=p>>1,l=-7,u=n?i-1:0,d=n?-1:1,h=e[t+u];for(u+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;0<l;o=256*o+e[t+u],u+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+e[t+u],u+=d,l-=8);if(0===o)o=1-c;else{if(o===p)return a?NaN:(h?-1:1)*Infinity;a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,p,c=8*o-i-1,l=(1<<c)-1,u=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-a))<1&&(a--,p*=2),2<=(t+=1<=a+u?d/p:d*Math.pow(2,1-u))*p&&(a++,p/=2),l<=a+u?(s=0,a=l):1<=a+u?(s=(t*p-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));8<=i;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,n,r){(function(e){function a(e,t){if(!e)return e;if(u(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(l(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=a(e[i],t);return r}if("object"!=typeof e||e instanceof Date)return e;r={};for(var o in e)r[o]=a(e[o],t);return r}function i(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(l(e))for(var n=0;n<e.length;n++)e[n]=i(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=i(e[r],t);return e}var l=r(16),u=r(17),t=Object.prototype.toString,d="function"==typeof e.Blob||"[object BlobConstructor]"===t.call(e.Blob),h="function"==typeof e.File||"[object FileConstructor]"===t.call(e.File);n.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=a(n,t),r.attachments=t.length,{packet:r,buffers:t}},n.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=undefined,e},n.removeBlobs=function(e,a){function s(e,t,n){if(!e)return e;if(d&&e instanceof Blob||h&&e instanceof File){p++;var r=new FileReader;r.onload=function(){n?n[t]=this.result:c=this.result,--p||a(c)},r.readAsArrayBuffer(e)}else if(l(e))for(var i=0;i<e.length;i++)s(e[i],i,e);else if("object"==typeof e&&!u(e))for(var o in e)s(e[o],o,e)}var p=0,c=e;s(c),p||a(c)}}).call(n,function(){return this}())},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(n,e){(function(t){function e(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))}n.exports=e}).call(e,function(){return this}())},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"==typeof e&&(t=e,e=undefined),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var s=n(19),o=n(43),i=n(44),a=n(7),p=n(46),c=n(47),l=(n(6)("socket.io-client:manager"),n(42)),u=n(48),d=Object.prototype.hasOwnProperty;(e.exports=r).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(n){if(~this.readyState.indexOf("open"))return this;this.engine=s(this.uri,this.opts);var e=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var t=p(e,"open",function(){r.onopen(),n&&n()}),i=p(e,"error",function(e){if(r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout,a=setTimeout(function(){t.destroy(),e.close(),e.emit("error","timeout"),r.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(t),this.subs.push(i),this},r.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(p(e,"data",c(this,"ondata"))),this.subs.push(p(e,"ping",c(this,"onping"))),this.subs.push(p(e,"pong",c(this,"onpong"))),this.subs.push(p(e,"error",c(this,"onerror"))),this.subs.push(p(e,"close",c(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~l(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new o(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(n){var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)r.engine.write(e[t],n.options);r.encoding=!1,r.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):t.onreconnect()}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(t,e,n){(function(r){function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=p(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=p(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized===undefined||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof r&&r;n.global===n&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(21),e=n(35),a=(n(6)("engine.io-client:socket"),n(42)),s=n(27),p=n(5),c=n(36);(t.exports=u).priorWebsocketSuccess=!1,e(u.prototype),u.protocol=s.protocol,(u.Socket=u).Transport=n(26),u.transports=n(21),u.parser=n(27),u.prototype.createTransport=function(e){var t=i(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new o[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){var t=this;this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},u.prototype.probe=function(e){function t(){if(l.onlyBinaryUpgrades){var e=!this.supportsBinary&&l.transport.supportsBinary;c=c||e}c||(p.send([{type:"ping",data:"probe"}]),p.once("packet",function(e){if(!c)if("pong"===e.type&&"probe"===e.data){if(l.upgrading=!0,l.emit("upgrading",p),!p)return;u.priorWebsocketSuccess="websocket"===p.name,l.transport.pause(function(){c||"closed"!==l.readyState&&(s(),l.setTransport(p),p.send([{type:"upgrade"}]),l.emit("upgrade",p),p=null,l.upgrading=!1,l.flush())})}else{var t=new Error("probe error");t.transport=p.name,l.emit("upgradeError",t)}}))}function n(){c||(c=!0,s(),p.close(),p=null)}function r(e){var t=new Error("probe error: "+e);t.transport=p.name,n(),l.emit("upgradeError",t)}function i(){r("transport closed")}function o(){r("socket closed")}function a(e){p&&e.name!==p.name&&n()}function s(){p.removeListener("open",t),p.removeListener("error",r),p.removeListener("close",i),l.removeListener("close",o),l.removeListener("upgrading",a)}var p=this.createTransport(e,{probe:1}),c=!1,l=this;u.priorWebsocketSuccess=!1,p.once("open",t),p.once("error",r),p.once("close",i),this.once("close",o),this.once("upgrading",a),p.open()},u.prototype.onOpen=function(){if(this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=undefined),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){function e(){r.onClose("forced close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},u.prototype.onError=function(e){u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(e,function(){return this}())},function(e,n,r){(function(a){function e(e){var t=!1,n=!1,r=!1!==e.jsonp;if(a.location){var i="https:"===location.protocol,o=location.port;o||(o=i?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==i}if(e.xdomain=t,e.xscheme=n,"open"in new s(e)&&!e.forceJSONP)return new p(e);if(!r)throw new Error("JSONP disabled");return new c(e)}var s=r(22),p=r(24),c=r(39),t=r(40);n.polling=e,n.websocket=t}).call(n,function(){return this}())},function(e,t,n){(function(o){var a=n(23);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(i){}if(!t)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}}).call(t,function(){return this}())},function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(c,e,l){(function(o){function n(){}function e(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,o.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==o.location.hostname||n!==e.port,this.xs=e.secure!==t}}function a(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=undefined!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function t(){for(var e in a.requests)a.requests.hasOwnProperty(e)&&a.requests[e].abort()}var s=l(22),r=l(25),i=l(35),p=l(37);l(6)("engine.io-client:polling-xhr");c.exports=e,c.exports.Request=a,p(e,r),e.prototype.supportsBinary=!0,e.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new a(e)},e.prototype.doWrite=function(e,t){var n="string"!=typeof e&&e!==undefined,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},e.prototype.doPoll=function(){var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},i(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(i){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},t.send(this.data)}catch(i){return void setTimeout(function(){n.onError(i)},0)}o.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},a.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},a.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}o.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},a.prototype.hasXDR=function(){return"undefined"!=typeof o.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},a.requestsCount=0,a.requests={},o.document&&(o.attachEvent?o.attachEvent("onunload",t):o.addEventListener&&o.addEventListener("beforeunload",t,!1))}).call(e,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(26),o=n(36),a=n(27),s=n(37),p=n(38);n(6)("engine.io-client:polling");e.exports=r;var c=null!=new(n(22))({xdomain:!1}).responseType;s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()},r.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this,n=function(e){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},r.prototype.doClose=function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=p()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(27);n(35)((e.exports=r).prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,C,r){(function(c){function a(e,t){return t("b"+C.packets[e.type]+e.data.data)}function s(e,t,n){if(!t)return C.encodeBase64Packet(e,n);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=y[e.type];for(var a=0;a<i.length;a++)o[a+1]=i[a];return n(o.buffer)}function i(e,t,n){if(!t)return C.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,C.encodePacket(e,t,!0,n)},r.readAsArrayBuffer(e.data)}function p(e,t,n){if(!t)return C.encodeBase64Packet(e,n);if(g)return i(e,t,n);var r=new Uint8Array(1);return r[0]=y[e.type],n(new x([r.buffer,e.data]))}function o(e){try{e=m.decode(e,{strict:!1})}catch(t){return!1}return e}function l(e,t,n){for(var i=new Array(e.length),r=f(e.length,n),o=function(n,e,r){t(e,function(e,t){i[n]=t,r(e,i)})},a=0;a<e.length;a++)o(a,e[a],r)}var u,e=r(28),d=r(9),h=r(29),f=r(30),m=r(31);c&&c.ArrayBuffer&&(u=r(33));var t="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),n="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=t||n;C.protocol=3;var y=C.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=e(y),v={type:"error",data:"parser error"},x=r(34);C.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var i=e.data===undefined?undefined:e.data.buffer||e.data;if(c.ArrayBuffer&&i instanceof ArrayBuffer)return s(e,t,r);if(x&&i instanceof c.Blob)return p(e,t,r);if(i&&i.base64)return a(e,r);var o=y[e.type];return undefined!==e.data&&(o+=n?m.encode(String(e.data),{strict:!1}):String(e.data)),r(""+o)},C.encodeBase64Packet=function(e,t){var n,r="b"+C.packets[e.type];if(x&&e.data instanceof c.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];t(r+e)},i.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(p){for(var o=new Uint8Array(e.data),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o[s];n=String.fromCharCode.apply(null,a)}return r+=c.btoa(n),t(r)},C.decodePacket=function(e,t,n){if(e===undefined)return v;if("string"==typeof e){if("b"===e.charAt(0))return C.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=o(e)))return v;var r=e.charAt(0);return Number(r)==r&&b[r]?1<e.length?{type:b[r],data:e.substring(1)}:{type:b[r]}:v}r=new Uint8Array(e)[0];var i=h(e,1);return x&&"blob"===t&&(i=new x([i])),{type:b[r],data:i}},C.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=u.decode(e.substr(1));return"blob"===t&&x&&(r=new x([r])),{type:n,data:r}},C.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function t(e,t){C.encodePacket(e,!!o&&n,!1,function(e){t(null,i(e))})}"function"==typeof n&&(r=n,n=null);var o=d(e);return n&&o?x&&!g?C.encodePayloadAsBlob(e,r):C.encodePayloadAsArrayBuffer(e,r):e.length?void l(e,t,function(e,t){return r(t.join(""))}):r("0:")},C.decodePayload=function(e,t,n){if("string"!=typeof e)return C.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""===e)return n(v,0,1);for(var i,o,a="",s=0,p=e.length;s<p;s++){var c=e.charAt(s);if(":"===c){if(""===a||a!=(i=Number(a)))return n(v,0,1);if(a!=(o=e.substr(s+1,i)).length)return n(v,0,1);if(o.length){if(r=C.decodePacket(o,t,!1),v.type===r.type&&v.data===r.data)return n(v,0,1);if(!1===n(r,s+i,p))return}s+=i,a=""}else a+=c}return""!==a?n(v,0,1):void 0},C.encodePayloadAsArrayBuffer=function(e,r){function t(e,t){C.encodePacket(e,!0,!0,function(e){return t(null,e)})}if(!e.length)return r(new ArrayBuffer(0));l(e,t,function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),a=new Uint8Array(n),s=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}a[s++]=t?0:1;var o=n.byteLength.toString();for(i=0;i<o.length;i++)a[s++]=parseInt(o[i]);a[s++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)a[s++]=r[i]}),r(a.buffer)})},C.encodePayloadAsBlob=function(e,n){function t(e,s){C.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,x){var a=new x([t.buffer,o.buffer,e]);s(null,a)}})}l(e,t,function(e,t){return n(new x(t))})},C.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var t=e,i=[];0<t.byteLength;){for(var o=new Uint8Array(t),a=0===o[0],s="",p=1;255!==o[p];p++){if(310<s.length)return r(v,0,1);s+=o[p]}t=h(t,2+s.length),s=parseInt(s);var c=h(t,0,s);if(a)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch(d){var l=new Uint8Array(c);c="";for(p=0;p<l.length;p++)c+=String.fromCharCode(l[p])}i.push(c),t=h(t,s)}var u=i.length;i.forEach(function(e,t){r(C.decodePacket(e,n,!0),t,u)})}}).call(C,function(){return this}())},function(e){e.exports=Object.keys||function i(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),r<n&&(n=r),r<=t||n<=t||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e){function t(e,n,r){function i(e,t){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,n(e),n=r):0!==i.count||o||n(null,t)}var o=!1;return r=r||a,0===(i.count=e)?n():i}function a(){}e.exports=t},
function(e,b,v){var x;(function(g,y){!function(){function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function o(e){for(var t,n=e.length,r=-1,i="";++r<n;)65535<(t=e[r])&&(i+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=f(t);return i}function r(e,t){if(55296<=e&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(e,t){return f(e>>t&63|128)}function p(e,t){if(0==(4294967168&e))return f(e);var n="";return 0==(4294965248&e)?n=f(e>>6&31|192):0==(4294901760&e)?(r(e,t)||(e=65533),n=f(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=f(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+=f(63&e|128)}function e(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),i=r.length,o=-1,a="";++o<i;)a+=p(r[o],n);return a}function a(){if(d<=h)throw Error("Invalid byte index");var e=255&u[h];if(h++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(e){var t,n;if(d<h)throw Error("Invalid byte index");if(h==d)return!1;if(t=255&u[h],h++,0==(128&t))return t;if(192==(224&t)){if(128<=(n=(31&t)<<6|a()))return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(n=(15&t)<<12|a()<<6|a()))return r(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(n=(7&t)<<18|a()<<12|a()<<6|a())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function t(e,t){var n=!1!==(t=t||{}).strict;u=s(e),d=u.length,h=0;for(var r,i=[];!1!==(r=c(n));)i.push(r);return o(i)}var n="object"==typeof b&&b,l=("object"==typeof g&&g&&g.exports,"object"==typeof y&&y);l.global!==l&&l.window;var u,d,h,f=String.fromCharCode,m={version:"2.1.2",encode:e,decode:t};(x=function(){return m}.call(b,v,b,g))===undefined||(g.exports=x)}()}).call(b,v(32)(e),function(){return this}())},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256),e=0;e<o.length;e++)u[o.charCodeAt(e)]=e;t.encode=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=o[n[t]>>2],i+=o[(3&n[t])<<4|n[t+1]>>4],i+=o[(15&n[t+1])<<2|n[t+2]>>6],i+=o[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=u[e.charCodeAt(t)],r=u[e.charCodeAt(t+1)],i=u[e.charCodeAt(t+2)],o=u[e.charCodeAt(t+3)],l[p++]=n<<2|r>>4,l[p++]=(15&r)<<4|i>>2,l[p++]=(3&i)<<6|63&o;return c}}()},function(p,e){(function(e){function i(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function t(e,t){t=t||{};var n=new o;i(e);for(var r=0;r<e.length;r++)n.append(e[r]);return t.type?n.getBlob(t.type):n.getBlob()}function n(e,t){return i(e),new Blob(e,t||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),s=o&&o.prototype.append&&o.prototype.getBlob;p.exports=r?a?e.Blob:n:s?t:undefined}).call(e,function(){return this}())},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){"use strict";function t(e){for(var t="";t=o[e%a]+t,0<(e=Math.floor(e/a)););return t}function n(e){var t=0;for(c=0;c<e.length;c++)t=t*a+s[e.charAt(c)];return t}function r(){var e=t(+new Date);return e!==i?(p=0,i=e):e+"."+t(p++)}for(var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},p=0,c=0;c<a;c++)s[o[c]]=c;r.encode=t,r.decode=n,e.exports=r},function(a,e,s){(function(n){function r(){}function e(e){i.call(this,e),this.query=this.query||{},o||(n.___eio||(n.___eio=[]),o=n.___eio),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=s(25),t=s(37);a.exports=e;var o,l=/\n/g,u=/\\n/g;t(e,i),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},e.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},e.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(t){(o=document.createElement("iframe")).name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=p,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(u,e,d){(function(a){function e(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=p&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(c=t),n.call(this,e)}var t,n=d(26),s=d(27),r=d(36),i=d(37),o=d(38),p=(d(6)("engine.io-client:websocket"),a.WebSocket||a.MozWebSocket);if("undefined"==typeof window)try{t=d(41)}catch(l){}var c=p;c||"undefined"!=typeof window||(c=t),i(u.exports=e,n),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new c(e,t):new c(e):new c(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType===undefined&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},e.prototype.write=function(e){function r(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var o=e.length,t=0,n=o;t<n;t++)!function(n){s.encodePacket(n,i.supportsBinary,function(e){if(!i.usingBrowserWebSocket){var t={};if(n.options&&(t.compress=n.options.compress),i.perMessageDeflate)("string"==typeof e?a.Buffer.byteLength(e):e.length)<i.perMessageDeflate.threshold&&(t.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(e):i.ws.send(e,t)}catch(l){}--o||r()})}(e[t])},e.prototype.onClose=function(){n.prototype.onClose.call(this)},e.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},e.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=o()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},e.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===e.prototype.name)}}).call(e,function(){return this}())},function(){},function(e){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(7),o=n(44),a=n(45),s=n(46),p=n(47),c=(n(6)("socket.io-client:socket"),n(36));e.exports=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",p(this,"onopen")),s(e,"packet",p(this,"onpacket")),s(e,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(l.hasOwnProperty(e))return u.apply(this,arguments),this;var t=a(arguments),n={type:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(t){var n=this,r=!1;return function(){if(!r){r=!0;var e=a(arguments);n.packet({type:i.ACK,id:t,data:e})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&this.packet({type:i.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){function t(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=t},function(e){function t(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=t},function(e){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=t).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=n(50),l=n(51),i=function(){function n(e,t){p(this,n),this.name=e,this.socked=t,this.subscribed=!1,this.subscriptionPending=!1,this.user={},this.users=new l(this)}return c(n,[{key:"isPresence",value:function e(){return 0===this.name.indexOf("presence-")}},{key:"authorize",value:function i(t){var n=new XMLHttpRequest,e=this.socked.options.authUrl+"?app="+encodeURIComponent(this.socked.appId)+"&channel="+encodeURIComponent(this.name)+"&socket_id="+encodeURIComponent(this.socked._socket.id);if(this.socked.options.auth&&this.socked.options.auth.params)for(var r in this.socked.options.auth.params)e+="&"+encodeURIComponent(r)+"="+encodeURIComponent("function"==typeof this.socked.options.auth.params[r]?this.socked.options.auth.params[r]():this.socked.options.auth.params[r]);n.open("GET",e,!0),n.onload=function(){if(200<=n.status&&n.status<400){var e=JSON.parse(n.responseText);e&&!e.error?t(null,e.sig,e.user):t({code:401,error:"Authentication error."})}else t({code:n.status,error:"Authentication error."})},n.send()}},{key:"subscribe",value:function t(){var r=this;if(!this.subscribed&&!this.subscriptionPending){if(!this.socked.connected)throw"Socked is not connected.";this.subscriptionPending=!0,this.authorize(function(e,t,n){e?r.subscriptionPending=!1:(r.socked.trigger("subscribe",{user:n},r.name,t),r.socked.options&&r.socked.options.auth&&r.socked.options.auth.callback&&r.socked.options.auth.callback(n))})}}},{key:"unsubscribe",value:function r(){this.subscriptionPending=!1,this.subscribed&&(this.subscribed=!1,this.users.clear(),this.socked.trigger("unsubscribe",null,this.name))}},{key:"handleEvent",value:function o(e){0===e.event.indexOf("internal:")?"internal:subscription_success"===e.event?(this.subscriptionPending=!1,this.subscribed=!0,this.user=e.user,e.users&&(this.users.clear(),this.users.addUsers(e.users))):"internal:subscription_error"===e.event&&(this.subscriptionPending=!1,this.subscribed=!1):"subscribed_channel"==e.event?this.users.addUser(e.user):"unsubscribed_channel"==e.event&&this.users.removeUser(e.user),this.emit(e.event,e)}},{key:"trigger",value:function a(e,t,n){if(!this.subscribed)throw new Error("Unable to send message. Channel '"+this.name+"' is not subscribed.");if(0!==e.indexOf("client-")&&0!==e.indexOf("private-"))throw new Error("Unable to send message. Event name must begin with 'client-' or 'private-'.");this.socked.trigger(e,t,this.name,null,n)}},{key:"event",value:function s(e,t){if(!this.subscribed)throw new Error("Unable to send event. Channel '"+this.name+"' is not subscribed.");var n=JSON.parse(JSON.stringify(t));n.event=e,this.socked.trigger("event",n,this.name)}}]),n}();r(i.prototype),e.exports=i},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),c=n(52),r=function(){function t(e){s(this,t),this.channel=e,this.users={}}return p(t,[{key:"addUsers",value:function n(e){this.users=c(this.users,e||{})}},{key:"addUser",value:function r(e){this.users[e.id]=e}},{key:"getUsers",value:function e(){var t=this;return Object.keys(this.users).map(function(e){return t.users[e]})}},{key:"removeUser",value:function i(e){delete this.users[e.id]}},{key:"count",value:function o(){return Object.keys(this.users).length}},{key:"clear",value:function a(){this.users={}}}]),t}();e.exports=r},function(e){"use strict";function s(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=t()?Object.assign:function(e){for(var t,n,r=s(e),i=1;i<arguments.length;i++){for(var o in t=Object(arguments[i]))c.call(t,o)&&(r[o]=t[o]);if(p){n=p(t);for(var a=0;a<n.length;a++)l.call(t,n[a])&&(r[n[a]]=t[n[a]])}}return r}}])});var GLOBAL="undefined"==typeof window?global:window,setter=function(r,i,o){return function(e,t){var n=r(function(){i.call(this,n),e.apply(this,arguments)}.bind(this),t);return this[o]?this[o].push(n):this[o]=[n],n}},clearer=function(n,r){return function(e){if(this[r]){var t=this[r].indexOf(e);-1!==t&&this[r].splice(t,1)}n(e)}},_timeouts="TimerMixin_timeouts",_clearTimeout=clearer(GLOBAL.clearTimeout,_timeouts),_setTimeout=setter(GLOBAL.setTimeout,_clearTimeout,_timeouts),_intervals="TimerMixin_intervals",_clearInterval=clearer(GLOBAL.clearInterval,_intervals),_setInterval=setter(GLOBAL.setInterval,function(){},_intervals),_immediates="TimerMixin_immediates",_clearImmediate=clearer(GLOBAL.clearImmediate,_immediates),_setImmediate=setter(GLOBAL.setImmediate,_clearImmediate,_immediates),_rafs="TimerMixin_rafs",_cancelAnimationFrame=clearer(GLOBAL.cancelAnimationFrame,_rafs),_requestAnimationFrame=setter(GLOBAL.requestAnimationFrame,_cancelAnimationFrame,_rafs),TimerMixin={componentWillUnmount:function(){this[_timeouts]&&this[_timeouts].forEach(function(e){GLOBAL.clearTimeout(e)}),this[_timeouts]=null,this[_intervals]&&this[_intervals].forEach(function(e){GLOBAL.clearInterval(e)}),this[_intervals]=null,this[_immediates]&&this[_immediates].forEach(function(e){GLOBAL.clearImmediate(e)}),this[_immediates]=null,this[_rafs]&&this[_rafs].forEach(function(e){GLOBAL.cancelAnimationFrame(e)}),this[_rafs]=null},setTimeout:_setTimeout,clearTimeout:_clearTimeout,setInterval:_setInterval,clearInterval:_clearInterval,setImmediate:_setImmediate,clearImmediate:_clearImmediate,requestAnimationFrame:_requestAnimationFrame,cancelAnimationFrame:_cancelAnimationFrame};!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flux=t():e.Flux=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";e.exports.Dispatcher=n(1)},function(e,t,n){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var l=n(2),u="ID_",r=function(){function e(){c(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function n(e){var t=u+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function t(e){this._callbacks[e]?undefined:l(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function r(e){this._isDispatching?undefined:l(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?undefined:l(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]?undefined:l(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function i(e){this._isDispatching?l(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):undefined,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function o(){return this._isDispatching},e.prototype._invokeCallback=function a(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function s(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function p(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(t===undefined)throw new Error("invariant requires an error message argument");if(!e){var p;if(t===undefined)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}e.exports=t}])}),"function"==typeof Node&&Node.prototype&&function(){var t=Node.prototype.removeChild;Node.prototype.removeChild=function(e){return e.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",e,this),e):t.apply(this,arguments)};var n=Node.prototype.insertBefore;Node.prototype.insertBefore=function(e,t){return t&&t.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",t,this),e):n.apply(this,arguments)}}(),window._ReactOriginal=window.React||null,window._ReactDOMOriginal=window.ReactDOM||null,window._createReactClassOriginal=window.createReactClass||null,window._PropTypesOriginal=window.PropTypes||null,function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){var r=n(4),i=n(23),o=n(7),a=n(9);window.React=r,window.ReactDOM=i,window.createReactClass=o,window.PropTypes=a},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(u(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}var u=function(){};e.exports=t},function(e){"use strict";function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=t()?Object.assign:function(e){for(var t,n,r=s(e),i=1;i<arguments.length;i++){for(var o in t=Object(arguments[i]))c.call(t,o)&&(r[o]=t[o]);if(p){n=p(t);for(var a=0;a<n.length;a++)l.call(t,n[a])&&(r[n[a]]=t[n[a]])}}return r}},function(e,t,n){"use strict";e.exports=n(11)},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";function x(e){return e}function r(e,c,o){function l(e,t){var n=f.hasOwnProperty(t)?f[t]:null;i.hasOwnProperty(t)&&E("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&E("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function r(e,t){if(t){E("function"!=typeof t,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),E(!c(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,r=n.__reactAutoBindPairs;for(var i in t.hasOwnProperty(_)&&g.mixins(e,t.mixins),t)if(t.hasOwnProperty(i)&&i!==_){var o=t[i],a=n.hasOwnProperty(i);if(l(a,i),g.hasOwnProperty(i))g[i](e,o);else{var s=f.hasOwnProperty(i);if("function"==typeof o&&!s&&!a&&!1!==t.autobind)r.push(i,o),n[i]=o;else if(a){var p=f[i];E(s&&("DEFINE_MANY_MERGED"===p||"DEFINE_MANY"===p),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,i),"DEFINE_MANY_MERGED"===p?n[i]=u(n[i],o):"DEFINE_MANY"===p&&(n[i]=d(n[i],o))}else n[i]=o}}}}function n(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(E(!(n in g),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var i=m.hasOwnProperty(n)?m[n]:null;return E("DEFINE_MANY_MERGED"===i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=u(e[n],r))}e[n]=r}}}function a(e,t){for(var n in E(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(E(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function u(r,i){return function(){var e=r.apply(this,arguments),t=i.apply(this,arguments);if(null==e)return t;if(null==t)return e;var n={};return a(n,e),a(n,t),n}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function s(e,t){return t.bind(e)}function p(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=s(e,i)}}function t(e){var i=x(function(e,t,n){this.__reactAutoBindPairs.length&&p(this),this.props=e,this.context=t,this.refs=w,this.updater=n||o,this.state=null;var r=this.getInitialState?this.getInitialState():null;E("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",i.displayName||"ReactCompositeComponent"),this.state=r});for(var t in i.prototype=new v,(i.prototype.constructor=i).prototype.__reactAutoBindPairs=[],h.forEach(r.bind(null,i)),r(i,y),r(i,e),r(i,b),
i.getDefaultProps&&(i.defaultProps=i.getDefaultProps()),E(i.prototype.render,"createClass(...): Class specification must implement a `render` method."),f)i.prototype[t]||(i.prototype[t]=null);return i}var h=[],f={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},m={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=C({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=C({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=C({},e.propTypes,t)},statics:function(e,t){n(e,t)},autobind:function(){}},y={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},i={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},v=function(){};return C(v.prototype,e.prototype,i),t}var C=n(3),w=n(1),E=n(2),_="mixins";e.exports=r},function(e,t,n){"use strict";var r=n(4),i=n(6);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";function r(){}var s=n(10);e.exports=function(){function e(e,t,n,r,i,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){e.exports=n(8)()},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function l(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);b(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||A}function i(){}function o(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||A}function a(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var p=Array(s),c=0;c<s;c++)p[c]=arguments[c+2];i.children=p}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:e,key:o,ref:a,props:i,_owner:D.current}}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function p(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function c(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,L.length<10&&L.push(e)}function d(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case w:case E:o=!0}}if(o)return n(r,e,""===t?"."+h(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+h(i=e[a],a);o+=d(i,s,n,r)}else if(null==e?s=null:s="function"==typeof(s=z&&e[z]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(i=e.next()).done;)o+=d(i=i.value,s=t+h(i,a++),n,r);else"object"===i&&l("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?p(e.key):t.toString(36)}function f(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,r,n,x.thatReturnsArgument):null!=e&&(s(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function g(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),t=c(t,o,r,i),null==e||d(e,"",m,t),u(t)}var y=n(3),b=n(2),v=n(1),x=n(5),C="function"==typeof Symbol&&Symbol["for"],w=C?Symbol["for"]("react.element"):60103,E=C?Symbol["for"]("react.portal"):60106,_=C?Symbol["for"]("react.fragment"):60107,T=C?Symbol["for"]("react.strict_mode"):60108,S=C?Symbol["for"]("react.profiler"):60114,N=C?Symbol["for"]("react.provider"):60109,R=C?Symbol["for"]("react.context"):60110,k=C?Symbol["for"]("react.async_mode"):60111,O=C?Symbol["for"]("react.forward_ref"):60112;C&&Symbol["for"]("react.timeout");var z="function"==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&l("85"),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=r.prototype;var I=o.prototype=new i;I.constructor=o,y(I,r.prototype),I.isPureReactComponent=!0;var D={current:null},P=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},j=/\/+/g,L=[],U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=c(null,null,t,n),null==e||d(e,"",f,t),void u(t))},count:function(e){return null==e?0:d(e,"",x.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,x.thatReturnsArgument),t},only:function(e){return s(e)||l("143"),e}},createRef:function(){return{current:null}},Component:r,PureComponent:o,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:R,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:N,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:O,render:e}},Fragment:_,StrictMode:T,unstable_AsyncMode:k,unstable_Profiler:S,createElement:a,cloneElement:function(e,t,n){null==e&&l("267",e);var r=void 0,i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=D.current),void 0!==t.key&&(o=""+t.key);var p=void 0;for(r in e.type&&e.type.defaultProps&&(p=e.type.defaultProps),t)P.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=void 0===t[r]&&void 0!==p?p[r]:t[r])}if(1===(r=arguments.length-2))i.children=n;else if(1<r){p=Array(r);for(var c=0;c<r;c++)p[c]=arguments[c+2];i.children=p}return{$$typeof:w,type:e.type,key:o,ref:a,props:i,_owner:s}},createFactory:function(e){var t=a.bind(null,e);return t.type=e,t},isValidElement:s,version:"16.4.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:D,assign:y}},F={"default":U},B=F&&U||F;e.exports=B["default"]?B["default"]:B},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(18);e.exports=r},function(e){"use strict";function t(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=t},,,function(e){"use strict";function t(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(17);e.exports=r},,function(e){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function t(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!a.call(t,n[i])||!o(e[n[i]],t[n[i]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;e.exports=t},,function(e,t,n){"use strict";function j(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);Dr(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(e,t,n){this._hasCaughtError=!1,this._caughtError=null;var r=Array.prototype.slice.call(arguments,3);try{t.apply(n,r)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}function i(){if(Vr._hasRethrowError){var e=Vr._rethrowError;throw Vr._rethrowError=null,Vr._hasRethrowError=!1,e}}function o(){if(Hr)for(var e in Wr){var t=Wr[e],n=Hr.indexOf(e);if(-1<n||j("96",e),!$r[n])for(var r in t.extractEvents||j("97",e),n=($r[n]=t).eventTypes){var i=void 0,o=n[r],a=t,s=r;Kr.hasOwnProperty(s)&&j("99",s);var p=(Kr[s]=o).phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&c(p[i],a,s);i=!0}else o.registrationName?(c(o.registrationName,a,s),i=!0):i=!1;i||j("98",r,e)}}}function c(e,t,n){Yr[e]&&j("100",e),Yr[e]=t,Gr[e]=t.eventTypes[n].dependencies}function a(e){Hr&&j("101"),Hr=Array.prototype.slice.call(e),o()}function s(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];Wr.hasOwnProperty(t)&&Wr[t]===r||(Wr[t]&&j("102",t),Wr[t]=r,n=!0)}n&&o()}function p(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Zr(r),Vr.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function l(e,t){return null==t&&j("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function u(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function d(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)p(e,t,n[i],r[i]);else n&&p(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function h(e){return d(e,!0)}function f(e){return d(e,!1)}function m(e,t){var n=e.stateNode;if(!n)return null;var r=Qr(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&j("231",t,typeof n),n)}function g(e,t){null!==e&&(ei=l(ei,e)),e=ei,ei=null,e&&(u(e,t?h:f),ei&&j("95"),Vr.rethrowCaughtError())}function y(e,t,n,r){for(var i=null,o=0;o<$r.length;o++){var a=$r[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=l(i,a))}g(i,!1)}function b(e){if(e[ii])return e[ii];for(;!e[ii];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[ii]).tag||6===e.tag?e:null}function v(e){return 5===e.tag||6===e.tag?e.stateNode:void j("33")}function x(e){return e[oi]||null}function C(e){for(;(e=e["return"])&&5!==e.tag;);return e||null}function w(e,t,n){for(var r=[];e;)r.push(e),e=C(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function E(e,t,n){(t=m(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=l(n._dispatchListeners,t),n._dispatchInstances=l(n._dispatchInstances,e))}function _(e){e&&e.dispatchConfig.phasedRegistrationNames&&w(e._targetInst,E,e)}function T(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;w(t=t?C(t):null,E,e)}}function S(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=m(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=l(n._dispatchListeners,t),n._dispatchInstances=l(n._dispatchInstances,e))}function N(e){e&&e.dispatchConfig.registrationName&&S(e._targetInst,null,e)}function R(e){u(e,_)}function k(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=C(s))a++;s=0;for(var p=o;p;p=C(p))s++;for(;0<a-s;)i=C(i),a--;for(;0<s-a;)o=C(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=C(i),o=C(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=C(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=C(r);for(r=0;r<i.length;r++)S(i[r],"bubbled",e);for(e=n.length;0<e--;)S(n[e],"captured",t)}function O(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function z(e){if(ci[e])return ci[e];if(!pi[e])return e;var t,n=pi[e];for(t in n)if(n.hasOwnProperty(t)&&t in li)return ci[e]=n[t];return e}function L(){return!gi&&Mr.canUseDOM&&(gi="textContent"in document.documentElement?"textContent":"innerText"),gi}function A(){if(yi._fallbackText)return yi._fallbackText;var e,t,n=yi._startText,r=n.length,i=I(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return yi._fallbackText=i.slice(e,1<t?1-t:void 0),yi._fallbackText}function I(){return"value"in yi._root?yi._root.value:yi._root[L()]}function D(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Lr.thatReturnsTrue:Lr.thatReturnsFalse,this.isPropagationStopped=Lr.thatReturnsFalse,this}function P(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function M(e){e instanceof this||j("223"),e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function U(e){e.eventPool=[],e.getPooled=P,e.release=M}function F(e,t){switch(e){case"keyup":return-1!==wi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function B(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function q(e,t){switch(e){case"compositionend":return B(t);case"keypress":return 32!==t.which?null:(ki=!0,Ni);case"textInput":return(e=t.data)===Ni&&ki?null:e;default:return null}}function V(e,t){if(Oi)return"compositionend"===e||!Ei&&F(e,t)?(e=A(),yi._root=null,yi._startText=null,yi._fallbackText=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t["char"]&&1<t["char"].length)return t["char"];if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Si?null:t.data;default:return null}}function H(e){if(e=Jr(e)){Ai&&"function"==typeof Ai.restoreControlledState||j("194");var t=Qr(e.stateNode);Ai.restoreControlledState(e.stateNode,e.type,t)}}function W(e){Di?Pi?Pi.push(e):Pi=[e]:Di=e}function $(){return null!==Di||null!==Pi}function K(){if(Di){var e=Di,t=Pi;if(Pi=Di=null,H(e),t)for(e=0;e<t.length;e++)H(t[e])}}function Y(e,t){return e(t)}function G(e,t,n){return e(t,n)}function X(){}function Q(e,t){if(ji)return e(t);ji=!0;try{return Y(e,t)}finally{ji=!1,$()&&(X(),K())}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Li[e.type]:"textarea"===t}function Z(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){return!(!Mr.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=ne(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=te(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function oe(e){return null==e?null:"function"==typeof(e=Qi&&e[Qi]||e["@@iterator"])?e:null}function ae(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yi:return"AsyncMode";case Ki:return"Context.Consumer";case Vi:return"ReactFragment";case qi:return"ReactPortal";case Wi:return"Profiler("+e.pendingProps.id+")";case $i:return"Context.Provider";case Hi:return"StrictMode";case Xi:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case Gi:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function se(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ae(e),o=null;n&&(o=ae(n)),i="\n    in "+(i||"Unknown")+((n=r)?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e["return"]}while(e);return t}function pe(e){return!!Zi.call(to,e)||!Zi.call(eo,e)&&(Ji.test(e)?to[e]=!0:!(eo[e]=!0))}function ce(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function le(e,t,n,r){if(null==t||ce(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function ue(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function de(e){return e[1].toUpperCase()}function he(e,t,n,r){var i=no.hasOwnProperty(t)?no[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(le(t,n,i,r)&&(n=null),r||null===i?pe(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function fe(e,t){var n=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function me(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=xe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ge(e,t){null!=(t=t.checked)&&he(e,"checked",t,!1)}function ye(e,t){ge(e,t);var n=xe(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?ve(e,t.type,n):t.hasOwnProperty("defaultValue")&&ve(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function ve(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ce(e,t,n){return(e=D.getPooled(io.change,e,t,n)).type="change",W(n),R(e),e}function we(e){g(e,!1)}function Ee(e){if(ie(v(e)))return e}function _e(e,t){if("change"===e)return t}function Te(){oo&&(oo.detachEvent("onpropertychange",Se),ao=oo=null)}function Se(e){"value"===e.propertyName&&Ee(ao)&&Q(we,e=Ce(ao,e,Z(e)))}function Ne(e,t,n){"focus"===e?(Te(),ao=n,(oo=t).attachEvent("onpropertychange",Se)):"blur"===e&&Te()}function Re(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ee(ao)}function ke(e,t){if("click"===e)return Ee(t)}function Oe(e,t){if("input"===e||"change"===e)return Ee(t)}function ze(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=lo[e])&&!!t[e]}function Ae(){return ze}function Ie(e){var t=e;if(e.alternate)for(;t["return"];)t=t["return"];else{if(0!=(2&t.effectTag))return 1;for(;t["return"];)if(0!=(2&(t=t["return"]).effectTag))return 1}return 3===t.tag?2:3}function De(e){2!==Ie(e)&&j("188")}function Pe(e){var t=e.alternate;if(!t)return 3===(t=Ie(e))&&j("188"),1===t?null:e;for(var n=e,r=t;;){var i=n["return"],o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return De(i),e;if(a===r)return De(i),t;a=a.sibling}j("188")}if(n["return"]!==r["return"])n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||j("189")}}n.alternate!==r&&j("190")}return 3!==n.tag&&j("188"),n.stateNode.current===n?e:t}function Me(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child["return"]=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function je(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t=(t.child["return"]=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t["return"]||t["return"]===e)return null;t=t["return"]}t.sibling["return"]=t["return"],t=t.sibling}}return null}function Le(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},No[e]=t,Ro[n]=t}function Fe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n["return"];)n=n["return"];if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=b(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],y(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Be(e){Ao=!!e}function qe(e,t){if(!t)return null;var n=(Oo(e)?He:We).bind(null,e);t.addEventListener(e,n,!1)}function Ve(e,t){if(!t)return null;var n=(Oo(e)?He:We).bind(null,e);t.addEventListener(e,n,!0)}function He(e,t){G(We,e,t)}function We(e,t){if(Ao){var n=Z(t);if(null===(n=b(n))||"number"!=typeof n.tag||2===Ie(n)||(n=null),zo.length){var r=zo.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Q(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,zo.length<10&&zo.push(e)}}}function $e(e){return Object.prototype.hasOwnProperty.call(e,Mo)||(e[Mo]=Po++,Do[e[Mo]]={}),Do[e[Mo]]}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ye(e,t){var n,r=Ke(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ke(r)}}function Ge(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Xe(e,t){if(qo||null==Uo||Uo!==Ur())return null;var n=Uo;return"selectionStart"in n&&Ge(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Bo&&Fr(Bo,n)?null:(Bo=n,(e=D.getPooled(Lo.select,Fo,e,t)).type="select",e.target=Uo,R(e),e)}function Qe(e){var t="";return Pr.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Je(e,t){return e=jr({children:void 0},t),(t=Qe(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function et(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function tt(e,t){return null!=t.dangerouslySetInnerHTML&&j("91"),jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nt(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&j("92"),Array.isArray(t)&&(t.length<=1||j("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function rt(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function it(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ot(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function st(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function pt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ga.hasOwnProperty(i)&&ga[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function ct(e,t,n){t&&(ba[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&j("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&j("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||j("61")),null!=t.style&&"object"!=typeof t.style&&j("62",n()))}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ut(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Gr[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Ve("scroll",e);break;case"focus":case"blur":Ve("focus",e),Ve("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(i,!0)&&Ve(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===mi.indexOf(i)&&qe(i,e)}n[i]=!0}}}function dt(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ha.html&&(r=ot(e)),r===ha.html?"script"===e?((e=n.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ht(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ft(e,t,n,r){var i=lt(t,n);switch(t){case"iframe":case"object":qe("load",e);var o=n;break;case"video":case"audio":for(o=0;o<mi.length;o++)qe(mi[o],e);o=n;break;case"source":qe("error",e),o=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),o=n;break;case"form":qe("reset",e),qe("submit",e),o=n;break;case"details":qe("toggle",e),o=n;break;case"input":me(e,n),o=fe(e,n),qe("invalid",e),ut(r,"onChange");break;case"option":o=Je(e,n);break;case"select":et(e,n),o=jr({},n,{value:void 0}),qe("invalid",e),ut(r,"onChange");break;case"textarea":nt(e,n),o=tt(e,n),qe("invalid",e),ut(r,"onChange");break;default:o=n}ct(t,o,va);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var p=s[a];"style"===a?pt(e,p,va):"dangerouslySetInnerHTML"===a?null!=(p=p?p.__html:void 0)&&ma(e,p):"children"===a?"string"==typeof p?("textarea"!==t||""!==p)&&st(e,p):"number"==typeof p&&st(e,""+p):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yr.hasOwnProperty(a)?null!=p&&ut(r,a):null!=p&&he(e,a,p,i))}switch(t){case"input":re(e),be(e,n,!1);break;case"textarea":re(e),it(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Ze(e,!!n.multiple,t,!1):null!=n.defaultValue&&Ze(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Lr)}}function mt(e,t,n,r,i){var o=null;switch(t){case"input":n=fe(e,n),r=fe(e,r),o=[];break;case"option":n=Je(e,n),r=Je(e,r),o=[];break;case"select":n=jr({},n,{value:void 0}),r=jr({},r,{value:void 0}),o=[];break;case"textarea":n=tt(e,n),r=tt(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}ct(t,r,va),t=e=void 0;var a=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var s=n[e];for(t in s)s.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(Yr.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var p=r[e];if(s=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&p!==s&&(null!=p||null!=s))if("style"===e)if(s){for(t in s)!s.hasOwnProperty(t)||p&&p.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in p)p.hasOwnProperty(t)&&s[t]!==p[t]&&(a||(a={}),a[t]=p[t])}else a||(o||(o=[]),o.push(e,a)),a=p;else"dangerouslySetInnerHTML"===e?(p=p?p.__html:void 0,s=s?s.__html:void 0,null!=p&&s!==p&&(o=o||[]).push(e,""+p)):"children"===e?s===p||"string"!=typeof p&&"number"!=typeof p||(o=o||[]).push(e,""+p):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(Yr.hasOwnProperty(e)?(null!=p&&ut(i,e),o||s===p||(o=[])):(o=o||[]).push(e,p))}return a&&(o=o||[]).push("style",a),o}function gt(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&ge(e,i),lt(n,r),r=lt(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?pt(e,s,va):"dangerouslySetInnerHTML"===a?ma(e,s):"children"===a?st(e,s):he(e,a,s,r)}switch(n){case"input":ye(e,i);break;case"textarea":rt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Ze(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ze(e,!!i.multiple,i.defaultValue,!0):Ze(e,!!i.multiple,i.multiple?[]:"",!1))}}function yt(e,t,n,r,i){switch(t){case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(r=0;r<mi.length;r++)qe(mi[r],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break
;case"form":qe("reset",e),qe("submit",e);break;case"details":qe("toggle",e);break;case"input":me(e,n),qe("invalid",e),ut(i,"onChange");break;case"select":et(e,n),qe("invalid",e),ut(i,"onChange");break;case"textarea":nt(e,n),qe("invalid",e),ut(i,"onChange")}for(var o in ct(t,n,va),r=null,n)if(n.hasOwnProperty(o)){var a=n[o];"children"===o?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):Yr.hasOwnProperty(o)&&null!=a&&ut(i,o)}switch(t){case"input":re(e),be(e,n,!0);break;case"textarea":re(e),it(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=Lr)}return r}function bt(e,t){return e.nodeValue!==t}function vt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xt(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}function Ct(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Et(e){return{current:e}}function _t(e){Na<0||(e.current=Sa[Na],Sa[Na]=null,Na--)}function Tt(e,t){Sa[++Na]=e.current,e.current=t}function St(e){return Rt(e)?Oa:Ra.current}function Nt(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rt(e){return 2===e.tag&&null!=e.type.childContextTypes}function kt(e){Rt(e)&&(_t(ka,e),_t(Ra,e))}function Ot(e){_t(ka,e),_t(Ra,e)}function zt(e,t,n){Ra.current!==qr&&j("168"),Tt(Ra,t,e),Tt(ka,n,e)}function At(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||j("108",ae(e)||"Unknown",i);return jr({},t,n)}function It(e){if(!Rt(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||qr,Oa=Ra.current,Tt(Ra,t,e),Tt(ka,ka.current,e),!0}function Dt(e,t){var n=e.stateNode;if(n||j("169"),t){var r=At(e,Oa);n.__reactInternalMemoizedMergedChildContext=r,_t(ka,e),_t(Ra,e),Tt(Ra,r,e)}else _t(ka,e);Tt(ka,t,e)}function Pt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this["return"]=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Mt(e,t,n){var r=e.alternate;return null===r?((r=new Pt(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,(r.alternate=e).alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jt(e,t,n){var r=e.type,i=e.key;if(e=e.props,"function"==typeof r)var o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)o=5;else switch(r){case Vi:return Lt(e.children,t,n,i);case Yi:o=11,t|=3;break;case Hi:o=11,t|=2;break;case Wi:return(r=new Pt(15,e,i,4|t)).type=Wi,r.expirationTime=n,r;case Xi:o=16,t|=2;break;default:e:{switch("object"==typeof r&&null!==r?r.$$typeof:null){case $i:o=13;break e;case Ki:o=12;break e;case Gi:o=14;break e;default:j("130",null==r?r:typeof r,"")}o=void 0}}return(t=new Pt(o,e,i,t)).type=r,t.expirationTime=n,t}function Lt(e,t,n,r){return(e=new Pt(10,e,r,t)).expirationTime=n,e}function Ut(e,t,n){return(e=new Pt(6,e,null,t)).expirationTime=n,e}function Ft(e,t,n){return(t=new Pt(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bt(e,t,n){return e={current:t=new Pt(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}function qt(t){return function(e){try{return t(e)}catch(t){}}}function Vt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);za=qt(function(e){return t.onCommitFiberRoot(n,e)}),Aa=qt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Ht(e){"function"==typeof za&&za(e)}function Wt(e){"function"==typeof Aa&&Aa(e)}function $t(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Kt(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Gt(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Xt(e,t,n){var r=e.alternate;if(null===r){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=$t(e.memoizedState))}else i=e.updateQueue,o=r.updateQueue,null===i?null===o?(i=e.updateQueue=$t(e.memoizedState),o=r.updateQueue=$t(r.memoizedState)):i=e.updateQueue=Kt(o):null===o&&(o=r.updateQueue=Kt(i));null===o||i===o?Gt(i,t,n):null===i.lastUpdate||null===o.lastUpdate?(Gt(i,t,n),Gt(o,t,n)):(Gt(i,t,n),o.lastUpdate=t)}function Qt(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=$t(e.memoizedState):Jt(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Jt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Kt(t)),t}function Zt(e,t,n,r,i,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(o,r,i):e))break;return jr({},r,i);case 2:Ia=!0}return r}function en(e,t,n,r,i){if(Ia=!1,!(0===t.expirationTime||t.expirationTime>i)){for(var o=(t=Jt(e,t)).baseState,a=null,s=0,p=t.firstUpdate,c=o;null!==p;){var l=p.expirationTime;i<l?(null===a&&(a=p,o=c),(0===s||l<s)&&(s=l)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,(p.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=p:(t.lastEffect.nextEffect=p,t.lastEffect=p))),p=p.next}for(l=null,p=t.firstCapturedUpdate;null!==p;){var u=p.expirationTime;i<u?(null===l&&(l=p,null===a&&(o=c)),(0===s||u<s)&&(s=u)):(c=Zt(e,t,p,c,n,r),null!==p.callback&&(e.effectTag|=32,(p.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=p:(t.lastCapturedEffect.nextEffect=p,t.lastCapturedEffect=p))),p=p.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=c}}function tn(e,t){"function"!=typeof e&&j("191",e),e.call(t)}function nn(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,tn(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,tn(t,n)),e=e.nextEffect}function rn(e,t){return{value:e,source:t,stack:se(t)}}function on(e){var t=e.type._context;Tt(Ma,t._changedBits,e),Tt(Pa,t._currentValue,e),Tt(Da,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function an(e){var t=Ma.current,n=Pa.current;_t(Da,e),_t(Pa,e),_t(Ma,e),(e=e.type._context)._currentValue=n,e._changedBits=t}function sn(e){return e===ja&&j("174"),e}function pn(e,t){Tt(Fa,t,e),Tt(Ua,e,e),Tt(La,ja,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:at(null,"");break;default:t=at(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}_t(La,e),Tt(La,t,e)}function cn(e){_t(La,e),_t(Ua,e),_t(Fa,e)}function ln(e){Ua.current===e&&(_t(La,e),_t(Ua,e))}function un(e,t,n){var r=e.memoizedState;r=null==(t=t(n,r))?r:jr({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}function dn(e,t,n,r,i,o){var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!(e.prototype&&e.prototype.isPureReactComponent&&Fr(t,n)&&Fr(r,i))}function hn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function fn(e,t){var n=e.type,r=e.stateNode,i=e.pendingProps,o=St(e);r.props=i,r.state=e.memoizedState,r.refs=qr,r.context=Nt(e,o),null!==(o=e.updateQueue)&&(en(e,o,i,r,t),r.state=e.memoizedState),"function"==typeof(o=e.type.getDerivedStateFromProps)&&(un(e,o,i),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Ba.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(en(e,o,i,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&j("110"),r=n.stateNode),r||j("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===qr?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&j("148"),n._owner||j("254",e)}return e}function gn(e,t){"textarea"!==e.type&&j("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function yn(u){function d(e,t){if(u){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function h(e,t){if(!u)return null;for(;null!==t;)d(e,t),t=t.sibling;return null}function f(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Mt(e,t,n)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,u?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return u&&null===e.alternate&&(e.effectTag=2),e}function o(e,t,n,r){return(t=null===t||6!==t.tag?Ut(n,e.mode,r):a(t,n,r))["return"]=e,t}function p(e,t,n,r){return(r=null!==t&&t.type===n.type?a(t,n.props,r):jt(n,e.mode,r)).ref=mn(e,t,n),r["return"]=e,r}function c(e,t,n,r){return(t=null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?Ft(n,e.mode,r):a(t,n.children||[],r))["return"]=e,t}function l(e,t,n,r,i){return(t=null===t||10!==t.tag?Lt(n,e.mode,r,i):a(t,n,r))["return"]=e,t}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ut(""+t,e.mode,n))["return"]=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Bi:return(n=jt(t,e.mode,n)).ref=mn(e,null,t),n["return"]=e,n;case qi:return(t=Ft(t,e.mode,n))["return"]=e,t}if(qa(t)||oe(t))return(t=Lt(t,e.mode,n,null))["return"]=e,t;gn(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Bi:return n.key===i?n.type===Vi?l(e,t,n.props.children,r,i):p(e,t,n,r):null;case qi:return n.key===i?c(e,t,n,r):null}if(qa(n)||oe(n))return null!==i?null:l(e,t,n,r,null);gn(e,n)}return null}function b(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Bi:return e=e.get(null===r.key?n:r.key)||null,r.type===Vi?l(t,e,r.props.children,i,r.key):p(t,e,r,i);case qi:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(qa(r)||oe(r))return l(t,e=e.get(n)||null,r,i,null);gn(t,r)}return null}function v(t,e,n,r){for(var i=null,o=null,a=e,s=e=0,p=null;null!==a&&s<n.length;s++){a.index>s?(p=a,a=null):p=a.sibling;var c=y(t,a,n[s],r);if(null===c){null===a&&(a=p);break}u&&a&&null===c.alternate&&d(t,a),e=m(c,e,s),null===o?i=c:o.sibling=c,o=c,a=p}if(s===n.length)return h(t,a),i;if(null===a){for(;s<n.length;s++)(a=g(t,n[s],r))&&(e=m(a,e,s),null===o?i=a:o.sibling=a,o=a);return i}for(a=f(t,a);s<n.length;s++)(p=b(a,t,s,n[s],r))&&(u&&null!==p.alternate&&a["delete"](null===p.key?s:p.key),e=m(p,e,s),null===o?i=p:o.sibling=p,o=p);return u&&a.forEach(function(e){return d(t,e)}),i}function x(t,e,n,r){var i=oe(n);"function"!=typeof i&&j("150"),null==(n=i.call(n))&&j("151");for(var o=i=null,a=e,s=e=0,p=null,c=n.next();null!==a&&!c.done;s++,c=n.next()){a.index>s?(p=a,a=null):p=a.sibling;var l=y(t,a,c.value,r);if(null===l){a||(a=p);break}u&&a&&null===l.alternate&&d(t,a),e=m(l,e,s),null===o?i=l:o.sibling=l,o=l,a=p}if(c.done)return h(t,a),i;if(null===a){for(;!c.done;s++,c=n.next())null!==(c=g(t,c.value,r))&&(e=m(c,e,s),null===o?i=c:o.sibling=c,o=c);return i}for(a=f(t,a);!c.done;s++,c=n.next())null!==(c=b(a,t,s,c.value,r))&&(u&&null!==c.alternate&&a["delete"](null===c.key?s:c.key),e=m(c,e,s),null===o?i=c:o.sibling=c,o=c);return u&&a.forEach(function(e){return d(t,e)}),i}return function(e,t,n,r){var i="object"==typeof n&&null!==n&&n.type===Vi&&null===n.key;i&&(n=n.props.children);var o="object"==typeof n&&null!==n;if(o)switch(n.$$typeof){case Bi:e:{for(o=n.key,i=t;null!==i;){if(i.key===o){if(10===i.tag?n.type===Vi:i.type===n.type){h(e,i.sibling),(t=a(i,n.type===Vi?n.props.children:n.props,r)).ref=mn(e,i,n),t["return"]=e,e=t;break e}h(e,i);break}d(e,i),i=i.sibling}n.type===Vi?((t=Lt(n.props.children,e.mode,r,n.key))["return"]=e,e=t):((r=jt(n,e.mode,r)).ref=mn(e,t,n),r["return"]=e,e=r)}return s(e);case qi:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){h(e,t.sibling),(t=a(t,n.children||[],r))["return"]=e,e=t;break e}h(e,t);break}d(e,t),t=t.sibling}(t=Ft(n,e.mode,r))["return"]=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,null!==t&&6===t.tag?(h(e,t.sibling),t=a(t,n,r)):(h(e,t),t=Ut(n,e.mode,r)),t["return"]=e,s(e=t);if(qa(n))return v(e,t,n,r);if(oe(n))return x(e,t,n,r);if(o&&gn(e,n),void 0===n&&!i)switch(e.tag){case 2:case 1:j("152",(r=e.type).displayName||r.name||"Component")}return h(e,t)}}function bn(e,t){var n=new Pt(5,null,null,0);n.type="DELETED",n.stateNode=t,n["return"]=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function xn(e){if(Ka){var t=$a;if(t){var n=t;if(!vn(e,t)){if(!(t=Ct(n))||!vn(e,t))return e.effectTag|=2,Ka=!1,void(Wa=e);bn(Wa,n)}Wa=e,$a=wt(t)}else e.effectTag|=2,Ka=!1,Wa=e}}function Cn(e){for(e=e["return"];null!==e&&5!==e.tag&&3!==e.tag;)e=e["return"];Wa=e}function wn(e){if(e!==Wa)return!1;if(!Ka)return Cn(e),!(Ka=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xt(t,e.memoizedProps))for(t=$a;t;)bn(e,t),t=Ct(t);return Cn(e),$a=Wa?Ct(e.stateNode):null,!0}function En(){$a=Wa=null,Ka=!1}function _n(e,t,n){Tn(e,t,n,t.expirationTime)}function Tn(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Va(t,e.child,n,r)}function Sn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Nn(e,t,n,r,i){Sn(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&Dt(t,!1),zn(e,t);n=t.stateNode,Ui.current=t;var a=o?null:n.render();return t.effectTag|=1,o&&(Tn(e,t,null,i),t.child=null),Tn(e,t,a,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&Dt(t,!0),t.child}function Rn(e){var t=e.stateNode;t.pendingContext?zt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zt(e,t.context,!1),pn(e,t.containerInfo)}function kn(e,t,n,r){var i=e.child;for(null!==i&&(i["return"]=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o["return"]}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o["return"]=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i["return"]=o["return"],o=i;break}o=o["return"]}i=o}}function On(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(ka.current)a=!1;else if(o===i)return t.stateNode=0,on(t),zn(e,t);var s=i.value;if(t.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else{var p=o.value;if(p===s&&(0!==p||1/p==1/s)||p!=p&&s!=s){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(p,s):1073741823,0===(s|=0)){if(o.children===i.children&&a)return t.stateNode=0,on(t),zn(e,t)}else kn(t,r,s,n)}return t.stateNode=s,on(t),_n(e,t,i.children),t.child}function zn(e,t){if(null!==e&&t.child!==e.child&&j("153"),null!==t.child){var n=Mt(e=t.child,e.pendingProps,e.expirationTime);for((t.child=n)["return"]=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mt(e,e.pendingProps,e.expirationTime))["return"]=t;n.sibling=null}return t.child}function An(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Rn(t);break;case 2:It(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 13:on(t)}return null}switch(t.tag){case 0:null!==e&&j("155");var r=t.type,i=t.pendingProps,o=St(t);return r=r(i,o=Nt(t,o)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(o=o.getDerivedStateFromProps)&&un(t,o,i),i=It(t),r.updater=Ba,fn((t.stateNode=r)._reactInternalFiber=t,n),e=Nn(e,t,!0,i,n)):(t.tag=1,_n(e,t,r),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,ka.current||t.memoizedProps!==n?(i=i(n,r=Nt(t,r=St(t))),t.effectTag|=1,_n(e,t,i),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 2:if(i=It(t),null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;r=St(t);var p=2===t.tag&&null!=t.type.contextTypes;a=new s(a,o=p?Nt(t,r):qr),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Ba,(t.stateNode=a)._reactInternalFiber=t,p&&((p=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,p.__reactInternalMemoizedMaskedChildContext=o),fn(t,n),r=!0}else{s=t.type,r=t.stateNode,p=t.memoizedProps,o=t.pendingProps,r.props=p;var c=r.context;a=Nt(t,a=St(t));var l=s.getDerivedStateFromProps;(s="function"==typeof l||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(p!==o||c!==a)&&hn(t,r,o,a),Ia=!1;var u=t.memoizedState;c=r.state=u;var d=t.updateQueue;null!==d&&(en(t,d,o,r,n),c=t.memoizedState),p!==o||u!==c||ka.current||Ia?("function"==typeof l&&(un(t,l,o),c=t.memoizedState),(p=Ia||dn(t,p,o,u,c,a))?(s||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.effectTag|=4)):("function"==typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=c),r.props=o,r.state=c,r.context=a,r=p):("function"==typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,o=t.memoizedProps,p=t.pendingProps,r.props=o,c=r.context,a=Nt(t,a=St(t)),(s="function"==typeof(l=s.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(o!==p||c!==a)&&hn(t,r,p,a),Ia=!1,c=t.memoizedState,u=r.state=c,null!==(d=t.updateQueue)&&(en(t,d,p,r,n),u=t.memoizedState),o!==p||c!==u||ka.current||Ia?("function"==typeof l&&(un(t,l,p),u=t.memoizedState),(l=Ia||dn(t,o,p,c,u,a))?(s||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(p,u,a),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(p,u,a)),"function"==typeof r.componentDidUpdate&&(t.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=p,t.memoizedState=u),r.props=p,r.state=u,r.context=a,r=l):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Nn(e,t,r,i,n);case 3:return Rn(t),null!==(i=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,en(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(En(),e=zn(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&($a=wt(t.stateNode.containerInfo),Wa=t,r=Ka=!0),r?(t.effectTag|=2,t.child=Ha(t,null,i,n)):(En(),_n(e,t,i)),e=t.child)):(En(),e=zn(e,t)),e;case 5:return sn(Fa.current),(i=sn(La.current))!==(r=at(i,t.type))&&(Tt(Ua,t,t),Tt(La,r,t)),null===e&&xn(t),i=t.type,p=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,ka.current||p!==r||((p=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),p&&1073741823===n)?(p=r.children,xt(i,r)?p=null:o&&xt(i,o)&&(t.effectTag|=16),Sn(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(_n(e,t,p),t.memoizedProps=r,e=t.child)):e=zn(e,t),e;case 6:return null===e&&xn(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return pn(t,t.stateNode.containerInfo),i=t.pendingProps,ka.current||t.memoizedProps!==i?(null===e?t.child=Va(t,null,i,n):_n(e,t,i),t.memoizedProps=i,e=t.child):e=zn(e,t),e;case 14:return i=t.type.render,n=t.pendingProps,r=t.ref,ka.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(_n(e,t,i=i(n,r)),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 10:return n=t.pendingProps,ka.current||t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 11:return n=t.pendingProps.children,ka.current||null!==n&&t.memoizedProps!==n?(_n(e,t,n),t.memoizedProps=n,e=t.child):e=zn(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=zn(e,t):(_n(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return On(e,t,n);case 12:e:if(r=t.type,o=t.pendingProps,p=t.memoizedProps,i=r._currentValue,a=r._changedBits,ka.current||0!==a||p!==o){if(null!=(s=(t.memoizedProps=o).unstable_observedBits)||(s=1073741823),0!=(a&(t.stateNode=s)))kn(t,r,a,n);else if(p===o){e=zn(e,t);break e}n=(n=o.children)(i),t.effectTag|=1,_n(e,t,n),e=t.child}else e=zn(e,t);return e;default:j("156")}}function In(e){e.effectTag|=4}function Dn(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return kt(t),null;case 3:cn(t),Ot(t);var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(wn(t),t.effectTag&=-3),Ya(t),null;case 5:ln(t),r=sn(Fa.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=sn(La.current);a=mt(a,i,o,n,r),Ga(e,t,a,i,o,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&j("166"),null;if(e=sn(La.current),wn(t))n=t.stateNode,i=t.type,o=t.memoizedProps,n[ii]=t,n[oi]=o,r=yt(n,i,o,e,r),null!==(t.updateQueue=r)&&In(t);else{(e=dt(i,n,r,e))[ii]=t,e[oi]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o=(o.child["return"]=o).child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o["return"]||o["return"]===t)break e;o=o["return"]}o.sibling["return"]=o["return"],o=o.sibling}ft(e,i,n,r),vt(i,n)&&In(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&j("166"),null;r=sn(Fa.current),sn(La.current),wn(t)?(r=t.stateNode,n=t.memoizedProps,r[ii]=t,bt(r,n)&&In(t)):((r=ht(n,r))[ii]=t).stateNode=r}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return cn(t),Ya(t),null;case 13:return an(t),null;case 12:return null;case 0:j("167");default:j("156")}}function Pn(e,t){var n=t.source;null===t.stack&&null!==n&&se(n),null!==n&&ae(n),t=t.value,null!==e&&2===e.tag&&ae(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Mn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xn(e,t)}else t.current=null}function jn(e){switch("function"==typeof Wt&&Wt(e),e.tag){case 2:Mn(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xn(e,t)}break;case 5:Mn(e);break;case 4:Fn(e)}}function Ln(e){return 5===e.tag||3===e.tag||4===e.tag}function Un(e){e:{for(var t=e["return"];null!==t;){if(Ln(t)){var n=t;break e}t=t["return"]}j("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:j("161")}16&n.effectTag&&(st(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n["return"]||Ln(n["return"])){n=null;break e}n=n["return"]}for(n.sibling["return"]=n["return"],n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child["return"]=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,a=i.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else t.insertBefore(i.stateNode,n);else r?(o=t,a=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(a,o):o.appendChild(a)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i=(i.child["return"]=i).child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i["return"]||i["return"]===e)return;i=i["return"]}i.sibling["return"]=i["return"],i=i.sibling}}function Fn(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t["return"];e:for(;;){switch(null===n&&j("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n["return"]}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(jn(a),null!==a.child&&4!==a.tag)a.child["return"]=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a["return"]||a["return"]===o)break e;a=a["return"]}a.sibling["return"]=a["return"],a=a.sibling}i?(o=r,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:jn(t),null!==t.child){t=(t.child["return"]=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t["return"]||t["return"]===e)return;4===(t=t["return"]).tag&&(n=!1)}t.sibling["return"]=t["return"],t=t.sibling}}function Bn(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;(t.updateQueue=null)!==o&&(n[oi]=r,gt(n,o,i,e,r))}break;case 6:null===t.stateNode&&j("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:j("163")}}function qn(e,t,n){(n=Yt(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fr(r),Pn(e,t)},n}function Vn(n,r,e){(e=Yt(e)).tag=3;var t=n.stateNode;return null!==t&&"function"==typeof t.componentDidCatch&&(e.callback=function(){null===us?us=new Set([this]):us.add(this);var e=r.value,t=r.stack;Pn(n,r),this.componentDidCatch(e,{componentStack:null!==t?t:""})}),e}function Hn(e,t,n,r,i,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=rn(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Qt(e,r=qn(e,r,o),o);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===us||!us.has(n)))return e.effectTag|=1024,void Qt(e,r=Vn(e,t,o),o)}e=e["return"]}while(null!==e)}function Wn(e){switch(e.tag){case 2:kt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return cn(e),Ot(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ln(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return cn(e),null;case 13:return an(e),null;default:return null}}function $n(){if(null!==rs)for(var e=rs["return"];null!==e;){var t=e;switch(t.tag){case 2:kt(t);break;case 3:cn(t),Ot(t);break;case 5:ln(t);break;case 4:cn(t);break;case 13:an(t)}e=e["return"]}os=0,rs=is=null,ls=ss=!(as=-1)}function Kn(e){for(;;){var t=e.alternate,n=e["return"],r=e.sibling;if(0==(512&e.effectTag)){t=Dn(t,e,os);var i=e;if(1073741823===os||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ls=!0;break}e=n}else{if(null!==(e=Wn(e,ss,os)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function Yn(e){var t=An(e.alternate,e,os);return null===t&&(t=Kn(e)),Ui.current=null,t}function Gn(t,e,n){ns&&j("243"),ns=!0,e===os&&t===is&&null!==rs||($n(),os=e,as=-1,rs=Mt((is=t).current,null,os),t.pendingCommitExpirationTime=0);var r=!1;for(ss=!n||os<=Ja;;){try{if(n)for(;null!==rs&&!hr();)rs=Yn(rs);else for(;null!==rs;)rs=Yn(rs)}catch(e){if(null===rs)r=!0,fr(e);else{null===rs&&j("271");var i=(n=rs)["return"];if(null===i){r=!0,fr(e);break}Hn(t,i,n,e,ss,os,Za),rs=Kn(n)}}break}if(ns=!1,r)return null;if(null===rs){if(ls)return t.pendingCommitExpirationTime=e,t.current.alternate;ss&&j("262"),0<=as&&setTimeout(function(){var e=t.current.expirationTime;0!==e&&(0===t.remainingExpirationTime||t.remainingExpirationTime<e)&&ir(t,e)},as),mr(t.current.expirationTime)}return null}function Xn(e,t){var n;e:{for(ns&&!cs&&j("263"),n=e["return"];null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"!=typeof n.type.getDerivedStateFromCatch&&("function"!=typeof r.componentDidCatch||null!==us&&us.has(r)))break;Xt(n,e=Vn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e;case 3:Xt(n,e=qn(n,e=rn(t,e),1),1),Zn(n,1),n=void 0;break e}n=n["return"]}3===e.tag&&(Xt(e,n=qn(e,n=rn(t,e),1),1),Zn(e,1)),n=void 0}return n}function Qn(){var e=2+25*(1+((er()-2+500)/25|0));return e<=es&&(e=es+1),es=e}function Jn(e,t){return e=0!==ts?ts:ns?cs?1:os:1&t.mode?Ss?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ss&&(0===vs||vs<e)&&(vs=e),e}function Zn(e,t){for(;null!==e;){if((
0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e["return"]){if(3!==e.tag)break;var n=e.stateNode;!ns&&0!==os&&t<os&&$n();var r=n.current.expirationTime;ns&&!cs&&is===n||ir(n,r),Rs<ks&&j("185")}e=e["return"]}}function er(){return Za=Ea()-Qa,Ja=2+(Za/10|0)}function tr(e){var t=ts;ts=2+25*(1+((er()-2+500)/25|0));try{return e()}finally{ts=t}}function nr(e,t,n,r,i){var o=ts;ts=1;try{return e(t,n,r,i)}finally{ts=o}}function rr(e){if(0!==fs){if(fs<e)return;null!==ms&&Ta(ms)}var t=Ea()-Qa;ms=_a(ar,{timeout:10*((fs=e)-2)-t})}function ir(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===hs?(ds=hs=e,e.nextScheduledRoot=e):(hs=hs.nextScheduledRoot=e).nextScheduledRoot=ds;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}gs||(_s?Ts&&ur(ys=e,bs=1,!1):1===t?sr():rr(t))}function or(){var e=0,t=null;if(null!==hs)for(var n=hs,r=ds;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===hs)&&j("244"),r===r.nextScheduledRoot){ds=hs=r.nextScheduledRoot=null;break}if(r===ds)ds=i=r.nextScheduledRoot,hs.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===hs){(hs=n).nextScheduledRoot=ds,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===hs)break;r=(n=r).nextScheduledRoot}}null!==(n=ys)&&n===t&&1===e?ks++:ks=0,ys=t,bs=e}function ar(e){pr(0,!0,e)}function sr(){pr(1,!1,null)}function pr(e,t,n){if(Es=n,or(),t)for(;null!==ys&&0!==bs&&(0===e||bs<=e)&&(!xs||er()>=bs);)er(),ur(ys,bs,!xs),or();else for(;null!==ys&&0!==bs&&(0===e||bs<=e);)ur(ys,bs,!1),or();null!==Es&&(fs=0,ms=null),0!==bs&&rr(bs),Es=null,xs=!1,lr()}function cr(e,t){gs&&j("253"),ur(ys=e,bs=t,!1),sr(),lr()}function lr(){if(ks=0,null!==Ns){var e=Ns;Ns=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Cs||(Cs=!0,ws=e)}}}if(Cs)throw e=ws,ws=null,Cs=!1,e}function ur(e,t,n){gs&&j("245"),gs=!0,n?null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Gn(e,t,!0))&&(hr()?e.finishedWork=n:dr(e,n,t)):null!==(n=e.finishedWork)?dr(e,n,t):null!==(n=Gn(e,t,!1))&&dr(e,n,t),gs=!1}function dr(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ns?Ns=[r]:Ns.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,cs=ns=!0,(n=t.stateNode).current===t&&j("177"),0===(r=n.pendingCommitExpirationTime)&&j("261"),n.pendingCommitExpirationTime=0,er(),Ui.current=null,1<t.effectTag)if(null!==t.lastEffect)var i=(t.lastEffect.nextEffect=t).firstEffect;else i=t;else i=t.firstEffect;Ca=Ao;var o=Ur();if(Ge(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var p=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch(e){a=null;break e}var l=0,u=-1,d=-1,h=0,f=0,m=o,g=null;t:for(;;){for(var y;m!==a||0!==p&&3!==m.nodeType||(u=l+p),m!==c||0!==s&&3!==m.nodeType||(d=l+s),3===m.nodeType&&(l+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===o)break t;if(g===a&&++h===p&&(u=l),g===c&&++f===s&&(d=l),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}a=-1===u||-1===d?null:{start:u,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(Be(!(wa={focusedElem:o,selectionRange:a})),ps=i;null!==ps;){o=!1,a=void 0;try{for(;null!==ps;){if(256&ps.effectTag){var b=ps.alternate;switch((p=ps).tag){case 2:if(256&p.effectTag&&null!==b){var v=b.memoizedProps,x=b.memoizedState,C=p.stateNode;C.props=p.memoizedProps,C.state=p.memoizedState;var w=C.getSnapshotBeforeUpdate(v,x);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:case 5:case 6:case 4:break;default:j("163")}}ps=ps.nextEffect}}catch(e){o=!0,a=e}o&&(null===ps&&j("178"),Xn(ps,a),null!==ps&&(ps=ps.nextEffect))}for(ps=i;null!==ps;){b=!1,v=void 0;try{for(;null!==ps;){var E=ps.effectTag;if(16&E&&st(ps.stateNode,""),128&E){var _=ps.alternate;if(null!==_){var T=_.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&E){case 2:Un(ps),ps.effectTag&=-3;break;case 6:Un(ps),ps.effectTag&=-3,Bn(ps.alternate,ps);break;case 4:Bn(ps.alternate,ps);break;case 8:Fn(x=ps),x["return"]=null,x.child=null,x.alternate&&(x.alternate.child=null,x.alternate["return"]=null)}ps=ps.nextEffect}}catch(e){b=!0,v=e}b&&(null===ps&&j("178"),Xn(ps,v),null!==ps&&(ps=ps.nextEffect))}if(T=wa,_=Ur(),E=T.focusedElem,b=T.selectionRange,_!==E&&Br(document.documentElement,E)){null!==b&&Ge(E)&&(_=b.start,void 0===(T=b.end)&&(T=_),"selectionStart"in E?(E.selectionStart=_,E.selectionEnd=Math.min(T,E.value.length)):window.getSelection&&(_=window.getSelection(),v=E[L()].length,T=Math.min(b.start,v),b=void 0===b.end?T:Math.min(b.end,v),!_.extend&&b<T&&(v=b,b=T,T=v),v=Ye(E,T),x=Ye(E,b),v&&x&&(1!==_.rangeCount||_.anchorNode!==v.node||_.anchorOffset!==v.offset||_.focusNode!==x.node||_.focusOffset!==x.offset)&&((C=document.createRange()).setStart(v.node,v.offset),_.removeAllRanges(),b<T?(_.addRange(C),_.extend(x.node,x.offset)):(C.setEnd(x.node,x.offset),_.addRange(C))))),_=[];for(T=E;T=T.parentNode;)1===T.nodeType&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof E.focus&&E.focus(),E=0;E<_.length;E++)(T=_[E]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(wa=null,Be(Ca),Ca=null,n.current=t,ps=i;null!==ps;){i=!1,E=void 0;try{for(_=r;null!==ps;){var S=ps.effectTag;if(36&S){var N=ps.alternate;switch(b=_,(T=ps).tag){case 2:var R=T.stateNode;if(4&T.effectTag)if(null===N)R.props=T.memoizedProps,R.state=T.memoizedState,R.componentDidMount();else{var k=N.memoizedProps,O=N.memoizedState;R.props=T.memoizedProps,R.state=T.memoizedState,R.componentDidUpdate(k,O,R.__reactInternalSnapshotBeforeUpdate)}var z=T.updateQueue;null!==z&&(R.props=T.memoizedProps,R.state=T.memoizedState,nn(T,z,R,b));break;case 3:var A=T.updateQueue;if(null!==A){if((v=null)!==T.child)switch(T.child.tag){case 5:v=T.child.stateNode;break;case 2:v=T.child.stateNode}nn(T,A,v,b)}break;case 5:var I=T.stateNode;null===N&&4&T.effectTag&&vt(T.type,T.memoizedProps)&&I.focus();break;case 6:case 4:case 15:case 16:break;default:j("163")}}if(128&S){T=void 0;var D=ps.ref;if(null!==D){var P=ps.stateNode;switch(ps.tag){case 5:T=P;break;default:T=P}"function"==typeof D?D(T):D.current=T}}var M=ps.nextEffect;ps.nextEffect=null,ps=M}}catch(e){i=!0,E=e}i&&(null===ps&&j("178"),Xn(ps,E),null!==ps&&(ps=ps.nextEffect))}ns=cs=!1,"function"==typeof Ht&&Ht(t.stateNode),0===(t=n.current.expirationTime)&&(us=null),e.remainingExpirationTime=t}function hr(){return!(null===Es||Es.timeRemaining()>Os)&&(xs=!0)}function fr(e){null===ys&&j("246"),ys.remainingExpirationTime=0,Cs||(Cs=!0,ws=e)}function mr(e){null===ys&&j("246"),ys.remainingExpirationTime=e}function gr(e,t){var n=_s;_s=!0;try{return e(t)}finally{(_s=n)||gs||sr()}}function yr(e,t){if(_s&&!Ts){Ts=!0;try{return e(t)}finally{Ts=!1}}return e(t)}function br(e,t){gs&&j("187");var n=_s;_s=!0;try{return nr(e,t)}finally{_s=n,sr()}}function vr(e,t,n){if(Ss)return e(t,n);_s||gs||0===vs||(pr(vs,!1,null),vs=0);var r=Ss,i=_s;_s=Ss=!0;try{return e(t,n)}finally{Ss=r,(_s=i)||gs||sr()}}function xr(e){var t=_s;_s=!0;try{nr(e)}finally{(_s=t)||gs||pr(1,!1,null)}}function Cr(e,t,n,r,i){var o=t.current;if(n){var a;e:{for(2===Ie(n=n._reactInternalFiber)&&2===n.tag||j("170"),a=n;3!==a.tag;){if(Rt(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a["return"])||j("171")}a=a.stateNode.context}n=Rt(n)?At(n,a):a}else n=qr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Yt(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Xt(o,i,r),Zn(o,r),r}function wr(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?j("188"):j("268",Object.keys(e))),null===(e=Me(t))?null:e.stateNode}function Er(e,t,n,r){var i=t.current;return Cr(e,t,n,i=Jn(er(),i),r)}function _r(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tr(e){var t=e.findFiberByHostInstance;return Vt(jr({},e,{findHostInstanceByFiber:function(e){return null===(e=Me(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}function Sr(e,t,n,r){var i=3<arguments.length&&void 0!==r?arguments[3]:null;return{$$typeof:qi,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Nr(e){this._expirationTime=Qn(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Rr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function kr(e,t,n){this._internalRoot=Bt(e,t,n)}function Or(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zr(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new kr(e,!1,t)}function Ar(e,t,n,r,i){Or(n)||j("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=_r(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=zr(n,r),"function"==typeof i){var s=i;i=function(){var e=_r(o._internalRoot);s.call(e)}}yr(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return _r(o._internalRoot)}function Ir(e,t,n){var r=2<arguments.length&&void 0!==n?arguments[2]:null;return Or(t)||j("200"),Sr(e,t,null,r)}var Dr=n(2),Pr=n(4),Mr=n(12),jr=n(3),Lr=n(5),Ur=n(14),Fr=n(20),Br=n(13),qr=n(1);Pr||j("227");var Vr={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(){r.apply(Vr,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(Vr.invokeGuardedCallback.apply(this,arguments),Vr.hasCaughtError()){var e=Vr.clearCaughtError();Vr._hasRethrowError||(Vr._hasRethrowError=!0,Vr._rethrowError=e)}},rethrowCaughtError:function(){return i.apply(Vr,arguments)},hasCaughtError:function(){return Vr._hasCaughtError},clearCaughtError:function(){if(Vr._hasCaughtError){var e=Vr._caughtError;return Vr._caughtError=null,Vr._hasCaughtError=!1,e}j("198")}},Hr=null,Wr={},$r=[],Kr={},Yr={},Gr={},Xr={plugins:$r,eventNameDispatchConfigs:Kr,registrationNameModules:Yr,registrationNameDependencies:Gr,possibleRegistrationNames:null,injectEventPluginOrder:a,injectEventPluginsByName:s},Qr=null,Jr=null,Zr=null,ei=null,ti={injectEventPluginOrder:a,injectEventPluginsByName:s},ni={injection:ti,getListener:m,runEventsInBatch:g,runExtractedEventsInBatch:y},ri=Math.random().toString(36).slice(2),ii="__reactInternalInstance$"+ri,oi="__reactEventHandlers$"+ri,ai={precacheFiberNode:function(e,t){t[ii]=e},getClosestInstanceFromNode:b,getInstanceFromNode:function(e){return!(e=e[ii])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:v,getFiberCurrentPropsFromNode:x,updateFiberProps:function(e,t){e[oi]=t}},si={accumulateTwoPhaseDispatches:R,accumulateTwoPhaseDispatchesSkipTarget:function(e){u(e,T)},accumulateEnterLeaveDispatches:k,accumulateDirectDispatches:function(e){u(e,N)}},pi={animationend:O("Animation","AnimationEnd"),animationiteration:O("Animation","AnimationIteration"),animationstart:O("Animation","AnimationStart"),transitionend:O("Transition","TransitionEnd")},ci={},li={};Mr.canUseDOM&&(li=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);var ui=z("animationend"),di=z("animationiteration"),hi=z("animationstart"),fi=z("transitionend"),mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gi=null,yi={_root:null,_startText:null,_fallbackText:null},bi="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),vi={type:null,target:null,currentTarget:Lr.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};jr(D.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Lr.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Lr.thatReturnsTrue)},persist:function(){this.isPersistent=Lr.thatReturnsTrue},isPersistent:Lr.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bi.length;t++)this[bi[t]]=null}}),D.Interface=vi,D.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return jr(i,n.prototype),n.prototype=i,(n.prototype.constructor=n).Interface=jr({},r.Interface,e),n.extend=r.extend,U(n),n},U(D);var xi=D.extend({data:null}),Ci=D.extend({data:null}),wi=[9,13,27,32],Ei=Mr.canUseDOM&&"CompositionEvent"in window,_i=null;Mr.canUseDOM&&"documentMode"in document&&(_i=document.documentMode);var Ti=Mr.canUseDOM&&"TextEvent"in window&&!_i,Si=Mr.canUseDOM&&(!Ei||_i&&8<_i&&_i<=11),Ni=String.fromCharCode(32),Ri={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ki=!1,Oi=!1,zi={eventTypes:Ri,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Ei)e:{switch(e){case"compositionstart":i=Ri.compositionStart;break e;case"compositionend":i=Ri.compositionEnd;break e;case"compositionupdate":i=Ri.compositionUpdate;break e}i=void 0}else Oi?F(e,n)&&(i=Ri.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Ri.compositionStart);return i?(Si&&(Oi||i!==Ri.compositionStart?i===Ri.compositionEnd&&Oi&&(o=A()):(yi._root=r,yi._startText=I(),Oi=!0)),i=xi.getPooled(i,t,n,r),o?i.data=o:null!==(o=B(n))&&(i.data=o),R(i),o=i):o=null,(e=Ti?q(e,n):V(e,n))?((t=Ci.getPooled(Ri.beforeInput,t,n,r)).data=e,R(t)):t=null,null===o?t:null===t?o:[o,t]}},Ai=null,Ii={injectFiberControlledHostComponent:function(e){Ai=e}},Di=null,Pi=null,Mi={injection:Ii,enqueueStateRestore:W,needsStateRestore:$,restoreStateIfNeeded:K},ji=!1,Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ui=Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fi="function"==typeof Symbol&&Symbol["for"],Bi=Fi?Symbol["for"]("react.element"):60103,qi=Fi?Symbol["for"]("react.portal"):60106,Vi=Fi?Symbol["for"]("react.fragment"):60107,Hi=Fi?Symbol["for"]("react.strict_mode"):60108,Wi=Fi?Symbol["for"]("react.profiler"):60114,$i=Fi?Symbol["for"]("react.provider"):60109,Ki=Fi?Symbol["for"]("react.context"):60110,Yi=Fi?Symbol["for"]("react.async_mode"):60111,Gi=Fi?Symbol["for"]("react.forward_ref"):60112,Xi=Fi?Symbol["for"]("react.timeout"):60113,Qi="function"==typeof Symbol&&Symbol.iterator,Ji=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zi=Object.prototype.hasOwnProperty,eo={},to={},no={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){no[e]=new ue(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];no[t]=new ue(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){no[e]=new ue(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){no[e]=new ue(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){no[e]=new ue(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){no[e]=new ue(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){no[e]=new ue(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){no[e]=new ue(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){no[e]=new ue(e,5,!1,e.toLowerCase(),null)});var ro=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ro,de);no[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),no.tabIndex=new ue("tabIndex",1,!1,"tabindex",null);var io={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},oo=null,ao=null,so=!1;Mr.canUseDOM&&(so=ee("input")&&(!document.documentMode||9<document.documentMode));var po={eventTypes:io,_isInputEventSupported:so,extractEvents:function(e,t,n,r){var i=t?v(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===i.type?o=_e:J(i)?so?o=Oe:(o=Re,a=Ne):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=ke),o&&(o=o(e,t))?Ce(o,n,r):(a&&a(e,i,t),void("blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ve(i,"number",i.value)))}},co=D.extend({view:null,detail:null}),lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},uo=co.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),ho=uo.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mo={eventTypes:fo,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?b(t):null):o=null,o===t)return null;var a=void 0,s=void 0,p=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(a=uo,s=fo.mouseLeave,p=fo.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=ho,s=fo.pointerLeave,p=fo.pointerEnter,c="pointer"),e=null==o?i:v(o),i=null==t?i:v(t),(s=a.getPooled(s,o,n,r)).type=c+"leave",s.target=e,s.relatedTarget=i,(n=a.getPooled(p,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,k(s,n,o,t),[s,n]}},go=D.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yo=D.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bo=co.extend({relatedTarget:null}),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co=co.extend({key:function(e){if(e.key){var t=vo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Le(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xo[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?Le(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Le(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wo=uo.extend({dataTransfer:null}),Eo=co.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),_o=D.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),To=uo.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),So=[["abort","abort"],[ui,"animationEnd"],[di,"animationIteration"],[hi,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[fi,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],No={},Ro={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ue(e,!0)}),So.forEach(function(e){Ue(e,!1)});var ko={eventTypes:No,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ro[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=Ro[e];if(!i)return null;switch(e){case"keypress":if(0===Le(n))return null;case"keydown":case"keyup":e=Co;break;case"blur":case"focus":e=bo;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Eo;break;case ui:case di:case hi:e=go;break;case fi:e=_o;break;case"scroll":e=co;break;case"wheel":e=To;break;case"copy":case"cut":case"paste":e=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ho;break;default:e=D}return R(t=e.getPooled(i,t,n,r)),t}},Oo=ko.isInteractiveTopLevelEventType,zo=[],Ao=!0,Io={get _enabled(){return Ao},setEnabled:Be,isEnabled:function(){return Ao},trapBubbledEvent:qe,trapCapturedEvent:Ve,dispatchEvent:We},Do={},Po=0,Mo="_reactListenersID"+(""+Math.random()).slice(2),jo=Mr.canUseDOM&&"documentMode"in document&&document.documentMode<=11,Lo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Uo=null,Fo=null,Bo=null,qo=!1,Vo={eventTypes:Lo,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=$e(o),i=Gr.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?v(t):window,e){case"focus":(J(o)||"true"===o.contentEditable)&&(Uo=o,Fo=t,Bo=null);break;case"blur":Bo=Fo=Uo=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":return qo=!1,Xe(n,r);case"selectionchange":if(jo)break;case"keydown":case"keyup":return Xe(n,r)}return null}};ti.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Qr=ai.getFiberCurrentPropsFromNode,Jr=ai.getInstanceFromNode,Zr=ai.getNodeFromInstance,ti.injectEventPluginsByName({SimpleEventPlugin:ko,EnterLeaveEventPlugin:mo,ChangeEventPlugin:po,SelectEventPlugin:Vo,BeforeInputEventPlugin:zi});var Ho="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,Wo=Date,$o=setTimeout,Ko=clearTimeout,Yo=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var Go=performance;Yo=function(){return Go.now()}}else Yo=function(){return Wo.now()};var Xo=void 0,Qo=void 0;if(Mr.canUseDOM){var Jo="function"==typeof Ho?Ho:function(){j("276")},Zo=null,ea=null,ta=-1,na=!1,ra=!1,ia=0,oa=33,aa=33,sa={didTimeout:!1,timeRemaining:function(){var e=ia-Yo();return 0<e?e:0}},pa=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{Qo(e),r||(na=!0,window.postMessage(ca,"*"))}},ca="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===ca&&(na=!1,null!==Zo)){if(null!==Zo){var t=Yo();if(!(-1===ta||t<ta)){e=-1;for(var n=[],r=Zo;null!==r;){var i=r.timeoutTime;-1!==i&&i<=t?n.push(r):-1!==i&&(-1===e||i<e)&&(e=i),r=r.next}if(0<n.length)for(sa.didTimeout=!0,t=0,r=n.length;t<r;t++)pa(n[t],sa);ta=e}}for(e=Yo();0<ia-e&&null!==Zo;)e=Zo,sa.didTimeout=!1,pa(e,sa),e=Yo();null===Zo||ra||(ra=!0,Jo(la))}},!1);var la=function(e){ra=!1;var t=e-ia+aa;t<aa&&oa<aa?(t<8&&(t=8),aa=t<oa?oa:t):oa=t,ia=e+aa,na||(na=!0,window.postMessage(ca,"*"))};Xo=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Yo()+t.timeout),(-1===ta||-1!==n&&n<ta)&&(ta=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===Zo?Zo=e:null!==(t=e.prev=ea)&&(t.next=e),ea=e,ra||(ra=!0,Jo(la)),e},Qo=function(e){if(null!==e.prev||Zo===e){var t=e.next,n=e.prev;e.next=null,(e.prev=null)!==t?null!==n?(n.next=t).prev=n:(t.prev=null,Zo=t):null!==n?(n.next=null,ea=n):ea=Zo=null}}}else{var ua=new Map;Xo=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=$o(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return ua.set(e,n),t},Qo=function(e){var t=ua.get(e.scheduledCallback);ua["delete"](e),Ko(t)}}var da,ha={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},fa=void 0,ma=(da=function(e,t){if(e.namespaceURI!==ha.svg||"innerHTML"in e)e.innerHTML=t;else{for((fa=fa||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return da(e,t,n,r)})}:da),ga={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ya=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(t){ya.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ga[e]=ga[t]})});var ba=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),va=Lr.thatReturns(""),xa={createElement:dt,createTextNode:ht,setInitialProperties:ft,diffProperties:mt,updateProperties:gt,diffHydratedProperties:yt,diffHydratedText:bt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(ye(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=x(r);i||j("90"),ie(r),ye(r,i)}}}break;case"textarea":rt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}}},Ca=null,wa=null,Ea=Yo,_a=Xo,Ta=Qo;new Set;var Sa=[],Na=-1,Ra=Et(qr),ka=Et(!1),Oa=qr,za=null,Aa=null,Ia=!1,Da=Et(null),Pa=Et(null),Ma=Et(0),ja={},La=Et(ja),Ua=Et(ja),Fa=Et(ja),Ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ie(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=er(),i=Yt(r=Jn(r,e));i.payload=t,null!=n&&(i.callback=n),Xt(e,i,r),Zn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=er(),i=Yt(r=Jn(r,e));i.tag=1,i.payload=t,null!=n&&(i.callback=n),Xt(e,i,r),Zn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=er(),r=Yt(n=Jn(n,e));r.tag=2,null!=t&&(r.callback=t),Xt(e,r,n),Zn(e,n)}},qa=Array.isArray,Va=yn(!0),Ha=yn(!1),Wa=null,$a=null,Ka=!1,Ya=void 0,
Ga=void 0,Xa=void 0;Ya=function(){},Ga=function(e,t,n){(t.updateQueue=n)&&In(t)},Xa=function(e,t,n,r){n!==r&&In(t)};var Qa=Ea(),Ja=2,Za=Qa,es=0,ts=0,ns=!1,rs=null,is=null,os=0,as=-1,ss=!1,ps=null,cs=!1,ls=!1,us=null,ds=null,hs=null,fs=0,ms=void 0,gs=!1,ys=null,bs=0,vs=0,xs=!1,Cs=!1,ws=null,Es=null,_s=!1,Ts=!1,Ss=!1,Ns=null,Rs=1e3,ks=0,Os=1,zs={updateContainerAtExpirationTime:Cr,createContainer:function(e,t,n){return Bt(e,t,n)},updateContainer:Er,flushRoot:cr,requestWork:ir,computeUniqueAsyncExpiration:Qn,batchedUpdates:gr,unbatchedUpdates:yr,deferredUpdates:tr,syncUpdates:nr,interactiveUpdates:vr,flushInteractiveUpdates:function(){gs||0===vs||(pr(vs,!1,null),vs=0)},flushControlled:xr,flushSync:br,getPublicRootInstance:_r,findHostInstance:wr,findHostInstanceWithNoPortals:function(e){return null===(e=je(e))?null:e.stateNode},injectIntoDevTools:Tr};Ii.injectFiberControlledHostComponent(xa),Nr.prototype.render=function(e){this._defer||j("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Rr;return Cr(e,t,null,n,r._onCommit),r},Nr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Nr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||j("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)i=(r=i)._next;null===r&&j("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,cr(e,n),t=this._next,(this._next=null)!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Nr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Rr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Rr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&j("191",n),n()}}},kr.prototype.render=function(e,t){var n=this._internalRoot,r=new Rr;return null!==(t=void 0===t?null:t)&&r.then(t),Er(e,n,null,r._onCommit),r},kr.prototype.unmount=function(e){var t=this._internalRoot,n=new Rr;return null!==(e=void 0===e?null:e)&&n.then(e),Er(null,t,null,n._onCommit),n},kr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Rr;return null!==(n=void 0===n?null:n)&&i.then(n),Er(t,r,e,i._onCommit),i},kr.prototype.createBatch=function(){var e=new Nr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)(n.firstBatch=e)._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)r=(n=r)._next;e._next=r,null!==n&&(n._next=e)}return e},Y=zs.batchedUpdates,G=zs.interactiveUpdates,X=zs.flushInteractiveUpdates;var As={createPortal:Ir,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:wr(e)},hydrate:function(e,t,n){return Ar(null,e,t,!0,n)},render:function(e,t,n){return Ar(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&j("38"),Ar(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Or(e)||j("40"),!!e._reactRootContainer&&(yr(function(){Ar(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ir.apply(void 0,arguments)},unstable_batchedUpdates:gr,unstable_deferredUpdates:tr,unstable_interactiveUpdates:vr,flushSync:br,unstable_flushControlled:xr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:ni,EventPluginRegistry:Xr,EventPropagators:si,ReactControlledComponent:Mi,ReactDOMComponentTree:ai,ReactDOMEventListener:Io},unstable_createRoot:function(e,t){return new kr(e,!0,null!=t&&!0===t.hydrate)}};Tr({findFiberByHostInstance:b,bundleType:0,version:"16.4.2",rendererPackageName:"react-dom"});var Is={"default":As},Ds=Is&&As||Is;e.exports=Ds["default"]?Ds["default"]:Ds},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(22)}]),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactTransitionGroup=t(require("react"),require("react-dom")):e.ReactTransitionGroup=t(e.React,e.ReactDOM)}(this,function(t,n){return function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};return i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=22)}([function(e){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&s())}function s(){if(!f){var e=i(a);f=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,f=!1,o(e)}}function p(e,t){this.fun=e,this.array=t}function t(){}var c,l,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,h=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new p(e,t)),1!==h.length||f||i(s)},p.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=t,u.addListener=t,u.once=t,u.off=t,u.removeListener=t,u.removeAllListeners=t,u.emit=t,u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e){e.exports=t},function(o,e,a){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==e.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,r=function r(e){return"object"===(void 0===e?"undefined":t(e))&&null!==e&&e.$$typeof===n},i=!0;o.exports=a(19)(r,i)}else o.exports=a(18)()}).call(e,a(0))},function(e){"use strict";function t(e){return function(){return e}}var n=function n(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(n,e,t){"use strict";(function(e){function t(e,t,n,r,i,o,a,s){if(u(t),!e){var p;if(t===undefined)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(p=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}}var u=function u(){};"production"!==e.env.NODE_ENV&&(u=function u(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),n.exports=t}).call(e,t(0))},function(p,g,y){"use strict";(function(c){function e(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}g.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=e(y(11)),h=e(y(1)),n=e(y(2)),f=e(y(20)),m=y(23),r={component:n["default"].any,childFactory:n["default"].func,children:n["default"].node},i={component:"span",childFactory:function s(e){return e}},o=function(n){function i(e,t){a(this,i);var r=l(this,n.call(this,e,t));return r.performAppear=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(r._handleDoneAppearing.bind(r,e,t)):r._handleDoneAppearing(e,t)},r._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete r.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(r.props.children);n&&n.hasOwnProperty(e)||r.performLeave(e,t)},r.performEnter=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(r._handleDoneEntering.bind(r,e,t)):r._handleDoneEntering(e,t)},r._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete r.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(r.props.children);n&&n.hasOwnProperty(e)||r.performLeave(e,t)},r.performLeave=function(e,t){r.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(r._handleDoneLeaving.bind(r,e,t)):r._handleDoneLeaving(e,t)},r._handleDoneLeaving=function(n,e){e.componentDidLeave&&e.componentDidLeave(),delete r.currentlyTransitioningKeys[n];var t=(0,m.getChildMapping)(r.props.children);t&&t.hasOwnProperty(n)?r.keysToEnter.push(n):r.setState(function(e){var t=u({},e.children);return delete t[n],{children:t}})},r.childRefs=Object.create(null),r.state={children:(0,m.getChildMapping)(e.children)},r}return t(i,n),i.prototype.componentWillMount=function e(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},i.prototype.componentDidMount=function r(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},i.prototype.componentWillReceiveProps=function s(e){var t=(0,m.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,m.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},i.prototype.componentDidUpdate=function o(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},i.prototype.render=function p(){var o=this,a=[],s=function s(t){var e=o.state.children[t];if(e){var n="string"!=typeof e.ref,r=o.props.childFactory(e),i=function i(e){o.childRefs[t]=e};"production"!==c.env.NODE_ENV&&(0,f["default"])(n,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),r===e&&n&&(i=(0,d["default"])(e.ref,i)),a.push(h["default"].cloneElement(r,{key:t,ref:i}))}};for(var e in this.state.children)s(e);var t=u({},this.props);return delete t.transitionLeave,delete t.transitionName,delete t.transitionAppear,delete t.transitionEnter,delete t.childFactory,delete t.transitionLeaveTimeout,delete t.transitionEnterTimeout,delete t.transitionAppearTimeout,delete t.component,h["default"].createElement(this.props.component,t,a)},i}(h["default"].Component);o.displayName="TransitionGroup",o.propTypes="production"!==c.env.NODE_ENV?r:{},o.defaultProps=i,g["default"]=o,p.exports=g["default"]}).call(g,y(0))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t["default"]},function(n,e,r){"use strict";(function(e){var s,t=r(3);"production"!==e.env.NODE_ENV&&(s=function s(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},t=function o(e,t){if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.apply(undefined,[t].concat(r))}}),n.exports=t}).call(e,r(0))},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=undefined,t.transitionTimeout=i;r(n(1));var o=r(n(2));t.nameShape=o["default"].oneOfType([o["default"].string,o["default"].shape({enter:o["default"].string,leave:o["default"].string,active:o["default"].string}),o["default"].shape({enter:o["default"].string,enterActive:o["default"].string,leave:o["default"].string,leaveActive:o["default"].string,appear:o["default"].string,appearActive:o["default"].string})])},function(f,m,g){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}m.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=t(g(1)),i=t(g(2)),l=t(g(5)),u=t(g(21)),o=g(9),a={transitionName:o.nameShape.isRequired,transitionAppear:i["default"].bool,transitionEnter:i["default"].bool,transitionLeave:i["default"].bool,transitionAppearTimeout:(0,o.transitionTimeout)("Appear"),transitionEnterTimeout:(0,o.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,o.transitionTimeout)("Leave")},d={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},h=function(o){function a(){var e,t;s(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=p(this,o.call.apply(o,[this].concat(r))))._wrapChild=function(e){return c["default"].createElement(u["default"],{name:t.props.transitionName,appear:t.props.transitionAppear,enter:t.props.transitionEnter,leave:t.props.transitionLeave,appearTimeout:t.props.transitionAppearTimeout,enterTimeout:t.props.transitionEnterTimeout,leaveTimeout:t.props.transitionLeaveTimeout},e)},p(t,e)}return n(a,o),a.prototype.render=function e(){return c["default"].createElement(l["default"],r({},this.props,{childFactory:this._wrapChild}))},a}(c["default"].Component);h.displayName="CSSTransitionGroup",h.propTypes="production"!==e.env.NODE_ENV?a:{},h.defaultProps=d,m["default"]=h,f.exports=m["default"]}).call(m,g(0))},function(e){"use strict";e.exports=function r(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];return 0===(t=t.filter(function(e){return null!=e})).length?undefined:1===t.length?t[0]:t.reduce(function(e,t){return function n(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){e.classList?e.classList.add(t):(0,o["default"])(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(13));e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e){"use strict";e.exports=function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=document.createElement("div").style,t={O:function p(e){return"o"+e.toLowerCase()},Moz:function c(e){return e.toLowerCase()},Webkit:function l(e){return"webkit"+e},ms:function u(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=undefined;var o="transform",a=void 0,s=void 0,p=void 0,c=void 0,l=void 0,u=void 0,d=void 0,h=void 0,f=void 0,m=void 0,g=void 0;if(r(n(6))["default"]){var y=i();a=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=p=y.animationEnd,t.transform=o=a+"-"+o,t.transitionProperty=c=a+"-transition-property",t.transitionDuration=l=a+"-transition-duration",t.transitionDelay=d=a+"-transition-delay",t.transitionTiming=u=a+"-transition-timing-function",t.animationName=h=a+"-animation-name",t.animationDuration=f=a+"-animation-duration",t.animationTiming=m=a+"-animation-delay",t.animationDelay=g=a+"-animation-timing-function"}t.transform=o,t.transitionProperty=c,t.transitionTiming=u,t.transitionDelay=d,t.transitionDuration=l,t.transitionEnd=s,t.animationName=h,t.animationDuration=f,t.animationTiming=m,t.animationDelay=g,t.animationEnd=p,t["default"]={transform:o,end:s,property:c,timing:u,delay:d,duration:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),r=setTimeout(e,n);return u=t,r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(6)),a=["","webkit","moz","o","ms"],s="clearTimeout",p=i,c=void 0,l=function l(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o["default"]&&a.some(function(e){var t=l(e,"request");if(t in window)return s=l(e,"cancel"),p=function n(e){return window[t](e)}});var u=(new Date).getTime();(c=function c(e){return p(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t["default"]=c,e.exports=t["default"]},function(t,e,n){"use strict";(function(c){function e(e,t,n,r,i){if("production"!==c.env.NODE_ENV)for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]&&("production"!==c.env.NODE_ENV?u(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,o):u(!1)),a=e[o](t,o,r,n,null,h)}catch(p){a=p}if("production"!==c.env.NODE_ENV&&d(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,void 0===a?"undefined":l(a)),a instanceof Error&&!(a.message in f)){f[a.message]=!0;var s=i?i():"";"production"!==c.env.NODE_ENV&&d(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==c.env.NODE_ENV)var u=n(4),d=n(7),h=n(8),f={};t.exports=e}).call(e,n(0))},function(e,t,n){"use strict";(function(r){var i=n(3),o=n(4);e.exports=function(){function e(){"production"!==r.env.NODE_ENV?o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"):o(!1)}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=i,n.PropTypes=n}}).call(t,n(0))},function(e,t,n){"use strict";(function(T){var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=n(3),R=n(4),k=n(7),O=n(8),z=n(17);e.exports=function(a,u){function o(e){var t=e&&(C&&e[C]||e[w]);if("function"==typeof t)return t}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){this.message=e,this.stack=""}function t(p){function e(e,t,n,r,i,o,a){if(r=r||E,o=o||n,a!==O)if(u)"production"!==T.env.NODE_ENV?R(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"):R(!1);else if("production"!==T.env.NODE_ENV&&"undefined"!=typeof console){var s=r+":"+n;!c[s]&&l<3&&("production"!==T.env.NODE_ENV&&k(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",o,r),c[s]=!0,l++)}return null==t[n]?e?null===t[n]?new d("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `null`."):new d("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:p(t,n,r,i,o)}if("production"!==T.env.NODE_ENV)var c={},l=0;var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function e(a){function e(e,t,n,r,i){var o=e[t];return b(o)===a?null:new d("Invalid "+r+" `"+i+"` of type `"+v(o)+"` supplied to `"+n+"`, expected `"+a+"`.")}return t(e)}function n(){return t(N.thatReturnsNull)}function r(p){function e(e,t,n,r,i){if("function"!=typeof p)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o))return new d("Invalid "+r+" `"+i+"` of type `"+b(o)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<o.length;a++){var s=p(o,a,n,r,i+"["+a+"]",O);if(s instanceof Error)return s}return null}return t(e)}function i(){function e(e,t,n,r,i){var o=e[t];return a(o)?null:new d("Invalid "+r+" `"+i+"` of type `"+b(o)+"` supplied to `"+n+"`, expected a single ReactElement.")}return t(e)}function s(a){function e(e,t,n,r,i){if(e[t]instanceof a)return null;var o=a.name||E;return new d("Invalid "+r+" `"+i+"` of type `"+x(e[t])+"` supplied to `"+n+"`, expected instance of `"+o+"`.")}return t(e)}function c(s){function e(e,t,n,r,i){for(var o=e[t],a=0;a<s.length;a++)if(p(o,s[a]))return null;return new d("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected one of "+JSON.stringify(s)+".")}return Array.isArray(s)?t(e):("production"!==T.env.NODE_ENV&&"production"!==T.env.NODE_ENV&&k(!1,"Invalid argument supplied to oneOf, expected an instance of array."),N.thatReturnsNull)}function l(c){function e(e,t,n,r,i){if("function"!=typeof c)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=e[t],a=b(o);if("object"!==a)return new d("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in o)if(o.hasOwnProperty(s)){var p=c(o,s,n,r,i+"."+s,O);if(p instanceof Error)return p}return null}return t(e)}function h(a){function e(e,t,n,r,i){for(var o=0;o<a.length;o++){if(null==(0,a[o])(e,t,n,r,i,O))return null}return new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")}return Array.isArray(a)?t(e):("production"!==T.env.NODE_ENV&&"production"!==T.env.NODE_ENV&&k(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),N.thatReturnsNull)}function f(){function e(e,t,n,r,i){return g(e[t])?null:new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return t(e)}function m(l){function e(e,t,n,r,i){var o=e[t],a=b(o);if("object"!==a)return new d("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in l){var p=l[s];if(p){var c=p(o,s,n,r,i+"."+s,O);if(c)return c}}return null}return t(e)}function g(e){switch(void 0===e?"undefined":S(e)){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(g);if(null===e||a(e))return!0;var t=o(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!g(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!g(i[1]))return!1}return!0;default:return!1}}function y(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function b(e){var t=void 0===e?"undefined":S(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":y(t,e)?"symbol":t}function v(e){var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var C="function"==typeof Symbol&&Symbol.iterator,w="@@iterator",E="<<anonymous>>",_={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(),arrayOf:r,element:i(),instanceOf:s,node:f(),objectOf:l,oneOf:c,oneOfType:h,shape:m};return d.prototype=Error.prototype,_.checkPropTypes=z,_.PropTypes=_}}).call(t,n(0))},function(t,e,n){"use strict";(function(e){var p=function p(){};"production"!==e.env.NODE_ENV&&(p=function p(e,t,n){var r=arguments.length;n=new Array(2<r?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(!e){var o=0,a="Warning: "+t.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}}),t.exports=p}).call(e,n(0))},function(c,v,x){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(t,n){return i.length?i.forEach(function(e){return t.addEventListener(e,n,!1)}):setTimeout(n,0),function(){i.length&&i.forEach(function(e){return t.removeEventListener(e,n,!1)})}}v.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=t(x(12)),f=t(x(14)),m=t(x(16)),g=x(15),y=t(x(1)),n=t(x(2)),b=x(24),r=x(9),i=[];g.transitionEnd&&i.push(g.transitionEnd),g.animationEnd&&i.push(g.animationEnd);var o={children:n["default"].node,name:r.nameShape.isRequired,appear:n["default"].bool,enter:n["default"].bool,leave:n["default"].bool,appearTimeout:n["default"].number,enterTimeout:n["default"].number,leaveTimeout:n["default"].number},a=function(o){function a(){var e,t;s(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=p(this,o.call.apply(o,[this].concat(r)))).componentWillAppear=function(e){t.props.appear?t.transition("appear",e,t.props.appearTimeout):e()},t.componentWillEnter=function(e){t.props.enter?t.transition("enter",e,t.props.enterTimeout):e()},t.componentWillLeave=function(e){t.props.leave?t.transition("leave",e,t.props.leaveTimeout):e()},p(t,e)}return l(a,o),a.prototype.componentWillMount=function e(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},a.prototype.componentWillUnmount=function t(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},a.prototype.transition=function c(e,t,n){var r=(0,b.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,o=this.props.name[e+"Active"]||i+"-active",a=null,s=void 0;(0,h["default"])(r,i),this.queueClassAndNode(o,r);var p=function p(e){e&&e.target!==r||(clearTimeout(a),s&&s(),(0,f["default"])(r,i),(0,f["default"])(r,o),s&&s(),t&&t())};n?(a=setTimeout(p,n),this.transitionTimeouts.push(a)):g.transitionEnd&&(s=u(r,p))}else t&&t()},a.prototype.queueClassAndNode=function r(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,m["default"])(function(){return n.flushClassNameAndNodeQueue()}))},a.prototype.flushClassNameAndNodeQueue=function n(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,h["default"])(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},a.prototype.render=function i(){var e=d({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,y["default"].cloneElement(y["default"].Children.only(this.props.children),e)},a}(y["default"].Component);a.displayName="CSSTransitionGroupChild",a.propTypes="production"!==e.env.NODE_ENV?o:{},v["default"]=a,c.exports=v["default"]}).call(v,x(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n(10)),o=r(n(5));e.exports={TransitionGroup:o["default"],CSSTransitionGroup:i["default"]}},function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function i(t,n){function e(e){return n.hasOwnProperty(e)?n[e]:t[e]}t=t||{},n=n||{};var r={},i=[];for(var o in t)n.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var p in n){if(r.hasOwnProperty(p))for(a=0;a<r[p].length;a++){var c=r[p][a];s[r[p][a]]=e(c)}s[p]=e(p)}for(a=0;a<i.length;a++)s[i[a]]=e(i[a]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var o=n(1)},function(e){e.exports=n}])}),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PortalClient=t():e.PortalClient=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,
t,n){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=n(1),h=n(2),f=n(3).TreeMirrorClient,i=function(){function o(e,t,n){var r=1<arguments.length&&t!==undefined?arguments[1]:"portal",i=2<arguments.length&&n!==undefined?arguments[2]:"portal";u(this,o),this.socked=e,this.channelName=r,this.id=i,this.sendMousePosition=h(this._sendMousePosition,200,{trailing:!0}).bind(this),this.sendWindowSize=h(this._sendWindowSize,200,{trailing:!0}).bind(this),this.sendScroll=h(this._sendScroll,200,{trailing:!0}).bind(this)}return d(o,[{key:"_sendMousePosition",value:function t(e){this.socketSend("mouseMove",{x:e.clientX,y:e.clientY})}},{key:"_sendWindowSize",value:function e(){this.socketSend("windowResize",{w:window.innerWidth,h:window.innerHeight})}},{key:"_sendScroll",value:function i(){var e;if(window.pageYOffset!=undefined)e={x:pageXOffset,y:pageYOffset};else{var t=document,n=t.documentElement,r=t.body;e={x:n.scrollLeft||r.scrollLeft||0,y:n.scrollTop||r.scrollTop||0}}this.socketSend("windowScroll",e)}},{key:"socketSend",value:function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=this.channel.users.getUsers();n.portalId=this.id,r&&1<r.length&&r.some(function(e){return!!e.admin})&&this.channel.trigger("client-"+e,n)}},{key:"createMirrorClient",value:function r(){var i=this;this.mirrorClient&&(this.mirrorClient.disconnect(),this.mirrorClient=null),this.mirrorClient=new f(document,{initialize:function n(e,t){i.socketSend("domEvent",{base:window.origin||window.location.origin,f:"initialize",args:[e,t]}),i.sendWindowSize()},applyChanged:function o(e,t,n,r){i.socketSend("domEvent",{f:"applyChanged",args:[e,t,n,r]})}})}},{key:"onClientPing",value:function n(e){this.id&&e.data&&this.id==e.data.portalId&&this.socketSend("pong")}},{key:"start",value:function s(){var e=this;this.channel||(this.channel=this.socked.subscribe(this.channelName),this.channel.on("internal:subscription_success",function(){e.createMirrorClient(),e.setupListeners(),e.socked.once("disconnected",e.end.bind(e))}),this.channel.on("client-initialize",function(){e.createMirrorClient()}),this.channel.on("client-ping",this.onClientPing.bind(this)))}},{key:"end",value:function p(){this.mirrorClient&&this.mirrorClient.disconnect(),this.mirrorClient=null,this.socked.unsubscribe(this.channelName),this.channel=null,this.teardownListeners()}},{key:"setupListeners",value:function c(){this.teardownListeners(),document.addEventListener("mousemove",this.sendMousePosition),window.addEventListener("resize",this.sendWindowSize),window.addEventListener("scroll",this.sendScroll)}},{key:"teardownListeners",value:function l(){document.removeEventListener("mousemove",this.sendMousePosition),window.removeEventListener("resize",this.sendWindowSize),window.removeEventListener("scroll",this.sendScroll)}}]),o}();r(i.prototype),e.exports=i},function(e){function n(e){if(e)return t(e)}function t(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e){"use strict";function t(n,r,i){var o,a,s,p=null,c=0;i||(i={});var l=function l(){c=!1===i.leading?0:Date.now(),p=null,s=n.apply(o,a),p||(o=a=null)};return function(){var e=Date.now();c||!1!==i.leading||(c=e);var t=r-(e-c);return o=this,a=arguments,t<=0||r<t?(p&&(clearTimeout(p),p=null),c=e,s=n.apply(o,a),p||(o=a=null)):p||!1===i.trailing||(p=setTimeout(l,t)),s}}e.exports=t},function(e,t,n){"use strict";var c=n(4),r=function(){function e(e,t){this.root=e,this.delegate=t,this.idMap={}}return e.prototype.initialize=function(e,t){this.idMap[e]=this.root;for(var n=0;n<t.length;n++)this.deserializeNode(t[n],this.root)},e.prototype.applyChanged=function(e,t,n,r){var o=this;t.forEach(function(e){var t=o.deserializeNode(e);o.deserializeNode(e.parentNode),o.deserializeNode(e.previousSibling);t.parentNode&&t.parentNode.removeChild(t)}),e.forEach(function(e){var t=o.deserializeNode(e);t.parentNode&&t.parentNode.removeChild(t)}),t.forEach(function(e){var t=o.deserializeNode(e),n=o.deserializeNode(e.parentNode),r=o.deserializeNode(e.previousSibling);n.insertBefore(t,r?r.nextSibling:n.firstChild)}),n.forEach(function(r){var i=o.deserializeNode(r);Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];try{null===t?i.removeAttribute(e):o.delegate&&o.delegate.setAttribute&&o.delegate.setAttribute(i,e,t,r.attributes)||i.setAttribute(e,t)}catch(n){console.log(n)}})}),r.forEach(function(e){o.deserializeNode(e).textContent=e.textContent}),e.forEach(function(e){delete o.idMap[e.id]})},e.prototype.deserializeNode=function(n,e){var r=this;if(null===n)return null;var i=this.idMap[n.id];if(i)return i;var t=this.root.ownerDocument;switch(null===t&&(t=this.root),n.nodeType){case Node.COMMENT_NODE:i=t.createComment(n.textContent);break;case Node.TEXT_NODE:i=t.createTextNode(n.textContent);break;case Node.DOCUMENT_TYPE_NODE:i=t.implementation.createDocumentType(n.name,n.publicId,n.systemId);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(i=this.delegate.createElement(n.tagName)),i||(i=t.createElement(n.tagName)),Object.keys(n.attributes).forEach(function(e){try{r.delegate&&r.delegate.setAttribute&&r.delegate.setAttribute(i,e,n.attributes[e],n.attributes)||i.setAttribute(e,n.attributes[e])}catch(t){console.log(t)}})}if(!i)throw"ouch";if(this.idMap[n.id]=i,e&&e.appendChild(i),n.childNodes)for(var o=0;o<n.childNodes.length;o++)this.deserializeNode(n.childNodes[o],i);return i},e}(),l=function l(e,t,n){var r=["password","secret","passwd","api_key","apikey","access_token","auth","credentials","mysql_pwd","stripetoken","card[number]"],i=/\b(?:3[47]\d|(?:4\d|5[1-5]|65)\d{2}|6011)\d{12}\b/,o=/-----BEGIN[A-Z ]+(PRIVATE|PUBLIC) KEY-----.+-----END[A-Z ]+(PRIVATE|PUBLIC) KEY-----/,a=/^\b(?!(000|666|9))\d{3}-(?!00)\d{2}-(?!0000)\d{4}\b/;return"input"!=e.tagName.toLowerCase()&&("textarea"!=e.tagName.toLowerCase()||"value"!=t)||!(e.name&&(0<r.indexOf(e.name.toLowerCase())||e.name.match(/^cc/i)||e.name.match(/cvv/i))||n&&(n.replace(/[\-\s]/g,"").match(i)||n.match(o)||n.replace(/[\-\s]/g,"").match(a)))},i=function(){function e(e,t,n){var r=this;this.target=e,this.mirror=t,this.nextId=1,this.knownNodes=new c.NodeMap;for(var i=this.serializeNode(e).id,o=[],a=e.firstChild;a;a=a.nextSibling)o.push(this.serializeNode(a,!0));this.mirror.initialize(i,o);var s=[{all:!0}];n&&(s=s.concat(n)),this.mutationSummary=new c({rootNode:e,callback:function p(e){r.applyChanged(e)},queries:s})}return e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=undefined)},e.prototype.rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},e.prototype.forgetNode=function(e){this.knownNodes["delete"](e)},e.prototype.serializeNode=function(e,t){if(null===e)return null;var n=this.knownNodes.get(e);if(n!==undefined)return{id:n};var r={nodeType:e.nodeType,id:this.rememberNode(e)};switch(r.nodeType){case Node.DOCUMENT_TYPE_NODE:var i=e;r.name=i.name,r.publicId=i.publicId,r.systemId=i.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:r.textContent=e.textContent;break;case Node.ELEMENT_NODE:var o=e;r.tagName=o.tagName,r.attributes={};for(var a=0;a<o.attributes.length;a++){var s=o.attributes[a];l(o,s.name,s.value)?r.attributes[s.name]=s.value:r.attributes[s.name]=""}if(t&&o.childNodes.length){r.childNodes=[];for(var p=o.firstChild;p;p=p.nextSibling)r.childNodes.push(this.serializeNode(p,!0))}}return r},e.prototype.serializeAddedAndMoved=function(e,t,n){var o=this,r=e.concat(t).concat(n),a=new c.NodeMap;r.forEach(function(e){var t=e.parentNode,n=a.get(t);n||(n=new c.NodeMap,a.set(t,n)),n.set(e,!0)});var s=[];return a.keys().forEach(function(e){for(var t=a.get(e),n=t.keys();n.length;){for(var r=n[0];r.previousSibling&&t.has(r.previousSibling);)r=r.previousSibling;for(;r&&t.has(r);){var i=o.serializeNode(r);i.previousSibling=o.serializeNode(r.previousSibling),i.parentNode=o.serializeNode(r.parentNode),s.push(i),t["delete"](r),r=r.nextSibling}n=t.keys()}}),s},e.prototype.serializeAttributeChanges=function(e){var r=this,i=new c.NodeMap;return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var t=i.get(e);t||((t=r.serializeNode(e)).attributes={},i.set(e,t)),l(e,n,e.getAttribute(n))?t.attributes[n]=e.getAttribute(n):t.attributes[n]=""})}),i.keys().map(function(e){return i.get(e)})},e.prototype.applyChanged=function(e){var n=this,t=e[0],r=t.removed.map(function(e){return n.serializeNode(e)}),i=this.serializeAddedAndMoved(t.added,t.reparented,t.reordered),o=this.serializeAttributeChanges(t.attributeChanged),a=t.characterDataChanged.map(function(e){var t=n.serializeNode(e);return t.textContent=e.textContent,t});this.mirror.applyChanged(r,i,o,a),t.removed.forEach(function(e){n.forgetNode(e)})},e}();e.exports={TreeMirror:r,TreeMirrorClient:i}},function(e){"use strict";var n,t,r=window.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};if((n="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver)===undefined)console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver");else{(function b(){return ceb===d.ENTERED||ceb===d.EXITED});var d,i=function i(e){return'"'+e.replace(/"/,'\\"')+'"'},p=function p(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(g))throw Error("Invalid request option. invalid attribute name: "+e);return e},c=function c(e){if(!e.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var t={},n={},r=e.split(/\s+/),i=0;i<r.length;i++){if(o=r[i]){var o,a=(o=p(o)).toLowerCase();if(t[a])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");n[o]=!0,t[a]=!0}}return Object.keys(n)},o=function o(e){var t={};return e.forEach(function(e){e.qualifiers.forEach(function(e){t[e.attrName]=!0})}),Object.keys(t)},l=function(){function n(){this.nodes=[],this.values=[]}return n.prototype.isIndex=function(e){return+e==e>>>0},n.prototype.nodeId=function(e){var t=e[n.ID_PROP];return t||(t=e[n.ID_PROP]=n.nextId_++),t},n.prototype.set=function(e,t){var n=this.nodeId(e);this.nodes[n]=e,this.values[n]=t},n.prototype.get=function(e){var t=this.nodeId(e);return this.values[t]},n.prototype.has=function(e){return this.nodeId(e)in this.nodes},n.prototype["delete"]=function(e){var t=this.nodeId(e);delete this.nodes[t],this.values[t]=undefined},n.prototype.keys=function(){var e=[];for(var t in this.nodes)this.isIndex(t)&&e.push(this.nodes[t]);return e},n.ID_PROP="__mutation_summary_node_map_id__",n.nextId_=1,n}();(t=d||(d={}))[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED";var s=function(){function e(e,t,n,r,i,o,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return e.prototype.getAttributeOldValue=function(e){return this.attributeOldValues?(this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]):undefined},e.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},e.prototype.attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},e.prototype.characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},e.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},e.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e}(),a=function(){function e(){this.added=new l,this.removed=new l,this.maybeMoved=new l,this.oldPrevious=new l,this.moved=undefined}return e}(),u=function(a){function e(e,t){a.call(this),this.rootNode=e,this.reachableCache=undefined,this.wasReachableCache=undefined,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var n=0;n<t.length;n++){var r=t[n];switch(r.type){case"childList":this.anyParentsChanged=!0;for(var i=0;i<r.removedNodes.length;i++){var o=r.removedNodes[i];this.getChange(o).removedFromParent(r.target)}for(i=0;i<r.addedNodes.length;i++){o=r.addedNodes[i];this.getChange(o).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=!0,this.getChange(r.target).attributeMutated(r.attributeName,r.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,this.getChange(r.target).characterDataMutated(r.oldValue)}}}return r(e,a),e.prototype.getChange=function(e){var t=this.get(e);return t||(t=new s(e),this.set(e,t)),t},e.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},e.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new l;var t=this.reachableCache.get(e);return t===undefined&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},e.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new l;var t=this.wasReachableCache.get(e);return t===undefined&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},e.prototype.reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?d.STAYED_IN:d.ENTERED:this.getWasReachable(e)?d.EXITED:d.STAYED_OUT},e}(l),h=function(){function e(e,t,n,r,i){this.rootNode=e,this.mutations=t,this.selectors=n,this.calcReordered=r,this.calcOldPreviousSibling=i,this.treeChanges=new u(e,t),this.entered=[],this.exited=[],this.stayedIn=new l,this.visited=new l,this.childListChangeMap=undefined,this.characterDataOnly=undefined,this.matchCache=undefined,this.processMutations()}return e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],undefined)},e.prototype.visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((n&&n.childList||r==undefined)&&(r=this.treeChanges.reachabilityChange(e)),r!==d.STAYED_OUT){if(this.matchabilityChange(e),r===d.ENTERED)this.entered.push(e);else if(r===d.EXITED)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(r===d.STAYED_IN){var i=d.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?(i=d.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(i=d.REORDERED)),this.stayedIn.set(e,i)}if(r!==d.STAYED_IN)for(var o=e.firstChild;o;o=o.nextSibling)this.visitNode(o,r)}}},e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);r||(r=new a,this.childListChangeMap.set(t,r)),r.oldPrevious.has(e)||r.oldPrevious.set(e,e.previousSibling)}},e.prototype.getChanged=function(e,t,n){this.selectors=t,this.characterDataOnly=n;for(var r=0;r<this.entered.length;r++){var i=this.entered[r];(s=this.matchabilityChange(i))!==d.ENTERED&&s!==d.STAYED_IN||e.added.push(i)}var o=this.stayedIn.keys();for(r=0;r<o.length;r++){i=o[r];if((s=this.matchabilityChange(i))===d.ENTERED)e.added.push(i);else if(s===d.EXITED)e.removed.push(i);else if(s===d.STAYED_IN&&(e.reparented||e.reordered)){var a=this.stayedIn.get(i);e.reparented&&a===d.REPARENTED?e.reparented.push(i):e.reordered&&a===d.REORDERED&&e.reordered.push(i)}}for(r=0;r<this.exited.length;r++){var s;i=this.exited[r];(s=this.matchabilityChange(i))!==d.EXITED&&s!==d.STAYED_IN||e.removed.push(i)}},e.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);if(n===d.STAYED_OUT||n===d.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},e.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},e.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(r===undefined)throw Error("getOldAttribute requested for unchanged attribute name.");return r},e.prototype.attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};var t,n;if(e){t={},n={};for(var r=0;r<e.length;r++){t[u=e[r]]=!0,n[u.toLowerCase()]=u}}var i={},o=this.treeChanges.keys();for(r=0;r<o.length;r++){var a=o[r],s=this.treeChanges.get(a);if(s.attributes&&(d.STAYED_IN===this.treeChanges.reachabilityChange(a)&&d.STAYED_IN===this.matchabilityChange(a)))for(var p=a,c=s.getAttributeNamesMutated(),l=0;l<c.length;l++){var u=c[l];if(!t||t[u]||s.isCaseInsensitive&&n[u])s.getAttributeOldValue(u)!==p.getAttribute(u)&&(n&&s.isCaseInsensitive&&(u=n[u]),i[u]=i[u]||[],i[u].push(p))}}return i},e.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0;n<e.length;n++){var r=e[n];if(d.STAYED_IN===this.treeChanges.reachabilityChange(r)){var i=this.treeChanges.get(r);i.characterData&&r.textContent!=i.characterDataOldValue&&t.push(r)}}return t},e.prototype.computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new l);var n=this.matchCache[e.uid],r=n.get(t);return r===undefined&&(r=e.matchabilityChange(t,this.treeChanges.get(t)),n.set(t,r)),r},e.prototype.matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return d.STAYED_IN;default:return d.STAYED_OUT}if(!this.selectors)return d.STAYED_IN;if(e.nodeType!==Node.ELEMENT_NODE)return d.STAYED_OUT;for(var n=e,r=this.selectors.map(function(e){return t.computeMatchabilityChange(e,n)}),i=d.STAYED_OUT,o=0;i!==d.STAYED_IN&&o<r.length;){switch(r[o]){case d.STAYED_IN:i=d.STAYED_IN;break;case d.ENTERED:i=i===d.EXITED?d.STAYED_IN:d.ENTERED;break;case d.EXITED:i=i===d.ENTERED?d.STAYED_IN:d.EXITED}o++}return i},e.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new a,this.childListChangeMap.set(e,t)),t},e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new l;for(var e=0;e<this.mutations.length;e++){var n=function n(e,t){!e||r.oldPrevious.has(e)||r.added.has(e)||r.maybeMoved.has(e)||t&&(r.added.has(t)||r.maybeMoved.has(t))||r.oldPrevious.set(e,t)},t=this.mutations[e];if("childList"==t.type&&(this.treeChanges.reachabilityChange(t.target)===d.STAYED_IN||this.calcOldPreviousSibling)){for(var r=this.getChildlistChange(t.target),i=t.previousSibling,o=0;o<t.removedNodes.length;o++){var a=t.removedNodes[o];n(a,i),r.added.has(a)?r.added["delete"](a):(r.removed.set(a,!0),r.maybeMoved["delete"](a)),i=a}n(t.nextSibling,i);for(o=0;o<t.addedNodes.length;o++){a=t.addedNodes[o];r.removed.has(a)?(r.removed["delete"](a),r.maybeMoved.set(a,!0)):r.added.set(a,!0)}}}}},e.prototype.wasReordered=function(e){function n(e){if(!e)return!1;if(!a.maybeMoved.has(e))return!1;var t=a.moved.get(e);return t!==undefined||(s.has(e)?t=!0:(s.set(e,!0),t=i(e)!==r(e)),s.has(e)?(s["delete"](e),a.moved.set(e,t)):t=a.moved.get(e)),t}function r(e){var t=p.get(e);if(t!==undefined)return t;for(t=a.oldPrevious.get(e);t&&(a.removed.has(t)||n(t));)t=r(t);return t===undefined&&(t=e.previousSibling),p.set(e,t),t}function i(e){if(c.has(e))return c.get(e);for(var t=e.previousSibling;t&&(a.added.has(t)||n(t));)t=t.previousSibling;return c.set(e,t),t}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,o=this.treeChanges.get(e);o&&o.oldParentNode&&(t=o.oldParentNode);var a=this.childListChangeMap.get(t);if(!a)return!1;if(a.moved)return a.moved.get(e);a.moved=new l;var s=new l,p=new l,c=new l;return a.maybeMoved.keys().forEach(n),a.moved.get(e)},e}(),f=function(){function e(e,t){var n=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element||t.characterData?[]:undefined,this.reordered=t.all?[]:undefined,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var r=t.attribute?[t.attribute]:t.attributeList,i=e.attributeChangedNodes(r);t.attribute?this.valueChanged=i[t.attribute]||[]:(this.attributeChanged=i,t.attributeList&&t.attributeList.forEach(function(e){n.attributeChanged.hasOwnProperty(e)||(n.attributeChanged[e]=[])}))}if(t.all||t.characterData){var o=e.getCharacterDataChanged();t.characterData?this.valueChanged=o:this.characterDataChanged=o}this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}return e.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},e.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},e.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},e.prototype.getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)},e}(),N=/[a-zA-Z_]+/,R=/[a-zA-Z0-9_\-]+/,k=function(){function e(){}return e.prototype.matches=function(e){if(null===e)return!1;if(this.attrValue===undefined)return!0;if(!this.contains)return this.attrValue==e;for(var t=e.split(" "),n=0;n<t.length;n++)if(this.attrValue===t[n])return!0;return!1},e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+i(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+i(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},e}(),m=function(){function S(){this.uid=S.nextUid++,this.qualifiers=[]}var e;return Object.defineProperty(S.prototype,"caseInsensitiveTagName",{get:function t(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"selectorString",{get:function t(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),S.prototype.isMatching=function(e){return e[S.matchesSelector](this.selectorString)},S.prototype.wasMatching=function(e,t,n){if(!t||!t.attributes)return n;var r=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==r&&r!==e.tagName)return!1;for(var i=[],o=!1,a=0;a<this.qualifiers.length;a++){var s=this.qualifiers[a],p=t.getAttributeOldValue(s.attrName);i.push(p),o=o||p!==undefined}if(!o)return n;for(a=0;a<this.qualifiers.length;a++){s=this.qualifiers[a];if((p=i[a])===undefined&&(p=e.getAttribute(s.attrName)),!s.matches(p))return!1}return!0},S.prototype.matchabilityChange=function(e,t){var n=this.isMatching(e);return n?this.wasMatching(e,t,n)?d.STAYED_IN:d.ENTERED:this.wasMatching(e,t,n)?d.EXITED:d.STAYED_OUT},S.parseSelectors=function(e){function t(){r&&(i&&(r.qualifiers.push(i),i=undefined),a.push(r)),r=new S}function n(){i&&r.qualifiers.push(i),i=new k}for(var r,i,o,a=[],s=/\s/,p="Invalid or unsupported selector syntax.",c=1,l=2,u=3,d=4,h=5,f=6,m=7,g=8,y=9,b=10,v=11,x=12,C=13,w=14,E=c,_=0;_<e.length;){var T=e[_++];switch(E){case c:if(T.match(N)){t(),r.tagName=T,E=l;break}if("*"==T){t(),r.tagName="*",E=u;break}if("."==T){t(),n(),r.tagName="*",i.attrName="class",i.contains=!0,E=d;break}if("#"==T){t(),n(),r.tagName="*",i.attrName="id",E=d;break}if("["==T){t(),n(),r.tagName="*",i.attrName="",E=f;break}if(T.match(s))break;throw Error(p);case l:if(T.match(R)){r.tagName+=T;break}if("."==T){n(),i.attrName="class",i.contains=!0,E=d;break}if("#"==T){n(),i.attrName="id",E=d;break}if("["==T){n(),i.attrName="",E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case u:if("."==T){n(),i.attrName="class",i.contains=!0,E=d;break}if("#"==T){n(),i.attrName="id",E=d;break}if("["==T){n(),i.attrName="",E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case d:if(T.match(N)){i.attrValue=T,E=h;break}throw Error(p);case h:if(T.match(R)){i.attrValue+=T;break}if("."==T){n(),i.attrName="class",i.contains=!0,E=d;break}if("#"==T){n(),i.attrName="id",E=d;break}if("["==T){n(),E=f;break}if(T.match(s)){E=w;break}if(","!=T)throw Error(p);E=c;break;case f:if(T.match(N)){i.attrName=T,E=m;break}if(T.match(s))break;throw Error(p);case m:if(T.match(R)){i.attrName+=T;break}if(T.match(s)){E=g;break}if("~"==T){i.contains=!0,E=y;break}if("="==T){i.attrValue="",E=v;break}if("]"!=T)throw Error(p);E=u;break;case g:if("~"==T){i.contains=!0,E=y;break}if("="==T){i.attrValue="",E=v;break}if("]"==T){E=u;break}if(T.match(s))break;throw Error(p);case y:if("="!=T)throw Error(p);i.attrValue="",E=v;break;case b:if("]"==T){E=u;break}if(T.match(s))break;throw Error(p);case v:if(T.match(s))break;if('"'==T||"'"==T){o=T,E=C;break}i.attrValue+=T,E=x;break;case x:if(T.match(s)){E=b;break}if("]"==T){E=u;break}if("'"==T||'"'==T)throw Error(p);i.attrValue+=T;break;case C:if(T==o){E=b;break}i.attrValue+=T;break;case w:if(T.match(s))break;if(","!=T)throw Error(p);E=c}}switch(E){case c:case l:case u:case h:case w:t();break;default:throw Error(p)}if(!a.length)throw Error(p);return a},S.nextUid=1,S.matchesSelector="function"==typeof(e=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof e.mozMatchesSelector?"mozMatchesSelector":"function"==typeof e.msMatchesSelector?"msMatchesSelector":"matchesSelector",S}(),g=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,y=function(){function s(e){var t=this;this.connected=!1,this.options=s.validateOptions(e),this.observerOptions=s.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=undefined),this.calcReordered=this.options.queries.some(function(e){return e.all}),this.queryValidators=[],s.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return s.createQueryValidator(t.root,e)})),this.observer=new n(function(e){t.observerCallback(e)}),this.reconnect()}return s.createObserverOptions=function(e){function n(e){r.attributes&&!t||(r.attributes=!0,r.attributeOldValue=!0,e?(t=t||{},e.forEach(function(e){t[e]=!0,t[e.toLowerCase()]=!0})):t=undefined)}var t,r={childList:!0,subtree:!0};return e.forEach(function(e){if(e.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(e.all)return n(),r.characterData=!0,void(r.characterDataOldValue=!0);if(e.attribute)n([e.attribute.trim()]);else{var t=o(e.elementFilter).concat(e.attributeList||[]);t.length&&n(t)}}),t&&(r.attributeFilter=Object.keys(t)),r},s.validateOptions=function(e){for(var t in e)if(!(t in s.optionKeys))throw Error("Invalid option: "+t);if("function"!=typeof e.callback)throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var n={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},r=0;r<e.queries.length;r++){var i=e.queries[r];if(i.all){if(1<Object.keys(i).length)throw Error("Invalid request option. all has no options.");n.queries.push({all:!0})}else if("attribute"in i){if((a={attribute:p(i.attribute)}).elementFilter=m.parseSelectors("*["+a.attribute+"]"),1<Object.keys(i).length)throw Error("Invalid request option. attribute has no options.");n.queries.push(a)}else if("element"in i){var o=Object.keys(i).length,a={element:i.element,elementFilter:m.parseSelectors(i.element)};if(i.hasOwnProperty("elementAttributes")&&(a.attributeList=c(i.elementAttributes),o--),1<o)throw Error("Invalid request option. element only allows elementAttributes option.");n.queries.push(a)}else{if(!i.characterData)throw Error("Invalid request option. Unknown query request.");if(1<Object.keys(i).length)throw Error("Invalid request option. characterData has no options.");n.queries.push({characterData:!0})}}return n},s.prototype.createSummaries=function(e){if(!e||!e.length)return[];for(var t=new h(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),n=[],r=0;r<this.options.queries.length;r++)n.push(new f(t,this.options.queries[r]));return n},s.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){e&&e.recordPreviousState()})},s.prototype.runQueryValidators=function(n){this.queryValidators.forEach(function(e,t){e&&e.validate(n[t])})},s.prototype.changesToReport=function(e){return e.some(function(t){if(["added","removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged&&Object.keys(t.attributeChanged).some(function(e){return!!t.attributeChanged[e].length}))return!0;return!1})},s.prototype.observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect();var t=this.createSummaries(e);this.runQueryValidators(t),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(t)&&this.callback(t),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},s.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},s.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:undefined},s.prototype.disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},s.NodeMap=l,s.parseElementFilter=m.parseSelectors,s.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},s}();e.exports=y}}])}),function(s){s.namespace("Reamaze"),s(document).off("Reamaze"),
Reamaze={version:"2.1.1",visitor:null,_baseUrl:null,_settings:null,_ui:null,_customFields:null,_contactCustomFields:null,_callbacks:null,_preview:null,_translations:{},initialize:function(e,t,n,r){if(!(e=e||{}).account)throw"account is not defined";if(!e.app_domain)throw"app_domain is not defined";var i=e.account;i&&(i=i.toLowerCase()),this._baseUrl=e.protocol+i+"."+e.app_domain,this._baseDataUrl=e.protocol+i+"."+e.data_domain,this._pusherAppKey=e.pusherAppKey,this._ui=e.ui,this._customFields=n.widget,this._contactCustomFields=n.contact,this._settings=e,this._callbacks=r,this._translations=e.translations||{},this.styles=e.ui.styles||{},this.outbounds=e.outbounds||[],this.apps=e.apps||{},!this.styles.widgetColor&&this._ui&&this._ui.widget&&(this.styles.widgetColor=this._ui.widget.color||Reamaze.Styles["default"].widgetColor),this.styles.widgetColor&&(this.styles.headerBgColor||(this.styles.headerBgColor=this.styles.widgetColor),this.styles.headerFontColor||(this.styles.headerFontColor=Reamaze.Styles["default"].widgetIconColor),this.styles.buttonBgColor||(this.styles.buttonBgColor=this.styles.widgetColor,this.styles.buttonFontColor="#fff"),this.styles.buttonBorder||(this.styles.buttonBorder="1px solid "+this.styles.widgetColor),this.styles.buttonLinkColor||(this.styles.buttonLinkColor=this.styles.widgetColor),this.styles.bodyLinkColor=this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.widgetColor),Reamaze.Utils.parseColor("#333"))<2&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.widgetColor)||this.styles.widgetColor,Reamaze.Utils.colorContrast(Reamaze.Utils.parseColor(this.styles.bodyLinkColor),Reamaze.Utils.parseColor("#333"))<4&&(this.styles.bodyLinkColor=Reamaze.Utils.pSBC(.35,this.styles.bodyLinkColor,"rgb(0, 192, 255)")||this.styles.bodyLinkColor)),this.styles.buttonBorderRadius=Reamaze.Styles["default"].buttonBorderRadius,this.styles.inputBgColor=Reamaze.Styles["default"].inputBgColor,this.styles.inputFontColor=Reamaze.Styles["default"].inputFontColor,this.styles.inputBorder=Reamaze.Styles["default"].inputBorder);var o=function(){s(document).trigger("Reamaze.init",!window._rmzLoaded),window._rmzLoaded=!0,s.receiveMessage(function(e){try{var t=s.deparam(e.data);"reamaze:resize"==t._command?s(document).trigger("Reamaze.resize",t):"reamaze:navigate"==t._command?(s(document).trigger("Reamaze.navigate",t),s(document).trigger("Reamaze.resize",t)):"reamaze:new"==t._command?s(document).trigger("Reamaze.openPopup",t):"reamaze:esc"==t._command?s(document).trigger("Reamaze.closePopup"):"reamaze:widget:route"==t._command?s(document).trigger("Reamaze.Widget.route",t):"reamaze:anchorHeight"==t._command&&s(document).trigger("Reamaze.anchorHeight",t)}catch(e){}},this._baseUrl)}.bind(this);if(e._preview)return this._preview=!0,this.reset(),void(this._visitor=new Reamaze.Visitor(null,this._baseDataUrl,o,!0,!!e._setup));var a=Reamaze.localStorage.getItem("account");a?a!=this._settings.account&&Reamaze.reset():Reamaze.localStorage.setItem("account",this._settings.account),this._visitor=new Reamaze.Visitor(t,this._baseDataUrl,o)},_iframeform:function(e,t){var n=this;n.time=(new Date).getTime(),n.form=s('<form action="'+e+'" target="'+t.attr("name")+'" method="post" style="display:none;" id="form'+n.time+'"></form>'),n.addParameter=function(e,t){s("<input type='hidden' />").attr("name",e).attr("value",t).appendTo(n.form)},n.send=function(){s("body").append(n.form),n.form.submit(),t.bind("load",function(){s("#form"+s(this).data("time")).remove()})}},reset:function(){Reamaze.localStorage.reset(),Reamaze.sessionStorage.reset(),Reamaze.localStorage.setItem("account",this._settings.account)}}}(jQuery),function(i){i.namespace("Reamaze"),Reamaze.Styles={"default":{headerBgColor:"#10a2c5",headerFontColor:"#fff",headerFont:'"Nunito", Helvetica, Arial, sans-serif',bodyLinkColor:"#466bb8",bodyLinkDisabledColor:"#dedede",bodyFont:'"Nunito", Helvetica, Arial, sans-serif',bodyMutedFontColor:"#ccc",buttonBgColor:"#10a2c5",buttonFontColor:"#fff",buttonBorder:"1px solid #ccc",buttonLinkColor:"#10a2c5",buttonBorderRadius:"20px",inputBgColor:"#fff",inputFontColor:"#000",inputBorder:"1px solid #ddd",inputErrorColor:"#B94A48",widgetColor:"rgba(16, 161, 197, 1)",widgetIconColor:"rgba(255, 255, 255, 1)"},fromBrand:function(e,t){var n=t||{},r={};return e&&e.preferences&&(r.headerBgColor=e.preferences.popup_header_bg_color,r.headerFontColor=e.preferences.popup_header_font_color,r.headerFont=e.preferences.popup_header_font,r.bodyLinkColor=e.preferences.popup_link_color,r.bodyFont=e.preferences.popup_body_font,r.buttonBgColor=e.preferences.popup_button_bg_color,r.buttonFontColor=e.preferences.popup_button_font_color,r.buttonBorder=e.preferences.popup_button_border,r.buttonBorderRadius=e.preferences.popup_button_border_radius,r.buttonLinkColor=e.preferences.popup_link_color,r.inputBgColor=e.preferences.popup_input_bg_color,r.inputFontColor=e.preferences.popup_input_font_color,r.inputBorder=e.preferences.popup_input_border),i.extend({},Reamaze.Styles["default"],r,n)}}}(jQuery),function(t){t.namespace("Reamaze"),Reamaze.Utils={getLocaleDateString:function(e){var t={formatMatcher:"basic",month:"short",day:"numeric"};(new Date).getYear()!=e.getYear()&&(t.year="numeric");try{return e.toLocaleDateString(window.navigator.language,t)}catch(n){return e.toLocaleDateString()}},getLocaleTimeString:function(e){try{return e.toLocaleTimeString(window.navigator.language,{formatMatcher:"basic",hour:"numeric",minute:"2-digit"})}catch(t){return e.toLocaleTimeString()}},entitiesDecode:function(e){return t("<textarea/>").html(e).text()},simpleFormat:function(e){var t=/\r\n?/g,n=/\n\n+/g,r=/([^\n]\n)(?=[^\n])/g,i=e;return(i=(i=(i=i.replace(t,"\n")).replace(n,"</p>\n\n<p>")).replace(r,"$1<br/>"))&&(i="<p>"+i+"</p>"),i=(i=i.replace(/^<p><p>/g,"<p>")).replace(/<\/p><\/p>$/g,"</p>")},escapeOnce:function(e){var t=/["><']|&(?!([a-zA-Z]+|(#\d+)|(#[xX][\dA-Fa-f]+));)/g,n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};return e.replace(t,function(e){return n[e]||e})},getUserDisplayDetails:function(t,e,n){if(!t)return null;var r=Reamaze.Utils.getDisplayStaffAvatars(e,n);if("staff"==t.type){if(t.staffName&&e.allStaffAvatars){var i=e.allStaffAvatars.filter(function(e){return e.name===t.staffName});if(0<i.length)return{name:t.staffName||t.name,avatarUrls:[i[0].avatarUrl]}}var o=r[Math.floor(Math.random()*r.length)];return{name:o.name,avatarUrls:[o.avatarUrl]}}if("team"==t.type||"brand"==t.type)return{name:e.name,avatarUrls:r.map(function(e){return e.avatarUrl})};if(t){var a=t.avatarUrls||[];return t.avatarUrl&&(a=[t.avatarUrl]),{name:t.name,avatarUrls:a}}return null},getDisplayStaffAvatars:function(e,t){if(t&&0<t.length)return t.map(function(e){return{avatarUrl:e}});var n=[];return e&&(e.liveStaffAvatars&&0<e.liveStaffAvatars.length?n=e.liveStaffAvatars:e.staffAvatars&&0<e.staffAvatars.length&&(n=e.staffAvatars)),n},pSBC:function(e,t,n){if("number"!=typeof e||e<-1||1<e||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||n&&"string"!=typeof n)return null;this.pSBCr||(this.pSBCr=function(e){var t=e.length,n={};if(9<t){if((e=e.split(",")).length<3||4<e.length)return null;n[0]=r(e[0].split("(")[1]),n[1]=r(e[1]),n[2]=r(e[2]),n[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(4<t?e[4]+""+e[4]:"")),e=r(e.slice(1),16),n[0]=e>>16&255,n[1]=e>>8&255,n[2]=255&e,n[3]=-1,9!=t&&5!=t||(n[3]=i(n[2]/255*1e4)/1e4,n[2]=n[1],n[1]=n[0],n[0]=e>>24&255)}return n});var r=parseInt,i=Math.round,o=9<t.length,a=(o="string"==typeof n?9<n.length||"c"==n&&!o:o,e<0),s=(e=a?-1*e:e,n=n&&"c"!=n?n:a?"#000000":"#FFFFFF",this.pSBCr(t)),p=this.pSBCr(n);return s&&p?o?"rgb"+(-1<s[3]||-1<p[3]?"a(":"(")+i((p[0]-s[0])*e+s[0])+","+i((p[1]-s[1])*e+s[1])+","+i((p[2]-s[2])*e+s[2])+(s[3]<0&&p[3]<0?")":","+(-1<s[3]&&-1<p[3]?i(1e4*((p[3]-s[3])*e+s[3]))/1e4:p[3]<0?s[3]:p[3])+")"):"#"+(4294967296+16777216*i((p[0]-s[0])*e+s[0])+65536*i((p[1]-s[1])*e+s[1])+256*i((p[2]-s[2])*e+s[2])+(-1<s[3]&&-1<p[3]?i(255*((p[3]-s[3])*e+s[3])):-1<p[3]?i(255*p[3]):-1<s[3]?i(255*s[3]):255)).toString(16).slice(1,-1<s[3]||-1<p[3]?undefined:-2):null},parseColor:function(e){if("#"==e.substr(0,1)){var t=(e.length-1)/3,n=[17,1,.062272][t-1];return[Math.round(parseInt(e.substr(1,t),16)*n),Math.round(parseInt(e.substr(1+t,t),16)*n),Math.round(parseInt(e.substr(1+2*t,t),16)*n)]}try{return e.split("(")[1].split(")")[0].split(",").map(function(e){return+e})}catch(r){return[NaN,NaN,NaN]}},colorLuminance:function(e,t,n){var r=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*r[0]+.7152*r[1]+.0722*r[2]},colorContrast:function(e,t){var n=this.colorLuminance(e[0],e[1],e[2]),r=this.colorLuminance(t[0],t[1],t[2]);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},massageUserAgent:function(e){var t=e.userAgent;if("MacIntel"===e.platform&&1<e.maxTouchPoints&&!window.MSStream){var n=t.indexOf("Safari/");return"ipad os _ like mac "+t.substring(0,n)+"Mobile "+t.substring(n)}return t}}}(jQuery),function(a,s,n,e,t){a.namespace("Reamaze.Conversations"),Reamaze.Conversations.ACTIONS={CONVERSATION_CREATED:"CONVERSATION_CREATED",CONVERSATION_UPDATED:"CONVERSATION_UPDATED",CHAT_ENDED:"CHAT_ENDED",CONVERSATION_STARTED_MESSAGE_TRIGGERED:"CONVERSATION_STARTED_MESSAGE_TRIGGERED",MESSAGE_CREATED:"MESSAGE_CREATED",MESSAGE_READ:"MESSAGE_READ",MESSAGE_APPRECIATED:"MESSAGE_APPRECIATED",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SUBMITTING_MODAL:"SUBMITTING_MODAL",GET_CONVERSATION:"GET_CONVERSATION",GET_CONVERSATION_CALLBACK:"GET_CONVERSATION_CALLBACK",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_CONVERSATIONS_CALLBACK:"GET_CONVERSATIONS_CALLBACK"};var r=function(e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.OPEN_MODAL:return e.modal=t.payload,e;case Reamaze.Conversations.ACTIONS.CLOSE_MODAL:return e.modal=null,e;case Reamaze.Conversations.ACTIONS.SUBMITTING_MODAL:return e.modal.submitting=t.payload.submitting,e;default:return null}};Reamaze.Conversations.App=e({mixins:[TimerMixin],displayName:"Reamaze.Conversations.App",propTypes:{chatIsLive:t.bool,enableKb:t.bool,currentUser:t.object,active:t.bool,onAppMounted:t.func,contactHeader:t.string,conversations:t.object,conversationsFetched:t.bool,category:t.string,appContext:t.object.isRequired,contactMode:t.string,popupOptions:t.shape({override_placeholder:t.string,subject:t.string})},contextTypes:{window:t.object},getDefaultProps:function(){return{}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=a.extend({},this.state);t.effects=[],(t=r(t,e))&&this.setState(t)}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,submitting:!1}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};t.currentUser==this.state.currentUser&&t.inView==this.state.inView&&t.chatIsLive==this.state.chatIsLive||this.setState(t)},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4)},componentDidUpdate:function(e,t){(e.appContext.route!=this.props.appContext.route||this.props.active&&e.active!=this.props.active)&&(a(this.context.window).trigger("app:reinitjs"),t.modal&&this.setState({modal:null})),"conversations:show"!=this.props.appContext.route||this.props.conversations[this.props.appContext.routeParams.slug]||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_onBackButtonClicked:function(){this.props.appContext.prevRoute&&!this.props.appContext.prevRoute.match(/^conversations/)?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:this.props.appContext.prevRoute,routeParams:this.props.appContext.prevRouteParams}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index"}})},_scrollContent:function(e){if(this.refs.content){var t=n.findDOMNode(this.refs.content);t.scrollTop="t"==e?0:"b"==e?100*t.offsetHeight:e-t.offsetTop-20}},_openEmailTranscriptPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"email_transcript",slug:e}})},_openEndChatPopup:function(e){this.state.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"end_chat",slug:e}})},onSubmit:function(r){if(!this.props.appContext._preview){var i=this.props.conversations[this.props.appContext.routeParams.slug],o=i&&i.outbound&&1==i.messages.length;return o?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:r},slug:i.slug}}):this.setState({submitting:!0},function(){var e=this.props.appContext.getPusher(),t={message:r};e&&e.connection&&e.connection.socket_id&&(t.socket_id=e.connection.socket_id),this.props.currentUser&&(t.sparams=a.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3);t._zt=Reamaze.ec("0"+n),t._zt2=n,t._zc_field="5b5cd0da3121fc53b4bc84d0c8af2e81",this.state.chatIsLive&&(t.chat=1),o?(t._url=window.location.href,t._browser=Reamaze.Utils.massageUserAgent(window.navigator),i.outboundData&&(t.outbound_data_str=JSON.stringify(i.outboundData)),a.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations",type:"POST",data:t,success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})):a.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+i.slug+"/messages",type:"POST",data:t,beforeSend:function(e){e.requestId=Math.floor(99999999*Math.random()+1),e.messagePayload={id:"pending-"+e.requestId,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.message.body)),pending:!0,user:{id:this.props.currentUser.get("_id"),name:this.props.currentUser.get("name"),email:this.props.currentUser.get("email")},viewed:!1,createdAt:(new Date).toISOString(),requestId:e.requestId},t.message.attachment_ids&&(e.messagePayload.pendingData={message:{attachment_ids:t.message.attachment_ids}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e.messagePayload,conversationSlug:i.slug,conversationId:i.id,inView:!0}})}.bind(this),success:function(e,t,n){e.requestId=n.requestId,e.pending=!1,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:e,conversationSlug:i.slug,conversationId:i.id,inView:!0}})}.bind(this),error:function(e){m=e.messagePayload,m.requestId=e.requestId,m.pending=!1,m.errored=!0,this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{message:m,conversationSlug:i.slug,conversationId:i.id,inView:!0}})}.bind(this),complete:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0})}.bind(this)),!1}},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},getHeader:function(){var e=!1,t=null;if("conversations:show"==this.props.appContext.route&&(t=this.props.conversations[this.props.appContext.routeParams.slug])&&t.outbound&&1==t.messages.length&&(e=!0),t&&t.loaded&&!e){for(var r={},n=0;n<t.messages.length;n++){var i=t.messages[n];i.user.isStaff&&(r[i.user.id]=i.user)}if(1<Object.keys(r).length&&r[undefined]&&delete r[undefined],0<Object.keys(r).length)return s.createElement("div",{className:"staff-avatars"},Object.keys(r).slice(0,3).map(function(e,t){var n=r[e];return s.createElement("img",{title:n.name,style:{position:"relative",zIndex:3-e},src:n.avatarUrl||Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces)[0].avatarUrl,key:t})}.bind(this)))}return this.props.contactHeader||!1},getSecondaryHeader:function(){var e=!1,t=!1,n=null;return"conversations:show"==this.props.appContext.route&&(n=this.props.conversations[this.props.appContext.routeParams.slug])&&n.outbound&&n.outboundData&&1==n.messages.length&&(e=!0,n.outboundData.live&&Date.now()-n.outboundData.timestamp<6e5&&(t=!0)),!(!n||e&&!t)&&(n.isChat?s.createElement("div",{id:"secondary-header"},s.createElement("div",{id:"chat-actions"},s.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEmailTranscriptPopup(n.slug)}.bind(this),title:this.props.appContext.brand.preferences.trans_chat_email_transcript},s.createElement("i",{className:"fas rmzfa rmzfa-envelope anim-btn"})),"archived"!=n.status&&s.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this._openEndChatPopup(n.slug)}.bind(this),title:"End Chat"},s.createElement("i",{className:"fas rmzfa rmzfa-power-off anim-btn"})))):s.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.state.chatIsLive,brand:this.props.appContext.brand}))},getContent:function(){if("conversations:show"==this.props.appContext.route){var e=this.props.conversations[this.props.appContext.routeParams.slug];if(e)return s.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:a.extend({},e),dispatcher:this.state.dispatcher,channel:!e.outbound&&!e.preview&&this.props.appContext.getPusher().channel("presence-conversation-"+e.id),scrollContent:this._scrollContent,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,contactMode:this.props.contactMode,onPromptOptionClick:this.onSubmit,submitting:this.state.submitting})}else if("conversations:index"==this.props.appContext.route){if(Object.keys(this.props.conversations||{}).length)return s.createElement("div",{id:"recent-conversations-container"},s.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:this._scrollContent.bind(this,"t"),ref:"contentInner",appContext:this.props.appContext}))}else if("conversations:new"==this.props.appContext.route){var t="object"==typeof this.props.label?this.props.label.text:this.props.label;if("traditional"==this.props.contactMode)return s.createElement(Reamaze.Conversations.ContactForm,{appContext:this.props.appContext,inView:this.state.inView,currentUser:this.props.currentUser,category:this.props.category,override_placeholder:this.props.popupOptions.override_placeholder,subject:this.props.popupOptions.subject});var n=0<this.props.appContext.brand.activeIncidents.length;if(t||n){var r=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},""),i=[];return n&&i.push({id:"*rmz-incident-text*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:r,meta:{buttons:[{text:this.props.appContext.brand.preferences.trans_status_view_status_button,script:function o(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})}.bind(this)}]}}),t&&i.push({id:"*rmz-prompt*",system:!0,user:{displayAsStaff:!0},createdAt:new Date,body:this.props.label.text}),s.createElement(Reamaze.Conversations.Conversation,{ref:"contentInner",conversation:{id:"*rmz-prompt*",slug:"*rmz-prompt*",loaded:!1,outbound:!0,messages:i},dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,inView:this.state.inView,documentVisible:this.props.appContext.documentVisible,appContext:this.props.appContext,chatIsLive:this.state.chatIsLive,category:this.props.category,scrollContent:this._scrollContent,contactMode:this.props.contactMode})}}return null},getFooter:function(){if("conversations:show"==this.props.appContext.route&&this.props.conversations[this.props.appContext.routeParams.slug]){var e=this.props.conversations[this.props.appContext.routeParams.slug],t=e.messages&&0<e.messages.length?new Date-new Date(e.messages[e.messages.length-1].createdAt):0,n=6048e5,r=1728e5;return"archived"===e.status&&(e.isChat||r<t)||"resolved"===e.status&&n<t?s.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations}):s.createElement(Reamaze.Conversations.ConversationFooter,{conversation:a.extend({},this.props.conversations[this.props.appContext.routeParams.slug]),ref:"footer",dispatcher:this.state.dispatcher,scrollContentToBottom:this._scrollContent.bind(this,"b"),currentUser:this.state.currentUser,inView:this.state.inView,chatIsLive:this.state.chatIsLive,blur:!!this.state.modal,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.onSubmit,submitting:this.state.submitting})}return"conversations:new"==this.props.appContext.route&&"traditional"==this.props.contactMode?null:s.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.state.inView,chatIsLive:this.state.chatIsLive,onSubmit:this.onNewMessageSubmit,conversations:this.props.conversations})},onNewMessageSubmit:function(e){var t=e.a_comment_body;delete e.a_comment_body,data={message:e,a_comment_body:t},this.props.currentUser&&(data.sparams=a.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3),r=Reamaze.ec("0"+n);return data._zt=r,data._zt2=n,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.state.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+r,data:data}}),!1},getModal:function(){if(!this.state.modal)return null;var e=0;if(this.refs.header){var t=n.findDOMNode(this.refs.header);t&&(e=t.offsetHeight||0)}return"end_chat"==this.state.modal.action?s.createElement(Reamaze.Conversations.EndChatModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"email_transcript"==this.state.modal.action?s.createElement(Reamaze.Conversations.EmailTranscriptModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{top:e},appContext:this.props.appContext}):"transitional"==this.state.modal.action?s.createElement(Reamaze.Conversations.TransitionalModal,{conversationSlug:this.state.modal.slug,dispatcher:this.state.dispatcher,currentUser:this.state.currentUser,style:{bottom:0},appContext:this.props.appContext}):void 0},render:function(){if(!this.props.active)return null;var e=!(this.props.appContext.routeParams&&this.props.appContext.routeParams.noback||"conversations:show"!=this.props.appContext.route&&"conversations:new"!=this.props.appContext.route);return s.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},s.createElement(Reamaze.Conversations.Css,{appContext:this.props.appContext}),s.createElement(Reamaze.Shared.Header,{ref:"header",chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.getHeader(),allowHtmlHeader:!0,appContext:this.props.appContext,backButton:e,onBackButtonClicked:this._onBackButtonClicked,secondaryHeader:this.getSecondaryHeader()}),s.createElement("div",{id:"content",ref:"content",className:(this.state.modal?"rmz-blur":"")+" "+(!1===this.props.appContext.brand.attribution?"":"attributed")},s.createElement("div",{id:"content-inner",className:"traditional"==this.props.contactMode&&"conversations:new"==this.props.appContext.route?"flex":""},this.getContent()),s.createElement(Reamaze.Attribution,{appContext:this.props.appContext,style:{textAlign:"center",paddingBottom:"5px"}})),this.getFooter(),this.getModal())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Availability=r({displayName:"Reamaze.Conversations.Availability",propTypes:{chatIsLive:i.bool,brand:i.object},render:function(){var e=this.getAvailability();return e?t.createElement("div",{className:"availability"},e):null},getAvailability:function(){return this.props.chatIsLive?this.props.brand.preferences.trans_chat_online:this.props.brand.inOffice||!this.props.brand.nextOfficeTime?this.props.brand.staffResponseTime:this.nextOfficeHour()},nextOfficeHour:function(){return t.createElement("span",null,t.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 93.651 93.651",style:{position:"relative",top:"4px",marginRight:"3px"},width:"18px",height:"18px"},t.createElement("path",{d:"M62.093,73.15c-6.914,6.679-15.97,10.31-25.404,10.31c-1.603,0-3.217-0.105-4.833-0.318  C11.831,80.508-2.318,62.073,0.315,42.047C2.95,22.022,21.38,7.871,41.411,10.506c0.515,0.068,1.024,0.152,1.531,0.24  c0.718,0.125,1.305,0.643,1.519,1.34c0.214,0.697,0.018,1.455-0.506,1.961c-4.536,4.381-7.628,9.811-9.071,15.851h-3.974  c1.243-5.848,3.853-11.21,7.684-15.774c-0.664-0.04-1.325-0.06-1.983-0.06c-16.179,0-30.289,12.023-32.455,28.488  C1.8,60.461,14.453,76.947,32.362,79.303c8.714,1.144,17.36-1.211,24.233-6.511c-6.034-1.719-11.336-4.895-15.584-9.072h5.921  c4.03,3.045,8.826,5.203,14.148,6.13c0.718,0.125,1.305,0.643,1.519,1.34C62.813,71.886,62.618,72.643,62.093,73.15z M71.026,57.598  c0-1.069-0.867-1.937-1.937-1.937h-9.212l10.453-10.555c0.549-0.555,0.712-1.387,0.411-2.108c-0.301-0.721-1.006-1.191-1.787-1.191  h-13.72c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.077L53.858,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.855C70.158,59.535,71.026,58.668,71.026,57.598z   M93.651,57.598c0-1.069-0.867-1.937-1.937-1.937h-9.211l10.453-10.555c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H77.86c-1.069,0-1.937,0.867-1.937,1.937c0,1.07,0.867,1.937,1.937,1.937h9.076L76.484,56.236  c-0.549,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h13.854C92.784,59.535,93.651,58.668,93.651,57.598z   M48.798,57.598c0-1.069-0.867-1.937-1.937-1.937H29.77l18.257-18.436c0.55-0.555,0.712-1.387,0.411-2.108  c-0.301-0.721-1.006-1.191-1.787-1.191H25.127c-1.07,0-1.937,0.867-1.937,1.936c0,1.07,0.867,1.937,1.937,1.937h16.881  L23.751,56.236c-0.55,0.556-0.712,1.387-0.411,2.108c0.301,0.721,1.006,1.191,1.787,1.191h21.735  C47.931,59.535,48.798,58.668,48.798,57.598z",fill:"#FFFFFF",style:{fill:"#fff"}}))," ",function(){var e=new Date(this.props.brand.nextOfficeTime),t=new Date,n=e-t;if(864e5<n||t.getDate()!==e.getDate()){try{if(n<=5184e5)return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+e.toLocaleDateString(window.navigator.language,{weekday:"long"})}catch(r){}return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+Reamaze.Utils.getLocaleDateString(e)}return this.props.brand.preferences.trans_popup_staff_next_available_time+" "+Reamaze.Utils.getLocaleTimeString(e)}.bind(this)())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatBusyMessage=n({displayName:"Reamaze.Conversations.ChatBusyMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3);return r.createElement("li",{className:"message staff chat-busy prompt rmz-fade "+(this.state.visible?"in":"")},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},this.props.appContext.brand.preferences.trans_chat_staff_busy," ",this.props.appContext.brand.preferences.trans_chat_staff_busy_follow_up)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ChatEndedMessage=n({displayName:"Reamaze.Conversations.ChatEndedMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,conversation:i.object.isRequired},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},render:function(){var e,n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),t=this.props.appContext.brand.preferences.trans_chat_ended.match(/\[(.*?)\]/);return e=t&&t[1]?r.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_ended.replace(/\[(.*?)\]/,'<a href="'+this.props.conversation.permalink+'" target="_blank">$1</a>')}}):r.createElement("div",null,this.props.appContext.brand.preferences.trans_chat_ended),r.createElement("li",{className:"message staff chat-ended prompt rmz-fade "+(this.state.visible?"in":"")},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,r,e,i){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactForm=e({displayName:"Reamaze.Conversations.ContactForm",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,inView:i.bool,override_placeholder:i.string,subject:i.string},getDefaultProps:function(){return{inView:!1}},getInitialState:function(){return{uploading:!1,attachmentsCount:0,showErrors:!1,submitting:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.submitting!=t.submitting||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors},contextTypes:{window:i.object},componentDidMount:function(){t(this.context.window.document).find("#contact_form").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)).on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)).on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)).on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),t(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize(r.findDOMNode(this.refs.body))},componentDidUpdate:function(){t(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(r.findDOMNode(this.refs.body))},componentWillUnmount:function(){t(this.context.window.document).find("#contact_form").off("attachments:add").off("attachments:remove").off("attachments:start").off("attachments:done"),t(this.context.window.document).find(r.findDOMNode(this.refs.fileupload1)).remove(),t(this.context.window.document).find(r.findDOMNode(this.refs.fileupload2)).remove()},_getStyleTag:function(){return n.createElement("style",null,
"\n          form#contact_form #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#contact_form input#fileupload {\n            position: absolute;\n          }\n          form#contact_form #fileupload-wrap > div {\n            margin-right: 10px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#contact_form .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#contact_form .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#contact_form.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#contact_form .attachments-error-indicator {\n            display: none;\n          }\n          form#contact_form.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#contact_form .action-bar {\n            text-align: right;\n          }\n          form#contact_form #body-container {\n            margin-bottom: 10px;\n          }\n          form#contact_form #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            min-height: 100%;\n            height: 100px;\n            overflow-y: hidden;\n            -ms-overflow-style: none;\n            resize: none;\n          }\n          form#contact_form .attachment-box {\n            display: none;\n          }\n          form#contact_form .attachment-box.in {\n            display: block;\n          }\n          ")},_onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),!this.state.uploading&&!this.props.appContext._preview)return 0<t(this.refs.form).find(".input-error").length?(this.setState({showErrors:!0}),t(this.refs.form).find(".input-error")[0].scrollIntoView(),void t(this.refs.form).find(".input-error :input")[0].focus()):(this.state.showErrors&&this.setState({showErrors:!1}),this.setState({submitting:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{formData:t(r.findDOMNode(this.refs.form)).serializeArray()}}),!1)},_submit:function(){t(this.refs.submitButton).click()},_getCaptchas:function(){var e="a_comment_body_hp_"+parseInt(Date.now()/1e3,10);return n.createElement("div",{id:e},n.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),n.createElement("label",{htmlFor:"a_comment_body"},"Do not fill in this field"),n.createElement("textarea",{name:"a_comment_body",id:"a_comment_body",ref:"a_comment_body"}))},render:function(){var e=this.state.messageBlank&&this.state.showErrors,t=!!this.props.currentUser.get("_id");return n.createElement("div",{className:"flex"},this._getStyleTag(),n.createElement("form",{id:"contact_form",method:"POST",className:"upload-attachments popup flex","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"conversation[messages_attributes][0][attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"1.5em 2em 1em 2em"}},this.props.subject&&n.createElement("input",{type:"hidden",name:"conversation[subject]",value:this.props.subject}),n.createElement("fieldset",{disabled:this.state.submitting,id:"new-conversation-fieldset",className:"flex",style:{opacity:this.state.submitting?"0.7":1}},n.createElement("div",{className:"flex flex-column",style:{minHeight:"100%"}},n.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!t,showCategory:!0,showCustomFields:!0,showErrors:this.state.showErrors}),n.createElement("div",{id:"body-container",className:"flex flex-column flex-grow"},n.createElement("textarea",{name:"message[body]",placeholder:this.props.override_placeholder||this.props.appContext.brand.preferences.trans_body,className:"mousetrap "+(this.state.messageBlank?"input-error":"")+" flex-grow",style:{boxShadow:e?"red 0px 1px 0px 0px":"none"},ref:"body",name:"conversation[messages_attributes][0][body]",required:"required"})),n.createElement("div",{className:"action-bar flex"},n.createElement("div",{className:"attachment-box public"},n.createElement("div",{className:"attachments-list-wrap"},n.createElement("div",{className:"close"},n.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),n.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},n.createElement("li",{className:"attachment-wrap add-attachment"},n.createElement("a",{className:"preview-wrap upload-wrap"},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),n.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),n.createElement("div",{id:"fileupload-wrap",className:(0<this.state.attachmentsCount?"attachment-view":"")+" anim-btn flex-grow"},this.state.uploading&&n.createElement(Reamaze.Spinner,{style:{width:"12px",height:"12px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),n.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),n.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),0<this.state.attachmentsCount&&n.createElement("span",{className:"attachment-count"}),n.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),n.createElement("button",{type:"submit",className:"btn btn-primary anim-btn",disabled:this.state.submitting},this.props.appContext.brand.preferences.trans_send_message))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(a,n,e,t,r){a.namespace("Reamaze.Conversations"),Reamaze.Conversations.ContactFormFields=t({displayName:"Reamaze.Conversations.ContactFormFields",mixins:[TimerMixin],propTypes:{appContext:r.object.isRequired,category:r.string,inView:r.bool,currentUser:r.object.isRequired,showIdentity:r.bool,showCategory:r.bool,showCustomFields:r.bool,showErrors:r.bool,conversation:r.object},getDefaultProps:function(){return{showIdentity:!0,showCategory:!0,showCustomFields:!0}},getInitialState:function(){return{formFieldValues:{}}},componentDidMount:function(){this.focusInput()},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.focusInput()},focusInput:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.inputToFocus&&this.inputToFocus.focus()}.bind(this),500)},getIdentityFields:function(){return[n.createElement(Reamaze.Conversations.Field,{field:{type:"text",name:"user[name]",placeholder:this.props.appContext.brand.preferences.trans_name,required:!0,value:this.props.currentUser.get("name")},key:"userName",k:"userName",showErrors:this.props.showErrors,ref:"userName",required:"required",focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation}),n.createElement(Reamaze.Conversations.Field,{field:{type:"email",name:"user[email]",placeholder:this.props.appContext.brand.preferences.trans_email,required:!0,value:this.props.currentUser.get("email")},key:"userEmail",k:"userEmail",ref:"userEmail",required:"required",showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),conversation:this.props.conversation})]},getCategoryField:function(){if(0==this.props.appContext.brand.categories.length)return null;if(this.props.category&&1<this.props.appContext.brand.categories.length){var e=this.props.appContext.brand.categories.find(function(e){return this.props.category==e.slug}.bind(this));if(e)return n.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:e.id,ref:"category_id"})}return 1<this.props.appContext.brand.categories.length?n.createElement("div",{className:"field-container"},n.createElement("select",{id:"conversation_category_id",name:"category_id",ref:"category_id"},this.props.appContext.brand.categories.map(function(e){return n.createElement("option",{value:e.id,key:e.id},e.name)}))):n.createElement("input",{type:"hidden",id:"conversation_category_id",name:"category_id",value:this.props.appContext.brand.categories[0].id,ref:"category_id"})},updateField:function(e,t){var n=this.state.formFieldValues;n[e]=t,this.setState({formFieldValues:n})},buildFormField:function(t){var e=a.extend({},this.props.appContext.customFields[t]);return"heading"==e.type?n.createElement("div",{className:"heading",style:{margin:"5px 7px 10px 7px"},pos:e.pos,key:t,dangerouslySetInnerHTML:{__html:e.value}}):("order_number"===e.type?e.type="text":"phone"===e.type&&(e.type="tel"),e.name="conversation[data]["+t+"]",n.createElement(Reamaze.Conversations.Field,{pos:e.pos,field:e,key:t,k:t,showErrors:this.props.showErrors,focusInput:function(e){this.inputToFocus||(this.inputToFocus=e)}.bind(this),onChange:function(e){this.updateField(t,e)}.bind(this)}))},getCustomFields:function(){var i=this.props.appContext.customFields||{},e=Object.keys(this.props.appContext.customFields||{}),o=this.state.formFieldValues;return 0==e.length?null:e.reduce(function(e,t){var n=a.extend({},this.props.appContext.customFields[t]);if(n.dependantField){var r=o[n.dependantField];if(!(i[n.dependantField]&&"checkbox"===i[n.dependantField].type?r===undefined?!!i[n.dependantField].value:r:(n.dependantOptions||[]).find(function(e){return r===e})))return e}return e.push(this.buildFormField(t)),e}.bind(this),[]).sort(function(e,t){return(parseInt(e.props.pos)||0)-(parseInt(t.props.pos)||0)})},render:function(){return n.createElement("div",null,this.props.showCategory&&this.getCategoryField(),this.props.showIdentity&&this.getIdentityFields(),this.props.showCustomFields&&this.getCustomFields())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(p,c,e,t,n){p.namespace("Reamaze.Conversations"),Reamaze.Conversations.Conversation=t({displayName:"Reamaze.Conversations.Conversation",mixins:[TimerMixin],propTypes:{conversation:n.shape({id:n.any,slug:n.string,messages:n.arrayOf(n.object),permalink:n.string,isChat:n.bool,status:n.oneOf(["active","resolved","archived"]),unread:n.bool,loaded:n.bool,outbound:n.bool,outboundData:n.object,pending:n.bool,satisfactionRating:n.object}),scrollContent:n.func,currentUser:n.object,channel:n.any,inView:n.bool,documentVisible:n.bool,appContext:n.object.isRequired,chatIsLive:n.bool,category:n.string},getDefaultProps:function(){return{}},getInitialState:function(){return{typers:{},visible:!1,conversationStartedMessageId:null}},contextTypes:{window:n.object},componentDidMount:function(){this.props.conversation.pending?this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0):this.props.conversation.loaded||this.props.conversation.outbound?this.onConversationFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}}),"conversations:new"==this.props.appContext.route&&this.props.inView&&Reamaze.Analytics.track("New Conversation Form Shown")},componentWillUnmount:function(){this.props.channel&&this.props.channel.unbind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.unbind("pusher:member_removed",this._onMemberRemoved)},componentDidUpdate:function(e,t){if(!this.props.conversation.pending){if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return void this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:this.props.conversation.slug}});if("conversations:new"==this.props.appContext.route&&this.props.inView!=e.inView&&Reamaze.Analytics.track("New Conversation Form Shown"),this.props.conversation.outbound)return void this.markAsRead();var n=function(e){return e.map(function(e){return e.id})},r=!e.conversation.loaded||n(e.conversation.messages).join(",")!=n(this.props.conversation.messages).join(","),i=Object.keys(t.typers).length<Object.keys(this.state.typers).length;(r||i)&&this.props.scrollContent("b"),!r&&e.inView&&e.documentVisible||this.markAsRead()}},componentWillReceiveProps:function(e){e.conversation.pending||e.conversation.loaded&&!this.props.conversation.loaded&&this.setTimeout(this.onConversationFetched,0);var t=this.props.conversation.isChat&&"archived"==this.props.conversation.status;e.conversation.insertConversationStartedMessageId&&!this._hasStaffMessage()&&this._hasCustomerMessage()&&!t&&this.props.conversation.insertConversationStartedMessageId!=e.conversation.insertConversationStartedMessageId&&this.setState({conversationStartedMessageId:this.props.conversation.messages[this.props.conversation.messages.length-1].id})},onConversationFetched:function(){var e=this.props.conversation.isChat&&"archived"==this.props.conversation.status,t={};!this.props.conversation.id||!this.props.conversation.loaded||this._hasStaffMessage()||!this._hasCustomerMessage()||e||this.props.conversation.botsEnabled&&!this.props.conversation.botHandoverTimestamp||(t.conversationStartedMessageId=this.props.conversation.messages[this.props.conversation.messages.length-1].id),this.checkChatTimeout(),this.setState(t,function(){this.setTimeout(function(){this.props.scrollContent("b"),this.setState({visible:!0})}.bind(this),300)}.bind(this)),this.props.appContext._preview||(this.props.channel&&this.props.channel.bind("client-status",this._onPusherClientStatusEvent),this.props.channel&&this.props.channel.bind("pusher:member_removed",this._onMemberRemoved),this.markAsRead())},markAsRead:function(){if(this.props.inView&&this.props.documentVisible&&this.props.conversation.unread){var e=function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e.slug,props:e}})}.bind(this);if(this.props.conversation.outbound){var t=JSON.parse(JSON.stringify(this.props.conversation));t.unread=!1,e(t)}else!this._hasStaffMessage()&&this._hasBotMessage()?this.setTimeout(function(){this.props.documentVisible&&this._ajaxMarkRead(e)},5e3):this._ajaxMarkRead(e)}},_ajaxMarkRead:function(t){p.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/mark_read",type:"POST",data:{sparams:p.param({sso:this.props.currentUser.ssoData()})},success:function(e){t(e.conversation)}.bind(this),crossDomain:!0})},_onPusherClientStatusEvent:function(e){var t=p.extend({},this.state.typers||{});"typing:start"==e.status?t[e.id]=e:"typing:stop"==e.status&&delete t[e.id],this.setState({typers:t})},_onMemberRemoved:function(e){var t=p.extend({},this.state.typers||{});t[e.id]&&(delete t[e.id],this.setState({typers:t}))},_lastMessageIsCustomer:function(){return!this.props.conversation.messages[this.props.conversation.messages.length-1].user.displayAsStaff},_hasOutboundMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(this.props.conversation.outboundData)return!0;return!1},_hasStaffMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(this.props.conversation.messages[e].user.isStaff)return!0;return!1},_hasBotMessage:function(){for(var e=this.props.conversation.messages.length-1;0<=e;e--)if(!this.props.conversation.messages[e].user.isStaff&&this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},_hasCustomerMessage:function(){for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return!0;return!1},firstCustomerMessage:function(){if(!this.props.conversation.messages)return null;for(var e=0;e<this.props.conversation.messages.length;e++)if(!this.props.conversation.messages[e].user.displayAsStaff)return this.props.conversation.messages[e]},checkChatTimeout:function(){var e=this.firstCustomerMessage();if(this.props.conversation.isChat&&!this._hasStaffMessage()&&!this._hasOutboundMessage()&&e){var t=Date.now()-new Date(e.createdAt).getTime();t<1e3*this.props.appContext.brand.preferences.unserved_chat_timeout&&(this.timeoutId&&this.clearTimeout(this.timeoutId),this.timeoutId=this.setTimeout(this.forceUpdate,1e3*this.props.appContext.brand.preferences.unserved_chat_timeout-t+1e3))}},onMoreDetailsSubmit:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SAVE_CONVERSATION,payload:{slug:this.props.conversation.slug,formData:e}})},render:function(){var n=this.state.typers,e=this.props.conversation.messages,t=[];if(this.props.conversation.pending)for(o=e.length-1;0<=o;o--){(a=e[o]).showViewedStatus=!1,t.unshift(c.createElement(Reamaze.Conversations.Message,{key:"message-"+a.id,message:p.extend({},a),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext}))}else{if(!this.props.conversation.loaded&&!this.props.conversation.outbound)return c.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:this.props.appContext.brand.styles.widgetColor});for(var r,i,o=e.length-1;0<=o;o--){var a;(a=e[o]).user.displayAsStaff||(a.showViewedStatus=!1,i||(a.showViewedStatus=!0,i=a),a.viewed&&!r&&(a.showViewedStatus=!0,r=a)),this.state.conversationStartedMessageId&&a.id==this.state.conversationStartedMessageId&&!a.user.displayAsStaff&&t.unshift(c.createElement(Reamaze.Conversations.ConversationStartedMessage,{key:"convo-started-message",appContext:this.props.appContext,isChat:this.props.conversation.isChat,scrollContent:this.props.scrollContent})),t.unshift(c.createElement(Reamaze.Conversations.Message,{key:"message-"+a.id,message:p.extend({},a),conversationSlug:this.props.conversation.slug,currentUser:this.props.currentUser,appContext:this.props.appContext}))}if(this.props.conversation.isChat)if("archived"==this.props.conversation.status)t.push(c.createElement(Reamaze.Conversations.ChatEndedMessage,{key:"chat-ended-message",appContext:this.props.appContext,conversation:this.props.conversation,ref:function(){this.props.scrollContent("b")}.bind(this)})),this.props.conversation.satisfactionRating&&t.push(c.createElement(Reamaze.Conversations.SatisfactionRating,{currentUser:this.props.currentUser,appContext:this.props.appContext,conversation:this.props.conversation,satisfactionRating:this.props.conversation.satisfactionRating}));else{var s=this.firstCustomerMessage();if(s)if(!(this._hasStaffMessage()||this.props.conversation.botsEnabled&&!this.props.conversation.botHandoverTimestamp)){new Date(s.createdAt)<(this.props.conversation.botsEnabled?new Date(new Date(this.props.conversation.botHandoverTimestamp).getTime()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout):new Date(Date.now()-1e3*this.props.appContext.brand.preferences.unserved_chat_timeout))&&t.push(c.createElement(Reamaze.Conversations.ChatBusyMessage,{key:"chat-busy-message",appContext:this.props.appContext}))}}}return c.createElement("div",{key:"conversation-"+this.props.conversation.id,className:"conversation conversation-react rmz-fade "+(this.state.visible?" in":"")},c.createElement("ul",{id:"messages-list"},t,this.props.conversation.pending&&c.createElement(Reamaze.Conversations.MoreDetailsMessage,{appContext:this.props.appContext,chatIsLive:this.props.chatIsLive,category:this.props.category,inView:this.props.inView,onSubmit:this.onMoreDetailsSubmit,conversation:this.props.conversation,currentUser:this.props.currentUser,scrollContent:this.props.scrollContent,contactMode:this.props.contactMode}),Object.keys(n).map(function(e){var t=n[e];return c.createElement(Reamaze.Conversations.TypingMessage,{user:{avatarUrl:t.image_url,name:t.name,id:t.id,displayAsStaff:t.staff},key:"typing-"+e,appContext:this.props.appContext})}.bind(this))),!!this.props.conversation.promptOptions&&0<this.props.conversation.promptOptions.length&&!this._lastMessageIsCustomer()&&c.createElement(Reamaze.Conversations.PromptOptions,{onPromptOptionClick:this.props.onPromptOptionClick,promptOptions:this.props.conversation.promptOptions,submitting:this.props.submitting,scrollContent:this.props.scrollContent}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationFooter=r({displayName:"Reamaze.Conversations.ConversationFooter",propTypes:{conversation:i.object,dispatcher:i.object,scrollContentToBottom:i.func,currentUser:i.object,inView:i.bool,chatIsLive:i.bool,blur:i.bool,appContext:i.object.isRequired,submitting:i.bool,onSubmit:i.func.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{showTransitional:this._shouldShowTransitional(this.props)}},componentWillReceiveProps:function(e){this.setState({showTransitional:this._shouldShowTransitional(e)})},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.props.inView!=e.inView||this.props.conversation.status!=e.conversation.status||this.props.conversation.loaded!=e.conversation.loaded||this.props.chatIsLive!=e.chatIsLive||this.props.blur!=e.blur||this.state.showTransitional!=t.showTransitional||this.props.conversation.pending!=e.conversation.pending||this.props.contactMode!=e.contactMode},_shouldShowTransitional:function(e){return(!!e.currentUser.get("anon_id")||!e.currentUser.get("email"))&&e.conversation.loaded},render:function(){if("archived"==this.props.conversation.status&&this.props.conversation.isChat)return null;if(this.props.conversation.pending){if(Object.keys(this.props.appContext.customFields))return null;if(!this.props.currentUser.get("_id")){if("none"==this.props.contactMode||"default"==this.props.contactMode)return null;if("mixed"==this.props.contactMode&&this.props.appContext.brand.chatEnabled&&!this.props.appContext.chatIsLive)return null;if("mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime)return null}}return t.createElement("div",{id:"footer",ref:"footer",style:{padding:"10px 0 10px 0"},className:this.props.blur?"rmz-blur":""},t.createElement("style",null,"\n            #conversation-footer .alert:hover {\n              opacity: 0.8;\n            }\n          "),this.state.showTransitional&&t.createElement("div",{className:"alert alert-warning",style:{marginBottom:0,width:"100%",textAlign:"center",cursor:"pointer",fontSize:"0.9em",padding:"8px",position:"relative",top:"-10px"},ref:"transitional",onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.OPEN_MODAL,payload:{action:"transitional",slug:this.props.conversation.slug}})}.bind(this)},this.props.appContext.brand.preferences.trans_transitional_email_cta),t.createElement(Reamaze.Conversations.RespondForm,{id:this.props.conversation.id,slug:this.props.conversation.slug,isChat:this.props.conversation.isChat,dispatcher:this.props.dispatcher,scrollContentToBottom:this.props.scrollContentToBottom,currentUser:this.props.currentUser,outbound:this.props.conversation.outbound,outboundData:this.props.conversation.outboundData,inView:this.props.inView,ref:"respondForm",chatIsLive:this.props.chatIsLive,appContext:this.props.appContext,contactMode:this.props.contactMode,onSubmit:this.props.onSubmit,submitting:this.props.submitting}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,r,t,n,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationList=n({displayName:"Reamaze.Conversations.ConversationList",mixins:[TimerMixin],propTypes:{conversations:i.object,conversationsFetched:i.bool,onMount:i.func,appContext:i.object.isRequired},contextTypes:{window:i.object},getDefaultProps:function(){return{conversations:{}}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.props.onMount(),this.props.conversationsFetched?this.onConversationsFetched():this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})},componentWillReceiveProps:function(e){e.conversationsFetched&&!this.props.conversationsFetched&&this.onConversationsFetched()},onConversationsFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},getSortedConversations:function(){return Object.keys(this.props.conversations).map(function(e){return this.props.conversations[e]}.bind(this)).sort(function(e,t){if(e.unread&&!t.unread)return-1;if(t.unread&&!e.unread)return 1;var n=new Date(e.messages&&0<e.messages.length?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&0<t.messages.length?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1})},render:function(){var e=this.props.conversationsFetched?this.getSortedConversations():[],t=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.55,t.headerBgColor)||"#999";return this.props.conversationsFetched?r.createElement("div",null,r.createElement("style",null,"\n              #recent-conversations li {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                cursor: pointer;\n                border-left: 1px solid transparent;\n                padding: 12px 15px;\n                transition: all 0.25s linear;\n                opacity: 0.8;\n              }\n              #recent-conversations li .body {\n                opacity: 0.85;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                overflow: hidden;\n              }\n              #recent-conversations li.unread {\n                opacity: 1;\n                color: #000;\n                font-weight: bold;\n              }\n              #recent-conversations li:hover,\n              #recent-conversations li.unread:hover {\n                border-left: 1px solid "+t.headerBgColor+";\n              }\n              #recent-conversations li div.icon {\n                color: "+n+";\n                width: 20px;\n                overflow: hidden;\n                font-size: 16px;\n                position: relative;\n              }\n              #recent-conversations li div.icon i {\n                margin-top: -8px;\n                position: relative;\n                top: 50%;\n                display: block;\n                text-align: center;\n              }\n              #recent-conversations li .main .name {\n                display: -ms-flexbox;\n                display: -ms-flex;\n                display: -moz-flex;\n                display: -webkit-flex;\n                display: flex;\n                flex-wrap: nowrap;\n                margin-bottom: 2px;\n                align-items: center;\n              }\n              #recent-conversations li .main .name .thumb {\n                width: 25px;\n                height: 20px;\n                padding-right: 5px;\n              }\n              #recent-conversations li .main .name .thumb img {\n                width: 20px;\n                height: 20px;\n                border-radius: 20px;\n              }\n              #recent-conversations li .main .name .names {\n                width: 100%;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n              }\n              #recent-conversations li .main .name .timestamp {\n                flex-shrink: 0;\n                font-size: 0.8em;\n                white-space: nowrap;\n                color: #aaa;\n                text-align: right;\n              }\n              #recent-conversations li .main {\n                width: 100%;\n                overflow: hidden;\n                padding-left: 10px;\n                -ms-flex: 1;\n                -moz-flex: 1;\n                -webkit-flex: 1;\n                flex: 1;\n              }\n            "),r.createElement("ul",{id:"recent-conversations",className:"rmz-fade "+(this.state.visible?"in":"")},e.map(function(e){return r.createElement(Reamaze.Conversations.ConversationListItem,_extends({key:e.id},e,{appContext:this.props.appContext}))}.bind(this)))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,p,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationListItem=n({displayName:"Reamaze.Conversations.ConversationListItem",propTypes:{id:r.any.isRequired,slug:r.string.isRequired,messages:r.arrayOf(r.object),isChat:r.bool,status:r.oneOf(["active","resolved","archived"]),unread:r.bool,appContext:r.object.isRequired,outbound:r.bool},getDefaultProps:function(){return{}},contextTypes:{window:r.object},_getNamesToDisplay:function(){for(var e={},t=[],n=this.props.messages.length-1;0<=n;n--){var r=this.props.messages[n].user;r.displayAsStaff&&r.id&&!e[r.id]&&(e[r.id]=1,t.push(r.name))}return t.length||t.push(this.props.appContext.brand.name),t},render:function(){var e="",t=this.props.messages[this.props.messages.length-1];this.props.messages[0];this.props.unread&&(e+=" unread");var n=new Date,r=new Date(t.createdAt);n.toDateString()==r.toDateString()?timestampDisplay=Reamaze.Utils.getLocaleTimeString(r):timestampDisplay=Reamaze.Utils.getLocaleDateString(r);var i,o,a=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces),s=Reamaze.Utils.getUserDisplayDetails(t.user,this.props.appContext.brand,this.props.appContext.faces);return s&&(s.avatarUrls&&(i=s.avatarUrls[0]),o=s.name),i||(i=t.user.avatarUrl||a[0].avatarUrl),o||(o=t.user.name||this.props.appContext.brand.name),p.createElement("li",{className:e,onClick:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:this.props.slug}}})}.bind(this)},p.createElement("div",{className:"icon"},p.createElement("i",{className:"fas rmzfa rmzfa-"+(this.props.outbound?"rss":"comments")})),p.createElement("div",{className:"main"},p.createElement("div",{className:"name"},p.createElement("div",{className:"thumb"},p.createElement("img",{src:i})),p.createElement("div",{className:"names"},this._getNamesToDisplay().join(", ")),p.createElement("div",{className:"timestamp"},timestampDisplay)),p.createElement("p",{className:"body"},Reamaze.Utils.entitiesDecode(t.body_preview))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.ConversationStartedMessage=n({displayName:"Reamaze.Conversations.ConversationStartedMessage",mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired,isChat:i.bool},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},getMessage:function(){return this.props.isChat&&this.props.appContext.brand.preferences.trans_chat_started?r.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_chat_started}}):this.props.appContext.brand.preferences.trans_popup_new_message_confirmation||this.props.appContext.brand.staffResponseTime?[r.createElement("p",{key:"msg",dangerouslySetInnerHTML:{__html:this.props.appContext.brand.preferences.trans_popup_new_message_confirmation}}),!this.props.appContext.brand.inOffice&&this.props.appContext.brand.nextOfficeTime||!this.props.appContext.brand.staffResponseTime?null:r.createElement("p",{key:"resptime"},this.props.appContext.brand.staffResponseTime)]:null},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),e=this.getMessage(),t=null;return e&&(t=r.createElement("li",{className:"message staff convo-started prompt rmz-fade "+(
this.state.visible?"in":""),ref:function(){this.props.scrollContent("b")}.bind(this)},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},e)))),t}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,t){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.Css=t({displayName:"Reamaze.Conversations.Css",shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.appContext.brand.styles,t=Reamaze.Utils.pSBC(.92,e.headerBgColor)||"#f0f0f0";Reamaze.Utils.pSBC(.55,e.headerBgColor);return n.createElement("style",null,'\n        #content-container .flex {\n          display: flex;\n          display: -webkit-box;\n          display: -moz-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          width: 100%;\n        }\n        #content-container .flex.flex-column {\n          flex-direction: column;\n          -webkit-box-direction: normal;\n          -webkit-box-orient: vertical;\n          -moz-box-direction: normal;\n          -moz-box-orient: vertical;\n          -webkit-flex-direction: column;\n          -ms-flex-direction: column;\n        }\n        #content-container .flex-grow {\n          flex-grow: 1;\n          -webkit-box-flex: 1;\n          -moz-box-flex: 1;\n          -webkit-flex-grow: 1;\n          -ms-flex: 1 1 auto;\n        }\n        #content-container form input, form select, form textarea {\n          width: 100%;\n          height: 37px;\n          resize: none;\n          background: transparent;\n        }\n        #content-container form label.checkbox {\n          display: block;\n          margin-bottom: 10px;\n          padding-left: 26px;\n          position: relative;\n          font-size: 14px;\n          background: transparent;\n        }\n        #content-container form label.checkbox input {\n          width: auto;\n          height: auto;\n          margin: 0px;\n          position: absolute;\n          margin-left: -20px;\n          margin-top: 5px;\n        }\n        #content-container form label.checkbox div {\n          line-height: 1.5em;\n          margin-bottom: 10px;\n        }\n        #recent-conversations-container {\n          width: 100%;\n          padding: 15px;\n        }\n        .conversation {\n          padding: 10px;\n        }\n        .conversation .pending-data.message.prompt .message-wrap {\n          width: 100%;\n        }\n        .conversation .pending-data.message.prompt .action-bar {\n          text-align: center;\n          margin: 15px 0 10px 0;\n        }\n        .conversation #messages-list {\n          list-style: none;\n          margin: 0px;\n        }\n        .conversation #messages-list .message {\n          *zoom: 1;\n          padding-bottom: 0px;\n          margin: 17px 0;\n          position: relative;\n        }\n        .conversation #messages-list .message:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .conversation #messages-list .message p {\n          font-size: 14px;\n          margin-bottom: 7px;\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message p:last-child {\n          margin-bottom: 0px;\n        }\n        .conversation #messages-list .message.transitional p {\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message .message-outer-wrap {\n          margin-left: 50px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message .message-user-image {\n          bottom: 5px;\n          left: 0px;\n          float: left;\n          overflow: hidden;\n          position: relative;\n          -moz-border-radius: 40px;\n          -webkit-border-radius: 40px;\n          border-radius: 40px;\n          width: 40px;\n          height: 40px;\n          position: absolute;\n          border: 1px solid #fcfcfc;\n        }\n        .conversation #messages-list .message .message-user-image img {\n          width: 100%;\n          height: 100%;\n        }\n        .conversation #messages-list .message .message-meta {\n          font-size: 90%;\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback {\n          white-space: nowrap;\n        }\n        .conversation #messages-list .message .message-feedback a {\n          color: #999;\n        }\n        .conversation #messages-list .message .message-feedback .icon {\n          font-size: 90%;\n        }\n        .conversation #messages-list .message .message-feedback a:hover .icon {\n          text-decoration: none;\n        }\n        .conversation #messages-list .message .timestamp {\n          color: #888;\n        }\n        .conversation #messages-list .message .attachments {\n          margin-bottom: 10px;\n          margin-left: 0;\n          padding: 0px;\n          font-size: 95%;\n        }\n        .conversation #messages-list .message .attachments.images li {\n          display: inline-block;\n        }\n        .conversation #messages-list .message .attachments.images li img {\n          padding: 5px;\n          margin-right: 5px;\n          background: white;\n          border: 1px solid #dfdfdf;\n        }\n        .conversation #messages-list .message .attachments.other li {\n          list-style: none;\n        }\n        .conversation #messages-list .message .attachments h5 {\n          font-size: 100%;\n        }\n        .conversation #messages-list .message ul {\n          margin: 0 0 10px 25px;\n          list-style: disc;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message ol {\n          margin: 0 0 10px 25px;\n          list-style: decimal;\n          margin-bottom: 10px;\n        }\n        .conversation #messages-list .message a {\n          word-wrap: break-word;\n        }\n        .conversation #messages-list .message .message-wrap {\n          display: inline-block;\n          margin-bottom: 5px;\n          position: relative;\n          max-width: calc(100% - 10px);\n          background: '+t+";\n          padding: 15px 20px;\n          -moz-border-radius: 20px 20px 20px 0;\n          -webkit-border-radius: 20px 20px 20px 0;\n          border-radius: 20px 20px 20px 0;\n          /* transform z-index hack */\n          -moz-transform: rotate(0deg);\n          -ms-transform: rotate(0deg);\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          -moz-border-radius: 20px 20px 0 20px;\n          -webkit-border-radius: 20px 20px 0 20px;\n          border-radius: 20px 20px 0 20px;\n        }\n        .conversation #messages-list .message.convo-started .message-wrap {\n          padding: 20px;\n        }\n        .conversation #messages-list .message.pending {\n          opacity: 0.5;\n          color: silver;\n        }\n\n        .conversation #messages-list .message.customer {\n          text-align: right;\n        }\n        .conversation #messages-list .message.customer .message-wrap {\n          text-align: left;\n          background-color: "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerFontColor||"white")+"\n        }\n        .conversation #messages-list .message.customer .message-wrap a {\n          color: "+(e.headerFontColor||"white")+';\n          text-decoration: underline;\n        }\n        .conversation #messages-list .message.customer .message-outer-wrap {\n          margin-left: 0px;\n          margin-right: 0px;\n        }\n        .conversation #messages-list .message.customer .message-meta {\n          text-align: right;\n        }\n\n        .conversation.chat #messages-list {\n          padding-bottom: 20px;\n        }\n        .conversation.chat #typing-indicator {\n          color: #999;\n          font-size: 12px;\n          margin-top: -20px;\n          margin-bottom: 10px;\n          margin-left: 60px;\n        }\n        @media screen and (max-width: 480px) {\n          .conversation.chat #typing-indicator {\n            margin-left: 45px;\n          }\n        }\n\n        .typing-indicator-dots {\n          font-size: 18px;\n          font-weight: bold;\n          margin-top: -3px;\n          color: #999;\n        }\n        .typing-indicator-dots .one {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.0s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.0s;\n        }\n        .typing-indicator-dots .two {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.2s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.2s;\n        }\n        .typing-indicator-dots .three {\n          opacity: 0;\n          -webkit-animation: dot 1.3s infinite;\n          -webkit-animation-delay: 0.3s;\n          animation: dot 1.3s infinite;\n          animation-delay: 0.3s;\n        }\n\n        @-webkit-keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes dot {\n          0% {\n            opacity: 0;\n          }\n          50% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n\n        .conversation #messages-list .message pre {\n          display: block;\n          padding: 11px;\n          margin: 0 0 12px;\n          line-height: 23px;\n          word-break: break-all;\n          word-wrap: break-word;\n          white-space: pre;\n          background-color: #f5f5f5;\n          color: #333;\n          border: 1px solid #ccc;\n          border: 1px solid rgba(0,0,0,0.15);\n          border-radius: 4px;\n          overflow-x: auto;\n        }\n\n        .conversation #messages-list .message code {\n          font-family: "Source Code Pro", Menlo, Consolas, "Courier New", monospace;\n        }\n\n        #content-container .rmz-blur {\n          -webkit-filter: blur(2px);\n          filter: blur(2px);\n          filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);\n          opacity: 0.8;\n        }\n\n        .alert {\n          font-size: 0.9em;\n          margin: 0;\n          border-radius: 0;\n          border: 0;\n        }\n\n        .has-float-label label, .has-float-label > span {\n          left: 6px;\n          top: -4px;\n        }\n\n        .has-float-label input:focus + *, .has-float-label select:focus + *, .has-float-label textarea:focus + * {\n          color: '+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label input:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label select:not(:placeholder-shown):not(.placeholder-shown) + *,\n        .has-float-label textarea:not(:placeholder-shown):not(.placeholder-shown) + *\n        {\n          color: "+(e.headerBgColor||"inherit")+"\n        }\n\n        .has-float-label select {\n          padding-top: 10px;\n          margin-bottom: 10px;\n        }\n\n        .template-card{\n          background: "+t+";\n        }\n\n        .prompt-options-container {\n          text-align: right;\n          margin-bottom: 10px;\n          transition: opacity 0.5s;\n          opacity: 1;\n          max-width: 75%;\n          margin-right: 0;\n          margin-left: auto;\n        }\n\n        .prompt-options-container.hidden {\n          opacity: 0;\n        }\n\n        .prompt-option {\n          background: white;\n          border: 1px solid "+(e.headerBgColor||"#e0f6ff")+";\n          color: "+(e.headerBgColor||"white")+";\n          border-radius: 5px;\n          padding: 6px 20px;\n        }\n\n        .prompt-option-li {\n          margin: 5px;\n          display: inline-block;\n        }\n\n        .prompt-option-li:first-child {\n          margin-top: 0px;\n        }\n\n        .prompt-option:hover, .prompt-option.selected {\n          cursor: pointer;\n          background: "+(e.headerBgColor||"#e0f6ff")+";\n          color: white;\n        }\n\n        .prompt-option:disabled {\n          opacity: 0.7;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(t,a,n,e,r){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.Field=e({displayName:"Reamaze.Conversations.Field",propTypes:{k:r.string,field:r.object,showErrors:r.bool,focusInput:r.func,onChange:r.func,conversation:r.object},getInitialState:function(){return{error:!1,value:"dropdown"!==this.props.field.type?this.props.field.value:null,type:"date"===this.props.field.type?"text":this.props.field.type}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&e.conversation.errors.includes(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)&&"email"==this.props.field.type&&this.setState({error:!0})},handleChange:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.validate(),this.setState({value:t},function(){this.props.onChange&&this.props.onChange(this.state.value)}.bind(this))},componentDidMount:function(){this.validate()},validate:function(){var e=n.findDOMNode(this.input);this.props.field.required&&"false"!=this.props.field.required&&("checkbox"===e.type?this.setState({error:!e.checked}):this.setState({error:!t(e).val()}))},render:function(){var e,t=this.props.field,n=this.props.k;this.props.field.pos&&(e=a.createElement("input",{type:"hidden",name:"field_pos["+this.props.field.pos+"]",value:n}));var r={};if(this.props.showErrors&&this.state.error&&(r.boxShadow="0 1px 0px 0px red"),"object"!=typeof t)return null;if("hidden"==t.type)return[a.createElement("input",{type:"hidden",key:n,name:Reamaze.Utils.entitiesDecode(t.name),value:Reamaze.Utils.entitiesDecode(t.value),ref:function(e){this.input=e}.bind(this)}),e];var i={name:Reamaze.Utils.entitiesDecode(t.name),defaultValue:Reamaze.Utils.entitiesDecode(t.value),placeholder:Reamaze.Utils.entitiesDecode(t.label?t.placeholder||n:" "),required:!!t.required},o={};return this.props.showErrors&&this.state.error&&(o.color="red"),"dropdown"==t.type?(i.defaultValue=Reamaze.Utils.entitiesDecode(t.label||t.placeholder||n),a.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:o},a.createElement("div",{className:"has-float-label"},a.createElement("select",_extends({id:"input-"+n},i,{onChange:this.handleChange,style:r,className:this.state.value?"":"placeholder-shown",ref:function(e){this.input=e}.bind(this)}),a.createElement("option",{disabled:"disabled"},i.defaultValue),t.value.map(function(e){return a.createElement("option",{value:Reamaze.Utils.entitiesDecode(e),key:e},Reamaze.Utils.entitiesDecode(e))})),a.createElement("label",{htmlFor:"input-"+n},Reamaze.Utils.entitiesDecode(t.label||t.placeholder||n))),e)):"checkbox"==t.type?(delete i.defaultValue,t.value&&"false"!=t.value&&(i.defaultChecked=!0),a.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:o},a.createElement("label",{className:"checkbox",style:o},a.createElement("input",{name:i.name,type:"hidden",value:"no"}),a.createElement("input",_extends({type:"checkbox"},i,{value:"yes",onChange:this.handleChange,style:r,ref:function(e){this.input=e}.bind(this)})),a.createElement("div",null,Reamaze.Utils.entitiesDecode(t.placeholder||n))),e)):"date"==t.type?a.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:o},a.createElement("label",{className:"has-float-label"},a.createElement("input",_extends({type:this.state.type},i,{onChange:function(e){this.setState({type:e.target.value?t.type:"text"}),this.handleChange(e)}.bind(this),onFocus:function(){this.setState({type:t.type})}.bind(this),onBlur:function(e){this.setState({type:e.target.value?t.type:"text"})}.bind(this),style:r,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),a.createElement("span",null,Reamaze.Utils.entitiesDecode(t.label||t.placeholder||n))),e):a.createElement("div",{className:"custom-field-container "+(this.state.error?"input-error":""),style:o},a.createElement("label",{className:"has-float-label"},a.createElement("input",_extends({type:t.type},i,{onChange:this.handleChange,style:r,className:this.state.value?"":"placeholder-shown",ref:function(e){this.props.focusInput(e),this.input=e}.bind(this)})),a.createElement("span",null,Reamaze.Utils.entitiesDecode(t.label||t.placeholder||n))),e)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Conversations"),Reamaze.Conversations.Message=createReactClass({displayName:"Reamaze.Conversations.Message",propTypes:{message:PropTypes.shape({id:PropTypes.any.isRequired,user:PropTypes.shape({avatarUrl:PropTypes.string,name:PropTypes.string,displayAsStaff:PropTypes.bool}),createdAt:PropTypes.any,body:PropTypes.string,viewed:PropTypes.bool,showViewedStatus:PropTypes.bool,imageAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,thumbUrl:PropTypes.string.isRequired,url:PropTypes.string.isRequired})),otherAttachments:PropTypes.arrayOf(PropTypes.shape({id:PropTypes.number.isRequired,name:PropTypes.string.isRequired,url:PropTypes.string.isRequired,size:PropTypes.string.isRequired})),appreciated:PropTypes.bool,meta:PropTypes.object,pendingData:PropTypes.object,pending:PropTypes.bool,errored:PropTypes.bool}),conversationSlug:PropTypes.string,currentUser:PropTypes.object,appContext:PropTypes.object.isRequired},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e){return this.props.message.viewed!=e.message.viewed||this.props.message.showViewedStatus!=e.message.showViewedStatus||this.props.message.appreciated!=e.message.appreciated||(this.props.message.template||"")!=(e.message.template||"")},_onAppreciateClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id}}),this.props.appContext._preview||$jq.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/messages/"+this.props.message.id+"/votes/post?sparams="+encodeURIComponent($jq.param({sso:this.props.currentUser.ssoData()})),type:"GET",error:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED,payload:{conversationSlug:this.props.conversationSlug,messageId:this.props.message.id,error:!0}})}.bind(this),crossDomain:!0})},getMeta:function(){if(!this.props.message.meta||!this.props.message.meta.buttons||!this.props.message.meta.buttons.length)return null;var buttons=this.props.message.meta.buttons&&this.props.message.meta.buttons.map(function(button,idx){if(button.response||button.dismiss||button.pushprompt)return!1;var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText,style:{maxWidth:"250px",display:"block",margin:"0 auto 10px auto"}};if(button.url){if(button.url.match(/^https?.*\./))buttonProps.href=button.url;else if(button.url.match(/^#/))buttonProps.href=""+document.baseURI.split("#")[0]+button.url;else if(button.url.match(/^\//)){var parser=document.createElement("a");parser.href=document.baseURI,buttonProps.href=parser.protocol+"//"+parser.hostname+button.url}else{var parser=document.createElement("a");parser.href=document.baseURI.substring(0,document.baseURI.lastIndexOf("/")),buttonProps.href=parser.href+"/"+button.url}button.target?buttonProps.target=button.target:buttonProps.target="_blank"}return button.script?buttonProps.onClick=function(event){event.stopPropagation(),"string"==typeof button.script?eval(button.script):"function"==typeof button.script&&button.script()}.bind(this):button.url&&(buttonProps.onClick=function(e){e.stopPropagation()}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn anim-btn-shadow",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this));return buttons.every(function(e){return 0==e})?null:React.createElement("div",{style:{marginTop:"15px"}},React.createElement("div",{style:{textAlign:"center"}},buttons))},template:function(){return React.createElement("div",{style:{marginBottom:"5px"}},React.createElement(Reamaze.Conversations.MessageTemplate,{template:this.props.message.template,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message}))},_uploadingAttachmentsText:function(e,i){return e.replace(/{{.*}}/g,function(e){var t=e.indexOf(":"),n=e.substring(t+1,e.length-2).split(",").map(function(e){return e.trim().replace(/['"]/g,"")}),r=n[0];return 1<i&&(r=1==n.length?n[0]+"s":n[1]),i+" "+r})},render:function(){var e,t=null,n=null;this.props.message.imageAttachments&&(t=React.createElement("ul",{className:"attachments images"},this.props.message.imageAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("img",{src:e.thumbUrl})))}))),this.props.message.otherAttachments&&(n=React.createElement("ul",{className:"attachments other"},React.createElement("h4",null,React.createElement("i",{className:"fas rmzfa rmzfa-paperclip"})),this.props.message.otherAttachments.map(function(e){return React.createElement("li",{key:"attachment-"+e.id},React.createElement("a",{href:e.url,target:"_blank"},e.name)," ",e.size)}))),this.props.message.user.displayAsStaff&&this.props.message.user.id&&(e=React.createElement("span",{className:"message-feedback"},this.props.message.appreciated?React.createElement("i",{className:"icon fas rmzfa rmzfa-heart"}):React.createElement("a",{href:"javascript:;",onClick:this._onAppreciateClick,ref:"appreciateLink"},React.createElement("i",{className:"icon far rmzfa rmzfa-heart"})," ",React.createElement("span",{className:"feedback-label"},this.props.appContext.brand.preferences.trans_contact_us_appreciate))));var r=null;if(this.props.message.pendingData){var i=this.props.message.pendingData.message.attachment_ids;i&&0<i.length&&(r=React.createElement("p",{style:{textAlign:"right"}},React.createElement("i",{className:"fas rmzfa rmzfa-upload"})," ",this._uploadingAttachmentsText(this.props.appContext.brand.preferences.trans_attaching,i.length)))}var o=this.props.message.body;o||t||n||r||(o=this.props.appContext.brand.preferences.trans_empty_message);var a=React.createElement("div",{className:"message-body"+(this.props.message.body?"":" empty"),dangerouslySetInnerHTML:{__html:o}}),s=new Date,p=new Date(this.props.message.createdAt),c="";c=s.toDateString()==p.toDateString()?Reamaze.Utils.getLocaleTimeString(p):Reamaze.Utils.getLocaleDateString(p)+" "+Reamaze.Utils.getLocaleTimeString(p);var l,u,d,h=String.fromCharCode(183),f=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces),m=Reamaze.Utils.getUserDisplayDetails(this.props.message.user,this.props.appContext.brand,this.props.appContext.faces);return m&&(m.avatarUrls&&(l=m.avatarUrls[0]),u=m.name),l||(l=this.props.message.user.avatarUrl),u||(u=this.props.message.user.name||this.props.appContext.brand.name),d=l?[{avatarUrl:l,name:u}]:f.slice(0,3),React.createElement("li",{id:"message-"+this.props.message.id,className:"message "+(this.props.message.user.displayAsStaff?"staff":" customer")+" "+(this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"pending":"")+" "+(this.props.message.faux?"faux":"")},this.props.message.user.displayAsStaff&&d.map(function(e,t){var n=this.props.message.faux?-5:0;return n+=13*(d.length-t-1),React.createElement("div",{className:"message-user-image",key:"staff-avatar-"+t,style:{bottom:n+"px"}},React.createElement("img",{src:e.avatarUrl,alt:e.name}))}.bind(this)),React.createElement("div",{className:"message-outer-wrap"},React.createElement("div",{className:"message-wrap"},a,this.getMeta(),t,n,r),this.props.message.template&&this.template(),!this.props.message.faux&&React.createElement("div",{className:"message-meta"},this.props.message.pendingData||this.props.message.user.id&&this.props.message.user.id==this.props.currentUser.get("_id")?null:u+" "+h," ",!this.props.message.pendingData&&c," ",!this.props.message.showViewedStatus||this.props.message.pendingData||this.props.message.pending||this.props.message.errored?"":h+" "+(this.props.message.viewed?this.props.appContext.brand.preferences.trans_contact_us_viewed:this.props.appContext.brand.preferences.trans_contact_us_sent),this.props.message.pending&&React.createElement("span",null," \u2026 "),this.props.message.errored&&React.createElement("span",{style:{fontWeight:"bold",color:"rgb(255, 0, 0)"}}," ! "),this.props.message.pendingData&&React.createElement("span",null," ",this.props.appContext.brand.preferences.trans_contact_us_pending)," ",e?h+" ":"",e)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,o,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.MessageTemplate=n({displayName:"Reamaze.Conversations.MessageTemplate",propTypes:{template:r.object.isRequired,appContext:r.object.isRequired,currentUser:r.object.isRequired,message:r.object.isRequired},render:function(){var r={list:Reamaze.Conversations.TemplateList,text:Reamaze.Conversations.TemplateText,map:Reamaze.Conversations.TemplateMap},i=[];return this.props.template.data.components.forEach(function(e,t){var n=r[e.type];n&&i.push(o.createElement("div",{key:"component-"+t,className:"template-card card",style:{display:"inline-block",margin:"0px",minWidth:"200px",maxWidth:"100%"}},o.createElement(n,{key:e.type+"-"+t,componentData:e,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message})))}.bind(this)),o.createElement("div",null,i)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,t,r,e,i){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.Modal=e({displayName:"Reamaze.Conversations.Modal",render:function(){var e=n.extend({position:"absolute",padding:"15px",width:"100%",background:"#fff",boxShadow:"0 0px 20px 0px rgba(0,0,0,0.3)",textAlign:"center"},this.props.style||{});return t.createElement("div",{id:"rmz-conversation-modal"},t.createElement("div",{id:"rmz-conversation-modal-overlay",style:{position:"absolute",top:0,left:0,bottom:0,right:0},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)}),t.createElement("div",{id:"rmz-conversation-modal-content",style:e},this.props.children))}}),Reamaze.Conversations.EmailTranscriptModal=e({displayName:"Reamaze.Conversations.EmailTranscriptModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1,submitted:!1,error:!1}},componentDidMount:function(){this.setTimeout(function(){this.refs.email_transcript_input&&r.findDOMNode(this.refs.email_transcript_input).focus()}.bind(this),0)},_emailTranscript:function(e){if(e.preventDefault(),e.stopPropagation(),!this.props.appContext._preview){var t=r.findDOMNode(this.refs.email_transcript_input).value;this.setState({submitting:!0,error:!1}),n.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/email_transcript",type:"POST",data:{sparams:n.param({sso:this.props.currentUser.ssoData()}),transcript_email:t},success:function(){this.setState({submitted:!0},function(){this.setTimeout(function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),3e3)}.bind(this))}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this),crossDomain:!0})}},render:function(){var e={width:"200px"};return this.state.error&&(e.border="1px solid red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_email_transcript),this.state.submitted&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}),this.state.submitting&&!this.state.submitted&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&!this.state.submitted&&t.createElement("form",{onSubmit:this._emailTranscript,ref:"form",id:"emailTranscriptForm"},t.createElement("div",{style:{marginBottom:"10px"}},t.createElement("input",{type:"email",ref:"email_transcript_input",placeholder:this.props.appContext.brand.preferences.trans_email,style:e,required:!0})),t.createElement("div",{style:{position:"relative"}},t.createElement("button",{type:"submit",key:"yes",className:"btn btn-link",style:{fontSize:"24px"}},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{key:"no",href:"javascript:;",className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"})))))}}),Reamaze.Conversations.EndChatModal=e({displayName:"Reamaze.Conversations.EndChatModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1}},_endChat:function(){this.props.appContext._preview||(this.setState({submitting:!0}),n.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversationSlug+"/end_chat",type:"POST",data:{sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CHAT_ENDED,payload:{conversationSlug:e.conversation.slug,props:{status:"archived",satisfactionRating:e.conversation.satisfactionRating}}})}.bind(this),error:function(){this.setState({submitting:!1})}.bind(this),crossDomain:!0}))},render:function(){return t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("p",{style:{marginBottom:"10px"}},this.props.appContext.brand.preferences.trans_chat_end_chat_confirmation_header),this.state.submitting&&t.createElement(Reamaze.Popup.Spinner,{style:{marginTop:"15px",height:"30px",position:"relative"},xColor:this.props.appContext.brand.styles.widgetColor}),!this.state.submitting&&t.createElement("div",null,t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px"},onClick:this._endChat},t.createElement("i",{className:"fas rmzfa rmzfa-check"})),t.createElement("button",{className:"btn btn-link",style:{fontSize:"24px",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(){this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times"}))))}}),Reamaze.Conversations.TransitionalModal=e({displayName:"Reamaze.Conversations.TransitionalModal",mixins:[TimerMixin],propTypes:{dispatcher:i.object,conversationSlug:i.string,currentUser:i.object,style:i.object,appContext:i.object.isRequired},getInitialState:function(){return{submitting:!1,error:!1,success:!1,email:"",name:""}},handleChange:function(){this.setState({email:r.findDOMNode(this.refs.email).value,name:r.findDOMNode(this.refs.name).value,canSubmit:!!r.findDOMNode(this.refs.email).value&&!!r.findDOMNode(this.refs.name).value})},componentDidMount:function(){Reamaze.sessionStorage.setItem("tx_prompt",1),r.findDOMNode(this.refs.name).focus()},componentDidUpdate:function(){this.state.success&&this.setTimeout(function(){this.props.dispatcher.dispatch({
type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this),1e3)},_onFormSubmit:function(e){e.preventDefault(),e.stopPropagation(),!this.props.appContext._preview&&this.state.canSubmit&&(this.setState({submitting:!0}),n.ajax({url:this.props.currentUser.get("_id")?this.props.appContext.baseDataUrl+"/data/users/"+this.props.currentUser.get("_id")+"/transition":this.props.appContext.baseDataUrl+"/data/users",type:"POST",data:{email:r.findDOMNode(this.refs.email).value,name:r.findDOMNode(this.refs.name).value,sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){var t=this.props.currentUser.getAnonymousId();this.props.currentUser.set("_id",e.id),this.props.currentUser.setAnonymousId(e.anonymous_id),this.props.currentUser.set("email",e.email),this.props.currentUser.set("name",e.name),this.setState({success:!0}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:t}})}.bind(this),error:function(){this.setState({submitting:!1,error:!0})}.bind(this)}))},render:function(){var e={width:"100%"};return this.state.error&&(e.boxShadow="0 1px 0px 0px red"),t.createElement(Reamaze.Conversations.Modal,{style:this.props.style,dispatcher:this.props.dispatcher},t.createElement("form",{onSubmit:this._onFormSubmit},t.createElement("p",{style:{marginBottom:"1em"}},this.props.appContext.brand.preferences.trans_transitional_email_prompt),t.createElement("fieldset",{style:{position:"relative",opacity:this.state.submitting?"0.5":1,marginBottom:"1em"},disabled:this.state.submitting},t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-name",type:"text",name:"name",ref:"name",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.name?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_name)),t.createElement("label",{className:"has-float-label"},t.createElement("input",{id:"transitional-email",type:"email",name:"email",ref:"email",style:e,onChange:this.handleChange,placeholder:" ",className:this.state.email?"":"placeholder-shown"}),t.createElement("span",null,this.props.appContext.brand.preferences.trans_email))),t.createElement("div",{style:{textAlign:"center"}},!this.state.success&&t.createElement("button",{className:"btn anim-btn",disabled:!this.state.canSubmit||this.state.submitting,style:{borderRadius:"14px"}},t.createElement("i",{className:"fas rmzfa rmzfa-arrow-right",style:{verticalAlign:"middle",marginTop:"-2px"}})),!this.state.success&&t.createElement("button",{className:"btn btn-link anim-btn",style:{fontSize:"24px",marginLeft:"1em",color:this.props.appContext.brand.styles.bodyLinkDisabledColor},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CLOSE_MODAL})}.bind(this)},t.createElement("i",{className:"fas rmzfa rmzfa-times",style:{position:"relative",top:"-1px"}})),this.state.success&&t.createElement("span",{className:"fas rmzfa rmzfa-check",style:{fontSize:"20px",color:"#32cd32"}}))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,i,e,t){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.MoreDetailsMessage=e({displayName:"Reamaze.Conversations.MoreDetailsMessage",mixins:[TimerMixin],propTypes:{conversation:t.object.isRequired,appContext:t.object.isRequired,category:t.string,chatIsLive:t.bool,inView:t.bool,onSubmit:t.func.isRequired,currentUser:t.object.isRequired,scrollContent:t.func},getInitialState:function(){return{visible:!1,showErrors:!1}},componentWillReceiveProps:function(e){e.conversation&&e.conversation.errors&&this.setState({showErrors:!0})},componentDidMount:function(){var e=!0;0<n(i.findDOMNode(this)).find("input[type!=hidden],select,textarea,.heading").not("input[type=submit]").length&&(e=!1),e?this.onSubmit():(this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300),this.scrollToView())},componentDidUpdate:function(e){!e.inView&&this.props.inView&&this.scrollToView()},scrollToView:function(){this.setTimeout(function(){this.props.inView&&!this.props.appContext._preview&&this.props.scrollContent(i.findDOMNode(this).offsetTop-30)}.bind(this),500)},onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n(i.findDOMNode(this));return 0<t.find(".input-error").length?(t.find(".input-error")[0].scrollIntoView(),t.find(".input-error :input")[0].focus(),void this.setState({showErrors:!0})):(this.props.onSubmit(n(i.findDOMNode(this.refs.form)).serializeArray()),!1)},render:function(){var n=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces).slice(0,3),e=this.props.currentUser.isIdentified()||"anonymous"==this.props.contactMode||"mixed"==this.props.contactMode&&this.props.chatIsLive||"mixed"==this.props.contactMode&&!this.props.appContext.brand.chatEnabled&&(this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime);return r.createElement("li",{className:"message staff pending-data prompt rmz-fade "+(this.state.visible?"in":"")},r.createElement("form",{ref:"form",onSubmit:this.onSubmit},n.map(function(e,t){return r.createElement("div",{className:"message-user-image",style:{bottom:15*(n.length-t-1)+5+"px"}},r.createElement("img",{src:e.avatarUrl,alt:e.name}))}),r.createElement("div",{className:"message-outer-wrap"},r.createElement("div",{className:"message-wrap"},r.createElement("fieldset",{disabled:this.props.conversation.saving,id:"new-conversation-fieldset",style:{opacity:this.props.conversation.saving?"0.7":1}},r.createElement("p",{style:{padding:"5px 5px",color:"#888"}},this.props.appContext.brand.preferences.trans_popup_more_details_needed),r.createElement("div",null,r.createElement(Reamaze.Conversations.ContactFormFields,{appContext:this.props.appContext,category:this.props.category,inView:this.props.inView,currentUser:this.props.currentUser,showIdentity:!e,showCategory:!this.props.chatIsLive&&(!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields),showCustomFields:!this.props.conversation.outbound||this.props.conversation.enableOutboundCustomFields,showErrors:this.state.showErrors,conversation:this.props.conversation}),r.createElement("div",{className:"action-bar"},r.createElement("input",{type:"submit",tabIndex:"-1",style:{display:"none"}}),r.createElement("button",{className:"btn btn-primary anim-btn",disabled:this.props.conversation.saving},this.props.appContext.brand.preferences.trans_send_message))))))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,e,r,i){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewConversationFooter=r({displayName:"Reamaze.Conversations.NewConversationFooter",propTypes:{appContext:i.object.isRequired,inView:i.bool.isRequired,onSubmit:i.func,chatIsLive:i.bool,conversations:i.object.isRequired,buttonMode:i.bool},getDefaultProps:function(){return{buttonMode:!1,conversationsCount:0}},getInitialState:function(){return{showNewConversationButton:this.props.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)}},shouldComponentUpdate:function(e,t){return this.props.chatIsLive!=e.chatIsLive||this.props.inView!=e.inView||this.props.buttonMode!=e.buttonMode||this.state.showNewConversationButton!=t.showNewConversationButton},componentWillReceiveProps:function(e){this.setState({showNewConversationButton:e.buttonMode||this.shouldShowNewConversationButton(this.props.conversations,this.props.appContext.route)})},shouldShowNewConversationButton:function(t,e){return Object.keys(t||{}).some(function(e){return t[e].id&&"*"!=(""+t[e].id).charAt(0)}.bind(this))&&"conversations:new"!=e},_getMostRecentActiveChat:function(){var r=null,i=0,t=this.props.conversations;if(0==(t=(t=Object.keys(t).map(function(e){return t[e]})).filter(function(e){return e.isChat&&("active"==e.status||"resolved"==e.status)})).length){var n=36e5,o=6048e5;t=this.props.conversations,t=(t=Object.keys(t).map(function(e){return t[e]})).filter(function(e){return!e.isChat&&!e.outbound&&"archived"!=e.status&&(!e.messages.find(function(e){return e.user&&e.user.isStaff||new Date(e.createdAt)<new Date(Date.now()-o)})||e.messages.find(function(e){return new Date(e.createdAt)>new Date(Date.now()-n)}))})}return t.forEach(function(e){var t=e.messages.slice(0).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}),n=new Date(t[0].createdAt).getTime();i<n&&(r=e,i=n)}),r},newConversation:function(){Reamaze.Analytics.track("New Conversation Button Clicked");var e=this._getMostRecentActiveChat();e?this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:show",routeParams:{slug:e.slug}}}):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new"}})},newConversationButtonText:function(){return this.props.chatIsLive?this.props.appContext.brand.preferences.trans_chat_new_chat:this.props.appContext.brand.inOffice||!this.props.appContext.brand.nextOfficeTime?this.props.appContext.brand.preferences.trans_popup_new_conversation_prompt:this.props.appContext.brand.preferences.trans_popup_new_conversation_ooo_prompt},render:function(){var e={textAlign:"center"};return this.state.showNewConversationButton&&(e.boxShadow="0 5px 25px 0 rgba(0,0,0,0.05)"),this.props.style&&t.extend(e,this.props.style),n.createElement("div",{id:"footer",ref:"footer",style:e},n.createElement("style",null,"\n            #footer a.btn {\n              margin: 0 12px;\n            }\n          "),!this.state.showNewConversationButton&&n.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,chatIsLive:this.props.chatIsLive,inView:this.props.inView,focus:"conversations:new"==this.props.appContext.route}),this.state.showNewConversationButton&&n.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:this.newConversation,style:{marginBottom:"5px"}},this.newConversationButtonText()),this.props.showConversationsCount&&0<this.props.conversationsCount&&n.createElement("a",{href:"javascript:;",className:"anim-btn btn btn-link anim-btn-shadow",style:{margin:"0 5px 5px 5px",padding:"5px 10px",border:"1px solid "+this.props.appContext.brand.styles.buttonBgColor,textDecoration:"none"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onConversationsCountClick(e)}.bind(this)},n.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),n.createElement("span",{style:{verticalAlign:"middle",marginLeft:"5px"}},this.props.conversationsCount)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(i,n,o,e,t){i.namespace("Reamaze.Conversations"),Reamaze.Conversations.NewMessage=e({displayName:"Reamaze.Conversations.NewMessage",mixins:[TimerMixin],propTypes:{appContext:t.object.isRequired,onSubmit:t.func.isRequired,onFocus:t.func,onTypingStart:t.func,onTypingStop:t.func,focus:t.bool,inView:t.bool,chatIsLive:t.bool},getDefaultProps:function(){return{focus:!1,inView:!0}},getInitialState:function(){return this.throttledOnKeyUp=i.throttle(250,this.onKeyUp),this.debouncedOnTypingStart=i.throttle(3e3,this.onTypingStart),this.debouncedOnTypingStop=i.throttle(500,this.onTypingStop),{uploading:!1,attachmentsCount:0,messageBlank:!0,showErrors:!1,typing:!1}},shouldComponentUpdate:function(e,t){return this.props.appContext.fullScreen!=e.appContext.fullScreen||this.state.uploading!=t.uploading||this.state.attachmentsCount!=t.attachmentsCount||this.state.messageBlank!=t.messageBlank||this.state.showErrors!=t.showErrors||this.props.chatIsLive!=e.chatIsLive},contextTypes:{window:t.object},componentDidMount:function(){i(this.context.window.document).find("#new_message").on("attachments:add",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount+1}})}.bind(this)),i(this.context.window.document).find("#new_message").on("attachments:remove",function(){this.setState(function(e){return{attachmentsCount:e.attachmentsCount-1}})}.bind(this)),i(this.context.window.document).find("#new_message").on("attachments:start",function(){this.setState({uploading:!0})}.bind(this)),i(this.context.window.document).find("#new_message").on("attachments:done",function(){this.setState({uploading:!1})}.bind(this)),i(this.context.window).trigger("app:reinitjs"),this.props.focus&&this.setTimeout(function(){this.refs.body&&this.props.inView&&!this.props.appContext._preview&&o.findDOMNode(this.refs.body).focus()}.bind(this),0),this.context.window.Mousetrap.bind({"mod+enter":this._insertNewline}),this.refs.body&&this.context.window.autosize(o.findDOMNode(this.refs.body))},componentDidUpdate:function(){i(this.context.window).trigger("app:reinitjs"),this.refs.body&&this.context.window.autosize.update(o.findDOMNode(this.refs.body))},componentWillUnmount:function(){i(this.context.window.document).find("#new_message").off("attachments:add"),i(this.context.window.document).find("#new_message").off("attachments:remove"),i(this.context.window.document).find("#new_message").off("attachments:start"),i(this.context.window.document).find("#new_message").off("attachments:done"),i(this.context.window.document).find(o.findDOMNode(this.refs.fileupload1)).remove(),i(this.context.window.document).find(o.findDOMNode(this.refs.fileupload2)).remove(),this.context.window.Mousetrap.unbind("mod+enter")},_insertNewline:function(){var e=i(this.refs.body),t=e.val(),n=e.prop("selectionStart");e.val(t.slice(0,n)+"\n"+t.slice(n)),e.prop("selectionEnd",n+1),e.blur().focus(),this.context.window.autosize.update(o.findDOMNode(this.refs.body))},_getStyleTag:function(){return n.createElement("style",null,"\n          form#new_message #fileupload-wrap {\n            white-space: nowrap;\n            margin-top: 5px;\n          }\n          form#new_message input#fileupload {\n            position: absolute;\n          }\n          form#new_message #fileupload-wrap > div {\n            margin-right: 5px;\n            white-space: nowrap;\n            vertical-align: middle;\n            display: inline-block;\n          }\n          form#new_message .attachment-cta {\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n          }\n          form#new_message .attachment-count {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            color: #fff;\n          }\n          form#new_message.has-attachment-errors .attachment-count {\n            display: none;\n          }\n          form#new_message .attachments-error-indicator {\n            display: none;\n          }\n          form#new_message.has-attachment-errors .attachments-error-indicator {\n            display: inline-block;\n          }\n          form#new_message #submit-container button {\n            border: 0;\n            background: none;\n            cursor: pointer;\n            color: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            font-size: 16px;\n            padding: 0;\n          }\n          form#new_message #submit-container button:disabled {\n            color: "+this.props.appContext.brand.styles.bodyLinkDisabledColor+";\n          }\n          form#new_message #action-bar {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: none;\n            position: relative;\n          }\n          .attributed form#new_message #action-bar {\n            padding-bottom: 5px;\n          }\n          form#new_message #action-bar #body-container {\n            padding: 0px 8px 0px 5px;\n            width: 100%;\n            -ms-flex: 1;\n            -moz-flex: 1;\n            -webkit-flex: 1;\n            flex: 1;\n          }\n          form#new_message #action-bar #body-container textarea {\n            width: 100%;\n            padding: 5px;\n            margin: 0;\n            border: 0;\n            max-height: 4em;\n            min-height: 32px;\n            height: 32px;\n            overflow-y: auto;\n            resize: none;\n          }\n          form#new_message #action-bar #live-indicator {\n            font-size: 8px;\n            color: limegreen;\n            position: absolute;\n            top: 11px;\n            left: -6px;\n          }\n          form#new_message #action-bar #error-indicator {\n            font-size: 11px;\n            color: #f00;\n            position: absolute;\n            top: 9px;\n            left: -7px;\n          }\n          form#new_message .attachment-box {\n            display: none;\n          }\n          form#new_message .attachment-box.in {\n            display: block;\n          }\n          form#new_message #submit-container button {\n            background: "+this.props.appContext.brand.styles.buttonLinkColor+";\n            height: 30px;\n            width: 39px;\n            border-radius: 14px;\n            line-height: 30px;\n            margin-left: 5px;\n            position: relative;\n          }\n          ")},_validateMessage:function(e){this.setState({messageBlank:!i.trim(i(o.findDOMNode(this.refs.body)).val())},function(){e&&e()})},_onSubmit:function(r){return r.preventDefault(),r.stopPropagation(),this._validateMessage(function(){this.state.uploading||(0<i(this.refs.form).find(".input-error").length?this.setState({showErrors:!0}):(this.state.showErrors&&this.setState({showErrors:!1}),this.setTimeout(function(){var e=o.findDOMNode(this.refs.body),n={body:i(e).val(),a_comment_body:i(o.findDOMNode(this.refs.a_comment_body)).val()},t=i(o.findDOMNode(this)).find('#attachments-list input[name="message[attachment_ids][]"]');0<t.length&&(n.attachment_ids=[],t.each(function(e,t){n.attachment_ids.push(t.value)})),this.props.onSubmit(n),i(o.findDOMNode(this)).find("#attachments-list li").not(".add-attachment").remove(),this.setState({attachmentsCount:0}),i(e).val(""),this.context.window.autosize.update(e),this.debouncedOnTypingStop(r)}.bind(this),0)))}.bind(this)),!1},_submit:function(){i(this.refs.submitButton).click()},_getCaptchas:function(){var e="a_comment_body_hp_"+parseInt(Date.now()/1e3,10);return n.createElement("div",{id:e},n.createElement("style",{type:"text/css",media:"screen",scoped:"scoped"},"#"+e+" { display:none; }"),n.createElement("label",{htmlFor:"a_comment_body"},"Do not fill in this field"),n.createElement("textarea",{name:"a_comment_body",id:"a_comment_body",ref:"a_comment_body"}))},onKeyUp:function(e){this._validateMessage(),0<i(e.target).val().trim().length?this.debouncedOnTypingStart(e):this.debouncedOnTypingStop(e)},onKeyPress:function(e){this.props.appContext.isMobileBrowser||13!=e.which||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),this._submit())},onBlur:function(e){this.debouncedOnTypingStop(e)},onTypingStart:function(e){this.props.onTypingStart&&0<i(e.target).val().trim().length&&(e.persist(),this.props.onTypingStart(e))},onTypingStop:function(e){this.props.onTypingStop&&(e.persist(),this.props.onTypingStop(e))},render:function(){var e=this.state.messageBlank&&0==this.state.attachmentsCount,t=e&&this.state.showErrors;return n.createElement("div",{id:"new_message_container"},this._getStyleTag(),n.createElement("form",{id:"new_message",method:"POST",className:"upload-attachments popup","data-pastezone":"#body-container","data-dropzone":"body","data-attachment-input-name":"message[attachment_ids][]",onSubmit:this._onSubmit,ref:"form",style:{padding:"0 15px"}},n.createElement("div",{className:"attachment-box public"},n.createElement("div",{className:"attachments-list-wrap"},n.createElement("div",{className:"close"},n.createElement("i",{className:"fas rmzfa rmzfa-chevron-down"})),n.createElement("ul",{id:"attachments-list",style:{textAlign:"left"}},n.createElement("li",{className:"attachment-wrap add-attachment"},n.createElement("a",{className:"preview-wrap upload-wrap"},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-plus",style:{fontSize:"24px",color:this.props.appContext.brand.styles.buttonLinkColor}})),n.createElement("input",{id:"list-fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload1",multiple:"multiple"})))))),this._getCaptchas(),n.createElement("div",{id:"action-bar"},n.createElement("div",{id:"body-container"},n.createElement("textarea",{name:"message[body]",placeholder:this.props.appContext.brand.preferences.trans_body,onFocus:this.props.onFocus,onKeyUp:function(e){e.persist(),this.throttledOnKeyUp(e)}.bind(this),onKeyPress:this.onKeyPress,onBlur:this.onBlur,className:"mousetrap "+(e?"input-error":""),style:{boxShadow:t?"red 0px 1px 0px 0px":"none"},ref:"body"})),n.createElement("div",{id:"fileupload-wrap",className:(0<this.state.attachmentsCount?"attachment-view":"")+" anim-btn"},this.state.uploading&&n.createElement(Reamaze.Spinner,{style:{width:"12px",height:"12px",marginTop:"-10px",marginRight:"15px",transform:"scale(0.5)"}}),n.createElement("div",{id:"fileupload-area",className:"upload-wrap attachment-cta",style:{display:this.state.uploading?"none":"block"}},n.createElement("span",{className:"attachment-link"},n.createElement("i",{className:"icon fas rmzfa rmzfa-paperclip"})),n.createElement("input",{id:"fileupload",type:"file",name:"files[]","data-url":this.props.appContext.baseDataUrl+"/data/attachments",className:"fileupload",ref:"fileupload2",multiple:"multiple"}),0<this.state.attachmentsCount&&n.createElement("span",{className:"attachment-count"}),n.createElement("span",{className:"fas rmzfa rmzfa-exclamation-circle attachments-error-indicator",style:{color:"red",fontSize:"16px",verticalAlign:"top",marginLeft:"-4px"}}))),n.createElement("div",{id:"submit-container"},n.createElement("button",{type:"submit",ref:"submitButton",disabled:this.state.uploading,className:"anim-btn",title:this.props.appContext.brand.preferences.trans_popup_reply},n.createElement("svg",{width:"17px",height:"17px",viewBox:"0 0 535.5 535.5",style:{enableBackground:"new 0 0 535.5 535.5",position:"relative",top:"3px",left:"1px"}},n.createElement("g",null,n.createElement("polygon",{fill:"#fff",points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"}))))),t&&n.createElement("div",{id:"error-indicator"},n.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"})),this.props.chatIsLive&&!t&&n.createElement("div",{id:"live-indicator"},n.createElement("i",{className:"fas rmzfa rmzfa-circle"})))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,o,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.PromptOptions=n({displayName:"Reamaze.Conversations.PromptOptions",propTypes:{onPromptOptionClick:r.func.isRequired,promptOptions:r.array.isRequired,submitting:r.bool.isRequired,scrollContent:r.func.isRequired},getInitialState:function(){return{visible:!1,selectedPrompt:null}},componentDidMount:function(){this.setState({visible:!0})},onPromptOptionClick:function(e,t){var n={body:t};this.setState({selectedPrompt:e.target.id}),this.props.onPromptOptionClick(n)},render:function(){var i=[];this.props.promptOptions.forEach(function(t,e){var n=this,r="prompt-option";r+=this.state.selectedPrompt=="prompt-option-"+e?" selected":"",i.push(o.createElement("li",{className:"prompt-option-li",key:"prompt-option-"+e},o.createElement("button",{id:"prompt-option-"+e,disabled:this.props.submitting,onClick:function(e){return n.onPromptOptionClick(e,t)},className:r},t)))}.bind(this));var e="prompt-options-container";return e+=this.state.visible?"":" hidden",o.createElement("ul",{className:e,ref:function(){this.props.scrollContent("b")}.bind(this)},i)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,e,t,r,i){n.namespace("Reamaze.Conversations"),Reamaze.Conversations.RespondForm=r({displayName:"Reamaze.Conversations.RespondForm",mixins:[TimerMixin],propTypes:{id:i.any.isRequired,slug:i.string.isRequired,isChat:i.bool,dispatcher:i.object,scrollContentToBottom:i.func,currentUser:i.object,inView:i.bool,outbound:i.bool,outboundData:i.object,chatIsLive:i.bool,appContext:i.object.isRequired,onSubmit:i.func,submitting:i.bool},getDefaultProps:function(){return{}},contextTypes:{window:i.object},componentDidMount:function(){n(this.context.window).trigger("app:reinitjs")},componentDidUpdate:function(){n(this.context.window).trigger("app:reinitjs")},getMessageChannel:function(){var e=this.props.appContext.getPusher();return e?e.channel("presence-conversation-"+this.props.id):null},onInputFocus:function(){this.props.scrollContentToBottom()},typing:!1,onTypingStart:function(e){var t=this.getMessageChannel();!t||t.members.count<2||(this.typing=!0,t.trigger("client-status",{name:"Customer",status:"typing:start",staff:!1,url:window.location.href,text:n(e.target).val()}))},onTypingStop:function(){var e=this.getMessageChannel();!e||e.members.count<2||this.typing&&(this.typing=!1,e.trigger("client-status",{name:"Customer",status:"typing:stop",staff:!1}))},render:function(){return e.createElement("div",{id:"responder",style:{opacity:this.props.submitting?"0.4":1}},e.createElement(Reamaze.Conversations.NewMessage,{appContext:this.props.appContext,onSubmit:this.props.onSubmit,onFocus:this.onInputFocus,onTypingStart:this.onTypingStart,onTypingStop:this.onTypingStop,focus:!0,inView:this.props.inView,chatIsLive:this.props.chatIsLive}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,e,n,r){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.SatisfactionRating=r({displayName:"SatisfactionRating",mixins:[TimerMixin],getInitialState:function(){return{commentProcessing:!1,commentSaved:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),300)},updateRating:function(e){t.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{rating:e},sparams:t.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:this.props.conversation.slug,props:{satisfactionRating:e}}})}.bind(this),crossDomain:!0})},updateComment:function(e){this.setState({commentProcessing:!0,commentSaved:!1},function(){t.ajax({url:this.props.appContext.baseDataUrl+"/data/conversations/"+this.props.conversation.slug+"/satisfaction_ratings/"+this.props.conversation.satisfactionRating.id,type:"PUT",data:{satisfaction_rating:{comment:e},sparams:t.param({sso:this.props.currentUser.ssoData()})}}).always(function(){this.setState({commentProcessing:!1,commentSaved:!0})}.bind(this))}.bind(this))},render:function(){return e.createElement("li",{className:"card fade "+(this.state.visible?"in":""),style:{margin:"1em"}},e.createElement("style",null,'\n            #ratings {\n              display: -ms-flexbox;\n              display: -ms-flex;\n              display: -moz-flex;\n              display: -webkit-flex;\n              display: flex;\n              flex-wrap: nowrap;\n            }\n            #ratings:after {\n              display: block;\n              content: "";\n              position: absolute;\n              background: #eaeaea;\n              top: 50%;\n              left: 10%;\n              right: 10%;\n              height: 3px;\n              margin-top: -4px;\n              z-index: 0;\n            }\n            #ratings .rating {\n              display: block;\n              width: 20%;\n              box-sizing: border-box;\n              padding: 5%;\n              vertical-align: middle;\n              transition: transform 0.4s;\n              position: relative;\n              z-index: 1;\n            }\n            #ratings .rating.selected {\n              transform: scale(1.3);\n            }\n            #ratings .rating .svg-wrapper {\n              width: 100%;\n              border-radius: 50%;\n              cursor: pointer;\n              height: 0;\n              padding-top: 100%;\n              position: relative;\n            }\n            #ratings .rating svg {\n              position: absolute;\n              left: 0;\n              top: 0;\n            }\n            #ratings .rating.off .off {\n              display: inline-block;\n            }\n            #ratings .rating.off .on {\n              display: none;\n            }\n            #ratings .rating.selected .off {\n              display: none;\n            }\n            #ratings .rating.selected .on {\n              display: inline-block;\n            }\n          '),e.createElement("div",null,this.props.conversation.satisfactionRating&&this.props.satisfactionRating.rating&&e.createElement("div",null,e.createElement("i",{className:"rmzfa fas rmzfa-check",style:{display:"block",margin:"0.3em auto",fontSize:"18px",lineHeight:"40px",height:"40px",width:"40px",borderRadius:"50%",background:"#e9efef",color:"#9bb3b3",textAlign:"center"}}),e.createElement("h1",{style:{fontSize:"1.3em",textAlign:"center",marginBottom:"5px"}},this.props.appContext.brand.preferences.trans_survey_thanks_header),e.createElement("p",{style:{marginBottom:"20px",textAlign:"center",color:"#8b8d96"}},this.props.appContext.brand.preferences.trans_survey_thanks_message)),e.createElement("p",{style:{marginTop:"20px",textAlign:"center",color:"#8b8d96",fontSize:"90%"}},this.props.appContext.brand.preferences.trans_survey_ratings_prompt),e.createElement("div",{style:{width:"100%",maxWidth:"400px",margin:"0.3em auto",position:"relative"}},e.createElement("div",{id:"ratings"},e.createElement("div",{id:"rating-1",className:"rating "+(1==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-82.857 -420.934)"},e.createElement("circle",{r:"217.143",cy:"638.076",cx:"300",fill:"#ffa683"}),e.createElement("path",{d:"M394.357 601.72c0 16.568-13.43 30-30 30-16.568 0-29.955-12.177-30-30l35.5-28c16.568.164 24.5 11.43 24.5 28zM199.857 600.72c0 16.568 13.432 30 30 30 16.57 0 29.956-12.177 30-30l-35.5-28c-16.567.164-24.5 11.43-24.5 28z",fill:"#352d2b"}),e.createElement("path",{d:"M358.204 730.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,1)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-42.857 -206.648)"},e.createElement("circle",{cx:"260",cy:"423.791",r:"217.143",fill:"#d7d7d7"}),e.createElement("path",{d:"M354.357 387.434c0 16.568-13.43 30-30 30-16.568 0-29.955-12.176-30-30l35.5-28c16.568.165 24.5 11.43 24.5 28zM159.857 386.434c0 16.568 13.432 30 30 30 16.57 0 29.956-12.176 30-30l-35.5-28c-16.567.165-24.5 11.43-24.5 28z",fill:"#fff"}),e.createElement("path",{d:"M318.204 516.248c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-2",className:"rating "+(2==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-128.57 -298.077)"},e.createElement("circle",{cx:"345.714",cy:"515.219",r:"217.143",fill:"#ffc083"}),e.createElement("path",{d:"M302.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM440.07 478.862a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M403.918 607.677c-35.382-27.914-88.223-27.713-122.388 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,2)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-97.143 -200.934)"},e.createElement("circle",{r:"217.143",cy:"418.076",cx:"314.286",fill:"#d7d7d7"}),e.createElement("path",{d:"M270.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM408.643 381.72a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M372.49 510.534c-35.383-27.914-88.223-27.713-122.39 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),
e.createElement("div",{id:"rating-3",className:"rating "+(3==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-60 -192.362)"},e.createElement("circle",{cx:"277.143",cy:"409.505",r:"217.143",fill:"#ffe183"}),e.createElement("path",{d:"M233.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM371.5 373.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M210.413 492.835h125.482",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,3)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-125.714 -206.648)"},e.createElement("circle",{r:"217.143",cy:"423.791",cx:"342.857",fill:"#d7d7d7"}),e.createElement("path",{d:"M299.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM437.214 387.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M276.128 507.12h125.48",fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-4",className:"rating "+(4==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-37.143 -212.362)"},e.createElement("circle",{r:"217.143",cy:"429.505",cx:"254.286",fill:"#ffe583"}),e.createElement("path",{d:"M210.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM348.643 393.148a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M149.53 496.77c60 40.194 149.6 39.905 207.533 0",fill:"none",stroke:"#352d2b",strokeWidth:"30",strokeLinecap:"round"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,4)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-162.857 -86.648)"},e.createElement("circle",{cx:"380",cy:"303.791",r:"217.143",fill:"#d7d7d7"}),e.createElement("path",{d:"M336.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM474.357 267.434a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#fff"}),e.createElement("path",{d:"M275.245 371.056c59.998 40.194 149.598 39.904 207.532 0",fill:"none",stroke:"#fff",strokeWidth:"30",strokeLinecap:"round"}))))),e.createElement("div",{id:"rating-5",className:"rating "+(5==this.props.satisfactionRating.rating?"selected":"off")},e.createElement("div",{className:"svg-wrapper on"},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-14.286 -103.79)"},e.createElement("circle",{cx:"231.429",cy:"320.934",r:"217.143",fill:"#ffeb83"}),e.createElement("path",{d:"M187.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM325.786 284.577a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#352d2b"}),e.createElement("path",{d:"M137.143 381.22h182s.532 68.682-90.968 68.682c-90.525 0-91.032-68.683-91.032-68.683z",fill:"#352d2b",fillRule:"evenodd",stroke:"#000"})))),e.createElement("div",{className:"svg-wrapper off",onClick:this.updateRating.bind(this,5)},e.createElement("svg",{viewBox:"0 0 434.28571 434.28571"},e.createElement("g",{transform:"translate(-148.57 -149.505)"},e.createElement("circle",{r:"217.143",cy:"366.648",cx:"365.714",fill:"#d7d7d7"}),e.createElement("path",{d:"M322.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30zM460.07 330.29a30 30 0 0 1-30 30 30 30 0 0 1-30-30 30 30 0 0 1 30-30 30 30 0 0 1 30 30z",fill:"#faf8fa"}),e.createElement("path",{d:"M271.43 426.934h182s.53 68.682-90.97 68.682c-90.525 0-91.03-68.682-91.03-68.682z",fill:"#faf8fa",fillRule:"evenodd"}))))))),this.props.satisfactionRating.rating&&e.createElement("form",{onSubmit:function(e){e.preventDefault(),this.updateComment(this.textarea.value)}.bind(this)},e.createElement("label",{htmlFor:"comment",style:{textAlign:"center",color:"#a0a4a6",display:"block",fontSize:"90%",marginBottom:"15px"}},this.props.appContext.brand.preferences.trans_survey_comment_prompt),e.createElement("textarea",{id:"comment",ref:function(e){this.textarea=e}.bind(this),onChange:function(){this.state.commentSaved&&this.setState({commentSaved:!1})}.bind(this),placeholder:this.props.appContext.brand.preferences.trans_survey_comment_placeholder,defaultValue:this.props.conversation.satisfactionRating.comment,style:{display:"block",width:"100%",height:"70px",boxSizing:"border-box",padding:"10px",border:"1px solid #e8e8e8",boxShadow:"none",marginBottom:"15px",resize:"none"}}),e.createElement("div",{style:{textAlign:"right"}},e.createElement("i",{className:"rmzfa fas rmzfa-check",style:{marginRight:"20px",color:"rgb(36, 213, 143)",fontSize:"20px",transition:"0.3s",opacity:this.state.commentSaved?"1.0":"0.0"}}),e.createElement("button",{className:"btn anim-btn anim-btn-shadow",disabled:this.state.commentProcessing||this.state.commentSaved},this.props.appContext.brand.preferences.trans_survey_comment_submit)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(t,n,e,r,i){t.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateAnchorAction=r({displayName:"Reamaze.Conversations.TemplateAnchorAction",propTypes:{action:i.object.isRequired,appContext:i.object.isRequired,currentUser:i.object.isRequired,message:i.object.isRequired},doAction:function(){if(this.props.action.uuid){var e={uuid:this.props.action.uuid,message_id:this.props.message.id,name:this.props.action.name};Reamaze.localStorage.setItem("messageTemplate.lastAction",JSON.stringify({name:this.props.action.name,timestamp:Date.now()})),"url"===this.props.action.type&&(e.action_type="click"),e.sparams=t.param({sso:this.props.currentUser.ssoData()}),t.ajax({url:this.props.appContext.baseDataUrl+"/data/message_template_events",type:"POST",data:e})}},render:function(){var e="url"===this.props.action.type?this.props.action.url:"javascript:void(0)",t="url"===this.props.action.type?"_blank":null;return n.createElement("a",{href:e,target:t,onClick:this.doAction,style:{color:"inherit",opacity:"1",display:"flex",alignItems:"center"}},this.props.children)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,r,t,n,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateIcon=n({displayName:"Reamaze.Conversations.TemplateIcon",propTypes:{icon:i.string.isRequired,style:i.object,appContext:i.object.isRequired},getDefaultProps:function(){return{style:{}}},render:function(){var e={book:"rmzfa fas rmzfa-book",truck:"rmzfa fas rmzfa-truck",external_link:"rmzfa fas rmzfa-external-link-alt"}[this.props.icon];e||(e=null);var t=this.props.appContext.brand.styles,n=Object.assign({color:t.headerBgColor},this.props.style);return r.createElement("div",{className:"template-icon",style:n},r.createElement("i",{className:""+e}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateImage=r({displayName:"Reamaze.Conversations.TemplateImage",propTypes:{image:i.string.isRequired,style:i.object},getDefaultProps:function(){return{style:{}}},render:function(){return t.createElement("div",{className:"template-image",style:this.props.style},t.createElement("img",{src:this.props.image,style:{maxWidth:"100%"}}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,a,t,n,r){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateList=n({displayName:"Reamaze.Conversations.TemplateList",propTypes:{componentData:r.object.isRequired,appContext:r.object.isRequired,currentUser:r.object.isRequired,message:r.object.isRequired},renderList:function(){var n=[],r="26px",i=50,o=10;return this.props.componentData.items.forEach(function(e,t){n.push(a.createElement("div",{key:"template-list-item-"+t,className:"template-list-item",style:{padding:"12px 15px",borderLeft:"1px solid transparent"}},a.createElement("div",{style:{minHeight:"36px"}},a.createElement(Reamaze.Conversations.TemplateAnchorAction,{action:e.action,appContext:this.props.appContext,currentUser:this.props.currentUser,message:this.props.message},e.image&&a.createElement("div",null,a.createElement(Reamaze.Conversations.TemplateImage,{image:e.image,style:{width:i+"px",paddingRight:o+"px"}})),e.icon&&a.createElement("div",null,a.createElement(Reamaze.Conversations.TemplateIcon,{icon:e.icon,appContext:this.props.appContext,style:{width:r}})),a.createElement("div",{style:{width:"100%",paddingRight:e.image?i+o+"px":r}},a.createElement("div",{style:{fontWeight:"bold"}},a.createElement(Reamaze.Conversations.TemplateText,{text:e.title})),e.subtitle&&a.createElement(Reamaze.Conversations.TemplateText,{text:e.subtitle}))))))}.bind(this)),a.createElement("div",null,n)},render:function(){var e=this.props.appContext.brand.styles;return a.createElement("div",{className:"template-list"},a.createElement("style",null,"\n            .template-list .template-list-item:hover {\n              border-left: 1px solid "+e.headerBgColor+" !important;\n            }\n          "),a.createElement("div",{className:"card-body full"},this.renderList()))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateMap=r({displayName:"Reamaze.Conversations.TemplateMap",propTypes:{componentData:i.object.isRequired},render:function(){return t.createElement("div",{className:"template-map"},t.createElement("iframe",{title:"Google Maps",width:"100%",height:"250px",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData["long"]+"&output=embed&z=14"}),t.createElement("div",{style:{padding:"5px 0 10px 0",textAlign:"center"}},t.createElement("a",{href:"https://maps.google.com/maps?q="+this.props.componentData.lat+","+this.props.componentData["long"]+"&z=14",target:"_blank"},"View map")))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TemplateText=r({displayName:"Reamaze.Conversations.TemplateText",propTypes:{text:i.string.isRequired},render:function(){return t.createElement("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},this.props.text)}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Conversations"),Reamaze.Conversations.TypingMessage=r({displayName:"Reamaze.Conversations.TypingMessage",propTypes:{user:i.object.isRequired,appContext:i.object.isRequired},shouldComponentUpdate:function(e){return this.props.user.id!=e.user.id},render:function(){return t.createElement("li",{id:"typing-message-"+this.props.user.id,className:"message typing"+(this.props.user.displayAsStaff?"":" customer")},t.createElement("div",{className:"message-user-image"},t.createElement("img",{src:this.props.user.avatarUrl,alt:this.props.user.name})),t.createElement("div",{className:"message-outer-wrap"},t.createElement("div",{className:"message-wrap"},t.createElement("div",{className:"message-wrap2"},t.createElement("div",{className:"message-body"},t.createElement("div",{className:"typing-indicator-dots"},t.createElement("span",{className:"one"},"."),t.createElement("span",{className:"two"},"."),t.createElement("span",{className:"three"},"."))))),t.createElement("div",{className:"message-meta"},t.createElement("i",null,this.props.appContext.brand.preferences.trans_chat_typing.replace(/\{\{ user \}\}/,this.props.user.name)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,e,t,i){n.namespace("Reamaze.Hub"),Reamaze.Hub.ACTIONS={};var o=function(e,t){return t.type,null};Reamaze.Hub.App=t({displayName:"Reamaze.Hub.App",mixins:[TimerMixin],propTypes:{chatIsLive:i.bool,enableKb:i.bool,currentUser:i.object,active:i.bool,onAppMounted:i.func,contactHeader:i.string,conversations:i.object,conversationsFetched:i.bool,appContext:i.object.isRequired,label:i.any,category:i.string},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=n.extend({},this.state);t.effects=[],(t=o(t,e))&&this.setState(t)}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,currentUser:this.props.currentUser,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive}},componentWillReceiveProps:function(e){var t={currentUser:e.currentUser,inView:e.active&&e.appContext.shoutbox.open,chatIsLive:e.chatIsLive};if(t.currentUser!=this.state.currentUser||t.inView!=this.state.inView||t.chatIsLive!=this.state.chatIsLive){if(!this.state.inView&&t.inView&&this.checkRedirectToConversationsNew())return;this.setState(t)}},componentDidMount:function(){this.props.onAppMounted(),this.state.inView&&this.setTimeout(this.updateLiveStatus,0),this.setInterval(this.updateLiveStatus,1e4),this.state.inView&&(this.checkRedirectToConversationsNew()||Reamaze.Analytics.track("Hub Shown"))},componentDidUpdate:function(e,t){this.state.inView&&!t.inView&&Reamaze.Analytics.track("Hub Shown")},checkRedirectToConversationsNew:function(){var e=this.props.conversations&&!!Object.keys(this.props.conversations).length,t=this.props.appContext.apps,n=this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled,r=Object.keys(t).some(function(e){return"faq"!=e&&!!t[e].enabled});return!(e||n||r)&&(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{noback:!0}}}),!0)},updateLiveStatus:function(){this.props.appContext.brand.chatEnabled&&this.state.inView&&this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING_LIVE_STATUS})},goToStatus:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index",routeParams:{noback:!0}}})},getBanner:function(){if(!(0<this.props.appContext.brand.activeIncidents.length))return null;var e=this.props.appContext.brand.activeIncidents.reduce(function(e,t,n){return 0===n?t.title:e+", "+t.title},"");return r.createElement("div",{className:"alert alert-warning",style:{margin:"20px 20px 0 20px",paddingLeft:"19px",paddingRight:"14px",display:"flex"}},r.createElement("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1}},e)," ",r.createElement("a",{href:"javascript:void(0)",style:{textAlign:"right"},onClick:this.goToStatus},this.props.appContext.brand.preferences.trans_status_view_status_button))},getContent:function(){var e=[],t=this.props.appContext.apps;return this.props.enableKb&&this.props.appContext.brand.kb&&t.faq&&t.faq.enabled&&e.push(r.createElement(Reamaze.Shared.Card,{id:"search-kb-card",key:"search-kb-card",appContext:this.props.appContext,loading:!1},r.createElement("style",null,"\n          #search-kb-card .rmzfa-search {\n            position: absolute;\n            top: 3px;\n            right: 0px;\n            color: #bbb;\n          }\n        "),r.createElement("div",{className:"card-header"},t.faq&&t.faq.header?t.faq.header:this.props.appContext.brand.preferences.trans_hub_faq_header),r.createElement("div",{className:"card-body"},r.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=n(e.target).find("input.search").val();return Reamaze.Analytics.track("Hub:FAQ Search",t),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?q="+encodeURIComponent(t)}}}),!1}.bind(this)},r.createElement("input",{type:"text",className:"search",placeholder:t.faq&&t.faq.placeholder?t.faq.placeholder:this.props.appContext.brand.preferences.trans_hub_faq_placeholder}),r.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),r.createElement("button",{className:"btn btn-link fas rmzfa rmzfa-search"}))))),t.orders&&t.orders.enabled&&e.push(r.createElement(Reamaze.Hub.Orders.App,{key:"orders-card",appContext:this.props.appContext,currentUser:this.props.currentUser})),this.props.conversations&&!!Object.keys(this.props.conversations).length&&e.push(r.createElement(Reamaze.Shared.Card,{id:"conversation-list-card",key:"conversation-list-card",appContext:this.props.appContext,loading:!this.props.conversationsFetched},r.createElement("div",{className:"card-header"},t.recentConversations&&t.recentConversations.header?t.recentConversations.header:this.props.appContext.brand.preferences.trans_hub_conversations_header),r.createElement("div",{className:"card-body full"},r.createElement("div",{style:{marginTop:"-5px"}},r.createElement(Reamaze.Conversations.ConversationList,{conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,onMount:function(){},appContext:this.props.appContext}))))),e},render:function(){if(!this.props.active)return null;this.props.conversations&&Object.keys(this.props.conversations).length;return r.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},r.createElement("style",null,"\n\n        "),r.createElement(Reamaze.Shared.Header,{chatIsLive:this.state.chatIsLive,enableKb:this.props.enableKb,header:this.props.contactHeader,allowHtmlHeader:!0,appContext:this.props.appContext}),r.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed"},this.getBanner(),r.createElement("div",{id:"content-inner",style:{padding:"20px 0 10px 0"}},this.getContent()),r.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px"}})),r.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,buttonMode:!0,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,e,t,i){n.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.App=t({mixins:[TimerMixin],propTypes:{appContext:i.object.isRequired},contextTypes:{window:i.object},getDefaultProps:function(){return{}},getInitialState:function(){return{ordersFetched:!1,orders:[],order:null,route:"index"}},componentDidMount:function(){this.setTimeout(this.fetchOrders.bind(this,3),0)},fetchOrders:function(e){this.props.currentUser.isSSOUser()?n.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:{limit:e,sparams:n.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({ordersFetched:!0,orders:e.orders||[]})}.bind(this),crossDomain:!0}):this.setState({orders:[],ordersFetched:!0})},showAllOrders:function(){Reamaze.Analytics.track("Hub:Orders View All"),this.setState({route:"allOrders",ordersFetched:!1},this.fetchOrders.bind(this,100))},findOrder:function(e,t){return Reamaze.Analytics.track("Hub:Orders Search"),n.ajax({url:this.props.appContext.baseDataUrl+"/data/orders",type:"GET",data:n.extend({},e,{sparams:n.param({sso:this.props.currentUser.ssoData()})}),success:function(e){e.orders[0]?this.setState({order:e.orders[0],route:"search"}):t()}.bind(this),error:t,crossDomain:!0}),!1},goToIndex:function(){this.setState({route:"index"})},getContent:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?0<this.state.orders.length?r.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:"allOrders"==this.state.route?this.state.orders:this.state.orders.slice(0,2),currentUser:this.props.currentUser}):r.createElement("div",{style:{padding:"0 20px"}},e.orders.no_orders||t.trans_hub_orders_no_orders):"search"==this.state.route?this.state.order?r.createElement(Reamaze.Hub.Orders.OrderList,{appContext:this.props.appContext,orders:[this.state.order],currentUser:this.props.currentUser}):r.createElement(Reamaze.Hub.Orders.FindOrder,{appContext:this.props.appContext,findOrder:this.findOrder,backButton:this.goToIndex}):void 0},getFooter:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return"index"==this.state.route||"allOrders"==this.state.route?r.createElement("div",{className:"card-footer"},"index"==this.state.route&&2<this.state.orders.length&&r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{marginRight:"0.8em"},onClick:function(){this.showAllOrders()}.bind(this)},e.orders.order_history_button_text||t.trans_hub_orders_order_history_button_text),r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||t.trans_hub_orders_find_order_button_text),"allOrders"==this.state.route&&r.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},t.trans_popup_back)):"search"==this.state.route&&this.state.order?r.createElement("div",{className:"card-footer"},r.createElement("a",{className:"btn btn-primary anim-btn anim-btn-shadow",onClick:function(){this.setState({route:"search",order:null})}.bind(this)},e.orders.find_order_button_text||t.trans_hub_orders_find_order_button_text),r.createElement("a",{className:"btn btn-link",onClick:this.goToIndex,style:{marginLeft:"10px"}},t.trans_popup_back)):void 0},render:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;return r.createElement(Reamaze.Shared.Card,{id:"orders-card",appContext:this.props.appContext,loading:!this.state.ordersFetched},r.createElement("style",null,"\n        #orders-card input {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        #orders-card input:focus {\n          opacity: 1;\n        }\n      "),r.createElement("div",{className:"card-header"},e.orders.header||t.trans_hub_orders_header),r.createElement("div",{className:"card-body full"},this.getContent()),this.getFooter())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n,r,i,e){n.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.FindOrder=e({displayName:"Reamaze.Hub.Orders.FindOrder",mixins:[TimerMixin],getInitialState:function(){return{loading:!1,visible:!1}},componentDidMount:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.apps,t=this.props.appContext.brand.preferences;this.props.appContext.brand.styles;return r.createElement("form",{ref:"form",onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),n(i.findDOMNode(this.refs.form)).find(":focus").blur(),this.setState({loading:!0}),this.props.findOrder({orderEmail:this.refs.orderEmail.value,orderNumber:this.refs.orderNumber.value},function(){this.setState({error:!0,loading:!1})}.bind(this)),!1}.bind(this),disabled:this.state.loading,className:"rmz-fade "+(this.state.visible?"in":"")},r.createElement("div",{style:{opacity:this.state.loading?"0.6":1,padding:"0 20px"}},r.createElement("div",null,r.createElement("input",{type:"text",name:"orderNumber",ref:"orderNumber",placeholder:e.orders.order_number_placeholder||t.trans_hub_orders_order_number_placeholder,required:!0})," ",r.createElement("br",null),r.createElement("input",{type:"text",name:"email",ref:"orderEmail",placeholder:e.orders.order_email_placeholder||t.trans_hub_orders_order_email_placeholder,required:!0})),r.createElement("div",null,r.createElement("input",{type:"submit",style:{display:"none"},tabIndex:"-1"}),r.createElement("button",{className:"btn btn-primary anim-btn anim-btn-shadow",style:{paddingTop:"8px"},disabled:this.state.loading},r.createElement("i",{className:"fas rmzfa rmzfa-search"})),this.props.backButton&&r.createElement("a",{className:"btn btn-link",onClick:this.props.backButton,style:{marginLeft:"10px"}},t.trans_popup_back),this.state.error&&r.createElement("span",{style:{marginLeft:"1em",color:"#ea4d4a"}},r.createElement("i",{className:"rmzfa fas rmzfa-exclamation-circle"})," ",e.orders.find_order_error||t.trans_hub_orders_find_order_error))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r,i){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderList=r({displayName:"Reamaze.Hub.Orders.OrderList",mixins:[TimerMixin],propTypes:{orders:i.array,appContext:i.object},getDefaultProps:function(){return{orders:[]}},getInitialState:function(){return{visible:!1}},componentDidMount:function(){this.onFetched()},componentWillReceiveProps:function(){},onFetched:function(){this.setTimeout(function(){this.setState({visible:!0})}.bind(this),0)},render:function(){var e=this.props.appContext.brand.styles;return t.createElement("div",null,t.createElement("style",null,"\n          #order-list {\n            margin-top: -5px;\n          }\n          #order-list li {\n            border-left: 1px solid transparent;\n            transition: all 0.25s linear;\n            padding: 12px 20px;\n          }\n          #order-list li.clickable:hover {\n            cursor: pointer;\n            border-left: 1px solid "+e.headerBgColor+";\n          }\n          #order-list li:not(.clickable) a:hover {\n            opacity: 1;\n            cursor: default;\n          }\n          #order-list li > a {\n            display: -ms-flexbox;\n            display: -ms-flex;\n            display: -moz-flex;\n            display: -webkit-flex;\n            display: flex;\n            flex-wrap: nowrap;\n            -ms-flex-wrap: nowrap;\n            -ms-flex-pack: justify;\n            justify-content: space-between;\n            color: #333;\n          }\n          #order-list li .right {\n            text-align: right;\n          }\n          #order-list li .meta {\n            opacity: 0.7;\n          }\n          #order-list .shipments, #order-list .note {\n            margin-top: 3px;\n          }\n          #order-list .note .rmzfa {\n            margin-right: 5px;\n            opacity: 0.7;\n            float: left;\n            margin-top: 1px;\n          }\n          #order-list .shipments .shipment {\n            margin-left: 15px;\n            margin-top: 3px;\n          }\n        "),t.createElement("ul",{id:"order-list",className:"rmz-fade "+(this.state.visible?"in":"")},this.props.orders.map(function(e){return t.createElement(Reamaze.Hub.Orders.OrderListItem,{key:e.id,order:e,appContext:this.props.appContext,currentUser:this.props.currentUser})}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,o,t,n){e.namespace("Reamaze.Hub.Orders"),Reamaze.Hub.Orders.OrderListItem=n({displayName:"Reamaze.Hub.Orders.OrderListItem",getInitialState:function(){return{fetching:!1,shipments:null}},componentDidMount:function(){"shopify"==this.props.order.provider&&this.props.order.fulfillments&&this.setState({shipments:this.props.order.fulfillments})},fetchShipments:function(){this.setState({fetching:!0},function(){e.ajax({url:this.props.appContext.baseDataUrl+"/data/orders/"+this.props.order.id+"/shipments",type:"GET",data:{sparams:e.param({sso:this.props.currentUser.ssoData()})},success:function(e){this.setState({fetching:!1,shipments:e.shipments||[]})}.bind(this),error:function(){this.setState({fetching:!1})},crossDomain:!0})}.bind(this))},render:function(){var n=this.props.appContext.apps,r=this.props.appContext.brand.preferences,e=this.props.appContext.brand.styles,t=Reamaze.Utils.pSBC(.95,e.headerBgColor)||"#fafafa",i=e.widgetColor;return o.createElement("li",{className:this.props.order.url||"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"clickable":""},o.createElement("a",{href:this.props.order.url?this.props.order.url:"javascript:;",target:this.props.order.url?"_blank":"_self",onClick:function(e){this.props.order.url||(e.preventDefault(),e.stopPropagation()),Reamaze.Analytics.track("Hub:Orders Order Clicked"),"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&this.fetchShipments()}.bind(this)},o.createElement("div",null,o.createElement("div",{style:{color:i}},n.orders.order_name_prefix||r.trans_hub_orders_order_name_prefix," ",this.props.order.name,this.props.order.url&&o.createElement(o.Fragment,null," ",o.createElement("i",{className:"rmzfa fas rmzfa-external-link-alt",style:{margin:0,fontSize:"13px",position:"relative",bottom:"1px"}}))),o.createElement("div",{className:"meta",style:{textDecoration:"bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments?"underline":"none"}},n.orders["fulfillment_"+this.props.order.status]||r["trans_hub_orders_fulfillment_"+this.props.order.status]||this.props.order.status||""," ","bigcommerce"==this.props.order.provider&&this.props.order.has_shipments&&!this.state.shipments&&o.createElement("span",null,"\xbb"))),o.createElement("div",{className:"right"},o.createElement("div",{className:"meta"},new Date(this.props.order.date).toLocaleDateString()),o.createElement("div",null,this.props.order.total))),n.orders.enable_notes&&this.props.order.note&&o.createElement("div",{className:"note"},o.createElement("i",{className:"rmzfa far rmzfa-sticky-note"}),o.createElement("div",{dangerouslySetInnerHTML:{__html:Reamaze.Utils.simpleFormat(this.props.order.note)}})),this.state.fetching&&o.createElement("div",null,o.createElement(Reamaze.Spinner,{xColor:e.widgetColor,bgColor:t,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}})),this.state.shipments&&0<this.state.shipments.length&&o.createElement("div",{className:"shipments"},o.createElement("div",null,n.orders.shipments||r.trans_hub_orders_shipments),this.state.shipments.map(function(t,e){return o.createElement("div",{key:e,className:"shipment"},e+1,". ",o.createElement("a",{href:t.url?t.url:"javascript:;",target:"_blank",onClick:function(e){t.url||(e.preventDefault(),e.stopPropagation())}},t.provider," ",t.tracking_number||n.orders.no_tracking_number||r.trans_hub_orders_no_tracking_number))}.bind(this))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(o,a,e,t,n){o.namespace("Reamaze.KB"),Reamaze.KB.App=t({mixins:[TimerMixin],propTypes:{enableKb:n.bool,currentUser:n.object,active:n.bool,popupOptions:n.object,onAppMounted:n.func,conversations:n.object,appContext:n.object.isRequired,chatIsLive:n.bool},contextTypes:{window:n.object},getDefaultProps:function(){return{}},getInitialState:function(){return{kbLoaded:!1}},componentWillReceiveProps:function(e){this.props.active&&!e.active&&o(this.context.window).focus()},componentDidMount:function(){this.props.onAppMounted(),this.props.active&&this.props.appContext.shoutbox.open&&Reamaze.Analytics.track("KB Shown")},componentDidUpdate:function(e){!this.props.active||!this.props.appContext.shoutbox.open||e.active&&e.appContext.shoutbox.open||Reamaze.Analytics.track("KB Shown")},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getHeader:function(){return a.createElement("div",{id:"nav-c-header"},a.createElement("a",{href:"javascript:;",onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index",routeParams:{path:"/?rl="+Date.now()}}})}.bind(this)},this.props.appContext.brand.preferences.trans_kb_header))},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getContent:function(){var e,t=o.param({sso:this.props.currentUser.ssoData(),popup:1}),n=this.getPath();e=(n=n+(0<n.indexOf("?")?"&":"?")+t).match(/^http/)?n:this.props.appContext.baseUrl+n,this.props.appContext.routeParams&&this.props.appContext.routeParams.anchor&&(
e+=this.props.appContext.routeParams.anchor);var r={width:"100%",height:"100%",overflowY:"hidden"},i={position:"relative"};return a.createElement("div",{style:r},!this.state.kbLoaded&&a.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),a.createElement("iframe",{title:"FAQ",style:i,src:e,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({kbLoaded:!0})}.bind(this)}))},onNewMessageSubmit:function(e){if(!this.props.appContext._preview){var t=e.a_comment_body;delete e.a_comment_body,data={message:e,a_comment_body:t},this.props.currentUser&&(data.sparams=o.param({sso:this.props.currentUser.ssoData()}));var n=Math.floor(Date.now()/1e3),r=Reamaze.ec("0"+n);return data._zt=r,data._zt2=n,data._url=window.location.href,data._browser=Reamaze.Utils.massageUserAgent(window.navigator),data.chat=this.props.chatIsLive,this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_CONVERSATION,payload:{slug:"*tmp-"+r,data:data}}),!1}},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),a.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},a.createElement(Reamaze.KB.Css,null),a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},a.createElement("div",null,function(){if(this.props.conversations&&0<Object.keys(this.props.conversations).length){var e=0;for(var t in this.props.conversations)this.props.conversations[t].unread&&e++;return a.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations},a.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),0<e&&a.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked},a.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),a.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"})))),a.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),a.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid #f0f0f0",background:"#fff"}})),a.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n){e.namespace("Reamaze.KB"),Reamaze.KB.Css=n({shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header #nav-c-header a:hover {\n          text-decoration: underline;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        .rmz-fade {\n          transition: opacity 150ms ease-in;\n          opacity: 0.01\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(t,e,n,r,i){t.namespace("Reamaze.Live"),Reamaze.Live.App=r({displayName:"Reamaze.Live.App",mixins:[TimerMixin],propTypes:{currentUser:i.object,appContext:i.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){var e=function(e){e.type==Reamaze.ACTIONS.USER_TRANSITION&&this.onUserTransition(e.payload.fromAnonymousId)}.bind(this);return this.props.appContext.dispatcher.register(e),{liveId:null}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.checkInterval=this.setInterval(this.checkSocked,100)},componentWillUnmount:function(){this.socked&&this.socked.disconnect()},checkSocked:function(){window.Socked&&this.checkInterval&&(this.clearInterval(this.checkInterval),this.checkInterval=null,this.initSocked())},onUserTransition:function(e){this.socked&&this.socked.disconnect(),this.socked&&this.socked.connect(),this.state.channel&&this.state.channel.once("internal:subscription_success",function(){this.state.channel.trigger("private-user-transitioned",{fromAnonymousId:e})}.bind(this))},initSocked:function(){if(this.canLoadLive()){this.socked=new Socked(this.props.appContext.brand.url,{host:"ws.reamaze.com",authUrl:this.props.appContext.baseDataUrl+"/data/socked/auth",auth:{params:{sparams:function(){return t.param({sso:this.props.currentUser.ssoData()})}.bind(this),meta:function(){return JSON.stringify({url:window.location.href})}},callback:function(e){e.userId&&e.id&&e.id!=e.anonymous_id&&(this.props.currentUser.set("_id",e.userId),this.props.currentUser.set("name",e.name)),this.setState({liveId:e.id}),this.props.currentUser.setAnonymousId(e.anonymous_id),e.email&&this.props.currentUser.set("email",e.email)}.bind(this)},autoConnect:!1,reconnectionAttempts:3,reconnectionDelay:2500,randomizationFactor:.8}),this.socked.on("connected",function(){try{if(!this.state.channel){var i=this.socked.subscribe("live"),e=function(){var e,t=window.location.href.replace(window.location.search,"");try{e=JSON.parse(Reamaze.localStorage.getItem("rmz-live-url"))}catch(r){}var n=(new Date).getTime();(!e||e.url!=t||n>=e.ts+12e4)&&(i.event("pageview",{url:t}),Reamaze.localStorage.setItem("rmz-live-url",JSON.stringify({url:t,ts:n})))};i.subscribed?e():i.once("internal:subscription_success",function(){e(),this.onGetCart()}.bind(this)),i.on("private-cue",this.onCue),i.on("private-get-cart",this.onGetCart.bind(this,!0)),i.on("private-portal",this.startMirroring),this.setState({channel:i})}}catch(t){console.log(t)}}.bind(this));try{this.socked.connect()}catch(e){console.log(e)}}},onCue:function(e){Reamaze.cue(e.data.cue)},onGetCart:function(e){window.Shopify&&window.Shopify.shop?t.ajax({url:"/cart.json",dataType:"json",accepts:"application/json",success:function(e){this.state.channel.trigger("private-cart-resp",{cart:e})}.bind(this),error:function(e,t,n){this.state.channel.trigger("private-cart-resp",{error:"Unable to fetch cart",errorString:n})}.bind(this)}):e&&this.state.channel.trigger("private-cart-resp",{error:"Page is not a Shopify store."})},canLoadLive:function(){return!this.props.appContext.brand||!1!==this.props.appContext.brand.allowLiveView},startMirroring:function(){if(this.props.appContext.brand&&!1===this.props.appContext.brand.allowPeek||!this.state.liveId)return!1;this.portal||(this.portal=new PortalClient(this.socked,"presence-portal-"+(this.state.liveId||this.props.currentUser.getAnonymousId()),this.getPortalId())),this.portal.start()},stopMirroring:function(){this.portal&&this.portal.end()},getPortalId:function(){var e;return(e=Reamaze.sessionStorage.getItem("portalId"))||(e=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1),Reamaze.sessionStorage.setItem("portalId",e)),e},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze.Mixins"),Reamaze.Mixins.Styles={getResetCss:function(){return' /* reset */\n        html {\n          box-sizing: border-box;\n        }\n        *, *:before, *:after {\n          box-sizing: inherit;\n        }\n        html, body, .frame-root, .frame-root > div, .frame-content, .frame-content {\n          height: 100%;\n          width: 100%;\n        }\n        input.disabled, textarea.disabled {\n          background: #eee;\n        }\n        html, body, div, span, applet, object, iframe,\n        h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n        a, abbr, acronym, address, big, cite, code,\n        del, dfn, em, img, ins, kbd, q, s, samp,\n        small, strike, strong, sub, sup, tt, var,\n        b, u, i, center,\n        dl, dt, dd, ol, ul, li,\n        fieldset, form, label, legend,\n        table, caption, tbody, tfoot, thead, tr, th, td,\n        article, aside, canvas, details, embed,\n        figure, figcaption, footer, header, hgroup,\n        menu, nav, output, ruby, section, summary,\n        time, mark, audio, video {\n        \tmargin: 0;\n        \tpadding: 0;\n        \tborder: 0;\n        \tfont-size: 100%;\n        \tfont: inherit;\n        \tvertical-align: baseline;\n        }\n        /* HTML5 display-role reset for older browsers */\n        article, aside, details, figcaption, figure,\n        footer, header, hgroup, menu, nav, section {\n        \tdisplay: block;\n        }\n        body {\n        \tline-height: 1;\n        }\n        ol, ul {\n        \tlist-style: none;\n        }\n        blockquote, q {\n        \tquotes: none;\n        }\n        blockquote:before, blockquote:after,\n        q:before, q:after {\n        \tcontent: \'\';\n        \tcontent: none;\n        }\n        table {\n        \tborder-collapse: collapse;\n        \tborder-spacing: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n\n\n        /* custom reset css */\n        input, button, select, textarea {\n          font-family: "Nunito",Helvetica,Arial,sans-serif;\n          font-size: 14px;\n        }\n        input:focus, button:focus {\n          outline: none;\n        }\n        body {\n          line-height: 1.35;\n          font-size: 14px;\n          -webkit-text-size-adjust: 100%;\n        }\n        a:hover, body button:hover {\n          opacity: 0.8;\n        }\n        body .anim-btn {\n          transition: all 0.2s linear;\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n        }\n        body .anim-btn-shadow:hover, body .anim-btn-shadow:focus {\n          box-shadow: 0px 10px 20px 0px rgba(0,0,0,0.07);\n        }\n        body .anim-btn:hover, body .anim-btn:focus {\n          transform: translate3d(0,-3px,0);\n        }\n        b, strong, h1, h2, h3, h4, h5, h6 {\n          font-weight: bold;\n        }\n        i, em {\n          font-style: italic;\n        }\n        a {\n          word-wrap: break-word;\n        }\n        blockquote {\n          padding: 0px 0 0 10px;\n          margin: 0 0 15px;\n          border-left: 2px solid #ddd;\n        }\n        h1 {\n          font-size: 2em;\n          margin: .5em 0;\n        }\n        h2 {\n          font-size: 1.5em;\n          margin: .67em 0;\n        }\n        h3 {\n          font-size: 1.17em;\n          margin: .75em 0;\n        }\n        h4 {\n          margin: .83em 0;\n        }\n        h5 {\n          font-size: 0.83em;\n          margin: 1.12em 0;\n        }\n        h6 {\n          font-size: 0.75em;\n          margin: 1.5em 0;\n        }\n\n        .btn {\n          display: inline-block;\n          padding: 6px 25px;\n          margin-bottom: 0;\n          line-height: 20px;\n          text-align: center;\n          vertical-align: middle;\n          cursor: pointer;\n          margin: 0px;\n          border-radius: 20px;\n        }\n        .btn.disabled, body .btn[disabled] {\n          opacity: 0.65;\n          filter: alpha(opacity=65);\n          -webkit-box-shadow: none;\n          -moz-box-shadow: none;\n          box-shadow: none;\n          background-image: none;\n          cursor: default;\n        }\n        .btn.btn-link {\n          border: none;\n          background: none;\n          text-decoration: underline;\n          padding: 5px 13px;\n        }\n        select,\n        textarea,\n        input[type="text"],\n        input[type="password"],\n        input[type="datetime"],\n        input[type="datetime-local"],\n        input[type="date"],\n        input[type="month"],\n        input[type="time"],\n        input[type="week"],\n        input[type="number"],\n        input[type="email"],\n        input[type="url"],\n        input[type="search"],\n        input[type="tel"],\n        input[type="color"],\n        .uneditable-input {\n          display: inline-block;\n          height: 37px;\n          padding: 10px 6px 4px;\n          margin-bottom: 10px;\n          font-size: 14px;\n          line-height: 20px;\n          vertical-align: middle;\n          outline: none;\n        }\n        input[placeholder].placeholder, textarea[placeholder].placeholder {\n          color: #aaa;\n        }\n      '},getBrandCss:function(e){var t=e.headerBgColor,n=e.buttonBgColor;return e.gradient&&(t="linear-gradient(135deg, "+t+" 0%, "+(Reamaze.Utils.pSBC(.3,t)||t)+" 100%)",n="linear-gradient(135deg, "+n+" 0%, "+(Reamaze.Utils.pSBC(.3,n)||n)+" 100%)"),"body #header {\n        background: "+t+";\n        color: "+e.headerFontColor+";\n        font-size: 1.2em;\n      }\n\n      body #header a,\n      body #header a:visited,\n      body #header a:hover {\n        color: "+e.headerFontColor+";\n      }\n\n      body a,\n      body a:visited,\n      body a:hover {\n        color: "+e.bodyLinkColor+";\n      }\n      body {\n        font-family: "+Reamaze.Styles["default"].bodyFont+";\n      }\n      body .btn,\n      body a.btn,\n      body a.btn:visited,\n      body a.btn:hover {\n        background: "+n+";\n        border: none;\n        color: "+e.buttonFontColor+";\n        border-radius: "+e.buttonBorderRadius+";\n      }\n      body .btn.btn-link {\n        color: "+e.bodyLinkColor+";\n        text-decoration: none;\n      }\n      body .btn.btn-link:hover {\n        background: none;\n        color: "+e.bodyLinkColor+';\n        text-decoration: underline;\n      }\n      body select,\n      body textarea,\n      body input[type="text"],\n      body input[type="password"],\n      body input[type="datetime"],\n      body input[type="datetime-local"],\n      body input[type="date"],\n      body input[type="month"],\n      body input[type="time"],\n      body input[type="week"],\n      body input[type="number"],\n      body input[type="email"],\n      body input[type="url"],\n      body input[type="search"],\n      body input[type="tel"],\n      body input[type="color"],\n      body .uneditable-input,\n      body .faux-input,\n      body label.checkbox {\n        background: '+e.inputBgColor+";\n        border: none;\n        border-bottom: "+e.inputBorder+";\n        color: "+e.inputFontColor+";\n      }\n      body select {\n        -webkit-appearance: none;\n        -webkit-border-radius: 0px;\n        background: url(\"data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='24' height='24' viewBox='0 0 24 24'><path fill='#444' d='M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z'></path></svg>\");\n        background-position: 100% 50%;\n        background-repeat: no-repeat;\n      }\n      body #body-container textarea {\n        border: "+e.inputBorder+";\n      }\n      "}},function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications");var DATA_KEY="notifications_st",notificationIdx=0;$jq(document).on("Reamaze.init",function(){notificationIdx=Reamaze.sessionStorage.getItem("notificationIdx")||0});var Statuses={CLOSED:0,CLICKED:1,VIEWED:2,EXPIRED:3},NotificationStatuses=function(){this._notificationStatuses={},this._justViewed={};try{var e=JSON.parse(Reamaze.localStorage.getItem(DATA_KEY));this._notificationStatuses=e||{}}catch(t){}return this};NotificationStatuses.prototype.isClicked=function(e){return this._notificationStatuses[e.id]==Statuses.CLICKED},NotificationStatuses.prototype.markClicked=function(e){this._notificationStatuses[e.id]=Statuses.CLICKED,this.cache()},NotificationStatuses.prototype.isViewed=function(e){return this._notificationStatuses[e.id]==Statuses.VIEWED},NotificationStatuses.prototype.isJustViewed=function(e){return!!this._justViewed[e.id]},NotificationStatuses.prototype.markViewed=function(e){this._notificationStatuses[e.id]=this._notificationStatuses[e.id]||Statuses.VIEWED,this._justViewed[e.id]=1,this.cache()},NotificationStatuses.prototype.isClosed=function(e){return this._notificationStatuses[e.id]==Statuses.CLOSED},NotificationStatuses.prototype.markClosed=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.CLOSED}.bind(this)),this.cache()},NotificationStatuses.prototype.isExpired=function(e){return this._notificationStatuses[e.id]==Statuses.EXPIRED},NotificationStatuses.prototype.markExpired=function(e){e.forEach(function(e){this._notificationStatuses[e]=Statuses.EXPIRED}.bind(this)),this.cache()},NotificationStatuses.prototype.renew=function(e){delete this._notificationStatuses[e.id],this.cache()},NotificationStatuses.prototype.cache=function(){Reamaze.localStorage.setItem(DATA_KEY,JSON.stringify(this._notificationStatuses))},Reamaze.Notifications.ACTIONS={CLOSE_NOTIFICATION:"CLOSE_NOTIFICATION",CLICK_NOTIFICATION:"CLICK_NOTIFICATION",VIEW_NOTIFICATION:"VIEW_NOTIFICATION",CREATE_NOTIFICATIONS:"CREATE_NOTIFICATIONS",REMOVE_NOTIFICATIONS:"REMOVE_NOTIFICATIONS",CLOSE_ALL_NOTIFICATIONS:"CLOSE_ALL_NOTIFICATIONS",UPDATE_DIMENSIONS:"UPDATE_DIMENSIONS",ACKNOWLEDGE_NOTIFICATION:"ACKNOWLEDGE_NOTIFICATION"},Reamaze.Notifications.EFFECTS={CALLBACK:"CALLBACK",TRACK_EVENT:"TRACK_EVENT"};var appStateReducer=function(state,action){switch(action.type){case Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION:return state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Closed",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:return action.payload.closeNotification&&(state.notificationStatuses.markClosed([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses)),action.payload.onClose&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClose}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Button Clicked",label:action.payload.name||action.payload.id}}),state;case Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS:return state.notificationStatuses.markClosed(state.notifications.map(function(e){return e.id})),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION:return state.notificationStatuses.markViewed(action.payload),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Shown",label:action.payload.name||action.payload.id,nonInteraction:!0}}),state;case Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION:return action.payload.disableCueClick?null:(state.notificationStatuses.markClicked(action.payload),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),action.payload.onClick&&state.effects.push({type:Reamaze.Notifications.EFFECTS.CALLBACK,payload:action.payload.onClick}),action.payload.isCue&&state.effects.push({type:Reamaze.Notifications.EFFECTS.TRACK_EVENT,payload:{action:"Cue Clicked",label:action.payload.name||action.payload.id}}),state);case Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION:return state.notificationStatuses.markExpired([action.payload.id]),state.notifications=notificationsReducer([],state.notifications,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return action.payload.forEach(function(notification){notification.id||(notification.id="_rmz-"+notificationIdx++%20,notification.renew=!0,Reamaze.sessionStorage.setItem("notificationIdx",notificationIdx)),notification.timestamp||(notification.timestamp=Date.now()),notification.onClick||(notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{}})}.bind(this)))}),state.notifications=notificationsReducer([].concat(state.notifications),action.payload,state.notificationStatuses),state;case Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS:var newNotifications=[],notificationIds=action.payload;return state.notifications.forEach(function(e){-1===notificationIds.indexOf(e.id)&&newNotifications.push(e)}),state.notifications=newNotifications,state;case Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS:return state.dimensions.width==action.payload.width&&state.dimensions.height==action.payload.height?null:(state.dimensions=action.payload,state);case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:return!action.payload.props.unread&&action.payload.props.outboundData&&(state.notificationStatuses.markClicked({id:action.payload.props.outboundData.id}),state.notifications=notificationsReducer([].concat(state.notifications),[],state.notificationStatuses)),state;default:return null}},appEffectsHandler=function(e){switch(e.type){case Reamaze.Notifications.EFFECTS.CALLBACK:"function"==typeof e.payload&&e.payload();break;case Reamaze.Notifications.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},notificationsReducer=function(e,t,a){var s={};return e.concat(t).forEach(function(e){e.renew&&(a.renew(e),delete s[e.id],delete e.renew),"undefined"==typeof e.sound&&(e.sound=!0),e.timestamp||(e.timestamp=Date.now());var t=s[e.id],n=a.isClosed(e),r=a.isExpired(e),i=a.isClicked(e),o=a.isViewed(e)&&!a.isJustViewed(e);t||n||i||r||e["transient"]&&o||(s[e.id]=e)}),Object.keys(s).map(function(e){return s[e]})};Reamaze.Notifications.App=createReactClass({displayName:"Reamaze.Notifications.App",mixins:[TimerMixin],propTypes:{anchor:PropTypes.object,playSound:PropTypes.func,updateNotificationCount:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object},getDefaultProps:function(){return{anchor:{bottom:22,right:22}}},getInitialState:function(){var e=new Reamaze.Dispatcher,t=function(e){var t=$jq.extend({},this.state);t.effects=[],(t=appStateReducer(t,e))&&(this.setState(t),t.effects.forEach(appEffectsHandler.bind(this)))}.bind(this);return e.register(t),this.props.appContext.dispatcher.register(t),{dispatcher:e,notifications:[],notificationStatuses:new NotificationStatuses,dimensions:{width:0,height:0}}},componentDidUpdate:function(e,t){t.notifications.length!=this.state.notifications.length&&this.props.updateNotificationCount(this.state.notifications.length)},componentDidMount:function(){this.props.updateNotificationCount(this.state.notifications.length)},getNotificationsToDisplay:function(){if(0==this.state.notifications.length)return[];var e=this.state.notifications;return e=(e=e.sort(function(e,t){return e.timestamp==t.timestamp?0:e.timestamp<t.timestamp?1:-1})).slice(0,this.props.appContext.fullScreen?1:3),this.props.anchor.bottom&&(e=e.reverse()),e||[]},getNotificationPrompts:function(){return this.getNotificationsToDisplay().map(function(e){return React.createElement(Reamaze.Notifications.Prompt,{anchor:this.props.anchor,playSound:e.sound?this.props.playSound:null,closeFunc:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_NOTIFICATION,payload:e})}.bind(this,e),buttonFunc:function(e,t,n){this.props.appContext._preview||this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION,payload:$jq.extend({buttonClicked:t,closeNotification:n},e)})}.bind(this,e),id:e.id,outboundConversations:this.props.outboundConversations,message:e.message,buttons:e.buttons,user:e.user,size:e.size,onClick:function(e){this.props.appContext._preview||this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLICK_NOTIFICATION,payload:e})}.bind(this,e),onNotificationViewed:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.VIEW_NOTIFICATION,payload:e})}.bind(this,e),onNotificationExpired:function(e){this.state.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.EXPIRE_NOTIFICATION,payload:e})}.bind(this,e),duration:e.duration||null,key:"notification-"+e.id,persisted:e.persisted||null,appContext:this.props.appContext})}.bind(this))},getOffset:function(e){if(e)return parseInt(e,10)},render:function(){if(this.props.appContext.shoutbox.open||!this.props.appContext.brand||!this.props.appContext.brand.name)return null;var e=this.getOffset(this.props.anchor.left),t=this.getOffset(this.props.anchor.right),n=this.getOffset(this.props.anchor.top),r=this.getOffset(this.props.anchor.bottom);this.props.appContext.fullScreen&&(t=e=0,n=this.props.anchor.top!=undefined?0:undefined,r=this.props.anchor.bottom!=undefined?0:undefined);var i=this.getNotificationPrompts();return i.length?React.createElement("div",{id:"rmz-notify-prompts"},React.createElement("style",null,"\n          #rmz-notifications {\n            position: fixed;\n            z-index: 2147483647;\n            left: "+(e!=undefined?e+"px":"auto")+";\n            right: "+(t!=undefined?t+"px":"auto")+";\n            top: "+(n!=undefined?n+"px":"auto")+";\n            bottom: "+(r!=undefined?r+"px":"auto")+";\n            "+(this.props.appContext.fullScreen?"":"margin-right: -20px;")+"\n            width: "+(this.props.appContext.fullScreen?"100%":this.state.dimensions.width+"px")+";\n            height: "+this.state.dimensions.height+"px;\n          }\n          "),React.createElement("div",{id:"rmz-notifications"},React.createElement(Reamaze.Frames.BasicFrame,{appContext:this.props.appContext},React.createElement("style",null,"\n              .reamaze-notify-prompt {\n                background: #fff;\n                margin: 15px 0;\n                position: relative;\n                border-radius: 15px 0;\n                box-shadow: 0 4px 13px 0px rgba(0,0,0,0.15);\n                border-bottom: 1px solid "+this.props.appContext.brand.styles.widgetColor+";\n              }\n            "),React.createElement(Reamaze.Notifications.NotificationsList,{dispatcher:this.state.dispatcher,notifications:i,hAlign:this.props.anchor.left!=undefined?"left":"right",vAlign:this.props.anchor.top!=undefined?"top":"bottom",appContext:this.props.appContext})))):null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,n,r,t,i){var o=ReactTransitionGroup.CSSTransitionGroup;e.namespace("Reamaze.Notifications"),Reamaze.Notifications.NotificationsList=t({displayName:"Reamaze.Notifications.NotificationsList",mixins:[TimerMixin],propTypes:{notifications:i.array,dispatcher:i.object,hAlign:i.string,vAlign:i.string,appContext:i.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{renderNotifications:!1}},componentDidUpdate:function(){this.updateDimensions(),this.setTimeout(function(){this.updateDimensions()}.bind(this),400)},componentDidMount:function(){this.setTimeout(function(){this.setState({renderNotifications:!0})}.bind(this),500)},cachedWidth:0,cachedHeight:0,updateDimensions:function(){var e=r.findDOMNode(this.refs.notifications).offsetWidth,t=r.findDOMNode(this.refs.notifications).offsetHeight;this.cachedHeight==t&&this.cachedWidth==e||(this.cachedWidth=e,this.cachedHeight=t,this.props.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.UPDATE_DIMENSIONS,payload:{width:e+80,height:t+40}}))},getStyleTag:function(){return n.createElement("style",null,"\n        .reamaze-notify-prompt.rmz-prompt-enter,\n        .reamaze-notify-prompt.rmz-prompt-appear {\n          opacity: 0;\n        }\n        .reamaze-notify-prompt.rmz-prompt-enter-active,\n        .reamaze-notify-prompt.rmz-prompt-appear-active,\n        .reamaze-notify-prompt {\n          transition: opacity 0.4s linear;\n          opacity: 1;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave {\n          opacity: 1;\n          transition: opacity 0.4s linear;\n        }\n        .reamaze-notify-prompt.rmz-prompt-leave-active {\n          opacity: 0;\n        }\n      ")},render:function(){var e={position:"absolute",padding:"0 20px 0 50px"};"left"==this.props.hAlign?e.left=0:e.right=0,"top"==this.props.vAlign?e.top=0:e.bottom=0;var t=this.state.renderNotifications?this.props.notifications:[];return n.createElement("div",{style:e},this.getStyleTag(),n.createElement("div",{id:"notifications",ref:"notifications"},n.createElement(o,{transitionName:"rmz-prompt",transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},t)))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){$jq.namespace("Reamaze.Notifications"),Reamaze.Notifications.PROMPT_SIZES={preview:{width:300,truncateAt:150,avatarSize:40,mobileAvatarSize:32},small:{width:260,truncateAt:150,avatarSize:40,mobileAvatarSize:32},full:{width:300,truncateAt:300,avatarSize:40,mobileAvatarSize:32}},Reamaze.Notifications.Prompt=createReactClass({displayName:"Reamaze.Notifications.Prompt",mixins:[TimerMixin],propTypes:{closeFunc:PropTypes.func,buttonFunc:PropTypes.func,id:PropTypes.string,message:PropTypes.string,user:PropTypes.object,playSound:PropTypes.func,onClick:PropTypes.func,buttons:PropTypes.array,onNotificationViewed:PropTypes.func,onNotificationExpired:PropTypes.func,duration:PropTypes.number,size:PropTypes.oneOf(["preview","full","small"]),persisted:PropTypes.bool,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getDefaultProps:function(){return{size:"full",persisted:!1}},componentDidMount:function(){this.props.playSound&&this.props.playSound(),this.setTimeout(this.props.onNotificationViewed,1),this.props.duration&&0<this.props.duration&&this.setTimeout(this.props.onNotificationExpired,1e3*this.props.duration+400)},render:function(){var e={top:"8px",right:"5px",padding:"7px",size:12},t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].width;return React.createElement("div",{className:"reamaze-notify-prompt "+(this.props.persisted?"persisted":""),style:{width:this.props.appContext.fullScreen?"100%":t+"px"}},this.props.appContext.fullScreen&&React.createElement("style",null,"\n              .reamaze-notify-prompt .reamaze-close-x span {\n                position: relative;\n                display: block;\n                top: 50%;\n                margin-top: -12px;\n              }\n            "),React.createElement(Reamaze.Popup.CloseX,_extends({ref:"popupCloseX",onClick:this.props.closeFunc},e)),React.createElement("div",{style:{height:"100%"}},React.createElement(Reamaze.Notifications.PromptContent,this.props)))}}),Reamaze.Notifications.PromptContent=createReactClass({displayName:"Reamaze.Notifications.PromptContent",propTypes:{id:PropTypes.string,width:PropTypes.number,closeFunc:PropTypes.func,buttonFunc:PropTypes.func,message:PropTypes.string,user:PropTypes.object,onClick:PropTypes.func,appContext:PropTypes.object.isRequired,outboundConversations:PropTypes.object.isRequired},getAvatars:function(e){if(e&&e.length){e=e.slice(0,3);var t=Reamaze.Notifications.PROMPT_SIZES[this.props.size],n=this.props.appContext.fullScreen?t.mobileAvatarSize:t.avatarSize;return e.map(function(e,t){return React.createElement("img",{src:e,key:"avatar-"+t,className:"rmz-prompt-avatar-"+t,style:{width:n+"px",height:n+"px",
borderRadius:n+"px"}})}.bind(this))}return null},getButtons:function(){if(!this.props.buttons||!this.props.buttons.length)return null;var idx=0;return React.createElement("div",{style:{marginTop:"1.2em",textAlign:"center"}},this.props.buttons.map(function(button){var tmp=document.createElement("div");tmp.innerHTML=button.text;var buttonText=tmp.textContent||tmp.innerText||"",buttonProps={title:buttonText};return button.url&&(buttonProps.href=button.url,button.target?buttonProps.target=button.target:buttonProps.target="_blank"),button.script?buttonProps.onClick=function(event){event.stopPropagation(),this.props.buttonFunc(button,!0),eval(button.script)}.bind(this):button.url?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!1)}.bind(this):button.response?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),this.props.appContext._preview||(this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.props.outboundConversations.getConversation(this.props.id).slug}}}),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.BUILD_MESSAGE,payload:{data:{message:{body:buttonText}},slug:this.props.outboundConversations.getConversation(this.props.id).slug}}))}.bind(this):button.dismiss?buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0)}.bind(this):button.pushprompt&&(buttonProps.onClick=function(e){e.stopPropagation(),this.props.buttonFunc(button,!0),Reamaze.promptPushPermissions()}.bind(this)),React.createElement("a",_extends({className:"btn anim-btn",key:"btn-"+idx++,dangerouslySetInnerHTML:{__html:buttonText}},buttonProps))}.bind(this)))},render:function(){var e=this.props.message||"",t=Reamaze.Notifications.PROMPT_SIZES[this.props.size].truncateAt,n=Reamaze.Utils.getUserDisplayDetails(this.props.user,this.props.appContext.brand,this.props.appContext.faces),r="15px 20px",i=$jq("<textarea/>").html(e).text(),o=i.substr(0,t)+(i.length>t?String.fromCharCode(8230):""),a=$jq("<textarea/>").text(o).html(),s=Reamaze.Utils.simpleFormat(a);return React.createElement("div",{style:{width:"100%",height:"100%"}},React.createElement("style",null,"\n            .rmz-prompt-content:hover {\n              opacity: 0.8;\n            }\n            .rmz-prompt-content p {\n              margin-bottom: 0.5em;\n            }\n            .rmz-prompt-content p:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-content .btn {\n              margin-bottom: 10px;\n              width: 100%;\n            }\n            .rmz-prompt-content .btn:last-child {\n              margin-bottom: 0;\n            }\n            .rmz-prompt-avatars img {\n              left: -"+(this.props.appContext.fullScreen?"40":"48")+"px;\n              box-shadow: rgba(0, 0, 0, 0.1) 0px 3px 5px 1px;\n              background: #fff;\n              padding: 1px;\n              position: absolute;\n            }\n            .rmz-prompt-avatar-0 {\n              bottom: 0;\n              z-index: 3;\n            }\n            .rmz-prompt-avatar-1 {\n              bottom: 20px;\n              z-index: 2;\n            }\n            .rmz-prompt-avatar-2 {\n              bottom: 40px;\n              z-index: 1;\n            }\n            .rmz-prompt-user-name {\n              margin-bottom: 0.4em;\n              padding-right: 10px;\n              font-weight: bold;\n              font-size: 0.95em;\n            }\n          "),React.createElement("div",{className:"rmz-prompt-content",onClick:this.props.onClick,style:{width:"100%",height:"100%",cursor:"pointer"}},React.createElement("div",{style:{position:"relative"}},React.createElement("div",{style:{padding:r,overflow:"hidden"}},React.createElement("div",{ref:"promptBody"},n&&n.name&&React.createElement("div",{className:"rmz-prompt-user-name"},React.createElement("span",null,n.name)),React.createElement("div",{dangerouslySetInnerHTML:{__html:s},style:{opacity:"0.65",lineHeight:"1.4em",overflow:"hidden",wordWrap:"break-word"}}),this.getButtons())),n&&n.avatarUrls&&n.avatarUrls.length&&React.createElement("div",{className:"rmz-prompt-avatars"},this.getAvatars(n.avatarUrls)))))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(r,e,t,n,i,o){r.namespace("Reamaze.Outbounds");var s="ob";Reamaze.Outbounds.ACTIONS={CREATE_OUTBOUND_CONVERSATION:"CREATE_OUTBOUND_CONVERSATION",DELETE_OUTBOUND_CONVERSATION:"DELETE_OUTBOUND_CONVERSATION"},Reamaze.Outbounds.App=n({displayName:"Reamaze.Outbounds.App",mixins:[TimerMixin],propTypes:{currentUser:i.object,outbounds:i.array,appContext:i.object.isRequired},getDefaultProps:function(){return{outbounds:[]}},getInitialState:function(){var e;try{e=JSON.parse(Reamaze.localStorage.getItem(s+".triggered"))||{}}catch(i){e={}}var t=Reamaze.sessionStorage.getItem("siteVisitTime");t||(t=(new Date).getTime(),Reamaze.sessionStorage.setItem("siteVisitTime",t));var n=Reamaze.sessionStorage.getItem("customerLocation"),r=undefined;return null!==n&&(r={country:(n=n.split(":"))[0],state:n[1]}),{triggered:e,pageVisitTime:(new Date).getTime(),leavingSite:!1,siteVisitTime:t,loadingLocation:!1,location:r}},componentDidUpdate:function(){this.setupRulesListeners(),this.processOutbounds()},componentDidMount:function(){this.setupRulesListeners(),this.setTimeout(this.processOutbounds,0),this.setInterval(this.processOutbounds,6e4)},componentWillUnmount:function(){this.pageExitTracker&&this.pageExitTracker.disable()},pageExitTracker:null,updateInterval:null,setupRulesListeners:function(){var t=!1,n=!1,r=!1;this.props.outbounds.forEach(function(e){e.rules&&e.rules.forEach(function(e){"leavingSite"==e.type?t=!0:"timeOnPage"==e.type||"timeOnSite"==e.type?n=!0:("inOfficeHour"!=e.type||this.props.appContext.brand&&"undefined"!=typeof this.props.appContext.brand.inOffice)&&("staffAvailable"!=e.type||this.props.appContext.brand&&"undefined"!=typeof this.props.appContext.brand.chatIsLive)?"customerLocation"==e.type&&(r=!0):this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})}.bind(this))}.bind(this)),t&&this.setupPageExitTracker(),r&&this.setupCustomerLocation(),n&&!this.updateInterval&&(this.updateInterval=this.setInterval(this.forceUpdate,2e3))},setupPageExitTracker:function(){this.pageExitTracker||(this.pageExitTracker=o(!1,{delay:100,sensitivity:40,aggressive:!0,callback:function(){this.setState({leavingSite:!0},function(){this.setTimeout(function(){this.pageExitTracker&&this.pageExitTracker.enable(),this.setState({leavingSite:!1})}.bind(this),2e3)}.bind(this))}.bind(this)}))},setupCustomerLocation:function(){if(!this.state.location&&!this.state.loadingLocation){var e=0,t=e?"https://extreme-ip-lookup.com/json/":"https://geolocation-db.com/json/",n=e?"countryCode":"country_code";this.setState({loadingLocation:!0},function(){r.ajax({url:t,success:function(e){"string"==typeof e&&(e=JSON.parse(e)),Reamaze.sessionStorage.setItem("customerLocation",e[n]),this.setState({location:{country:e[n]}})}.bind(this),error:function(){Reamaze.sessionStorage.setItem("customerLocation",""),this.setState({country:""})}.bind(this)})})}},processOutbounds:function(){var r=this.getRuleContext(),i=JSON.parse(JSON.stringify(this.state.triggered)),o=0,a={};this.props.outbounds.forEach(function(e){if(a[e.id]=1,!i[e.id]){if(!this.props.appContext._preview&&e.start&&new Date(e.start)>new Date)return;if(!this.props.appContext._preview&&e.end&&new Date(e.end)<new Date)return;var t=new Reamaze.Outbounds.Rules(e.rules,r).check(),n=!e.buttons||!e.buttons.some(function(e){return e.pushprompt})||Reamaze.eligibleForPushPrompt();(this.props.appContext._preview||t&&n)&&(this.triggerOutbound(e),o++,i[e.id]=1)}}.bind(this)),0<o&&(Reamaze.localStorage.setItem(s+".triggered",JSON.stringify(i)),this.setState({triggered:i}));var t=this.props.outboundConversations.getOutboundConversations();Object.keys(t).forEach(function(e){t[e].auto&&(!a[e]||t[e].expires&&new Date(t[e].expires)<new Date)&&this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:e}})}.bind(this))},triggerOutbound:function(e){this.props.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION,payload:{outbound:e}})},getRuleContext:function(){return{pageVisitTime:this.state.pageVisitTime,siteVisitTime:this.state.siteVisitTime,leavingSite:this.state.leavingSite,user:this.props.currentUser,inOfficeHour:this.props.appContext.brand.inOffice,staffAvailable:this.props.appContext.brand.chatIsLive,isMobileBrowser:this.props.appContext.isMobileBrowser,location:this.state.location||{country:"",state:""}}},render:function(){return null}})}(jQuery,React,ReactDOM,createReactClass,PropTypes,ouibounce),function(){jQuery.namespace("Reamaze.Outbounds");var r={equals:function(e,t){return e==t},notEquals:function(e,t){return!this.equals(e,t)},contains:function(e,t){return e&&t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},doesNotContain:function(e,t){return!this.contains(e,t)},between:function(e,t){return e>=t[0]&&e<=t[1]},lessThan:function(e,t){return e<t},greaterThan:function(e,t){return t<e},isTrue:function(e){return!!e},isFalse:function(e){return!e}};Reamaze.Outbounds.Rules=function(e,t){this.rules=e,this.context=t},Reamaze.Outbounds.Rules.prototype={url:function(e){return r[e.op](window.location.href,e.value)},identified:function(e){return r[e.op](this.context.user.isIdentified())},timeOnPage:function(e){return r[e.op]((new Date).getTime()-this.context.pageVisitTime,1e3*this.getRuleValueInSeconds(e.value))},timeOnSite:function(e){return r[e.op]((new Date).getTime()-this.context.siteVisitTime,1e3*this.getRuleValueInSeconds(e.value))},referrer:function(e){return r[e.op](document.referrer,e.value)},date:function(e){return r[e.op](new Date,new Date(e.value))},leavingSite:function(e){return r[e.op](this.context.leavingSite)},customFunc:function(e){return r[e.op](e.func(),e.value)},customValue:function(e){return r[e.op](e.customValue,e.value)},nthVisit:function(e){return r[e.op](this.context.user.get("visits")||1,e.value)},customerLocation:function(e){var t=this.context.location.country;if(!t)return!1;var n=e.value;return 1<e.value.split(":").length&&(n=e.value.split(":")[0]),r[e.op](t,n)},deviceType:function(e){return r[e.op](this.context.isMobileBrowser?"mobile":"desktop",e.value)},inOfficeHour:function(e){return r[e.op](this.context.inOfficeHour)},staffAvailable:function(e){return r[e.op](this.context.staffAvailable)},getRuleValueInSeconds:function(e){switch((e+="").slice(-1)){case"h":return 3600*parseInt(e.slice(0,-1),10);case"m":return 60*parseInt(e.slice(0,-1),10);default:return parseInt(e,10)}},check:function(){try{if(this.rules)for(var e=0;e<this.rules.length;e++){var t=this.rules[e];if(!this[t.type]||!this[t.type](t))return!1}return!0}catch(n){return console.log("Rules#check error - "+n.message),!1}}}}(),function(e,n,r,t,i){e.namespace("Reamaze.Popup"),Reamaze.Popup.BrandedFrame=t({displayName:"Reamaze.Popup.BrandedFrame",mixins:[Reamaze.Mixins.Styles],propTypes:{ping:i.object,hidden:i.bool,appContext:i.object.isRequired},getDefaultProps:function(){return{simple:!1,hidden:!1}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){this.props.ping||this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},render:function(){if(this.props.ping){var a="rmz-shoutbox-frame-container",e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.href=this.props.appContext.baseDataUrl,t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var i=document.createElement("script");i.type="text/javascript",i.defer=!0,i.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(i);var o=document.createElement("div");o.className="frame-root",e.body.className=a,e.body.style="height:100%;width:100%;width:100vw;overflow:hidden;",e.body.appendChild(o)}.bind(this),t={width:"100%",height:"100%"};return this.props.hidden||(t.opacity=1),n.createElement("div",{style:t,className:a},n.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(r.findDOMNode(e).style.setProperty("width","100%","important"),r.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))}return null},getStyleTag:function(){return n.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return n.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return n.createElement("style",null,this.getResetCss(),"/* popup css */\n          #content-container {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content-container.content-flex {\n            display: flex;\n            display: -webkit-box;\n            display: -moz-box;\n            display: -webkit-flex;\n            display: -ms-flexbox;\n            flex-direction: column;\n            -webkit-box-direction: normal;\n            -webkit-box-orient: vertical;\n            -moz-box-direction: normal;\n            -moz-box-orient: vertical;\n            -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n          }\n          #content-container.content-flex #header, #content-container.content-flex #footer {\n            -webkit-flex-shrink: 0;\n            -moz-flex-shrink: 0;\n            flex-shrink: 0;\n            -ms-flex: 0 1 auto;\n          }\n          #content-container.content-flex #content {\n            flex-grow: 1;\n            -webkit-box-flex: 1;\n            -moz-box-flex: 1;\n            -webkit-flex-grow: 1;\n            -ms-flex: 1 1 auto;\n          }\n          #content-container.content-flex #content.no-grow {\n            flex-grow: 0;\n            -webkit-box-flex: 0;\n            -moz-box-flex: 0;\n            -webkit-flex-grow: 0;\n            -ms-flex: 0 1 auto;\n          }\n          body {\n            background: white;\n            color: #333;\n            -webkit-overflow-scrolling: touch;\n          }\n          #header {\n            padding: 15px 35px;\n          }\n          #content {\n            overflow-x: hidden;\n            overflow-y: auto;\n            margin-right: 2px;\n            height: 100%;\n            -webkit-overflow-scrolling: touch;\n          }\n          #content.attributed #content-inner {\n            min-height: calc(100% - 28px);\n          }\n          #footer {\n            background: #fff;\n            border-top: 1px solid #f0f0f0;\n            padding: 10px 0;\n            box-shadow: 0px 41px 20px 40px rgba(0,0,0,0.05);\n          }\n          ::-webkit-scrollbar {\n            width: 5px;\n            background: #fff;\n          }\n          ::-webkit-scrollbar-button {\n            height: 0;\n            width: 0;\n            display: none;\n          }\n          ::-webkit-scrollbar-corner {\n            background: transparent;\n          }\n          ::-webkit-scrollbar-thumb {\n            border-radius: 8px;\n            box-shadow: inset 0 -3px 0 0 #fff, inset 0 3px 0 0 #fff;\n            background-color: #dededecc;\n          }\n        ")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.CloseX=n({displayName:"Reamaze.Popup.CloseX",propTypes:{zIndex:r.number,color:r.string,top:r.any,right:r.any,onClick:r.func,height:r.string,width:r.string,lineHeight:r.string,fontSize:r.string,textAlign:r.string,padding:r.string},getDefaultProps:function(){return{zIndex:2147483647,color:"#ccc",top:"12px",right:"12px",padding:"0px",size:13,margin:0}},render:function(){return t.createElement("a",{href:"#",style:this.getStyles(),className:"reamaze-close-x anim-btn",onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onClick(e)}.bind(this)},t.createElement("svg",{width:this.props.size+2,height:this.props.size+2,style:{width:this.props.size+2+"px",height:this.props.size+2+"px"}},t.createElement("g",null,t.createElement("path",{style:{stroke:this.props.color,fill:"rgba(0,0,0,0)",strokeWidth:2},d:"M 1,1 L "+this.props.size+","+this.props.size+" M "+this.props.size+",1 L 1,"+this.props.size}))))},getStyles:function(){return{position:"absolute",right:this.props.right,top:this.props.top,zIndex:this.props.zIndex,color:this.props.color,cursor:"pointer",display:"block",textDecoration:"none",padding:this.props.padding,margin:this.props.margin}}})}(jQuery,React,createReactClass,PropTypes),function(e,r,t,n){e.namespace("Reamaze.Popup"),Reamaze.Popup.Popup=t({displayName:"Reamaze.Popup.Popup",mixins:[TimerMixin],propTypes:{zIndex:n.number,width:n.oneOfType([n.string,n.number]),height:n.oneOfType([n.string,n.number]),maxHeight:n.oneOfType([n.string,n.number]),minHeight:n.oneOfType([n.string,n.number]),xColor:n.string,anchor:n.any,onComponentDidMount:n.func,supportsFullScreen:n.bool,appContext:n.object.isRequired},getDefaultProps:function(){return{zIndex:2147483647,width:600,height:550,maxHeight:600,minHeight:0,xColor:"#bbb",supportsFullScreen:!0}},getInitialState:function(){return{guid:"popup-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),newlyMounted:!0}},componentDidMount:function(){this.setTimeout(function(){this.setState({newlyMounted:!1})}.bind(this),1)},render:function(){var e=this.getStyles(),t=this.getStyleTag(),n=this.props.anchor?"reamaze-anchored":"";return n=n+" "+this.state.guid,this.props.appContext.shoutbox.open&&!this.state.newlyMounted&&(n+=" reamaze-visible"),r.createElement("div",{id:"reamaze-popup",className:n},t,this.props.anchor?null:r.createElement("div",{id:"reamaze-overlay"}),r.createElement("div",{id:"reamaze-wrapper",style:e.wrapper},r.createElement("div",{id:"reamaze-container"},this.props.children)))},getStyles:function(){var e={wrapper:{}};return this.props.anchor&&(e.wrapper.marginLeft=0,this.props.appContext.fullScreen?(e.wrapper.left=0,e.wrapper.right=0,e.wrapper.top=this.props.anchor.top?0:"auto",e.wrapper.bottom=this.props.anchor.bottom?0:"auto"):(e.wrapper.left=this.props.anchor.left?this.props.anchor.left:"auto",e.wrapper.right=this.props.anchor.right?this.props.anchor.right:"auto",e.wrapper.top=this.props.anchor.top?this.props.anchor.top:"auto",e.wrapper.bottom=this.props.anchor.bottom?this.props.anchor.bottom:"auto",this.props.appContext.shoutbox.open&&(this.props.anchor.bottom?e.wrapper.bottom=parseInt(this.props.anchor.bottom,10)+"px":e.wrapper.top=parseInt(this.props.anchor.top,10)+"px"))),e},getStyleTag:function(){var e,t="";this.props.anchor&&this.props.anchor.top?t+="top ":t+="bottom ",this.props.anchor&&this.props.anchor.left?t+="left ":t+="right ",e=this.props.anchor.bottom?parseInt(this.props.anchor.bottom,10)+20:this.props.anchor.top?parseInt(this.props.anchor.top,10)+20:this.props.appContext._preview?60:100;var n="0 20px";return this.props.appContext.fullScreen&&(n=0),r.createElement("style",null,"#reamaze-overlay {          position: fixed;          left: 0px;          right: 0px;          top: 0px;          bottom: 0px;          background: rgba(0, 0, 0, 0.0);          transition: background 0.55s;          z-index: -10000000;        }        .reamaze-visible #reamaze-overlay {          background: rgba(0, 0, 0, 0.3);        }        ."+this.state.guid+".reamaze-visible #reamaze-overlay {          z-index:"+this.props.zIndex+";        }                #reamaze-wrapper {          position:fixed;          left:50%;          top:0px;          box-sizing: content-box;          border-radius: "+n+";          transition: opacity 0.35s, top 0.35s, transform 0.35s, z-index 0.35s;          opacity: 0;          z-index: -10000000;        }        .reamaze-anchored #reamaze-wrapper {          padding: 0px;          max-width: 425px;          perspective: 425px;          transform: scale(0.0001);        }        .reamaze-visible #reamaze-wrapper {          top: "+(this.props.appContext._preview?"30px":"70px")+";          opacity: 1;          transform: scale(1);        }        ."+this.state.guid+" #reamaze-wrapper {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          min-height: 300px;          max-height: calc(100% - "+e+"px);          margin-left: -"+(this.props.width/2+10)+"px;        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {          transform-origin: "+t+";        }        ."+this.state.guid+".reamaze-visible #reamaze-wrapper {          z-index: "+this.props.zIndex+";        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper {          top: auto;          bottom: 60px;          opacity: 1;        }        #reamaze-wrapper iframe {          margin: 0;        }        #reamaze-wrapper iframe,        #reamaze-wrapper #reamaze-container {          border-radius: "+n+";          overflow: hidden;          display: block;        }        .reamaze-anchored #reamaze-wrapper iframe,        .reamaze-anchored #reamaze-wrapper #reamaze-container        {          border-radius: "+n+";          max-width: 425px;          overflow: hidden;          transition: transform 0.35s;        }        .reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: rotateX(-40deg) skewX(30deg);        }        ."+this.state.guid+".reamaze-anchored #reamaze-wrapper  #reamaze-container {          transform-origin: "+t+";        }        .reamaze-anchored #reamaze-wrapper iframe        {          height: 100%;        }        #reamaze-wrapper #reamaze-container .reamaze-close-x {          transition: all 0.2s linear;          -webkit-backface-visibility: hidden;          backface-visibility: hidden;        }        #reamaze-wrapper #reamaze-container .reamaze-close-x:hover {          transform: translate3d(0,-3px,0);          opacity: 0.8;        }        #reamaze-container {          position: relative;          background: white;          box-shadow: 0 33px 50px 0 rgba(0,0,0,0.12);        }        ."+this.state.guid+" #reamaze-container {          width:"+this.props.width+"px;          height:"+this.props.height+"px;          max-height: 100%;          min-height:"+this.props.minHeight+"px;        }        .reamaze-visible.reamaze-anchored #reamaze-wrapper #reamaze-container {          transform: none;        }        "+(!this.props.appContext._preview&&this.props.supportsFullScreen?"@media (max-width: 767px) {          ."+this.state.guid+" #reamaze-wrapper,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper {            top: 300px;            padding: 0px;            transition: top 0.6s, opacity 0.35s;          }          ."+this.state.guid+".reamaze-visible #reamaze-wrapper,          ."+this.state.guid+".reamaze-visible.reamaze-anchored #reamaze-wrapper {            position: fixed;            top: 0px;            left: 0px;            right: 0px;            bottom: 0px;            margin-left: 0px;            width: 100%;            max-width: 100%;            max-height: 100%;            padding: 0px;            box-sizing: border-box;            border-radius: 0;          }          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper iframe,          ."+this.state.guid+".reamaze-anchored #reamaze-wrapper #reamaze-container,          ."+this.state.guid+".reamaze-visible #reamaze-container {            max-width: 100%;            width: 100%;          }          #reamaze-wrapper iframe,          #reamaze-wrapper #reamaze-container,          .reamaze-anchored #reamaze-wrapper iframe,          .reamaze-anchored #reamaze-wrapper #reamaze-container {            border-radius: 0;          }          #reamaze-wrapper .rmz-shoutbox-frame-container {            overflow: hidden;            border-radius: "+n+";            transform: translateZ(0);          }        }":"")+"      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze.Popup"),Reamaze.Popup.Spinner=n({displayName:"Reamaze.Popup.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{}}},shouldComponentUpdate:function(){return!1},render:function(){return t.createElement("div",{style:this.props.style,className:"reamaze-popup-spinner"},this.getStyleTag(),t.createElement(Reamaze.Spinner,{xColor:this.props.xColor}))},getStyleTag:function(){this.props.xColor;return t.createElement("style",null,".reamaze-popup-spinner {          margin: -15px 0 0 -15px;          width: 30px;          height: 30px;          position: absolute;          top: 50%;          left: 50%;        }      ")}})}(jQuery,React,createReactClass,PropTypes),function(t,n,e,r){t.namespace("Reamaze"),Reamaze.Attribution=e({displayName:"Reamaze.Attribution",propTypes:{appContext:r.object.isRequired},shouldComponentUpdate:function(){return!1},getAttributionUrl:function(){var e="https://www."+this.props.appContext.appDomain+"/embeddable";return this.props.appContext.brand.url&&(e+="/"+this.props.appContext.brand.url),e},render:function(){if(!1===this.props.appContext.brand.attribution)return null;var e=t.extend({},{textAlign:"right",fontSize:"9px",padding:"0px 10px",textTransform:"uppercase",letterSpacing:"1px",zIndex:1},this.props.style||{});return n.createElement("div",{className:"attribution",style:e},n.createElement("style",null,'\n            .attribution span, .attribution a, .attribution a:hover, .attribution a:visited {\n              color: #CACACA;\n              font-family: "Nunito",Helvetica,Arial,sans-serif;\n            }\n            .attribution .attrib-name {\n              font-weight: bold;\n              font-size: 13px;\n              letter-spacing: 0px;\n              text-transform: lowercase;\n            }\n          '),this.props.appContext.fullScreen||!1===this.props.link?n.createElement("span",null,"We run on ",n.createElement("span",{className:"attrib-name"},"Re:amaze")):n.createElement("a",{tabIndex:"-1",href:this.getAttributionUrl(),target:"_blank"},"We run on ",n.createElement("span",{className:"attrib-name"},"Re:amaze")))}})}(jQuery,React,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.Dispatcher=function(){return this._dispatcher=new Flux.Dispatcher,this.dispatch=function(e){setTimeout(function(){_support&&_support._debug&&console.log(e),this._dispatcher.dispatch(e)}.bind(this),0)},this.register=function(e){return this._dispatcher.register(e)},this.unregister=function(e){return this._dispatcher.unregister(e)},this.waitFor=function(e){return this._dispatcher.waitFor(e)},this},jQuery.namespace("Reamaze"),Reamaze.GlobalErrorStates={},Reamaze.ConversationErrorStates={CONTACT_FORM_FIELDS_NAME_INVALID:0,CONTACT_FORM_FIELDS_EMAIL_INVALID:1},Reamaze.ErrorMap=function(e){for(var t=[],n=0;n<e.errors.length;n++);for(n=0;n<e.messages.length;n++){message=e.messages[n];for(var r=0;r<message.errors;r++);for(r=0;r<message.user.errors.length;r++);for(r=0;r<message.login.errors.length;r++)switch(error=message.login.errors[r],error){case"Email is invalid":t.push(Reamaze.ConversationErrorStates.CONTACT_FORM_FIELDS_EMAIL_INVALID)}}return t},function(t,n,s,e,r){t.namespace("Reamaze.Frames"),Reamaze.Frames.Callbacks={};var i="undefined"!=typeof window&&window.console,o=function(){},p=o,c=o,a=t.extend;if(i){var l=console.error;p=function(){console.error=function(e){/<head>/.test(e)||l.call(console,e)}},c=function(){console.error=l}}Reamaze.Frames.Frame=e({displayName:"Reamaze.Frames.Frame",mixins:[TimerMixin],propTypes:{style:r.object,head:r.node,initialContent:r.func,mountTarget:r.string,contentDidMount:r.func,contentDidUpdate:r.func,frameId:r.string},getDefaultProps:function(){return{initialContent:function(e){var t=document.createElement("style");t.innerHTML="body { background: transparent; }",e.head.appendChild(t);var n=document.createElement("div");n.className="frame-root",e.body.appendChild(n)},contentDidMount:function(){},contentDidUpdate:function(){}}},render:function(){var e=a({},this.props);return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,delete e.children,delete e.frameId,n.createElement("iframe",a({title:"Re:amaze Chat",allowFullScreen:"true",allowtransparency:"true"},e,{children:undefined}))},componentDidMount:function(){this._isMounted=!0,this.renderFrameContents()},componentsRendered:!1,renderFrameContents:function(){if(this._isMounted){var i=function(e){if(e||(e=0),!(3<=e)){p();var t=a?this.props.contentDidMount:this.props.contentDidUpdate,n=this.getMountTarget();try{s.unstable_renderSubtreeIntoContainer(this,o,n,t)}catch(r){setTimeout(i.bind(this,e+1),300)}c(),this.componentsRendered=!0}}.bind(this),e=this.getDoc();if(e&&"complete"===e.readyState){Reamaze.Frames.Callbacks[this.props.frameId]=i,this.getWindow().frameId=this.props.frameId,this.getWindow().jQuery=Reamaze.jQuery;var o=n.createElement(Reamaze.Frames.FrameContent,{className:"frame-content",window:this.getWindow()},this.props.head,this.props.children),a=!this._setInitialContent;this._setInitialContent?this.componentsRendered&&i():(t(e).one("frameloaded",i),e.open(),e.defaultView&&(e.defaultView.frameId=this.props.frameId,e.defaultView.jQuery=Reamaze.jQuery),e.write("<!doctype html><html><head></head><body></body></html>"),e.close(),this.props.initialContent(e),this._setInitialContent=!0)}else this.setTimeout(this.renderFrameContents,0)}},getMountTarget:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]},getDoc:function(){return s.findDOMNode(this).contentDocument},getWindow:function(){return s.findDOMNode(this).contentWindow},componentDidUpdate:function(){this.renderFrameContents()},componentWillUnmount:function(){if(this._isMounted=!1,this.getDoc()){var e=this.getMountTarget();e&&s.unmountComponentAtNode(e)}}}),Reamaze.Frames.FrameContent=e({displayName:"Reamaze.Frames.FrameContent",propTypes:{window:r.object},childContextTypes:{window:r.object},getChildContext:function(){return{window:this.props.window}},render:function(){return n.createElement("div",null,this.props.children)}}),Reamaze.Frames.BasicFrame=e({displayName:"Reamaze.Frames.BasicFrame",mixins:[Reamaze.Mixins.Styles],getDefaultProps:function(){return{}},getInitialState:function(){return this.frameId="frame-"+Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random()),{ping:null}},componentDidMount:function(){},render:function(){var e=function(e){e.documentElement.style="height: 100%; width: 100%;";var t=document.createElement("base");t.target="_parent",e.head.appendChild(t);var n=document.createElement("link");n.href="https://fonts.googleapis.com/css?family=Nunito:400,700",n.rel="stylesheet";var r=document.createElement("link");r.href="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.css",r.rel="stylesheet";var i=document.createElement("script");i.type="text/javascript",i.defer=!0,i.src="https://"+this.props.appContext.cdnDomain+"/assets/widget.frame.js",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(i);var o=document.createElement("div");o.className="frame-root",e.body.appendChild(o)}.bind(this);return n.createElement("div",{style:{width:"100%",height:"100%"},className:this.props.className},n.createElement(Reamaze.Frames.Frame,{ref:function(e){e&&(s.findDOMNode(e).style.setProperty("width","100%","important"),s.findDOMNode(e).style.setProperty("height","100%","important"))},style:{width:"100%",height:"100%",border:0,position:"relative"},initialContent:e,mountTarget:".frame-root",head:this.getStyleTag(),frameId:this.frameId},this.props.children))},getStyleTag:function(){return n.createElement("div",null,this.getStyles(),this.getBrandStyles())},getBrandStyles:function(){var e=this.props.appContext.brand.styles;return n.createElement("style",null,this.getBrandCss(e))},getStyles:function(){return n.createElement("style",null,this.getResetCss())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.namespace("Reamaze"),Reamaze.OutboundConversations=function(){var e="ob_conv";this.outboundConversations={};try{this.outboundConversations=JSON.parse(Reamaze.localStorage.getItem(e))||{}}catch(t){}
return this.getOutboundConversations=function(){return JSON.parse(JSON.stringify(this.outboundConversations))},this.removeOutboundConversation=function(e){delete this.outboundConversations[e],this.cache()},this.getOutboundConversationId=function(e){return"*ob_"+e},this.getConversations=function(){var n={};return Object.keys(this.outboundConversations).forEach(function(e){var t=this.getConversation(e);t&&(n[t.id]=t)}.bind(this)),n},this.getConversation=function(e){var t=this.getOutboundConversationId(e),n=this.outboundConversations[e];return n?n.conversationId?null:(n.user||(n.user={type:"team"}),{slug:t,id:t,outbound:n.user.displayAsStaff=!0,enableOutboundCustomFields:n.enableCustomFields,disableCueClick:n.disableCueClick,outboundData:{id:e,name:n.name,message:n.message,user:n.user,timestamp:n.timestamp,buttons:n.buttons,live:n.live,botsEnabled:n.botsEnabled},unread:n.unread,loaded:!1,messages:[this.getConversationMessage(n)]}):null},this.getConversationMessage=function(e){var t=e.user;t.displayAsStaff=!0,t.avatarUrl=t.avatarUrl||(t.avatarUrls?t.avatarUrls[0]:null);var n={};return e.buttons&&0<e.buttons.length&&(n.buttons=e.buttons),{id:"*ob_msg",user:t,createdAt:new Date(e.timestamp),body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(e.message)),body_preview:e.message,system:!0,meta:n}},this.updateOutboundConversation=function(e){this.outboundConversations[e.outboundData.id]&&(this.outboundConversations[e.outboundData.id].unread=e.unread,e.id&&e.id!=this.getOutboundConversationId(e.outboundData.id)&&(this.outboundConversations[e.outboundData.id].conversationId=e.id,this.outboundConversations[e.outboundData.id].conversationSlug=e.slug),this.cache())},this.createOutboundConversation=function(e,t,n,r,i,o,a,s,p,c,l,u,d,h,f){!i&&this.outboundConversations[t]||(n||(n={type:"team"}),this.outboundConversations[t]={message:e,id:t,user:n,timestamp:r,unread:!0,buttons:o,onClickScript:a,persisted:!0,name:s,"transient":!!p,botsEnabled:!!l,live:!!c,auto:!!d,enableCustomFields:!!h,disableCueClick:!!f},u!==undefined&&(this.outboundConversations[t].expires=u),this.cache())},this.cache=function(){Reamaze.localStorage.setItem(e,JSON.stringify(this.outboundConversations))},this},function(e){e.namespace("Reamaze"),Reamaze.PushAgent=createReactClass({displayName:"Reamaze.PushAgent",propTypes:{appContext:PropTypes.object.isRequired,currentUser:PropTypes.object.isRequired,subscribed:PropTypes.bool,customVapidToken:PropTypes.string},componentDidMount:function(){window.ReamazePushData={currentUser:this.props.currentUser,baseDataUrl:this.props.appContext.baseDataUrl,subscribed:this.props.subscribed,customVapidToken:this.props.customVapidToken};var e=new Event("ReamazePushDataInit");window.dispatchEvent(e);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.defer="defer",t.src="//push.reamaze.com/assets/reamaze-push.js";var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):document.head?document.head.appendChild(t):document.body.appendChild(t)},render:function(){return!1}})}(jQuery,React);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function($jq,React,ReactDOM,createReactClass,PropTypes){Reamaze.ACTIONS={PING:"PING",PING_LIVE_STATUS:"PING_LIVE_STATUS",UPDATE_PING_DATA:"UPDATE_PING_DATA",UPDATE_LIVE_STATUS:"UPDATE_LIVE_STATUS",ROUTE:"ROUTE",VIEW_CONVERSATION:"VIEW_CONVERSATION",OPEN_POPUP:"OPEN_POPUP",USER_TRANSITION:"USER_TRANSITION",BUILD_CONVERSATION:"BUILD_CONVERSATION",BUILD_MESSAGE:"BUILD_MESSAGE",SAVE_CONVERSATION:"SAVE_CONVERSATION",SHOW_PROMPT:"SHOW_PROMPT",REMOVE_PROMPT:"REMOVE_PROMPT"},Reamaze.EFFECTS={CREATE_MESSAGE_NOTIFICATION:"CREATE_MESSAGE_NOTIFICATION",PING_API:"PING_API",PING_LIVE_STATUS:"PING_LIVE_STATUS",CALL_UNREAD_CALLBACK:"CALL_UNREAD_CALLBACK",POPUP_OPENED:"POPUP_OPENED",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:"CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS",CREATE_OUTBOUND_NOTIFICATION:"CREATE_OUTBOUND_NOTIFICATION",DELETE_OUTBOUND_NOTIFICATION:"DELETE_OUTBOUND_NOTIFICATION",API_GET_CONVERSATIONS:"API_GET_CONVERSATIONS",API_GET_CONVERSATION:"API_GET_CONVERSATION",API_GET_BRAND_DATA:"API_GET_BRAND_DATA",API_POST_CONVERSATION:"API_POST_CONVERSATION",TRACK_EVENT:"TRACK_EVENT"};var calculateUnread=function(t){var n=0;return Object.keys(t).forEach(function(e){t[e].unread&&n++}),n},_route=function(e,t,n){var r=e.appContext.route,i=e.appContext.routeParams;return t==r&&JSON.stringify(n)==JSON.stringify(i)||(e.appContext.prevRoute=r,e.appContext.prevRouteParams=i),e.appContext.route=t,e.appContext.routeParams=n,e},rootStateReducer=function(e,t,n){switch(n.type){case Reamaze.ACTIONS.ROUTE:return e=_route(e,n.payload.route,n.payload.routeParams);case Reamaze.ACTIONS.PING:return e.pinging?null:(e.pinging=!0,{effects:[{type:Reamaze.EFFECTS.PING_API}]});case Reamaze.ACTIONS.UPDATE_PING_DATA:e.ping=n.payload;var r=Reamaze.Styles.fromBrand(e.ping?e.ping.brand:null,t.styles);for(var i in e.appContext.brand.styles=r,e.appContext.chatIsLive=n.payload.chatIsLive,n.payload.conversations)e.conversations[i]||(e.conversations[i]=n.payload.conversations[i]);return e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.effects.push({type:Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS}),e.appContext.brand=$jq.extend({},e.appContext.brand||{},n.payload.brand,{staffAvatars:n.payload.staffAvatars,liveStaffAvatars:n.payload.liveStaffAvatars}),e;case Reamaze.ACTIONS.PING_LIVE_STATUS:return{effects:[{type:Reamaze.EFFECTS.PING_LIVE_STATUS}]};case Reamaze.ACTIONS.UPDATE_LIVE_STATUS:var o=!1;return e.appContext.chatIsLive!=n.payload.chatIsLive&&(o=!0),e.appContext.chatIsLive=n.payload.chatIsLive,e.appContext.brand&&(o||JSON.stringify(e.appContext.brand.liveStaffAvatars)==JSON.stringify(n.payload.liveStaffAvatars)||(o=!0),e.appContext.brand=$jq.extend({},e.appContext.brand,{liveStaffAvatars:n.payload.liveStaffAvatars})),o?e:null;case Reamaze.ACTIONS.VIEW_CONVERSATION:e=_route(e,"conversations:show",{slug:n.payload.slug});case Reamaze.ACTIONS.OPEN_POPUP:var a=n.payload||{};if("undefined"==typeof a.anchor&&(a.anchor=!!t.widgetOpts),a.anchor&&t.widgetOpts&&t.widgetOpts.position&&(a.anchor={},t.widgetOpts.position.top?a.anchor.top=parseInt(t.widgetOpts.position.top,10)+10+parseInt(t.widgetOpts.size,10):t.widgetOpts.position.bottom&&(a.anchor.bottom=parseInt(t.widgetOpts.position.bottom,10)+10+parseInt(t.widgetOpts.size,10)),t.widgetOpts.position.left?a.anchor.left=t.widgetOpts.position.left:t.widgetOpts.position.right&&(a.anchor.right=t.widgetOpts.position.right)),a.route)e=_route(e,a.route,a.routeParams||{});else if(a.path||e.appContext.route&&!n.payload.mode)a.path&&(e=_route(e,"kb:index",{path:a.path}));else{var s=n.payload.mode||t.popupOpts.mode,p="hub:index";"kb"==s||"faq"==s?p="kb:index":"contact"==s&&(p="conversations:new"),e=_route(e,p,null)}return"widget"==a.source&&e.appContext.shoutbox.open||(e.appContext.shoutbox.open=!a.minimized),(e.popup=a).minimized||(e.effects.push({type:Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS}),e.messagePrompts={}),e.effects.push({type:Reamaze.EFFECTS.POPUP_OPENED,payload:{minimized:a.minimized}}),e;case Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS:return e.appContext.brand.name||e.fetchingBrandData||e.effects.push({type:Reamaze.EFFECTS.API_GET_BRAND_DATA}),e;case Reamaze.Notifications.ACTIONS.ACKNOWLEDGE_NOTIFICATION:var c=e.outboundConversations.getConversation(n.payload.id);return c&&c.unread&&((c=JSON.parse(JSON.stringify(c))).unread=!1,$jq.extend(e.conversations[c.slug],c),e.unreadCount=calculateUnread(e.conversations),e.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:e.unreadCount}}),e.outboundConversations.updateOutboundConversation(e.conversations[c.slug])),e;default:return null}},conversationsStateReducer=function(n,e,t){switch(t.type){case Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED:t.payload.pendingSlug&&delete n.conversations[t.payload.pendingSlug];var r=n.currentUser.getAnonymousId(),i=r&&!t.payload.user.anonymous_id;n.currentUser.setAnonymousId(t.payload.user.anonymous_id),n.currentUser.set("_id",t.payload.user.id),n.currentUser.set("email",t.payload.user.email),n.currentUser.set("name",t.payload.user.name);var o=n.currentUser.getConversationTokens();o.push(t.payload.conversation.token),n.currentUser.setConversationTokens(o),n.conversations[t.payload.conversation.slug]=t.payload.conversation,n=_route(n,"conversations:show",{slug:t.payload.conversation.slug,id:t.payload.conversation.id});var a={action:(t.payload.conversation.isChat?"Chat":"Conversation")+" Started"};return t.payload.conversation.outboundData&&t.payload.conversation.outboundData.id&&(n.outboundConversations.updateOutboundConversation(t.payload.conversation),delete n.conversations[n.outboundConversations.getOutboundConversationId(t.payload.conversation.outboundData.id)],n.conversations[t.payload.conversation.slug].messages.unshift(n.outboundConversations.getConversationMessage(t.payload.conversation.outboundData)),a.label="From Cue "+(t.payload.conversation.outboundData.name||t.payload.conversation.outboundData.id)),n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:a}),i&&n.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.USER_TRANSITION,payload:{fromAnonymousId:r}}),n.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:t.payload.conversation.slug}}),n;case Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED:if(!t.payload.conversationSlug||!t.payload.props||!n.conversations[t.payload.conversationSlug])return null;var s=(u=n.conversations[t.payload.conversationSlug].messages).filter(function(e){return e.pending||e.errored});if(t.payload.props.messages&&(t.payload.props.messages=t.payload.props.messages.concat(s).sort(function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt);return n<r?-1:r<n?1:0})),$jq.extend(n.conversations[t.payload.conversationSlug],t.payload.props),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),t.payload.props.outboundData&&t.payload.props.outboundData.id){var p=n.outboundConversations.getConversationMessage(t.payload.props.outboundData);n.conversations[t.payload.conversationSlug].messages[0].id!=p.id&&n.conversations[t.payload.conversationSlug].messages.unshift(p),n.outboundConversations.updateOutboundConversation(n.conversations[t.payload.conversationSlug])}return n;case Reamaze.Conversations.ACTIONS.CHAT_ENDED:return $jq.extend(n.conversations[t.payload.conversationSlug],t.payload.props),n;case Reamaze.Conversations.ACTIONS.MESSAGE_CREATED:var c=!1;(n.conversations[t.payload.conversationSlug].messages||[]).forEach(function(e){e.user.displayAsStaff&&(c=!0)});for(var l=t.payload.message,u=$jq.extend([],n.conversations[t.payload.conversationSlug].messages||[]),d=-1,h=0;h<u.length;h++)if("undefined"!=typeof u[h].requestId&&u[h].requestId===l.requestId||"undefined"!=typeof u[h].id&&u[h].id===l.id){d=h;break}if(-1<d)u.splice(d,1,l);else{var f=-1;for(h=0;h<u.length;h++)if(u[h].created_at>=l.created_at){f=h;break}-1<f?u.splice(f,0,l):u.push(l)}if(n.conversations[t.payload.conversationSlug].messages=u,n.conversations[t.payload.conversationSlug].unread=!0,n.conversations[t.payload.conversationSlug].promptOptions=[],"conversations:show"==n.appContext.route&&n.appContext.routeParams.slug==t.payload.conversationSlug&&n.appContext.shoutbox.open&&n.appContext.documentVisible||(n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}})),n.currentUser.get("_id")!=t.payload.message.user.id)(l=t.payload.message).conversation={id:t.payload.conversationId,slug:t.payload.conversationSlug},n.appContext.shoutbox.open||(n.messagePrompts[l.conversation.id]=l),-1==d&&n.effects.push({type:Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION,payload:t.payload.message}),!c&&t.payload.message.user.displayAsStaff&&n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:(n.conversations[t.payload.conversationSlug].isChat?"Chat":"Conversation")+" Staff First Response Received"}});return n;case Reamaze.Conversations.ACTIONS.MESSAGE_READ:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.forEach(function(e){if(e.id==t.payload.messageId)return!(e.viewed=!0)}),n;case Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.length&&(n.conversations[t.payload.conversationSlug].insertConversationStartedMessageId=n.conversations[t.payload.conversationSlug].messages.slice(-1)[0].id),n;case Reamaze.Conversations.ACTIONS.MESSAGE_APPRECIATED:return n.conversations[t.payload.conversationSlug].messages&&n.conversations[t.payload.conversationSlug].messages.forEach(function(e){if(e.id==t.payload.messageId)return e.appreciated||t.payload.error||(n.effects.push({type:Reamaze.EFFECTS.TRACK_EVENT,payload:{action:"Message Appreciated"}}),e.appreciated=!0),!1}),n;case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS:return n.conversationsFetched?null:(n.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATIONS}),n);case Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK:for(var m in t.payload)if((!n.conversationsFetched||!n.conversations[m]||!n.conversations[m].loaded&&!n.conversations[m].fetching)&&(n.conversations[m]=t.payload[m],n.conversations[m].outboundData)){p=n.outboundConversations.getConversationMessage(n.conversations[m].outboundData);n.conversations[m].messages[0].id!=p.id&&n.conversations[m].messages.unshift(p)}return n.conversationsFetched=!0,n.conversationsLastFetched=Date.now(),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.Conversations.ACTIONS.GET_CONVERSATION:return n.conversations[t.payload.slug].fetching?null:(n.conversations[t.payload.slug].fetching=!0,n.effects.push({type:Reamaze.EFFECTS.API_GET_CONVERSATION,payload:t.payload}),n);case Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK:if(n.conversations[t.payload.slug]=t.payload,n.conversations[t.payload.slug].outboundData){p=n.outboundConversations.getConversationMessage(n.conversations[t.payload.slug].outboundData);n.conversations[t.payload.slug].messages[0].id!=p.id&&n.conversations[t.payload.slug].messages.unshift(p)}return n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.ACTIONS.BUILD_CONVERSATION:return n.conversations[t.payload.slug]={pending:!0,saving:!1,error:!1,slug:t.payload.slug,id:t.payload.slug,messages:[{id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.payload.data.message.body)),body_preview:t.payload.data.message.body,pendingData:t.payload.data}]},n=_route(n,"conversations:show",{slug:t.payload.slug});case Reamaze.ACTIONS.SAVE_CONVERSATION:var g=Math.floor(Date.now()/1e3),y=t.payload.formData;if(y.push({name:"_zt",value:Reamaze.ec("0"+g)}),y.push({name:"_zt2",value:g}),y.push({name:"_url",value:window.location.href}),y.push({name:"_browser",value:Reamaze.Utils.massageUserAgent(window.navigator)}),y.push({name:"_zc_field",value:"5b5cd0da3121fc53b4bc84d0c8af2e81"}),y.push({name:"sparams",value:$jq.param({sso:n.currentUser.ssoData()})}),y.push({name:"__skip_bots",value:!n.appContext.allowBotProcessing}),b=n.conversations[t.payload.slug]){if(n.appContext._preview)return b.loaded=!0,b.pending=!1,n.conversations[t.payload.slug]=b,n;b.saving=!0,b.error=!1,n.conversations[t.payload.slug]=b;for(h=0;h<b.messages.length;h++)if(b.messages[h].pendingData&&!b.messages[h].user.displayAsStaff){l=b.messages[h];break}b.outbound&&b.outboundData&&y.push({name:"outbound_data_str",value:JSON.stringify(b.outboundData)}),y.push({name:"a_comment_body",value:l.pendingData.a_comment_body}),y.push({name:"conversation[messages_attributes][0][body]",value:l.pendingData.message.body}),l.pendingData.message.attachment_ids&&0<l.pendingData.message.attachment_ids.length&&l.pendingData.message.attachment_ids.forEach(function(e){y.push({name:"conversation[messages_attributes][0][attachment_ids][]",value:e})})}return n.effects.push({type:Reamaze.EFFECTS.API_POST_CONVERSATION,payload:{pendingSlug:t.payload.slug,formData:y}}),n;case Reamaze.ACTIONS.BUILD_MESSAGE:return(b=n.conversations[t.payload.slug])?(b.outbound&&(b.pending=!0,b.saving=!1,b.error=!1,b.messages.push({id:"*pending_0",user:{displayAsStaff:!1},createdAt:new Date,body:Reamaze.Utils.simpleFormat(Reamaze.Utils.escapeOnce(t.payload.data.message.body)),body_preview:t.payload.data.message.body,pendingData:t.payload.data})),n.conversations[t.payload.slug]=b,n):null;case Reamaze.ACTIONS.SHOW_PROMPT:return n.conversations[t.payload.conversationSlug]?(n.conversations[t.payload.conversationSlug].promptOptions=t.payload.options,n):null;case Reamaze.ACTIONS.REMOVE_PROMPT:return n.conversations[t.payload.conversationSlug]?(n.conversations[t.payload.conversationSlug].promptOptions=null,n):null;case Reamaze.Outbounds.ACTIONS.CREATE_OUTBOUND_CONVERSATION:var b,v=t.payload.outbound;return n.outboundConversations.createOutboundConversation(v.message,v.id,v.user,Date.now(),!v.id,v.buttons,n.appContext._preview?"function() {}":v.onClickScript,v.name,!!v["transient"],!1,!!v.botsEnabled,v.end||0,!!v.auto,!!v.enableCustomFields,!!v.disableCueClick),(b=n.outboundConversations.getConversation(v.id))&&(n.conversations[b.id]=b),n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION,payload:{outbound:v}}),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;case Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION:var x=t.payload.ids||[];return t.payload.id&&x.push(t.payload.id),x.forEach(function(e){var t=n.outboundConversations.getConversation(e);n.outboundConversations.removeOutboundConversation(e),t&&n.conversations[t.id]&&n.conversations[t.id].outbound&&delete n.conversations[t.id],n.unreadCount=calculateUnread(n.conversations),n.effects.push({type:Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION,payload:{id:e}})}),n.effects.push({type:Reamaze.EFFECTS.CALL_UNREAD_CALLBACK,payload:{unreadCount:n.unreadCount}}),n;default:return null}},rootEffectsHandler=function(e){switch(e.type){case Reamaze.EFFECTS.CREATE_STAFF_NEW_CONVERSATION_NOTIFICATIONS:if(this.state.conversations&&0<Object.keys(this.state.conversations).length){var i=[];Object.keys(this.state.conversations).forEach(function(e){var t=this.state.conversations[e];if(t.unread&&t.newFromStaff){var n=t.messages[0];n.conversation={id:t.id,slug:t.slug};var r=this.notificationFromMessagePrompt(n);r.sound=!0,i.push(r)}}.bind(this)),0<i.length&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:i})}break;case Reamaze.EFFECTS.CREATE_MESSAGE_NOTIFICATION:if(this.refs.notifications&&(!this.state.popup||!this.state.appContext.shoutbox.open)){var t=this.notificationFromMessagePrompt(e.payload);t.renew=!0,this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})}this.playSound();break;case Reamaze.EFFECTS.CLEAR_ALL_NOTIFICATIONS:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CLOSE_ALL_NOTIFICATIONS});break;case Reamaze.EFFECTS.PING_API:$jq.ajax({url:this.props.baseDataUrl+"/data/ping?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){e.currentUser&&this.state.currentUser.set("_id",e.currentUser.id),this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_PING_DATA,payload:e})}.bind(this),complete:function(){this.state.pinging=!1}.bind(this)});break;case Reamaze.EFFECTS.PING_LIVE_STATUS:$jq.ajax({url:this.props.baseDataUrl+"/data/ping/live_status?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.UPDATE_LIVE_STATUS,payload:e})}.bind(this)});break;case Reamaze.EFFECTS.CALL_UNREAD_CALLBACK:"function"==typeof this.props.unreadCallbackFunc&&this.props.unreadCallbackFunc({count:e.payload.unreadCount});break;case Reamaze.EFFECTS.POPUP_OPENED:if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!e.payload.minimized){var n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);parseInt(n[1],10),parseInt(n[2],10);$jq("body").data("rmz-initial-pos",$jq("body").css("position")),$jq("body").data("rmz-initial-min-width",$jq("body").css("min-width")),$jq("body").data("rmz-initial-scroll",$jq("html").scrollTop()),$jq("body").data("rmz-initial-top",$jq("body").css("top")),$jq("body").data("rmz-initial-left",$jq("body").css("left")),$jq("body").data("rmz-initial-right",$jq("body").css("right")),$jq("body").css({position:"fixed"}),$jq("body").css({top:-$jq("body").data("rmz-initial-scroll"),left:0,right:0}),$jq("body").css({minWidth:"100%"}),1<=$jq("meta[name=viewport]").length&&(this.$metaNoZoom=$jq('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />'),this.$metaNoZoom.appendTo($jq("head")))}e.payload.minimized||$jq(window).trigger("Reamaze.popupOpened");break;case Reamaze.EFFECTS.API_GET_BRAND_DATA:$jq.ajax({url:"https://"+this.props.cdnDomain+"/data/brands/"+this.state.appContext.brand.url+"/ping",success:function(e){var t=this.state.appContext;t.brand=$jq.extend({},t.brand,e),this.setState({appContext:t})}.bind(this),complete:function(){this.setState({fetchingBrandData:!1})}.bind(this)});break;case Reamaze.EFFECTS.TRACK_EVENT:Reamaze.Analytics.track(e.payload.action,e.payload.label,e.payload.value,!!e.payload.nonInteraction)}},conversationsEffectsHandler=function(effect){switch(effect.type){case Reamaze.EFFECTS.API_GET_CONVERSATIONS:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS_CALLBACK,payload:e.conversations})}.bind(this)});break;case Reamaze.EFFECTS.API_GET_CONVERSATION:$jq.ajax({url:this.props.baseDataUrl+"/data/conversations/"+effect.payload.slug+"?sparams="+encodeURIComponent($jq.param({sso:this.state.currentUser.ssoData()})),success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION_CALLBACK,payload:e.conversation})}.bind(this),complete:function(){this.state.conversations[effect.payload.slug].fetching=!1}.bind(this)});break;case Reamaze.EFFECTS.API_POST_CONVERSATION:$jq.ajax({url:this.state.appContext.baseDataUrl+"/data/conversations",type:"POST",data:effect.payload.formData,success:function(e){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_CREATED,payload:{conversation:e.conversation,user:e.user,pendingSlug:effect.payload.pendingSlug}})}.bind(this),error:function(e){var t=this.state.conversations[effect.payload.pendingSlug];t.error=!0,t.errors=Reamaze.ErrorMap(e.responseJSON.conversation),t.saving=!1,this.setState({conversations:this.state.conversations})}.bind(this),crossDomain:!0});break;case Reamaze.EFFECTS.CREATE_OUTBOUND_NOTIFICATION:var outbound=effect.payload.outbound,notification={message:outbound.message,name:outbound.name,id:outbound.id,buttons:outbound.buttons,user:outbound.user,onClickScript:this.state.appContext._preview?"function() {}":outbound.onClickScript,sound:outbound.sound,"transient":!!outbound["transient"],botsEnabled:!!outbound.botsEnabled,disableCueClick:!!outbound.disableCueClick,expires:outbound.end||0,isCue:!0};notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.disableCueClick||(notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this)),this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[notification]});break;case Reamaze.EFFECTS.DELETE_OUTBOUND_NOTIFICATION:this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.REMOVE_NOTIFICATIONS,payload:[effect.payload.id]})}};Reamaze.ReamazeJS=createReactClass({displayName:"Reamaze.ReamazeJS",mixins:[TimerMixin],propTypes:{widgetOpts:PropTypes.any,popupOpts:PropTypes.object,baseUrl:PropTypes.string,baseDataUrl:PropTypes.string,account:PropTypes.string,appDomain:PropTypes.string,cdnDomain:PropTypes.string,pusherAppKey:PropTypes.string,currentUser:PropTypes.object,customFields:PropTypes.object,trans:PropTypes.object,font:PropTypes.string,contactMode:PropTypes.string,faces:PropTypes.array,unreadCallbackFunc:PropTypes.func,enableKb:PropTypes.bool,allowBotProcessing:PropTypes.bool,enableBrowserTabAlerting:PropTypes.bool,pushNotifications:PropTypes.bool,route:PropTypes.string,routeParams:PropTypes.object,styles:PropTypes.object,_preview:PropTypes.bool,brandData:PropTypes.object,outbounds:PropTypes.array,apps:PropTypes.object,hasTouch:PropTypes.bool,isMobileBrowser:PropTypes.bool,isMobileDevice:PropTypes.bool},pusher:null,getDefaultProps:function(){return{font:"normal normal 13px/17px Nunito, Helvetica, Arial, sans-serif"}},getInitialState:function(){var e={baseUrl:this.props.baseUrl,baseDataUrl:this.props.baseDataUrl,appDomain:this.props.appDomain,cdnDomain:this.props.cdnDomain,getPusher:this._getPusher,contactMode:this.props.contactMode,allowBotProcessing:this.props.allowBotProcessing,faces:this.props.faces,fullScreen:window.innerWidth<=767&&!this.props._preview,hasTouch:this.props.hasTouch,isMobileBrowser:this.props.isMobileBrowser,_preview:this.props._preview,brand:$jq.extend({},this.props.brandData,{styles:Reamaze.Styles.fromBrand(this.props.brandData?this.props.brandData:null,this.props.styles),url:this.props.account}),shoutbox:{open:!1},customFields:this.props.customFields||{},route:this.props.route,routeParams:this.props.routeParams||{},prevRoute:this.props.route,prevRouteParams:{},apps:this.props.apps,documentVisible:!this.getDocumentHidden()},t=new Reamaze.Dispatcher;t.register(function(e){var t=$jq.extend({},this.state);t.effects=[];var n=(t=$jq.extend(null,rootStateReducer(t,this.props,e),conversationsStateReducer(t,this.props,e))).effects;delete t.effects,t&&0<Object.keys(t).length&&this.setState(t),n&&0<n.length&&(n.forEach(rootEffectsHandler.bind(this)),n.forEach(conversationsEffectsHandler.bind(this)))}.bind(this)),e.dispatcher=t;var n=new Reamaze.OutboundConversations,r={popup:null,messagePrompts:{},ping:null,unreadCount:0,currentUser:this.props.currentUser,notificationCount:0,outboundConversations:n,conversations:n.getConversations()||{},conversationsFetched:!1,conversationsLastFetched:Date.now(),hide:!1,outbounds:(this.props.outbounds||[]).map(function(e){return e.auto=!0,e}),appContext:e},i=document.createElement("audio");return this.audioSupported=!this.props.disableAudio&&!!(i.setAttribute&&i.canPlayType&&i.canPlayType("audio/mpeg;").replace(/no/,"")),r},componentDidUpdate:function(){this.state.popup||Reamaze.localStorage.removeItem("popup.page");try{Reamaze.localStorage.setItem("messagePrompts.state",JSON.stringify(this.state.messagePrompts))}catch(e){Reamaze.localStorage.removeItem("messagePrompts.state")}this.state.appContext.route?Reamaze.localStorage.setItem("route",this.state.appContext.route):Reamaze.localStorage.removeItem("route"),this.state.appContext.shoutbox.open?Reamaze.localStorage.removeItem("popup.minimized"):Reamaze.localStorage.setItem("popup.minimized",1);try{Reamaze.localStorage.setItem("routeParams",JSON.stringify(this.state.appContext.routeParams))}catch(e){Reamaze.localStorage.removeItem("routeParams")}this.subscribeConversationChannels()},componentDidMount:function(){this._resizeHandler=$jq.debounce(500,this._resizeHandler),$jq(window).on("resize",this._resizeHandler),$jq(window).on("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).on("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).on("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).on("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).on("Reamaze.openPopup",this._openPopupTrigger),$jq(window).on("Reamaze.closePopup",this._closePopupTrigger),$jq(window).on("Reamaze.navigate",this._handleNavigation),$jq(window).on("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).on("Reamaze.pusherSetupComplete",function(){this.forceUpdate()}.bind(this)),$jq(window).on("Reamaze.notify",this.onNotify),$jq(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).on("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).on("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).on("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this._restoreState();var e=document.createElement("iframe");(this.pusherIframe=e).style.setProperty("width",0,"important"),e.style.setProperty("height",0,"important"),e.style.display="none",document.body.appendChild(e);var t=e.contentDocument;t.open(),t.close();var n=document.createElement("script");n.type="text/javascript",n.src="https://cdnjs.cloudflare.com/ajax/libs/pusher/4.0.0/pusher.min.js",t.head.appendChild(n);var r=function(){e.contentWindow.Pusher?Reamaze.setupPusher(e.contentWindow.Pusher):this.setTimeout(r,200)}.bind(this);r(),this.subscribeConversationChannels(),this.setInterval(this.pingForSSOUsers,12e4)},componentWillUnmount:function(){$jq(window).off("resize",this._resizeHandler),$jq(window).off("keyup",this._escKeyHandler),this.props.popupOpts&&this.props.popupOpts.trigger&&$jq(document.body).off("click",this.props.popupOpts.trigger,this._popupTriggerHandler),$jq(document.body).off("click","[data-reamaze-lightbox]",this._popupHandler),$jq(document.body).off("click","[data-kb-topic],[data-kb-url],[data-kb-article]",this._kbTooltipHandler),$jq(window).off("Reamaze.openPopup",this._openPopupTrigger),$jq(window).off("Reamaze.closePopup",this._closePopupTrigger),$jq(window).off("Reamaze.Widget.route",this._onWidgetRouteEvent),$jq(window).off("Reamaze.pusherSetupComplete"),$jq(window).off("Reamaze.notify",this.onNotify),$jq(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.toggleDisplayOnFullScreenElement),$jq(document).off("Reamaze.Outbounds.new",this.onNewOutbound),$jq(document).off("Reamaze.Outbounds.remove",this.onRemoveOutbound),$jq(document).off("Reamaze.Outbounds.removeAll",this.onRemoveAllOutbounds),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.pusher&&this.pusher.disconnect(),this.pusherIframe&&(document.body.removeChild(this.pusherIframe),Reamaze.Pusher=undefined)},handleVisibilityChange:function(){var e=this.state.appContext;this.state.appContext.isMobileBrowser&&!this.getDocumentHidden()&&5e3<Date.now()-this.state.conversationsLastFetched&&this.setState({conversationsFetched:!1},function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATIONS})}.bind(this)),this.state.appContext.documentVisible!=!this.getDocumentHidden()&&(e.documentVisible=!this.state.appContext.documentVisible,this.setState({appContext:e}))},getDocumentHidden:function(){try{if("hidden"in document)return document.hidden;for(var e=["webkit","moz","ms","o"],t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return document[e[t]+"Hidden"]}catch(n){}return null},pingForSSOUsers:function(){this.state.currentUser.isSSOUser()&&this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.PING})},toggleDisplayOnFullScreenElement:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=!!e;$jq(e).parents("#reamaze-container").length&&(t=!1),this.setState({hide:t})},conversationsSubscribed:{},subscribeConversationChannels:function(){if(Reamaze.Pusher)for(var e=0,t=Object.keys(this.state.conversations).reduce(function(e,t
){var n=this.state.conversations[t];return n&&n.id&&e.push(n),e}.bind(this),[]),n=(t=t.filter(function(e){var t=new Date;t.setMonth(t.getMonth()-1);var n=e.outbound||e.pending,r=e.messages&&0<e.messages.length&&e.messages[e.messages.length-1].createdAt&&new Date(e.messages[e.messages.length-1].createdAt)<t;return!n&&!r})).sort(function(e,t){var n=new Date(e.messages&&0<e.messages.length?e.messages[e.messages.length-1].createdAt:e.last_message_timestamp),r=new Date(t.messages&&0<t.messages.length?t.messages[t.messages.length-1].createdAt:t.last_message_timestamp);return n==r?0:n<r?1:-1}),r=0;r<n.length&&!(8<=e);r++){var i=this._getPusher(),o=n[r],a=o.slug;e+=1;var s="presence-conversation-"+o.id;if(!i.channel(s)||!this.conversationsSubscribed[a]){var p=i.subscribe(s);p.bind("pusher:subscription_succeeded",function(){this.state.conversations[a].botsEnabled&&!this.state.conversations[a].botHandoverTimestamp&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.GET_CONVERSATION,payload:{slug:a}})}.bind(this,p)),p.bind("pusher:member_added",function(){}.bind(this,p)),p.bind("show-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.SHOW_PROMPT,payload:{conversationSlug:t.slug,options:t.options}})}.bind(this,p)),p.bind("remove-prompt",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.REMOVE_PROMPT,payload:{conversationSlug:t}})}.bind(this,p)),p.bind("messages/new",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_CREATED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,a,o.id)),p.bind("messages/show_conversation_started_message",function(e,t,n){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_STARTED_MESSAGE_TRIGGERED,payload:{conversationSlug:e,conversationId:t,message:n.message}})}.bind(this,a,o.id)),p.bind("messages/read",function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.MESSAGE_READ,payload:{conversationSlug:e,messageId:t.message_id}})}.bind(this,a)),p.bind("conversation/update",function(e,t){this.state.conversations[e];1==t.archived&&(props={status:"archived"},t.satisfactionRating&&(props.satisfactionRating=t.satisfactionRating),this.state.appContext.dispatcher.dispatch({type:Reamaze.Conversations.ACTIONS.CONVERSATION_UPDATED,payload:{conversationSlug:e,props:props}}))}.bind(this,a)),this.conversationsSubscribed[a]=!0}}},onNewOutbound:function(e,n){this.setState(function(e){var t=JSON.parse(JSON.stringify(e.outbounds||[]));return t.push(n),{outbounds:t}})},onRemoveOutbound:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{id:t}})},onRemoveAllOutbounds:function(){var e=this.state.outboundConversations.getOutboundConversations();if(e){var t=Object.keys(e);this.state.appContext.dispatcher.dispatch({type:Reamaze.Outbounds.ACTIONS.DELETE_OUTBOUND_CONVERSATION,payload:{ids:t}})}},_onWidgetRouteEvent:function(e,t){var n=_route(this.state,t.route,t.routeParams);this.setState({appContext:n.appContext})},playSound:function(){if(this.refs.newMessageSound){var e=ReactDOM.findDOMNode(this.refs.newMessageSound).play();e&&e.then(function(){})["catch"](function(){})}},getWidget:function(){if(this.props.widgetOpts){var e=$jq.extend(!0,{},this.props.widgetOpts);return e.color=this.state.appContext.brand.styles.widgetColor,e.gradient=this.state.appContext.brand.styles.gradient,e.iconColor=this.state.appContext.brand.styles.widgetIconColor,React.createElement(Reamaze.Widget.Widget,_extends({},e,{openPopupFunc:this._openPopup,closePopupFunc:this._closePopup,conversations:this.state.conversations,unreadCount:this.state.unreadCount,hideLabel:0<this.state.notificationCount,appContext:this.state.appContext,enableBrowserTabAlerting:this.props.enableBrowserTabAlerting}))}return null},getPopup:function(){if(!this.state.popup)return null;var e=[],t=$jq.extend({},this.props.popupOpts||{},this.state.popup);return e.push(React.createElement(Reamaze.Shoutbox,{popupOptions:t,ping:this.state.ping,conversations:this.state.conversations,conversationsFetched:this.state.conversationsFetched,enableKb:this.props.enableKb,currentUser:this.state.currentUser,closePopup:this._closePopup,key:"shoutbox",appContext:this.state.appContext,label:this.props.widgetOpts?this.props.widgetOpts.label:{}})),e},onNotify:function(e,t){this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[t]})},_openPopupTrigger:function(e,t){this._openPopup.apply(this,[t])},_openPopup:function(e){e=e||{},this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:e})},_closePopupTrigger:function(e){this._closePopup.apply(this,Array.prototype.slice.call(arguments).splice(1,arguments.length))},_closePopup:function(){this.state.appContext.shoutbox.open=!1,this.setState({appContext:this.state.appContext},function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&($jq("body").data("rmz-initial-pos")&&($jq("body").css({position:$jq("body").data("rmz-initial-pos")}),$jq("body").data("rmz-initial-pos",null)),$jq("body").data("rmz-initial-min-width")&&($jq("body").css({minWidth:$jq("body").data("rmz-initial-min-width")}),$jq("body").data("rmz-initial-min-width",null)),($jq("body").data("rmz-initial-scroll")||0===$jq("body").data("rmz-initial-scroll"))&&($jq("html").scrollTop($jq("body").data("rmz-initial-scroll")),$jq("body").data("rmz-initial-scroll",null)),($jq("body").data("rmz-initial-top")||0===$jq("body").data("rmz-initial-top"))&&($jq("body").css({top:$jq("body").data("rmz-initial-top")}),$jq("body").data("rmz-initial-top",null)),($jq("body").data("rmz-initial-left")||0===$jq("body").data("rmz-initial-left"))&&($jq("body").css({left:$jq("body").data("rmz-initial-left")}),$jq("body").data("rmz-initial-left",null)),($jq("body").data("rmz-initial-right")||0===$jq("body").data("rmz-initial-right"))&&($jq("body").css({right:$jq("body").data("rmz-initial-right")}),$jq("body").data("rmz-initial-right",null)),this.$metaNoZoom&&(this.$metaNoZoom.remove(),this.$metaNoZoom=null)),Reamaze.Analytics.track("Shoutbox Closed")}),$jq(window).trigger("Reamaze.popupClosed")},_escKeyHandler:function(e){27==e.which&&this._closePopup()},_handleNavigation:function(e,t){t._url&&"_popup"==t._name&&(Reamaze.localStorage.setItem("route","kb:index"),Reamaze.localStorage.setItem("routeParams",JSON.stringify({path:t._url})),this.state.appContext=Object.assign({},this.state.appContext,{routeParams:{path:t._url}}))},_resizeHandler:function(){this.state.appContext.fullScreen=window.innerWidth<=767&&!this.state.appContext._preview,this.setState({appContext:this.state.appContext})},_kbTooltipHandler:function(e){e.preventDefault();var t=$jq(e.target),n=t.data("kbUrl"),r=t.data("kbArticle"),i=t.data("kbTopic"),o=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored");if(i||r||n){var a,s=null;if(n){var p=(a=n).indexOf("#");-1!=p&&(s=a.substring(p),a=a.substring(0,p))}else a="/kb/"+(i||"articles")+(r?"/"+r:"");a&&(a+=(0<a.indexOf("?")?"&":"?")+"ts="+Date.now(),this._openPopup({anchor:o,route:"kb:show",routeParams:{path:a,anchor:s}}))}},_popupHandler:function(e){e.preventDefault();var t=$jq(e.currentTarget).data("reamaze-lightbox-title"),n=$jq(e.currentTarget).data("reamaze-lightbox-width")||550,r=$jq(e.currentTarget).data("reamaze-lightbox-height")||600,i=!!$jq(e.currentTarget).data("reamaze-lightbox-anchored"),o=$jq(e.currentTarget).data("reamaze-lightbox-contact-mode")||null,a=$jq(e.currentTarget).data("reamaze-lightbox-disable-chat")||!1,s=$jq(e.currentTarget).data("reamaze-lightbox-channel")||null,p=$jq(e.currentTarget).data("reamaze-lightbox-placeholder")||null,c=$jq(e.currentTarget).data("reamaze-lightbox-subject")||null,l=null;return $jq(e.currentTarget).data("reamaze-lightbox")&&"default"!=$jq(e.currentTarget).data("reamaze-lightbox")&&(l=$jq(e.currentTarget).data("reamaze-lightbox")),this._openPopup({anchor:i,title:t,width:n,height:r,mode:l,disableChat:a,contactMode:o,category:s,override_placeholder:p,subject:c}),!1},_popupTriggerHandler:function(e){return this._openPopup(),e.preventDefault(),!1},_getPusher:function(){if(!Reamaze.Pusher)throw"Pusher No Conflict Mode: Pusher not ready.";return this.pusher||(this.pusher=new Reamaze.Pusher(this.props.pusherAppKey,{authTransport:"buffered",authDelay:200,authEndpoint:this.props.baseUrl+"/data/pusher/buffered_auth",encrypted:!0,activityTimeout:6e4,pongTimeout:15e3,auth:function(e){var t={params:{}};return t.params.ssos=$jq.param(e.ssoData()),t.params.url=window.location.href,t}.bind(this,this.state.currentUser)})),this.pusher},_restoreState:function(){if(!this.state.appContext._preview){var e=JSON.parse(Reamaze.localStorage.getItem("messageTemplate.lastAction")||"{}"),t=!1;Object.keys(e).length&&-1<e.name.indexOf("article")&&(t=!!e.timestamp&&Date.now()-parseInt(e.timestamp)<1e4);var n,r,i=Reamaze.localStorage.getItem("route"),o=Reamaze.localStorage.getItem("popup.minimized")||this.state.appContext.fullScreen||t;try{n=JSON.parse(Reamaze.localStorage.getItem("routeParams"))||{}}catch(a){n=null}try{r=JSON.parse(Reamaze.localStorage.getItem("messagePrompts.state"))||{}}catch(a){r={}}"conversations:new"==i||"conversations:index"==i||"hub:index"==i?(i=null,n={}):"kb:index"!=i||"kb"==this.props.popupOpts.mode||n||(i="conversations:new",n={}),this.state=_route(this.state,i,n),this.setState({appContext:this.state.appContext,messagePrompts:r},function(){if(this.state.appContext.route?this._openPopup({minimized:!!o}):this.state.currentUser.isIdentified()&&this.setTimeout(function(){this._openPopup({minimized:!this.state.appContext.shoutbox.open})}.bind(this),6e4*Math.random()+3e3),this.refs.notifications){var e=this.getNotifications();e&&0<e.length&&this.state.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:e})}}.bind(this))}},getNotifications:function(){var notifications=[],outboundConversations=this.state.outboundConversations.getOutboundConversations();return(this.state.messagePrompts&&0!=Object.keys(this.state.messagePrompts).length||0!=Object.keys(outboundConversations).length)&&(Object.keys(this.state.messagePrompts).forEach(function(e){var t=this.notificationFromMessagePrompt(this.state.messagePrompts[e]);t&&notifications.push(t)}.bind(this)),Object.keys(outboundConversations).forEach(function(k){var notification=outboundConversations[k];notification.onClickScript?notification.onClick=function(){eval(notification.onClickScript)}:notification.onClick=function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.OPEN_POPUP,payload:{route:"conversations:show",routeParams:{slug:this.state.outboundConversations.getConversation(notification.id).slug}}})}.bind(this),notification.sound=!1,notifications.push(notification)}.bind(this))),notifications},notificationFromMessagePrompt:function(e){if(e.user.displayAsStaff){var t=document.createElement("div");t.innerHTML=e.body;var n=t.textContent||t.innerText||"";return{id:"c-"+e.conversation.id,message:n,size:"preview",user:{avatarUrls:[e.user.avatarUrl],name:e.user.name},timestamp:new Date(e.createdAt).getTime(),type:"message",sound:!1,onClick:function(){this.state.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.VIEW_CONVERSATION,payload:{slug:e.conversation.slug}})}.bind(this)}}},render:function(){var e={};return this.props.widgetOpts&&this.props.widgetOpts.position?(this.props.widgetOpts.position.top?e.top=parseInt(this.props.widgetOpts.position.top,10)+parseInt(this.props.widgetOpts.size,10):this.props.widgetOpts.position.bottom&&(e.bottom=parseInt(this.props.widgetOpts.position.bottom,10)+parseInt(this.props.widgetOpts.size,10)),this.props.widgetOpts.position.left?e.left=this.props.widgetOpts.position.left:this.props.widgetOpts.position.right&&(e.right=this.props.widgetOpts.position.right)):e={bottom:20,right:20},React.createElement("div",{id:"reamaze-widget-container",style:{font:this.props.font,display:this.state.hide?"none":"block"}},this.audioSupported&&React.createElement("audio",{ref:"newMessageSound",preload:"none"},React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.mp3",type:"audio/mpeg"}),React.createElement("source",{src:"https://"+this.props.cdnDomain+"/audio/snapup.ogg",type:"audio/ogg"})),!!Reamaze.Pusher&&!(this.state.appContext.fullScreen&&0<this.state.notificationCount)&&this.getWidget(),!!Reamaze.Pusher&&this.getPopup(),React.createElement(Reamaze.Notifications.App,{anchor:e,playSound:this.playSound,updateNotificationCount:function(e){this.setState({notificationCount:e})}.bind(this),ref:"notifications",appContext:this.state.appContext,outboundConversations:this.state.outboundConversations}),this.props.pushNotifications&&React.createElement(Reamaze.PushAgent,{subscribed:!0===this.props.pushNotifications||1==this.props.pushNotifications.subscribed||"undefined"==typeof this.props.pushNotifications.subscribed,appContext:this.state.appContext,currentUser:this.state.currentUser,customVapidToken:"object"==typeof this.props.pushNotifications&&null!==this.props.pushNotifications?this.props.pushNotifications.customVapidToken:undefined}),React.createElement(Reamaze.Outbounds.App,{currentUser:this.props.currentUser,outbounds:this.state.outbounds||[],outboundConversations:this.state.outboundConversations,appContext:this.state.appContext}),React.createElement(Reamaze.Live.App,{currentUser:this.state.currentUser,appContext:this.state.appContext}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,t,n,r){e.namespace("Reamaze"),Reamaze.RectSpinner=n({displayName:"Reamaze.RectSpinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return t.createElement("div",{style:e},this.getStyleTag(),t.createElement("div",{className:"reamaze-rect-spinner"}," "))},getStyleTag:function(){return t.createElement("style",null,"\n          .reamaze-rect-spinner,\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            background: "+this.props.xColor+";\n            -webkit-animation: load1 1s infinite ease-in-out;\n            animation: load1 1s infinite ease-in-out;\n            width: "+parseInt(this.props.style.width)/4+"px;\n            height: "+.8*parseInt(this.props.style.height)+"px;\n          }\n          .reamaze-rect-spinner {\n            color: "+this.props.xColor+";\n            text-indent: -9999em;\n            margin: 0;\n            position: relative;\n            font-size: 11px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n            -webkit-animation-delay: -0.16s;\n            animation-delay: -0.16s;\n          }\n          .reamaze-rect-spinner:before,\n          .reamaze-rect-spinner:after {\n            position: absolute;\n            top: 0;\n            content: '';\n          }\n          .reamaze-rect-spinner:before {\n            left: -"+parseInt(this.props.style.width)/2.5+"px;\n            -webkit-animation-delay: -0.32s;\n            animation-delay: -0.32s;\n          }\n          .reamaze-rect-spinner:after {\n            left: "+parseInt(this.props.style.width)/2.5+"px;\n          }\n          @-webkit-keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px;\n            }\n          }\n          @keyframes load1 {\n            0%,\n            80%,\n            100% {\n              box-shadow: 0 0;\n              height: "+.8*parseInt(this.props.style.height)+"px;\n            }\n            40% {\n              box-shadow: 0 -"+parseInt(this.props.style.height)/3.3+"px;\n              height: "+parseInt(this.props.style.height)+"px\n            }\n          }\n\n        ")}})}(jQuery,React,createReactClass,PropTypes);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},reamaze,_support;!function(t,i,e,n){t.namespace("Reamaze");ReactTransitionGroup.CSSTransitionGroup;Reamaze.Shoutbox=e({displayName:"Reamaze.Shoutbox",propTypes:{ping:n.object,conversations:n.object,conversationsFetched:n.bool,enableKb:n.bool,currentUser:n.object,closePopup:n.func,popupOptions:n.shape({zIndex:n.number,width:n.oneOfType([n.string,n.number]),height:n.oneOfType([n.string,n.number]),xColor:n.string,anchor:n.any,mode:n.string,supportsFullScreen:n.bool,disableChat:n.bool,category:n.string,contactMode:n.string}),label:n.object,appContext:n.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{appMounted:!this.props.popupOptions.anchor}},getApps:function(){return this.props.appContext.route?[i.createElement(Reamaze.Hub.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("hub:")&&!this.props.popupOptions.path,key:"hub",contactHeader:this.props.popupOptions.title,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched}),i.createElement(Reamaze.Conversations.App,{chatIsLive:!(this.props.popupOptions.disableChat||!this.props.appContext.chatIsLive),contactMode:this.props.popupOptions.contactMode||this.props.appContext.contactMode,enableKb:this.props.enableKb,currentUser:this.props.currentUser,onAppMounted:this.onAppMounted,active:0===this.props.appContext.route.indexOf("conversations:")&&!this.props.popupOptions.path,key:"conversations",contactHeader:this.props.popupOptions.title,conversations:this.props.conversations,conversationsFetched:this.props.conversationsFetched,category:this.props.popupOptions.category,appContext:this.props.appContext,label:this.props.label||{},popupOptions:this.props.popupOptions||{}}),i.createElement(Reamaze.KB.App,{enableKb:this.props.enableKb,currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("kb:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"kb",conversations:this.props.conversations,appContext:this.props.appContext}),i.createElement(Reamaze.Status.App,{currentUser:this.props.currentUser,active:0===this.props.appContext.route.indexOf("status:")||!!this.props.popupOptions.path,onAppMounted:this.onAppMounted,popupOptions:this.props.popupOptions,key:"status",conversations:this.props.conversations,appContext:this.props.appContext})]:null},onAppMounted:function(){this.setState({appMounted:!0})},render:function(){var e=this.getApps(),t=this.props.popupOptions,n=t.height,r=_objectWithoutProperties(t,["height"]);return n||(n=650),e?i.createElement("div",null,i.createElement("style",null,"\n              .rmz-shoutbox-popup-container .rmz-shoutbox-frame-container {\n                opacity: 0;\n                -webkit-transition: opacity 200ms ease-in;\n                -moz-transition: opacity 200ms ease-in;\n                -o-transition: opacity 200ms ease-in;\n                -ms-transition: opacity 200ms ease-in;\n                transition: opacity 200ms ease-in;\n              }\n            "),i.createElement("div",{className:"rmz-shoutbox-popup-container"},i.createElement(Reamaze.Popup.Popup,_extends({key:"popup",ref:"popup"},r,{maxHeight:n,height:n,minHeight:200,appContext:this.props.appContext}),!this.state.appMounted&&i.createElement(Reamaze.Popup.Spinner,{ref:"popupSpinner",xColor:this.props.appContext.brand.styles.widgetColor}),i.createElement(Reamaze.Popup.BrandedFrame,{ping:this.props.ping,hidden:!this.state.appMounted,closePopup:this.props.closePopup,appContext:this.props.appContext},i.createElement(Reamaze.ShoutboxInit,{closePopup:this.props.closePopup,appContext:this.props.appContext}),e),i.createElement(Reamaze.Popup.CloseX,{ref:"popupCloseX",onClick:this.props.closePopup,color:this.props.appContext.brand.styles.headerFontColor,fontSize:"25px",height:"50px",width:"64px",textAlign:"right",padding:"18px 12px 12px 12px",top:"0",right:"5px"})))):null}}),Reamaze.ShoutboxInit=e({displayName:"Reamaze.ShoutboxInit",contextTypes:{window:n.object},componentDidMount:function(){t(this.context.window).on("keyup",this.keyHandler)},keyHandler:function(e){t(e.target).is(":input")||27==e.which&&this.props.closePopup()},render:function(){var e=this.props.appContext.fullScreen?"36px":"52px",t=this.props.appContext.brand.styles,n=Reamaze.Utils.pSBC(.95,t.headerBgColor)||"#fafafa";Reamaze.Utils.pSBC(.55,t.headerBgColor);return i.createElement("style",null,"\n        #header .nav-c {\n          display: table-cell;\n          vertical-align: top;\n          text-align: center;\n        }\n        #header .nav-c-l, #header .nav-c-r {\n          width: 35px;\n        }\n        #header #secondary-header {\n          text-align: center;\n          font-size: "+(this.props.appContext.fullScreen?"0.9em":"1em")+";\n          margin: 1em 1em 0 1em;\n        }\n        #header #secondary-header .staff-avatars {\n          margin-bottom: 0.8em;\n          height: "+e+";\n        }\n        #header .staff-avatars {\n          height: "+e+";\n        }\n        #header #secondary-header .staff-avatars img,\n        #header .staff-avatars img {\n          width: "+e+";\n          height: "+e+";\n          border-radius: "+e+";\n          margin-left: -10px;\n          background: #fff;\n          border: 1px solid #fff;\n          display: inline-block;\n          color: #0000;\n        }\n        #header #secondary-header .staff-avatars img:first-child {\n          margin-left: 0;\n        }\n        #header #secondary-header .availability {\n          font-size: 0.9em;\n        }\n        #header #secondary-header a {\n          margin: 0 15px;\n        }\n        #secondary-header #misc-channels,\n        #secondary-header #chat-actions {\n          margin: 0.8em 2em 0 2em;\n          padding-top: 0.8em;\n          border-top: 1px solid rgba(255,255,255,0.5);\n        }\n        @media screen and (max-width: 480px) {\n          #secondary-header #misc-channels,\n          #secondary-header #chat-actions {\n            margin: 0.8em 0 0 0;\n          }\n        }\n        #secondary-header #misc-channels a {\n          margin: 0 15px;\n          display: inline-block;\n          font-size: 1.4em;\n        }\n        #secondary-header #misc-channels.misc-channels-smaller a {\n          margin: 0 10px;\n          display: inline-block;\n          font-size: 1.1em;\n        }\n        .rmz-fade {\n          transition: opacity 250ms ease-in;\n          opacity: 0.01\n        }\n        .rmz-fade.in {\n          opacity: 1;\n        }\n\n        .card:last-child {\n          margin-bottom: 0;\n        }\n        .card {\n          margin: 0 20px 20px 20px;\n          padding: 15px 20px;\n          box-shadow: 0 3px 20px 0 rgba(0,0,0,.07), 0 0px 1px 0 rgba(0,0,0,.2);\n          background: "+n+";\n          border-radius: 0 5px;\n          overflow: hidden;\n          border-bottom: 1px solid "+t.headerBgColor+";\n        }\n        .card .card-header {\n          font-weight: bold;\n          color: #666;\n          margin-bottom: 10px;\n        }\n        .card .card-body {\n          position: relative;\n        }\n        .card .card-body.full {\n          margin: 0 -20px;\n        }\n        .card .card-footer {\n          margin-top: 10px;\n        }\n        .card input, .card textarea {\n          background: #fff;\n          padding: 0 10px;\n          width: 100%;\n          opacity: 0.6;\n          transition: opacity 250ms linear;\n        }\n        .card input:focus, .card textarea:focus {\n          opacity: 1;\n        }\n      ")}})}(jQuery,React,createReactClass,PropTypes),function(e,n,t,r){e.namespace("Reamaze"),Reamaze.Spinner=t({displayName:"Reamaze.Spinner",propTypes:{xColor:r.string,style:r.object},getDefaultProps:function(){return{xColor:"#bbb",style:{height:"30px",width:"30px"}}},shouldComponentUpdate:function(){return!1},render:function(){var e=this.props.style||{};return e.position="relative",n.createElement("div",{style:e},this.getStyleTag(),n.createElement("div",{className:"reamaze-spinner"}," "))},getStyleTag:function(){var e=this.props.bgColor||"white",t=this.props.xColor;return n.createElement("style",null,"\n          .reamaze-spinner,\n          .reamaze-spinner:before,\n          .reamaze-spinner:after {\n            border-radius: 50%;\n          }\n          .reamaze-spinner {\n            color: "+t+";\n            font-size: 11px;\n            position: relative;\n            width: 30px;\n            height: 30px;\n            box-shadow: inset 0 0 0 2px;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n          }\n          .reamaze-spinner:before,\n          .reamaze-spinner:after {\n            position: absolute;\n            content: '';\n          }\n          .reamaze-spinner:before {\n            width: 14px;\n            height: 30px;\n            background: "+e+";\n            border-radius: 30px 0 0 30px;\n            top: 0;\n            left: 0;\n            -webkit-transform-origin: 15px 15px;\n            transform-origin: 15px 15px;\n            -webkit-animation: load2 2s infinite ease 1.5s;\n            animation: load2 2s infinite ease 1.5s;\n          }\n          .reamaze-spinner:after {\n            width: 16px;\n            height: 30px;\n            background: "+e+";\n            border-radius: 0 30px 30px 0;\n            top: 0;\n            left: 15px;\n            -webkit-transform-origin: 0px 15px;\n            transform-origin: 0px 15px;\n            -webkit-animation: load2 2s infinite ease;\n            animation: load2 2s infinite ease;\n          }\n          @-webkit-keyframes load2 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n          @keyframes load2 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n        ")}})}(jQuery,React,createReactClass,PropTypes),function(e,d,t,n){e.namespace("Reamaze.Widget"),Reamaze.Widget.Widget=t({displayName:"Reamaze.Widget.Widget",mixins:[TimerMixin],propTypes:{img:n.string,icon:n.string,size:n.oneOfType([n.string,n.number]),label:n.any,position:n.object.isRequired,color:n.string,iconColor:n.string,zindex:n.number,openPopupFunc:n.func,closePopupFunc:n.func,unreadCount:n.number,hideLabel:n.bool,appContext:n.object.isRequired,conversations:n.object,enableBrowserTabAlerting:n.bool},getDefaultProps:function(){return{icon:"reamaze",color:Reamaze.Styles["default"].widgetColor,iconColor:Reamaze.Styles["default"].widgetIconColor,zindex:2147483647,unreadCount:0}},previousDocumentTitle:null,interval:null,getInitialState:function(){var e=this.props.label&&this.props.label.mode?this.props.label.mode:"prompt-3";return{unreadCount:this.props.unreadCount,hideLabel:this.props.hideLabel||-1!==e.indexOf("prompt")&&!!Reamaze.sessionStorage.getItem("seenLabel")&&!this.props.appContext._preview,hideWhoop:!!Reamaze.sessionStorage.getItem("hideWhoop"),latestMessageId:null}},componentWillReceiveProps:function(e){var t={unreadCount:e.unreadCount||0};!this.props.hideLabel&&e.hideLabel&&(t.hideLabel=!0,Reamaze.sessionStorage.setItem("seenLabel","true")),this.setState(t)},componentDidMount:function(){this.previousDocumentTitle=document.title,this.props.label&&"object"==typeof this.props.label&&"notification"==this.props.label.mode&&this.props.label.text&&this.setTimeout(function(){var e=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces);this.props.appContext.dispatcher.dispatch({type:Reamaze.Notifications.ACTIONS.CREATE_NOTIFICATIONS,payload:[{id:"rmz-label",user:this.props.appContext.brand&&this.props.appContext.brand.name?{name:this.props.appContext.brand.name,avatarUrls:e.map(function(e){return e.avatarUrl})}:null,sound:!!this.props.label.sound,message:this.props.label.text,onClick:function(){this.props.openPopupFunc(),Reamaze.Analytics.track("Shoutbox Prompt Clicked",this.props.label.text)}.bind(this),size:"small","transient":!0,duration:this.props.label.duration}]})}.bind(this),1e3*(this.props.label.delay||0)),this.props.hideLabel&&Reamaze.sessionStorage.setItem("seenLabel","true")},componentDidUpdate:function(e,t){var n=this.getLatestUnreadMessage(),r=!!n&&n.id!=this.state.latestMessageId;if(this.props.enableBrowserTabAlerting&&(t.unreadCount!=this.state.unreadCount||r)&&this.previousDocumentTitle)if(0<this.state.unreadCount){var i="("+this.state.unreadCount+") - "+this.previousDocumentTitle;if(n){var o=document.createElement("span");o.innerHTML=n.body,i=(i="("+this.state.unreadCount+") - "+(o.textContent||o.innerText)).trim().replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/g," ")}this.interval&&this.clearInterval(this.interval);var a=this.setInterval(function(){document.title==i?document.title=this.previousDocumentTitle:document.title=i}.bind(this),2e3);this.interval=a,n&&this.setState({latestMessageId:n.id})}else this.interval&&(document.title=this.previousDocumentTitle,clearInterval(this.interval))},getLatestUnreadMessage:function(){var t=null;return this.props.conversations&&Object.keys(this.props.conversations).forEach(function(e){this.props.conversations[e].unread&&this.props.conversations[e].messages&&this.props.conversations[e].messages.forEach(function(e){(!t||e&&Date.parse(e.createdAt)>Date.parse(t.createdAt))&&(t=e)}.bind(this))}.bind(this)),t},render:function(){var e;if(this.props.appContext.shoutbox.open)e=d.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},d.createElement("g",{transform:"scale("+this.props.size/30+")"},d.createElement("path",{style:{stroke:this.props.iconColor,fill:"rgba(0,0,0,0)",strokeWidth:1},d:"M 10,10 L 20,20 M 20,10 L 10,20"})));else if(this.props.img)e=d.createElement("img",{src:this.props.img,alt:"Chat Button"});else{e=d.createElement("svg",null);var t="M17.328,24.371h-2.707v-2.596h2.707V24.371zM17.328,19.003v0.858h-2.707v-1.057c0-3.19,3.63-3.696,3.63-5.963c0-1.034-0.924-1.826-2.134-1.826c-1.254,0-2.354,0.924-2.354,0.924l-1.541-1.915c0,0,1.519-1.584,4.137-1.584c2.487,0,4.796,1.54,4.796,4.136C21.156,16.208,17.328,16.627,17.328,19.003z",n="M15.985,5.972c-7.563,0-13.695,4.077-13.695,9.106c0,2.877,2.013,5.44,5.147,7.108c-0.446,1.479-1.336,3.117-3.056,4.566c0,0,4.015-0.266,6.851-3.143c0.163,0.04,0.332,0.07,0.497,0.107c-0.155-0.462-0.246-0.943-0.246-1.443c0-3.393,3.776-6.05,8.599-6.05c3.464,0,6.379,1.376,7.751,3.406c1.168-1.34,1.847-2.892,1.847-4.552C29.68,10.049,23.548,5.972,15.985,5.972zM27.68,22.274c0-2.79-3.401-5.053-7.599-5.053c-4.196,0-7.599,2.263-7.599,5.053c0,2.791,3.403,5.053,7.599,5.053c0.929,0,1.814-0.116,2.637-0.319c1.573,1.597,3.801,1.744,3.801,1.744c-0.954-0.804-1.447-1.713-1.695-2.534C26.562,25.293,27.68,23.871,27.68,22.274z";if("help"==this.props.icon)e=d.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},d.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},d.createElement("path",{fill:this.props.iconColor,style:{fill:this.props.iconColor},d:t})));else if("chat"==this.props.icon)e=d.createElement("svg",{width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"}},d.createElement("g",{transform:"scale("+this.props.size/36+") translate(2, 2)"},d.createElement("g",{transform:"scale(0.75) translate(5.625, 5.625)"},d.createElement("path",{fill:this.props.iconColor,style:{fill:this.props.iconColor},d:n}))));else{var r="rmz-svg-a",i="url('"+window.location.href.split("#")[0]+"#"+r+"')";e=d.createElement("svg",{
width:this.props.size,height:this.props.size,style:{width:this.props.size+"px",height:this.props.size+"px"},viewBox:"0 0 1500 1500"},d.createElement("defs",null,d.createElement("filter",{id:r,colorInterpolationFilters:"sRGB"},d.createElement("feFlood",{floodColor:"rgb(0,0,0)",floodOpacity:".078431",result:"flood"}),d.createElement("feComposite",{"in":"flood",in2:"SourceGraphic",operator:"in",result:"composite1"}),d.createElement("feGaussianBlur",{"in":"composite1",result:"blur"}),d.createElement("feOffset",{dx:"0",dy:"100",result:"offset"}),d.createElement("feComposite",{"in":"SourceGraphic",in2:"offset",result:"composite2"}))),d.createElement("g",{transform:"scale(0.69) translate(310, 420) matrix(1.25,0,0,-1.25,0,1500)",fill:this.props.iconColor},d.createElement("path",{transform:"matrix(.8 0 0 -.8 0 1200)",d:"m200.99 120.33c0 506.74 136.92 826.31 603.08 826.31 340.98 0 560.73 133.73 560.73 370.28 0 2.7488-1.1973-337.77-1.1973-665.21 0-378.91-246.9-531.38-721.76-531.38-169.36 0-433.51-0.0125-440.86 0zm348.26 281.17h499.32c21.899 0 39.529 17.63 39.529 39.529v39.529c0 21.899-17.63 39.527-39.529 39.527h-499.32c-21.899 0-39.529-17.628-39.529-39.527v-39.529c0-21.899 17.63-39.529 39.529-39.529zm68.633 190.29h436.95c18.468 0 33.336 14.868 33.336 33.336v43.738c0 18.468-14.868 33.336-33.336 33.336h-436.95c-18.468 0-33.336-14.868-33.336-33.336v-43.738c0-18.468 14.868-33.336 33.336-33.336z",filter:i}),d.createElement("path",{transform:"matrix(1 0 0 -1 -43.403 681.12)",d:"m612.5 346.19c-297.15 0-461.08-216.47-461.08-471.36-0.4161 61.018 1.6005 269.08 1.6005 269.08 0 163.78 118.75 379.67 461.33 379.67 109.55 0 142.69-0.9614 407.33-0.9614 0-110.17-118.67-176.43-409.18-176.43z",fillOpacity:".6",filter:i})))}}var o=!1;if(!this.state.hideWhoop){var a=!0;this.props.label&&"default"!==this.props.label.mode&&"notification"!==this.props.label.mode&&0===parseInt(this.props.label.delay||0,10)&&(a=!1),o=a&&null!==Reamaze.sessionStorage.setItem("hideWhoop","1")}var s=this.getStyleTag(o),p=this.getStyles(),c=this.props.label,l="rmz-chat-bubble";this.props.label&&"object"==typeof this.props.label&&("default"==this.props.label.mode?(c=this.props.label.text,l="rmz-static"):(c=null,"notification"==this.props.label.mode&&(l="rmz-notification")));var u=d.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:c}});return d.createElement("span",{onClick:this._triggerPopup},d.createElement("div",{id:"reamaze-widget",style:p.widget,className:"whoop "+l+" "+(this.props.img?"rmz-custom":"")},s,d.createElement("span",{id:"reamaze-widget-icon"},e),"rmz-static"==l&&d.createElement("span",{id:"reamaze-widget-label-container"},d.createElement("div",{id:"reamaze-widget-label"},u)),0<this.state.unreadCount&&d.createElement("span",{style:p.unreadPill,onClick:this._triggerPopup},99<this.state.unreadCount?"99+":this.state.unreadCount)),"rmz-chat-bubble"==l&&this.props.label&&!this.state.hideLabel&&d.createElement("div",{style:{zIndex:this.props.zindex,position:"relative",cursor:"pointer"}},d.createElement(Reamaze.Widget.Label,{size:this.props.size,label:this.props.label,position:this.props.position,color:this.props.color,iconColor:this.props.iconColor})))},getStyleTag:function(e){var t=Math.min(this.props.size/2,16)+"px",n="\n        #reamaze-widget:hover {\n          opacity: 1;\n          transform: translate3d(0, -4px, 0);\n          box-shadow: 0 2px 0px rgba(0,0,0,.09),0 4px 10px rgba(0,0,0,.24) !important;\n        }\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n\n        .rmz-label-text {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+t+";\n          line-height: "+this.props.size+"px;\n        }\n\n        #reamaze-widget-label {\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+t+";\n          margin-right: 0;\n        }\n        #reamaze-widget-icon img {\n          width: 100%;\n          height: 100%;\n          background: transparent;\n          opacity: 1;\n          display: inline-block;\n        }\n        #reamaze-widget #reamaze-widget-icon {\n          display: block;\n          overflow: hidden;\n          width: "+this.props.size+"px;\n          height: "+this.props.size+"px;\n          border-radius: "+this.props.size+"px;\n        }\n        #reamaze-widget.rmz-static {\n          max-width: calc(100vw - 40px);\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          display: flex;\n        }\n        #reamaze-widget.rmz-custom.rmz-static #reamaze-widget-icon {\n          margin-right: 10px;\n        }\n        #reamaze-widget.rmz-static #reamaze-widget-icon {\n          display: inline-block;\n          border-radius: "+this.props.size+"px;\n          -webkit-flex-shrink: 0;\n          -moz-flex-shrink: 0;\n          -ms-flex: 0 1 auto;\n          flex-shrink: 0;\n        }\n        #reamaze-widget.rmz-static .rmz-label-text {\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n        #reamaze-widget.rmz-static #rmz-widget-label {\n          display: block;\n        }\n      ";if(e){var r=function(e){return"            -webkit-transform: scale("+e+");            transform: scale("+e+");          "},i=function(e){return"            -moz-animation: "+e+";            -webkit-animation: "+e+";            animation: "+e+";          "},o=function(e,t){return"            @-moz-keyframes "+e+" {"+t+"}            @-webkit-keyframes "+e+" {"+t+"}            @keyframes "+e+" {"+t+"}          "},a="          0% {"+r(0)+"}          50% {"+r(1.3)+"}          100% {"+r(1)+"}        ",s="          0% { opacity: 0; }          40% { opacity: 0; }          100% { opacity: 1; }        ";n+="          .whoop { "+i("0.4s whoop 0s")+"}          .whoop #reamaze-widget-icon { "+i("0.6s toothpaste 0s")+"}        ",n+=o("whoop",a)+o("toothpaste",s)}return d.createElement("style",{dangerouslySetInnerHTML:{__html:n}})},getStyles:function(){var e=this.props.color;this.props.gradient&&(e="linear-gradient(135deg, "+e+" 0%, "+(Reamaze.Utils.pSBC(.3,e)||e)+" 100%)");var t={widget:{position:"fixed",height:this.props.size+"px",cursor:"pointer",opacity:.95,zIndex:this.props.zindex,background:e,borderRadius:this.props.size+"px",boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.2)",perspective:"1000px",backfaceVisibility:"hidden",transition:"all 0.2s ease-in-out"},unreadPill:{position:"absolute",top:"-5px",right:"-5px",padding:"5px 7px 4px",minWidth:"12px",borderRadius:"20px",fontSize:"11px",lineHeight:"11px",textAlign:"center",backgroundColor:"#F00",fontFamily:"Nunito, Helvetica, Arial, sans-serif",color:"#fdfdfd",boxShadow:"0 0 1px #b00"}};for(var n in this.props.position)t.widget[n]=this.props.position[n];return t},_triggerPopup:function(){this.props.label&&(-1!==(this.props.label.mode?this.props.label.mode:"prompt-3").indexOf("prompt")&&this.setState({hideLabel:!0}));if(this.props.appContext.shoutbox.open)this.props.closePopupFunc(e);else{var e={source:"widget"};Reamaze.Analytics.track("Shoutbox Trigger Clicked"),this.props.openPopupFunc(e)}}})}(jQuery,React,createReactClass,PropTypes),function(e,s,t,n){var p=ReactTransitionGroup.CSSTransitionGroup;Reamaze.Widget.Label=t({displayName:"Reamaze.Widget.Label",mixins:[TimerMixin],propTypes:{size:n.number,position:n.object,label:n.shape({text:n.string,mode:n.oneOf(["default","slideout","fadein","prompt-1","prompt-2","prompt-3"]),delay:n.number,duration:n.number}),color:n.string,iconColor:n.string},getInitialState:function(){return{visible:!1}},componentDidMount:function(){if(this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.delay,10)),0<e?this.setTimeout(function(){this.isMounted()&&this.showLabel()}.bind(this),1e3*e):this.showLabel()}},componentDidUpdate:function(e,t){!t.visible&&this.state.visible&&Reamaze.Analytics.track("Shoutbox Prompt Shown",this.props.label.text,undefined,!0)},render:function(){if(this.props.label){var e=this.getStyleTag(),t=this.props.label.text,n=this.props.label.mode?this.props.label.mode:"prompt-3",r="rmz-label-"+n,i=r;this.state.hover&&(i+=" rmz-hover");var o=s.createElement("div",{className:"rmz-label-text",dangerouslySetInnerHTML:{__html:t}}),a=null;return this.state.visible&&t&&(a=s.createElement("span",{key:"label",id:"reamaze-widget-label",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,className:i},-1!==n.indexOf("prompt")&&s.createElement("span",{className:"rmz-closeX",onClick:this.hideLabel},String.fromCharCode(215)),o)),s.createElement("span",{id:"reamaze-widget-label-container"},e,s.createElement(p,{transitionName:r,transitionEnterTimeout:750,transitionLeaveTimeout:750},a))}return null},getStyleTag:function(){var e=Math.min(this.props.size/2,16)+"px",t={__html:"\n        #reamaze-widget-label-container {\n          overflow: hidden;\n        }\n        #reamaze-widget-label {\n          color: "+this.props.iconColor+';\n          font-family: "Nunito", Helvetica, Arial, sans-serif;\n          font-size: '+e+";\n          line-height: "+this.props.size+"px;\n          vertical-align: top;\n          display: inline-block;\n          padding-right: "+e+";\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter {\n          float: right;\n          margin-right: -1000px;\n          -webkit-transition: margin-right 0.75s ease-out;\n          -moz-transition: margin-right 0.75s ease-out;\n          -o-transition: margin-right 0.75s ease-out;\n          transition: margin-right 0.75s ease-out;\n        }\n        #reamaze-widget-label.rmz-label-slideout-enter-active {\n          margin-right: 0;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter {\n          opacity: 0;\n          -webkit-transition: opacity 0.75s;\n          -moz-transition: opacity 0.75s;\n          -o-transition: opacity 0.75s;\n          transition: opacity 0.75s;\n        }\n        #reamaze-widget-label.rmz-label-fadein-enter-active {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt] {\n          position: fixed;\n          background: "+this.props.color+";\n          padding: 10px 15px;\n          border-radius: 5px;\n          color: #fff;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          line-height: 1.5em;\n          -webkit-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -moz-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          -o-transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n          transition: bottom 0.4s, top 0.4s, opacity 0.75s;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt],\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter.rmz-label-prompt-2-enter-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+parseInt(this.props.size,10)+10)+"px;":"")+"\n          "+(this.props.position.left?"left: "+parseInt(this.props.position.left,10)+"px;":"")+"\n          "+(this.props.position.right?"right: "+parseInt(this.props.position.right,10)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt]:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 100%;\n          "+(this.props.position.left?"left":"right")+": 10px;\n          border-"+(this.props.position.top?"bottom":"top")+": 5px solid "+this.props.color+";\n          border-left: 5px solid transparent;\n          border-right: 5px solid transparent;\n        }\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-enter,\n        #reamaze-widget-label.rmz-label-prompt-2.rmz-label-prompt-2-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+this.props.size/2)+"px;":"")+"\n        }\n\n        #reamaze-widget-label .rmz-label-text {\n          line-height: 1.5em;\n          font-size: 14px;\n          color: #585858;\n        }\n\n        #reamaze-widget-label.rmz-label-prompt-3 {\n          position: fixed;\n          background: white;\n          padding: 10px 15px;\n          border-radius: 5px;\n          margin-"+(this.props.position.left?"right":"left")+": 15px;\n          -webkit-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -moz-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          -o-transition: left 0.4s, right 0.4s, opacity 0.75s;\n          transition: left 0.4s, right 0.4s, opacity 0.75s;\n          box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgb(195, 195, 195)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter.rmz-label-prompt-3-enter-active,\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-leave-active {\n          "+(this.props.position.bottom?"bottom: "+(parseInt(this.props.position.bottom,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.top?"top: "+(parseInt(this.props.position.top,10)+(this.props.size-44)/2)+"px;":"")+"\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+parseInt(this.props.size,10)+15)+"px;":"")+"\n        }\n        #reamaze-widget-label.rmz-label-prompt-3:after {\n          content: '';\n          position: absolute;\n          "+(this.props.position.top?"bottom":"top")+": 39%;\n          "+(this.props.position.left?"left":"right")+": -5px;\n          box-shadow: "+(this.props.position.left?"-1px -1px":"1px 1px")+" 0px #D6D6D6;\n          width: 10px;\n          height: 10px;\n          background: white;\n          border: none;\n          transform: rotate(-45deg)\n        }\n        #reamaze-widget-label.rmz-label-prompt-3.rmz-label-prompt-3-enter {\n          "+(this.props.position.left?"left: "+(parseInt(this.props.position.left,10)+this.props.size/2)+"px;":"")+"\n          "+(this.props.position.right?"right: "+(parseInt(this.props.position.right,10)+this.props.size/2)+"px;":"")+"\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter] {\n          opacity: 0;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=enter-active] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave] {\n          opacity: 1;\n        }\n        #reamaze-widget-label[class|=rmz-label-prompt][class$=leave-active] {\n          opacity: 0;\n        }\n        #reamaze-widget-label .rmz-closeX {\n          position: absolute;\n          width: 1em;\n          height: 1em;\n          line-height: 0.9;\n          font-size: 13px;\n          display: none;\n          top: -9px;\n          right: -9px;\n          text-align: center;\n          background: rgba(0, 0, 0, 0.5);\n          border-radius: 20px;\n          color: white;\n          padding: 3px;\n          box-sizing: content-box;\n        }\n        #reamaze-widget-label.rmz-hover .rmz-closeX {\n          display: block;\n        }\n      "};return s.createElement("style",{dangerouslySetInnerHTML:t})},mouseOver:function(){this.setState({hover:!0})},mouseOut:function(){this.setState({hover:!1})},showLabel:function(){this.setState({visible:!0},function(){if(Reamaze.sessionStorage.setItem("seenLabel","true"),this.props.label){var e=0;"object"==typeof this.props.label&&(e=parseInt(this.props.label.duration,10)),0<e&&this.setTimeout(function(){this.isMounted()&&this.hideLabel()}.bind(this),1e3*e)}}.bind(this))},hideLabel:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.setState({visible:!1})}})}(jQuery,React,createReactClass,PropTypes),function(e,n,t,r,i){e.namespace("Reamaze.Shared"),Reamaze.Shared.Card=r({mixins:[TimerMixin],displayName:"Reamaze.Shared.Card",propTypes:{appContext:i.object.isRequired,id:i.string.isRequired,loading:i.bool},contextTypes:{window:i.object},getDefaultProps:function(){return{}},render:function(){var e=this.props.appContext.brand.styles,t=Reamaze.Utils.pSBC(.95,e.headerBgColor)||"#fafafa";return n.createElement("div",{id:this.props.id,className:"card"},this.props.loading&&n.createElement(Reamaze.Spinner,{xColor:e.widgetColor,bgColor:t,style:{margin:"1em auto",width:"30px",transform:"scale(0.8)"}}),n.createElement("div",{style:{display:this.props.loading?"none":"block"}},this.props.children))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(e,a,t,n,r){e.namespace("Reamaze.Shared"),Reamaze.Shared.Header=n({mixins:[TimerMixin],displayName:"Reamaze.Shared.Header",propTypes:{enableKb:r.bool,appContext:r.object.isRequired,chatIsLive:r.bool,backButton:r.bool,onBackButtonClicked:r.func,header:r.any,secondaryHeader:r.any},contextTypes:{window:r.object},getDefaultProps:function(){return{header:!1,secondaryHeader:!1}},getHeader:function(){var e=!1!==this.props.header?this.props.header&&this.props.header:this.props.appContext.brand.preferences.trans_popup_header;return this.props.allowHtmlHeader&&"string"==typeof e?a.createElement("div",{id:"nav-c-header",dangerouslySetInnerHTML:{__html:e}}):a.createElement("div",{id:"nav-c-header"},e)},getSecondaryHeader:function(){if(!1!==this.props.secondaryHeader)return this.props.secondaryHeader&&a.createElement("div",{id:"secondary-header"},this.props.secondaryHeader);var e=this.props.appContext.brand.facebook.show_facebook_messenger||this.props.appContext.brand.facebook.show_facebook_page||this.props.appContext.brand.twitter||this.props.appContext.brand.instagram||this.props.appContext.brand.voice||this.props.appContext.brand.whatsapp||this.props.appContext.fullScreen&&this.props.appContext.brand.sms,t=this.props.enableKb&&this.props.appContext.brand.kb,n=0<this.props.appContext.brand.activeIncidents.length,r=!!e||t,i=[];r&&(this.props.appContext.brand.facebook.show_facebook_messenger&&i.push(a.createElement("a",{href:"https://m.me/"+this.props.appContext.brand.facebook.messenger_slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook Messenger"},a.createElement("i",{className:"fab rmzfa rmzfa-facebook-messenger"}))),this.props.appContext.brand.facebook.show_facebook_page&&i.push(a.createElement("a",{href:"https://facebook.com/"+this.props.appContext.brand.facebook.slug,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Facebook"),title:"Facebook"},a.createElement("i",{className:"fab rmzfa rmzfa-facebook"}))),this.props.appContext.brand.twitter&&i.push(a.createElement("a",{href:"https://www.twitter.com/"+this.props.appContext.brand.twitter,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Twitter"),title:"Twitter"},a.createElement("i",{className:"fab rmzfa rmzfa-twitter"}))),this.props.appContext.brand.instagram&&i.push(a.createElement("a",{href:"https://www.instagram.com/"+this.props.appContext.brand.instagram,target:"_blank",className:"anim-btn",onClick:this.onChannelClick.bind(this,"Instagram"),title:"Instagram"},a.createElement("i",{className:"fab rmzfa rmzfa-instagram"}))),this.props.appContext.brand.voice&&i.push(a.createElement("a",{href:"tel:"+this.props.appContext.brand.voice,className:"anim-btn",onClick:this.onChannelClick.bind(this,"Phone")},a.createElement("i",{className:"fas rmzfa rmzfa-phone",style:{fontSize:"0.9em"}}))),this.props.appContext.brand.sms&&this.props.appContext.fullScreen&&i.push(a.createElement("a",{href:"sms:"+this.props.appContext.brand.sms,className:"anim-btn",title:"SMS",onClick:this.onChannelClick.bind(this,"SMS")},a.createElement("i",{className:"fas rmzfa rmzfa-sms"}))),this.props.appContext.brand.whatsapp&&i.push(a.createElement("a",{href:"https://wa.me/"+this.props.appContext.brand.whatsapp.replace("+",""),className:"anim-btn",target:"_blank",onClick:this.onChannelClick.bind(this,"WhatsApp")},a.createElement("i",{className:"fab rmzfa rmzfa-whatsapp"}))),t&&i.push(a.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToKB,title:"FAQ"},a.createElement("i",{className:"fas rmzfa rmzfa-question-circle"}))),n&&i.push(a.createElement("a",{href:"javascript:void(0)",className:"anim-btn",onClick:this._goToStatusPage,title:"Status"},a.createElement("i",{className:"fas rmzfa rmzfa-exclamation-circle"}))));var o=Reamaze.Utils.getDisplayStaffAvatars(this.props.appContext.brand,this.props.appContext.faces);return a.createElement("div",{id:"secondary-header"},o.length&&a.createElement("div",{className:"staff-avatars"},o.map(function(e,t){return a.createElement("img",{key:t,title:e.name,src:e.avatarUrl,style:{position:"relative",zIndex:3-t}})}.bind(this))),a.createElement(Reamaze.Conversations.Availability,{chatIsLive:this.props.chatIsLive,brand:this.props.appContext.brand}),r&&a.createElement("div",{id:"misc-channels",className:"misc-channels-"+(6<i.length?"smaller":"larger")},i))},onChannelClick:function(e){Reamaze.Analytics.track("Channel Link Clicked",e)},_goToKB:function(){this.onChannelClick("FAQ"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"kb:index"}})},_goToStatusPage:function(){this.onChannelClick("Status Page"),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"status:index"}})},render:function(){return a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"15px",paddingRight:"15px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons",style:{position:"relative"}},this.props.backButton?[a.createElement("div",{key:"stub",style:{width:"35px",height:"1px"}}),a.createElement("div",{key:"hleft",style:{width:"35px",position:"absolute",top:0,bottom:0}},a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),this.props.onBackButtonClicked(e)}.bind(this),className:"anim-btn"},a.createElement("i",{className:"fas rmzfa rmzfa-chevron-left"})))]:a.createElement("div",{style:{width:"35px",height:"1px"}})),a.createElement("div",{className:"nav-c",style:{width:"100%"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"}))),this.getSecondaryHeader())}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(o,a,e,t,n){o.namespace("Reamaze.Status"),Reamaze.Status.App=t({propTypes:{enableKb:n.bool,currentUser:n.object,active:n.bool,popupOptions:n.object,onAppMounted:n.func,conversations:n.object,appContext:n.object.isRequired,chatIsLive:n.bool},contextTypes:{window:n.object},getDefaultProps:function(){return{}},getInitialState:function(){return{statusLoaded:!1}},onContactUsClicked:function(){this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"conversations:new",routeParams:{}}})},onHomeClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},onViewConversationHistoryClicked:function(e){e.preventDefault(),e.stopPropagation(),this.props.appContext.dispatcher.dispatch({type:Reamaze.ACTIONS.ROUTE,payload:{route:"hub:index",routeParams:{}}})},getPath:function(){return this.props.appContext.routeParams&&this.props.appContext.routeParams.path?this.props.appContext.routeParams.path:"/"},getHeader:function(){return a.createElement("div",{id:"nav-c-header"},this.props.appContext.brand.preferences.trans_status_header)},getContent:function(){var e,t=o.param({sso:this.props.currentUser.ssoData(),popup:1}),n=this.getPath();e=(n=n+(0<n.indexOf("?")?"&":"?")+t).match(/^http/)?n:this.props.appContext.baseUrl+"/status"+n;var r={width:"100%",height:"100%",overflowY:"hidden"},i={position:"relative"};return a.createElement("div",{style:r},!this.state.statusLoaded&&a.createElement(Reamaze.Popup.Spinner,{xColor:this.props.appContext.brand.styles.widgetColor}),a.createElement("iframe",{title:this.props.appContext.brand.preferences.trans_status_header,style:i,src:e,width:"100%",height:"100%",scrolling:"no",frameBorder:"0",allowtransparency:"true",allowFullScreen:"true",name:"_popup",onLoad:function(){this.setState({statusLoaded:!0})}.bind(this)}))},render:function(){if(!this.props.active)return null;var e={};return!1!==this.props.appContext.brand.attribution&&(e={boxShadow:"none",border:"none",paddingTop:"8px"}),a.createElement("div",{id:"content-container",ref:"contentContainer",className:"content-flex"},a.createElement("style",null,"\n          #content {\n            margin-right: 0;\n          }\n        "),a.createElement("div",{id:"header",ref:"header",style:{paddingLeft:"10px",paddingRight:"10px",position:"relative",zIndex:"1"}},a.createElement("div",{style:{display:"table",width:"100%"}},a.createElement("div",{style:{display:"table-row"}},a.createElement("div",{className:"nav-c nav-c-l",id:"nav-buttons"},a.createElement("div",null,function(){if(this.props.conversations&&0<Object.keys(this.props.conversations).length){var e=0;for(var t in this.props.conversations)this.props.conversations[t].unread&&e++;return a.createElement("a",{href:"javascript:;",className:"anim-btn",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onViewConversationHistoryClicked,title:this.props.appContext.brand.preferences.trans_contact_us_past_conversations},a.createElement("i",{className:"fas rmzfa rmzfa-comments",style:{fontSize:"17px",verticalAlign:"middle",marginTop:"-2px"}}),0<e&&a.createElement("span",{style:{verticalAlign:"middle",marginLeft:"4px",fontSize:"13px"}},e))}return a.createElement("a",{href:"javascript:;",style:{display:"block",width:"35px",textAlign:"left",height:"100%"},onClick:this.onHomeClicked},a.createElement("i",{className:"fas rmzfa rmzfa-bars",style:{fontSize:"17px",verticalAlign:"middle"}}))}.bind(this)())),a.createElement("div",{className:"nav-c",style:{width:"100%",fontSize:"1.1em"}},this.getHeader()),a.createElement("div",{className:"nav-c-r"})))),a.createElement("div",{id:"content",ref:"content",className:!1===this.props.appContext.brand.attribution?"":"attributed",style:{height:"100%",position:"relative",paddingBottom:!1===this.props.appContext.brand.attribution?"0":"26px"}},this.getContent(),a.createElement(Reamaze.Attribution,{appContext:this.props.appContext,link:!1,style:{textAlign:"center",padding:"8px 10px 0px 6px",position:"absolute",width:"100%",bottom:"0px",boxShadow:"0 5px 25px 0 rgba(0,0,0,0.05)",borderTop:"1px solid #f0f0f0",background:"#fff"}})),a.createElement(Reamaze.Conversations.NewConversationFooter,{ref:"footer",appContext:this.props.appContext,inView:this.props.active&&this.props.appContext.shoutbox.open,chatIsLive:this.props.chatIsLive,onSubmit:this.onNewMessageSubmit,buttonMode:!0,style:e,showConversationsCount:!0,conversationsCount:Object.keys(this.props.conversations).length,onConversationsCountClick:this.onViewConversationHistoryClicked,conversations:this.props.conversations}))}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),jQuery.extend(Reamaze,{Analytics:{track:function(n,r,i,o){var a="Reamaze";if("function"==typeof window.ga)r||(r=undefined),"number"!=typeof i&&(i=undefined),window.ga(function(e){var t=e;t||(t=window.ga.getAll()[0]),t&&t.send("event",a,n,r,i,{nonInteraction:!!o})});else if("function"==typeof window.gtag){var e={event_category:a,non_interaction:!!o};r&&(e.event_label=r),"number"==typeof i&&(e.event_value=i),window.gtag("event",n,e)}else window._gaq&&window._gaq.push&&("number"!=typeof i&&(i=undefined),window._gaq.push(["_trackEvent",a,n,r,i,!!o]));if(Reamaze._callbacks&&"function"==typeof Reamaze._callbacks.analytics_track_callback){var t={category:a,name:n,nonInteraction:!!o};r&&(t.label=r),"number"==typeof i&&(t.value=i),Reamaze._callbacks.analytics_track_callback(t)}}}}),jQuery(document).on("Reamaze.init",function(e,t){window.InstantClick&&t&&window.InstantClick.on("change",function(e){e||Reamaze&&Reamaze.reload&&Reamaze.reload()})}),jQuery.extend(Reamaze,{ec:function(e){function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,i,o){return u(a(u(u(t,e),u(r,o)),i),n)}function d(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function f(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function p(e,t){var n,r,i,o,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,p=-271733879,c=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)p=m(p=m(p=m(p=m(p=f(p=f(p=f(p=f(p=h(p=h(p=h(p=h(p=d(p=d(p=d(p=d(i=p,c=d(o=c,l=d(a=l,s=d(r=s,p,c,l,e[n],7,-680876936),p,c,e[n+1],12,-389564586),s,p,e[n+2],17,606105819),l,s,e[n+3],22,-1044525330),c=d(c,l=d(l,s=d(s,p,c,l,e[n+4],7,-176418897),p,c,e[n+5],12,1200080426),s,p,e[n+6],17,-1473231341),l,s,e[n+7],22,-45705983),c=d(c,l=d(l,s=d(s,p,c,l,e[n+8],7,1770035416),p,c,e[n+9],12,-1958414417),s,p,e[n+10],17,-42063),l,s,e[n+11],22,-1990404162),c=d(c,l=d(l,s=d(s,p,c,l,e[n+12],7,1804603682),p,c,e[n+13],12,-40341101),s,p,e[n+14],17,-1502002290),l,s,e[n+15],22,1236535329),c=h(c,l=h(l,s=h(s,p,c,l,e[n+1],5,-165796510),p,c,e[n+6],9,-1069501632),s,p,e[n+11],14,643717713),l,s,e[n],20,-373897302),c=h(c,l=h(l,s=h(s,p,c,l,e[n+5],5,-701558691),p,c,e[n+10],9,38016083),s,p,e[n+15],14,-660478335),l,s,e[n+4],20,-405537848),c=h(c,l=h(l,s=h(s,p,c,l,e[n+9],5,568446438),p,c,e[n+14],9,-1019803690),s,p,e[n+3],14,-187363961),l,s,e[n+8],20,1163531501),c=h(c,l=h(l,s=h(s,p,c,l,e[n+13],5,-1444681467),p,c,e[n+2],9,-51403784),s,p,e[n+7],14,1735328473),l,s,e[n+12],20,-1926607734),c=f(c,l=f(l,s=f(s,p,c,l,e[n+5],4,-378558),p,c,e[n+8],11,-2022574463),s,p,e[n+11],16,1839030562),l,s,e[n+14],23,-35309556),c=f(c,l=f(l,s=f(s,p,c,l,e[n+1],4,-1530992060),p,c,e[n+4],11,1272893353),s,p,e[n+7],16,-155497632),l,s,e[n+10],23,-1094730640),c=f(c,l=f(l,s=f(s,p,c,l,e[n+13],4,681279174),p,c,e[n],11,-358537222),s,p,e[n+3],16,-722521979),l,s,e[n+6],23,76029189),c=f(c,l=f(l,s=f(s,p,c,l,e[n+9],4,-640364487),p,c,e[n+12],11,-421815835),s,p,e[n+15],16,530742520),l,s,e[n+2],23,-995338651),c=m(c,l=m(l,s=m(s,p,c,l,e[n],6,-198630844),p,c,e[n+7],10,1126891415),s,p,e[n+14],15,-1416354905),l,s,e[n+5],21,-57434055),c=m(c,l=m(l,s=m(s,p,c,l,e[n+12],6,1700485571),p,c,e[n+3],10,-1894986606),s,p,e[n+10],15,-1051523),l,s,e[n+1],21,-2054922799),c=m(c,l=m(l,s=m(s,p,c,l,e[n+8],6,1873313359),p,c,e[n+15],10,-30611744),s,p,e[n+6],15,-1560198380),l,s,e[n+13],21,1309151649),c=m(c,l=m(l,s=m(s,p,c,l,e[n+4],6,-145523070),p,c,e[n+11],10,-1120210379),s,p,e[n+2],15,718787259),l,s,e[n+9],21,-343485551),s=u(s,r),p=u(p,i),c=u(c,o),l=u(l,a);return[s,p,c,l]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=undefined,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function t(e){return c(p(l(e),8*e.length))}function n(e,t){var n,r,i=l(e),o=[],a=[];for(o[15]=a[15]=undefined,16<i.length&&(i=p(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=p(o.concat(l(t)),512+8*t.length),c(p(a.concat(r),640))}function r(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function i(e){return unescape(encodeURIComponent(e))}function o(e){return t(i(e))}function g(e){return r(o(e))}function y(e,t){return n(i(e),i(t))}function b(e,t){return r(y(e,t))}function v(e,t,n){return t?n?y(t,e):b(t,e):n?o(e):g(e)}return v(e+"f34c9278042a")}}),function(b,v,x){b.extend(Reamaze,{seq_id:0,embed:function(e,i,t,o){var a=this.seq_id++,s=(o=o||{},{sso:this._visitor.ssoData(),framed:1}),p="undefined"==typeof o.trackHistory||o.trackHistory;s=b.extend(s,{no_subject:!1===t||o.hideSubject?1:0}),s=o.channel?b.extend(s,{category_id:o.channel}):b.extend(s,{category_id:""}),t&&(s=b.extend(s,{conversation:{subject:t}}));var n=function(){var e="/";"contact"==i?e="/conversations/new":"conversations"==i?e="/conversations":o.path&&(e=o.path);var t=new RegExp("^#reamaze#"+a+"#"),n=new RegExp("^#reamaze%23"+a+"%23");p&&(window.location.hash.match(t
)?e=window.location.hash.substring(t.toString().length-3):window.location.hash.match(n)?(e=window.location.hash.substring(n.toString().length-3),e=decodeURIComponent(e)):window.location.hash.match(/^#!/)&&(e=window.location.hash.substring(2)));var r=(e+=(-1<e.indexOf("?")?"&":"?")+b.param(s)).match(/(\#.*)(\?)/);return r&&r.length&&(e=e.replace(r[1],""),e+=r[1]),e},r=function(){var e=n();return e.match(/^http/)?e:this._baseUrl+e}.bind(this),c=function(e){var r=e.match(/(\#.*)(\?|$)/);r&&r.length&&b("iframe").each(function(e,t){var n={_command:"reamaze:getAnchorHeight",_anchor:r[1]};b.postMessage(n,t.src,t.contentWindow)})}.bind(this);b(window).on("Reamaze.anchorHeight",function(e,t){if(b("iframe[name="+t._name+"]").length){var n=document.querySelector("iframe[name="+t._name+"]").getBoundingClientRect().top;window.scrollTo(0,n+parseInt(t._anchorHeight))}});var l=b(e).data("embed-ele");if(0<b(e).length&&!l){var u={title:"FAQ",width:"100%",src:r(),scrolling:"no",frameborder:"0",allowtransparency:"true",name:"_embed_"+a,allowfullscreen:"true"};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(u.style="width:1px;min-width:100%;*width:100%;"),l=b("<iframe/>").attr(u),b(e).empty();var d=b('<div class="rmz-embed-container" style="width: 100%; position: relative;"></div>'),h=b('<span class="reamaze-rect-spinner-container"></span>');d.append(h),b(e).html(d),x.render(v.createElement(Reamaze.RectSpinner,{xColor:o.loadingColor||Reamaze.styles.widgetColor||"#ccc",style:{position:"absolute",width:"15px",height:"20px",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-13px"}}),h.get(0)),d.append(l),b(e).data("embed-ele",l),l[0].onload=function(){c(n())}.bind(this);var f;b(document).on("Reamaze.resize",function(e,t){t._height&&t._name=="_embed_"+a&&(b(l).height(t._height),x.unmountComponentAtNode(h.get(0)))}),b(document).on("Reamaze.navigate",function(e,t){t._url&&t._name=="_embed_"+a&&p&&(f=t._url,window.location.replace(window.location.pathname+window.location.search+"#reamaze#"+a+"#"+t._url)),t._height&&t._name=="_embed_"+a&&b(l).height(t._height),window.location.hash&&-1!=window.location.hash.indexOf("#reamaze#"+a+"#")&&window.scrollTo(0,b(l).offset().top<350?0:b(l).offset().top)}),b(window).on("hashchange",function(){if(!window.location.hash||0===window.location.hash.indexOf("#!")||0===window.location.hash.indexOf("#reamaze#"+a+"#")){var e=r(),t=window.location.hash.split("#reamaze#"+a+"#")[1];f!=t&&(l[0].contentWindow.location.replace(e),f=t)}})}else l&&(l[0].src=r());if(l&&(this._contactCustomFields||this._customFields)&&"contact"===i){var m=n();if(!m.match(/^http/)){var g=new Reamaze._iframeform(r(),l),y=this._contactCustomFields||this._customFields;y=this._contactCustomFields&&o.formId?y["rmz_form_id_"+o.formId]:y,g.addParameter("sparams",b.param({sso:this._visitor.ssoData(),custom_fields:y,framed:1})),g.addParameter("destination",m),g.send()}}},_registerEmbedListeners:function(){var n=this;this._ui.embed&&this._ui.embed.container&&this.embed(b(this._ui.embed.container),this._ui.embed.mode,this._ui.embed.subject),b("[data-reamaze-embed]").each(function(e,t){n.embed(b(t),b(t).data("reamaze-embed"),b(t).data("reamaze-embed-subject"),{path:b(t).data("reamaze-embed-path"),trackHistory:"off"!==b(t).data("reamaze-embed-track-history"),channel:b(t).data("reamaze-embed-channel"),allowfullscreen:!!b(t).data("reamaze-embed-allowfullscreen"),loadingColor:b(t).data("reamaze-embed-loading-color")||"#ccc",formId:b(t).data("reamaze-embed-form-id"),hideSubject:!!b(t).data("reamaze-embed-disable-subject")})})}}),b(document).on("Reamaze.init",function(){Reamaze.seq_id=0,Reamaze._registerEmbedListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(n){n.extend(Reamaze,{event:function(e){var t={sso:this._visitor.ssoData(),event:e};n.ajax(this._baseDataUrl+"/data/events.json",{type:"POST",dataType:"json",data:n.param(t)})}})}(jQuery),function(t){t.extend(Reamaze,{notify:function(e){setTimeout(function(){t(window).trigger("Reamaze.notify",[e])},0)},cue:function(e){t(document).trigger("Reamaze.Outbounds.new",e)},removeCue:function(e){t(document).trigger("Reamaze.Outbounds.remove",e)},removeAllCues:function(){t(document).trigger("Reamaze.Outbounds.removeAll")}})}(jQuery,React,ReactDOM,createReactClass,PropTypes),function(r){r.extend(Reamaze,{closePopup:function(){r(document).trigger("Reamaze.closePopup")},popup:function(e,t,n){r(document).trigger("Reamaze.openPopup",[r.extend({},n,{path:e,minimized:!1,anchor:t})])}})}(jQuery),jQuery.extend(Reamaze,{eligibleForPushPrompt:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"default"==Notification.permission},promptPushPermissions:function(){return new Promise(function(t,e){if(Reamaze.eligibleForPushPrompt()){var n=Notification.requestPermission(function(e){t(e)});n&&n.then(t,e)}else t("denied")})}}),function(t){t.extend(Reamaze,{setupPusher:function(e){Reamaze.Pusher||(Reamaze.Pusher=e,function(p){function r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function c(e,t,n){var r=0,i="&socket_id="+encodeURIComponent(t);for(var o in e)i+="&channel_name["+r+"]="+encodeURIComponent(o),r++;for(var a in n.params)i+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n.params[a]);return i}function e(e,t,n,r,i){var o=p.Runtime.createXHR();o.open("POST",r,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var a=n;for(var s in"function"==typeof n&&(a=n()),a.headers)o.setRequestHeader(s,a.headers[s]);o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(n){i(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}t&&i(!1,e)}else i(!0,o.status)},o.send(c(e,t,a))}var a=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};a.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},a.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},a.prototype.executeRequests=function(){var t=this.requests;this.requests={},e(t,this.options.socketId,this.authOptions,this.options.authEndpoint,function(e,n){r(t,e?function(e){e(!0,n)}:function(e,t){n[t]?n[t].status&&200!==n[t].status?e(!0,n[t].status):e(null,n[t].data):e(!0,404)})})};var s={},l=function l(e,t,n){var r=this.options.authEndpoint,i=t+":"+r,o=s[i];o||(o=s[i]=new a({socketId:t,authEndpoint:r,authDelay:this.options.authDelay,authOptions:this.options.auth})),o.add(this.channel.name,n)},t=p.Runtime.getAuthorizers();p.Runtime.getAuthorizers=function(){return t.buffered=l,t}}(Reamaze.Pusher),t(window).trigger("Reamaze.pusherSetupComplete"))}}),t(document).on("Reamaze.init",function(){Reamaze.Pusher=undefined})}(jQuery),function(e){LS_KEY_PREFIX="rmz.",e.extend(Reamaze,{localStorage:{getItem:function(e){try{return localStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return localStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return localStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(localStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&localStorage.removeItem(n)}}catch(r){}}},sessionStorage:{getItem:function(e){try{return sessionStorage.getItem(LS_KEY_PREFIX+e)}catch(t){return null}},setItem:function(e,t){try{return sessionStorage.setItem(LS_KEY_PREFIX+e,t)}catch(n){return null}},removeItem:function(e){try{return sessionStorage.removeItem(LS_KEY_PREFIX+e)}catch(t){return null}},reset:function(){try{var e=Object.keys(sessionStorage);for(var t in e){var n=e[t];0===n.indexOf(LS_KEY_PREFIX)&&sessionStorage.removeItem(n)}}catch(r){}}}})}(jQuery),function(p){var c="_vd",e=function(t,e,n,r,i){t=t||{},this.preview=!!r,this.isSetup=!!i,function(){try{this._data=JSON.parse(Reamaze.localStorage.getItem(c)),this._session=Reamaze.sessionStorage.getItem(c)}catch(e){return!0}if(!this._data)return!0;if(this._data&&this._data.ts&&(new Date).getTime()>parseInt(this._data.ts)+6048e5)return!0;if(t.id){if(this.getExternalRefId()!=t.id)return!0}else if(this.getExternalRefId())return!0;return!1}.bind(this)()&&(this.reset(),Reamaze.reset()),this._data=p.extend(this._data,t),this.cache(),this.set("parent_url",window.location.href);var o=!1;if(t.data){var a=function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}(p.param(t.data));o=this.get("ud_fp")!=a,this.set("ud_fp",a)}if(!t.id||!o&&this._session)return n&&window.setTimeout(n,0),this;var s={};return this._session||(s.session="_new"),s.sso=this.ssoData(),s.sso.data=t.data,p.ajax(e+"/data/users.json",{type:"POST",data:p.param(s),success:function(e){this._session=1,Reamaze.sessionStorage.setItem(c,this._session),this.set("_id",e.id),n&&window.setTimeout(n,0)}.bind(this),error:function(){this.reset(),n&&window.setTimeout(n,0)}.bind(this)}),this};e.prototype.getExternalRefId=function(){return this.get("id")},e.prototype.isIdentified=function(){return this.get("_id")||this.get("email")||this.getExternalRefId()},e.prototype.getAnonymousId=function(){return this.get("anon_id")},e.prototype.setAnonymousId=function(e){return this.set("anon_id",e)},e.prototype.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},e.prototype.getConversationTokens=function(){return this.get("cts")||[]},e.prototype.setConversationTokens=function(e){return this.set("cts",e||null)},e.prototype.get=function(e){return this._data[e]},e.prototype.set=function(e,t){(!this.isSSOUser()||"email"!=e&&"id"!=e)&&(this._data[e]=t,this.cache())},e.prototype.isSSOUser=function(){return this.get("authkey")&&this.getExternalRefId()&&this.get("email")},e.prototype.cache=function(){this._data.visits=this._data.visits||1,this._data.ts&&36e5<(new Date).getTime()-this._data.ts&&this._data.visits++,this._data.ts=(new Date).getTime();var e={id:this.getExternalRefId(),email:this._data.email,anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,ts:this._data.ts,ud_fp:this._data.ud_fp,cts:this.getConversationTokens(),visits:this._data.visits};this._data.shop&&(e.shop=this._data.shop),this._data.phone&&(e.phone=this._data.phone),Reamaze.localStorage.setItem(c,JSON.stringify(e))},e.prototype.ssoData=function(){var e=this._data.avatar;e&&"/"==e[0]&&(e="https://"+window.location.hostname+e);var t={id:this.getExternalRefId(),anon_id:this.getAnonymousId(),first_seen:this._data.first_seen,name:this._data.name,avatar:e,email:this._data.email,authkey:this._data.authkey,parent_url:this._data.parent_url,tz_offset:this.getTimezoneOffset(),cts:this.getConversationTokens()};return this.preview&&(t.preview=1),this.isSetup&&(t.setup=1),this._data.shop&&(t.shop=this._data.shop),this._data.phone&&(t.phone=this._data.phone),t},e.prototype.reset=function(){Reamaze.localStorage.removeItem(c),Reamaze.sessionStorage.removeItem(c),this._session=null;var e=new Date;this._data={first_seen:e.toISOString?e.toISOString():e.toUTCString()},this.set("parent_url",window.location.href),this.cache()},Reamaze.Visitor=e}(jQuery),function(p,c,l){p.extend(Reamaze,{_registerWidgetListeners:function(){var e=document.getElementById("reamazejs-container");e?l.unmountComponentAtNode(e):e=p('<div id="reamazejs-container"></div>').appendTo(document.body)[0];var t=!1,n="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,r=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),i=r&&n;this._ui.widget&&("mobile"!=this._ui.widget.displayOn&&!i||"desktop"!=this._ui.widget.displayOn&&i)&&(t=p.extend(!0,{},this._ui.widget),i&&(t.mobilePosition!==undefined&&(t.position=t.mobilePosition),t.mobileSize!==undefined?t.size=t.mobileSize:t.size=Math.max(.8*parseInt(t.size,10),44)),"undefined"==typeof t.label&&(this._ui.popup&&"kb"==this._ui.popup.mode?t.label={text:"Find help here!",delay:3,duration:30}:t.label={text:"Ask us a question!",delay:3,duration:30}),"string"==typeof t.label&&(t.label={text:t.label,delay:0,duration:0,mode:"default"}),t.size||(t.size=58),t.position&&"bottom-right"!=t.position?"bottom-left"==t.position&&(t.position={bottom:"22px",left:"22px"}):t.position={bottom:"22px",right:"22px"});var o=!0;this._ui.widget&&(o="undefined"==typeof this._ui.widget.allowBotProcessing||!0===this._ui.widget.allowBotProcessing||"true"==this._ui.widget.allowBotProcessing);var a={widgetOpts:t,popupOpts:this._ui.popup,baseUrl:this._baseUrl,baseDataUrl:this._baseDataUrl,account:this._settings.account,appDomain:"reamaze.com",cdnDomain:"cdn.reamaze.com",pusherAppKey:this._pusherAppKey,currentUser:this._visitor,customFields:this._customFields,trans:this._translations,contactMode:this._ui.contactMode||"default",allowBotProcessing:o,faces:this._ui.faces.filter(function(e){return!!e})||[],enableKb:this._ui.enableKb,enableBrowserTabAlerting:this._ui.enableBrowserTabAlerting,pushNotifications:this._ui.pushNotifications,unreadCallbackFunc:Reamaze._callbacks.unread_callback,route:this._settings._route,routeParams:this._settings._routeParams,styles:this.styles,outbounds:this.outbounds||[],hasTouch:n,isMobileBrowser:r,isMobileDevice:i,apps:this.apps||{},_preview:this._preview,disableAudio:this._ui.disableAudio},s=function(){l.render(c.createElement(Reamaze.ReamazeJS,a),e),this._settings.openPopup&&p(window).trigger("Reamaze.openPopup")}.bind(this);p.ajax({url:"https://"+this._settings.cdn_domain+"/data/brands/"+this._settings.account+"/ping",success:function(e){a.brandData=e}.bind(this),complete:s})}}),p(document).on("Reamaze.init",function(){Reamaze._registerWidgetListeners()})}(jQuery,React,ReactDOM,createReactClass,PropTypes),window["export"]=window._original_export,window.exports=window._original_exports,window.require=window._original_require,window.requirejs=window._original_requirejs,window.module=window._original_module,window.define=window._original_define,window._original_export=window._original_require=window._original_requirejs=window._original_module=window._original_define=undefined,function(n){var r=function(){_support.ui=_support.ui||{};var e,t={account:_support.account,app_domain:"reamaze.com",data_domain:"reamaze.io",cdn_domain:"cdn.reamaze.com",protocol:"https://",pusherAppKey:"4ad5621db51f93f2100f",ui:{popup:_support.ui.popup||{zIndex:_support.ui.zIndex,width:_support.ui.width,height:_support.ui.height,trigger:_support.ui.trigger,category:_support.ui.mailbox,mode:_support.ui.lightbox_mode},embed:_support.ui.embed||{container:_support.ui.container,mode:_support.ui.mode,subject:_support.ui.subject},bar:_support.ui.bar||"bar"==_support.ui.extension,widget:_support.ui.widget||!1,contactMode:_support.ui.contactMode||_support.ui.anonymousMode||"default",faces:_support.ui.faces||[],styles:_support.ui.styles||{},pushNotifications:_support.ui.pushNotifications||"undefined"==typeof _support.ui.pushNotifications||!0===_support.ui.pushNotifications,enableKb:"undefined"==typeof _support.ui.enableKb||!0===_support.ui.enableKb||"true"==_support.ui.enableKb,enableBrowserTabAlerting:"undefined"==typeof _support.ui.enableBrowserTabAlerting||!0===_support.ui.enableBrowserTabAlerting||"true"==_support.ui.enableBrowserTabAlerting,disableAudio:!0===_support.ui.disableAudio||"true"==_support.ui.disableAudio},translations:_support.translations||{messagePrompt:{reply:"Reply",close:"Close"}},_preview:_support._preview,_setup:_support._setup,openPopup:_support.openPopup,_route:_support._route,_routeParams:_support._routeParams||{},outbounds:_support.outbounds,apps:_support.apps};t.ui.popup&&!t.ui.popup.mode&&(t.ui.popup.mode=_support.ui.lightbox_mode),_support.user&&_support.user.email&&(e=_support.user),!e&&(_support.email||_support.authkey||_support.id)&&(e={id:_support.id,authkey:_support.authkey,email:_support.email,name:_support.name,avatar:_support.avatar,created:_support.created,data:_support.data});var n={};n.widget=_support.custom_fields||null,n.contact=_support.contact_custom_fields||null;var r=_support.callbacks||{unread_callback:_support.unread_callback,analytics_track_callback:_support.analytics_track_callback};Reamaze.initialize(t,e,n,r)};reamaze?Reamaze=reamaze:(reamaze=Reamaze,n(function(){Reamaze.jQuery=n,(_support=_support||{account:"democentral",ui:{}}).outbounds||(_support.outbounds=[]);var t=_support.outbounds.push;_support.outbounds.push=function(e){t.apply(_support.outbounds,e),n(document).trigger("Reamaze.Outbounds.new",e)};var e=n.throttle(300,r);e(),Reamaze.reload=e}))}(jQuery.noConflict(!0)),Reamaze.React=window.React,Reamaze.ReactDOM=window.ReactDOM,Reamaze.createReactClass=window.createReactClass,Reamaze.PropTypes=window.PropTypes,window.React=window._ReactOriginal,window.ReactDOM=window._ReactDOMOriginal,window.createReactClass=window._createReactClassOriginal,window.PropTypes=window._PropTypesOriginal,delete window._ReactOriginal,delete window._ReactDOMOriginal,delete window._createReactClassOriginal,delete window._PropTypesOriginal;