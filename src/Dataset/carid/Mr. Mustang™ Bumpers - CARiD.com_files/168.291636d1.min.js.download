(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{1098:function(o,e,n){"use strict";n.r(e);var a=n(0),t=n.n(a),s=n(1),r=n(12),i=n(26),d=function(){var o=t()(".js-prod-qa-next"),e=t()(".js-prod-qa-preloader"),a=s.a.qaSystem,d=a.productMetaData,u=a.fromConversationId,c=a.totalConversations,l={productType:d.productType,productId:d.productId,skuBrandIds:d.skuBrandIds,fromConversationId:u,limit:10};o.hide(),e.removeClass("nobg hidden"),r.default.request("/qa/get_more_qa",!1,"GET",l).then((function(a){if(a){var t=a.fromConversationId;s.a.qaSystem.fromConversationId=t,s.a.qaSystem.conversations=s.a.qaSystem.conversations.concat(a.conversations);var r=s.a.qaSystem.conversations;Object(i.c)({asyncModule:function(){return n.e(151).then(n.bind(null,1055))},holder:document.querySelector(".js-prod-qa-list"),props:{conversations:r},onComplete:function(){e.addClass("nobg hidden"),r.length<c&&t&&o.show()}})}})).catch((function(n){e.addClass("nobg hidden"),o.show(),s.a.modalMessage.asyncError(n)}))};s.a.ready((function(){t()(".js-prod-qa-next").on("click",d),function(){if(s.a.questionStatus){var o=s.a.questionStatus,e=o.status,n=o.message;"success"===e?s.a.modalMessage.show("Thank you for your question!<br />We will publish it after moderation"):"error"===e&&s.a.modalMessage.asyncError(n)}}();var o;o=!0,t()(document).on("click",".js-ask-question",(function(e){if(o){o=!1;var a,r=t()(e.currentTarget).data("product-id");if(s.a.device.support.sessionStorage){var d="unfinishedQuestionData_".concat(r),u=sessionStorage.getItem(d);u&&(a=JSON.parse(u),sessionStorage.removeItem(d))}n.e(90).then(n.bind(null,672)).then((function(){Object(i.b)({gboxParams:{boxShadow:!1,height:750,maxWidth:1080,openInNewModal:!0,overlayClose:!1,width:"100%"},preactParams:{asyncModule:function(){return Promise.all([n.e(1),n.e(7),n.e(131)]).then(n.bind(null,1053))},props:{propProductId:r,unfinishedQuestionData:a}},onComplete:function(){o=!0}})}))}return!0}))}))}}]);