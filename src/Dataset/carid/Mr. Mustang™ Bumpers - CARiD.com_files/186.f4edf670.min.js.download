(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{1109:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t.n(c),n=t(1),i=t(26),o=t(12);n.a.ready((function(){var e=s()(".js-product-specifications"),a=s()(".js-product-specification-tab"),c=s()(".aside_slct_load"),l=e.data("url-id"),r=[],d={},u=function(e){e.selects.forEach((function(e){var a=e;"sub-ptypes"!==a.name&&1===a.options.length&&(a.disabled=1)})),a.innerHTML="",Object(i.c)({asyncModule:function(){return t.e(159).then(t.bind(null,1056))},holder:a,props:{data:e},onComplete:function(){c.hide()}}),r=e.selects};e.on("click",(function(){a.is(":empty")&&(c.show(),o.default.request("/ajax/ajax.php",!0,"POST",{aafunction:"getProductSpecificationSelectorForm",urlId:l}).then((function(e){e&&u(e)})).catch((function(){n.a.modalMessage.asyncError()})))})),n.a.searchByProductSpecifications=function(e){c.show();var t=e.value,i=e.dataset.name,p=!1;if("sub-ptypes"===i)d={},o.default.request("/ajax/ajax.php",!0,"POST",{aafunction:"getProductSpecificationsSelectorUltimatePtypeForm",urlId:l,"sub-ptypes":t}).then((function(e){e&&u(e)})).catch((function(){n.a.modalMessage.asyncError()}));else{var f=s()('.js-product-specifications-sub-ptypes input[data-name="sub-ptypes"]').val(),h=i.replace(/\D/g,""),v=Array.from(s()(e).parents(".select-vehicle-row").nextAll(".select-vehicle-row").find(".aside_slct"));Object.keys(v).forEach((function(e){var a=s()(v[e]).addClass("-disabled").removeClass("-selected").children(".aside_slct_value");a.text(""),a.children("input").val("")})),d[h]=[t],Object.keys(r).forEach((function(e){var a=r[e].name.replace(/\D/g,"");p&&d[a]&&delete d[a],r[e].name===i&&(p=!0)})),o.default.request("/ajax/ajax.php",!0,"POST",{aafunction:"getProductSpecificationsNextSelectorsOptions",urlId:l,options:{"sub-ptypes":[f],field:d}}).then((function(t){if(t){var n=s()(".js-search-by-product-specifications-btn"),i=s()(e).parent();t.constructor===Object&&0===Object.keys(t).length?(i.trigger("blur"),n.removeClass("-disabled")):Object.keys(t).forEach((function(e){var a=t[e].options,c=a.length,o=s()("#".concat("select_vehicle_specification_").concat(t[e].name_id)),l=o.children(".aside_slct_opts"),r="",d="";c>1&&(a.forEach((function(e){var a=e.selected?"active":"",t=c>2?e.value:"",s=e.image?'<span class="select-vehicle-info-icon js-aside-image-preview-icon" data-src="'.concat(e.image,'"></span>'):"";r+='<li class="'.concat(a,'" data-value="').concat(t,'">').concat(s).concat(e.value,"</li>")})),l.html(r),t[e].required?c>2&&n.addClass("-disabled"):n.removeClass("-disabled"),c>2?o.removeClass("-selected").removeClass("-disabled").trigger("click").trigger("focus"):(d=t[e].title_show,o.addClass("-selected"),i.trigger("blur"),n.removeClass("-disabled")),o.removeClass("-disabled").children(".aside_slct_value").text("".concat(d)))})),n.hasClass("-disabled")||a.find(".aside_slct.-disabled").addClass("-selected").find(".aside_slct_value").text("All"),c.hide()}})).catch((function(){n.a.modalMessage.asyncError()}))}},s()(document).on("click",".js-search-by-product-specifications-btn:not(.-disabled)",(function(e){var t=e.currentTarget;c.show();var n=s()(t),i=n.data("url-prefix"),o=n.data("url-suffix"),l="";a.find(".aside_slct").children('input:not([value=""])').each((function(e,a){l+="&".concat(s()(a).data("name"),"[]=").concat(encodeURIComponent(s()(a).val()))}));var r=i+l+o;window.location.href=r,window.location.pathname+window.location.search+window.location.hash===r&&c.hide()}))}))}}]);