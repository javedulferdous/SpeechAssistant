var ziprowVal="",prodNo="",heightSet=1,checkScroll=1;function filterItems(e){window.location.href=e}function equalizeDiv(e){var r=0;jQuery("."+e).each((function(){jQuery(this).height()>r&&(r=jQuery(this).height())})),jQuery("."+e).height(r+10)}function closeChangeZip(e,r){var t=jQuery(e.target).closest(".product-feature-section");if(t&&t.find(".product-feature-list-item").show(),jQuery(".changeZipAvail").hide(),jQuery("#"+("prodDescription"+r)).show(),"grid"==jQuery("#listGridVal").val()){jQuery(".togrid").css({height:""}),jQuery(".storePickDivHeight").css({height:""}),jQuery(".homeDeliveryDivHeight").css({height:""}),jQuery(".shippingDivHeight").css({height:""});equalizeDiv("togrid"),equalizeDiv("storePickDivHeight"),equalizeDiv("homeDeliveryDivHeight"),equalizeDiv("shippingDivHeight")}}function changeZipBox(e,r,t){var o=jQuery(e.target).closest(".product-feature-section");o&&(o.find(".product-feature-list-item").hide(),o.find(".changeZipAvail").show()),jQuery("#prodStatus"+r).text("");var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("id","deliv_type_plu"+r),i.setAttribute("class","deliv_type_plu"),i.setAttribute("value",t),jQuery(".changeZipAvail").hide(),jQuery(".errormessageZip").html(""),jQuery(".errormessageZipHome").hide(),jQuery(".pickupZip1").val(""),jQuery(".prodDescription").show();var s=r;jQuery("#"+("prodDescription"+r)).hide(),jQuery("#prodStatus"+r).append(i),jQuery("#"+s).show()}function changeForGuest(e,r,t,o,i,s){e.preventDefault();var a=getResultPage();null!=a&&null!=a||(a=0);var l=document.getElementById("pickupZip1"+r).value;5==l.length?jQuery.ajax({type:"POST",data:{zipCode:l,pluCode:r,delivery_type:t},url:"/template/index/zipProdAvailability.jsp",datatype:"text"}).done((function(e){var t=e.trim();if("No Store within 10000 miles"==t)document.getElementById("errormessageZip"+r).innerHTML="No stores found, enter another Zip Code",jQuery("#errormessageZip"+r).show();else if("InValid Zipcode"==t)document.getElementById("errormessageZip"+r).innerHTML="*Please enter a valid 5-digit ZIP Code";else if("No Store Found"==t)document.getElementById("errormessageZip"+r).innerHTML="* No stores found in this area, Please Enter another Zip Code";else if("No Stock"==t||"Product not Found"==t)document.getElementById("errormessageZip"+r).innerHTML="* Item unavailable, Please Enter another Zip Code";else if("Store Found"==t){var o="";s?(o=getChangeZipUrl(a,i),isLocalStorageNameSupported()?localStorage.setItem("prodFocus",r):(storageImpl=new LocalStorageAlternative,storageImpl.setItem("prodFocus",r))):o=window.location.href,window.location.replace(o)}else document.getElementById("errormessageZip"+r).innerHTML="*Please enter a valid 5-digit ZIP Code"})):document.getElementById("errormessageZip"+r).innerHTML="*Please enter a valid 5-digit ZIP Code"}function setDefaultImage(e,r){switch(r){case"tn":e.src="https://images.frys.com/art/product/box_shots/img_soon_boxshot.gif";break;case"pi":default:e.src="https://images.frys.com/art/product/box_shots/picsoon.gif"}}function sendDeliveryInfo(e,r,t,o,i,s){t=document.getElementById("deliv_type_plu"+r).value;var a=getResultPage();null!=a&&null!=a||(a=0);var l=document.getElementById("pickupZip1"+r).value;5==l.length?jQuery.ajax({type:"POST",data:{zipCode:l,pluCode:r,delivery_type:t},url:"/template/index/zipProdAvailability.jsp",datatype:"text"}).done((function(e){var t=e.trim();if("No Store within 10000 miles"==t)document.getElementById("errormessageZipHome"+r).innerHTML="No stores found, enter another Zip Code",jQuery("#errormessageZipHome"+r).show();else if("InValid Zipcode"==t)jQuery("#errormessageZipHome"+r).text("*Please enter a valid 5-digit ZIP Code"),jQuery("#errormessageZipHome"+r).show();else if("No Store Found"==t)jQuery("#errormessageZipHome"+r).text("*Local Delivery is not currently available to ZIP "+l),jQuery("#errormessageZipHome"+r).show();else if("No Stock"==t||"Product not Found"==t)jQuery("#errormessageZipHome"+r).text("* Item unavailable, Please Enter another Zip Code"),jQuery("#errormessageZipHome"+r).show();else if("Store Found"==t){var o=window.location.search.substring(1,7),n=window.location.href.indexOf("product");if(null!=o&&""!=o&&0=="store=".localeCompare(o)&&-1!=n){var u=window.location.href.split("?");if(null!=u&&u.length>0){var d=u[0];window.location.replace(d)}}else{var c="";s?(c=getChangeZipUrl(a,i),isLocalStorageNameSupported()?localStorage.setItem("prodFocus",r):(storageImpl=new LocalStorageAlternative,storageImpl.setItem("prodFocus",r))):c=window.location.href,window.location.replace(c)}}else jQuery("#errormessageZipHome"+r).text("*Please enter a valid 5-digit ZIP Code"),jQuery("#errormessageZipHome"+r).show()})):(jQuery("#errormessageZipHome"+r).text("*Please enter a valid 5-digit ZIP Code"),jQuery("#errormessageZipHome"+r).show())}function hdTN(e,r,t,o,i){var s=location.href,a=getResultPage();i&&(s=getChangeZipUrl(a));var l=s.indexOf("noImages=");if(-1!=l){var n=s.substring(l),u=n.indexOf("&");-1!=u&&(n=n.substring(0,u+1)),(s=s.replace(n,"")).lastIndexOf("&")==s.length-1&&(s=s.substring(0,s.length-1))}return-1==s.indexOf("?")?location.href="no"==t?s+"?query_search="+r+"&noImages="+e:s+"?noImages="+e:location.href=s+"&noImages="+e}function convertSelectToUlLI(){jQuery(".sortordr").niceSelect(),jQuery(".displaypage").niceSelect(),jQuery(".jumptopage").niceSelect(),FastClick.attach(document.body),jQuery(".jumptopage ul li").length>99&&jQuery(".jumptopage").css("width","78px"),jQuery("#searchHead").show()}function chngstore(){jQuery("#changeStore").slideToggle("slow")}jQuery((function(){jQuery(".popupHint").prepend('<a href="javascript:void(0)" onclick="jQuery(this).parent().hide()"><img id="crossImg" src="images/crossImg.png"  class="crossImg" alt="Cross icon"/></a>')}));var displayFlag,request,clickFlag,target_id,count=0;function showHint(e,r){return jQuery("#shipdescription_"+e).css("top",r.pageY+10).css("left",r.pageX+20),count%2==0?(jQuery("#shipdescription_"+e).show(),count=1):(hideHint(e),count=0),!1}function hideHint(e){return jQuery("#shipdescription_"+e).hide(),!1}function showHint_storepickup(e,r){return jQuery("#"+e).css("top",r.pageY+10).css("left",r.pageX+10),count%2==0?(jQuery("#"+e).show(),count=1):(hideHint_storepickup(e),count=0),!1}function hideHint_storepickup(e){return jQuery("#"+e).hide(),!1}function showHomeDelBox(e){return jQuery("#homeDelBox").css("top",e.pageY+10).css("left",e.pageX+10),count%2==0?(jQuery("#homeDelBox").show(),count=1):(hideHomeDelBox(),count=0),!1}function hideHomeDelBox(){return jQuery("#homeDelBox").hide(),!1}function cancelBubble(e){var r=e||window.event;r.stopPropagation&&r.stopPropagation(),null!=r.cancelBubble&&(r.cancelBubble=!0)}function closeStoreListBox(){jQuery("#storebox").hide(),displayFlag=!0}function sortSelect(e){if(null!=e){var r=jQuery(e).find("option[value='']").text();jQuery(e).find("option[value='']").remove();for(var t=new Array,o=0;o<e.options.length;o++)t[o]=new Array,t[o][0]=e.options[o].text,t[o][1]=e.options[o].value;for(t.sort();e.options.length>0;)e.options[0]=null;for(o=0;o<t.length;o++){var i=new Option(t[o][0],t[o][1]);e.options[o]=i,"Brand"!=e.options[o].text&&"Series"!=e.options[o].text&&"Model"!=e.options[o].text||(e.options[o].value="",jQuery(e.options[o]).attr("selected","selected"))}jQuery(e).prepend("<option value='' style='font-weight: bold;color:black;' selected>"+r+"</option>")}}function getNextStores(){if(jQuery("#storebox .substores:visible").index()+1<jQuery("#storebox .substores").length){var e=parseInt(jQuery("#storebox .substores:visible").index());jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(e+1).show()}else jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(0).show()}function getPrevStores(){if(jQuery("#storebox .substores:visible").index()>=1){var e=parseInt(jQuery("#storebox .substores:visible").index());jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(e-1).show()}else jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(jQuery("#storebox .substores").length-1).show()}function getEsdImage(e){jQuery("#fry_image"+e).hide(),jQuery("#arvato_image"+e).show()}function sortItems(){var e=document.getElementById("sorturlsuffix").value;e=e.replace(/&/g,"[]");var r=document.getElementById("sortUrlPrefix").value;r=r.replace(/&/g,"[]");var t=document.getElementById("insortorder").value;t=t.replace(/&/g,[]),window.location.href="/search_jsp/sortitems.jsp?sorturlsuffix="+e+"&insortorder="+t+"&sortUrlPrefix="+r}function getMoreStoresForChk(e,r){clickFlag=!0;var t=e.target.innerHTML;"Change"==t||"Edit"==t?(clickFlag=!1,jQuery("#chkLabel").hide()):(clickFlag=!0,jQuery("#chkLabel").show());var o=document.getElementById("storewithinmiles").value;jQuery(".checker").val();jQuery("#storewithinmiles").val(o),jQuery("#zipcodefromsearch1").val(""),jQuery("#zipcodefromsearch").val(""),jQuery("#errorinzipcode").html(""),jQuery("#errorinzipcodebox").html(""),jQuery(".zipupdate").text(jQuery("#zipval").val());var i=document.getElementById("storeZipCodeHidden").value,s="";s=jQuery("#storeCheckbox").is(":checked")?"/template/index/zipcodevalid.jsp?storewithinmiles="+o+"&plu="+r+"&zipCode="+i+"&checked=true&clickFlag="+clickFlag+"&checkedValue=1&target_id="+target_id:"/template/index/zipcodevalid.jsp?storewithinmiles="+o+"&plu="+r+"&zipCode="+i+"&checked=false&clickFlag="+clickFlag+"&target_id="+target_id,window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP")),jQuery("#storebox").html('<div class="loading_div" style="margin-right:45%;margin-top:20%;"> <img src="/css/loadingicon.gif"> <br> <br> Loading...</div>');try{request.onreadystatechange=getStoreResponse,request.open("GET",s,!0),request.send()}catch(e){alert("Unable to connect to server")}}function getMoreStores(e,r){clickFlag=!0,target_id=e.target.id;var t=e.target.innerHTML,o=jQuery("#storeCheckbox").is(":checked");"Change"==t||"Change ZIP"==t||"Select the Store"==t?(o=!1,clickFlag=!1,jQuery("#chkLabel").hide(),jQuery("#chkLabelDiv").removeAttr("style"),jQuery("#storeCheckbox").removeAttr("checked"),jQuery(".modal").addClass("changeZipModalMain")):(clickFlag=!0,jQuery("#chkLabel").show(),jQuery("#chkLabelDiv").css({"padding-left":"20px","padding-top":"10px"}),jQuery("#storeCheckbox").removeAttr("checked"),jQuery(".modal").removeClass("changeZipModalMain"));var i=document.getElementById("storewithinmiles").value;jQuery(".checker").val();jQuery("#storebox").show(),jQuery("#storewithinmiles").val(i),jQuery("#zipcodefromsearch1").val(""),jQuery("#zipcodefromsearch").val(""),jQuery("#errorinzipcode").html(""),jQuery("#errorinzipcodebox").html(""),jQuery(".zipupdate").text(jQuery("#modalZipCode").val());var s=jQuery("#dealsString").val();s||(s="");var a=document.getElementById("modalZipCode").value.trim();jQuery("#storeZipCodeDefault").html("of ZIP code "+a),jQuery("#selectedStoreZip").text(a),jQuery("#storeZipCodeHidden").val(a);var l="";l=o?"/template/index/zipcodevalid.jsp?storewithinmiles="+i+"&plu="+r+"&zipCode="+a+"&checked=true&clickFlag="+clickFlag+"&checkedValue=1":"/template/index/zipcodevalid.jsp?storewithinmiles="+i+"&plu="+r+"&zipCode="+a+"&checked=false&clickFlag="+clickFlag+"&target_id="+target_id+"&dealsUrl="+s,window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP")),jQuery("#storebox").html('<div class="loading_div" style="margin-right:45%;margin-top:20%;"> <img src="/css/loadingicon.gif"> <br> <br> Loading...</div>');try{request.onreadystatechange=getStoreResponse,request.open("GET",l,!0),request.send()}catch(e){alert("Unable to connect to server")}}function getStoresWithInMiles(){var e=document.getElementById("storewithinmiles").value,r=jQuery("#storeZipCodeHidden").val(),t="/template/index/zipcodevalid.jsp?storewithinmiles="+e+"&clickFlag="+clickFlag+"&target_id="+target_id+"&zipCode="+r;jQuery("#storeCheckbox").prop("checked",!1),window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP")),jQuery("#storebox").html('<div class="loading_div" style="margin-right:45%;margin-top:20%;"> <img src="/css/loadingicon.gif"> <br> <br> Loading...</div>');try{request.onreadystatechange=getStoreResponse,request.open("GET",t,!0),request.send()}catch(e){alert("Unable to connect to server")}}function getStoreResponse(){if(4==request.readyState)if("true"==(e=(e=request.responseText).trim()))jQuery("#errorinzipcode").html(""),jQuery("#storebox").show(),sendRequestToSearchServlet();else if("false"==e)jQuery("#errorinzipcodebox").html("*Please enter a valid 5-digit ZIP Code"),hideStoreboxShowError();else if("no stores found"==e)jQuery("#errorinzipcodebox").html("No stores found, enter another Zip Code"),hideStoreboxShowError();else{var e=request.responseText;document.getElementById("storebox").innerHTML=e,jQuery("#errorinzipcodebox").html(""),jQuery("#storebox").show(),displayFlag||jQuery("#imageDiv").css("display","block"),jQuery("#storebox .substores").length>1?(jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(0).show()):jQuery("#nav_store_button").hide()}}function hideStoreboxShowError(){jQuery("#errorinzipcodebox").show(),jQuery("#storebox").hide(),jQuery("#substores").html(""),jQuery("#storebox .substores").hide(),jQuery("#storebox .storemilestd").hide(),jQuery("#nav_store_button").hide()}function validateZipCode(e,r){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=document.getElementById("zipcodefromsearch1").value.trim();if(5==(t=t.replace(/[`~!@#$%^&*()_|+\-=?;:,.<>\{\}\[\]\\\/]/gi,"")).length){"storeSelectionPopup"==r&&(jQuery("#storeCheckbox").hide(),jQuery("#chkLabelDiv").hide());var o=jQuery("#storewithinmiles").val();jQuery(".zipupdate").text(t),jQuery("#storeCheckbox").prop("checked",!1),document.getElementById("zipcodefromsearch1").value=t,jQuery("#storeZipCodeHidden").val(t),jQuery("#storeZipCodeDefault").html("of ZIP code "+t),jQuery("#myModalLabel").html('Select a Store(Showing near ZIP "'+t+'")');var i="template/index/zipcodevalid.jsp?zipCode="+t+"&clickFlag="+clickFlag+"&target_id="+target_id+"&storewithinmiles="+o;window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP")),jQuery("#storebox").html('<div class="loading_div" style="margin-right:45%;margin-top:20%;"> <img src="/css/loadingicon.gif"> <br> <br> Loading...</div>');try{request.onreadystatechange=getZipCodeResponse,request.open("GET",i,!0),request.send()}catch(e){alert("Unable to connect to server")}}else jQuery("#errorinzipcodebox").html("*Please enter a valid 5-digit ZIP Code")}function getZipCodeResponse(){if(4==request.readyState)if("true"==(e=(e=request.responseText).trim()))jQuery("#errorinzipcode").html(""),jQuery("#storebox").show(),sendRequestToSearchServlet();else if("false"==e)jQuery("#errorinzipcodebox").html("*Please enter a valid 5-digit ZIP Code"),hideStoreboxShowError();else if("no stores found"==e)jQuery("#errorinzipcodebox").html("No stores found, enter another Zip Code"),hideStoreboxShowError();else{var e=request.responseText;document.getElementById("storebox").innerHTML=e,jQuery("#errorinzipcodebox").html(""),jQuery("#storebox").show(),displayFlag||jQuery("#imageDiv").css("display","block"),jQuery("#storebox .substores").length>1?(jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(0).show()):jQuery("#nav_store_button").hide()}}function sendRequestToSearchServlet(){var e=document.getElementById("storeurl").value.trim();document.location.href=e}function showMore(e){var r="moreList"+e,t="moreText"+e,o=document.getElementById(r),i=document.getElementById(t);"block"==o.style.display?(o.style.display="none",i.innerHTML=""):(o.style.display="block",i.innerHTML="")}function backToTop(){jQuery("html, body").animate({scrollTop:0},800)}jQuery(document).ready((function(){var e="";"no"!=(e=localStorage.getItem("prodFocus"))&&(e="prodCol"+e,jQuery("#"+e).length&&jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top}),localStorage.removeItem("prodFocus"),jQuery(".product-detail-section").length&&localStorage.setItem("prodFocus",jQuery("meta[itemprop='sku']").attr("content"))),"true"==jQuery("#filtercheck").val()&&(jQuery("#loadingmessage").show(),jQuery("#cohead").hide(),jQuery("#cofoot").hide(),jQuery("#loadingmessage").hide(),jQuery("#filtersDiv").show(),jQuery("#xs-itmes-count").addClass("hidden-xs"),jQuery("#rightCol").hide(),jQuery("#leftCol").hide(),jQuery("#filter-xs-button").addClass("hidden-xs"),jQuery("#filterMenuBar").show()),"false"==jQuery("#pscCheck").val()&&"null"!=jQuery("#pscErrMsg").val()?(-1==jQuery("#displayPSCErrMsg").text().indexOf("*PSC Eligiblity")&&jQuery("#displayPSCErrMsg").append(jQuery("#pscErrMsg").val()),jQuery("#displayPSCErrMsg").show(),jQuery("#PSCErrMsg").show()):jQuery("#PSCErrMsg").hide();var r,t=jQuery("#maxvalue").val();for(r=0;r<t;r++)0==jQuery(".prodOptionsClass"+r+" li").length&&jQuery(".prodOptionsClass"+r).css("border","none");function o(e,r){jQuery("#storebox").show().css("top",e.pageY+10).css("left",e.pageX+20-150).appendTo("body"),r?jQuery("#imageDiv").css("display","none"):jQuery("#imageDiv").css("display","block"),jQuery("#storebox .substores").length>1?(jQuery("#storebox .substores").hide(),jQuery("#storebox .substores").eq(0).show()):jQuery("#nav_store_button").hide()}0==jQuery("#zipcodefromsearch").length||(document.getElementById("zipcodefromsearch").value=""),jQuery(".storeselection").mouseover((function(e){displayFlag=!0,o(e,!0)})),jQuery("#storebox").mouseleave((function(e){displayFlag&&jQuery("#storebox").hide()})),jQuery(".storechange").click((function(e){displayFlag=!1,o(e,!1)})),jQuery(window).scroll((function(e){var r=jQuery(window).scrollTop();checkScroll!=r&&hide_priceMatch(e,"shipdescription_priceMatch")}))})),String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var switchToGrid=function(){addInput("grid"),jQuery("#listBtn").hasClass("selected")&&(jQuery("#listBtn").removeClass("selected"),jQuery("#gridBtn").addClass("selected"),jQuery("#gridBtn").focus()),isLocalStorageNameSupported()?localStorage.setItem("VarName","grid"):(storageImpl=new LocalStorageAlternative,storageImpl.setItem("VarName","grid")),document.cookie="VW=G;domain=frys.com;path=/";jQuery(".product").addClass("grid-view"),jQuery(".toGridRemoveClass").removeClass("col-md-offset-1").removeClass("col-sm-offset-1"),jQuery(".toGridPrice").removeClass("col-md-offset-3").removeClass("col-sm-offset-2"),jQuery(".changeZipDivText").addClass("col-sm-5"),jQuery(".changeZipDivSubmit").addClass("col-sm-3");var e=jQuery(".guestZip").height();1==heightSet&&(jQuery(".guestZip").css("height",e+25+"px"),heightSet=0),jQuery(".storePickDiv").css({"padding-left":"10px"}),jQuery(".homeDeliveryDiv").css({"padding-left":"10px"}),jQuery(".shippingDiv").css({"padding-left":"10px"}),jQuery(".togrid").css({height:""}),equalizeDiv("productDescp"),equalizeDiv("prodModel"),equalizeDiv("storePickDivHeight"),equalizeDiv("homeDeliveryDivHeight"),equalizeDiv("shippingDivHeight"),equalizeDiv("toGridPriceHeight"),equalizeDiv("togrid")};function addInput(e){jQuery("#listGridVal").val(e)}function isLocalStorageNameSupported(){var e="test",r=window.localStorage;try{return r.setItem(e,"1"),r.removeItem(e),!0}catch(e){return!1}}function LocalStorageAlternative(){var e={};this.setItem=function(r,t){e[r]=t},this.getItem=function(r){return void 0!==e[r]?e[r]:null},this.removeItem=function(r){e[r]=void 0}}var switchToList=function(){addInput("list"),jQuery("#gridBtn").hasClass("selected")&&(jQuery("#gridBtn").removeClass("selected"),jQuery("#listBtn").addClass("selected"),jQuery("#listBtn").focus()),isLocalStorageNameSupported()?localStorage.setItem("VarName","list"):(storageImpl=new LocalStorageAlternative,storageImpl.setItem("VarName","list")),document.cookie="VW=L;domain=frys.com;path=/",jQuery(".product").removeClass("grid-view").css({height:""}),jQuery(".toGirdDesc").css({height:""}),jQuery(".toGridRemoveClass").addClass("col-md-offset-1").addClass("col-sm-offset-1"),jQuery(".toGridPrice").addClass("col-md-offset-3").addClass("col-sm-offset-2"),jQuery(".productDescp").css({height:""}),jQuery(".prodModel").css({height:""}),jQuery(".storePickDivHeight").css({height:""}),jQuery(".homeDeliveryDivHeight").css({height:""}),jQuery(".shippingDivHeight").css({height:""}),jQuery(".toGridPriceHeight").css({height:""}),jQuery(".changeZipDivText").removeClass("col-sm-5"),jQuery(".changeZipDivSubmit").removeClass("col-sm-3"),jQuery(".storePickDiv").css({"padding-left":"0px"}),jQuery(".homeDeliveryDiv").css({"padding-left":"0px"}),jQuery(".shippingDiv").css({"padding-left":"0px"})};function changeZip(e){return e.preventDefault(),checkZipValue(),disableStoreWithZeroProducts(),!1}jQuery(document).ready((function(){jQuery("#filterResultsLink").on("click",(function(){jQuery("#loadingmessage").show(),jQuery("#cohead").hide(),jQuery("#cofoot").hide(),jQuery("#loadingmessage").hide(),jQuery("#filtersDiv").show(),jQuery("#xs-itmes-count").addClass("hidden-xs"),jQuery("#rightCol").hide(),jQuery("#leftCol").hide(),jQuery("#filter-xs-button").addClass("hidden-xs"),jQuery("#filterMenuBar").show()})),jQuery("body").off("click").on("click",".filterRefreshLink",(function(e){e.preventDefault(),jQuery("#filterMenuBar").fadeTo(0,.5),jQuery.ajax({url:jQuery(this).attr("data-url"),beforeSend:function(){jQuery(".page-loader").removeClass("hide")},success:function(e){jQuery(".page-loader").addClass("hide");var r,t=jQuery(e).find("div#filtersDiv").html();jQuery("#filtersDiv").html(t),jQuery("#filtersDiv").show(),jQuery("#filterMenuBar").fadeIn(),hammerFilterinit(),r=jQuery("#insortorder").val(),jQuery("#accordionSortbyList").closest("#accordionSort").find(".accordionMain"),jQuery("#accordionSortbyList li").each((function(e,t){jQuery(t).attr("data-sort")==r&&(jQuery("#accordionSortbyList li").removeClass("active"),jQuery("#accordionSortbyList li").find(".img-checked-filter").remove(),jQuery(t).addClass("active"),jQuery(t).append('<img src="css/tick.png" class="img-checked-filter pull-right">')),setTimeout((function(){jQuery("#accordionSortbyList li").css("display","block");var e=jQuery("#selectedSortOptionValue").val();e.length&&jQuery("#selectedSortByLabel").text(e)}),600)}))}})})),jQuery("#storeModal").on("shown.bs.modal",(function(e){jQuery(".modal-backdrop.fade").remove()}))})),jQuery(document).ready((function(){jQuery(".ui-loader").hide(),jQuery(window).scroll((function(){jQuery(this).scrollTop()>100?jQuery("#back-to-top").fadeIn():jQuery("#back-to-top").fadeOut()})),jQuery("#filtersDiv").on("click","#accordion > li > div",(function(e){jQuery(".arrowlink").removeClass("arrow-up").addClass("arrow-down"),0==jQuery(this).next().is(":visible")?(jQuery(this).find("#arrow").removeClass("arrow-down").addClass("arrow-up"),jQuery("#accordion ul").slideUp(300)):jQuery(this).find("#arrow").removeClass("arrow-up").addClass("arrow-down"),jQuery(this).next().slideToggle(300)}))})),jQuery(document).ready((function(){jQuery(".back-to-top-desktop").hide(),jQuery((function(){jQuery(window).scroll((function(){jQuery(this).scrollTop()>300?jQuery(".back-to-top-desktop").fadeIn():jQuery(".back-to-top-desktop").fadeOut()})),jQuery(".back-to-top-desktop").click((function(){return jQuery("body,html").animate({scrollTop:0},800),!1}))}))}));var zipVal="";function checkZipValue(){if(5==(zipVal=document.getElementById("zCodefromsearch").value.trim()).length){var e="/search_jsp/near_by_store_filters.jsp?zipCode="+zipVal+"&validateZip=true";window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP"));try{request.onreadystatechange=chkZipcode,request.open("GET",e,!0),request.send()}catch(e){alert("Unable to connect to server")}}else document.getElementById("errorinzipcode").innerHTML="*Please enter a valid 5-digit ZIP Code",$("#errorinzipcode").show()}function chkZipcode(){if(4==request.readyState){var e=request.responseText;"false"==(e=e.trim())?(document.getElementById("errorinzipcode").innerHTML="*Please enter a valid 5-digit ZIP Code",$("#errorinzipcode").show()):"true"==e?getStores():(document.getElementById("errorinzipcode").innerHTML="No stores found in this area, Please Enter another Zip Code",$("#errorinzipcode").show())}}function getStores(){$.ajax({type:"POST",data:{zipCode:zipVal},url:"/search_jsp/near_by_store_filters.jsp",datatype:"html"}).done((function(e){$("#nbStores").html(e)}))}function disableStoreWithZeroProducts(){jQuery(".storeCount").each((function(){"(0)"==jQuery(this).text().trim()&&jQuery(this).parent().find('input[type="checkbox"]').attr("disabled",!0).attr("title","No Products Found In This Store")}))}function show_priceMatch(e,r){checkScroll=jQuery(window).scrollTop();var t=1e3,o=(jQuery(window).width()-t)/2,i=(o=20,0);return"grid"==jQuery("#listGridVal").val()?(o=$(window).width()-t,i=r.clientX-o+115,jQuery("#"+e).css("top",r.clientY+10).css("left",i).css("display","inline-block").css("position","fixed")):(o=($(window).width()-t)/2,jQuery("#"+e).css("top",r.clientY+10).css("left","auto").css("right",o).css("display","inline-block").css("position","fixed")),!1}function hide_priceMatch(e,r){return count=0,jQuery("#"+r).hide(),!1}function showToggle(e,r,t,o){var i=jQuery("#"+t).attr("src"),s=jQuery("#"+t).attr("data-swap");jQuery("#"+t).attr("src",s).attr("data-swap",i),jQuery("#"+r).toggle(),jQuery("#"+o).toggle()}function validateNumericZipCode(e,r,t,o,i,s,a,l,n,u){var d={};d.mainPlu=i,d.id=r,d.errorMessageId=t,d.callbackFn=o,d.callBackParamters=[],null!=i&&null!=i&&(d.callBackParamters.push(i),d.id=d.id+i,d.errorMessageId=d.errorMessageId+i),null!=s&&null!=s&&d.callBackParamters.push(s),null!=a&&null!=a&&d.callBackParamters.push(a),null!=l&&null!=l&&d.callBackParamters.push(l),null!=n&&null!=n&&d.callBackParamters.push(n),null!=u&&null!=u&&d.callBackParamters.push(u),zipValidate(e,d)}function changeForGuestPSC(e,r){var t=jQuery(e.target),o=document.getElementById("pickupZip2"+r).value;jQuery.ajax({type:"GET",url:"/ShopCartServlet?action=psc_avail&zipp="+o+"&plu="+r,datatype:"text"}).done((function(e){var o=e.trim();console.log(JSON.stringify(o)),"InValid Zipcode"==o?t.closest(".input-group").parent().find("#errormessageZip"+r).html("*Please enter a valid 5-digit ZIP Code"):"No Store Found"==o?t.closest(".input-group").parent().find("#errormessageZip"+r).html("* PSC eligibility is based on the ZIP code, and the entered shipping ZIP code does not qualify"):"No Stock"==o||"Product not Found"==o?t.closest(".input-group").parent().find("#errormessageZip"+r).html("* PSC eligibility is based on their ZIP code, and the entered shipping ZIP code does not qualify"):"Store Found"==o?window.location.href="/ShopCartServlet?action=display_cart":t.closest(".input-group").parent().find("#errormessageZip"+r).html("*Please enter a valid 5-digit ZIP Code")}))}function removeItemFromCart(e){jQuery.ajax({type:"GET",url:"/ShopCartServlet?action=remove_item&form_plu="+e,dataType:"html",beforeSend:function(){jQuery("body").append('<div id="page-loader-wrapper"><span class="page-loader"><i class="fas fa-circle-notch fa-spin"></i></span></div>')}}).done((function(e){jQuery("body").find("#page-loader-wrapper").remove(),window.location.reload()}))}function updateCartCount(){var e=jQuery(".countCart").text();jQuery("#cartCountDiv").text(e)}function loadMoreProducts(e,r){var t,o,i,s,a="",l="",n="",u="",d="",c="",p="";ziprowVal="";var h=window.location.href,g="",y=!1,m="",j=-1,v=-1;if(h.includes("?")&&(y=!0),!Boolean(y)&&window.location.href.indexOf("com")>0){var Q=window.location.href.indexOf("com");l=window.location.href.substring(0,Q),g=l+"com/search?"+e,console.log("generic url for category search flow"),console.log(g)}var f=getFinalUrl(y,h);t=checkUrlForParameter(h,"resultPageFromZip"),o=checkUrlForParameter(h,"resultPageFromFilter"),i=checkUrlForParameter(h,"resultPageFromBackButton"),s=checkUrlForParameter(h,"resultPageFromRemoveAnItemfromCart"),isresultPageFromApplyFilterPresent=checkUrlForParameter(h,"resultPageFromApplyFilter"),n=parseInt(getParamValue(h,"resultPageFromZip")),u=parseInt(getParamValue(h,"resultPageFromFilter")),d=parseInt(getParamValue(h,"resultPageFromBackButton")),c=parseInt(getParamValue(h,"resultPageFromRemoveAnItemfromCart")),p=parseInt(getParamValue(h,"resultPageFromRemoveAnItemfromCart")),isNaN(n)&&(n=0),isNaN(u)&&(u=0),isNaN(d)&&(d=0),isNaN(c)&&(c=0),isNaN(p)&&(p=0),Boolean(t)?(n+=1)>resultpage&&(resultpage=n):Boolean(o)?(u+=1)>resultpage&&(resultpage=u):Boolean(i)?(d+=1)>resultpage&&(resultpage=d):Boolean(s)?(c+=1)>resultpage&&(resultpage=c):Boolean(isresultPageFromApplyFilterPresent)&&(p+=1)>resultpage&&(resultpage=p),start=20*resultpage,Boolean(y)?(console.log("query search url"),m=f+"&resultpage="+resultpage+"&start="+start+"&rows="+rows+"&loadmore=true&isAjax=true",console.log(m)):(m=g+"&resultpage="+resultpage+"&start="+start+"&rows="+rows+"&loadmore=true&isAjax=true",console.log("category search url"),console.log(m)),jQuery.ajax({url:m+"&requestFromMobile=M",type:"GET",beforeSend:function(){jQuery("#search-result-load-btn").text("Loading..."),jQuery("#search-result-load-btn").addClass("disabled")},success:function(e){v=20*resultpage+20,a=Boolean(y)?f+"&start=0&rows="+v+"&loadmore=true&isReloaded=true":g+"&start=0&rows="+v+"&loadmore=true&isReloaded=true",document.cookie='urlStorageForNProducts="'+a+'"',document.cookie="cookieName=backButtonFlowCookie",document.cookie='urlforBackButton="'+a+'"',document.cookie="cookieNameDumy=dummyCookie",jQuery("#search-result-load-btn").text("See More"),jQuery("#search-result-load-btn").removeClass("disabled"),j=parseInt(r),updateProdCount(resultpage),parseInt(v)>=j&&(jQuery("#search-result-load-btn").addClass("hide"),v=r),setResultPage(resultpage),sessionStorage.setItem("ajaxResultPage",resultpage),sessionStorage.setItem("SearchPageNumber",resultpage),sessionStorage.setItem("ajaxLatestLoadedUrl",m),resultpage+=1;var t=resultpage+1,o="<div class='search-pagination-wrapper'><a class='search-pagination-link'  href='#loader-more-container-"+(resultpage-1)+"'><i class='fas fa-chevron-up'></i></a><span class='paginate-number'>Page "+resultpage+"</span><a class='search-pagination-link search-next-page-link hide'  href='#loader-more-container-"+t+"'><i class='fas fa-chevron-down'></i></a></div>",i='<div class="clearfix"></div>',s=jQuery(e).find(".prodCol");if(jQuery("#rightCol").append('<div id="loader-more-container-'+resultpage+'"></div>'),jQuery(".search-next-page-link").length&&jQuery("#rightCol").find(".search-next-page-link").removeClass("hide"),jQuery(i).insertBefore(jQuery("#loader-more-container-"+resultpage)),jQuery(i).insertAfter(jQuery("#loader-more-container-"+resultpage)),jQuery(o).insertBefore(jQuery("#loader-more-container-"+resultpage)),0!=s.length){for(var l=0;l<s.length;l++)jQuery("#loader-more-container-"+resultpage).append(s[l]);jQuery("#xs-itmes-count span#count").text(v),jQuery("#xs-itmes-count span#sub-count").text(r)}else jQuery("#search-result-load-btn").addClass("hide"),jQuery(".seeMoreErrorWrapper").removeClass("hide"),jQuery("#search-result-error-div").text("Oops ! Something went wrong. Please try again.")},error:function(e,r){console.log("jqXHR: "+e+" exception: "+r),jQuery("#search-result-load-btn").addClass("hide"),jQuery(".seeMoreErrorWrapper").removeClass("hide"),jQuery("#search-result-error-div").text("Oops ! Something went wrong. Please try again.")}})}function getFinalUrl(e,r){var t="";if(ziprowVal="",Boolean(e)){var o=r.split("?"),s=o[0],a=o[1];for(o[1].includes("resultPageFromZip")&&(isresultPageFromZipPresent=!0),splitamp=a.split("&"),i=0;i<splitamp.length;i++){if(splitamp[i].includes("resultPageFromZip")&&(splitamp[i]=""),splitamp[i].includes("resultPageFromFilter")&&(splitamp[i]=""),splitamp[i].includes("resultPageFromBackButton")&&(splitamp[i]=""),splitamp[i].includes("resultPageFromRemoveAnItemfromCart")&&(splitamp[i]=""),splitamp[i].includes("resultpage")&&(splitamp[i]=""),splitamp[i].includes("start")&&(splitamp[i]=""),splitamp[i].includes("rows")){var l=splitamp[i].split("=");ziprowVal=parseInt(l[1]),splitamp[i]=""}splitamp[i].includes("loadmore")&&(splitamp[i]="")}for(j=0;j<splitamp.length;j++)""!=splitamp[j]&&(t=splitamp[j]+"&"+t)}return s+"?"+t.substring(0,t.length-1)}function getChangeZipUrl(e,r){var t="",o=!1,i=window.location.href,s=!1,a=!1;if(prodNo="",g="",null!=e&&null!=e||(e=0),i.includes("?")&&(o=!0),!Boolean(o)&&window.location.href.indexOf("com")>0){var l=window.location.href.indexOf("com");baseURL=window.location.href.substring(0,l),t=baseURL+"com/search?"+r}var n=getFinalUrl(o,i),u=checkUrlForParameter(i,"resultPageFromZip"),d=checkUrlForParameter(i,"resultPageFromFilter"),c=(checkUrlForParameter(i,"resultPageFromApplyFilter"),parseInt(getParamValue(i,"resultPageFromZip"))),p=parseInt(getParamValue(i,"resultPageFromFilter")),h=parseInt(getParamValue(i,"resultPageFromApplyFilter")),g=parseInt(getParamValue(i,"rows"));return isNaN(c)&&(c=0),isNaN(g)&&(g=0),Boolean(u)?(s=!0,c>e&&(e=c),prodNo=20*e+20):Boolean(d)?(a=!0,p>e&&(e=p),prodNo=20*e+20):Boolean(d)?(!0,h>e&&(e=h),prodNo=20*e+20):prodNo=20*e+20,i=Boolean(o)?s?n+"&start=0&rows="+prodNo+"&resultPageFromZip="+e:a?n+"&start=0&rows="+prodNo+"&resultPageFromFilter="+e:n+"&start=0&rows="+prodNo+"&resultPageFromZip="+e:t+"&start=0&rows="+prodNo+"&resultPageFromZip="+e}function checkUrlForParameter(e,r){var t=getParamValue(e,r);return null!=t&&null!=t}function getParamValue(e,r){return new URL(e).searchParams.get(r)}function updateProdCount(e){jQuery("#mob-count").html(e*PAGE_SIZE)}function getResultPage(){return jQuery("#resultPgCount").val()}function setResultPage(e){jQuery("#resultPgCount").val(e)}jQuery(window).on("load",(function(){disableStoreWithZeroProducts()})),jQuery((function(){jQuery("body").on("click",".btn-number-search",(function(e){e.preventDefault();jQuery(this).attr("data-field");var r=jQuery(this).attr("data-type"),t=jQuery(this).closest(".quantity-spinner-main").find(".itm_qnty"),o=parseInt(t.val());if(isNaN(o))t.val(0);else if("minus"==r){var i=parseInt(t.attr("min"));i||(i=1),o>i&&t.val(o-1).change(),parseInt(t.val())==i&&jQuery(this).attr("disabled",!0)}else if("plus"==r){var s=parseInt(t.attr("max"));s||(s=9999999999999),o<s&&t.val(o+1).change(),parseInt(t.val())==s&&jQuery(this).attr("disabled",!0)}})),jQuery(".input-number").focusin((function(){jQuery(this).data("oldValue",jQuery(this).val())})),jQuery(".input-number").change((function(){var e=parseInt(jQuery(this).attr("min")),r=parseInt(jQuery(this).attr("max"));e||(e=1),r||(r=9999999999999);var t=parseInt(jQuery(this).val()),o=jQuery(this).attr("name");t>=e?jQuery(".btn-number-search[data-type='minus'][data-field='"+o+"']").removeAttr("disabled"):(alert("Sorry, the minimum value was reached"),jQuery(this).val(jQuery(this).data("oldValue"))),t<=r?jQuery(".btn-number-search[data-type='plus'][data-field='"+o+"']").removeAttr("disabled"):(alert("Sorry, the maximum value was reached"),jQuery(this).val(jQuery(this).data("oldValue")))}))}));