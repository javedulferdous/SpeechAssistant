(this.$WP=this.$WP||[]).push(["zlqOrw",(e,t)=>{"use strict";var o,a,i,s,l,r,n,c,p,m,v,d,_,k,u,b,C,S,g,y,w,h,f,N,M,D,P,z=e=>e?e.split(",").map(e=>parseInt(e,10)).filter(e=>!isNaN(e)).sort():[],T=(e,t=(new Date).getTime(),o=(new Date).getTime()-D,a=10)=>{var i=z(k.get(e));i.push(t),i=i.filter(e=>e>=o),k.set(e,i.slice(Math.max(0,i.length-a)).join(","))},O=(e,t)=>((e,t)=>z(k.get(e)).filter(e=>e>=t))(e,t).length,x=({active:e,onClick:t,bookmarkSize:a,animated:i})=>o(_,{active:e,onClick:t,bookmarkSize:a,bookmarkStyle:"outline",decorated:!1,animated:i},e=>o("span",{className:"_1ULmbYr3"},e)),E=(e,t,a,i,s)=>{var l=t;switch(v("saves_hotspot_button")&&(l=()=>{var e=(new Date).getTime();T("saves_click_time_series",e,e-M,3),t()}),a){case"listing":return o(_,{active:e,onClick:l,bookmarkStyle:"stacked",bookmarkSize:"30"});case"responsive_review":case"forum_post":return"DESKTOP"===i?o(x,{active:e,onClick:l,bookmarkSize:"20"}):o(_,{active:e,onClick:l,bookmarkStyle:"outline",bookmarkSize:"24"});case"responsive_review_hotspot":return"DESKTOP"===i?o(x,{active:e,onClick:l,bookmarkSize:"20",animated:s}):o(_,{active:e,onClick:l,bookmarkStyle:"outline",bookmarkSize:"24",animated:s});case"mobile_review":return o(_,{active:e,onClick:l,bookmarkStyle:"outline",bookmarkSize:"24"});case"mobile_restaurant_review":return o(_,{active:e,onClick:l,vertical:!0,bookmarkStyle:"outline",bookmarkSize:"22",decorated:!1},e=>o("span",{className:"_1OX35TKy"},e));case"mobile_attraction_product_detail":return o(_,{active:e,onClick:l,bookmarkStyle:"stacked",bookmarkSize:"24"});default:return d.warn("Widget style not found: "+a),null}},W=({toastContent:e,durationMs:t,active:a,onClick:c})=>{var[p,m]=i(!1),[v,d]=s(y);l(()=>{g("reg_dialog").on("all_dismissed",()=>m(!0))},[]);var k=r(()=>{C({module:"saves_tooltip",action:"saves_tooltip_close"}),m(!1)},[]),u=r(()=>{C({module:"saves_tooltip",action:"saves_tooltip_displayed"}),T("saves_poptoast_trigger_time_series")},[]),S=o("div",{className:"_1K1DNQyM"},o("div",{className:"_1X9PsR1_"},o("div",{className:"rRckfkFc"},o("div",{className:"_38CYubng"},e)),o("div",{className:"_2KpJpoPY"},o("span",{className:"_38pUNpMw"},o(w,{colorVariant:"TA_GRAY_3",onClick:()=>{d(),k()}})))));return o(n,null,p&&o(b,{trigger:()=>{v({node:S,timeout:t}).then(()=>{k()}),u()},interval:2e3}),o("div",{className:"_8YbbDzDD"},o(_,{active:a,onClick:c,bookmarkStyle:"outline",bookmarkSize:"24",animated:!0})))},j=({object:e,widgetStyle:t,viewportCategory:a,tooltipCopy:i,toastCopy:s,toastCopySubhead:l,allowPopStatModal:r})=>o(p,{object:e,allowPopStatModal:r},"MOBILE"===a&&s&&l?(e,i)=>{var r,n=!i&&(r=Date.now(),0===O("saves_poptoast_trigger_time_series",r-f)&&0===O("saves_click_time_series",r-M)),c=()=>{n=!1,e()};return n?o(W,{active:i,onClick:c,toastContent:o("div",{className:"_34nCm2QP"},o("span",{className:"GkP3Ia0m"},o("span",{className:"_2sMMJ-gU"},o(_,{bookmarkStyle:"flat",active:!0,decorated:!1,bookmarkSize:"30"})),o("span",{className:"_10_wM36m"},u(s))),u(l)),durationMs:8e3}):E(i,c,t,a)}:"MOBILE"!==a&&i?(e,s)=>{var l,r=!s&&(l=Date.now(),!(parseInt(k.get("dtSoftPromptSuppressed"),10)>=l-2592e5)&&0===O("saves_tooltip_trigger_time_series",l-864e5)&&O("saves_tooltip_trigger_time_series",l-f)<2&&O("saves_tooltip_trigger_time_series",l-N)<4&&0===O("saves_click_time_series",l-M)),n=()=>{r=!1,e()};return r?o("div",null,o(h,{tooltipContent:o("div",{className:"_1RliGZZV"},u(i))}),E(s,n,t,a,r)):o("div",null,E(s,n,t,a))}:(e,o)=>E(o,e,t,a)),I=({object:e,widgetStyle:t,tooltipCopy:a,toastCopy:i,toastCopySubhead:s,viewportCategory:l,allowPopStatModal:r,isNativeWebview:n})=>{switch(t){case"responsive_review_hotspot":return o(m,null,o(j,{object:e,widgetStyle:t,tooltipCopy:a,toastCopy:i,toastCopySubhead:s,viewportCategory:l,allowPopStatModal:r}));default:return o(p,{object:e,allowPopStatModal:r,isNativeWebview:n},(e,o)=>E(o,e,t,l))}},Y=()=>[];return[()=>{f=6048e5,N=2592e6,M=7776e6,D=7776e6,h=class extends a{constructor(e){super(e),this.onClose=()=>{C({module:"saves_tooltip",action:"saves_tooltip_close"}),this.setState({enable:!1})},this.onOpen=()=>{C({module:"saves_tooltip",action:"saves_tooltip_displayed"}),T("saves_tooltip_trigger_time_series")},this.state={enable:!0,disabledExternally:!1}}componentDidMount(){g("home-location-prompt").on("shown",()=>this.setState({disabledExternally:!0}))}componentWillUnmount(){g("home-location-prompt").off("shown")}render(){var{tooltipContent:e}=this.props,{enable:t}=this.state;return this.state.disabledExternally?null:o(S,{leftOf:!0,shiftX:-10,shiftY:10,contents:t=>o("div",{className:"_1yxTqoG5",onClick:()=>{t(),this.onClose()}},e),onClose:this.onClose,local:!0,overlayType:"popover",closeButtonColorVariant:"TA_GRAY_3"},(e,a)=>o("div",{ref:t=>{e(t)}},o(b,{trigger:()=>{t&&(a(),this.onOpen())},interval:2e3})))}},P=c(e=>({viewportCategory:e.meta.device.viewportCategory,isNativeWebview:e.meta.isNativeWebview}))(I),e("default",P),e("ssrQueries",Y)},[e=>(o=e.createElement,a=e.Component,i=e.useState,s=e.useContext,l=e.useEffect,r=e.useCallback,n=e.Fragment),e=>c=e.connect,e=>p=e.QueriedTripFlowSelector,e=>m=e.MountedClientOnly,e=>v=e.featureIsEnabled,e=>d=e.default,e=>_=e.BookmarkIcon,e=>k=e.default,e=>u=e.unescaped,e=>b=e.default,e=>C=e.default,e=>S=e.default,e=>g=e.default,e=>y=e.Toast,e=>w=e.CloseIcon]]},["cDcdfi","h74DsO","HZtvHO","4Z07E2","-i3PJS","4LU1Ax","vF730k","jaCyxS","535agn","lmr1u9","Jk5sjx","eDFcUX","l6BSGt","Q7TAd7","xegF5W"]]);
