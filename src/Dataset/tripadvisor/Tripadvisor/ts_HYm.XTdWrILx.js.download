(this.$WP=this.$WP||[]).push(["ts_HYm",(e,a)=>{"use strict";var s,t,i,r,l,n,o,c,m,u,d,p,_,f,v,g,h,k,T,N,x,b,O,E,y=()=>{var e=n("view_deal");return m("hotel_offer_primary_cta_visit_site")?e=n("meta_visit_site"):m("hotel_offer_primary_cta_continue")&&(e=n("meta_continue")),e},I=e=>{var{listing:a}=e,{chevronOffers:s,textLinkOffers:t,hiddenOffers:i}=a||{},r=e=>"AVAILABLE"===e.status;return!!(s&&s.find(r)||t&&t.find(r)||i&&i.find(r))},A=e=>{var{listing:a}=e;return!!(a&&a.chevronOffers&&0===a.chevronOffers.length&&a.textLinkOffers&&0===a.textLinkOffers.length)},C=e=>{var{listing:a}=e;return a&&a.chevronOffers&&a.chevronOffers[0]?a.chevronOffers[0]:null},L=e=>e&&e.isIbOffer&&m("om_affiliate_commerce_button_CTA"),R=e=>{if(!e)return{};var a={"data-contentid":e.contentId,"data-provider":e.provider,"data-clicktoken":e.clickToken||void 0,"data-early-click-target":"commerce/offerclick.compElementClick"};return(e.dataAtts?Object.keys(e.dataAtts).filter(e=>!a[e]&&/^data-/.test(e)):[]).forEach(s=>{e&&e.dataAtts&&(a[s.toLowerCase()]=e.dataAtts[s])}),a},M=(e,a)=>{e.persist();var s=a||e.currentTarget,t=s&&s.getAttribute("data-clicktoken");return!!t&&(window._hotels_early_clicks_enabled_&&s.getAttribute("data-early-click-target")||globalThis.require(["trjs!commerce/offerclick"],a=>a.clickEvent(e.nativeEvent,s,t)),!1)},D=({message:e})=>{var a,s=m("free_cancellation_larger_text_below_price"),l=m("free_cancellation_larger_text"),c=m("free_cancellation_red_pill"),v="FREE_CANCELLATION"===e.type;a=c?t("span",{className:"_1gbvltHl"},v?o(n("checkout_free_cancellation_emphasis",{0:"_22XTv4Cj",1:e.message})):e.message):l||s?t(i,null,t(d,{name:"checkmark",className:u("_2Fz7VeIk","_2i1bv84R",{_2gQQd4p3:v})}),t("span",{className:u("_1gbvltHl",{_1WOZPEti:v})},e.message)):t(i,null,t(d,{name:"checkmark",className:u("_2Fz7VeIk","_2_u0D7ap")}),e.message);var{route:g}=r(_);return t(f,{onVisible:()=>{v&&p({module:"osm-free-cancellation",action:"shown",context:g.page})}},e=>t("div",{ref:e,className:u("_3iur_VAD",{_1BMmC4Cs:!c,_5DDlnGCe:c})},a))},P=({message:e,merchandiseMessagesBelow:a})=>t("div",{className:u("_331Fldhq",a?"_3EFPimoQ":void 0)},t("div",{className:"DFxnTC81"},t("span",{className:"_1YJgOB7r"},t(d,{name:"lock",className:u("_3sVIIc7J")}),t(d,{name:"bubble-rating-bg",className:u("_3rNcQAjs")})),t("span",{className:"_15UPIQ3k"},e))),F=e=>{if(e&&e.specialRateTracking){var a,s,t=(null==(a=e.dataAtts)?void 0:a["data-provider"])||"Unknown",i=(null==(s=e.dataAtts)?void 0:s["data-specialratetype"])||"None",r=e.specialRateTracking;p({module:"Hotels_Loyalty_HR_click",action:`${t}|${i}`,context:r})}},w=e=>{var a=e.find(e=>!!e.data.specialRateTracking);a&&p({module:"Hotels_Loyalty_HR",action:"Loyalty_Offer",context:a.data.specialRateTracking})},V=({body:e,title:a})=>s.createElement("div",{className:"_28Z2GaST"},s.createElement(g,{variant:"body-01"},e),s.createElement("div",{className:"_3YpM2EGF"},a)),S=({priceText:e,strikeThroughText:a})=>s.createElement("div",{className:"_28Z2GaST"},s.createElement(g,{variant:"title-05"},s.createElement("span",{className:"_23Z1i5EV"},a)),s.createElement(g,{variant:"title-04"},e)),j=({isOptimusMember:e,savePriceText:a,priceText:t,strikeThroughText:i})=>e?t&&i&&s.createElement(S,{priceText:t,strikeThroughText:i})||null:a&&s.createElement(V,{body:b("Members save"),title:s.createElement(g,{variant:"title-04",elementType:"span"},a)})||null,U=({perks:e})=>s.createElement(V,{body:b("Includes"),title:s.createElement(k,{triggeringElement:s.createElement(g,{variant:"title-04",elementType:"span"},b(e.length+" Perks"),s.createElement(v,{name:"single-chevron-down",size:16})),content:s.createElement("ul",null,e.map(e=>s.createElement("li",{key:e,className:"_2OWMMjJ7"},e))),variant:"top-caret"})}),B=({status:e="UNCONFIRMED",data:a,isOptimusMember:t=!1,savePriceText:i,priceText:l,strikeThroughText:n,perks:o})=>{var c=N(!0),{userId:m}=r(T),u=!i&&!!(null==o?void 0:o.length),d=b(u?"Join for access":"Join to unlock deal");return s.createElement("div",Object.assign({className:"B_jHn6vg",onClick:e=>{m?(M(e),F(a)):c()}},m?R(a):{}),s.createElement("div",{className:"Csq2jfCS"},s.createElement(x,null),u&&(null==o?void 0:o.length)?s.createElement(U,{perks:o}):s.createElement(j,{isOptimusMember:t,savePriceText:i,priceText:l,strikeThroughText:n})),s.createElement("div",{className:"_2lqesaPq"},"IN_PROGRESS"===e?s.createElement(h,{variant:"commerce",fullWidth:!0},s.createElement("span",{className:"ui_loader small _27Vg-mEz"},s.createElement("span",null),s.createElement("span",null),s.createElement("span",null))):"UNAVAILABLE"!==e&&s.createElement(h,{variant:"commerce",fullWidth:!0},t?b("Book with Plus"):d)))},H=e=>e&&e.isIbOffer&&m("om_affiliate_commerce_button_CTA"),W=({data:e,providerLogoUrl:a,providerDisplayName:s,strikeThroughText:i,buttonText:r,priceText:l,status:o,specialRateMessage:d,merchandiseMessages:p})=>{var _,f;return t("div",null,t("a",Object.assign({id:"bor_book_link_"+e.contentId,className:u("_1o_OfK9e","offer",i&&m("black_strikethrough")&&"_2iDMIf1u",m("commerce_link_strategy_underline_prices")&&"q_12yd7W",e.clickToken&&"bookableOffer"),href:"javascript:void(0);",onClick:a=>{M(a),F(e)}},R(e)),t("div",{className:"ui_columns is-mobile is-multiline is-vcentered is-gapless-vertical _2mWM5u8t"},t("div",{className:"ui_column _1EtJ-1tF"},((e,a,s)=>e.isIbOffer?t("span",{className:u("svgico","_2mJVEuQ3")}):a?t(c,{className:"Vjc6RdcL",src:a,alt:s}):t("span",{className:"taLnk",title:s},s))(e,a,s)),t("div",{className:"ui_column _3i9OU2GV"},i?t("div",{className:"_2JmYBC6L"},i):null,l?t("div",{className:u("CEf5oHnZ",("HIDE_LOYALTY_RATE_M3"===(null==(_=e.dataAtts)?void 0:_["data-specialratetype"])||"HIDE_LOYALTY_RATE_M3_NO_CLEAR"===(null==(f=e.dataAtts)?void 0:f["data-specialratetype"]))&&"s0b2J0YS")},l):null)),(e=>H(e)?t(D,{key:n("affiliate_merchandise_message_v1"),message:{type:"DEFAULT",message:n("affiliate_merchandise_message_v1")}}):null)(e),((e,a)=>e&&0!==e.length?t(P,{message:e,merchandiseMessagesBelow:void 0!==a&&a.length>0}):null)(d,p),(e=>e&&0!==e.length?t("div",{className:"_3RfWNxlY"},e.map(e=>t(D,{key:e.message,message:e}))):null)(p)),t("div",{className:"ui_columns is-mobile"},t("div",{className:"ui_column is-12 _3zuAdlaI"},t("div",Object.assign({className:"_1ANzvm6p ui_button original",onClick:a=>{M(a),F(e)}},R(e)),"IN_PROGRESS"===o?t("span",{className:"ui_loader small _3sHNVnHc"},t("span",null),t("span",null),t("span",null),t("span",null),t("span",null)):r||(e=>H(e)?n("affiliate_cta_book_get_rewards_v1"):null)(e)||y()))))},G=e=>(e.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","status","specialRateMessage","merchandiseMessages","isSPSingleOffer","perks"),({offer:e,offer:{data:a,status:s="UNCONFIRMED",savePriceText:i,priceText:r,strikeThroughText:l},isOptimusMember:n})=>a&&(a.isOptimusOffer?t(B,{data:a,status:s,isOptimusMember:n,savePriceText:i,priceText:r,strikeThroughText:l,perks:e.perks}):t(W,{data:a,providerLogoUrl:e.providerLogoUrl,providerDisplayName:e.providerDisplayName||"",priceText:r,strikeThroughText:e.data.hasStrikeThroughLine?void 0:l,status:s,specialRateMessage:e.specialRateMessage,merchandiseMessages:e.merchandiseMessages}))),Y=({data:e,providerDisplayName:a,priceText:s,isComparisonOffer:i,status:r,inDropdown:l,canPayInInstallments:n})=>t("div",Object.assign({className:u("_1IFf-ERd",{_22WJert_:!e.clickToken,RgrGFVFR:l,_1bRQGDBX:m("black_strikethrough"),CEcGm8YY:m("commerce_link_strategy_underline_prices")}),onClick:a=>{M(a),F(e)}},R(e)),t("span",{title:a,className:"_2wV67EZ_"},t("span",{className:m("pay_in_installments_msg")&&n?"_1OL8WXJm":""},a),e.isIbOffer||!e.clickToken?null:t("span",{className:"ui_icon external-link-no-box"})),((e,a,s,i,r)=>{if("IN_PROGRESS"===e)return t("span",{className:"_2090m-KY"},t("span",{className:"ui_loader small"},t("span",null),t("span",null),t("span",null),t("span",null),t("span",null)));if("UNAVAILABLE"===e||!s)return t("span",{className:"_36QowwPu"},t("span",{className:"ui_icon prohibited"}));if("AVAILABLE"!==e||!a)return t("span",{className:"_36QowwPu"},t("span",{className:"ui_icon search"}));var l=t("span",{className:"_3YL5Gx9O"},"(12x)");return t("span",{title:a,className:u("_36QowwPu",{_1AT54Cm9:i})},a,m("pay_in_installments_msg")&&r&&l)})(r,s,!!e.clickToken,i,n)),z=(e,a)=>(e.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status","canPayInInstallments"),({offer:e})=>e.data&&t(Y,{data:e.data,providerDisplayName:e.providerDisplayName||"",priceText:e.priceText,isComparisonOffer:e.isComparisonOffer,status:e.status||"UNCONFIRMED",inDropdown:a,canPayInInstallments:e.canPayInInstallments})),q=({data:e,providerLogoUrl:a,providerDisplayName:s,strikeThroughText:i,buttonText:r,priceText:l,status:o,savePriceText:d,taxesAndFeesText:p,specialRateMessage:_,merchandiseMessages:f})=>{var v,g;return t("div",Object.assign({className:u("_1mV0AtdP","offer",{hVx3qimM:i&&m("black_strikethrough"),_1p50Ckoi:m("commerce_link_strategy_underline_prices"),bookableOffer:e.clickToken,_2Ngw5d8g:d}),onClick:a=>{M(a),F(e)}},R(e)),t("div",{className:"ui_columns is-gapless is-mobile"},((e,a,s)=>t("div",{className:"ui_column is-4 t3llPvCc"},((e,a,s)=>e.isIbOffer?t("span",{className:u("svgico","_1qVaCAWj")}):a?t(c,{className:"_3j63Zrb6",src:a,alt:s}):t("span",{className:"taLnk",title:s},s))(e,s,a)))(e,s,a),t("div",{className:u("ui_column","is-4","_1j6xaJwD")},t("div",{className:u("_3kGtuPhC",l&&l.length>=8&&"_3QW7UBVB")},i?t("div",{className:"autoResize _7Q-WSV3L"},i):null,l?t("div",{className:u("_36QMXqQj","autoResize",("HIDE_LOYALTY_RATE_M3"===(null==(v=e.dataAtts)?void 0:v["data-specialratetype"])||"HIDE_LOYALTY_RATE_M3_NO_CLEAR"===(null==(g=e.dataAtts)?void 0:g["data-specialratetype"]))&&"_1I34BJbn"),"data-sizegroup":"hr_chevron_prices"},l):null,p?t("div",{className:"_1P9MCXty"},`+ ${p} ${n("meta_ui_taxes_and_fees_14f6")}`):null)),t("div",{className:u("ui_column","_2juD3SqG","is-4")},t("div",{className:u("ui_button","original","autoResize","_2bI94lMf",{large:"IN_PROGRESS"!==o}),"data-sizegroup":"hr_chevron_cta"},t("span",{className:"_1jVdEY_B"},"IN_PROGRESS"===o?t("span",{className:"ui_loader small giLEiCv6"},t("span",null),t("span",null),t("span",null),t("span",null),t("span",null)):r||y())))),d?t("div",{className:"autoResize _1DN-JXnh"},t("span",{className:"ui_icon star"}),t("span",null,n("hotels_save_money",{0:d}))):null,((e,a)=>e&&0!==e.length?t(P,{message:e,merchandiseMessagesBelow:void 0!==a&&a.length>0}):null)(_,f),(e=>e&&0!==e.length?t("div",{className:"_2RBZd3iW"},e.map(e=>t(D,{key:e.message,message:e}))):null)(f))},J=e=>(e.offerFields.push("data","providerLogoUrl","strikeThroughText","savePriceText","providerDisplayName","taxesAndFeesText","priceText","isComparisonOffer","status","specialRateMessage","merchandiseMessages","isSPSingleOffer","perks"),e=>{var{offer:a,offer:{data:s,status:i="UNCONFIRMED",savePriceText:r,priceText:l,strikeThroughText:n},isOptimusMember:o}=e;return s&&(s.isOptimusOffer?t(B,{data:s,status:i,isOptimusMember:o,savePriceText:r,priceText:l,strikeThroughText:n,perks:a.perks}):t(q,{data:s,providerLogoUrl:a.providerLogoUrl,providerDisplayName:a.providerDisplayName||"",priceText:l,strikeThroughText:s.hasStrikeThroughLine?void 0:n,isComparisonOffer:a.isComparisonOffer,taxesAndFeesText:m("hr_ib_exclude_taxes_and_fees")?void 0:a.taxesAndFeesText,savePriceText:s.hasStrikeThroughLine?void 0:a.savePriceText,status:a.status||"UNCONFIRMED",specialRateMessage:a.specialRateMessage,merchandiseMessages:a.merchandiseMessages}))}),Q=({data:e,providerDisplayName:a,priceText:s,isComparisonOffer:i,status:r,canPayInInstallments:l})=>t("div",Object.assign({className:u("_3ot2U70R",!e.clickToken&&"_3epAW6Yg",m("black_strikethrough")&&"_3V71iu7F"),onClick:e=>M(e)},R(e)),t("span",{title:a,className:"_3Q068vvU"},a,e.isIbOffer||!e.clickToken?null:t("span",{className:"ui_icon external-link-no-box"})),((e,a,s,i,r)=>{if("IN_PROGRESS"===e)return t("span",{className:"_2TkqMO0_"},t("span",{className:"ui_loader small"},t("span",null),t("span",null),t("span",null),t("span",null),t("span",null)));if("UNAVAILABLE"===e||!s)return t("span",{className:"HI9revnW"},t("span",{className:"ui_icon prohibited"}));if("AVAILABLE"!==e||!a)return t("span",{className:"HI9revnW"},t("span",{className:"ui_icon search"}));var l=t("span",{className:"MZwTErh2"},"(12x)");return t("span",{title:a,className:u("HI9revnW",{UWG36CMx:i})},a,m("pay_in_installments_msg")&&r&&l)})(r,s,!!e.clickToken,i,l)),X=e=>(e.offerFields.push("data","providerDisplayName","priceText","isComparisonOffer","status","canPayInInstallments"),({offer:e})=>e.data&&t(Q,{data:e.data,providerDisplayName:e.providerDisplayName||"",priceText:e.priceText,isComparisonOffer:e.isComparisonOffer,status:e.status||"UNCONFIRMED",canPayInInstallments:e.canPayInInstallments})),Z=({offer:e,variant:a})=>{var{userId:s}=r(T),n=N(!0),o=l((e,a)=>{s?M(e,a):n().then(()=>{M(e,a)})},[s,n]),c=l(()=>s?R(null==e?void 0:e.data):{},[e,s]);if(!e)return null;var{status:m,savePriceText:u,priceText:d,strikeThroughText:p,perks:_}=e;if("AVAILABLE"!==m)return null;var f=b(s?"Book Now":"View Deal"),v=!u&&!!(null==_?void 0:_.length);return"footer"===a?t("div",{className:"_2qAQG3ds"},t("div",{className:"_2bXsU1Rq"},t(x,{typographyVariant:"title-08"}),t(g,{variant:"title-07",elementType:"span"},p?t("span",{className:"FIfgrdpA"},p):null,d&&(s||v)?t("span",null,d):null)),t("div",Object.assign({onClick:o},c()),t(h,{variant:"commerce",size:"medium",legacyStyled:!0,fullWidth:!0},t(g,{variant:"button-01"},b("Book with Tripadvisor Plus"))))):t(i,null,t("div",{className:"_2Kz6x8Cx"},p?t("div",{className:"FIfgrdpA"},p):null,t(g,{variant:"supporting-02"},t("div",{className:"_1_e93b05"},v?b("Perks and benefits"):t(i,null,b("Members save "),t("span",null,u),b(s?" on this stay":" or more on this stay"))))),t("div",Object.assign({className:"_3HkgWXHK",onClick:o},c()),t(h,{variant:"commerce",size:"xsmall",legacyStyled:!0},f)))},$=({offer:e,mobile:a})=>{if(!e)return null;var{data:s,status:r,providerDisplayName:l,priceText:o}=e;if(s.isOptimusOffer)return t(Z,{offer:e,variant:a?"footer":"header"});var c=L(s)?n("affiliate_cta_book_get_rewards_v1"):y();return"AVAILABLE"!==r?null:t(i,null,t("div",{className:"_24bY4GLi"},t("div",{className:"S1zGvsMh"},o),t("div",{className:"_37DfeL8Z"},l,s.isIbOffer||!s.clickToken?null:t(d,{name:"external-link-no-box"}))),t("div",{className:"_157-EPpL"},t("div",Object.assign({className:"ui_button original",onClick:M},R(s)),c)))},K=(e,a)=>{if(!e)return"";var s={};return e.filter(e=>"string"==typeof e).forEach(e=>{s[e]=!0}),a&&a.filter(e=>"string"==typeof e).forEach(e=>{s[e]=!0}),Object.keys(s).sort().join(",")},ee=(e,a,s,t)=>E((t,i)=>((e,a,s,t,i)=>{var r;if(!t.route.detail)return null;var l=Number(t.route.detail),n=[`/data/1.0/hotelDetail/${l}/offers?rc=${i}`];e&&n.push("ttp="+e),t.tracking&&t.tracking.uid&&n.push("puid="+encodeURIComponent(t.tracking.uid));var o=t.travelerInfo&&t.travelerInfo.hotels;o&&o.stayDates&&(n.push("stayDates="+o.stayDates),n.push("dd="+!!o.defaultDates)),o&&o.guests&&n.push("guestInfo="+o.guests);var c=(t.meta&&t.meta.lineItemsByLoc||{})[String(l)];c&&n.push("slid="+c);var m=null==(r=t.page)?void 0:r.refreshCount;return m&&n.push("refreshCount="+m),a&&n.push("rn="+a),n.push("fields="+K(s.listingFields,["complete"])),n.push("offerFields="+K(s.offerFields,["status","data"])),t.page.isMetaWithVp&&n.push("shape=VP_HR"),n.join("&")})(a,i,e,t,s),e=>!(!e||!e.complete),(e,a,s,i)=>t(((e,a,s,t)=>({hotelId:e.route.detail?Number(e.route.detail):-1,loading:!!a,listing:s,params:t}))(e,a,s,i)),(a,s)=>e&&O(e,a,s)),ae=(e,a,s)=>ee(e,a,"Hotel_Review",s),se=(e,a,s)=>ee(e,a,"Hotel_Feature",s),te=(e,a,s)=>ee(e,a,"LocationPhotoDirectLink",s),ie={};return[()=>{globalThis.require&&globalThis.require(["trjs!commerce/offerclick"],()=>null),W.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,status:void 0,specialRateMessage:void 0,merchandiseMessages:void 0},Y.defaultProps={priceText:void 0,isComparisonOffer:void 0,inDropdown:void 0},q.defaultProps={providerLogoUrl:void 0,priceText:void 0,strikeThroughText:void 0,buttonText:void 0,savePriceText:void 0,isComparisonOffer:void 0,taxesAndFeesText:void 0,specialRateMessage:void 0,merchandiseMessages:void 0},Q.defaultProps={priceText:void 0,isComparisonOffer:void 0},e("default",ie),e({DetailChevronOffer:q,DetailTextOffer:Y,DominantOffer:W,MerchandiseMessage:D,MiniOffer:$,MobileDrawerOffer:Q,SpecialRateMessage:P,bindDetailChevronOffer:J,bindDetailTextOffer:z,bindDominantOffer:G,bindMobileDrawerOffer:X,bindToHotelFeature:se,bindToHotelReview:ae,bindToLocationPhotoDirectLink:te,clickOfferElement:M,getOfferElementProps:R,getTopOffer:C,getViewDealText:y,isAnyAvailable:I,isBookWithRewards:L,isNoCommerce:A,trackHRCugClick:F,trackHRCugShown:w})},[e=>(s=e.default,t=e.createElement,i=e.Fragment,r=e.useContext,l=e.useCallback),e=>(n=e.localize,o=e.unescaped),e=>c=e.CdnImage,e=>m=e.featureIsEnabled,e=>u=e.default,e=>d=e.Icon,e=>p=e.default,e=>_=e.RouteContext,e=>f=e.HasBeenVisible,e=>v=e.default,e=>g=e.default,e=>h=e.default,e=>k=e.default,e=>T=e.Visitor,e=>N=e.useOptimusLogin,e=>x=e.default,e=>b=e.needsLocalization,e=>O=e.stageAll,e=>E=e.bindDataApiPoller]]},["cDcdfi","535agn","4kVXmt","-i3PJS","jSLlaY","_qQcW3","Jk5sjx","N4pTU2","BLrxBS","OMqGt0","hA1RHn","eFikmI","ngjICG","2R4xv2","mT-Pb2","TkeYrn","P_mnfX","jP-Ceu","LgmAJW"]]);
