(this.$WP=this.$WP||[]).push(["G9idyf",(e,t)=>{"use strict";var a,n,l,r,s,i,o,c,m,u,d,p,g,v,h,f,y,E,k,_,S,b,N,D,w,C,T,M,O,F,x=({iconName:e,label:t,disabled:n,onClick:l})=>a.createElement("button",{className:"_3gvxhqaC",onClick:()=>l(),disabled:n,"aria-label":t},a.createElement(p,{name:e})),I=e=>1===e.getDate(),B=e=>I(new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)),R=e=>new Date(e.getFullYear(),e.getMonth(),1),j=e=>new Date(e.getFullYear(),e.getMonth()+1,0),L=e=>{var{visibleByDefault:t,scrollIntoViewByDefault:n,scrollContainer:l}=e,r=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,["visibleByDefault","scrollIntoViewByDefault","scrollContainer"]),[s,m]=i(t||n),u=v(m),d=o(n);return c(()=>{null!=u.current&&null!=l&&d.current&&l(u.current.offsetTop-120)},[l,u]),a.createElement("div",{ref:u,className:g("_13qeY-mw",{_1ayfGNis:s})},s&&a.createElement(y,r))},P=({maxRangeDays:e=30,scrollContainer:t,startDate:r,endDate:i,onStartDateChanged:o,onEndDateChanged:c})=>{var m,{locale:u}=l(h),d=(m=E(),n(()=>{var e="sun"===m.getFirstDayOfWeek()?0:1,t=new Intl.DateTimeFormat(m.locale,{month:"long",day:"numeric",year:"numeric"}),a=new Intl.DateTimeFormat(m.locale,{month:"long",year:"numeric"}),n=new Intl.DateTimeFormat(m.locale,{weekday:"short"}),l=new Intl.DateTimeFormat(m.locale,{weekday:"long"});return{formatDay:e=>t.format(e),formatMonthTitle:e=>a.format(e),formatWeekdayShort:t=>n.format(new Date(0,0,t+e)),formatWeekdayLong:t=>l.format(new Date(0,0,t+e)),getFirstDayOfWeek:()=>e}},[m])),p=(t,{_1OpIJQSr:a})=>{var n,l;a||(null==r||null==i||r.getTime()!==i.getTime()||(n=r,l=t,Math.floor(Math.abs(n.getTime()-l.getTime())/864e5)>=e)?(o(t),c(t)):r.getTime()===t.getTime()?(o(null),c(null)):r<t?c(t):o(t))},{os:g}=l(f),v=s((e,t,a)=>{"IOS"===g.family&&(a.currentTarget.click(),a.preventDefault())},[g]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"_29IG1LIm"},[0,1,2,3,4,5,6].map(e=>a.createElement("div",{key:e,className:"QSFk7w4F"},d.formatWeekdayShort(e)))),Array(20).fill(0).map((e,t)=>new Date(w.getFullYear(),w.getMonth()+t,1)).map((e,n)=>a.createElement(L,{key:e.toISOString(),visibleByDefault:0===n,scrollIntoViewByDefault:null!=r&&r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth(),scrollContainer:t,month:e,canChangeMonth:!1,showWeekDays:!1,localeUtils:d,locale:u.code,disabledDays:{before:w},selectedDays:{from:r,to:i},modifiers:{_2feWz6VF:[r,I],_1xsBKt62:[i,B]},classNames:{caption:"hSMC3TCx",week:"_1OraJxax",day:"_2Tj4cq5Y",disabled:"_1OpIJQSr",outside:"_1OpIJQSr",selected:"_1RJMzTKK",month:"",container:"",wrapper:"",interactionDisabled:"",body:"",today:""},onDayClick:p,onDayTouchEnd:v})))},Y=({result:e,active:t,onMouseMove:n,onSelect:l})=>{var r=s(()=>{l(e.value,e.details.name,e.name)},[e,l]);return a.createElement(N,{onSelection:r,onMouseMove:n,active:t},a.createElement("div",{className:g("_20QLk1YZ",{_1LIfKnhd:t})},a.createElement("div",{className:"s4qwuX4u"},e.details.name),a.createElement("div",{className:"iqpKCzYG"},e.details.parent_name)))},W=({placeholder:e,geoName:t,closeOnSelection:l=!1,showPopularDestinations:r=!1,showNearby:u=!1,maxResults:d=10,onChange:g,onShowHide:v,onNearbySelected:h=(()=>{}),children:f,autoOpen:y=!1,clearGeo:E=(()=>{})})=>{var{localize:N}=k(),[w,C]=i(t||""),[M,O]=i(y),[{data:F}]=_({query:T,pause:!r}),x=n(()=>((null==F?void 0:F.popularDestinations)||[]).slice(0,d).map(e=>{var t,a;return{value:(null==e?void 0:e.locationId)||-1,name:(null==e||null==(t=e.additionalNames)?void 0:t.longParentAbbreviated)||"",details:{name:(null==e?void 0:e.name)||"",parent_name:(null==e||null==(a=e.additionalNames)?void 0:a.longOnlyParent)||""}}}),[F,d]),I=n(()=>[new S({interleaved:!0,types:["geo"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:d})],[d]),B=s(()=>{O(!0),v(!0)},[v]),R=s(()=>{O(!1),v(!1)},[v]),j=s(e=>{e>0&&null!=w&&""!==w||E(),R()},[E,w,R]);c(()=>()=>{v(!1)},[v]);var L=o(null);m(()=>{var e=L.current;M&&null!=e&&(e.focus(),e.selectionStart=e.value.length,e.selectionEnd=e.value.length)},[M]);var P=s((e,t,a)=>{g(e,t),l&&(C(a),R())},[g,l,R]);return a.createElement(b,{fetchers:I},(t,n)=>{if(!M)return f({value:w,onChange:e=>{B(),C(e),n(e)},onClick:B});var l=[],s=!1,i=!1;return null!=t.typeaheadjson&&t.typeaheadjson.length>0?(l=t.typeaheadjson,s=!0):r&&(l=x,i=!0),a.createElement("div",{className:"_1sCjIJ_W"},y?null:a.createElement("button",{className:"_3wt8uHky",onClick:()=>{j(l.length)}},N("common_btn_cancel_ffffe209")),a.createElement("div",{className:"_21WEbVHY"},a.createElement("input",{className:"_2zK7fy7m",type:"text",value:w,onChange:e=>{C(e.currentTarget.value),n(e.currentTarget.value)},placeholder:e,ref:L})),u&&!s&&a.createElement("button",{className:"_2JC_d7TO",onClick:()=>h(!0)},a.createElement("span",{className:"_2Rn-sPbV"},a.createElement(p,{name:"nearby"}),N("nearby_use_my_location"))),l.length>0&&i&&a.createElement("div",{className:"BZa_h0ZD"},N("common_Populardestinations")),l.length>0&&a.createElement(D,null,l.map(e=>(t,n)=>a.createElement(Y,{key:e.value,result:e,active:t,onMouseMove:n,onSelect:P}))))})},V=()=>a.createElement("svg",{className:"_3XqxX-c8",viewBox:"0 0 32 32"},a.createElement("path",{className:"ou10liX-",d:"M 16 2 A 14 14 0 1 0 30 16"})),z=({maxRangeMonths:e=4,startMonth:t,endMonth:r,onStartMonthChanged:s,onEndMonthChanged:i})=>{var{viewportCategory:o}=l(f),c=E(),m=(()=>{var{locale:e}=l(h);return n(()=>{var t=new Intl.DateTimeFormat(e.code,{month:"short"});return Array(12).fill(0).map((e,a)=>t.format(new Date(0,a,1)))},[e.code])})(),d=4,p=6;"MOBILE"===o&&m.some(e=>e.length>5)&&(d=3,p=8);var v=n(()=>{var e=[];return new Array(d*p).fill(0).map((e,t)=>t-w.getMonth()%d).map(e=>new Date(w.getFullYear(),w.getMonth()+e,1)).forEach(t=>{var a=e[e.length-1];null==a||a.year!==t.getFullYear()?e.push({year:t.getFullYear(),months:[t]}):a.months.push(t)}),e},[d,p]),y=t&&R(t),k=r&&R(r);return a.createElement("div",{className:"_3aFWprw9"},v.map(({year:t,months:n})=>a.createElement(u,{key:t},a.createElement("div",{className:"_1Bmw3uLR"},t),a.createElement("div",{className:"_3iA2-73k"},n.map(t=>{var n=t<R(w),l=!n&&null!=y&&null!=k&&t>=y&&t<=k;return a.createElement("div",{key:t.toISOString(),className:g("_19iwVaXk",{_26U1Sjvq:3===d,wyg8ayFk:4===d})},a.createElement("button",{className:g("_3E1LZpj0",{"_2EVRPW-B":l}),disabled:n,onClick:()=>(t=>{var a,n;null==y||null==k||y.getTime()!==k.getTime()||(a=y,n=t,Math.abs(12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth()))>=e)?(s(R(t)),i(j(t))):y.getTime()===t.getTime()?(s(null),i(null)):y<t?i(j(t)):s(R(t))})(t),"aria-label":c.formatDate("date_full_month_year",t),"aria-pressed":l},m[t.getMonth()]))})))))},G=({disabled:e,onClick:t})=>{var{localize:n}=k();return a.createElement("button",{className:"_3EhrHKIb",onClick:t,disabled:e},n("explicit_preferences_who_are_you_traveling_with_skip_button"))},q=({isFirstStep:e,canGoBack:t,canSkip:n,isScrolled:l,onClose:r,onBack:s,onSkip:i})=>{var{localize:o}=k();return a.createElement("div",{className:g("_2HJpjg0N",{_35i84LPk:l})},e?a.createElement(x,{iconName:"times",label:o.string("common_Close"),disabled:!t,onClick:r}):a.createElement(x,{iconName:"arrow-left",label:o.string("reg_back"),disabled:!t,onClick:s}),a.createElement(G,{disabled:!n,onClick:i}))},A=({iconName:e="arrow-right",disabled:t=!1,onClick:n,increasedBottom:l=!1})=>{var{localize:r}=k();return a.createElement("div",{className:g("_13LVfxhg",{_2MUiecBP:l})},a.createElement("button",{className:"T_Zfiwui",onClick:()=>n(),disabled:t,"aria-label":r.string("common_Next")},a.createElement(p,{name:e})))},J=({step:e,isVisible:t,isCurrentStep:n,render:l,onScroll:r})=>{var i=o(),c=s(e=>{null!=i.current&&i.current.scroll(0,e)},[]),m=s(e=>{null!=r&&r(e.currentTarget.scrollTop)},[r]);return a.createElement("div",{className:"_15Es1rjL","aria-hidden":!n,onScroll:m,ref:i},t&&a.createElement("div",{className:"_1VrLyU0d"},l({step:e,isCurrentStep:n,scroll:c})))},K=({steps:e,currentStepIndex:t,children:n,onScroll:r,type:o})=>{var{locale:c}=l(h),[m,u]=i(t),d=Math.min(m,t),p=Math.max(m,t),v=s(e=>{e.target===e.currentTarget&&u(t)},[t]),f=`translateX(${(c.isRtl?1:-1)*t*100}%)`;return a.createElement("div",{className:g("_1Ld2XBsR",{_1_qMHV6a:"hotels"===o}),style:{WebkitTransform:f,msTransform:f,transform:f},onTransitionEnd:v},e.map((e,l)=>a.createElement(J,{key:e,step:e,isVisible:l>=d&&l<=p,isCurrentStep:l===t,render:n,onScroll:l===t?r:void 0})))},Q=({label:e,value:t,onChange:n})=>a.createElement("label",null,a.createElement("input",{className:"_15zqLl7s",type:"checkbox",checked:t,onChange:e=>n(e.currentTarget.checked)}),a.createElement("div",{className:"_1SzENz9f"},a.createElement("div",{className:"_1j1BREfR"},e),a.createElement("div",{className:"_1zT3poUy"},a.createElement("div",{className:"Syfdan27"})))),X=e=>{e.preventDefault(),e.currentTarget.click()},H=()=>{var{os:e}=l(f);return"IOS"===e.family?{onTouchEnd:X}:{}},U=({options:e,values:t,onChange:n})=>{var l=s(e=>{e.currentTarget.checked?n([...t,e.currentTarget.value]):n(t.filter(t=>t!==e.currentTarget.value))},[t,n]),r=H();return a.createElement("div",{className:"_2uIcBtvO"},e.map(e=>a.createElement("label",Object.assign({key:e.value},r),a.createElement("input",{value:e.value,className:"_1Ps0gb6u",type:"checkbox",checked:t.includes(e.value),onChange:l}),a.createElement("div",{className:"_2JNSdGl8"},e.label))))},Z=({initialStep:e,initialResponses:t,getNextStep:a})=>{var n=s((e,t)=>{switch(t.type){case"RESET":return Object.assign({},e,{modified:!1,steps:[t.initialStep],currentStepIndex:0});case"SET_RESPONSES":return Object.assign({},e,{modified:e.modified||t.modified&&Object.keys(t.responses).length>0,responses:Object.assign({},e.responses,{},t.responses)});case"GO_FORWARD":var n=Object.assign({},e.responses,{},t.responses),l=a(e.steps[e.currentStepIndex],n),r=e.modified||Object.keys(t.responses).length>0;if(null==l)return Object.assign({},e,{modified:r,responses:n});var s=e.currentStepIndex+1,i=[...e.steps.slice(0,s),l];return Object.assign({},e,{responses:n,steps:i,modified:r,currentStepIndex:s});case"GO_BACK":return Object.assign({},e,{currentStepIndex:Math.max(0,e.currentStepIndex-1)});default:throw new Error("Invalid action type: "+t.type)}},[a]),[l,r]=d(n,{responses:t,modified:!1,steps:[e],currentStepIndex:0}),i=s(()=>{r({type:"RESET",initialStep:e})},[e]),o=a(l.steps[l.currentStepIndex],l.responses),m=s((e,t=!0)=>{r({type:"SET_RESPONSES",responses:e,modified:t})},[]),u=s((e={})=>{r({type:"GO_FORWARD",responses:e})},[]),p=s(()=>{r({type:"GO_BACK"})},[]),g=l.steps[0];return c(()=>{g!==e&&r({type:"RESET",initialStep:e})},[g,e]),Object.assign({},l,{nextStep:o,setResponses:m,goForward:u,goBack:p,reset:i})};return[()=>{w=new Date,C=r(P),(T=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PopularDestinationsQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"popularDestinations"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"longOnlyParent"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"longParentAbbreviated"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":172}}')).__key=0x635d489724a9,T.loc.source={body:"635d489724a9"},M=r(W),O=r(z),F=r(Q),e({BackButton:x,DatePicker:C,GeoPicker:M,LoadingSpinner:V,MonthPicker:O,NavBar:q,NextButton:A,SkipButton:G,StepsContainer:K,Switch:F,TagCloudPicker:U,useFastManipulation:H,useQuestionFlow:Z})},[e=>(a=e.default,n=e.useMemo,l=e.useContext,r=e.memo,s=e.useCallback,i=e.useState,o=e.useRef,c=e.useEffect,m=e.useLayoutEffect,u=e.Fragment,d=e.useReducer),e=>p=e.default,e=>g=e.default,e=>v=e.useVisibleEffect,e=>(h=e.Environment,f=e.Device),e=>y=e.default,e=>(E=e.useIntlFormatter,k=e.useLocalize),e=>_=e.useQuery,e=>(S=e.TypeaheadJsonFetcher,b=e.Typeahead),e=>(N=e.NavigableListItem,D=e.NavigableList)]]},["cDcdfi","OMqGt0","jSLlaY","BLrxBS","2R4xv2","wLDeDm","0DsHEV","5X2em-","zPgUM0","Erjc5t"]]);
