require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["servlets/responsivehotels-pl","responsive/collapsibleLayout","overlays/position/fullside","overlays/options/slideInOut","overlays/uiOverlay","overlays/options/maxWidth","overlays/options/closeOnMouseOut","overlays/options/closeOnWindowSize","overlays/options/storeOverlayOnElement","ta/Core/TA.Record","common/track-filter","ta/Browser","ta/util/SessionStorage","ta/util/Error","facebook/authutils","lib/jquery-amd","ta/registration/RegEvents","widget/components","utils/asdf-encoder","ta/util/CommonMessagingUtil","api-mod","ta/Core/TA.Store","utils/urlDecoder","utils/cookieutils","cpm/ResponsiveBannerResizeHandler","hotels/monitoring/listHealth","hotels/recentlyViewedHotels","ta/util/Cookie"],["ta","ta/page","ta"]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/apg-Hotels-x","files":{"js3_secure":{"ssl":{"ta":{"Core":{"TA.Record":1}}}},"js-amd":{"src":{"hotels":{"recentlyViewedHotels":1},"utils":{"urlDecoder":1,"asdf-encoder":1,"cookieutils":1},"api-mod":1,"facebook":{"authutils":1},"overlays":{"uiOverlay":1,"options":{"slideInOut":1,"closeOnWindowSize":1,"storeOverlayOnElement":1,"closeOnMouseOut":1,"maxWidth":1},"position":{"fullside":1}},"servlets":{"responsivehotels-pl":1}}},"js3":{"lib":{"jquery-amd":1},"build":{"es6":{"src":{"cpm":{"ResponsiveBannerResizeHandler":1},"widget":{"components":1},"common":{"track-filter":1},"hotels":{"monitoring":{"listHealth":1}},"responsive":{"collapsibleLayout":1}}}},"src":{"ta":{"util":{"Cookie":1,"CommonMessagingUtil":1,"Error":1,"SessionStorage":1},"registration":{"RegEvents":1},"Browser":1,"Core":{"TA.Store":1}}}}},"_":{"baseUrl":"/"}});
define("utils/AjaxData",["ta","mixins/Events","lib/jquery-amd"],function(t,e,n){"use strict";function i(){}function a(t){function a(){return null!==s||null!==l}function r(){var t=a(),e=d,n=l;if(d=null,s=null,l=null,null!==n)try{n.abort()}catch(t){}return null!==e&&clearTimeout(e),t}function o(){var t=s;if(s=null,t){var e;t.success=function(n){l==e&&(l=null,v&&(y=n),f.data=n,f.error=void 0,f.dataVersion=++p,h(f,e,t.data),u.emit("update"))},t.error=function(n,i,a){l==e&&(l=null,f.data=y,f.dataVersion=++p,f.error={type:i,error:a,status:n.status,responseText:n.responseText},h(f,e,t.data),u.emit("update"))},e=c(t),l=e,u.emit("update")}}t=t||{};var u=new e("update"),d=null,s=null,l=null,f=this,p=0,c=t.ajaxFunc||n.ajax,h=t.transformer||i,m=t.dataType||"html",v=!!t.holdData,y=void 0;this.dataVersion=0,this.on=u.on.bind(u),this.off=u.off.bind(u),this.removeListener=u.removeListener.bind(u),this.isDone=function(){return!a()},this.isBusy=function(){return a()},this.clear=function(){var t=a()||"undefined"!=typeof this.data||"undefined"!=typeof this.error;r(),y=void 0,f.data=void 0,f.error=void 0,f.dataVersion=0,h(f),t&&u.emit("update")},this.refresh=function(t,e,n,i,a){r(),(!i||i<0)&&(i=0),s={type:t,url:e,data:n,dataType:m,xhrFields:{withCredentials:!0}},"undefined"!=typeof a&&(s.timeout=a),d=setTimeout(o,i),f.error=void 0,v||(f.data=void 0,h(f)),u.emit("update")},this.postJson=function(t,e,n,i){r(),n=n||0,n<0&&(n=0),s={beforeSend:function(t){t.setRequestHeader("Content-Type","application/json")},type:"POST",url:t,contentType:"application/json",data:JSON.stringify(e),dataType:m,xhrFields:{withCredentials:!0}},"undefined"!=typeof i&&(s.timeout=i),d=setTimeout(o,n),f.error=void 0,v||(f.data=void 0,h(f)),u.emit("update")}}return a});
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["mixins/Events","utils/browserutils","api-mod","utils/MouseAway","utils/resourceLoader","overlays/Overlay","overlays/utils","overlays/ajaxUtil","overlays/options/closeOnDocClick","overlays/options/delayedCloseOnDocClick","overlays/options/closeOnChildClick","overlays/options/closeOnSourceClick","overlays/options/closeOnWindowshadeClick","overlays/options/closeOnMouseOut","overlays/options/closeOnMouseAway","overlays/options/closeOnScroll","overlays/options/closeOnEscape","overlays/options/closeOnEvent","overlays/options/closeOnTaEvent","overlays/options/closeOnTargetEvent","overlays/options/closeOnLegacyOverlay","overlays/options/fireEventOnWindowshadeClick","overlays/options/hoverDelay","overlays/options/storeOverlayOnElement","overlays/options/fadeInOut","overlays/options/highlightElement","overlays/options/repositionOnEvent","overlays/options/repositionOnTaEvent","overlays/options/autoReposition","overlays/options/autosizePage","overlays/options/keepInDom","overlays/options/matchWidth","overlays/options/maxWidth","overlays/options/minWidth","overlays/options/ajax","overlays/options/centerArrowOnSrcElement","overlays/options/closeOnTargetChildClick","overlays/options/stickyClick","overlays/position","overlays/styles/modal","overlays/styles/popover","overlays/styles/tooltip","overlays/styles/windowshade","overlays/styles/dropdown","overlays/styles/notification","overlays/uiOverlay"],["ta","ta"]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/uiOverlays","files":{"js-amd":{"src":{"mixins":{"Events":1},"utils":{"browserutils":1,"resourceLoader":1,"MouseAway":1},"api-mod":1,"overlays":{"ajaxUtil":1,"uiOverlay":1,"utils":1,"options":{"closeOnTargetChildClick":1,"keepInDom":1,"autoReposition":1,"closeOnTaEvent":1,"ajax":1,"closeOnDocClick":1,"closeOnMouseOut":1,"closeOnSourceClick":1,"centerArrowOnSrcElement":1,"fadeInOut":1,"highlightElement":1,"storeOverlayOnElement":1,"autosizePage":1,"closeOnScroll":1,"stickyClick":1,"maxWidth":1,"closeOnWindowshadeClick":1,"closeOnEscape":1,"closeOnMouseAway":1,"minWidth":1,"closeOnLegacyOverlay":1,"closeOnChildClick":1,"closeOnTargetEvent":1,"matchWidth":1,"repositionOnEvent":1,"fireEventOnWindowshadeClick":1,"closeOnEvent":1,"repositionOnTaEvent":1,"delayedCloseOnDocClick":1,"hoverDelay":1},"styles":{"notification":1,"popover":1,"tooltip":1,"windowshade":1,"dropdown":1,"modal":1},"position":1}}},"js3":{"build":{"es6":{"src":{"overlays":{"Overlay":1}}}}}},"_":{"baseUrl":"/"}});
define("utils/MouseAway",["vanillajs","api-mod","ta","mixins/mixin","mixins/Events","utils/throttle"],function(t,o,e,r,n,i){"use strict";function l(t,o){var e=t.right<=o.left,r=t.left>=o.right,n=t.top>=o.bottom,i=t.bottom<=o.top;if(e||r){var l=e?"left":"right",u=e?"right":"left";return[[t[l],t.top],[o[l],o.top],[o[u],o.top],[o[u],o.bottom],[o[l],o.bottom],[t[l],t.bottom]]}if(n||i){var a=n?"bottom":"top",f=n?"top":"bottom";return[[t.right,t[a]],[o.right,o[a]],[o.right,o[f]],[o.left,o[f]],[o.left,o[a]],[t.left,t[a]]]}return null}function u(t,o){if(!o)return!1;for(var e=t[0],r=t[1],n=!1,i=0,l=o.length-1;i<o.length;l=i++){var u=o[i][0],a=o[i][1],f=o[l][0],s=o[l][1],m=a>r!=s>r&&e<(f-u)*(r-a)/(s-a)+u;m&&(n=!n)}return n}function a(t,e,r){var n=r.relatedTarget||r.target;if(!t||!e)return!1;if(o.containsElement(t,n)||o.containsElement(e,n))return!0;var i=l(o.getCoords(t),o.getCoords(e)),a=u([r.clientX+o.scrollLeft(),r.clientY+o.scrollTop()],i);return a}function f(t,e){r(this,new n("mouseAway")),o.addEvent(window,"mousemove",i(function(o){var r=a(t,e,o);r||this.emit("mouseAway")}).bind(this),300)}return f});
define("overlays/ajaxUtil",["vanillajs","ta","utils/object/shallow-copy","utils/AjaxData","mixins/Events","overlays/loading-spinner","utils/resourceLoader","amdloaders"],function(e,t,a,r,n,i,o,s){"use strict";function d(e,t){var a,r=[];for(a in t)t[a]&&r.push(a);r.sort();for(var n=e,i=n.indexOf("?")>=0?"&":"?",o=0;o<r.length;++o)a=r[o],n+=i+encodeURIComponent(a)+"="+encodeURIComponent(String(t[a])),i="&";return n}function u(){for(var e=0,t={},a=[],r=p.length-1;r>=0;--r){var n=p[r],i=g[n];i&&!t[n]&&(i.hasClients()||++e<=h)&&(t[n]=i,a.push(n))}return a.reverse(),g=t,p=a,m=p.length+h,p}function l(e,i){function d(){if(T){T=!1,u();for(var e=p.length-1;e>=0;--e){var t=g[p[e]];t.needsTravelInfo&&t.invalidate()}}}function l(){u();for(var e=p.length-1;e>=0;--e){var t=g[p[e]];t.invalidateOnPricingModeUpdate&&t.invalidate()}}function c(e,a,r,n,i,s,u){if(n=n&&t.page&&t.page.usingUnifiedDates){T=!0;var c=t.page.datesToQueryString("STAYDATES");!c&&i&&(c=t.page.defaultDatesToQueryString("STAYDATES")),c&&(a+="&"+c),y||(y=!0,t.page.on("dateSelected",d),t.page.on("guestsSelected",d),require(["trjs!common/Radio"],function(e){v||(v=e("web-component-pricingMode"),v.on("update",function(){l()}))}))}if(s>1){if(s>20)return;a+="&reqNum="+s,u>=0||(u=2e3)}else u=0;r?e.refresh("POST",a,r,u):e.refresh("GET",a,void 0,u),o.load(A,function(){S=!0,h()})}function h(){if(b.isBusy()||!S)return L&&clearTimeout(L),void(L=void 0);if(!b.data)return void(0!==b.dataVersion?E.error&&E.error===b.error||(E.error=b.error||"no content",L=L||setTimeout(m,0)):0!==j&&(V=q,j=b.dataVersion,U=[],P.hasListeners("update")&&(L=L||setTimeout(m,0))));if(j!==b.dataVersion){try{var e=document.createElement("div");e.innerHTML=b.data;var t=x,a=document.head||document.getElementsByTagName("head")[0];U=[],i.noScript||Array.prototype.forEach.call(e.querySelectorAll("script"),function(e){if(t){var r=document.createElement("script");r.setAttribute("type","text/javascript"),e.src&&(r.src=e.src),e.text&&(r.text=e.text),r.setAttribute("data-rup",e.getAttribute("data-rup")),a.appendChild(r),e.src||a.removeChild(r)}e.parentNode.removeChild(e)}),Array.prototype.forEach.call(e.querySelectorAll("style"),function(e){t?a.appendChild(e):e.parentNode.removeChild(e)}),Array.prototype.forEach.call(e.querySelectorAll("[data-targetEvent]"),function(e){U.push(e),e.parentNode.removeChild(e)}),t&&(x=!1,f[i.inlineResourceId]=!0),V=e.innerHTML,j=b.dataVersion,b.data=void 0}catch(e){E.error="invalid HTML"}L=L||setTimeout(m,0)}}function m(){var t,a=!P.hasListeners("update");for(L=void 0,E.data=V,E.dataVersion=j,P.emit("update");t=U.shift();){var r=t.getAttribute("data-targetEvent");if("repoll-required"===r){if(a)return U=[],E.data=V=q,void(E.dataVersion=j=0);++M>1||(M=2);var n=Number(t.getAttribute("data-delay"));c(b,e,i.reqParams,I,D,M,n)}else P.emit("data-targetEvent",r,t)}}var A,S,E=this,b=new r({dataType:"html",ajaxFunc:i.ajaxFunc}),P=new n("update","data-targetEvent"),q=i.loadingContent||C,x=!1,I=!!i.sendTravelInfo,R=!!i.invalidateOnPricingModeUpdate,D=I&&i.sendDefaultDates,L=void 0,V=q,j=b.dataVersion,U=[],M=0;this.error=void 0,this.loadingData=q,this.data=V,this.dataVersion=j,this.needsTravelInfo=I,this.invalidateOnPricingModeUpdate=R,this.on=P.on.bind(P),this.off=P.off.bind(P),this.removeListener=P.removeListener.bind(P),this.init=function(){b.on("update",h.bind(this))},this.isBusy=function(){return b.isBusy()||L},this.isDone=function(){return!b.isBusy()&&!L},this.invalidate=function(){b.clear(),M=0,this.hasClients()?c(b,e,i.reqParams,I,D,0,0):(E.data=V=q,E.dataVersion=j=0)},this.hasClients=function(){return P.hasListeners("update")},this.load=function(){if(!b.isBusy()){if(0!==b.dataVersion)return void setTimeout(function(){P.emit("update")},1);var t=i.reqParams,r=!i.isWidget||!i.inlineResourceId||!f[i.inlineResourceId];if(r){var n=s.getLoadedFilesParams();x=!0,t=t?a(t):{},t.haveJses=n.haveJses,t.haveCsses=n.haveCsses,i.isWidget&&(t.Action="install")}A=i.resources,M=0,c(b,e,t,I,D,0,0)}}}function c(e,t){var a=d(e,t.reqParams);a.length<128&&(e=a,t.reqParams=void 0);var r=g[a];return r||(r=new l(e,t),r.init(),t.noCache||(g[a]=r)),t.noCache||(p.push(a),p.length>m&&u()),r}var v,f={},h=10,p=[],g={},m=h,y=!1,T=!1,C=i();return{loadData:function(e,t){!t&&(t={});var a=c(e,t);return a.load(),a},loadOverlayWidget:function(e,t,r){var n="/OverlayWidgetAjax?Mode="+e;r?n+="&metaReferer="+encodeURIComponent(r):"string"==typeof crPageServlet&&(n+="&metaReferer="+encodeURIComponent(crPageServlet)),t=t?a(t):{},t.inlineResourceId=e,t.isWidget=!0;var i=c(n,t);return i.load(),i},cleanCache:u}});
define("overlays/options/delayedCloseOnDocClick",["api-mod"],function(t){"use strict";function e(e){if(!(this.sourceElement&&t.containsElement(this.sourceElement,e.target)||t.containsElement(this.container,e.target)||e.target&&("option"===e.target.tagName||t.hasClass(e.target,"ui_dropdown")||t.getParent(e.target,"ui_dropdown"))||t.checkBrowser("ie")&&e.target&&"select"==e.target.tagName&&t.containsEvent(e.target,e)&&t.select(this.container,"input").indexOf(e.target)))if(i&&i>0){var n=this;setTimeout(function(){n.hide("doc-click")},i)}else this.hide("doc-click")}function n(n){return function(o){return function(){var c=t.bind(e,this);i=o,this.on("show",function(){setTimeout(function(){this.isOpen()&&(t.addEvent(document,"click",c),n&&t.addEvent(document,"touchstart",c))}.bind(this),1)}).on("hide",function(){t.removeEvent(document,"click",c),n&&t.removeEvent(document,"touchstart",c)})}}}var i=0,o=n(!0);return o.withoutTouchEvents=n(!1),o});
define("overlays/options/closeOnChildClick",["vanillajs","api-mod"],function(t,n){"use strict";function i(t){n.containsElement(this.container,t.target)&&this.hide("child-click")}function e(t){return function(){var e=n.bind(i,this);this.on("show",function(){n.addEvent(this.domParent,"click",e),t&&n.addEvent(this.domParent,"touchstart",e)}).on("hide",function(){n.removeEvent(this.domParent,"click",e),t&&n.removeEvent(this.domParent,"touchstart",e)})}}var o=e(!0);return o.withoutTouchEvents=e(!1),o});
define("overlays/options/closeOnSourceClick",["vanillajs","api-mod"],function(t,e){"use strict";function n(t){e.containsElement(this.sourceElement,t.target)&&(this.hide("source-click"),t.stopPropagation(),t.preventDefault())}function i(t){return function(){var i=n.bind(this),o=function(t){setTimeout(t.bind(this),1)}.bind(this);this.on("show",o.bind(void 0,function(){e.addEvent(this.sourceElement,"click",i),t&&e.addEvent(this.sourceElement,"touchstart",i)})).on("hide",o.bind(void 0,function(){e.removeEvent(this.sourceElement,"click",i),t&&e.removeEvent(this.sourceElement,"touchstart",i)}))}}var o=i(!0);return o.withoutTouchEvents=i(!1),o});
define("overlays/options/closeOnWindowshadeClick",["vanillajs","api-mod"],function(i,n){"use strict";return function(){var i=this;n.addEvent(this.shade,"click",function(){i.hide("windowshade")})}});
define("overlays/options/closeOnMouseOut",["vanillajs","api-mod"],function(e,t){"use strict";function n(e){t.containsElement(this.sourceElement,e.relatedTarget)||t.containsElement(this.container,e.relatedTarget)||this.hide()}var o=function(){var e=t.bind(n,this);this.on("show",function(){t.addEvent(this.sourceElement,"mouseout",e),t.addEvent(this.container,"mouseout",e)}).on("hide",function(){t.removeEvent(this.sourceElement,"mouseout",e),t.removeEvent(this.container,"mouseout",e)})};return o});
define("overlays/options/closeOnMouseAway",["vanillajs","utils/MouseAway"],function(n,e){"use strict";var o=function(n){return function(){var o,t=new e(this.sourceElement,this.container),i=this.hide,u=i;n&&(u=function(){o=setTimeout(i,n)}),this.on("show",function(){t.on("mouseAway",u)}).on("hide",function(){t.off("mouseAway"),clearTimeout(o)})}},t=o(null);return t.withDelay=function(n){return o(n)},t});
define("overlays/options/closeOnScroll",["vanillajs","api-mod"],function(n,o){"use strict";var i=function(){var n=this,i=function(){n.hide()};this.on("show",function(){o.addEvent(window,"scroll",i)}).on("hide",function(){o.removeEvent(window,"scroll",i)})};return i});
define("overlays/options/closeOnEscape",["vanillajs","api-mod"],function(e,n){"use strict";function t(e){27===e.keyCode&&(e.preventDefault(),this.hide("escape"))}var o=function(){var e=n.bind(t,this);this.on("show",function(){n.addEvent(document,"keyup",e)}).on("hide",function(){n.removeEvent(document,"keyup",e)})};return o});
define("overlays/options/closeOnEvent",["vanillajs","api-mod"],function(n,t){"use strict";function i(){this.hide("on-event")}return function(n){return function(){var e=t.bind(i,this);this.on("show",function(){t.addEvent(this.domParent,n,e)}).on("hide",function(){t.removeEvent(this.domParent,n,e)})}}});
define("overlays/options/closeOnTaEvent",["vanillajs","ta/Core/TA.Event"],function(n,t){"use strict";function o(){this.hide("on-event")}return function(n){return function(){var i=o.bind(this);this.on("show",function(){t.on(n,i)}).on("hide",function(){t.off(n,i)})}}});
define("overlays/options/closeOnTargetEvent",["vanillajs","api-mod"],function(n,t){"use strict";function i(){this.hide("on-event")}return function(n,o){return function(){var e=o.splice?o:[o],c=i.bind(this);this.on("show",function(){e.forEach(function(i){t.addEvent(n,i,c)})}).on("hide",function(){e.forEach(function(i){t.removeEvent(n,i,c)})})}}});
define("overlays/options/closeOnLegacyOverlay",["vanillajs","ta/Core/TA.Event"],function(n,e){"use strict";return function(){e.on("onOverlayShow",this.hide.bind(this))}});
define("overlays/options/fireEventOnWindowshadeClick",["vanillajs","api-mod"],function(n,i){"use strict";var e=function(n){return function(){i.addEvent(this.shade,"click",function(){i.fireEvent(document,n,{})})}};return e});
define("overlays/options/hoverDelay",["vanillajs","api-mod"],function(e,t){"use strict";var i=function(e,i){return function(){var n=t.bind(function(){this.hoverTimer=setTimeout(this.show,e)},this),o=t.bind(function(){clearTimeout(this.hoverTimer)},this);t.addEvent(this.sourceElement,"mouseover",n),t.addEvent(this.sourceElement,"mouseout",o),i&&n()}};return i});
define("overlays/options/storeOverlayOnElement",["vanillajs","api-mod"],function(e,t){"use strict";var n=function(){this.sourceElement&&t.store(this.sourceElement,"overlay",this)};return n});
define("overlays/options/fadeInOut",["api-mod","utils/bindAll"],function(i,t){"use strict";var n={"fade_none":0,"fade_short":250,"fade_normal":500,"fade_long":1e3},e="fade_in";return function(s,o){return function(){if(s&&s in n){i.addClass(this.container,s);var a=n[s],d=i.bind(this.show,this),h=i.bind(this.hide,this),u=null;this.show=function(){d&&d(),setTimeout(function(){i.addClass(this.container,e)}.bind(this),0),clearTimeout(u),o&&(u=setTimeout(i.bind(this.hide,this),a+o))},this.hide=function(){i.removeClass(this.container,e),clearTimeout(u),u=setTimeout(function(){h&&h()},a)},t(this,"show","hide")}}}});
define("overlays/options/highlightElement",["api-mod"],function(i){"use strict";var n=function(n){function t(n){this.on("show",function(){i.addClass(n,"highlight")}).on("hide",function(){i.removeClass(n,"highlight")})}return arguments.length?function(){t.call(this,n)}:void t.call(this,this.sourceElement)};return n});
define("overlays/options/repositionOnEvent",["vanillajs","api-mod"],function(n,i){"use strict";function t(){this.emit("positionDirty")}return function(n,o){return function(){var e=o.splice?o:[o],c=i.bind(t,this);this.on("show",function(){e.forEach(function(t){i.addEvent(n,t,c)})}).on("hide",function(){e.forEach(function(t){i.removeEvent(n,t,c)})})}}});
define("overlays/options/repositionOnTaEvent",["vanillajs","ta/Core/TA.Event"],function(n,i){"use strict";return function(n){return function(){var t=this.emit.bind(this,"positionDirty");this.on("show",function(){i.on(n,t)}).on("hide",function(){i.off(n,t)})}}});
define("overlays/options/autoReposition",["vanillajs","overlays/options/repositionOnEvent"],function(o,n){return n(window,["resize","scroll"])});
define("overlays/options/autosizePage",["lib/jquery-amd","api-mod"],function(o,t){"use strict";return function(i,n){return function(){function n(){var n=t.getCoords(this.container),s=t.getSize(window);this._scrollTop||(this._scrollTop=t.scrollTop()),o(document.body).css("overflow","hidden"),n.height+2*i>s.y&&o(this.container).css({top:i,marginTop:0}),window.scrollTo(0,0)}this.domParent=o("<div></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"auto"})[0],this.on("append",function(){o(document.body).append(this.domParent)}),this.on("show",n),this.on("positionDirty",n),this.on("hide",function(){o(document.body).css("overflow","auto"),o(this.domParent).remove(),window.scrollTo(0,this._scrollTop),delete this._scrollTop})}}});
define("overlays/options/keepInDom",["vanillajs","api-mod"],function(n,i){var t="";return function(){this.isOpen=function(){return!!i.inDocument(this.container)&&!i.hasClass(this.container,"hidden")},this.show=function(){return i.inDocument(this.container)?(this.container.style.display=t,i.removeClass(this.container,"hidden")):this.domParent.appendChild(this.container),this.emit("show"),this},this.hide=function(n){return i.inDocument(this.container)&&"none"!=this.container.style.display&&("none"!=this.container.style.display&&(t=this.container.style.display||"",this.container.style.display="none"),i.hasClass(this.container,"hidden")||i.addClass(this.container,"hidden"),this.emit("hide",{trigger:n})),this}}});
define("overlays/options/matchWidth",["vanillajs","api-mod"],function(t,i){"use strict";var n=function(t){function n(){this.container&&t&&(i.setStyle(this.container,"width",i.getSize(t).x+"px"),this.emit("positionDirty"))}return function(){this.on("show",i.bind(n,this))}};return n});
define("overlays/options/maxWidth",["vanillajs"],function(i){"use strict";var t=function(i){function t(){this.container.style.maxWidth=i+"px",this.emit("positionDirty")}return function(){this.on("show",t.bind(this))}};return t});
define("overlays/options/minWidth",["vanillajs"],function(i){"use strict";var n=function(i){function n(){this.container.style.minWidth=i+"px",this.emit("positionDirty")}return function(){this.on("show",n.bind(this))}};return n});
define("overlays/options/ajax",["vanillajs","overlays/ajaxUtil"],function(t,e){"use strict";function i(t){return t&&t.match(/^((https?:)?(\/\/)?([\da-z\.\-\u00a1-\uffff]+)\.([a-z\.\u00a1-\uffff]{2,6}))?(\/[\w]+)*(\?[\/\w\.+%=\-#&\/!\u00a1-\uffff]+)?$/)}function n(t,n){function a(){if(this.sourceElement&&(t=t||this.sourceElement.getAttribute("data-url"),void 0===n.noCache&&(n.noCache=this.sourceElement.getAttribute("data-ajaxNoCache")),n.resources||(n.resources=this.sourceElement.getAttribute("data-resources"),n.resources&&(n.resources=n.resources.replace(/[\[\]]/g,"").split(/[ ,]+/))),n.invalidateOnPricingModeUpdate||(n.invalidateOnPricingModeUpdate=this.sourceElement.getAttribute("data-invalidateOnPricingModeUpdate"))),t){var a,s,r=0,o=function(){a.dataVersion!==r&&(this.contentElement.innerHTML=a.data,this.emit("contentsUpdated"),r=a.dataVersion,require.defined("ta/prwidgets")&&require("ta/prwidgets").initWidgets(this.contentElement)),this.reposition(),setTimeout(this.reposition.bind(this),1),this.emit("contentLoaded",a.error)}.bind(this),d=function(i){return s==t?(this.reposition(),void this.emit("contentsUnchanged")):(n.skipInvalidate||a&&a.invalidate(),s=t,a=e.loadData(t,n),i||(this.contentElement.innerHTML=a.data),this.emit("contentsUpdated"),this.reposition(),r=a.dataVersion,require.defined("ta/prwidgets")&&require("ta/prwidgets").initWidgets(this.contentElement),a.on("update",o),void a.on("data-targetEvent",u))}.bind(this),u=this.emit.bind(this,"data-targetEvent");this.on("show",d),this.on("hide",function(){a&&(a.off("update",o),a.off("data-targetEvent",u),a=void 0)});var h=this.updateContent;this.updateContent=function(e,n){return e?i(e)?(t=e,this.isOpen()&&d(n),this):(t="",h.apply(this,arguments)):(t="",e=this.sourceElement.getAttribute("data-url"),e?this.updateContent(e):h.apply(this,arguments))}}}return n||(n={}),a}return n});
define("overlays/options/centerArrowOnSrcElement",["vanillajs","api-mod"],function(t,i){"use strict";var o=function(t){function o(){if(t=t||this.sourceElement,this.container&&t&&this.arrow){var o=i.getCoords(this.container),r=i.getCoords(t),n=i.hasClass(this.container,"arrow_top")||i.hasClass(this.container,"arrow_bottom");if(n){var s=r.left+r.width/2,e=i.getSize(this.arrow).x/2,a=Math.max(e,Math.min(o.width-e,s-o.left));i.setStyle(this.arrow,{"left":a+"px","right":"auto","margin":"0 0 0 -"+e+"px"})}else{var s=r.top+r.height/2,e=i.getSize(this.arrow).y/2,h=Math.max(e,Math.min(o.height-e,s-o.top));i.setStyle(this.arrow,{"top":h+"px","bottom":"auto","margin":"-"+e+"px 0 0 0"})}}}return function(){this.on("show",i.bind(o,this)),this.on("positionDirty",i.bind(o,this)),this.on("repositionArrow",i.bind(o,this))}};return o});
define("overlays/options/closeOnTargetChildClick",["vanillajs","api-mod"],function(i,n){"use strict";return function(i){return function(){var t,c=n.bind(function(){this.hide("target-child-click")},this);this.on("show",function(){t=n.select(i),t&&n.addEvent(t,"click",c)}).on("hide",function(){t&&n.removeEvent(t,"click",c)})}}});
define("overlays/options/stickyClick",["vanillajs","api-mod","utils/MouseAway"],function(i,n,t){"use strict";var o=!1;return function(){var i=new t(this.sourceElement,this.container);n.addEvent(this.sourceElement,"click",function(){o=!0}),this.on("hide",function(){o=!1,i.off("mouseAway")}),this.on("show",function(){var n=this.hide.bind(this);i.on("mouseAway",function(){o||n("stickyClick")})})}});
define("overlays/styles/popover",["api-mod","lib/jquery-amd","overlays/utils"],function(t,e,a){"use strict";function i(e,i,n,r){this.container=t.createElement(r,{"class":"ui_overlay ui_popover arrow_"+a.getArrowDir(e,this.sourceElement,this.domParent)+" "+i,"style":n}),this.arrow=t.createElement("div",{"class":"arrow"}),this.container.appendChild(this.arrow),this.header=t.createElement("div",{"class":"header_text"}),this.container.appendChild(this.header),this.inner=t.createElement("div",{"class":"body_text"}),this.container.appendChild(this.inner),this.contentElement=this.inner,this.close=t.createElement("div",{"class":"ui_close_x"}),this.container.appendChild(this.close)}var n=function(n,r,s,o,h,d){n=e(n),s=s||n.attr("data-popover")||"",o=o||n.attr("data-header")||"",h=h||n.attr("data-content")||"";var c=n.attr("data-style")||"",l=n.attr("data-header-element"),p=n.attr("data-header-copy");return function(){i.call(this,r,s,c,d||"span"),this.updateContent(h),o&&a.injectContent(this.header,n,o,l,p),t.addEvent(this.close,"click",t.bind(function(){this.hide.apply(this,arguments)},this,"close-button"))}};return n});
define("overlays/styles/tooltip",["vanillajs","api-mod","overlays/utils"],function(t,e,i){"use strict";function n(t,n,r){this.container=e.createElement(r||"span",{"class":"ui_overlay ui_tooltip arrow_"+i.getArrowDir(t,this.sourceElement,this.domParent)+" "+n}),this.arrow=e.createElement("div",{"class":"arrow"}),this.container.appendChild(this.arrow),this.inner=e.createElement("div",{"class":"body_text"}),this.container.appendChild(this.inner),this.contentElement=this.inner}var r=function(t,e,i,r,a){return t&&(i=i||t.getAttribute("data-tooltip"),a=a||t.getAttribute("data-elementtype")),function(){n.call(this,e,i,a),this.updateContent(r)}};return r});
define("overlays/styles/dropdown",["vanillajs","api-mod"],function(t,n){"use strict";function e(t,e,i,o){this.container=n.createElement(o||"span",{"class":"ui_overlay ui_dropdown "+e,"style":i}),this.contentElement=this.container}var i=function(t,n,i,o,r,a){i=i||t.getAttribute("data-dropdown")||"";var s=r||t.getAttribute("style")||"";return function(){e.call(this,n,i,s,a),this.updateContent(o)}};return i});
define("overlays/styles/notification",["vanillajs","api-mod"],function(n,e){"use strict";function i(n,i){this.container=e.createElement("div",{"class":"ui_overlay ui_notification "+n}),this.icon=e.createElement("span",{"class":"ui_icon main_icon "+i}),this.container.appendChild(this.icon),this.close=e.createElement("span",{"class":"ui_icon times close"}),this.container.appendChild(this.close),this.inner=e.createElement("div",{"class":"message"}),this.container.appendChild(this.inner),this.contentElement=this.inner}function t(n){var i=e.find("."+u);i||(i=document.createElement("div"),i.className=u,document.body.appendChild(i)),n.domParent=i,i.appendChild(n.container),o(n),s(n)}function a(n){r(n),o(n),e.addEvent(n.container,"mouseleave",function i(){e.removeEvent(n.container,"mouseleave",i),s(n)}),n.emit("hover")}function o(n){e.removeClass(n.container,"hidden"),n.container.clientHeight,e.removeClass(n.container,"transparent")}function c(n){e.addClass(n.container,"transparent"),r(n),n.__hideTimer=setTimeout(e.bind(l,null,n),m)}function s(n){r(n),n.__transitionOutTimer=setTimeout(c.bind(null,n),h)}function r(n){n.__transitionOutTimer&&clearTimeout(n.__transitionOutTimer),n.__hideTimer&&clearTimeout(n.__hideTimer)}function l(n,e){n.hide(e)}function d(n){n.on("show",e.bind(t,null,n)),e.addEvent(n.container,"click",e.bind(l,null,n,"click")),e.addEvent(n.container,"mouseenter",e.bind(a,null,n))}var u="ui_notification_container",m=2e3,h=1e4,_=function(n,e,t,a){return e=e||n&&n.getAttribute("data-modal")||"",a=a||n&&n.getAttribute("data-icon")||"",function(){i.call(this,e,a),this.updateContent(t),d(this)}};return _});
define("overlays/uiOverlay",["vanillajs","api-mod","utils/responsive"],function(t,e,a){"use strict";function o(t){var e=a[t.getAttribute("data-breakpoint")];return!("function"==typeof e&&!e())}var r={"tooltip":{defaultPosition:"above",defaultFade:"fade_short"},"popover":{defaultPosition:"below",defaultFade:"fade_short"},"modal":{defaultPosition:"center",defaultFixed:!0,defaultFade:"fade_short"},"dropdown":{defaultPosition:"below"},"notification":{}},i={},s=function(t,a){if(t=t||window.event,a=a||t.target||t.srcElement,o(a)){var s=t&&t.type;s&&e.removePropertyEvent(a,s,"uiOverlay"),t&&e.stopEvent(t);var n,l=(a.getAttribute("data-position")||"").split(" ").filter(function(t){return!!t.length}),u=l.shift(),d=["overlays/Overlay","overlays/position"];for(var v in r)if(a.hasAttribute("data-"+v)){u=u||r[v].defaultPosition,d.push("overlays/styles/"+v),n=!0;break}var c=a.getAttribute("data-options")||"";if(!n&&require.defined("ta/util/Error")){var p="uiOverlay: no style. class="+a.className+", id="+a.id;return[].forEach.call(a.attributes,function(t){/^data-/.test(t.name)&&(p+=", "+t.name+"="+t.value)}),void require("ta/util/Error").record(null,p)}d.push(a.hasAttribute("data-windowshade")?"overlays/styles/windowshade":null);var h=!1;a.hasAttribute("data-defer")&&(h=parseInt(a.getAttribute("data-defer"))),d.push(h?"overlays/options/hoverDelay":null),d.push(a.hasAttribute("data-fade")?"overlays/options/fadeInOut":null),d.push(a.getAttribute("data-url")?"overlays/options/ajax":null),d.push(a.hasAttribute("data-close-event")?"overlays/options/closeOnEvent":null),d.push(a.hasAttribute("data-close-ta-event")?"overlays/options/closeOnTaEvent":null),d.push(a.hasAttribute("data-maxWidth")?"overlays/options/maxWidth":null),d.push(a.hasAttribute("data-close-child")?"overlays/options/closeOnTargetChildClick":null);var f=a.hasAttribute("data-move-padding")||a.hasAttribute("data-move-source");d.push(f?"overlays/options/moveIntoView":null),d.push(a.hasAttribute("data-keep-in-dom")?"overlays/options/keepInDom":null),d.push("overlays/options/storeOverlayOnElement"),c&&(d=d.concat(c.split(" ").map(function(t){return"overlays/options/"+t}))),a.hasAttribute("data-tooltip")?"click"===s?d.push("overlays/options/closeOnDocClick"):"mouseover"===s&&c.indexOf("closeOnMouseAway")<0&&d.push("overlays/options/closeOnMouseOut"):a.hasAttribute("data-dropdown")&&("click"===s?(d.push("overlays/options/closeOnDocClick"),d.push("overlays/options/closeOnSourceClick")):"mouseover"===s&&d.push("overlays/options/closeOnMouseAway")),d.push(a.hasAttribute("data-zIndex")?"overlays/options/zIndex":null);var y;if(!(a.hasAttribute("data-unique")&&(y=a.getAttribute("data-unique"),y&&y in i))){var b;return a.hasAttribute("data-group")&&(b=a.getAttribute("data-group")),require(d,function(t,n,d,c,p,f,A,g,m,w,O,E){var k=[d(a,u),u&&n[u](l,r[v].defaultFixed),c&&c(a.getAttribute("data-windowshade")),p&&p(h,!0),f&&f(r[v].defaultFade),A&&A(),g&&g(a.getAttribute("data-close-event")),m&&m(a.getAttribute("data-close-ta-event")),w&&w(a.getAttribute("data-maxWidth")),O&&O(a.getAttribute("data-close-child")),E&&E(a.getAttribute("data-move-source"),parseInt(a.getAttribute("data-move-padding"),10))],x=Array.prototype.slice.call(arguments,11),I=new t(a,k.concat(x)),q=function(){e.select(".ui_tooltip").forEach(function(t){t.overlay&&t.overlay!=I&&t.overlay.hide()}),b&&(i[b]||[]).forEach(function(t){t!=I&&t.hide()}),I.show()};if(b){var C=i[b]||[];C.push(I),i[b]=C}if(s&&!h){var F=function(t){o(a)&&(q(),e.stopEvent(t))};e.addEvent(a,s,F),I.on("destroy",function(){e.removeEvent(a,s,F)})}if(y&&(i[y]=I,I.on("destroy",function(){delete i[y]})),!h&&q(),a.hasAttribute("data-callback")){var P=e.fn(a.getAttribute("data-callback"));P&&P(I)}}),!1}var A=i[y];if(A.sourceElement=a,A.updateContent(),!h&&A.show(),a.hasAttribute("data-callback")){var g=e.fn(a.getAttribute("data-callback"));g&&g(A)}}};return s}),window.uiOverlay=function(){var t=arguments;require(["overlays/uiOverlay"],function(e){e.apply(null,t)})};
;
define("utils/BatchRequest",["ajax-request"],function(e){"use strict";function n(e,n){r[e]=r[e]||[],r[e].push(n),i&&clearTimeout(i),i=setTimeout(t,a)}function t(n){for(var t in r)if(r.hasOwnProperty(t)){for(var a={batched:!0},i=r[t],u=0;u<i.length;u++)for(var o in i[u])i[u].hasOwnProperty(o)&&(a["data["+u+"]["+o+"]"]=i[u][o]);e({method:"POST",url:t,data:a,synchronous:n})}r={}}var a=1500,r={},i=null;return window.addEventListener("onpagehide"in window?"pagehide":"unload",t.bind(null,!0)),{queue:n}});
define("common/pixels-loader",["vanillajs","mixins/page-dates/DateEvents","ta/Core/TA.FireEvent"],function(n,o,i){"use strict";function e(){return Date.now()-r}function t(n){console.log("pixels-loader: "+e()+" "+n)}var a,r,c=2e3,l=!1;r=window.performance&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();var s=function(){l&&t("_load starting"),window.require(["trjs!ta/common/behavior/Ads-pagemoniker"],function(n){l&&t("Ads-pagemoniker starting"),n.loadMonikers(),o.on("dateSelected",function(o,i){"STAYDATES"==i&&window.setTimeout(n.loadMonikerForEnterDates,2e3)})}),a&&a.shouldInitFlightsEvents&&u(),s=function(){}},u=function(){var n=new Promise(require.bind(null,["trjs!ta/common/behavior/Ads-pagemoniker"]));i.on("lcbPop",function(){n.then(function(n){n.loadMonikerForLCBPop()})}),i.on("packageClick",function(){n.then(function(n){n.loadVacationPackageMetaMonikers()})}),i.on("metaLinkClickPixelLoad",function(o){n.then(function(n){n.loadFlightsMetaMonikers(o)})}),i.on("metaLightboxLoad",function(o){n.then(function(n){n.loadLightboxMonikers(o)})}),i.on("flightSearchPixelLoad",function(){n.then(function(n){n.loadMonikerForFlightSearch()})})};return{init:function(n){a=n,n&&n.pixelsEnabled&&(n.pixelLoadingTracing&&(l=!0),n.hotelsPixelLoadingStrategyEnabled?(l&&t("init: setting timeout of zero before running _load"),setTimeout(s,0)):(l&&t("init: setting timeout"),setTimeout(s,c)))},remarketingOptions:function(){return a}}});
define("lib/jquery/jquery.hoverIntent",["lib/jquery-amd"],function(e){"use strict";var t,n,i={interval:100,sensitivity:6,timeout:0},o=0,r=function(e){t=e.pageX,n=e.pageY},u=function(e,i,o,v){return Math.sqrt((o.pX-t)*(o.pX-t)+(o.pY-n)*(o.pY-n))<v.sensitivity?(i.off(o.event,r),delete o.timeoutId,o.isActive=!0,e.pageX=t,e.pageY=n,delete o.pX,delete o.pY,v.over.apply(i[0],[e])):(o.pX=t,o.pY=n,o.timeoutId=setTimeout(function(){u(e,i,o,v)},v.interval),void 0)},v=function(e,t,n,i){return delete t.data("hoverIntent")[n.id],i.apply(t[0],[e])};return function(t,n,a){var s=o++,d=e.extend({},i);e.isPlainObject(t)?(d=e.extend(d,t),e.isFunction(d.out)||(d.out=d.over)):d=e.isFunction(n)?e.extend(d,{over:t,out:n,selector:a}):e.extend(d,{over:t,out:t,selector:n});var p=function(t){var n=e.extend({},t),i=e(this),o=i.data("hoverIntent");o||i.data("hoverIntent",o={});var a=o[s];a||(o[s]=a={id:s}),a.timeoutId&&(a.timeoutId=clearTimeout(a.timeoutId));var p=a.event="mousemove.hoverIntent.hoverIntent"+s;if("mouseenter"===t.type){if(a.isActive)return;a.pX=n.pageX,a.pY=n.pageY,i.off(p,r).on(p,r),a.timeoutId=setTimeout(function(){u(n,i,a,d)},d.interval)}else{if(!a.isActive)return;i.off(p,r),a.timeoutId=setTimeout(function(){v(n,i,a,d.out)},d.timeout)}};return this.on({"mouseenter.hoverIntent":p,"mouseleave.hoverIntent":p},d.selector)}});
define("ta/util/Element",["lib/jquery-amd","utils/ajax","ta/Core/TA.Record","ns-exporter","ta/Core/TA.Event","lib/jquery/jquery.hoverIntent","utils/throttle"],function(t,e,i,n,o,r,a){function l(e,i){var n=e.style.fontSize||t(e).css("font-size"),o=n.replace(/[\d\.]/g,""),r=c(o,parseFloat(n)*i);e.style.fontSize=r+o}function s(){function e(e,i){var r=n[e],a=t(r.e);if(a.length>0){var l=r.inView;r.inView=!1,a.each(function(){return!r.inView&&void(r.inView=o.inViewport(this,i,r.persistentElmt,r.offset))}),!l&&r.inView&&(r.cb&&r.cb(r.e),r.multiple||n.splice(e,1))}}function i(){var e=t(window),i={};return i.top=e.scrollTop(),i.left=e.scrollLeft(),i.bottom=i.top+e.height(),i.right=i.left+e.width(),i}var n=[],o=this;this.add=function(i){n.push(i),e(n.length-1),n.length>0&&t(window).on("resize scroll",r)},this.inViewport=function(e,n,o,r){if(e=t(e),!e.is(":visible"))return!1;if(r=t.extend({top:0,left:0,right:0,bottom:0},r),o){var a=o.offsetHeight;a&&(0==o.offsetTop?r.bottom-=a:r.top+=a)}var l=e.offset();return n||(n=i()),n.bottom>=Math.max(l.top+r.top,0)&&n.right>=Math.max(l.left+r.left,0)&&n.top<=Math.max(l.top+e.height()+r.bottom,0)&&n.left<=Math.max(l.left+e.width()+r.right,0)};var r=a(function(){if(n.length){for(var o=i(),a=n.length-1;a>=0;a--)e(a,o);0==n.length&&t(window).off("resize scroll",r)}},300);t(window).on("load",r)}var f={};f.replaceContent=function(i,n,o,r){if(n=t(n),!n.find(".progresstab")){var a=o+(o.indexOf("?")==-1?"?":"&")+"xhr=true";n.append('<div class="progresstab"></div>'),e({url:a,success:function(t){n.html(t),window.behavior&&window.behavior.apply(n),r&&r(n.get(0))},evalScripts:!0}).get()}},f.spinner=function(e,i){t(i).parents(".spinnerReplaceable").children().each(function(t,e){e.toggle(e.hasClass("spinner"))})},f.limitLength=function(t,e,i){return!(e.value.length>=i)||(e.value=e.value.substr(0,i),!1)},f.updateValue=function(e,i){if(e=t(e),e.length>0&&e.val()!=i){e.val(i);var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!1),e[0].dispatchEvent(n)}},f.keepInWindow=function(e,i){function n(t,e){var i=parseInt(t.get(0).style[e]);return i||0===i}if(e){e=t(e),i||(i={top:!0,right:!0,bottom:!0,left:!0});var o=2,r=e.offset();r.right=r.left+e.width(),r.bottom=r.top+e.height();var a=t(window),l=a.width(),s=a.height(),f=a.scrollTop(),c=a.scrollLeft();i.right&&n(e,"right")?r.left<c+o?e.css("right",l+c-e.width()-o):r.right>l-c-o&&e.css("right",o):i.left&&n(e,"left")&&(r.left<c+o?e.css("left",o):r.right>l-c-o&&e.setStyle("left",l+c-r.width-o)),i.bottom&&n(e,"bottom")?r.top<f+o?e.setStyle("bottom",s+f-r.height-o):r.bottom>s-f-o&&e.setStyle("bottom",o):i.top&&n(e,"top")&&(r.top<f+o?e.setStyle("top",o):r.bottom>s-f-o&&e.setStyle("top",s+f-r.height-o))}};var c=function(t,e){var i=e;return"px"==t?i=8:"em"==t?i=.5:"pt"==t?i=6:"%"==t&&(i=50),Math.max(e,i)};f.makeTextFit=function(e,i,n,r,a){a=a||1,r=r||8;var l=!1;if(t(e).each(function(e,o){o=t(o);var a=o.find(i);if(a){var s;if("number"==typeof n)s=n;else if(s=o.find(n).outerHeight(),void 0===s)return;var f=a.height();if(s<f){var c=a.css("font-size");if(c){var u=function(t,e){return"px"==e&&t>=r||"em"==e&&t>=.5||"pt"==e&&t>6||"%"==e&&t>=50},h=c.replace(/[\d\.]/g,""),d=parseFloat(c)*Math.sqrt(s/f);"px"==h&&(d=Math.max(parseInt(d),r)),u(d,h)&&(a.css("font-size",d+h),l=!0)}}}}),l>0&&a<4){o.fireEvent("makeTextFitResizedText");var s=this;setTimeout(function(){s.makeTextFit(e,i,n,r,a+1)},1)}},function(){function e(t){var e=!1;if(!t||t.clientWidth&&t.clientWidth<=0)return!1;for(var i=t.clientWidth,n=(parseFloat(t.style.paddingLeft)||0)+(parseFloat(t.style.paddingRight)||0),o=0;o<a&&t.scrollWidth>i;o++){var r=(i-n)/(t.scrollWidth-n);l(t,r),e=!0}return t.scrollWidth>i&&(l(t,s),e=!0),e}function i(t,e){var i=t.getAttribute("data-sizegroup"),n=parseFloat(t.style.fontSize);i&&(e[i]=Math.min(e[i]||Number.MAX_VALUE,n))}function n(t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i],o=[];n.forEach(function(t){o.push([t.scrollWidth,t])}),o.sort(function(t,e){return e[0]-t[0]});for(var r=0;r<o.length&&e(o[r][1]);r++);}}function r(t){var i;for(var n in t)t.hasOwnProperty(n)&&(i={},t[n].forEach(function(t){var n=t.innerHTML,o=i[n];void 0!==o?0!=o&&(t.style.fontSize=o):e(t)?i[n]=t.style.fontSize||0:i[n]=0}))}var a=4,s=.9;f.makeTextFitOneLine=function(i,n){var o=t(i);if(o.each(function(t,i){e(i)}),n){var r;o.each(function(e,i){var n=t(i).css("font-size");(!r||parseFloat(n)<parseFloat(r))&&(r=n)}),r&&o.css("font-size",r)}},f.autoResizeTextInNode=function(o){o=t(o);var a=t(".autoResize",o),l={},s={width:{},text:{}};a.filter(":visible").removeClass("autoResize").each(function(t,n){var o,r,a=n.getAttribute("data-resizeWidthGroup"),f=n.getAttribute("data-resizeTextGroup");a?(o=s.width,r=a):f&&(o=s.text,r=f),o?(o[r]||(o[r]=[]),o[r].push(n)):(e(n),i(n,l))}),n(s.width),r(s.text),a.each(function(t,e){var i=e.getAttribute("data-sizegroup");i&&(e.style.fontSize=l[i]+"px")})},o.queueForLoad(function(){require.defined("ta/Core/TA.Store")&&require("ta/Core/TA.Store").retrieve("no-old-resize")||(o.on("refreshedDOMContent",function(t){f.autoResizeTextInNode(t)}),document.body&&f.autoResizeTextInNode(document.body))},"autoResize all targets on load")}(),f.makeSameWidth=function(e){var i=0;t(e).each(function(t,e){var n=Math.round(parseFloat(e.style.width));n&&n>i&&(i=n)}).css("width",i)},f.fitToContentsHorizontally=function(e,i,n,o){if(o=o||1,!(o<=0||i>n)){var r=function(t){return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight};t(e).each(function(t,e){e.style.width=i;for(var a=i;a<n&&r(e);a+=o)e.style.width=a;r(e)&&(e.style.width=n)})}},f.scrollIntoView=function(e,i,n,o){if(e){e=t(e);var r=e.offset().top+(i||0);if(n){for(var a=t("html, body"),l=e.parent(),s=function(t){return("auto"===t.css("overflow-y")||"scroll"===t.css("overflow-y"))&&t[0].scrollHeight>t[0].clientHeight};l.length&&!l.is(a)&&!s(l);)l=l.parent();l.length&&!l.is(a)&&s(l)?r=l.offset().top+l.scrollTop()+(i||0):l=a,l.animate({scrollTop:r},{duration:300,complete:function(){o&&o()}})}else window.scrollTo(0,r),o&&o()}};var u=f.scrollTrackers=new s;return f.isScrolledIntoView=function(t,e,i){return u.inViewport(t,null,e,i)},f.doIfElementIsVisible=function(t,e,i,n){t&&u.add({e:t,cb:function(){return e.apply(null,i),!0},offset:n})},f.trackWhenScrolledIntoView=function(t,e,n){if(t&&e){var o=function(){i.trackEventOnPage.apply(i,e)};u.add({e:t,cb:o,multiple:n})}},f.getTotalWidth=function(e){return t(e).outerWidth(!0)||0},f.getTotalHeight=function(e){return t(e).outerHeight(!0)||0},f.hoverIntent=function(e,i){r.bind(t(e),i)()},n.exportTo(f,"ta.util.element"),f});
define("ta/common/behavior/Ads-pagemoniker",["vanillajs","ns-exporter","common/trackingStreams","ta/Core/TA.Store","common/pixels-loader","ta/util/Element","ta/Core/TA.FireEvent"],function(e,r,o,n,t,i,l){function a(){return Date.now()-_}function u(e){console.log("ads-pagemoniker: "+a()+" "+e)}var s={};s.remarketingOptions=t.remarketingOptions()||{};var _,d=function(){return new Promise(function(e){window.require(["@ta/platform.runtime"],function(r){r.importBundle("@ta/platform.consent").then(function(r){r.enqueue(e)})})})},T=function(e){return void 0===s.remarketingOptions.pixelsEnabled&&(s.remarketingOptions=t.remarketingOptions()||{}),s.remarketingOptions[e]},c={OFFER_VIEW:"Monikers_OV",HAC_PRICES_LOADED:"Monikers_HPL",RESTAURANTS_OFFLINE_ATTRIBUTION:"Monikers_ROA",RESTAURANTS_PRODUCT_SELECTION:"Monikers_RPS",RESTAURANTS_PRODUCT_PAYMENT:"Monikers_RPP",RESTAURANTS_PRODUCT_CONVERSION:"Monikers_RPC",RESTAURANTS_NEW_REG_OWNER_FORM:"Monikers_NRO",RESTAURANTS_CONF_REG_OWNER:"Monikers_CRO",MEMBER_REGISTRATION_FORM:"Monikers_MRF",HOTEL_CLAIM_FORM_SUBMISSION:"Monikers_HCFS",STARTER_PACKAGES_PAGE_VIEW:"Monikers_SPPV",STARTER_PACKAGES_PROPERTY_SELECTION:"Monikers_SPPS",HOTELS_PRODUCT_CART_INITIATE_CHECKOUT:"Monikers_HPCIC",HOTELS_PRODUCT_CART_ADD_PAYMENT_INFO:"Monikers_HPCAP",HOTELS_PRODUCT_CART_PURCHASE:"Monikers_HPCPP",FACEBOOK_MC_RETARGETING:"Monikers_FMCR",PAID_FUNNEL_LEAD_CONVERSION:"Monikers_PFLC",MEMBER_CREATE:"Monikers_MC",SAVE_TO_TRIP:"Monikers_STT",SAVE_TO_TRIP_INTENT:"Monikers_STTI"},M=function(e){return"RESTAURANTS_OFFLINE_ATTRIBUTION"===e?c[e]+"_"+Math.floor(Math.random()*Math.floor(1e6)):c[e]},E="dates.enter.moniker.fired",k="hotel.prices.moniker.fired",R=!1,C=5,P="loc1",p="@@@loc1@@@",A="locId",S=10,f=1e3,x=function(){function e(){var o="",n="[data-pernight][data-locationid='"+t[l]+"']",u=document.body.querySelector(n);a<S&&!u?(a++,window.setTimeout(e,f)):(a<S&&(o=u.getAttribute("data-pernight")||""),i.push(o),r=!0)}var r=!1;if(T("hotelPricesEnabled")){var o=T("pixelContext");if(o){var n=o.servlet;if("HotelHighlight"===n)return r;var t,i=[];"Hotel_Review"===n?t=[o.curLocId.toString()]||"":(t=o.locIds||"",t=t.split(",").slice(0,C));for(var l=0;l<t.length;l++)if(t[l]){var a=0;e()}o.locPrices=i.join(",")}}else r=!0;return r},F=function(){return!!x()&&(m(),!0)},O=!1;_=window.performance&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();var I=function(){if(O&&u("_loadHotelPricesPixels starting"),T("hotelPricesEnabled")){var e=3,r=function(){!F()&&e--&&setTimeout(r,1e3)};r()}};s.loadMonikerForHotelPrices=function(e){var r=!1;return e&&(O=e.pixelLoadingTracing,r=e.hotelsPixelLoadingStrategyEnabled),O&&u("loadMonikerForHotelPrices starting"),r?void setTimeout(I,0):void I()},s.loadMonikers=function(e){try{if(!T("pixelsEnabled"))return null;e=e||{},e.pixelType="PAGEVIEW";var r=T("pixelContext");!r||"HotelBookingRoomSelectionHtml"!=r.servlet&&"MobileHotelBookingRoomSelection"!=r.servlet||(e.pixelType="IB_CLICK",s._addIBPageViewContext(e));var n=s._loadMonikers(e);return T("cacheMobileClickoutResponse")&&(e.pixelType="CLICKOUT",s._cacheClickoutMonikers(e)),n}catch(r){o.error(r,"ads.loadMonikers",null,{context:e})}return null},s.loadMonikerForEnterDates=function(e){try{if(!T("pixelsEnabled"))return null;n.retrieve(E)||(n.store(E,!0),x(),e=e||{},e.pixelType="ENTER_DATES",setTimeout(s._loadMonikers.bind(null,e),2e3))}catch(e){}};var m=function(e){try{if(!T("hotelPricesEnabled"))return null;n.retrieve(k)||(n.store(k,!0),s._loadMonikersForPixelType(e,"HAC_PRICES_LOADED"))}catch(e){}};return s.loadClickoutMonikers=function(e){try{return T("pixelsEnabled")&&T("clickoutPixelsEnabled")?s._cachedClickoutMonikerTextArr?s._appendMonikersIFrameText(s._cachedClickoutMonikerTextArr,e[A]||""):(e=e||{},e.pixelType="CLICKOUT",s._loadMonikers(e)):null}catch(r){o.error(r,"ads.loadClickoutMonikers",null,{context:e})}return null},s.loadLightboxMonikers=function(e,r){try{if(!T("pixelsEnabled"))return null;e=e||{},e.pixelType="LIGHTBOX_CLICK";var n=s._mergeContexts(e,r),t=s._loadMonikers(n);return t}catch(r){o.error(r,"ads.loadLightboxMonikers",null,{context:e})}return null},s.loadLightboxClickoutMonikers=function(e){try{return T("pixelsEnabled")&&T("clickoutPixelsEnabled")?(e=e||{},e.pixelType="LIGHTBOX_CLICKOUT",s._loadMonikers(e)):null}catch(r){o.error(r,"ads.loadLightboxClickoutMonikers",null,{context:e})}return null},s.loadIBClickMonikers=function(e){if(R)return null;var r=s._loadMonikersForPixelType(e,"IB_CLICK");return R=!0,r},s.loadIBRoomSelectMonikers=function(e){return s._loadMonikersForPixelType(e,"IB_ROOM_SELECT")},s.loadIBConfirmMonikers=function(e){return s._loadMonikersForPixelType(e,"IB_CONFIRM")},s.loadVRConfirmMonikers=function(e){return s._loadMonikersForPixelType(e,"VR_CONFIRM")},s.loadFlightsMetaMonikers=function(e){return null!=s._loadMonikersForPixelType(e,"FLIGHTS_META")?s._loadMonikersForPixelType(e,"LIGHTBOX_CLICKOUT"):null},s.loadMonikerForCarsMeta=function(e){return s._loadMonikersForPixelType(e,"CARS_META")},s.loadMonikerForCarsSearchResults=function(e){return s._loadMonikersForPixelType(e,"CARS_SEARCH_RESULTS")},s.loadVacationPackageMetaMonikers=function(e){return s._loadMonikersForPixelType(e,"PACKAGE_META")},s.loadMonikerForLCBPop=function(e){return s._loadMonikersForPixelType(e,"LCB_POP")},s.loadMonikerForFlightsMetaLightbox=function(e){return s._loadMonikersForPixelType(e,"LIGHTBOX_CLICK")},s.loadMonikerForFlightSearch=function(e){return s._loadMonikersForPixelType(e,"SEARCH")},s.loadMonikerForCruiseMeta=function(e){return s._loadMonikersForPixelType(e,"CRUISE_META")},s.loadMonikerForRestaurantsOfflineAttribution=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_OFFLINE_ATTRIBUTION")},s.loadMonikerForRestaurantsProductSelection=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_PRODUCT_SELECTION")},s.loadMonikerForRestaurantsProductPayment=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_PRODUCT_PAYMENT")},s.loadMonikerForRestaurantsProductConversion=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_PRODUCT_CONVERSION")},s.loadMonikerForRestaurantsNewRegOwnerForm=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_NEW_REG_OWNER_FORM")},s.loadMonikerForRestaurantsConfirmedRegOwner=function(e){return s._loadMonikersForPixelType(e,"RESTAURANTS_CONF_REG_OWNER")},s.loadMonikerForHotelClaimFormSubmission=function(e){return s._loadMonikersForPixelType(e,"HOTEL_CLAIM_FORM_SUBMISSION")},s.loadMonikerForMcRetargeting=function(e){return s._loadMonikersForPixelType(e,"FACEBOOK_MC_RETARGETING")},s.loadMonikerForPaidFunnelConversion=function(e){return s._loadMonikersForPixelType(e,"PAID_FUNNEL_LEAD_CONVERSION")},s.loadMonikerForStarterPackagesPageView=function(e){return s._loadMonikersForPixelType(e,"STARTER_PACKAGES_PAGE_VIEW")},s.loadMonikerForStarterPackagesPropertySelection=function(e){return s._loadMonikersForPixelType(e,"STARTER_PACKAGES_PROPERTY_SELECTION")},s.loadMonikerForHotelsProductCartCheckout=function(e){return s._loadMonikersForPixelType(e,"HOTELS_PRODUCT_CART_INITIATE_CHECKOUT")},s.loadMonikerForHotelsProductCartAddPaymentInfo=function(e){return s._loadMonikersForPixelType(e,"HOTELS_PRODUCT_CART_ADD_PAYMENT_INFO")},s.loadMonikerForHotelsProductCartPurchase=function(e){return s._loadMonikersForPixelType(e,"HOTELS_PRODUCT_CART_PURCHASE")},s.loadMonikerForMemberRegistrationForm=function(e){return s._loadMonikersForPixelType(e,"MEMBER_REGISTRATION_FORM")},s.loadMonikerForCreateMemberSuccessful=function(e){return s._loadMonikersForPixelType(e,"MEMBER_CREATE")},s.loadMonikerForSaveToTripIntent=function(e){return s._loadMonikersForPixelType(e,"SAVE_TO_TRIP_INTENT")},s.loadMonikerForSaveToTrip=function(e){return s._loadMonikersForPixelType(e,"SAVE_TO_TRIP")},s.loadMonikerForRegistration=function(e,r){var o=s._mergeContexts(e,r);return s._loadMonikersForPixelType(o,"REGISTRATION_SUCCESS")},s._loadMonikersForPixelType=function(e,r){try{return e=e||{},e.pixelType=r,T("pixelsEnabled")&&T("ibPixelsEnabled")||e.pixelEnableOverride?s._loadMonikers(e):null}catch(r){o.error(r,"loadMonikers for pixelType, ",null,{context:e})}return null},s._cacheClickoutMonikers=function(e){var r=T("pixelContext"),o=s._mergeContexts(r,e),n=s._buildPixelUrl(o);if(n){n+="&reportOnly=true&jsReplace="+P;var t=new XMLHttpRequest;t.open("GET",n,!0),t.onreadystatechange=function(){4==this.readyState&&(s._cachedClickoutMonikerTextArr=this.response.split(p))},t.send()}},s._addIBPageViewContext=function(e){document.getElementById("roomList")&&(e.lowestPrice=document.getElementById("roomList").dataset.lowestPrice),document.getElementById("roomInfoContainer")&&(e.lowestPrice=document.getElementById("roomInfoContainer").dataset.lowestPrice)},s._buildPixelUrl=function(e){var r=T("pixelServlet")?T("pixelServlet"):e.pixelServlet;if(!r)return o.error(null,"ads._buildPixelUrl: remarketing.pixelServlet not set"),null;var n="/"+r+"?",t=T("pixelsByType");if(t){var i=t[e.pixelType];if(i){var l=i.join(",");l&&(n=n+"pixelList="+l)}}for(var a in e)e.hasOwnProperty(a)&&(n+="&"+a+"="+e[a]);return ta.uid&&(n+="&puid="+ta.uid),n},s._appendMonikersIFrame=function(e,r){return d().then(function(){var o=document.createElement("iframe");return o.setAttribute("id",r||"Monikers"),o.setAttribute("style","border:none; position:absolute; bottom:0; right:0"),o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("src",e),o.setAttribute("scrolling","no"),document.body.appendChild(o),o})},s._appendMonikersIFrameText=function(e,r){return d().then(function(){var o=document.createElement("iframe");o.setAttribute("id","Monikers"),o.setAttribute("style","border:none; position:absolute; bottom:0; right:0"),o.setAttribute("width","1"),o.setAttribute("height","1"),document.body.appendChild(o);var n=o.contentDocument||o.contentWindow.document;n.open().write(e[0]);for(var t=1;t<e.length;t++)n.write(r),n.write(e[t]);return n.close(),o})},s._mergeContexts=function(e,r){if(!e)return r;if(!r)return e;var o,n={};for(o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);for(o in r)r.hasOwnProperty(o)&&(n[o]=r[o]);return n},s._loadMonikers=function(e){var r,n;try{r=T("pixelContext"),n=s._mergeContexts(r,e);var t=s._buildPixelUrl(n);return t?s._appendMonikersIFrame(t,M(n.pixelType)):null}catch(n){o.error(n,"ads._loadMonikers",null,{pixelContext:r,extraContext:e})}return null},r.exportTo(s,"ta.common.ads"),s});
define("retargeting/util",["ta/Core/TA.Store","mixins/page-dates/Utils"],function(e,t){function r(e){e.hasOwnProperty("drs")||(e.drs=ta.retrieve("retargeting.drs")),e.hasOwnProperty("uvm")||(e.uvm=ta.retrieve("retargeting.uvm")),e.hasOwnProperty("dbi")||(e.dbi=ta.retrieve("retargeting.dbi")),e.hasOwnProperty("geoId")&&void 0!==e.geoId||(e.geoid=ta.retrieve("retargeting.geoId"))}function a(t,a){t&&a&&taq&&(r(a),taq("init",g),e.has("retargeting.rtURL")&&taq("override",e.retrieve("retargeting.rtURL")),window.pageServlet?a.servlet_name=window.pageServlet:require.defined("page-model")&&(a.servlet_name=require("page-model").session.pageServlet),taq("track",t,a))}function i(e){if(ta.page&&ta.page.hasDates("STAYDATES")){var r=ta.page.getDates("CHECKIN")[0],a=ta.page.getDates("CHECKOUT")[0];e.travel_start_date=t.dateToIso(r),e.travel_end_date=t.dateToIso(a)}}var g=481409672;return{send:a,getDates:i}});
define("retargeting/providers/desktop-display-adview",["ta/Core/TA.Store","retargeting/util"],function(e,d){return function(r,i,a){var t=e.retrieve("ads.pageTargeting")||{},n=!1,o="";require.defined("page-model")&&(n=require("page-model").session.loggedIn,o=require("page-model").DUST_GLOBAL.DEVICE);var g={};g.locationId=t.detail,g.geoId=window.modelGeoId,g.brand=t.brand,g.sub_brand=t.sub_brand,g.is_member=n,g.device_type=o,g.page_type=t.PageType,i&&(d.getDates(g),g.slot=i.domId,g.creative_id=i.creativeId,g.advertiser_id=i.advertiserId,g.vendor=a),d.send(r,g)}});
define("retargeting/listeners/desktop-display-adview",["ta/Core/TA.Event","retargeting/providers/desktop-display-adview"],function(e,t){return function(n){require(["trjs!taevents"],function(){e.on("onAdRender",function(e){if(n&&e.advertiserId){var r=n[e.advertiserId];r&&"function"==typeof t&&t("DISPLAY_AD_VIEW",e,r)}})})}});
define("maps/v3/hashHandler",["babel/babel-helpers","maps/v3/baselineShims/mapStateControllerShim"],function(a,n){"use strict";function t(a){var n=a.mapStateController,t=a.mapState,i=a.hash,s={hash:i},w=function(){t&&t.mapOpen&&window.location.hash!==i&&t.closeMap()};t.on(n.EVENT.POSTRENDER,o.bind(null,s)),t.on(n.EVENT.AFTER_CLOSE,function(){window.removeEventListener("popstate",w,!1),e(s),window.addEventListener("popstate",w,!1)}),window.addEventListener("hashchange",h.bind(null,{mapState:t,hash:i}),!1),window.addEventListener("popstate",w,!1)}function o(a){a.hash&&i&&window.location.hash!==a.hash&&(a.hashRemovePushed?window.history.back():window.history.pushState(null,"",window.location.href.replace(/#.*|$/,a.hash)),a.hashAddPushed=!a.hashRemovePushed)}function e(a){if(a.hash&&i&&window.location.hash===a.hash){var n=window.location.search,t=window.location.pathname,o=function a(){window.removeEventListener("popstate",a,!1),window.location.pathname===t&&window.location.search!==n&&window.history.replaceState(window.history.state,"",""+window.location.pathname+n+window.location.hash)};a.hashAddPushed?(window.addEventListener("popstate",o,!1),window.history.back()):window.history.pushState(null,"",window.location.href.replace(a.hash,"")),a.hashRemovePushed=!a.hashAddPushed}}function h(a){var n=a.mapState,t=a.hash;t&&n&&window.location.hash===t&&!n.mapOpen&&n.openMap()}var i=!(!window.history||!window.history.pushState);return{init:function(a,o){a&&o&&n.waitForModule().then(function(n){var e=n.forMap(a);e&&(t({mapStateController:n,mapState:e,hash:o}),h({mapState:e,hash:o}))})},initListeners:t}});
define("retargeting/providers/desktop-meta-click",["commerce/offerclick","retargeting/util"],function(e,r){return function(i,n){if(n){var o=window.modelGeoId,d=n.brandname,a=n.vendorname,t=n.pernight,c=n.offerclient,l=!1,g="";require.defined("page-model")&&(l=require("page-model").session.loggedIn,g=require("page-model").DUST_GLOBAL.DEVICE);var m={};m.geoId=o,m.locationId=n.locationid,m.brand=d,m.vendor=a,m.provider=c,m.pernight=t,m.device_type=g,m.is_member=l;var f=n.clicktoken;if(f){var p=e.expandToken(f);m.slot=p.slot,m.area=p.area}r.getDates(m),r.send(i,m)}}});
define("retargeting/listeners/desktop-meta-click",["ta/Core/TA.Event","retargeting/providers/desktop-meta-click"],function(e,t){var n="TripAdvisor";return function(r){require(["trjs!taevents"],function(){e.on("metaLinkClick",function(e){var r=e.dataset;if(r&&"function"==typeof t){var i=r.vendorname===n?"IB_CLICK":"META_CLICK";t(i,r)}})})}});
define("overlays/styles/inlinepopup",["overlays/utils","utils/is-element"],function(t,e){"use strict";function i(i,n,r,a){e(i)?this.domParent=i:this.domParent=document.querySelector('[data-inlinepopup-name="'+i+'"]'),this.container=document.createElement("span"),this.container.setAttribute("class","ui_overlay ui_inline_popup arrow_"+t.getArrowDir(n)+" "+r),this.container.setAttribute("style",a),this.arrow=document.createElement("div"),this.arrow.setAttribute("class","arrow"),this.container.appendChild(this.arrow),this.inner=document.createElement("div"),this.inner.setAttribute("class","body_text"),this.container.appendChild(this.inner),this.contentElement=this.inner}var n=function(t,e,n,r,a,s){return e=e||t.getAttribute("data-parent")||"",n=n||t.getAttribute("data-direction")||"",r=r||t.getAttribute("data-inline-popup")||"",a=a||t.getAttribute("data-content")||"",s=s||t.getAttribute("data-style")||"",function(){i.call(this,e,n,r,s),this.updateContent(a)}};return n});
define("overlays/position/belowFullWidth",["lib/jquery-amd","overlays/position/base"],function(t,o){"use strict";return function(e,i,n){var s=o();return s.onPosition=function(){var o=t(this.sourceElement),s=o.offset(),r=o.outerHeight();if(this.domParent!=document.body){var u=t(this.domParent).offset();s.top-=u.top}t(this.container).css({position:n||"absolute",top:s.top+r+(e||0)+"px",left:(i||0)+"px",bottom:"auto",right:(i||0)+"px"})},s}});
define("overlays/position/animateFromLastSource",["overlays/position/base","utils/classnameUtils"],function(t,e){"use strict";return function(o,i){var n=t();return n.label="animateBetween",n.onPosition=function(){if("function"==typeof i&&!i())return void o.onPosition.apply(this);for(var t=this.sourceElement.getAttribute("data-anim-group"),n=null,s=document.querySelectorAll(".ui_overlay"),r=0;r<s.length;r++){var a=s[r],l=a&&a.overlay&&a.overlay.sourceElement;if(l&&l!==this.sourceElement&&l.getAttribute("data-anim-group")===t){n=l;break}}if(n){var u=this.sourceElement;this.sourceElement=n,o.onPosition.apply(this),this.sourceElement=u;var c=this,m="transition-all-200ms";setTimeout(function(){e.addClass(c.container,m),o.onPosition.apply(c),setTimeout(function(){e.removeClass(c.container,m),c.emit("repositionArrow")},200)},0)}else o.onPosition.apply(this)},n}});
define("overlays/options/dimElement",[],function(){"use strict";var n=function(n){function i(n){this.on("show",function(){n.classList.add("dim")}).on("hide",function(){n.classList.remove("dim")})}return arguments.length?function(){i.call(this,n)}:void i.call(this,this.sourceElement)};return n});
define("overlays/options/closeAllOtherOverlaysOnShow",["utils/domUtils","vanillajs"],function(o,e){"use strict";return function(){var e=this;this.on("show",function(){o.querySelectorArray(document,".ui_overlay").forEach(function(n){n&&n.overlay&&n.overlay!=e&&(o.isOrContainsElement(n,e.sourceElement)||n.overlay.hide())}),window&&window.__REDUX_STORE__&&window.__REDUX_STORE__.dispatch({type:"HIDE_ALL_OVERLAYS"})})}});
define("utils/domEventUtils",["vanillajs"],function(){function e(e,t,n){return{"elmt":e,"type":t,"handler":n,"callback":function(t){t.target=t.target||t.srcElement,n.call(e,t)}}}function t(t,r,i){if(n(t,r,i))return null;l[r]||(l[r]=[]);var a=e(t,r,i);return l[r].push(a),a}function n(e,t,n,r){for(var i=l[t]||[],a=i.length-1;a>=0;a--){var v=i[a];if(v.elmt==e&&v.handler==n)return r&&i.splice(a,1),v}return null}function r(e,t,r){return n(e,t,r,!0)}function i(){if(null===v){v=!1;try{var e=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}}return v}var a={},l={},v=null;return a.addEvent=function(e,n,r){if(e)if(e.addEventListener)e.addEventListener(n,r,!1);else if(e.attachEvent){var i=t(e,n,r);i&&e.attachEvent("on"+n,i.callback)}},a.removeEvent=function(e,t,n){if(e)if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent){var i=r(e,t,n);i&&e.detachEvent("on"+t,i.callback)}},a.passiveSupported=i,a});
define("overlays/options/closeOnScrollOutOfView",["utils/domEventUtils"],function(n){"use strict";return function(){function o(){var n=t.contentElement.getBoundingClientRect();(n.bottom<0||n.top>window.innerHeight)&&t.hide("scroll_out_of_view")}var t=this;this.on("show",function(){n.addEvent(window,"scroll",o)}).on("hide",function(){n.removeEvent(window,"scroll",o)})}});
define("overlays/options/moveIntoView",["lib/jquery-amd"],function(t){"use strict";var o=500;return function(e,n){return e="undefined"==typeof e||e,n="undefined"!=typeof n||isNaN(n)?n:0,function(){this.on("show",function(){var i,f,r=t(this.container),s=t(this.sourceElement);e?(i=Math.min(r.offset().top,s.offset().top),f=Math.max(r.offset().top+r.outerHeight(),s.offset().top+s.outerHeight())):(i=r.offset().top,f=r.offset().top+r.outerHeight());var u=window.innerHeight,a=t(window).scrollTop(),h=a+u;if(!(i>=a&&f<=h)){var p,c=f-i;p=c>u||i<a?i-n:f-u+n,t("html, body").animate({scrollTop:p},o)}})}}});
define("overlays/options/blurSourceOnHide",["vanillajs"],function(){"use strict";return function(){var e=this;this.on("hide",function(){e.sourceElement&&e.sourceElement.blur()})}});
define("overlays/options/trackHideTrigger",["common/trackingStreams"],function(t){"use strict";return function(n,e){return function(){this.on("hide",function(r){t.trackEvent(n||"overlay",e||"hide",r&&r.trigger||"default")})}}});
define("ta/common/Swipe",["vanillajs"],function(e){"use strict";return{resetImageBehavior:function(e,t){for(var n,o=document.querySelectorAll(e),i=function(e){e.preventDefault()},r=0;r<o.length;r++)n=o[r],n.onmousedown=i,t&&n.removeAttribute("onclick")},addSwipeListener:function(e,t,n){function o(){e.removeEventListener("touchmove",i),e.removeEventListener("touchend",r),window.removeEventListener("MSPointerMove",i,!1),window.removeEventListener("MSPointerUp",r,!1),c=null,a=null,v=null}function i(e){if(e.touches.length>1)o();else{s=e.touches[0].pageX-c;var t=e.touches[0].pageY-a;null===v?(v=s,n||e.preventDefault(),e.stopPropagation()):(v<0&&s>0||v>0&&s<0||Math.abs(t)>l)&&o()}}function r(n){o(),t&&Math.abs(s)>d&&t({target:e,direction:s>0?"right":"left",event:n}),s=0}function u(t){1==t.touches.length&&(c=t.touches[0].pageX,a=t.touches[0].pageY,e.addEventListener("touchmove",i,!1),e.addEventListener("touchend",r,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",r,!1))}var c,a,s,v,d=40,l=30;return"function"==typeof t&&e.addEventListener("touchstart",u,!1),{cancel:function(){"function"==typeof t&&e.removeEventListener("touchstart",u,!1)}}}}});
define("calendars/ResponsiveStayDates",["vanillajs","overlays/Overlay","overlays/styles/popover","overlays/styles/inlinepopup","overlays/position","overlays/position/belowFullWidth","overlays/position/animateFromLastSource","overlays/options/closeOnDocClick","overlays/options/repositionOnEvent","overlays/options/repositionOnTaEvent","overlays/options/storeOverlayOnElement","overlays/options/highlightElement","overlays/options/dimElement","overlays/options/closeAllOtherOverlaysOnShow","overlays/options/closeOnScrollOutOfView","overlays/options/closeOnTaEvent","overlays/options/centerArrowOnSrcElement","overlays/options/moveIntoView","overlays/options/blurSourceOnHide","overlays/styles/windowshade","overlays/options/trackHideTrigger","calendars/CalendarDate","ta/util/I18N","ta/Core/TA.Dust","ta/util/Deferred","ta/util/Date","mixins/page-dates/DateTypeStore","common/trackingStreams","utils/responsive","utils/ResponsiveEvents","utils/domUtils","utils/classnameUtils","utils/domEventUtils","ta/common/Swipe","common/Radio"],function(e,t,a,n,r,i,o,s,l,c,d,u,p,m,h,f,y,v,g,D,T,S,b,C,w,M,_,O,E,A,x,k,I,L,R){"use strict";function N(e,t){var a,n,r=[],i=!1,o=_.isSingleDateType(t.dateType);n="YELLOW_BRICKS_3"===t.heatmapStyle||"YELLOW_BRICKS_3_1"===t.heatmapStyle?t.heatmapPercentiles[e.toISOString()]||{}:t.heatmapPercentiles[t.currentMonth.toISOString()]||{};var s=n.rangeLow,l=n.rangeHigh,c=P(n),d={};e.eachDayInMonth(function(e){var a=!i&&0===e.compare(t.today);i=i||a;var n=t.startDate&&0===e.compare(t.startDate),s=e.toISOString(),l=t.heatmap[s],u=Y(e,t),p=null,m=null;if(l&&(!u||n)){p=l.price;for(var h=0;h<c.length;h++){var f=c[h];if(l.priceInt<f.priceInt)break;m=f.name}d[m]=m}r.push({label:e.day(),date:u?null:e.toString(),today:a,start:!o&&n,end:t.endDate&&0===e.compare(t.endDate),selected:o?n:e.inRange(t.startDate,t.endDate),price:p,trend:m})}),a=e.firstDayOfMonth()-jsGlobalDayOffset,a+=a<0?7:0;for(var u=0;u<a;u++)r.unshift({label:"&nbsp;"});var p=e.year();t.thaiOffset===!0&&(p+=oe);var m="date_medium_month_year";t.calendarStyle.id===ce.corgi.id&&(m="date_full_month_year");var h=ta.i18n?ta.i18n.formatDate(m,new Date(p,e.month())):jsGlobalMonths[e.month()]+" "+p,f=(13-jsGlobalDayOffset)%7,y=(7-jsGlobalDayOffset)%7,v=jsGlobalDaysShort;return t.calendarStyle.id!==ce.classic.id&&t.calendarStyle.id!==ce.corgi.id||(v=jsGlobalDaysAbbrev),{dayLabels:v,days:r,header:h,saturday:f,sunday:y,priceTrendNames:d,rangeLow:s,rangeHi:l}}function P(e){var t=[];for(var a in e)if(0!==a.indexOf("range")&&e.hasOwnProperty(a)){var n=e[a];t.push({name:a,priceInt:n.priceInt})}return t.sort(function(e,t){return e.priceInt-t.priceInt}),t}function H(e){for(var t=[],a={},n=null,r=null,i=0;i<e.calendarStyle.getNumMonths();i++){var o=N(e.currentMonth.relativeMonth(i),e);n=W(n,o),r=V(r,o),t.push(o),Object.assign(a,o.priceTrendNames)}return{months:t,showClearButton:e.showClearButton,calendarTitle:e.calendarTitle,calendarTitleTestClass:e.calendarTitleTestClass,headerProminenceTestClass:e.headerProminenceTestClass,calendarClasses:e.calendarStyle.getClassname(),calendarStyle:e.calendarStyle.id,calendarAssets:e.calendarAssets,heatmapStyle:e.heatmapStyle,priceTrendNames:a,rangeLow:n,rangeHi:r,popularDates:e.popularDates}}function B(e){var t=new S,a={availableDates:e.availableDates,excludedDates:e.excludedDates,startDate:e.startDate&&new S(e.startDate),endDate:e.endDate&&new S(e.endDate),today:t,thisMonth:t.thisMonth(),dateType:e.dateType,minEnabledDate:e.minEnabledDate||t,maxEnabledDate:e.maxEnabledDate||t.relativeDay(330),maxStayLength:e.maxStayLength||M.MAX_STAY_DURATION_DAYS,thaiOffset:e.thaiOffset,showClearButton:e.showClearButton||!1,className:e.className||null,calendarTitle:e.calendarTitle||null,calendarStyle:ce[e.calendarStyle.clientKey]||ce.control,calendarAssets:e.calendarStyle.assets,heatmapStyle:e.heatmapStyle,heatmapPercentiles:e.heatmapPercentiles,heatmap:e.heatmap,colorAccessibilityTestClass:e.colorAccessibilityTestClass,calendarTitleTestClass:e.calendarTitleTestClass,headerProminenceTestClass:e.headerProminenceTestClass,popularDates:e.popularDates};return a.currentMonth=q(a),a}function q(e){var t;if("RETURN"===e.dateType&&e.endDate){var a=e.startDate?e.startDate.thisMonth():e.thisMonth;t=a.compare(e.endDate.previousMonth())<0?e.endDate.previousMonth():a}else e.startDate?t=e.startDate.thisMonth():e.endDate?(t=e.endDate.previousMonth(),e.thisMonth.compare(t)>0&&(t=e.thisMonth)):t=e.thisMonth;if(_.isEndDateType(e.dateType)&&(_.isHotelDateType(e.dateType)||_.isRoundTripDateType(e.dateType))&&e.startDate&&e.endDate){var n=e.calendarStyle.getNumMonths()-1,r=e.startDate.thisMonth(),i=e.endDate.thisMonth(),o=r.relativeMonth(n);t=o.compare(i)<0?i.relativeMonth(-n):r}return e.minEnabledDate&&_.isMultiCityDateType(e.dateType)&&t.compare(e.minEnabledDate.thisMonth())<0&&(t=e.minEnabledDate.thisMonth()),t}function j(e){return _.isChildDateType(e)&&!_.isStartDateType(e)&&!_.isRoundTripDateType(e)}function Y(e,t){var a=t.today,n=t.startDate,r=t.dateType,i=t.minEnabledDate,o=t.maxEnabledDate,s=t.maxStayLength,l=t.availableDates,c=t.excludedDates,d=t.calendarStyle;if(!j(r)){if(l){for(var u=0;u<l.length;u++)if(0==new S(e.date).compare(new S(l[u])))return!1;return!0}if(c)for(var u=0;u<c.length;u++)if(0==new S(e.date).compare(new S(c[u])))return!0}if(d.id===ce.corgi.id&&"RETURN"===r&&n.compare(e)>0)return!0;if(d.id===ce.corgi.id&&_.isEndDateType(r)&&!_.allowsSameDayRange(r)&&n.compare(e)>=0)return!0;if(i&&i.compare(e)>0)return!0;var p=a&&a.relativeDay(1);return!!(!_.allowsSameDayRange(r)&&_.isEndDateType(r)&&p&&p.compare(e)>0)||(!!(j(r)&&n&&n.daysTo(e)>s)||!!(o&&o.compare(e)<0))}function G(e,t){if(t.calendarStyle.id===ce.classic.id){if(e.compare(t.currentMonth)<0&&Y(e.lastOfMonth(),t))return!0;if(e.compare(t.currentMonth)>0&&Y(e.firstOfMonth(),t))return!0}return e.compare(t.minEnabledDate.thisMonth())<0||e.compare(t.maxEnabledDate.thisMonth())>0}function K(e,t,a){"left"==e.direction?F(1,t,a):"right"==e.direction&&F(-1,t,a)}function U(e,t){var a=e.currentMonth.relativeMonth(-1);k.toggleClass(t.querySelector(".rsdc-prev"),"rsdc-inactive",G(a,e));var n=e.currentMonth.relativeMonth(e.calendarStyle.getNumMonths());k.toggleClass(t.querySelector(".rsdc-next"),"rsdc-inactive",G(n,e))}function F(e,t,a){var n=t.calendarStyle.getNumMonths(),r=e>0?n:-1,i=t.currentMonth.relativeMonth(r),o=b.isRtl()?"rsdc-scroll-right":"rsdc-scroll-left";if(!G(i,t)){i.compare(t.today.relativeMonth(12))>0&&!se&&(se=!0,O.trackEvent("DATEPICKER","viewed_year_out")),ne=!0;var s=a.querySelector(".rsdc-months"),l=[];Array.from(s.getElementsByClassName("rsdc-month")).forEach(function(e){l.push(e)}),e>0&&(l=l.reverse()),t.currentMonth=t.currentMonth.relativeMonth(e);for(var c=null,d=null,u=[],p=0;p<n;p++){var m=t.currentMonth.relativeMonth(e>0?p:n-p-1),h=N(m,t);c=W(c,h),d=V(d,h);var f=ee(t.calendarAssets.monthTemplate,{heatmapStyle:t.heatmapStyle,headerProminenceTestClass:t.headerProminenceTestClass,month:h,popularDates:t.popularDates});u.push(f)}z({heatmapStyle:t.heatmapStyle,rangeLow:c,rangeHi:d}),Promise.all(u).then(function(n){k.addClass(s,"rsdc-no-anim"),n.forEach(function(t){var a=document.createElement("div");a.innerHTML=t,e<0?s.insertBefore(a.firstChild,s.firstChild):s.appendChild(a.firstChild)});for(var r=0;r<l.length-1;r++)s.removeChild(l[r]);var i=!1,c=t.headerProminenceTestClass||"";"chp_v4"!==c&&"chp_v5"!=c||(i=!0);var d="";e<0?(i&&(d="chp_test_left",k.addClass(s,d)),k.addClass(s,o),x.forceReflow(s),k.removeClass(s,"rsdc-no-anim"),k.removeClass(s,o)):(i&&(d="chp_test_right",k.addClass(s,d)),x.forceReflow(s),k.removeClass(s,"rsdc-no-anim"),k.addClass(s,o)),setTimeout(function(){e>0&&(k.addClass(s,"rsdc-no-anim"),k.removeClass(s,o)),i&&k.removeClass(s,d),l.length>0&&(s.removeChild(l[l.length-1]),x.forceReflow(s)),e>0&&k.removeClass(s,"rsdc-no-anim"),ne=!1},ie?re:0),U(t,a)})}}function W(e,t){return e?t.rangeLow&&e.priceInt>t.rangeLow.priceInt?t.rangeLow:e:t.rangeLow}function V(e,t){return e?t.rangeHi&&e.priceInt<t.rangeHi.priceInt?t.rangeHi:e:t.rangeHi}function z(e){if("YELLOW_BRICKS_3"===e.heatmapStyle||"YELLOW_BRICKS_3_1"===e.heatmapStyle){var t=e.rangeLow,a=e.rangeHi,n=document.querySelector(".rsdc-wrapper .rsdc-legend");if(n){var r=n.querySelector(".rangeLow"),i=n.querySelector(".rangeHi");a&&t?(n.style.display=null,r&&i&&(r.innerHTML=t.price,i.innerHTML=a.price)):n.style.display="none"}}}function X(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function J(e){if(_.isChildDateType(e))for(var t=_.getParents(e),a=0;a<t.length;a++)ta.page.clearDates(t[a]);else ta.page.clearDates(e);ae&&ae.hide()}function Q(e,t,a,n){if(n=n||window.event,n&&!ne){var r,i,o=n.target,s=o.className,l=o.getAttribute("data-oracle-legend");if("yb"===l&&(r=".rsdc-day .rsdc-yb-min",i="rsdc-animated",O.trackEvent("datepicker","legend_click","min")),r&&i){for(var c=a.querySelectorAll(r),d=0;d<c.length;d++){var u=c[d];k.addClass(u,i)}setTimeout(function(){for(var e=0;e<c.length;e++){var t=c[e];k.removeClass(t,i)}},1e3)}if(s.indexOf("rsdc-close-x")>=0||s.indexOf("ui_close_x")>=0)_.isStartDateType(t.dateType)&&O.trackEvent("datepicker","click","checkin_close"),ae&&ae.hide();else if(s.indexOf("rsdc-next")>=0)F(1,t,a);else if(s.indexOf("rsdc-prev")>=0)F(-1,t,a);else if(o.getAttribute("data-date"))O.trackEvent("calendar","click",t.dateType),e.resolve([S.fromString(o.getAttribute("data-date")).date]),ae&&ae.dontHideOnSelection?ae.dontHideOnSelection=!1:ae&&ae.hide();else if(s.indexOf("rsdc-clear-dates")>=0)J(t.dateType);else if(s.indexOf("rsdc-popular_dates_range")>=0){var p=o.getAttribute("data-date-ci"),m=o.getAttribute("data-date-co"),h=p&&Z(p),f=m&&Z(m);h&&f&&(O.trackEvent("datepicker","popular_dates_click"),ta.page.pushDates(a,"STAYDATES",[h,f]),ae&&ae.hide())}return R("responsiveStayDates").trigger("calendarInteracted"),X(),!1}}function Z(e){if(!e)return null;var t=e.split("-");if(3===t.length){var a=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10);if(a&&n&&r)return new Date(a,n-1,r)}return null}function $(e){var t="no_padding date_picker_modal";return(e.calendarStyle!==ce.corgi&&e.calendarStyle!==ce.heatmap||!E.mobile())&&(t+=" no_x"),t+=" "+e.dateType,t+=" "+(e.className||""),t+=" "+(e.colorAccessibilityTestClass||""),t+=" "+(e.headerProminenceTestClass||"")}function ee(e,t,a){function n(){C.renderToString(e,t).then(function(e){r.resolve(e)},function(){r.reject()})}var r=w(!0);if(a&&t.calendarAssets){var i=t.calendarAssets.cssAssets.map(function(e){return"trcss!"+e});require(["trdust!"+t.calendarAssets.dustRollup].concat(i),n)}else n();return r.promise()}function te(e){var t={};if(e){var a=(e.getAttribute("data-position")||"").split(" ").filter(function(e){return!!e.length});t.position=isNaN(a[0])?a.shift():null,t.offsets=a.map(function(e){return parseInt(e,10)}),t.alignTarget=k.getParentByClassname(e,"ui_picker_align_target"),t.arrowTarget=e.querySelector(".ui_picker_arrow_target")}return t.position="function"==typeof r[t.position]?t.position:"below",t.offsets=t.alignTarget?[t.alignTarget].concat(t.offsets):t.offsets,t}var ae,ne,re=300,ie=!!window.TransitionEvent,oe=543,se=!1,le=[s.withoutTouchEvents,d,l(window,["resize","date_bar_docked","date_bar_undocked"]),c("showingCookieConsentBanner"),c("makeTextFitResizedText"),f("dualSearchTypeaheadOpen"),g],ce={"control":{id:"control",getClassname:function(){return E.mobile()?"":"rsdc-dual-month"},getNumMonths:function(){return E.mobile()?1:2},getOverlayMixins:function(e,t,n){var o=E.mobile(),s=te(e),l=k.getParentByClassname(e,"trip_search"),c=o?s.arrowTarget:e&&e.querySelector(".ui_icon.calendar"),d=o?"below":s.position;return[a(e,d,n,null,t),o?i(27,16):r[s.position](s.offsets,!1,!1,[16]),y(c),m,o&&D("half-dark"),o&&l&&u(l)].concat(le)}},"classic":{id:"classic",getClassname:function(){return(E.mobile()?"":"rsdc-dual-month ")+"controlStyleOnResp"},getNumMonths:function(){return E.mobile()?1:2},getOverlayMixins:function(e,t,n,o){var s=E.mobile(),l=te(e),c=k.getParentByClassname(e,"trip_search"),d=s?l.arrowTarget:e&&e.querySelector(".ui_icon.calendar"),p=s?"below":l.position,h=function(){if(o){var t=window.pageYOffset||document.documentElement.scrollTop;return e&&e.getBoundingClientRect().top+t-10}return 0};return[a(e,p,n,null,t),s?i(27,16):r[l.position](l.offsets,!1,!1,[16]),y(d),m,s&&D("half-dark",h),s&&c&&u(c)].concat(le)}},"classic_hr":{id:"classic",getClassname:function(){return ce.classic.getClassname()},getNumMonths:function(){return ce.classic.getNumMonths()},getOverlayMixins:function(e,t,a){return ce.classic.getOverlayMixins(e,t,a,!0)}},"corgi":{id:"corgi",getClassname:function(){return E.mobile()?"corgi":"corgi rsdc-dual-month"},getNumMonths:function(){return E.mobile()?1:2},getOverlayMixins:function(e,t,n){var s=E.mobile(),l=te(e),c=e&&x.isTargetFixed(e)?"fixed":"absolute",d=e&&e.getAttribute("data-anim-group"),u=e&&e.getAttribute("data-full-mobile"),f=k.getParentByClassname(e,"trip_search"),v=s?"below":l.position;return[a(e,v,n,null,t),s&&!u?i(24,16,c):o(r[l.position](l.offsets,!1,!1,[16]),function(){return d}),y(l.arrowTarget),m,h,T("calendar","close"),f&&p(f)].concat(le)}},"heatmap":{id:"corgi",getClassname:function(){return E.mobile()?"heatmap":"heatmap rsdc-dual-month"},getNumMonths:function(){return E.mobile()?1:2},getOverlayMixins:function(e,t,n){var s=E.mobile(),l=te(e),c=e&&e.getAttribute("data-anim-group"),d=k.getParentByClassname(e,"trip_search"),u=s?"below":l.position,f=e&&e.getAttribute("data-full-mobile");return[a(e,u,n,null,t),s&&!f?i(24,16):o(r[l.position](l.offsets,!1,!1,[16]),function(){return c}),y(l.arrowTarget),h,m,T("calendar","close"),d&&p(d)].concat(le)}}};return{isOpen:function(){return!!ae},closeCalendar:function(){ae&&ae.destroy()},openAsPopover:function e(a,n){var r=w(!0),i=B(n),o=H(i);return ee(i.calendarAssets.calendarTemplate,o,n.demandLoadAssets).then(function(s){var l=i.calendarStyle.getOverlayMixins(a,s,$(i));n.moveIntoView&&l.push(v(!0,30));var c=new t(a,l);R("pop-calendar").emit("calendarOpen");var d=null,u=function(){d=!0,d=e(a,n),d.then(function(e){r.resolve(e)},function(e){r.reject(e)})};if(A.on("breakpoint",u),c.on("hide",function(e){var t=!d&&!r.isFulfilled();R("responsiveStayDates").trigger("hideCalendar",e,t),t&&(R("pop-calendar").emit("dismissed"),r.reject(a)),A.off("breakpoint",u),ae=null,c=null}),c.show(),ae&&ae.destroy(),ae=c,z(o),ae&&(U(i,ae.container),I.addEvent(ae.container,"click",Q.bind(null,r,i,ae.container)),i.calendarStyle.id===ce.corgi.id)){var p=ae.container.querySelector(".rsdc-months");L.addSwipeListener(p,function(e){K(e,i,ae.container)})}}),r.promise()}}});
define("servlets/responsivehotels-pl",["lib/jquery-amd","ta/page","utils/BatchRequest","common/Radio","ta/Core/TA.Record","ta/util/Error","common/pixels-loader","ta/common/behavior/Ads-pagemoniker","utils/throttle","ta/util/Element","retargeting/listeners/desktop-display-adview","maps/v3/hashHandler","retargeting/listeners/desktop-meta-click","calendars/ResponsiveStayDates","maps/v3/map-loader"],function(e,t,i,o,n,r,a,l,s,c,d,m,p,u,g){function v(e){k=e.validatePage,w=!0,a.init(e.remarketingOptions),p(),window.addEventListener("scroll",E),g.waitForMap().then(function(e){m.init(e,h)})}function f(){k&&(k=!1,setTimeout(function(){require(["trjs!hotels/HotelsPageValidation"],function(e){e.execute()})},1e3)),w&&(w=!1,require.defined("common/page-load-metrics")&&require("common/page-load-metrics").trackMetric("HacComplete")),P=!0,C.emit("polling-complete"),l.loadMonikerForHotelPrices()}var k,w,h="#MAPVIEW",P=!1,C=new o("ads_repoll");C.reply("initialPollComplete",function(){return P});var E=s(function(){document.body.scrollHeight-window.innerHeight===window.pageYOffset&&(n.trackEventOnPage("end_h","in_view"),window.removeEventListener("scroll",E))},200);return{init:v,onPollingComplete:f,loadClickoutMonikers:l.loadClickoutMonikers.bind(l)}});
define("responsive/collapsibleLayout",["babel/babel-helpers","lib/jquery-amd","utils/responsive","utils/ResponsiveEvents","common/Radio"],function(e,o,n,l,t){"use strict";function i(){p||(p=o("#MAIN .collapsible"),v=p.attr("data-breakpoint"),l.onOver(v,d))}function s(e){return i(),new Promise(function(l){if(v&&n[v]&&n[v]()||!p||0==p.length)return void l(!1);if(f)if(f.isOpen()){f.hide();var i=o(f.contentElement);i&&i.unbind("onclick"),l(!1)}else f.show(),t("collapsible-layout").trigger("open-collapsed"),l(!0);else c(e).then(function(){t("collapsible-layout").trigger("show-collapsed"),t("collapsible-layout").trigger("open-collapsed"),l(!0)})})}function r(e,n,l){if(f){var t=o(f.contentElement);if(t){var i=t.find(e),s=t.find(n);i&&s&&(s[0].scrollTop=i.offset().top-l-o(window).scrollTop())}}}function a(){var e=this;if(f){var l=o(f.contentElement);l&&!n.widescreen()&&(l.mouseleave(function(){e.toggle(),l.unbind("mouseleave")}),l.click(function(){l.unbind("mouseleave")}))}}function c(e){return e?new Promise(function(e){require(["babel/babel-helpers","overlays/Overlay","overlays/position/fullscreen","overlays/styles/modal","overlays/options/slideInOut"],function(o,n,l,i,s){f=new n(p.get(0),l(),new i(null,null,"collapsed_content",null,null,u().get(0)),s("from_bottom",350,350)),f.on("show",function(){t("collapsible-layout").trigger("toggle",!0)}).on("hide",function(){t("collapsible-layout").trigger("toggle",!1)}),f.show(),e()})}):new Promise(function(e){require(["babel/babel-helpers","overlays/Overlay","overlays/position/fullside","overlays/styles/windowshade","overlays/options/keepInDom","overlays/styles/modal","overlays/options/closeOnWindowshadeClick","overlays/options/slideInOut"],function(o,n,l,i,s,r,a,c){f=new n(p.get(0),l.right(),new r(null,null,"collapsed_content",null,null,u().get(0)),i("dark"),c("from_right"),a),f.on("show",function(){t("collapsible-layout").trigger("toggle",!0)}).on("hide",function(){t("collapsible-layout").trigger("toggle",!1)}),f.show(),e()})})}function u(){var e=o("<div/>",{"class":"dynamicWrapper"});return p.contents().detach().appendTo(e),e}function d(){n[v]()&&f&&(o(f.contentElement).find(".dynamicWrapper").contents().detach().appendTo(p),f.destroy(),f=null)}var p=void 0,f=void 0,v=void 0;return{init:i,toggle:s,scrollToContent:r,attachMouseLeaveListener:a}});
define("overlays/position/fullside",["lib/jquery-amd","overlays/position/base","overlays/options/disableBodyScroll","utils/throttle"],function(i,o,n,t){"use strict";function e(e){return function(){function l(){r.call(this),f.call(this)}var r=o(),f=n(!1,!0);l.onPosition=r.onPosition=function(){i(this.container).addClass("fullside").addClass(e?"left":"right"),s(),i(window).on("resize",a)},l.offPosition=r.offPosition=function(){i(this.container).removeClass("fullside").removeClass(e?"left":"right"),i(window).off("resize",a)};var a=t(s,250);return l}}function s(){var o=i(".fullside");o.height(window.innerHeight)}return{left:e(!0),right:e(!1)}});
define("overlays/options/slideInOut",["lib/jquery-amd"],function(i){"use strict";var t=["from_left","from_right","from_bottom"];return function(s,n,e){return function(){if(s&&!(t.indexOf(s)<0)){var o=i(this.container),r=n||250,d=this.show.bind(this),u=this.hide.bind(this),a=null;this.show=function(){clearTimeout(a),o.css({transition:"transform "+r+"ms"}).addClass("slide-in").addClass(s),d&&d(),setTimeout(function(){o.addClass("slide")},0)},this.hide=function(){clearTimeout(a),o.removeClass("slide"),a=setTimeout(function(){u&&u()},e||r)}}}}});
define("overlays/options/closeOnWindowSize",["vanillajs","api-mod"],function(i,n){"use strict";function o(){this.hide("on-window-size")}return function(){var i=o.bind(this);this.on("show",function(){n.addEvent(window,"resize",i)}),this.on("hide",function(){n.removeEvent(window,"resize",i)})}});
define("common/track-filter",["babel/babel-helpers"],function(e){"use strict";return function(e,r,t,n){require(["babel/babel-helpers","trjs!ta/Core/TA.Record"],function(a,b){return b.trackEventOnPage("Filters_"+e,r,t,n)})}});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"dh_sort_filter_entry","tablet/tablet",["handlers","tablet/tablet","trcss!tablet/tablet"]);t(["overlays/uiOverlay","overlays/options/maxWidth","overlays/options/closeOnMouseOut","overlays/options/closeOnWindowSize","overlays/options/storeOverlayOnElement","ta/Core/TA.Record","common/page-filters","common/track-filter"],function(e,t,o,r,n,a,l,s){return{}})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"browser_mode_tracking","handlers",["handlers"]);n(["placement","ta/Core/TA.Event","ta/Browser","ta/Core/TA.Record","ta/util/SessionStorage"],function(e,n,o,r,t){function s(e){r.trackEventOnPage("BROWSER_TRACKING",a,e,null,!0)}var a,i=e.id+"_browser_mode_tracked";n.queueForLoad(function(){t.canUseSessionStore()&&sessionStorage.getItem(i)||o.isChrome()&&(a="Chrome",o.isChromeIncognito(s),t.canUseSessionStore()&&sessionStorage.setItem(i,"1"))})})});
define("Logging",[],function(){var e="undefined"!=typeof IS_DEBUG&&IS_DEBUG?4:1;"boolean"==typeof __SERVER__&&__SERVER__&&(e=4);for(var n={},o=["error","warn","dir","info","debug"],r=0;r<o.length;r++){var l=o[r];n[l]=function(n,o){return function(){e<o||"undefined"!=typeof console&&console[n]&&console[n].apply&&console[n].apply(console,Array.prototype.slice.call(arguments))}}(l,r)}return n.setLevel=function(n){e=n},n});
define("facebook/authutils",["api-mod","lib/jquery-amd","Logging","ta/Core/TA.Store","ta/util/Deferred","ta/util/SessionStorage","ta/util/Cookie","ta/util/Error","ta/registration/RegEvents"],function(e,t,n,o,i,s,a,r,u){"use strict";var c=6e5,d="fbAutoLoginTime",f=new i,l=!1,g=function(e,t){if(l)return null;var n=t||"v1.0";return FB.init({appId:e,version:n,status:!0,cookie:!0}),l=!0,f.resolve()},p=function(e){f.promise().success(e)},m=function(){a.setOneTimeCookieOnFQDN("FacebookAuthCode2","ConflictedFBAccount"),window.location.reload()},v=function(e){window.__REDUX_STORE__&&e&&__REDUX_STORE__.dispatch({type:"SET_AUTH_STATE",loggedInUserId:e})},h=function(){var e=new i;return S()?(FB.getLoginStatus(function(n){if("connected"===n.status&&n.authResponse){if(o.has("cached.facebookuid"))return void R(o.retrieve("cached.facebookuid"),n.authResponse.userID);var i=new XMLHttpRequest;i.open("POST","/FacebookConnectAjax",!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send("a=autologin&signedRequest="+encodeURIComponent(n.authResponse.signedRequest)),i.onreadystatechange=function(){if(4==i.readyState){if(200!=i.status)return e.reject();if(e.resolve(),i.responseText){var n=t("<div>"+i.responseText+"</div>").find("#fbcajax_data");if(n.length){var o=n.data("fbAutologinTaUserId");o&&v(o)}}u.emit("success")}}}}),e.promise()):e.reject()},R=function(e,t){e!==""+t&&(r.record(null,"Mismatched Facebook uid between cached value and authResponse. cached: "+e+", response: "+t),m())},w=function(){S()&&FB.getLoginStatus(function(e){if("connected"===e.status&&e.authResponse){if(o.has("cached.facebookuid"))return void R(o.retrieve("cached.facebookuid"),e.authResponse.userID);var t=new XMLHttpRequest;t.open("POST","/FacebookConnectAjax",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("a=refresh&signedRequest="+encodeURIComponent(e.authResponse.signedRequest))}})},b=function(e,n,o){var i=t("form#"+e),s=i.find("."+n).val();return s&&s.match(/.+\@.+\..+/)?void i.submit():void i.find("."+o).removeClass("hidden")},S=function(){if(s.canUseSessionStore())try{var e=(new Date).getTime(),t=sessionStorage.getItem(d);return null==t?(sessionStorage.setItem(d,e),!0):(t=parseInt(t),e-t<c?(n.info("Skipping FB autologin, tried too recently"),!1):(sessionStorage.setItem(d,e),!0))}catch(e){r.record(null,"Error storing FB autologin attempt: "+e)}return!0},k=function(e,t,n){var o=window.fbAsyncInit;window.fbAsyncInit=function(){g(t,n),o&&o()},function(t,n,o){var i,s=t.getElementsByTagName(n)[0];t.getElementById(o)||(i=t.createElement(n),i.id=o,i.src=e,s.parentNode.insertBefore(i,s))}(document,"script","facebook-jssdk")};return{init:g,autoLogin:h,queueForInit:p,refreshToken:w,submitEmailRegistration:b,loadSdkAndInit:k}});
require(["ta/p13n/placements"],function(t){var e=t.define.bind(t,"facebook_autologin","handlers",["handlers"]);e(["placement","ta/Core/TA.Event","ta/util/Error","facebook/authutils","common/Radio"],function(t,e,o,a,n){"use strict";function r(){var t=document.querySelector("#fb_autologin_data");if(!t)return void o.record(null,"Could not find Facebook autologin data");var e=t.getAttribute("data-load-fb-js"),n=t.getAttribute("data-facebook-js-url"),r=t.getAttribute("data-facebook-connect-app-id"),i=t.getAttribute("data-facebook-api-version"),u=t.getAttribute("data-fb-auto-login"),c=t.getAttribute("data-fb-fetch-access-token");try{e&&a.loadSdkAndInit(n,r,i),u&&a.queueForInit(function(){a.autoLogin()}),c&&a.queueForInit(function(){a.refreshToken()})}catch(t){o.record(t,"Error setting up Facebook autologin JS")}}var i=document.querySelector("#fb_autologin_data");if(i){var u=i.getAttribute("data-defer-auto-login");u?n("TimeToInteractive").on("TimeToInteractive",r):e.queueForAfterLoad(r,"placement: facebook_autologin")}})});
require(["ta/p13n/placements"],function(e){var o=e.define.bind(e,"global_nav","handlers",["deferred/lateHandlers","handlers"]);o(["placement","lib/jquery-amd","common/Radio","ta/registration/RegEvents","utils/throttle","widget/components","utils/asdf-encoder"],function(e,o,n,t,a,r,i){"use strict";function s(){var e=o(window).scrollTop();if(b.length&&w.is(":visible")){var n=v.height()-e;e<=0&&b.css({"position":"absolute","top":0}),n>0&&(e>0&&e<=50?b.css({"position":"absolute","top":e,"bottom":"auto"}):n<=50&&b.css({"position":"absolute","top":"auto","bottom":0}))}}function l(){var e=o(".second-view",v),n=o(window).scrollTop();b.length&&(y.css({"display":"block"}),e.length&&w.is(":visible")&&(n=h.height()-y.height(),window.scroll(0,n),b.css({"position":"absolute","top":"auto","bottom":0})))}function c(){var e=o(".global-nav-persistent",v);e.length&&e.toggleClass("fixed",o(window).scrollTop()>v.offset().top)}function d(e,o){e.preventDefault();var n=o.getAttribute("data-ahref")?i.asdf(o.getAttribute("data-ahref")).replace(/&amp;/g,"&"):"/";window.open(n,"_self")}var u="TopNav",v=o("#"+e.id),f=n("global-nav"),g=null,p=null,h=o(".persistent-icons",v),b=o(".global-nav-icons",h),y=o(".global-nav-logo",h),m=o(".global-nav-logo-2018",v),w=o('[data-placement-name="global_nav_geopill"]',v),j=n("candy-bar-quick-links"),k=o(".global-nav-bottom",v),C=n("tripsearch-scroll-geo-pill");f.on("run-my-trips-test-3",function(){T(!1,!0)}),C.on("hide-on-header",function(e){m&&m.toggleClass("is-hidden-mobile",!e)});var _=function(t){window.userLoggedIn=!0;var a=0==v.find("[data-non-components]").length;if(a){var i=v.find(".components-nav-legacy-actions"),s=o("<div>").html(t).find(".components-nav-legacy-actions").html();i.html(s)}else{var l=document.querySelector("#"+e.id),c=document.createElement("div");c.innerHTML=t,[].forEach.call(c.querySelectorAll(".react-container"),function(e){var o=l.querySelector('[data-component="'+e.getAttribute("data-component")+'"]');o&&e.parentNode.replaceChild(o,e)});var d=l.querySelector(".global-nav"),u=c.querySelector(".global-nav");d.parentNode.replaceChild(u,d),g&&g.hide("replace-el")}v[0]&&(r.initComponentWidgets(v[0],"@ta/trips.trip-link"),r.initComponentWidgets(v[0],"@ta/brand.global-nav-action-content-collect")),n("inbox").trigger("setup_handler")}.bind(v),O=function(){return{skipLocation:e.location_id<=0,returnTo:document.location.pathname+(document.location.search||"")+(document.location.hash||"")}};t.on("success",function(){e.requestAJAXPlacement(_,null,O())}),v.on("mouseenter",".global-nav-links-container [data-element]",function(e){var n=o(this),t=n.find("a").first();g&&g.hide("new-overlay");var a=v.find(n.data("element")).clone();if(a.length){var r=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseAway","trjs!overlays/position","trjs!overlays/options/destroyOnHide"];require(r,function(r,i,s,l,c){var d=o(".ppr_priv_global_nav_component").offset(),u=!!o(".skyExpanded").length,f=u&&d?1-d.top:1,p=new r(n[0],new i(a[0],"global-nav-flyout global-nav-menu"),s,l.bottomRight([0,f]),c);p.domParent=v.find(".global-nav-overlays-container")[0],p.show(),t.attr("data-active-menu-trigger",!0),o(e.currentTarget).find(".ui_tab").addClass("hovering"),p.on("hide",function(){t.removeAttr("data-active-menu-trigger"),o(e.currentTarget).find(".ui_tab").removeClass("hovering")}),g=p})}}),v.on("mouseenter",".subItem",function(e){o(this).siblings(".expandSubItem").removeClass("active")}),v.on("mouseenter",".expandSubItem",function(e){var n=o(this);if(!n.hasClass("active")){n.addClass("active"),n.siblings(".expandSubItem").removeClass("active");var t=n.find(".secondSubNav").clone(),a=n.parents(".ui_overlay"),r=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseOut","trjs!overlays/options/destroyOnHide"];require(r,function(e,o,r,i){var s=new e(n[0],new o(t[0]),r,i);s.domParent=a[0],t.css("display","block"),s.show()})}}),v.on("mouseenter",".global-nav-links-ellipsis",function(e){var n=o(this);g&&g.hide("new-overlay");var t=v.find(".global-nav-links-container li"),a=t.filter(":hidden"),r=t.filter(function(e,n){return o(n).offset().top>t.offset().top}),i=o().add(a).add(r).clone(),s=v.find(".global-nav-links-menu-more").clone();s.prepend(i);var l=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseAway","trjs!overlays/position","trjs!overlays/options/destroyOnHide"];require(l,function(e,t,a,r,i){var l=o(".ppr_priv_global_nav_component").offset(),c=!!o(".skyExpanded").length,d=c&&l?1-l.top:1,u=new e(n[0],new t(s[0],"global-nav-flyout global-nav-menu"),a,r.bottomRight([0,d]),i);u.domParent=v.find(".global-nav-overlays-container")[0],u.show(),n.find(".ui_tab").addClass("hovering"),u.on("hide",function(){n.find(".ui_tab").removeClass("hovering")}),g=u})}),v.on("click","#global-nav-HelpDesk",function(e){e.preventDefault();var o=this,n=["trjs!overlays/Overlay","trjs!overlays/styles/modal","trjs!overlays/options/closeOnEscape","trjs!overlays/position","trjs!overlays/options/closeOnDocClick","trjs!overlays/options/ajax","trcss!src/build/required/help_center_overlay"];require(n,function(e,n,t,a,r,i,s){var l=new e(o,[n(null,"","help_center"),t,a.cssCentered(),r,i("/uvpages/helpCenterOverlay.html")]);l.show(),f.emit("overlay-show")})}),v.on("click",".masthead-saves",function(e){p?(g&&g.hide("new-overlay"),p&&p.destroy()&&(p=null),require(["trjs!ta/Core/TA.Record"],function(e){e.trackEventOnPage("TopNav","mytrips_dropdown_cancel")})):(T(!1,!1,e.currentTarget),o(e.currentTarget).find(".ui_icon").addClass("hovering"))});var T=function(e,n,t){g&&g.hide("new-overlay");var a=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnDocClick","trjs!overlays/position","trjs!overlays/options/destroyOnHide","trjs!overlays/options/autoReposition","trjs!ta/Core/TA.Record"];require(a,function(a,r,i,s,l,c,d){var u=o(".masthead-saves"),f=new a(u[0],new r("","global-nav-flyout global-nav-utility trips-flyout-container"),i.withoutTouchEvents,u.data("nav-2018-enabled")?s.bottomLeft([u.width()/2-34,9]):s.bottomLeft([-20,-3]),l,c);f.domParent=v.find(".global-nav-overlays-container")[0],f.show(),v.find(".trips-flyout-container").addClass("hide-arrow"),g=f,require(["trdust!masthead-saves-dust","trdust!styleguide-dust","trjs!masthead-saves","trcss!masthead-saves"],function(a,r,i){setTimeout(function(){p=new window.MastheadSavesApp,p.start({inCreateTripFlow:e,runTest3:n}),f.on("hide",function(e){p&&p.destroy()&&(p=null),d.trackEventOnPage("TopNav","mytrips_dropdown_cancel"),t&&o(t).find(".ui_icon").removeClass("hovering")}),v.find(".trips-flyout-container").removeClass("hide-arrow")},0)})})}.bind(v);v.on("click",".global-nav-utility-activator",function(e){var n=o(this),t=v.find(n.data("element")).clone();if(t.length){if(g){if(g.sourceElement==this)return void(g.isOpen()?g.hide("close"):g.show());g.hide("new-overlay")}t=t.clone();var a=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnDocClick","trjs!overlays/position","trjs!overlays/options/autoReposition"];require(a,function(a,r,i,s,l){var c=new a(n[0],new r(t[0],"global-nav-flyout global-nav-utility"),i,n.data("nav-2018-enabled")?s.bottomLeft([n.outerWidth()/2-34,12]):s.bottomLeft([-20,-3]),l);c.domParent=v.find(".global-nav-overlays-container")[0],c.show(),n.addClass("menu-open"),o(e.currentTarget).find(".ui_icon").addClass("hovering"),c.on("hide",function(){n.removeClass("menu-open"),o(e.currentTarget).find(".ui_icon").removeClass("hovering")}),g=c})}}),v.on("click",".global-nav-logo",function(){require(["trjs!ta/Core/TA.Record"],function(e){e.setEvtCookie("TopNav_"+window.pageServlet,"click","TAlogo",0,"/Home")})}),n("inbox").on("has_unread_conversations",function(e){v.find(".global-nav-hamburger .ui_jewel.unread").removeClass("hidden"),v.find(".nav-sub-link.inbox .icon-and-jewel").removeClass("hidden")}),n("inbox").on("no_unread_conversations",function(e){v.find(".global-nav-hamburger .ui_jewel.unread").addClass("hidden"),v.find(".nav-sub-link.inbox .icon-and-jewel").addClass("hidden")}),v.on("click","a.login-button.mobile",function(e){var n=o(".join-button").data("flowName")||"CORE_COMBINED",t=o(".join-button").data("pid")||40422,a=(o(".join-button").data("tracking"),"login");o(this).hasClass("join-button")&&(a="join");var r={flow:n,pid:t,userRequestedForce:"true",locationId:require("page-model").GEO_ID,onSuccess:function(e){}},i={extraQueryParams:{flowOrigin:a}};r=o.extend(r,i),require(["trjs!ta/registration/RegOverlay"],function(o){o.showForMobile(e,e.target,r)}),e.preventDefault()}),l();var q=a(c,100);return o(window).scroll(function(){s(),q()}),j.on("border-top",function(e){k.toggleClass("home_ui_tabs",e)}),v.on("click","a.global-nav-link[data-tracking-label]",function(e){var n=o(e.target).data("trackingLabel");require(["trjs!ta/Core/TA.Record"],function(o){"HelpDesk"===n||"_blank"==e.target.target?o.trackEventOnPage(u,"click",n):o.setEvtCookie(u,"click",n,0,e.target.href)})}),{checkForPersistentIcons:s,checkForPersistentGlobalNav:c,clickLogoLink:d}})});
require(["ta/p13n/placements"],function(a){var n=a.define.bind(a,"global_nav_action_cart","handlers",["handlers"]);n(["placement","lib/jquery-amd"],function(a,n){"use strict";var e=n("#"+a.id);e.on("click","a.shopping-cart-link",function(){var a=n(this).data("tracking-label");require(["trjs!ta/Core/TA.Record"],function(n){n.trackEventOnPage("TopNav_"+window.pageServlet,"click",a)})})})});
define("ta/util/CommonMessagingUtil",["lib/jquery-amd","ta/Core/TA.LocalStorage","ta/support/Qualtrics","ta/util/SessionStorage","common/Radio"],function(e,t,n,a,i){"use strict";function r(e){if(t.enabled){var n=t.get(e+v);return n?parseInt(n):0}return null}function s(e){if(t.enabled&&e){var n=e+v;t.set(n,r(e)+1)}}function o(e){if(t.enabled){var n=t.get(e+y);return n?parseInt(n):0}return 0}function u(e){if(t.enabled&&e){var n=e+y;t.set(n,o(e)+1)}}function c(e){if(t.enabled){var n=t.get(e+p);return!!n}return!1}function l(e){t.enabled&&e&&t.set(e+p,"true")}function d(e){var n=(new Date).getDate();if(t.enabled&&e){var a=e+_;t.set(a,n.toString())}}function f(e){var n=(new Date).getDate();if(t.enabled&&e){var a=e+_,i=t.get(a);return!!i&&i===n.toString()}return!1}function m(e){var n=(new Date).getDate();t.enabled&&t.set(e,n.toString())}function g(e){var n=(new Date).getDate();if(t.enabled){var a=t.get(e);return!!a&&a===n.toString()}}function b(e,t,i){e&&"function"==typeof e&&e()&&(n.seenThisPageView()||n.canDisplaySmart()||n.canDisplay())||t&&"function"==typeof t&&t()||i&&"function"==typeof i&&(document.getElementById("FIXED_AD")?a.canUseSessionStore()&&a.getObject("ads.fixed.close")?i():S.once("ad_closed",function(){i()}):i())}function D(e){return e.toLowerCase().replace("mobile","")}var v="_view_count",p="_is_disabled",y="_times_dismissed",_="_disabled_for_day",S=i("cpm_mw_adhesion");return{getCurrentPageViews:r,incrementPageViews:s,getNumberOfTimesDismissed:o,incrementNumberOfTimesDismissed:u,isPlacementDisabled:c,disablePlacement:l,setPlacementDisabledForToday:d,isPlacementDisabledForToday:f,setPlacementGroupKey:m,checkPlacementGroupKey:g,parseServletName:D,displayPlacementIfNoSurveyNorAdIsPresent:b}});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"global_nav_action_inbox","handlers",["handlers"]);n(["placement","vanillajs","lib/jquery-amd","common/Radio","ta/Core/TA.Record","ta/util/CommonMessagingUtil"],function(e,n,o,i,t,a){function s(e){if(e.receivedCallback&&e.receivedCallback(),o(".inbox-flyout-container").length&&g)g.destroy();else{var n=e.el,i=e.bottomLeftOffset;l(void 0,n,i)}}function r(e){l(e,o(".masthead-inbox-icon")[0])}function l(n,i,a){var s=o("#"+e.id),r=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnDocClick","trjs!overlays/position","trjs!overlays/options/destroyOnHide","trjs!overlays/options/autoReposition","ta/registration/RegOverlay","trjs!unifiedinbox/inbox-lander","trcss!unified_inbox_lander"];require(r,function(e,r,l,c,d,v,_,b,f){var w=o(".inbox-nav-contents",s).clone()[0];if(w.classList.remove("hidden"),o(".login-cta",w).length){var p=o(".login-cta span",w);p.click(function(){n&&m&&(h=!0,t.trackEventOnPage("reg_trigger","mgp_click_login","Inbox Jewel Notification Log In Click | Nav | mgp_drs_mem",u)),g.destroy(),_.show({type:"dummy"},null,{flow:"CORE_COMBINED",pid:40472,userRequestedForce:!0,onSuccess:function(){o(".login-cta",s).remove(),o(".inbox-nav-dropdown",s).removeClass("with-login-cta")}.bind(this)})})}else for(var x,j=o(".js-inbox-lander-thread-list-item.loading",w),y=o(".inbox-masthead-wrapper",w),C=0;C<10;++C)x=j.clone(),x.removeClass("hidden"),y.append(x);var k=a;k||(k=o(i).data("nav-2018-enabled")?[o(i).width()/2-34,7]:[-20,-3]),g=new e(i,new r(w,"inbox-flyout-container"),l.withoutTouchEvents,c.bottomLeft(k),d,v),g.show(),n&&!n.hasClass("hidden")&&g.on("hide",function(){h||t.trackEventOnPage("reg_trigger","mgp_close","Inbox Jewel Notification | Nav | mgp_drs_mem",u),h=!1,m=!1}),o(".login-cta",s).length||b.loadMastheadDropdown()})}function c(e,n){if(n)if(n.hasClass("is-control"))t.trackEventOnPage("reg_trigger","mgp_view_control","Inbox Jewel Notification Control| Nav | mgp_drs_mem");else{var i=a.getCurrentPageViews(_);i>=b&&a.disablePlacement(_),a.isPlacementDisabledForToday(_)||a.isPlacementDisabled(_)||!n.hasClass("valid-for-test")||(o(".inbox-jewel-test",e).removeClass("hidden"),t.trackEventOnPage("reg_trigger","mgp_view","Inbox Jewel Notification | Nav | mgp_drs_mem",u))}}function d(){var n=o("#"+e.id),s=o(".inbox-jewel-test",n);c(n,s),o(".masthead-inbox-icon, .ui_jewel",n).click(function(e){e.stopPropagation(),s&&!s.hasClass("hidden")?(t.trackEventOnPage("reg_trigger","mgp_click","Inbox Jewel Notification | Nav | mgp_drs_mem",u),a.setPlacementDisabledForToday(_),a.incrementPageViews(_),m=!0,t.trackEventOnPage("Inbox|Dropdown","icon_jewel_click","no_unread",v)):o(".ui_jewel",n).length&&o(".ui_jewel",n).hasClass("hidden")?t.trackEventOnPage("Inbox|Dropdown","icon_jewel_click","no_unread",v):o(".ui_jewel",n).length&&t.trackEventOnPage("Inbox|Dropdown","icon_jewel_click","has_unread",v),o(".masthead-inbox-icon",n).attr("data-on-inbox")?window.location="/Inbox":o(".inbox-flyout-container").length&&g?g.destroy():r(s)}),i("inbox").on("thread_clicked",function(e){g&&g.destroy()}),i("inbox").on("has_unread_conversations",function(e){var i=o(".ui_jewel",n);"undefined"!==i&&i.length>0&&i.each(function(e,n){o(n).hasClass("inbox-jewel-test")||o(n).removeClass("hidden")})}),i("inbox").on("no_unread_conversations",function(e){var i=o(".ui_jewel",n);"undefined"!==i&&i.length>0&&i.each(function(e,n){o(n).hasClass("inbox-jewel-test")||o(n).addClass("hidden")})}),i("inbox").on("setup_handler",function(){d()})}var g,v=40186,u=40405,_="Membership_Inbox_Jewel_Test",b=3,m=!1,h=!1;return i("global-nav-inbox").on("open",function(e,n){s(e,n)}),d(),{}})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"global_nav_action_profile","handlers",["handlers"]);t(["placement","lib/jquery-amd","page-model"],function(e,t,a){"use strict";function n(){var e=t(".button_container").data("pageProperty1"),a=t(".button_container").data("pageProperty2"),n=t(".button_container").data("pageProperty3"),r=t(".button_container").data("pageProperty4");(e&&""!==e||a&&""!==a||n&&""!==n||r&&""!==r)&&require("ta/Core/TA.Record").trackEventOnPage(e,a,n,r)}function r(e){if(c.hasClass("core-login-button")){var t=c.data("isControl"),a=c.data("trackingPid"),n=c.data("joinAttr"),r="reg_trigger",o="mgp_";t&&n&&"view"===e&&(o="mgp_view_control",require("ta/Core/TA.Record").trackEventOnPage(r,o,n)),!t&&n&&a&&require("ta/Core/TA.Record").trackEventOnPage(r,o+e,n,a)}}var o=t("#"+e.id),i=null,c=t(".join-copy-tracking");r("view"),o.on("click","a.login-button",function(e){i&&i.hide("replace-el");var a=t(".core-login-button").data("flowName"),o=t(".core-login-button").data("pid"),c=(t(".core-login-button").data("tracking"),"login");t(this).hasClass("core-login-button")&&(c="join",t(this).hasClass("join-copy-tracking")&&r("click"));var l={flow:a,pid:o,userRequestedForce:"true",locationId:require("page-model").GEO_ID,onSuccess:function(e){}},d={extraQueryParams:{flowOrigin:c}};l=t.extend(l,d),require(["trjs!ta/registration/RegOverlay"],function(t){t.show(e,e.target,l)}),e.preventDefault(),n()});var l=function(e,a){var n=t(e).data("trackingLabel");require(["trjs!ta/Core/TA.Record"],function(t){/\/#\s*$/.test(e.href)||"_blank"==e.target?t.trackEventOnPage(a,"click",n):t.setEvtCookie(a,"click",n,0,e.href)})};o.on("click",".global-nav-profile-menu a.subLink[data-tracking-label], .sidebar-nav-profile a.subLink[data-tracking-label]",function(){l(this,"UtilityNav")}),o.on("click","[data-track-profile-dropdown-open]",function(){var e=require("page-model").session.loggedIn?"Signed_in_profile_dropdown":"Signed_out_profile_dropdown";require(["trjs!ta/Core/TA.Record"],function(t){t.trackEventOnPage("UtilityNav","open",e)})})})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"global_nav_action_trips","handlers",["handlers"]);t(["placement","lib/jquery-amd","api-mod","page-model","common/Radio","ta/Core/TA.Record","ta/Core/TA.LocalStorage"],function(e,t,n,o,a,i,l){"use strict";var r=t('[data-placement-name="global_nav_menus"]'),s=a("global-nav"),d=null,u={},c=t("#"+e.id),y=(c.find(".my-trips-dropdown-test"),c.find(".my-trips-dropdown-control"),c.find(".quick-save-test")),f="my-trips-dropdown-test-overlay",p="my_trips_educational_flyout",v=require("page-model").JS_SECURITY_TOKEN,m=require("page-model").session.pageServlet,g=function(e){t.ajax({type:"GET",url:"/data/1.0/trips/item",data:{limit:2},beforeSend:function(e){e.setRequestHeader("X-Requested-By",v)},success:e})},h=function(e){return(new Date).getTime()-e<2592e6},_=function(n){var o=["overlays/position","overlays/styles/flyout","overlays/options/destroyOnHide","overlays/options/autoReposition","overlays/options/fade"],a=function(e,t,o,a,i){return[new t(n[0],"global-nav-flyout global-nav-utility my-trips-dropdown-test-flyout"),e.bottomLeft([-20,-3]),o,a,i(i.SHORT,!0,!0)]};n.on("click",".ui_close_x",function(){s.trigger("hide-overlays",f)}),s.trigger("show-overlay",f,t("#"+e.id).find(".masthead-saves")[0],o,null,a)},w=function(){return t.find(".ui_notification_container").length||t.find(".ui_overlay").length||t.find("#qual_ol").length},b=function(){setTimeout(function(){!w()&&y.length>0&&l.has(p)&&!l.getObject(p)&&0==n.scrollTop()&&(_(y),l.set(p,!0),i.trackEventOnPage(p,"flyout_shown",m,0,!1))},1e3)};s.on("hide-overlays",function(e){e?u[e]&&u[e].hide("hide-overlay")&&(u[e]=null):d&&d.hide("replace-el")}),s.on("show-overlay",function(e,t,n,o,a){d&&d.hide("new-overlay");var i=["trjs!overlays/Overlay"].concat(n);require(i,function(n){var i=a.apply(null,[].slice.apply(arguments,1)),l=new n(t,i);l.domParent=r.find(".global-nav-overlays-container")[0],l.show(),o&&o(l),d=l,e&&(u[e]=l)})}),s.on("run-quick-save-test",function(){l.has(p)||g(function(e){e.data&&(e.data.length<=1||!h(e.data[1].date))&&(l.set(p,!1),b())})}),l.enabled&&("complete"===document.readyState?b():t(window).ready(b))})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"global_nav_dropdowns","handlers",["handlers"]);n(["placement","lib/jquery-amd"],function(e,n){"use strict";var a=n("#taplc_global_nav_0"),t=null;a.on("mouseenter",".global-nav-links-container [data-element]",function(e){var s=n(this),r=s.find("a").first();t&&t.hide("new-overlay");var o=a.find(s.data("element")).clone();if(o.length){var i=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseAway","trjs!overlays/position","trjs!overlays/options/destroyOnHide"];require(i,function(i,l,v,u,d){var c=new i(s[0],new l(o[0],"global-nav-flyout global-nav-menu"),v,u.bottomRight([0,1]),d);c.domParent=a.find(".global-nav-overlays-container")[0],c.show(),r.attr("data-active-menu-trigger",!0),n(e.currentTarget).find(".ui_tab").addClass("hovering"),c.on("hide",function(){r.removeAttr("data-active-menu-trigger"),n(e.currentTarget).find(".ui_tab").removeClass("hovering")}),t=c})}}),a.on("mouseenter",".subItemDust",function(e){n(this).siblings(".expandSubItemDust").removeClass("activeL2")}),a.on("mouseenter",".expandSubItemDust.secondLevelSubNav",function(e){var a=n(this);if(!a.hasClass("activeL2")){a.addClass("activeL2"),a.siblings(".expandSubItemDust").removeClass("activeL2");var t=a.find(".secondSubNav.secondLevelSubNav").clone(),s=a.parents(".ui_overlay"),r=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseOut","trjs!overlays/options/destroyOnHide"];require(r,function(e,n,r,o){r=function(){};var i=a.parent().parent().parent(),l=i.find("ul.secondSubNav.secondLevelSubNav:visible");0!==l.length&&l!==a&&l.parent().remove();var v=i.find("ul.secondSubNav.thirdLevelSubNav:visible");0!==v.length&&v.remove();var u=a.parent().parent().find("div.ui_overlay.ui_flyout");0!==u.length&&void 0===u.childNodes&&u.remove();var d=new e(a[0],new n(t[0]),r,o);d.domParent=s[0],t.css("display","block"),d.show()})}}),a.on("mouseenter",".expandSubItemDust.thirdLevelSubNav",function(e){var a=n(this);if(!a.hasClass("activeL3")){a.addClass("activeL3"),a.siblings(".expandSubItemDust.thirdLevelSubNav").removeClass("activeL3");var t=a.find(".secondSubNav.thirdLevelSubNav").clone(),s=a.parents(".ui_overlay"),r=["trjs!overlays/Overlay","trjs!overlays/styles/flyout","trjs!overlays/options/closeOnMouseOut","trjs!overlays/options/destroyOnHide"];require(r,function(e,n,r,o){r=function(){};var i=a.parent().parent().parent().parent().find("ul.secondSubNav.thirdLevelSubNav:visible");0!==i.length&&i.parent().remove();var l=new e(a[0],new n(t[0]),r,o);l.domParent=s[1],t.css("display","block"),l.show()})}})})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"global_nav_geopill","handlers",["deferred/GeoSearch","handlers"]);n([],function(){})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"global_nav_links","handlers",["handlers"]);n(["utils/asdf-encoder"],function(e){function n(n,a){window.open(e.asdf(a.getAttribute("data-ahref")).replace(/&amp;/g,"&"),"_self")}return{clickAboutGeoLink:n}})});
require(["ta/p13n/placements"],function(e){var r=e.define.bind(e,"masthead_search","handlers",["deferred/lateHandlers","handlers"]);r(["placement","ta/Core/TA.Store","common/Radio"],function(e,r,a){function n(){if(e.params&&"typeahead_to_store"in e.params){var a=e.params.typeahead_to_store;if(a)for(var n in a)a.hasOwnProperty(n)&&r.store(n,a[n])}}n();var t=r.retrieve("typeahead_dual_search_options");return e.require(["trjs!deferred/lateHandlers"],function(e){a("masthead_search").on("open",function(){e.showSearchOverlay()})}),{getOptions:function(){return t}}})});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"trip_planner_breadcrumbs","handlers",["handlers"]);n(["placement","ta/Core/TA.FireEvent","utils/urlDecoder"],function(e,n,i){"use strict";function r(n){var i=document.getElementById(e.id);i&&(i.innerHTML=n.innerHTML)}function t(e,n){i.goToLink(e,n)}function o(e,n){return require.defined("ta/util/Cookie")&&require("ta/util/Cookie").setOneTimeCookie(e,n)}return n.on("update-"+e.name,r),{goToLink:t,onClick:o}})});
require(["ta/p13n/placements"],function(n){var e=n.define.bind(n,"address_pin","handlers",["handlers"]);e(["placement","ta/Core/TA.FireEvent"],function(n,e){function t(e){var t=document.getElementById(n.id);t.innerHTML=e.innerHTML}e.on("update-"+n.name,t)})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"background_update_dates","handlers",["handlers"]);t(["placement","lib/jquery-amd","utils/cookieutils","ta/page","common/trackingStreams"],function(e,t,n,a,i){function o(e){var t,n,a;return t=r(e+"D"),n=r(e+"M"),a=r(e+"Y"),t&&n&&a?u(a+"/"+n+"/"+t):null}function r(e){var t=n.getCookie("TATravelInfo");if(t)for(var a=t.split("*"),i=0;i<a.length;i++){var o=a[i].split(".");if(o[0]===e)return o[1]}}function u(e){var t=e.split("/");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))}function f(e){if(e&&2==e.length){var t=e[0],n=e[1];if(t instanceof Date&&n instanceof Date){if(t.setHours(0,0,0,0),n.setHours(0,0,0,0),!(w instanceof Date&&b instanceof Date))return[t,n];if(w.setHours(0,0,0,0),b.setHours(0,0,0,0),t.getTime()!=w.getTime()||n.getTime()!=b.getTime())return[t,n]}}}function s(t){i.trackEvent("background_update_dates","dates_updated"),e.params.disable||a.pushDates(null,"STAYDATES",[t[0],t[1]])}function c(e,t,n){"STAYDATES"==t&&f(n)&&m()}function l(){if(T){var e=f([o("A"),o("D")]);e?(s(e),m()):setTimeout(l,v)}}function d(){T=!0,l(),g||(g=setTimeout(function(){m()},D))}function p(){T=!1,clearTimeout(g),g=null}function m(){p(),a.off("dateSelected",c),t(window).off("blur",d),t(window).off("focus",p)}var T,g,v=2e3,D=9e5,w=o("A"),b=o("D");a.on("dateSelected",c),t(window).on("blur",d),t(window).on("focus",p)})});
require(["ta/p13n/placements"],function(e){var i=e.define.bind(e,"breadcrumb_mobile","handlers",["handlers"]);i(["placement","utils/urlDecoder"],function(e,i){"use strict";function n(e,n){i.goToLink(e,n)}function r(e,i){return require.defined("ta/util/Cookie")&&require("ta/util/Cookie").setOneTimeCookie(e,i)}return{goToLink:n,onClick:r}})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"filters_wc_dusty_bridge","handlers",["handlers"]);t(["babel/babel-helpers","placement","ta/page","common/Radio","ta/Core/TA.Event","common/page-filters","common/trackingStreams"],function(e,t,n,r,a,l,i){var o=document.getElementById(t.id),u=r("web-component-data-bridge"),c=r("web-component-flyout"),s=new r("web-component-price-slider"),p="data-selected-filters",f="data-available-filters",m="data-filter-counts-enabled",d="data-main-list-match-count",g="data-impression-key",b="",_=100,y=60,A=function(e){var t=o.querySelector("["+p+"]").getAttribute(p),n=o.querySelector("["+f+"]").getAttribute(f),r=o.querySelector("["+m+"]").getAttribute(m),a=o.querySelector("["+d+"]").getAttribute(d),l=t&&JSON.parse(t),i=n&&JSON.parse(n),c=r&&"true"===r,s=o.querySelector("["+g+"]").getAttribute(g);u.reply("selected_filters",function(){return l}),u.reply("available_filters",function(){return i}),u.reply("source_component",function(){return b}),u.reply("filter_counts_enabled",function(){return c}),u.reply("main_list_match_count",function(){return a}),u.reply("impression_key",function(){return s}),u.reply("is_loading",function(){return!1})},v=function(e){e&&e.innerHTML&&(o.innerHTML=e.innerHTML,A(!0),e.classList.contains("filters-update-speedup")||u.trigger("update"))},S=function(e,t){u.reply("is_loading",function(){return t<2&&(e.TRAVEL_INFO||e.FILTERS||e.MAIN_META||e.UNKNOWN||e.REVIEW_LIST||e.SORT_ORDER||e.PAGE_OFFSET)}),u.trigger("update")},T=function(){u.on("setFilter",function(e){return l.set(e.paramName,e.value)}),u.on("setAllFilters",function(e){return l.setAll(e.paramName,e.values)}),u.on("clearFilter",function(e){return l.clear(e.paramName,e.value)}),u.on("clearAllFilters",function(e){return l.clearAll(e.paramName)}),u.on("updateSource",function(e){return b=e.component}),u.on("externalClear",function(e){return u.trigger("forceClear",e)}),u.on("externalClearAll",function(e){return u.trigger("forceClearAll",e)}),c.on("toggle",function(e,t){require(["babel/babel-helpers","trjs!responsive/collapsibleLayout"],function(n,r){r.toggle(),setTimeout(function(){s.trigger("resize")},_),e&&r.scrollToContent("[data-param='amen']",".scrollableContainer",y),t&&r.attachMouseLeaveListener()}),i.trackEvent("Filter_overall","in_view")})};return T(),A(),a.on("update-"+t.name,v),a.on("page-changes-pending",S),{}})});
define("cpm/ResponsiveBannerResizeHandler",["babel/babel-helpers","utils/throttle","utils/responsive","common/trackingStreams"],function(e,r,t,i){"use strict";function s(){l(),o||(window.addEventListener("resize",r(l,300)),o=!0)}function n(e){e&&e.classList&&e.classList.add("hidden"),e&&e.classList&&e.classList.add("inactive")}function a(e){e&&e.classList&&e.classList.remove("hidden"),e&&e.classList&&e.classList.remove("inactive")}function l(){var e=document.querySelectorAll(".ppr_priv_footer_banner_ad_billboard");if(e.length)try{for(var r=0;r<e.length;r++)for(var s=e[r],l=s.querySelectorAll(".gptAd"),o=0;o<l.length;o++){var c=l[o],d=c.getAttribute("data-breakpoint");if(d){var v=t[d];if(v){var f=v();f?a(c):n(c)}}}}catch(e){i.error(e,"Error handling responsive header/footer banners")}}var o=!1,c={};return c.init=s,c});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"footer_banner_ad_billboard","handlers",["handlers"]);n(["babel/babel-helpers","placement","cpm/ResponsiveBannerResizeHandler","utils/ResponsiveEvents","ta/Core/TA.Event"],function(e,n,r,o,t){function i(){clearTimeout(u),u=setTimeout(function(){t.fireEvent("responsiveAdSizeChanged")},1e3)}var u=void 0;r.init(),o.offOver("mobile",function(){return i}),o.onOver("mobile",function(){return i}),o.offUnder("mobile",function(){return i}),o.onUnder("mobile",function(){return i}),o.offOver("desktop",function(){return i}),o.onOver("desktop",function(){return i}),o.offUnder("desktop",function(){return i}),o.onUnder("desktop",function(){return i})})});
require(["ta/p13n/placements"],function(e){var r=e.define.bind(e,"h_hr_refresh_rates_prompt","handlers",["deferred/popper","trcss!deferred/prompt","handlers"]);r(["placement","lib/jquery-amd","ta"],function(e,r,t){function o(){return!m&&(u?(f=0,void(u=!1)):f<c?void(f+=1):t.page&&t.page.hasDates&&t.page.hasDates("STAYDATES")?void n():void(f=0))}function n(){m=!0,e.require(["trjs!deferred/popper","trhtml!deferred/prompt","trcss!deferred/prompt"],function(e,r){m&&!u?e.showPrompt(r):a()})}function a(){m=!1,f=0,u=!0,p()}function p(){require(["ta/Core/TA.Event"],function(e){e.fireEvent("price_refresh_overlay_closed")})}function d(){f=0}var s="mousemove mousedown scroll keypress touchmove MSPointerMove",i=6e4,c=30,u=!1,f=0,m=!1;return r(document).on(s,d),t.page&&t.page.hasDates&&t.page.on("dateSelected",d),setInterval(o,i),{cleared:a}})});
require(["ta/p13n/placements"],function(e){var r=e.define.bind(e,"hotels_error_message","handlers",["handlers"]);r(["placement","lib/jquery-amd","ta/Core/TA.Event","common/page-filters","common/track-filter","common/Radio","common/trackingStreams"],function(e,r,n,t,a,o,l){function i(e){_.html(e.innerHTML),s(),c()?o("hsx_special_message").trigger("temporaryHide",!0):o("hsx_special_message").trigger("temporaryHide",!1)}function c(){return!!_.find("[data-noPropertyMatchesOnHacComplete]").length&&(l.trackEvent("hotels_error_message","show","no_hotels_match"),!0)}function s(){_.find(".highlight .clear").on("click",m)}function m(){a("clear_from_error","link_click","clear_all",-1),t.clearAll(),r("html, body").animate({scrollTop:r("#MAIN").offset().top})}function h(){t.clear("map-view",null)}function d(){var e=_.find(".boldError");e.length&&(e.addClass("hidden"),l.trackEvent("hotels_error_message","hide","no_hotels_match"))}var _=r("#"+e.id);return n.on("update-"+e.name,i),s(),c(),{clearFilters:m,revertBackToGeoRequest:h,hideErrorMessage:d}})});
require(["ta/prwidgets"],function(e){var t=e.define.bind(e,"common_standard_pagination_resp","handlers",["handlers"]);t(["widget","ta/page","common/trackingStreams","utils/HistoryManager"],function(e,t,r,a){function n(t){return t=t||e.element.querySelector(".standard_pagination"),t&&t.getAttribute("data-trackingString")||"UNKNOWN_PAGINATION"}function i(e,t,r){s&&s.isSupported()&&e&&t&&s.pushState({data:r},"",t,l)}function o(a,o,d,u,c,l,s){r.trackEvent(n(),u,c,0);var f=0,g=e.element.querySelector("[data-scrollToTop]");if(!g&&require.defined("lib/jquery-amd")){var m=require("lib/jquery-amd")("#MAIN");f=m&&m.offset()?m.offset().top:f}return t.setPageOffset(d,f),i(l,s,d),!1}function d(t,a,i){if(a&&a.href){var o=e.element.querySelectorAll("[data-trackingString]")[0];o&&r.setEvtCookie(n(o),"click_pagination",i,0,a.href)}}function u(){var t=e.element.querySelector(".standard_pagination");if(t){var r=Number(t.getAttribute("data-numPages")),a=n(t),i=a+"_loaded",o=!f.tracked[i];o&&r&&(f.tracked[i]=!0,require(["trjs!ta/util/Element"],function(e){e.trackWhenScrolledIntoView(t,[a+"_VISIBLE","numPages",r,0])})),document.addEventListener("modalClosingEvent",function(){g=!0}),c()}}function c(){var t=e.element.querySelector(".standard_pagination");if(t&&t.getAttribute("data-updateHistory")&&"true"===t.getAttribute("data-updateHistory")&&(s=new a,s.isSupported())){var r=t.querySelector(".current")&&t.querySelector(".current").getAttribute("data-offset");r&&s.replaceState({data:r},document.title,window.location.href,l)}}function l(e){return g?void(g=!1):e?void t.setPageOffset(e):void t.setPageOffset(0)}var s,f=this,g=!1;return f.tracked=f.tracked||{},u(),{"changeMainPage":o,"trackPageClick":d}}.bind({}))});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"hotels_leaf_geo_list","handlers",["handlers"]);t(["placement","common/trackingStreams","common/Radio"],function(e,t,a){function n(e,a){if(a&&a.href){var n=a.getAttribute("data-geoId");t.setEvtCookie("hotels_leaf_geo_list_broad","click",n,0,a.href),l&&t.trackEvent("vp_broad_geo","click",n)}}function o(e){r.classList.toggle("is-hidden-mobile",e)}var i=document.getElementById(e.id),r=i.querySelector(".leaf_geo_list_wrapper"),c=r.hasAttribute("data-hide-on-map-open"),l=r.hasAttribute("data-is-vacation-package-servlet");if(c){var s=new a("h-map");s.on("hide-bg-leaf-placement",function(){o(!0)}),s.on("show-bg-leaf-placement",function(){o(!1)})}return l&&t.trackEvent("vp_broad_geo","seen"),{trackGeoLinkClick:n}})});
define("hotels/monitoring/listHealth",["babel/babel-helpers"],function(e){"use strict";function t(e){var t=document.querySelector(e);return t&&t.dataset||require(["babel/babel-helpers","trjs!ta/util/Error"],function(t,r){r.record(null,"list health monitoring failed due to no placement data for selector: "+e)}),t}function r(e,t,r){var o="true"===r.dataset.is_ajax?"ajax":"pageload",l=r.dataset.hotel_page_type;require(["babel/babel-helpers","trjs!common/metric-recorder"],function(r,n){n([{name:e,value:1,labels:[t,o,l].concat(a)}])})}var a=["","",""];return{getMonitorModelFromSelector:t,recordMetric:r}});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"hotels_list_monitoring","handlers",["handlers"]);t(["babel/babel-helpers","placement","ta/Core/TA.FireEvent","hotels/monitoring/listHealth"],function(e,t,n,r){"use strict";function o(){var e=r.getMonitorModelFromSelector("#hotel_list_monitoring_data");e&&e.dataset&&r.recordMetric(l,i(e.dataset.empty_expected),e)}function i(e){var t=document.querySelectorAll("[data-mlv]");return(!t||t.length<=0)&&"empty_expected"!==e?"empty_error":"list_healthy"}function a(e){var n=document.getElementById(t.id);n.innerHTML=e.outerHTML,setTimeout(o,200)}var l="hotel_listing_state";o(),n.on("update-"+t.name,a)})});
require(["ta/p13n/placements"],function(e){var a=e.define.bind(e,"hotels_trigger_filters_state_update","handlers",["handlers"]);a(["babel/babel-helpers","placement","ta/page","common/Radio","ta/Core/TA.Event"],function(e,a,t,n,r){var i=n("web-component-data-bridge"),s=function(e){if(e){var a=e.classList.contains("filters-update-speedup");a&&i.trigger("update")}};r.on("update-"+a.name,s)})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"hotels_vr_cta","handlers",["handlers"]);t(["placement","ta/Core/TA.FireEvent","ta/prwidgets","utils/nodePreserve"],function(e,t,n,r){function a(e){var t=e.querySelector("[data-messageType]");return t?t.getAttribute("data-messageType"):""}function i(e){var t=a(e);t!==u&&(u=t,e&&s&&(r.treePreserve(s,e),n.initWidgets(s)))}var d="update-"+e.name,s=document.getElementById(e.id),u=a(s);return t.on(d,i),{}})});
require(["ta/p13n/placements"],function(n){var e=n.define.bind(n,"main_pagination_bar","handlers",["handlers"]);e(["placement","ta/Core/TA.FireEvent","ta/prwidgets"],function(n,e,t){function i(n){a.innerHTML="",a.appendChild(n),t.initWidgets(a)}var a=document.getElementById(n.id);return e.on("update-"+n.name,i),{}})});
define("utils/VisibilityCheckFunction",function(){function t(){return Element.prototype.getBoundingClientRect?Promise.resolve(function(t){if(!t)return!1;var n;try{n=t.getBoundingClientRect()}catch(t){return!1}return e(n,{top:0,left:0,bottom:Math.max(document.documentElement.clientHeight,window.innerHeight||0),right:Math.max(document.documentElement.clientWidth,window.innerWidth||0)})}):new Promise(function(t){require(["trjs!api-mod"],function(n){t(function(t){if(!t)return!1;var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=n.scrollTop(),u=r+o,h=n.scrollLeft(),c=h+i,f=n.getPosition(t);return e({width:t.offsetWidth,height:t.offsetHeight,top:f.top,left:f.left,bottom:f.top+t.offsetHeight,right:f.left+t.offsetWidth},{top:r,left:h,bottom:u,right:c})})})})}function e(t,e){return 0!==t.width&&0!==t.height&&(!(t.bottom<=e.top||t.top>=e.bottom)&&!(t.left>=e.right||t.right<=e.left))}function n(){return i}var i=t();return{getPromise:n}});
define("utils/VisibilityChecker",["utils/to-array","utils/is-element","utils/VisibilityCheckFunction"],function(e,t,r){function i(r,i,n){return null==n?i:t(n)?i.concat(n):"string"==typeof n?i.concat(e(r.querySelectorAll(n))):i}function n(e){var t=e.elements,r=e.context||document,n=e.callback,c=!1;if(!Array.isArray(t))throw new TypeError("VisibilityChecker must have an elements array");return function(){c||(c=!0,l.then(function(e){c=!1;var l=t.reduce(i.bind(null,r),[]).filter(e);if(l.length>0&&"function"==typeof n){var u=n(l);Array.isArray(u)&&(t=u)}}))}}var l=r.getPromise();return n});
define("hotels/recentlyViewedHotels",["ta/Core/TA.LocalStorage","ta/Core/TA.PageVisibility","ta/Core/TA.Event","utils/VisibilityChecker","utils/classnameUtils","common/trackingStreams","utils/throttle"],function(e,t,n,o,i,r,c){function a(t,n){e.onLocalStorageSessionInit(function(){var o=e.getSessionKey(t)||{};o[n]||(o[n]=!0,e.setSessionKey(t,o))})}function l(e){v(e)&&(a(w,e),A&&A())}function s(t){e.onLocalStorageSessionInit(function(){u(t)||a(y,t)})}function u(t){var n=e.getSessionKey(w)||{};return!!n[t]}function d(e,t){_[e]=t,delete I[e],t.setAttribute(R,e),T||m(_)}function m(e){var i=o({elements:Object.values(e),callback:function(e){var t=e[0].getAttribute(R)||0;r.trackEvent(b,"recentlyViewTreatmentSeen",t),T=!0,f()}});f(),A=c(i,300),window.addEventListener("scroll",A),n.on("page-polling-complete",A),t.addFocusListener(A)}function f(){A&&(window.removeEventListener("scroll",A),n.off("page-polling-complete",A),t.removeFocusListener(A),A=null)}function C(e,n,o){Object.keys(I).length||t.addFocusListener(k),I[e]={fn:i.addClass.bind(null,n,o),elmt:n}}function k(){e.onLocalStorageSessionInit(function(){var n=e.getSessionKey(y)||{};Object.keys(n).forEach(function(e){I[e]&&(I[e].fn(),d(e,I[e].elmt))}),Object.keys(I).length||t.removeFocusListener(k)})}function v(e){return!!_[e]}function g(e,t,n){n&&require.defined("ta/Core/TA.Record")?require("ta/Core/TA.Record").trackEventOnPage(b,e,t):r.trackEvent(b,e,t)}function H(e,t,n,o){v(e)&&g(t,n,o)}function L(t,n,o,i){e.onLocalStorageSessionInit(function(){u(t)&&g(n,o,i)})}function S(){var e=document.querySelectorAll("["+R+"]");g("NUM_RECENTLY_VIEWED",e.length)}function E(e){var t=h[window.pageServlet]||h.Unknown;t.trackCommerce(e,"COMMERCE_CLICK_"+t.id,e,!0)}require(["trjs!ta/Core/TA.Record"],function(){});var y="recently_viewed_ids",w="recently_viewed_interactions",b="RECENTLY_VIEWED_HOTEL",R="data-is-recently-viewed",h={"Hotels":{id:"H",trackCommerce:H},"MobileHotels":{id:"H",trackCommerce:H},"Hotel_Review":{id:"HR",trackCommerce:L},"MobileHotel_Review":{id:"HR",trackCommerce:L},"HotelsList":{id:"HL",trackCommerce:H},"HotelsNear":{id:"HN",trackCommerce:H},"SmartDeals":{id:"SD",trackCommerce:H},"MobileSmartDeals":{id:"SD",trackCommerce:H},"HotelHighlight":{id:"HH",trackCommerce:H},"MobileHotelHighlight":{id:"HH",trackCommerce:H},"Unknown":{id:"UK",trackCommerce:function(){}}},_={},I={},T=!1,A=null;return{visitedLocation:s,interactedWithLocation:l,registerUnvisitedLocation:C,registerVisitedLocation:d,trackEventIfRecentlyViewed:H,trackEventIfRecentlyInteracted:L,trackRecentlyViewedCountOnPage:S,trackCommerceClick:E}});
require(["ta/p13n/placements"],function(e){var n=e.define.bind(e,"recently_viewed_helper_list","handlers",["handlers"]);n(["hotels/recentlyViewedHotels","ta/Core/TA.Event"],function(e,n){n.on("page-polling-complete",e.trackRecentlyViewedCountOnPage),e.trackRecentlyViewedCountOnPage()})});
require(["ta/prwidgets"],function(e){var t=e.define.bind(e,"vr_listings_cross_sell_properties_hsx_resp","handlers",["handlers"]);t(["widget","ta/util/Cookie"],function(e,t){function n(t){var r=t.getAttribute("data-pid");if(r)return r;if(t!==e.element)return n(t.parentNode)}function r(e){var r=n(e.target);r&&t.setPIDCookie(r)}function i(){e.element.addEventListener("click",r,!0)}return i(),{}})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"vr_cross_sell","handlers",["handlers"]);t(["placement","lib/jquery-amd","ta/page","ta/Core/TA.Event","ta/prwidgets"],function(e,t,a,n,r){function s(){i<=0||!o||t.ajax({url:"/VacationRentalsXSiteAjax",data:{a:"VR_HOTELS_CROSS_SELL",geo:i,vr_cross_sell_widget:o},dataType:"json",success:function(e){d.empty(),t.each(e.widgets_html,function(e,t){d.append(t)}),r.initWidgets(d.get(0)),n.fireEvent("refreshedDOMContent",d)}})}var d=t(".vr_cross_sell_wrap",document.getElementById(e.id)),i=parseInt(d.attr("data-geoId"),10)||-1,o=d.attr("data-widgetKey"),c=[];try{c=JSON.parse(d.attr("data-updateEvents"))}catch(e){}return n.on("update-"+e.name,s),c.forEach(function(e){n.on(e,s)}),n.queueForLoad(s,"VR Cross Sell Placement: "+e.id),{}})});
require(["ta/p13n/placements"],function(e){var a=e.define.bind(e,"xsell_wc_dusty_bridge","handlers",["handlers"]);a(["babel/babel-helpers","placement","ta/page","common/Radio","ta/Core/TA.Event","common/page-filters","ta/Core/TA.LocalStorage"],function(e,a,l,t,s,n,r){r.enabled&&(r.set("activeXsellsHR",[]),r.set("activeXsellsMeta",[]),r.set("viewTrackedXsells",[]))})});
require(["ta/p13n/placements"],function(e){var t=e.define.bind(e,"map_wc_dusty_bridge","handlers",["handlers"]);t(["babel/babel-helpers","placement","ta/page","common/Radio","ta/Core/TA.Event","common/page-filters"],function(e,t,r,n,a,o){var i=document.getElementById(t.id),u=n("web-component-data-bridge"),s="data-map-position",c="data-hotels-data",p="data-sort-options",l="data-current-sort",d="data-has-url-filter",m=function(){var e=i.querySelector("["+s+"]").getAttribute(s),t=i.querySelector("["+c+"]").getAttribute(c),r=i.querySelector("["+p+"]").getAttribute(p),n=i.querySelector("["+l+"]").getAttribute(l),a=i.querySelector("["+d+"]").getAttribute(d),o=e&&JSON.parse(e),m=t&&JSON.parse(t),f=r&&JSON.parse(r),y=n&&JSON.parse(n),g=a&&"true"===a;u.reply("map_position",function(){return o}),u.reply("hotels_data",function(){return m}),u.reply("sort_options",function(){return f}),u.reply("current_sort",function(){return y}),u.reply("has_url_filter",function(){return g})},f=function(e){e&&e.innerHTML&&(i.innerHTML=e.innerHTML,m(!0),e.classList.contains("filters-update-speedup")||u.trigger("update"))},y=function(){u.on("setSortOrder",function(e){return r.setSortOrder(e.sortOrder)}),u.on("startProximitySearch",function(e){o.register("map-view",o.FauxFilter,[]),o.set("map-view",null),r.changeRequestTypeToProximity(e)}),o.on("cleared-map-view",function(){return r.changeRequestTypeToGeo()}),u.on("mapClose",function(){return o.clear("map-view")})};return y(),m(),a.on("update-"+t.name,f),{}})});
