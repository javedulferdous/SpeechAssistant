(this.$WP=this.$WP||[]).push(["-IO4YY",(e,i)=>{"use strict";var a,n,l,d,t,u,r,m,s,o,k,v,c,b,N,g,I,p,y=!1,S=!1,f=!1,A=e=>{var i,s,o,p,A,F,{client:h,dataStrategy:T,locationId:V,passThroughOptions:M,renderAlbum:O,referenceMediaId:R,queryNode:D,albumId:C,subAlbumId:P,selectImagesServerSide:_,filter:E}=e,x=v(h,T,V,null==M?void 0:M.isSponsored),[q,w]=l(!1),Y=d(0),[G,L]=l(_),[W]=a(m),z={locationId:V,albumId:C,subAlbumId:P,client:h,dataStrategy:T,filter:E||k(),referenceMediaId:q?null:R},K=W.path,[{fetching:Q,data:X,error:$},j]=u({query:D,variables:z,pause:!V||!G}),B=null==X||null==(i=X.mediaAlbum)?void 0:i.status,H=!(null==X||null==(s=X.mediaAlbum)||null==(o=s.album)?void 0:o.mediaList)||500===B,J=404===B;if(t(()=>{L(!0)},[]),t(()=>{Q||$||!X||((e,i)=>{var a,n="",l=null==e||null==(a=e.mediaAlbum)?void 0:a.album;if(l)if(200!==e.mediaAlbum.status)n=c;else if(0===l.totalMediaCount)n=N;else{var d;n=(null==(d=l.mediaList)?void 0:d[0])?I:g}else n=N;i(n)})(X,x)},[Q,$,X,x]),t(()=>{!Q&&J&&!q&&G&&w(!0)},[Q,J,q,G]),t(()=>{!Q&&H&&G&&(Y.current<1?(Y.current++,j()):S||(S=!0))},[Q,H,j,V,h,K,G]),t(()=>{!Q&&$&&(x(c),y||(y=!0,null==$||$.message),200!==B||f||(f=!0,null==$||$.message))},[Q,B,$]),!Q&&(H||404===B))return O({root:null,response:null,album:{totalMediaCount:0},loading:!1,client:h,locationId:V,passThroughOptions:M});var U=null==X||null==(p=X.mediaAlbum)||null==(A=p.album)?void 0:A.offset,Z=R?U:null==M?void 0:M.selectedIndex,ee={root:X,response:null==X?void 0:X.mediaAlbum,album:Q?null:null==X||null==(F=X.mediaAlbum)?void 0:F.album,locationId:V,client:h,loading:Q,passThroughOptions:Object.assign({},M,{selectedIndex:Z})};return n(r,{errorRenderer:()=>(x(b),n("div",null))},O(ee))},F=({locationId:e,client:i,dataStrategy:l,renderAlbum:d,selectImagesServerSide:t,filter:u,albumId:r,subAlbumId:k,passThroughOptions:v,referenceMediaId:c})=>{var[{page:b}]=a(m),N=s(),g=o(b,N);return n(A,{queryNode:p,locationId:e,albumId:r,subAlbumId:k,client:i||g,dataStrategy:l,renderAlbum:d,selectImagesServerSide:t,filter:u,referenceMediaId:c,passThroughOptions:v})};return[()=>{(p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"MVACMediaAlbumQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"albumId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"subAlbumId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"client"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"dataStrategy"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"filter"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"FilterInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"mediaAlbum"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"Argument","name":{"kind":"Name","value":"subAlbumId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"subAlbumId"}}},{"kind":"Argument","name":{"kind":"Name","value":"albumId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"albumId"}}},{"kind":"Argument","name":{"kind":"Name","value":"client"},"value":{"kind":"Variable","name":{"kind":"Name","value":"client"}}},{"kind":"Argument","name":{"kind":"Name","value":"dataStrategy"},"value":{"kind":"Variable","name":{"kind":"Name","value":"dataStrategy"}}},{"kind":"Argument","name":{"kind":"Name","value":"filter"},"value":{"kind":"Variable","name":{"kind":"Name","value":"filter"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"statusMessage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"album"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"albumId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"subAlbumId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"translationKey"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"dataStrategy"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"offset"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"totalMediaCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaList"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"type"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":625}}')).__key=0x7dc3fc9c5b5f,p.loc.source={body:"7dc3fc9c5b5f"},e("VanillaClientSideMediaAlbumContainer",F)},[e=>(a=e.useContext,n=e.createElement,l=e.useState,d=e.useRef,t=e.useEffect),e=>u=e.useQuery,e=>r=e.ErrorBoundary,e=>m=e.Route,e=>s=e.useGARecorder,e=>(o=e.useClientNameForServlet,k=e.getMediaFilterToRetrieveAllPhotos),e=>(v=e.useMediaTracking,c=e.ERROR_MSG,b=e.EXCEPTION,N=e.NO_PHOTO,g=e.PRIMARY_MISSING,I=e.PRIMARY_OK)]]},["cDcdfi","5X2em-","nIW_Rw","2R4xv2","fsml46","wc54S1","zdk9wF"]]);
