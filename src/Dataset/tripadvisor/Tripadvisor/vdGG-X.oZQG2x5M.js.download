(this.$WP=this.$WP||[]).push(["vdGG-X",(e,n)=>{"use strict";var i,a,t,l,d,o,r,u,s,c,m,k,v,N,b,g,p=(e,n)=>{var a=((e,n)=>{var i="";if(null!=n&&(i=`P:${n}/`),null!==e&&null!==e.trackingInfos&&e.trackingInfos.length>0){e.trackingInfos.forEach(e=>{i+=`N:${e.position}/L:${e.locId}`,i+="/CRC:"+e.connectionReviewCount,1===e.connectionReviewCount&&(i+="/CRA:"+e.connectionRating,i+="\\"),i+="\\\\\\"});var a="\\"===i.charAt(i.length-4)?4:3;i=i.substring(0,i.length-a)}return i})((e=>{var n={trackingInfos:[]};return null!=e&&"FAILED"!==e.status&&null!==e.contributionsByLocation&&(n.trackingInfos=e.contributionsByLocation.map((e,n)=>({locId:e.locationId,connectionReviewCount:e.userReviewContributions.length,connectionRating:e.userReviewContributions[0].rating,position:""+(n+1)}))),n})(e),n.module);i(Object.assign({},n,{trackingTree:a}))},y={},S={},f=e=>{var{locationId:n,placeType:i}=e,a={includePartialResults:!1,placeType:i||"ACCOMMODATION",locationQueryId:n||0};return e.isGeographic?{query:b,variables:a,errorPolicy:"all",skip:!e.loggedInUserId||!n||n<=0}:{query:N,variables:a,errorPolicy:"all",skip:!e.loggedInUserId||!n||n<=0}},C=e=>({loggedInUserId:e.auth.loggedInUserId}),I=(e,n)=>f(Object.assign({},C(e),{},n)),F=({object:e})=>{var n=c("ui_link b",{verified:e.verified});return t(l,null,u(s("social_label_Member_liked_this",{sMemberLinkClass:n,sMemberLink:"#",sMember:"Member Name"})))},V=()=>t(l,null,s("social_label_Suggested_for_you")),T=()=>t(l,null,s("social_label_Trending")),L=e=>{var n;switch(e.socialProofLabel){case"liked":n=t(F,{object:e.object});break;case"suggested":n=t(V,{object:e.object});break;case"trending":n=t(T,{object:e.object});break;default:m.error("label Error - object is required.")}return t("div",{className:"UhsVOUGJ"},n)};return[()=>{(v=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ConnectionContributions"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"ConnectionContributionsResult"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contributionsByLocation"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"userReviewContributions"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reviewId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rating"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"createdDate"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contributionReviewText"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"userDisplayInformation"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"userId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"fullname"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"avatarUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"userProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"followerCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"hometown"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"fallbackString"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"location"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":709}}')).__key=0x84619a2d287a,v.loc.source={body:"84619a2d287a"},(N=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"DetailContributionsQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"includePartialResults"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"placeType"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ContributionsPlaceTypeInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"connectionContributions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"detailIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}}]}},{"kind":"Argument","name":{"kind":"Name","value":"geoIds"},"value":{"kind":"ListValue","values":[]}},{"kind":"Argument","name":{"kind":"Name","value":"placeTypes"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"placeType"}}]}},{"kind":"Argument","name":{"kind":"Name","value":"connectionTypes"},"value":{"kind":"ListValue","values":[{"kind":"EnumValue","value":"ALL"}]}},{"kind":"Argument","name":{"kind":"Name","value":"contributionTypes"},"value":{"kind":"ListValue","values":[{"kind":"EnumValue","value":"REVIEW"}]}},{"kind":"Argument","name":{"kind":"Name","value":"includePartialResults"},"value":{"kind":"Variable","name":{"kind":"Name","value":"includePartialResults"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"ConnectionContributions"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":529}}')).__key=0x79792de17e52,N.loc.source={body:"79792de17e52"},N.definitions=N.definitions.concat(v.definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!y[n]&&(y[n]=!0,!0)}))),(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"GeographicContributionsQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"includePartialResults"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"placeType"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ContributionsPlaceTypeInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"connectionContributions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"detailIds"},"value":{"kind":"ListValue","values":[]}},{"kind":"Argument","name":{"kind":"Name","value":"geoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}}]}},{"kind":"Argument","name":{"kind":"Name","value":"placeTypes"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"placeType"}}]}},{"kind":"Argument","name":{"kind":"Name","value":"connectionTypes"},"value":{"kind":"ListValue","values":[{"kind":"EnumValue","value":"ALL"}]}},{"kind":"Argument","name":{"kind":"Name","value":"contributionTypes"},"value":{"kind":"ListValue","values":[{"kind":"EnumValue","value":"REVIEW"}]}},{"kind":"Argument","name":{"kind":"Name","value":"includePartialResults"},"value":{"kind":"Variable","name":{"kind":"Name","value":"includePartialResults"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"ConnectionContributions"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationQueryId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":518}}')).__key=95316832431889,b.loc.source={body:"56b0adf02f11"},b.definitions=b.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!S[n]&&(S[n]=!0,!0)}))}(v.definitions)),e("LocationContributionsPoller$1",k=class extends a{constructor(e){super(e),this.pollServer=r((e,n)=>{this.setState(e=>({repollCount:e.repollCount+1}),()=>{this.state.repollCount>4||e({includePartialResults:4===this.state.repollCount,locationQueryId:n})})},1e3,!0),this.state={repollCount:0}}render(){var{children:e,locationId:n}=this.props,i=f(this.props);return t(d,{query:i.query,variables:i.variables,pause:i.skip},({data:i,fetching:a,executeQuery:t})=>a?e(null,!0):i&&i.connectionContributions?"COMPLETE"!==i.connectionContributions.status&&this.state.repollCount<=4?(this.pollServer(t,n),e(null,!0)):i&&i.connectionContributions&&i.connectionContributions.contributionsByLocation&&i.connectionContributions.contributionsByLocation[0]&&i.connectionContributions.contributionsByLocation[0].userReviewContributions?e(i,!1):e(null,!1):e(null,!1))}}),k.defaultProps={placeType:"ACCOMMODATION",isGeographic:!1},g=o(C)(k),e({LocationContributionsPoller:g,SocialProofLabel:L,buildAndTrackContributionData:p,createContributionsQuery:I})},[e=>i=e.default,e=>(a=e.Component,t=e.createElement,l=e.Fragment),e=>d=e.Query,e=>o=e.connect,e=>r=e.default,e=>(u=e.unescaped,s=e.localize),e=>c=e.default,e=>m=e.default]]},["Jk5sjx","cDcdfi","5X2em-","h74DsO","gsKhh7","535agn","jSLlaY","4LU1Ax"]]);
