(this.$WP=this.$WP||[]).push(["idtHKM",(e,t)=>{"use strict";var i,a,s,n,o,r,l,d,c,u,p,h,m,g,k,v,f,_,N,C,b,y,D,P,S,I,T,w,E,O,R,A,F,x,M,V,L,H,G,U,W,z,K,Y,q,B,j,X,J,Q,Z,$,ee,te,ie,ae,se,ne,oe,re,le,de,ce,ue,pe,he,me,ge,ke,ve,fe,_e,Ne,Ce=e=>{var t,[n,o]=a(!1),[,r]=W(me),[,l]=W(ve),[{tripsFetching:d,tripsError:c,tripsUpdatedAt:u}]=(e=>{var t,i,[a]=U({query:ge,variables:{geoId:e}});return[{tripsFetching:a.fetching,tripsError:a.error,tripsUpdatedAt:null==(t=a.data)||null==(i=t.userTrips)?void 0:i.updated}]})(e.geoId),[{geoNameFetching:p,geoNameError:h,geoName:m}]=(e=>{var t,i,a,s,[n]=U({query:ke,variables:{locationId:e||1},pause:!e});return[{geoNameFetching:n.fetching,geoNameError:n.error,geoName:null==(t=n.data)||null==(i=t.locations)||null==(a=i[0])||null==(s=a.names)?void 0:s.name}]})(e.geoId),g=(e=>{var t,i,[{fetching:a,error:s,data:n}]=U({query:he,variables:{locationId:e||-1},pause:!e});return a||s||!(null==n||null==(t=n.showComponent)?void 0:t[0])?null:null==n||null==(i=n.showComponent)?void 0:i[0]})(e.geoId),k=(t=e.checkInDate)?t.toLocaleString("en-US",{month:"long"}):null,v=q(),f=B(),_="Heading to {0} in {1}?";_=m&&k?_.replace("{0}",m).replace("{1}",k):"";var N=m?"Trip to {0}".replace("{0}",m):"";s(()=>{!g||d||c||(e=>{if(e){var t=Date.parse(e);return!((Date.now()-t)/864e5>30)}return!1})(u)||p||h||(o(!0),f({trips:{element:"view_autotrip_module"}}))},[g,d,c,u,p,h,f]);var C=i.useCallback(t=>{var i={title:N,geoId:e.geoId};r(i).then(({error:i})=>{i&&console.error(`Error creating a trip for : ${e.geoId} and user `),t()})},[N,r,e.geoId]),b=i.useCallback((t,i)=>{if(i){var a={geoId:e.geoId};l(a)}v({Trips:{elementClick:{element:t}}}),o(!1)},[v,e.geoId,l]);return n&&i.createElement(j,{inline:"div",role:"alertdialog",className:"_2Nfnmwiu",onClose:()=>b("omni_trip_dismiss",!0)},i.createElement("div",{className:"_136irodR"},i.createElement("div",{className:"WoPHPsjr"},i.createElement("span",{className:"JxY3QF0O"},i.createElement(K,{variant:"light",iconName:"times",label:"closeButton",size:"small",onClick:()=>b("omni_trip_dismiss",!0)}))),i.createElement("div",{className:"wkq-8WgH"},i.createElement("div",{className:"byE3P69F"},i.createElement(X,{variant:"title-01"},_)),i.createElement("div",{className:"_11D7D2Nq"},"We've made it easy for you by creating a Trip, where you can map out and save all the spots you  want to visit."),i.createElement("div",{className:"he3WnaJO"},i.createElement(z,{size:"large",fullWidth:!0,onClick:()=>C(()=>b("omni_trip_create",!1))},"Let's go!")),i.createElement("div",{className:"y2E8RlnA"},i.createElement(Y,{onClick:()=>b("omni_trip_dismiss",!0)},"No, I am not planning a trip right now."))),i.createElement("div",{className:"_20wQWR8H"},i.createElement("div",{className:"zcAZWqNl"}))))},be=()=>{var e,t,o,r=i.useContext(L),l=null==r||null==(e=r.hotels)?void 0:e.checkInDate,d=null==r||null==(t=r.hotels)?void 0:t.checkOutDate,[c]=n(H),u=!n(G).userId,p="Hotels"===c.page||"Hotel_Review"===c.page?null==(o=c.params)?void 0:o.geoId:-1,[h,m]=a(!0),g=(e=>{var[t,i]=a(!0);return s(()=>{var e=setTimeout(()=>i(!1),1e3);return()=>clearTimeout(e)},[1e3]),e=>!t&&e()})(),k=M("t12247_auto_trips_on_h");return s(()=>{((e,t,i,a,s)=>!(!s||e||!i||!a))(u,0,l,d,k)||m(!1)},[k,p,u,l,d]),h?g(()=>i.createElement(Ce,{checkInDate:l,checkOutDate:d,geoId:p})):null};return[()=>{(he=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ShouldShowOmnipresentComponentQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"showComponent"},"name":{"kind":"Name","value":"Trips_shouldShowPrompt"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[]}]}}],"loc":{"start":0,"end":137}}')).__key=23488203558433,he.loc.source={body:"155cc6078e21"},(me=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"CreateTripMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"title"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"geoId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"createTrip"},"name":{"kind":"Name","value":"Trips_createTrip"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"title"},"value":{"kind":"Variable","name":{"kind":"Name","value":"title"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"status"},"value":{"kind":"EnumValue","value":"private"}},{"kind":"ObjectField","name":{"kind":"Name","value":"geoId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"geoId"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"errors"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"type"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"field"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":209}}')).__key=0x982285aba450,me.loc.source={body:"982285aba450"},(ge=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"TripsByGeoQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"geoId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userTrips"},"name":{"kind":"Name","value":"Trips_userTripsForGeo"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"geoId"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"updated"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":118}}')).__key=0xf1cf998ce0d8,ge.loc.source={body:"f1cf998ce0d8"},(ke=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"LocationNameQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"locations"},"name":{"kind":"Name","value":"LocationSelection_getLocations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"names"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":162}}')).__key=80285370345082,ke.loc.source={body:"4904e4fae67a"},(ve=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"RecordDismissalMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"geoId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"recordDismissal"},"name":{"kind":"Name","value":"Trips_recordDismissPrompt"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"geoId"}}]}}],"directives":[]}]}}],"loc":{"start":0,"end":122}}')).__key=0xbec372cb61cd,ve.loc.source={body:"bec372cb61cd"},le=class extends o{constructor(e){super(e),this.getTop=()=>this.props.target.getBoundingClientRect().bottom+window.pageYOffset||0,this.updateCount=()=>{this.setState({count:this.state.count+1})},this.IN_VIEW_OFFSET=200,this.state={count:0}}componentDidMount(){Q("cookie-banner").on("banner-shown",this.updateCount)}componentWillUnmount(){Q("cookie-banner").off("banner-shown",this.updateCount),this.props.close&&this.props.close()}getPositionProps(){return this.props.popAbove?this.props.isMobile?{position:"above",shiftY:-6,alignEdge:"windowX"}:{position:"above",shiftY:-6,animated:!0,alignEdge:"left",shiftX:-77}:this.props.isMobile?{position:"below",shiftY:6,alignEdge:"windowX"}:this.props.horizontal?{position:"rightOf",alignEdge:"top",shiftX:4,shiftY:-72,animated:!0}:{position:"below",shiftY:6,animated:!0}}render(){var{target:e,close:t,children:i,isMobile:a,showClosingX:s,fixed:n,wasAutopopped:o,isDetailPage:l}=this.props,d=a?r("div",{style:{top:this.getTop()},className:"_2RVhESjw",onClick:t}):null,c=s?r("button",{className:"_1qUKrqAF",onClick:t}):null;return r(Z,{events:["onClick","onTouchStart"]},d,r(J,{onChange:e=>{e||t()},onRef:e=>a&&!(l&&o)&&((e,t)=>{if(M("mw_datepicker_scroll_into_view")&&e&&document&&document.documentElement){var{documentElement:i}=document;s=i,(a=e.getBoundingClientRect()).top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||s.clientHeight)&&a.right<=(window.innerWidth||s.clientWidth)||(window.scrollTo({behavior:"smooth",top:t}),E({module:"datepicker",action:"mw_datepicker_scroll"}))}var a,s})(e,this.getTop()),threshold:this.IN_VIEW_OFFSET},t=>r(te,Object.assign({target:e,paddingX:16,paddingY:16,minWidth:288,zIndex:9991,fixed:!!n},this.getPositionProps(),{shouldRestoreFocus:this.props.shouldRestoreFocus}),r("div",{ref:t,"data-test-target":"trip-search-open"},c,i))),r($,{keyName:"Escape",callback:t}),r(ee,{event:"click",callback:t}))}},(de=class extends o{constructor(...e){super(...e),this.tick=e=>{var{value:t,onChange:i}=this.props;i&&i(t+e)},this.increment=this.tick.bind(this,1),this.decrement=this.tick.bind(this,-1)}render(){var{label:e,min:t,max:i,value:a,icon:s}=this.props,n=a<=t,o=a>=i;return r(l,null,r("div",{className:"KI_77b0J","data-test-target":this.props.testTarget?"ticker-"+this.props.testTarget:null},r("button",{onClick:n?null:this.decrement,className:ie("_2taRf82D",{bHRnaWE_:n}),"data-test-target":this.props.testTarget?"ticker-minus-"+this.props.testTarget:null,"data-test-disabled":n},r(ne,{name:"minus"})),r("span",{className:"_2NEf-1dk","data-test-target":this.props.testTarget?"ticker-label-"+this.props.testTarget:null},a),r("button",{onClick:o?null:this.increment,className:ie("_2taRf82D",{bHRnaWE_:o}),"data-test-target":this.props.testTarget?"ticker-plus-"+this.props.testTarget:null,"data-test-disabled":o},r(ne,{name:"plus"}))),r("div",{className:"_3xQVmCsQ"},s?r(ne,{name:s,className:"_2hLfEfZc"}):null,e))}}).defaultProps={min:0},ce=class extends o{constructor(...e){super(...e),this.selectOption=e=>{this.props.onSelect(e)&&this.props.onClose()},this.isValid=()=>{var{min:e,max:t,value:i}=this.props;return null!=i&&f(i,e,t)}}renderOverlay(e){var t=this,{min:i,max:a,value:s,isOpen:n,getOptionLabel:o,onClose:l,fixed:d}=this.props;if(!n||!e)return null;for(var c=[],u=function(e){c.push(r("button",{className:"TFd2S6Mr",onClick:()=>t.selectOption(e),key:e},s===e?r(ne,{name:"checkmark"}):null,r("span",{className:"UGkYtfGf"},o(e))))},p=i;p<=a;p++)u(p);return r(Z,{events:["onClick","onTouchStart"]},r(re,{target:e,position:"below",arrowType:"none",shiftY:-38,shouldRestoreFocus:!0,fixed:d},r("div",{className:"_3fYpFCeS"},r("div",{className:"TFd2S6Mr",onClick:l},r("span",{className:"UGkYtfGf"},o(s)),r(ne,{name:"caret-up",className:"_39UODvjW"})),r("div",{className:"_4LEr3fk4"},c)),r(ee,{event:"click",callback:l})))}renderPicker(e){var{label:t,value:i,getOptionLabel:a,showErrors:s,onOpen:n}=this.props,o=s&&!this.isValid();return r("div",{className:ie("_1As7AyuE",{_3mlTCpG6:o})},r("span",{className:"_1Z6jvBSw"},t),r("button",{className:"TFd2S6Mr",onClick:e=>{n(),e.stopPropagation()},ref:e},r("span",{className:"UGkYtfGf"},a(i)),r(ne,{name:"caret-down",className:"_39UODvjW"})))}render(){return r(oe,null,(e,t)=>r(l,null,this.renderPicker(e),this.renderOverlay(t)))}},ue=class extends o{constructor(e){super(e),this.onChange=e=>{var t=Object.assign({},this.state.guestInfo,e),i=this.props.guestValidation.validate(t,this.state.guestInfo);this.setState({guestInfo:i})},this.onRoomsChange=e=>this.onChange({rooms:e}),this.onAdultsChange=e=>this.onChange({adults:e}),this.onChildrenChange=e=>{var{children:t}=this.state.guestInfo;this.onChange({children:new Array(e).fill(-1).map((e,i)=>t.length>i?t[i]:e)})},this.onAgeChange=(e,t)=>{var{children:i}=this.state.guestInfo;return(i=i.slice())[e]=t,this.onChange({children:i}),!0},this.onAgePickerClick=e=>{this.setState({selectedAgePicker:e})},this.onSubmit=()=>{this.props.guestValidation.isValid(this.state.guestInfo)?this.props.onSelection&&this.props.onSelection(this.state.guestInfo):this.setState({showErrors:!0}),R()},this.getDropdownLabel=e=>{if(null!=e){if(e>0)return e;if(0===e)return"0-1"}return u("mem_pf_928")},this.state={guestInfo:e.guestInfo,selectedAgePicker:null,showErrors:!1}}componentDidUpdate(e){this.props.fixed!==e.fixed&&this.clearSelectedAgePicker()}clearSelectedAgePicker(){this.setState({selectedAgePicker:null})}renderAgePickers(){var{selectedAgePicker:e,showErrors:t,guestInfo:{children:i}}=this.state,{MIN_CHILD_AGE:a,MAX_CHILD_AGE:s}=this.props.guestValidation.limits,{fixed:n}=this.props;return i?i.map((i,o)=>r("div",{className:"iyCPYKa7",key:o},r(ce,{min:a,max:s,value:i,label:u("airm_child_ba9",{0:o+1}),getOptionLabel:this.getDropdownLabel,isOpen:o===e,onOpen:()=>this.onAgePickerClick(o),onClose:()=>this.onAgePickerClick(null),onSelect:e=>this.onAgeChange(o,e),showErrors:t,fixed:n}))):null}render(){var{rooms:e,adults:t,children:i}=this.state.guestInfo,{MIN_ROOMS:a,MAX_ROOMS:s,MIN_ADULTS:n,MAX_ADULTS:o,MIN_CHILDREN:l,MAX_CHILDREN:d}=this.props.guestValidation.limits,c=null!=this.state.selectedAgePicker&&i&&i.length>4;return r("div",{className:"_2WQ0A2-M",onClick:()=>this.onAgePickerClick(null)},r("div",{className:"iyCPYKa7"},r(de,{label:u("mobile_sherpa_rooms_ffffeaf4"),icon:"hotels",value:e,min:a,max:s,onChange:this.onRoomsChange,testTarget:"rooms"})),r(se,{rooms:e}),r("div",{className:"iyCPYKa7"},r(de,{label:u("mobile_sherpa_guests_ffffeaf4"),icon:"friends",value:t,min:n,max:o,onChange:this.onAdultsChange,testTarget:"adults"})),r("div",{className:"iyCPYKa7"},r(de,{label:u("common_children"),icon:"children",value:i.length,min:l,max:d,onChange:this.onChildrenChange,testTarget:"children"})),i&&i.length?r("div",{className:ie("o1UrpOpJ",{_24KdfvNG:c})},this.renderAgePickers()):null,r("div",{className:"XKdpCeJ3"},r(ae,{type:"primary",size:"fullwidth",onClick:this.onSubmit},u("com_mc_update")," ")))}},(pe=class extends o{constructor(e){super(e),this.onTogglePriceExplanation=(e=!1)=>{var t={module:"datepicker",action:"click"},{showPriceExplanation:i}=this.state;e!==i&&E(e?Object.assign({},t,{context:"yellow_brick_edu_show"}):Object.assign({},t,{context:"yellow_brick_edu_hide"})),this.setState({showPriceExplanation:e})},this.onDateSelection=(e,t)=>{if(null!=e&&this.setDates(e,t)){var{onPickerClose:i}=this.props;m.isStartDateType(e)?(this.openPicker("CHECKOUT"),E({module:"calendar_in_view",action:"transition"}),null!=i&&i("CHECKIN",!0)):m.isEndDateType(e)&&!x.get("userUpdatedGuestPicker")?(E({module:"RPG_in_view",action:"transition"}),this.openPicker("ROOMSGUESTS"),this.setState({dateChangedAfterLoad:!0}),null!=i&&i("CHECKOUT",!0)):(this.closePicker(!0),this.setState({dateChangedAfterLoad:!0,triggerOmniModal:!0}))}!this.props.isDetailPage&&this.props.fixed&&this.scrollToTop()},this.onGuestSelection=e=>{c(e,this.props.guestInfo)||this.setGuests(e),this.closePicker(!0),x.set("userUpdatedGuestPicker",!0,864e5),this.state.dateChangedAfterLoad&&this.setState({triggerOmniModal:!0})},this.getDatePickerValue=e=>{var t=this.props.dateInfo["CHECKIN"===e?"startDate":"endDate"];return(M("datepicker_ghost_default_dates")||M("datepicker_display_default_dates"))&&t?""+p.formatDate("week_date_short_v2",t):this.props.defaultDates||!t?""+u("em_dash_date_format"):""+p.formatDate("week_date_short_v2",t)},this.getGuestPickerValue=e=>{var{isMobile:t,guestInfo:i}=this.props;if(!i)return"<span>&#8212;</span>";var{rooms:a,adults:s,children:n}=i;return t||e?`<span class="_2epcFTvP ui_icon hotels"></span>\n           <span>${a}</span>\n           <span class="_2epcFTvP ui_icon friends"></span>\n           <span>${s+n.length}</span>`:u("trip_search_traveler_info_text",{sRoomInfoClass:"room-info",nNumRooms:a,sAdultInfoClass:"adult-info",nNumAdults:s,sChildInfoClass:"child-info",nNumChildren:n.length})},this.setDates=(e,t)=>{var{startDate:i,endDate:a}=this.props.dateInfo;return m.isStartDateType(e)?(i=t,a=new g(t).relativeDay(1).date):a=t,!!k.validate(i,a)&&(this.areDatesUpdated(i,a)&&v(i,a,this.props.dateInfo,this.props.defaultDates,this.props.name,!!this.props.isDetailPage),!0)},this.setStayDates=(e,t)=>!!k.validate(e,t)&&(v(e,t,this.props.dateInfo,this.props.defaultDates,this.props.name,!!this.props.isDetailPage),!0),this.setGuests=e=>{N(e)},this.getCalendar=e=>{var{showPriceExplanation:t}=this.state,{startDate:i,endDate:a}=this.props.dateInfo,{geoTimezone:s,isIEorEdge:n}=this.props,o=e?"CHECKIN":"CHECKOUT",l=r(D,{showPriceExplanation:t,onTogglePriceExplanation:this.onTogglePriceExplanation});return r(P,Object.assign({onDayClick:(e,{disabled:t})=>!t&&this.onDateSelection(o,e),setStayDates:this.setStayDates,closePicker:this.closePickerDirectly},new S(i,a,e,k,this.props.isMobile,this.props.firstDayOfWeek,this.heatMap,l,!1,s,n).getCalendarDisplayOptions()))},this.getCheckinCalendar=()=>this.getCalendar(!0),this.getCheckoutCalendar=()=>this.getCalendar(!1),this.getGuestFields=()=>r(ue,{onSelection:this.onGuestSelection,guestInfo:this.props.guestInfo||C,guestValidation:b,onClose:this.closePickerDirectly,fixed:this.props.fixed}),this.getType=e=>e&&this.pickerTypes[e]||{},this.getPickerRefForType=e=>this.getType(e).pickerRef,this.getExcludeGrayoutHeight=e=>{var t,{pageName:i,isMobile:a}=this.props,s=0;return a?(t=e,s=10):t="Hotel_Review"===i?document.querySelector("#atf_header"):document.querySelector("#TRIP_PLANNER"),t?(window.pageYOffset||document.documentElement&&document.documentElement.scrollTop)+t.getBoundingClientRect().bottom+s:0},this.throttledAdRefresh=w(R,5e3,!1),this.pickerTypes={CHECKIN:{trackingModule:"datepicker",inViewPageProperty:"calendar_in_view",openPageAction:"checkin-click",pickerRef:d(),getOverlayContents:this.getCheckinCalendar},CHECKOUT:{trackingModule:"datepicker",inViewPageProperty:"calendar_in_view",openPageAction:"checkout-click",pickerRef:d(),getOverlayContents:this.getCheckoutCalendar},ROOMSGUESTS:{trackingModule:"guestpicker",inViewPageProperty:"RPG_in_view",openPageAction:"rgp-click",pickerRef:d(),getOverlayContents:this.getGuestFields}},this.areDatesUpdated=(e,t)=>this.props.defaultDates||0!==new g(e).compare(new g(this.props.dateInfo.startDate))||0!==new g(t).compare(new g(this.props.dateInfo.endDate)),this.scrollToTop=()=>{var e=document.querySelector("#TRIP_PLANNER"),t=document.querySelector("#PERSISTENT_TRIP_SEARCH_BAR");if(e&&t){var i=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop;i+=e.getBoundingClientRect().bottom-t.getBoundingClientRect().height,window.scrollTo({top:i,behavior:"smooth"})}},this.globalOpener=null,this.shouldRestoreFocus=!1,this.wasAutopopped=!1,this.resizerRef=d(),this.heatMap=null,this.resize=()=>{this.resizerRef&&this.resizerRef.current&&this.resizerRef.current.makeFit()},this.closePicker=e=>{this.shouldRestoreFocus=!1,this.wasAutopopped=!1;var t=this.state.currentPickerType,{isDetailPage:i,geoId:a,onPickerClose:s}=this.props;e&&this.throttledAdRefresh(),null!=t&&null!=s&&s(t,e),this.setState({currentPickerType:null}),V.setDismissed(i),a&&V.setDismissedForGeo(a)},this.closePickerDirectly=()=>this.closePicker(!1),this.openPicker=(e,t)=>{if(this.wasAutopopped=!1,t){t.stopPropagation();var i=0===t.detail,{trackingModule:a,inViewPageProperty:s,openPageAction:n}=this.getType(e);E({module:a,action:i?"enter":"click",context:null!=e?e.toLowerCase():"null"}),E({module:s,action:n}),this.shouldRestoreFocus=i}this.setState({currentPickerType:e}),this.globalOpener&&this.globalOpener()},this.isDimmed=e=>!(!this.state.currentPickerType||this.state.currentPickerType===e),this.isFocused=e=>this.state.currentPickerType===e,this.state={currentPickerType:null,showPriceExplanation:!1,dateChangedAfterLoad:!1,triggerOmniModal:!1}}componentDidMount(){var e,t,{autopop:i,defaultDates:a,isDetailPage:s,geoId:n}=this.props;i&&a&&!(null==(e=window)||null==(t=e.location)?void 0:t.hash)&&(!V.wasDismissed(s)||n&&!V.wasDismissedForGeo(n))&&(E({module:"calendar_in_view",action:"autopop"}),this.openPicker("CHECKIN"),this.wasAutopopped=!0)}componentDidUpdate(e){this.props.dateInfo===e.dateInfo&&this.props.guestInfo===e.guestInfo||this.resize()}renderOverlay(){var{currentPickerType:e}=this.state;if(!this.props.hidden&&e){var{pickerRef:t,getOverlayContents:i}=this.getType(e),a=t&&t.current,s=i&&i();if(a&&s)return r(A,{name:this.props.name},r(le,{target:a,close:this.closePickerDirectly,horizontal:this.props.stacked,isMobile:this.props.isMobile,showClosingX:"ROOMSGUESTS"===e||this.props.isMobile,popAbove:this.props.popAbove,fixed:this.props.fixed,shouldRestoreFocus:this.shouldRestoreFocus,wasAutopopped:this.wasAutopopped,isDetailPage:this.props.isDetailPage},s))}return null}render(){var{children:e,name:t}=this.props;return r(l,null,M("oracle_geo_heatmap")&&!this.heatMap?r(y,null,e=>(this.heatMap=e,null)):null,r(T,{ref:this.resizerRef,className:"_3iDlUHiw",defaultFontSizePx:16,minFontSizePx:8,resizeOnScreenResize:!0},e({getDatePickerValue:this.getDatePickerValue,getGuestPickerValue:this.getGuestPickerValue,isDimmed:this.isDimmed,isFocused:this.isFocused,openPicker:this.openPicker,getPickerRefForType:this.getPickerRefForType,setStayDates:this.setStayDates})),r(F,{name:t},e=>(this.globalOpener=e,null)),this.renderOverlay(),M("t12247_auto_trips_on_h")&&this.state.triggerOmniModal&&r(be,null))}}).defaultProps={name:"trip_search",stacked:!1,isDetailPage:!1,autopop:!1,popAbove:!1},fe=I(h),_e=I(_),Ne=O((e,t)=>{y.stage(e,t);var i=e.travelerInfo.hotels||{};return()=>({geoId:e.page.geoId,dateInfo:fe(i.stayDates),guestInfo:i.guests?_e(i.guests):null,defaultDates:!!i.defaultDates,isMobile:"MOBILE"===e.meta.device.viewportCategory,pageName:e.route.page,firstDayOfWeek:e.i18n.firstDayOfWeek,isIEorEdge:"IE"===e.meta.device.browser.family||"EDGE"===e.meta.device.browser.family})})(pe),e("default",Ne)},[e=>(i=e.default,a=e.useState,s=e.useEffect,n=e.useContext,o=e.Component,r=e.createElement,l=e.Fragment,d=e.createRef),e=>c=e.default,e=>(u=e.localize,p=e.globalize),e=>(h=e.decode,m=e.DateTypeStore,g=e.CalendarDate,k=e.HotelsValidation,v=e.setHotelsPageDates),e=>(f=e.isIntegerInRange,_=e.decode,N=e.setHotelsPageGuests,C=e.DEFAULT_GUEST_INFO,b=e.HotelsValidation),e=>(y=e.HeatMapProvider,D=e.Legend,P=e.CalendarWrapper,S=e.HotelsCalendarOptions),e=>I=e.memoizeLast,e=>T=e.AutoResizer,e=>w=e.default,e=>E=e.default,e=>O=e.bind,e=>R=e.refreshAds,e=>(A=e.Global,F=e.Opener),e=>x=e.default,e=>M=e.featureIsEnabled,e=>V=e.default,e=>(L=e.TravelInfo,H=e.Route,G=e.Visitor),e=>(U=e.useQuery,W=e.useMutation),e=>(z=e.default,K=e.CircularButton,Y=e.BorderlessButton),e=>q=e.useInteractionLogger,e=>B=e.useImpressionLogger,e=>j=e.ModalBase,e=>X=e.default,e=>J=e.default,e=>Q=e.default,e=>Z=e.default,e=>$=e.default,e=>ee=e.default,e=>te=e.default,e=>ie=e.default,e=>ae=e.default,e=>se=e.default,e=>ne=e.Icon,e=>oe=e.Target,e=>re=e.default]]},["cDcdfi","YwNsO_","535agn","qK4vTI","RYK9JE","EaDX1r","kfxuer","miRpRf","gsKhh7","Jk5sjx","RiHMo-","FnrCe6","pT-O8u","jaCyxS","-i3PJS","IuX4Ar","2R4xv2","5X2em-","eFikmI","fsml46","30t50h","xegF5W","hA1RHn","BLrxBS","l6BSGt","_cZwhS","8xs-IB","Dg5_-9","2Ol0i2","jSLlaY","PCbs_l","xmsC7X","_qQcW3","z2XL6d","MHKLZN"]]);
