(this.$WP=this.$WP||[]).push(["mxARhC",(e,t)=>{"use strict";var r,a,n,i,o,d=[0,15,30,60],l=[],s=/^https?:\/\/[a-z\-\.]+\.tripadvisor\.[a-z\-\.]+/,u=()=>document.hidden,m=e=>"brHasSentTimeRecord"+e,g=e=>{for(var t=0;t<e.length;t++)if(!n.get(m(e[t])))return!1;return!0},c=(e,t)=>{var r={};r.brLandingId=n.get("brLandingId"),r[e]=t,i.set("brLandingInfo",r,1)},f=(e,t)=>{if(e&&!g(d))try{var r=e.brLandingId,a=n.get("brLandingId");r&&a&&r===a&&Object.entries(e).filter(e=>2===(null==e?void 0:e.length)&&"brLandingId"!==e[0]).forEach(e=>{n.set(e[0],e[1])})}catch(e){console.error(e)}},v=(e,t,r)=>{var a=setTimeout(()=>{if(!u()){var a=m(e),i=n.get(a),o=n.get("brStartTimeStamp"),d=o?(t+(Date.now()-o))/1e3:t;i||(r({module:"landingBounceRate",action:e+"s",context:`actualTime : ${d}s`}),n.set(a,!0),c(a,!0))}},Math.max(1e3*e-t,0));l.push(a)},b=(e,t,r)=>{if(!u())for(var a=0;a<e.length;a++){var i=e[a];n.get(m(i))||v(i,t,r)}},h=()=>{var e=r(o());a(()=>{var t,r,a=(r=e.current,()=>{document.hidden?(()=>{if(!g(d)){for(var e=0;e<l.length;e++)clearTimeout(l[e]);l=[];var t=n.get("brStartTimeStamp"),r=n.get("brTimeElapsed");if(null!=t&&null!=r){var a=r+(Date.now()-t);n.set("brTimeElapsed",a),c("brTimeElapsed",a)}}})():(e=>{if(!g(d)){n.set("brStartTimeStamp",Date.now());var t=n.get("brTimeElapsed")||0;b(d,t,e)}})(r)});try{if(i.canUseLocalStorage()&&n.canUseSessionStorage()&&void 0!==document.hidden){var o,u,v=(e=>{for(var t=0;t<e.length;t++)if(null===n.get(m(e[t])))return!1;return null!==n.get("brLandingId")&&null!==n.get("brStartTimeStamp")&&null!==n.get("brTimeElapsed")})(d),h=!!document.referrer,p=h&&!s.test(document.referrer),S=!(null==(o=window)||null==(u=o.performance)?void 0:u.navigation)||0===window.performance.navigation.type;if(!h&&S||p||!v)(e=>{n.set("brLandingId",Date.now()+Math.floor(1e3*Math.random()).toString()),n.set("brStartTimeStamp",Date.now()),n.set("brTimeElapsed",0);for(var t=0;t<e.length;t++)n.set(m(e[t]),!1)})(d),b(d,0,e.current);else if(!g(d)){var T=n.get("brTimeElapsed");if(null===T||0===T){var L=n.get("brStartTimeStamp");T=L?Date.now()-L:0}n.set("brStartTimeStamp",Date.now()),b(d,T,e.current)}g(d)||(document.addEventListener("visibilitychange",a),t=i.addListener("brLandingInfo",f))}}catch(e){console.error(e)}return()=>{t&&(document.removeEventListener("visibilitychange",a),t())}},[])},p=()=>(h(),null);return[()=>{e("default",p),e("useBounceRateTracking",h)},[e=>(r=e.useRef,a=e.useEffect),e=>n=e.default,e=>i=e.default,e=>o=e.useGARecorder]]},["cDcdfi","qKFflQ","jaCyxS","fsml46"]]);
