(this.$WP=this.$WP||[]).push(["MG7IEl",(e,t)=>{"use strict";var n,r,a,o,i,l,s,d,u,m,c,p,h,f,g,C,E,v,P,y,b,w,R,k,I,B,_,A,$,x,L,M,W,S,N,O,U,z,T,j,q,D,H,G,J,Q,F,V={},X={},Y={},Z=e=>(C(e.messages),u(e.features),Promise.all([...e.css.map(e=>(e in Y||(Y[e]=A(S.redux.meta.imageCdnUrl+e)),Y[e])),...e.js.map(e=>(e in Y||(Y[e]=$(S.redux.meta.imageCdnUrl+e)),Y[e]))]).then(()=>$WP.getChunkPromise(e.chunkId))),K={},ee=e=>(e in V||(V[e]=fetch("/data/1.0/bundle/dependencies/bundle?name="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":`${z||""}|${U||""}`}}).then(e=>e.json()).then(t=>(K[e]=t.chunkId,t)).then(Z)),V[e]),te=e=>(e in X||(X[e]=fetch("/data/1.0/bundle/dependencies/chunk?id="+encodeURIComponent(e),{credentials:"same-origin",headers:{"x-ta-version":`${z||""}|${U||""}`}}).then(e=>e.json()).then(Z)),X[e]),ne=(e,t)=>n.createElement(d,{store:N},n.createElement(h,{store:N,apolloClient:q,urqlClient:D},e)),re=()=>{var[e,{uid:t}]=n.useContext(M);return W(e,t),L(),null},ae="data-component-init",oe=(e,t,a={})=>{var o=document.getElementById(e);if(null!==o){if(!o.getAttribute(ae)){o.setAttribute(ae,ae);var i=e=>{new l(N,e,a).reload(),r(ne(n.createElement(e,a)),o)};if("string"==typeof t){var s=K[t];$WP.getChunkPromise(s).then(e=>i(e.default))}else i(t)}}else E.error("Unable to find DOM element with id = "+e)},ie=e=>{var t=document.getElementById(e);null!==t&&a(t)},le=(e,t,r={})=>{var a=document.getElementById(e);null!==a?a.getAttribute(ae)||(a.setAttribute(ae,ae),$WP.getChunkPromise(t).then(e=>{new l(N,e.default,r).stage(r),o(ne(n.createElement(e.default,r)),a)})):E.error("Unable to find DOM element with id = "+e)},se=(e,t)=>{var r=n.createElement(h,{store:N,apolloClient:q,urqlClient:D},e);return t&&(r=n.createElement(d,{store:N},r)),r};return[()=>{n.PureComponent,({pageManifest:S}=__WEB_CONTEXT__),P("Components Initialization"),P("Components Bundle Load"),S.bundles.forEach(e=>{X[e]=$WP.getChunkPromise(e)}),Promise.all(Object.values(X)).then(()=>{y("Components Bundle Load")}),S.assets.forEach(e=>{Y[e]=Promise.resolve(!0)}),C(S.messages),u(S.features),N=R(S.redux),({csrfToken:O}=N.getState().auth),({vcsRevision:U,vcsBranch:z,uid:T}=N.getState().tracking),j=new c,S.apolloCache&&j.restore(S.apolloCache),q=p(j,O),D=g({securityToken:O,ssrData:S.urqlCache,initialPvid:T}),window.__APOLLO_CLIENT__=q,$WP.installResolver(te),H=n.createElement(d,{store:N},n.createElement(i,{store:N},n.createElement(b,null,n.createElement(w,null),n.createElement(re,null),n.createElement(x,{installer:v,fallbackPageName:S.redux.route.page,project:"tripadvisor-web-app"}),n.createElement(s,null)))),G=m("hydrate_while_loading"),P("Loadables"),J=Promise.all(S.lazyLoadedModules.filter(e=>!!e).map(e=>$WP.getChunkEmptyPromise(e))).finally(()=>{y("Loadables");var{body:e}=document,t=document.createElement("div");t.id="singletonRoot",e&&(e.appendChild(t),r(ne(H),t)),P("Hydration"),G&&N.dispatch(k());var a=[];return S.hydrations.forEach(e=>{var t=document.getElementById(e.id);null===t||t.getAttribute(ae)||(t.setAttribute(ae,ae),a.push(()=>new Promise(r=>{$WP.getChunkPromise(e.package).then(a=>{e.package,e.id,new l(N,a.default,e.props).stage(e.props),o(ne(n.createElement(a.default,e.props)),t,()=>{r()})})})))}),G?Promise.all(a.map(e=>{var t=e();return t?t.then(null,()=>null):t})):a.reduce((e,t)=>e.finally(t),Promise.resolve([]))}).finally(()=>{y("Hydration"),G&&N.dispatch(I()),B(),P("Render");var e=[];S.renders.forEach(t=>{var a=document.getElementById(t.id);null===a||a.getAttribute(ae)||(a.setAttribute(ae,ae),e.push(new Promise(e=>{$WP.getChunkPromise(t.package).then(o=>{new l(N,o.default,t.props).reload(),t.package,t.id,r(ne(n.createElement(o.default,t.props)),a,()=>{e()})})})))}),Promise.all(e).finally(()=>{if(y("Render"),y("Components Initialization"),m("prod_runtime_tracking")&&"undefined"!=typeof window&&window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName("components-Components Initialization-end","mark");if(e&&e.length>0){var t=e[0].startTime;null!==t&&_({module:"runtime",action:"initialization_complete",context:Number(t).toString()})}}})}),Q=S.hydrations.concat(S.renders).concat(S.strictModeRoots).reduce((e,t)=>(e[t.id]=t.props,e),{}),F=f,define("@ta/platform.runtime",[],()=>({pageManifestComponents:Q,wrapSubrootElement:se,hydrateRoot:le,destroyRoot:ie,createRoot:oe,default:J,restoreGraphQLResults:F,importBundle:ee})),e("default",J),e({createRoot:oe,destroyRoot:ie,hydrateRoot:le,importBundle:ee,pageManifestComponents:Q,wrapSubrootElement:se})},[e=>n=e.default,e=>(r=e.render,a=e.unmountComponentAtNode,o=e.hydrate),e=>i=e.Provider,e=>l=e.ApiMonitor,e=>s=e.ConsentProvider,e=>d=e.ErrorBoundary,e=>(u=e.loadFeatures,m=e.featureIsEnabled),e=>(c=e.DummyCache,p=e.buildClient,h=e.Root,f=e.restoreGraphQLResults),e=>g=e.buildUrqlClient,e=>C=e.loadMessages,e=>(E=e.default,v=e.defineSentry),e=>(P=e.start,y=e.end),e=>(b=e.Router,w=e.History),e=>(R=e.initializeStore,k=e.pauseRequestAction,I=e.resumeRequestAction,B=e.storeResizeHandler),e=>_=e.default,e=>(A=e.importCss,$=e.importScript),e=>x=e.Sentry,e=>L=e.useSubmitInteractionBufferEffect,e=>M=e.Route,e=>W=e.usePageViewLogging]]},["cDcdfi","faye7n","h74DsO","RiHMo-","lMO0v3","nIW_Rw","-i3PJS","6hYgtn","OnmvvE","535agn","4LU1Ax","B7vHz6","N4pTU2","aunxON","Jk5sjx","pLbCP4","UhC_bI","fsml46","2R4xv2","xZoNdB"]]);
