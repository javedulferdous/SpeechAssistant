(this.$WP=this.$WP||[]).push(["j2bGQY",(e,a)=>{"use strict";var t,n,l,i,r,s,o,c,m,_,g,d,u,E,p,f,v,h,w,S,b,N,P,k,O,x,I,z,F,C,R,B,V,y,q,T,G,j,A,M,W,D,L=e=>{var a,{theme:t}=e;switch(t){case"green":a="/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg";break;case"cream":a="/img2/brand_refresh/Tripadvisor_logoset_solid_cream.svg"}return n(x,{className:"_1FOwYNio",src:a,alt:""})},Q=e=>{var{locale:a}=t.useContext(z),n="ja-JP"===a.code;return t.createElement(R,{variant:"secondary",size:e.size,onClick:e.onClick,fullWidth:!0},t.createElement(F,{id:"memx_mw_gating_cta"})," ",t.createElement("div",{className:I({_3szcE9fH:"small"===e.fontSize},{_1LoPtfI1:"medium"===e.fontSize},{_3LRl7r1P:"large"===e.fontSize})},t.createElement(x,{src:e.allBlack?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:I({UpgqBpFQ:"small"===e.fontSize},{_2ww4Qf_v:"medium"===e.fontSize},{_1C_1kEFr:"large"===e.fontSize})}),t.createElement(x,{src:e.allBlack?"/img2/facebook/FacebookF/blackSquareWhiteF.svg":"/img2/facebook/FacebookF/icon-fb-white-f.svg",className:I({UpgqBpFQ:"small"===e.fontSize},{_2ww4Qf_v:"medium"===e.fontSize},{_1C_1kEFr:"large"===e.fontSize})}),n&&t.createElement(x,{src:"/img2/line/line_color_20.png",className:I({UpgqBpFQ:"small"===e.fontSize},{_2ww4Qf_v:"medium"===e.fontSize},{_1C_1kEFr:"large"===e.fontSize})}),t.createElement("div",{className:I({_1mSRECAI:"small"===e.fontSize},{_1mq5rErz:"medium"===e.fontSize},{_21Pjwjxh:"large"===e.fontSize})},t.createElement(C,{name:"email"}))))},U=e=>{var a=e.downloadOption?t.createElement(B,{size:"large",mcid:e.mcid,onClick:e.onDownload,fontSize:"medium",blackBorder:!0}):null,n=e.signInOption?t.createElement(Q,{size:"large",onClick:e.onSignIn,allBlack:!0,fontSize:"medium"}):null,[l,i]=e.downloadButtonFirst?[a,n]:[n,a];return t.createElement("div",{className:"C8MzKCy3"},l,t.createElement("div",{className:"_1bzQjlUd"}),i)},H=e=>{var{name:a,isControl:n,topSnippet:i,headline:r,secondary:c,totalViews:m,onSignIn:_,servlet:g,downloadOption:d,mcid:u,signInOption:E,downloadButtonFirst:p,signInButtonMessage:f,showBehindRegDialog:v}=e,h={servlet:g,name:a,totalViews:m},w=o(Object.assign({fn:_,action:"hard_gate_sign_in_click"},h)),S=o(Object.assign({action:s("mw_hard_gate_ghost")||s("ml_hard_gate_no_reqlo")?"hard_gate_mounted_ghost":"hard_gate_mounted"},h)),b=o(Object.assign({action:"hard_gate_download_click"},h));return l(S,[S]),n?null:t.createElement(t.Fragment,null,t.createElement(V,{name:a}),t.createElement(y,{isFullBleed:!0,closeX:!1,fullscreenAlways:!0,name:a},t.createElement(x,{src:"/img2/memx/reqlo/topRightVector.svg",className:"feIqUJPZ"}),t.createElement(x,{src:"/img2/memx/reqlo/bottomLeftVector.svg",className:"_2_9jygOt"}),t.createElement("div",{className:"kmVnnxSp"},i&&t.createElement("div",{className:"_1ZKyskdU",onClick:w},t.createElement(q,{name:"lock",className:"_1VeX2IcI"}),k(i)),t.createElement("div",{className:I("_3mlSjnMK",{_2BiFHPqW:v})},t.createElement("div",{className:"_1TFQbtZX"},t.createElement("span",{className:"_12RzPxFx"},t.createElement(L,{theme:"green"}))),t.createElement("div",{className:I("_3SUJiX9G")},t.createElement("h1",{className:I("_22BA1jSn")},r),c&&t.createElement("div",{className:I("_1_je-rLq")},k(c[0]))),t.createElement(U,{mcid:u,onSignIn:w,onDownload:b,downloadOption:d,signInOption:E,downloadButtonFirst:p,signInButtonMessage:f,showBehindRegDialog:v})))))},K=e=>{var{name:a,isControl:n,headline:i,secondary:r,totalViews:s,onSignIn:c,servlet:m,explicitPreferencesEnabled:_,openExplicitPreferences:g,trackWouldOpenExplicitPreferences:d}=e,u={servlet:m,name:a,totalViews:s},E=o(Object.assign({fn:c,action:"got_hard_gate_sign_in_click"},u)),p=o(Object.assign({action:"got_hard_gate_mounted"+(n?"_ghost":"")},u)),f=o(Object.assign({action:"got_hard_gate_google_onetap_dismissed"},u));return l(p,[p]),n?null:t.createElement(t.Fragment,null,t.createElement(M,{onDismiss:f,triggerNext:()=>{},servletName:m,explicitPreferencesEnabled:_,openExplicitPreferences:g,trackWouldOpenExplicitPreferences:d,enhancedGoogleOneTapGate:!0}),t.createElement(V,{name:a}),t.createElement(y,{isFullBleed:!0,closeX:!1,fullscreenAlways:!0,name:a},t.createElement(x,{src:"/img2/memx/reqlo/topLeftVector.svg",className:"_8KoK3saX"}),t.createElement(x,{src:"/img2/memx/reqlo/topRightVectorPink.svg",className:"_2wr6vuST"}),t.createElement("div",{className:"_3s-VhMm9"},t.createElement("div",{className:"_3eqeZ4yE"},t.createElement("div",{className:"rn2ZH8a_"},t.createElement("span",{className:"_6eum9l2_"},t.createElement(L,{theme:"green"}))),t.createElement("div",{className:"Zq3kf0Zz"},t.createElement("h1",{className:"_1caPlOxY"},i),r&&t.createElement("ul",{className:"_2miR5zUr"},r.map(e=>t.createElement("li",{key:e,className:"_3saGx4Jk"},e)))),t.createElement("div",{className:"_2u1OTW5Q"},t.createElement(Q,{size:"large",onClick:E,allBlack:!0,fontSize:"medium"}))))))},Y=()=>s("enhanced_gate_google_one_tap_2pv_mw")&&G(),Z=e=>{var{servlet:a,explicitPreferencesEnabled:n,openExplicitPreferences:l,trackWouldOpenExplicitPreferences:r}=e,[o,g]=(e=>Y()?[O("mobile_gate_signin_for_best_tripadvisor"),[O("mobile_gate_see_reviews_travelers_like_you"),O("mobile_gate_save_trip_on_a_map"),O("mobile_gate_get_hotel_flight_alerts")]]:j.includes(e)?[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_attraction_values")]]:A.includes(e)?[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_restaurant_values")]]:[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_generic_value")]])(a),d=i(()=>{(n||s("account_screen_onb_reqlo"))&&r&&r()},[n,r]),u=()=>{window.require(["ta/registration/RegOverlay"],e=>{e.showRegOverlay(null,null,!0,{flow:"CORE_COMBINED",pid:Y()?40671:40620,userRequestedForce:"true",extraQueryParams:{flowOrigin:"join"},onSuccess:e=>{(e=>{e.hasCreatedMember&&d(),e.hasCreatedMember&&n&&l&&l()})(e)}})})};return c(W,!0),Y()?t.createElement(K,{name:m,isControl:W,headline:o,secondary:g,totalViews:_,onSignIn:u,explicitPreferencesEnabled:n,openExplicitPreferences:l,trackWouldOpenExplicitPreferences:d,servlet:a}):t.createElement(H,{name:m,isControl:W,headline:o,secondary:g,totalViews:_,onSignIn:u,mcid:65389,downloadButtonFirst:!0,downloadOption:!0,signInOption:!0,servlet:a})},X=e=>{var a=g(e),t=d(e.meta.initialServletName,a);return u().length>=_-1&&!t},J=e=>{var{mlShouldGate:a,mlScore:n,hasNullInsightProfile:i,servlet:o,pageIdentifier:c}=e,[m,g]=r(!0),S=P(),{open:k,isEnabled:O}=b("PROFILE_ONLY"),{trackWouldOpenExplicitPreferences:x}=N("ONBOARDING","REQLO");return l(()=>{s("search_engine_referrer")&&(w.remove(f),w.remove(v));var e=E(a,n,d(o,c),i,o,S),t=((e,a,t)=>{var n=u().length,l=d(a,t),i=e&&!l?n+1:n;return!l&&i<_&&p(a,t),i})(e,o,c);g(t<_||!e||d(o,c))},[a,n,o,c,i,S]),m?null:t.createElement(h,null,()=>t.createElement(Z,{explicitPreferencesEnabled:O,openExplicitPreferences:k,trackWouldOpenExplicitPreferences:x,servlet:o}))};return[()=>{Q.defaultProps={size:"large",fontSize:"large",lightBorder:!1},H.defaultProps={isControl:!1,headline:O("mobile_gate_signin_keep_planning"),secondary:[O("mobile_gate_see_reviews_travelers_like_you")],totalViews:2,downloadOption:!1,signInOption:!0,downloadButtonFirst:!1,signInButtonMessage:O("mem_sign_in_now"),showBehindRegDialog:!1,topSnippet:null},M=T.onUsage(()=>a("454gno"),"default"),W=s("mw_hard_gate_ghost")||s("ml_hard_gate_no_reqlo"),J.defaultProps={mlShouldGate:!0,hasNullInsightProfile:!1},D=S((e,a)=>(h.stage(e,a),()=>({servlet:e.meta.initialServletName,pageIdentifier:g(e)})))(J),e("default",D),e("pageCountTriggerReached",X)},[e=>(t=e.default,n=e.createElement,l=e.useEffect,i=e.useCallback,r=e.useState),e=>s=e.featureIsEnabled,e=>(o=e.useTrackAndDelegateCallback,c=e.useHardGateViewRecord,m=e.MODAL_NAME,_=e.PAGE_COUNT_TRIGGER,g=e.findPageIdentifier,d=e.pageHasBeenViewed,u=e.getPagesViewed,E=e.gatingEligibility,p=e.addPageToViewed,f=e.ML_PAGE_VIEWED_KEY,v=e.PREVIOUSLY_VIEWED_PAGES_KEY),e=>h=e.default,e=>w=e.default,e=>S=e.bind,e=>b=e.useExplicitPreferencesModal,e=>N=e.default,e=>P=e.useGARecorder,e=>(k=e.unescaped,O=e.localize),e=>x=e.CdnImage,e=>I=e.default,e=>z=e.Environment,e=>F=e.default,e=>C=e.default,e=>R=e.default,e=>B=e.default,e=>V=e.AutoOpener,e=>y=e.Modal,e=>q=e.Icon,e=>T=e.component,e=>(G=e.isEligibleForOneTap,j=e.ATTRACTIONS_SERVLETS,A=e.RESTAURANTS_SERVLETS)]]},["cDcdfi","-i3PJS","wU942v","F2AZ3p","jaCyxS","RiHMo-","R7DQr_","2NwMnm","fsml46","535agn","4kVXmt","jSLlaY","2R4xv2","0DsHEV","OMqGt0","eFikmI","6pmvzh","pT-O8u","HKQFPT","_qQcW3","pLbCP4","MWFqPp"]]);
