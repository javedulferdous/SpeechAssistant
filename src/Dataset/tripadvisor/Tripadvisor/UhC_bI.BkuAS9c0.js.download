(this.$WP=this.$WP||[]).push(["UhC_bI",(e,t)=>{"use strict";var r,a,n,i,s,o,c,l=(e,t)=>{e.withScope(r=>{Object.entries(t.tags).forEach(([e,t])=>{r.setTag(e,t)}),t.extraData&&Object.entries(t.extraData).forEach(([e,t])=>{r.setExtra(e,t)}),e.captureException(t.error)})},u=!1,g=10,_=null,d=({serverName:e,drsInfo:r},a,{version:n,domainName:i},s="tripadvisor-web-app")=>Promise.all([t("xJD91H"),t("a3FWKi")]).then(([t,o])=>{if(!u){u=!0;var c={dsn:`https://sentry@${i}/SentryProxy`,release:n,environment:"www.tripadvisor.com"===e||"www.tripadvisor.cn"===e?"live":"hare.tripadvisor.com"===e?"hare":"webml.dev.tripadvisor.com"===e?"webml":"dev",includePaths:["rutabaga_cyclone"],integrations:[new o.CaptureConsole({levels:["error"]})],beforeSend:e=>(g===Math.ceil(5)&&null===_&&(_=setTimeout(()=>{g=10,_=null},6e4)),0===g?null:(g--,e&&e.exception&&e.exception.values&&e.exception.values.forEach(e=>{e&&e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.forEach(e=>{e&&e.filename&&e.filename.includes("t1.tacdn.com")&&(e.filename=e.filename.replace(/session_id(.*)(?=&)/,"session_id=STRIPPED_BY_SENTRY"))})}),e))};t.init(c),t.configureScope(t=>{t.setTag("hostName",i),t.setTag("runMode","production"),t.setTag("serverName",e),t.setTag("logger","jsDefault"),t.setExtra("drsInfo",r),t.setExtra("sentryProject",s)}),"undefined"!=typeof __PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__.forEach(e=>{l(t,{error:1===e.length&&"object"==typeof e[0]?e[0]:new Error(e.join(" ")),tags:{logger:"commonLogging"}})}),__PRE_SENTRY_ERRORS__=null}return t.configureScope(e=>{e.setTag("page",a)}),t}),p=({installer:e,fallbackPageName:t,project:l="tripadvisor-web-app"}={})=>{var u=e||d,g=s(r),[_]=s(a),p=s(n),m=o({status:"uninitialized"});c(()=>{"uninitialized"===m.current.status?m.current={status:"initializing",done:new Promise(e=>{i(()=>requestIdleCallback(()=>{u(g,_.page||t,p,l).then(()=>{e(),m.current={status:"initialized"}})}))})}:"initializing"===m.current.status?m.current={status:"initializing",done:m.current.done.then(()=>u(g,_.page,p,l))}:u(g,_.page,p,l)},[g,_,p,u,t,l])},m=e=>(p(e),null);return[()=>{e({LOGGER_COMMON_LOGGING:"commonLogging",Sentry:m,installSentry:d,sendSentryRequest:l,useSentry:p})},[e=>(r=e.Debug,a=e.Route,n=e.Environment),e=>i=e.requestTTICallback,e=>(s=e.useContext,o=e.useRef,c=e.useEffect)]]},["2R4xv2","6NeHQy","cDcdfi"]]);
