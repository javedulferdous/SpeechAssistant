(this.$WP=this.$WP||[]).push(["zPgUM0",(e,t)=>{"use strict";var s,i,o,a,n,r,l,c,d,h,u,p,v,m,g,y,I,S,f,T,k,C,N,R,_,O,x,F,b,E,A,M,w,P,L,D,j,G,V,B,H,z,Y,U,K,J,Q,W,q,$=(e,t,s,i)=>{var o=[t,s].filter(e=>!!e).join(", ");return"full_address"===e?i?`${i}, ${o}`:o:"parent_geos"===e?o:""},X={geo:"GEO",nbrhd:"NEIGHBORHOOD",attr:"ATTRACTION",hotel:"ACCOMMODATION",eat:"EATERY",air:"AIRPORT",vr:"VACATION_RENTAL",al:"AIRLINE",ship:"SHIP",cruise_line:"CRUISE_LINE",car:"CAR_RENTAL_OFFICE",act:"ATTRACTION_PRODUCT",uni:"UNIVERSITY",shop:"SHOPPING",general_hospital:"GENERAL_HOSPITAL",port:"PORT",ferry:"FERRY",corp:"CORPORATION"},Z=({fetchers:e,context:t,children:s,onResultsChange:l,filters:c,runOnInit:d=!1})=>{var[u,p]=i(Object.freeze({})),[v,m]=i(""),g=o(),y=o(l);a(()=>{y.current=l},[l]);var I=o([]),[S,f,T]=n(()=>{var t=e.filter(e=>"typeaheadjson"===e.id),s=[],i="",o=8;if(t.length){var a,n=null==(a=t[0])?void 0:a.props;n&&(n.types&&n.types.forEach(e=>{e in X&&s.push(X[e])}),i=n.source,o=n.max)}if(s.length===I.current.length){for(var r=0;r<s.length;r++)if(s[r]!==I.current[r]){I.current=s;break}}else I.current=s;return[i,o,I.current]},[e]),k=n(()=>{var t=e.filter(e=>"typeaheadjson"===e.id);if(t.length){var s,i=null==(s=t[0])?void 0:s.props;return i&&i.parentids?i.parentids[0]:1}return 1},[e]),C=n(()=>({geoId:k}),[k]),{results:N}=h(v,S,C,"LocationTypeahead",f,T),R=n(()=>N.results.map(e=>{var{title:t,subtitle:s,searchText:i,url:o,locationId:a,trackingPlaceType:n}=e,r="string"==typeof t&&"string"==typeof s?$("full_address",t,s||""):"";return{type:n||"",value:(a||"").toString(),url:o,name:r,details:{name:i,parent_name:"string"==typeof s?s:null}}}),[N]),_=r(()=>{var t={};e.forEach(e=>{var s="typeaheadjson"===e.id?R:e.getResults();t[e.id]=s?s.filter(e=>e&&(c||[]).every(t=>t(e))):s}),p(t)},[e,c,R]),O=o(e),x=o(_);a(()=>{x.current=_,O.current=e}),a(()=>{x.current()},[R]),a(()=>{y.current&&y.current(u)},[u]);var F=r(s=>{e.forEach(e=>{"typeaheadjson"===e.id&&""!==s?(m(s),_()):e.fetch(s,t,_)})},[e,t,_]);return a(()=>{d&&F("")},[]),a(()=>{g.current?O.current.forEach(e=>{var s=e;s.onContextChange&&"function"==typeof s.onContextChange&&s.onContextChange(t,x.current)}):g.current=!0},[t]),s?s(u,F):null},ee="geonavi",te="recentlyviewed",se=["act","air","al","ship","cruise_line","car","attr","eat","geo","hotel","nbrhd"],ie="typeaheadjson",oe={reversedSubtitle:"_100D6lCr",subtitle:"_3MnpP2mo",result:"_2JDAtFT1",rescue:"_18cQT_kz",rescueResult:"_3ZPkkCSH",active:"_1zaVYQrH",noPadding:"_2k2RVcvR",narrow:"fcyVtQIk",leftIcon:"_1PAM4ftA",resultTitle:"_1G-zBSBH",rightIcon:"XxFmfH2y",verified:"_1h-y5ebl"},ae=e=>{var t=[oe.result];e.active&&t.push(oe.active),e.paddingStyle&&t.push(oe[e.paddingStyle]),e.isRescue&&t.push(oe.rescue);var s=e.subtitle?c("span",{className:e.reverseSubtitle?oe.reversedSubtitle:oe.subtitle},e.subtitle):void 0,i=e.iconName?c("span",{className:oe.leftIcon},c(R,{name:e.iconName,size:18})):void 0,o=e.chevronName?c("span",{className:oe.rightIcon},c(R,{name:e.chevronName,size:16})):void 0,a=e.verifiedIcon?c("span",{className:oe.verified}):void 0;return c("div",{className:t.join(" ")},i,c("span",{className:N(oe.resultTitle,{[oe.rescueResult]:e.isRescue})},e.reverseSubtitle&&s,e.title,a,!e.reverseSubtitle&&s),o)},ne=e=>{switch(e){case"HOTEL":return"hotels";case"EATERY":return"restaurants";case"ATTRACTION":return"attractions";case"UNIVERSITY":return"classes-workshops";case"TRAIN_STATION":return"train";case"AIRPORT":return"flights";case"THEME_PARK":return"amusement-parks";case"ACTIVITY":return"activities";case"SHOPPING":return"shopping-bag";case"PORT":return"ports";case"GENERAL_HOSPITAL":return"hospital";case"FERRY":return"cruises";case"CORPORATION":return"office";case"BRAND":return null;case"NEIGHBORHOOD":return"neighborhoods-fill";case"AIRLINE":return"flights";case"SHIP":return"cruises";case"CAR_RENTAL_OFFICE":return"parking";case"GEO":default:return"map-pin-fill"}},re=e=>ne(e)||"",le=e=>{var{localize:t}=F(),s=t.string("mx_nearby");return c(_,{onSelection:t=>{var s="click"===t.type?"click":"enter",{tracker:i,resultIndex:o}=e,a={resultIndex:o,type:"NEARBY",value:1};i.trackSelection(a,s),e.onSelection&&e.onSelection(t,{type:"nearby"})},onMouseMove:e.onMouseMove,active:e.active},c(ae,{title:s,iconName:"nearby",active:e.active}))},ce=e=>{var{localize:t}=F(),s=t.string("dual_search_worldwide");return c(_,{onSelection:t=>{var s="click"===t.type?"click":"enter",{tracker:i,resultIndex:o}=e,a={resultIndex:o,type:"ALL",value:1};i.trackSelection(a,s),e.onSelection&&e.onSelection(t,{type:"worldwide"})},onMouseMove:e.onMouseMove,active:e.active},c(ae,{title:s,iconName:"globe-world",active:e.active}))},de=()=>c(_,null,c(b,null,c("div",{className:"RUe_gRTX"},c(ae,{title:"Loading",iconName:"globe-world",subtitle:"Loading",active:!0})))),he=e=>{var{localize:t}=F(),s=t.string("mobile_no_results_found_8e0");return c("div",{className:N("_2q6Wgs-y",{"_3o7_-1EJ":e.small})},s)},ue={geos:"GEO",neighborhoods:"NEIGHBORHOOD",attractions:"ATTRACTION",hotels:"HOTEL",vr:"VACATION_RENTAL",restaurants:"EATERY",airports:"AIRPORT",airlines:"AIRLINE",cruise_lines:"CRUISE_LINE",attraction_products:"ACTIVITY"},pe=({title:e})=>c("div",{className:"oeBh6ld3"},e),ve=e=>{ve.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0};var{localize:t}=F(),s=t.string("typeAheadSearchFor_fffff81b",{0:e.result.query});return c(_,{onSelection:t=>{var s="click"===t.type?"click":"enter",{tracker:i,onSelection:o,result:a,resultIndex:n}=e,r=Object.assign({resultIndex:n},a);i.trackSelection(r,s),o&&o(t,{type:"rescue",value:a.url})},onMouseMove:e.onMouseMove,active:e.active},c(ae,{title:s,active:e.active,iconName:"search",isRescue:!0}))},me=e=>{var{localize:t}=F();return c(J,Object.assign({},e,{localize:t}))},ge=({selectedLocations:e,onClose:t})=>{var[{data:s}]=M({query:q,variables:{locationIds:Array.from(e.keys()).map(e=>parseInt(e,10))},requestPolicy:"cache-and-network"});return s&&s.locations&&s.locations[0]?c(d,null,s.locations.map(e=>(e=>{var s,i,o,a,n,r;switch(i="CITY"===(null==e?void 0:e.placeType)?null==e||null==(o=e.additionalNames)?void 0:o.longOnlyParent:null==e||null==(a=e.parent)||null==(n=a.additionalNames)?void 0:n.long,null==e?void 0:e.placeType){case"ACCOMMODATION":r="hotels";break;case"ATTRACTION":r="attractions";break;case"ACTIVITY":r="activities";break;case"EATERY":r="restaurants";break;case"CITY":r="globe-world";break;default:r=""}return c("div",{key:"poi_tag_"+(null==e?void 0:e.locationId),className:"_2x1NJ1sb _5SXzci5A"},c("div",{className:"_1MmCbYix"},(null==e?void 0:e.thumbnail)?c(w,{sources:null==e||null==(s=e.thumbnail)?void 0:s.photoSizes,width:"60px",height:"60px",notLazy:!1,borderRadius:"2px"}):c("div",{style:{width:"60px",height:"60px"}},c("div",{className:"JzhUqdoI"},c("span",{className:"_1ofLWrRb"},r?c(R,{name:r,size:60,color:"onDarkIcon"}):null)))),c("div",{className:"_2Qj5Cm5r"},c("div",{className:"_248F68TC"},c("div",{className:"_2CGgzESG"},null==e?void 0:e.name),c("div",{className:"_381b3sbE"},i))),t&&(null==e?void 0:e.locationId)?c("button",{className:"_3Rh25yl7",onClick:()=>{(null==e?void 0:e.locationId)&&t(e.locationId.toString())}},c(R,{name:"times"})):null)})(e))):null},ye=e=>{var t,s,[o,a]=i(""),[n,l]=i(!1),[d,h]=i(!1),[u,p]=i(!1),v=new D("",""),m=r((i,o)=>{if(p(!0),o&&"location_id"===o.type&&o.value){var n=String(o.value),r=new Map(e.selectedLocations);if(!r.has(n)){if(r.set(n,o),e.maxLocations>0&&r.size>e.maxLocations){var l=Array.from(r.keys())[0];r.delete(l)}e.selectionChanged(r)}a(""),s("   "),t&&t.focus()}},[e,t,s]),g=r(t=>{var s=t&&t.typeaheadjson&&t.typeaheadjson.length>0;s&&!d?(e.hasResultsChanged&&e.hasResultsChanged(!0),h(!0)):!s&&d&&(e.hasResultsChanged&&e.hasResultsChanged(!1),h(!1))},[e,d]),y=r(t=>{var s=new Map(e.selectedLocations);s.delete(t),e.selectionChanged(s)},[e]),I=new H({interleaved:!0,types:se,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8,scoreThreshold:.8}),{localize:S}=F();return c(Z,{fetchers:[I],onResultsChange:g},(i,r)=>(s=r,c("div",{className:"_11BSgfg5 "+(e.className?e.className:"")},c("div",{className:"_3x9To0Fn "+(n?"_2PdaRWGS":""),onClick:()=>t&&t.focus()},c("span",{className:"_3w2hINtg"},c(R,{name:"search"})),c(P,{inputComponentType:E,inputComponentClassName:"jPzIPtZX",value:o,onChange:e=>{p(!1),a(e)},onQueryChange:e=>{s(e)},onFocus:t=>{l(!0),e.onFocus&&e.onFocus(t)},onBlur:t=>{l(!1),e.onBlur&&e.onBlur(t)},searchDelay:50,placeholder:0===e.selectedLocations.size||e.selectedLocations.size===e.maxLocations?S.string("post_video_typeahead_placeholder_text_search"):S.string("post_video_location_typeahead_add_location"),onRef:e=>{t=e}})),i&&i.typeaheadjson&&i.typeaheadjson.length>0&&!u?c("div",{className:"_3Q3DVkWr"},c(x,null,i&&i.typeaheadjson?i.typeaheadjson.map(e=>(t,s)=>c(K,{result:e,tracker:v,onMouseMove:s,onSelection:m,active:t,key:"result="+e.value,includeIcon:!0})):[])):null,e.showLocationsAsPoiObjects?c(ge,{selectedLocations:e.selectedLocations,onClose:y}):Array.from(e.selectedLocations.entries()).map(([e,t])=>c("div",{className:N("_3c3idaal","_2nw7u-n5"),key:e,onClick:()=>y(e)},t.displayValue)))))},Ie=e=>{var[t,s]=i(e.selectedLocation.displayValue||""),o=new H({interleaved:!0,types:["geo"],filter:"cities"===e.mode?["nobroad"]:void 0,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:e.max}),{localize:a}=F(),n=[o];return e.includeWorld&&n.unshift(new W(a.string("dual_search_worldwide"))),c(me,{fetchers:n,className:e.className,typeaheadTextInputValue:t,selectionChanged:t=>{e.selectionChanged(t),s(t.displayValue||"")},textInputChanged:t=>{e.textInputChanged&&e.textInputChanged(t),""===t&&e.selectionCleared&&e.selectionCleared(),s(t)},inputId:e.inputId,iconType:e.iconType,placeHolder:e.placeholder,onFocus:e.onFocus,onBlur:e.onBlur,closeDropdownOnClickOutside:e.closeDropdownOnClickOutside,resultsAbove:e.resultsAbove},(e,t,s)=>c(x,null,[...e.worldwide||[],...e.typeaheadjson||[]].map(e=>(i,o)=>c(K,{result:e,tracker:t,onMouseMove:o,onSelection:s,active:i,key:"result="+e.value,includeIcon:!0}))))};return[()=>{e("TypeaheadTextInput",P=class extends l{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(t),(!e||e.keyCode!==u)&&this.currentQuery!==t){if(e)switch(e.keyCode){case k:case T:case f:case S:case I:case y:case g:case m:case v:case p:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout(()=>{this.props.onQueryChange&&this.props.onQueryChange(t)},this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,type:this.props.type,className:this.props.inputComponentClassName,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,placeholder:this.props.placeholder,onChange:this.onChange,onKeyUp:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onSelect:this.props.onSelect,onFocus:this.props.onFocus,onBlur:this.props.onBlur,focusOnMount:this.props.focusOnMount,focusOnUpdate:this.props.focusOnUpdate,onRef:this.props.onRef,hideAutoComplete:this.props.hideAutoComplete,autoCompleteIdentifier:this.props.autoCompleteIdentifier,disabled:this.props.disabled};return c(this.props.inputComponentType,e)}}),P.defaultProps={name:void 0,value:void 0,type:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,hideAutoComplete:!1,autoCompleteIdentifier:void 0,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0,onSelect:void 0,disabled:!1},e("TypeaheadTextArea",L=class extends l{constructor(...e){super(...e),this.onChange=(e,t)=>{if(this.props.onChange&&this.props.onChange(e,t),(!e||e.keyCode!==u)&&this.currentQuery!==t){if(e)switch(e.keyCode){case k:case T:case f:case S:case I:case y:case g:case m:case v:case p:return}this.updateSearchTimeout&&clearTimeout(this.updateSearchTimeout),this.currentQuery=t,this.updateSearchTimeout=setTimeout(()=>{this.props.onQueryChange&&this.props.onQueryChange(t)},this.props.searchDelay)}},this.updateSearchTimeout=void 0,this.currentQuery=void 0}render(){var e={id:this.props.id,name:this.props.name,value:this.props.value,className:this.props.inputComponentClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,disabled:this.props.disabled,focusOnMount:this.props.focusOnMount,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:this.onChange,onKeyUp:this.onChange,onKeyDown:this.onChange,onCompositionEnd:this.onChange,onInteractionStart:this.props.onInteractionStart,onRef:this.props.onRef,maxLength:this.props.maxLength,autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete};return c(this.props.inputComponentType,e)}}),L.defaultProps={name:void 0,value:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,searchDelay:250,onQueryChange:void 0,onInteractionStart:void 0,onFocus:void 0,onBlur:void 0,onRef:void 0},e("TypeaheadTracking",D=class{constructor(e,t){this.interactionStart=void 0,this.uiOrigin=void 0,this.searchSessionId=void 0,this.setInteractionStart=e=>{this.interactionStart=e},this.createTrackingData=({eventType:e,userInteractionType:t,selectedItem:s})=>{var i=s&&s.query,o=s&&s.value,a=s&&s.url,n=s&&s.resultIndex,r=s&&s.type,l=s&&s.data_type,c=s&&s.totalCount,d=s&&s.document_id,h={action:"RECORD",eventType:e,uiOrigin:this.uiOrigin,type:r,value:o,source:this.uiOrigin,startTime:String(this.interactionStart),selDepth:isNaN(n)?void 0:n+1,isChild:"false",totalNum:c?String(c):void 0,userInteractionType:t,scope:"1",query:i,dataType:l,url:a,searchSessionId:this.searchSessionId,documentId:d},u={};return Object.keys(h).forEach(e=>{null!=h[e]&&(u[e]=String(h[e]))}),u},this.ajaxTrack=e=>{var t=this.createTrackingData(e);fetch("/TypeAheadJson?"+new URLSearchParams(t).toString(),{credentials:"same-origin"})},this.trackInteractionStart=()=>{this.ajaxTrack({eventType:"start",userInteractionType:"start"})},this.trackSelection=(e,t)=>{this.ajaxTrack({eventType:"select",userInteractionType:t,selectedItem:e})},this.uiOrigin=e,this.searchSessionId=t}}),e("GeoNaviFetcher",j=class{constructor({geoId:e,limit:t}){this.id=ee,this.geoId="1",this.limit=26,this.cache={},this.results=null,this.stack=[],e&&(this.geoId=e),t&&(this.limit=t)}getResults(){return this.results}fetch(e,t,s){this.onContextChange(t,s)}onContextChange(e,t){if(e&&e.geoNaviId){var s=e.geoNaviId;"1"===s?this.stack=[]:-1!==this.stack.indexOf(s)?this.stack=this.stack.slice(0,this.stack.indexOf(s)):this.stack.push(this.geoId),this.geoId=s;var i=this.cache[this.geoId];if(i){if(i instanceof Promise)return;return this.results=i,void t()}var o=new URLSearchParams({action:"GEONAVI",geoID:this.geoId}),{geoId:a}=this;this.cache[a]=fetch("/TypeAheadJson?"+o.toString(),{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e;throw Error(e.statusText)}).then(e=>e.json()).then(e=>e.results.map((e,t)=>{var s=String(e.id)===a?this.stack[this.stack.length-1]:String(e.id),i=0===t&&1!==parseInt(this.geoId,10);return{name:e.displayName,geoId:s,back:i,forward:!i&&!e.isLeaf}})).then(e=>(this.results=e.slice(0,this.limit),this.cache[a]=this.results,t(),this.results)).catch(()=>(this.results=[],t(),this.results))}}}),e("SponsoredGeoFetcher",G=class{constructor(e){this.id="sponsoredgeo",this.sponsorData=void 0,this.onChange=void 0,e(e=>{this.sponsorData=e,this.onChange&&this.onChange()})}getResults(){if(this.sponsorData){var{name:e,location_id:t,ancestors:s,dfpTrackingUrl:i,thirdPartyClickTrackerURL:o}=this.sponsorData;return[{name:e,location_id:t,ancestors:s?s.map(e=>({name:e})):[],dfpTrackingUrlTemplate:i?i+"${destUrl}":null,thirdPartyClickTrackerURL:o}]}return[]}fetch(e,t,s){this.onChange=s,s()}}),e("RecentlyViewedFetcher",V=class{constructor({categories:e,limit:t}){this.id=te,this.categories=void 0,this.limit=10,this.results=null,this.inFlight=!1,e&&(this.categories=e),t&&(this.limit=t)}getResults(){return this.results}fetch(e,t,s){if(!this.inFlight&&null===this.results){var i=new URLSearchParams({limit:String(this.limit)});this.categories&&this.categories.forEach(e=>i.append("categories[]",e)),this.inFlight=!0,fetch("/data/1.0/recent?"+i.toString(),{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e;throw Error(e.statusText)}).then(e=>e.json()).then(e=>{this.results=e.data.map(e=>Object.assign({resultType:e.result_type},e.result_object)),this.inFlight=!1,s()}).catch(e=>{console.error("recentPrefill",e),this.results=[],this.inFlight=!1,s()})}}}),e("GeoThemeFetcher",B=class{constructor({theme:e,limit:t}){this.id="geotheme",this.theme=0,this.limit=10,this.results=null,this.inFlight=!1,e&&(this.theme=e),t&&(this.limit=t)}getResults(){return this.results}fetch(e,t,s){if(!this.inFlight&&null===this.results){var i=new URLSearchParams({geoThemeId:String(this.theme),limit:String(this.limit)});this.inFlight=!0,fetch("/data/1.0/destinations/bundle?"+i.toString(),{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e;throw Error(e.statusText)}).then(e=>e.json()).then(e=>{this.results=e.geos,this.inFlight=!1,s()}).catch(e=>{console.error("Could not fetch geo theme typeahead results.",e),this.results=[],this.inFlight=!1,s()})}}}),e("TypeaheadJsonFetcher",H=class{constructor(e){this.id=ie,this.props=void 0,this.cache=void 0,this.mostRecentTerm=void 0,this.results=null,this.additionalParams=void 0,this.props=e,void 0===this.props.cache&&(this.props.cache=!0),this.props.cache&&(this.cache={})}setAdditionalParams(e){this.additionalParams=e}getResults(){return this.results}fetch(e,t,s){if(this.mostRecentTerm=e,C(e)<3)null!==this.results&&(this.results=null,s());else if(this.cache&&this.cache[e]){var i=this.cache[e];this.results!==i&&(this.results=i,s())}else{var o={action:"API",query:e};Object.keys(this.props).filter(e=>"cache"!==e).forEach(e=>{var t=this.props[e];t&&(Array.isArray(t)?o[e]=t.join(","):o[e]=String(t))}),this.additionalParams&&(o=Object.assign({},o,{},this.additionalParams)),fetch("/TypeAheadJson?"+new URLSearchParams(o).toString(),{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e;throw Error(e.statusText)}).then(e=>e.json()).then(t=>{t&&this.cache&&(this.cache[e]=t),e===this.mostRecentTerm&&(t?(this.results=t.map(e=>Object.assign({},e,{query:this.mostRecentTerm})),s()):this.results=[])}).catch(()=>{this.results=[],s()})}}}),H.defaultProps={scope:1,beforeGeoId:1,afterGeoId:1},ae.defaultProps={subtitle:void 0,active:void 0,iconName:void 0,verifiedIcon:!1,chevronName:void 0,paddingStyle:void 0,isRescue:!1,reverseSubtitle:!1},e("GeoNaviResult",z=class extends l{constructor(...e){super(...e),this.onSelection=e=>{if(this.props.onSelection&&"function"==typeof this.props.onSelection){var{result:{geoId:t,back:s,forward:i}}=this.props,o=s||i?"geonavi":"location_id";this.props.onSelection(e,{type:o,value:t})}}}render(){var e;return this.props.result.back?e="single-chevron-left":this.props.result.forward&&(e="single-chevron-right"),c(_,{onSelection:this.onSelection,onMouseMove:this.props.onMouseMove,active:!!this.props.active},c(ae,{title:this.props.result.name,chevronName:e,active:!!this.props.active}))}}),z.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1},le.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0},ce.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1},he[O]=!0,e("RecentlyViewedResult",Y=class extends l{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:i,result:o,resultIndex:a}=this.props,{location_id:n,resultType:r}=this.props.result;s.trackSelection(Object.assign({document_id:n,data_type:"LOCATION",fromHistory:!0,type:ue[r]||r,resultIndex:a},o),t),i&&i(e,{type:"recent_location_id",value:n})},this.iconFromCategoryKey=e=>{switch(e){case"attraction":return"attractions";case"hotel":return"hotels";case"restaurant":return"restaurants";case"geographic":default:return"map-pin-fill"}}}render(){var e,t,s,{result:i}=this.props,{name:o,category:a,ancestors:n=[]}=i,r=$(this.props.addressDisplay,null==(e=n[0])?void 0:e.name,null==(t=n[1])?void 0:t.name,null==i||null==(s=i.address_obj)?void 0:s.street1),l=this.props.includeIcon?this.iconFromCategoryKey(a&&a.key||""):"";return c(_,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},c(ae,{title:o,subtitle:r,iconName:l,active:this.props.active,paddingStyle:this.props.paddingStyle}))}}),Y.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,paddingStyle:void 0,addressDisplay:"parent_geos",resultIndex:void 0},e("GeoThemeResult",U=class extends l{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:i,result:o,resultIndex:a}=this.props;s.trackSelection(Object.assign({resultIndex:a},o),t);var{location_id:n}=o;i&&i(e,{type:"geo_theme_location_id",value:n})}}render(){var e,{name:t}=this.props.result,s=this.props.result.ancestors?this.props.result.ancestors.length:0;return s>1?e=`${this.props.result.ancestors[0].name}, ${this.props.result.ancestors[1].name}`:s>0&&(e=this.props.result.ancestors[0].name),c(_,{active:!!this.props.active,onMouseMove:this.props.onMouseMove,onSelection:this.onSelect},c(ae,{title:t,subtitle:e,active:this.props.active}))}}),U.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,resultIndex:void 0},pe[O]=!0,e("TypeaheadJsonResult",K=class extends l{constructor(...e){super(...e),this.onSelect=e=>{var t="click"===e.type?"click":"enter",{tracker:s,onSelection:i,itemType:o,result:a,resultIndex:n}=this.props,r=Object.assign({resultIndex:n},a);s.trackSelection(r,t);var{value:l,scope:c,name:d}=a;i&&i(e,{type:o,value:l,displayValue:d,scope:c})}}render(){var e=this.props.result.details||{},t=e.name,s=$(this.props.addressDisplay,e.parent_name,e.grandparent_name,e.address),i=this.props.includeIcon?re(this.props.result.type):"";return c(_,{onSelection:this.onSelect,onMouseMove:this.props.onMouseMove,active:this.props.active},c(ae,{title:t,subtitle:s,iconName:i,active:this.props.active,paddingStyle:this.props.paddingStyle}))}}),K.defaultProps={onSelection:void 0,onMouseMove:void 0,active:!1,includeIcon:!1,addressDisplay:"parent_geos",paddingStyle:void 0,itemType:"location_id",resultIndex:void 0},(J=class extends l{constructor(...e){super(...e),this.state={closed:!1,inputFocused:!1,resultSelected:!1},this.onSelection=(e,t)=>{this.setState({closed:!1,resultSelected:!0}),this.setSelection(t)},this.onFocus=e=>{this.setState({closed:!1,inputFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.setState({inputFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.setSelection=e=>{e&&(this.updateSearch(""),this.textInput&&this.textInput.focus(),this.props.selectionChanged(e))},this.handleOnKeyDown=e=>{e.keyCode===S&&this.props.closeDropdownOnClickOutside&&this.setState({closed:!0})},this.tracker=new D("",""),this.textInput=void 0,this.updateSearch=void 0,this.hasMounted=!1}componentDidMount(){this.hasMounted=!0}componentWillUnmount(){this.hasMounted=!1}render(){var e=this.props.placeHolder||this.props.localize.string("common_Search");return c(d,null,c(Z,{fetchers:this.props.fetchers},(t,s)=>{this.updateSearch=s;var i=t&&Object.keys(t).filter(e=>{return!(!(s=t[e])||0===s.length);var s}).length>0,o=this.props.handleEmptyResult&&t.typeaheadjson&&!t.typeaheadjson.length;return c("div",{className:"_3MbSn5R5",onKeyDown:this.handleOnKeyDown},c("span",{className:"_3UtySP-H"},c(R,{name:this.props.iconType?this.props.iconType:"search",size:18})),c(P,{inputComponentType:E,inputComponentClassName:N("Kg5KBNFp","_1ZeS63zy",this.props.className),id:this.props.inputId,value:this.props.typeaheadTextInputValue,type:this.props.inputType,onChange:e=>{this.setState({closed:!1,resultSelected:!1}),this.props.textInputChanged(e)},onQueryChange:e=>{s(e)},onFocus:this.onFocus,onBlur:this.onBlur,searchDelay:50,placeholder:e,onRef:e=>{this.textInput=e,this.props.onRef(e)},autoCompleteIdentifier:this.props.autoCompleteIdentifier,hideAutoComplete:this.props.hideAutoComplete}),(i||o)&&!1===this.state.resultSelected&&!this.state.closed&&c("div",{className:N("_2sFgES0v",{_3jJGWd2r:this.props.resultsAbove})},this.props.children(t,this.tracker,this.onSelection)))}),c(A,{event:"click",callback:()=>{this.hasMounted&&this.props.closeDropdownOnClickOutside&&!this.state.inputFocused&&this.setState({closed:!0})}}))}}).defaultProps={placeHolder:null,className:void 0,inputType:void 0,iconType:"search",onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},me.defaultProps={placeHolder:null,className:void 0,inputId:void 0,inputType:void 0,iconType:"search",onFocus:void 0,onBlur:void 0,itemType:"location_id",onRef:()=>{},closeDropdownOnClickOutside:!0,resultsAbove:!1},e("POISelector$1",Q=class extends s.Component{constructor(...e){super(...e),this.state={textInputValue:this.props.selectedLocation.displayValue||""},this.onResultSelected=e=>{this.props.selectionChanged(e),this.setState({textInputValue:this.props.clearValueOnSelection?"":e.displayValue||""})},this.getTypeaheadJsonFetcher=()=>new H({interleaved:!0,types:this.props.locationTypes,name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:this.props.max,scoreThreshold:.8,parentids:this.props.parentids||[],scope:1,beforeGeoId:1,afterGeoId:1}),this.textInputChanged=e=>{this.setState({textInputValue:e})},this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher()}componentDidUpdate(e){var t,s;(t=e.parentids||[])===(s=this.props.parentids||[])||t.length===s.length&&t.every((e,t)=>e===s[t])||(this.typeaheadJsonFetcher=this.getTypeaheadJsonFetcher())}render(){var{trailingItem:e}=this.props;return s.createElement(me,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,className:this.props.className,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeHolder:this.props.placeHolder,handleEmptyResult:this.props.handleEmptyResult,onRef:e=>{this.props.onRef&&this.props.onRef(e)},closeDropdownOnClickOutside:this.props.closeDropdownOnClickOutside},(t,i,o)=>{var a=[];return a=t.typeaheadjson&&!t.typeaheadjson.length?[(e,t)=>s.createElement(_,{onMouseMove:t,key:"result='no-result'"},s.createElement(he,{small:!0}))]:[...t.typeaheadjson||[]].map(e=>(t,a)=>s.createElement(K,{addressDisplay:this.props.addressDisplay,result:e,tracker:i,onMouseMove:a,onSelection:o,active:t,key:"result="+e.value,includeIcon:!0})),e&&a.push(e),s.createElement(x,null,a)})}}),Q.defaultProps={locationTypes:se,className:void 0,onFocus:void 0,onBlur:void 0,placeHolder:void 0,clearValueOnSelection:!1,parentids:[],addressDisplay:"parent_geos",trailingItem:void 0,max:8,handleEmptyResult:!1,onRef:()=>{},closeDropdownOnClickOutside:!0},(q=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"LocationDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationIds"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationIds"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"placeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"thumbnail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isHorizontal"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"parent"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":380}}')).__key=0xca54a541710f,q.loc.source={body:"ca54a541710f"},ge.defaultProps={onClose:void 0},ye.defaultProps={hasResultsChanged:null,maxLocations:0,className:void 0,onFocus:void 0,onBlur:void 0,showLocationsAsPoiObjects:!0},e("WorldwideFetcher",W=class{constructor(e){this.id="worldwide",this.results=null,this.name="",this.name=e}getResults(){return this.results}fetch(e,t,s){var{name:i}=this;this.results=e.length<3||this.name.toLowerCase().indexOf(e.toLowerCase())<0?null:[{type:"GEO",value:"1",displayValue:i,details:{name:i}}],s()}}),Ie.defaultProps={mode:"all",includeWorld:!0,selectionCleared:()=>{},textInputChanged:()=>{},iconType:"search",placeholder:void 0,max:8,onBlur:void 0,onFocus:void 0,closeDropdownOnClickOutside:!0,resultsAbove:!1},e({BasicResult:ae,GeoNaviFetcher:j,GeoNaviFetcherId:ee,GeoNaviResult:z,GeoSelector:Ie,GeoThemeFetcher:B,GeoThemeFetcherId:"geotheme",GeoThemeResult:U,GoNearbyResult:le,GoWorldwideResult:ce,LoadingResult:de,LocationSelector:Q,MultiLocationSelector:ye,NoResults:he,POIObjectList:ge,POISelector:class extends l{constructor(...e){super(...e),this.state={textInputValue:""},this.onResultSelected=e=>{this.props.selectionChanged(e),this.setState({textInputValue:e.displayValue||""})},this.typeaheadJsonFetcher=new H({interleaved:!0,types:["hotel","attr","eat"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8}),this.textInputChanged=e=>{this.setState({textInputValue:e})}}render(){return c(me,{fetchers:[this.typeaheadJsonFetcher],typeaheadTextInputValue:this.state.textInputValue,selectionChanged:this.onResultSelected,textInputChanged:this.textInputChanged,placeHolder:this.props.placeholderText},(e,t,s)=>c(x,null,[...e.typeaheadjson||[]].map(e=>(i,o)=>c(K,{result:e,tracker:t,onMouseMove:o,onSelection:s,active:i,key:"result="+e.value,includeIcon:!0}))))}},RecentlyViewedFetcher:V,RecentlyViewedFetcherId:te,RecentlyViewedResult:Y,RescueResult:ve,SectionTitle:pe,Selector:me,SponsoredGeoFetcher:G,SponsoredGeoFetcherID:"sponsoredgeo",Typeahead:Z,TypeaheadJsonFetcher:H,TypeaheadJsonFetcherId:ie,TypeaheadJsonResult:K,TypeaheadTextArea:L,TypeaheadTextInput:P,TypeaheadTracking:D,WorldwideFetcher:W,getIconFromResultType:re,getIconNameFromResultType:ne})},[e=>(s=e.default,i=e.useState,o=e.useRef,a=e.useEffect,n=e.useMemo,r=e.useCallback,l=e.Component,c=e.createElement,d=e.Fragment),e=>h=e.default,e=>(u=e.KEY_ENTER,p=e.KEY_CTRL,v=e.KEY_SHIFT,m=e.KEY_META,g=e.KEY_RIGHT,y=e.KEY_LEFT,I=e.KEY_CAPSLK,S=e.KEY_TAB,f=e.KEY_ESCAPE,T=e.KEY_UP,k=e.KEY_DOWN),e=>C=e.inputLength,e=>N=e.default,e=>R=e.default,e=>(_=e.NavigableListItem,O=e.NonNavigableItem,x=e.NavigableList),e=>F=e.useLocalize,e=>b=e.default,e=>E=e.ManagedTextInput,e=>A=e.default,e=>M=e.useQuery,e=>w=e.ResponsiveImage]]},["cDcdfi","ABlMo4","h7E4Ym","O-HcBE","jSLlaY","OMqGt0","Erjc5t","0DsHEV","Xi-2HZ","qfSfGN","Dg5_-9","5X2em-","KwOV1Z"]]);
