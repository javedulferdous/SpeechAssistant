(this.$WP=this.$WP||[]).push(["LgmAJW",(e,r)=>{"use strict";var t,s,a,l,n,u=!1,i=null,o=null,d=null,c=()=>{u=!0;var e=n.get(0);if(e&&e.length>0){n.set(0,[]);for(var r=[],t=0;t<e.length;++t){var s=e[t];if(s)try{s()}catch(e){r.push(e)}}if(r.length>0)throw setTimeout(c,0),r[Math.floor(Math.random()*r.length)];var a=n.get(0);if(a&&a.length>0)return void setTimeout(c,0)}u=!1;var l=n;n=new Map,l.forEach((e,r)=>{e&&e.length>0&&setTimeout(()=>{var r=u;u=!0;for(var t=0;t<e.length;++t)h(e[t],0);r||c()},r)}),d&&d()},h=(e,r)=>{if(e){r&&r>0||(r=0);var t=n.get(r);t||(t=[],n.set(r,t)),t.push(e),u||(u=!0,setTimeout(c,0))}},g=e=>{if(!e)return Promise.resolve(null);if(!(i&&o&&d)){d&&d(),d=null;var r=new t;i=r,o=new Promise((e,t)=>{d=()=>{try{d=null,i=null,o=null,e(r.resolve())}catch(e){t(e)}}})}var s=i.stager(e);return o.then(r=>{var t=r;return(t=(t=t&&t[s])&&t[e])?t.body:null})},v=[1e3,1e3,1e3,1e3,1500,1500,1500,2e3,2e3,2e3,5e3,1e4,1e4,1e4,1e4],U=/&puid=[^&]+/g,p=(e,r)=>e===r||(e&&r?e.replace(U,"")===r.replace(U,""):!e&&!r),q=(e,r,t,a)=>{var n=null;return s({data:(s,l,u)=>{var i=(n=n||e(s,null))?l(n):null;return a&&"function"==typeof a&&a(s,l),a=>{var l=i&&i.get()||{data:null,loading:!1};return{completionPredicate:r,currentBaseUrl:e(s,null),stagedUrl:n,stagedLoading:l.loading,stagedData:l.data,pollingUrlGenerator:r=>e(a,r),renderer:(e,r)=>t(a,e,r,u)}}},actions:null})(l)};return[()=>{n=new Map,l=class extends a{static getDerivedStateFromProps(e,r){return!e.currentBaseUrl&&r.currentBaseUrl?{override:!0,requestedUrl:null,requestedReqNum:null,currentBaseUrl:e.currentBaseUrl,currentReqNum:null,overrideDataBaseUrl:null,overrideDataReqNum:null,overrideData:null}:r.override||e.stagedUrl===e.currentBaseUrl?e.currentBaseUrl!==r.currentBaseUrl?p(e.currentBaseUrl,r.currentBaseUrl)?{currentBaseUrl:e.currentBaseUrl}:{currentBaseUrl:e.currentBaseUrl,currentReqNum:null}:null:!e.stagedLoading&&p(e.stagedUrl,e.currentBaseUrl)?{override:!0,currentBaseUrl:e.currentBaseUrl,currentReqNum:null,overrideDataBaseUrl:e.currentBaseUrl,overrideDataReqNum:null,overrideData:e.stagedData}:{override:!0,currentBaseUrl:e.currentBaseUrl,currentReqNum:null}}constructor(e){super(e),this.triggerPending=void 0,this.pollPending=void 0,this.callbackRef=void 0,this.state={currentBaseUrl:e.currentBaseUrl,currentReqNum:null,requestedUrl:null,requestedReqNum:null,override:e.stagedUrl!==e.currentBaseUrl,overrideDataBaseUrl:null,overrideDataReqNum:null,overrideData:null},this.triggerPending=!1,this.pollPending=!1,this.callbackRef=[this]}onTrigger(){this.triggerPending=!1;var e=this.state.currentBaseUrl,r=this.state.currentReqNum,t=this.callbackRef;if(this.state.requestedUrl!==e||r&&r>(this.state.requestedReqNum||0)){var s=e;if(s&&r&&r>1&&(s=this.props.pollingUrlGenerator(r)),!s)return void this.setState({override:!0,requestedUrl:e,requestedReqNum:r,overrideData:null,overrideDataBaseUrl:e,overrideDataReqNum:r});this.setState({requestedUrl:e,requestedReqNum:r}),g(s).then(a=>t[0]&&t[0].processResponse(e,r,s,a),a=>t[0]&&t[0].processResponse(e,r,s,null))}}processResponse(e,r,t,s){e===this.state.requestedUrl&&r===this.state.requestedReqNum&&(this.pollPending=!1,this.setState({override:!0,overrideData:s||null,overrideDataBaseUrl:e,overrideDataReqNum:r}))}triggerPoll(e,r){p(this.state.currentBaseUrl,e)&&(r||1)>=(this.state.currentReqNum||1)&&this.setState({currentReqNum:(r||1)+1})}render(){if(!this.state.currentBaseUrl)return this.props.renderer(!1,null);var e=this.state.overrideData,r=this.state.overrideDataBaseUrl!==this.state.currentBaseUrl,t=r||(this.state.currentReqNum||0)>(this.state.overrideDataReqNum||0);r&&!this.state.override&&this.props.stagedUrl===this.state.currentBaseUrl&&(e=this.props.stagedData,r=this.props.stagedLoading,t=(this.state.currentReqNum||0)>1);var s=this.callbackRef;if(t)this.triggerPending||this.state.currentBaseUrl===this.state.requestedUrl&&this.state.currentReqNum===this.state.requestedReqNum||(this.triggerPending=!0,h(()=>s[0]&&s[0].onTrigger(),0));else if(!r&&!this.pollPending&&this.state.currentBaseUrl&&!this.props.completionPredicate(e)){var a=this.state.currentBaseUrl,l=this.state.currentReqNum||1;l<v.length&&(this.pollPending=!0,h(()=>s[0]&&s[0].triggerPoll(a,l),v[l]))}return this.props.renderer(!e||r,e)}componentWillUnmount(){this.callbackRef[0]=null}},e("default",null),e({bindDataApiPoller:q,requestApiCall:g,requestCallback:h})},[e=>(t=e.ApiCaller,s=e.bind),e=>a=e.Component]]},["RiHMo-","cDcdfi"]]);
