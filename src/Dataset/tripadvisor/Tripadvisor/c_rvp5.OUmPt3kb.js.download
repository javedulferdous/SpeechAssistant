(this.$WP=this.$WP||[]).push(["c_rvp5",(e,i)=>{"use strict";var r,t,s,n,a,o,d,l,p,m,u,c,I,v=e=>{var{children:i}=e,r=function(e,i){if(null==e)return{};var r,t,s={},n=Object.keys(e);for(t=0;t<n.length;t++)r=n[t],i.indexOf(r)>=0||(s[r]=e[r]);return s}(e,["children"]);return t(I,{value:r},i)},k=({source:e,attributes:i,children:r})=>{var p=s(c),[u,I]=n(void 0),[k,T]=n(!1),b=!(Object.keys(p).length>0)||p.isImpressionLogged,[,g]=d(m),f=p.impressionId||null,h=i[e],L=JSON.stringify(i),y=a(()=>({[e]:i[e],parentId:f}),[e,f,L]);return o(()=>{b&&(T(!1),g({impressions:[y]}).then(({data:e})=>{if(e){var i=e&&e.logImpressions&&e.logImpressions[0];i&&(I(i),T(!0))}}))},[b,y,g]),l("react_tracking_impressions")&&h?t(v,{impressionId:u,isImpressionLogged:k},r):r},T=({trip:e,children:i,element:r,detailId:s,placeType:n})=>{var a=e.status||void 0;return t(k,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:a,relation:p(e),collaborative:!!e.collaborators&&e.collaborators.length>0,element:r,detailId:s,placeType:n}}},i)},b={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},g=({trips:e,filterSelected:i,children:r})=>t(k,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&e.length>0,filter:b[i]||"ALL"}}},r),f=({element:e,trip:i,trips:r,item:s,children:n})=>{var a=r?r.length>0:void 0,o=i&&void 0!==a?((e,i)=>i?e?e&&e.owner&&!e.owner.isMe?"COLLABORATOR":e&&e.collaborators&&e.collaborators.length>0?"COLLABORATED":"EXISTING":"NEW":"FIRST")(i,a):void 0;return t(k,{source:"trips",attributes:{trips:{element:e,tripId:i&&i.id,tripType:o,hasTrips:a,dated:i&&!!i.date&&(!!i.date.to||!!i.date.from||!!i.date.duration),isSaved:s&&s.saved}}},n)};return[()=>{(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ImpressionInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logImpressions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"impressions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}')).__key=0xd4238cb95b19,m.loc.source={body:"d4238cb95b19"},u=Object.freeze({}),c=r(u),({Provider:I}=c),v.defaultProps={impressionId:void 0,isImpressionLogged:!1},e({TrackImpression:k,TrackingImpressionContextProvider:v,TripTrackingImpression:c,TripsDetailImpression:T,TripsHomeImpression:g,TripsImpression:f})},[e=>(r=e.createContext,t=e.createElement,s=e.useContext,n=e.useState,a=e.useMemo,o=e.useEffect),e=>d=e.useMutation,e=>l=e.featureIsEnabled,e=>p=e.userRelation]]},["cDcdfi","5X2em-","-i3PJS","eFKnUp"]]);
