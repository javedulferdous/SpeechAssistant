(this.$WP=this.$WP||[]).push(["qK4vTI",(t,e)=>{"use strict";var n,a,r,i,l,u,h,s;function o(t){var e=String(t);return(1===e.length?"0":"")+e}var d=(...t)=>t.map(t=>{return t?[(e=t).getFullYear(),o(e.getMonth()+1),o(e.getDate())].join("_"):"__";var e}).join("_"),T=t=>{var e,n,a=t?t.split("_"):[];if(a.length&&a.length%3==0){for(var r,i,l,u=[];a.length;)[r,i,l,...a]=a,r.length&&i.length&&l.length?u.push(new Date(parseInt(r,10),parseInt(i,10)-1,parseInt(l,10))):u.push(null);[e,n]=u}return{startDate:e,endDate:n}},g=(t,e,l,u,s,o)=>{var T,g,c,D=d(t,e);try{var y;n().dispatch(a.travelerInfo.setHotelsTravelerInfo(D,void 0,!1)),t&&e&&o&&(T=D,(g=h.STAYDATES&&h.STAYDATES.queryString)&&T&&fetch("/UpdateSessionDatesAjax",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"same-origin",body:`${g}=${T}`})),c=[t,e],globalThis.require(["trjs!ta/util/Error"],t=>{try{var e,n,a;(null==(e=window)||null==(n=e.ta)||null==(a=n.page)?void 0:a.pushDates)?window.ta.page.pushDates(null,"STAYDATES",c):r("wcDateEventsRadio").emit("dateSelected",null,"STAYDATES",c)}catch(e){t.record(e,"page-dates-interface: Failed to update with new dates")}}),l&&s&&(y=l.startDate||l.endDate?u?"default_dated_to_manually_dated":"manually_dated_to_manually_dated":"undated_to_manually_dated",i({module:"DATEPICKER",action:y,context:s}))}catch(t){}},c=30,D=396,y=(t,e,n)=>!(h[t].children&&e&&n)||new l(e).compare(new l(n))<0,p=(t,e,n)=>!(h[t].children&&e&&n)||0!==new l(e).compare(new l(n)),S=(t,e)=>Math.abs(new l(t).daysToNormalized(new l(e))),E=t=>(e,n,a)=>!(h[e].children&&n&&a)||S(n,a)<=t,R=(t,e,n)=>{var a=new Date;return(!e||new l(e).compare(new l(a))>=0)&&(!n||new l(n).compare(new l(a))>0)};return[()=>{t("CalendarDate",l=class t{constructor(t){this.date=void 0;var e=t||new Date;this.date=new Date(e.getFullYear(),e.getMonth(),e.getDate())}daysInMonth(){return new Date(this.year(),this.month()+1,0).getDate()}eachDayInMonth(e){for(var n=1,a=this.daysInMonth();n<=a;n++)e(new t(new Date(this.year(),this.month(),n)))}thisMonth(){return new t(new Date(this.year(),this.month(),1))}nextMonth(){return this.relativeMonth(1)}previousMonth(){return this.relativeMonth(-1)}relativeMonth(e){return new t(new Date(this.year(),this.month()+e,1))}relativeDay(e){return new t(new Date(this.year(),this.month(),this.day()+e))}firstOfMonth(){return new t(new Date(this.year(),this.month(),1))}lastOfMonth(){return new t(new Date(this.year(),this.month(),this.daysInMonth()))}year(){return this.date.getFullYear()}month(){return this.date.getMonth()}day(){return this.date.getDate()}dayOfWeek(){return this.date.getDay()}firstDayOfMonth(){return new Date(this.year(),this.month(),1).getDay()}inRange(t,e){return!(!t||!e)&&this.compare(t)>0&&this.compare(e)<0}compare(t){for(var e=[Date.prototype.getFullYear,Date.prototype.getMonth,Date.prototype.getDate],n=0,a=e.length;n<a;n++){var r=e[n];if(r.call(this.date)<r.call(t.date))return-1;if(r.call(this.date)>r.call(t.date))return 1}return 0}daysTo(t){return Math.ceil((t.date.getTime()-this.date.getTime())/864e5)}daysToNormalized(t){var e=Date.UTC(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()),n=Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate());return Math.floor((n-e)/864e5)}toString(){return[this.year(),this.month(),this.day()].join("-")}static fromString(e){var n=e.split("-").map(t=>parseInt(t,10));return new t(new Date(n[0],n[1],n[2]))}}),h=Object.freeze(function(){var t={CHECKIN:{queryString:null,pathString:null},CHECKOUT:{queryString:null,pathString:null},STAYDATES:{children:["CHECKIN","CHECKOUT"],queryString:"staydates",pathString:"zus"},EATERY:{queryString:"eaterydate",pathString:"zur"},DEPARTURE:{queryString:null,pathString:null},RETURN:{queryString:null,pathString:null},ROUNDTRIP:{children:["DEPARTURE","RETURN"],queryString:"rtdates",pathString:"zut"},ONEWAYFLIGHT:{queryString:"oneway",pathString:"zuo"},LEG_1:{queryString:"leg1date",pathString:"zu1"},LEG_2:{queryString:"leg2date",pathString:"zu2"},LEG_3:{queryString:"leg3date",pathString:"zu3"},ATTRACTION:{queryString:"attrdate",pathString:"zua"},ATTRACTION_FROM:{queryString:null,pathString:null},ATTRACTION_TO:{queryString:null,pathString:null},ATTRACTIONRANGE:{children:["ATTRACTION_FROM","ATTRACTION_TO"],queryString:"attrrange",pathString:"zue"},VPDATES:{children:["VPDEPARTURE","VPRETURN"],queryString:"vpdates",pathString:null},VPDEPARTURE:{queryString:null,pathString:null},VPRETURN:{queryString:null,pathString:null}};function e(e){var n=[];for(var a in t)t.hasOwnProperty(a)&&t[a].children&&t[a].children.indexOf(e)>=0&&n.push(a);return n}function n(t){var e=ta.page.getDates(t);return e&&e[0]?new l(e[0]):null}return Object.values(t).forEach(t=>{t.children&&Object.freeze(t.children),Object.freeze(t)}),t.getStartDateType=function(n){var a=e(n);if(0==a.length){var r=t[n].children;return r&&r.length>0?r[0]:n}return t[a[0]].children[0]},t.getEndDateType=function(n){var a=e(n);if(0==a.length){var r=t[n].children;return r&&r.length>0?r[r.length-1]:n}var i=t[a[0]];return i.children[i.children.length-1]},t.isChildDateType=function(t){return e(t).length>0},t.isSingleDateType=function(e){var n=t[e];return!(t.isChildDateType(e)||n&&n.children&&n.children.length>0)},t.getParents=e,t.isHotelDateType=function(t){return e(t).indexOf("STAYDATES")>=0},t.isRoundTripDateType=function(t){return e(t).indexOf("ROUNDTRIP")>=0},t.isAttractionRangeDateType=function(t){return e(t).indexOf("ATTRACTIONRANGE")>=0},t.isVacationPackagesDateType=function(t){return e(t).indexOf("VPDATES")>=0},t.allowsSameDayRange=function(e){return t.isAttractionRangeDateType(e)||t.isRoundTripDateType(e)},t.isMultiCityDateType=function(t){return"LEG_1"==t||"LEG_2"==t||"LEG_3"==t},t.isStartDateType=function(n){var a=e(n);return 0!=a.length&&0==t[a[0]].children.indexOf(n)},t.isEndDateType=function(n){var a=e(n);if(0==a.length)return!1;var r=t[a[0]];return r.children.indexOf(n)==r.children.length-1},t.getStartDate=function(e){var n=t.getStartDateType(e);return null==n?ta.page.getDates(e)[0]:ta.page.getDates(n)[0]},t.getEndDate=function(e){var n=t.getEndDateType(e);return null==n?ta.page.getDates(e)[0]:ta.page.getDates(n)[0]},t.getMinEnabledDate=function(e){if(t.isHotelDateType(e)||t.isRoundTripDateType(e));else{if("LEG_1"==e)return n("ONEWAYFLIGHT");if("LEG_2"==e)return n("LEG_1")||n("ONEWAYFLIGHT");if("LEG_3"==e)return n("LEG_2")||n("LEG_1")||n("ONEWAYFLIGHT");if("ATTRACTION_TO"==e)return n("ATTRACTION_FROM")}return null},t.flattenType=function(e){var n=t[e];return n?n.children?n.children.slice(0):[e]:[]},t.getCorrespondingDateType=function(t){switch(t){case"CHECKIN":return"CHECKOUT";case"CHECKOUT":return"CHECKIN";case"DEPARTURE":return"RETURN";case"RETURN":return"DEPARTURE";case"ATTRACTION_FROM":return"ATTRACTION_TO";case"ATTRACTION_TO":return"ATTRACTION_FROM";case"VPDEPARTURE":return"VPRETURN";case"VPRETURN":return"VPDEPARTURE";default:return null}},t}()),t("Validation",u=class{constructor(t,e={}){this.dateType=void 0,this.maxStayLength=void 0,this.maxStayDistance=void 0,this.validators=void 0,this.validate=(t,e)=>{var n=this.validators[this.dateType];return!n||0===n.length||!n.some(n=>!n(this.dateType,t,e))},this.dateType=t;var n,{maxStayLength:a=c,maxStayDistance:r=D}=e;this.maxStayLength=a,this.maxStayDistance=r,this.validators={STAYDATES:[R,y,p,E(this.maxStayLength),(n=this.maxStayDistance,(t,e,a)=>{var r=new Date;return(!e||S(r,e)<=n)&&(!a||S(r,a)<=n)})],ROUNDTRIP:[y],ATTRACTIONRANGE:[y],VPDATES:[y,p,E(this.maxStayLength)]}}}),s=new u("STAYDATES"),t({CalendarDate:l,DateTypeStore:h,HotelsValidation:s,Validation:u,decode:T,encode:d,setHotelsPageDates:g})},[t=>(n=t.getStore,a=t.actions),t=>r=t.default,t=>i=t.default]]},["aunxON","l6BSGt","Jk5sjx"]]);
