(this.$WP=this.$WP||[]).push(["mjTUZq",(t,e)=>{"use strict";var s,i,a,n,o,l,r,h,d,p,u,g,c,m,b,f,M,T,_,v,R=()=>window&&window.location&&"#MAPVIEW"===window.location.hash;return[()=>{f=class extends s{render(){return i("div",{ref:this.props.toggleButtonRef,className:u("_1_T0EWih","_3TJqY-Sm")},i(p,{type:"standard",onClick:this.props.onToggle,size:"default",fullwidth:!0,disabled:this.props.disabled},i(d,{name:this.props.buttonIcon,className:"_36DIvLD7"}),this.props.buttonText))}},(M=class extends s{getIcon(){return this.props.isMapOpen?"top-three":"map-pin-fill"}getText(){return this.props.isMapOpen?h("list"):h("map")}render(){return i(f,{buttonIcon:this.getIcon(),buttonText:this.getText(),onToggle:this.props.onToggle,disabled:this.props.disabled,toggleButtonRef:this.props.toggleButtonRef})}}).defaultProps={disabled:!1},_=b("datepicker_field_prominence_tests")?136:152,T=class extends a{constructor(...t){super(...t),this.state={realMapWidth:0},this.adjustMapToWidth=()=>{var t=this.realMapRef.current,e=t&&t.getBoundingClientRect();e&&e.width&&(Math.round(e.width)!==this.state.realMapWidth?this.setState({realMapWidth:Math.round(e.width)}):setTimeout(this.adjustMapToWidth,500))},this.realMapRef=n(),this.createPinData=t=>t.latitude&&t.longitude?{iconUrl:g.miniHotelPin,position:{lat:t.latitude,lng:t.longitude}}:null}componentDidMount(){}render(){var{geoPoint:t,zoom:e,hotelLocations:s}=this.props,a=i(p,{type:"secondary",disabled:this.props.disabled},i(d,{name:"map-pin-fill",className:"_1AtrEitB"}),i("span",null,h("rd_hd_viewMap")));return setTimeout(this.adjustMapToWidth,500),i("div",{ref:this.realMapRef,className:"_3aopRJun",style:{height:_+"px"},onClick:this.props.disabled?null:this.props.onToggle},i(m,{callback:this.adjustMapToWidth,throttle:200}),i(c,{center:{lat:t.latitude,lng:t.longitude},height:_,width:this.state.realMapWidth||300,zoom:e,markers:s?s.map(this.createPinData).filter(t=>!!t):[],scale:2,imgClassName:this.props.disabled?"_28h_MQvO":"_16bSDNdu"}),i("div",{className:"ivO4NLbc","data-map-entrypoint":"true"},a))}},v=l("h-map"),t("default",class extends s{constructor(...t){super(...t),this.state={isMapOpen:!1,disabled:!1,buttonHeight:0},this.buttonRef=n(),this.toggle=()=>{var t=!this.state.isMapOpen;v.emit("toggle-trigger-clicked",t),this.setState({isMapOpen:t},()=>{var t,e,s;(null==(t=this.buttonRef)?void 0:t.current)&&(null==(e=this.buttonRef)||null==(s=e.current)?void 0:s.clientHeight)!==this.state.buttonHeight&&(v.emit("resize-overlay"),this.setState({buttonHeight:this.buttonRef.current.clientHeight}))})},this.hashChangeListener=()=>this.setState({isMapOpen:R()})}componentDidMount(){var t;this.setState({isMapOpen:R()}),v.on("close-trigger-clicked",()=>{this.setState({isMapOpen:!1})}),this.props.disableWhileLoading&&(v.on("toggle-map-cta",t=>this.setState({disabled:t})),v.emit("map-cta-did-mount")),v.on("reset-cta-state",()=>{this.setState({isMapOpen:R()})}),(null==(t=this.buttonRef)?void 0:t.current)&&this.setState({buttonHeight:this.buttonRef.current.clientHeight})}render(){var{geoPoint:t,zoom:e,hotels:s}=this.props;switch(this.props.toggleType){case"INLINE_BUTTON":return i(o,null,i(M,{isMapOpen:this.state.isMapOpen,onToggle:this.toggle,disabled:this.state.disabled,toggleButtonRef:this.buttonRef}),i(r,{event:"hashchange",callback:this.hashChangeListener}));case"STATIC_MAP":return t&&e&&s?i(T,{onToggle:this.toggle,geoPoint:t,zoom:e,hotelLocations:s,disabled:this.state.disabled}):null;default:return null}}}),t("getMapState",R)},[t=>(s=t.PureComponent,i=t.createElement,a=t.Component,n=t.createRef,o=t.Fragment),t=>l=t.default,t=>r=t.default,t=>h=t.localize,t=>d=t.Icon,t=>p=t.default,t=>u=t.default,t=>g=t.SnapshotAssetCatalogue,t=>c=t.default,t=>m=t.default,t=>b=t.featureIsEnabled]]},["cDcdfi","l6BSGt","Dg5_-9","535agn","_qQcW3","PCbs_l","jSLlaY","_KhVZh","fSRrv3","_g8cls","-i3PJS"]]);
