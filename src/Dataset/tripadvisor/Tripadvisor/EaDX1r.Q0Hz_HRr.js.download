(this.$WP=this.$WP||[]).push(["EaDX1r",(e,t)=>{"use strict";var a,i,n,s,o,r,l,h,d,c,u,p,_,D,m,g,v,y,f,w,k,b=e=>e&&e.slice(0,7)||"",S=e=>[c("common_day_sun_abbr"),c("common_day_mon_abbr"),c("common_day_tue_abbr"),c("common_day_wed_abbr"),c("common_day_thu_abbr"),c("common_day_fri_abbr"),c("common_day_sat_abbr")][e],M=e=>[c("sunday_52"),c("monday_52"),c("tuesday_52"),c("wednesday_52"),c("thursday_52"),c("friday_52"),c("saturday_52")][e],C=e=>{var t=e.getFullYear();switch(e.getMonth()){case 0:return c("common_month_year1",{0:t});case 1:return c("common_month_year2",{0:t});case 2:return c("common_month_year3",{0:t});case 3:return c("common_month_year4",{0:t});case 4:return c("common_month_year5",{0:t});case 5:return c("common_month_year6",{0:t});case 6:return c("common_month_year7",{0:t});case 7:return c("common_month_year8",{0:t});case 8:return c("common_month_year9",{0:t});case 9:return c("common_month_year10",{0:t});case 10:return c("common_month_year11",{0:t});case 11:return c("common_month_year12",{0:t});default:return c("common_month_year")}},O={container:"_2gikvwr6",wrapper:"_1VNxysVD",header:"_35ok4O0c",footer:"Ppck2ajp",legend:"_1Qu5JAxf",fullWidthLegend:"_3HlmJZgm",clickableIcon:"_2t1SCi3H",explanation:"YzCxhG63",link:"_-2RxRv0n",legendBelow:"Ynjat0as",legendDot:"_2E6pev1r",lowPrice:"_2uTDX1vB",navBar:"_1wDLoG72",navButton:"_2PvL_zPQ",prev:"_3QXSl3nP",next:"_3sCfCRAV",disabledButton:"_14z_eDZz",months:"_24lGrXqa",month:"_2myVk19-",caption:"_1JMy14it",week:"_2PEezKeZ",weekdays:"_2GxyglBL",weekdaysRow:"_4Shxh5lL",weekday:"_3UsgkLqF",largeDates:"_1NLAEL96",weekend:"_8MOOwv-8",body:"_3d8K7K3-",day:"isgB-Yem",withHeatMap:"_1QS3Z_2v",checkOutContainer:"_2kWKiD-u",checkInContainer:"Wt4IkH-M",today:"-ZxSeIqh",outside:"VrfLkvso",selected:"_3Ys0mW5H",disabled:"_2_AyxUNn",popular_dates:"_30ad6WnA",popular_dates_label:"_2-6tuHbT",popular_dates_range:"jfkrAzBW"},E=({weekday:e,className:t,localeUtils:a})=>{var i=[0,6].indexOf(e)>=0,n=a.formatWeekdayShort(e).toUpperCase();return o("div",{className:d(t,{[O.weekend]:i})},o("abbr",{title:a.formatWeekdayLong(e)},n))},L=({onNextClick:e,onPreviousClick:t,showNextButton:a,showPreviousButton:i})=>o("div",{className:O.navBar},o("button",{className:d("ui_icon single-chevron-left",O.navButton,O.prev,{[O.disabledButton]:!i}),"data-testid":"nav_prev","data-test-disabled":!i,onClick:()=>t&&t()}),o("button",{className:d("ui_icon single-chevron-right",O.navButton,O.next,{[O.disabledButton]:!a}),"data-testid":"nav_next",onClick:()=>e&&e()})),x=e=>{var[t,a]=n(e.month),{heatMap:i,legend:r,numberOfMonths:l,largeDates:D}=e,m=!!i,g=((e,t,a)=>{var{months:i}=e||{};if(!t||!i)return null;for(var n=[],s=0;s<a;s++){var o=new Date(t);o.setMonth(o.getMonth()+s),o&&n.push(o)}if(n&&n.length){var r=null;return n.forEach(e=>{var t,a,n,s,o,l,h,d,c,u,p,_,D=b(e.toISOString()),m=i.get(D),g={lowUSD:null==m||null==(t=m.pricesUSD)?void 0:t.rangeLow,highUSD:null==m||null==(a=m.pricesUSD)?void 0:a.rangeHigh,lowDisplay:null==m||null==(n=m.pricesDisplay)?void 0:n.rangeLow,highDisplay:null==m||null==(s=m.pricesDisplay)?void 0:s.rangeHigh},v=(p=null==(o=r)?void 0:o.lowUSD,_=null==g?void 0:g.lowUSD,Boolean(!p||_&&_<p)),y=((e,t)=>Boolean(!e||t&&t>e))(null==(l=r)?void 0:l.highUSD,null==g?void 0:g.highUSD);r={lowUSD:v?null==g?void 0:g.lowUSD:null==(h=r)?void 0:h.lowUSD,highUSD:y?null==g?void 0:g.highUSD:null==(d=r)?void 0:d.highUSD,lowDisplay:v?null==g?void 0:g.lowDisplay:null==(c=r)?void 0:c.lowDisplay,highDisplay:y?null==g?void 0:g.highDisplay:null==(u=r)?void 0:u.highDisplay}}),r}return null})(i,t,l),v=null==g?void 0:g.lowDisplay,y=null==g?void 0:g.highDisplay,f=!!i&&!!i.popularDates&&i.popularDates.length>0,S=s(()=>Object.assign({},O,e.overrideClassNames),[e.overrideClassNames]),M=Object.assign({},S,{container:O.checkInContainer,body:S.body+" notranslate"}),C=Object.assign({},S,{container:O.checkOutContainer,body:S.body+" notranslate"});return o("div",{className:d({[O.largeDates]:D,[O.withHeatMap]:m})},e.withTitle&&o("div",{className:d({[O.header]:!0})},_("calendar_header_messaging_test")?c("Select_dates_to_check_prices_and_availability"):c("mob_popped_calendar_cta"),m&&!e.showLegendBelowDates?r:null),o(k,Object.assign({classNames:e.isCheckin?M:C,navbarElement:L,weekdayElement:E,localeUtils:w,containerProps:{"data-testid":"day_picker"},onMonthChange:a},e,{onDayClick:(t,a,i)=>{var n=0===i.detail,s=document.activeElement;!n&&s&&s.blur(),e.onDayClick(t,a,i)}})),f&&o("div",{className:O.popular_dates},o("span",{className:O.popular_dates_label},c("select_from_pop_dates")," "),i&&i.popularDates&&i.popularDates.map(t=>o(h,{element:"span",click:{module:"datepicker",action:"popular_dates_click"},key:`popularDates_${t.checkInShort}_${t.checkOutShort}`},o("span",{className:O.popular_dates_range,onClick:()=>{var a=p(t.checkIn),i=p(t.checkOut);return a&&i&&e.setStayDates(a,i)&&e.closePicker()}},c("oracle_date_range",{checkIn:t.checkInShort,checkOut:t.checkOutShort}))))),v&&y?o("div",{className:O.footer},m&&e.showLegendBelowDates?o("div",{className:O.legendBelow},r):null,u(c("price_heatmap_avg_daily_rates_range",{0:v,1:y}))):null)},I=({showPriceExplanation:e,onTogglePriceExplanation:t,fullWidth:a})=>{var i=_("hr_yellow_brick_edu_variant_a")&&t,n=_("hr_yellow_brick_edu_variant_b")||e,s=e=>{"function"==typeof t&&t(e)};return o("div",{className:d(O.legend,{[O.fullWidthLegend]:a})},o("span",{className:d(O.legendDot,O.lowPrice)})," ",c("price_heatmap_lowest_prices_2")," ",i&&o("span",{onClick:()=>s(!0),className:d("ui_icon information-circle",O.clickableIcon)}),n&&o("div",{className:O.explanation},c("price_heatmap_lowest_prices_explanation")+" ",i&&o("span",{className:O.link,onClick:()=>s(!1)},c("price_heatmap_lowest_prices_explanation_hide"))))};return[()=>{e("HeatMapProvider$1",g=class extends a{render(){return this.props.children((e=>{if(!e)return null;var{items:t,percentiles:a,popularDates:i}=e,n=a&&new Map(a.map(e=>{var t=null==e?void 0:e.startDate;return[b(t),{pricesUSD:null==e?void 0:e.pricesUSD,pricesDisplay:null==e?void 0:e.pricesDisplay}]}));return{days:t&&new Map(t.map(e=>{var t,{date:a,priceUSD:i}=e||{},s=b(a),o=s&&n&&n.get(s)||null,r=null==o||null==(t=o.pricesUSD)?void 0:t.low;return a&&i?[a,{price:i,low:Boolean(r&&Math.round(i/100)<Math.round(r/100))}]:null}).filter(Boolean)),months:n,popularDates:i}})(this.props.data))}}),f=D((e,t)=>{var a,i=t("Hotel_Review"===(null==e||null==(a=e.route)?void 0:a.page)&&e.page.detailId?`/data/1.0/hotelDetail/${e.page.detailId}/heatMap`:`/data/1.0/hotelOracle/${e.page.geoId}/heatMap`);return(e,t)=>Object.assign({},t,{data:i&&i.get().data})})(g),w=Object.assign({},l,{formatWeekdayShort:S,formatWeekdayLong:M,formatMonthTitle:C}),k=i(r),x.defaultProps={withTitle:!0,showLegendBelowDates:!1,overrideClassNames:{}},I.defaultProps={showPriceExplanation:!1,fullWidth:!0},e("CalendarOptions",v=class{constructor(e,t,a,i){this.startDate=void 0,this.endDate=void 0,this.isStartDate=void 0,this.validation=void 0,this.numMonths=1,this.getCalendarDisplayOptions=()=>{},this.startDate=e,this.endDate=t,this.isStartDate=a,this.validation=i}}),e("HotelsCalendarOptions",y=class extends v{constructor(e,t,a,i,n,s,r,l,h,d,c){super(e,t,a,i),this.numMonthsDesktop=2,this.numMonthsMobile=1,this.numMonths=void 0,this.isMobile=void 0,this.heatMap=void 0,this.legend=void 0,this.disableStartAsEndDate=void 0,this.applyCalendarEndingStyles=void 0,this.firstDayOfWeek=void 0,this.geoTimezone=void 0,this.isIEorEdge=void 0,this.getCalendarDisplayOptions=()=>({fixedWeeks:!0,numberOfMonths:this.numMonths,fromMonth:this.getMinEnabledDate(),toMonth:this.getMaxEnabledDate(),month:this.getInitialMonth(),isCheckin:this.isStartDate,modifiers:this.getCalendarModifiers(),heatMap:this.heatMap,legend:this.legend,firstDayOfWeek:this.firstDayOfWeek}),this.adjustToFirstBookableDateForGeo=(e,t,a)=>{try{if(e&&t&&!a)return new Date((new Date).toLocaleString("en-US",{timeZone:t}))}catch(t){return e}return e},this.getMinEnabledDate=()=>{var e,t=new m,a=this.startDate&&new m(this.startDate);return e=this.disableStartAsEndDate?this.isStartDate?t:(a||t).relativeDay(1):this.isStartDate?t:a||t,this.adjustToFirstBookableDateForGeo(e.date,this.geoTimezone,this.isIEorEdge)},this.getMaxEnabledDate=()=>{var e=new m,t=this.startDate&&new m(this.startDate);return(this.isStartDate||!t||t.relativeDay(this.validation.maxStayLength).compare(e.relativeDay(this.validation.maxStayDistance))>=0?e.relativeDay(this.validation.maxStayDistance):t.relativeDay(this.validation.maxStayLength)).date},this.getInitialMonth=()=>{if(this.isStartDate)return this.startDate||this.endDate||new Date;var e=this.numMonths-1,t=new m(this.startDate).thisMonth(),a=new m(this.endDate).thisMonth();return(t.relativeMonth(e).compare(a)<0?a.relativeMonth(-e):t).date},this.isLowPrice=e=>{if(e instanceof Date){var t=e.toISOString().slice(0,10),a=t&&this.heatMap&&this.heatMap.days&&this.heatMap.days.get(t);return null==a?void 0:a.low}return!1},this.isSelected=e=>e instanceof Date&&e>=this.startDate&&e<=this.endDate,this.isSameDay=(e,t)=>null!=e&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),this.isStartDateOrFirstInLine=e=>{if(e instanceof Date){if(this.isSameDay(this.startDate,e))return!0;if(this.isSelected(e))return 1===e.getDate()||e.getDay()===this.firstDayOfWeek}return!1},this.isLastDayOfMonth=e=>{var t=new Date(e);return t.setDate(t.getDate()+1),1===t.getDate()},this.isEndDateOrLastInLine=e=>{if(e instanceof Date){if(this.isSameDay(this.endDate,e))return!0;if(this.isSelected(e)){var t=(this.firstDayOfWeek+6)%7;return e.getDay()===t||this.isLastDayOfMonth(e)}}return!1},this.getCalendarModifiers=()=>({start:this.applyCalendarEndingStyles?this.isStartDateOrFirstInLine:this.startDate,end:this.applyCalendarEndingStyles?this.isEndDateOrLastInLine:this.endDate,selected:{from:this.startDate,to:this.endDate},disabled:{before:this.getMinEnabledDate(),after:this.getMaxEnabledDate()},low:this.isLowPrice,noClick:this.disableStartAsEndDate?null:this.startDate}),this.isMobile=n,this.numMonths=this.isMobile?this.numMonthsMobile:this.numMonthsDesktop,this.heatMap=r,this.legend=l||o(I,null),this.disableStartAsEndDate=this.numMonths>1,this.applyCalendarEndingStyles=null!=h&&h,this.firstDayOfWeek=null==s?0:s,this.geoTimezone=d,this.isIEorEdge=c}}),e({CalendarOptions:v,CalendarWrapper:x,HeatMapProvider:f,HotelsCalendarOptions:y,Legend:I})},[e=>(a=e.Component,i=e.memo,n=e.useState,s=e.useMemo,o=e.createElement),e=>(r=e.default,l=e.LocaleUtils),e=>h=e.Track,e=>d=e.default,e=>(c=e.localize,u=e.unescaped),e=>p=e.isoStringToDate,e=>_=e.featureIsEnabled,e=>D=e.bind,e=>m=e.CalendarDate]]},["cDcdfi","wLDeDm","Jk5sjx","jSLlaY","535agn","Ckp-bW","-i3PJS","RiHMo-","qK4vTI"]]);
