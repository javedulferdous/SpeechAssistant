(this.$WP=this.$WP||[]).push(["fiorRT",(t,o)=>{"use strict";var e,n,i,a,r,s,u=()=>"undefined"!=typeof navigator&&void 0!==navigator.geolocation,c=(t,o)=>{t&&"function"==typeof t&&(u()?navigator.geolocation.getCurrentPosition(o=>{t(o.coords.latitude,o.coords.longitude)},t=>{"function"==typeof o&&o(t)}):o&&"function"==typeof o&&o(new Error("Location services not available")))},l=(t,o)=>t&&"function"==typeof t?u()?navigator.geolocation.watchPosition(o=>{t(o.coords.latitude,o.coords.longitude)},t=>{"function"==typeof o&&o(t)},{maximumAge:0,timeout:1/0,enableHighAccuracy:!1}):(o&&"function"==typeof o&&o(new Error("Location services not available")),null):null,p=t=>{u()&&navigator.geolocation.clearWatch(t)},g={1:"PERMISSION_DENIED",2:"POSITION_UNAVAILABLE",3:"TIMEOUT"},m=({enableHighAccuracy:t=!1,timeout:o=1/0,maximumAge:i=0,pause:a=!1})=>{var[r,s]=e(null),[c,l]=e(null);return n(()=>{if(a)return()=>{};if(!u())return l("POSITION_UNAVAILABLE"),()=>l(null);var e=navigator.geolocation.watchPosition(t=>s(t.coords),t=>l(g[t.code]),{enableHighAccuracy:t,timeout:o,maximumAge:i});return()=>p(e)},[t,o,i,a]),{latitude:null==r?void 0:r.latitude,longitude:null==r?void 0:r.longitude,errorCode:c}};return[()=>{t("HasLocationPermission",s=class extends i{constructor(t){super(t),this.state={outputComponent:null}}componentDidMount(){navigator&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(t=>{t&&t.state&&("granted"===t.state?navigator.geolocation.getCurrentPosition(()=>{this.setState({outputComponent:this.props.hasPermission()})},t=>{t.code===t.POSITION_UNAVAILABLE&&this.setState({outputComponent:this.props.positioningOff()})}):"denied"===t.state?this.setState({outputComponent:this.props.deniedPermission()}):"prompt"===t.state&&this.setState({outputComponent:this.props.promptPermission()}))})}render(){return a(r,null,this.state.outputComponent)}}),t({HasLocationPermission:s,canRequestLocation:u,clearWatch:p,requestLocation:c,useGeoLocation:m,watchLocation:l})},[t=>(e=t.useState,n=t.useEffect,i=t.Component,a=t.createElement,r=t.Fragment)]]},["cDcdfi"]]);
