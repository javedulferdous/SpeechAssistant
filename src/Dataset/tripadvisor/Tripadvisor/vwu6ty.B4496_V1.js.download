(this.$WP=this.$WP||[]).push(["5-GvUO/vwu6ty",(e,t)=>{"use strict";var s,i,r,a,o,n,d,l,g,u,c,p,h,m,v,b,S,f,y,I,k,E,w,j,C,D,M,L=()=>{var[e,t]=i(!1),s=r(e=>{t(e),v.set("ads.testMode",e)},[]);return a(()=>{var e=!0===v.get("ads.testMode");t(e);var s=v.addListener("ads.testMode",t);return()=>s()},[]),[e,s]};function O(e,t){if(null==e)return{};var s,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||(r[s]=e[s]);return r}var P="//securepubads.g.doubleclick.net/tag/js/gpt.js",x=[{width:300,height:250},{width:300,height:600},{width:160,height:600},{width:728,height:90},{width:970,height:250},{width:550,height:1}],A=[{width:320,height:50},{width:300,height:250}],T=({onDisableTestMode:e})=>s.createElement("div",{className:"_1bKXhj3X"},"Ad test mode enabled",s.createElement("button",{onClick:e,className:"_3r6eBcgt"},"[Disable]")),B=({children:e})=>e,N=({children:e})=>{var{browser:t,userAgentCategory:r}=d(l),{debugTool:o}=d(g),[n,u]=i(null),[c,p]=L();return a(()=>{var e={userAgentCategory:r,fetchMargin:"MOBILE"===r?"400px":"200px",browserFamily:t.family};u(c?new w(e):new E(e))},[t,r,c]),s.createElement(C.Provider,{value:n},o&&s.createElement(j,{testMode:c,onTestModeChange:p}),c&&s.createElement(T,{onDisableTestMode:()=>p(!1)}),s.createElement(D,null,e))},_=e=>e.toISOString().substring(0,10),F=()=>{var e,[{page:t,params:s},{uid:r}]=d(u),{userAgentCategory:o}=d(l),{sessionId:n}=d(c),{drsInfo:h}=d(g),{hotels:m}=d(p),[v,b]=i(null),S=s.geoId?s.geoId:0,y=s.detailId?s.detailId:0,I={hotelTravelInfo:m&&{checkInDate:_(m.checkInDate),checkOutDate:_(m.checkOutDate),defaultDates:m.defaultDates}||null,locationId:y||S,pageType:t,drs:h?(e=h,e.split("*").map(e=>{var[t,s]=e.split(".");return{space:t,sliceNum:Number.parseInt(s,10)}})):[],globalContextUrlParameters:Object.entries(s).map(([e,t])=>({key:e,value:String(t)})),userAgentCategory:o},[{fetching:k,data:E}]=f({query:M,variables:{pageAdsRequestInput:I}});return a(()=>{var e,t=null==E||null==(e=E.gptInfo)?void 0:e[0];if(!k&&t){var{pageLevelTargeting:s,adBase:i,ppid:a}=t;if(s&&i){var o=Object.fromEntries(s.map(e=>{var{key:t,value:s}=e||{};return t&&s?[t,[...s]]:null}).filter(Boolean));return b(Object.assign({},o,{pv_id:[r],sess:[n||null],adBase:i,ppid:a})),()=>{b(null)}}}},[E,k,r,n]),v};return e("_",O),[()=>{y=class{constructor({fetchMargin:e="0px",scriptSources:t}){this.loadPromise=null,this.fetchMargin=void 0,this.scriptSources=void 0,this.scriptSources=t,this.fetchMargin=e}getConsent(){return new Promise((e,t)=>b(S.ADVERTISING,()=>e(),()=>t(new Error("Advertising consent declined"))))}loadScripts(){return this.loadPromise||(this.loadPromise=this.getConsent().then(()=>{var e=this.scriptSources.map(e=>h(e,"WP"));return Promise.all(e)}).catch(e=>(this.loadPromise=null,this.scriptSources.join(", "),Promise.reject(e)))),this.loadPromise}load(e,t){return t||"undefined"==typeof IntersectionObserver?this.loadScripts():new Promise(t=>{var s=new IntersectionObserver(e=>{e.reduce((e,t)=>e||t.isIntersecting,!1)&&(s.disconnect(),this.loadScripts().then(t))},{rootMargin:this.fetchMargin,threshold:0});s.observe(e)})}},I=class{constructor({fetchMargin:e,browserFamily:t}){this.slotSubscriptions={},this.subscriptions=[],this.ppid=null,this.scriptLoader=void 0,globalThis.googletag=globalThis.googletag||{cmd:[]},this.scriptLoader=new y({fetchMargin:e,scriptSources:[P]}),googletag.cmd.push(()=>{googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:"EDGE"!==t}),googletag.pubads().disableInitialLoad(),googletag.enableServices()}),this.createEventProxy("slotRenderEnded",e=>({isRendered:!0,isLoaded:!1,isEmpty:55978451===(null==e?void 0:e.advertiserId)||(null==e?void 0:e.isEmpty)})),this.createEventProxy("slotOnload",()=>({isLoaded:!0})),this.createEventProxy("slotVisibilityChanged",e=>({isVisible:!!(null==e?void 0:e.inViewPercentage)}))}createEventProxy(e,t){googletag.cmd.push(()=>{googletag.pubads().addEventListener(e,e=>{var s,i=null==e||null==(s=e.slot)?void 0:s.getSlotElementId(),r=t(e);i&&r&&this.slotSubscriptions[i]&&(this.slotSubscriptions[i](r),this.subscriptions.forEach(e=>e()))})})}getSlots(){return googletag.pubadsReady?(googletag.pubads().getSlots()||[]).map(e=>{var{advertiserId:t,creativeId:s,lineItemId:i,campaignId:r}=e.getResponseInformation()||{};return{id:e.getSlotElementId(),targeting:Object.fromEntries(e.getTargetingKeys().map(t=>[t,e.getTargeting(t)])),responseInformation:{isCollapser:t&&55978451===t,advertiserId:t,creativeId:s,lineItemId:i,campaignId:r}}}):[]}getSlot(e){return googletag.pubads().getSlots().find(t=>t.getSlotElementId()===e)}addEventListener(e){return this.subscriptions.push(e),()=>{var t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}}createSlot({id:e,elem:t,size:s,targeting:i,aboveTheFold:r}){return googletag.cmd.push(()=>{if(!this.getSlot(e)){var{adBase:t,ppid:r}=i,a=O(i,["adBase","ppid"]);null!==r&&(googletag.pubads().setPublisherProvidedId(r),this.ppid=r);var o=function(e){return[...e.split("|").map(e=>e.split("x").map(Number)),"fluid"]}(s),n=googletag.defineSlot(t,o,e);n&&(n.setForceSafeFrame(!0),n.addService(googletag.pubads()),n.updateTargetingFromMap(a),n.setCollapseEmptyDiv(!0),googletag.display(e))}}),this.scriptLoader.load(t,r).then(()=>{this.refreshSlot(e,r)}).catch(()=>{this.slotSubscriptions[e]({isEmpty:!0,isLoaded:!0,isRendered:!0})}),{addEventListener:t=>(this.slotSubscriptions[e],this.slotSubscriptions[e]=t,()=>{delete this.slotSubscriptions[e]})}}refreshSlot(e,t=!1){googletag.cmd.push(()=>{var t=this.getSlot(e);t&&googletag.pubads().refresh([t])})}destroySlot(e){googletag.cmd.push(()=>{var t=this.getSlot(e);t&&(googletag.destroySlots([t]),this.subscriptions.forEach(e=>e()))})}},k=class extends I{constructor(e,t=!0){super(e),this.rubiconSupportedFormats=void 0,globalThis.pbjs=globalThis.pbjs||{que:[]},t&&(this.scriptLoader=new y({fetchMargin:e.fetchMargin,scriptSources:[P,"MOBILE"===e.userAgentCategory?"//ads.rubiconproject.com/prebid/13406_Mweb_Display.js":"//ads.rubiconproject.com/prebid/13406_Desktop_Display.js"]})),this.rubiconSupportedFormats="MOBILE"===e.userAgentCategory?A:x}refreshSlotWithoutBidding(e,t=!1){super.refreshSlot(e,t)}slotSupportsBidding(e){var t=e.getSizes();return!!Array.isArray(t)&&t.filter(e=>"object"==typeof e&&null!==e&&e.l&&e.j).map(e=>({width:e.l,height:e.j})).some(e=>this.rubiconSupportedFormats.some(t=>t.width===e.width&&t.height===e.height))}refreshSlot(e,t=!1){googletag.cmd.push(()=>{var s=this.getSlot(e);s&&(this.slotSupportsBidding(s)?(()=>{var[e=""]=s.getTargeting("loctype"),[t=""]=s.getTargeting("platform");pbjs.que.push(()=>{pbjs.rp.requestBids({timeout:2e3,gptSlotObjects:[s],data:{inventory:{loctype:e,platform:t}}})})})():this.refreshSlotWithoutBidding(e,t))})}},E=class extends k{constructor(e){super(e,!1),this.rubiconWrapperScriptLoader=void 0,this.wrapperLoaded=void 0,this.pageViewID=void 0,this.pageCount=void 0,this.rubiconWrapperScriptLoader=new y({fetchMargin:e.fetchMargin,scriptSources:["MOBILE"===e.userAgentCategory?"//ads.rubiconproject.com/prebid/13406_Mweb_Display.js":"//ads.rubiconproject.com/prebid/13406_Desktop_Display.js"]}),this.wrapperLoaded=!1,this.pageCount=0}createSlot(e){var t,s,i=null==e||null==(t=e.targeting)||null==(s=t.pv_id)?void 0:s[0];return this.pageViewID!==i&&(this.pageCount+=1,this.pageViewID=i),super.createSlot(e)}refreshSlot(e,t=!1){t&&!this.wrapperLoaded&&this.pageCount<=1?super.refreshSlotWithoutBidding(e,t):this.rubiconWrapperScriptLoader.loadScripts().then(()=>{this.wrapperLoaded=!0,super.refreshSlot(e,t)})}},w=class e extends I{constructor(e){super(e)}static getAdBase(e){return e.replace(/\.s\//,".test.s/")}createSlot(t){var{id:s,targeting:i}=t,r=O(t,["id","targeting"]);return Object.assign({targeting:i},r),super.createSlot(Object.assign({id:s,targeting:Object.assign({},i,{adBase:e.getAdBase(i.adBase)})},r))}destroySlot(e){super.destroySlot(e)}refreshSlot(e,t=!1){super.refreshSlot(e,t)}},j=m.onUsage(()=>t("5-GvUO/gmVWZD"),"default"),C=o(null),D=n(B),(M=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PageTargetingQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"AdContext_PageAdsRequestInput"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"gptInfo"},"name":{"kind":"Name","value":"AdContext_getPageAdsBatch"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"pageAdsRequestInput"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"adBase"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"ppid"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"pageLevelTargeting"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"key"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":240}}')).__key=0xab2a059eff8f,M.loc.source={body:"ab2a059eff8f"},e({A:C,G:I,R:k,T:w,_:O,a:T,b:N,c:L,d:"ads.testMode",u:F})},[e=>(s=e.default,i=e.useState,r=e.useCallback,a=e.useEffect,o=e.createContext,n=e.memo,d=e.useContext),e=>(l=e.Device,g=e.Debug,u=e.Route,c=e.Visitor,p=e.TravelInfo),e=>(h=e.importScript,m=e.component),e=>v=e.default,e=>(b=e.requestConsent,S=e.CategoriesEnum),e=>e.enqueue,e=>f=e.useQuery]]},["cDcdfi","2R4xv2","pLbCP4","jaCyxS","lMO0v3","fsml46","5X2em-"]]);
