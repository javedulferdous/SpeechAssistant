(this.$WP=this.$WP||[]).push(["QZysVi",(e,t)=>{"use strict";var s,a,r,i,o,l,n,c,d,p,m,u,_,h,g,v,S,N,O,f,b,x,k,y,F,T,C,w,H,L,D,I,B,E,q,M=({sortOptions:e,currentSortOrder:t,onSelect:i})=>{var[o,l]=s(""),[n,d]=s("CLOSE");"OPENING"===n&&setTimeout(()=>d("OPEN"),0),"CLOSING"===n&&setTimeout(()=>d("CLOSE"),200);var _="OPEN"===n,h=()=>{"CLOSE"===n?(T({module:"List_sort",action:"click_open"}),d("OPENING"),m("hotels-sort-filter-entry").emit("openSort")):(d("CLOSING"),m("hotels-sort-filter-entry").emit("closeSort"))},g=p("info_icons_over_question_icons")?"information-circle":"question-circle";return a(r,null,a(F,{type:"standard",fullwidth:!0,onClick:h},a(u,{name:"sort",className:"_3XI2qw7J"}),c("mobile_sort_8e0")),"CLOSE"!==n&&a(C,{transparentBackground:!0,disableAutoFocus:!0,onClose:h},a("div",{className:O("_10D5gc0l",{"_2lr0xN-B":_}),onClick:h},a("div",{className:"_3xoEqzyV"},a("span",{onClick:h,className:"_2KzcH5LA"},a(u,{name:"times",className:"KnOo4MTk"})),a("span",{className:"_3oMVNd9w"},c("poi_sort_by")),e.map(e=>{var s=e.sortOrder===t,n=e.sortOrder===o||e.autoExpandTooltipMW;return a("span",{key:e.sortOrder,className:O("_1_uiigKB",{_3ICnLWve:s}),onClick:()=>!s&&i(e.sortOrder)},a(u,{name:"checkmark",className:"vSvd8c-7"}),w(e.displayLabel),e.tooltipText&&a(r,null,a("span",{className:"uFFNeOLD",onClick:t=>{t&&t.stopPropagation(),l(e.sortOrder)}},!e.autoExpandTooltipMW&&a(u,{name:g})),n&&a("div",{className:"_1kuVa8HR"},e.tooltipText)))})))))},A=({sortOptions:e,selectedSort:t,onSelect:l,initialSortName:n,setGlobalTooltip:d})=>{var m,_,h,[g,v]=s(""),S=p("info_icons_over_question_icons")?"information-circle":"question-circle",N=i((e,t)=>{e.stopPropagation(),v(e=>e===t?"":((e=>{T({module:"sort_h",action:"expand_tool_tip",context:e})})(t),t))},[v]),f=i(()=>{setTimeout(()=>v(""),100)},[v]),b=i((e,t)=>a(r,null,w(t?e.shortDisplayLabel:e.displayLabel),e.tooltipText&&!t&&a(r,null,a("span",{onClick:t=>N(t,e.sortOrder)},a(u,{name:S,className:"ING8LmFc"})),g===e.sortOrder&&a("div",{className:"_3Bdl28lV"},e.tooltipText))),[N,g,S]),x=o(()=>e.map(e=>t=>b(e,t)),[e,b]),k=i(t=>{l(e[t].sortOrder),f()},[l,e,f]),y=i(()=>{d(""),T({module:"sort_h",action:"dropdown_click"})},[d]),F=e.findIndex(e=>e.sortOrder===t),C=null==(m=e[F])?void 0:m.tooltipText,H=null==(_=e[F])?void 0:_.descriptionLabel,L=null==(h=e[F])?void 0:h.sortOrder;return a(r,null,c("airm_sortBy"),a("span",{className:O("_3hIZ3UDf","_10lMSzUK"),"data-sort-dropdown":!0},a(I,{options:x,selectedIndex:F,onSelect:k,allowOptionWrapping:!0,open:!1,hideSelection:!0,placeholder:n,openBelow:!0,onClick:y,onClose:f,size:"large",beneathPersistentTripSearch:!0})),C&&a(D,{below:!0,message:C,onShow:()=>{T({module:"sort_h",action:"hover",context:L})},alignEdge:"right",shiftArrow:10,shiftX:16,maxWidth:200},e=>a("span",{ref:e},H&&a("span",{className:"_2UI8fqis"},H),a(u,{name:S,className:"_3aH5lnSF"}))))},P=(e,t,s,r)=>{var i,o=S(e,t,s);return i=p("housekeeping_ux_updates")?"gray":p("hotels_filters_reskin")?"green":"default",a("div",{className:"_3Htr9y5C"},a(N,{key:"pills",selections:o,onClearSelection:r,type:i,enableRowCutoff:!0}))},W=e=>{var{os:t}=l(f);return a(B,Object.assign({os:t.family},e))},G=()=>[];return[()=>{E=H(e=>Object.assign({},e),{setGlobalTooltip:L.overlays.showTooltip})(A),q=d(" &#9679; "),B=class extends n{constructor(...e){super(...e),this.state={sortOptions:[],selectedSort:"",descHeader:{descHeaderText:"",emptyListAlert:!1,highlightAll:!1}},this.bridgeRadio=void 0,this.updateFromBridge=()=>{var e=this.bridgeRadio.request("cur_sort_ext")||this.state.selectedSort,t=this.bridgeRadio.request("desc_header_text")||this.state.descHeader,s=this.bridgeRadio.request("sort_options_ext")||this.state.sortOptions;this.setState({selectedSort:e,descHeader:t,sortOptions:s})},this.decorateDescHeader=e=>{var t=(this.state.descHeader.descHeaderText||this.props.initialDescHeader||"").replace("highlight","_3nOjB60a").replace("clear","_5NGxlIuK");return a("div",{className:O("_2AGh2u0d",{_2XHurygs:this.state.descHeader.emptyListAlert}),onClick:t=>{var s=t&&t.target&&t.target.attributes&&t.target.attributes.getNamedItem("class");s&&s.nodeValue&&s.nodeValue.indexOf("_5NGxlIuK")>=0&&(T({module:"Filters_overall_clear",action:"unselect_link",context:"clear_all"}),e.clearAllFilters())}},this.state.descHeader.emptyListAlert&&a(u,{name:"alert",className:"MX0oKt3R"}),a("span",{className:O({_3nOjB60a:this.state.descHeader.highlightAll})},d(t)))},this.selectSort=e=>{T({module:"sort_h",action:"click",context:e}),globalThis.require(["ta/page"],t=>{t.setSortOrder(e)})},this.createAppropriateDisclaimer=e=>p("hamon_fr")?this.createHamonFrDisclaimer(e):p("cma_disclaimer")?this.createDisclaimer(e,p("exposed_text_legal_disclaimers")?c("payments_partners_impact_order_accoms_room_types_vary"):c("cma_disclaimer_teaser_msg"),c("cma_disclaimer_message")):null,this.createHamonFrDisclaimer=e=>{var t=d(c("Disclaimer_Hotel_Sort_Hamon_FR")),s=a("span",null,t,a("br",null),a("br",null),"Les prix des chambres peuvent varier.");return a(r,null,"featured"===this.state.selectedSort&&this.createDisclaimer(e,c("payments_partners_impact_order_accoms_room_types_vary"),c("cma_disclaimer_message"),null,"","prices"),this.createDisclaimer(e,c("hamon_law_more_info"),s,c("hotel_info_about_service"),"/pages/service.html","more-info"))},this.createDisclaimer=(e,t,s,i,o,l)=>{var n=`cma-opener-${e?"mobile":"desktop"}-${l?"-"+l:""}`,c=p("info_icons_over_question_icons")?"information-circle":"question-circle";return a(r,null,a(x,{name:n},e=>a("div",{className:O("_2V2Hwh7G",{MsoGdiD5:p("housekeeping_mw_ux_updates")}),onClick:e},a("span",{className:"_15X-YdXf"},t),a(u,{name:c}))),a(b,{name:n},a("div",{className:"_2X2B2pla"},s,i&&o&&a("a",{className:O("ui_button","primary","uCLwsB9S"),href:o},i))))},this.openFilter=()=>{T({module:"Filter_overall",action:"in_view"}),m("hotels-sort-filter-entry").emit("openFilters"),globalThis.require(["trjs!responsive/collapsibleLayout"],e=>{var t=p("hotel_filters_fullscreen");e.toggle(t).then(e=>{e&&(m("web-component-price-slider").emit("resize"),t&&"IOS"===this.props.os&&!y()&&window.scrollTo({top:100}))})})},this.createFilterButton=e=>{var t=e?a(r,null,a("span",{className:"_2gGW8vZ4"},q),e):null;return a(F,{type:"standard",fullwidth:!0,onClick:this.openFilter},a(u,{name:"filter",className:"_3V91smqP"}),a("span",{className:"EYNxeA1n"},c("mw_sort_Filter")),t)}}componentDidMount(){this.bridgeRadio=m("web-component-data-bridge"),this.bridgeRadio.on("update",this.updateFromBridge),this.updateFromBridge()}componentWillUnmount(){this.bridgeRadio.off("update",this.updateFromBridge)}createSortOverlay(){return a(M,{sortOptions:this.state.sortOptions,currentSortOrder:this.state.selectedSort,onSelect:this.selectSort})}createMapToggle(){return a(r,null,(p("entry_point_update")||this.props.isVacationPackageServlet)&&a(k,{toggleType:"INLINE_BUTTON",disableWhileLoading:this.props.disableMapToggleWhileLoading}))}createMWHeaderButtons(e){return a(r,null,this.createSortOverlay(),this.createFilterButton(e),this.createMapToggle())}render(){var e=p("desktop_web"),{initialSelectedFilters:t,isVacationPackageServlet:s,initialSortName:i,initialAvailableFilters:o}=this.props;return a(_,null,(l,n)=>{var c,d;if(l.initialized)c=h(l.pageFilters),d=P(l.pageFilters,o,l.sharedUIState,n.clearFilter);else{var m=g.fromSelectedFilterResponse(t),u=new v(m,o,0);c=h(m),d=P(m,o,u,n.clearFilter)}return a(r,null,a("div",{className:"is-hidden-desktop MOBILE_SORT_FILTER_BUTTONS"},a("div",{className:O("_1xAxS0Gv",p("entry_point_update")||s?"_1wpbtCi2":"","kIIUy4Un")},this.createMWHeaderButtons(c)),e?this.createAppropriateDisclaimer(!0):null),!e&&this.createAppropriateDisclaimer(!0),a("div",{className:"_1q0W7sW4"},this.decorateDescHeader(n),a("div",{className:O("_24vgkQpH","is-shown-at-desktop")},a(E,{sortOptions:this.state.sortOptions,selectedSort:this.state.selectedSort,onSelect:this.selectSort,initialSortName:i}))),a("div",{className:O("_2M-kjmC_","is-shown-at-desktop")},d,this.createAppropriateDisclaimer(!1)))})}},e("default",W),e("ssrQueries",G)},[e=>(s=e.useState,a=e.createElement,r=e.Fragment,i=e.useCallback,o=e.useMemo,l=e.useContext,n=e.Component),e=>(c=e.localize,d=e.unescaped),e=>p=e.featureIsEnabled,e=>m=e.default,e=>u=e.Icon,e=>_=e.FiltersStateConsumer,e=>(h=e.getSelectedFiltersCount,g=e.PageFilters,v=e.FiltersSharedUIState,S=e.gatherSelections),e=>N=e.default,e=>O=e.default,e=>f=e.Device,e=>b=e.Modal,e=>x=e.Opener,e=>(k=e.default,y=e.getMapState),e=>F=e.default,e=>T=e.default,e=>C=e.default,e=>w=e.unescapeHtml,e=>H=e.connect,e=>L=e.actions,e=>D=e.default,e=>I=e.Dropdown]]},["cDcdfi","535agn","-i3PJS","l6BSGt","_qQcW3","Bf1Sux","d9h_j1","HbmgZZ","jSLlaY","2R4xv2","HKQFPT","pT-O8u","mjTUZq","PCbs_l","Jk5sjx","iuYvTO","WkP2XE","h74DsO","aunxON","x9N_Dh","BsnOle"]]);
