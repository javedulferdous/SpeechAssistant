(window.webpackJsonp=window.webpackJsonp||[]).push([[23,21],{2249:function(e,t,n){e.exports={wrapper:"genius-banner__wrapper--f4ef9",inHomepage:"genius-banner__inHomepage--5427c",inOverviewSlideout:"genius-banner__inOverviewSlideout--a130d",inUsefulDealsInStaticList:"genius-banner__inUsefulDealsInStaticList--15441",banner:"genius-banner__banner--b5b92",inUsefulDeals:"genius-banner__inUsefulDeals--a94e6",inWebMenu:"genius-banner__inWebMenu--a1474",inMobileMenu:"genius-banner__inMobileMenu--793e0",title:"genius-banner__title--7a075",geniusLogo:"genius-banner__geniusLogo--1f3ed",description:"genius-banner__description--0047e",loginWrapper:"genius-banner__loginWrapper--731af",button:"genius-banner__button--de1ff",signUp:"genius-banner__signUp--f21d8 genius-banner__button--de1ff",separator:"genius-banner__separator--30463",cta:"genius-banner__cta--1257f genius-banner__button--de1ff",ctaLoggedIn:"genius-banner__ctaLoggedIn--e59e4 genius-banner__cta--1257f genius-banner__button--de1ff"}},2259:function(e,t,n){"use strict";n.r(t),n.d(t,"GeniusBanner",(function(){return w}));var a=n(7),c=n(34),l=n(0),i=n(202),o=n(588),r=n(106),s=n(84),u=n(585),b=n(268),d=n(464),p=n(18),O=n(3),m=function(e){return function(t){return"100:2698:"+{homepage:{login:2,signup:1,genius:9},overview:{login:4,signup:3,genius:10},usefulDeals:{login:6,signup:5,genius:11},usefulDealsInStaticList:{login:6,signup:5,genius:11},webMenu:{login:8,signup:7,genius:12},mobileMenu:{login:8,signup:7,genius:12}}[e][t]}},j=(n(12),n(2249)),g={},f=["href","/profile#account-details","data-qa","add-genius-account-button"],v=["type","button","data-qa","login-button"],h=["type","button","data-qa","sign-up-button"],_=["data-qa","booking-genius-banner"];g.render=function(e){var t;t={homepage:j.inHomepage,overview:j.inOverviewSlideout,usefulDeals:j.inUsefulDeals,usefulDealsInStaticList:j.inUsefulDealsInStaticList,webMenu:j.inWebMenu,mobileMenu:j.inMobileMenu},Object(l.elementOpen)("div","9Q}P@dc",_,"class",j.wrapper+" "+t[e.mountedIn]),Object(l.elementOpen)("section",null,null,"class",j.banner),Object(l.elementOpen)("h2",null,null,"class",j.title),Object(l.raw)(window.translate("genius_ad_banner_headline",{geniusBadge:"<span class='"+j.geniusLogo+"'>Genius</span>"})),Object(l.elementClose)("h2"),Object(l.elementOpen)("p",null,null,"class",j.description),e.isUserLoggedIn?Object(l.text)(window.translate("genius_ad_banner_logged_in_content")):Object(l.text)(window.translate("genius_ad_banner_not_logged_in_content")),Object(l.elementClose)("p"),e.isUserLoggedIn?(Object(l.elementOpen)("a","$iBd|@|",f,"class","btn btn--regular "+j.ctaLoggedIn,"ref",e.geniusAccountRef),Object(l.text)(window.translate("account_linking_genius_cta_button")),Object(l.elementClose)("a")):(Object(l.elementOpen)("div",null,null,"class",j.loginWrapper),Object(l.elementOpen)("button","He3,(;G",v,"class","btn btn--regular btn--link "+j.signUp,"ref",e.loginRef),Object(l.text)(window.translate("signin_member")),Object(l.elementClose)("button"),Object(l.elementOpen)("span",null,null,"class",j.signUp+" "+j.separator),Object(l.text)(window.translate("alert_edit_or")),Object(l.elementClose)("span"),Object(l.elementOpen)("button","1xD4^u?",h,"class","btn btn--regular "+j.cta,"ref",e.signUpRef),Object(l.text)(window.translate("signup_free")),Object(l.elementClose)("button"),Object(l.elementClose)("div")),Object(l.elementClose)("section"),Object(l.elementClose)("div")};var C=n(4),w=Object(a.createComponent)((function(e){var t=e.props,n=e.subscribe,l=Object(a.attachEvent)("click"),j=l[0],g=l[1],f=Object(a.attachEvent)("click"),v=f[0],h=f[1],_=Object(a.attachEvent)("click"),w=_[0],y=_[1],x=t.pipe(Object(o.a)("handleViewChange")),S=function(e){return Object(i.a)(Object(r.a)(Boolean),Object(s.a)(m),Object(p.e)((function(t){return t(e)})))},E=t.pipe(Object(o.a)("mountedIn"));return n(E.pipe(Object(p.k)(g),S("login"),Object(u.a)(Object(O.N)()),Object(b.a)(O.m.dispatch))),n(E.pipe(Object(p.k)(h),S("signup"),Object(u.a)(Object(O.jc)()),Object(b.a)(O.m.dispatch))),n(y.pipe(Object(d.a)(E,c.g,x),Object(b.a)((function(e){e[0];var t=e[1],n=m(t)("genius");Object(C.b)(n)})),Object(b.a)((function(e){var t=e[0],n=e[1],a=e[2],c=e[3];if(t.preventDefault(),"mobileMenu"===n)c("account-details");else if(a){var l=Object(O.X)(t.target.getAttribute("href"));O.m.dispatch(l)}else O.m.dispatch(Object(O.v)("account-details",!0))})))),{isUserLoggedIn:c.u,loginRef:j,signUpRef:v,geniusAccountRef:w,mountedIn:E}}),(function(e){return g.render(e)})),y={};y.render=function(e){Object(l.elementOpen)("div",null,null),e.isOnHomepage&&!e.hasGeniusAccountConnected&&Object(l.component)(w,"genius-banner-homepage",{mountedIn:"homepage"}),Object(l.elementClose)("div")};var x=n(694),S=c.x.pipe(Object(r.a)(Boolean),Object(o.a)("accounts","genius","level"),Object(x.a)(!1)),E=Object(a.createComponent)((function(){return{isOnHomepage:c.o,hasGeniusAccountConnected:S}}),(function(e){return y.render(e)})),I=document.getElementById("js-genius-banner");I&&Object(a.render)(I,E)},2276:function(e,t,n){"use strict";n.r(t),t.default=["ic_Illustrations_avatar","0 0 95 95","95","95"]},2277:function(e,t,n){"use strict";n.r(t),t.default=["ic_general_avatar","0 0 95 95","95","95"]},2342:function(e,t,n){},2554:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(37),l=n(3),i=n(63),o=n.n(i),r=n(9),s=n.n(r),u=n(19),b=n(15),d=n(26),p=n(2244),O=n(582),m=n(268),j=n(585),g=n(4),f=n(33),v=n(13),h=n(0),_=n(11),C=(n(12),n(1)),w={},y=["class","icon-ic icon-contain"],x=n(1122).default,S=["class","visuallyhidden"],E=["class","flex-wrapper"],I=["type","button","id","show_nav"];w.render=function(e){Object(h.elementOpen)("button","1y}=X!7",I,"ref",e.filterButton,"class",Object(C.classes)({base:"siteheader__control siteheader__control--filter","siteheader__control--filter-loggedin":e.user})),Object(h.elementOpen)("span","k/_3=GR",E),Object(h.elementOpen)("span","Icons/Default/Interface/filters_line",y),n(23).default(x),Object(h.elementClose)("span"),Object(h.elementOpen)("span","=lw2y2M",S),Object(h.text)(window.translate("filters")),Object(h.elementClose)("span"),Object(h.elementClose)("span"),Object(h.elementClose)("button")};var M={},k=["class","siteheader__nav-list-item"],T=["class","icon-ic icon-contain siteheader__nav-icon siteheader__nav-icon--login"],L=n(748).default,B=["class","siteheader__nav-list-string"],D=["class","flex-wrapper"],P=["data-qa","header-login"],A=["class","siteheader__nav-list-item"],V=["class","siteheader__control--badge"],U=["class","icon-ic icon-contain icon-icn_hamburger_menu siteheader__nav-icon"],W=n(1117).default,q=["class","icon-ic icon-contain siteheader__nav-icon"],H=n(2276).default,G=["class","siteheader__nav-list-string"],R=["class","flex-wrapper"],Q=["data-qa","header-menu-access"],F=["class","siteheader__nav-list-item"],X=["class","siteheader__nav-list"];M.render=function(e){var t,a=Object(C.createSubContext)(e);if(a.displayFilterButtonInHeader=!a.isAboveScreenTabletWide&&a.isMapView,Object(h.elementOpen)("nav",null,null),Object(h.elementOpen)("ul","ZTpLnk/",X),a.displayFilterButtonInHeader&&(Object(h.elementOpen)("li","jQcOc%K",k),t=a,w.render(t),Object(h.elementClose)("li")),null===a.user){Object(h.elementOpen)("li","^m9|t)v",A),Object(h.elementOpenStart)("button","+3Bguoh",P,"onClick",a.handleLogin);for(var c=0,l=Object(C.attrs)({class:Object(C.classes)({base:"siteheader__control","siteheader__control--is-offline":a.isOffline||a.disabled}),type:"button",disabled:a.isOffline}),i=l.length;c<i;c+=2)Object(h.attr)(l[c],l[c+1]);Object(h.elementOpenEnd)(),Object(h.elementOpen)("span","WDh2H@^",D),Object(h.elementOpen)("span","Icons/Default/People/adult_line",T),n(23).default(L),Object(h.elementClose)("span"),Object(h.elementOpen)("span","jR1W:!V",B),Object(h.text)(window.translate("signin_member")),Object(h.elementClose)("span"),Object(h.elementClose)("span"),Object(h.elementClose)("button"),Object(h.elementClose)("li")}Object(h.elementOpen)("li","T_-I,XB",F),Object(h.elementOpenStart)("button","e$gj:Cz",Q,"onclick",a.handleMenuBoxClick);for(var o=0,r=Object(C.attrs)({class:Object(C.classes)({base:"siteheader__control","siteheader__control--is-offline":a.isOffline||a.disabled}),type:"button",disabled:a.isOffline}),s=r.length;o<s;o+=2)Object(h.attr)(r[o],r[o+1]);Object(h.elementOpenEnd)(),Object(h.elementOpen)("span","RAwe`yF",R),Object(_.d)("WEB-47358")&&a.bookmarksCount>0&&!Object(_.d)("WEB-53210")&&Object(h.elementVoid)("span","$sm1B+F",V),null===a.user?(Object(h.elementOpen)("span","Icons/Default/Functional/menu",U),n(23).default(W),Object(h.elementClose)("span")):(Object(h.elementOpen)("span","Illustrations/avatar",q),n(23).default(H),Object(h.elementClose)("span")),Object(h.elementOpen)("span","I*jjv]3",G),Object(h.text)(window.translate("header_menu")),Object(h.elementClose)("span"),Object(h.elementClose)("span"),Object(h.elementClose)("button"),Object(h.elementClose)("li"),Object(h.elementClose)("ul"),Object(h.elementClose)("nav")};var N=n(363),z={},Y=["class","flex-wrapper"],$=["type","button","class","siteheader__control siteheader__control--language","data-qa","locale-selector"],J=["class","pos-relative"];z.render=function(e){Object(h.elementOpen)("div","5;L;<Gw",J),Object(h.elementOpen)("button","7fPTJ);",$,"onclick",e.handleLanguageBoxClick),Object(h.elementOpen)("span","UK`phI^",Y),Object(h.text)(e.activeLanguage.languageCode.toUpperCase()),Object(h.elementClose)("span"),Object(h.elementClose)("button"),"language"==e.activeView&&Object(h.component)(N.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.language,showDropdown:!0,position:e.position,user:e.user,languages:e.languages,l10n:e.l10n}),Object(h.elementClose)("div")};var K={},Z=["class","icon-ic siteheader__arrow-ic icon-rtl"],ee=n(213).default,te=["class","flex-wrapper"],ne=["for","currency","class","visuallyhidden","data-qa","currency-menu"],ae=["class","option"],ce=["class","option"],le=["id","currency","class","siteheader__select"],ie=["class","siteheader__control siteheader__control--currency"];K.render=function(e){Object(h.elementOpen)("div","WltuS1L",ie),Object(h.elementOpen)("span","[v7aj8#",te),Object(h.text)(e.activeCurrencyName),Object(h.elementOpen)("span","Icons/Default/Functional/arrow",Z),n(23).default(ee),Object(h.elementClose)("span"),Object(h.elementClose)("span"),Object(h.elementOpen)("label","w4@C+I#",ne),Object(h.text)(window.translate("language_selector_header_currency")),Object(h.elementClose)("label"),Object(h.elementOpen)("select","hNSE9H2",le,"onchange",e.handleCurrenciesChange),Object(h.elementOpen)("optgroup",null,null,"label",window.translate("currency_top")),function(){for(var t=e.topCurrencies,n=0,a=t.length,c=t[0];n<a;c=t[++n]){Object(h.elementOpenStart)("option",""+c.currency,ae,"value",c.currency);for(var l=0,i=Object(C.attrs)({selected:c.currency==e.activeCurrencyName}),o=i.length;l<o;l+=2)Object(h.attr)(i[l],i[l+1]);Object(h.elementOpenEnd)(),Object(h.text)(c.currency),Object(h.text)(" - "),Object(h.text)(c.name),Object(h.elementClose)("option")}}(),Object(h.elementClose)("optgroup"),Object(h.elementOpen)("optgroup",null,null,"label",window.translate("currency_all")),function(){for(var t=e.currencies,n=0,a=t.length,c=t[0];n<a;c=t[++n]){Object(h.elementOpenStart)("option",""+c.currency,ce,"value",c.currency);for(var l=0,i=Object(C.attrs)({selected:c.currency==e.activeCurrencyName}),o=i.length;l<o;l+=2)Object(h.attr)(i[l],i[l+1]);Object(h.elementOpenEnd)(),Object(h.text)(c.currency),Object(h.text)(" - "),Object(h.text)(c.name),Object(h.elementClose)("option")}}(),Object(h.elementClose)("optgroup"),Object(h.elementClose)("select"),Object(h.elementClose)("div")};var oe={},re=["class","icon-ic icon-contain icon-icn_avatar"],se=n(2277).default,ue=["class","icon-ic siteheader__arrow-ic icon-rtl"],be=n(213).default,de=["id","user-text","class","flex-wrapper"],pe=["id","user","type","button","class","siteheader__control js-user-menu-button","data-qa","header-menu-access"],Oe=["class","pos-relative"];oe.render=function(e){Object(h.elementOpen)("div","XrRvDX:",Oe,"onmouseenter",e.handleUserBoxEnter,"onmouseleave",e.handleUserBoxLeave),Object(h.elementOpen)("button","+4P^v%A",pe),Object(h.elementOpen)("span","mb:e3$y",de),null!==e.user?(Object(h.elementOpen)("span","general/avatar",re),n(23).default(se),Object(h.elementClose)("span"),Object(h.elementOpen)("span",null,null,"data-di-mask",!0),Object(h.text)(null!=e.user.name?e.user.name:e.user.email),Object(h.elementClose)("span")):Object(h.text)(window.translate("header_menu")),Object(h.elementOpen)("span","Icons/Default/Functional/arrow",ue),n(23).default(be),Object(h.elementClose)("span"),Object(h.elementClose)("span"),Object(h.elementClose)("button"),"user"==e.activeView&&Object(h.component)(N.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.user,showDropdown:!0,activeView:e.activeView,position:e.position,user:e.user,languages:e.languages,l10n:e.l10n,isProfilePage:e.isProfilePage,customClasses:"header-popover header-popover--member",handleCloseHeaderMenu:e.handleCloseHeaderMenu}),Object(h.elementClose)("div")};var me={},je=["class","flex-wrapper"],ge=["type","button","class","siteheader__control","data-qa","header-login"],fe=["class","pos-relative has-popover"];me.render=function(e){Object(h.elementOpen)("div","/K_L>}]",fe),Object(h.elementOpen)("button","3$!`|UZ",ge,"ref",null!=e.logIn&&""!==e.logIn?e.logIn:"","onClick",e.handleLogin),Object(h.elementOpen)("span","n1_m{3,",je),Object(h.text)(window.translate("signin_member")),Object(h.elementClose)("span"),Object(h.elementClose)("button"),Object(h.elementClose)("div")};var ve={},he=["id","ctest-text","class","flex-wrapper"],_e=["id","ctest","type","button","class","siteheader__control siteheader__control--ctest"],Ce=["class","ctest-button-wrapper"];ve.render=function(e){Object(h.elementOpen)("div","s)Va,9(",Ce),Object(h.elementOpen)("button","YEI%o/5",_e,"onclick",e.handleCTestBoxClick),Object(h.elementOpen)("span","Nb/!H(o",he),Object(h.text)("CT"),Object(h.elementClose)("span"),Object(h.elementClose)("button"),"ctest"==e.activeView&&Object(h.component)(N.a,"drawer-toolbar"+e.activeView,{ContentComponent:e.views.ctest,showDropdown:!0,position:"bottom-leading",user:e.user,languages:e.languages,l10n:e.l10n}),Object(h.elementClose)("div")};var we={},ye=["class","siteheader__headertools js_header_tools siteheader__menu"];we.render=function(e){var t,n=Object(C.createSubContext)(e);n.menuButtonPosition=Object(_.d)("WEB-53274")?"bottom-trailing":"bottom-center",Object(h.elementOpen)("div","qmGmXqH",ye,"ref",n.root),n.isAboveScreenMedium?(n.views.ctest&&(t=n,ve.render(t)),null===n.user&&function(e){me.render(e)}(n),function(e){oe.render(e)}(Object(C.createSubContext)(n,{activeView:n.activeView,signInDismissed:n.signInDismissed,user:n.user,position:n.menuButtonPosition})),function(e){K.render(e)}(n),n.languages.length>1&&function(e){z.render(e)}(Object(C.createSubContext)(n,{position:"bottom-trailing"}))):function(e){M.render(e)}(Object(C.createSubContext)(n,{isOffline:n.isOffline,hasUnreadMessages:n.hasUnreadMessages})),Object(h.elementClose)("div")};var xe={},Se=["type","button","class","w-100 ta-leading fs-menu__button"],Ee=["class","fs-menu__item"],Ie=["class","fs-menu__list"],Me=["class","fs-menu__section"];xe.render=function(e){Object(h.elementOpen)("section","}1i~CC3",Me),Object(h.elementOpen)("ul","B2?#nr+",Ie);for(var t=e.languages,n=0,a=t.length,c=t[0],l=1,i=a-1;n<a;c=t[++n])Object(h.elementOpen)("li",""+l,Ee),Object(h.elementOpen)("button","8@)X#*'",Se,"onclick",e.handleLanguageChange,"data-index",l,"title",c.label,"lang",c.languageCode),Object(h.text)(c.languageCode.toUpperCase()),Object(h.text)(" â€“ "),Object(h.text)(c.label),Object(h.elementClose)("button"),Object(h.elementClose)("li"),l++,!1,0===--i;Object(h.elementClose)("ul"),Object(h.elementClose)("section")};var ke={localizationLanguageSet:l.M},Te=Object(c.connect)(void 0,ke),Le=Object(d.exposeToState)(["handleLanguageChange"]),Be=Te(Object(a.createComponent)((function(e){return xe.render(e)}),Le,{handleLanguageChange:function(e){(0,this.props.localizationLanguageSet)(e.target.getAttribute("lang"))}})),De=n(358),Pe=n(2259),Ae={},Ve=["class","popover-list__subtitle"];function Ue(e){return Ae.render(e)}Ae.render=function(e){var t;if(t=Object(_.d)("WEB-53274")&&e.subTitle,Object(h.elementOpen)("li",""+e.label,null,"class",Object(C.classes)({base:"popover-list__item","popover-list__item--logout":e.isLogout})),void 0!==e.url)Object(h.elementOpen)("a",null,null,"href",e.url,"onclick",e.action,"class",Object(C.classes)({base:"popover-list__link","popover-list__link--with-subtitle":t}),"data-qa",e.dataQa),Object(h.text)(e.label),t&&(Object(h.elementOpen)("span","RQXGlR4",Ve),Object(h.raw)(e.subTitle),Object(h.elementClose)("span")),Object(h.elementClose)("a");else{Object(h.elementOpenStart)("button",null,null,"onclick",e.action);for(var n=0,a=Object(C.attrs)({type:"button",class:"popover-list__button","data-qa":e.dataQa,disabled:e.isOffline}),c=a.length;n<c;n+=2)Object(h.attr)(a[n],a[n+1]);Object(h.elementOpenEnd)(),Object(h.text)(e.label),Object(h.elementClose)("button")}Object(h.elementClose)("li")};var We=n(6),qe={},He=["class","popover-list"];qe.render=function(e){var t=Object(C.createSubContext)(e);t.isGeniusAccountActivated=Object(_.d)("WEB-53274"),Object(h.elementOpen)("div",null,null),Object(h.elementOpen)("ul","IS/OvJ>",He),Object(We.c)("guarantees")&&Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#guarantees",label:window.translate("trv_guarantee_title"),dataQa:"member-menu-guarantees"})),Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#recently-viewed",label:window.translate("recently_viewed"),dataQa:"member-menu-recently-viewed"})),null===t.user&&t.isGeniusAccountActivated&&Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#sync-accounts",label:window.translate("sync_accounts"),dataQa:"member-menu-sync-accounts"})),null!==t.user&&(t.isGeniusAccountActivated?Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#account-details",label:window.translate("accountsettings_member"),subTitle:t.subtitleWithConnectedAccountMap[t.isGeniusAccountConnected],dataQa:"member-menu-account-settings"})):Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#account-details",label:window.translate("accountsettings_member"),dataQa:"member-menu-account-settings"}))),Object(_.d)("WEB-40402")&&(Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#booking-overview",label:window.translate("account_navigation_booking_itinerary"),dataQa:"member-menu-booking-overview"})),Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#payment-methods",label:window.translate("payment_methods"),dataQa:"member-menu-payment-methods"}))),Object(We.c)("support-center")&&Ue(Object(C.createSubContext)(t,{action:t.handleMenuClick,url:"/profile#support-center",label:window.translate("help_support_title"),dataQa:"member-menu-support-center"})),null!==t.user&&Ue(Object(C.createSubContext)(t,{action:t.handleLogoutClick,label:window.translate("logoff"),dataQa:"member-menu-logout",isLogout:!0})),Object(h.elementClose)("ul"),t.isGeniusAccountActivated&&!t.isGeniusAccountConnected&&Object(h.component)(Pe.GeniusBanner,"genius-banner",{mountedIn:"webMenu"}),Object(h.elementClose)("div")};var Ge=Object(b.createStructuredSelector)({isProfilePage:function(e){return e.routing.isProfilePage},isGeniusAccountConnected:function(e){return e.security.user&&!!e.security.user.accounts&&!!e.security.user.accounts.genius.email},subtitleWithConnectedAccountMap:function(){return De.z}}),Re={logout:l.O,pathToAction:l.X},Qe=Object(c.connect)(Ge,Re),Fe=Object(d.exposeToState)(["handleMenuClick","handleLogoutClick"]);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye={activeView:null,views:{user:Qe(Object(a.createComponent)((function(e){return qe.render(e)}),Fe,{handleMenuClick:function(e){e.preventDefault();var t=e.target.closest(".popover-list__link").getAttribute("href"),n=t.split("#")[1],a=this.props,c=a.pathToAction,i=a.isProfilePage;(0,a.handleCloseHeaderMenu)(),i?(window.location.hash="",window.location.hash=n):c(t),l.m.dispatch(Object(l.bb)(n,Date.now(),i)),Object(g.b)("100:2472:"+De.r[n].section)},handleLogoutClick:function(){var e=this.props.logout;Object(g.b)("100:2472:16",{sendDirectly:!0}),e()}})),language:Be}},$e=n(1005),Je=n(84),Ke=n(461),Ze=n(106),et=n(464),tt=n(701),nt=function(e,t){return e.pipe(Object($e.a)("SET_VIEWTYPE"),Object(Je.a)((function(e){return e.payload})),Object(Ke.a)(),Object(Ze.a)((function(e){return"user"===e})),Object(et.a)(t),Object(m.a)((function(e){e[0];var t=e[1].user;return Object(g.b)("100:2472:"+(t?"21":"20"))})),Object(tt.a)())},at=n(96),ct=n(24),lt=n(153);function it(e,t,n,a,c,l,i){try{var o=e[l](i),r=o.value}catch(e){return void n(e)}o.done?t(r):Promise.resolve(r).then(a,c)}var ot=Object(c.connect)(lt.d),rt=s()(v.a,["ctestviewer","isEnabled"],!1),st=Object(b.createSelector)((function(e){return e.localization.currencies}),(function(e){return e.filter((function(e){return e.isTop}))})),ut=Object(b.createSelector)((function(e){return e.security.user}),(function(e){return e.localization}),st,(function(e){return e.browser.viewport.isAboveScreenMedium}),(function(e){return e.browser.viewport.isAboveScreenTablet}),(function(e){return e.browser.viewport.isAboveScreenTabletWider}),(function(e){return e.searchForm.overlayMode}),(function(e){return e.routing.isProfilePage}),(function(e){return e.routing.viewType}),(function(e){return e.browser.isOffline}),(function(e){return e.routing.hasMap}),(function(e){return e.routing.hasList}),f.viewModeSelector,(function(e,t,n,a,c,l,i,o,r,s,u,b,d){return{user:e,isAboveScreenMedium:a,isAboveScreenTablet:c,isAboveScreenTabletWider:l,isProfilePage:o,isMapView:!b&&u,countries:t.countries,languages:t.languages,activeLanguage:t.activeLanguage,currencies:t.currencies,topCurrencies:n,activeCurrency:t.activeCurrency,activeCurrencyName:t.activeCurrencyName,l10n:t.l10n,isFetchingCountries:!1,isOffline:s,viewMode:d,overlayMode:i}})),bt={localizationCurrencySet:l.L,headerOpenMenu:l.v,login:l.N,signup:l.jc,pathToAction:l.X},dt=Object(u.compose)(Object(c.connect)(ut,bt),!Object(_.d)("WEB-47358")&&!Object(ct.a)("cmvp")||Object(_.d)("WEB-53210")?function(e){return e}:ot,Object(u.withRefs)((function(e){return{root:function(t){return e.refs.root=t,{unsubscribe:function(){e.refs.root=null}}},logIn:function(){return{unsubscribe:function(){}}},filterButton:function(e){return Object(O.a)(e,"click").pipe(Object(m.a)((function(){return Object(g.b)("100:2508:3")})),Object(j.a)(Object(l.Ib)("filters")),Object(m.a)(l.m.dispatch)).subscribe()}}})),Object(at.f)([{getElements:function(){var e=[this.el.querySelector(".js-user-menu-button"),this.el.querySelector(".siteheader__headertools .popover"),s()(document.querySelector(".siteheader__control--ctest"),"parentElement"),document.querySelector("#js-trv-overlay-component")];return o()(e)},action:function(){null!==this.state.activeView&&this.dispatch({type:"SET_VIEWTYPE",payload:null})}}])),pt=Object(d.exposeToState)(["handleCurrenciesChange","handleSignup","handleLogin","handleUserBoxEnter","handleUserBoxLeave","handleLanguageBoxClick","handleCTestBoxClick","handleMenuBoxClick","handleCloseHeaderMenu"],(function(e,t){void 0===e&&(e=Ye);var n=t.type,c=t.payload;switch(n){case a.RECEIVE_PROPS:return Ne({},e,{},c,{activeView:e.activeView});case"SET_VIEWTYPE":return Ne({},e,{activeView:c});case"CTESTTOOL_LOADED":return Ne({},e,{views:Ne({},e.views,{ctest:c})});default:return e}})),Ot=Object(p.a)(),mt=["header-active","header-ctest-active"],jt=dt(Object(a.createComponent)((function(e){return we.render(e)}),pt,(function(e){var t=e.componentDidMount,a=e.componentDidUpdate,c=e.componentWillUnmount;return{componentDidMount:function(){var e=this;Ot.run(nt),rt&&n.e(18).then(n.bind(null,2559)).then(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.default,t.next=3,a();case 3:c=t.sent,e.dispatch({type:"CTESTTOOL_LOADED",payload:c});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,c){var l=t.apply(e,n);function i(e){it(l,a,c,i,o,"next",e)}function o(e){it(l,a,c,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()),this.userBoxTimeOutId=null,t.call(this)},componentDidUpdate:function(e,t){var n=this.state.activeView;requestAnimationFrame((function(){null===n?mt.forEach((function(e){return document.body.classList.remove(e)})):(document.body.classList.add("header-active"),"ctest"===n&&document.body.classList.add("header-ctest-active"))})),a.call(this,e,t)},componentWillUnmount:function(){null!==this.userBoxTimeOutId&&clearTimeout(this.userBoxTimeOutId),c.call(this)},handleCurrenciesChange:function(e){(0,this.props.localizationCurrencySet)(e.target.value)},handleSignup:function(){var e=this.props.signup;Object(g.b)("100:2472:14",{sendDirectly:!0}),e()},handleLogin:function(){var e=this.props.login;Object(g.b)("100:2472:13",{sendDirectly:!0}),e()},handleUserBoxEnter:function(){null!==this.userBoxTimeOutId&&(clearTimeout(this.userBoxTimeOutId),this.userBoxTimeOutId=null),this.dispatch({type:"SET_VIEWTYPE",payload:"user"})},handleUserBoxLeave:function(){var e=this;this.userBoxTimeOutId=setTimeout((function(){"user"===e.state.activeView&&e.handleCloseHeaderMenu()}),200)},handleCloseHeaderMenu:function(){this.dispatch({type:"SET_VIEWTYPE",payload:null})},handleLanguageBoxClick:function(){this.dispatch({type:"SET_VIEWTYPE",payload:"language"})},handleCTestBoxClick:function(){var e="ctest"===this.state.activeView?null:"ctest";this.dispatch({type:"SET_VIEWTYPE",payload:e})},handleMenuBoxClick:function(){(0,this.props.headerOpenMenu)()}}}),Object(d.applyMiddleware)(Ot))),gt=(n(2342),Object(c.provide)(l.m,jt)),ft=document.getElementById("js-header");ft&&Object(a.render)(ft,gt)}}]);
//# sourceMappingURL=header.24088209f717b6374248.js.map