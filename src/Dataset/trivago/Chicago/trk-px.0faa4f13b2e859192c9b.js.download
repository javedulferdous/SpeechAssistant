(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{2240:function(e,t,n){"use strict";n.r(t),n.d(t,"setupTrackingPixel",(function(){return L}));var a,r=n(28),c=n.n(r),i=n(197),o=n.n(i),u=n(292),s=n(20),l=n(4),d=n(3),p=n(588),b=n(84),f=n(585),m=n(464),h=n(106),j=n(268),O=n(701),v=n(1005),g=n(201),y=n(339),w=n(2),C=n(2323),D=n.n(C),I=n(2326),k=n.n(I),B=n(13),E=n(58),N=n(2309),R=(a=w.Ib,function(e){if(a(e.poisCenterConcept))return e.poisCenterConcept.t;var t=Object(w.ib)(e.concepts);return a(t)?t.t:""}),Y=function(e){var t=e[0],n=e[1],a=t.eventName,r=t.payload,c=n.search,i=n.accommodations,o=n.security,u=c.rooms,s=c.dateRange,l=c.concepts,d=o.user,p=u.reduce((function(e,t){return e+=t.adults,e+=t.children.length}),0),b=function(e){var t=e.rooms;if(t.length>1)return"family";if(t[0])switch(t[0].adults){case 1:return"single";case 2:return"double";default:return"family"}return""}(c),f=l.map((function(e){return Object(w.Vb)(e)?e.t:null})).filter(Boolean).join(","),m=s.arrival.getDifferenceBetweenDates(s.departure),h={pageCategory:document.location.toString(),vertical:"hotel",currency:B.a.currencies.active.currency};if("search"===a){var j=Object(w.fb)(l);h.propertyID=j?j.cid.toString():"",h.city=R(c)}if("product"===a){var O=r.itemId,v=r.euroCentPrice;if(!O)return null;var g=i.byId[O]||i.alternativesById[O]||i.sponsoredById[O]||i.aaById[O];if(!g&&N.b)g=N.b.getState().items.byId[O];if(!g)return null;var y=g.name.value,C=g.rating.category;h.brand=y,h.price=Object(E.h)(v),h.starRating=C,h.propertyID=""+O,h.city=g.locality.value}if(["search","product"].includes(a)){if(d){var I=d.email;h.hashedEmailMD5=D()(I),h.hashedEmailSHA1=k()("sha1").update(I).digest("hex"),h.hashedEmailSHA256=k()("sha256").update(I).digest("hex")}h.roomType=b,h.ratePlan=f,h.numberOfNights=m,h.numberOfRooms=u.length,h.numberOfTravelers=p,h.checkInDate=""+s.arrival.format("YYYY-MM-DD"),h.checkOutDate=""+s.departure.format("YYYY-MM-DD")}return{trackingObject:h,eventName:a}},x=n(38),P=n.n(x),S=n(18),M={search:1,product:2,homePage:3},T=function(e,t){var n=e.pipe(Object(v.a)("CLICKOUT_TRIGGERED"),Object(p.a)("payload"),Object(b.a)((function(e){return{eventName:"product",payload:e}}))),a=e.pipe(Object(v.a)("SEARCH_POLL_COMPLETED"),Object(f.a)({eventName:"search",payload:{}})),r=Object(g.a)({eventName:"homePage",payload:{}});return Object(y.a)(n,a,r).pipe(Object(m.a)(t),Object(b.a)(Y),Object(h.a)(Boolean),Object(S.e)((function(e){var t=e.eventName;return"100:2664:2:505:"+M[t]})),Object(j.a)((function(e){var t=e.trackingObject,n=e.eventName;window.sjn("track",n,t)})),Object(O.a)())},A=o()((function(){window.sjn=window.sjn||function(){(window.sjn.q=window.sjn.q||[]).push(arguments)},window.sjn("init","partner","RBut99k3Qg0wbSBR"),Object(s.E)("https://pixel.sojern.com/static/pixels/latest/sojern.min.js").then((function(){Object(l.b)("100:2664:1")})).catch(c.a),d.p.next(T)})),L=function(){var e=Object(u.getActiveCookieGroups)();P.a.get("OptanonAlertBoxClosed")&&e.includes("C0004")&&A()}}}]);
//# sourceMappingURL=trk-px.0faa4f13b2e859192c9b.js.map