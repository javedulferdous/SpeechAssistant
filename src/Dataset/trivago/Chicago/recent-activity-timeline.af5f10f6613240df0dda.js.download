(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{2381:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getDestinationDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DestinationDetailsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getDestinationDetails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"destinationDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nsid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ns"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"translatedName"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"typeObject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nsid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"isSmallCity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boundingBox"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"southWest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"northEast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:554}};n.loc.source={body:"query getDestinationDetails($input: DestinationDetailsInput!) {\n  getDestinationDetails(input: $input) {\n    destinationDetails {\n      nsid {\n        id\n        ns\n      }\n      name: translatedName {\n        value\n      }\n      coordinates {\n        longitude\n        latitude\n      }\n      type: typeObject {\n        nsid {\n          id\n        }\n      }\n      isSmallCity\n      boundingBox {\n        southWest {\n          longitude\n          latitude\n        }\n        northEast {\n          longitude\n          latitude\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getDestinationDetails=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,c=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){c.has(e)||(c.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return c.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"getDestinationDetails")},2382:function(e,t,n){e.exports={headline:"card__headline--32e42"}},2383:function(e,t,n){e.exports={image:"card__image--36181",imageAspectRatio:"card__imageAspectRatio--bbecb"}},2384:function(e,t,n){"use strict";n.r(t),t.default=["ic_general_arrow-right-36x36","0 0 36 36","36","36"]},2385:function(e,t,n){e.exports={itemSummary:"timeline__itemSummary--69e3f",headline:"timeline__headline--f88af",button:"timeline__button--a9cde",wrapper:"timeline__wrapper--71f86"}},2386:function(e,t,n){e.exports={timeStamp:"timeline__timeStamp--802a9"}},2387:function(e,t,n){e.exports={timeline:"timeline__timeline--ed10f",headline:"timeline__headline--9693f",list:"timeline__list--326a0",listEnd:"timeline__listEnd--ccb21",listItem:"timeline__listItem--0c54e",cardListWrapper:"timeline__cardListWrapper--ecc03",cardListHeadline:"timeline__cardListHeadline--5febc",cardList:"timeline__cardList--722dc",cardListItem:"timeline__cardListItem--12724",link:"timeline__link--730c4",recentSearch:"timeline__recentSearch--51c5b"}},2388:function(e,t,n){},2556:function(e,t,n){"use strict";n.r(t);var i=n(5),a=n(42),r=n.n(a),c=n(4),l={pageId:2474,reference:2},o={pageId:2539,reference:4},s={pageId:2538,reference:4},d=function(e,t){return void 0===t&&(t=""),Object(c.b)("100:"+e.pageId+":"+e.reference+t)};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return e.length>0},O=function(e){var t,n=function(e){var t=Object.values(e.groups).flatMap((function(e){return e.ownRecentlyViewedIds.map((function(e){return e+"/100,NULL,NULL#"}))})),n=t.length,i=t.join("");return n>0?":485:#"+i:null}(e);n&&(t=n,Object(c.b)("100:2582:0"+t))},f=function(e){var t=e[1],n=e[2];return!!t.order.length&&n},j=function(e,t){return!e.isSame(t)},v=n(62),g=n.n(v),h=n(9),y=n.n(h),_=n(2),w=n(32),k=n(17),D=n(85),S=n(53),C=n(2381),R=n(39);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,i,a,r,c){try{var l=e[r](c),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(i,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function c(e){E(r,i,a,c,l,"next",e)}function l(e){E(r,i,a,c,l,"throw",e)}c(void 0)}))}}var T=D.a.dateFormat,P=D.a.machineReadableFormat,L={order:[],groups:{},recentlyViewedById:{}},V=function(e){return e.map(_.tb).map(_.eb)},F=function(){var e=A(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i=V(t),S.a.query({query:C.getDestinationDetails,variables:{input:{nsids:i}}});case 3:return(n=e.sent).data.errors&&Object(R.forceLogError)("GraphQl request failed"),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}var i}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e,t){return e.reduce((function(e,n){var i=G(n,t);return i&&(e[n]=N({},i,{isCached:!0})),e}),{})},U=function(){var e=A(regeneratorRuntime.mark((function e(t,n,i){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n,i);case 2:return a=e.sent,r=y()(a,["data","getDestinationDetails","destinationDetails"],[]),e.abrupt("return",r.reduce((function(e,t){return e[Object(_.sb)(t.nsid)]=t,e}),{}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),q=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&t.push(n),t}),[])},G=function(e,t){return t[e]?t[e]:null},B=function(e){return e.latitude+", "+e.longitude},z=function(e,t){return!!e&&e.length>t.order.reduce((function(e,n){return e+t.groups[n].ownRecentlyViewedIds.length}),0)},H=function(e){var t={multi:"adults_three_line",family:"adults_two_kid_line",double:"adults_two_line",single:"adult_line"};return e.roomTypeName?t[e.roomTypeName]:t.double},W=function(e,t,n){return e.filter((function(e){var i=[e.localityNsid].concat(e.destinationHierarchy),a=i.reduce((function(e,t){return e[t]=!0,e}),{});return function(e,t){var n=y()(e,"dateRange",!1),i=y()(t,"dateRange",!1);return!(!n||!i)&&(n.arrival.isSame(i.arrival)&&n.departure.isSame(i.departure))}(e,t)&&function(e,t){return Object(k.v)(e.rooms).numGuests===Object(k.v)(t.rooms).numGuests}(e,t)&&a[n]}))},J=function(e){var t=new Date(e);return new w.a(t.getFullYear(),t.getMonth()+1,t.getDate()).format(P)},K=function(e){L.order.length<2&&!L.order.includes(e)&&L.order.push(e)},$=function(e){return e.order.reduce((function(t,n){if(function(e){var t=Object(_.tb)(e).ns;return t===_.r||t===_.v}(n)){var i=(a=e.searches[n],(r=Object(_.jb)(a.concepts))?r.cy:null);i&&(t[i]=n,K(i))}else t[n]=!1,K(n);var a,r;return t}),{})},Q=function(){var e=A(regeneratorRuntime.mark((function e(t){var n,i,a,r,c,l,o,s,d,u,m,p,O,f,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0],i=n[0],a=n[1],r=t[1],c=t[2],l=t[3],o={},s=$(a),d=q(s),!b(d)){e.next=13;break}if(u=M(d,l),o=N({},u),m=d.filter((function(e){return!u[e]})),!b(m)){e.next=13;break}return e.next=11,U(m,r,c);case 11:p=e.sent,o=N({},o,{},p);case 13:return O=function(e,t){return s[t]&&o[t]?o[t].isCached?o[t].t:o[t].name.value:Object(_.kb)(e.concepts)},f=function(e,t,n,i){if(t[i]&&n[i]){var a=n[i];if(a.isCached)return[a];var r=a.boundingBox,c=r.northEast,l=r.southWest,o=a.type.nsid.id,s=a.coordinates,d=a.isSmallCity,u=a.name.value,m=a.nsid,p=m.ns,b=m.id;return[{bb:{ne:B(c),sw:B(l)},dt:o,i:B(s),s:d,t:u,ns:p,cid:b}]}return e.concepts},j=function(e){var t,n,r,c,l,d,u,m,p=s[e]?a.searches[s[e]]:a.searches[e],b=p.executedAt?(t=p.executedAt,n=new Date(t),r=n.getDate(),c=n.getMonth(),l=n.getFullYear(),r+" "+D.a.monthsShort[c]+" "+l):null,j=p.executedAt?J(p.executedAt):null,v=W(i,p,e),h=p.rooms,y=p.dateRange,_=p.isDateExpired,S=p.dateRangeUserDefined,C=p.roomConfigUserDefined,R=[].concat(v).slice(0,2),x=R.map((function(e){return e.id.id}));L.recentlyViewedById=N({},L.recentlyViewedById,{},g()([].concat(R),"id.id")),L.groups[e]={concepts:f(p,s,o,e),ownRecentlyViewedIds:x,dateRange:Object(w.d)(y),formattedDates:N({},(d=y,u=d.arrival,m=d.departure,{displayDates:{arrival:u.format(T),departure:m.format(T)},machineReadableDates:{arrival:u.format(P),departure:m.format(P)}}),{executedAt:b,executedAtMachineReadable:j}),rooms:h,roomAndGuestCount:Object(k.v)(h),roomTypeIcon:H(p),isDateExpired:_,isDateRangeUserDefined:S,isRoomConfigUserDefined:C,city:O(p,e)}},L.order.forEach(j),L.hasMoreToSee=z(i,L),e.abrupt("return",L);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=n(7),Z=n(0),X=n(1),ee=(n(12),n(71)),te=n.n(ee),ne={},ie=["class","icon-ic icon-ic star icon-center"],ae=n(423).default,re=["class","icon-ic icon-ic star icon-center"],ce=n(491).default,le=["class","quick-info","itemprop","starRating","itemtype","https://schema.org/Rating","itemscope","itemscope"];ne.render=function(e){Object(Z.elementOpen)("div","Q~CB,(O",le);for(var t=te()(1,e.category+1),i=0,a=t.length,r=(t[0],1),c=a-1;i<a;t[++i])Object(Z.elementOpen)("span",""+r,null),Object(Z.elementOpen)("span","category/star",ie),n(23).default(ae),Object(Z.elementClose)("span"),Object(Z.elementClose)("span"),r++,!1,0===--c;e.superior&&e.showIsSuperior&&(Object(Z.elementOpen)("span","category/superior",re),n(23).default(ce),Object(Z.elementClose)("span")),Object(Z.elementClose)("div")};var oe=n(2382),se={},de=["data-qa","recent-item-title"];se.render=function(e){Object(Z.elementOpen)("h3","ku2ZJV2",de,"class",oe.headline),Object(Z.text)(e.headline),Object(Z.elementClose)("h3")};var ue=n(2383),me={},pe=["alt",""];me.render=function(e){Object(Z.elementOpen)("div",null,null,"class",ue.imageAspectRatio),Object(Z.elementVoid)("img","Ge$.+p7",pe,"class",ue.image,"src",e.image),Object(Z.elementClose)("div")};var be={},Oe=["class","card__image-holder"],fe=["class","card__type"],je=["class","card__details-wrp"],ve=["class","card__details"],ge=["class","icon-ic icon-rtl"],he=n(2384).default,ye=["class","card__continue-arrow"],_e=["class","card__body"],we=["class","visuallyhidden"],ke=["class","card__search-recently-viewed"],De=["class","js-card__link card__link"];function Se(e){return be.render(e)}be.render=function(e){var t;Object(Z.elementOpen)("article",null,null,"class",Object(X.classes)({base:"card","card--timeline":e.isCardTimeline})),Object(Z.elementOpen)("div","[!2S-WZ",De,"data-key",e.key,"data-item-count",e.itemCount,"data-locality-nsid",e.localityNsid),Object(Z.elementOpen)("div","z;w=0,|",_e),Object(Z.elementOpen)("div","Kd;p{mW",Oe),t=Object(X.createSubContext)(e,{image:e.imagePath}),me.render(t),Object(Z.elementClose)("div"),Object(Z.elementOpen)("div","F3g3O:G",ve),function(e){se.render(e)}(Object(X.createSubContext)(e,{headline:e.headline})),(e.rating||e.accommodationType)&&(Object(Z.elementOpen)("div","IAOsdVu",je),e.rating&&!e.isAA&&function(e){ne.render(e)}(Object(X.createSubContext)(e,{category:e.category,isFlex:!0})),e.accommodationType&&(Object(Z.elementOpen)("p","V@;~Hb[",fe),Object(Z.text)(e.accommodationType),Object(Z.elementClose)("p")),Object(Z.elementClose)("div")),Object(Z.elementClose)("div"),e.continueArrow&&(Object(Z.elementOpen)("div","ThWgpF:",ye),Object(Z.elementOpen)("span","general/arrow-right-36x36",ge),n(23).default(he),Object(Z.elementClose)("span"),Object(Z.elementClose)("div")),Object(Z.elementClose)("div"),Object(Z.elementOpen)("button","7{E2J}g",ke,"ref",e.recentlyViewedItemRef),Object(Z.elementOpen)("span","yh~pubo",we),Object(Z.text)(window.translate("search_again")+" "+e.headline),Object(Z.elementClose)("span"),Object(Z.elementClose)("button"),Object(Z.elementClose)("div"),Object(Z.elementClose)("article")};var Ce={},Re=["class","recent-item__info-snippet","data-qa","recent-item-rooms-guests"];Ce.render=function(e){Object(Z.elementOpen)("p","vBzOwjY",Re),Object(Z.elementOpen)("span","Icons/Default/People/"+e.roomType,null,"class","icon-ic icon-contain recent-item__info-icon recent-item__info-icon--guests icon-rtl"),n(23).default(n(1126)("./"+e.roomType+".svg").default),Object(Z.elementClose)("span"),e.roomConfigUserDefined?(Object(Z.text)(e.roomCount>1?window.translate("number_rooms_plural",{amountRooms:e.roomCount}):window.translate("number_rooms_singular")),Object(Z.text)(", "),Object(Z.text)(e.guestCount>1?window.translate("number_guests_plural",{amountGuests:e.guestCount}):window.translate("number_guests_singular"))):Object(Z.text)(" - "),Object(Z.elementClose)("p")};var xe={},Ne=["class","icon-ic recent-item__info-icon recent-item__info-icon--calendar icon-rtl icon-contain"],Ie=n(1097).default,Ee=["aria-hidden","true"],Ae=["aria-hidden","true"],Te=["class","visuallyhidden"],Pe=["class","recent-item__info-snippet--time"],Le=["class","visuallyhidden"],Ve=["class","recent-item__info-snippet--time"],Fe=["class","recent-item__info-snippet","data-qa","recent-item-dates"];xe.render=function(e){Object(Z.elementOpen)("p","W>2__d>",Fe),Object(Z.elementOpen)("span","Icons/Default/Interface/checkin_line",Ne),n(23).default(Ie),Object(Z.elementClose)("span"),e.isDateRangeUserDefined?e.isDateExpired?(Object(Z.elementOpen)("span","_okZVg{",Ae),Object(Z.text)(window.translate("stay_dates_passed")),Object(Z.elementClose)("span")):(Object(Z.elementOpen)("span","'8UQgq/",Te),Object(Z.text)(window.translate("arrival")),Object(Z.elementClose)("span"),Object(Z.elementOpen)("time","$$:m#g)",Pe,"datetime",e.arrivalMachinereadable),Object(Z.text)(e.arrivalLocalized),Object(Z.elementClose)("time"),Object(Z.raw)("&nbsp;&ndash;&nbsp;"),Object(Z.elementOpen)("span","~D=*<3.",Le),Object(Z.text)(window.translate("departure")),Object(Z.elementClose)("span"),Object(Z.elementOpen)("time","/dn+-*y",Ve,"datetime",e.departureMachinereadable),Object(Z.text)(e.departureLocalized),Object(Z.elementClose)("time")):(Object(Z.elementOpen)("span","a95<yKq",Ee),Object(Z.text)(window.translate("no_dates_selected")),Object(Z.elementClose)("span")),Object(Z.elementClose)("p")};var Me=n(2385),Ue={},qe=["class","icon-ic icon-center icon-contain btn__ic icon-rtl"],Ge=n(493).default,Be=["class","btn--icon-to-text__icon"],ze=["class","btn__text"],He=["type","button"];function We(e){return Ue.render(e)}Ue.render=function(e){var t;Object(Z.elementOpen)("div",null,null,"ref",e.searchAgainItemRef,"data-nsid",e.nsId,"class",Me.itemSummary+" timeline__item-summary js-timeline-recent-items"),Object(Z.elementOpen)("h4",null,null,"class",Me.headline),Object(Z.text)(e.headline),Object(Z.elementClose)("h4"),Object(Z.elementOpen)("div",null,null,"class",Me.wrapper),Object(Z.elementOpen)("div",null,null),t=Object(X.createSubContext)(e,{arrivalMachinereadable:e.arrivalMachinereadable,departureMachinereadable:e.departureMachinereadable,arrivalLocalized:e.arrivalLocalized,departureLocalized:e.departureLocalized,isDateRangeUserDefined:e.isDateRangeUserDefined}),xe.render(t),function(e){Ce.render(e)}(Object(X.createSubContext)(e,{roomConfigUserDefined:e.roomConfigUserDefined,roomCount:e.roomCount,guestCount:e.guestCount,roomType:e.roomType})),Object(Z.elementClose)("div"),Object(Z.elementOpen)("button","ErMf2lH",He,"class","btn btn--small btn--tertiary btn--icon-to-text "+Me.button),Object(Z.elementOpen)("span","pEA1bs2",Be),Object(Z.elementOpen)("span","general/magnifier",qe),n(23).default(Ge),Object(Z.elementClose)("span"),Object(Z.elementClose)("span"),Object(Z.elementOpen)("span","@M%qChw",ze),Object(Z.text)(window.translate("search_again")),Object(Z.elementClose)("span"),Object(Z.elementClose)("button"),Object(Z.elementClose)("div"),Object(Z.elementClose)("div")};var Je=n(2386),Ke={},$e=["class","icon-ic icon-center icon-contain icon-timestamp"],Qe=n(1123).default,Ye=["class","visuallyhidden"];Ke.render=function(e){Object(Z.elementOpen)("p",null,null,"class",Je.timeStamp),Object(Z.elementOpen)("span","Icons/Default/Interface/recent_line",$e),n(23).default(Qe),Object(Z.elementClose)("span"),null!==e.recentSearchDate&&(Object(Z.elementOpen)("span","U8>mS5.",Ye),Object(Z.text)(window.translate("recent_activity_searched_on",{date:e.recentSearchDateMachineReadable})),Object(Z.text)(": "),Object(Z.elementClose)("span"),Object(Z.elementOpen)("time",null,null,"datetime",e.recentSearchDateMachineReadable,"class",Je.timeStampTime),Object(Z.text)(e.recentSearchDate),Object(Z.elementClose)("time")),Object(Z.elementClose)("p")};var Ze=n(2387),Xe={},et=["href","/profile#recently-viewed"];Xe.render=function(e){var t,n;Object(Z.elementOpen)("section",null,null,"class",Ze.timeline),Object(Z.elementOpen)("h3",null,null,"class",Ze.headline),Object(Z.text)(window.translate("recent_activity_hp_title")),Object(Z.elementClose)("h3"),Object(Z.elementOpen)("ul",null,null,"class",Object(X.classes)(((t={base:Ze.list})[Ze.listEnd]=!e.hasMoreToSee,t)));for(var i=e.timelineOrder,a=0,r=i.length,c=i[0],l=1,o=r-1;a<r;c=i[++a]){var s,d;if(d=e.timelineGroups[c],Object(Z.elementOpen)("li",null,null,"class",Ze.listItem+" js-timeline__group","data-key",l-1),(s={recentSearchDateMachineReadable:d.formattedDates.machineReadableDates,recentSearchDate:d.formattedDates.executedAt}).recentSearchDateMachineReadable=d.formattedDates.executedAtMachineReadable,n=s,Ke.render(n),Object(Z.elementOpen)("section",null,null,"class",Ze.recentSearch),We({headline:d.city,arrivalMachinereadable:d.formattedDates.machineReadableDates.arrival,departureMachinereadable:d.formattedDates.machineReadableDates.departure,arrivalLocalized:d.formattedDates.displayDates.arrival,departureLocalized:d.formattedDates.displayDates.departure,roomCount:d.roomAndGuestCount.numRooms,guestCount:d.roomAndGuestCount.numGuests,roomType:d.roomTypeIcon,isDateRangeUserDefined:d.isDateRangeUserDefined,roomConfigUserDefined:!0,isDateExpired:d.isDateExpired,nsId:c,searchAgainItemRef:e.searchAgainItemRef}),d.ownRecentlyViewedIds.length>0){Object(Z.elementOpen)("section",null,null,"class",Ze.cardListWrapper),Object(Z.elementOpen)("h5",null,null,"class",Ze.cardListHeadline),Object(Z.text)(window.translate("recently_viewed_destination_hp_title",{destination:d.city})),Object(Z.elementClose)("h5"),Object(Z.elementOpen)("ol",null,null,"class",Ze.cardList);for(var u=d.ownRecentlyViewedIds,m=0,p=u.length,b=u[0],O=1,f=p-1;m<p;b=u[++m]){var j;j=e.timelineRecentlyViewed[b],Object(Z.elementOpen)("li",null,null,"class",Ze.cardListItem),Se({key:O-1,itemCount:d.ownRecentlyViewedIds.length,isCardTimeline:!0,headline:j.name.value,continueArrow:!0,rating:j.rating.isRated,category:j.rating.category,localityNsid:j.localityNsid,imagePath:j.images.mainImagePath,accommodationType:j.typeTranslation,recentlyViewedItemRef:e.recentlyViewedItemRef,isAA:j.isAA}),Object(Z.elementClose)("li"),O++,!1,0===--f}Object(Z.elementClose)("ol"),Object(Z.elementClose)("section")}Object(Z.elementClose)("section"),Object(Z.elementClose)("li"),l++,!1,0===--o}Object(Z.elementClose)("ul"),e.hasMoreToSee&&(Object(Z.elementOpen)("a","_<Tzsca",et,"ref",e.seeAllBtnRef,"class",Ze.link),Object(Z.text)(window.translate("see_all")),Object(Z.elementClose)("a")),Object(Z.elementClose)("section")};var tt={},nt=["id","js-recent-activity-timeline-home","class","centerwrapper centerwrapper--like-dealform-homepage"];tt.render=function(e){var t,n=Object(X.createSubContext)(e);n.isEmptyTimeLine=0==n.timelineOrder.length,Object(Z.elementOpen)("div","X9.k(:+",nt),n.isOnHomepage&&!n.isEmptyTimeLine&&(t=Object(X.createSubContext)(n,{timelineOrder:n.timelineOrder,timelineGroups:n.timelineGroups,timelineRecentlyViewed:n.timelineRecentlyViewed,eventHandlers:n.eventHandlers,recentlyViewedItemRef:n.recentlyViewedItemRef,searchAgainItemRef:n.searchAgainItemRef,hasMoreToSee:n.hasMoreToSee}),Xe.render(t)),Object(Z.elementClose)("div")};var it=n(383),at=n(339),rt=n(106),ct=n(84),lt=n(694),ot=n(461),st=n(464),dt=n(333),ut=n(268),mt=n(921),pt=n(588),bt=n(18),Ot=n(3),ft=n(489),jt=n(34),vt=n(64),gt=n(358),ht=(n(2388),n(103));function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=jt.G.pipe(Object(rt.a)((function(e){return!!e&&e.length>0})),Object(ct.a)((function(e){return e.map((function(e){return m({},e,{rating:m({},e.rating,{isRated:e.rating&&0!==e.rating.category&&null!==e.rating.category})})}))})),Object(lt.a)([]),Object(ot.a)(r.a)),Dt=function(e,t,n,i,a){var r=function(e){var t=e.target.closest(".js-card__link").dataset;return{key:t.key,itemCount:t.itemCount,localityNsid:t.localityNsid,groupKey:e.target.closest(".js-timeline__group").dataset.key}}(e),c=r.key,l=r.itemCount,o=r.localityNsid,s=r.groupKey,d=_t({},i[(n[o]?n[o]:function(e,t,n){var i=t.items.filter((function(t){return t.localityNsid===e}))[0].destinationHierarchy;return n[Object.keys(n).filter((function(e){return i.includes(e)}))]}(o,a,n)).ownRecentlyViewedIds[c]],{logIndex:s+"/"+c}),u=t.dateRange,m=t.rooms,p=t.roomTypeName;return Object(gt.k)({key:c,accommodation:d,itemsCount:l,globalDateRange:u,globalRooms:m,globalRoomTypeName:p,newPrice:null},gt.q.home,Object(ft.f)(u))},St=Object(Y.createComponent)((function(e){var t=e.subscribe,n=Object(Y.attachEvent)("click"),i=n[0],a=n[1],r=Object(Y.attachEvent)("click"),u=r[0],m=r[1],p=Object(Y.attachEvent)("click"),b=p[0],v=p[1],g=Object(it.b)(kt,jt.F,jt.o).pipe(Object(rt.a)(f),Object(st.a)(jt.w,jt.B,jt.c),Object(dt.a)(Q),Object(ut.a)(O),Object(mt.a)());t(m.pipe(Object(st.a)(jt.e,jt.K,jt.J,g,kt),Object(ut.a)((function(e){var t=e[0],n=e[1],i=e[2],a=e[3],r=e[4],c=r.groups,l=r.recentlyViewedById,o=e[5],s=Dt(t,{dateRange:n,rooms:i,roomTypeName:a},c,l,o);Ot.m.dispatch(Object(Ot.qb)(s,{conceptLoggingId:vt.e}))})))),t(jt.k.pipe(Object(bt.k)(Object(at.a)(m,v)),Object(dt.a)((function(e){var t=!e;return Object(gt.u)(Ot.m,t,e)})))),t(v.pipe(Object(st.a)(g,jt.e),Object(ct.a)((function(e){return function(e,t,n){var i=e.target.closest(".js-timeline-recent-items").dataset.nsid,a=t[i].dateRange,r=e.target.closest(".js-timeline__group").dataset.key;return d(l,":460:"+r+","+i+",NULL,NULL"),j(n.arrival,a.arrival)&&d(s),j(n.departure,a.departure)&&d(o),t[i]}(e[0],e[1].groups,e[2])})),Object(st.a)(jt.f,jt.e,jt.k),Object(ut.a)((function(e){var t=e[0],n=e[1],i=e[2],a=e[3],r=t.isDateRangeUserDefined,c=t.isDateExpired,l=r&&!c,o=_t({},t);l&&(o.dateSource=ht.a.SESSION_RECENT_SEARCH),c&&(o.dateSource=n,o.dateRange=i,o.isDateRangeUserDefined=!a),Ot.m.dispatch(Object(Ot.qb)(o,{conceptLoggingId:vt.f}))})))),t(a.pipe(Object(st.a)(jt.g),Object(ut.a)((function(e){var t=e[0],n=e[1];if(t.preventDefault(),Object(c.b)("100:2547:11"),n){var i=Object(Ot.X)(t.target.getAttribute("href"));Ot.m.dispatch(i),Ot.m.dispatch(Object(Ot.fb)(!0))}else Ot.m.dispatch(Object(Ot.v)("recently-viewed",!0))}))));var h=g.pipe(Object(pt.a)("order")),y=g.pipe(Object(pt.a)("groups")),_=g.pipe(Object(pt.a)("recentlyViewedById")),w=g.pipe(Object(pt.a)("hasMoreToSee"));return{isOnHomepage:jt.o,isAboveScreenMedium:jt.g,seeAllBtnRef:i,dateRange:jt.e,rooms:jt.K,roomTypeName:jt.J,timelineOrder:h,timelineGroups:y,timelineRecentlyViewed:_,hasMoreToSee:w,recentlyViewedItemRef:u,searchAgainItemRef:b}}),(function(e){return tt.render(e)})),Ct=document.getElementById("js-recent-activity-timeline-home");Ct&&Object(i.render)(Ct,St)}}]);
//# sourceMappingURL=recent-activity-timeline.af5f10f6613240df0dda.js.map