/*! hu-promocoes-public 0.1.5 11-11-2015 */
!function(){var a=function(a){if(""===a)return{};for(var b={},c=0;c<a.length;++c){var d=a[c].split("=",2);1==d.length?b[d[0]]="":b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," "))}return b}(window.location.search.substr(1).split("&")),b={get:function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){4!=c.readyState||200!=c.status?b.error(c.status):4==c.readyState&&200==c.status&&b.success(c.responseText)},c.send()}},c={set:function(a,b,c,d,e){var f="expires=0";if(c&&c>0){var g=new Date;g.setTime(g.getTime()+24*c*60*60*1e3),f="expires="+g.toUTCString()}var h="domain="+e,i="path="+d;document.cookie=a+"="+b+"; "+f+"; "+h+"; "+i},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""}},d=function(){function a(a,d){b.get(c+a,d)}var c="//bannerpromocoes.hotelurbano.com";this.getPromotionById=function(b,c){a("/promotions?promotion_id="+b,c)},this.getPromotionByCampaignId=function(b,c){a("/promotions?campaign_id="+b,c)},this.getPromotionPublic=function(b){a("/promotions",b)}},e=function(a,b,c,d,e){this.image=a,this.url=b,this.width=c,this.height=d;var f="_self";e&&(f="_blank"),this.target=f},f=function(a,b,c,d,e){this.id=a,this.title=b,this.regulation=c,this.banner_default=d,this.banner_wide=e},g=function(){function b(a){var b,c=JSON.parse(a);void 0!==c.promotion.banner&&void 0!==c.promotion.banner.wide&&(b=new e(c.promotion.banner.wide.image,c.promotion.banner.wide.url,c.promotion.banner.wide.width,c.promotion.banner.wide.height,c.promotion.banner.wide.target_blank));var d=new e(c.promotion.banner["default"].image,c.promotion.banner["default"].url,c.promotion.banner["default"].width,c.promotion.banner["default"].height,c.promotion.banner["default"].target_blank);return new f(c.promotion.id,c.promotion.title,c.promotion.regulation,d,b)}function g(e){var f=new d,g={success:function(a){promotion=b(a),promotion&&promotion.id&&e.onload(promotion)},error:function(){}};void 0!==a.prm&&""!==a.prm?f.getPromotionById(a.prm,g):void 0!==a.cmp&&""!==a.cmp?f.getPromotionByCampaignId(a.cmp,g):""!==c.get("prm")?f.getPromotionById(c.get("prm"),g):f.getPromotionPublic(g)}function h(a){function b(){c.style.display="none",d.style.display="none"}var c=a.getElementsByClassName("hu-promocoes-banner_modal")[0],d=a.getElementsByClassName("hu-promocoes-banner_lightbox")[0],e=a.getElementsByClassName("hu-promocoes-banner_lightbox-close")[0];c.style.display="block",c.style.opacity="0.9",d.style.display="block",c.onclick=e.onclick=function(){return b(),!1}}function i(a){var b=document.createElement("div");return b.innerHTML=a,b.getElementsByClassName("hu-promocoes-banner_regulamento")[0].onclick=function(){return h(b),!1},b}var j=function(a,b,c){var d=b;for(var e in c)d=d.replace("{{"+e+"}}",c[e]);var f=i(d);if(""===c.regulation){var g=f.getElementsByClassName("hu-promocoes-banner_regulamento")[0];g.parentNode.removeChild(g)}a.appendChild(f)},k='<div class="hu-promocoes-banner_default" style="position:relative;width:960px;margin-top:10px;margin:0 auto;">  <a class="mapx-produto-pacotes-click-banner_promo" href="{{url}}" target="{{target}}">      <img src="{{image}}" />  </a>  <a href="#" class="hu-promocoes-banner_regulamento mapx-produto-pacotes-click-banner_regras" style="background: RGBA(0,57,92,0.5);position:absolute;bottom:11px;right:10px;display:block;padding:5px;text-decoration:none">      <strong style="text-shadow: 1px 1px #00395c;text-transform: uppercase;font-size:10px; color:#FFF;">Leia o Regulamento</strong>  </a>  <div id="hu-promocoes-banner_lightbox-id" class="hu-promocoes-banner_lightbox" style="display:none;border: 1px solid #d5d4d4;box-shadow: 1px 1px 5px #000;height: 470px;left: 50%;margin: -235px 0 0 -426px;position: fixed;top: 50%;width: 852px;z-index: 9999;background-color: #fff;">      <div class="hu-promocoes-banner_lightbox-title" style="border-bottom: 1px solid #d5d4d4;background: #003965;font-size: 18px;text-transform: uppercase;color: #fff;font-weight: bold;padding: 10px;width: 832px;">{{title}} - REGULAMENTO</div>      <div class="hu-promocoes-banner_lightbox-regulamento" style="overflow-y: scroll;overflow-x: hidden;height: 407px;color: #696969;padding:10px">{{regulation}}</div>      <a href="#" class="hu-promocoes-banner_lightbox-close mapx-produto-pacotes-click-regras_popup-fechar" style="height: 18px;padding: 4px;right: -14px;top: -14px;width: 19px;background: #062942;border: 1px solid #fff;border-radius: 100%;color: #fff;position: absolute;text-align: center;text-decoration: none;font-weight: bold;"><strong>X</strong></a>  </div></div><div class="hu-promocoes-banner_modal" style="background: #000;height: 100%;left: 0;position: fixed;text-align: center;top: 0;width: 100%;z-index: 1499;display:none;"></div>',l='<div class="hu-promocoes-banner_wide"> <div style="position:relative;margin:0">  <a class="mapx-produto-pacotes-click-banner_promo" href="{{url}}" target="{{target}}" style="background-image: url({{image}});background-position: center center;background-repeat: no-repeat;height: 30px;width: 100%;display: block;">  </a>  <a href="#" class="hu-promocoes-banner_regulamento mapx-produto-pacotes-click-banner_regras" style="background: RGBA(0,57,92,0.5);position:absolute;bottom:3px;right:10px;display:block;padding:3px 5px;text-decoration:none">      <strong style="text-shadow: 1px 1px #00395c;text-transform: uppercase;font-size:10px; color:#FFF;">Leia o Regulamento</strong>  </a> </div>  <div id="hu-promocoes-banner_lightbox-id" class="hu-promocoes-banner_lightbox" style="display:none;border: 1px solid #d5d4d4;box-shadow: 1px 1px 5px #000;height: 470px;left: 50%;margin: -235px 0 0 -426px;position: fixed;top: 50%;width: 852px;z-index: 9999;background-color: #fff;">      <div class="hu-promocoes-banner_lightbox-title" style="border-bottom: 1px solid #d5d4d4;background: #003965;font-size: 18px;text-transform: uppercase;color: #fff;font-weight: bold;padding: 10px;width: 832px;">{{title}} - REGULAMENTO</div>      <div class="hu-promocoes-banner_lightbox-regulamento" style="overflow-y: scroll;overflow-x: hidden;height: 407px;color: #696969;padding:10px">{{regulation}}</div>      <a href="#" class="hu-promocoes-banner_lightbox-close mapx-produto-pacotes-click-regras_popup-fechar" style="height: 18px;padding: 4px;right: -14px;top: -14px;width: 19px;background: #062942;border: 1px solid #fff;border-radius: 100%;color: #fff;position: absolute;text-align: center;text-decoration: none;font-weight: bold;"><strong>X</strong></a>  </div></div><div class="hu-promocoes-banner_modal" style="background: #000;height: 100%;left: 0;position: fixed;text-align: center;top: 0;width: 100%;z-index: 1499;display:none;"></div>';this.init=function(a){document.getElementById(a.bannerDefaultId)&&g({onload:function(b){var c={title:b.title,url:b.banner_default.url,regulation:b.regulation,image:b.banner_default.image,target:b.banner_default.target};j(document.getElementById(a.bannerDefaultId),k,c)}}),document.getElementById(a.bannerWideId)&&g({onload:function(b){if(void 0!==b.banner_wide&&void 0!==b.banner_wide.image){var c={title:b.title,regulation:b.regulation,url:b.banner_wide.url,image:b.banner_wide.image,target:b.banner_default.target};j(document.getElementById(a.bannerWideId),l,c)}}})}};window.HU_PROMOTION=new g,window.HU_PROMOTION.init({bannerDefaultId:"hu-promocoes-banner_default-id",bannerWideId:"hu-promocoes-banner_wide-id"})}();