define(["./sniff","./dom"],function(d,k){function q(a,b,c){b=b.toLowerCase();if(d("ie")||d("trident")){if("auto"==c){if("height"==b)return a.offsetHeight;if("width"==b)return a.offsetWidth}if("fontweight"==b)switch(c){case 700:return"bold";default:return"normal"}}b in g||(g[b]=r.test(b));return g[b]?l(a,c):c}var f={};var m=d("webkit")?function(a){if(1==a.nodeType){var b=a.ownerDocument.defaultView;var c=b.getComputedStyle(a,null);!c&&a.style&&(a.style.display="",c=b.getComputedStyle(a,null))}return c||
{}}:d("ie")&&(9>d("ie")||d("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};f.getComputedStyle=m;var l=d("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,f=c.left,e=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(h){b=0}c.left=f;d.left=e;return b}:function(a,b){return parseFloat(b)||
0};f.toPixelValue=l;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},t=9>d("ie")||10>d("ie")&&d("quirks")?function(a){try{return e(a).Opacity/100}catch(b){return 1}}:function(a){return m(a).opacity},n=9>d("ie")||10>d("ie")&&d("quirks")?function(a,b){""===b&&(b=1);var c=100*b;1===b?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=
c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&n(a,b);return b}:function(a,b){return a.style.opacity=b},g={left:!0,top:!0},r=/margin|padding|width|height|max|min|offset/,p={cssFloat:1,styleFloat:1,"float":1};f.get=function(a,b){var c=k.byId(a),d=arguments.length;if(2==d&&"opacity"==b)return t(c);b=p[b]?"cssFloat"in c.style?"cssFloat":"styleFloat":b;var e=
f.getComputedStyle(c);return 1==d?e:q(c,b,e[b]||c.style[b])};f.set=function(a,b,c){var d=k.byId(a),e=arguments.length,g="opacity"==b;b=p[b]?"cssFloat"in d.style?"cssFloat":"styleFloat":b;if(3==e)return g?n(d,c):d.style[b]=c;for(var h in b)f.set(a,h,b[h]);return f.getComputedStyle(d)};return f});
