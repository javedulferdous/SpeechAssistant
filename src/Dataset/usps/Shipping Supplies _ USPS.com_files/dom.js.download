define(["./sniff","./_base/window"],function(f,g){if(7>=f("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(a){}var e={};f("ie")?e.byId=function(a,b){if("string"!=typeof a)return a;var c=b||g.doc;b=a&&c.getElementById(a);if(!b||b.attributes.id.value!=a&&b.id!=a){c=c.all[a];if(!c||c.nodeName)c=[c];for(var d=0;b=c[d++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==a||b.id==a)return b}else return b}:e.byId=function(a,b){return("string"==typeof a?(b||g.doc).getElementById(a):
a)||null};e.isDescendant=function(a,b){try{for(a=e.byId(a),b=e.byId(b);a;){if(a==b)return!0;a=a.parentNode}}catch(c){}return!1};f.add("css-user-select",function(a,b,c){if(!c)return!1;a=c.style;b=["Khtml","O","Moz","Webkit"];c=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(c--&&(d=b[c]+"UserSelect"));return!1});var h=f("css-user-select");e.setSelectable=h?function(a,b){e.byId(a).style[h]=b?"":"none"}:function(a,b){a=e.byId(a);var c=a.getElementsByTagName("*"),d=c.length;
if(b)for(a.removeAttribute("unselectable");d--;)c[d].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");d--;)c[d].setAttribute("unselectable","on")};return e});
