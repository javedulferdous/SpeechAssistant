!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){var i=t[s][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){(function(i){function n(){function e(){h.windowLoaded=!0}i.addEventListener?i.addEventListener("load",e):i.attachEvent&&i.attachEvent("onload",e),h.codeLoadEnd=(new Date).getTime()}/** @license ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

Adobe Visitor API for JavaScript version: 3.1.2
Copyright 1996-2015 Adobe, Inc. All Rights Reserved
More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
var r=e("./child/ChildVisitor"),a=e("./child/Message"),s=e("./child/makeChildMessageListener"),o=e("./utils/asyncParallelApply"),l=e("./utils/enums"),u=e("./utils/utils"),d=e("./utils/getDomain"),c=e("./units/version"),f=e("./units/crossDomain"),g=e("@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID"),p=e("./units/makeCorsRequest"),m=e("./units/makeDestinationPublishing"),_=e("./utils/constants"),h=function(e,t,n){function r(e){var t=e;return function(e){var i=e||v.location.href;try{var n=S._extractParamFromUri(i,t);if(n)return H.parsePipeDelimetedKeyValues(n)}catch(e){}}}function h(e){function t(e,t){e&&e.match(_.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[k],S.setMarketingCloudVisitorID),S._setFieldExpire(V,-1),t(e[R],S.setAnalyticsVisitorID)}function C(e){e=e||{},S._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",S._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},S._supplementalDataIDLast=e.supplementalDataIDLast||"",S._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function D(e){function t(e,t,i){return i=i?i+="|":i,i+=e+"="+encodeURIComponent(t)}function i(e){var t=H.getTimestampInSeconds();return e=e?e+="|":e,e+="TS="+t}function n(e,i){var n=i[0],r=i[1];return null!=r&&r!==N&&(e=t(n,r,e)),e}var r=e.reduce(n,"");return i(r)}function I(e){var t=20160,i=e.minutesToLive,n="";return(S.idSyncDisableSyncs||S.disableIdSyncs)&&(n=n?n:"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n?n:"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n?n:"Error: config.url is empty"),"undefined"==typeof i?i=t:(i=parseInt(i,10),(isNaN(i)||i<=0)&&(n=n?n:"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:i}}if(!n||n.split("").reverse().join("")!==e)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var S=this;S.version="3.1.2";var v=i,A=v.Visitor;A.version=S.version,A.AuthState=l.AUTH_STATE,A.OptOut=l.OPT_OUT,v.s_c_in||(v.s_c_il=[],v.s_c_in=0),S._c="Visitor",S._il=v.s_c_il,S._in=v.s_c_in,S._il[S._in]=S,v.s_c_in++,S._log={requests:[]},S.marketingCloudOrgID=e,S.cookieName="AMCV_"+e,S.sessionCookieName="AMCVS_"+e,S.cookieDomain=d(),S.cookieDomain===v.location.hostname&&(S.cookieDomain=""),S.loadSSL=v.location.protocol.toLowerCase().indexOf("https")>=0,S.loadTimeout=3e4,S.CORSErrors=[],S.marketingCloudServer=S.audienceManagerServer="dpm.demdex.net",S.sdidParamExpiry=30;var y=v.document,M=null,b="MC",k="MCMID",E="MCORGID",T="MCCIDH",O="MCSYNCSOP",w="MCIDTS",L="MCOPTOUT",P="A",R="MCAID",F="AAM",x="MCAAMLH",V="MCAAMB",N="NONE",j=function(e){return!Object.prototype[e]},U=p(S,G);S.FIELDS=l.FIELDS,S.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+y.cookie).split(" ").join(";"),i=t.indexOf(";"+e+"="),n=i<0?i:t.indexOf(";",i+1),r=i<0?"":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n));return r},S.cookieWrite=function(e,t,i){var n,r=S.cookieLifetime;if(t=""+t,r=r?(""+r).toUpperCase():"",i&&"SESSION"!==r&&"NONE"!==r){if(n=""!==t?parseInt(r?r:0,10):-60)i=new Date,i.setTime(i.getTime()+1e3*n);else if(1===i){i=new Date;var a=i.getYear();i.setYear(a+2+(a<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(y.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(S.cookieDomain?" domain="+S.cookieDomain+";":""),S.cookieRead(e)===t):0},S.resetState=function(e){e?S._mergeServerState(e):C()},S._isAllowedDone=!1,S._isAllowedFlag=!1,S.isAllowed=function(){return S._isAllowedDone||(S._isAllowedDone=!0,(S.cookieRead(S.cookieName)||S.cookieWrite(S.cookieName,"T",1))&&(S._isAllowedFlag=!0)),S._isAllowedFlag},S.setMarketingCloudVisitorID=function(e){S._setMarketingCloudFields(e)},S._use1stPartyMarketingCloudServer=!1,S.getMarketingCloudVisitorID=function(e,t){if(S.isAllowed()){S.marketingCloudServer&&S.marketingCloudServer.indexOf(".demdex.net")<0&&(S._use1stPartyMarketingCloudServer=!0);var i=S._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return S._getRemoteField(k,n,e,t,i)}return""},S.getVisitorValues=function(e,t){var i={MCMID:{fn:S.getMarketingCloudVisitorID,args:[!0],context:S},MCOPTOUT:{fn:S.isOptedOut,args:[void 0,!0],context:S},MCAID:{fn:S.getAnalyticsVisitorID,args:[!0],context:S},MCAAMLH:{fn:S.getAudienceManagerLocationHint,args:[!0],context:S},MCAAMB:{fn:S.getAudienceManagerBlob,args:[!0],context:S}},n=t&&t.length?H.pluck(i,t):i;o(n,e)},S._currentCustomerIDs={},S._customerIDsHashChanged=!1,S._newCustomerIDsHash="",S.setCustomerIDs=function(e){function t(){S._customerIDsHashChanged=!1}if(S.isAllowed()&&e){S._readVisitor();var i,n;for(i in e)if(j(i)&&(n=e[i]))if("object"==typeof n){var r={};n.id&&(r.id=n.id),void 0!=n.authState&&(r.authState=n.authState),S._currentCustomerIDs[i]=r}else S._currentCustomerIDs[i]={id:n};var a=S.getCustomerIDs(),s=S._getField(T),o="";s||(s=0);for(i in a)j(i)&&(n=a[i],o+=(o?"|":"")+i+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));S._newCustomerIDsHash=S._hash(o),S._newCustomerIDsHash!==s&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(t))}},S.getCustomerIDs=function(){S._readVisitor();var e,t,i={};for(e in S._currentCustomerIDs)j(e)&&(t=S._currentCustomerIDs[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),void 0!=t.authState?i[e].authState=t.authState:i[e].authState=A.AuthState.UNKNOWN);return i},S.setAnalyticsVisitorID=function(e){S._setAnalyticsFields(e)},S.getAnalyticsVisitorID=function(e,t,i){if(!H.isTrackingServerPopulated()&&!i)return S._callCallback(e,[""]),"";if(S.isAllowed()){var n="";if(i||(n=S.getMarketingCloudVisitorID(function(t){S.getAnalyticsVisitorID(e,!0)})),n||i){var r=i?S.marketingCloudServer:S.trackingServer,a="";S.loadSSL&&(i?S.marketingCloudServerSecure&&(r=S.marketingCloudServerSecure):S.trackingServerSecure&&(r=S.trackingServerSecure));var s={};if(r){var o="http"+(S.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver="+S.version+"&mcorgid="+encodeURIComponent(S.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"&d_coppa=true":""),u=["s_c_il",S._in,"_set"+(i?"MarketingCloud":"Analytics")+"Fields"];a=o+"?"+l+"&callback=s_c_il%5B"+S._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+l,s.callback=u}return s.url=a,S._getRemoteField(i?k:R,a,e,t,s)}}return""},S.getAudienceManagerLocationHint=function(e,t){if(S.isAllowed()){var i=S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)});if(i){var n=S._getField(R);if(!n&&H.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})),n||!H.isTrackingServerPopulated()){var r=S._getAudienceManagerURLData(),a=r.url;return S._getRemoteField(x,a,e,t,r)}}}return""},S.getLocationHint=S.getAudienceManagerLocationHint,S.getAudienceManagerBlob=function(e,t){if(S.isAllowed()){var i=S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerBlob(e,!0)});if(i){var n=S._getField(R);if(!n&&H.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})),n||!H.isTrackingServerPopulated()){var r=S._getAudienceManagerURLData(),a=r.url;return S._customerIDsHashChanged&&S._setFieldExpire(V,-1),S._getRemoteField(V,a,e,t,r)}}}return""},S._supplementalDataIDCurrent="",S._supplementalDataIDCurrentConsumed={},S._supplementalDataIDLast="",S._supplementalDataIDLastConsumed={},S.getSupplementalDataID=function(e,t){S._supplementalDataIDCurrent||t||(S._supplementalDataIDCurrent=S._generateID(1));var i=S._supplementalDataIDCurrent;return S._supplementalDataIDLast&&!S._supplementalDataIDLastConsumed[e]?(i=S._supplementalDataIDLast,S._supplementalDataIDLastConsumed[e]=!0):i&&(S._supplementalDataIDCurrentConsumed[e]&&(S._supplementalDataIDLast=S._supplementalDataIDCurrent,S._supplementalDataIDLastConsumed=S._supplementalDataIDCurrentConsumed,S._supplementalDataIDCurrent=i=t?"":S._generateID(1),S._supplementalDataIDCurrentConsumed={}),i&&(S._supplementalDataIDCurrentConsumed[e]=!0)),i},S.getOptOut=function(e,t){if(S.isAllowed()){var i=S._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return S._getRemoteField(L,n,e,t,i)}return""},S.isOptedOut=function(e,t,i){if(S.isAllowed()){t||(t=A.OptOut.GLOBAL);var n=S.getOptOut(function(i){var n=i===A.OptOut.GLOBAL||i.indexOf(t)>=0;S._callCallback(e,[n])},i);return n?n===A.OptOut.GLOBAL||n.indexOf(t)>=0:null}return!1},S._fields=null,S._fieldsExpired=null,S._hash=function(e){var t,i,n=0;if(e)for(t=0;t<e.length;t++)i=e.charCodeAt(t),n=(n<<5)-n+i,n&=n;return n},S._generateID=g,S._generateLocalMID=function(){var e=S._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},S._callbackList=null,S._callCallback=function(e,t){try{"function"==typeof e?e.apply(v,t):e[1].apply(e[0],t)}catch(e){}},S._registerCallback=function(e,t){t&&(null==S._callbackList&&(S._callbackList={}),void 0==S._callbackList[e]&&(S._callbackList[e]=[]),S._callbackList[e].push(t))},S._callAllCallbacks=function(e,t){if(null!=S._callbackList){var i=S._callbackList[e];if(i)for(;i.length>0;)S._callCallback(i.shift(),t)}},S._addQuerystringParam=function(e,t,i,n){var r=encodeURIComponent(t)+"="+encodeURIComponent(i),a=H.parseHash(e),s=H.hashlessUrl(e),o=s.indexOf("?")===-1;if(o)return s+"?"+r+a;var l=s.split("?"),u=l[0]+"?",d=l[1],c=H.addQueryParamAtLocation(d,r,n);return u+c+a},S._extractParamFromUri=function(e,t){var i=new RegExp("[\\?&#]"+t+"=([^&#]*)"),n=i.exec(e);if(n&&n.length)return decodeURIComponent(n[1])},S._parseAdobeMcFromUrl=r(_.ADOBE_MC),S._parseAdobeMcSdidFromUrl=r(_.ADOBE_MC_SDID),S._attemptToPopulateSdidFromUrl=function(t){var i=S._parseAdobeMcSdidFromUrl(t),n=1e9;i&&i.TS&&(n=H.getTimestampInSeconds()-i.TS),i&&i.SDID&&i[E]===e&&n<S.sdidParamExpiry&&(S._supplementalDataIDCurrent=i.SDID,S._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},S._attemptToPopulateIdsFromUrl=function(){var t=S._parseAdobeMcFromUrl();if(t&&t.TS){var i=H.getTimestampInSeconds(),n=i-t.TS,r=Math.floor(n/60);if(r>_.ADOBE_MC_TTL_IN_MIN||t[E]!==e)return;h(t)}},S._mergeServerState=function(e){function t(e){H.isObject(e)&&S.setCustomerIDs(e)}function i(e){return H.isObject(e)?e:JSON.parse(e)}if(e)try{if(e=i(e),e[S.marketingCloudOrgID]){var n=e[S.marketingCloudOrgID];t(n.customerIDs),C(n.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},S._timeout=null,S._loadData=function(e,t,i,n){var r="d_fieldgroup";t=S._addQuerystringParam(t,r,e,1),n.url=S._addQuerystringParam(n.url,r,e,1),n.corsUrl=S._addQuerystringParam(n.corsUrl,r,e,1),q.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===U.corsMetadata.corsType&&U.fireCORS(n,i,e)},S._clearTimeout=function(e){null!=S._timeout&&S._timeout[e]&&(clearTimeout(S._timeout[e]),S._timeout[e]=0)},S._settingsDigest=0,S._getSettingsDigest=function(){if(!S._settingsDigest){var e=S.version;S.audienceManagerServer&&(e+="|"+S.audienceManagerServer),S.audienceManagerServerSecure&&(e+="|"+S.audienceManagerServerSecure),S._settingsDigest=S._hash(e)}return S._settingsDigest},S._readVisitorDone=!1,S._readVisitor=function(){if(!S._readVisitorDone){S._readVisitorDone=!0;var e,t,i,n,r,a,s=S._getSettingsDigest(),o=!1,l=S.cookieRead(S.cookieName),u=new Date;if(null==S._fields&&(S._fields={}),l&&"T"!==l)for(l=l.split("|"),l[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==s&&(o=!0),l.shift()),l.length%2===1&&l.pop(),e=0;e<l.length;e+=2)t=l[e].split("-"),i=t[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),o&&(i===T&&(n=""),r>0&&(r=u.getTime()/1e3-60)),i&&n&&(S._setField(i,n,1),r>0&&(S._fields["expire"+i]=r+(a?"s":""),(u.getTime()>=1e3*r||a&&!S.cookieRead(S.sessionCookieName))&&(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[i]=!0)));!S._getField(R)&&H.isTrackingServerPopulated()&&(l=S.cookieRead("s_vi"),l&&(l=l.split("|"),l.length>1&&l[0].indexOf("v1")>=0&&(n=l[1],e=n.indexOf("["),e>=0&&(n=n.substring(0,e)),n&&n.match(_.VALID_VISITOR_ID_REGEX)&&S._setField(R,n))))}},S._appendVersionTo=function(e){var t="vVersion|"+S.version,i=e?S._getCookieVersion(e):null;return i?c.areVersionsDifferent(i,S.version)&&(e=e.replace(_.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},S._writeVisitor=function(){var e,t,i=S._getSettingsDigest();for(e in S._fields)j(e)&&S._fields[e]&&"expire"!==e.substring(0,6)&&(t=S._fields[e],i+=(i?"|":"")+e+(S._fields["expire"+e]?"-"+S._fields["expire"+e]:"")+"|"+t);i=S._appendVersionTo(i),S.cookieWrite(S.cookieName,i,1)},S._getField=function(e,t){return null==S._fields||!t&&S._fieldsExpired&&S._fieldsExpired[e]?null:S._fields[e]},S._setField=function(e,t,i){null==S._fields&&(S._fields={}),S._fields[e]=t,i||S._writeVisitor()},S._getFieldList=function(e,t){var i=S._getField(e,t);return i?i.split("*"):null},S._setFieldList=function(e,t,i){S._setField(e,t?t.join("*"):"",i)},S._getFieldMap=function(e,t){var i=S._getFieldList(e,t);if(i){var n,r={};for(n=0;n<i.length;n+=2)r[i[n]]=i[n+1];return r}return null},S._setFieldMap=function(e,t,i){var n,r=null;if(t){r=[];for(n in t)j(n)&&(r.push(n),r.push(t[n]))}S._setFieldList(e,r,i)},S._setFieldExpire=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1e3*t),null==S._fields&&(S._fields={}),S._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(i?"s":""),t<0?(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[e]=!0):S._fieldsExpired&&(S._fieldsExpired[e]=!1),i&&(S.cookieRead(S.sessionCookieName)||S.cookieWrite(S.sessionCookieName,"1"))},S._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"===e&&(e=N)),e&&(e===N||e.match(_.VALID_VISITOR_ID_REGEX))||(e="")),e},S._setFields=function(e,t){if(S._clearTimeout(e),null!=S._loading&&(S._loading[e]=!1),q.fieldGroupObj[e]&&q.setState(e,!1),e===b){q.isClientSideMarketingCloudVisitorID!==!0&&(q.isClientSideMarketingCloudVisitorID=!1);var i=S._getField(k);if(!i||S.overwriteCrossDomainMCIDAndAID){if(i="object"==typeof t&&t.mid?t.mid:S._findVisitorID(t),!i){if(S._use1stPartyMarketingCloudServer&&!S.tried1stPartyMarketingCloudServer)return S.tried1stPartyMarketingCloudServer=!0,void S.getAnalyticsVisitorID(null,!1,!0);i=S._generateLocalMID()}S._setField(k,i)}i&&i!==N||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&S._setFields(F,t),S._use1stPartyMarketingCloudServer&&t.mid&&S._setFields(P,{id:t.id})),S._callAllCallbacks(k,[i])}if(e===F&&"object"==typeof t){var n=604800;void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var r=B.getRegionAndCheckIfChanged(t,n);S._callAllCallbacks(x,[r]);var a=S._getField(V);(t.d_blob||t.blob)&&(a=t.d_blob,a||(a=t.blob),S._setFieldExpire(V,n),S._setField(V,a)),a||(a=""),S._callAllCallbacks(V,[a]),!t.error_msg&&S._newCustomerIDsHash&&S._setField(T,S._newCustomerIDsHash)}if(e===P){var s=S._getField(R);s&&!S.overwriteCrossDomainMCIDAndAID||(s=S._findVisitorID(t),s?s!==N&&S._setFieldExpire(V,-1):s=N,S._setField(R,s)),s&&s!==N||(s=""),S._callAllCallbacks(R,[s])}if(S.idSyncDisableSyncs||S.disableIdSyncs)B.idCallNotProcesssed=!0;else{B.idCallNotProcesssed=!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,B.processIDCallData(o)}if(t===Object(t)){var l,u;S.isAllowed()&&(l=S._getField(L)),l||(l=N,t.d_optout&&t.d_optout instanceof Array&&(l=t.d_optout.join(",")),u=parseInt(t.d_ottl,10),isNaN(u)&&(u=7200),S._setFieldExpire(L,u,!0),S._setField(L,l)),S._callAllCallbacks(L,[l])}},S._loading=null,S._getRemoteField=function(e,t,i,n,r){var a,s="",o=H.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(S.isAllowed()){S._readVisitor(),s=S._getField(e,l[e]===!0);var u=function(){return(!s||S._fieldsExpired&&S._fieldsExpired[e])&&(!S.disableThirdPartyCalls||o)};if(u()){if(e===k||e===L?a=b:e===x||e===V?a=F:e===R&&(a=P),a)return!t||null!=S._loading&&S._loading[a]||(null==S._loading&&(S._loading={}),S._loading[a]=!0,S._loadData(a,t,function(t){if(!S._getField(e)){t&&q.setState(a,!0);var i="";e===k?i=S._generateLocalMID():a===F&&(i={error_msg:"timeout"}),S._setFields(a,i)}},r)),S._registerCallback(e,i),s?s:(t||S._setFields(a,{id:N}),"")}else s||(e===k?(S._registerCallback(e,i),s=S._generateLocalMID(),S.setMarketingCloudVisitorID(s)):e===R?(S._registerCallback(e,i),s="",S.setAnalyticsVisitorID(s)):(s="",n=!0))}return e!==k&&e!==R||s!==N||(s="",n=!0),i&&n&&S._callCallback(i,[s]),s},S._setMarketingCloudFields=function(e){S._readVisitor(),S._setFields(b,e)},S._mapCustomerIDs=function(e){S.getAudienceManagerBlob(e,!0)},S._setAnalyticsFields=function(e){S._readVisitor(),S._setFields(P,e)},S._setAudienceManagerFields=function(e){S._readVisitor(),S._setFields(F,e)},S._getAudienceManagerURLData=function(e){var t=S.audienceManagerServer,i="",n=S._getField(k),r=S._getField(V,!0),a=S._getField(R),s=a&&a!==N?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(S.loadSSL&&S.audienceManagerServerSecure&&(t=S.audienceManagerServerSecure),t){var o,l,u=S.getCustomerIDs();if(u)for(o in u)j(o)&&(l=u[o],s+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var d="http"+(S.loadSSL?"s":"")+"://"+t+"/id",c="d_visid_ver="+S.version+"&d_rtbd=json&d_ver=2"+(!n&&S._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(S.marketingCloudOrgID)+"&d_nsid="+(S.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"&d_coppa=true":"")+(M===!0?"&d_coop_safe=1":M===!1?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+s,f=["s_c_il",S._in,e];return i=d+"?"+c+"&d_cb=s_c_il%5B"+S._in+"%5D."+e,{url:i,corsUrl:d+"?"+c,callback:f}}return{url:i}},S.appendVisitorIDsTo=function(e){try{var t=[[k,S._getField(k)],[R,S._getField(R)],[E,S.marketingCloudOrgID]];return S._addQuerystringParam(e,_.ADOBE_MC,D(t))}catch(t){return e}},S.appendSupplementalDataIDTo=function(e,t){if(t=t||S.getSupplementalDataID(H.generateRandomString(),!0),!t)return e;try{var i=D([["SDID",t],[E,S.marketingCloudOrgID]]);return S._addQuerystringParam(e,_.ADOBE_MC_SDID,i)}catch(t){return e}};var H={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,i){var n=e.split("&");return i=null!=i?i:n.length,n.splice(i,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,i){if(e!==R)return!1;var n;return t||(t=S.trackingServer),i||(i=S.trackingServerSecure),n=S.loadSSL?i:t,!("string"!=typeof n||!n.length)&&(n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+(S.cookieDomain?" domain="+S.cookieDomain+";":"")},isTrackingServerPopulated:function(){return!!S.trackingServer||!!S.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){var t=e.split("|");return t.reduce(function(e,t){var i=t.split("=");return e[i[0]]=decodeURIComponent(i[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",i="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=i[Math.floor(Math.random()*i.length)];return t},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var i in e)e.hasOwnProperty(i)&&"function"==typeof e[i]&&(e[i]=t);return e},pluck:function(e,t){return t.reduce(function(t,i){return e[i]&&(t[i]=e[i]),t},Object.create(null))}};S._helpers=H;var B=m(S,A);S._destinationPublishing=B,S.timeoutMetricsLog=[];var G,q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case b:t===!1?this.MCIDCallTimedOut!==!0&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case P:t===!1?this.AnalyticsIDCallTimedOut!==!0&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case F:t===!1?this.AAMIDCallTimedOut!==!0&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};S.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},S.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},S.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},S.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},S.idSyncGetOnPageSyncInfo=function(){return S._readVisitor(),S._getField(O)},S.idSyncByURL=function(e){var t=I(e||{});if(t.error)return t.error;var i,n,r=e.url,a=encodeURIComponent,s=B;return r=r.replace(/^https:/,"").replace(/^http:/,""),i=u.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",a(e.dpid),"img",a(r),t.ttl,"",i],s.addMessage(n.join("|")),s.requestToProcess(),"Successfully queued"},S.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,S.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},S._getCookieVersion=function(e){e=e||S.cookieRead(S.cookieName);var t=_.VERSION_REGEX.exec(e),i=t&&t.length>1?t[1]:null;return i},S._resetAmcvCookie=function(e){var t=S._getCookieVersion();t&&!c.isLessThan(t,e)||H.removeCookie(S.cookieName)},S.setAsCoopSafe=function(){M=!0},S.setAsCoopUnsafe=function(){M=!1},S.init=function(){function i(){if(t&&"object"==typeof t){S.configs=Object.create(null);for(var e in t)j(e)&&(S[e]=t[e],S.configs[e]=t[e]);S.idSyncContainerID=S.idSyncContainerID||0,M="boolean"==typeof S.isCoopSafe?S.isCoopSafe:H.parseBoolean(S.isCoopSafe),S.resetBeforeVersion&&S._resetAmcvCookie(S.resetBeforeVersion),S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl(),S._readVisitor();var i=S._getField(w),n=Math.ceil((new Date).getTime()/_.MILLIS_PER_DAY);S.idSyncDisableSyncs||S.disableIdSyncs||!B.canMakeSyncIDCall(i,n)||(S._setFieldExpire(V,-1),S._setField(w,n)),S.getMarketingCloudVisitorID(),S.getAudienceManagerLocationHint(),S.getAudienceManagerBlob(),S._mergeServerState(S.serverState)}else S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl()}function n(){if(!S.idSyncDisableSyncs&&!S.disableIdSyncs){B.checkDPIframeSrc();var e=function(){var e=B;e.readyToAttachIframe()&&e.attachIframe()};v.addEventListener("load",function(){A.windowLoaded=!0,e()});try{f.receiveMessage(function(e){B.receiveMessage(e.data)},B.iframeHost)}catch(e){}}}function r(){S.whitelistIframeDomains&&_.POST_MESSAGE_ENABLED&&(S.whitelistIframeDomains=S.whitelistIframeDomains instanceof Array?S.whitelistIframeDomains:[S.whitelistIframeDomains],S.whitelistIframeDomains.forEach(function(t){var i=new a(e,t),n=s(S,i);f.receiveMessage(n,t)}))}i(),n(),r()}};h.getInstance=function(e,t){function n(){var t=i.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}function a(){try{return i.self!==i.parent}catch(e){return!0}}function s(){i.s_c_il.splice(--i.s_c_in,1)}function o(e){var t="TEST_AMCV_COOKIE";return e.cookieWrite(t,"T",1),"T"===e.cookieRead(t)&&(e._helpers.removeCookie(t),!0)}if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var l=n();if(l)return l;var d=e,c=d.split("").reverse().join(""),f=new h(e,null,c);s();var g=u.getIeVersion(),p="number"==typeof g&&g<10;if(p)return f._helpers.replaceMethodsWithFunction(f,function(){});var m=a()&&!o(f)&&i.parent?new r(e,t,f,i.parent):new h(e,t,c);return f=null,m.init(),m},n(),i.Visitor=h,t.exports=h}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./child/ChildVisitor":2,"./child/Message":3,"./child/makeChildMessageListener":4,"./units/crossDomain":8,"./units/makeCorsRequest":9,"./units/makeDestinationPublishing":10,"./units/version":11,"./utils/asyncParallelApply":12,"./utils/constants":14,"./utils/enums":15,"./utils/getDomain":16,"./utils/utils":18,"@adobe-mcid/visitor-js-shared/lib/ids/generateRandomID":19}],2:[function(e,t,i){(function(i){e("../utils/polyfills");var n=e("./strategies/LocalVisitor"),r=e("./strategies/ProxyVisitor"),a=e("./strategies/PlaceholderVisitor"),s=e("../utils/callbackRegistryFactory"),o=e("./Message"),l=e("../utils/enums"),u=l.MESSAGES;t.exports=function(e,t,l,d){function c(e){Object.assign(I,e)}function f(e){Object.assign(I.state,e),I.callbackRegistry.executeAll(I.state)}function g(e){if(!A.isInvalid(e)){v=!1;var t=A.parse(e);I.setStateAndPublish(t.state)}}function p(e){!v&&S&&(v=!0,A.send(d,e))}function m(){var e=!0;c(new n(l._generateID)),I.getMarketingCloudVisitorID(),I.callbackRegistry.executeAll(I.state,e),i.removeEventListener("message",_)}function _(e){if(!A.isInvalid(e)){var t=A.parse(e);v=!1,i.clearTimeout(this.timeout),i.removeEventListener("message",_),c(new r(I)),i.addEventListener("message",g),I.setStateAndPublish(t.state),I.callbackRegistry.hasCallbacks()&&p(u.GETSTATE)}}function h(){var e=250;S&&postMessage?(i.addEventListener("message",_),p(u.HANDSHAKE),this.timeout=setTimeout(m,e)):m()}function C(){i.s_c_in||(i.s_c_il=[],i.s_c_in=0),I._c="Visitor",I._il=i.s_c_il,I._in=i.s_c_in,I._il[I._in]=I,i.s_c_in++}function D(){function e(e){0!==e.indexOf("_")&&"function"==typeof l[e]&&(I[e]=function(){})}Object.keys(l).forEach(e),I.getSupplementalDataID=l.getSupplementalDataID}var I=this,S=t.whitelistParentDomain;I.state={},I.version=l.version,I.marketingCloudOrgID=e;var v=!1,A=new o(e,S);I.callbackRegistry=s(),I.init=function(){C(),D(),c(new a(I)),h()},I.findField=function(e,t){if(I.state[e])return t(I.state[e]),I.state[e]},I.messageParent=p,I.setStateAndPublish=f}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/callbackRegistryFactory":13,"../utils/enums":15,"../utils/polyfills":17,"./Message":3,"./strategies/LocalVisitor":5,"./strategies/PlaceholderVisitor":6,"./strategies/ProxyVisitor":7}],3:[function(e,t,i){var n=e("../utils/enums"),r=n.MESSAGES,a={0:"prefix",1:"orgID",2:"state"};t.exports=function(e,t){this.parse=function(e){try{var t={},i=e.data.split("|");return i.forEach(function(e,i){if(void 0!==e){var n=a[i];t[n]=2!==i?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(i){var n=this.parse(i);if(!n||Object.keys(n).length<2)return!0;var a=e!==n.orgID,s=!t||i.origin!==t,o=Object.keys(r).indexOf(n.prefix)===-1;return a||s||o},this.send=function(i,n,r){var a=n+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{i.postMessage(a,t)}catch(e){}}}},{"../utils/enums":15}],4:[function(e,t,i){var n=e("../utils/enums"),r=e("../utils/utils"),a=n.MESSAGES,s=n.ALL_APIS,o=n.ASYNC_API_MAP,l=n.FIELDGROUP_TO_FIELD;t.exports=function(e,t){function i(){var t={};return Object.keys(s).forEach(function(i){var n=s[i],a=e[n]();r.isValueEmpty(a)||(t[i]=a)}),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(i){if(e._loading[i]){var n=l[i];t.push(n)}}),t.length?t:null}function u(t){return function i(r){var a=n();if(a){var s=o[a[0]];e[s](i,!0)}else t()}}function d(e,n){var r=i();t.send(e,n,r)}function c(e){g(e),d(e,a.HANDSHAKE)}function f(e){var t=u(function(){d(e,a.PARENTSTATE)});t()}function g(i){function n(n){r.call(e,n),t.send(i,a.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){if(!t.isInvalid(e)){var i=t.parse(e).prefix,n=i===a.HANDSHAKE?c:f;n(e.source)}}}},{"../utils/enums":15,"../utils/utils":18}],5:[function(e,t,i){var n=e("../../utils/enums"),r=n.STATE_KEYS_MAP;t.exports=function(e){function t(){}function i(t,i){var n=this;return function(){var t=e(0,r.MCMID),a={};return a[r.MCMID]=t,n.setStateAndPublish(a),i(t),t}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(r.MCMID,e),a=i.call(this,r.MCMID,e);return"undefined"!=typeof n?n:a()}}},{"../../utils/enums":15}],6:[function(e,t,i){var n=e("../../utils/enums"),r=n.ASYNC_API_MAP;t.exports=function(){Object.keys(r).forEach(function(e){var t=r[e];this[t]=function(t){this.callbackRegistry.add(e,t)}},this)}},{"../../utils/enums":15}],7:[function(e,t,i){var n=e("../../utils/enums"),r=n.MESSAGES,a=n.ASYNC_API_MAP,s=n.SYNC_API_MAP;t.exports=function(){function e(){}function t(e,t){var i=this;return function(){return i.callbackRegistry.add(e,t),i.messageParent(r.GETSTATE),""}}function i(i){var n=a[i];this[n]=function(n){n=n||e;var r=this.findField(i,n),a=t.call(this,i,n);return"undefined"!=typeof r?r:a()}}function n(t){var i=s[t];this[i]=function(){var i=this.findField(t,e);return i||{}}}Object.keys(a).forEach(i,this),Object.keys(s).forEach(n,this)}},{"../../utils/enums":15}],8:[function(e,t,i){(function(e){var i=!!e.postMessage;t.exports={postMessage:function(e,t,n){var r=1;t&&(i?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r++ +"&"+e))},receiveMessage:function(t,n){var r;try{i&&(t&&(r=function(e){return!("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&n(e.origin)===!1)&&void t(e)}),e.addEventListener?e[t?"addEventListener":"removeEventListener"]("message",r):e[t?"attachEvent":"detachEvent"]("onmessage",r))}catch(e){}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,i){(function(e){t.exports=function(t,i){return{corsMetadata:function(){var t="none",i=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?t="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(i=!1),Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0&&(i=!1)),{corsType:t,corsCookiesEnabled:i}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new e[this.corsMetadata.corsType]},fireCORS:function(i,n,r){function a(t){var n;try{if(n=JSON.parse(t),n!==Object(n))return void s.handleCORSError(i,null,"Response is not JSON")}catch(e){return void s.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var r=i.callback,a=e,o=0;o<r.length;o++)a=a[r[o]];a(n)}catch(e){s.handleCORSError(i,e,"Error forming callback function")}}var s=this;n&&(i.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=t.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&a(this.responseText)}),o.onerror=function(e){s.handleCORSError(i,e,"onerror")},o.ontimeout=function(e){s.handleCORSError(i,e,"ontimeout")},o.send(),t._log.requests.push(i.corsUrl)}catch(e){this.handleCORSError(i,e,"try-catch")}},handleCORSError:function(e,i,n){t.CORSErrors.push({corsData:e,error:i,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,i){(function(i){var n=e("../utils/constants"),r=e("./crossDomain"),a=e("../utils/utils"),s="MCSYNCSOP",o="MCSYNCS",l="MCAAMLH";t.exports=function(e,t){var u=i.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",n="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(u.location.href);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),
t=i+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(u.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:n.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframe:function(){return!e.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){n=u.createElement("iframe"),n.sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=i.id,n.name=i.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=i.url,i.newIframeCreated=!0,t(),u.body.appendChild(n)}function t(){n.addEventListener("load",function(){n.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,n=u.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.requestToProcess())):e(),this.iframe=n},requestToProcess:function(t){function i(){a.jsonForComparison.push(t),a.jsonWaiting.push(t),a.processSyncOnPage(t)}var r,a=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var s,o,l,u=!1;for(s=0,o=this.jsonForComparison.length;s<o;s++)if(l=this.jsonForComparison[s],r===JSON.stringify(l.ibs||[])){u=!0;break}u?this.jsonDuplicates.push(t):i()}else i();if((this.receivedThirdPartyCookiesNotification||!n.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}!e.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=n.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,i){var n=e._getField(l),r=t.d_region||t.dcs_region;return n?r&&(e._setFieldExpire(l,i),e._setField(l,r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField(s,""),e._setField(o,""),n=r)):(n=r,n&&(e._setFieldExpire(l,i),e._setField(l,n))),n||(n=""),n},processSyncOnPage:function(e){var t,i,n,r;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(n=0;n<i;n++)r=t[n],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,i,n,r,s,o=encodeURIComponent,l="",u=!1;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(u=!0,n=0;n<i;n++)r=t[n],s=[o("ibs"),o(r.id||""),o(r.tag||""),a.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"",l,r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(s.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,s.join("|")));u&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,i,r){var a="syncOnPage"===r,l=a?s:o;e._readVisitor();var u,d,c=e._getField(l),f=!1,g=!1,p=Math.ceil((new Date).getTime()/n.MILLIS_PER_DAY);c?(u=c.split("*"),d=this.pruneSyncData(u,t.id,p),f=d.dataPresent,g=d.dataValid,f&&g||this.fireSync(a,t,i,u,l,p)):(u=[],this.fireSync(a,t,i,u,l,p))},pruneSyncData:function(e,t,i){var n,r,a,s=!1,o=!1;for(r=0;r<e.length;r++)n=e[r],a=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(s=!0,i<a?o=!0:(e.splice(r,1),r--)):i>=a&&(e.splice(r,1),r--);return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,i,n,r,a,s){var o=this;if(t){if("img"===i.tag){var l,u,d,c,f=i.url,g=e.loadSSL?"https:":"http:";for(l=0,u=f.length;l<u;l++){d=f[l],c=/^\/\//.test(d);var p=new Image;p.addEventListener("load",function(t,i,n,r){return function(){o.onPagePixels[t]=null,e._readVisitor();var s,l=e._getField(a),u=[];if(l){s=l.split("*");var d,c,f;for(d=0,c=s.length;d<c;d++)f=s[d],f.match("^"+i.id+"-")||u.push(f)}o.setSyncTrackingData(u,i,n,r)}}(this.onPagePixels.length,i,a,s)),p.src=(c?g:"")+d,this.onPagePixels.push(p)}}}else this.addMessage(n),this.setSyncTrackingData(r,i,a,s)},addMessage:function(t){var i=encodeURIComponent,r=i(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((n.POST_MESSAGE_ENABLED?"":r)+t)},setSyncTrackingData:function(t,i,n,r){t.push(i.id+"-"+(r+Math.ceil(i.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,i="",r=encodeURIComponent;this.regionChanged&&(i=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?n.POST_MESSAGE_ENABLED?(e=i+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(i+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){r.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,i=/^---destpub-to-parent---/;"string"==typeof e&&i.test(e)&&(t=e.replace(i,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===u.readyState||"loaded"===u.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,i){return e._forceSyncIDCall||!t||i-t>n.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(u.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/constants":14,"../utils/utils":18,"./crossDomain":8}],11:[function(e,t,i){function n(e){for(var t=/^\d+$/,i=0,n=e.length;i<n;i++)if(!t.test(e[i]))return!1;return!0}function r(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function a(e,t){for(var i=0;i<e.length;i++){var n=parseInt(e[i],10),r=parseInt(t[i],10);if(n>r)return 1;if(r>n)return-1}return 0}function s(e,t){if(e===t)return 0;var i=e.toString().split("."),s=t.toString().split(".");return n(i.concat(s))?(r(i,s),a(i,s)):NaN}t.exports={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}}},{}],12:[function(e,t,i){t.exports=function(e,t){function i(e){return function(i){n[e]=i,r++;var s=r===a;s&&t(n)}}var n={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var n=e[t];if(n.fn){var r=n.args||[];r.unshift(i(t)),n.fn.apply(n.context||null,r)}})}},{}],13:[function(e,t,i){function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var i=this.callbacks[e].push(t)-1;return function(){this.callbacks[e].splice(i,1)}},execute:function(e,t){if(this.callbacks[e]){t="undefined"==typeof t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var i=this.callbacks[e].shift();"function"==typeof i?i.apply(null,t):i instanceof Array&&i[1].apply(i[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!r.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var i=void 0!==e[t]?e[t]:"";this.execute(t,i)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var r=e("./utils");t.exports=n},{"./utils":18}],14:[function(e,t,i){(function(e){t.exports={POST_MESSAGE_ENABLED:!!e.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){i.MESSAGES={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},i.STATE_KEYS_MAP={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},i.ASYNC_API_MAP={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},i.SYNC_API_MAP={CUSTOMERIDS:"getCustomerIDs"},i.ALL_APIS={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},i.FIELDGROUP_TO_FIELD={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},i.FIELDS={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},i.AUTH_STATE={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},i.OPT_OUT={GLOBAL:"global"}},{}],16:[function(e,t,i){(function(e){t.exports=function(t){var i;if(!t&&e.location&&(t=e.location.hostname),i=t)if(/^[0-9.]+$/.test(i))i="";else{var n=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",r=i.split("."),a=r.length-1,s=a-1;if(a>1&&r[a].length<=2&&(2===r[a-1].length||n.indexOf(","+r[a]+",")<0)&&s--,s>0)for(i="";a>=s;)i=r[a]+(i?".":"")+i,a--}return i}}).call(this,"undefined"!=typeof window&&"undefined"!=typeof global&&window.global===global?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,i){Object.assign=Object.assign||function(e){for(var t,i,n=1;n<arguments.length;++n){i=arguments[n];for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}},{}],18:[function(e,t,i){i.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},i.isValueEmpty=function(e){return""===e||i.isObjectEmpty(e)},i.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},i.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)}},{}],19:[function(e,t,i){t.exports=function(e){var t,i,n="0123456789",r="",a="",s=8,o=10,l=10;if(1==e){for(n+="ABCDEF",t=0;16>t;t++)i=Math.floor(Math.random()*s),r+=n.substring(i,i+1),i=Math.floor(Math.random()*s),a+=n.substring(i,i+1),s=16;return r+"-"+a}for(t=0;19>t;t++)i=Math.floor(Math.random()*o),r+=n.substring(i,i+1),0===t&&9==i?o=3:(1==t||2==t)&&10!=o&&2>i?o=10:2<t&&(o=10),i=Math.floor(Math.random()*l),a+=n.substring(i,i+1),0===t&&9==i?l=3:(1==t||2==t)&&10!=l&&2>i?l=10:2<t&&(l=10);return r+a}},{}]},{},[1]);// Dynamic Tag Management Library
// Property: Walgreens.com
// All code and conventions are protected by copyright
// Adobe Systems Incorporated

(function(window, document, undefined) {
// Satellite
// =========
//
// Satellite *core*. Yeah, you want it.
//
// In this first section, we have a some useful utility functions.
var ToString = Object.prototype.toString

var Overrides = window._satellite && window._satellite.override

function assert(cond, msg){
  if (!cond){
    throw new Error(msg || "Assertion Failure")
  }
}

var SL = {
  initialized: false,

  // `$data(elm, prop, [val])`
  // ----------------------------
  //
  // Our own `$data()` method, [a la jQuery](http://api.jquery.com/jQuery.data/)
  // , used to get or set
  // properties on DOM elements without going insane.
  // `uuid` and `dataCache` are used by `$data()`
  //
  // Parameters:
  //
  // - `elm` - the element to get or set a property to
  // - `prop` - the property name
  // - `val` - the value of the property, if omitted, the method will
  //      return the existing value of the property, if any
  $data: function(elm, prop, val){
    if (!elm) return;
    var __satellite__ = '__satellite__'
    var cache = SL.dataCache
    var uuid = elm[__satellite__]
    if (!uuid) uuid = elm[__satellite__] = SL.uuid++
    var datas = cache[uuid]
    if (!datas) datas = cache[uuid] = {}
    if (val === undefined)
      return datas[prop]
    else
      datas[prop] = val
  },
  uuid: 1,
  dataCache: {},

  // `keys(object)`
  // --------------
  //
  // Return all keys of an object in an array.
  keys: function(obj){
    var ret = []
    for (var key in obj) 
      if (obj.hasOwnProperty(key))
        ret.push(key)
    return ret
  },

  // `values(object)`
  // ----------------
  //
  // Return all values of an object in an array.
  values: function(obj){
    var ret = []
    for (var key in obj) 
      if (obj.hasOwnProperty(key))
        ret.push(obj[key])
    return ret
  },

  // `isArray(thing)`
  // --------------
  //
  // Returns whether the given thing is an array.
  isArray: Array.isArray || function(thing){
    return ToString.apply(thing) === "[object Array]"
  },

  // `isObject(thing)`
  // -----------------
  //
  // Returns whether the given thing is a plain object.
  isObject: function(thing){
    return thing != null && !SL.isArray(thing) &&
      typeof thing === 'object'
  },

  // `isString(thing)`
  // -----------------
  //
  // Returns whether thing is a string
  isString: function(thing){
    return typeof thing === 'string'
  },

  // `isNumber(thing)`
  // -----------------
  //
  // Returns whether thing is a number
  isNumber: function(thing){
    return ToString.apply(thing) === '[object Number]' && !SL.isNaN(thing)
  },

  // `isNaN(thing)`
  // --------------
  //
  // Return whether thing is NaN
  isNaN: function(thing){
    return thing !== thing
  },

  // `isRegex(thing)`
  // ----------------
  //
  // Returns whether thing is a RegExp object
  isRegex: function(thing){
    return thing instanceof RegExp
  },

  // `isLinkTag(thing)`
  // ----------------
  //
  // Returns whether thing is a DOM link element
  isLinkTag: function(thing){
    return !!(thing && thing.nodeName &&
      thing.nodeName.toLowerCase() === 'a')
  },

  // `each(arr, func, [context])`
  // ------------------
  //
  // A handy method for array iteration wo having to write a for-loop.
  //
  // Parameters:
  //
  // - `arr` - an array
  // - `func(item, index, arr)` - a function which accepts each item in the array
  //      once. I takes these arguments
  //      * `item` - an item
  //      * `index` - the array index of said item
  //      * `arr` - the array
  // - `context` - the context to be bound to `func` when it is invoked
  each: function(arr, func, context){
    for (var i = 0, len = arr.length; i < len; i++)
      func.call(context, arr[i], i, arr)
  },

  // `map(arr, func)`
  // ----------------
  //
  // A handy method for mapping an array to another array using a 1-to-1 mapping
  // for each element
  //
  // Parameters:
  //
  // Parameters are the same as `SL.each`, except that `func` is expected to return
  // a the value you want in the corresponding index of the returned array.
  map: function(arr, func, context){
    var ret = []
    for (var i = 0, len = arr.length; i < len; i++)
      ret.push(func.call(context, arr[i], i, arr))
    return ret
  },

  // `filter(arr, cond)`
  // -------------------
  //
  // Handy method for take an array and filtering down to a subset of the elements.
  //
  // Parameters:
  //
  // Parameters are the same as `SL.each` except the second argument is `cond`
  // instead of `func` and it is expected to return a truthy value respresenting
  // whether to include this item in the return array or not.
  filter: function(arr, cond, context){
    var ret = []
    for (var i = 0, len = arr.length; i < len; i++){
      var item = arr[i]
      if (cond.call(context, item, i, arr))
        ret.push(item)
    }
    return ret
  },

  // `any(arr, cond, context)`
  // -------------------------
  //
  // Another array helper function. Returns true if `cond(item)` returns true
  // for any item in the array.
  any: function(arr, cond, context){
    for (var i = 0, len = arr.length; i < len; i++){
      var item = arr[i]
      if (cond.call(context, item, i, arr))
        return true
    }
    return false
  },

  // `every(arr, cond, context)`
  // ---------------------------
  //
  // Another array helper function. Returns true if `cond(item)` returns true
  // for every item in the array.
  every: function(arr, cond, context){
    var retval = true
    for (var i = 0, len = arr.length; i < len; i++){
      var item = arr[i]
      retval = retval && cond.call(context, item, i, arr)
    }
    return retval
  },

  // `contains(arr, obj)`
  // -----------------------
  //
  // Tells you whether an array contains an object.
  //
  // Parameters:
  //
  // - `arr` - said array
  // - `obj` - said object
  contains: function(arr, obj){
    return SL.indexOf(arr, obj) !== -1
  },

  // `indexOf(arr, obj)`
  // -------------------
  //
  // Return the index of an object within an array.
  //
  // Parameters;
  //
  // - `arr` - said array
  // - `obj` - said object
  indexOf: function(arr, obj){
    if (arr.indexOf)
      return arr.indexOf(obj)
    for (var i = arr.length; i--;)
      if (obj === arr[i])
        return i
    return -1
  },


  // `find(arr, obj)`
  // -------------------
  //
  // Return the index of an object within an array.
  //
  // Parameters;
  //
  // - `arr` - said array
  // - `obj` - said object
  find: function(arr, cond, context){
    var ret = []
    if (!arr) return null
    for (var i = 0, len = arr.length; i < len; i++){
      var item = arr[i]
      if (cond.call(context, item, i, arr))
        return item
    }
    return null
  },

  // `textMatch(str, str_or_regex)`
  // ------------------------------
  //
  // Perform a string match based on another string or a regex.
  //
  // Parameters:
  //
  // `str` - the input string to be matched
  // `str_or_regex` - the pattern to match against, if this is a string, it requires exact match, if
  //      it's a regex, then it will do regex match
  textMatch: function(str, pattern){
    if (pattern == null) throw new Error('Illegal Argument: Pattern is not present')
    if (str == null) return false
    if (typeof pattern === 'string') return str === pattern
    else if (pattern instanceof RegExp) return pattern.test(str)
    else return false
  },

  // `stringify(obj, [seenValues])`
  // ------------------------------
  //
  // Stringify any type of object.
  //
  // Parameters:
  //
  // `obj` - the object that needs to be stringified
  // `seenValues` - pool of parsed resources; used to avoid circular references;
  stringify: function(obj, seenValues){
    seenValues = seenValues || [];
    if (SL.isObject(obj)) {
      if (SL.contains(seenValues, obj)) {
        return '<Cycle>';
      } else {
        seenValues.push(obj);
      }
    }

    if (SL.isArray(obj)) {
      return '[' + SL.map(obj, function(value){
        return SL.stringify(value, seenValues)
      }).join(',') + ']';
    } else if (SL.isString(obj)) {
      return '"' + String(obj) + '"';
    } if (SL.isObject(obj)) {
      var data = [];
      for (var prop in obj) {
        if (obj.hasOwnProperty(prop))
          data.push(prop + ': ' + SL.stringify(obj[prop], seenValues));
      }
      return '{' + data.join(', ') + '}';
    } else {
      return String(obj);
    }
  },

  // `trim(str)`
  // -----------
  //
  // Trims a string.
  //
  // Parameters:
  //
  // `str` - the input string to be trimmed.
  trim: function(str){
    if (str == null) return null
    if (str.trim){
      return str.trim()
    }else{
      return str.replace(/^ */, '').replace(/ *$/, '')
    }
  },

  // `bind(func, context)`
  // ---------------------
  //
  // Binds a context permanently to a context. The returned function is a new function
  // which - when called - will call the passed in function with `context` bound to it.
  //
  // Parameters:
  //
  // `func` - a function
  // `context` - an object to be bound as the context of this function
  bind: function(func, context) {
    return function() {
      return func.apply(context, arguments)
    }
  },

  // `throttle(fn, delay)`
  // ---------------------
  //
  // *Throttles* a function `fn` to be called no more than once during the interval
  // specified by `delay`.
  //
  // Parameters:
  //
  // - `fn` - a function
  // - `delay` - delay in milliseconds
  //
  // *Throttle function stolen from
  //     <http://remysharp.com/2010/07/21/throttling-function-calls/>*
  throttle: function(fn, delay) {
    var timer = null;
    return function () {
      var context = this, args = arguments;
      clearTimeout(timer);
      timer = setTimeout(function () {
        fn.apply(context, args);
      }, delay);
    };
  },

  // `domReady(callback)`
  // --------------------
  //
  // Registers a callback to be called when the DOM is fully parsed and loaded.
  //
  // Parameters:
  //
  // - `callback` - a function to be called at `domready`
  //
  // *domReady is borrowed from <https://github.com/ded/domready>*
  domReady: (function (ready) {

    var fns = [], fn, f = false
      , doc = document
      , testEl = doc.documentElement
      , hack = testEl.doScroll
      , domContentLoaded = 'DOMContentLoaded'
      , addEventListener = 'addEventListener'
      , onreadystatechange = 'onreadystatechange'
      , loaded = /^loade|^c/.test(doc.readyState)

    function flush(f) {
      loaded = 1
      while (f = fns.shift()) f()
    }

    doc[addEventListener] && doc[addEventListener](domContentLoaded, fn = function () {
      doc.removeEventListener(domContentLoaded, fn, f)
      flush()
    }, f)


    hack && doc.attachEvent(onreadystatechange, (fn = function () {
      if (/^c/.test(doc.readyState)) {
        doc.detachEvent(onreadystatechange, fn)
        flush()
      }
    }))

    return (ready = hack ?
      function (fn) {
        self != top ?
          loaded ? fn() : fns.push(fn) :
          function () {
            try {
              testEl.doScroll('left')
            } catch (e) {
              return setTimeout(function() { ready(fn) }, 50)
            }
            fn()
          }()
      } :
      function (fn) {
        loaded ? fn() : fns.push(fn)
      })
  }()),

  // `loadScript(url, [callback])`
  // -----------------------------
  //
  // Load an external script.
  //
  // Parameters:
  //
  // - `url` - the URL of the script
  // - `callback`(optional) - the function to be called after the script has loaded.
  loadScript: function(url, callback){
    var script = document.createElement('script')
    SL.scriptOnLoad(url, script, callback)
    script.src = url
    document.getElementsByTagName('head')[0]
      .appendChild(script)
  },

  scriptOnLoad: function(url, script, callback){
    function cb(err){
      if (err) SL.logError(err)
      if (callback) callback(err)
    }
    if ('onload' in script){
      script.onload = function(){
        cb()
      }
      script.onerror = function(){
        cb(new Error('Failed to load script ' + url))
      }
    }else if ('readyState' in script){
      script.onreadystatechange = function(){
        var rs = script.readyState
        if (rs === 'loaded' || rs === 'complete'){
          script.onreadystatechange = null
          cb()
        }
      }
    }
  },

  // `loadScriptOnce(url, [callback])`
  // -----------------------------
  //
  // Load an external script only if it hasn't been loaded until now.
  //
  // Parameters:
  //
  // - `url` - the URL of the script
  // - `callback`(optional) - the function to be called after the script has loaded.
  loadScriptOnce: function(url, callback){
    if (SL.loadedScriptRegistry[url]) return

    SL.loadScript(url, function(err) {
      if (!err) {
        SL.loadedScriptRegistry[url] = true
      }

      if (callback) callback(err)
    })
  },

  loadedScriptRegistry: {},

  // `loadScriptSync(url)`
  // -----------------------------
  //
  // Load an external script using document.write.
  //
  // Parameters:
  //
  // - `url` - the URL of the script
  loadScriptSync: function(url){
    if (!document.write) {
      SL.notify('Cannot load sync the "' + url + '" script because "document.write" is not available', 1)
      return
    }

    if (SL.domReadyFired){
      SL.notify('Cannot load sync the "' + url + '" script after DOM Ready.', 1)
      return
    }

    // If the url contains a double quote, it could be someone trying to switch out of the
    // attribute to introduce an XSS hack. On the other hand, it could just be that the URL
    // was never escaped. We'll escape it to prevent the former while supporting the latter.
    if (url.indexOf('"') > -1) {
      url = encodeURI(url);
    }

    document.write('<script src="' + url + '"></scr' + 'ipt>');
  },

  // `pushAsyncScript(callback)`
  // -------------------
  //
  // Called by an async custom user script.
  pushAsyncScript: function(cb){
    SL.tools['default'].pushAsyncScript(cb)
  },

  // `pushBlockingScript(callback)`
  // ------------------------------
  //
  // Called by a blocking custom user script.
  pushBlockingScript: function(cb){
    SL.tools['default'].pushBlockingScript(cb)
  },

  // `addEventHandler(elm, evt, callback)`
  // -------------------------------------
  //
  // Register an event handler for a element
  //
  // Parameters:
  //
  // - `elm` - the element in question
  // - `evt` - the event type to listen to
  // - `callback` - callback function
  addEventHandler: window.addEventListener ?
    function(node, evt, cb){ node.addEventListener(evt, cb, false) } :
    function(node, evt, cb){ node.attachEvent('on' + evt, cb) },

  removeEventHandler: window.removeEventListener ?
    function(node, evt, cb){ node.removeEventListener(evt, cb, false) } :
    function(node, evt, cb){ node.detachEvent('on' + evt, cb) },

  // `preventDefault(evt)`
  // ---------------------
  //
  // Prevent the default browser behavior for this event
  //
  // Parameters:
  //
  // `evt` - the event triggered
  preventDefault: window.addEventListener ?
    function(e){ e.preventDefault() } :
    function(e){ e.returnValue = false },

  // `stopPropagation(evt)`
  // ----------------------
  //
  // Cross-browser `stopPropagation`
  //
  // Parameters:
  //
  // `evt` - the event triggered
  stopPropagation: function(e){
    e.cancelBubble = true
    if (e.stopPropagation) e.stopPropagation()
  },

  // `containsElement(container, elm)`
  // ----------------------
  //
  // Given DOM elements `container` and `elm`, returns whether `container` contains `elm`.
  //
  // Parameters:
  //
  // `elm1` - the possible parent
  // `elm2` - the possible child
  containsElement: function(container, elm) {
    return container.contains ? container.contains(elm) :
      !!(container.compareDocumentPosition(elm) & 16);
  },

  // `matchesCss(css, elm)`
  // ----------------------
  //
  // Returns whether a DOM element matches a given css selector
  //
  // Parameters:
  //
  // - `css` - the CSS selector
  // - `elm` - the element
  matchesCss: (function(docEl){

    function simpleTagMatch(selector, elm){
      var tagName = elm.tagName
      if (!tagName) return false
      return selector.toLowerCase() === tagName.toLowerCase()
    }

    var matches =
      docEl.matchesSelector ||
      docEl.mozMatchesSelector ||
      docEl.webkitMatchesSelector ||
      docEl.oMatchesSelector ||
      docEl.msMatchesSelector
    if (matches) {
      return function(selector, elm){
        if (elm === document || elm === window) return false
        try{
          return matches.call(elm, selector)
        }catch(e){
          return false
        }
      }
    } else if(docEl.querySelectorAll) {
      return function(selector, elm) {
        var parent = elm.parentNode
        if (!parent) return false
        if (selector.match(/^[a-z]+$/i)){
          return simpleTagMatch(selector, elm)
        }
        try{
          var nodeList = elm.parentNode.querySelectorAll(selector)
          for (var i = nodeList.length; i--;)
          if (nodeList[i] === elm) return true
        }catch(e){
          //
        }
        return false
      }
    }else{
      return function(selector, elm){
        if (selector.match(/^[a-z]+$/i)){
          return simpleTagMatch(selector, elm)
        }
        try{
          return SL.Sizzle.matches(selector, [elm]).length > 0
        }catch(e){
          return false
        }
      }
    }
  }(document.documentElement)),

  // `cssQuery(css)`
  // ---------------
  //
  // Return a list of element matching the given css selector
  //
  // Parameters:
  //
  // - `css` - the CSS selector
  cssQuery: (function(doc){
    if (doc.querySelectorAll) {
      return function(css, cb){
        var results
        try{
          results = doc.querySelectorAll(css)
        }catch(e){
          results = []
        }
        cb(results)
      }
    }else{
      return function(css, cb){
        if (SL.Sizzle){
          var results
          try{
            results = SL.Sizzle(css)
          }catch(e){
            results = []
          }
          cb(results)
        }else
          SL.sizzleQueue.push([css, cb])
      }
    }
  })(document),

  // `hasAttr(elem, attrName)`
  // ---------------
  //
  // Check if attribute is defined on element
  //
  // Parameters:
  //
  // - `elem` - the DOM element
  // - `attrName` - attribute name
  hasAttr: function(elem, attrName) {
    return elem.hasAttribute ? elem.hasAttribute(attrName) : elem[attrName] !== undefined;
  },

  // `inherit(subClass, superClass)`
  // -------------------------------
  //
  // Make `subClass` inherit `superClass`.
  //
  // Parameters:
  //
  // - `subClass` - a Javascript function representing a constructor - the inheritor
  // - `superClass` - another constructor - the one to inherit from
  inherit: function(subClass, superClass){
    var f = function() {}
    f.prototype = superClass.prototype
    subClass.prototype = new f()
    subClass.prototype.constructor = subClass
  },

  // `extend(dst, src)`
  // ----------------
  //
  // Extend an object with the properties of another.
  //
  // Parameters:
  //
  // - `dst` - object to copy to
  // - `src` - object to copy from
  extend: function(dst, src){
    for (var prop in src)
      if (src.hasOwnProperty(prop))
        dst[prop] = src[prop]
  },

  // `toArray(arrayLike)`
  // --------------------
  //
  // Converts an array-like object to an array.
  //
  // Parameters:
  //
  // - `arrayLike` - an array-like object, meaning it has a length property
  //   which is a number
  toArray: (function(){
    try {
      var slice = Array.prototype.slice
      slice.call( document.documentElement.childNodes, 0 )[0].nodeType;
      return function(thing){
        return slice.call(thing, 0)
      }
    // Provide a fallback method if it does not work
    } catch( e ) {
      return function(thing){
        var ret = []
        for (var i = 0, len = thing.length; i < len; i++)
          ret.push(thing[i])
        return ret
      }
    }
  })(),

  // `equalsIgnoreCase(str1, str2)`
  // ------------------------------
  //
  // Returns true iff str1 and str2 are equal ignoring case.
  //
  // Parameters:
  //
  // * `str1` - the first string
  // * `str2` - the second string
  equalsIgnoreCase: function(str1, str2){
    if (str1 == null) return str2 == null
    if (str2 == null) return false
    return String(str1).toLowerCase() === String(str2).toLowerCase()
  },

  // `poll(fn, [freq], [max_retries])`
  // ------------------
  //
  // Runs `fn` for every `freq` ms. `freq` defaults to 1000. If any
  // invocation of `fn()` returns true, polling will stop.
  // The polling will stop if the number or retries exceeds the
  // provided `max_retries`.
  //
  // Parameters:
  //
  // * `fn` - function to be called repeatedly
  // * `freq` - frequency to call the function
  // * `max_retries` - number of times to retry
  poll: function(fn, freq, max_retries){
    var retries = 0

    freq = freq || 1000
    check()

    function check(){
      if (SL.isNumber(max_retries) && retries++ >= max_retries) {
        return;
      }

      if (!fn()){
        setTimeout(check, freq)
      }
    }
  },
  // ``Html(str)`
  // --------------------
  //
  // Escapes a string for being used in an HTML context. Returns
  // the escaped version of the string. Replaces the characters
  // `&` `<` `>` `"` `'` and `/`.
  //
  // Parameters:
  //
  // * `str` - the string to be escaped
  escapeForHtml: function(str){
    if (!str) return str
    return String(str)
      .replace(/\&/g, '&amp;')
      .replace(/\</g, '&lt;')
      .replace(/\>/g, '&gt;')
      .replace(/\"/g, '&quot;')
      .replace(/\'/g, '&#x27;')
      .replace(/\//g, '&#x2F;')
  }
}

// The available tools to use.
SL.availableTools = {}

// The avaliable event emitters to use.
SL.availableEventEmitters = []

// The names of the events which can only fire once.
SL.fireOnceEvents = ['condition', 'elementexists']

// Initialize all event emitters.
SL.initEventEmitters = function(){
  SL.eventEmitters = SL.map(SL.availableEventEmitters, function(ee){
    return new ee()
  })
}

// Call `registerElements` on all event emitters.
SL.eventEmitterBackgroundTasks = function(){
  SL.each(SL.eventEmitters, function(ee){
    if ('backgroundTasks' in ee)
      ee.backgroundTasks()
  })
}

// Initialize all tools.
SL.initTools = function(toolSpecs){
  var tools = { 'default': new DefaultTool() }
  var euCookieName = SL.settings.euCookieName || 'sat_track'
  for (var id in toolSpecs){
    if(toolSpecs.hasOwnProperty(id)) {
      var toolSpec, ctr, tool
      toolSpec = toolSpecs[id]
      if (toolSpec.euCookie){
        var cookieSet = SL.readCookie(euCookieName) !== 'true'
        if (cookieSet) continue
      }
      ctr = SL.availableTools[toolSpec.engine]
      if (!ctr){
        var available = []
        for (var key in SL.availableTools){
          if (SL.availableTools.hasOwnProperty(key)) {
            available.push(key)  
          }
        }
        throw new Error('No tool engine named ' + toolSpec.engine +
          ', available: ' + available.join(',') + '.')
      }
      tool = new ctr(toolSpec)
      tool.id = id
      tools[id] = tool
    }
  }
  return tools
}

// Pre-process arguments (variable substitutions and lower-casing) before
// feeding them to the tools.
SL.preprocessArguments = function(args, elm, evt, forceLowerCase, escapeHtml){
  if (!args) return args
  return preprocessArray(args, forceLowerCase)
  function forceLowerCaseIfNeeded(value) {
    return forceLowerCase && SL.isString(value) ? value.toLowerCase() : value
  }

  function preprocessObject(obj){
    var ret = {}
    for (var key in obj){
      if (obj.hasOwnProperty(key)){
        var value = obj[key]
        if (SL.isObject(value)){
          ret[key] = preprocessObject(value)
        }else if (SL.isArray(value)){
          ret[key] = preprocessArray(value, forceLowerCase)
        }else{
          ret[key] = forceLowerCaseIfNeeded(SL.replace(value, elm, evt, escapeHtml))
        }
      }
    }
    return ret
  }

  function preprocessArray(args, forceLowerCase){
    var ret = []
    for (var i = 0, len = args.length; i < len; i++){
      var value = args[i]
      if (SL.isString(value)){
        value = forceLowerCaseIfNeeded(SL.replace(value, elm, evt))
      }else if (value && value.constructor === Object){
        value = preprocessObject(value)
      }
      ret.push(value)
    }
    return ret
  }

}

// Execute a command.
SL.execute = function(trig, elm, evt, tools){
  if (_satellite.settings.hideActivity) return
  tools = tools || SL.tools

  function doit(toolName){
    var tool = tools[toolName || 'default']
    if (!tool)
      return
    try{
      tool.triggerCommand(trig, elm, evt)
    }catch(e){
      SL.logError(e)
    }
  }
  if (trig.engine){
    var engine = trig.engine
    for (var toolName in tools){
      if (tools.hasOwnProperty(toolName)) {
        var tool = tools[toolName]
        if (tool.settings && tool.settings.engine === engine)
          doit(toolName)
      }
    }
  }else if (trig.tool instanceof Array)
    SL.each(trig.tool, function(toolName){
      doit(toolName)
    })
  else
    doit(trig.tool)
}

// Wrapper object that handles Satellite internal logging.
//
// It saves all messages for future reference (up to `keepLimit`, default 100) and
// outputs to browser's console if `_satellite.settings.notifications` is `true`.
// -----------------------------------------------------
SL.Logger = {
  outputEnabled: false,

  messages: [],
  keepLimit: 100,
  flushed: false,

  // @fixme: remove first 2 items when legacy code is updated
  LEVELS: [null, null, 'log', 'info', 'warn', 'error'],

  // `lvl` should be the index of a level defined in `LEVELS`
  message: function(msg, lvl) {
    var level = this.LEVELS[lvl] || 'log';

    this.messages.push([level, msg]);
    if (this.messages.length > this.keepLimit) {
      this.messages.shift();
    }

    if (this.outputEnabled) {
      this.echo(level, msg)
    }
  },

  getHistory: function() {
    return this.messages;
  },

  clearHistory: function() {
    this.messages = [];
  },

  setOutputState: function(state) {
    if (this.outputEnabled == state) return;

    this.outputEnabled = state;
    if (state) {
      this.flush();
    } else {
      this.flushed = false;
    }
  },

  // Private
  // ----------------------------------------
  echo: function(func, msg) {
    if (!window.console) return;
    window.console[func]("SATELLITE: " + msg);
  },

  flush: function() {
    if (this.flushed) return;

    SL.each(this.messages, function(item) {
      if (item[2] === true) return; // message already flushed
      this.echo(item[0], item[1]);
      item[2] = true;
    }, this);
    this.flushed = true;
  }
};

// `notify(msg, pty)`
// ------------------
//
// Notify the user of things happening in Satellite using `console.log`
//
// - msg - message to print
// - pty - priority
SL.notify = SL.bind(SL.Logger.message, SL.Logger);

// `cleanText(str)`
// ================
//
// "Cleans" the text from an element's innerText. This is used directly by the
// @cleanText special property.
SL.cleanText = function(str){
  if (str == null) return null
  return SL.trim(str).replace(/\s+/g, ' ')
}

SL.cleanText.legacy = function(str){
  if (str == null) return null
  return SL.trim(str).replace(/\s{2,}/g, ' ')
    .replace(/[^\000-\177]*/g, '')
}

SL.text = function(obj){
  return obj.textContent || obj.innerText
}

// Special Properties for DOM elements. You use special properties using
// the @ prefix. Example:
//
//     this.@text
SL.specialProperties = {
  text: SL.text,
  cleanText: function(obj){
    return SL.cleanText(SL.text(obj))
  }
}

// `getObjectProperty(obj, property)`
// ============================
//
// Get property(potentially nested) from an object.
SL.getObjectProperty = function(obj, property, supportSpecial){
  var propChain = property.split('.')
  var currValue = obj
  var special = SL.specialProperties
  var attrMatch
  for (var i = 0, len = propChain.length; i < len; i++){
    if (currValue == null) return undefined
    var prop = propChain[i]
    if (supportSpecial && prop.charAt(0) === '@'){
      var specialProp = prop.slice(1)
      currValue = special[specialProp](currValue)
      continue
    }
    if (currValue.getAttribute &&
      (attrMatch = prop.match(/^getAttribute\((.+)\)$/))){
      var attr = attrMatch[1]
      currValue = currValue.getAttribute(attr)
      continue
    }
    currValue = currValue[prop]
  }
  return currValue
}

// `getToolsByType(type)`
// ------------------------------------------------
//
// Returns an array containing all the tools whose engine property match
// the provided type.
//
// - `type` - The searched tool type
SL.getToolsByType = function(type){
  if (!type) {
    throw new Error('Tool type is missing')
  }

  var result = []
  for (var t in SL.tools) {
    if (SL.tools.hasOwnProperty(t)) {
      var tool = SL.tools[t]
      if (tool.settings && tool.settings.engine === type) {
        result.push(tool)
      }
    }
  }

  return result
}

// `setVar(name, value)` or `setVar(mapping)`
// ==========================================
//
// Set a customer variable. Can be either called like this
//
//     _satellite.setVar('name', 'value')
//
// Or by passing in a mapping(object literall) which allows setting multiple variables at
// the same time.
//
//     _satellite.setVar({name: 'value', foo: 'bar'})
SL.setVar = function(){
  var customVars = SL.data.customVars
  if(customVars == null) SL.data.customVars = {}, customVars = SL.data.customVars
  if (typeof arguments[0] === 'string'){
    var prop = arguments[0]
    customVars[prop] = arguments[1]
  }else if (arguments[0]){ // assume an object literal
    var mapping = arguments[0]
    for (var key in mapping)
      if (mapping.hasOwnProperty(key))
        customVars[key] = mapping[key]
  }
}

SL.dataElementSafe = function(key, length){
  if (arguments.length > 2){
    // setter
    var value = arguments[2]
    if (length === 'pageview'){
      SL.dataElementSafe.pageviewCache[key] = value
    }else if (length === 'session'){
      SL.setCookie('_sdsat_' + key, value)
    }else if (length === 'visitor') {
      SL.setCookie('_sdsat_' + key, value, 365 * 2)
    }
  }else{
    // getter
    if (length === 'pageview'){
      return SL.dataElementSafe.pageviewCache[key]
    }else if (length === 'session' || length === 'visitor'){
      return SL.readCookie('_sdsat_' + key)
    }
  }
}
SL.dataElementSafe.pageviewCache = {}

SL.realGetDataElement = function(dataDef){
  var ret
  if (dataDef.selector) {
    if (SL.hasSelector) {
      SL.cssQuery(dataDef.selector, function(elms) {
        if (elms.length > 0) {
          var elm = elms[0]
          if (dataDef.property === 'text') {
            ret = elm.innerText || elm.textContent
          }else if (dataDef.property in elm){
            ret = elm[dataDef.property]
          }else if (SL.hasAttr(elm, dataDef.property)){
            ret = elm.getAttribute(dataDef.property)
          }
        }
      })
    }
  }else if (dataDef.queryParam) {
    if (dataDef.ignoreCase){
      ret = SL.getQueryParamCaseInsensitive(dataDef.queryParam)
    }else{
      ret = SL.getQueryParam(dataDef.queryParam)
    }
  }else if (dataDef.cookie) {
    ret = SL.readCookie(dataDef.cookie)
  }else if (dataDef.jsVariable) {
    ret = SL.getObjectProperty(window, dataDef.jsVariable)
  }else if (dataDef.customJS) {
    ret = dataDef.customJS()
  }else if (dataDef.contextHub) {
    ret = dataDef.contextHub()
  }
  if (SL.isString(ret) && dataDef.cleanText){
    ret = SL.cleanText(ret)
  }
  return ret
}

SL.getDataElement = function(variable, suppressDefault, dataDef) {
  dataDef = dataDef || SL.dataElements[variable]
  if (dataDef == null) {
    return SL.settings.undefinedVarsReturnEmpty ? '' : null; 
  }
  var ret = SL.realGetDataElement(dataDef)
  if (ret === undefined && dataDef.storeLength) {
    ret = SL.dataElementSafe(variable, dataDef.storeLength)
  }else if (ret !== undefined && dataDef.storeLength) {
    SL.dataElementSafe(variable, dataDef.storeLength, ret)
  }
  if (!ret && !suppressDefault) {
    ret = dataDef['default'] || ''
  }
  if (SL.isString(ret) && dataDef.forceLowerCase) {
    ret = ret.toLowerCase()
  }
  return ret
}

// getVar(variable, elm, evt)
// ==========================
//
// Return the value of a variable, where the variable
// can be a data element, defined in the "data" section
// of the initial settings, or reference properties on
// an element, event, or target of the event in question,
// a query parameter, or a random number.
//
// - `variable` - the name of the variable to get
// - `[elm]` - the associated element, if any
// - `[evt]` - the associated event, if any
SL.getVar = function(variable, elm, evt){
  var custVars = SL.data.customVars
    , target = evt ? (evt.target || evt.srcElement) : null
    , randMatch
    , value
  var map = {
    uri: SL.URI(),
    protocol: document.location.protocol,
    hostname: document.location.hostname
  }
  if (SL.dataElements && variable in SL.dataElements){
    return SL.getDataElement(variable)
  }
  value = map[variable.toLowerCase()]
  if (value === undefined){
    if (variable.substring(0, 5) === 'this.'){
      variable = variable.slice(5)
      value = SL.getObjectProperty(elm, variable, true)
    }else if(variable.substring(0, 6) === 'event.'){
      variable = variable.slice(6)
      value = SL.getObjectProperty(evt, variable)
    }else if(variable.substring(0, 7) === 'target.'){
      variable = variable.slice(7)
      value = SL.getObjectProperty(target, variable)
    }else if(variable.substring(0, 7) === 'window.'){
      variable = variable.slice(7)
      value = SL.getObjectProperty(window, variable)
    }else if (variable.substring(0, 6) === 'param.'){
      variable = variable.slice(6)
      value = SL.getQueryParam(variable)
    }else if(randMatch = variable.match(/^rand([0-9]+)$/)){
      var len = Number(randMatch[1])
        , s = (Math.random() * (Math.pow(10, len) - 1)).toFixed(0)
      value = Array(len - s.length + 1).join('0') + s
    }else{
      value = SL.getObjectProperty(custVars, variable)
    }
  }
  return value
}

SL.getVars = function(variables, elm, evt){
  var ret = {}
  SL.each(variables, function(variable){
    ret[variable] = SL.getVar(variable, elm, evt)
  })
  return ret
}

// `replace(str, [elm], [target])`
// ---------------------
//
// Perform variable subtitutions substitute to a string where subtitions are
// specified in the form `"%foo%"`. Variables are lookup either in `SL.data.customVars`, or
// if the `elm` parameter is passed it, and the variable spec is of the form `"%this.tagName%"`, it
// is subsituted with the properties on `elm`, *i.e. `elm.tagName`.
//
// Parameters:
//
// - `str` - string to apply substitutions to
// - `elm`(optional) - object or element to use for substitutions of the form `%this.property%`
// - `target`(optional) - element to use for subsitution of the form `%target.property%`
// - `escapeHtml` (optional) - whether or not to escape substitutions for embedding in HTML
SL.replace = function(str, elm, evt, escapeHtml) {
  if (typeof str !== 'string') return str
  return str
    .replace(/%(.*?)%/g, function(m, variable){
      var val = SL.getVar(variable, elm, evt)
      if (val == null) {
        return SL.settings.undefinedVarsReturnEmpty ? '' : m; 
      } else {
        if (escapeHtml) {
          return SL.escapeForHtml(val);
        } else {
          return val;
        }
      }
    });
}

SL.escapeHtmlParams = function(fn){
  fn.escapeHtml = true
  return fn
}

// From a object literal of variable, generate a query string.
SL.searchVariables = function(vars, elm, evt){
  if (!vars || vars.length === 0) return ''
  var qsParts = []
  for (var i = 0, len = vars.length; i < len; i++){
    var varr = vars[i]
      , value = SL.getVar(varr, elm, evt)
       qsParts.push(varr + '=' + escape(value))
  }
  return '?' + qsParts.join('&')
}

// Fire all the trigger actions associated with a rule.
SL.fireRule = function(rule, elm, evt){
  var triggers = rule.trigger
  if (!triggers) return
  for (var i = 0, len = triggers.length; i < len; i++){
    var trig = triggers[i]
    SL.execute(trig, elm, evt)
  }
  if (SL.contains(SL.fireOnceEvents, rule.event))
    rule.expired = true
}

// `isLinked(elm)`
// ---------------
//
// Returns whether the element is either an anchor or a descendant of an anchor or contains an anchor.
//
// `elm` - the element to test
SL.isLinked = function(elm){
  for (var cur = elm; cur; cur = cur.parentNode) {
    if (SL.isLinkTag(cur))
      return true
  }
  return false
}

// Fire a page load event. `type` is one of `pagetop`, `pagebottom`, `domready` and
// `windowload`.
SL.firePageLoadEvent = function(type) {
  var location = document.location
  var evt = {type: type, target: location}
  var rules = SL.pageLoadRules
  var handlers = SL.evtHandlers[evt.type];
  for (var i = rules.length; i--;){
    var rule = rules[i]
    if (SL.ruleMatches(rule, evt, location)){
      SL.notify('Rule "' + rule.name + '" fired.', 1)
      SL.fireRule(rule, location, evt)
    }
  }
  for (var id in SL.tools){
    if (SL.tools.hasOwnProperty(id)) {
      var tool = SL.tools[id]
      if (tool.endPLPhase) {
        tool.endPLPhase(type)
      }
    }
  }
  if (handlers){
    SL.each(handlers, function(cb){
      cb(evt)
    })
  }
}

// `track(id)`
// -----------
//
// Directly fire a direct call rule by id.
SL.track = function(ruleName) {
  // trim extra spaces that may exist at beginning or end of string
  ruleName = ruleName.replace(/^\s*/,"").replace(/\s*$/,"")
  for (var i = 0; i < SL.directCallRules.length; i++){
    var rule = SL.directCallRules[i]
    if (rule.name === ruleName){
      SL.notify('Direct call Rule "' + ruleName + '" fired.', 1)
      SL.fireRule(rule, location, {type: ruleName})
      return
    }
  }
  SL.notify('Direct call Rule "' + ruleName + '" not found.', 1)
}

// `basePath()`
// ------------
//
// Returns the base path of all Satellite generated assets.
SL.basePath = function(){
  if (SL.data.host)
    return (document.location.protocol === 'https:' ?
    'https://' + SL.data.host.https :
    'http://' + SL.data.host.http) + '/'
  else
    return this.settings.basePath
}

// `setLocation(url)`
// ------------------
//
// Set the current URL
//
// - `url` - the URL to set to
SL.setLocation = function(url){
  window.location = url
}

SL.parseQueryParams = function(str){
  var URIDecode = function (str) {
    var result = str
    try {
      result = decodeURIComponent(str)
    } catch(err) {}

    return result
  }

  if (str === '' || SL.isString(str) === false) return {}
  if (str.indexOf('?') === 0) {
    str = str.substring(1)
  }
  var ret = {}
    , pairs = str.split('&')
  SL.each(pairs, function(pair){
    pair = pair.split('=')
    if (!pair[1]) {
      return
    }
    ret[URIDecode(pair[0])] = URIDecode(pair[1])
  })
  return ret
}

SL.getCaseSensitivityQueryParamsMap = function (str) {
  var normal = SL.parseQueryParams(str)
  var insensitive = {}

  for (var prop in normal)
    if (normal.hasOwnProperty(prop))
      insensitive[prop.toLowerCase()] = normal[prop]

  return {
    normal: normal,
    caseInsensitive: insensitive
  }
}

SL.updateQueryParams = function(){
  SL.QueryParams = SL.getCaseSensitivityQueryParamsMap(window.location.search)
}
SL.updateQueryParams()

SL.getQueryParam = function(key){
  return SL.QueryParams.normal[key]
}

SL.getQueryParamCaseInsensitive = function(key){
  return SL.QueryParams.caseInsensitive[key.toLowerCase()]
}

SL.encodeObjectToURI = function(obj) {
  if (SL.isObject(obj) === false) {
    return ''
  }

  var uri = []
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      uri.push(encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]))
    }
  }

  return uri.join('&')
}

SL.readCookie = function(name) {
  var nameEQ = name + "="
  var parts = document.cookie.split(';')
  for(var i=0;i < parts.length;i++) {
    var c = parts[i]
    while (c.charAt(0)==' '){
      c = c.substring(1,c.length)
    }
    if (c.indexOf(nameEQ) === 0){
      return c.substring(nameEQ.length,c.length)
    }
  }
  return undefined
}

SL.setCookie = function(name,value,days) {
  var expires
  if (days) {
    var date = new Date()
    date.setTime(date.getTime()+(days*24*60*60*1000))
    expires = "; expires="+date.toGMTString()
  }
  else{
    expires = ""
  }
  document.cookie = name+"="+value+expires+"; path=/"
}

SL.removeCookie = function(name) {
  SL.setCookie(name,"",-1);
}


SL.getElementProperty = function(elm, prop){
  if (prop.charAt(0) === '@'){
    var special = SL.specialProperties[prop.substring(1)]
    if (special){
      return special(elm)
    }
  }
  if (prop === 'innerText'){
    return SL.text(elm)
  }
  if (prop in elm)
    return elm[prop]
  return elm.getAttribute ? elm.getAttribute(prop) : undefined
}

SL.propertiesMatch = function(property, elm){
  if (property){
    for (var prop in property){
      if (property.hasOwnProperty(prop)) {
        var target = property[prop]
        var value = SL.getElementProperty(elm, prop)
        if (typeof target === 'string' && target !== value) return false
        if (target instanceof RegExp && !target.test(value)) return false
      }
    }
  }
  return true
}

// from http://www.quirksmode.org/js/events_properties.html
SL.isRightClick = function(e){
  var ret
  if (e.which){
    ret = e.which == 3
  }else if (e.button){
    ret = e.button == 2
  }
  return ret
}

// `ruleMatches(rule, evt, elm, eventEntriesFound)`
// ------------------------------------------------
//
// - `rule` - the rules to match
// - `evt` - the event triggered
// - `elm` - the element the event was on
// - `eventEntriesFound` - number of rules matched so far
SL.ruleMatches = function(rule, evt, elm, eventEntriesFound){
  var cnd = rule.condition
  var cnds = rule.conditions
  var property = rule.property
  var eventType = evt.type
  var matchValue = rule.value
  var target = evt.target || evt.srcElement
  var initialTarget = elm === target

  if (rule.event !== eventType && (rule.event !== 'custom' || rule.customEvent !== eventType)) return false
  if (!SL.ruleInScope(rule)) return false
  // ignore all right-clicks
  if (rule.event === 'click' && SL.isRightClick(evt)){
    return false
  }
  if (rule.isDefault && eventEntriesFound > 0)
    return false
  if (rule.expired) return false
  if (eventType === 'inview' && evt.inviewDelay !== rule.inviewDelay){
    return false
  }
  if (!(initialTarget ||
          ((rule.bubbleFireIfParent !== false) && (eventEntriesFound === 0 || (rule.bubbleFireIfChildFired !== false))))) return false

  if (rule.selector && !SL.matchesCss(rule.selector, elm)) return false
  if (!SL.propertiesMatch(property, elm)) return false
  if (matchValue != null){
    if (typeof matchValue === 'string'){
      if (matchValue !== elm.value)
        return false
    }else if (!matchValue.test(elm.value))
      return false
  }
  if (cnd){
    try{
      if (!cnd.call(elm, evt, target)){
        SL.notify('Condition for rule "' + rule.name + '" not met.', 1)
        return false
      }
    }catch(e){
      SL.notify('Condition for rule "' + rule.name + '" not met. Error: ' + e.message, 1)
      return false
    }
  }
  if (cnds){
    var failed = SL.find(cnds, function(cnd){
      try{
        return !cnd.call(elm, evt, target)
      }catch(e){
        SL.notify('Condition for rule "' + rule.name + '" not met. Error: ' + e.message, 1)
        return true
      }
    })
    if (failed){
      SL.notify('Condition ' + failed.toString() + ' for rule "' + rule.name + '" not met.', 1)
      return false
    }
  }
  return true
}


SL.evtHandlers = {}
// `bindEvent(evtName, callback)`
// ------------------------------
//
// Register for an event by name. Alias: `whenEvent`.
//
// `evtName` - the name of the event
// `callback` - the function to be called when even fires
SL.bindEvent = function(evtName, callback){
  var handlers = SL.evtHandlers
  if (!handlers[evtName])
    handlers[evtName] = []
  handlers[evtName].push(callback)
}
SL.whenEvent = SL.bindEvent

// `unbindEvent(evtName, callback)
// -------------------------------
//
// Unregister for an event by name.
//
// `evtName` - the name of the event
// `callback` - the function to unregister
SL.unbindEvent = function(evtName, callback){
  var handlers = SL.evtHandlers
  if (!handlers[evtName]) return
  var idx = SL.indexOf(handlers[evtName], callback)
  handlers[evtName].splice(idx, 1)
}

SL.bindEventOnce = function(evtName, callback){
  var wrapped = function(){
    SL.unbindEvent(evtName, wrapped)
    callback.apply(null, arguments)
  }
  SL.bindEvent(evtName, wrapped)
}

// See <http://tobyho.com/2014/02/26/attribute-only-valid-on-v-image/>
SL.isVMLPoisoned = function(elm){
  if (!elm) return false
  try{
    elm.nodeName
  }catch(e){
    if (e.message === 'Attribute only valid on v:image'){
      return true
    }
  }
  return false
}

SL.handleEvent = function(evt) {
  // Don't process an event twice.
  if (SL.$data(evt, 'eventProcessed')) return

  var eventType = evt.type.toLowerCase()
    , target = evt.target || evt.srcElement
    , rulesMatched = 0
    , rules = SL.rules
    , tools = SL.tools
    , handlers = SL.evtHandlers[evt.type]

  if (SL.isVMLPoisoned(target)){
    SL.notify('detected ' + eventType + ' on poisoned VML element, skipping.', 1)
    return
  }

  if (handlers){
    SL.each(handlers, function(cb){
      cb(evt)
    })
  }

  var nodeName = target && target.nodeName;
  if (nodeName)
    SL.notify("detected " + eventType + " on " + target.nodeName, 1)
  else
    SL.notify("detected " + eventType, 1)

  for (var curr = target; curr; curr = curr.parentNode) {
    var bubbleStop = false
    SL.each(rules, function(rule){
      if (SL.ruleMatches(rule, evt, curr, rulesMatched)){
        SL.notify('Rule "' + rule.name + '" fired.', 1)
        SL.fireRule(rule, curr, evt)
        rulesMatched++
        if (rule.bubbleStop)
          bubbleStop = true
      }
    })
    if (bubbleStop) break
  }


  SL.$data(evt, 'eventProcessed', true)
}

// `onEvent(evt)`
// ------------
//
// Handle an event, whether it is a DOM event or a synthetic event.
//
// - `evt` - the event triggered
SL.onEvent = document.querySelectorAll ?
function(evt){ SL.handleEvent(evt) } :
(function(){
  var q = []
  var onEvent = function(evt) {
    if (evt.selector)
      q.push(evt)
    else
      SL.handleEvent(evt)
  }
  onEvent.pendingEvents = q
  return onEvent
})()

// `fireEvent(eventType, eventTarget)`
// ------------
//
// Conviniently programmatically fire an event.
//
// - `eventType` - the type of event
// - `eventTarget` - the target object that fired the event
SL.fireEvent = function(type, target){
  SL.onEvent({type: type, target: target})
}

// `registerEvents(elm, events)`
// -----------------------------
//
// Register events for an element using `track` as the callback
//
// - `elm` - the element to listen for events on
// - `events` - an array of event types (strings)
SL.registerEvents = function(elm, events){
  for (var i = events.length - 1; i >= 0; i--){
    var event = events[i]
    if (!SL.$data(elm, event + '.tracked')){
      SL.addEventHandler(elm, event, SL.onEvent)
      SL.$data(elm, event + '.tracked', true)
    }
  }
}

// `registerEventsForTags(tags, events)`
// -------------------------------------
//
// Register events for all element that have the specified tags
//
// - `tags` - an array of tags to match for (strings)
// - `events` - an array of event types (strings)
SL.registerEventsForTags = function(tags, events){
  for (var i = tags.length - 1; i >= 0; i--){
    var tag = tags[i]
    var elms = document.getElementsByTagName(tag);
    for (var j = elms.length - 1; j >= 0; j--)
      SL.registerEvents(elms[j], events)
  }
}

// `setListeners()`
// ----------------
//
// Set events for `document`
SL.setListeners = function() {
  var events = ['click', 'submit'];

  SL.each(SL.rules, function(rule) {
    if (rule.event === 'custom' &&
        rule.hasOwnProperty('customEvent') &&
        !SL.contains(events, rule.customEvent)) {
      events.push(rule.customEvent);
    }
  });

  SL.registerEvents(document, events);
};

// `getUniqueRuleEvents()`
// -----------------------
//
// Returns an array of unique event types for which event-based rules
// have been configured.
SL.getUniqueRuleEvents = function() {
  if (!SL._uniqueRuleEvents) {
    SL._uniqueRuleEvents = [];
    SL.each(SL.rules, function(rule) {
      if (SL.indexOf(SL._uniqueRuleEvents, rule.event) === -1) {
        SL._uniqueRuleEvents.push(rule.event);
      }
    });
  }

  return SL._uniqueRuleEvents;
};

// `setFormListeners()`
// --------------------
//
// Listen for events on form elements. Listeners for these events are added directly to form
// elements since they don't bubble (though some do in modern browsers).
SL.setFormListeners = function() {
  if (!SL._relevantFormEvents) {
    var formEvents = [
      "change",
      "focus",
      "blur",
      // Why do we add event listeners directly to form elements for the keypress event? The
      // keypress event bubbles so we could add it directly to document. Note that keypress
      // events can be triggered when any element has focus which means that by adding the event
      // listener directly to form elements we're filtering any keypress events from other elements.
      // Is this the intention? If so, we could still add a single listener directly to document
      // and filter on event.target.nodeName.
      "keypress"
    ];

    SL._relevantFormEvents = SL.filter(SL.getUniqueRuleEvents(), function(event) {
      return SL.indexOf(formEvents, event) !== -1;
    });
  }

  if (SL._relevantFormEvents.length) {
    SL.registerEventsForTags(['input', 'select', 'textarea', 'button'], SL._relevantFormEvents);
  }
};

// `setVideoListeners()`
// ---------------------
//
// Listen for events on video elements. Listeners for these events are added directly to form
// elements since they don't bubble.
SL.setVideoListeners = function() {
  if (!SL._relevantVideoEvents) {
    var videoEvents = [
      "play",
      "pause",
      "ended",
      "volumechange",
      "stalled",
      "loadeddata"
    ];

    SL._relevantVideoEvents = SL.filter(SL.getUniqueRuleEvents(), function(event) {
      return SL.indexOf(videoEvents, event) !== -1;
    });
  }

  if (SL._relevantVideoEvents.length) {
    SL.registerEventsForTags(['video'], SL._relevantVideoEvents);
  }
};

// `readStoredSetting(name)`
// ==================
//
// Reads the cookie of the given name.
// Stolen from <http://www.quirksmode.org/js/cookies.html>
SL.readStoredSetting = function(name) {
  // When local storage is disabled on Safari, the mere act of referencing window.localStorage
  // throws an error. For this reason, referencing window.localStorage without being inside
  // a try-catch should be avoided.
  try{
    name = 'sdsat_' + name
    return window.localStorage.getItem(name)
  }catch(e){
    SL.notify('Cannot read stored setting from localStorage: ' + e.message, 2)
    return null
  }
}

// Read satelliteUtilsCookie values to see about getting bookmarklet running / settings
SL.loadStoredSettings = function () {
  var debug = SL.readStoredSetting('debug')
    , hideActivity = SL.readStoredSetting('hide_activity')
  if (debug)
    SL.settings.notifications = debug === 'true'
  if (hideActivity)
    SL.settings.hideActivity = hideActivity === 'true'
}

SL.isRuleActive = function(rule, date){
  var schd = rule.schedule
  if (!schd) return true

  var utc = schd.utc
    , getDate = utc ? 'getUTCDate' : 'getDate'
    , getDay = utc ? 'getUTCDay' : 'getDay'
    , getFullYear = utc ? 'getUTCFullYear' : 'getFullYear'
    , getMonth = utc ? 'getUTCMonth' : 'getMonth'
    , getHours = utc ? 'getUTCHours' : 'getHours'
    , getMinutes = utc ? 'getUTCMinutes' : 'getMinutes'
    , setHours = utc ? 'setUTCHours' : 'setHours'
    , setMinutes = utc ? 'setUTCMinutes' : 'setMinutes'
    , setDate = utc ? 'setUTCDate' : 'setDate'

  date = date || new Date()

  function dayDiff(one, other){
    other = modifyDate(other, {
      hour: one[getHours](),
      minute: one[getMinutes]()
    })
    return Math.floor(Math.abs((one.getTime() - other.getTime()) / (1000 * 60 * 60 * 24)))
  }
  function monthDiff(one, other){
    function months(date){
      return date[getFullYear]() * 12 + date[getMonth]()
    }
    return Math.abs(months(one) - months(other))
  }
  function modifyDate(date, fields){
    var retval = new Date(date.getTime())
    for (var field in fields){
      if (fields.hasOwnProperty(field)) {
        var val = fields[field]
        switch(field){
          case 'hour':
            retval[setHours](val)
            break
          case 'minute':
            retval[setMinutes](val)
            break
          case 'date':
            retval[setDate](val)
            break
        }
      }
    }
    return retval
  }
  function timeGreaterThan(one, other){
    var h1 = one[getHours]()
      , m1 = one[getMinutes]()
      , h2 = other[getHours]()
      , m2 = other[getMinutes]()
    return (h1 * 60 + m1) > (h2 * 60 + m2)
  }
  function timeLessThan(one, other){
    var h1 = one[getHours]()
      , m1 = one[getMinutes]()
      , h2 = other[getHours]()
      , m2 = other[getMinutes]()
    return (h1 * 60 + m1) < (h2 * 60 + m2)
  }


  if (schd.repeat){
    if (timeGreaterThan(schd.start, date)) return false
    if (timeLessThan(schd.end, date)) return false
    if (date < schd.start) return false
    if (schd.endRepeat && date >= schd.endRepeat) return false
    if (schd.repeat === 'daily'){
      if (schd.repeatEvery){
        var dd = dayDiff(schd.start, date)
        if (dd % schd.repeatEvery !== 0) return false
      }
    }else if (schd.repeat === 'weekly'){
      if (schd.days){
        if (!SL.contains(schd.days, date[getDay]())) return false
      }else
        if (schd.start[getDay]() !== date[getDay]()) return false
      if (schd.repeatEvery){
        var diff = dayDiff(schd.start, date)
        if (diff % (7 * schd.repeatEvery) !== 0)
          return false
      }
    }else if (schd.repeat === 'monthly'){
      if (schd.repeatEvery){
        var md = monthDiff(schd.start, date)
        if (md % schd.repeatEvery !== 0) return false
      }
      if (schd.nthWeek && schd.mthDay){
        if (schd.mthDay !== date[getDay]()) return false
        var nthWeek = Math.floor((date[getDate]() - date[getDay]() + 1) / 7)
        if (schd.nthWeek !== nthWeek) return false
      }else
        if (schd.start[getDate]() !== date[getDate]()) return false
    }else if (schd.repeat === 'yearly'){
      if (schd.start[getMonth]() !== date[getMonth]()) return false
      if (schd.start[getDate]() !== date[getDate]()) return false
      if (schd.repeatEvery){
        var diff = Math.abs(schd.start[getFullYear]() - date[getFullYear]())
        if (diff % schd.repeatEvery !== 0) return false
      }
    }
  }else{
    if (schd.start > date) return false
    if (schd.end < date) return false
  }
  return true
}

SL.isOutboundLink = function(elm){
  if (!elm.getAttribute('href')) return false
  var hostname = elm.hostname
  var href = elm.href
  var protocol = elm.protocol
  if (protocol !== 'http:' && protocol !== 'https:') return false
  var isMyDomain = SL.any(SL.settings.domainList, function(domain){
    return SL.isSubdomainOf(hostname, domain)
  })
  if (isMyDomain) return false
  return hostname !== location.hostname
}

SL.isLinkerLink = function(elm){
  if (!elm.getAttribute || !elm.getAttribute('href')) return false
  return SL.hasMultipleDomains() &&
    elm.hostname != location.hostname &&
    !elm.href.match(/^javascript/i) &&
    !SL.isOutboundLink(elm)
}

SL.isSubdomainOf = function(sub, root){
  if (sub === root) return true
  var idx = sub.length - root.length
  if (idx > 0)
    return SL.equalsIgnoreCase(sub.substring(idx), root)
  return false
}

// `getVisitorId()`
// ------------------------------------------------
//
// Returns the library instance associated to a VisitorId tool if the tool exists
//
SL.getVisitorId = function(){
  var visitorIdTools = SL.getToolsByType('visitor_id')
  if (visitorIdTools.length === 0) {
    return null;
  }

  return visitorIdTools[0].getInstance()
}

SL.URI = function(){
  var ret = document.location.pathname + document.location.search
  if (SL.settings.forceLowerCase){
    ret = ret.toLowerCase()
  }
  return ret
}

SL.URL = function(){
  var ret = document.location.href
  if (SL.settings.forceLowerCase){
    ret = ret.toLowerCase()
  }
  return ret
}

// Filter `SL.rules` down to only the once relevant for the current page.
SL.filterRules = function(){
  function matches(rule){
    if (!SL.isRuleActive(rule)) return false
    return true
  }

  SL.rules = SL.filter(SL.rules, matches)
  SL.pageLoadRules = SL.filter(SL.pageLoadRules, matches)

}

SL.ruleInScope = function(rule, location){
  location = location || document.location
  var scope = rule.scope
  if (!scope) return true
  var URI = scope.URI
  var subdomains = scope.subdomains
  var domains = scope.domains
  var protocols = scope.protocols
  var hashes = scope.hashes

  if (URI && includeExcludeFails(URI, location.pathname + location.search)) return false
  if (subdomains && includeExcludeFails(subdomains, location.hostname)) return false
  if (domains && matchFails(domains, location.hostname)) return false
  if (protocols && matchFails(protocols, location.protocol)) return false
  if (hashes && includeExcludeFails(hashes, location.hash)) return false

  function includeExcludeFails(matcher, matchee){
    var include = matcher.include
    var exclude = matcher.exclude
    if (include && matchFails(include, matchee)) return true
    if (exclude){
      if (SL.isString(exclude) && exclude === matchee)
        return true
      if (SL.isArray(exclude) && SL.any(exclude, matches))
        return true
      if (SL.isRegex(exclude) && matches(exclude))
        return true
    }

    return false

    function matches(regex){
      return matchee.match(regex)
    }
  }

  function matchFails(matcher, matchee){
    if (SL.isString(matcher) && matcher !== matchee)
      return true
    if (SL.isArray(matcher) && !SL.any(matcher, matches))
      return true
    if (SL.isRegex(matcher) && !matches(matcher))
      return true
    return false

    function matches(regex){
      return matchee.match(regex)
    }

  }

  return true
}


// Run background tasks once. This will get invoked periodically.
SL.backgroundTasks = function(){
  var start = +new Date()
  SL.setFormListeners()
  SL.setVideoListeners()
  SL.loadStoredSettings()
  SL.registerNewElementsForDynamicRules()
  SL.eventEmitterBackgroundTasks()

  // Trigger condition events
  //SL.onEvent({type: 'condition', target: 'document'})
  var end = +new Date()
  // We want to keep an eye on the execution time here.
  // If it gets to around 50ms for any customer site,
  // we want to either optimize or start using a task queue
  //SL.notify('Background tasks executed in ' + (end - start) + 'ms', 3)
}



// For rules that poll for dynamically injected elements on the page,
// find them and register events for them.
SL.registerNewElementsForDynamicRules = function(){
  function cssQuery(selector, callback){
    var hit = cssQuery.cache[selector]
    if (hit){
      return callback(hit)
    }else{
      SL.cssQuery(selector, function(elms){
        cssQuery.cache[selector] = elms
        callback(elms)
      })
    }
  }
  cssQuery.cache = {}


  SL.each(SL.dynamicRules, function(rule){
    cssQuery(rule.selector, function(elms){
      SL.each(elms, function(elm){
        var event = rule.event === 'custom' ? rule.customEvent : rule.event;
        if (SL.$data(elm, 'dynamicRules.seen.' + event)) return
        SL.$data(elm, 'dynamicRules.seen.' + event, true)
        if (SL.propertiesMatch(rule.property, elm)){
          SL.registerEvents(elm, [event])
        }
      })
    })
  })
}

// If the browser doesn't support CSS selector queries, we have to include one.
SL.ensureCSSSelector = function(){
  if (document.querySelectorAll){
    SL.hasSelector = true
    return
  }
  SL.loadingSizzle = true
  SL.sizzleQueue = []
  SL.loadScript(SL.basePath() + 'selector.js', function(){
    if (!SL.Sizzle){
      SL.logError(new Error('Failed to load selector.js'))
      return
    }
    var pending = SL.onEvent.pendingEvents
    SL.each(pending, function(evt){
      SL.handleEvent(evt)
    }, this)
    SL.onEvent = SL.handleEvent
    SL.hasSelector = true
    ;delete SL.loadingSizzle
    SL.each(SL.sizzleQueue, function(item){
      SL.cssQuery(item[0], item[1])
    })
    ;delete SL.sizzleQueue

  })
}

// Error Handling

SL.errors = []
SL.logError = function(err){
  SL.errors.push(err)
  SL.notify(err.name + ' - ' + err.message, 5)
}

// `pageBottom()`
// --------------
//
// The function is to be called by the web page using an script tag like so:
//
//     <script>_satellite.pageBottom()</script>
//
// just before the `</body>` tag.
SL.pageBottom = function(){
  if (!SL.initialized) return
  SL.pageBottomFired = true
  SL.firePageLoadEvent('pagebottom')
}

// This allows Rover to configure the browser to use the staging library instead.
SL.stagingLibraryOverride = function(){
  /*jshint evil:true */
  var libraryOverride = SL.readStoredSetting('stagingLibrary') === 'true'
  if (libraryOverride){ // allow Rover to override the library to staging
    var scripts = document.getElementsByTagName('script')
      , regex = /^(.*)satelliteLib-([a-f0-9]{40})\.js$/
      , regexStaging = /^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/
      , match
      , matchStaging
      , src
    for (var i = 0, len = scripts.length; i < len; i++){
      src = scripts[i].getAttribute('src')
      if (!src) continue
      if (!match) match = src.match(regex)
      if (!matchStaging) matchStaging = src.match(regexStaging)
      if (matchStaging) break
    }
    if (match && !matchStaging){
      var stagingURL = match[1] + 'satelliteLib-' + match[2] + '-staging.js'
      if (document.write) {
        document.write('<script src="' + stagingURL + '"></script>')
      } else {
        var s = document.createElement('script')
        s.src = stagingURL
        document.head.appendChild(s)
      }
      return true
    }
  }
  return false
}

SL.checkAsyncInclude = function(){
  if (window.satellite_asyncLoad)
    SL.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.', 5)
}

SL.hasMultipleDomains = function(){
  return !!SL.settings.domainList && SL.settings.domainList.length > 1
}

SL.handleOverrides = function(){
  if (Overrides){
    for (var key in Overrides){
      if (Overrides.hasOwnProperty(key)){
        SL.data[key] = Overrides[key]
      }
    }
  }
}

SL.privacyManagerParams = function(){
  var params = {}
  SL.extend(params, SL.settings.privacyManagement)
  var analyticsTools = []
  for (var key in SL.tools){
    if (SL.tools.hasOwnProperty(key)) {
      var tool = SL.tools[key]
      var settings = tool.settings
      if (!settings) continue
      if (settings.engine === 'sc'){
        analyticsTools.push(tool)
      }
    }
  }
  var analyticsTrackingServers = SL.filter(SL.map(analyticsTools, function(tool){
    return tool.getTrackingServer()
  }), function(s){ return s != null })
  params.adobeAnalyticsTrackingServers = analyticsTrackingServers
  var substitutable = [
    'bannerText',
    'headline',
    'introductoryText',
    'customCSS'
  ]
  for (var i = 0; i < substitutable.length; i++){
    var prop = substitutable[i]
    var spec = params[prop]
    if (!spec) continue
    if (spec.type === 'text'){
      params[prop] = spec.value
    }else if (spec.type === 'data'){
      params[prop] = SL.getVar(spec.value)
    }else{
      throw new Error('Invalid type: ' + spec.type)
    }
  }
  return params
}

SL.prepareLoadPrivacyManager = function(){
  SL.addEventHandler(window, 'load', function(){
    loadWhenAllSCToolsLoaded(SL.loadPrivacyManager)
  })

  function loadWhenAllSCToolsLoaded(callback){
    var scTools = SL.filter(SL.values(SL.tools), function(tool){
      return tool.settings && tool.settings.engine === 'sc'
    })
    if (scTools.length === 0){
      return callback()
    }
    var numLoaded = 0
    SL.each(scTools, function(tool){
      SL.bindEvent(tool.id + '.load', onLoad)
    })
    var tid = setTimeout(onTimeout, 5000)

    function onLoad(){
      numLoaded++
      if (numLoaded === scTools.length){
        cleanUp()
        clearTimeout(tid)
        callback()
      }
    }

    function cleanUp(){
      SL.each(scTools, function(tool){
        SL.unbindEvent(tool.id + '.load', onLoad)
      })
    }

    function onTimeout(){
      cleanUp()
      callback()
    }
  }

}

// `loadPrivacyManager()`
// ----------------------
//
// Initialize privacy manager
SL.loadPrivacyManager = function(){
  var scriptUrl = SL.basePath() + 'privacy_manager.js'
  SL.loadScript(scriptUrl, function(){
    var pm = SL.privacyManager
    pm.configure(SL.privacyManagerParams())
    pm.openIfRequired()
  })
}

// `init()`
// --------
//
// Initialize Satellite.
//
// - `settings` - all the settings that comprising a library.
SL.init = function(settings) {
  if (SL.stagingLibraryOverride())
    return

  SL.configurationSettings = settings
  var tools = settings.tools
  ;delete settings.tools
  for (var key in settings){
    if (settings.hasOwnProperty(key)){
      SL[key] = settings[key]
    }
  }

  if(SL.data.customVars === undefined)
    SL.data.customVars = {}

  SL.data.queryParams = SL.QueryParams.normal

  SL.handleOverrides()

  SL.detectBrowserInfo()

  if (SL.trackVisitorInfo)
    SL.trackVisitorInfo()

  SL.loadStoredSettings()
  SL.Logger.setOutputState(SL.settings.notifications)

  SL.checkAsyncInclude()

  SL.ensureCSSSelector()

  SL.filterRules()
  SL.dynamicRules = SL.filter(SL.rules, function(rule){
    return rule.eventHandlerOnElement
  })

  SL.tools = SL.initTools(tools)
  SL.initEventEmitters()

  SL.firePageLoadEvent('aftertoolinit')

  if (SL.settings.privacyManagement){
    SL.prepareLoadPrivacyManager()
  }

  if (SL.hasSelector)
    SL.domReady(SL.eventEmitterBackgroundTasks)

  SL.setListeners()

  // Setup background tasks
  SL.domReady(function() {
    SL.poll(
      function() { SL.backgroundTasks() },
      SL.settings.recheckEvery || 3000
    )
  })

  // Setup page load events
  SL.domReady(function(){
    SL.domReadyFired = true
    if (!SL.pageBottomFired)
      SL.pageBottom()

    SL.firePageLoadEvent('domready')
  })

  SL.addEventHandler(window, 'load', function(){
    SL.firePageLoadEvent('windowload')
  })

  SL.firePageLoadEvent('pagetop')
  SL.initialized = true
}

SL.pageLoadPhases = ['aftertoolinit', 'pagetop', 'pagebottom', 'domready', 'windowload']

SL.loadEventBefore = function(one, other){
  return SL.indexOf(SL.pageLoadPhases, one) <= SL.indexOf(SL.pageLoadPhases, other)
}

SL.flushPendingCalls = function(tool){
  if (tool.pending){
    SL.each(tool.pending, function(call){
      var cmd = call[0]
        , elm = call[1]
        , evt = call[2]
        , args = call[3]
      if (cmd in tool)
        tool[cmd].apply(tool, [elm, evt].concat(args))
      else if (tool.emit)
        tool.emit(cmd, elm, evt, args)
      else
        SL.notify('Failed to trigger ' + cmd +
          ' for tool ' + tool.id, 1)
    })
    ;delete tool.pending
  }
}

// setDebug(debug)
// --------------
//
// Activate or deactivate debug mode - within which
// log statements will be printed to the JS console.
//
// - `debug` - a boolean indicating whether debug mode
//   should be turned on.
SL.setDebug = function(debug){
  // When local storage is disabled on Safari, the mere act of referencing window.localStorage
  // throws an error. For this reason, referencing window.localStorage without being inside
  // a try-catch should be avoided.
  try {
    window.localStorage.setItem('sdsat_debug', debug)
  } catch (e) {
    SL.notify('Cannot set debug mode: ' + e.message, 2)
  };
}

SL.getUserAgent = function() {
  return navigator.userAgent;
};

SL.detectBrowserInfo = function(){
  // Based on <http://jsbin.com/inubez/3/>
  function matcher(regexs){
    return function(userAgent){
      for (var key in regexs){
        if (regexs.hasOwnProperty(key)) {          
          var regex = regexs[key];
          var match = regex.test(userAgent);
          if (match) return key;
        }
      }
      return "Unknown";
    };
  }

  // The order in which these regular expressions are evaluated is important.

  var getBrowser = matcher({
    "IE Edge Mobile": /Windows Phone.*Edge/,
    "IE Edge": /Edge/,
    OmniWeb: /OmniWeb/,
    "Opera Mini": /Opera Mini/,
    "Opera Mobile": /Opera Mobi/,
    Opera: /Opera/,
    Chrome: /Chrome|CriOS|CrMo/,
    Firefox: /Firefox|FxiOS/,
    "IE Mobile": /IEMobile/,
    IE: /MSIE|Trident/,
    "Mobile Safari": /Mobile(\/[0-9A-z]+)? Safari/,
    Safari: /Safari/
  });

  var getOS = matcher({
    Blackberry: /BlackBerry|BB10/,
    "Symbian OS": /Symbian|SymbOS/,
    Maemo: /Maemo/,
    Android: /Android/,
    Linux: / Linux /,
    Unix: /FreeBSD|OpenBSD|CrOS/,
    Windows: /[\( ]Windows /,
    iOS: /iPhone|iPad|iPod/,
    MacOS: /Macintosh;/
  });

  var getDeviceType = matcher({
    // This is not entirely accurate. A few old Samsung, Motorola, and Sony Ericsson phones
    // will match but the majority and best guess is Nokia. Also, Nokia makes Windows phones and
    // for those we will make it match Windows Phone and not Nokia.
    Nokia: /Symbian|SymbOS|Maemo/,
    "Windows Phone": /Windows Phone/,
    Blackberry: /BlackBerry|BB10/,
    Android: /Android/,
    iPad: /iPad/,
    iPod: /iPod/,
    iPhone: /iPhone/,
    Desktop: /.*/
  });

  var userAgent = SL.getUserAgent();
  SL.browserInfo = {
    browser: getBrowser(userAgent)
    , os: getOS(userAgent)
    , deviceType: getDeviceType(userAgent)
  }
}

SL.isHttps = function(){
  return 'https:' == document.location.protocol
}

SL.BaseTool = function(settings){
  this.settings = settings || {}

  this.forceLowerCase = SL.settings.forceLowerCase
  if ('forceLowerCase' in this.settings){
    this.forceLowerCase = this.settings.forceLowerCase
  }
}
SL.BaseTool.prototype = {
  triggerCommand: function(trig, elm, evt){
    var settings = this.settings || {}

    if (this.initialize && this.isQueueAvailable()){
      if (this.isQueueable(trig) && evt && SL.loadEventBefore(evt.type, settings.loadOn)){
        this.queueCommand(trig, elm, evt)
        return
      }
    }

    var cmd = trig.command
    var method = this['$' + cmd]
    var escapeHtml = method ? method.escapeHtml : false
    var args = SL.preprocessArguments(
      trig['arguments'],
      elm,
      evt,
      this.forceLowerCase,
      escapeHtml)

    if (method){
      method.apply(this, [elm, evt].concat(args))
    }else if (this.$missing$){
      this.$missing$(cmd, elm, evt, args)
    }else
      SL.notify('Failed to trigger ' + cmd +
        ' for tool ' + this.id, 1)

  },
  endPLPhase: function(pageLoadEvent){
    // override to handle end initialization
  },
  isQueueable: function(trig){
    // everything is queueable except `cancelToolInit`
    return trig.command !== 'cancelToolInit'
  },
  isQueueAvailable: function(){
    return !this.initialized && !this.initializing
  },
  flushQueue: function(){
    if (this.pending){
      SL.each(this.pending, function(args){
        this.triggerCommand.apply(this, args)
      }, this)
      this.pending = []
    }
  },
  queueCommand: function(trig, elm, evt){
    if (!this.pending)
      this.pending = []
    this.pending.push([trig, elm, evt])
  },
  $cancelToolInit: function(){
    this._cancelToolInit = true
  }
}

// Set Satellite to the global variable `_satellite`.
window._satellite = SL

function DataElementChangeEmitter() {
  var rules = SL.filter(SL.rules, function(rule) {
    return rule.event.indexOf('dataelementchange') === 0;
  });

  this.dataElementsNames = SL.map(rules, function(rule) {
    var matchedSubstrings = rule.event.match(/dataelementchange\((.*)\)/i);
    return matchedSubstrings[1];
  }, this);

  this.initPolling();
}

// SL.stringify is not 100% compatible with JSON.stringify (for example JSON.stringify breaks
// whenever it encounters a cyclic reference). Since this check might become intensive,
// only for this case we would prefer using JSON.stringify whenever that's available.
DataElementChangeEmitter.prototype.getStringifiedValue =
    (window.JSON && window.JSON.stringify) || SL.stringify;

DataElementChangeEmitter.prototype.initPolling = function() {
  if (this.dataElementsNames.length === 0) {
    return;
  }

  this.dataElementsStore = this.getDataElementsValues();
  SL.poll(SL.bind(this.checkDataElementValues, this), 1000);
};

DataElementChangeEmitter.prototype.getDataElementsValues = function() {
  var values = {};
  SL.each(this.dataElementsNames, function(dataElementName) {
    var value = SL.getVar(dataElementName);
    values[dataElementName] = this.getStringifiedValue(value);
  }, this);

  return values;
};

DataElementChangeEmitter.prototype.checkDataElementValues = function() {
  SL.each(this.dataElementsNames, SL.bind(function(dataElementName) {
    var currentStringifiedValue = this.getStringifiedValue(SL.getVar(dataElementName));
    var previousStringifiedValue =  this.dataElementsStore[dataElementName];

    if (currentStringifiedValue !== previousStringifiedValue) {
      this.dataElementsStore[dataElementName] = currentStringifiedValue;

      SL.onEvent({
        type: 'dataelementchange(' + dataElementName + ')',
        target: document
      });
    }
  }, this));
};

SL.availableEventEmitters.push(DataElementChangeEmitter);

// Orientation Change Event Emitter
// ================================
//
// The `orientationchange` event on mobile devices fire when the devices switchs between
// portrait and landscape modes. You can use `%event.orientation%` in your command arguments
// to evaluate to either `portrait` or `landscape`.
function OrientationChangeEventEmitter(){
  SL.addEventHandler(window, "orientationchange", OrientationChangeEventEmitter.orientationChange)
}
OrientationChangeEventEmitter.orientationChange = function (e) {
  var orientation = window.orientation === 0 ? 
    'portrait' : 
    'landscape'
  e.orientation = orientation
  SL.onEvent(e)
}
SL.availableEventEmitters.push(OrientationChangeEventEmitter)

// Visibility API Event Emitter
// ============================
//
// The `visibility API` is used when the browser's tab gets hidden because
// another tab now is visible. For more information see Mozilla's [Page Visibility API](https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API)

function VisibilityEventEmitter() {
  this.defineEvents();
  this.visibilityApiHasPriority = true;
  if (!document.addEventListener) { // Older browers (e.g.: IE8)
    this.attachDetachOlderEventListeners(true, document, 'focusout');
  } else {
    this.setVisibilityApiPriority(false);
  }
  var context = this;
  SL.bindEvent('aftertoolinit', function() {
    SL.fireEvent(SL.visibility.isHidden() ? 'tabblur' : 'tabfocus');
  });
}

VisibilityEventEmitter.prototype = {
  defineEvents: function() {
    this.oldBlurClosure = function() {
      SL.fireEvent('tabblur', document)
    };
    this.oldFocusClosure = SL.bind(function() {
      if (this.visibilityApiHasPriority) {
        SL.fireEvent('tabfocus', document);
      } else {
        if (SL.visibility.getHiddenProperty() != null) {
          if(!SL.visibility.isHidden()) {
            SL.fireEvent('tabfocus', document);
          }
        } else {
          SL.fireEvent('tabfocus', document);
        }
      }
    }, this);
  },
  attachDetachModernEventListeners: function(add) {
    var method = (add == false ? 'removeEventHandler' : 'addEventHandler');
    SL[method](document,
      SL.visibility.getVisibilityEvent(),
      this.handleVisibilityChange
    );
  },
  attachDetachOlderEventListeners: function(add, blurTarget, blurEventName) {
    var method = (add == false ? 'removeEventHandler' : 'addEventHandler');
    SL[method](blurTarget, blurEventName, this.oldBlurClosure);
    SL[method](window, 'focus', this.oldFocusClosure);
  },
  handleVisibilityChange: function() {
    if (SL.visibility.isHidden()) {
      SL.fireEvent('tabblur', document);
    } else {
      SL.fireEvent('tabfocus', document);
    }
  },
  setVisibilityApiPriority: function(visibilityApiHasPriority) {
    this.visibilityApiHasPriority = visibilityApiHasPriority;
    this.attachDetachOlderEventListeners(false, window, 'blur');
    this.attachDetachModernEventListeners(false);
    if (visibilityApiHasPriority) {
      if (SL.visibility.getHiddenProperty() != null) { // Modern browsers
        this.attachDetachModernEventListeners(true);
      } else {
        this.attachDetachOlderEventListeners(true, window, 'blur');
      }
    } else {
      this.attachDetachOlderEventListeners(true, window, 'blur');
      if (SL.visibility.getHiddenProperty() != null) { // Modern browsers
        this.attachDetachModernEventListeners(true);
      }
    }
  },
  oldBlurClosure: null,
  oldFocusClosure: null,
  visibilityApiHasPriority: true
};

SL.availableEventEmitters.push(VisibilityEventEmitter);

// ElementExistsEventEmitter
// ==================
//
// Emits the `elementexists` event. The `elementexists` event fires when an element
// of a specified selector becomes into existance - either because it's in the page
// markup or dynamically injected later on. *Each rule only fires once.*

function ElementExistsEventEmitter() {
  this.rules = SL.filter(SL.rules, function(rule) {
    return rule.event === 'elementexists';
  });
}
ElementExistsEventEmitter.prototype.backgroundTasks = function() {
  SL.each(this.rules, function(rule) {
    SL.cssQuery(rule.selector, function(elms) {
      if (elms.length > 0){
        // This results in a bug: https://jira.corp.adobe.com/browse/DTM-6681
        // The fix was reverted due to: https://jira.corp.adobe.com/browse/DTM-7377
        var elm = elms[0];
        if (SL.$data(elm, 'elementexists.seen')) return;
        SL.$data(elm, 'elementexists.seen', true);
        SL.onEvent({type: 'elementexists', target: elm});
      }
    })
  })
}

SL.availableEventEmitters.push(ElementExistsEventEmitter);

// VideoPlayedEventEmitter
// =======================
//
// Emits the `videoplayed` event, given a specified percentage or duration, i.e. `videoplayed`
// is a parameterized event. A rule looks like this
//
//      {
//          name: "Video 10% complete",
//          event: "videoplayed(10%)",
//          selector: "#video",
//          trigger: [
//              {
//                  tool: "ga",
//                  command: "trackEvent",
//                  arguments: [
//                      "video",
//                      "video 10% complete",
//                      "from: %URI%"
//                  ]
//              }
//          ]
//      }
//
// `10%` is in the paranthesis which indicates this rule will only fire when the 10%
// of the total length of the video has been played.
// You can also specifiy a duration in seconds, which looks like `videoplayed(8s)` - which
// stands for 8 seconds.

function VideoPlayedEventEmitter(){
  this.rules = SL.filter(SL.rules, function(rule){
    return rule.event.substring(0, 11) === 'videoplayed'
  })
  this.eventHandler = SL.bind(this.onUpdateTime, this)
}
VideoPlayedEventEmitter.prototype = {
  backgroundTasks: function(){
    var eventHandler = this.eventHandler
    SL.each(this.rules, function(rule){
      SL.cssQuery(rule.selector || 'video', function(elms){
        SL.each(elms, function(elm){
          if (SL.$data(elm, 'videoplayed.tracked')) return
          SL.addEventHandler(elm, 'timeupdate', SL.throttle(eventHandler, 100))
          SL.$data(elm, 'videoplayed.tracked', true)
        })
      })
    })
  },
  evalRule: function(elm, rule){
    var eventType = rule.event
      , seekable = elm.seekable
      , startTime = seekable.start(0)
      , endTime = seekable.end(0)
      , currentTime = elm.currentTime
      , m = rule.event.match(/^videoplayed\(([0-9]+)([s%])\)$/)
    if (!m) return
    var unit = m[2]
      , amount = Number(m[1])
    var func = unit === '%' ?
      function(){
        return amount <= 
          100 * (currentTime - startTime) / (endTime - startTime)
      } :
      function(){
        return amount <= currentTime - startTime
      }
    if (!SL.$data(elm, eventType) && func()){
      SL.$data(elm, eventType, true)
      SL.onEvent({type: eventType, target: elm})
    }
  },
  onUpdateTime: function(e){
    var rules = this.rules
      , elm = e.target
    if (!elm.seekable || elm.seekable.length === 0) return
    for (var i = 0, len = rules.length; i < len; i++)
      this.evalRule(elm, rules[i])
  }
}
SL.availableEventEmitters.push(VideoPlayedEventEmitter)

// InviewEventEmitter
// ==================
//
// Emits the `inview` event. The `inview` event fires on an element when the element
// first comes into the view of the user. If the element is in view immediately upon page
// load, it will be fired right away, if it only comes in view after some scrolling, it
// will fire then. An optional delay interval `inviewDelay` can be specified in the rule
// which determine how long the element has to be in view for before the event fires,
// of which the default value is 1 second.

function InViewEventEmitter(rules){
  rules = rules || SL.rules
  this.rules = SL.filter(rules, function(rule){
    return rule.event === 'inview'
  })
  this.elements = []
  this.eventHandler = SL.bind(this.track, this)
  SL.addEventHandler(window, 'scroll', this.eventHandler)
  SL.addEventHandler(window, 'load', this.eventHandler)
}

// Util functions needed by `InViewEventEmitter`
InViewEventEmitter.offset = function(elem) {
  var top = null, left = null;

  try {
    var box = elem.getBoundingClientRect(),
      doc = document,
      docElem = doc.documentElement,
      body = doc.body,
      win = window,
      clientTop  = docElem.clientTop  || body.clientTop  || 0,
      clientLeft = docElem.clientLeft || body.clientLeft || 0,
      scrollTop  = win.pageYOffset || docElem.scrollTop  || body.scrollTop,
      scrollLeft = win.pageXOffset || docElem.scrollLeft || body.scrollLeft;

    top  = box.top  + scrollTop  - clientTop;
    left = box.left + scrollLeft - clientLeft;
  } catch(e) {
  }

  return { top: top, left: left }
}
InViewEventEmitter.getViewportHeight = function() {
  var height = window.innerHeight // Safari, Opera
  var mode = document.compatMode

  if (mode) { // IE, Gecko
    height = (mode == 'CSS1Compat') ?
    document.documentElement.clientHeight : // Standards
    document.body.clientHeight // Quirks
  }

  return height
}
InViewEventEmitter.getScrollTop = function(){
  return (document.documentElement.scrollTop ?
    document.documentElement.scrollTop :
    document.body.scrollTop)
}

InViewEventEmitter.isElementInDocument = function(el) {
  return document.body.contains(el);
}

InViewEventEmitter.isElementInView = function(el) {
  if (!InViewEventEmitter.isElementInDocument(el)) {
    return false;
  }

  var vpH = InViewEventEmitter.getViewportHeight()
      , scrolltop = InViewEventEmitter.getScrollTop()
      , top = InViewEventEmitter.offset(el).top
      , height = el.offsetHeight;

  if (top !== null) {
    return !(scrolltop > (top + height) || scrolltop + vpH < top)
  }

  return false;
}

InViewEventEmitter.prototype = {
  backgroundTasks: function(){
    var elements = this.elements
    SL.each(this.rules, function(rule){
      SL.cssQuery(rule.selector, function(elms){
        var addCount = 0
        SL.each(elms, function(elm){
          if (!SL.contains(elements, elm)){
            elements.push(elm)
            addCount++
          }
        })
        if (addCount){
          SL.notify(rule.selector + ' added ' + addCount + ' elements.', 1)
        }
      })
    })
    this.track()
  },

  checkInView: function(el, recheck, delay){
    var inview = SL.$data(el, 'inview');
    if (InViewEventEmitter.isElementInView(el)) {
      // it is in view now
      if (!inview)
        SL.$data(el, 'inview', true)
      var self = this
      this.processRules(el, function(rule, viewedProp, timeoutIdProp){
        if (recheck || !rule.inviewDelay){
          SL.$data(el, viewedProp, true)
          SL.onEvent({type: 'inview', target: el, inviewDelay: rule.inviewDelay})
        }else if(rule.inviewDelay){
          var timeout = SL.$data(el, timeoutIdProp)
          if (!timeout) {
            timeout = setTimeout(function(){
              self.checkInView(el, true, rule.inviewDelay)
            }, rule.inviewDelay)
            SL.$data(el, timeoutIdProp, timeout)
          }
        }
      }, delay)
    } else {
      if (!InViewEventEmitter.isElementInDocument(el)) {
        var idx = SL.indexOf(this.elements, el);
        this.elements.splice(idx, 1)
      }

      // it is not in view now
      if (inview)
        SL.$data(el, 'inview', false)
      this.processRules(el, function(rule, viewedProp, timeoutIdProp){
        var timeout = SL.$data(el, timeoutIdProp)
        if (timeout){
          clearTimeout(timeout)
        }
      }, delay)
    }
  },
  track: function(){
    // We are not using SL.each here because we might do a splice inisde
    // `checkInView` method.
    for (var i = this.elements.length - 1; i >=0; i--) {
      this.checkInView(this.elements[i]);
    }
  },
  processRules: function(elm, callback, delay){
    var filteredRules = this.rules;
    if (delay) {
        filteredRules = SL.filter(this.rules, function(e){
          return e.inviewDelay == delay;
        });
    }
    SL.each(filteredRules, function(rule, i){
      // viewedProp: for rules that has a timeout, the definition for
      // "viewed" is rule dependent. But for all rules that do not have
      // a timeout, it is independent.
      var viewedProp = rule.inviewDelay ? 'viewed_' + rule.inviewDelay : 'viewed'
      var timeoutIdProp = 'inview_timeout_id_' + i
      if (SL.$data(elm, viewedProp)) return
      if (SL.matchesCss(rule.selector, elm)){
        callback(rule, viewedProp, timeoutIdProp)
      }
    })
  }
}

SL.availableEventEmitters.push(InViewEventEmitter)

// Leave Event Emitter
// ============================
//
// The page leave is an event that is used to detect the moment when the
// browser's tab gets closed.
//

function LeaveEventEmitter() {
  if (SL.getToolsByType('nielsen').length > 0) {
    SL.domReady(SL.bind(this.initialize, this));
  }
}

LeaveEventEmitter.prototype = {
  obue: false,
  initialize: function() {
    this.attachCloseListeners();
  },
  obuePrevUnload: function() {},
  obuePrevBeforeUnload: function() {},
  newObueListener: function() {
    if (!this.obue) {
      this.obue = true;
      this.triggerBeacons();
    }
  },
  attachCloseListeners: function() {
    this.prevUnload = window.onunload;
    this.prevBeforeUnload = window.onbeforeunload;

    window.onunload = SL.bind(function(e) {
      if (this.prevUnload) {
        setTimeout(SL.bind(function() {
          this.prevUnload.call(window, e);
        }, this), 1);
      }
      this.newObueListener();
    }, this);
    window.onbeforeunload = SL.bind(function(e) {
      if (this.prevBeforeUnload) {
        setTimeout(SL.bind(function() {
          this.prevBeforeUnload.call(window, e);
        }, this), 1);
      }
      this.newObueListener();
    }, this);
  },
  triggerBeacons: function() {
    SL.fireEvent('leave', document);
  }
}
SL.availableEventEmitters.push(LeaveEventEmitter);

// Hover Event Emitter
// =====================
//
// Emits the `hover` event in the event. This is better than `mouseover` because you can introduce a certain delay.
// 
//  {
//        name: "Hover for 1 second"
//        event: "hover(1000)",
//        ...
//  }
function HoverEventEmitter(){
  var eventRegex = this.eventRegex = /^hover\(([0-9]+)\)$/
  var rules = this.rules = []
  SL.each(SL.rules, function(rule){
    var m = rule.event.match(eventRegex)
    if (m){
      rules.push([
        Number(rule.event.match(eventRegex)[1]), 
        rule.selector
      ])
    }
  })
}
HoverEventEmitter.prototype = {
  backgroundTasks: function(){
    var self = this
    SL.each(this.rules, function(rule){
      var selector = rule[1]
        , delay = rule[0]
      SL.cssQuery(selector, function(newElms){
        SL.each(newElms, function(elm){
          self.trackElement(elm, delay)
        })
      })
    }, this)
  },
  trackElement: function(elm, delay){
    var self = this
      , trackDelays = SL.$data(elm, 'hover.delays')
    if (!trackDelays){
      SL.addEventHandler(elm, 'mouseover', function(e){
        self.onMouseOver(e, elm)
      })
      SL.addEventHandler(elm, 'mouseout', function(e){
        self.onMouseOut(e, elm)
      })
      SL.$data(elm, 'hover.delays', [delay])
    }
    else if (!SL.contains(trackDelays, delay)){
      trackDelays.push(delay)
    }
  },
  onMouseOver: function(e, elem){
    var target = e.target || e.srcElement
      , related = e.relatedTarget || e.fromElement
      , hit = (elem === target || SL.containsElement(elem, target)) && 
            !SL.containsElement(elem, related)
    if (hit)
      this.onMouseEnter(elem)
  },
  onMouseEnter: function(elm){
    var delays = SL.$data(elm, 'hover.delays')
    var delayTimers = SL.map(delays, function(delay){
      return setTimeout(function(){
        SL.onEvent({type: 'hover(' + delay + ')', target: elm})
      }, delay)
    })
    SL.$data(elm, 'hover.delayTimers', delayTimers)
  },
  onMouseOut: function(e, elem){
    var target = e.target || e.srcElement
      , related = e.relatedTarget || e.toElement
      , hit = (elem === target || SL.containsElement(elem, target)) && 
            !SL.containsElement(elem, related)
    if (hit)
      this.onMouseLeave(elem)
  },
  onMouseLeave: function(elm){
    var delayTimers = SL.$data(elm, 'hover.delayTimers')
    if (delayTimers)
      SL.each(delayTimers, function(timer){
        clearTimeout(timer)
      })
  }
}
SL.availableEventEmitters.push(HoverEventEmitter)

// Facebook Event Emitter
// ======================
//
// Will track `edge.create`, `edge.remove` and `message.send` events from the Facebook
// Javascript API and emit `facebook.like`, `facebook.unlike` and `facebook.send` events
// respectively.

function FacebookEventEmitter(FB){
  this.delay = 250;
  this.FB = FB;

  SL.domReady(SL.bind(function () {
    SL.poll(SL.bind(this.initialize, this), this.delay, 8);
  }, this));
}

FacebookEventEmitter.prototype = {
  initialize: function() {
    this.FB = this.FB || window.FB;

    if (this.FB && this.FB.Event && this.FB.Event.subscribe) {
      this.bind();
      return true;
    }
  },

  bind: function(){
    this.FB.Event.subscribe('edge.create', function() {
      SL.notify("tracking a facebook like", 1)
      SL.onEvent({type: 'facebook.like', target: document})
    });

    this.FB.Event.subscribe('edge.remove', function() {
      SL.notify("tracking a facebook unlike", 1)
      SL.onEvent({type: 'facebook.unlike', target: document})
    });

    this.FB.Event.subscribe('message.send', function() {
      SL.notify("tracking a facebook share", 1)
      SL.onEvent({type: 'facebook.send', target: document})
    });
  }
}
SL.availableEventEmitters.push(FacebookEventEmitter);

// Twitter Event Emitter
// =====================
//
// Emits the `twitter.tweet` event in the event a user tweets from the site.
function TwitterEventEmitter(twttr){
  SL.domReady(SL.bind(function () {
    this.twttr = twttr || window.twttr;
    this.initialize();
  }, this));
}

TwitterEventEmitter.prototype = {
  initialize: function(){
    var twttr = this.twttr;
    if (twttr && typeof twttr.ready === 'function') {
      twttr.ready(SL.bind(this.bind, this));
    }
  },

  bind: function(){
    this.twttr.events.bind('tweet', function(event) {
      if (event) {
        SL.notify("tracking a tweet button", 1);
        SL.onEvent({type: 'twitter.tweet', target: document});
      }
    });

  }
}
SL.availableEventEmitters.push(TwitterEventEmitter)

// Location Change Event Emitter
// =============================
//
// Will fire `locationchange` event whenever the browser location
// changes due to `hashchange`, `popstate`, `history.pushState()`,
// or `history.replaceState()`. 

function LocationChangeEventEmitter(){
  this.lastURL = SL.URL()
  this._fireIfURIChanged = SL.bind(this.fireIfURIChanged, this)
  this._onPopState = SL.bind(this.onPopState, this)
  this._onHashChange = SL.bind(this.onHashChange, this)
  this._pushState = SL.bind(this.pushState, this)
  this._replaceState = SL.bind(this.replaceState, this)
  this.initialize()
}

LocationChangeEventEmitter.prototype = {
  initialize: function(){
    this.setupHistoryAPI()
    this.setupHashChange()
  },

  fireIfURIChanged: function(){
    var URL = SL.URL()
    if (this.lastURL !== URL){
      this.fireEvent()
      this.lastURL = URL
    }
  },

  fireEvent: function(){
    SL.updateQueryParams()
    SL.onEvent({ type: 'locationchange', target: document })
  },

  setupSPASupport: function(){
    this.setupHistoryAPI()
    this.setupHashChange()
  },

  setupHistoryAPI: function(){
    var history = window.history
    if (history){
      if (history.pushState){
        this.originalPushState = history.pushState
        history.pushState = this._pushState
      }
      if (history.replaceState){
        this.originalReplaceState = history.replaceState
        history.replaceState = this._replaceState
      }
    }
    SL.addEventHandler(window, 'popstate', this._onPopState)
  },

  pushState: function(){
    var ret = this.originalPushState.apply(history, arguments)
    this.onPushState()
    return ret
  },

  replaceState: function(){
    var ret = this.originalReplaceState.apply(history, arguments)
    this.onReplaceState()
    return ret
  },

  setupHashChange: function(){
    SL.addEventHandler(window, 'hashchange', this._onHashChange)
  },

  onReplaceState: function(){
    setTimeout(this._fireIfURIChanged, 0)
  },

  onPushState: function(){
    setTimeout(this._fireIfURIChanged, 0)
  },

  onPopState: function(){
    setTimeout(this._fireIfURIChanged, 0)
  },

  onHashChange: function(){
    setTimeout(this._fireIfURIChanged, 0)
  },

  uninitialize: function(){
    this.cleanUpHistoryAPI()
    this.cleanUpHashChange()
  },

  cleanUpHistoryAPI: function(){
    if (history.pushState === this._pushState){
      history.pushState = this.originalPushState
    }
    if (history.replaceState === this._replaceState){
      history.replaceState = this.originalReplaceState
    }
    SL.removeEventHandler(window, 'popstate', this._onPopState)
  },

  cleanUpHashChange: function(){
    SL.removeEventHandler(window, 'hashchange', this._onHashChange)
  }

}

SL.availableEventEmitters.push(LocationChangeEventEmitter);

// E-Commerce APIs
// ---------------
//
// The ecommerce API allows web admins to integrate e-commerce tracking with Satellite.
// More details on the [GA E-Commerce API's](http://code.google.com/apis/analytics/docs/gaJS/gaJSApiEcommerce.html).
// Upon any of the methods on the API being called, they will fire an event, which
// in turn can be handled by a rule in the library.

SL.ecommerce = {
  // `addItem(orderId, sku, name, category, price, quantity)`
  // -------------------------------------
  //
  // Add an item to the transaction.
  addItem: function(){
    var args = [].slice.call(arguments)
    SL.onEvent({type: 'ecommerce.additem', target: args})
  },

  // `addTrans(orderId, affiliation, total, tax, shipping, city, state, country)`
  // ----------------------------------------------------------------------------
  //
  // Add a new transaction.
  addTrans: function(){
    var args = [].slice.call(arguments)
    SL.data.saleData.sale = {
      orderId: args[0],
      revenue: args[2]
    }
    SL.onEvent({type: 'ecommerce.addtrans', target: args})
  },

  // `trackTrans()`
  // --------------
  //
  // Send the transaction data that's been set up using `addItem()` and `addTrans()`
  // to GA to be tracked.
  trackTrans: function(){
    SL.onEvent({type: 'ecommerce.tracktrans', target: []})
  }
}

// Visibility API Event Emitter
// ============================
//
// The `visibility API` is used when the browser's tab gets hidden because
// another tab now is visible. For more information see Mozilla's [Page Visibility API](https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API)

SL.visibility = {
  // Public
  // ------------------------------------------------

  // `isHidden()`
  //
  // The method returns true if the tab is hidden, otherwise false.
  isHidden: function() {
    var prop = this.getHiddenProperty();
    if (!prop) return false;
    return document[prop];
  },

  // `isVisible()`
  //
  // The method is an alias for the `!isHidden`.
  isVisible: function() {
    return !this.isHidden();
  },

  // Private
  // ------------------------------------------------
  getHiddenProperty: function() {
    var prefixes = ['webkit', 'moz', 'ms', 'o'];
    if ('hidden' in document) return 'hidden';
    // otherwise loop over all the known prefixes until we find one
    for (var i = 0; i < prefixes.length; i++) {
      if ((prefixes[i] + 'Hidden') in document)
        return prefixes[i] + 'Hidden';
    }
    // otherwise it's not supported
    return null;
  },

  getVisibilityEvent: function() {
    var ve = this.getHiddenProperty();
    if (!ve) return null;
    return ve.replace(/[H|h]idden/,'') + 'visibilitychange';
  }
};

// The Nielsen Tool
// ================
//
// This tool provides the means to make Nielsen tracking possible.
//
// The tool accepts the following settings:
//
// - `collectionServer` - The collection server to be used. The variable
//      specifies the nearest collection server.
// - `clientId` - The client identifier. A unique Nielsen supplied ID that
//      should be alphanumeric and lowercase. A dash (-) character is allowed.
// - `contentGroup` - The content group. A historical variable used for
//      grouping/aggregating content into channels. Currently the
//      default value is "0".
function NielsenTool(settings) {
  SL.BaseTool.call(this, settings);
  this.defineListeners();
  this.beaconMethod = 'plainBeacon';
  this.adapt = new NielsenTool.DataAdapters();
  this.dataProvider = new NielsenTool.DataProvider.Aggregate();
}

SL.inherit(NielsenTool, SL.BaseTool);
SL.extend(NielsenTool.prototype, {
  // Public
  // ------------------------------------------------
  name: 'Nielsen',

  // Private
  // ------------------------------------------------

  // `endPLPhase()`
  // ------------------------------------------------
  //
  // Method that starts the tool initialization when the page load phase is
  // matched and only if the tool initialization has not been previously
  // cancelled.
  //
  // This is needed in order to be able to properly hook the needed events.
  endPLPhase: function(pageLoadEvent) {
    switch (pageLoadEvent) {
      case 'pagetop':
        this.initialize();
        break;
      case 'pagebottom':
        if (this.enableTracking) {
          this.queueCommand({ command: 'sendFirstBeacon', "arguments": [] });
          this.flushQueueWhenReady();
        }
        break;
    }
  },

  defineListeners: function() {
    this.onTabFocus = SL.bind(function() {
      this.notify('Tab visible, sending view beacon when ready', 1);
      this.tabEverVisible = true;
      this.flushQueueWhenReady();
    }, this);
    this.onPageLeave = SL.bind(function() {
      this.notify('isHuman? : '+ this.isHuman(), 1);
      if (this.isHuman()) {
        this.sendDurationBeacon(); // track page leave
      }
    }, this);
    this.onHumanDetectionChange = SL.bind(function(e) {
      if (this == e.target.target) this.human = e.target.isHuman;
    }, this);
  },

  initialize: function() {
    this.initializeTracking();
    this.initializeDataProviders();
    this.initializeNonHumanDetection();
    this.tabEverVisible = SL.visibility.isVisible();
    if (!this.tabEverVisible) {
      SL.bindEventOnce('tabfocus', this.onTabFocus);
    }
    else {
      this.notify('Tab visible, sending view beacon when ready', 1);
    }

    this.initialized = true;
  },

  // `initializeTracking()`
  // ------------------------------------------------
  //
  // The method starts the time tracking and hooks on the leave event.
  initializeTracking: function() {
    if (this.initialized) return;
    this.notify('Initializing tracking', 1);
    this.addRemovePageLeaveEvent(this.enableTracking);
    this.addRemoveHumanDetectionChangeEvent(this.enableTracking);
    this.initialized = true;
  },

  // `initializeDataProviders()`
  // ------------------------------------------------
  //
  // The method initializes default data providers for:
  // - Analytics Report Suite ID, if Analytics account is linked
  // - Marketing Cloud Visitor ID, with fallback to auto-generated UUID
  initializeDataProviders: function() {
    var analytics = this.getAnalyticsTool(), rsid;

    this.dataProvider.register(
      new NielsenTool.DataProvider.VisitorID(
        SL.getVisitorId()
      )
    );
    if (analytics) {
      rsid = new NielsenTool.DataProvider.Generic('rsid', function() {
        return analytics.settings.account;
      });
      this.dataProvider.register(rsid);
    }
    else {
      this.notify('Missing integration with Analytics: rsid will not be sent.');
    }
  },

  initializeNonHumanDetection: function() {
    if (SL.nonhumandetection) {
      SL.nonhumandetection.init();
      this.setEnableNonHumanDetection(
        this.settings.enableNonHumanDetection == false ? false : true);
      if (this.settings.nonHumanDetectionDelay > 0) {
        this.setNonHumanDetectionDelay(
          parseInt(this.settings.nonHumanDetectionDelay) * 1000);
      }
    } else {
      this.notify('NHDM is not available.');
    }
  },

  // `getAnalyticsTool()`
  // ------------------------------------------------
  //
  // If integration is defined, this method returns the tool instance of
  // the linked Analytics account
  getAnalyticsTool: function() {
    if (this.settings.integratesWith) {
      return SL.tools[this.settings.integratesWith];
    }
  },

  flushQueueWhenReady: function() {
    if (!this.enableTracking || !this.tabEverVisible) return;
    SL.poll(SL.bind(function() {
      if (this.isReadyToTrack()) {
        this.flushQueue();
        return true;
      }
    }, this), 100, 20);
  },

  isReadyToTrack: function() {
    return this.tabEverVisible && this.dataProvider.isReady();
  },

  // `setVars(vars)`
  // ------------------------------------------------
  //
  // The method is used to set variables on the tool
  $setVars: function(elm, evt, vars) {
    for (var v in vars) {
      var val = vars[v];
      if (typeof val === 'function')
        val = val();
      this.settings[v] = val;
    }
    this.notify('Set variables done', 2);
    this.prepareContextData();
  },

  // `setEnableTracking()`
  // ------------------------------------------------
  //
  // The method triggers the view tracking call.
  $setEnableTracking: function(elm, evt, bool) {
    this.notify('Will' + (!bool ? ' not' : '') + ' track time on page', 1);
    if (this.enableTracking != bool) {
      this.addRemovePageLeaveEvent(bool);
      this.addRemoveHumanDetectionChangeEvent(bool);
      this.enableTracking = bool;
    }
  },

  // `sendFirstBeacon()`
  // ------------------------------------------------
  //
  // The method is called as soon as everything is in place.
  $sendFirstBeacon: function(elm, evt, settings) {
    this.sendViewBeacon();
  },

  // `setEnableNonHumanDetection()`
  // ------------------------------------------------
  //
  // The method enables/disables the human detection mechanism.
  setEnableNonHumanDetection: function(bool) {
    if (bool) {
      SL.nonhumandetection.register(this);
    } else {
      SL.nonhumandetection.unregister(this);
    }
  },

  // `setNonHumanDetectionDelay()`
  // ------------------------------------------------
  //
  // The method set the timeout for entering in non human state.
  setNonHumanDetectionDelay: function(delay) {
    SL.nonhumandetection.register(this, delay);
  },

  addRemovePageLeaveEvent: function(add) {
    this.notify((add ? 'Attach onto' : 'Detach from') + ' page leave event', 1);
    var method = (add == false ? 'unbindEvent' : 'bindEvent');
    SL[method]('leave', this.onPageLeave);
  },

  addRemoveHumanDetectionChangeEvent: function(add) {
    this.notify((add ? 'Attach onto' : 'Detach from') + ' human detection change event', 1);
    var method = (add == false ? 'unbindEvent' : 'bindEvent');
    SL[method]('humandetection.change', this.onHumanDetectionChange);
  },

  // `sendViewBeacon()`
  // ------------------------------------------------
  //
  // The method triggers the view tracking call.
  sendViewBeacon: function() {
    this.notify('Tracked page view.', 1);
    this.sendBeaconWith();
  },

  // `sendDurationBeacon()`
  // ------------------------------------------------
  //
  // The method triggers the duration tracking call. This adds the time
  // spent on the page to the call and is triggered when the user leaves
  // the current web page.
  sendDurationBeacon: function() {
    if (
      !SL.timetracking ||
      typeof SL.timetracking.timeOnPage != 'function' ||
      SL.timetracking.timeOnPage() == null
    ) {
      this.notify('Could not track close due missing time on page', 5);
      return;
    }
    this.notify('Tracked close', 1);
    this.sendBeaconWith({
      timeOnPage: Math.round(SL.timetracking.timeOnPage() / 1000),
      duration: 'D',
      timer: 'timer'
    });
    // a bit of delay to let the network thread finish sending data
    var i,s='';for(i=0;i<this.magicConst;i++){s+='0'};
  },

  // `sendBeaconWith(obj)`
  // ------------------------------------------------
  //
  // The method builds the tracking call based on provided settings and
  // parameters.
  sendBeaconWith: function(params) {
    if (this.enableTracking) {
      this[this.beaconMethod].call(this, this.prepareUrl(params));
    }
  },
  plainBeacon: function(url) {
    var img = new Image();
    img.src = url;
    img.width = 1;
    img.height = 1;
    img.alt = '';
  },
  navigatorSendBeacon: function(url) {
    navigator.sendBeacon(url);
  },
  prepareUrl: function(params) {
    var obj = this.settings;
    SL.extend(obj, this.dataProvider.provide());
    SL.extend(obj, params);
    return this.preparePrefix(this.settings.collectionServer) +
      this.adapt.convertToURI(
        this.adapt.toNielsen(
          this.substituteVariables(obj)));
  },
  preparePrefix: function(server) {
    return '//' + encodeURIComponent(server) + '.imrworldwide.com/cgi-bin/gn?';
  },
  substituteVariables: function(hash){
    var obj = {};
    for (var v in hash) {
      if (hash.hasOwnProperty(v)) {
        obj[v] = SL.replace(hash[v]);
      }
    }
    return obj;
  },
  prepareContextData: function() {
    if (!this.getAnalyticsTool()) {
      this.notify('Adobe Analytics missing.');
      return;
    }
    var obj = this.settings;
    obj.sdkVersion =_satellite.publishDate;
    this.getAnalyticsTool().$setVars(null, null, {
      contextData: this.adapt.toAnalytics(
        this.substituteVariables(obj))
    });
  },
  isHuman: function() {
    return this.human;
  },
  onTabFocus: function() {},
  onPageLeave: function() {},
  onHumanDetectionChange: function() {},
  notify: function(msg, lvl) {
    SL.notify(this.logPrefix + msg, lvl);
  },
  beaconMethod: 'plainBeacon',
  adapt: null,
  enableTracking: false,
  logPrefix: "Nielsen: ",
  tabEverVisible: false,
  human: true,
  magicConst: 0x1e8480
});

// `NielsenTool.DataProvider`
// ==========================
//
// The following components handle the task of providing extra information
// for the Nielsen beacon, with support for asynchronous data
//
NielsenTool.DataProvider = {};
NielsenTool.DataProvider.Generic = function(key, valueFn) {
  this.key = key;
  this.valueFn = valueFn;
};

SL.extend(NielsenTool.DataProvider.Generic.prototype, {
  isReady: function() {
    return true;
  },

  getValue: function() {
    return this.valueFn();
  },

  provide: function() {
    if (!this.isReady()) {
      NielsenTool.prototype.notify('Not yet ready to provide value for: ' + this.key, 5)
    }
    var data = {};
    data[this.key] = this.getValue();
    return data;
  }
});

// `NielsenTool.DataProvider.VisitorID`
// ====================================
//
// Gets and optionally waits for Marketing Cloud ID to be loaded.
// If no visitor instance is provided, then it falls-back to generated UUID.
//
NielsenTool.DataProvider.VisitorID = function(visitorInstance, key, fallbackProvider) {
  this.key = key || 'uuid';
  this.visitorInstance = visitorInstance;
  if (this.visitorInstance) {
    this.visitorId = visitorInstance.getMarketingCloudVisitorID([this, this._visitorIdCallback]);
  }
  this.fallbackProvider = fallbackProvider || new NielsenTool.UUID();
};

SL.inherit(NielsenTool.DataProvider.VisitorID, NielsenTool.DataProvider.Generic);
SL.extend(NielsenTool.DataProvider.VisitorID.prototype, {
  isReady: function() {
    if (this.visitorInstance === null) {
      return true;
    }
    return !!this.visitorId;
  },

  getValue: function() {
    return this.visitorId || this.fallbackProvider.get();
  },

  _visitorIdCallback: function(id) {
    this.visitorId = id;
  }
});

// `NielsenTool.DataProvider.Aggregate`
// ====================================
//
// Aggregates data from multiple providers, being aware of their ready-state.
//
NielsenTool.DataProvider.Aggregate = function() {
  this.providers = [];
  for (var i=0; i<arguments.length; i++) {
    this.register(arguments[i]);
  }
};

SL.extend(NielsenTool.DataProvider.Aggregate.prototype, {
  register: function(provider) {
    this.providers.push(provider);
  },

  isReady: function() {
    return SL.every(this.providers, function(provider) {
      return provider.isReady();
    });
  },

  provide: function() {
    var data = {};
    SL.each(this.providers, function(provider) {
      SL.extend(data, provider.provide());
    });
    return data;
  }
});

// `UUID`
// ===============
//
// The follwing generates an [RFC 4122 version 4](https://www.ietf.org/rfc/rfc4122.txt)
// uinique ID and stores it in a cookie.

NielsenTool.UUID = function() {};

SL.extend(NielsenTool.UUID.prototype, {
  // `generate()`
  // ------------------------------------------------
  //
  // Method that generates an [RFC 4122 version 4](https://www.ietf.org/rfc/rfc4122.txt)
  // compliant unique ID.
  //
  // This is needed in for Nielsen tracking w/o Analytics integration.
  generate: function() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
      var r = Math.random() * 16 | 0,
          v = c == 'x' ? r : (r & 0x3 | 0x8);
      return v.toString(16);
    });
  },
  get: function() {
    var cookieUUID = SL.readCookie(this.key('uuid'));
    if (cookieUUID) return cookieUUID;
    cookieUUID = this.generate();
    SL.setCookie(this.key('uuid'), cookieUUID);
    return cookieUUID;
  },
  key: function(name) {
    return '_dtm_nielsen_' + name;
  }
});

// `Data Adapters`
// ===============
//
// The follwing adapters are used to adapt the settings to the proper format
// for both Nielsen tracking call and AA tracking calls

NielsenTool.DataAdapters = function() {};

SL.extend(NielsenTool.DataAdapters.prototype, {
  toNielsen: function(settings) {
    var cdate = new Date().getTime(),
        nielsenPrefixes = {
          c6: 'vc,',
          c13: 'asid,',
          c15: 'apn,',
          c27: 'cln,',
          c32: 'segA,',
          c33: 'segB,',
          c34: 'segC,',
          c35: 'adrsid,',
          c29: 'plid,',
          c30: 'bldv,',
          c40: 'adbid,'
        },
        nielsenObj = {
          ci: settings.clientId,
          c6: settings.vcid,
          c13: settings.appId,
          c15: settings.appName,
          prv: 1,
          forward: 0,
          ad: 0,
          cr: settings.duration || 'V', // [V|D], default V
          rt: 'text',
          st: 'dcr',
          prd: 'dcr',
          r: cdate,
          at: settings.timer || 'view', // [view|timer], default view
          c16: settings.sdkVersion,
          c27: settings.timeOnPage || 0,
          c40: settings.uuid,
          c35: settings.rsid,
          ti: cdate,
          sup: 0,
          c32: settings.segmentA,
          c33: settings.segmentB,
          c34: settings.segmentC,
          asn: settings.assetName,
          c29: settings.playerID,
          c30: settings.buildVersion
        };
    for (key in nielsenObj) {
      if (nielsenObj[key] !== undefined && nielsenObj[key] != null) {
        if (nielsenObj[key] !== undefined && nielsenObj != null && nielsenObj != '') {
          var val = encodeURIComponent(nielsenObj[key]);
          if (nielsenPrefixes.hasOwnProperty(key) && val) {
            val = nielsenPrefixes[key] + val;
          }
          nielsenObj[key] = val;
        }
      }
    }
    return this.filterObject(nielsenObj);
  },
  toAnalytics: function(settings) {
    return this.filterObject({
      'a.nielsen.clientid': settings.clientId,
      'a.nielsen.vcid': settings.vcid,
      'a.nielsen.appid': settings.appId,
      'a.nielsen.appname': settings.appName,
      'a.nielsen.accmethod': "0",
      'a.nielsen.ctype': "text",
      'a.nielsen.sega': settings.segmentA,
      'a.nielsen.segb': settings.segmentB,
      'a.nielsen.segc': settings.segmentC,
      'a.nielsen.asset': settings.assetName
    });
  },
  convertToURI: function(obj) {
    if (SL.isObject(obj) === false) return '';
    var uri = []
    for (var key in obj) {
      if (obj.hasOwnProperty(key)) uri.push(key + '=' + obj[key]);
    }
    return uri.join('&')
  },
  filterObject: function(obj) {
    for (var k in obj) {
      if (obj.hasOwnProperty(k) &&
        (obj[k] == null || obj[k] === undefined)) {
        delete obj[k];
      }
    }
    return obj;
  }
});

SL.availableTools.nielsen = NielsenTool;

// The Marketing Cloud Visitor ID Service Tool
// ================
//
// This tool interacts with the [Visitor ID library](https://git.corp.adobe.com/mc-visitor/VisitorAPI/tree/master/js/src).
// The tool initilizes the Visitor ID library as soon as the tool itself is
// created, by calling the `initialize` method. Find out more info about the
// initializing sequence by clicking [here](#-initialize-).
//
// The tool accepts the following settings:
//
// - `mcOrgId` - The Adobe Marketing Cloud Organization ID (Required)
// - `initVars` - Map containing properties that can be set on the Visitor ID
//      instance. The following keys can be set here:
//      * `trackingServer`,
//      * `trackingServerSecure`,
//      * `marketingCloudServer`
//      * `marketingCloudServerSecure`
// - `customerIDs` - Map containing Customer IDs values that will be set on the
//      instance
// - `autoRequest` - Flag that will read the Marketing Cloud Visitor ID by
//      calling `getMarketingCloudVisitorID` method
function VisitorIdTool(settings) {
  SL.BaseTool.call(this, settings);
  this.name = settings.name || 'VisitorID';

  this.initialize();
}

SL.extend(VisitorIdTool.prototype, {
  // Public
  // ------------------------------------------------
  //
  // `getInstance()`
  // ------------------------------------------------
  //
  // Returns the Visitor ID instance that was created when the tool was
  // initialized.
  getInstance: function() {
    return this.instance;
  },

  // Private
  // ------------------------------------------------
  //
  // `initialize()`
  // ------------------------------------------------
  //
  // The method creates a Visitor ID instance if all the data provided is valid.
  // The instance will contain all the keys defined in the `initVar` setting.
  // Any `dataElement` present as a value in the initVars map will be replaced
  // with the correct value.
  //
  // It applies then a the map of Customer IDs by calling the `setCustomerIDs`
  // method from the newly created instance. Any `dataElement` present as a
  // value in the Customer IDs map will be replaced with the correct value.
  //
  // After that, the `getMarketingCloudVisitorID` method from the newly created
  // instance is called, provided that the `autoRequest` settings is set to true.
  initialize: function() {
    var settings = this.settings, visitor;

    SL.notify('Visitor ID: Initializing tool', 1);

    visitor = this.createInstance(
      settings.mcOrgId,
      settings.initVars
    );
    if (visitor === null) {
      return;
    }

    if (settings.customerIDs) {
      this.applyCustomerIDs(visitor, settings.customerIDs);
    }

    if (settings.autoRequest) {
      visitor.getMarketingCloudVisitorID();
    }

    this.instance = visitor;
  },

  createInstance: function(mcOrgId, initVars) {
    if(!SL.isString(mcOrgId)) {
      SL.notify(
        'Visitor ID: Cannot create instance using mcOrgId: "' + mcOrgId + '"', 4);
      return null;
    }

    mcOrgId = SL.replace(mcOrgId);
    SL.notify(
      'Visitor ID: Create instance using mcOrgId: "' + mcOrgId + '"', 1);

    initVars = this.parseValues(initVars);
    var instance = Visitor.getInstance(mcOrgId, initVars);
    SL.notify('Visitor ID: Set variables: ' + SL.stringify(initVars), 1);

    return instance;
  },

  applyCustomerIDs: function(instance, ids) {
    var parsedIds = this.parseIds(ids);
    instance.setCustomerIDs(parsedIds);
    SL.notify('Visitor ID: Set Customer IDs: ' + SL.stringify(parsedIds), 1);
  },

  parseValues: function(hash) {
    if (SL.isObject(hash) === false) {
      return {};
    }

    var obj = {};

    for (var v in hash) {
      if (hash.hasOwnProperty(v)) {
        obj[v] = SL.replace(hash[v]);
      }
    }

    return obj;
  },

  parseIds: function(hash) {
    var parsedIds = {};
    if (SL.isObject(hash) === false) {
      return {};
    }

    for (var v in hash) {
      if (hash.hasOwnProperty(v)) {
        var id = SL.replace(hash[v]['id']);
        // All IDs should be data elements. If no replacement has taken place,
        // then we can conclude that the data element doesn't exists.
        // Also we should ignore existing data elements that are empty.
        if (id !== hash[v]['id'] && id) {
          parsedIds[v] = {};
          parsedIds[v]['id'] = id;
          parsedIds[v]['authState'] = Visitor.AuthState[hash[v]['authState']];
        }
      }
    }

    return parsedIds;
  }
});

SL.availableTools.visitor_id = VisitorIdTool;

// Adobe Analytics Tool
// ================
//
// This tool interacts with the [AppMeasurement library](http://microsite.omniture.com/t2/help/en_US/sc/appmeasurement/release/c_release_notes_mjs.html)
//
// Beside the settings that are processed by the BaseTool code, this tool uses
// the following extra settings:
//
// - `engine` - The engine identifier (sc)
// - `initVars` - It's an array containing key/value pair of AppMeasurement's
//      properties that are used in tracking and for settings. An example of
//      such pair would be: `{ eVar6: "6", server: "tracking.server"}`. For a
//      list of all supported properties please consult the [AppMeasurement's
//      documentation](http://microsite.omniture.com/t2/help/en_US/sc/implement/sc_variables.html).
// - `initTool` - Boolean flag that can suppress the tool initialization phase.
//      When set to `false` no JS library will be loaded and no initial command
//      will be executed. All the later commands triggered by this tool will
//      piggy back on any availble `ga` function from the page.
// - `sCodeURL` - Custom URL of the AppMeasurement Javascript library URL
//      location.
// - `loadOn` - The PL phase when this tool will be initialized (top | bottom)
// - `account` - String containing the report suite ID to track to.
// - `skipSetAccount` - Boolean value that when true disables setting
//      of the `account` with the value provided in settings. Default value
//      is no being set.
// - `euCookie' - Please see the description on SL (core.js) code
// - `renameS` - String specifying the name of the global AppMeasurement
//      instance. If no provided `s` is implied.
// - `executeCustomPageCodeFirst` - Boolean flag that lets the custom
//      initialization code be executed before or after the `initVars` method
//      call. Default value is not set which means false.
// - `customInit` - JS code that will be executed immediately after the tool is
//      initialized. The boolean result from `customInit` will affect the
//      initial page view call. A false value results in disabling the initial
//      page view tracking call.
//
// The SiteCatalystTool allows to set variables, add events, track link, etc.
// Example:
//
//      trigger: [
//          {
//              tool: "sc",
//              command: "trackLink"
//          }
//      ]
//
function SiteCatalystTool(settings){
  SL.BaseTool.call(this, settings)

  this.varBindings = {}
  this.events = []
  this.products = []
  this.customSetupFuns = []
}
SL.inherit(SiteCatalystTool, SL.BaseTool)
SL.extend(SiteCatalystTool.prototype, {
  // Public
  // ------------------------------------------------
  name: 'SC',

  // `endPLPhase()`
  // ------------------------------------------------
  //
  // Method that starts the tool initialization when the page load phase is
  // matched and only if the tool initialization has not been previously
  // cancelled. Find out more info about the initializing sequence by clicking
  // [here](#-initialize-).
  //
  // After the tool is initialized a page view call is triggered if
  // `suppressInitialPageView` flag is not set to `true`.
  endPLPhase: function(pageLoadEvent){
    var loadOn = this.settings.loadOn
    if (pageLoadEvent === loadOn){
      this.initialize(pageLoadEvent)
    }
  },

  // Private
  // ------------------------------------------------

  // `initialize()`
  // ------------------------------------------------
  //
  // The method first check to see if the default initialization is specifically
  // canceled.
  //
  // Then it sets an event listener on `pageLoadeEvent` to update the tracking
  // variables with the ones provided in `initVars` setting object.
  //
  // In case that the user chosen to provide the Javascript code for
  // AppMeasurement by himself instead of using the automatic management
  // then we wait for the library to load.
  //
  // Otherwise we load the AppMeasurement from the storage and then set the
  // setup variables on the tracker object.
  initialize: function(pageLoadEvent){
    if (this._cancelToolInit) return
    this.settings.initVars = this.substituteVariables(
      this.settings.initVars, { type: pageLoadEvent }
    )

    if (this.settings.initTool !== false){
      var url = this.settings.sCodeURL || SL.basePath() + 's_code.js'
      if (typeof url === 'object'){
        if (window.location.protocol === 'https:')
          url = url.https
        else
          url = url.http
      }
      if (!url.match(/^https?:/))
        url = SL.basePath() + url
      if (this.settings.initVars){
        this.$setVars(null, null, this.settings.initVars)
      }
      SL.loadScript(url, SL.bind(this.onSCodeLoaded, this))
      this.initializing = true
    }else{
      // Set to initializing because we are
      // waiting on the AppMeasurement/s_code library to be loaded by
      // the site and we'll detect the completion of the load
      // in a background task.
      this.initializing = true
      this.pollForSC()
    }
  },

  // `getS(s, options)`
  // ------------------------------------------------
  //
  // The method initializes the `s` object.
  //
  // A notificaiton is given and `null` is returned in case of not finding
  // the account/RSID.
  //
  // If Marketing Cloud Visitor ID Service is used that instance is linked
  // with the instatiated `s` object.
  getS: function(s, options){
    var hostname = options && options.hostname || window.location.hostname
    var varBindings = this.concatWithToolVarBindings(
      options && options.setVars || this.varBindings
    )
    var events = options && options.addEvent || this.events
    var acct = this.getAccount(hostname)
    var s_gi = window.s_gi
    if (!s_gi) return null
    if (!this.isValidSCInstance(s)) s = null
    if (!acct && !s) {
      SL.notify('Adobe Analytics: tracker not initialized because account was not found', 1)
      return null
    }
    var s = s || s_gi(acct)

    var DTMversion = 'D' + SL.appVersion;
    if(typeof s.tagContainerMarker !== 'undefined') {
      s.tagContainerMarker = DTMversion
    } else {
      if (typeof s.version === 'string' &&
        s.version.substring(s.version.length - 5) !==
          ('-' + DTMversion)){
        s.version += '-' + DTMversion
      }
    }

    if (s.sa && this.settings.skipSetAccount !== true && this.settings.initTool !== false) s.sa(this.settings.account)
    this.applyVarBindingsOnTracker(s, varBindings)
    if (events.length > 0)
      s.events = events.join(',')

    var visitorIdInstance = SL.getVisitorId()
    if (visitorIdInstance) {
      s.visitor = SL.getVisitorId()
    }

    return s
  },

  // `onSCodeLoaded()`
  // ------------------------------------------------
  //
  // The method triggers load event on Analytics tool so all subsequent and
  // listening methods would be properly triggered.
  //
  // Before cleaning up the queue the tracking beacon call is made.
  onSCodeLoaded: function(loaded_manually){
    this.initialized = true
    this.initializing = false

    var msg = [
      'Adobe Analytics: loaded',
      loaded_manually ? ' (manual)' : '',
      '.'
    ]
    SL.notify(msg.join(''), 1)

    SL.fireEvent(this.id + '.load', this.getS())

    if (!loaded_manually) {
      this.flushQueueExceptTrackLink()
      this.sendBeacon()
    }

    this.flushQueue()
  },

  // `getAccount(hostname)`
  // ------------------------------------------------
  //
  // The returns the `s_account` for a specified `hostname`
  //
  // TODO: need to be refactored because `accountByHost` is no longer used.
  getAccount: function(hostname){
    if (window.s_account){
      return window.s_account
    }
    if (hostname && this.settings.accountByHost){
      return this.settings.accountByHost[hostname] || this.settings.account
    }else{
      return this.settings.account
    }
  },

  // `getTrackingServer()`
  // ------------------------------------------------
  //
  // The method tries to retrieve the tracking server from the `s` object
  // otherwise falls back on generating one based on the `account`.
  //
  // If neither `account` or `trackingServer` are availalble, `null` is
  // returned.
  //
  // TODO: need to be refactored to remove the tracking server generate method
  // as Analytics now offers a central point to shoot to.
  getTrackingServer: function(){
    var tool = this
    var s = tool.getS()
    if (s) {
      if (s.ssl && s.trackingServerSecure) {
        return s.trackingServerSecure
      }
      else if (s.trackingServer) {
        return s.trackingServer
      }
    }
    var account = tool.getAccount(window.location.hostname)
    if (!account) return null
    // Based on code in app measurement.
    var w
    var c = ''
    var d = s && s.dc
    var e
    var f
    w = account
    e = w.indexOf(",")
    e >= 0 && (w = w.gb(0, e))
    w = w.replace(/[^A-Za-z0-9]/g, "")
    c || (c = "2o7.net")
    d = d ? ("" + d).toLowerCase() : "d1"
    c == "2o7.net" && (d == "d1" ? d = "112" : d == "d2" && (d = "122"), f = "")
    e = w + "." + d + "." + f + c
    return e
  },

  // `sendBeacon()`
  // ------------------------------------------------
  //
  // The method triggers the tracking call.
  //
  // If custom initialization is used the beacon is supressed. Also, if custom
  // code is provided and specifically stated that it should be executed first
  // (`executeCustomPageCodeFirst`) the tracker get updated with the result of
  // the code.
  sendBeacon: function(){
    var s = this.getS(window[this.settings.renameS || 's'])
    if (!s){
      SL.notify('Adobe Analytics: page code not loaded', 1)
      return
    }
    if (this.settings.customInit){
      if (this.settings.customInit(s) === false){
        SL.notify("Adobe Analytics: custom init suppressed beacon", 1)
        return
      }
    }

    if (this.settings.executeCustomPageCodeFirst) {
      this.applyVarBindingsOnTracker(s, this.varBindings)
    }
    this.executeCustomSetupFuns(s)
    s.t()
    this.clearVarBindings()
    this.clearCustomSetup()
    SL.notify("Adobe Analytics: tracked page view", 1)
  },
  pollForSC: function(){
    SL.poll(SL.bind(function(){
      if (typeof window.s_gi === 'function'){
        this.onSCodeLoaded(true)
        return true
      }
    }, this))
  },
  flushQueueExceptTrackLink: function(){
    // Because we always s.tl() after the first s.t()
    // that way the variables set by s.tl() will not
    // contaminate the s.t() call.
    if (!this.pending) return
    var left = []
    for (var i = 0; i < this.pending.length; i++){
      var args = this.pending[i]
      var trig = args[0]
      if (trig.command === 'trackLink'){
        left.push(args)
      }else{
        this.triggerCommand.apply(this, args)
      }
    }
    this.pending = left
  },
  isQueueAvailable: function(){
    return !this.initialized
  },
  substituteVariables: function(obj, evt){
    var ret = {}
    for (var key in obj){
      if (obj.hasOwnProperty(key)) {
        var value = obj[key]
        ret[key] = SL.replace(value, location, evt)
      }
    }
    return ret
  },
  $setVars: function(elm, evt, vars){
    for (var v in vars){
      if (vars.hasOwnProperty(v)) {
        var val = vars[v]
        if (typeof val === 'function')
          val = val()
        this.varBindings[v] = val
      }
    }
    SL.notify('Adobe Analytics: set variables.', 2)
  },
  $customSetup: function(elm, evt, setup){
    this.customSetupFuns.push(function(s){
      setup.call(elm, evt, s)
    })
  },
  isValidSCInstance: function(s) {
    return !!s && typeof s.t === 'function' && typeof s.tl === 'function'
  },
  concatWithToolVarBindings: function(varBindings){
    var settingsInitVars = this.settings.initVars || {}

    SL.map(['trackingServer', 'trackingServerSecure'], function (item) {
      if (settingsInitVars[item] && !varBindings[item]) {
        varBindings[item] = settingsInitVars[item]
      }
    });

    return varBindings
  },
  applyVarBindingsOnTracker: function (s, varBindings) {
    for (var v in varBindings){
      if (varBindings.hasOwnProperty(v)) {
        s[v] = varBindings[v]
      }
    }
  },
  clearVarBindings: function(){
    this.varBindings = {}
  },
  clearCustomSetup: function(){
    this.customSetupFuns = []
  },
  executeCustomSetupFuns: function(s){
    SL.each(this.customSetupFuns, function(fun){
      fun.call(window, s)
    })
  },
  $trackLink: function(elm, evt, params){
    params = params || {}
    var type = params.type
    var linkName = params.linkName
    if (!linkName &&
      elm &&
      elm.nodeName &&
      elm.nodeName.toLowerCase() === 'a'){
      linkName = elm.innerHTML
    }
    if (!linkName){
      linkName = 'link clicked'
    }
    var vars = params && params.setVars
    var events = (params && params.addEvent) || []

    var s = this.getS(null, {
      setVars: vars,
      addEvent: events
    })

    if (!s){
      SL.notify('Adobe Analytics: page code not loaded', 1)
      return
    }

    var orgLinkTrackVars = s.linkTrackVars
    var orgLinkTrackEvents = s.linkTrackEvents
    var definedVarNames = this.definedVarNames(vars)

    if (params && params.customSetup){
      params.customSetup.call(elm, evt, s)
    }

    if (events.length > 0)
      definedVarNames.push('events')
    if (s.products)
      definedVarNames.push('products')

    // add back the vars from s
    definedVarNames = this.mergeTrackLinkVars(s.linkTrackVars, definedVarNames)

    // add back events from s
    events = this.mergeTrackLinkVars(s.linkTrackEvents, events)

    s.linkTrackVars = this.getCustomLinkVarsList(definedVarNames)

    var eventsKeys = SL.map(events, function(item) {
      return item.split(':')[0]
    });
    s.linkTrackEvents = this.getCustomLinkVarsList(eventsKeys)

    s.tl(true, type || 'o', linkName)
    SL.notify([
      'Adobe Analytics: tracked link ',
      'using: linkTrackVars=',
      SL.stringify(s.linkTrackVars),
      '; linkTrackEvents=',
      SL.stringify(s.linkTrackEvents)
    ].join(''), 1)

    s.linkTrackVars = orgLinkTrackVars
    s.linkTrackEvents = orgLinkTrackEvents
  },
  mergeTrackLinkVars: function(newVarsStr, varsArr){
    if (newVarsStr) {
      varsArr = newVarsStr.split(',').concat(varsArr)
    }

    return varsArr
  },
  getCustomLinkVarsList: function (keysArr) {
    var noneIndex = SL.indexOf(keysArr, 'None');
    if (noneIndex > -1 && keysArr.length > 1) {
      keysArr.splice(noneIndex, 1)
    }

    return keysArr.join(',');
  },
  definedVarNames: function(vars){
    vars = vars || this.varBindings
    var ret = []
    for (var varname in vars){
      if (vars.hasOwnProperty(varname) && /^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(varname))
        ret.push(varname)
    }
    return ret
  },
  $trackPageView: function(elm, evt, params){
    var vars = params && params.setVars
    var events = (params && params.addEvent) || []

    var s = this.getS(null, {
      setVars: vars,
      addEvent: events
    })

    if (!s){
      SL.notify('Adobe Analytics: page code not loaded', 1)
      return
    }
    s.linkTrackVars = ''
    s.linkTrackEvents = ''
    this.executeCustomSetupFuns(s)
    if (params && params.customSetup){
      params.customSetup.call(elm, evt, s)
    }
    s.t()
    this.clearVarBindings()
    this.clearCustomSetup()
    SL.notify("Adobe Analytics: tracked page view", 1)
  },
  $postTransaction: function(elm, evt, varname){
    var trans = SL.data.transaction = window[varname]
      , s = this.varBindings
      , mapping = this.settings.fieldVarMapping

    SL.each(trans.items, function(item){
      this.products.push(item)
    }, this)

    s.products = SL.map(this.products, function(item){
      var vars = []
      if (mapping && mapping.item){
        for (var field in mapping.item){
          if (mapping.item.hasOwnProperty(field)) {
            var varname = mapping.item[field]
            vars.push(varname + '=' + item[field])
            if (varname.substring(0, 5) === 'event')
              this.events.push(varname)
          }
        }
      }
      var arr = ['', item.product, item.quantity, item.unitPrice * item.quantity]
      if (vars.length > 0)
        arr.push(vars.join('|'))
      return arr.join(';')
    }, this).join(',')

    if (mapping && mapping.transaction){
      // Add top-level events/eVars to products string.
      var topLevelVars = []
      for (var field in mapping.transaction){
        if (mapping.transaction.hasOwnProperty(field)) { 
          var varname = mapping.transaction[field]
          topLevelVars.push(varname + '=' + trans[field])
          if (varname.substring(0, 5) === 'event')
            this.events.push(varname)
        }
      }
      if (s.products.length > 0)
        s.products += ','
      s.products += ';;;;' + topLevelVars.join('|')
    }


  },
  $addEvent: function(elm, evt){
    for (var i = 2, len = arguments.length; i < len; i++){
      this.events.push(arguments[i])
    }
  },
  $addProduct: function(elm, evt){
    for (var i = 2, len = arguments.length; i < len; i++){
      this.products.push(arguments[i])
    }
  }

})
SL.availableTools.sc = SiteCatalystTool

// The Default Tool
// ================
//
// The default tool comes with several handy utilities.

function DefaultTool(){
  SL.BaseTool.call(this)

  this.asyncScriptCallbackQueue = []
  this.argsForBlockingScripts = []
}
SL.inherit(DefaultTool, SL.BaseTool)
SL.extend(DefaultTool.prototype, {
  name: 'Default',

  // `loadIframe(src, variables)`
  // ----------------------------
  //
  // Dynamically create an iframe to load a URL.
  //
  // - src - the URL to load
  // - variables - an object literal of which the key/value pairs will be used
  //      to create the query string to use in the src URL
  $loadIframe: function(elm, evt, options){
    var pages = options.pages
      , loadOn = options.loadOn
    var doit = SL.bind(function(){
      SL.each(pages, function(page){
        this.loadIframe(elm, evt, page)
      }, this)
    }, this)
    if (!loadOn) doit()
    if (loadOn === 'domready') SL.domReady(doit)
    if (loadOn === 'load') SL.addEventHandler(window, 'load', doit)
  },

  loadIframe: function(elm, evt, page){
    var iframe = document.createElement('iframe')
    iframe.style.display = 'none'
    var host = SL.data.host
      , data = page.data
      , src = this.scriptURL(page.src)
      , search = SL.searchVariables(data, elm, evt)
    if (host)
      src = SL.basePath() + src
    src += search
    iframe.src = src
    var body = document.getElementsByTagName('body')[0]
    if (body)
      body.appendChild(iframe)
    else
      SL.domReady(function(){
        document.getElementsByTagName('body')[0].appendChild(iframe)
      })
  },

  scriptURL: function(url){
    var scriptDir = SL.settings.scriptDir || ''
    return scriptDir + url
  },

  // `loadScript(options)
  // ------------------------------
  //
  // Load any number of Javascript files using dynamically generated script tags.
  // If you provide multiple file URLs, they will be loaded sequentially.
  $loadScript: function(elm, evt, options){
    var scripts = options.scripts
      , sequential = options.sequential
      , loadOn = options.loadOn
    var doit = SL.bind(function(){
      if (sequential){
        this.loadScripts(elm, evt, scripts)
      }else{
        SL.each(scripts, function(script){
          this.loadScripts(elm, evt, [script])
        }, this)
      }
    }, this)

    if (!loadOn) doit()
    else if (loadOn === 'domready') SL.domReady(doit)
    else if (loadOn === 'load') SL.addEventHandler(window, 'load', doit)
  },

  loadScripts: function(elm, evt, scripts) {
    try{
    var scripts = scripts.slice(0)
      , q = this.asyncScriptCallbackQueue
      , lastScript
      , target = evt.target || evt.srcElement
      , self = this
    }catch(e){
      console.error('scripts is', SL.stringify(scripts))
    }
    function loadNext(){
      if (q.length > 0 && lastScript){
        var callback = q.shift()
        callback.call(elm, evt, target)
      }
      var script = scripts.shift()
      if (script){
        var host = SL.data.host
          , src = self.scriptURL(script.src)
        if (host)
          src = SL.basePath() + src
        lastScript = script
        SL.loadScript(src, loadNext)
      }
    }
    loadNext()
  },

  $loadBlockingScript: function(elm, evt, options){
    var scripts = options.scripts
      , loadOn = options.loadOn
    var doit = SL.bind(function(){
      SL.each(scripts, function(script){
        this.loadBlockingScript(elm, evt, script)
      }, this)
    }, this)
    //if (!loadOn || loadOn === evt.type) doit()
    doit()
  },

  loadBlockingScript: function(elm, evt, script){
    /*jshint evil:true */
    var src = this.scriptURL(script.src)
      , host = SL.data.host
      , target = evt.target || evt.srcElement
    if (host)
      src = SL.basePath() + src
    this.argsForBlockingScripts.push([elm, evt, target])
    SL.loadScriptSync(src)
  },

  pushAsyncScript: function(callback){
    this.asyncScriptCallbackQueue.push(callback)
  },

  pushBlockingScript: function(callback){
    var args = this.argsForBlockingScripts.shift()
    var element = args[0]
    callback.apply(element, args.slice(1))
  },

  // `writeHTML(html)`
  // -----------------
  //
  // Write an HTML fragment onto the page using `document.write()`.
  //
  // - `html` - the HTML fragment
  $writeHTML: SL.escapeHtmlParams(function(elm, evt){
    /*jshint evil:true */
    if (SL.domReadyFired || !document.write){
      SL.notify('Command writeHTML failed. You should try appending HTML using the async option.', 1)
      return
    }
    if (evt.type !== 'pagebottom' && evt.type !== 'pagetop'){
      SL.notify('You can only use writeHTML on the `pagetop` and `pagebottom` events.', 1)
      return
    }
    for (var i = 2, len = arguments.length; i < len; i++){
      var html = arguments[i].html
      html = SL.replace(html, elm, evt)
      document.write(html)
    }
  }),

  linkNeedsDelayActivate: function(a, win){
    win = win || window
    var tagName = a.tagName
      , target = a.getAttribute('target')
      , location = a.getAttribute('href')
    if (tagName && tagName.toLowerCase() !== 'a')
      return false
    if (!location)
      return false
    else if (!target)
      return true
    else if (target === '_blank')
      return false
    else if (target === '_top')
      return win.top === win
    else if (target === '_parent')
      return false
    else if (target === '_self')
      return true
    else if (win.name)
      return target === win.name
    else
      return true
  },

  // `delayActivateLink()`
  // ---------------------
  //
  // Delay the activation of an anchor link by first using `evt.preventDefault()` on
  // the click event, and then setting the window location to the destination after
  // a small delay. The default delay is 100 milliseconds, which can be configured in
  // `_satellite.settings.linkDelay`
  $delayActivateLink: function(elm, evt){
    if (!this.linkNeedsDelayActivate(elm)) return
    SL.preventDefault(evt)
    var linkDelay = SL.settings.linkDelay || 100
    setTimeout(function(){
      SL.setLocation(elm.href)
    }, linkDelay)
  },

  isQueueable: function(trig){
    return trig.command !== 'writeHTML'
  }
})
SL.availableTools['default'] = DefaultTool

// The Adobe Target Tool
// ==================
//
// This tool interacts with [Adobe Target library](https://git.corp.adobe.com/mc-visitor/VisitorAPI).
//
// The tool accepts the following settings:
//
// - `engine` - The engine identifier (tnt)
// - `mboxURL` - The URL where the mbox can be found
// - `loadSync` - Specifies how the mbox should be loaded. A true value means
//      that it should be loaded in a synchronous mode.
// - `pageParams` - Object containing key/value pairs used in the mbox retrieval
//      call. The pairs are merged onto the `targetPageParams` property of
//      Target Javascript library. For more information click
//      [here](https://marketing.adobe.com/resources/help/en_US/target/target/c_pass_parameters_to_global_mbox.html).

function Tnt(settings){
  SL.BaseTool.call(this, settings)

  this.styleElements = {}
  this.targetPageParamsStore = {}
}

SL.inherit(Tnt, SL.BaseTool)

SL.extend(Tnt.prototype, {
  // Public
  // ------------------------------------------------
  name: 'tnt',

  // `endPLPhase()`
  // ------------------------------------------------
  //
  // Method that starts the tool initialization when the page load phase is
  // matched and only if the tool initialization has not been previously
  // cancelled.
  //
  // When the tool is initialized the global `targetPageParams` are updated with
  // the parameters provided in the settings.
  //
  // It is important to know that the `targetPageParams` property is not
  // overwritten instead a merging process is taking place. If a key is already
  // present then its value is updated.
  //
  // The last step is the loading of the mbox where the `mboxURL` is used.

  endPLPhase: function(pageLoadEvent) {
    if (pageLoadEvent === 'aftertoolinit') {
      this.initialize();
    }
  },

  // Private
  // ------------------------------------------------
  initialize: function() {
    SL.notify('Test & Target: Initializing', 1)
    this.initializeTargetPageParams()
    this.load()
  },

  initializeTargetPageParams: function() {
    if (window.targetPageParams) {
      this.updateTargetPageParams(
        this.parseTargetPageParamsResult(
          window.targetPageParams()
        )
      )
    }

    this.updateTargetPageParams(this.settings.pageParams)
    this.setTargetPageParamsFunction()
  },

  load: function(){
    var url = this.getMboxURL(this.settings.mboxURL)
    if (this.settings.initTool !== false){
      if (this.settings.loadSync) {
        SL.loadScriptSync(url)
        this.onScriptLoaded()
      } else {
        SL.loadScript(url, SL.bind(this.onScriptLoaded, this))
        this.initializing = true
      }
    } else {
      this.initialized = true
    }
  },

  getMboxURL: function(urlData) {
    var url = urlData
    if (SL.isObject(urlData)) {
      if (window.location.protocol === 'https:')
        url = urlData.https
      else
        url = urlData.http
    }
    if (!url.match(/^https?:/))
      return SL.basePath() + url
    else
      return url
  },

  onScriptLoaded: function(){
    SL.notify('Test & Target: loaded.', 1)

    this.flushQueue()

    this.initialized = true
    this.initializing = false
  },

  $addMbox: function(elm, evt, settings){
    var mboxGoesAround = settings.mboxGoesAround
    var styleText = mboxGoesAround + '{visibility: hidden;}'
    var styleElm = this.appendStyle(styleText)
    if (!(mboxGoesAround in this.styleElements)){
      this.styleElements[mboxGoesAround] = styleElm
    }

    if (this.initialized){
      this.$addMBoxStep2(null, null, settings)
    }else if (this.initializing){
      this.queueCommand({
        command: 'addMBoxStep2'
        , "arguments": [settings]
      }, elm, evt)
    }
  },
  $addMBoxStep2: function(elm, evt, settings){
    var mboxID = this.generateID()
    var self = this
    SL.addEventHandler(window, 'load', SL.bind(function(){
      SL.cssQuery(settings.mboxGoesAround, function(elms){
        var elem = elms[0]
        if (!elem) return
        var newDiv = document.createElement("div")
        newDiv.id = mboxID
        elem.parentNode.replaceChild(newDiv, elem)
        newDiv.appendChild(elem)
        window.mboxDefine(mboxID, settings.mboxName)
        var args = [settings.mboxName]
        if (settings.arguments){
          args = args.concat(settings.arguments)
        }
        window.mboxUpdate.apply(null, args)
        self.reappearWhenCallComesBack(elem, mboxID, settings.timeout, settings)
      });
    }, this))
    this.lastMboxID = mboxID // leave this here for easier testing
  },

  $addTargetPageParams: function(elm, evt, pageParams) {
    this.updateTargetPageParams(pageParams)
  },

  generateID: function(){
    var id = '_sdsat_mbox_' + String(Math.random()).substring(2) + '_'
    return id
  },
  appendStyle: function(css){
    var head = document.getElementsByTagName('head')[0], 
        style = document.createElement('style');
        
    style.type = 'text/css';
    if(style.styleSheet){
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
    
    head.appendChild(style);
    return style;
  },
  reappearWhenCallComesBack: function(elmGoesAround, mboxID, timeout, settings){
    var self = this

    function reappear(){
      var styleElm = self.styleElements[settings.mboxGoesAround]
      if (styleElm){
        styleElm.parentNode.removeChild(styleElm)
        ;delete self.styleElements[settings.mboxGoesAround]
      }
    }

    SL.cssQuery('script[src*="omtrdc.net"]', function(results){
      var script = results[0]
      if (script){
        SL.scriptOnLoad(script.src, script, function(){
          SL.notify('Test & Target: request complete', 1)
          reappear()
          clearTimeout(timeoutID)
        })
        var timeoutID = setTimeout(function(){
          SL.notify('Test & Target: bailing after ' + timeout + 'ms', 1)
          reappear()
        }, timeout)
      }else{
        SL.notify('Test & Target: failed to find T&T ajax call, bailing', 1)
        reappear()
      }
    })
  },

  updateTargetPageParams: function(obj) {
    var o = {}
    for (var key in obj) {
      if (obj.hasOwnProperty(key)) {
        o[SL.replace(key)] = SL.replace(obj[key])
      }
    }
    SL.extend(
      this.targetPageParamsStore,
      o
    )
  },

  getTargetPageParams: function() {
    return this.targetPageParamsStore
  },

  setTargetPageParamsFunction: function() {
    window.targetPageParams = SL.bind(this.getTargetPageParams, this)
  },

  parseTargetPageParamsResult: function(data) {
    var result = data

    if(SL.isArray(data)) {
      data = data.join('&')
    }

    if (SL.isString(data)) {
      result = SL.parseQueryParams(data)
    }

    return result
  }
})
SL.availableTools.tnt = Tnt

// Basic Tool
// ------------
//
// This is a generic tool that allows integrating with
// various simple tools.
//

function BasicTool(settings){
  SL.BaseTool.call(this, settings)

  this.name = settings.name || 'Basic'
}

SL.inherit(BasicTool, SL.BaseTool)

SL.extend(BasicTool.prototype, {
  initialize: function(){
    var settings = this.settings
    if (this.settings.initTool !== false){
      var url = settings.url
      if (typeof url === 'string'){
        url = SL.basePath() + url
      }else{
        url = SL.isHttps() ? url.https : url.http
      }
      SL.loadScript(url, SL.bind(this.onLoad, this))
      this.initializing = true
    }else{
      this.initialized = true
    }
  },
  isQueueAvailable: function(){
    return !this.initialized
  },
  onLoad: function(){
    this.initialized = true
    this.initializing = false
    if (this.settings.initialBeacon){
      this.settings.initialBeacon()
    }
    this.flushQueue()
  },
  endPLPhase: function(pageLoadEvent){
    var loadOn = this.settings.loadOn
    if (pageLoadEvent === loadOn){
      SL.notify(this.name + ': Initializing at ' + pageLoadEvent, 1)
      this.initialize()
    }
  },
  $fire: function(elm, evt, fun){
    if (this.initializing){
      this.queueCommand({
        command: 'fire',
        arguments: [fun]
      }, elm, evt)
      return
    }
    fun.call(this.settings, elm, evt)
  }
})

SL.availableTools.am = BasicTool
SL.availableTools.adlens = BasicTool
SL.availableTools.aem = BasicTool
SL.availableTools.__basic = BasicTool

var GAUtils = {
  allowLinker: function() {
    return SL.hasMultipleDomains();
  },
  cookieDomain: function() {
    var domainList = SL.settings.domainList;
    var domainName = SL.find(domainList, function(domain) {
      var hostname = window.location.hostname;
      return SL.equalsIgnoreCase(
        hostname.slice(hostname.length - domain.length),
        domain);
    });
    var cookieDomain = domainName ? ('.' + domainName) : 'auto';

    return cookieDomain;
  }
};

// The Google Analytics Universal Tool
// ================
//
// This tool interacts with the [GAU library](https://developers.google.com/analytics/devguides/collection/analyticsjs/).
//
// From a high end perspective the following steps will happen. A `ga` dummy
// object will be initialized. Until the `analytics.js` file will be loaded in
// the browser, any triggered command will be queued in the `ga` object. Once
// the `analytics.js` will finish to load, all the queued commands will be
// executed.
//
// The tool is initialized during one of the following page load phases:
// top, bottom. Find out more info about the initializing sequence by clicking
// [here](#-endplphase-).
//
// Data elements are replaced when the tracker is created and on the commands
// from `initCommands` array. For the other situations, the data elements are
// replaced in the `triggerCommand` method from BaseTool.
//
// Beside the settings that are processed by the BaseTool code, this tool uses
// the following extra settings:
//
// - `engine` - The engine identifier (ga_universal)
// - `loadOn` - The PL phase when this tool will be initialized (top | bottom)
// - `url` - Custom URL of the `analytics.js` URL location. If none is provided
//      the Google default URL will be used.
// - `initTool` - Boolean flag that can suppress the tool initialization phase.
//      When set to `false` no JS library will be loaded and no initial command
//      will be executed. All the later commands triggered by this tool will
//      piggy back on any availble `ga` function from the page.
// - `trackerSettings` - Object containing properties that will be added on the
//      command that will create the GAU tracker. For a list of all supported
//      properties please click [here](https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#create)
// - `initCommands` - It's an array containing commands. A command example:
//      `["set", "anonymizeIp", true]`. For a list of all supported commands
//      please click [here](https://developers.google.com/analytics/devguides/collection/analyticsjs/method-reference#tracker)
//      The commands defined here will be executed after the tracker is created.
// - `allowLinker` - Flag that will make the GAU library load the cross domain
//      linking plugin.
// - `customInit` - JS code that will be executed immediately after the tool is
//      initialized. The boolean result from `customInit` will affect the
//      initial page view call.

function GAUniversalTool(settings) {
  SL.BaseTool.call(this, settings)
}

SL.inherit(GAUniversalTool, SL.BaseTool);

SL.extend(GAUniversalTool.prototype, {
  // Public
  // ------------------------------------------------
  name: 'GAUniversal',

  // `endPLPhase()`
  // ------------------------------------------------
  //
  // Method that starts the tool initialization when the page load phase is
  // matched and only if the tool initialization has not been previously
  // cancelled. Find out more info about the initializing sequence by clicking
  // [here](#-initialize-).
  //
  // After the tool is initialized a page view call is triggered if
  // `suppressInitialPageView` flag is not set to `true`.
  endPLPhase: function(pageLoadEvent) {
    var settings = this.settings;
    var loadOn = settings.loadOn;

    if (pageLoadEvent === loadOn) {
      SL.notify('GAU: Initializing at ' + pageLoadEvent, 1);
      this.initialize();
      this.flushQueue();
      this.trackInitialPageView();
    }
  },

  // `getTrackerName()`
  // ------------------------------------------------
  //
  // Returns the name of the GA tracker initialized by this tool.
  getTrackerName: function () {
    return this.settings.trackerSettings.name || '';
  },

  // Private
  // ------------------------------------------------
  isPageCodeLoadSuppressed: function() {
    return this.settings.initTool === false || this._cancelToolInit === true;
  },

  // `initialize()`
  // ------------------------------------------------
  //
  // The method first creates the GA scaffolding objects (the `ga` object and
  // the `GoogleAnalyticsObject` object.
  //
  // Then it loads the `analytics.js` library and append the command that will
  // create the GAU tracker object to the `ga` object.
  //
  // Next, the commands from the `initCommands` array will be appended to
  // the `ga` object. Finally the JS code defined in the `customInit` setting
  // variable will be called.
  initialize: function() {
    if (this.isPageCodeLoadSuppressed()) {
      this.initialized = true;
      SL.notify('GAU: Page code not loaded (suppressed).', 1);
      return;
    }

    var gaName = 'ga';

    window[gaName] = window[gaName] || this.createGAObject();
    window.GoogleAnalyticsObject = gaName;

    SL.notify('GAU: Page code loaded.', 1);
    SL.loadScriptOnce(this.getToolUrl());

    var settings = this.settings;

    if (GAUtils.allowLinker() && settings.allowLinker !== false) {
      this.createAccountForLinker();
    } else {
      this.createAccount();
    }

    this.executeInitCommands();

    if (settings.customInit){
      var customInit = settings.customInit
      var result = customInit(window[gaName], this.getTrackerName())
      if (result === false){
        this.suppressInitialPageView = true;
      }
    }

    this.initialized = true;
  },

  createGAObject: function() {
    var ga = function() {
      ga.q.push(arguments);
    };

    ga.q = [];
    ga.l = 1 * new Date();
    return ga;
  },

  createAccount: function() {
    this.create();
  },

  createAccountForLinker: function() {
    var options = {};
    if (GAUtils.allowLinker())
      options.allowLinker = true;

    this.create(options);
    this.call('require', 'linker');
    this.call('linker:autoLink', this.autoLinkDomains(), false, true);
  },

  create: function(extra){
    var options = this.settings.trackerSettings;
    options =
      SL.preprocessArguments([options], location, null, this.forceLowerCase)[0];
    options.trackingId =
      SL.replace(this.settings.trackerSettings.trackingId, location);

    if (!options.cookieDomain) {
      options.cookieDomain = GAUtils.cookieDomain();
    }

    SL.extend(options, extra || {});
    this.call('create', options);
  },

  autoLinkDomains: function() {
    var ourDomain = location.hostname;
    return SL.filter(SL.settings.domainList, function(domain) {
      return domain !== ourDomain;
    });
  },

  executeInitCommands: function() {
    var settings = this.settings;

    if (settings.initCommands) {
      SL.each(settings.initCommands, function(command) {
        var args = command.splice(2, command.length - 2);
        command = command.concat(
          SL.preprocessArguments(args, location, null, this.forceLowerCase)
        );
        this.call.apply(this, command);
      }, this);
    }
  },

  trackInitialPageView: function(){
    if (this.suppressInitialPageView || this.isPageCodeLoadSuppressed()) {
      return;
    }

    this.call('send', 'pageview');
  },

  call: function() {
    if (typeof ga !== 'function') {
      SL.notify('GA Universal function not found!', 4);
      return;
    }

    if (this.isCallSuppressed()) {
      return;
    }

    arguments[0] = this.cmd(arguments[0]);
    this.log(SL.toArray(arguments));
    ga.apply(window, arguments);
  },

  isCallSuppressed: function() {
    return this._cancelToolInit === true;
  },

  $missing$: function(command, elm, evt, args) {
    args = args || [];

    args = [command].concat(args);
    this.call.apply(this, args);
  },

  getToolUrl: function() {
    var settings = this.settings;
    var isHttps = SL.isHttps();

    if (settings.url) {
      return isHttps ? settings.url.https : settings.url.http;
    }

    return (isHttps ? 'https://ssl' : 'http://www') + '.google-analytics.com/analytics.js';
  },

  cmd: function(command) {
    var trackerCommands = ['send', 'set', 'get'];
    var trackerName = this.getTrackerName();

    if (!trackerName || SL.indexOf(trackerCommands, command) === -1) {
      return command;
    }

    return trackerName + '.' + command;
  },

  log: function(args) {
    var cmd = args[0];
    var tracker = this.getTrackerName() || 'default';

    var msg = 'GA Universal: sent command ' + cmd + ' to tracker ' + tracker;
    if (args.length > 1) {
      var parameters = SL.stringify(args.slice(1));
      msg += ' with parameters ' + SL.stringify(args.slice(1));
    }
    msg += '.';
    SL.notify(msg, 1);
  }
});

SL.availableTools.ga_universal = GAUniversalTool;

// Google Analytics Tool
// ---------------------
//
// The GATool allows you to use any Google Analytics command.
// Example:
//
//      trigger: [
//          {
//              tool: "ga",
//              command: "trackEvent",
//              arguments: [
//                  "video",
//                  "video 10% complete"
//              ]
//          }
//      ]
//
// This trigger will call the `trackEvent` method, which is equivalent to
//
//     _gaq.push(['_trackEvent', 'video', 'video 10% complete'])
function GATool(settings){
  SL.BaseTool.call(this, settings)
}
SL.inherit(GATool, SL.BaseTool)
SL.extend(GATool.prototype, {
  name: 'GA',
  initialize: function(){
    var settings = this.settings
    var before = window._gaq
      , initCommands = settings.initCommands || []
      , customInit = settings.customInit

    if (!before){
      // And yes, I *do* mean to set a global variable
      // of `_gaq` here
      _gaq = []
    }

    if (!this.isSuppressed()){
      if (!before && !GATool.scriptLoaded){
        var https = SL.isHttps()
        var url =
          (https ? 'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js'
        if (settings.url){
          url = https ? settings.url.https : settings.url.http
        }
        SL.loadScript(url)
        GATool.scriptLoaded = true
        SL.notify('GA: page code loaded.', 1)
      }
      var domain = settings.domain
        , trackerName = settings.trackerName
        , allowLinker = GAUtils.allowLinker()
        , account = SL.replace(settings.account, location)
        , domainList = SL.settings.domainList || []
      _gaq.push([this.cmd('setAccount'), account])
      if (allowLinker)
        _gaq.push([this.cmd('setAllowLinker'), allowLinker])
      _gaq.push([this.cmd('setDomainName'), GAUtils.cookieDomain()])
      SL.each(initCommands, function(cmd){
        var arr = [this.cmd(cmd[0])].concat(SL.preprocessArguments(cmd.slice(1), location, null, this.forceLowerCase))
        _gaq.push(arr)
      }, this)
      if (customInit)
        this.suppressInitialPageView = false === customInit(_gaq, trackerName)
      if (settings.pageName)
        this.$overrideInitialPageView(null, null, settings.pageName)
    }else{
      SL.notify('GA: page code not loaded(suppressed).', 1)
    }

    this.initialized = true
    SL.fireEvent(this.id + '.configure', _gaq, trackerName)

  },
  isSuppressed: function(){
    return this._cancelToolInit || this.settings.initTool === false
  },
  tracker: function(){
    return this.settings.trackerName
  },
  cmd: function(cmd){
    var tracker = this.tracker()
    return tracker ? tracker + '._' + cmd : '_' + cmd
  },
  $overrideInitialPageView: function(elm, evt, url){
    this.urlOverride = url
  },
  trackInitialPageView: function(){
    if (this.isSuppressed()) return
    if (this.suppressInitialPageView) return
    if (this.urlOverride){
      var args = SL.preprocessArguments([this.urlOverride], location, null, this.forceLowerCase)
      this.$missing$('trackPageview', null, null, args)
    }else{
      this.$missing$('trackPageview')
    }
  },
  endPLPhase: function(pageLoadEvent){
    var loadOn = this.settings.loadOn
    if (pageLoadEvent === loadOn){
      SL.notify('GA: Initializing at ' + pageLoadEvent, 1)
      this.initialize()
      this.flushQueue()
      this.trackInitialPageView()
    }
  },
  call: function(cmd, elm, evt, args){
    if (this._cancelToolInit) return
    var settings = this.settings
      , tracker = this.tracker()
      , fullCmd = this.cmd(cmd)
      , args = args ? [fullCmd].concat(args) : [fullCmd]
    _gaq.push(args)
    if (tracker)
      SL.notify("GA: sent command " + cmd + " to tracker " + tracker +
        (args.length > 1 ?
          " with parameters [" + args.slice(1).join(', ') + "]" :
          '') + ".", 1)
    else
      SL.notify("GA: sent command " + cmd +
        (args.length > 1 ?
          " with parameters [" + args.slice(1).join(', ') + "]":
          '') + ".", 1)
  },
  $missing$: function(cmd, elm, evt, args){
    this.call(cmd, elm, evt, args)
  },
  // individual command methods
  $postTransaction: function(elm, evt, varname){
    var trans = SL.data.customVars.transaction = window[varname]
    this.call('addTrans', elm, evt, [
      trans.orderID,
      trans.affiliation,
      trans.total,
      trans.tax,
      trans.shipping,
      trans.city,
      trans.state,
      trans.country
    ])
    SL.each(trans.items, function(item){
      this.call('addItem', elm, evt, [
        item.orderID,
        item.sku,
        item.product,
        item.category,
        item.unitPrice,
        item.quantity
      ])
    }, this)
    this.call('trackTrans', elm, evt)
  },
  delayLink: function(elm, evt){
    var ga = this
    if (!GAUtils.allowLinker()) return
    if (!elm.hostname.match(this.settings.linkerDomains)) return
    if (SL.isSubdomainOf(elm.hostname, location.hostname)) return
    SL.preventDefault(evt)
    var linkDelay = SL.settings.linkDelay || 100
    setTimeout(function(){
      ga.call('link', elm, evt, [elm.href])
    }, linkDelay)
  },
  popupLink: function(elm, evt){
    if (!window._gat) return
    SL.preventDefault(evt)
    var account = this.settings.account
    var tracker = window._gat._createTracker(account)
    var url = tracker._getLinkerUrl(elm.href)
    window.open(url)
  },
  $link: function(elm, evt){
    if (elm.getAttribute('target') === '_blank'){
      this.popupLink(elm, evt)
    }else{
      this.delayLink(elm, evt)
    }
  },
  $trackEvent: function(elm, evt){
    var args = Array.prototype.slice.call(arguments, 2)
    if (args.length >= 4 && args[3] != null){
      // acertain that the 4th element is a number, falling back to 1
      var value = parseInt(args[3], 10)
      if (SL.isNaN(value)){
        value = 1
      }
      args[3] = value
    }
    this.call('trackEvent', elm, evt, args)
  }
})
SL.availableTools.ga = GATool

_satellite.init({
  "tools": {
    "a0e0272aa8bd06a29dca544ce10eb0f6": {
      "engine": "sc",
      "loadOn": "pagebottom",
      "account": "walgrns",
      "euCookie": false,
      "sCodeURL": "7deb8111c940df73792ccb9937476cc412e87575/s-code-contents-ebc1e337e43c3b070eb8a6833435df71ec709f05.js",
      "renameS": "s",
      "initVars": {
        "trackingServer": "metrics.walgreens.com",
        "trackingServerSecure": "smetrics.walgreens.com",
        "referrer": "%override_referrer%",
        "trackInlineStats": true,
        "trackDownloadLinks": true,
        "linkDownloadFileTypes": "avi,css,csv,doc,docx,eps,exe,jpg,js,m4v,mov,mp3,pdf,png,ppt,pptx,rar,svg,tab,txt,vsd,vxd,wav,wma,wmv,xls,xlsx,xml,zip",
        "trackExternalLinks": true,
        "linkExternalFilters": "http://twitter.com/share,http://walgreens.tumblr.com/,http://www.facebook.com/Walgreens,https://foursquare.com/walgreens,https://plus.google.com/+walgreens,https://plus.google.com/115629332750558200099/posts,https://twitter.com/WALGREENS,https://www.pinterest.com/walgreens/",
        "linkLeaveQueryString": true,
        "dynamicVariablePrefix": "D=",
        "eVar72": "%BAS_Device_Type_Global_EVar72%",
        "eVar73": "%BAS_Device_Resolution_Global_EVar73%",
        "eVar74": "%BAS_Device_Orientation_Global_EVar74%",
        "eVar1": "%BAS_ApplicationType_Native%",
        "eVar76": "%BAS_ApplicationType_Native%",
        "prop57": "%BAS_Device_Type_Global_EVar72%"
      },
      "skipSetAccount": true,
      "customInit": function(s){
if((window.location.pathname === "/") || (window.location.pathname === "/default.jsp") || (window.location.pathname === "/storelocator/result.jsp")|| (window.location.pathname === "/locator") || (window.location.href.indexOf("cart.jsp") > -1) || (window.location.href.indexOf("/search/results.jsp") > -1) || (window.location.href.indexOf("cart.jsp") > -1) || (window.location.href.indexOf("optimize_order_review.jsp") > -1) || (window.location.href.indexOf("confirmorder_sdd.jsp") > -1) || (window.location.pathname === "/store/balancerewards/beauty.jsp")) {
  return false;
}
}
    },
    "ab9e4b793b3b7677078e37aed616f5dcd3ed30ea": {
      "engine": "visitor_id",
      "loadOn": "pagetop",
      "name": "VisitorID",
      "mcOrgId": "5E16123F5245B2970A490D45@AdobeOrg",
      "autoRequest": true,
      "initVars": {
        "trackingServer": "metrics.walgreens.com",
        "trackingServerSecure": "smetrics.walgreens.com",
        "marketingCloudServer": "metrics.walgreens.com",
        "marketingCloudServerSecure": "smetrics.walgreens.com",
        "cookieDomain": "walgreens.com"
      }
    }
  },
  "pageLoadRules": [
    {"name":" CA /pharmacy/schedule-appointment.jsp?frm=clinic#/location JUNE 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5b2aa3de64746d4e5a002988.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/schedule-appointment.jsp"]},"hashes":{"include":[/#\/location/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('frm'), "clinic")
}],"event":"windowload"},
    {"name":" DCH-HealthInfo-owlcarousel","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56a13f8064746d42a1000fb2.js"}]}]}],"scope":{"URI":{"include":["/health/allergy-asthma/900006","/health/cough-cold-flu/900002","/health/diabetes/500001","/health/digestive-health/1900001","/health/heart-health/900004","/health/pain-management/1800002","/health/sleep/1800004","/health/fitness/800004","/health/nutrition/800006","/health/smoking-cessation/3000001","/health/senior-health/1800006","/health/vitamins-supplements/1800008","/health/womens-health/400002","/health/p2/","/health/p1/"]}},"event":"windowload"},
    {"name":"2377304 - CA BR topic:balancerewards:everyday-points:jsp - June 04, 2015 05:13:54 PM","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5570875239303758da410700.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/balancerewards\/everyday-points.jsp/i]}},"event":"pagebottom"},
    {"name":"2432136 - CA BR balancerewards:balance-rewards:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-55787ffa3162300014460400.html","data":[]}]}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]},"subdomains":{"exclude":[/n-www/i]}},"event":"pagebottom"},
    {"name":"A-wag-privacy-security-onload","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop30":"privacypolicynotice|load|mobile|%BAS_Adaptive_Default_PageTitle_Global%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%","channel":"%BAS_Adaptive_Channel_Global%"}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-58118c5f64746d7de300b9aa.js"}]}]}],"scope":{"URI":{"include":[/\/topic\/help\/generalhelp\/privacyandsecurity.jsp/i]}},"event":"windowload"},
    {"name":"A_GLOBAL_REQUEST_ERROR (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop27":"%REQUEST_ERROR%"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(window).load(function(){
  $('.imgIndicatorForLazyLoad').each(function(){
    _self=$(this);
    _self.attr('src',_self.attr('data-src')).removeAttr('data-src').removeAttr('style');
  });
});
}]}],"scope":{"URI":{"include":[/\/request_error.jsp/i]}},"event":"pagebottom"},
    {"name":"A_Global_Gomez (Copy)","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  var hostname=window.location.hostname;\n\n  if(hostname!=\"om-perf.walgreens.com\")\n  {\n    if(window.dtmObject!=undefined \u0026\u0026 \n       window.dtmObject.BAS!=undefined \u0026\u0026 \n       window.dtmObject.BAS.ThirdPartyTags!=undefined \u0026\u0026\n       window.dtmObject.BAS.ThirdPartyTags.EstaraRules!=undefined \u0026\u0026\n       window.dtmObject.BAS.ThirdPartyTags.Gomez!=undefined\n      )\n    {\n      if(window.dtmObject.BAS.ThirdPartyTags.Gomez.isEnabled)\n      {\n        var scriptTag= document.createElement(\"script\");\n        scriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.Gomez.Url); \n        scriptTag.setAttribute(\"data-dtconfig\",window.dtmObject.BAS.ThirdPartyTags.Gomez.DtConfig);\t\t\t\t\n          if(document.head===undefined)\n          {\n            document.getElementsByTagName('head')[0].appendChild(scriptTag);\n          }\n          else\n          {\n            document.head.appendChild(scriptTag);\n          }\n      }\n    }\n  }\n\u003c/script\u003e"}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"A_INTERSTITIAL_ERROR (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop27":"%INTERSTITIAL_ERROR%"}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\nif(window.dtmObject!=undefined \u0026\u0026 \n     window.dtmObject.BAS!=undefined \u0026\u0026 \n     window.dtmObject.BAS.ThirdPartyTags!=undefined \u0026\u0026\n    window.dtmObject.BAS.ThirdPartyTags.ATGsvcs!=undefined \n    )\n  {\n    if(window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.isEnabled)\n    {\n  \t\tvar scriptTag= document.createElement(\"script\");\n  \t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.Url);  \n  \t\tdocument.head.appendChild(scriptTag);\n    }\n  }\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/interstitial_redirect.jsp/i]}},"event":"pagebottom"},
    {"name":"A_cs_login_number","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-55e4b47e3161620014000015.js"}]}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"event":"windowload"},
    {"name":"BAS-CCF-Tier2-Quick-Fix","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n$(document).ready(function(){\n      $('\u003cstyle\u003e#wag-ccf-tier2-shop-by-symptom{display:block;} .wag-tier1-brands{line-height:22px}\u003c/style\u003e').appendTo('head');\n    /*   var is_safari = navigator.userAgent.indexOf(\"Safari\") \u003e -1;\n\t\t  var is_chrome = navigator.userAgent.indexOf('Chrome') \u003e -1;\n\t\t  var is_tablet = ($(window).width() \u003e= 768 \u0026\u0026 $(window).width() \u003c 1028);\n\t\t\tconsole.log('OUT');\n\t\t  if ((is_chrome) \u0026\u0026 (is_safari)) {\n\t\t  \tis_safari = false;\n\t\t  }\n\t\t  if (is_safari || is_tablet) {\n        console.log('IN');\n\t\t  \tvar childDiv = document.querySelector(\".wag-ccf-category\");\n\t\t  \tvar parentDiv = document.createElement('div');\n\t\t  \tparentDiv.appendChild(childDiv.cloneNode(true));\n\t\t  \tchildDiv.parentNode.replaceChild(parentDiv, childDiv);\n\t\t  \tparentDiv.setAttribute(\"class\", \"container\");\n\t\t  \tvar rmvClassName = \"container\";\n\t\t  \tvar prntElmnt = document.getElementById('ccf-category-section');\n\t\t  \tprntElmnt.className = prntElmnt.className.replace(rmvClassName, \"\");\n\t\t  \tvar newClass = \" wag-carousel-wrapper pagespan\";\n\t\t  \tprntElmnt.className = prntElmnt.className + newClass;\n        if( $('[ng-controller=\"categoryGlobalTiersController\"]').length \u003e 1 ) {\n          var _scope = $('[ng-controller=\"categoryGlobalTiersController\"]').scope();\n          _scope.$apply();\n        }\n\t \t  }*/\n    /*var optionTimer = setInterval(function(){\n      if( $('#wag-ccf-tier2-shop-by-symptom').length \u003e= 1 ) {\n        $('#wag-ccf-tier2-shop-by-symptom  select \u003e option:nth-child(3), #wag-ccf-tier2-shop-by-symptom  select \u003e option:nth-child(4)').remove();\n        clearInterval(optionTimer);  \n      }\n    }, 500);*/\n  \n});\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"event":"pagetop"},
    {"name":"BAS-Clearance-Price-Duplicate-Quick_Fix","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$('<style>.wag-global-carousel-tiles .wag-product-clearance-text {display:none} .wag-global-carousel-wrapper{height: auto;min-height:200px;}</style>').appendTo('head');
}]}],"scope":{"URI":{"include":[/-tier2general/i]}},"event":"pagebottom"},
    {"name":"BAS-FND-CRE-MENU","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5e063d8764746d7f23004cd7.js"}]}]}],"scope":{"URI":{"include":[/\/default.jsp/i,"/"]}},"event":"domready"},
    {"name":"BAS-FoterLink-Fix","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5dc18fd564746d5b7d000e1c.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"BAS-General-Brands-Page (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"%BAS_Prop13%","prop14":"Tier2"}]}],"scope":{"URI":{"include":["store/store/brands/general_brand.jsp"]}},"event":"pagebottom"},
    {"name":"BAS-QuickFix-ContactUs","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5a21f30b64746d01b50037f4.js"}]}]}],"scope":{"URI":{"include":["contact-us-landing.jsp",/\/mktg\/contactus\/contact-us-forms.jsp/i,/\/mktg\/contactus\/br-redemption-forms.jsp/i,/\/mktg\/contactus\/feedback-forms.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"BAS-Shoplanding-page-Fix","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-59c09f6b64746d6e3701174b.js"},{"src":"satellite-5b8562df64746d5fa100630e.js"}]}]}],"scope":{"URI":{"include":[/\/store\/catalog\/shopLanding/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"BAS-Social Media Icons","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-595fc47a64746d6e69008837.js"}]}]}],"scope":{"URI":{"include":[/store\/c\/dove-beauty-bar\/ID=prod357391-product/i]}},"event":"windowload"},
    {"name":"BAS-StoreDetails-TempFix","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n  setTimeout(function(){\n    if(angular.element('[ng-controller=appstoredetailsController]').length) {\n    \twindow.stodetailsScope = angular.element('[ng-controller=appstoredetailsController]').scope();\n\t\tif(window.stodetailsScope.storedetailsData) {\n\t\t\tconsole.log(window.stodetailsScope.storedetailsData.storeNumber);\n\t\t\tvar curr_date = new Date();\n\t\t\tcurr_date.setTime(curr_date.getTime() + (30 * 24 * 60 * 60 * 1000));\n\t\t\tdocument.cookie = 'str_nbr_do='+window.stodetailsScope.storedetailsData.storeNumber+ ';expires=' + curr_date + ';path=/';\n\t\t\tvar storeOffersId = {};\n\t\t\tstoreOffersId.weeklyAdStoreId = window.stodetailsScope.storedetailsData.storeNumber;\n\t\t\tstoreOffersId.weeklyAdStoreStreet = window.stodetailsScope.storedetailsData.address.street;\n\t\t\tdocument.cookie = 'storeOffersId='+JSON.stringify(storeOffersId)+ ';expires=' + curr_date + ';path=/';\n\t\t}\n    }\n  }, 2000);\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":["\\/locator(.*)\\/id=(.*)"]}},"event":"pagebottom"},
    {"name":"BAS-Tier1-Page (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"%BAS_Prop13%","prop14":"Tier1"}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5b91a7cd64746d04bb00015a.js"}]}]}],"scope":{"URI":{"include":["\\d-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"BAS-Tier2 (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"%BAS_Prop13%","prop14":"Tier2"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$("section.col-lg-3.col-md-3.col-sm-3, section.col-lg-9.col-md-9.col-sm-9").addClass("col-xs-12");
}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a90a98264746d06b6000f42.js"}]}]}],"scope":{"URI":{"include":["tier2"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"BAS-WebMD-Rules","trigger":[{"engine":"sc","command":"setVars","arguments":[{"pageName":"%BAS_WebMD_PageTitle%","channel":"%BAS_WebMD_PageTitle%"}]},{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-58a3c83664746d2ae8008054.js"}]}]}],"scope":{"URI":{"include":["webmd/webmd_sa"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"BAS_Marketing_Tag_For_Tier1","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56446b0364746d3f7d00727d.js"}]}]}],"scope":{"URI":{"include":[/\.*\/ID=\d+-tier1/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar(""), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"BAS_Marketing_Tag_For_Tier2","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56446a8a64746d3f800077bd.js"}]}]}],"scope":{"URI":{"include":[/\.*\/ID=\d+-tier2general/i,/\.*\/ID=\d+-tier2clense/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"BAS_Marketing_Tag_Topic","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56a1042b64746d0d310010ad.js"}]}]}],"scope":{"URI":{"include":["/topic/save/online-promotions.jsp",/\/topic\/save\/sale-and-values.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"BAS_Promo_Blank","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56a17cc664746d5f1000127d.js"}]}]}],"scope":{"URI":{"include":[/topic\/promotion\/a-mlp*/i,/topic\/help\/*/i,/\/topic\/faqhome\/faqlanding.jsp/i,/\/topic\/faq\/questionandanswer.jsp/i,/\/topic\/help\/generalhelp\/termsofuse.jsp/i,/topic\/newsletters\/*/i,/topic\/promotion\/vitamin-angels.jsp*/i,/topic\/promotion\/rednoseday.jsp*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"BC_Confirmation_PhoneNumber","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-57ed4b5864746d41490043a1.js"}]}]}],"scope":{"URI":{"include":["/balancerewards/beauty_confirmation.jsp"]}},"event":"windowload"},
    {"name":"BR_Expiry_Value","scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"conditions":[function(event,target){
var elementScope = angular.element("section[ng-controller='doBrsuyPagechgController']").scope();
var rootScope = angular.element("section[ng-controller='doBrsuyPagechgController']").scope().$root;
$.ajax({
		type: "GET",
		url: "/svc/profiles/"+window.header.profileInfo.profileId+"/loyalty/(RewardsInfo)",
		async: false,
		contentType: "application/json"
	}).success(function(response) {
		elementScope.loyaltyPoints = {};
		elementScope.loyaltyRewardsInfo = response;
		if (window.dtmObject.DWARBR === undefined) {
			window.dtmObject.DWARBR = {};
		}
		if (response.messages !== undefined && response.messages.length > 0) {
			window.dtmObject.DWARBR.message = response.messages[0].message;
		}
		if (response.rewardsProgress !== undefined) {
			elementScope.loyaltyPoints.minPoints = response.rewardsProgress.minPoints;
			elementScope.loyaltyPoints.maxPoints = response.rewardsProgress.maxPoints;
			elementScope.loyaltyPoints.minDollarValue = response.rewardsProgress.minDollarValue;
			elementScope.loyaltyPoints.maxDollarValue = response.rewardsProgress.maxDollarValue;
			elementScope.loyaltyPoints.availablePoints = response.availablePoints;
			var availX = parseInt(response.availablePoints.replace(/,/g, ''), 10),
				minX = parseInt(response.rewardsProgress.minPoints.replace(/,/g, ''), 10),
				maxX = parseInt(response.rewardsProgress.maxPoints.replace(/,/g, ''), 10);
			elementScope.loyaltyPoints.progressBarWidth = parseInt((((availX - minX) / (maxX - minX)) * 100), 10);
			angular.element(".progress-bar").width(elementScope.loyaltyPoints.progressBarWidth + "%");
		}
		if (response.messages !== undefined && response.messages.length > 0) {
			elementScope.showErrorMsg(response.messages);
		}
		if (response.pointsExpirations) {
			elementScope.expirationDateCalculation(response);
		}	
	});
rootScope.$apply();
elementScope.$apply();
return true;
}],"event":"windowload"},
    {"name":"Brand_landing_page","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-599dba5064746d16c10011fa.js"}]}]}],"scope":{"URI":{"include":[/\/store\/store\/all_brands_landing.jsp/i]}},"event":"windowload"},
    {"name":"CA /businesssolutions/cysticFibrosis/cysticFibrosis.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5a982c9564746d60a100ba4c.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/cysticFibrosis/cysticFibrosis.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/cysticFibrosis/cysticFibrosis.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af30a7764746d749600554c.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/cysticFibrosis/cysticFibrosis.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/hepatitis/hepatitis.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5a982ce064746d23c400a799.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/hepatitis/hepatitis.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/hepatitis/hepatitis.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2051464746d599b005707.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/hepatitis/hepatitis.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/hiv/hiv.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5a982c4b64746d405100953d.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/hiv/hiv.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/hiv/hiv.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af204d164746d599b0056fa.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/hiv/hiv.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/oncology/oncology.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5a982c0b64746d405100952e.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/oncology/oncology.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/oncology/oncology.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af204a264746d599b0056ed.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/oncology/oncology.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer-landing/payer-landing.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf0a1364746d68e300013a.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer-landing/payer-landing.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/340BComplete.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf138964746d74f90001ab.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/340BComplete.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/adherence.jsp APRIL 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ca4c9b064746d3bcf004ac6.html","data":[]},{"src":"satellite-5ccc8bf864746d1091004864.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/adherence.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/biopharma.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf0ab164746d68e6000139.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/biopharma.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/employers.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf0af864746d68dd0001f8.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/employers.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/government.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf0b5164746d68e3000159.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/government.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/health-wellness.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf125a64746d74f60001a0.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/health-wellness.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/healthSystems.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf0b9464746d68e00001c1.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/healthSystems.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/healthcareclinic.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf12a264746d74f3000190.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/healthcareclinic.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/managedCare.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf121964746d74f6000188.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/managedCare.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/onsitepharmacy.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf134964746d74f60001d2.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/onsitepharmacy.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/specialty-pharmacy.jsp APRIL 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ca4ca2764746d403d000f8a.html","data":[]},{"src":"satellite-5ccc8c5364746d1091004866.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/specialty-pharmacy.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/payer/vaccination.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf12fb64746d74f60001b9.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/payer/vaccination.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/research/aboutus.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf142664746d68e3000177.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/research/aboutus.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/research/academic-partners.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf14b264746d21f9000107.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/research/academic-partners.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/research/research.jsp MAY 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cdf13e564746d74f30001a8.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/research/research.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/transplant/transplant.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5a982bbf64746d502500363d.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/transplant/transplant.jsp"]}},"event":"windowload"},
    {"name":"CA /businesssolutions/transplant/transplant.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2047364746d5998004baa.html","data":[]}]}]}],"scope":{"URI":{"include":["/businesssolutions/transplant/transplant.jsp"]}},"event":"windowload"},
    {"name":"CA /health/diabetes/500001 APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f9155664746d37c0001a17.html","data":[]}]}]}],"scope":{"URI":{"include":["/health/diabetes/500001"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /health/diabetes/500001 MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2064564746d62a00027ed.html","data":[]}]}]}],"scope":{"URI":{"include":["/health/diabetes/500001"]}},"event":"windowload"},
    {"name":"CA /health/senior-health/1800006 NOV 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5829fd6364746d065b002ebd.html","data":[]}]}]}],"scope":{"URI":{"include":["/health/senior-health/1800006"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /offers/offers.jsp?view=weeklyad#/weeklyad APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5900c7c864746d198e00b8ba.html","data":[]}]}]}],"scope":{"URI":{"include":["/offers/offers.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('view'), "weeklyad")
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /offers/offers.jsp?view=weeklyad#/weeklyad MAY 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-59279c5864746d329900bb46.html","data":[]}]}]}],"scope":{"URI":{"include":["/offers/offers.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('view'), "weeklyad")
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /pharmacy/ AUG 29 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d7937df64746d25900018dc.html","data":[]}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Pharmacy_HomePage"), "true");
}],"event":"pagetop"},
    {"name":"CA /pharmacy/immunization/immunization_index.jsp AUG 29 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d7937df64746d25900018f4.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/immunization/immunization_index.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/immunization/seasonal_flu.jsp AUG 29 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d7937df64746d259000190c.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/immunization/seasonal_flu.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/immunization/seasonal_flu.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2069d64746d7490006422.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/immunization/seasonal_flu.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/immunization/shot_at_life.jsp AUG 29 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d7929fa64746d1acf001231.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/immunization/shot_at_life.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/immunization/shot_at_life.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af306aa64746d324e005dfc.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/immunization/shot_at_life.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/schedule-appointment.jsp?frm=clinic#/reasonForVisit JUNE 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5b2aa46464746d604a001812.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/schedule-appointment.jsp"]},"hashes":{"include":[/#\/reasonForVisit/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('frm'), "clinic")
}],"event":"windowload"},
    {"name":"CA /pharmacy/schedule-appointment.jsp?frm=clinic#/storeinfo JUNE 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5b2aa4cb64746d3f92001785.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/schedule-appointment.jsp"]},"hashes":{"include":[/#\/storeinfo/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('frm'), "clinic")
}],"event":"windowload"},
    {"name":"CA /pharmacy/scheduler/scheduler_home.jsp JULY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5b58abe864746d4400001f03.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/scheduler/scheduler_home.jsp"]}},"event":"windowload"},
    {"name":"CA /pharmacy/specialty-pharmacy/cancer-treatment/oral-chemo-drug-information.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae387bd64746d2f4f0001f2.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/specialty-pharmacy/cancer-treatment/oral-chemo-drug-information.jsp"]}},"event":"windowload"},
    {"name":"CA /register/aarp_registration.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5aa82a9964746d531f0038a9.html","data":[]}]}]}],"scope":{"URI":{"include":["/register/aarp_registration.jsp"]}},"event":"windowload"},
    {"name":"CA /steps/appmarket.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2061564746d599b00571f.html","data":[]}]}]}],"scope":{"URI":{"include":["/steps/appmarket.jsp"]}},"event":"windowload"},
    {"name":"CA /store/c/Beauty/ID=359434-tier1","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56bce4d964746d38c7001d3f.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/Beauty/ID=359434-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/advil-pain-reliever/fever-reducer-coated-tablets/ID=prod5368-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345dd164746d0996001804.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/advil-pain-reliever/fever-reducer-coated-tablets/ID=prod5368-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/aleve-pain-reliever-fever-reducer-easy-open-cap-caplets/ID=prod5728887-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f3364746d0996001829.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/aleve-pain-reliever-fever-reducer-easy-open-cap-caplets/ID=prod5728887-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/bayer-aspirin-regimen-low-dose-safety-coated-enteric-tablets/ID=prod5728834-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f5464746d0999002065.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/bayer-aspirin-regimen-low-dose-safety-coated-enteric-tablets/ID=prod5728834-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/beauty-products/ID=359434-tier1 MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5b03329964746d417b002dfc.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/beauty-products/ID=359434-tier1"]}},"event":"windowload"},
    {"name":"CA /store/c/beauty/ID=359434-tier1 - small b","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-571a75ee64746d0cee000db0.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/beauty/ID=359434-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/children's-cough-cold-and-flu-medication/ID=360945-tier3 - Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58335f4264746d6762001443.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/children's-cough-cold-and-flu-medication/ID=360945-tier3"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/cosmetics/ID=360337-tier2general MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af5dde964746d317c004d99.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/cosmetics/ID=360337-tier2general"]}},"event":"windowload"},
    {"name":"CA /store/c/cough-cold-and-flu-medications/ID=360549-tier2general","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Cough Cold Landing Page
URL of the webpage where the tag is expected to be placed: https://www.walgreens.com/store/c/cough-cold-and-flu-medications/ID=360549-tier2general
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/18/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=acute0;cat=cough0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/store/c/cough-cold-and-flu-medications/ID=360549-tier2general"]}},"event":"pagebottom"},
    {"name":"CA /store/c/excedrin-migraine-pain-reliever-caplets/ID=prod3448102-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f6464746d099900207d.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/excedrin-migraine-pain-reliever-caplets/ID=prod3448102-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/hair-care-products/ID=360339-tier2general APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56cf3bc964746d3757000207.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/hair-care-products/ID=360339-tier2general"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/nature-made-fish-oil-1200-mg-dietary-supplement-liquid-softgels/ID=prod381793-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f6f64746d0999002095.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/nature-made-fish-oil-1200-mg-dietary-supplement-liquid-softgels/ID=prod381793-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/schiff-megared-omega-3-krill-oil-350-mg-dietary-supplements-softgels/ID=prod4118048-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f9464746d099f001bf3.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/schiff-megared-omega-3-krill-oil-350-mg-dietary-supplements-softgels/ID=prod4118048-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/stop-smoking/ID=360539-tier2general MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc83d264746d59a10087b1.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/stop-smoking/ID=360539-tier2general"]}},"event":"windowload"},
    {"name":"CA /store/c/walgreens-pain-reliever-extra-strength-caplets/ID=prod6153232-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f7b64746d09990020ad.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/walgreens-pain-reliever-extra-strength-caplets/ID=prod6153232-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/c/walgreens-premium-arm-blood-pressure-monitor-2016/ID=prod6335217-product Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58345f8864746d099f001bdb.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/walgreens-premium-arm-blood-pressure-monitor-2016/ID=prod6335217-product"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /store/checkout/confirmorder_sdd.jsp Flood 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56f03e7664746d79ae00117b.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/checkout/confirmorder_sdd.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /storelocator/find.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5aa829b264746d58b4003dc8.html","data":[]}]}]}],"scope":{"URI":{"include":["/storelocator/find.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/USH/cough_cold_USH.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc869e64746d317c00739a.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/USH/cough_cold_USH.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/USH/tudiabetes.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af205e664746d5998004bca.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/USH/tudiabetes.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/health-shops/allergy.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54b6e6653632330015b80700.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/allergy.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/health-shops/coughcold.jsp - Nov 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5833600964746d099c001388.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/coughcold.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/health-shops/digestive-health.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc84eb64746d272300a20a.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/digestive-health.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/health-shops/incontinence.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc846464746d0ab7006dc3.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/incontinence.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/health-shops/pain-relief.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f8d32164746d07d70083b8.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/pain-relief.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/health-shops/pain-relief.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc84a764746d0ab7006dd0.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/pain-relief.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/health-shops/sleep-aids.jsp Flood","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Chronic Sleep landing page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/health-shops/sleep-aids.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 10/27/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=chron0;cat=chron00;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/health-shops/sleep-aids.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/health-shops/sleep-aids.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc841e64746d0ab7006db0.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/health-shops/sleep-aids.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/holiday/holiday-gift-ideas.jsp FLOOD","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5655d6cf64746d270a000579.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/holiday/holiday-gift-ideas.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/medicare/UHC-medicare-advantage.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001208.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/medicare\/UHC-medicare-advantage.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/medicarepartd/Cigna-PDP.jsp NOV 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5bfd657564746d17ce00cabe.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/medicarepartd/Cigna-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/medicarepartd/ESI-PDP.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001220.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/medicarepartd\/ESI-PDP.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/medicarepartd/UHC-PDP.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a0011d8.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/medicarepartd\/UHC-PDP.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/offers/weeklyad-and-offers.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5aa82b0664746d531c003743.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/offers/weeklyad-and-offers.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/offers/weeklyad-and-offers.jsp pixel","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5617ca5933323400170001ec.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/offers/weeklyad-and-offers.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/pharmacy/healthcare-clinic.jsp FEB 16","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56ce1abd64746d1eb5001d5d.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/healthcare-clinic.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/healthcare-clinic/about-your-visit.jsp FEB 16","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56ccbe9264746d4bf0001f35.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/healthcare-clinic/about-your-visit.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/hiv-pharmacy-services/letsgrowoldtogether.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f9168964746d60dd000fc1.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services/letsgrowoldtogether.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/hiv-pharmacy-services/prevention-and-testing.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f9161f64746d6b6b003ddc.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services/prevention-and-testing.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicare-part-d-info.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001238.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicare-part-d-info.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicare-resources.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a0012b0.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicare-resources.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicare/findaplan-info.jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Understanding Med D Plan Options Landing Page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/pharmacy/medicare/findaplan-info.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/24/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=MedDu0;cat=under00;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicare/findaplan-info.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/pharmacy/medicare/findaplan-info.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2070664746d749000643c.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicare/findaplan-info.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd-info.jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Med D Landing Page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/pharmacy/medicarepartd-info.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/24/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=MedDu0;cat=meddl0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd-info.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/pharmacy/medicarepartd-info.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af206d964746d749000642f.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd-info.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd-info.jsp OCT 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5bca058d64746d3342000f46.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd-info.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/ESI-PDP.jsp 2 SEPT 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5babb7ea64746d201d000107.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/ESI-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/ESI-PDP.jsp MAY 2018 - updated SEPT 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2073364746d7496004c38.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/ESI-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/ESI-PDP.jsp OCT 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-57ed6bd164746d28d00043b8.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/ESI-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/UHC-PDP.jsp 2 SEPT 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5babb87264746d201d00011f.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/UHC-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/UHC-PDP.jsp MAY 2018 - updated SEPT 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2075e64746d749300580e.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/UHC-PDP.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/donut-hole.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001280.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicarepartd\/donut-hole.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/donuthole-info.jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Med D Donut Hole Landing Page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/pharmacy/medicarepartd/donuthole-info.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/24/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=MedDu0;cat=meddd0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/donuthole-info.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/pharmacy/medicarepartd/drug-plan-savings.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001268.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicarepartd\/drug-plan-savings.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/drug_plan_report.jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Online Med D Plan Report Gateway Landing Page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/pharmacy/medicarepartd/drug_plan_report.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/24/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=MedDu0;cat=onlin001;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/drug_plan_report.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/pharmacy/medicarepartd/enrollment-eligibility.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001250.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicarepartd\/enrollment-eligibility.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/medicare-at-walgreens.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a001298.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicarepartd\/medicare-at-walgreens.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/new-to-medicare.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f9174464746d12370040c1.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/new-to-medicare.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/medicarepartd/services-info.jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Living Well with Medicare Landing Page
URL of the webpage where the tag is expected to be placed: http://www.walgreens.com/topic/pharmacy/medicarepartd/services-info.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/24/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=MedDu0;cat=livin0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;

}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/services-info.jsp"]}},"event":"pagebottom"},
    {"name":"CA /topic/pharmacy/scheduler/hiv-prep.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae3828964746d599800015b.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/scheduler/hiv-prep.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/scheduler/hiv-prep.jsp MAY 2018 2","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af2056b64746d0d8a003098.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/scheduler/hiv-prep.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56fc045164746d72910001f7.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae3875964746d2f4900016c.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp MAY 2018 2","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af205b164746d5998004bbd.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-medication-support.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-treatment/medication-tips.jsp FEB 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56fc040864746d729a000148.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-treatment/medication-tips.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-treatment/patient-resources.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae3887064746d5998000179.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-treatment/patient-resources.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-treatment/patient-resources.jsp NOV 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-583f0fd264746d09990057e5.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-treatment/patient-resources.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/cancer-treatment/side-effect-help.jsp FEB 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56fc03b364746d405a0001a6.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/cancer-treatment/side-effect-help.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/fertility-preservation.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae388bd64746d59a100033c.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/fertility-preservation.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/fertility-preservation.jsp NOV 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-583f0ff464746d099c004ebd.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/fertility-preservation.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/fertility-services.jsp FEB 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56def4d164746d0529000de9.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/fertility-services.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/oncology-caregiver.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae3893264746d2f4f000203.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/oncology-caregiver.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/oncology-caregiver.jsp NOV 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-583f100964746d0996004d13.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/oncology-caregiver.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/side-effect-help.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5ae3881a64746d599800016c.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/side-effect-help.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/specialty-pharmacy/srx-financial-assistance.jsp FEB 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56fc034264746d1da30002aa.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/srx-financial-assistance.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/walgreens-medicare-part-d.jsp SEPT 30 2019 O","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d9226e464746d2b4a0011f0.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/walgreens-medicare-part-d.jsp/i]}},"event":"windowload"},
    {"name":"CA /topic/pharmacy/welcome_prime.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-585971e164746d16d80005fb.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/welcome_prime.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/promotion/aarpcard.jsp APRIL 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cb88f7e64746d2c4e000bcd.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/aarpcard.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/promotion/aarpcard.jsp MAR 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5aa8295d64746d762f003af8.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/aarpcard.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/promotion/mixandmatch.jsp April 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56fc017e64746d405d0000b6.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/mixandmatch.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/proactive-wellness.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-58f918cd64746d1997008239.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/proactive-wellness.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/proactive-wellness.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afc838164746d317c0072c9.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/proactive-wellness.jsp"]}},"event":"windowload"},
    {"name":"CA /topic/promotion/rednoseday.jsp March 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56f5555864746d0529009645.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/rednoseday.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/skincare-3for2.jsp May 25 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5745c1a264746d1e32008d1f.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/skincare-3for2.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/visacheckout.jsp VCO tag 3-2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56ddcd7964746d052e00065f.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/visacheckout.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/vitamin-angels.jsp APR 2017 N","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54ece6f239376500168a0a00.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/vitamin-angels.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA /topic/promotion/walgreens-plus.jsp MAY 2018","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5af1fd2f64746d5a430024eb.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/walgreens-plus.jsp"]}},"event":"windowload"},
    {"name":"CA /youraccount/default.jsp APRIL 2019","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5cb88ff464746d02ba000f9b.html","data":[]}]}]}],"scope":{"URI":{"include":["/youraccount/default.jsp"]}},"event":"windowload"},
    {"name":"CA VPD page FB tag - July 07, 2015 03:28:29 PM","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n \n   function addEvent(element, eventName, fn) {\n    if (element.addEventListener)\n      element.addEventListener(eventName, fn, false);\n    else if (element.attachEvent)\n      element.attachEvent('on' + eventName, fn);\n  }\n\n  addEvent(window, 'load', function(){ loadFfacebookScript(); });\n  \n  function loadFfacebookScript(){ \n    if (((window.location.href).search(\"ID=prod\") != -1 \u0026\u0026 (window.location.href).search(\"-product\") != -1) || (window.location.href).search(\"view_product_details.jsp\") != -1) { \n     var prodIdVPD = document.getElementById('hiddenSkuId').value;\n     // prodIdVPD=prodIdVPD.replace(\"prod\",\"\");\n      (function(f,b,e,v,n,t,s){n=window.fbq=function(){\n      n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};n.version='1.0';n.pixelId=e;n.queue=[];t=f.createElement(b);t.async=true;t.src=v;s=f.getElementsByTagName(b)[0];s.parentNode.insertBefore(t,s)}(document,'script','1552416341683379','//connect.facebook.net/en_US/fbevents.js'));\n\t\t\tfbq('reportViewContent',{\n      content_type: 'product',\n      content_ids: prodIdVPD,\n    });\n    }\n  }\n\u003c/script\u003e"}]}],"scope":{"URI":{"exclude":[/store\/checkout\//i,"tier3"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"CA balancerewards:balance-rewards:jsp - eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b031b65323900170006b2.html","data":[]}]}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA pharmacy:immunization:seasonal_flu:jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Seasonal Flu Page
URL of the webpage where the tag is expected to be placed: https://www.walgreens.com/pharmacy/immunization/seasonal_flu.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/02/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=seaso0;cat=seaso0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/pharmacy/immunization/seasonal_flu.jsp"]}},"event":"pagebottom"},
    {"name":"CA pharmacy:refillhub:refillhub:jsp- - eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b04ae3765330017000034.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"event":"windowload"},
    {"name":"CA pharmacy:register:authentication:rx_authentication.jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-554290946333380017130500.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/register/authentication/rx_authentication.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA pharmacy:scheduler:health_schedule_appointment:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54e3a52d3939370016b60300.html","data":[]}]}]}],"scope":{"URI":{"include":["/pharmacy/scheduler/health_schedule_appointment.jsp"]}},"event":"pagebottom"},
    {"name":"CA store:c:beauty:ID=359434-tier1- eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b05da6532390014000797.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/beauty/ID=359434-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA store:c:grocery:ID=359451-tier1- eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b06a33562380017000833.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/grocery/ID=359451-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA store:c:household:ID=359453-tier1- eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b07276532390014000806.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/household/ID=359453-tier1"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA store:catalog:shopLanding - eyeviewads - sept - 2015","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56abc93064746d0e4b001818.js"}]}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b01d93562380017000704.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/catalog/shopLanding"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA topic:balancerewards:mas-puntos:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-559c3d123063340014000ca7.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/balancerewards/mas-puntos.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:offers:weeklyad-and-offers:jsp - eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560ae101663839075300086b.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/offers/weeklyad-and-offers.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA topic:pharmacy:cystic-fibrosis-services:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-558d617a6339380014000812.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/cystic-fibrosis-services.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:pharmacy:hiv-pharmacy-services:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-558d617b6339380014000824.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:pharmacy:medicarepartd:ESI-PDP:jsp maxpoint 3rd Party","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560ae19b356238001400063f.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/ESI-PDP.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA topic:pharmacy:medicarepartd:donuthole-info.jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-554291a46535380cf3200400.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/donuthole-info.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:pharmacy:medicarepartd:drug_plan_report:jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54ece2a13461630016940000.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/drug_plan_report.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:pharmacy:medicarepartd:services-info.jsp","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5542928b34626235e5fd0100.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/services-info.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"CA topic:promotion:getashot:jsp 3rd Party","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Get A Shot. Give A Shot. Promo Page
URL of the webpage where the tag is expected to be placed: https://www.walgreens.com/topic/promotion/getashot.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/02/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=seaso0;cat=getas0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"scope":{"URI":{"include":["/topic/promotion/getashot.jsp"]}},"event":"pagebottom"},
    {"name":"CA topic:save:sale-and-values:jsp - eyeviewads - sept - 2015","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b04103765330014000034.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/save/sale-and-values.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CA/topic/promotion/sun-care.jsp May 2016","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5728a94564746d514c0023c0.html","data":[]}]}]}],"scope":{"URI":{"include":["/topic/promotion/sun-care.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CAC Purchase History Native Select Option","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5758824564746d251401006e.js"}]}]}],"scope":{"URI":{"include":["youraccount/orderstatus/orderstatus.jsp"]}},"event":"windowload"},
    {"name":"CAC- Prescriber search result (Copy) (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"Checkout"}]}],"scope":{"URI":{"include":["/store/checkout/cl_prescriber_search_results.jsp"]}},"event":"pagebottom"},
    {"name":"CAC-AR-Copy-shipping-FAQ","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cstyle \u003e\n  #myModalArTerms .modal-body h3,#Shipping_FAQ {display:none;}\n  \n\u003c/style\u003e"}]}],"scope":{"URI":{"include":["youraccount/autoreorder/ss_schedule_order_manager.jsp"]}},"event":"pagebottom"},
    {"name":"CAC-CAR-Purchase-History-Details-Tracking","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5747503e64746d251d00a4e1.js"}]}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/order-history-details.jsp/i,/youraccount\/orderstatus\/orderstatus.jsp/i,"youraccount/dlorder/reorder.jsp"]}},"event":"windowload"},
    {"name":"CAC-Order Confirmation Page","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"store"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
function triggerKenAPI(){
var KENURLPaths="//531.xg4ken.com/media/getpx.php?cid=118ba1de-6210-4a55-93c3-67b4ed3815e2";
  var fscriptken = document.createElement('script');
  fscriptken.type = 'text/javascript';
  fscriptken.src = KENURLPaths;
  document.body.appendChild(fscriptken);
}

/*var hostProtocol = (("https:" == document.location.protocol) ? "https" : "http");
document.write('<scr'+'ipt src="', hostProtocol+
'://531.xg4ken.com/media/getpx.php?cid=118ba1de-6210-4a55-93c3-67b4ed3815e2','" type="text/JavaScript"><\/scr'+'ipt>');


if (window.addEventListener) {
  window.addEventListener('load', triggerKenAPI, false);
}
else if (window.attachEvent) {
  window.attachEvent('onload', triggerKenAPI );
}*/
//triggerKenAPI();
}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-569ea19c64746d32ad00187f.js"}]}]}],"scope":{"URI":{"include":["store/checkout/confirmorder_sdd.jsp"]}},"event":"windowload"},
    {"name":"CAC-Rx-Upload-AB_testing","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.monetateQ = window.monetateQ || [];
window.monetateQ.push(["setPageType", "ContactLensRxUpload"]);
window.monetateQ.push(["trackData"]);

}]}],"scope":{"URI":{"include":[/rx_file_upload.jsp/i]}},"event":"pagebottom"},
    {"name":"CAC-package-tracking","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cstyle\u003e\n  .wag-pt-deliv-date-text,.icon-Calendar{\n  display:none;\n  }\n  \u003c/style\u003e\n\u003cscript\u003e\n $(\".wag-pt-deliv-date-text,.icon-Calendar\").hide(); \n  /*\nfunction pickDayVal(day, month, year) {\n       var pickMonth = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n       var weekDay = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n       return weekDay[new Date(year, parseInt(month), day).getDay()];\n   }\n\n   function pickMonthVal(month, len) {\n       var pickMonthValue = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n       if (len === \"short\") {\n           pickMonthValue = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n       }\n       return pickMonthValue[parseInt(month, 10)];\n   } */\nconsole.log(\"Date fix Loaded\");\n$(\".wag-pt-deliv-date-text\").hide();\nfunction estimateDate(){\n  console.log(\"Date fix init\");\n   var thisScope = '',productScope='';\n   $('#wag-cac-package-tracking-container').each(function () {\n       thisScope = $(this).scope();\n       console.log(thisScope.packagetrackingData);\n    /*   if (thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime) {\n           var pickDay = pickDayVal(thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.day, thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.month, thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.year);\n           var pickMonth = pickMonthVal(thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.month);\n           var pickShortMonth = pickMonthVal(thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.month, \"short\");\n           console.log(pickDay, pickMonth, pickShortMonth, thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.day);\n           $(\".wag-pt-deliv-date-text\").text(\"Expected Delivery: \" + pickDay + \",\" + pickMonth + \" \" + thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime.day)\n      \n       }*/\n      console.log(thisScope.packagetrackingData.trackResponse.trackSummary.trackingStatus,thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime);\n     if(thisScope.packagetrackingData.trackResponse.trackSummary.trackingStatus!='Delivered'\u0026\u0026 thisScope.packagetrackingData.trackResponse.trackSummary.estimatedDeliveryDateTime==undefined \u0026\u0026 thisScope.packagetrackingData.trackResponse.trackSummary.deliveryDate==undefined){\n       $(\".wag-pt-deliv-date-text,.icon-Calendar\").hide();\n        console.log(thisScope.packagetrackingData.trackResponse.trackSummary.trackingStatus);\n         \n     return false;\n     }\n     //always display this section\n    $(\".wag-pt-deliv-date-text,.icon-Calendar\").css(\"display\",\"table-cell\");\n  \n   });\n $('.wag-pt-product-img').each(function () {\n     productScope = $(this).scope();\n\t   productScope.$apply(function(){\n\t   productScope.products.qty = productScope.products.fulfillmentInfo.quantityShipped;\n\t   });\n });\n}\n\n  $(window).load(function() {\n    console.log(\"window onload\")\n // executes when complete page is fully loaded, including all frames, objects and images\nsetTimeout(estimateDate,3000);\n});\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/packagetracking.jsp/i]}},"event":"pagebottom"},
    {"name":"CAC_ApplePay_Button_Update","trigger":[{"command":"writeHTML","arguments":[{"html":"\n\u003cscript\u003e\n  setTimeout(function(){\n    if(IsNativeApp){\n  var element = document.querySelector('.wag-cac-main-container');\n    element.style.minHeight=\"1024px\";\n    element.style.overflowY=\"auto\";\n  }\n  },5000);\n\n\u003c/script\u003e\n\u003cstyle\u003e\n  @media (max-width: 767px) {\n    .container {\n        margin-bottom: 200px;\n    }\n}\n \n\u003c/style\u003e"}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"event":"pagebottom"},
    {"name":"CAC_ENABLETOKENIZATION","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n$.getScript('https://pie-production.walgreens.com/pie/v1/encryption.js');\n$.getScript('https://pie-production.walgreens.com/pie/v1/Walgreens/getkey.js');\n\u003c/script\u003e\n"}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"conditions":[function(event,target){
window.CAC_TOKENIZATION_ENABLE = window.CAC_TOKENIZATION_ENABLE || true;
return true;
}],"event":"pagetop"},
    {"name":"CAC_EnableElasticForStoreLocatorCart","scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/optimize_order_review.jsp/i,/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i,/\/youraccount\/autoreorder\/ss_schedule_order_manager.jsp/i]}},"conditions":[function(event,target){
window.enableElasticForStoreLocatorCart = window.enableElasticForStoreLocatorCart || true;
return true;
}],"event":"pagetop"},
    {"name":"CAC_HISTORY_ATG_TO_ACS","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5cf16e3264746d59b7002ad2.js"}]}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/orderstatus.jsp/i]}},"event":"pagetop"},
    {"name":"CAC_RxUpload_AppVersions","scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/optimize_order_review.jsp/i,/\/store\/checkout\/rx_file_upload.jsp/i,/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
window.rxIosAppVersion = '6.5';
window.rxAndroidAppVersion = '6.5.1';
return true;
}],"event":"pagetop"},
    {"name":"CAC_STS_STORELOCATOR_CONFIG","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5d34a5a964746d6b6700171f.js"}]}]}],"scope":{"URI":{"include":[/store\/checkout\/optimizedcheckout\/ship_address.jsp/i,/store\/checkout\/optimizedcheckout\/optimize_order_review.jsp/i]}},"event":"pagebottom"},
    {"name":"CS - Retrieve-Username (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar10":"retrieve username","prop15":"Password","pageName":"Retrieve Username | Walgreens ","channel":"password"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
console.log("rule loaded retrieve")
}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5407a2108b5bcb5247000192.js"}]}]}],"scope":{"URI":{"include":["/password/username_reset.jsp"]}},"event":"domready"},
    {"name":"CS-Add-Adult (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar65":"%CS_Loyality_evar65%","eVar9":"CS_rx_reg_authenticated_evar9","prop14":"Account","pageName":"Add Child | My Account | Walgreens","channel":"pharmacy"}]},{"engine":"sc","command":"addEvent","arguments":["event23"]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/addadult.jsp"]}},"event":"pagebottom"},
    {"name":"CS-AddressBook (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar45":"%BAS_ATGMember_ID_Global%"}]}],"scope":{"URI":{"include":[/\/manage_address.jsp/i]}},"event":"pagebottom"},
    {"name":"CS-BeautyUser-Detection store/c/beauty-products/ID=359434-tier1","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5d3f290664746d5a51000083.html","data":[]}]}]}],"scope":{"URI":{"include":["/store/c/beauty-products/ID=359434-tier1"]}},"event":"windowload"},
    {"name":"CS-ConsentConfirmation-PageLoad","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop30":"%CS-ConsentConfirmation-PageLoad-Prop30%"}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_confirmation.jsp/i,"/ShortURL/*"]}},"event":"pagetop"},
    {"name":"CS-MAA (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar68":"WG_GlobalHeader_Cntl","eVar9":"rx reg authenticated","prop14":"Account","channel":"pharmacy"}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/manageaccountaccess.jsp"]}},"event":"pagebottom"},
    {"name":"CS-dwar_offers","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-58cb5bec64746d431d00723e.js"}]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"event":"pagetop"},
    {"name":"CS_ATG_Loyalty_landing","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bd991b464746d01a1000999.js"}]}]}],"scope":{"URI":{"include":[/\/register\/loyalty_enroll.jsp/i,/\/register\/regpersonalinfo.jsp/i]}},"event":"windowload"},
    {"name":"CS_Add_Child (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"%CS_rx_reg_auth_evar9%","prop14":"Account","pageName":"Add Child | My Account | Walgreens","channel":"pharmacy"}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/addchild.jsp"]}},"event":"pagebottom"},
    {"name":"CS_BR_Settings","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-57ed51ab64746d0829003c92.js"}]}]}],"scope":{"URI":{"include":["/youraccount/loyalty/loyalty_rewards_settings.jsp"]}},"event":"windowload"},
    {"name":"CS_BeautyClub_Email_Optin","trigger":[{"engine":"sc","command":"addEvent","arguments":["event95"]}],"scope":{"URI":{"include":[/\/balancerewards\/questionnaire.jsp/i]}},"conditions":[function(event,target){
var fromBeautyOptin = false;
var bcReferrerURL = document.referrer;
if (bcReferrerURL && bcReferrerURL.indexOf("/balancerewards/beautyoptin.jsp") !== -1) {
	var bcEmailOptinSessionData = sessionStorage.getItem("bcOptinData");
	if (bcEmailOptinSessionData) {
		var optinResponse = JSON.parse(bcEmailOptinSessionData);
		if (optinResponse && optinResponse.messages && optinResponse.messages[0].code === "WAG_I_LOYALTY_1052") {
			fromBeautyOptin = true;
    }
	}
}
return fromBeautyOptin;
}],"event":"domready"},
    {"name":"CS_COMM_PREF (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"youraccount"}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bae409c64746d1629001579.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/communication_preferences.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_ChildSendInvite (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar68":"WG_GlobalHeader_Cntl","eVar9":"%BAS_Pharmacy_User_Global_Var9%","prop14":"Account","channel":"pharmacy"}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/child_send_invite.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Consent_Disclaimer_Redirection","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5e5d41b864746d1d5d00003f.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_DEFAULT_PAGE (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar65":"%CS_Loyality_evar65%","prop14":"Account","prop31":"IMP:Take full advantage of our prescription services","pageName":"Account Home | Walgreens","channel":"youraccount"}]}],"scope":{"URI":{"include":["/youraccount/default.jsp"]}},"event":"pagebottom"},
    {"name":"CS_DWAR_Monetate_tracking","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56abcee564746d73cc002556.js"}]}]}],"scope":{"URI":{"include":["login.jsp","offers.jsp"]}},"event":"windowload"},
    {"name":"CS_LoggedOut_3rdstate_Forsee","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5ae333b164746d79c1014fe8.js"}]}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"event":"windowload"},
    {"name":"CS_Login_perf_issue","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-598e21e864746d0ba501aeb4.js"}]}]}],"scope":{"URI":{"include":[/\/login.jsp/i]},"subdomains":{"include":[/www3/i]}},"event":"pagebottom"},
    {"name":"CS_Logout  (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar68":"WG_GlobalHeader_Cntl","prop13":"MobileLogout\u0026OrderConfirmationBanner_690x284B.jpg"}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56abe4a864746d0a7c001b7d.js"}]}]}],"scope":{"URI":{"include":["/logout.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Loyalty_Points_Earned","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5579ea6f3236330017980500.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/loyalty\/loyalty_points_earned.jsp/i]}},"event":"windowload"},
    {"name":"CS_Loyalty_landing","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a70619264746d406e000e81.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/loyalty\/loyalty_landing.jsp/i]}},"event":"windowload"},
    {"name":"CS_MANAGE_FAMILY (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar68":"WG_GlobalHeader_Cntl","eVar9":"%BAS_Pharmacy_User_Global_Var9%","prop14":"Account","channel":"pharmacy"}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/managefamilyaccounts.jsp"]}},"event":"pagebottom"},
    {"name":"CS_ManageAddress_Display","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
setTimeout(function() {
  if($(window).width() < 768) {
     $("#shipping-info").removeClass('collapse');
  }
}, 3000);
  
}]}],"scope":{"URI":{"include":["/youraccount/addressbook/manage_address.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Marketing_Tag_Email_signup","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-564f6d2c64746d35ef0004f5.js"}]}]}],"scope":{"URI":{"include":[/\/marketing\/emailsignup\/default.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CS_Marketing_Tag_For_BR","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5644689164746d41e00062a9.js"}]}]}],"scope":{"subdomains":{"exclude":[/n-www/i]}},"conditions":[function(event,target){
var triggerInHome = false;
if(window.location.pathname === "/balancerewards/balance-rewards.jsp"){
  triggerInHome = true;
}
return triggerInHome;
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CS_Marketing_Tag_For_BRDetials","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-564467d364746d41dd0069f0.js"}]}]}],"conditions":[function(event,target){
var triggerInHome = false;
if(window.location.pathname === "/topic/balancerewards/balance-program-details.jsp"){
  triggerInHome = true;
}
return triggerInHome;
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"CS_Marketing_Tag_offers","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-564f6eab64746d2b740001f9.js"}]}]}],"conditions":[function(event,target){
var triggerInHome = false;
if(window.location.pathname === "/offers/offers.jsp"){
  triggerInHome = true;
}
return triggerInHome;
}],"event":"windowload"},
    {"name":"CS_PERSONAL_INF (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar68":"WG_GlobalHeader_Cntl","eVar9":"%CS_rx_reg_auth_evar9%","channel":"youraccount"}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5644622a64746d10c1007c3a.js"}]}]}],"scope":{"URI":{"include":["/youraccount/personal_information.jsp"]}},"event":"windowload"},
    {"name":"CS_PasswordReset (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"password"}]}],"scope":{"URI":{"include":[/\/password\/password_reset.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_ResetPassword (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"password"}]}],"scope":{"URI":{"include":[/\/password\/reset_password.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_RetiveUsernameConfimation (Copy) (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"password"}]}],"scope":{"URI":{"include":["/password/retrieve_username_confirmation.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Review_Confirmation (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop37":"Attach Existing Registration | Match Successful","pageName":"Create Your Account | Walgreens"}]},{"engine":"sc","command":"addEvent","arguments":["event23"]}],"scope":{"URI":{"include":["/register/reviewconfirmation.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Review_child  (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"CS_Header_Profile_Role ","prop14":"Account","pageName":"Review Pet | My Account | Walgreens","channel":"pharmacy"}]},{"engine":"sc","command":"addEvent","arguments":["event23"]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/addadult.jsp/review_child.jsp"]}},"event":"pagebottom"},
    {"name":"CS_Rx_reg_Load  (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"Check out","channel":"register"}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59a5722564746d6e40006a44.js"}]}]}],"scope":{"URI":{"include":["/register/pharmacyRegistration.jsp"]}},"event":"windowload"},
    {"name":"CS_Send (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"password"}]}],"scope":{"URI":{"include":[/\/password\/send.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_Terms_Conditions_Redirect","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5e41c07164746d46ea0007ad.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/terms_conditions.jsp/i]}},"event":"pagebottom"},
    {"name":"CS_UsernameReset (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"channel":"password"}]}],"scope":{"URI":{"include":["/password/username_reset.jsp"]}},"event":"pagebottom"},
    {"name":"CS_personalinfo_bug_fix","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$("#matchedUserText").css("display", "none");
}]}],"scope":{"URI":{"include":[/\/youraccount\/personal_information.jsp/i]}},"event":"windowload"},
    {"name":"CS_store_verification","scope":{"URI":{"include":[/\/store_verification.jsp/i]}},"event":"pagetop"},
    {"name":"Cs_Review_confirmation_single (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"%BAS_Pharmacy_User_Global_Var9%","prop37":"New Loyalty Registration | Existing Records Found","pageName":"Create Your Account | Walgreens","channel":"register"}]},{"engine":"sc","command":"addEvent","arguments":["event23"]}],"scope":{"URI":{"include":["/register/reviewconfirmation_single_match.jsp"]}},"event":"pagebottom"},
    {"name":"DCH-APPT-Overlay","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var hpparams = location.search;
if( hpparams.indexOf('o=acs') !== -1 ){
  $('head').append('<style>.modal-popup-fullpage{ display:block; }</style>');
}
setTimeout(function(){
  var elem = document.querySelectorAll('.wag-body-container-wrapper .clearfix');
  if(elem){
    for(var i = 0; i < elem.length; i++){
      elem[i].style.clear = 'both';
    }
  }
  var barElem = document.querySelector('.wag-sticky-bar');
  if(barElem){
    barElem.style.zIndex = 9999;
  }
  
  var introElem = document.querySelector('.wag-intro-copy-text');
  if(introElem){
    introElem.style.clear = 'both';
  }
}, 800);
}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i,/\/pharmacy\/manage-appointments.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH-Appointment_HCC","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
//$('head').append('<style>.wag-bg-tint-blue > .timeSlotList{ display:none; }</style>');
window.selectedStore = {city:'',state:'',street:'',zip:''};
if(typeof providenceFlow === 'undefined'){
  providenceFlow = '';
}
 if($("a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']")){ 
     		var auroraPartnerLink = $("a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']");
     		$(auroraPartnerLink).attr('id','auroraPartner')
				$("#auroraPartner").attr({'ng-href':'https://aurorahealthcare.org/services/primary-care/quickcare/','href':'https://aurorahealthcare.org/services/primary-care/quickcare/'})	
     }
  
   if($("a[ng-href = 'https://ahc.aurorahealthcare.org/services/quickcare/']")){
       var auroraPartnerLink1 = $("a[ng-href = 'https://ahc.aurorahealthcare.org/services/quickcare/']");
     		$(auroraPartnerLink1).attr('data-tracklink','true');
				$(auroraPartnerLink1).attr('data-trackval','Aurora QuickCare Clinic | Exit to Partner | Select Clinic | Clinic | Schedule');
       $(auroraPartnerLink1).attr('id','auroraPartner');
     }

/*Map aria-hidden"*/

var myMap_Appointment = setInterval(myAppMapCheckTimer, 1000);

function myAppMapCheckTimer() {
    if( $('#map').length )
   {
   $("#map"). removeAttr("aria-label");
   $('#map').attr("aria-hidden", "true");
  console.log("inside the aria-hidden");
  clearInterval(myMap_Appointment);
   }
}
 
}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    $(document).ready(function(){\n       window.selectedStore = {city:'',state:'',street:'',zip:''};\n     //$('head').append('\u003cstyle\u003e.wag-bg-tint-blue \u003e .timeSlotList{ display:none; }\u003c/style\u003e'); \n      if(typeof providenceFlow === 'undefined'){\n        providenceFlow = '';\n      }\n    if($(\"a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']\")){ \n     \t\tvar auroraPartnerLink = $(\"a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']\");\n     \t\t$(auroraPartnerLink).attr('id','auroraPartner')\n\t\t\t\t$(\"#auroraPartner\").attr({'ng-href':'https://aurorahealthcare.org/services/primary-care/quickcare/','href':'https://aurorahealthcare.org/services/primary-care/quickcare/'})\t\n     }\n     if($(\"a[ng-href = 'https://ahc.aurorahealthcare.org/services/quickcare/']\")){\n       var auroraPartnerLink1 = $(\"a[ng-href = 'https://ahc.aurorahealthcare.org/services/quickcare/']\");\n     \t\t$(auroraPartnerLink1).attr('data-tracklink','true');\n\t\t\t\t$(auroraPartnerLink1).attr('data-trackval','Aurora QuickCare Clinic | Exit to Partner | Select Clinic | Clinic | Schedule');\n       $(auroraPartnerLink1).attr('id','auroraPartner');\n     } \n        \n\n   });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i,/\/pharmacy\/schedule-appointment.jsp?frm=clinic#\/storeinfo/i,/\/pharmacy\/schedule-appointment.jsp?frm=pharmacy#\/location/i,/\/pharmacy\/schedule-appointment.jsp?frm=pharmacy#\/storeinfo/i,/\/pharmacy\/schedule-appointment.jsp?frm=clinic#\/timeslot/i,/\/pharmacy\/schedule-appointment.jsp?frm=clinic#\/reasonForVisit/i]}},"event":"pagebottom"},
    {"name":"DCH-BRredemptionflag","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  var brRedemptionFlag = true;\n\u003c/script\u003e\n\u003cstyle\u003e\n  #pointsExpiry{display: none;}\n  #rewardPointText{display: none;}\n\u003c/style\u003e"}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i,/\/steps\/brhc-loggedin.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH-Recommendation-Link-Remove","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var recomInterval;
var primeCmpInterval;
recomInterval = setInterval(removeRecomLink, 200);
primeCmpInterval = setInterval(addPrimeCmpCss, 200);
function removeRecomLink(){
  if( $('#uceHealthInsightAlerts .flickity-slider') ){
		$('#4400020 .uch-actionCTALink').addClass('hide');
		clearInterval(recomInterval);
  }
}

function addPrimeCmpCss(){
  let isPrimeCmp = document.querySelector('.prime-component .wag-tile-content .wag-hn-lt-75bold');
  if( isPrimeCmp ){
    isPrimeCmp.classList.add('font__twenty-eight');
    if( document.querySelector('.prime-component .VIPPRIBCBSFLMDBQ4') ){
      document.querySelector('.prime-component .VIPPRIBCBSFLMDBQ4').style.width = '100%';
    }
		clearInterval(primeCmpInterval);
  }
}

setTimeout(function(){
	clearInterval(recomInterval);
  clearInterval(primeCmpInterval);
}, 8000);

}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH-SF-Cookie","trigger":[{"command":"writeHTML","arguments":[{"html":"\t\u003cscript type=\"text/javascript\"\u003e\n\tvar windowCookiePath = document.location.href;\n\tvar  pageViewCount = '';\n\t var cookieName = '';\n\tvar myscript = document.createElement('script');\n\t\n\tif (windowCookiePath.indexOf(\"/www.walgreens.com/pharmacy\")!= -1) {\n\t\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\t\t\n\t} else if((windowCookiePath.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1)){\n\t\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\t\n\t} else {\n\t\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\n\t}\n\tdocument.head.appendChild(myscript);\n\t\u003c/script\u003e\n    \u003cscript type=\"text/javascript\"\u003e\n\t\tvar urlFinder = windowCookiePath.toLowerCase();\n\t\t if (urlFinder.indexOf(\"/pharmacy/immunization/immunization_index.jsp\")!= -1){ \n\t\t\t   cookieName = 'immunizationCookie';\n\t\t\t   pageViewCount = 'immunizationIndexPageViews';\n\t\t } /*else  if (urlFinder.indexOf(\"/pharmacy/nebulizer-services.jsp\")!= -1){ \n\t\t\t   cookieName = 'nebulizerCookie';\n\t\t\t   pageViewCount = 'nebulizerServicesPageViews';\n\t\t } else  if (urlFinder.indexOf(\"/pharmacy/hiv-pharmacy-services.jsp\")!= -1){ \n\t\t\t   cookieName = 'hivCookie';\n\t\t\t   pageViewCount = 'hivPageViews';\n\t\t }  */\t\n\t\tconsole.log(\"cookieName==\"+cookieName)\n\t\tconsole.log(\"pageViewCount==\"+pageViewCount)\n        //name of the cookie used for storing the page view count\n     \n\n        window.onload = function()\n        {\n            //this method will fetch or create a cookie and assign or update its count value\n            fetchandUpdateCookie();\n\n            //this method will fetch the current count value\n            var pageViewCnt = getCurrentCount();\n            //alert(cookieName + ':    ' + pageViewCnt );\n\n            //this variable name will be used inside chat button sending rule\n            liveagent.setCustomVariable(pageViewCount, pageViewCnt);\n        }\n\n        function fetchandUpdateCookie()\n        {\n            if (document.cookie)\n            {\n                //checking if cookie is present for the webpage\n                index = document.cookie.indexOf(cookieName);\n            }\n            else\n            {\n                index = -1;\n            }\n\n            //coockie not found, hence create one with same name and assign count as 1\n            if (index == -1)\n            {\n                document.cookie = cookieName + \"=1;\";\n            }\n            //cookie found, get the count value and add +1 to it.\n            else\n            {\n                countbegin = (document.cookie.indexOf(\"=\", index) + 1);\n                countend = document.cookie.indexOf(\";\", index);\n                if (countend == -1)\n                {\n                    countend = document.cookie.length;\n                }\n                //increamenting the count by 1\n                count = eval(document.cookie.substring(countbegin, countend)) + 1;\n\n                document.cookie= cookieName + \"=\" + count + \";\";\n            }\n        }\n\n        function getCurrentCount()\n        {\n            count=0;\n            if(document.cookie)\n            {\n                //getting the index to fetch the cookie\n                index = document.cookie.indexOf(cookieName);\n                if (index != -1)\n                {\n                    countbegin = (document.cookie.indexOf(\"=\", index) + 1);\n                    countend = document.cookie.indexOf(\";\", index);\n                    if (countend == -1)\n                    {\n                        countend = document.cookie.length;\n                    }\n                    count = document.cookie.substring(countbegin, countend);\n                }\n            }\n            return(count);\n        }\n    \u003c/script\u003e\n"}]}],"scope":{"URI":{"include":[/\/pharmacy\/immunization\/immunization_index.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH-cc-dexcom","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n$(document).ready(function(){\n  $('.cctabs li').eq(1).hide();\n})\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/pharmacy\/connected-care.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_BRHC_title_change","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
if(document.getElementById("isNative")){
	if((document.getElementById("isNative").innerHTML === "true") || (document.getElementById("isNative").innerHTML === true)){
    if(document.getElementsByClassName("link__cta link-color")){
      document.getElementsByClassName("link__cta link-color")[0].style.display="none";      
    }		
	}
}

if(window.deviceType){
  if((window.deviceType === "mobile-app") || (window.deviceType === "tablet-app")){    
    if(document.getElementById("liveagent_button_online")){
      document.getElementById("liveagent_button_online").style.display="none";
    }		
  }
}

}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n  $(document).ready(function(){\n  \tif(window.location.href.indexOf(\"brhc-loggedout\") \u003e -1) {\n      document.title = \"Balance Rewards for healthy choices® | LoggedOut | Walgreens\"\n    }else if (window.location.href.indexOf(\"brhc-loggedin\") \u003e -1){\n       document.title = \"Balance Rewards for healthy choices® | LoggedIn | Walgreens\"\n    }\n  });  \n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/steps\/brhc-loggedin.jsp/i,/\/steps\/brhc-loggedout.jsp/i,/\/brhc\/steps\/brhc-loggedin.jsp?o=acs/i,/\/steps\/brhc-history?o=acs/i,/\/steps\/brhc-history/i,/\/steps\/brhc-loggedin.jsp?o=acs/i]}},"event":"pagetop"},
    {"name":"DCH_Connectedcare","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.eVar162 = "";
window.s.linkTrackVars = 'eVar162';
window.s.eVar162 = "CC_Propeller_Landing"
}]}],"scope":{"URI":{"include":[/\/healthstream\/services.jsp/i,/\/pharmacy\/care-connect\/propeller-start.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_GIC_interstitial_DisclaimerChange","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var copydata = document.getElementsByClassName('overlay-disclaimer')[0];
copydata.innerText ="Walgreen Co. is not responsible for the content provided by this third party and disclaims liability for any content, advice, or services provided by the third party. Any information you provide to such third-party site will be collected by the third party and not by Walgreens, and will be subject to that party's privacy and security policies. Information is not intended to replace a conversation with your healthcare provider or Walgreens pharmacist."

}]}],"scope":{"URI":{"include":[/\/gic\/promotion\/your-humana-offers.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_Genesys_Switch","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.genesysSwitch = true;
setTimeout(function(){ 
  console.log("Hello Geneys chat");
  if(document.getElementById("liveagent_button_online") !== null){
  document.getElementById("liveagent_button_online").style.display = "none";
  }
}, 3000);

}]}],"event":"pagebottom"},
    {"name":"DCH_Hide_NRT_chat_sections","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    $(document).ready(function() {\n        if ($('.wag-top-menublock').is(\":visible\")) {\n            $('button[title=\"Chat now\"]').css('display', 'none');         \n            console.log('chat new one disabled');\n            setTimeout(function() {\n                $('.video_chat_url').hide();\n                $('.wag-pair-button-group-or').hide();\n                $('#findstore_clinic').hide();\n            }, 1000);\n        }\n    });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/quit_smoking_tobacco\/quit_smoking_report.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_Hide_chat_Tile","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n $(document).ready(function(){\n  setTimeout(function(){ \n    var hideTile = $(\"#employeeActionsCB\").find(\"h3\").text();\n    if (hideTile === \"Pharmacy Action Card\"){\n        $('#employeeActionsCB').hide();\n    }\n }, 3500);\n  });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_Scheduler_Temp_fix","trigger":[{"command":"writeHTML","arguments":[{"html":" \u003cscript\u003e\n    $(document).ready(function(){\n    console.log('date-format');\n    $('#wag-patient-ph-number').attr('maxlength','12');\n    $(\"#wag-patient-ph-number\").attr('placeholder','123-456-7890');   \n    });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp?frm=pharmacy#\/patientInfo/i]}},"event":"domready"},
    {"name":"DCH_T\u0026T_metatag","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(document).ready(function() {
	$("head").append('<meta name="robots" content="noindex">');
});
}]}],"scope":{"URI":{"include":[/\/pharmacy\/home-lab-services.jsp/i,/\/pharmacy\/connected-care.jsp/i]}},"event":"pagetop"},
    {"name":"DCH_UCE_Dashboard","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar112';
if(window.location.href.indexOf('dashboard.jsp')=== -1){
window.s.eVar112 = "MyAccount_Control";
}else{
	window.s.eVar112 = "MyAccount_Test";
}
}]}],"scope":{"URI":{"include":[/\/youraccount\/dashboard.jsp/i,/\/youraccount\/default.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_epic_calendar_mobile","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n$(document).ready(function(){\nvar windowWidth = window.innerWidth;\nvar isMobileDevice = (windowWidth \u003c 768 || IsNativeApp == 'true') ? true : false;\n  if(window.location.href.indexOf('schedule-appointment') \u003e -1){\n    if(!isMobileDevice){\n      $(document).on(\"tap touchstart touchend\", function(event){\n        $('.datepicker').css({'display':'block'})\n      });\n    }\n  }\n})\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i]}},"event":"pagebottom"},
    {"name":"DCH_partner_Aurora","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n   $(document).ready(function(){\n     console.log('aurora dtm');\n      if($(\"#myPartnerLabelOverlay\").css('display','block')){if($(\"a[ng-show = 'auroraPartnerCode']\")){\n        $(\"a[ng-show = 'auroraPartnerCode']\").attr(\"href\",function(){return this.href + '/';});\n      }}\n \n       \n     if($(\"a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']\")){ \n       console.log('Aurora Omniture');\n     \tvar auroraPartnerLink = $(\"a[ng-href = 'https://aurorahealthcare.org/services/quickcare/']\");\n     \t$(auroraPartnerLink).attr('data-tracklink','true');\n\t\t$(auroraPartnerLink).attr('data-trackval','Aurora QuickCare Clinic | Exit to Partner | Select Clinic | Clinic | Schedule');\n     }\n      });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp?frm=clinic/i]}},"event":"windowload"},
    {"name":"DCH_pharmacy-60secs-chat","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n    if (DTM_sales_force_rx_enabled !== undefined \u0026\u0026 DTM_sales_force_rx_enabled) {\n        var windowInvPath = document.location.href;\n        var chatInvID;\n        var salesForceChatJsUrl;\n        var sfliveagent_script = document.createElement('script');\n\n        if (windowInvPath.indexOf(\"/www.walgreens.com/pharmacy\") != -1) {\n            salesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/35.0/deployment.js\";\n            chatInvID = \"57360000000GnKw\";\n        } else if ((windowInvPath.indexOf(\"/m-qa2.walgreens.com/pharmacy\") != -1) || (windowInvPath.indexOf(\"/n-qa2.walgreens.com/pharmacy\") != -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\") != -1) || (windowInvPath.indexOf(\"/n-www3.walgreens.com/pharmacy\") != -1)) {\n            chatInvID = \"573J0000000Cafm\";\n            salesForceChatJsUrl = \"https://c.la6cs.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n        } else {\n            chatInvID = \"57311000000CbYH\";\n            salesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/37.0/deployment.js\";\n        }\n\n        /* window.onload = function()\n\t{\n      liveagent.setCustomVariable('invited', 'no');\n\t}*/\n\n        function initiateImmChat() {\n            console.log(\"Log:: Setting invited to yes\");\n            liveagent.setCustomVariable('invited', 'yes');\n            liveagent.startChat(chatInvID);\n        }\n        /*\tfunction reloadInvIFrame() { \n        \t\tvar iFrame=document.createElement('iframe'); \n        \t\tiFrame.id=\"idFrameInv\"; \n        \t\tvar no = Date(); \n        \t\tiFrame.src = 'https://chatqa-wagcco.cs18.force.com/Site1/LiveAgentChatQueue?btn_id='+chatInvID+'\u0026no=' + no;\t\n        \t\tiFrame.style.display=\"none\";\n        \t\tdocument.body.appendChild(iFrame);\n        \t}*/\n\n        function loadInvitationCode() {\n            liveagent.setCustomVariable('invited', 'no');            \n            var saleforceChatHTML = '';\n            saleforceChatHTML += '\u003cdiv aria-label=\"Chat with a pharmacist modal is opened\" aria-labelledby=\"ImmHivNebchatmodaloverlay\" aria-hidden=\"true\"  id=\"liveagent_invite_button_' + chatInvID + '\" style=\"display:none;width:500px;height:500px;\" class=\"hidden-xs\"\u003e';\n            saleforceChatHTML += '\u003cdiv style=\"width:80%;height:80%;margin:auto;\" id=\"ImmHivNebchatmodaloverlay\"\u003e\u003cspan class=\"sr-only\"\u003e Beginning of dialog content \u003c/span\u003e';\n            saleforceChatHTML += '\u003ctable style=\"width:100%;border:1px solid #A4A4A4;border-radius: 9px;padding:10px;background:#FFF;\"\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:right;\" class=\"wag-alerts\"\u003eNo Thanks \u003ca href=\"javascript:void(0)\" type=\"button\" aria-label=\"Close\" class=\"close\" value=\"X\" onclick=\"liveagent.rejectChat(\\'' + chatInvID + '\\')\"\u003e' + '\u003ci class=\"icon-XPlain\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 10px 10px 25px;\"\u003e\u003cimg src=\"/images/adaptive/pharmacy/chat/ChatBannerImage.jpg\" alt=\"Pharmacy Chat\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 25px 10px 25px;\"\u003e\u003chr/\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:center;padding:10px;line-height: 250%;\"\u003e\u003ch1 style=\"color:#A4A4A4;\"\u003e\u003cfont size =\"4\"\u003eWould you like to chat with a Pharmacy Professional?\u003c/font\u003e\u003c/h1\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e';\n            saleforceChatHTML += '\u003cinput type=\"button\" value=\"Yes\" class=\"wag-btn-blue-secondary-sm\"  onclick=\"initiateImmChat()\" style=\"background:#236ea1;color:#FFF;padding:5px;width:80px;height:40px;border:none;\" /\u003e';\n            saleforceChatHTML += '\u003c/td\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e\u003ca  href=\"javascript:void(0)\" onclick=\"liveagent.rejectChat(\\'' + chatInvID + '\\')\" style=\"color:#236ea1;font-weight:bold;cursor:pointer;\"\u003e No Thanks \u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" height=\"30\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n            saleforceChatHTML += '\u003c/table\u003e\u003cspan class=\"sr-only\"\u003e End of dialog content \u003c/span\u003e\u003c/div\u003e';\n            saleforceChatHTML += '\u003c/div\u003e';\n            $('body').append(saleforceChatHTML);\n\n            // reloadInvIFrame();\n        }\n\n        /*var eventInvMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n    var eventerInv = window[eventInvMethod];\n    var messageInvEvent = eventInvMethod == \"attachEvent\" ? \"onmessage\" : \"message\"; \n    eventerInv(messageInvEvent, function(e) {\t\n\t\tif(e.data == chatInvID+'_queue_full') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"none\";\n\t\t} else if(e.data == chatInvID+'_queue_empty') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"block\";\n\t\t}\t\t\n\t}, false);*/\n\n        if (window.attachEvent) {\n            window.attachEvent('onload', loadInvitationCode);\n        } else {\n            window.addEventListener('load', loadInvitationCode, false);\n        }\n    }\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":["/pharmacy/immunization/immunization_index.jsp"]}},"event":"pagebottom"},
    {"name":"DCH_pharmacy-thernos-redirect","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  window.location = '/request_error.jsp';\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/lab-testing\/home.jsp/i]}},"event":"pagetop"},
    {"name":"DCH_rxAccess_redirect","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
setTimeout(function() {
      var rxAccessTxt = $('.wag-rxTile-container').find('button.wag-btn-primary').attr('title');
  var rxAccessStr = (rxAccessTxt.length !== 0)?rxAccessTxt.replace(/ +/g, "").toLowerCase():rxAccessTxt;
      if(rxAccessStr == 'addpharmacyaccess'){
         $('.wag-rxTile-container').find('button.wag-btn-primary').html('Pharmacy Access').attr('id','rxAccess')
      }
      $('#rxAccess').click(function(){
         if(window.header){
            var jsonObj=window.header.profileInd;
            /*If rx user & not authenticated*/
            if(jsonObj.isRxUser&&jsonObj.isRxAuthenticatedUser){ 
               window.location.href="/pharmacy/refillhub/refillhub.jsp";
            }
         }
      });
      
    }, 500);
}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    $(document).ready(function() {\n        setTimeout(function() {\n            var rxAccessHeader = $(\"p.wag-head-text1\").text();\n            if (rxAccessHeader == \"Add Pharmacy Access to Your Account\") {\n                $('.wag-rxTile-container').find('p.wag-head-text1').html('Pharmacy Access to Your Account').attr('id', 'rxAccessHeader')\n            }\n            var rxAccessTxt = $('.wag-rxTile-container').find('button.wag-btn-primary').attr('title').toLowerCase();\n            var rxAccessStr = rxAccessTxt.replace(/ +/g, \"\");\n            if (rxAccessStr == 'addpharmacyaccess') {\n                $('.wag-rxTile-container').find('button.wag-btn-primary').html('Pharmacy Access').attr('id', 'rxAccess')\n            }\n\n\n            $('#rxAccess').click(function() {\n                if (window.header) {\n                    var jsonObj = window.header.profileInd;\n                    /*If rx user \u0026 not authenticated*/\n                    if (jsonObj.isRxUser) {\n                        window.location.href = \"/pharmacy/refillhub/refillhub.jsp\";\n                    }\n                }\n            });\n\n        }, 500);\n    });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"domready"},
    {"name":"DCS-Health-Answers-PageLoad","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"pharmacy"}]}],"scope":{"URI":{"include":["/health/"]}},"event":"pagebottom"},
    {"name":"DCS_Appointment_Confirmation (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop18":"PHARMACY"}]},{"engine":"sc","command":"addEvent","arguments":["event49"]}],"scope":{"URI":{"include":["/pharmacy/enterprisescheduler/enterprise_scheduler_appointment_confirmation.jsp"]}},"event":"pagebottom"},
    {"name":"DHC_Chat_Fix","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){

var SaleschatButton = setInterval(function(){ 
  if(document.getElementById('liveagent_enabled_button')){
  let chatBtn = document.getElementById('liveagent_enabled_button');
  chatBtn.addEventListener("click", function(){
    console.log("inside  chat button click");
   liveagent.startChat(document.getElementById('chatButtonId').innerHTML);
    	   });
    clearInterval(SaleschatButton);
  }
  
}, 500);
}]}],"scope":{"URI":{"include":[/\/rx-utility\/pharmacychat/i]}},"event":"pagebottom"},
    {"name":"DHC_Chat_Fix_Pages","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var SaleschatButton = setInterval(function(){ 
  if(document.getElementById('liveagent_enabled_button')){
  document.getElementById('chatIconPos').innerHTML='';
document.getElementById('chatIconPos').innerHTML='<div id="liveagent_button_online" class="liveagent_button_online hidden-xs" style="top: 50%;display:none"><a href="#!"  id="salesChatIcon"><img id="liveagent_enabled_button" src="https://www.walgreens.com/images/adaptive/lp/Circle-Chat-MAIN.png" style="cursor: pointer" alt="Live agent chat - enabled"></a><a href="#!" style="display:none;"><img id="liveagent_disabled_button" src="https://www.walgreens.com/images/adaptive/lp/Circle-Chat-MAIN.png" alt="Live agent chat - disabled"></a></div>';
document.getElementById("liveagent_enabled_button").addEventListener("click", function(){   console.log("test"); 	initiateChatIcon()   		});
    clearInterval(SaleschatButton);
  }
  
}, 500);
}]}],"scope":{"URI":{"include":[/\/rx-psm\/psmHome/i,/\/rx-utility\/patient-consent/i,/\/rx-druginfo\/pharmacy\/finddrug\/druginfosearch/i,/\/rx-druginfo\/pharmacy\/finddrug\/druginfobrowseresults/i,/\/rx-druginfo\/pharmacy\/finddrug\/druginfodrugdetails/i,/\/rx-druginfo\/pharmacy\/finddrug\/searchresultsdrug/i]}},"event":"pagebottom"},
    {"name":"DHH-tmBenefits","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(document).ready(function(){
setTimeout(function(){
    if(document.getElementById('prescriptionBox') !== null){
    document.getElementById('prescriptionBox').parentNode.classList.add('common-fix');
}
},600);
})
}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n$(document).ready(function(){\nsetTimeout(function(){\n    if(document.getElementById('prescriptionBox') !== null){\n    document.getElementById('prescriptionBox').parentNode.classList.add('common-fix');\n}\n},600);\n})\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/tmbenefits\/pharmacy\/365-get-healthy-here\/tobacco-free.jsp/i]}},"event":"domready"},
    {"name":"DHSWAT-Aap-Question","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/pharmacy/library/ask/aapquestion.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Aap-Thanks","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/pharmacy/library/ask/aapthanks.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Faqlanding","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/faqhome/faqlanding.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Faqquestion-answers","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/faq/questionandanswer.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Fertility-Services","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/fertility-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-First-Order","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/first-order-review.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-GSK-Load","trigger":[{"engine":"sc","command":"addEvent","arguments":["event3:RX Order"]}],"scope":{"URI":{"include":["/pharmacy/thirdpartyrefill/third_party_refill_pres_info.jsp?key=bridges"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail-service-pharmacy.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-HPC","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail_service_pharmacy_HPC001.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-MDP","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail_service_pharmacy_MDP008.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-MPS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail-service-pharmacy-MPS001.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-PMS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail-service-pharmacy-PMS001.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-REGENCE","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail_service_pharmacy_Regence.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-WTC","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail_service_pharmacy_WTC001.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Mail-Service-Welcome-email","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/s/mail-service-pharmacy-welcomemail.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-basic -info","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/basics-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-donuthhole","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/donuthole-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-findaplan","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/findaplan-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-gmeter","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartb/gmeter-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-services-info","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/services-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Medicare-understanding-medicareD","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/understanding-medicare-part-d-easier.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Our-Support","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/our-support-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-RXListPPP","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar9":"%BAS_Pharmacy_User_Global_Var9%"}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"event":"pagebottom"},
    {"name":"DHSWAT-RXpreviousProviderPrescriptionAuthentication","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar9":"%BAS_Pharmacy_User_Global_Var9%"}]}],"scope":{"URI":{"include":["pharmacy/refillhub/buyout_prescription_authentication.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-RXpreviousprescriptionsprovider","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar9":"%BAS_Pharmacy_User_Global_Var9%"}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/transferprescription.jsp/i]}},"event":"pagebottom"},
    {"name":"DHSWAT-Rxreport","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"rx reg authenticated"}]},{"engine":"sc","command":"addEvent","arguments":["event22"]}],"scope":{"URI":{"include":["/pharmacy/report/rxreport.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT-Srxfaq","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/specialty-pharmacy/srxfaq.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Active_PSC_Questions_Page","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/psc/psc_questions_page.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_DrugPlan_Report","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd/drug_plan_report.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_FindMedWithoutPardD","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicare/findaplan-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Hepatities","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/hepatitis-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_MedicareInformation","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medicarepartd-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_MedicarePartBInformation","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/pharmacy/medicarepartb-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Nebulizer","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/nebulizer-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Pharmacylob_service","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/services.jsp "]}},"event":"pagebottom"},
    {"name":"DHSWAT_Prescription_free_shipping","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/prescription-free-shipping.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Reform_insurance","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/reform-insurance.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Reform_insurance_faq","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/reform-insurance/faqs.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Renewal_checkout_cart","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"shopping cart","prop37":"loyalty sign up banner shown | shopping cart"}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_ResourceInformation","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/pharmacy/medicarepartd/resources-info.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Thirty_Seconds_Refill","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop27":"Minimal click: store location go to full hub"}]}],"scope":{"URI":{"include":["/pharmacy/adaptive/default.jsp?fromPage=refillFast\u0026refillFastAdaptive=adaptive"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Thirty_Seconds_Refill_wthout_adaptive","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop27":"Minimal click: store location go to full hub"}]}],"scope":{"URI":{"include":["/pharmacy/default.jsp?fromPage=refillFast\u0026tab=Pharmacy"]}},"event":"pagebottom"},
    {"name":"DHSWAT_Thirty_seconds_refill_fast_overlay","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop27":"Minimal click: store location go to full hub"}]}],"scope":{"URI":{"include":["/pharmacy/refillfast/refillfast.jsp?fromPage=refillFast\u0026overlay=true"]}},"event":"pagebottom"},
    {"name":"DHSWAT_compounding","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/compounding.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_hiv-pharmacy-services","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"27923_LeftRail_PrintRx_218x170.jpg","prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_hiv-pharmacy-services_financial_assistance","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"27923_LeftRail_PrintRx_218x170.jpg","prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services/financial-assistance.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_hiv-pharmacy-services_hiv_pharmacy","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"27923_LeftRail_PrintRx_218x170.jpg","prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services/hiv-pharmacy.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_hiv-pharmacy-services_more_patient_service","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"27923_LeftRail_PrintRx_218x170.jpg","prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/hiv-pharmacy-services/more-patient-services.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_medical_flouring","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"DMI"}]}],"scope":{"URI":{"include":["/topic/pharmacy/medication-flavoring.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_pharmacy_hiv-pharmacy-services","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"27923_LeftRail_PrintRx_218x170.jpg"}]}],"scope":{"URI":{"include":["/pharmacy/hiv-pharmacy-services.jsp "]}},"event":"pagebottom"},
    {"name":"DHSWAT_register_health_history","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"Account"}]}],"scope":{"URI":{"include":["/pharmacy/register/reghealthhistory.jsp?loc=health_history.jsp"]}},"event":"pagebottom"},
    {"name":"DHSWAT_show_health_history","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"Account"}]}],"scope":{"URI":{"include":["/youraccount/default.jsp?lgsuclty=Y\u0026_requestid=166973#show_health_history"]}},"event":"pagebottom"},
    {"name":"DHSWAT_youraccount_healthhistory","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar9":"%BAS_Pharmacy_User_Global_Var9%","prop14":"Account"}]}],"scope":{"URI":{"include":["/youraccount/health_history.jsp","/youraccount/default.jsp#show_health_history"]}},"event":"pagebottom"},
    {"name":"DPC-SF-cookie-PSCProduct","trigger":[{"command":"writeHTML","arguments":[{"html":"    \n\t\u003cscript type=\"text/javascript\"\u003e\n\tvar windowCookiePath = document.location.href;\n\tvar salesForceChatJsUrl;\n   \n\tvar myscript = document.createElement('script');\n\tif (windowCookiePath.indexOf(\"/www.walgreens.com/pharmacy\")!= -1) {\n\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\n  console.log(\"deployment js www\");\n\tdocument.head.appendChild(myscript);\n\t} else if((windowCookiePath.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1)){\n\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\n\tdocument.head.appendChild(myscript);\n   console.log(\"deployment js m-qa2 / www3\");\n\t} else {\n\tmyscript.setAttribute('src','https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js');\n\tdocument.head.appendChild(myscript);\n\tconsole.log(\"deployment js m-int1\");\t\n\t}\n\t\u003c/script\u003e\n\t\n\t\u003cscript type=\"text/javascript\"\u003e\n\t\n        //name of the cookie used for storing the page view count\n        var cookieName = 'pscProdDetailsCookie';\n\n        window.onload = function()\n        {\n            //this method will fetch or create a cookie and assign or update its count value\n            fetchandUpdateCookie();\n\n            //this method will fetch the current count value\n            var pageViewCnt = getCurrentCount();\n            //alert(cookieName + ':    ' + pageViewCnt );\n          console.log(\"pscprod\",pageViewCnt);\n\n            //this variable name will be used inside chat button sending rule\n            liveagent.setCustomVariable('pscProdDetailsViewCount', pageViewCnt);\n        }\n\n        function fetchandUpdateCookie()\n        {\n            if (document.cookie)\n            {\n                //checking if cookie is present for the webpage\n                index = document.cookie.indexOf(cookieName);\n            }\n            else\n            {\n                index = -1;\n            }\n\n            //coockie not found, hence create one with same name and assign count as 1\n            if (index == -1)\n            {\n                document.cookie = cookieName + \"=1;\";\n            }\n            //cookie found, get the count value and add +1 to it.\n            else\n            {\n                countbegin = (document.cookie.indexOf(\"=\", index) + 1);\n                countend = document.cookie.indexOf(\";\", index);\n                if (countend == -1)\n                {\n                    countend = document.cookie.length;\n                }\n                //increamenting the count by 1\n                count = eval(document.cookie.substring(countbegin, countend)) + 1;\n\n                document.cookie= cookieName + \"=\" + count + \";\";\n            }\n        }\n\n        function getCurrentCount()\n        {\n            count=0;\n            if(document.cookie)\n            {\n                //getting the index to fetch the cookie\n                index = document.cookie.indexOf(cookieName);\n                if (index != -1)\n                {\n                    countbegin = (document.cookie.indexOf(\"=\", index) + 1);\n                    countend = document.cookie.indexOf(\";\", index);\n                    if (countend == -1)\n                    {\n                        countend = document.cookie.length;\n                    }\n                    count = document.cookie.substring(countbegin, countend);\n                }\n            }\n            return(count);\n        }\n    \u003c/script\u003e\n"}]}],"scope":{"URI":{"include":[/\/pharmacy\/psc\/enrollment\/psc_product_details.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC-SpaceAllowed_city","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(document).ready(function() {
    $("body").delegate("#city", "focus", function() {
        console.log("City fix");
        angular.element($("#city")).scope().stringPattern = /^[a-zA-Z ]+$/
    });
});
}]}],"scope":{"URI":{"include":[/\/pharmacy\/privacyComplaintForm\/privacyComplaintForm.jsp/i]}},"event":"domready"},
    {"name":"DPC_Drug_Info_Typeahead","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\t\tvar ServiceSwitch =true; //type-ahead service switch\n    var DrugInfoSearchServiceSwitch=true; //search button click in drug info\n  \tvar PlmServiceSwitch=true; //drug info plm\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/marketing\/library\/finddrug\/search\/search_results_drug.jsp/i,/\/pharmacy\/marketing\/library\/finddrug\/druginfosearch.jsp/i,/\/pharmacy\/marketing\/library\/finddrug\/druginfodrugdetails.jsp/i,/\/pharmacy\/marketing\/library\/finddrug\/druginfobrowseresults.jsp/i,/\/pharmacy\/order\/guesttransferprescription.jsp/i,/\/pharmacy\/register\/reghealthhistory.jsp/i,/\/pharmacy\/specialty-pharmacy\/cancer-treatment\/oral-chemo-drug-information.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_HideChat_MailService_Pharmacy","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    $(document).ready(function() {\n     \n      $(\"#liveagent_button_online\").hide();\n      $(\"#liveagent_enabled_button\").hide();\n    });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/mailservice\/mail_service_prime_sso.jsp/i,/\/topic\/s\/mail_service_pharmacy_primemail.jsp/i,/\/topic\/s\/mail-service-pharmacy.jsp/i,/\/pharmacy\/mailservice\/mail_service_pharmacy_loggedin.jsp/i,/\/topic\/s\/home-delivery-pharmacy.jsp/i,/\/topic\/s\/home-delivery-pharmacy.jsp/i,/\/home-delivery-pharmacy-logged-in.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_Hipaa_Disclaimer_Android","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var ua = navigator.userAgent.toLowerCase();
console.log(ua);
if(ua.match(/android/)){
  console.log("user agent is android");
    var cordovaExists = isScriptAlreadyIncluded('https://n-www.walgreens.com/share/jslib/cordova/cordova.android.3.6.4.js');
    console.log(cordovaExists);
if(cordovaExists != true)
	{
   var script = document.createElement("script");
   script.src = "https://n-www.walgreens.com/share/jslib/cordova/cordova.android.3.6.4.js"; 
   document.head.appendChild(script);
   console.log("cordova");
	}
}
function isScriptAlreadyIncluded(src){
    var scripts = document.getElementsByTagName("script");
    for(var i = 0; i < scripts.length; i++) 
       if(scripts[i].getAttribute('src') == src)
           {
               console.log('codrova exist');
                return true; 
           }
  return false;
}
}]}],"scope":{"URI":{"include":[/\/pharmacy\/hipaa\/hipaa_disclaimer.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_Medicare_Topic_Add_Satellite_File","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = 'https://www.walgreens.com/images/adaptive/walgreens/js/satelliteLib-24aa610962c8396e11fe6027b69f92e457d9e4fd.js';
document.head.appendChild(script);
}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicare-part-d-info.jsp?o=acs/i,"/topic/pharmacy/medicarepartd/enrollment-eligibility.jsp?o=acs"]}},"event":"pagebottom"},
    {"name":"DPC_PSC_Price_Hide","trigger":[{"command":"writeHTML","arguments":[{"html":" \u003cscript\u003e\n $(document).ready(function() {\n    $('.wag-psc-ovw-left-nav-search').hide();\n    $('.wag-psc-ovw-left-nav-price').first().hide();\n    $('p.wag-psc-ovw-pdf-img').first().hide();\n});\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/psc\/psc_overview_page.jsp/i,/\/topic\/pharmacy\/psc\/psc_questions_page.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_PscStore","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  $($(\"#descriptionContentPlaceHolder ul li\")[1]).hide()\n\u003c/script\u003e\n\u003cstyle\u003e\n  #descriptionContentPlaceHolder ul li:nth-child(2) {\n    display:none;\n}\n\u003c/style\u003e"}]}],"scope":{"URI":{"include":[/\/store\/c\/prescription-savings-club-individual-membership-card/i,/\/store\/c\/prescription-savings-club-family-membership-card/i]}},"event":"pagebottom"},
    {"name":"DPC_RxScanToRegister","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  \n var rxAuthenticationgABTestingDotcom = false;\n var rxAuthenticationgABTesting = false;\n\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/register\/nonlogged\/rx_scan_to_register_authentication.jsp/i]}},"event":"pagetop"},
    {"name":"DPC_WEPWED_EPP_Nov20","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){

var css = "body{background:#f4f0ee}.pr0{padding-right:0}.p0{padding:0}.p10{padding:10px}.m0{margin:0}.pb25{padding-bottom:25px}.pr5{padding-right:5px}.mt20{margin-top:20px}.mb10{margin-bottom:10px}.mt15{margin-top:15px}.mt25{margin-top:25px}.mb15{margin-bottom:15px}.mb5{margin-bottom:5px}.mb30{margin-bottom:30px}.pt3{padding-top:3px}.pt6{padding-top:6px}.pt16{padding-top:16px}.pt20{padding-top:20px}.pt10{padding-top:10px}.mt50{margin-top:50px}.mt5{margin-top:5px}.mt30{margin-top:30px}.clearfix{clear:both}.new-header-mob{position:relative;top:5px}.new-header-mob a:active,.new-header-mob a:hover{background:0 0;text-decoration:none}.conditions{font-family:HelveticaNeueLTW01-75Bold,Arial,Sans-Serif;font-size:15px;font-weight:700;line-height:20px;color:#236ea1}.wag-cus-continue{font-weight:700;font-size:1.2em}.buttonVerify{background:#02a0c0;background-color:#02a0c0;border-radius:2px;background-image:linear-gradient(to bottom,#2b7db6,#1b5f8d);box-shadow:1px 1px 2px 0 #b2b3b6;font-family:HelveticaNeueLTW01-75Bold,Arial,Sans-Serif;font-size:1.2em;font-weight:700;color:#fff}.wag-cus-continue-text{font-weight:700}.prescription-container .continue-btn{min-width:150px}.datetimepicker-txt-err{border:1px solid #c6102b;color:#b4b9bd}.wag-article-heading{font-size:16px}.wag-body-container-wrapper{padding:0}.wag_rx_details{border:1px solid #d1d1d1;padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px}.wag_text_bold{font-weight:700}.wag_cus_order_list{margin-left:15px;margin-top:10px}.wag_cus_order_list li{padding:0;margin-bottom:10px}.wag_barcode img{border-radius:5px}.wag_cus_rx_details{background:#02a0c0;border-radius:5px;color:#fff;min-height:280px}.mt26{margin-top:26px}.mb13{margin-bottom:13px}.wag_order_sec .wag_pickup{font-size:16px}.wag_pickup{line-height:100%}.mt21{margin-top:21px}.mt40{margin-top:40px}.mt10{margin-top:10px}.wag_question{margin-left:-15px;margin-right:-15px;background:#ecebeb}.firstpara{margin-top:20px}.secondpara{margin:5px}.wag-header-logo-common{display:block;float:left;left:0;padding:0;position:relative;text-align:center;width:100%;min-height:45px;background-color:#02a0c0;z-index:2}.wag-header-logo-common img{width:32px;height:35px}.wag_pass_loader_cus_design{top:100px}.wag-cus-loader>span{background-color:#fff;z-index:1}.wag_pass_loader_cus_design .wag-head-text3{font-size:12px}.wag_text_bold{font-weight:700}.wag_rx_details{border:1px solid #d1d1d1;padding-left:15px;padding-top:10px}.wag_cus_bar{background:#f4f0ee;display:block;height:5px;border:0;margin-left:-15px;margin-right:-15px}.prescrition{margin-top:46px;font-weight:700}.wag_expresspickup_details .wag-panel-group .wag-panel{margin:10px;border:0}.wag_expresspickup_details .wag-acc-title-lg-m{line-height:21px}.wag_expresspickup_details .wag-panel-body{padding:0}.wag_expresspickup_details .text-right{padding-right:6px}.wag-epp-mb28{margin-bottom:28px}.wag-epp-mt28{margin-top:28px}.wag-epp-mt20{margin-top:20px}.wag-epp-mb20{margin-bottom:20px}.wag-epp-mt10{margin-top:10px}.wag-epp-mt15{margin-top:15px}.wag-epp-mb15{margin-bottom:15px}.wag-epp-mb80{margin-bottom:80px}.wag-epp-pb8{padding-bottom:8px}.wag-epp-address,.wag-epp-drugname,.wag-epp-due{font-size:18px}.wag-prescription-left-col p,.wag-prescription-right-col p{color:#b4b9bd}.wag_cus_question{margin-right:-15px;margin-left:-15px;padding-left:15px;padding-bottom:5px}.error_class{color:#c6102b}.fine_class{color:#35393d}.errorborder_class{border:1px solid #c6102b}.fineborder_class{border:1px solid #d2d5d7}.new-header-mob-logo a{display:inline-flex}.border_class{border-top:2px gray}.wag-epp-button .make_line{margin-top:0}.continuebutton{width:auto}.container{background:#fff}.wag-body-container-wrapper{background:#f4f0ee;width:100%}.container-fluid{background:#f4f0ee}.checkbox label::before{border:1.5px solid #d2d5d7}.wag_order_rx_details article p{min-height:22px}.wag_custom_promo_banner{background:#f4f0ee;padding-top:15px;padding-bottom:15px;border:0}.wag_promo_section{background:#f4f0ee;clear:both}@media (min-width:768px) and (max-width:1024px){img.confirm_img{max-width:70%}.slider .flickity-slider{text-align:center}.container{max-width:540px}.tabletVersion{width:70%}.wag-pos-rel.confirmation-bar-code-container{padding-left:15%}.bar-code,.wag_order_sec{width:85%}.wag_customer_sec{padding-left:40px}.wag_cus_rx_details{padding:40px}.prescription-container .continue-btn{min-width:150px}.wag_barcode img{width:auto}.bottom_space{height:50px}.wag-pos-rel .container-fluid{background:#fff}.wag-modal-dialog{width:510px;height:600px;margin:10% auto}.wagstmtContent{padding:15px}.progress-bar.rxMulti.shipEligible .text{margin-top:15px;display:block;position:relative;min-height:35px;height:100%;font-weight:700}.progress-bar.rxMulti.shipEligible .text li{width:100%;position:absolute;top:0;left:50%;display:none;max-width:50%}.wag-progress-step .gray-text,.wag-progress-step .progress-text{font-size:12px}.details-page{margin-top:20px}}.payment_button{height:33px;margin-left:auto;margin-right:auto;display:block;width:auto;margin-top:10px}.text_content{margin-top:10px}.popover-content{color:#000}.wag-popover-box{display:inline-block}.change-drug,.edit-payment,.progress-text{text-align:center;color:#01728e;font-weight:600}.gray-text,.notes,.notification{color:grey}.drug-name,.pass-details{font-size:16px;font-family:HelveticaNeueLTW01-55Roman,Arial,Sans-Serif}.gray-text,.total-price p{font-size:14px;font-family:HelveticaNeueLTW01-55Roman,Arial,Sans-Serif}.pass-button,.pass-details{text-align:center}.prepay{display:none}.partial-fill,.prescription-text{font-weight:600;font-size:14px}.prescription-txt{font-weight:700;font-size:24px}.your-price{font-size:14px;font-family:HelveticaNeueLTW01-75Bold,Arial,Sans-Serif}.prescriptionaddress{font-size:14px}.Prescriptions-items,.ng-scope hr,.payment-method,.prescription-details hr,.total-hr hr{border-top:2px solid #cfcfcf}.Prepaid-hr hr,.pharmacy-hr hr{border-top:1px solid #cfcfcf}.gray-box,.gray-pass-box,.prescription-container .gray-box,.prescription-container .gray-box2{height:10px;background:#f4f0ee}.prescription-container .gray-box2{height:5px}.Prepaid-prescriptions .panel-default{border-color:#fff}.notes,.total-amount{text-align:right}.no-balance-heading,.notification,.pharmacy-hours .active{font-size:1em;font-weight:600}.notification{font-style:italic}.wag-custom-sec{background:#f4f0ee}.wag_barcode_sec{background:#02a0c0;border-radius:5px}.wag-drug-det-sec{border-radius:0 0 10px 5px;background:#fff}.wag-drug-det-sec p{font-size:14px;color:#404040}.view-pass{height:40px;font-weight:600;min-width:200px}.gray-pass-box{height:100px}.wag-product-card-width{width:300px;margin:auto;list-style:none}.wag-pos-rel.confirmation-bar-code-container{background:#f4f0ee;padding-left:0;padding-right:0}.notes{font-style:italic;font-size:.8rem}.ag-custom-sec,.wag-barcode-cus-section{width:100%}.drug-rx-name{font-size:14px;line-height:19px;padding-bottom:3px}.boldTxt{font-weight:700}.tel-txt{color:#01728e}.eligibleRx,.selectRx{border-top:2px solid #cfcfcf}.pb100{padding-bottom:100px}.pb20{padding-bottom:20px}.pb10{padding-bottom:10px}.p30{padding:30px}.pt30{padding-top:30px}.totalSum{border-bottom:1px solid #cfcfcf;padding-left:0;padding-right:0;margin-bottom:15px}.totalvalue{border-bottom:1px solid #cfcfcf}@media(max-width:767px){.productcontainer{margin:0 auto 0 10px}.wag_barcode img{margin:auto;margin-top:30px}.main-content.details-page{padding-top:30px}.bottom_space{height:0}.wag_tel_no{display:inline-block}.prescription-container .continue-btn{min-width:33%}.carousel-cell.product-card{min-width:265px;margin:0 15px 0 auto}.container{max-width:100%}.col-xs-12{width:100%;max-width:100%;flex:0 0 100%}.col-xs-11{width:91.66666667%;max-width:91.66666667%;flex:0 0 91.66666667%}.col-xs-10{width:83.33333333%;max-width:83.33333333%;flex:0 0 83.33333333%}.col-xs-9{width:75%;max-width:75%;flex:0 0 75%}.col-xs-8{width:66.66666667%;max-width:66.66666667%;flex:0 0 66.66666667%}.col-xs-7{width:58.33333333%;max-width:58.33333333%;flex:0 0 58.33333333%}.col-xs-6{width:50%;max-width:50%;flex:0 0 50%}.col-xs-5{width:41.66666667%;max-width:41.66666667%;flex:0 0 41.66666667%}.col-xs-4{width:33.33333333%;max-width:33.33333333%;flex:0 0 33.33333333%}.col-xs-3{width:25%;max-width:25%;flex:0 0 25%}.col-xs-2{width:16.66666667%;max-width:16.66666667%;flex:0 0 16.66666667%}.col-xs-1{width:8.33333333%;max-width:8.33333333%;flex:0 0 8.33333333%}.col-xs-0{width:0;max-width:0;flex:0 0 0}}@media(min-width:768px){.col-sm-12{width:100%;max-width:100%}.col-sm-11{width:91.66666667%;max-width:91.66666667%}.col-sm-10{width:83.33333333%;max-width:83.33333333%}.col-sm-9{width:75%;max-width:75%}.col-sm-8{width:66.66666667%;max-width:66.66666667%}.col-sm-7{width:58.33333333%;max-width:58.33333333%}.col-sm-6{width:50%;max-width:50%}.col-sm-5{width:41.66666667%;max-width:41.66666667%}.col-sm-4{width:33.33333333%;max-width:33.33333333%}.col-sm-3{width:25%;max-width:25%}.col-sm-2{width:16.66666667%;max-width:16.66666667%}.col-sm-1{width:8.33333333%;max-width:8.33333333%}.col-sm-0{width:0;max-width:0}}@media(min-width:992px){.col-md-12{width:100%;max-width:100%}.col-md-11{width:91.66666667%;max-width:91.66666667%}.col-md-10{width:83.33333333%;max-width:83.33333333%}.col-md-9{width:75%;max-width:75%}.col-md-8{width:66.66666667%;max-width:66.66666667%}.col-md-7{width:58.33333333%;max-width:58.33333333%}.col-md-6{width:50%;max-width:50%}.col-md-5{width:41.66666667%;max-width:41.66666667%}.col-md-4{width:33.33333333%;max-width:33.33333333%}.col-md-3{width:25%;max-width:25%}.col-md-2{width:16.66666667%;max-width:16.66666667%}.col-md-1{width:8.33333333%;max-width:8.33333333%}.col-md-0{width:0;max-width:0}}@media(min-width:1200px){img.confirm_img{max-width:55%}.col-lg-12{width:100%;max-width:100%}.col-lg-11{width:91.66666667%;max-width:91.66666667%}.col-lg-10{width:83.33333333%;max-width:83.33333333%}.col-lg-9{width:75%;max-width:75%}.col-lg-8{width:66.66666667%;max-width:66.66666667%}.col-lg-7{width:58.33333333%;max-width:58.33333333%}.col-lg-6{width:50%;max-width:50%}.col-lg-5{width:41.66666667%;max-width:41.66666667%}.col-lg-4{width:33.33333333%;max-width:33.33333333%}.col-lg-3{width:25%;max-width:25%}.col-lg-2{width:16.66666667%;max-width:16.66666667%}.col-lg-1{width:8.33333333%;max-width:8.33333333%}.col-lg-0{width:0;max-width:0}.slider .flickity-slider{text-align:center;display:inline-block;width:100%}.details-page{margin-top:20px}}.disclaimer-txt{float:right;text-align:right;width:250px;padding-top:15px;font-size:12px;font-style:italic;color:#858591}.set-h10{height:10px;background:#f4f0ee}.prescription-row .gray-text{font-size:13px}.order-row p,.prescription-row p,.transaction-row p{line-height:20px}.order-row h5,.prescription-row h5{font-size:18px}.order-row .set-font{font-size:16px}.storeOptions.radio label:hover::before{background:#02a0c0;box-shadow:inset 0 0 0 2px #fff}.storeOptions.radio-primary input[type=radio]:checked+label::after{background:#02a0c0}.optionAddr{font-size:13px}.optionAddrDisTxt{font-size:12px}.wag-progress.epp-progressBar{margin-top:15px}.wag-progress.shipEligible .wag-progress-step{width:25%}.twoSlider.wag-progress-step{width:50%}.modal-overlay{padding:0}.wag-modal-content{margin-top:0}.wag-modal-content .modal-body,.wag-modal-dtm-height{max-height:1000px}.orderTxtDic .disclaimer-txt{width:270px}.cus-btn-disable{background:#f4f0ee;color:#e4e4e4}.epp-progressBar.wag-progress>.wag-progress-step>.wag-progress-circle{cursor:default}.wag-cus-pop-des{text-decoration:none;color:#fff}.details-page .progress-bar{background:#fff}.accordion p{padding:0;margin:0}.epp-footer-container img{width:100px;height:60px}.wlagreensexpress{margin-top:8px;font-weight:700;color:#fff}.accordion{width:100%}.accordion li:last-child .title__master{padding:0;margin:0}.main-content .progress-bar{box-shadow:none}.express_container img{width:auto}.express_container .wag-header-logo-common{height:45px}.errormsg{color:#c6102b}.check-box{width:33%}.checkbox input[type=checkbox]{margin-left:0;padding-right:15px}.progress-bar .text{margin-top:15px;font-weight:700;font-size:14px}.total-price p{padding-bottom:10px;display:inline-block}.eligible .checkbox,.eligible .radiobutton{right:0;position:absolute;padding-right:15px}.buttons{position:relative;left:75%;padding-top:10%;padding-bottom:3%}.accordion .inner{border-top:2px solid #cfcfcf}.column p{font-size:14px;font-weight:600}.font14{font-size:14px}.acceptmodal .font14{font-size:14px}.font16{font-size:16px}.font12{font-size:12px}.font11{font-size:11px}.drug-name b{font-weight:700}.wag_barcode{text-align:center}.carousel-cell .product{text-align:center;border-radius:5px 5px 0 0;margin:0;width:100%}.carousel-cell.product-card{width:335px;margin:0 auto 0 10px;min-width:335px}.carousel-cell .p0{padding:0}.product figcaption{background:#fff}.slider.white .flickity-prev-next-button{display:none}.carousel-cell{margin:1px;text-align:left;display:inline-block}.wag-customer-row,.wag-pass-detail{text-align:left;padding-left:15px}.fontweight{font-weight:700}.wag-ordered-list li{list-style:decimal;margin-bottom:10px}.wag-pass-detail .wag_text_bold a{color:#01728e}.product+div{height:130px;padding-bottom:0}.expired_background{background-color:#f4f0ee}.productcontainer{max-width:300px;margin:auto;padding-left:15px;padding-right:15px}.expired-barcode{border-radius:5px;position:absolute}.wag-text-white{padding:6px 16px;color:#fff}.pin_number{font-size:20px;font-weight:700}.pin_textalign,.textalignleft{text-align:left}.pills_img{border:1px solid red;margin-top:32px}.btn__blue:hover{background:#01728e;color:#fff}.green_text{font-size:14px;font-weight:700;color:green}.drive-thru_info{color:#02a0c0;font-size:35px;font-weight:700}.passoverlay-head{font-weight:700;font-size:25px}.expressicon{height:60px;width:60px;background:#02a0c0;border-radius:50%}.box_container .pin_textalign{padding:10px 0 0 10px}.wag-body-container-wrapper .loader-container{position:absolute;top:45px;left:0;width:100%;height:100%;z-index:10;background-color:#fff}.sliderwrap .slider{padding:0}.box_container{border:2px solid #f4f0ee;padding-right:5px;margin-left:8px}.redeem_instruction{width:71%;margin-left:42px;padding-top:20px;text-align:center}a.accordion:after{content:url(https://m-int1.walgreens.com/images/adaptive/livestyleguide/walgreens.com/v3.0/themes/images/icons/individual/icon__arrow-down.svg);position:absolute;left:0;width:30px;height:100%}a.accordion.active:after{content:url(https://m-int1.walgreens.com/images/adaptive/livestyleguide/walgreens.com/v3.0/themes/images/icons/individual/icon__arrow-up.svg);position:absolute;left:0;width:30px;height:100%}.wag-helvetica-thin{font-family:'Helvetica Neue',Arial,Sans-Serif}.wag-helvetica-thinb{font-family:'Helvetica Neue',Arial,Sans-Serif;font-weight:600}.wag-helvetica-light{font-family:HelveticaNeueLTW01-45Light,Arial,Sans-Serif}.wag-helvetica-roman{font-family:HelveticaNeueLTW01-55Roman,Arial,Sans-Serif}.wag-helvetica-bold{font-family:HelveticaNeueLTW01-75Bold,Arial,Sans-Serif}.code_align{text-align:right}.greyborder{border-bottom:1px solid #cfcfcf}.total_align{text-align:left;padding-left:16px}.expired_overlay{color:#fff;opacity:.8;border-radius:5px;background-color:#000}.expiredpass{opacity:.4}.activeqrcode-none{text-align:center;margin:76px 0}",

    head = document.head || document.getElementsByTagName('head')[0],
    style = document.createElement('style');
    head.appendChild(style);
    style.type = 'text/css';
    if (style.styleSheet){
   // This is required for IE8 and below.
    style.styleSheet.cssText = css;
   } else {
     style.appendChild(document.createTextNode(css));
   }
}]}],"scope":{"URI":{"include":[/\/expresspickupndelivery\/prescription/i,/\/expresspickupndelivery\/options/i,/\/expresspickupndelivery\/review/i,/\/expresspickupndelivery\/barcode/i,/\/expresspickupndelivery\/confirmation/i]}},"event":"pagetop"},
    {"name":"DPC_medicaid_disclaimer","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    $(document).ready(function() {\n        var t = $($(\".wag-hn-lt-55roman.result-heading\")[1]);\n        t.html(t.html().replace(\"*\", '\u003csup\u003e1\u003c/sup\u003e'));\n\n    });\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/medicaid.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_pharmacy-60secs-chat","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\n\nif (DTM_sales_force_rx_enabled !== undefined \u0026\u0026 DTM_sales_force_rx_enabled) {\n    var windowInvPath = document.location.href;\n\t  var chatInvID;\n\t  var salesForceChatJsUrl;\n    \n\tif (windowInvPath.indexOf(\"/www.walgreens.com/pharmacy\")!= -1) {\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/35.0/deployment.js\";\n\t\tchatInvID = \"57360000000GnKr\";\n\t\t\n\t} else if((windowInvPath.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1)){\n\t\tchatInvID = \"573J0000000Cafl\";\n\t\tsalesForceChatJsUrl = \"https://c.la6cs.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n\t\t\n\t} else {\n\t\tchatInvID = \"57311000000CbYG\";\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/37.0/deployment.js\";\n\t\t\n\t}\n  \n \n /* window.onload = function()\n\t{\n    console.log(\"invited NO\");\n    console.log(\"test\");\n\t\tliveagent.setCustomVariable('invited',\"no\");\n\t}*/\n  \n  function initiateChat() {\n            console.log(\"Log:: Setting AutoInvite to FALSE1\");\n           liveagent.setCustomVariable('invited',\"yes\");\n            console.log(\"chat code before\");\n            liveagent.startChat(chatInvID); \n            console.log(\"chat code\",chatInvID);\n     \t\t\t\n           \n    \n     // 573110000008OSv and 573110000008OT2 for testing purpose\n        }\n  \n\t/*function reloadInvIFrame() { \n\t\tvar iFrame=document.createElement('iframe'); \n\t\tiFrame.id=\"idFrameInv\"; \n\t\tvar no = Date(); \n\t\tiFrame.src = 'https://chatqa-wagcco.cs18.force.com/Site1/LiveAgentChatQueue?btn_id='+chatInvID+'\u0026no=' + no;\t\n\t\tiFrame.style.display=\"none\";\n\t\tdocument.body.appendChild(iFrame);\n\t}*/\n\n\tfunction loadInvitationCode() {\n   liveagent.setCustomVariable('invited',\"no\");\n    console.log(\"initial no\");\n    \tvar saleforceChatHTML = '';\n            saleforceChatHTML += '\u003cdiv class=\"chatSecMobile hidden-xs\" id=\"liveagent_invite_button_'+chatInvID+'\" style=\"display:none;width:500px;height:500px;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cdiv style=\"width:80%;height:80%;margin:auto;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctable style=\"width:100%;border:1px solid #A4A4A4;border-radius: 9px;padding:10px;background:#FFF;\"\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:right;\" class=\"wag-alerts\"\u003eNo Thanks \u003cbutton type=\"button\" aria-label=\"Close\" class=\"close\" value=\"X\" onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\"\u003e' + '\u003ci class=\"icon-XPlain\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003c/button\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 10px 10px 25px;\"\u003e\u003cimg src=\"/images/adaptive/pharmacy/chat/ChatBannerImage.jpg\" alt=\"Pharmacy Chat\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 25px 10px 25px;\"\u003e\u003chr/\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:center;padding:10px;line-height: 250%;\"\u003e\u003ch1 style=\"color:#A4A4A4;\"\u003e\u003cfont size =\"4\"\u003eWould you like to chat with a Pharmacy Professional?\u003c/font\u003e\u003c/h1\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cinput type=\"button\" value=\"Yes\" class=\"wag-btn-blue-secondary-sm\" onclick=\"initiateChat()\" style=\"background:#236ea1;color:#FFF;padding:5px;width:80px;height:40px;border:none;\" /\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/td\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e\u003ca onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\" style=\"color:#236ea1;font-weight:bold;cursor:pointer;\"\u003e No Thanks \u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" height=\"30\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003c/table\u003e\u003c/div\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/div\u003e';\n        $('body').append(saleforceChatHTML);\n\n\t\t\n         //reloadInvIFrame();\n\t}\n\n   /* var eventInvMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n    var eventerInv = window[eventInvMethod];\n    var messageInvEvent = eventInvMethod == \"attachEvent\" ? \"onmessage\" : \"message\"; \n    eventerInv(messageInvEvent, function(e) {\t\n\t\tif(e.data == chatInvID+'_queue_full') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"none\";\n\t\t} else if(e.data == chatInvID+'_queue_empty') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"block\";\n\t\t}\t\t\n\t}, false);*/\n\n\tif (window.attachEvent) {\n\t\twindow.attachEvent('onload', loadInvitationCode);\n\t} else {\n\t\twindow.addEventListener('load', loadInvitationCode, false);\n\t}\n}\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/psc\/enrollment\/psc_product_details.jsp/i]}},"event":"pagebottom"},
    {"name":"DPC_preventhash","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.addEventListener('load', function(e)
{
console.log("Inside onload");
    // Find any of the anchors that have a hash link.
  // Change document to whatever the container is for your new elements
  as = document.querySelectorAll('[href="#!"]');
  as.forEach(function(a)
  {
    a.addEventListener('click', function(e)
    {
      console.log("Inside hash tag");
                
      // This stops the hash being added to the URL on click
      e.preventDefault();

    });
  });
});
if(document.getElementsByClassName('button_position')[0]!==undefined){
document.getElementsByClassName('button_position')[0].addEventListener('click', function(){
BindAllEvents();
});
}
if(document.getElementsByClassName('view-more-container')[0]!==undefined){
document.getElementsByClassName('view-more-container')[0].addEventListener('click', function(){
BindAllEvents();
});
}
function BindAllEvents(){
$(".account-trigger").on("click", function() {
  console.log('inside account click');
        $(".account-dropdown").toggleClass("show"),
        $(".account-arrow").toggleClass("toggled"),
        $(this).find(".icon__arrow-down").toggleClass("toggled"),
        $(".nav-contains.testing").removeClass("show"),
        $(".menu-trigger").removeClass("toggled"),
        $(".menu-trigger").attr("aria-expanded", "false"),
        $(".menu-dropdown").removeClass("show"),
        $(".menu-trigger").find(".icon__arrow-down").removeClass("toggled"),
        $(".overlay.testing-two").toggleClass("show"),
        $(".overlay.testing").removeClass("show"),
        $("body").removeClass("position-fixed menu"),
        $("body").toggleClass("position-fixed account"),
        $(".a-interior").attr("aria-expanded", "true")
    }),
    $(".account-trigger").keyup(function(e) {
        var o = e.keyCode;
        27 === o && ($(".account-dropdown").removeClass("show"),
        $(".a-interior").attr("aria-expanded", "false"),
        $(".overlay.testing-two").removeClass("show"),
        $(this).find(".icon__arrow-down").removeClass("toggled"),
        $("body").removeClass("position-fixed menu"),
        $("body").toggleClass("position-fixed account"))
    }),
$(".menu-trigger").on("click", function() {
console.log("inside menu click")
        $(".menu-dropdown").toggleClass("show"),
        $(this).toggleClass("toggled"),
        $(this).find(".icon__arrow-down").toggleClass("toggled"),
        $(".account-dropdown").removeClass("show"),
        $(".overlay.testing").toggleClass("show"),
        $(".overlay.testing-two").removeClass("show"),
        $(".account-trigger").find(".icon__arrow-down").removeClass("toggled"),
        $(".account-trigger .a-interior").attr("aria-expanded", "false"),
        $("body").removeClass("position-fixed account"),
        $("body").toggleClass("position-fixed menu"),
        $(this).attr("aria-expanded", "true")
    }),
    $(".menu-trigger, .menu-dropdown").keyup(function(e) {
        var o = e.keyCode;
        27 === o && ($(".menu-dropdown").removeClass("show"),
        $(this).attr("aria-expanded", "false"),
        $(".overlay.testing").removeClass("show"),
        $(this).find(".icon__arrow-down").removeClass("toggled"),
        $("body").removeClass("position-fixed account"),
        $("body").toggleClass("position-fixed menu"),
        $(".default-dropdown, .dropdown__lvl-3, .mega-dropdown, .mega-dropdown__menu").removeClass("show-next-lvl"),
        $(".dropdown__title, .standard-link__title, .standard-link, .mega-dropdown__title, .btn__back, .hidden-button").removeClass("hide-prev-lvl"),
        $(".side-dropdown__title, .lvl-2-link").removeClass("hide-lvl-2"),
        $(".dropdown__title, .standard-link__title").removeAttr("aria-expanded", "true"),
        $(".menu-dropdown").removeClass("full-width-panel"))
    }),
    $(".menu-trigger, .account-trigger a").on("focus", function() {
        $(".search-contain.testing").removeClass("show-results"),
        $(".search.default-dropdown").removeClass("show")
    });
}
}]}],"scope":{"URI":{"include":[/\/rx-druginfo\/pharmacy\/finddrug\/druginfobrowseresults/i,/\/rx-medicaid\/pharmacy\/medicaid/i,/\/rx-druginfo\/pharmacy\/finddrug\/druginfosearch/i]}},"event":"pagebottom"},
    {"name":"DPC_preventhashtag","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.addEventListener('load', function(e)
{
  // Find any of the anchors that have a hash link.
  // Change document to whatever the container is for your new elements
  as = document.querySelectorAll('[href="#!"]');
  as.forEach(function(a)
  {
    a.addEventListener('click', function(e)
    {
      console.log("Inside hash tag");
      // This stops the hash being added to the URL on click
      e.preventDefault();

    });
  });
});
}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i]},"hashes":{"include":[/#\/location/i,/#\/storeinfo/i,/#\/reasonForVisit/i,/#\/timeslot/i,/#\/paymentInfo/i,/#\/patientInfo/i,/#\/review-appointment/i,/#\/schedule-confirmation/i]}},"event":"pagebottom"},
    {"name":"DPC_prime_sso_customEvar","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = 'eVar113';
window.s.eVar113 = "PrimeMail Mailservice";
}]}],"scope":{"URI":{"include":[/\/pharmacy\/mailservice\/mail_service_prime_sso.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF - Express Refills (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar23":"BlueBox_RefillRxNum","channel":"pharmacy"}]}],"scope":{"URI":{"include":["/pharmacy/order/express-refills.jsp"]}},"event":"pagetop"},
    {"name":"DPF-Drop-Down-Flicker","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$('head').append('<style type="text/css">@media (max-width: 767px){select {transition:none !important;}}</style>');
}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i,/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF-Enter_Prescription (Copy)","trigger":[{"engine":"sc","command":"addEvent","arguments":["event24","prodView:;RX-New;"]}],"scope":{"URI":{"include":["/order/enterprescription.jsp"]}},"event":"pagebottom"},
    {"name":"DPF-Gmail-CTA-PageLoad","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"%DPF_check_login_refill_leancheckout%"}]},{"engine":"sc","command":"addEvent","arguments":["prodView:event24"]}],"scope":{"URI":{"include":[/\/pharmacy\/refillleancheckout.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF-Refillhub-OnLoad (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar1":"%DPF_check_success_refillhub_pageLoad%","eVar9":"rx reg authenticated","prop27":"Prescription List View","prop8":"%DPF_check_success_refillhub_downtime%"}]},{"engine":"sc","command":"addEvent","arguments":["prodView:event24"]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var newStyle =$('<style>#family_member,#activeHiddenTab{transition:none!important}</style>');
$('head').append(newStyle);

$(window).scroll(function(e) { 
		if ($('#refill-hub-container').is(':visible')) {
      e.preventDefault();
      var scope = angular.element('[ng-controller=refillPrescriptionsHubController]').scope();
      scope.showPresconLazyLoad();
    }
  });
}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"event":"pagebottom"},
    {"name":"DPF-SF-CookieCount","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n  var windowCookiePath = document.location.href;\n\tvar windowInvPathUrl = document.location.href;\n\tvar salesForceChatDepJsUrl;\n\tvar  pageViewCount = '';\n\tvar cookieName = '';\n\tif (windowInvPathUrl.indexOf(\"/www.walgreens.com/pharmacy\")!= -1)  {\n\t\t\tsalesForceChatDepJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/35.0/deployment.js\";\n\t\t} else if((windowInvPathUrl.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPathUrl.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1) ){\n\t\t\tsalesForceChatDepJsUrl = \"https://c.la6cs.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n\t\t} else {\n\t\t\tsalesForceChatDepJsUrl = \"https://c.la2w1.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n\t\t}\n\tvar myscript = document.createElement('script');\n\tmyscript.setAttribute('src',salesForceChatDepJsUrl);\n\tdocument.head.appendChild(myscript);\n\u003c/script\u003e\n\u003cscript type=\"text/javascript\"\u003e\n\tvar urlFinder = windowCookiePath.toLowerCase();\n\tif (urlFinder.indexOf(\"/pharmacy/refillhub/refillhub.jsp\")!= -1){ \n\t   cookieName = 'refillHubPVC';\n\t   pageViewCount = 'refillHubViewCount';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}else if (urlFinder.indexOf(\"/pharmacy/order/express-refills.jsp\")!= -1){ \n\t   cookieName = 'expressRefillsPVC';\n\t   pageViewCount = 'expressRefillsViewCount';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}else if (urlFinder.indexOf(\"/pharmacy/order/enterprescription.jsp\")!= -1){ \n\t   cookieName = 'enterPrescriptionPVC';\n\t   pageViewCount = 'enterPrescriptionViewCount';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}else if (urlFinder.indexOf(\"/pharmacy/order/transferprescription.jsp\")!= -1){ \n\t   cookieName = 'transferPrescriptionPVC';\n\t   pageViewCount = 'transferPrescriptionViewCount';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}else if (urlFinder.indexOf(\"/pharmacy/mailservice/mail_service_pharmacy.jsp\")!= -1){ \n\t   cookieName = 'mailPharmacyCookie';\n\t   pageViewCount = 'mailServicesPharmacyPageViews2';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}else if (urlFinder.indexOf(\"/topic/s/mail-service-pharmacy.jsp\")!= -1){ \n\t   cookieName = 'serPharmacyCookie';\n\t   pageViewCount = 'mailServicesPharmacyPageViews1';\n\t   //console.log(\"cookieName: \"+cookieName+\"pageViewCount: \"+pageViewCount);\n\t}\n\t//name of the cookie used for storing the page view count\n\n\twindow.onload = function()\n\t{\n\t\t//this method will fetch or create a cookie and assign or update its count value\n\t\tfetchandUpdateCookie();\n\n\t\t//this method will fetch the current count value\n\t\tvar pageViewCnt = getCurrentCount();\n\t\t//alert(cookieName + ':    ' + pageViewCnt );\n\n\t\t//this variable name will be used inside chat button sending rule\n\t\tliveagent.setCustomVariable(pageViewCount, pageViewCnt);\n\t}\n\n\tfunction fetchandUpdateCookie()\n\t{\n\t\tif (document.cookie)\n\t\t{\n\t\t\t//checking if cookie is present for the webpage\n\t\t\tindex = document.cookie.indexOf(cookieName);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tindex = -1;\n\t\t}\n\n\t\t//coockie not found, hence create one with same name and assign count as 1\n\t\tif (index == -1)\n\t\t{\n\t\t\tdocument.cookie = cookieName + \"=1;\";\n\t\t}\n\t\t//cookie found, get the count value and add +1 to it.\n\t\telse\n\t\t{\n\t\t\tcountbegin = (document.cookie.indexOf(\"=\", index) + 1);\n\t\t\tcountend = document.cookie.indexOf(\";\", index);\n\t\t\tif (countend == -1)\n\t\t\t{\n\t\t\t\tcountend = document.cookie.length;\n\t\t\t}\n\t\t\t//increamenting the count by 1\n\t\t\tcount = eval(document.cookie.substring(countbegin, countend)) + 1;\n\n\t\t\tdocument.cookie= cookieName + \"=\" + count + \";\";\n\t\t}\n\t}\n\n\tfunction getCurrentCount()\n\t{\n\t\tcount=0;\n\t\tif(document.cookie)\n\t\t{\n\t\t\t//getting the index to fetch the cookie\n\t\t\tindex = document.cookie.indexOf(cookieName);\n\t\t\tif (index != -1)\n\t\t\t{\n\t\t\t\tcountbegin = (document.cookie.indexOf(\"=\", index) + 1);\n\t\t\t\tcountend = document.cookie.indexOf(\";\", index);\n\t\t\t\tif (countend == -1)\n\t\t\t\t{\n\t\t\t\t\tcountend = document.cookie.length;\n\t\t\t\t}\n\t\t\t\tcount = document.cookie.substring(countbegin, countend);\n\t\t\t}\n\t\t}\n\t\treturn(count);\n\t}\n\u003c/script\u003e\n"}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i,/\/pharmacy\/order\/express-refills.jsp/i,/\/pharmacy\/order\/enterprescription.jsp/i,/\/pharmacy\/order\/transferprescription.jsp/i,/\/pharmacy\/mailservice\/mail_service_pharmacy.jsp/i,/\/topic\/s\/mail-service-pharmacy.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF-Transfer-Widget","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop31":"Screen 0 | Rx Transfer Widget"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
setTimeout(function(){ 
window.s.linkTrackVars='prop47,prop48,prop51,prop52'; 
  window.s.prop47 = window.omnitureVal_prop53;
   window.s.prop48	 =window.omnitureVal_prop54;
   window.s.prop51 = window.omnitureVal_prop55;
   window.s.prop52 = window.omnitureVal_prop58;
 window.s.tl(true,"o","Rx Transfer Widget");

},1000);
}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_Manage_Auto_Refills (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar1":"%DPF_ManageAutoRefill_SuccessLoad%","eVar9":"rx reg authenticated","prop31":"Manage Auto Refills | Your Prescriptions","prop8":"%DPF_ManageAutoRefill_DownTime%"}]}],"scope":{"URI":{"include":["/pharmacy/manageautorefills/manage_auto_refill.jsp"]}},"event":"pagebottom"},
    {"name":"DPF_PAYMENT-PORTAL-Your-Account","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"account"}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"event":"pagebottom"},
    {"name":"DPF_PAYMENT-PORTAL-billing-Statements","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"account"}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/specialtystatements.jsp"]}},"event":"pagebottom"},
    {"name":"DPF_PAYMENT-PORTAL-payment-update","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"account"}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment_details.jsp"]}},"event":"pagebottom"},
    {"name":"DPF_PHI_PARAM","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar1":"%phi_param_type%"}]}],"scope":{"URI":{"include":[/pharmacy\/refillleancheckout.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_Patlock","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$('head').append('<style type="text/css"> .wag-lock-patient-container .wag-alerts , .wag-lock-patient-container .wag-unorderlist{display:none}</style>');
setTimeout(function(){$('.wag-lock-patient-container p.mt5').text('You chose to restrict your pharmacy account access to one Walgreens location so we cannot show your prescription information online. Please contact your selected pharmacy to access your records.');},500);
}]}],"scope":{"URI":{"include":[/\/pharmacy\/lockpatient.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_Print_RX_moz","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(document).ready(function(){
	var isFirefox = typeof InstallTrigger !== 'undefined';
  if(isFirefox){ 
  window.onload = printMoz;
  function printMoz(){
     //alert($('#wag-rx-print-getrecords .wag-rx-print-getrecords-form .form-horizontal').html());
  	var printRxContent = '<section class="form-group wag-form-group has-warning has-feedback"><section class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0"><section class="wag-pos-rel wag-pos-rel-text"><small class="help-block"><span class="icon-Alert text-warning media-body wag-pos-rel pr10"></span><span class="media-body text-warning pt3">If you\'re using Firefox, you may not be able to print all your Rx records. Please switch to a different browser and try again.</span></small></section></section></section>';
 		 $('#wag-rx-print-getrecords .wag-rx-print-getrecords-form .form-horizontal').append(printRxContent);
  }
  }
});
}]}],"scope":{"URI":{"include":[/\/pharmacy\/report\/rxprint.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_Refill_Stickyfooter","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$('document').ready(function(){

  $(document).on('change','#family_member', function() {

    		var scope = angular.element("#refill-hub-container").scope();
    		scope.$apply(function(){
        	scope.hideforZeroRx = false;
          //alert(scope.hideforZeroRx);
         
    		});
    		
        
    });

});
}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_Status_Banner","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cstyle\u003e\n  .col-lg-12.col-md-12.col-sm-12.col-xs-12.p0.visible-xs.mt20 img.img-responsive{display:none;}\n\u003c/style\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getQueryParam('flowType'), "100")
}],"event":"pagebottom"},
    {"name":"DPF_TransferPrescription (Copy)","trigger":[{"engine":"sc","command":"addEvent","arguments":["event24","prodView:;RX-Transfer;"]}],"scope":{"URI":{"include":["/order/transferprescription.jsp"]}},"event":"pagebottom"},
    {"name":"DPF_pharmacy-60secs-chat-mail-service","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\n\nif (DTM_sales_force_rx_enabled !== undefined \u0026\u0026 DTM_sales_force_rx_enabled) {\n    var windowInvPath = document.location.href;\n\t  var chatInvID;\n\t  var salesForceChatJsUrl;\n    \n\tif (windowInvPath.indexOf(\"/www.walgreens.com/pharmacy\")!= -1) {\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/35.0/deployment.js\";\n\t\tchatInvID = \"57360000000GnL1\";\n\t\t\n\t} else if((windowInvPath.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1)){\n\t\tchatInvID = \"573J0000000Cafn\";\n\t\tsalesForceChatJsUrl = \"https://c.la6cs.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n\t\t\n\t} else {\n\t\tchatInvID = \"57311000000CbYI\";\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/37.0/deployment.js\";\n\t\t\n\t}\n  \n \n /* window.onload = function()\n\t{\n    console.log(\"invited NO\");\n    console.log(\"test\");\n\t\tliveagent.setCustomVariable('invited',\"no\");\n\t}*/\n  \n  function initiateChat() {\n           liveagent.setCustomVariable('invited',\"yes\");\n            liveagent.startChat(chatInvID);\n     \t\t\t\n           \n    \n     // 573110000008OSv and 573110000008OT2 for testing purpose\n        }\n  \n\t/*function reloadInvIFrame() { \n\t\tvar iFrame=document.createElement('iframe'); \n\t\tiFrame.id=\"idFrameInv\"; \n\t\tvar no = Date(); \n\t\tiFrame.src = 'https://chatqa-wagcco.cs18.force.com/Site1/LiveAgentChatQueue?btn_id='+chatInvID+'\u0026no=' + no;\t\n\t\tiFrame.style.display=\"none\";\n\t\tdocument.body.appendChild(iFrame);\n\t}*/\n\n\tfunction loadInvitationCode() {\n   liveagent.setCustomVariable('invited',\"no\");\n    \tvar saleforceChatHTML = '';\n            saleforceChatHTML += '\u003cdiv class=\"hidden-xs\" id=\"liveagent_invite_button_'+chatInvID+'\" style=\"display:none;width:500px;height:500px;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cdiv style=\"width:80%;height:80%;margin:auto;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctable style=\"width:100%;border:1px solid #A4A4A4;border-radius: 9px;padding:10px;background:#FFF;\"\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:right;\" class=\"wag-alerts\"\u003eNo Thanks \u003cbutton type=\"button\" aria-label=\"Close\" class=\"close\" value=\"X\" onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\"\u003e' + '\u003ci class=\"icon-XPlain\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003c/button\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 10px 10px 25px;\"\u003e\u003cimg src=\"/images/adaptive/pharmacy/chat/ChatBannerImage.jpg\" alt=\"Pharmacy Chat\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 25px 10px 25px;\"\u003e\u003chr/\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:center;padding:10px;line-height: 250%;\"\u003e\u003ch1 style=\"color:#A4A4A4;\"\u003e\u003cfont size =\"4\"\u003eWould you like to chat with a Pharmacy Professional?\u003c/font\u003e\u003c/h1\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cinput type=\"button\" value=\"Yes\" class=\"wag-btn-blue-secondary-sm\" onclick=\"initiateChat()\" style=\"background:#236ea1;color:#FFF;padding:5px;width:80px;height:40px;border:none;\" /\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/td\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e\u003ca onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\" style=\"color:#236ea1;font-weight:bold;cursor:pointer;\"\u003e No Thanks \u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" height=\"30\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003c/table\u003e\u003c/div\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/div\u003e';\n        $('body').append(saleforceChatHTML);\n\n\t\t\n         //reloadInvIFrame();\n\t}\n\n   /* var eventInvMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n    var eventerInv = window[eventInvMethod];\n    var messageInvEvent = eventInvMethod == \"attachEvent\" ? \"onmessage\" : \"message\"; \n    eventerInv(messageInvEvent, function(e) {\t\n\t\tif(e.data == chatInvID+'_queue_full') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"none\";\n\t\t} else if(e.data == chatInvID+'_queue_empty') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"block\";\n\t\t}\t\t\n\t}, false);*/\n\n\tif (window.attachEvent) {\n\t\twindow.attachEvent('onload', loadInvitationCode);\n\t} else {\n\t\twindow.addEventListener('load', loadInvitationCode, false);\n\t}\n}\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/topic\/s\/mail-service-pharmacy.jsp/i,/\/pharmacy\/mailservice\/mail_service_pharmacy.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_pharmacy-60secs-chat-new-transfer","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\n\nif (DTM_sales_force_rx_enabled !== undefined \u0026\u0026 DTM_sales_force_rx_enabled) {\n    var windowInvPath = document.location.href;\n\t  var chatInvID;\n\t  var salesForceChatJsUrl;\n    \n\tif (windowInvPath.indexOf(\"/www.walgreens.com/pharmacy\")!= -1) {\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/35.0/deployment.js\";\n\t\tchatInvID = \"57360000000GnL6\";\n\t\t\n\t} else if((windowInvPath.indexOf(\"/m-qa2.walgreens.com/pharmacy\")!= -1) || (windowInvPath.indexOf(\"/www3.walgreens.com/pharmacy\")!= -1)){\n\t\tchatInvID = \"573J0000000Cafo\";\n\t\tsalesForceChatJsUrl = \"https://c.la6cs.salesforceliveagent.com/content/g/js/36.0/deployment.js\";\n\t\t\n\t} else {\n\t\tchatInvID = \"57311000000CbYJ\";\n\t\tsalesForceChatJsUrl = \"https://c.la2w1cs.salesforceliveagent.com/content/g/js/37.0/deployment.js\";\n\t\t\n\t}\n  \n \n /* window.onload = function()\n\t{\n    console.log(\"invited NO\");\n    console.log(\"test\");\n\t\tliveagent.setCustomVariable('invited',\"no\");\n\t}*/\n  \n  function initiateChat() {\n            console.log(\"Log:: Setting AutoInvite to FALSE1\");\n           liveagent.setCustomVariable('invited',\"yes\");\n            console.log(\"chat code before\");\n            liveagent.startChat(chatInvID); \n            console.log(\"chat code\",chatInvID);\n     \t\t\t\n           \n    \n     // 573110000008OSv and 573110000008OT2 for testing purpose\n        }\n  \n\t/*function reloadInvIFrame() { \n\t\tvar iFrame=document.createElement('iframe'); \n\t\tiFrame.id=\"idFrameInv\"; \n\t\tvar no = Date(); \n\t\tiFrame.src = 'https://chatqa-wagcco.cs18.force.com/Site1/LiveAgentChatQueue?btn_id='+chatInvID+'\u0026no=' + no;\t\n\t\tiFrame.style.display=\"none\";\n\t\tdocument.body.appendChild(iFrame);\n\t}*/\n\n\tfunction loadInvitationCode() {\n   liveagent.setCustomVariable('invited',\"no\");\n    console.log(\"initial no\");\n    \tvar saleforceChatHTML = '';\n            saleforceChatHTML += '\u003cdiv class=\"hidden-xs\" id=\"liveagent_invite_button_'+chatInvID+'\" style=\"display:none;width:500px;height:500px;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cdiv style=\"width:80%;height:80%;margin:auto;\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctable style=\"width:100%;border:1px solid #A4A4A4;border-radius: 9px;padding:10px;background:#FFF;\"\u003e';\n            saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:right;\" class=\"wag-alerts\"\u003eNo Thanks \u003ca href=\"javascript:void(0)\" type=\"button\" aria-label=\"Close\" class=\"close\" value=\"X\" onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\"\u003e' + '\u003ci class=\"icon-XPlain\" aria-hidden=\"true\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 10px 10px 25px;\"\u003e\u003cimg src=\"/images/adaptive/pharmacy/chat/ChatBannerImage.jpg\" alt=\"Pharmacy Chat\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"padding:0px 25px 10px 25px;\"\u003e\u003chr/\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" style=\"text-align:center;padding:10px;line-height: 250%;\"\u003e\u003ch1 style=\"color:#A4A4A4;\"\u003e\u003cfont size =\"4\"\u003eWould you like to chat with a Pharmacy Professional?\u003c/font\u003e\u003c/h1\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e';\n\t\t\tsaleforceChatHTML += '\u003cinput type=\"button\" value=\"Yes\" class=\"wag-btn-blue-secondary-sm\" onclick=\"initiateChat()\" style=\"background:#236ea1;color:#FFF;padding:5px;width:80px;height:40px;border:none;\" /\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/td\u003e\u003ctd style=\"text-align:center;padding:10px;text:bold\"\u003e\u003ca  href=\"javascript:void(0)\" onclick=\"liveagent.rejectChat(\\''+chatInvID+'\\')\" style=\"color:#236ea1;font-weight:bold;cursor:pointer;\"\u003e No Thanks \u003c/a\u003e\u003c/td\u003e\u003c/tr\u003e';\n\t\t\tsaleforceChatHTML += '\u003ctr\u003e\u003ctd colspan=\"2\" height=\"30\"\u003e\u003c/td\u003e\u003c/tr\u003e';\n      saleforceChatHTML += '\u003c/table\u003e\u003c/div\u003e';\n\t\t\tsaleforceChatHTML += '\u003c/div\u003e';\n        $('body').append(saleforceChatHTML);\n\n\t\t\n         //reloadInvIFrame();\n\t}\n\n   /* var eventInvMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\n    var eventerInv = window[eventInvMethod];\n    var messageInvEvent = eventInvMethod == \"attachEvent\" ? \"onmessage\" : \"message\"; \n    eventerInv(messageInvEvent, function(e) {\t\n\t\tif(e.data == chatInvID+'_queue_full') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"none\";\n\t\t} else if(e.data == chatInvID+'_queue_empty') { \n\t\t\tdocument.getElementById('liveagent_invite_button_'+chatInvID+'').style.display = \"block\";\n\t\t}\t\t\n\t}, false);*/\n\n\tif (window.attachEvent) {\n\t\twindow.attachEvent('onload', loadInvitationCode);\n\t} else {\n\t\twindow.addEventListener('load', loadInvitationCode, false);\n\t}\n}\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/enterprescription.jsp/i,/\/pharmacy\/refillhub\/refillhub.jsp/i,/\/pharmacy\/order\/express-refills.jsp/i,/\/pharmacy\/order\/transferprescription.jsp/i,/\/pharmacy\/order\/guest-express-refills.jsp/i]}},"event":"pagebottom"},
    {"name":"DPF_refillreminderleancheckout_load","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56aae72464746d77df001461.js"}]}]}],"scope":{"URI":{"include":["/pharmacy/refillreminderleancheckout.jsp"]}},"event":"pagetop"},
    {"name":"DPX-Rx-Landingpage","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = 'prop31';

var pageURL = window.location.pathname;
if(pageURL === "/pharmacy/" || pageURL === "/pharmacy/default.jsp" || pageURL === "/pharmacy/rxlanding.jsp" ) { 
    console.log("Loading rx landing page");
		window.s.prop31 = "New Rx Landing Page Load | " + document.title;	
}
}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxlanding.jsp/i,/\/pharmacy\/default.jsp/i,/\/pharmacy\//i]}},"event":"pagebottom"},
    {"name":"DPX_DeliveryOptionSelection","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  \t sessionStorage.setItem('selectedOption',\"\");  \n  \u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"event":"pagebottom"},
    {"name":"DPX_RXCheckoutConfirmpage_LOB","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = 'prop31';


var session_prescription_type = "";



	if(sessionStorage.getItem('selectedRetailOption') === "SDD" || sessionStorage.getItem('selectedRetailOption') === "Retail PickUp" || sessionStorage.getItem('selectedRetailOption') === "Retail Mail") {
		session_prescription_type = sessionStorage.getItem('selectedRetailOption');
    }else if(sessionStorage.getItem('selected_prescription_type_RetailPickup') === 'retailPickup' || sessionStorage.getItem('setRRPrescriptionType') === 'retail'){   		
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail PickUp" : "Retail PickUp";    
	}else if(sessionStorage.getItem('selected_prescription_type_RetailMail') === 'retailMail'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail Mail" : "Retail Mail";
	}
	
	if(sessionStorage.getItem('selected_prescription_type_Mail') === 'mail' || sessionStorage.getItem('setRRPrescriptionType') === 'mailPlan'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Mail Service" : "Mail Service";
	} 
	  
	if(sessionStorage.getItem('selected_prescription_type_SrxCleansed') === 'specialtyCleansed' || sessionStorage.getItem('setRRPrescriptionType') === 'specialtyCleansed'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Specialty Cleansed" : "Specialty Cleansed";
	}   
	if(sessionStorage.getItem('selected_prescription_type_SrxUnsolict') === 'specialtyUnsolicited' || sessionStorage.getItem('setRRPrescriptionType') === 'specialtyUnsolicited'){
		 session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Specialty Unsolicited" : "Specialty Unsolicited";
	}
	if(sessionStorage.getItem('selected_prescription_type_ExpRetailmail') === 'expressRefillRetailMail' || sessionStorage.getItem('setRRPrescriptionType') === 'expressRefillRetailMail'){
		  session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Retail Mail" : "ExpressRefill Retail Mail";
	}	  
	if(sessionStorage.getItem('selected_prescription_type_transferRxRetail') === 'retailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail PickUp" : "Retail PickUp";
	}	
	if(sessionStorage.getItem('selected_prescription_type_newRxRetail') === 'retailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail PickUp" : "Retail PickUp";
	}	
	if(sessionStorage.getItem('selected_prescription_type_ExpRetailPickup') === 'expressRefillRetailPickup' || sessionStorage.getItem('setRRPrescriptionType') === 'expressRefillRetailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Retail Pickup" : "ExpressRefill Retail Pickup";
	}	
	if(sessionStorage.getItem('selected_prescription_type_ExpMail') === 'expressRefillMailPlan' || sessionStorage.getItem('setRRPrescriptionType') === 'expressRefillMailPlan'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill MailPlan" : "ExpressRefill MailPlan";
	}
	if(sessionStorage.getItem('setRRPrescriptionType') === 'expressRefillSpecialty'){   
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Speciality Unsolicited" : "ExpressRefill Speciality Unsolicited";
	}
	 if(sessionStorage.getItem('setRRPrescriptionType') === 'expressspecialtyCleansed'){   
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Specialty Cleansed" : "ExpressRefill Specialty Cleansed";
	}

window.s.prop31 = session_prescription_type + " | " + document.title +  " | Pharmacy | Walgreens";

;
}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"event":"pagebottom"},
    {"name":"DPX_RXReview_LOB","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = 'prop31';


var session_prescription_type = "";


	if(sessionStorage.getItem('selected_prescription_type_RetailPickup') === 'retailPickup'){   
		session_prescription_type = "Retail PickUp";
	}	
	if(sessionStorage.getItem('selected_prescription_type_Mail') === 'mail'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Mail Service" : "Mail Service";
	} 
	if(sessionStorage.getItem('selected_prescription_type_RetailMail') === 'retailMail'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail Mail" : "Retail Mail";
	}   
	if(sessionStorage.getItem('selected_prescription_type_SrxCleansed') === 'specialtyCleansed'){
	   session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Specialty Cleansed" : "Specialty Cleansed";
	}   
	if(sessionStorage.getItem('selected_prescription_type_SrxUnsolict') === 'specialtyUnsolicited'){
		 session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Specialty Unsolicited" : "Specialty Unsolicited";
	}
	if(sessionStorage.getItem('selected_prescription_type_ExpRetailmail') === 'expressRefillRetailMail'){
		  session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Retail Mail" : "ExpressRefill Retail Mail";
	}	  
	if(sessionStorage.getItem('selected_prescription_type_transferRxRetail') === 'retailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail PickUp" : "Retail PickUp";
	}	
	if(sessionStorage.getItem('selected_prescription_type_newRxRetail') === 'retailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | Retail PickUp" : "Retail PickUp";
	}	
	if(sessionStorage.getItem('selected_prescription_type_ExpRetailPickup') === 'expressRefillRetailPickup'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill Retail Pickup" : "ExpressRefill Retail Pickup";
	}	
	if(sessionStorage.getItem('selected_prescription_type_ExpMail') === 'expressRefillMailPlan'){
		session_prescription_type = (session_prescription_type !== "") ?  session_prescription_type + " | ExpressRefill MailPlan" : "ExpressRefill MailPlan";
	}

window.s.prop31 = session_prescription_type + " | " + document.title +  " | Pharmacy | Walgreens";
}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"event":"pagebottom"},
    {"name":"DPX_TransferRX_RiteAid","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  \t$(\"section#RiteAidBanner span img\").attr(\"src\",\"/images/adaptive/pharmacy/RiteAidBuyout/Rite_Aid.png\");\n  \u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/transferprescription.jsp/i]}},"event":"pagebottom"},
    {"name":"DWAR_REACT_URL_Update","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59a4956564746d351e005830.js"}]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"event":"pagetop"},
    {"name":"DWAR_Search_Request_change","scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"conditions":[function(event,target){
var elementScope = angular.element("div[ng-controller='doCouponlistController']").scope();
var rootScope = angular.element("div[ng-controller='doCouponlistController']").scope().$root;
if (elementScope.getParameterByName('br') && elementScope.getParameterByName('campaign') && !elementScope.getCookie('encLoyaltyId')) {
var regObj = {};
regObj.campaign = "savedsearch";
regObj.br = elementScope.getParameterByName('br');
$.ajax({
		type: "POST",
		url: "/svc/coupons/(CampaignOffers)",
		data : JSON.stringify(regObj),
		async: false,
		contentType: "application/json"
	}).success(function(res) {
		if (res.offerIdsList || res.savedSearchList) {
			var searchReqObj = {};
			if (res.offerIdsList) {
				searchReqObj.offerIds = res.offerIdsList;
				searchReqObj.type = 'offers';
				searchReqObj.sort = 'brandName';
			} else {
				var offerId = "";
				angular.forEach(res.savedSearchList, function(value, key) {
					if (offerId === "") {
						offerId = value;
					} else {
						offerId += "," + value;
					}
				});
				searchReqObj.q = offerId;
				searchReqObj.type = 'Coupons';
				searchReqObj.br = elementScope.getParameterByName('br');
			}
			rootScope.campaignReqObj = searchReqObj;
			setTimeout(function(){
				elementScope.getSearchResult(searchReqObj, 'CampaignOffers');
			},10);
		}	
	});
}
rootScope.$apply();
elementScope.$apply();
return true;

}],"event":"domready"},
    {"name":"EMP_WellnessOmniture","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
s.linkTrackVars = 'prop30';
if($('#wag-body-main-container').find('data-tracklink'))
{ 
  $('a').attr('data-tracklink','true');
  $('button').attr('data-tracklink','true');
}


}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  $(document).ready(function(){\n    \nif($('#wag-body-main-container').find('data-tracklink'))\n{ \n  $('a').attr('data-tracklink','true');\n  $('button').attr('data-tracklink', 'true');\n}\n    \n  });\n \n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\/365-get-healthy-here.jsp/i]}},"event":"pagebottom"},
    {"name":"FRMWRK_Global_Monetate_","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a0e7c3064746d703f008aa2.js"}]}]}],"event":"windowload"},
    {"name":"FRMWRK_Multi-Cond_Foresee_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-54bdd6fe6234370018be0200.js"}]}]}],"scope":{"URI":{"exclude":["kiosk-ss-MountainPark.jsp","kiosk-ss-Crusader.jsp","kiosk-ss.jsp","kiosk-ss-test.jsp","webmd/webmd_sa",/\/topic\/promotion\/kiosk*/i,/\/businesssolutions\/*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_ApplicationType"), "web");
},function(){
return _satellite.textMatch(_satellite.getVar("m-qa2_only"), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"FRMWRK_Multi-Page_Ad-Blocker-Inject_","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-561618523664620014000b43.js"}]}]}],"scope":{"URI":{"exclude":[/\/store\/checkout\/*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"FRMWRK_Multi-Page_Monetate_","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  document.cookie = \"vpdNewCartNTabsExp=B;domain=.walgreens.com;path=/;\";\n  \n  //Global Header A/B Testing set 100% to A\n  if(typeof doSetHeaderAExp !== 'undefined' \u0026\u0026 typeof doSetHeaderAExp === 'function'){doSetHeaderAExp('monatate');}\n  document.cookie = \"WAG_HEADER_EXP=A;domain=.walgreens.com;path=/;\";\n  //Global Header A/B Testing set 100% to A end\n  \n  $(\"head\").append(\"\u003cstyle\u003e#new-nav-main-menu .wag-top-nav ul.main_menu:before{min-height:0px !important;}\u003c/style\u003e\");\n  var nATitleTimer = setInterval(function(){\n    if( $(\".wag-tier2-offers-carousal-title h2:contains('{{')\").length \u003e 0){\n      $(\".wag-tier2-offers-carousal-title h2:contains('{{')\").attr('ng-cloak','');\n      clearInterval(nATitleTimer);\n    }\n  },100);\n\u003c/script\u003e\n\u003c!-- Begin Monetate ExpressTag Sync v8. Place at start of document head. DO NOT ALTER. --\u003e\n\u003cscript type=\"text/javascript\"\u003e\n\n  //if (window.location.hostname !== \"www.walgreens.com\") {\n    if(window.location.search.indexOf(\"mone=off\") == -1) {\n        var monetateT = new Date().getTime();\n        (function() {\n          var p = document.location.protocol;\n          if (p == \"http:\" || p == \"https:\") {\n            var m = document.createElement(\"script\"); m.type = \"text/javascript\"; m.src = (p == \"https:\" ? \"https://s\" : \"http://\") + \"e.monetate.net/js/2/a-ca4ba9c7/p/walgreens.com/entry.js\";\n            var e = document.createElement(\"div\"); e.appendChild(m); document.write(e.innerHTML);\n          }\n        })();\n    }\n  \n  //}\n\u003c/script\u003e\n\u003c!-- End Monetate tag. --\u003e\n\u003c!--Delay Monetate native tracking till onload fires element tracking with footer--\u003e\n\u003cscript\u003e/*\nwindow.monetateQ = window.monetateQ || [];\nwindow.monetateQ.push([\"addPollForElement\", \n\"#footerReceiveSpecialOffersForm,.wag-footer-copyrightsdetails\"]);*/\n\u003c/script\u003e\n\u003c!--Delay Ends--\u003e"}]}],"conditions":[function(event,target){
function fetchToken(){
  console.log('error true');
}
var includeMonetateTag = true;
if((navigator.userAgent.indexOf('bot') !== -1) || (navigator.userAgent.indexOf('preview') !== -1) || (navigator.userAgent.indexOf('spider') !== -1) || (navigator.userAgent.indexOf('slurp') !== -1)){
    includeMonetateTag = false;
}
if(includeMonetateTag){
    if(window.location.href.indexOf("https://n-") > -1 || window.location.href.indexOf("store/checkout/cart.jsp") > -1 || window.location.href.indexOf("/offers/offers.jsp") > -1) {
        if(window.location.href.indexOf("/leancheckout.jsp") > -1){
            //allow only on cart native
            console.log("native cart monetate");
            return true;
        }else{
            //all other native app pages will be blocked
            return false;
        }
    }
    return true;
} else {
    return false;
}
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"FRMWRK_Multi-Page_PhotoLinkMod_","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  window.DTM_sales_force_enabled=true;\n  window.DTM_sales_force_rx_enabled=true;\n  var killSwitchForBrMsg = true;\n\n  // start: brand landing (08162017)\n  var urlBrandLanding = new RegExp(\"brand_landing.jsp\");\n  if (urlBrandLanding.test(location.pathname)) {  \n    $(\"head\").append(\"\u003cstyle\u003e.toppicks-title { visibility: hidden; }\u003c/style\u003e\");\n    $(window).on(\"load\",function() {\n      setTimeout(function(){\n        $(\".toppicks-title\").html(\"trending\");\n        $(\".toppicks-title\").css(\"visibility\",\"visible\");\n        $(\"head\").append(\"\u003cstyle\u003e\" +\n                         \".wag-carousel-wrapper .frame ul li { width: 200px; padding-left: 5px; padding-right: 5px; color: #3a3c47; float: left; margin: 0 5px 0 0; }\" +\n                         \"\u003c/style\u003e\");\n      },1200);\n    });\n  }  \n  // end: brand landing (08162017)\n\n  $( document ).ready(function() {\n\t(window.sessionStorage) \u0026\u0026 (window.sessionStorage.compareProducts == 'null') \u0026\u0026 (window.sessionStorage.removeItem('compareProducts'));\n    setTimeout(function(){\n      $('.wag-third-level-menu').each(function(){\n        var txt = $(this).find('li').length;\n        if(txt \u003c= 1){\n          $(this).prev().find('.wag-second-level-menusymbol').remove();\n          $(this).remove();\n        }\n      });\n    }, 5000);\n\n    // start: EO-52059 (06292017)\n    var urlRegExp2 = new RegExp(\"/ID=(?:(?!-tier2general)(?:.|\\n))*-tier2general\");\n    if (urlRegExp2.test(location.pathname)) {\n      $('.Whats_Trending_CA').nextAll('section,div').addClass('data-foo-bar');\n      $('\u003cdiv id=\"data-foo-bar\"\u003e\u003c/div\u003e').insertAfter('.Whats_Trending_CA');\n      $('.data-foo-bar').appendTo($('#data-foo-bar'));\n    }\n    // end: EO-52059 (06292017)  \n\n  });\n  if(window.innerWidth \u003e= 768 \u0026\u0026 window.innerWidth \u003c 1200){\n    setTimeout(function(){\n      $(\".menu2\").click(function(ev){\n        var click_menu = $(this).find('span').get(0); \n        if($(click_menu).text() == \"As Seen on TV\"){\n          window.location.href = $(this).attr('href'); \n        }\n        if(!$(this).parent().parent().parent().hasClass('showMenuItems3'))\n        {             \n          if(($(this).parent().parent().parent().parent().hasClass('wag-third-level-menu')) || ($(this).hasClass('activeTopMainMenu')) ) {\n            window.location.href = $(this).attr('href'); \n          } else {\n            ev.preventDefault();           \t\n          }                \n        } else  { \n          window.location.href = $(this).attr('href'); \n        }\n      });\n    }, 5000); \n  }\n  /*******************************************************************************/\n  if(!sessionStorage.getItem(\"wag_vpd_promotion_display\") \u0026\u0026 (window.location.host.search('www.walgreens.com') \u003e -1)){\n    sessionStorage.setItem(\"wag_vpd_promotion_display\",\"false\");\n  }\n  var urlRegExp1 = new RegExp(\"/store/c/beauty\\-products/ID\\=(?:(?!\\-tier1)(?:.|\\n))*\\-tier1\");\n  if (urlRegExp1.test(location.pathname) || (location.pathname.indexOf(\"/store/c/beauty-products/ID=359434-tier1\") !== -1) ) {\n    $(\"head\").append('\u003cstyle\u003e' +\n                     '.wag-tier1-lorealbg.wagBeautyClubHeight {padding-bottom:0 !important;}' +\n                     'div[ng-if*=\"!beautyClubProdPref\"] .wag-tier1-lorealbg.wagBeautyClubHeight {background-color:#DA4880;}' +\n                     'div[ng-if*=\"!beautyClub.rewardsProgress\"] p.wag-beauty-club-exclusive {margin:0;}' +\n                     //'@font-face{font-family:HelveticaNeueLTW01-45Light;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaNeueLTW01-55Roman;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaNeueLTW01-75Bold;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaRoundedLTW01-Bold;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.svg#svgFontName) format(\"svg\")}' +\n                     '\u003c/style\u003e');\n  }\n\n  var urlRegExp2 = new RegExp(\"/store/c/(?:(?!/ID\\=)(?:.|\\n))*/ID\\=(?:(?!\\-tier2general)(?:.|\\n))*\\-tier2general\");\n  if (urlRegExp2.test(location.pathname)) {\n    $(\"head\").append('\u003cstyle\u003e' +\n                     'div[ng-if*=\"!beautyClub.rewardsProgress\"] p.wag-beauty-club-exclusive {margin:0;}' +\n                     //'@font-face{font-family:HelveticaNeueLTW01-45Light;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-45Light.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaNeueLTW01-55Roman;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-55Roman.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaNeueLTW01-75Bold;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaNeueLTW01-75Bold.svg#svgFontName) format(\"svg\")}@font-face{font-family:HelveticaRoundedLTW01-Bold;src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.eot);src:url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.eot?#iefix) format(\"embedded-opentype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.woff) format(\"woff\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.woff2) format(\"woff2\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.ttf) format(\"truetype\"),url(/livestyleguide/walgreens.com/v2.0/themes/fonts/helvetica/HelveticaRoundedLTW01-Bold.svg#svgFontName) format(\"svg\")}' +\n                     '\u003c/style\u003e');\n  }\n\n  /*******************************************************************************/\n\n  $(window).on(\"load\",function() {\n\n    if(window.location.pathname === '/account_purchases.jsp'){\n\t     $('#reorder-products').attr('href', '/youraccount/dlorder/reorder.jsp?exp=listLayout');\n    }\n    \n    if(window.location.pathname === '/youraccount/orderstatus/orderstatus.jsp'){\n    \t$(\"#car-purchase-history-order-moreoptions-filter  a[data-event='Buy Again | link | Purchase History']\").attr('href', '/youraccount/dlorder/reorder.jsp?exp=listLayout');\n    }\n\n    $(\"#yourAccMList  a[test-event=' Buy Again']\").attr('href', '/youraccount/dlorder/reorder.jsp?exp=listLayout');\n    \n    \n\n    if( window.location.href.indexOf(\"walgreens.com/balancerewards/beauty.jsp\") \u003e -1 ||  window.location.href.indexOf(\"walgreens.com/balancerewards/questionnaire.jsp\") \u003e -1) {\n      if(window.innerWidth \u003e= 1200){\n        $(\".wag-beauty-banner-img-mt\").attr(\"style\",\"top:3px\");\n      }\n      if(window.innerWidth \u003e= 768 \u0026\u0026 window.innerWidth \u003c 1200){\n        $(\".wag-beauty-banner-img-mt\").attr(\"style\",\"top:2px\");\n      }\n    }\n    \n    setTimeout(function(){\n    \t$('#extraTier2_sub li:last a').attr('href', '/youraccount/dlorder/reorder.jsp?exp=listLayout');\n      $('li.wag-shopby-shopby:last\u003ea').attr('href', '/youraccount/dlorder/reorder.jsp?exp=listLayout');\n    }, 2500);\n\n\n    setTimeout(function(){\n      $('.contactlense .lens a[href*=\"ID=350006-tier3contactlens\"]').css('display','block');\n    }, 1500);\n\n  });\n\n  if (location.hostname.indexOf(\"n-www.walgreens.com\") !== -1) {\n    $(\"head\").append(\"\u003cstyle\u003e .wag-nav-strip-one, .wag-nav-strip-two {display:none;} \u003c/style\u003e\");\n  }\n\n  $(document).ready(function() {\n\n    // Mar-08-217\n    if(window.location.hostname === \"www3.walgreens.com\"){\n      window.elasticInventoryServiceEndPoint = \"https://customersearch.walgreens.com\";\n    }\n\n    if(!sessionStorage.getItem('pastpurchase')){\n      sessionStorage.setItem('pastpurchase',true);\n    }\n    \n    if(!sessionStorage.getItem('integratedDrugSearch')){\n      sessionStorage.setItem('integratedDrugSearch',true);\n    }\n\n    if(window.location.pathname === '/search/results.jsp'){\n      if(window.innerWidth \u003c 768){\n      \t $('#couponCarouselSection').hide();\n      }\n     \n      \n      $('#frmHeaderSearch').on('submit', function(){\n        setTimeout(function(){$('#sponsoredarrivalsFrame1').sly('reload');},2000);\n      });\n\n    }\n\n    // contact us form\n    if(location.href.indexOf(\"contact-us-forms.jsp\") !== -1 \u0026\u0026 location.search.indexOf(\"tier3Id=\") !== -1) {\n      $(\"[id*='liveagent_button_online']\").css('visibility','hidden');\n    }\n\n    /* temp fix - homepage displaying blank due to reorder */\n    $(\".wagHomePageReorder\").append( $(\"div#Homepage_Rx_CT\") );\n    $(\".wagHomePageReorder\").append( $(\"div#Homepage_Rx_m_CT\") );\n\n    if ( $(\"#wag-header-main-container\").css(\"display\") === \"none\" ) {\n      $(\"#wag-header-main-container\").remove();\n      $(\".wag-nav-strip-one\").remove();\n      $(\".wag-nav-strip-two\").remove();\n    }\n\n  });\n\n  if(window.dtmObject===undefined)\n    window.dtmObject={};\n  if(window.dtmObject.BAS===undefined)\n    window.dtmObject.BAS={};\n\n  var dtmdomain= window.location.protocol+\"//\"+window.location.host;\n  window.dtmObject.BAS.ThirdPartyTags={};\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules={};\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage={};\n  window.dtmObject.BAS.ThirdPartyTags.ATGsvcs={};\n  window.dtmObject.BAS.ThirdPartyTags.Xd={};\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLr={};\n  window.dtmObject.BAS.ThirdPartyTags.BrightEdge={};\n  window.dtmObject.BAS.ThirdPartyTags.ChannelIntelligence={};\n  window.dtmObject.BAS.ThirdPartyTags.ForeseeSurvey={};\n\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.Xd.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLr.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.BrightEdge.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.ChannelIntelligence.isEnabled=false;\n  window.dtmObject.BAS.ThirdPartyTags.ForeseeSurvey.isEnabled=false;\n\n  window.dtmObject.BAS.ThirdPartyTags.Monetate={};\n  window.dtmObject.BAS.ThirdPartyTags.Monetate.isEnabled = true;\n\n  if (window.location.search.indexOf(\"mone=off\") !== -1) {\n    window.dtmObject.BAS.ThirdPartyTags.Monetate.isEnabled=false;\n  }\n  var refill_fs = 'false';\n  if(window.location.pathname.indexOf(\"/pharmacy/refillhub\") !== -1){\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) refill_fs = 'false';})(navigator.userAgent||navigator.vendor||window.opera);\n  }\n\n  if (window.location.pathname.indexOf(\"/pharmacy/\") !== -1 \u0026\u0026 navigator.userAgent.indexOf('Android') === -1 \u0026\u0026 refill_fs === 'true') {\n    window[\"_fs_ready\"] = function() { FS.disableConsole(); }\n    window['_fs_debug'] = false;\n    window['_fs_host'] = 'www.fullstory.com';\n    window['_fs_org'] = 'S1F1';\n    window['_fs_namespace'] = 'FS';\n    (function(m, n, e, t, l, o, g, y) {\n      if (e in m \u0026\u0026 m.console \u0026\u0026 m.console.log) {\n        m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');\n        return;\n      }\n      g = m[e] = function(a, b) {\n        g.q ? g.q.push([a, b]) : g._api(a, b);\n      };\n      g.q = [];\n      o = n.createElement(t);\n      o.async = 1;\n      o.src = 'https://' + _fs_host + '/s/fs.js';\n      y = n.getElementsByTagName(t)[0];\n      y.parentNode.insertBefore(o, y);\n      g.identify = function(i, v) {\n        g(l, {\n          uid: i\n        });\n        if (v) g(l, v)\n          };\n      g.setUserVars = function(v) {\n        g(l, v)\n      };\n      g.identifyAccount = function(i, v) {\n        o = 'account';\n        v = v || {};\n        v.acctId = i;\n        g(o, v)\n      };\n      g.clearUserCookie = function(c, d, i) {\n        if (!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')) {\n          d = n.domain;\n          while (1) {\n            n.cookie = 'fs_uid=;domain=' + d +\n              ';path=/;expires=' + new Date(0);\n            i = d.indexOf('.');\n            if (i \u003c 0) break;\n            d = d.slice(i + 1)\n          }\n        }\n      };\n    })(window, document, window['_fs_namespace'], 'script', 'user');\n\n  }\n\n  if (window.location.pathname === \"/search/results.jsp\"||\n      window.location.pathname === \"/default-light.jsp\"||\n      window.location.pathname === \"/store/store/save/clearance.jsp\" ||\n      window.location.pathname === \"/store/store/save/loyalty-points-offers.jsp\" ||\n      window.location.pathname === \"/store/store/save/sale.jsp\" ||\n      window.location.pathname === \"/store/store/save/rebate.jsp\" ||\n      window.location.pathname === \"/store/store/xpo_products.jsp\" ||\n      window.location.pathname === \"/store/store/family_products.jsp\" ||\n      window.location.pathname === \"/store/store/save/digital_family_offers.jsp\" ||\n      window.location.pathname === \"/store/BalanceRewardsOffers/balance-rewards-offer.jsp\" ||\n      window.location.href.search(/productlist.jsp|productlist\\/|ID=(\\d+)-tier3|results.jsp|\\/q\\//) \u003e -1\n     ) {\n    window.perfLazyLoadGlobalNav = true;\n    window.perfLazyLoadFooter = true;\n    window.isLazyLoadDisabledForProductCards = true;\n    window.lazyLoadProductsTimerValue=1000;\n  }\n\n  window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.Url=\"http://static.atgsvcs.com/js/atgsvcs.js\";\n  window.dtmObject.BAS.ThirdPartyTags.BrightEdge.Url=\"http://edge.analytics.brightedge.com/brightedge_analytics.js\";\n  window.dtmObject.BAS.ThirdPartyTags.ChannelIntelligence.Url=\"http://cts.channelintelligence.com/13016956_landing.js\";\n  window.dtmObject.BAS.ThirdPartyTags.ForeseeSurvey.Url=\"http://img.walgreens.com/foresee/foresee-surveydef.js?build=3\";\n  window.dtmObject.BAS.ThirdPartyTags.Xd.accountid=\"200106295943\";\n  window.dtmObject.BAS.ThirdPartyTags.Xd.Url=\"http://rules.atgsvcs.com/ServerEngine/xd/3.0/json/\"\n  +window.dtmObject.BAS.ThirdPartyTags.Xd.accountid\n  +\"/xd.js\";\n\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLr.accountid=\"200106295943\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLr.Url=\"http://as00.estara.com/fs/lr.php?onload=1\u0026accountid=\"\n  +window.dtmObject.BAS.ThirdPartyTags.EstaraLr.accountid\n  +\"\u0026api_version=1.0\";\n\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.accountid=\"200106295943\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.cs=\"ISO-8859-1\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.estara_fsguid=\"BB551C6E7F68B101490CA5D0C7A606D5\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.estara_firsttime=\"1397630323\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.dnc=\"1397639939114218295\";\n\n  window.dtmObject.BAS.ThirdPartyTags.EstaraRules.Url=\"http://as00.estara.com/fs/rules.php?accountid=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraRules.accountid+\"\u0026title=\"+document.title+\n    \"\u0026referrer=\"+document.referrer+\n    \"\u0026w=\"+window.innerWidth+\n    \"\u0026h=\"+window.innerHeight+\n    \"\u0026d=24\u0026platform=\"+navigator.platform+\n    \"\u0026ua=\"+navigator.userAgent+\n    \"\u0026cs=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraRules.cs+\"\u0026estara_fsguid=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraRules.estara_fsguid+\n    \"\u0026estara_firsttime=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraRules.estara_firsttime+\n    \"\u0026location=\"+location.href+\n    \"\u0026dnc=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraRules.dnc;\n\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.dnc=\"1308080248.23587704593921\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.ulbid=\"942785\";\n  window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.Url=\"https://as00.estara.com/webcare/public/linkimage.php?ulbid=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.ulbid+\n    \"\u0026dnc=\"+window.dtmObject.BAS.ThirdPartyTags.EstaraLinkImage.dnc;\n\n  function createRJCookie(e){var i=window.location.search,o=[],t=[],n=\"\";if(i.indexOf(\"aparam\")\u003e-1\u0026\u0026i.indexOf(\"aid\")\u003e-1){if(null!==i||void 0!==i){var a=-1!==i.indexOf(\"?\")?i.split(\"?\")[1]:\"\";if(\"\"!==a){var p=-1!==a.indexOf(\"\u0026\")?a.split(\"\u0026\"):a;if(\"object\"==typeof p)for(var r=0;r\u003cp.length;r++)o.push(p[r].split(\"=\")[0]),t.push(p[r].split(\"=\")[1]);else o.push(p.split(\"=\")[0]),t.push(p.split(\"=\")[1])}}for(var s=0;s\u003co.length;s++){var d=o[s]+\":\"+t[s]+\";\";n+=d}var f=new Date,l=f.toGMTString(),c=7;f.setTime(+f+864e5*c);var v=encodeURIComponent(\"expires=\"+f.toGMTString()+\";\"),h=encodeURIComponent(\"created=\"+l+\";\");document.cookie=e+\"=\"+encodeURIComponent(n)+v+h+\"; path=/\"}}\n  if( document.cookie.search('rak') === -1 ) {\n    createRJCookie('rak');\n  }\n\n\u003c/script\u003e\n\u003cstyle\u003e\n  @media(min-width:320px) and (max-width:767px) {\n    .wag-tier1-coupon-cnt{overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width: 100%}\n    .wag-beauty-width{min-height:200px !important}\n  }\n  #Homepage_Brand_Story_CT,\n  #Homepage_Brand_Story_m_CT,\n  #Homepage_Retail_Beauty_CT,\n  #Homepage_Retail_Beauty_m_CT,\n  #Homepage_Balance_Rewards_CT,\n  #Homepage_Balance_Rewards_m_CT { display:none !important; }\n  @media (min-width: 768px) and (max-width: 1024px) {\n    #coupons-carosuel .carousel-wrapper-coupons .prevPage, #coupons-carosuel .carousel-wrapper-coupons .nextPage{\n      background: #f7f7f7;\n      float: left;\n      font-size: 60px;\n      color: #489cd4;\n    }\n    #coupons-carosuel .carousel-wrapper-coupons .nextPage {float:right}\n  }\n\u003c/style\u003e\n\n\u003c!-- Google Tag Manager --\u003e\n\u003cscript\u003e\n  if (location.pathname.indexOf(\"topic/pharmacy/medicarepartd/ESI-PDP.jsp\") !== -1) {\n    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n                                                  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'\u0026l='+l:'';j.async=true;j.src=\n          '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n                        })(window,document,'script','dataLayer','GTM-K785LR');\n    $(document).ready(function() { $(\"body\").find(\"script:contains('function(w,d,s,l,i)')\").remove(); });\n  }\n\u003c/script\u003e\n\u003c!-- End Google Tag Manager --\u003e\n\n\u003cstyle\u003e\n  /*.wagNewHomePage { margin-top: 10px; }\n\n  .wag-storeLocator-down {display: none}*/\n  .wagNewHeaderStoreLocatorDropDown .storeLocatorPreview .storeLocatorPreviewcontainer{left: auto}\n  .pac-container{z-index: 1014}\n\n  @media (max-width: 767px) and (min-width: 320px){\n    .wag-tier1-brands { font-size: 15px !important; }}\n  @media (max-width: 1024px) and (min-width: 768px){\n    .wag-tier1-brands { font-size: 15px !important; }}\n  @media (max-width: 1024px) and (min-width: 768px) and (orientation: landscape) {\n    .wag-tier1-brands { font-size: 15px !important; }}\n  @media (min-width: 1025px){\n    .wag-tier1-brands { font-size: 19px !important; }}\n  .wag-second-level-menu li {width: 100% !important;}\n  @media (min-width: 320px) and (max-width: 767px) {\n    .colorSwatchProductcard {background-repeat:round !important;background-position:initial !important}\n  }\n  @media (min-width: 320px) and (max-width: 767px) and (orientation: landscape) {\n    .colorSwatchProductcard {background-repeat:round !important;background-position:initial !important}\n  }\n\u003c/style\u003e\n\n\u003c!-- Start: Reorder Homepage Modules --\u003e\n\u003cscript\u003e\n  $(window).on('load',function(){\n\tif(typeof Clazz !== \"undefined\" \u0026\u0026 Clazz.com.wag.config \u0026\u0026 Clazz.com.wag.config.commonUiConfig) {\n\t\tClazz.com.wag.config.commonUiConfig.getStoreLocatorElastic = '/stores/search';\n\t}\n  });\n  var windowStoreHeader;\n  var windowHeader = setInterval(function(){\n    if(window.header){\n      clearInterval(windowHeader);\n      if(window.header.profileInfo \u0026\u0026 window.header.profileInfo.flow \u0026\u0026 window.header.profileInfo.flow == \"iso\") {\n        windowStoreHeader = setInterval(function(){\n          if(typeof window.storeUserInfo !== \"undefined\" \u0026\u0026 typeof window.storeUserInfo.profileInfo !== 'undefined') {\n            clearInterval(windowStoreHeader); window.storeUserInfo.profileInfo.isEmployeeUser = true; \n          } \n        }, 300); \n      }\n    } \n  }, 500);\n\nsetTimeout(function(){\n    $('[ng-change=\"checkAge()\"]').change(function() {\n      if($(this).val() === 'number:2' || $(this).val() === 'number:3') { \n        $('.check-pregnant').addClass( \"hide\" );\n      } else {\n        $('.check-pregnant').removeClass( \"hide\" ); \n      }\n      $(\"#checkbox1\").prop(\"checked\", false);\n    });\n },1200); \n   setTimeout(function() {\n            if (window.location.pathname === '/store/store/all_brands_landing.jsp') {\n               var brandLength = $('[ng-repeat=\"brandsList in allbrand\"]\u003ea').length; var href_ = ''; \n                for(var i=0; i\u003cbrandLength; i++ ){\n                  href_ = $('[ng-repeat=\"brandsList in allbrand\"]\u003ea').eq( i ).attr('href'); \n                  href_ = href_.replace(\"/1/1\", \"/1\"); \n                  $('[ng-repeat=\"brandsList in allbrand\"]\u003ea').eq( i ).attr('href',href_);\n                  $('[ng-repeat=\"brandsList in allbrand\"]\u003ea').eq( i ).attr('ng-href',href_);\n                }\n            }\n        }, 2000);\n\u003c/script\u003e\n\u003c!-- End: Reorder Homepage Modules --\u003e\n\u003cstyle\u003e\n  @media  (max-width:767px){\n.wag-symtom-selectbox {width: 100%;font-weight: bold;color: #35393d !important; font-size: 16px !important;  text-align-last: center; background-color:#F8F9F9 !important;}\n}\n#products .wag-compare-animationup, #products .wag-compare-animationdown{\n\tbottom: 0 !important;\n\tanimation : none !important;\n}\n\u003c/style\u003e  \n"},{"html":"\u003cscript\u003e\n\tfunction jsReady(fn) {\n\t\tif (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\n\t\t\tfn();\n\t\t} else {\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", fn);\n\t\t}\n\t}\n\n\tfunction jsRebrand() {\n\t\ttry {\n\t\t\tvar oldTxt = \"trusted since 1901\";\n\t\t\tvar newTxt = \"at the corner of happy \u0026 healthy\";\n\t\t\tfor (var i of [\"a\", \"img\"]) {\n\t\t\t\tfor (var j of document.getElementsByTagName(i)) {\n\t\t\t\t\tvar title = j.title || \"\";\n\t\t\t\t\tif (title \u0026\u0026 title.indexOf(oldTxt) != -1) {\n\t\t\t\t\t\tj.setAttribute(\"title\", title.replace(oldTxt, newTxt));\n\t\t\t\t\t}\n\t\t\t\t\tvar alt = j.alt || \"\";\n\t\t\t\t\tif (alt \u0026\u0026 alt.indexOf(\"trusted since 1901\") != -1) {\n\t\t\t\t\t\tj.setAttribute(\"alt\", alt.replace(oldTxt, newTxt));\n\t\t\t\t\t}\n\t\t\t\t\tvar txt = j.innerHTML || \"\";\n\t\t\t\t\tif (txt \u0026\u0026 txt.indexOf(\"trusted since 1901\") != -1) {\n\t\t\t\t\t\tj.innerHTML = txt.replace(oldTxt, newTxt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(\"An error has occurred: \" + err.message);\n\t\t}\n\t}\n\t\n\tjsReady(jsRebrand);\n\u003c/script\u003e"}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bf5730864746d101a0041bc.js"}]}]}],"scope":{"URI":{"exclude":["/webmd/webmd_sa",/\/businesssolutions\//i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"FRMWRK_VPD_MoveableInk_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-59a98a3a64746d4b1b004f51.js"}]}]}],"scope":{"URI":{"include":[/ID\=prod(?:(?!\-product)(?:.|\n))*\-product/i,/product\/view_product_details.jsp/i,/search\/results.jsp/i,/ID\=(?:(?!\-tier3)(?:.|\n))*\-tier3/i,/ID\=(?:(?!\-tier2general)(?:.|\n))*\-tier2general/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"Flyer_Coupon_Detail_Overaly_Issue","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5711419b64746d08ad007079.js"}]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"event":"windowload"},
    {"name":"Gigya","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n    //--------------------------------------------------------------\n    $(window).on('load', function() {\n        loadGigyaCSS();\n        $('[id*=\"gigyaShareBarUI_\"]').removeClass('hide');\n        $('.share-link').on('click', function() {\n            loadGigyaJS($(this).data('provider'));\n        });\n    });\n    //--------------------------------------------------------------\n    var loadGigyaCSS = function() {\n        if ($(\"link[href$='sharebar-gigya.css']\").length \u003c= 0) {\n            var css = $('\u003clink\u003e');\n            css.attr({\n                rel: 'stylesheet',\n                type: 'text/css',\n                href: '/share/css/sharebar-gigya.css?ver=3'\n            });\n            $('head').append(css);\n        }\n    };\n    //--------------------------------------------------------------\n    var loadGigyaJS = function(provider) {\n        var u = $('meta[property=\"og:url\"]').attr('content') || document.URL || '',\n            t = $('meta[property=\"og:title\"]').attr('content') || document.title || '',\n            i = $('meta[property=\"og:image\"]').attr('content') || $('img#proImg').attr('src') || '/images/adaptive/sp/waglogo/Walgreens_ATCO2_Vert-RGB.jpg',\n            d = $('meta[property=\"og:description\"]').attr('content') || $('meta[name=\"description\"]').attr('content') || '';\n\n        // TODO: convert url to production\n        if (document.domain !== 'www.walgreens.com') {\n            u = $('link[rel=\"canonical\"]').attr('href') || 'https://www.walgreens.com' + u.split('walgreens.com').pop().replace(':' + location.port, '');\n        }\n\n        // TODO: verify description is not null\n        if ($.trim(d) === 'null') {\n            d = 'Shop thousands more items at Walgreens.com. Free shipping every day on orders over $35.';\n        }\n\n        // TODO: convert image to absolute path\n        if (i.indexOf('//') === 0) {\n            i = 'https:' + i;\n        } else if (i.indexOf('/') === 0) {\n            i = 'https://www.walgreens.com' + i;\n        }\n\n        // TODO: 'https:' fix\n        u = u.replace(\"http:\", \"https:\");\n\n        // TODO: determine provider url\n        switch (provider) {\n            case 'facebook':\n                provider = 'https://www.facebook.com/sharer.php?u=' + u;\n                break;\n            case 'pinterest':\n                provider = 'https://pinterest.com/pin/create/button/?url=' + u + '\u0026media=' + i + '\u0026description=' + d;\n                break;\n            case 'googleplus':\n                provider = 'https://plus.google.com/share?url=' + u;\n                break;\n            case 'twitter':\n                provider = 'https://twitter.com/share?url=' + u + '\u0026text=' + d;\n                break;\n            default:\n                provider = 'mailto:?Subject=' + t + '\u0026Body=' + d + ' ' + u;\n        }\n\n        if (window.focus) {\n            var w = 600,\n                h = 500;\n            var x = window.top.outerWidth / 2 + window.top.screenX - (w / 2);\n\t\t\t\t\t\tvar y = window.top.outerHeight / 2 + window.top.screenY - (h / 2);\n            var newWindow = window.open(provider, '', 'width=' + w + ', height=' + h + ', top=' + y + ', left=' + x);\n            newWindow.focus();\n        }\n\n    };\n    //--------------------------------------------------------------\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/topic\/*/i,/\/store\/catalog\//i,/\/store\/save\//i,/\/store\/store\/*/i,/\/brands\/general_brand.jsp/i,/\/q\/*/i],"exclude":[/search\//i,/\/topic\/offers\/*/i,/\/topic\/pharmacy\/*/i,/\/topic\/balancerewards\/*/i,/-tier3/i,/store\/checkout\/*/i,/store\/c\//i,/-tier2general/i,/-tier1/i]}},"event":"pagetop"},
    {"name":"HIP-365-GHH-QUICK-FIX","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5c3d03e764746d7edf000e99.js"}]}]}],"scope":{"URI":{"include":[/365-ghh/i]}},"event":"pagebottom"},
    {"name":"HIP_HealthNav_FCN_SymNav_ApplyFilter","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop31":"%Apply Filter Button|Find Care Now%","pageName":"Services Available | Find Care Now"}]}],"scope":{"URI":{"include":[/\/findcarenow\/services/i]}},"event":"windowload"},
    {"name":"HealthHub-switch-providerSlots","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
 var url = window.location.href;
  if (url.indexOf('live-doctor-consultation.jsp') > 0) {
    window.location.href = "/findcarenow";
  }
}]},{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  var enableHealthHubProviders = false;\n  var enableNyHealthHubProvider = true;\n  var enableSwHealthHubProvider = false;\n  var enableHSPBannerProvider = false;\n  var url = window.location.href;\n        if (url.indexOf('live-doctor-consultation.jsp') \u003e 0) {\n            window.location.href = \"/findcarenow\";\n        }\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":["/pharmacy/live-doctor-consultation.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagebottom"},
    {"name":"METRICS_BBX_PROP30_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5c26a86264746d408b01b3f3.js"}]}]}],"scope":{"URI":{"include":["/topic/brand/birchbox-beauty-shop.jsp"]}},"event":"windowload"},
    {"name":"METRICS_Multi-Page_Dropdown-SessionVariable_BAS","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\nvar checkSessionSupport;\n$(document).ready(function() {\n  if((window.location.pathname !== '/') \u0026\u0026 (window.location.pathname !== '/default.jsp')){\n    \n    checkSessionSupport = typeof Clazz !== \"undefined\" \u0026\u0026 Clazz.App.checkSessionSupport();\n    if (document.getElementById(\"dropDownValues\") != null) {\n        window.dataDropdown = document.getElementById(\"dropDownValues\").value;\n        $('#pagenav-items-per-page option').remove();\n        if (dataDropdown !== null \u0026\u0026 typeof dataDropdown !== \"undefined\") {\n            var arr = dataDropdown.split(',');\n            $.each(arr, function(index, dropDownValue) {\n                $('#pagenav-items-per-page').append('\u003coption  value=\"' + dropDownValue + '\"\u003e' + dropDownValue + '\u003c/option\u003e');\n            });\n        }\n    }\n}\n});\n function storeLocatorPreviewLoad() {\n                var $scope = angular.element(document.body).scope();\n\t\t\t\tif (typeof Clazz !== \"undefined\") {\n\t\t\t\t\tangular.element(document).injector().invoke([\"$compile\", function($compile) {\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: Clazz.App.getTemplateURL(\"assets.store-locator-preview.template.store-locator-preview.tmpl\"),\n\t\t\t\t\t\t\tsuccess: function(result) {\n\t\t\t\t\t\t\t\tangular.element(\"#storeLocatorPreview\").html(result);\n\t\t\t\t\t\t\t\t$compile(angular.element(\"#storeLocatorPreview\").contents())($scope);\n\t\t\t\t\t\t\t\t$scope.$apply();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t}\n       ]);\n    }\n }\n$( document ).ready(function() {\n  if(window.location.href.indexOf('productcomparison.jsp') \u003e -1) {\n  \t$('body').append(\"\u003cstyle\u003e.wag-prod-compare-container input[type=radio]:checked + label:before {-webkit-transform: scale(1);-moz-transform: scale(1);-ms-transform: scale(1);transform: scale(1);background: #02a0c0;opacity: 1;}\u003c/style\u003e\");\n  }\n$('body').append(\"\u003cstyle\u003e@media (max-width: 767px) and (min-width: 320px) { .wag-top-nav {height:auto !important;}}\u003c/style\u003e\");\n//code for monetateQ\nfunction monetateCall() {\n    var prodIdval = [];\n    $(\"div \u003e div.wag-coupon-code\").each(function() {\n        prodIdval.push(($(this).attr('id')).replace('coupon', ''));\n    });\n    if (prodIdval.length) {\n        window.monetateQ = window.monetateQ || [];\n        window.monetateQ.push([\"setPageType\", \"search\"]);\n        window.monetateQ.push([\"addProducts\", prodIdval]);\n    }\n}\nsetTimeout(monetateCall, 1000);\n$('#omni-next-click, .wag-header-search-btn').on('click', function(){\n\tmonetateCall();\n});\n\n$(document).keypress(function(e) {\n    if(e.which == 13) {\n        monetateCall();\n    }\n});\n});\n\u003c/script\u003e\n\u003cstyle\u003e\n  .wag-header-logo-container .wag-typeaheadcontainer ul#wag-typeaheadlists li {\n  display:inline-block !important;\n  line-height:20px;\n  }\n\u003c/style\u003e "}]}],"scope":{"URI":{"exclude":["/storelogin.jsp","/webmd/webmd_sa_",/\/businesssolutions\//i,/store\/checkout\/optimizedcheckout\//i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"METRICS_StoreLocatorDetail_AdobeAnalytics_BAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar1":"%BAS_ApplicationType_Native%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar76":"%BAS_ApplicationType_Native%","prop41":"%Customized_Prop41%","prop57":"%BAS_Device_Type_Global_EVar72%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}]},{"engine":"sc","command":"customSetup","arguments":[function(event,s){
if(typeof Clazz !== "undefined") {
$(window).load(function() {
  setTimeout(function() {
      
    window.tempStoreDetailScope = angular.element('[ng-controller=storedetailsController]').scope();
    window.tempStoreDetailNumber = window.tempStoreDetailScope.storedetail.storeNumber;
   
    if(tempStoreDetailScope.storedetail.partnerCode === 'SWD'){
    	$('.wag-health-care-schedule-details>a').attr('href', $('.wag-health-care-schedule-details>a').attr('href').replace('?zip', '&zip'));
 			$('p[ng-if = "storedata.schedulingUrl"] > a').attr('href', $('p[ng-if = "storedata.schedulingUrl"] > a').attr('href').replace('?zip', '&zip'));
    }

    // To hide 'Operated by:'  text for partner-logo stores
    if($(".wag-stores-partner-logo").length){
      if($(".wag-stores-partner-logo div").length) {
           $(".wag-stores-partner-logo div").text($(".wag-stores-partner-logo div").text().replace('Operated by: ',""));
      }
    }
  
    
// To hide Theranos Lab Testing if store has labService
if(window.tempStoreDetailScope != "undefined"){
	window.storeId=window.tempStoreDetailScope.storedetail.storeNumber;
	if(window.storeId == "10276" || window.storeId == "4952"  || window.storeId == "6514" || window.storeId == "3207" || window.storeId == "11615" || window.storeId == "4610") {
		if($("#wag-store-services-theranostest").length) {
			$("#wag-store-services-theranostest").hide()
		}
	}
  
  if(window.tempStoreDetailNumber == '5814' || window.tempStoreDetailNumber == '4433'){
  	$("div[ng-if='clinicStatus']").hide();
  }
  
  window.curr_date = new Date();
	window.curr_date.setTime(window.curr_date.getTime() + (30 * 24 * 60 * 60 * 1000));
	document.cookie = 'str_nbr_do='+window.tempStoreDetailNumber+ ';expires=' + window.curr_date + ';path=/';
	var storeOffersId = {};
	storeOffersId.weeklyAdStoreId = window.tempStoreDetailNumber;
	storeOffersId.weeklyAdStoreStreet = window.tempStoreDetailScope.storedetail.address.street;
	document.cookie = 'storeOffersId='+JSON.stringify(storeOffersId)+ ';expires=' + window.curr_date + ';path=/';
}

    
 $('#opticalOverlay .wag-pair-buttons a').attr('href', 'https://www.walgreensoptical.com');
    $('p.hearing > a').attr('href', "https://www.walgreens-hearing.com");
    
    
    
    

  
  
  },2500);
  


});
}

}]}],"scope":{"URI":{"include":[/\/locator(.*)\/id=(.*)/i]}},"event":"pagebottom"},
    {"name":"METRICS_StoreLocatorDetail_CustomTracking_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-55d631e56134390017001106.js"}]}]}],"scope":{"URI":{"include":[/\/storelocator\//i,/\/locator\//i,/\/storelistings\//i]}},"event":"windowload"},
    {"name":"METRICS_StoreLocatorDetail_CustomTracking_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5aa931b564746d5a650041bb.js"}]}]}],"scope":{"URI":{"include":[/\/storelistings\//i,/\/storelocator\//i]}},"event":"windowload"},
    {"name":"METRICS_StoreLocatorDetail_EyeViewAds_CA","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560b02773562380014000982.html","data":[]}]}]}],"scope":{"URI":{"include":["/storelocator/find.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"METRICS_StoreLocatorDetail_TrackingFind_BAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar79":"%BAS_eVar79_Tracking_DataElement%","prop14":"store locator","pageName":"Store Locator | Walgreens","channel":"storelocator"}]}],"scope":{"URI":{"include":[/\/storelocator\/find.jsp*/i]}},"event":"pagebottom"},
    {"name":"METRICS_StoreLocatorDetail_TrackingFind_BAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar79":"%BAS_eVar79_Tracking_DataElement%","prop14":"store locator","pageName":"Store Locator | Walgreens"}]}],"scope":{"URI":{"include":[/\/storelocator\/find.jsp*/i]}},"event":"pagebottom"},
    {"name":"MRKTNG_BING_PLP_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bc63c4264746d59b4007f37.js"}]}]}],"scope":{"URI":{"include":["/search/results.jsp","/store/c/productlist/",/\/store\/c\/(?:(?!\/)(?:.|\n))*\/(?:(?!\-tier3)(?:.|\n))*\-tier3/i,/\/store\/c\/(?:(?!\/)(?:.|\n))*\/(?:(?!\-tier3contactlens)(?:.|\n))*\-tier3contactlens/i,"/store/store/category/productlist.jsp","/store/store/save/clearance.jsp","/store/store/save/sale.jsp ","/store/store/save/loyalty-points-offers.jsp","/store/store/xpo_products.jsp","/store/store/family_products.jsp","/store/store/save/digital_family_offers.jsp","/search/save/store-offer.jsp","/store/BalanceRewardsOffers/balance-rewards-offer.jsp",/\/store\/c\/(?:(?!\/)(?:.|\n))*\/(?:(?!\-tier1)(?:.|\n))*\-tier1/i,/\/store\/c\/(?:(?!\/)(?:.|\n))*\/(?:(?!\-tier2)(?:.|\n))*\-tier2/i,"/store/catalog/shopLanding"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_FindStore_dotomi_SAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56465c7a64746d694f002234.js"}]}]}],"scope":{"URI":{"include":[/find.jsp*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_GLOBAL_BRANCH","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5c01354664746d461600b74d.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Global_CJ","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5b89844964746d267a00405c.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Global_GoogleAdWords_","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5a0b50c764746d476b00026a.js"}]}]}],"scope":{"URI":{"exclude":[/\/store\/checkout\/cart.jsp/i,/\/store\/checkout\/optimizedcheckout\/*/i,/\/youraccount\/orderstatus\/orderstatus.jsp/i,/\/youraccount\/orderstatus\/order-history-details.jsp/i,/\/youraccount\/autoreorder\/ss_schedule_order_manager.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Global_MediaMath_","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-591a0f4664746d061f000092.js"}]}]}],"scope":{"URI":{"include":[/\/search\/results.jsp/i,/\/store\/c\/*/i,/\/*-tier1/i,/\/*-tier2general/i,/\/topic\//i],"exclude":[/store\/checkout\/confirmorder_sdd.jsp/i,/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Global_OwnerIQ_","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\t// OwnerIQ Analytics tag \n    // var retailPages = ['/store/store/save/clearance.jsp', '/store/store/xpo_products.jsp', '/search/results.jsp', '/store/store/save/digital_family_offers.jsp', '/store/store/save/loyalty-points-offers.jsp'];\n     //if(retailPages.indexOf(window.location.pathname) !== -1 || window.location.pathname.indexOf('/store/c/') !== -1 || window.location.pathname === '/'){\n       $(window).on(\"load\", function() {\n       \t\tsetTimeout(function(){\n\t\t\t\t\twindow._oiqq = window._oiqq || []; \n\t\t\t\t _oiqq.push(['oiq_addPageLifecycle', 'jgrx']); \n\t\t\t\t\t_oiqq.push(['oiq_doTag']); \n\t\t\t\t\t(function() { \n\t\t\t\t\t\t\tvar oiq = document.createElement('script'); oiq.type = 'text/javascript'; oiq.async = true; \n\t\t\t\t\t\t\toiq.src = document.location.protocol + '//px.owneriq.net/stas/s/76930u.js'; \n\t\t\t\t\t\t\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(oiq, s); \n\t\t\t\t\t})(); \n\t\t\t\t}, 500);\n       });\n       \n     // }\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/search\/results.jsp/i,/\/store\/c\/*/i,/\/store\/store\/*/i,/\/topic\/offers\/weeklyad-and-offers.jsp/i],"exclude":[/\/store\/checkout\/*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"MRKTNG_Homepage_DFA_","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Homepage Landing Page
URL of the webpage where the tag is expected to be placed: https://www.walgreens.com/
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 07/23/2015
*/ 

function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=homep0;cat=homep0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
           i.title = "DoubleClick by Google";
           document.body.appendChild(i);

        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;
}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("CA_Homepage"), "true");
}],"event":"pagebottom"},
    {"name":"MRKTNG_Homepage_Dotomi_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56446b8864746d41da0060f8.js"}]}]}],"conditions":[function(event,target){
var triggerInHome = false;
if(window.location.pathname === "/" || window.location.pathname === "/default.jsp"){
  triggerInHome = true;
}
return triggerInHome;
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Homepage_EyeViewAds_","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-560ae1016638390753000859.html","data":[]}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("CA_Homepage"), "true");
},function(){
return _satellite.textMatch(_satellite.getVar(""), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_KENSHOO_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bc0ffda64746d0da0004c82.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_MULTIPLE_facebook_pixel_BAS","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5cf7689a64746d440100275a.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"MRKTNG_Multi-Page_Facebook_","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  \n  function facebookLoadedEvent(element, eventName, fn) {\n  if (element.addEventListener)\n    element.addEventListener(eventName, fn, false);\n  else if (element.attachEvent)\n    element.attachEvent('on' + eventName, fn);\n}\n\nfacebookLoadedEvent(window, 'load', function(){ (function() {\n    var _fbq = window._fbq || (window._fbq = []);\n    if (!_fbq.loaded) {\n      var fbds = document.createElement('script');\n      fbds.async = true;\n      fbds.src = '//connect.facebook.net/en_US/fbds.js';\n      var s = document.getElementsByTagName('script')[0];\n      s.parentNode.insertBefore(fbds, s);\n      _fbq.loaded = true;\n    }\n    _fbq.push(['addPixelId', '224357521094675']);\n  })();\n  window._fbq = window._fbq || [];\n  window._fbq.push(['track', 'PixelInitialized', {}]);});\n  \n    \n\u003c/script\u003e\n\u003cnoscript\u003e\u003cimg height=\"1\" width=\"1\" alt=\"\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=224357521094675\u0026amp;ev=PixelInitialized\" /\u003e\u003c/noscript\u003e"}]}],"scope":{"URI":{"exclude":["store/checkout/cart.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Facebook_tag"), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("m-qa2_only"), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"pagetop"},
    {"name":"MRKTNG_SearchResults_Monetate_SAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56e04fa764746d0523001d6c.js"}]}]}],"scope":{"URI":{"include":["/search/results.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar(""), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_SearchResults_googletag_SAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5705575064746d19e00025d7.js"}]}]}],"scope":{"URI":{"include":[/\/store\/store\/save*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /BAS-ReMarketing-PLP/i);
}],"event":"windowload"},
    {"name":"MRKTNG_Tier3_Monetate_SAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56446a1964746d1db4007cbb.js"}]}]}],"scope":{"URI":{"include":["/productlist.jsp","/productlist/",/\.*\/ID=\d+-tier3/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar(""), "true");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_VPD_Facebook_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5628c18964746d71700020e5.js"}]}]}],"scope":{"URI":{"include":[/view_product_details.jsp/i,/ID=prod(\d+)-product/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"MRKTNG_VPD_Monetate_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5644694b64746d3f7d007273.js"}]}]}],"scope":{"URI":{"include":[/ID=prod(\d+)-product/i,/view_product_details.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"windowload"},
    {"name":"Monetate_Delay_Tracking","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-56c263c464746d4d87002fe0.js"}]}]}],"scope":{"URI":{"include":[/\/store\/checkout\/*/i,/\/offers\/offers.jsp/i,/\/store\/c\/*/i,/\/store\/catalog\/shopLanding/i,/view_product_details.jsp/i],"exclude":["store/checkout/cl_customer_prescriber_info.jsp","store/checkout/cl_prescriber_search_results.jsp","store/checkout/optimizedcheckout/ship_address.jsp","store/checkout/optimizedcheckout/payment_method.jsp","search/results.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"Pharmacy_Genesys_Switch","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.genesysSwitch = true;
}]}],"event":"pagetop"},
    {"name":"Pharmacy_LeanCheckOut-DPF","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
if(document.loaded) {
    CallEvent();
} else {
    if (window.addEventListener) {  
        window.addEventListener('load', CallEvent, false);
    } else {
        window.attachEvent('onload', CallEvent);
    }
}
function CallEvent()
{
  var isSuccess=false;
  var b = document.getElementsByClassName('wag-pharmacy-prescription-list-details');
  isSuccess=true;
  for (var idx= 0; idx < b.length; ++idx){
    if(b[idx].innerHTML.trim().length>=1){
      isSuccess=true;
      break;
    }
  }

  if(isSuccess)
  {
    OmniInterval = setInterval(function () {
      //window.s.linkTrackVars="events";
      window.s.linkTrackVars = 'products';
      window.s.linkTrackEvents="event3,purchase";
      window.s.events = 'event3,purchase';
      window.s.products = _satellite.getVar("window.leancheckout_products");
      window.s.tl(true,"o","Order Submit");
      clearInterval(OmniInterval);
    }, 500);
  }
}
}]}],"scope":{"URI":{"include":[/pharmacy\/leancheckout_confirmation.jsp/i,/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"event":"pagebottom"},
    {"name":"React_storeLocator","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5aa99c9364746d01c5005de2.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"Rx_endeca_storelocator","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\nvar enableRxElasticstoreLocator = true; \n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/pharmacy\//i]}},"event":"pagebottom"},
    {"name":"SAS-Beauty-Consultation-linkURL-Update","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
$(document).ready(function() {
  if($("#wag-store-services-beautyconsultation").length)
		$("#wag-store-services-beautyconsultation").attr("href","/topic/promotion/new-beauty-experience.jsp");
});
}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"SAS_StoreDetails_React_fix","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5b9697f064746d08a500161c.js"}]}]}],"scope":{"URI":{"include":[/\/locator\//i,/\/storelocator\/storeDetails.jsp/i]}},"event":"pagetop"},
    {"name":"Sale Page (Copy)","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar9":"'new rx reg authenticated'","pageName":"Sale ","pageURL":"/store/store/save/sale.jsp"}]},{"engine":"sc","command":"addEvent","arguments":["event41"]}],"scope":{"URI":{"include":["/store/store/save/sale.jsp"]}},"event":"windowload"},
    {"name":"Tumblr_Home","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop14":"%BAS_Prop14%"}]}],"conditions":[function(event,target){
if(window.location.host==="tumblr.walgreens.com")
  return true;
else
  return false;

}],"event":"pagebottom"},
    {"name":"UNDEFINED_Brand_CustomTracking_SAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop13":"%BAS_Prop13%"}]}],"scope":{"URI":{"include":["store/store/brands/brand.jsp"]}},"event":"pagebottom"},
    {"name":"UNDEFINED_Global_Gomez_BAS","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n\n  var hostname=window.location.hostname;\n\n  if(hostname!=\"om-perf.walgreens.com\")\n  {\n    if(window.dtmObject!=undefined \u0026\u0026 \n       window.dtmObject.BAS!=undefined \u0026\u0026 \n       window.dtmObject.BAS.ThirdPartyTags!=undefined \u0026\u0026\n       window.dtmObject.BAS.ThirdPartyTags.EstaraRules!=undefined \u0026\u0026\n       window.dtmObject.BAS.ThirdPartyTags.Gomez!=undefined\n      )\n    {\n      if(window.dtmObject.BAS.ThirdPartyTags.Gomez.isEnabled)\n      {\n        var scriptTag= document.createElement(\"script\");\n        scriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.Gomez.Url); \n        scriptTag.setAttribute(\"data-dtconfig\",window.dtmObject.BAS.ThirdPartyTags.Gomez.DtConfig);\n\n\t\t\t\t\n          if(document.head===undefined)\n          {\n            document.getElementsByTagName('head')[0].appendChild(scriptTag);\n          }\n          else\n          {\n            document.head.appendChild(scriptTag);\n          }\n        \n\n      }\n\n    }\n  }\n\u003c/script\u003e"}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagetop"},
    {"name":"UNDEFINED_Multi-Page_CustomTracking_BAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop41":"%Customized_Prop41%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%","channel":"%BAS_Adaptive_Channel_Global%"}]}],"scope":{"URI":{"exclude":["cart.jsp",/\/locator(.*)\/id=(.*)/i,/find.jsp*/i,"/webmd/webmd_sa","ID\\=prod(?:(?!\\-product)(?:.|\\n))*\\-product","view_product_details.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"UNDEFINED_Multi-Page_PastSearch_SAS","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5ca3631164746d76e6004fe3.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"UNDEFINED_Sale_CustomTracking_SAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar67":"%BAS_isGeotargeted%"}]}],"scope":{"URI":{"include":["/store/store/save/sale.jsp"]}},"event":"pagebottom"},
    {"name":"UNDEFINED_StoreLocatorDetail_3rdParty_CA","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
/*
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Store Locator
URL of the webpage where the tag is expected to be placed: https://www.walgreens.com/storelocator/find.jsp
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 09/02/2015
*/ 
 
function createIframe(){
           var axel = Math.random() + "";
           var a = axel * 10000000000000;
          
          var i = document.createElement("iframe");
           i.src="https://2032864.fls.doubleclick.net/activityi;src=2032864;type=seaso0;cat=store0;ord=' + a + '?";
           i.scrolling = "auto";
           i.frameborder = "0";
           i.width = "200px";
           i.height = "100px";
           i.style.display = "none";
  				 i.title = "DoubleClick by Google";
           document.body.appendChild(i);
 
        };
  
        // Check for browser support of event handling capability
      if (window.addEventListener)
      window.addEventListener("load", createIframe, false);
      else if (window.attachEvent)
      window.attachEvent("onload", createIframe);
      else window.onload = createIframe;

}]}],"scope":{"URI":{"include":["/storelocator/find.jsp"]}},"event":"pagebottom"},
    {"name":"UNDEFINED_StoreLocatorDetail_EDITS-1_CA","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-56bd039b64746d4d87002028.html","data":[]}]}]}],"scope":{"URI":{"include":["/id=16394"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"UNDEFINED_StoreLocatorDetail_EDITS-2_CA","trigger":[{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5900c86064746d2d7e00b62f.html","data":[]}]}]}],"scope":{"URI":{"include":["/storelocator/find.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"event":"windowload"},
    {"name":"UNDEFINED_StoreLocatorDetail_EmergencyCloser_","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  console.log('Emergency closer message');\n\twindow.Clazz.com.wag.storesearch.js.StoreSearchService.storePostSearchService = function($wagAPI) {\n       return function(path, data, callback) {\n         console.log('custom menthod----');\n\t\t   var customHeader = {};\n\t\t  // customHeader.headers = {'X-wag_sid': getWagSid()};\n           $wagAPI.post(path, data, customHeader).success(function(value) {\n               if (callback) {\n                   callback(value);\n               }\n           });\n       };\n   }\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/storelocator\/find.jsp/i]}},"event":"windowload"},
    {"name":"UNDEFINED_StoreLocator_CustomTracking_SAS","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
function HomePageEvent(element, eventName, fn) {
  if (element.addEventListener)
    element.addEventListener(eventName, fn, false);
  else if (element.attachEvent)
    element.attachEvent('on' + eventName, fn);
}

HomePageEvent(window, 'load', function(){ HomeloadDL(); });

function HomeloadDL()
{
  var axel = Math.random() + "";
var a = axel * 10000000000000;
  var DOUBLECLICKPaths="https://fls.doubleclick.net/activityi;src=2032864;type=wghom460;cat=store768;ord=1;num=" + a ;

  var dlifrma = document.createElement("IFRAME"); 
  dlifrma.setAttribute("src",DOUBLECLICKPaths); 
  dlifrma.setAttribute("height","1");  
  dlifrma.setAttribute("width","1"); 
  dlifrma.setAttribute("frameborder","0"); 
  dlifrma.setAttribute("title","DoubleClick by Google"); 
  document.body.appendChild(dlifrma); 
}



}]}],"scope":{"URI":{"include":["find.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("m-qa2_only"), "true");
}],"event":"pagebottom"},
    {"name":"UNDEFINED_StoresByState_CustomTracking_SAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop3":"%BAS_Prop3%"}]}],"scope":{"URI":{"include":["storesbycity.jsp","storesbystate.jsp"]}},"event":"pagebottom"},
    {"name":"UNDEFINED_StoresInCity_CustomTracking_SAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop3":"%BAS_Default_PageTitle_Global%"}]}],"scope":{"URI":{"include":["storeincity.jsp"]}},"event":"pagebottom"},
    {"name":"UNDEFINED_Tier3_CustomTracking_SAS","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar67":"%BAS_isGeotargeted%","prop13":"%BAS_Prop13%","prop14":"Tier3"}]},{"command":"writeHTML","arguments":[{"html":"\u003c!--\u003cscript\u003e\n  function addEvent(element, eventName, fn) {\n     \n    if (element.addEventListener)\n      element.addEventListener(eventName, fn, false);\n    else if (element.attachEvent)\n      element.attachEvent('on' + eventName, fn);\n  }\n  \n  addEvent(window, 'load', function(){ triggerThirdPartyTier3(); });\n  function triggerThirdPartyTier3(){\nif(window.dtmObject!=undefined \u0026\u0026 \n     window.dtmObject.BAS!=undefined \u0026\u0026 \n     window.dtmObject.BAS.ThirdPartyTags!=undefined \n    )\n  {\n    if(window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.isEnabled)\n    {\n  \t\tvar scriptTag= document.createElement(\"script\");\n  \t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.ATGsvcs.Url);  \n  \t\tdocument.head.appendChild(scriptTag);\n    }\n    \n    if(window.dtmObject.BAS.ThirdPartyTags.Xd.isEnabled)\n    {\n  \t\tvar scriptTag= document.createElement(\"script\");\n  \t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.Xd.Url);  \n  \t\tdocument.head.appendChild(scriptTag);\n    }\n    \n   /* if(window.dtmObject.BAS.ThirdPartyTags.BrightEdge.isEnabled)\n    {\n  \t\tvar scriptTag= document.createElement(\"script\");\n  \t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.BrightEdge.Url);  \n  \t\tdocument.head.appendChild(scriptTag);\n    }*/\n  //ss  if(window.dtmObject.BAS.ThirdPartyTags.EstaraLr.isEnabled)\n  //  {\n  //\t\tvar scriptTag= document.createElement(\"script\");\n  \t//\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.EstaraLr.Url);  \n  //\t\tdocument.head.appendChild(scriptTag);\n  //  }\n   // if(window.dtmObject.BAS.ThirdPartyTags.EstaraRules.isEnabled)\n  //  {\n  //\t\tvar scriptTag= document.createElement(\"script\");\n  //\t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.EstaraRules.Url);  \n  //\t\tdocument.head.appendChild(scriptTag);\n   // }\n    // Commenting ChannelIntelligence as this call is giving 404  \n    /*if(window.dtmObject.BAS.ThirdPartyTags.ChannelIntelligence.isEnabled)\n    {\n  \t\tvar scriptTag= document.createElement(\"script\");\n  \t\tscriptTag.setAttribute(\"src\",window.dtmObject.BAS.ThirdPartyTags.ChannelIntelligence.Url);  \n  \t\tdocument.head.appendChild(scriptTag);\n    }*/\n    \n  }\n  }\n\u003c/script\u003e--\u003e"}]},{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a0e6bde64746d70390094ff.js"}]}]},{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-59e040aa64746d58750006a5.js"}]}]}],"scope":{"URI":{"include":["tier3"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"UNDEFINED_Tier3_QuickFix_SAS","trigger":[{"command":"loadBlockingScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59dfb2f664746d56a2006175.js"}]}]}],"scope":{"URI":{"include":[/store\/c\/(?:(?!\/ID\=)(?:.|\n))*\/ID\=(?:(?!\-tier3)(?:.|\n))*\-tier3/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"UNDEFINED_Tier3_eVAR97_SAS","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  \n  setTimeout(function(){\n\t\t\ns.linkTrackVars=\"events,eVar97,eVar67,eVar73,eVar74,eVar109,prop14\";\ns.eVar67=\"\";\ns.eVar73=\"\";\ns.eVar74=\"\";\ns.eVar109=\"\";\ns.prop14=\"\";\n    s.events = '';\n\t\ts.eVar97 = _satellite.getVar('tier3_redesign_test_evar97');\n\t\ts.tl();\n\t\ts.linkTrackVars=\"None\";\n }, 5500);\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/*-tier3/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"event":"pagebottom"},
    {"name":"UNDEFINED_VPD_QuickFix_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-599f6e7264746d27bc0021c4.js"},{"src":"satellite-599f734d64746d7ae40043e3.js"},{"src":"satellite-599f734d64746d7ae40043e4.js"},{"src":"satellite-599f734d64746d7ae40043e5.js"},{"src":"satellite-59eab29664746d034e003e86.js"}]}]}],"scope":{"URI":{"include":[/ID\=prod(?:(?!\-product)(?:.|\n))*\-product/i,/view_product_details.jsp/i]}},"event":"windowload"},
    {"name":"brhc-sleep-tracker-dtm-load","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  var sleepTrackerEnable = true;\n\u003c/script\u003e\n\u003cscript\u003e\n  $(document).ready(function(){\n    if(sleepTrackerEnable === true){\n    $(\".wag-stpdbd-graph-block-mobile .wag-panel:last-child\").css(\"display\",\"block\");\n    }\n  })\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/steps\/brhc-loggedin.jsp/i]}},"event":"pagebottom"},
    {"name":"cs-securitydashboard-login","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59d72fb764746d3ec4002995.js"}]}]}],"scope":{"URI":{"include":[/\/youraccount\/security_information.jsp/i]}},"event":"domready"},
    {"name":"cs_login","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-564659d664746d3f800083e2.js"}]}]}],"scope":{"URI":{"include":[/\/pharmacy\/register\/completePharmacyReg.jsp/i]}},"event":"windowload"},
    {"name":"dpf-checkout-confirmation-on-load","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
//console.log('dtm rule triggered test1');
window.dtmObject = {};
window.dtmObject.dpf = {};
window.dtmObject.dpf.orderDetails = JSON.parse(sessionStorage.getItem("dpf_leancheck_mbox"));
var itemArray = new Array();
var obj = window.dtmObject;
var orderData="";
orderData = obj.dpf.orderDetails;
//console.log(orderData.noOfPrescriptions);
var rx_count = orderData.noOfPrescriptions;
if(typeof rx_count !== undefined && typeof rx_count !== "")
{
	rx_count = rx_count.toString();
}
window.monetateQ = window.monetateQ || [];
window.monetateQ.push(["setPageType", "RxPurchase"]);
	window.monetateQ.push(['setCustomVariables', 
		 [		
     {name: 'orderId', value: orderData.orderId},
		 {name: 'rxcount', value: rx_count}  
		 ]
	]);

window.monetateQ.push(["trackData"]);
window.s.tl();
}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i],"exclude":[/search\/results.jsp?/i]}},"event":"pagebottom"},
    {"name":"dpf-new-refillhub-on-load","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
setTimeout(function(){
window.s.prop31="Territory Nav | Refills|"+appState+"|Your Prescriptions";
},1000);
}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"event":"pagebottom"},
    {"name":"dpf-rx-report-hamburger","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
var headerstyle = $('<style>.wag-slide-humbergunmenu { display: none; }</style>');
$('html > head').append(headerstyle);
}]}],"scope":{"URI":{"include":[/\/pharmacy\/report\/rxreport.jsp/i]}},"event":"pagebottom"},
    {"name":"dpf-save-a-trip","trigger":[{"engine":"sc","command":"setVars","arguments":[{"prop31":"Save a Trip"}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"event":"pagebottom"},
    {"name":"dpf_family_session","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){

window.onbeforeunload = mapMemberId;
function mapMemberId(){
	if (typeof(Storage) !== "undefined") {
    if(sessionStorage.getItem("memberId") !== null){
		sessionStorage.setItem("sessionProfileId",sessionStorage.getItem("memberId"));
    }else{
      if(window.header !== undefined){
    sessionStorage.setItem("sessionProfileId",window.header.profileInfo.profileId);
      }
    }
    }
}
}]}],"scope":{"URI":{"include":[/\/pharmacy\/manageautorefills\/manage_auto_refill.jsp/i,/\/pharmacy\/order\/enterprescription.jsp/i,/\/pharmacy\/order\/transferprescription.jsp/i,/\/pharmacy\/refillhub\/refillhub_pres_settings.jsp/i,/\/pharmacy\/report\/rxprint.jsp/i,/\/pharmacy\/dashboard.jsp/i,/\/youraccount\/health_history.jsp/i,/\/pharmacy\/youraccount\/accountbalance\/payment.jsp/i,/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"event":"pagebottom"},
    {"name":"hcc-redesign-tempFix","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript type=\"text/javascript\"\u003e\n\t$('.mrgBtm50px').removeClass('col-lg-12 col-sm-12 col-xs-12 p0').addClass('container');\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/scheduler\/hiv-prep.jsp/i,/\/topic\/pharmacy\/scheduler\/sti-testing.jsp/i]}},"event":"windowload"},
    {"name":"health-app-to-gemini-app","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a0b489464746d0bc3008025.js"}]}]}],"scope":{"URI":{"include":[/\/connect-health-app.jsp/i]}},"event":"windowload"},
    {"name":"medicare_walgreens_tracking","trigger":[{"engine":"sc","command":"setVars","arguments":[{"eVar100":"pavan_test"}]}],"scope":{"subdomains":{"include":["medicare.walgreens.com"]}},"event":"windowload"},
    {"name":"sonic-flag-switch","trigger":[{"engine":"sc","command":"customSetup","arguments":[function(event,s){
window.sonicTurnSwitch = true;
}]}],"event":"pagebottom"},
    {"name":"uce-br-rewards","trigger":[{"command":"writeHTML","arguments":[{"html":"\u003cscript\u003e\n  $(document).ready(function(){\n    if(typeof Clazz !== \"undefined\" \u0026\u0026 Clazz.com.wag.config.commonUiConfig !== undefined){\n  \t\tClazz.com.wag.config.commonUiConfig.getbalancerewards = \"/svc/profiles/{profileId}/loyalty/(RewardsInfo)\";\n    }\n  })\n\u003c/script\u003e"}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"event":"pagebottom"}
  ],
  "rules": [
    {"name":" HIP_HealthNav_FCN_CloseExitToPartner_X","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CloseExitToPartnerX","setVars":{"prop31":"%Close | Exit to Partner |\u003cinsert Partner\u003e|\u003cinsert Selected Service\u003e|Find Care Now|B%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".close-page-turn-b","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"2448916 - DO-BalanceRewards-AvailableOffers-Sign-Me-Up","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"Sign Up | Available offers | Members Only Offers section | Balance Rewards","pageName":"Sign Up | Available offers | Member Only Offers | Balance Rewards | Walgreens"}}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5577150031366100173e0400.html","data":[]}]}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"id":"availOffersSignUpBtn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Appt_scheduler_back_btn_fix","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5f852fed64746d4ced0004f8.js"}]}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i]}},"selector":"button.btn-back-control","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Add-to-Cart (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Add-to-Cart","setVars":{"prop30":"minicart-add to cart","channel":"%BAS_Adaptive_Channel_Global%"},"customSetup":function(event,s){
window.s.products=";"+_satellite.getVar("BAS_VPD_WicId");

},"addEvent":["scAdd","scOpen"]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"input","property":{"id":"receiveing-addToCartbtn","type":"button"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-BV-QA-prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BazaarVoice QA Clicks","customSetup":function(event,s){
  s.linkTrackVars = "";
  s.prop30 = "";

  var bvId = $(this).closest("[id]").attr("id") || "";
  var bvClass = $(this).closest("[class]").attr("class") || "";
  var bvText = "";

  var TYPE = {
    QA: 		"wagProductStickyCart",
    ASK: 		"bv-ask-question",
    POSTQ: 	"bv-submitquestion",
    ANSWER:	"bv-content-btn",
    POSTA: 	"bv-submitanswer"
  };

  if (bvId.indexOf(TYPE.QA)!==-1) {
    bvText = "Q&A Link | StickyNav | VPD | Walgreens";	  
  } else if (bvClass.indexOf(TYPE.ASK)!==-1 ) {
    bvText = "Ask a Question | Q&A Container | VPD | Walgreens";
  } else if (bvId.indexOf(TYPE.POSTQ)!==-1) {
    bvText = "Post Question | Q&A Container | VPD | Walgreens";	  
  } else if (bvClass.indexOf(TYPE.ANSWER)!==-1) {
    bvText = "Answer a Question | Q&A Container | VPD | Walgreens";	  
  } else if (bvId.indexOf(TYPE.POSTA)!==-1) {
    bvText = "Post Answer | Q&A Container | VPD | Walgreens";
  }

  s.linkTrackVars = "prop30";
  s.prop30 = bvText;

  console.log( '--------------------------' );
  console.log( bvId );
  console.log( bvClass );
  console.log( bvText );
  console.log( '--------------------------' );
}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-598c8ea764746d6deb00f6ad.js"}]}]}],"scope":{"URI":{"include":[/ID\=prod(?:(?!\-product)(?:.|\n))*\-product/i]}},"selector":"button.bv-ask-question, a.bv-ask-question-label, button[name=\"bv-submit-button\"], button.bv-content-btn.bv-content-secondary-btn.bv-focusable, #wagProductStickyCart [ng-click*=\"selfServeQuestions\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Coupon-Available-View-Product-Quick-View","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-View-Product-Quick-View","setVars":{"prop43":"Customer on Quick View | Clicks View Product | Quick View"}}]}],"conditions":[function(event,target){
var triggerThis = false;
if (typeof window.dtmObject === 'undefined') {
    window.dtmObject = {}
}
if (typeof window.dtmObject.BAS === 'undefined') {
    window.dtmObject.BAS = {}
}
window.dtmObject.BAS.CouponAvailableLinkLocation = "FromQuickViewToVPD"
if ($(this).parent().text().search('Coupon available') > -1) {
    triggerThis = true;
}
return triggerThis;
}],"selector":".wag-qklook-prdtcrd a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-AddtoCart","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["scAdd"]}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"conditions":[function(event,target){
_satellite.setVar();
return true;
}],"selector":"#reliefAdvisorAddToCart","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-FindStore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event20"]}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"selector":".symptom_find_at_store","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-ProductTab","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS-Recommendattion-productTab%"}}]}],"scope":{"URI":{"include":[/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"conditions":[function(event,target){
var productTab = 'Relief Advisor | Products Tab |' + document.title;
_satellite.setVar('BAS-Recommendattion-productTab',productTab)
return true
}],"selector":".act1.tablink.active_tab_relief","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-Symptoms","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Get-Recommendation-Symptoms","setVars":{"prop30":"%BAS-SymptomValues%"}}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"conditions":[function(event,target){
var symptoms = [];
$('.wag-symtom-selected').each(function(index,ele){
  var symtomValue = $(ele).attr('title'); 
  if(symptoms.indexOf(symtomValue) === -1){
      symptoms.push(symtomValue);
  }
});
var ageRange = $('.wag-symtom-selectbox option:selected').text();
var pregnent = false;
var pregnentLength = $('.check-pregnant>.ng-not-empty').length
var pregnentStatus = $('.check-pregnant.hide').length
console.log(pregnentStatus);
if(pregnentLength === 1 && pregnentStatus !== 1){
var pregnent = true;
}else{
var pregnent = false;
}
if(pregnent){
data = 'Relief Advisor | Get Recommendations |' + symptoms + ' | ' +ageRange+ ' | pregnent | ' + document.title;
}else{
data = 'Relief Advisor | Get Recommendations |' + symptoms + ' | ' +ageRange+ ' | ' + document.title;
}
_satellite.setVar('BAS-SymptomValues',data)
return true
}],"selector":".wag-symtom-Buttonfullwidth","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-TipsTab","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS_tips_tab%"}}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"conditions":[function(event,target){
var tipsTab = 'Relief Advisor | Tips Tab |' + document.title;
_satellite.setVar("BAS_tips_tab",tipsTab);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":".act2.tablink","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Get-Recommendation-Update","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS_update_Recommendation%"},"customSetup":function(event,s){
$('.refill_cont_mid #products article').remove();
}}]}],"scope":{"URI":{"include":[/\/store\/c\/cough-cold-and-flu-medications\/ID=360549-tier2general/i]}},"conditions":[function(event,target){
var updateRecommendation = 'Relief Advisor | Update your selections | ' + document.title;
_satellite.setVar("BAS_update_Recommendation",updateRecommendation);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":".update_button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Header-Shop-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar250":"Shop Mega Menu Hover"}}]},{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5c3c21fa64746d7b2b000c25.js"}]}]}],"conditions":[function(event,target){
var bhst = false;
if( typeof window.bhsttriggered === 'undefined' && $('.wag-shop-mega-menu').css("top") === '41px' ){
  bhst = true;
  window.bhsttriggered = 1;
}
if( typeof window.bhsttriggered === 'undefined' && !$( "#mega-menu-nav" ).hasClass( "hide" ) ){
  bhst = true;
  window.bhsttriggered = 1;
}
return bhst;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#menu-shop-products, #ShopProductsMenu, #mega-menu-nav","event":"hover(1500)","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Tier2-Carousel-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var carousellinkpagetitle = $(document).prop('title');
var _this = $(this); 
var carousellinkpos = _this.attr('event-title');
var flag = _this.closest('ul').parent().attr('id');
var pos = _this.closest('li').attr('quick');
if(flag === 'basic'){
  carousellinkpos = 'Top Sellers Carousel : '+pos;
} else if(flag === 'salesoffers'){
  carousellinkpos = 'Most Viewed Carousel : '+pos;
} else if(flag === 'newsarrivals'){
  carousellinkpos = 'Newest Arrivals Carousel : '+pos;
} else if(flag === 'salesofferscarousal'){
  carousellinkpos = 'Sales & Offers Carousel';
} else if(flag === 'couponCarousel') {
  carousellinkpos = 'Coupon Carousel';
}

window.s.prop30 = carousellinkpos +" | "+ carousellinkpagetitle;
}}]}],"scope":{"URI":{"include":[/-tier2general/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"li.wag-product-card-width .wag-productdetail-mobile a, li.wag-product-card-width .wag-productimagenew a, li.wag-product-card-width .wag-qklook-productcard-sec button, #couponCarousel li article.wag-do-couponlist-box a, #couponCarousel li article.wag-do-couponlist-box button, #salesofferscarousal li.wag-product-card-width a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Topic-Boots-Slider-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS-Topic-Boots-Slider-Prop30%"}}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"section","property":{"data-trackshutter":"true"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Topic-Boots-Slider-Tracking-Prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Topic-Boots-Slider-Tracking-Prop30","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var exploreButtonStatus = ($(this).find('.icon-XCircle').is(':visible') === true)? 'Explore' : 'Hide';
var exploreButtonClickTrack = exploreButtonStatus + '|' + $(this).attr("data-trackval") + '|' + $('title').text().split('|')[0];
s.prop30 = exploreButtonClickTrack;
}}]}],"scope":{"URI":{"include":["/topic/promotion/boots-beauty.jsp"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"section","property":{"data-trackshutter":"true"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-Topic-Link-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS-Topic-Link-Prop30%"}}]}],"scope":{"URI":{"include":[/\/topic\/*/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"a","property":{"data-tracklink":"true"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-VPD-Cust-Also-Bought-Product-Click-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_VPD_Cust_Also_Bought_Product_Click_Event","customSetup":function(event,s){
window.s.linkTrackVars = 'eVar80';
var origProdID = $("#hiddenProductId").val();
var recProdID = 0;
var recProdUrl = $(this).attr("href");
if(typeof recProdUrl !== undefined ) {
  if(recProdUrl.indexOf("view_product_details.jsp") > -1){
   var queryParams = recProdUrl.split("?")[1];
   if(typeof queryParams != undefined){
    var queryParamsArr = queryParams.split("&");
     for(var keyVal = 0; keyVal < queryParamsArr.length; keyVal++){
      var keyValPair = queryParamsArr[keyVal].split("=");
      if(keyValPair[0] == "id"){ recProdID = keyValPair[1] };
     }
   } 
  } else if(recProdUrl.indexOf("/ID=") > -1){
   recProdID = recProdUrl.split("/ID=")[1].split("-product")[0];
  }
}
var currentVpdTier1Name = ($('ul.wag-breadcrumb li:nth-child(3) a').html()) ? $('ul.wag-breadcrumb li:nth-child(3) a').html() : '';
var productPosition = $(this).attr('product-position');
var wagPromotionType = ($(this).attr("product-offer-type")) ? $(this).attr("product-offer-type"):'';
if(wagPromotionType == ''){
window.s.eVar80 = "Cust Also Bought: " + productPosition + "|" + document.title.split("|")[0].trim() + "|" + currentVpdTier1Name + "|Orig: " + origProdID + "|Rec: " + recProdID;
}else if(wagPromotionType == 'BOGO' || wagPromotionType == '3for2' || wagPromotionType == 'Bonus Points'){
window.s.eVar80 = "Other Qualifying Items: " + wagPromotionType + "|" + productPosition + "|" + document.title.split("|")[0].trim() + "|" + currentVpdTier1Name + "|Orig: " + origProdID + "|Rec: " + recProdID;		
}
_satellite.setCookie("recProdID", recProdID);
}}]},{"command":"delayActivateLink"}],"conditions":[function(event,target){
var trigCustAlsoProdEvnt = false;
if(typeof window.clFlag !== 'undefined' && window.clFlag === false){
	trigCustAlsoProdEvnt = true;
}
return trigCustAlsoProdEvnt;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"li.wag-product-card-width .wag-productdetail-mobile a ,li.wag-product-card-width .wag-productimagenew a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-VPD-Find-At-Store (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-VPD-Find-At-Store","setVars":{"prop56":"VPD Find At Store"}}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"a","property":{"id":"receiveing-findAtStore","title":"Find at Store"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-VPD-prop30-Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-VPD-prop30-Link","customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 =  "Shop by Category Module"+" | "+ $('title').text();
}}]}],"scope":{"URI":{"include":[/ID=prod\d+-product/i,"view_product_details.jsp"],"exclude":["experience=B"]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"a.trackProp30, a.tracktier2Prop30","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-VPDCL-Related-Product-Click-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_VPDCL_Related_Product_Click_Event","customSetup":function(event,s){
window.s.linkTrackVars = 'eVar80';
window.s.eVar80 = "Related Products Carousel: " + $(this).attr("product-position") + " | " + document.title.split("|")[0].trim();
}}]}],"conditions":[function(event,target){
var trigRelProdEvnt = false;
if(typeof window.clFlag !== 'undefined' && window.clFlag === true){
	trigRelProdEvnt = true;
}
return trigRelProdEvnt;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"li.wag-product-card-width .wag-productdetail-mobile a ,li.wag-product-card-width .wag-productimagenew a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-VPDCL-Reorder-Contact-Lenses-Click-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_VPDCL_Reorder_Contact_Lenses_Click_Event","customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var pageNameReorder = (document.title).split('|')[0].trim();
if(pageNameReorder !== ""){    
   window.s.prop30 = "Reorder | " + pageNameReorder;
}
}}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"a.reorder-contact-lenses-vpdcl","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS-WebMD-Recomm-Product-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"channel":"%BAS_WebMD_PageTitle%","pageURL":"%BAS_WebMD_PageTitle%"},"customSetup":function(event,s){
if( $(this).attr("wicid") !== "") {
  var sourceUrl = (window.location != window.parent.location) ? document.referrer: document.location.href;
  var sourceDomain = 'Test';
  if( sourceUrl.indexOf("walgreens.com/cold-and-flu/") > -1 || sourceUrl.indexOf("walgreens.com/allergies/") > -1 ) {
    sourceDomain = 'Walgreens';
  } else if(sourceUrl.indexOf("webmd.com/cold-and-flu/") > -1 || sourceUrl.indexOf("webmd.com/allergies/") > -1 ) {
    sourceDomain = "WedMD";
  }
  var advisor = 'Test';
  if( sourceUrl.indexOf("/cold-and-flu/") > -1){
    advisor = 'ReliefAdvisor';
  } else if(sourceUrl.indexOf("/allergies/relief-advisor") > -1) {
    advisor = 'AllergyAdvisor';
  }
  window.s.linkTrackVars = 'eVar111'; 
  window.s.eVar111 = $(this).attr("wicid") + " | product " + ($("section .flip-container .flipper").index($(this).parent())+1) + " | " + advisor + " | " + sourceDomain;  
}

}}]}],"conditions":[function(event,target){
var wicidexists = false;
if($(this).attr('wicid') ){
    wicidexists = true;
}
return wicidexists;
}],"selector":".flip-container .flipper\u003ediv","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS_Beauty-Tier1-Tile-Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS-Beauty-Tile-Prop30%"}}]}],"conditions":[function(event,target){
var tile1 = $('.wag-tier2-tiles-img.wagBeautyClubHeight').index(this);
var tile2 = $('.wagBeautyClubHeight.wagBEbg').index(this);

if (tile1 == 0) {
	tileName = "Beauty Enthusiast Tile 1"
} else if (tile2 == 0) {
	tileName = "Beauty Enthusiast Tile 2"
}

if (window.header.profileInfo.loggedIn === "true") {
	var logState = "Logged In";
} else if (window.header.profileInfo.loggedIn === "false" && window.header.profileInfo.recognizedState === false) {
	var logState = "Not Logged In";
}

var viewDeatils = $('.wag-tier2-tiles-img.wagBeautyClubHeight img').index(this);
var signInLink = $('.wag-beauty-club-exclusive a').index(this);
var viewActivity = $(this).attr('ng-href');

if (viewDeatils == 0) {
	var activityDetail = "Get Details";
}
if (signInLink == 0) {
	var activityDetail = "Already a Member";
}

if (viewActivity === "/balancerewards/recommendations.jsp") {
	var activityDetail = "View All Activity";
}
if (viewActivity === "/balancerewards/questionnaire.jsp") {
	var activityDetail = "Beauty Preferences";
}

var tileInfo = tileName + ' | ' + logState + ((activityDetail) ? (' | ' + activityDetail) : ' ') + ' |  Beauty ExpB';
	_satellite.setVar('BAS-Beauty-Tile-Prop30', tileInfo);
return true;
}],"selector":".wag-tier2-tiles-img.wagBeautyClubHeight img, .wag-beauty-club-exclusive a, .wagBeautyClubHeight.wagBEbg img, .wag-tier2-beauty-recom-editlnk a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS_Beauty_Tier1_Prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Beauty_Tier1_Prop30","customSetup":function(event,s){
var category_global_prop30 = "Main";
var endTitle = 'BeautyExpB';
if(navJsonObj && navJsonObj.length === 2){
	endTitle = document.title;
}
if( $(this).closest(".category_global_sitewide_dtm").length == 1 ){
  category_global_prop30 = "SiteWide | BeautyExpB";
} else if($(this).closest(".category_global_shopbycategory_dtm").length == 1 ) {
	category_global_prop30 = "Shop By Category | "+endTitle;
} else if($(this).closest(".category_global_shopbybrand_dtm").length == 1){
  category_global_prop30 = "Shop By Brand | BeautyExpB";
} else if($(this).closest(".category_global_offers_dtm").length == 1){
  category_global_prop30 = "Offers | BeautyExpB";
} else if($(this).hasClass("category_global_social_dtm")){
  category_global_prop30 = "Social | BeautyExpB";
} else if($(this).closest(".category_global_coupon_dtm").length == 1){
  category_global_prop30 = "Coupon | BeautyExpB";
} else {
  category_global_prop30 = "Error in Tracking | BeautyExpB";
}
window.s.linkTrackVars = 'prop30';
window.s.prop30 =  category_global_prop30;
}}]}],"selector":".category_global_sitewide_dtm span, .category_global_shopbycategory_dtm a, .category_global_shopbycategory_dtm img, .category_global_shopbybrand_dtm a, .category_global_offers_dtm a, .category_global_social_dtm, .category_global_coupon_dtm div","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS_TIER2CL_EYEEXAM_PROP30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Schedule an Eye Exam | Exit to Walgreens Optical | Contact Lenses"}}]}],"scope":{"URI":{"include":[/\/store\/c\/contact-lenses\/ID=359432-tier2clense/i]}},"selector":"#monetate_selectorHTML_1e4f6230_0, #monetate_selectorHTML_8f14f538_0","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"BAS_Tier2_Shop_By_Brand","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Tier2_Shop_By_Brand","customSetup":function(event,s){

window.s.linkTrackVars = 'prop30';
window.s.prop30 =  'Shop by Brand | '+document.title;
}}]}],"scope":{"URI":{"include":[/ID=\d+-tier2general/i]}},"selector":".wag-tier2-brands-list a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC - banner learn more click (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"test","setVars":{"prop37":"Learn More | Modal | Loyalty"}}]}],"scope":{"URI":{"include":[/\/checkout\/cart.jsp/i]}},"selector":"a","property":{"data-target":"#learn-more3"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Applepay-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_Applepay_click_tracker%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i,/\/store\/checkout\/cart.jsp/i,/\/youraccount\/clhistory\/contactlenshist.jsp/i]}},"conditions":[function(event,target){
var path = window.location.href;
window.s.linkTrackVars = "eVar161";
if(path.search("/store/checkout/optimizedcheckout/payment_method.jsp") > -1){
	_satellite.setVar('CAC_Applepay_click_tracker',"Apple Pay | Payment Method | Payment Details | Walgreens");
	window.s.eVar161 = "Payment | Apple Pay";
}
else if(path.search("/store/checkout/cart.jsp") > -1){
  _satellite.setVar('CAC_Applepay_click_tracker',"Apple Pay | Payment Button Clicked | Shopping Cart | Walgreens");
	window.s.eVar161 = "Cart | Apple Pay";
}
else if(path.search("/youraccount/clhistory/contactlenshist.jsp") > -1){
  _satellite.setVar('CAC_Applepay_click_tracker',"Apple Pay | Payment Button Clicked | Contact Lens Reorder Page | Walgreens");
	window.s.eVar161 = "CL Reorder | Apple Pay";
}
return true;
}],"selector":".apple-pay-button-payment , .apple-pay-button","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-CAR-Purchase-Details-Event-Tracking ","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Product Detail Page | Link | Purchase Details Page"}}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/order-history-details.jsp/i]}},"selector":"dl.col-lg-7.col-md-7.col-sm-6.col-xs-12.mb0.wag-body-text1 dd:first-child a","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-CAR-Purchase-History-Event-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%cac_car_purchase_event%"}}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/orderstatus.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||'';
_satellite.setVar('cac_car_purchase_event',id);
return true;
}],"selector":"#wag-cac-orders-row button.btn,#car-purchase-history-order-moreoptions-filter a,#wag-cac-orders-row section.wag-cac-purchasehead p a, #wag-cac-orders-row section.wag-cac-purchasedetails p a,#wag-cac-orders-row figure.wag-cac-ord-mob-only a span","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-CAR-Purchase-History-Event-Tracking-select-radio","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%cac_car_purchase_event%"}}]}],"scope":{"URI":{"include":[/youraccount\/orderstatus\/orderstatus.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||$(this).find('option:selected').attr("data-event");
_satellite.setVar('cac_car_purchase_event',id);
return true;
}],"selector":"#car-purchase-history-order-sortby-filter section.radio input,#Ordersfrom,#productpurchases","eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-CAR-ReorderPage-ChangeEvent","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%cac_car_purchase_event%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/dlorder\/reorder.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||$(this).find('option:selected').attr("data-event");
_satellite.setVar('cac_car_purchase_event',id);
return true;
}],"selector":".wag-selectparentclass select,#wag-cac-dealspromo .checkbox input","eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-CAR-ReorderPage-ClickEvent","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%cac_car_purchase_event%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/dlorder\/reorder.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||'';
if(this.getAttribute('test-event')==='Remove'){
  id='Remove | Button | Reorder Products';
}
_satellite.setVar('cac_car_purchase_event',id);
return true;
}],"selector":"#wag-cac-reorderprod-index+button,#wag-cac-prodreomove a,#wag-cac-prodtitle a,#wag-cac-addtocart .btn,#wag-cac-addtocart .btn span,#wag-cac-manage-arlink","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-CART-PTC-NEW-BTN","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Shopping Cart | I'm ready to checkout | Walgreens"}}]}],"scope":{"URI":{"include":[/store\/checkout\/cart.jsp/i]}},"selector":".wag-cac-pricel button.btn","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Cart-Masterpass","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Masterpass in cart / payment page","setVars":{"prop30":"%CAC_Payment_Type_Masterpass%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i,/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"selector":"#wag-cart-masterpass","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Cart-TotalSavings","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Total Savings | Shopping Cart | Walgreens","prop45":"null"}}]}],"scope":{"URI":{"include":[/store\/checkout\/cart.jsp/i]}},"selector":"#wag-cac-total-see-details","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Gol-ViewDetails","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"View Order Details|Guest Order Lookup|Walgreens"}}]}],"scope":{"URI":{"include":["/youraccount/orderstatus/order-history-details.jsp"]}},"selector":"#guestViewOrderDetails","property":{"id":"guestViewOrderDetails"},"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Grape-VD-purchase-history","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"VD purchase history - Grape","setVars":{"prop30":"Vision Direct Tab | Purchase History | Walgreens"}}]}],"scope":{"URI":{"include":[/\/youraccount\/orderstatus\/orderstatus.jsp/i]}},"selector":".wag-purchase-history-tabs ul li:nth-child(2)","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-OrderConfirmation-JoinNow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_OrderConfirmation_JoinNow","setVars":{"prop37":" join loyalty now | shopping cart"}}]}],"selector":"button","property":{"id":"wag-ocp-id-balancereward-joinnow"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-OrderConfirmation-LearnMore (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Learn More","setVars":{"prop37":"\"Your Order Has Been Placed | Checkout | Walgreen\""}}]}],"selector":"a","property":{"data-target":"#learn-more2"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-OrderConfirmation-OrderNumber-Link-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop45":"%cac_sts_orderno-event%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/confirmorder_sdd.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||'';
_satellite.setVar('cac_sts_orderno-event',id);
return true;
}],"selector":"#wag-ocp-orderno-link,#wag-ocp-orderno-link span","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-PTC-Button-Bottom","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar6":"%CAC_Cart_Applied_Coupons%","prop30":"Proceed to Checkout Bottom | Store Order"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":".wag-cart-cspc-btn-bottom button[id='proceedtocheckout']","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-PTC-Button-Top","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar6":"%CAC_Cart_Applied_Coupons%","prop30":"Proceed to Checkout Top | Store Order"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":".wag-cart-cspc-btn-top button[id='proceedtocheckout']","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-Paypal Click (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Paypal Express | Store Order"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":"#checkoutPaypalBtnDsk","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC-STS-AlternateContactInfo-Event-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop45":"%cac_sts_altperson_event%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||'';
_satellite.setVar('cac_sts_altperson_event',id);
return true;
}],"selector":"#wag-cko-sa-id-btn-can-g,#wag-cko-sa-id-btn-sel-g,#wag-remove-altperson-popup-buttons aside button","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC-ShippingContactInfo-Click-Event - April 07, 2017 09:25:43 AM","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop45":"%cac_shipping_contact_info_event%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i,/\/store\/checkout\/optimizedcheckout\/optimize_order_review.jsp/i]}},"conditions":[function(event,target){
var id=this.getAttribute('data-event')||'';
_satellite.setVar('cac_shipping_contact_info_event',id);
if($(this).val() ==='STS' && location.href.search('ship_address.jsp')>-1){
  if($('#ship-to-radio-opt').length>0){
  	var thisScope = $('#ship-to-radio-opt').scope();
		thisScope.$state.current.name = 'ship_to_store';
  }
}

return true;
}],"selector":"#ship-to-radio-opt input[type=radio],#ship-to-radio-opt a small,#select-pu-store button,#select-pu-store #prefpustore,#select-pu-store a,#ship-user-credential-edit-mode #getweeklyad,#alt-pu-persn-edit-mode #altpupersonchk,#sndordstsemail,#select-pu-store a,#shipping-faq-dt a,#stsShippingFaq","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Cart_Apply_Promotion_Code","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_Cart_Apply_Promotion_Code","customSetup":function(event,s){
// Rule evar6 capturing moved to Cart global 
}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
window.applyCouponflag=true;
return true;
}],"selector":"#apply_code","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Cart_ClipCoupon_from_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event71"]}]}],"selector":".wag-cac-clipCoupon-for-omni","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Cart_GetCoupons_and_ChangeStore_link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%cac_getcoupon%"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"conditions":[function(event,target){
var dataEvent=this.getAttribute('data-event')+" | "+document.title;
_satellite.setVar('cac_getcoupon',dataEvent);
return true;
}],"selector":"#wag-cac-cartinfo-display .wag-cac-getcoupon-link,.wag-cac-getCoupon-for-omni,.wag-cac-changeStore-for-omni","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC_Cart_Get_Coupons_link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Coupons available | Shopping Cart | Walgreens"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":"#wag-cac-cartinfo-display .wag-cac-getcoupon-link","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC_Cart_LoyaltyBanner_JoinNow","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_Cart_LoyaltyBanner_JoinNow","setVars":{"prop30":"Loyalty Join Now | Shopping Cart"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"selector":".wag-cart-balance-rew-btn button[id*=join-now]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Cart_LoyaltyBanner_SignIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_Cart_LoyaltyBanner_SignIn","setVars":{"prop30":"Loyalty Sign-In | Shopping Cart"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"selector":".wag-cart-balance-rew-btn button#sign-in","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Cart_Payment_VisaCheckout","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_Cart_Payment_VisaCheckout","setVars":{"prop30":"Visa Checkout Payment | Shopping Cart"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"selector":"IMG","property":{"id":"wag_cac_visa_checkout_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Coupons_Details_link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Coupon details clicked | Shopping Cart | Walgreens"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":"a.open-popup-fullpage-cac","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC_EPP_save_CC_checkbox","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Save to Express Pay | Express Pickup Pass"}}]}],"scope":{"URI":{"include":[/\/store\/expresspay.jsp/i]}},"selector":"#wag-epay-save-cc","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Lean_Checkout_Link_DL_Cart_Page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Shopping Cart","setVars":{"prop31":"Prescription Request | Shopping Cart"}}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":".wag-cart-rxlink-txt a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Payment_VisaCheckout","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC_Payment_VisaCheckout","setVars":{"prop30":"Visa Checkout Payment | Checkout Payment"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"selector":"#wag_cac_visa_checkout_btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_RXUpload_ContinueSkip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_rxAction% | CL RxUpload | Walgreens"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/rx_file_upload.jsp/i]}},"conditions":[function(event,target){
var thisId = $(this).attr("id");
if(thisId === 'rx-image-submit-btn'){
	_satellite.setVar("CAC_rxAction","Continue");
}else{
	_satellite.setVar("CAC_rxAction","Skip");
}
return true;
}],"selector":"#rx-upload-cancel-btn,#rx-image-submit-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_Remove_CART_Item (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"channel":"store"},"addEvent":["scRemove"]}]}],"scope":{"URI":{"include":["/store/checkout/cart.jsp"]}},"selector":"section.wag-qty-details a:nth-child(1)","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC_cart_Continue_Shopping","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Continue shopping | %CAC_Continue_Shopping%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
var pagetitle = document.title;
console.log('tablet',pagetitle);
_satellite.setVar("CAC_Continue_Shopping",pagetitle);
return true;
}],"selector":"#wag-cac-cartinfo-display .wag-btn-primary","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_cart_add_recently","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Add to cart | Recently visited item | %CAC_Continue_Shopping%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
var pagetitle = document.title;
_satellite.setVar("CAC_Continue_Shopping",pagetitle);
return true;
}],"selector":"#rviCarousel .wag-pair-button-group-prd .wag-cac-a2cart-m","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_cart_health-wellness","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_health_wellness%| Top Category | %CAC_pagetitle%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
var pagetitle = document.title;
var healthwellness = '';
if ($(this).prop('nodeName') == "P")
{
  healthwellness = $(this).text();
  console.log(healthwellness,'url');
} 
else if ($(this).prop('nodeName') == "FIGURE") 
{
  healthwellness = $(this).next("p.pt5").text();
  console.log(healthwellness,'image');
}
_satellite.setVar("CAC_health_wellness",healthwellness)
_satellite.setVar("CAC_pagetitle",pagetitle);
return true;

}],"selector":"#wag-shop-category-CA-section .pt5,#wag-shop-category-CA-section aside figure","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_cart_recently_items_remove","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Remove item | Recently visited item | %CAC_title%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
var pagetitle = document.title;
_satellite.setVar("CAC_title",pagetitle);
return true;
}],"selector":".wag-rvi-sly-product-card-width .wag-rvi-close-icon .wag-icon-XCircle-close-rvi,.wag-rvi-sly-product-card-width section p a span","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"CAC_cart_recently_tovpd","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar90":"intra-customer | Product Details Page","prop30":"Position%CAC_recently% | recently visited item |%CAC_pagetitle%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"conditions":[function(event,target){
var pagetitle = document.title;
var recentlytitle = '';
if($(this).attr('product-position'))
   {
   recentlytitle = $(this).attr('product-position');
		console.log(recentlytitle,'url');
   }
   else
   {
     recentlytitle= $(this).next().find('dl dd span a').attr('product-position');
     console.log(recentlytitle,'figure');
   }
_satellite.setVar("CAC_recently",recentlytitle);
_satellite.setVar("CAC_pagetitle",pagetitle);
return true;
}],"selector":"#rviCarousel .wag-productdetail-mobile dl dd span a,#rviCarousel .wag-rvi-sly-product-card-width figure","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_cart_sts_learnMore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop45":"Learn more | link | Shopping cart"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/cart.jsp/i]}},"selector":"#stsCartLearnMoreOverlay","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_add_address_button (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"add new address | address book  | shipping details page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/ship_address.jsp"]}},"selector":"#wag-cko-sa-id-adadd-c","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_addressbook_button_global (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckoutbutton%"},"customSetup":function(event,s){
/*window.setTimeout(function(){
  var serror=_satellite.getVar("CAC_Shipping_Details_Errors");
  if(serror&&(window.location.href).search("ship_address.jsp") != -1 ){
s.prop7=serror;
s.linkTrackVars='prop7';
    console.log("Shipping method error::",serror);
s.tl();
  }
  console.log("timeout check triggers");
},1500);
   /**Scroll top if any error or hashtag cahnges **/
  $('html, body').animate({
            scrollTop: 0
        }, 100);
}}]}],"scope":{"URI":{"include":[/optimizedcheckout\/ship_address.jsp/i,"optimizedcheckout/payment_method.jsp"]}},"selector":"#wag-cko-sa-id-btn-sel-g","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_addressbookclose (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"close address book | address book  | shipping details page"}}]}],"scope":{"URI":{"include":["/store/checkout/optimizedcheckout/ship_address.jsp"]}},"selector":"#wag-cko-sa-id-btn-close-g","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_addressbookedit (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit | address book  | shipping details page"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i]}},"selector":".wag-btn-default-sm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_backtocart (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_Backtocart_Widgetname%"}}]}],"scope":{"URI":{"include":["optimizedcheckout/payment_method.jsp","optimizedcheckout/ship_address.jsp","optimizedcheckout/optimize_order_review.jsp"]}},"selector":"a.wag-back-to-cart-link","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_makepreferredaddress (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"make this preferred address | address book  | shipping details page"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i]}},"selector":"[name=wag-formcheckbox2]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_paymentcancel (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckout_paymenttype_cancel%"}}]},{"command":"delayActivateLink"}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"selector":"#wag-cko-sa-id-btn-can-g","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_paymentcontinue (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckout_paymenttype_continue%"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/payment_method.jsp/i]}},"selector":"#wag-cko-sa-id-btn-sel-g","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_paymentsameasbillingaddress (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"same as billing address |edit creditcard info | payment details page"}}]}],"scope":{"URI":{"include":["/store/checkout/optimizedcheckout/payment_method.jsp"]}},"selector":"#wag-chok-id-pm-ckh1","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_paymentsavebillingaddress (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Save credit card and billing address |edit creditcard  info | payment details page"}}]}],"scope":{"URI":{"include":["/store/checkout/optimizedcheckout/payment_method.jsp"]}},"selector":"#wag-cko-ship-preferred-radio","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_add_loyalty","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"add loyalty info | order review page"}}]}],"selector":"#wag-cko-pm-btn-loyalty-select","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_agree_terms (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"checkbox : I agree terms and conditions | order review page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-osb-radio-a-inp","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_edit_Address (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit shipping address | order review page","channel":"CAC_newcheckout_flow"}}]}],"scope":{"URI":{"include":["optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-id-sa-btn-edad-b","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_edit_contactinfo (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit contact info | order review page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/optimize_order_review.jsp"]}},"selector":".wag-contact-info a","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_edit_loyalty","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit loyalty info | order review page"}}]}],"scope":{"URI":{"include":["/optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-pm-btn-loyalty-edit","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_edit_payment (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit payment info | order review page"}}]}],"scope":{"URI":{"include":["/optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-pm-btn-edit","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_edit_shippinginfo (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"edit shipping info | order review page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-shmeth-editship-btn","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_review_submit_order (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"submit order | order review page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/optimize_order_review.jsp"]}},"selector":"#wag-cko-osb-btn-subord","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_shipaddressdeal (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"checkbox : walgreens online and instore deals |edit contact info  | shipping details page"}}]}],"scope":{"URI":{"include":[/\/store\/checkout\/optimizedcheckout\/ship_address.jsp/i]}},"selector":"#wag-cko-ship-contact-deal-radio","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CAC_newcheckout_shipping_address_preferred (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"save as preferred  address| shipping address| shipping details page"}}]}],"scope":{"URI":{"include":["optimizedcheckout/ship_address.jsp"]}},"selector":"#wag-cko-ship-preferred-radio","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS - Reset Password (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar16":"reset password","channel":"password"},"customSetup":function(event,s){
console.log("fired resetpassword event");
}}]}],"scope":{"URI":{"include":["/password/password_reset.jsp"]}},"conditions":[function(event,target){
return console.log("!!!!");
}],"selector":"button#wag-resetpasswordwid-continue","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-Balance-Rewards-Link-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-Balance-Rewards-Link%","pageURL":"/youraccount/default.jsp"}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"#wag-balance-rewards-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-ConfirmOverlay-NoClick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"No | Are You Sure Overlay | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-acceptconsent-nobutton","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-ConfirmOverlay-YesClick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Yes | Are You Sure Overlay | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-acceptconsent-yesbutton","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-GoToHome-ErrorPage","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Go to walgreens.com home | Service Call Failure Page | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-consent-gotohome-error","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-Gotohome-AlertPage","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Go to walgreens.com home | Error or Alert State Page |  %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-consent-gotohome","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-NoClick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"No, Don't Allow Calls and Texts | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_disclaimer.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-consent-nobutton","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-SignIn-Preference","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Login to see your preferences | Error or Alert State Page |  %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/consent_confirmation.jsp/i,/\/ShortURL\/*/i]}},"selector":"button","property":{"id":"wag-consent-changepreference"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-ConsentPage-YesClick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-ConsentPage-YesClick-Prop30% | %CS_Page_Title%"}}]}],"selector":"#wag-consent-yesbutton","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-Health-Dashboard-Link-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-Health-Dashboard-Link%","pageURL":"/youraccount/default.jsp"}}]}],"selector":"#wag-health-dashboard-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-Manage-Prescriptions-Link-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Manage Prescriptions | %CS_Page_Title%","pageURL":"/youraccount/default.jsp"}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"#wag-manage-prescriptions-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-Refill-Prescriptions-Link-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Refill Prescriptions | %CS_Page_Title%","pageURL":"/youraccount/default.jsp"}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"#wag-refill-prescriptions-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-RegPharmacy-AddressView","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-55ba5589326664001700087c.js"}]}]}],"scope":{"URI":{"include":[/\/register\/pharmacyRegistration.jsp/i]}},"selector":"button","property":{"id":"wag-regform-submit","className":"btn btn-primary wag-btn-primary ng-binding","title":"Continue"},"eventHandlerOnElement":true,"event":"custom","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false,"customEvent":"mousedown"},
    {"name":"CS-SMSPreference-RxStatus","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"prescription status| select | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/sms_preference.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-smspref-prescriptionstatus","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-Show-Password-CheckBox","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-Show-Password% | Create Your Account | Walgreens","pageURL":"/youraccount/default.jsp"}}]}],"scope":{"URI":{"include":[/\/register\/pharmacyRegistration.jsp/i,/\/register\/regpersonalinfo.jsp/i]}},"selector":"#wag-regform-showpassword","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-SmsPreference-SavePreference","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"save preferences| %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/sms_preference.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-smspref-savepreferences","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-SmsPreference-SkipPreference","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"skip | %CS_Page_Title%"},"customSetup":function(event,s){
console.info("rule triggered");
}}]}],"scope":{"URI":{"include":[/\/youraccount\/sms_preference.jsp/i]}},"selector":"#wag-smspref-maybelater","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS-SmsPreference-refillreminders","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"refill remainders module | select | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/youraccount\/sms_preference.jsp/i,/\/ShortURL\/*/i]}},"selector":"#wag-smspref-refillreminders","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_ACC_Status_Overlay (Copy)","scope":{"URI":{"include":["/familyaccount/managefamilyaccounts.jsp"]}},"selector":"wag-fam-prescrip-helpicon","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_ACC_Status_Overlay (Copy)","scope":{"URI":{"include":["/familyaccount/managefamilyaccounts.jsp"]}},"selector":"wag-fam-prescrip-helpicon","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_BeautyClub_EditPref_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Edit | Questionnaire | Beauty Enthusiast"}}]}],"selector":"a","property":{"id":/editPrefLink/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_BeautyClub_Search_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Customer Lookup | Beauty Enthusiast"}}]}],"selector":"button","property":{"id":/searchBtn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_CANC_INV (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar68":"%WG_GlobalHeader_Cntl%","eVar9":"rx reg authenticated"}}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/managefamilyaccounts.jsp"]}},"selector":"wag-btn-ml15","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_CANC_INV (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar68":"%WG_GlobalHeader_Cntl%","eVar9":"%CS_rx_reg_auth_evar9%","pageName":"Cancel Invitation Overlay | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/managefamilyaccounts.jsp"]}},"selector":"button","property":{"className":/wag-btn-ml15/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Lite_Reg_BR_Joininstore_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio |  Attach to Existing Loyalty Account"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bd9934564746d3e10001358.js"}]}]}],"scope":{"URI":{"include":["/register/regpersonalinfo.jsp",/\/register\/loyalty_enroll.jsp/i]}},"selector":"input","property":{"id":"wag-joinbr-joinedinstore"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Lite_Reg_BR_Maybelater_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | No Thanks"}}]}],"scope":{"URI":{"include":["/register/regpersonalinfo.jsp"]}},"selector":"input","property":{"id":"wag-joinbr-maybelater"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Lite_Reg_BR_Newmember_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Create New Loyalty Account"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5bd992b264746d25a20009db.js"}]}]}],"scope":{"URI":{"include":[/\/register\/regpersonalinfo.jsp/i,/\/register\/pharmacyRegistration.jsp/i,/\/register\/loyalty_enroll.jsp/i]}},"selector":"input","property":{"id":"wag-joinbr-newmember"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Lite_Reg_Learnmore_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Learn More | Modal | Loyalty"}}]}],"scope":{"URI":{"include":[/\/register\/regpersonalinfo.jsp/i,/\/register\/loyalty_enroll.jsp/i]}},"selector":"p","property":{"className":/wag-regi-jb-learnmore/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Lite_Reg_NoBR_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Error | No Selection Made"}}]}],"scope":{"URI":{"include":[/\/register\/loyalty_enroll.jsp/i,/\/register\/regOptions.jsp/i]}},"selector":"div","property":{"id":/brPopup/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_LitetoRx_BR_Joininstore_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%LoyaltyId%","prop37":"Form Radio | Attach to Existing Loyalty Account","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/register/completePharmacyReg.jsp"]}},"selector":"#wag-joinbr-joinedinstore","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_LitetoRx_BR_Maybelater_Click (Copy)","scope":{"URI":{"include":["/pharmacy/register/completePharmacyReg.jsp"]}},"selector":"#wag-joinbr-maybelater","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_LitetoRx_BR_Newmember_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Create New Loyalty Account","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/register/completePharmacyReg.jsp"]}},"selector":"#wag-joinbr-newmember","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_LitetoRx_submit_click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Error | No Selection Made","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/register/completePharmacyReg.jsp"]}},"selector":"#wag-acinfomin-submit","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_CreateNew","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"create a new account | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-newlogin-createaccount","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_ForgotPassword","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"forgot password | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-newlogin-forgotpassword","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_ForgotUsername","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"forgot username | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-newlogin-forgotusername","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_LiveChat","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"live chat | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-helpwid-livechat-new","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_SignIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"sign in | %CS_Page_Title%"},"customSetup":function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar110';
window.s.eVar110 = "Traditional User";
}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-newlogin-signin","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_NewLogin_SignInHelp","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"sign in help center | %CS_Page_Title%"}}]}],"scope":{"URI":{"include":[/\/login.jsp/i]}},"selector":"#wag-newlogin-signinhelp","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_REMOVE_FamilyMem  (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar68":"%WG_GlobalHeader_Cntl%","eVar9":"%CS_rx_reg_auth_evar9%","pageName":"Remove Family Member | Walgreens","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/managefamilyaccounts.jsp"]}},"selector":"a","property":{"className":"link-default"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_REMOVE_FamilyMem (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar68":"%WG_GlobalHeader_Cntl%","eVar9":"rx reg authenticated","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/familyaccount/managefamilyaccounts.jsp"]}},"selector":"link-default","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_RxReg_MatchOverlay_ContinueReg_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"OPVMATCH_AND_DOTCOM_ACCOUNT_FOUND | CONTINUE REG  CLICKED"}}]}],"scope":{"URI":{"include":[/\/register\/pharmacyRegistration.jsp/i]}},"selector":"button","property":{"id":/continuereg/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_RxReg_MatchOverlay_SignIn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"OPVMATCH_AND_DOTCOM_ACCOUNT_FOUND | SIGN IN CLICKED"}}]}],"scope":{"URI":{"include":[/\/register\/pharmacyRegistration.jsp/i]}},"selector":"button","property":{"id":"signin"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Rx_Reg_BR_Joininstore_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Attach to Existing Loyalty Account"}}]}],"scope":{"URI":{"include":["/register/pharmacyRegistration.jsp"]}},"selector":"input","property":{"id":"wag-joinbr-joinedinstore"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Rx_Reg_BR_Maybelater_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | No Thanks"}}]}],"scope":{"URI":{"include":["/register/pharmacyRegistration.jsp"]}},"selector":"#wag-joinbr-maybelater","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Rx_Reg_BR_Newmember_Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Form Radio | Create New Loyalty Account"}}]}],"scope":{"URI":{"include":["/register/pharmacyRegistration.jsp"]}},"selector":"#wag-joinbr-newmember","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_SecurityOptions_CodeAuthentication","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Authentication | %this.name% | %BAS_Adaptive_Default_PageTitle_Global%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}}]}],"selector":"button","property":{"title":/Submit/i,"id":/wag-security-opts-sendpincode/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_SecurityOptions_GeneratePin","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS_SecurityOptions_GeneratePin_Prop30%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}}]}],"selector":"button","property":{"id":"wag-security-opts-sendpincode"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_SecurityOptions_VerifiedByPhone","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Verified By Phone | %BAS_Adaptive_Default_PageTitle_Global%"}}]}],"scope":{"URI":{"include":[/\/authenticate\/verify_identity.jsp/i]}},"selector":"button","property":{"id":"wag-security-opts-verifiedByPh"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Your_Account_BR_for_Healthy_Choices (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS_Your_Account_BR_for_Healthy_Choices","setVars":{"pageURL":"/youraccount/default.jsp"}}]}],"selector":"a","property":{"id":"wag-Pharmacyandhealth-balancerewardsforhealthchoices"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Your_Account_Health_Dashboard (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS_Your_Account_Health_Dashboard","setVars":{"pageURL":"/youraccount/default.jsp"}}]}],"selector":"a","property":{"id":"wag-Pharmacyandhealth-yourHealthDashboard"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Your_Account_Manage_Rx (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS_Your_Account_Manage_Rx","setVars":{"pageURL":"/youraccount/default.jsp"}}]}],"selector":"a","property":{"id":"wag-Pharmacyandhealth-ManagePrescriptions"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CS_Your_Account_Refill_Rx (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS_Your_Account_Refill_Rx","setVars":{"pageURL":"/youraccount/default.jsp"}}]}],"selector":"a","property":{"id":"wag-Pharmacyandhealth-RefillPrescription"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"CompareNow_link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%QuickCompare%","prop66":"%Compare_productId%"},"addEvent":["event109"]}]}],"conditions":[function(event,target){
var comapareProductFlag = false;
if ($( ".compare-selected input" ).length > 1){
comapareProductFlag = true;
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar118';
window.s.eVar118 = $(".compare-selected").length;
var productId=[];
$( ".compare-selected input" ).each(function() {
  productId.push($(this).attr('id').replace("compare_",""));
});
productId.join(',');
_satellite.setVar("Compare_productId",productId);
  _satellite.setVar("QuickCompare","") ;
} else {
 _satellite.setVar("Compare_productId",''); 
}
if($(".compare-selected").length === 1){
comapareProductFlag = true;
var productId=[];
$( ".compare-selected input" ).each(function() {
  productId.push($(this).attr('id').replace("compare_",""));
});
productId.join(',');
_satellite.setVar("Compare_productId",productId);
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar118';
window.s.eVar118 = $(".compare-selected").length;
_satellite.setVar("QuickCompare","Quick Compare | Top Sellers |" + document.title) ;
}
return comapareProductFlag;
}],"selector":"a.compare_link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-AuroraHCC","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
console.log("Aurora dtm triggered");
if($("a[ng-show = 'auroraPartnerCode']")){
	$("a[ng-show = 'auroraPartnerCode']").attr("href",function(){return this.href + '/';});
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp?frm=clinic#\/storeinfo/i]}},"selector":"#con","event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true},
    {"name":"DCH-Propeller","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.eVar162 = "";
window.s.linkTrackVars = "eVar162";
window.s.eVar162 = "CC_Propeller_Dashboard_Overlay";
}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"a#propeller-get-started","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-StepsAuthRXAccessOptionSelected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
 var stepsRxURL	=	 $(this).attr("href");
  if(stepsRxURL.indexOf("/steps/brhc_redirect.jsp?activityType")>-1){
	window.s.prop30 = $(this).attr("alt")+" | Balance Rewards for healthy choices® | Walgreens ";
 }
}}]}],"scope":{"URI":{"include":["/steps/stepslanding.jsp"]}},"selector":"a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-StepsAuthResendText","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = " Resend | Balance Rewards for healthy choices® | Walgreens ";
}}]}],"scope":{"URI":{"include":["/steps/stepslanding.jsp"]}},"selector":"button#resendBtn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-StepsAuthSendText","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = " Send | Balance Rewards for healthy choices® | Walgreens ";
}}]}],"scope":{"URI":{"include":["/steps/stepslanding.jsp"]}},"selector":"button#sendBtn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-StepsAuthTextOptionSelected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
 var stepsAuthOption	=	 $(this).text();
 window.s.prop30 = stepsAuthOption+" | Balance Rewards for healthy choices® | Walgreens ";
}}]}],"scope":{"URI":{"include":["/steps/stepslanding.jsp"]}},"selector":"button#msgAuthFitness","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH-integrated_scheduler","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var $id = $(this).attr('id');
window.s.linkTrackVars = 'prop30';
if($id == "schedule_pharmacy"){   
   window.s.prop30 = "Schedule Pharmacy | Schedule Appointment | Pharmacy | Schedule | Walgreens";  
}
if($id == "schedule_clinic"){
   window.s.prop30 = "Schedule Clinic | Schedule Appointment | Clinic | Schedule | Walgreens"; 
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/scheduler\/scheduler_home.jsp/i]}},"selector":"a#schedule_clinic,a#schedule_pharmacy","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_ACS_Schedule_Home_Clinic_Btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var query = window.location.search.toLowerCase();
var isACS = query.indexOf("o=acs")
if( isACS > 0 ){
  window.s.linkTrackVars = 'prop31';
  window.s.prop31 = "Temporary Tracking | ACS | Scheduler Home | Clinic";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/scheduler\/scheduler_home.jsp/i]}},"selector":"#schedule_clinic","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_ACS_Schedule_Home_Pharmacy_Btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var query = window.location.search.toLowerCase();
var isACS = query.indexOf("o=acs")
if( isACS > 0 ){
  window.s.linkTrackVars = 'prop31';
  window.s.prop31 = "Temporary Tracking | ACS | Scheduler Home | Pharmacy";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/scheduler\/scheduler_home.jsp/i]}},"selector":"#schedule_pharmacy","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_ACS_Schedule_Review_Scheduler_Btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var query = window.location.search.toLowerCase();
var isACS = query.indexOf("o=acs");
var flowType = query.indexOf("frm=clinic");
var flowTypePhr = query.indexOf("frm=pharmacy");
if( isACS > 0 && flowType > 0 ){
  window.s.linkTrackVars = 'prop31';
  window.s.prop31 = "Temporary Tracking | ACS | Review Your Appointment | Clinic | Schedule";
}
if( isACS > 0 && flowTypePhr > 0 ){
  window.s.linkTrackVars = 'prop31';
  window.s.prop31 = "Temporary Tracking | ACS | Review Your Appointment | Pharmacy | Schedule";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i]}},"selector":"#schudlebutton","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_CC_dashboard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%DCH-breathe-prop65%"},"customSetup":function(event,s){
window.s.eVar162 = "";
window.s.linkTrackVars = "eVar162";
window.s.eVar162 = "CC_Propeller_Dashboard_Component";
}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"a#breatheConfi","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_GIC_prop31","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"DCH_GIC_prop31","customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var buttonkClick = $(this).attr("data-trackval"); 
s.prop31 = buttonkClick;
}}]}],"scope":{"URI":{"include":[/\/gic\/promotion\/humana-offers.jsp?nogicmember=true/i,/\/gic\/promotion\/humana-offers.jsp/i,/\/gic\/promotion\/your-humana-offers.jsp/i]}},"selector":"a[data-tracklink=\"true\"], button[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_aurora","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"customSetup":function(event,s){
console.log('click dtm triggred');
if($("#myPartnerLabelOverlay").css('display','block')){
  		if($("a[ng-show = 'auroraPartnerCode']")){					
        	$("a[ng-show = 'auroraPartnerCode']").attr("ng-href",function(){return this.href + '/';});
        	$("a[ng-show = 'auroraPartnerCode']").attr("href",function(){return this.href + '/';});
        console.log("aurora updated");
	  	}
	}

 if( $('#map').length )
{
   $("#map"). removeAttr("aria-label");
   $('#map').attr("aria-hidden", "true");
  console.log("inside the aria-hidden");
}
      
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/schedule-appointment.jsp/i,/\/pharmacy\/schedule-appointment.jsp?frm=clinic#\/storeinfo/i]}},"selector":"#con","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCH_prop31","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Topic_Prop_31_link_click_tracking","customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var buttonkClick = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop31 = buttonkClick;

}}]}],"scope":{"URI":{"include":[/\/pharmacy\/home-lab-services.jsp/i,/\/pharmacy\/care-connect.jsp/i,/\/topic\/pharmacy\/365-get-healthy-here\/benefitshome.jsp/i]}},"selector":"a[data-tracklink=\"true\"], button[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Add-Remove-Manage-Dashboard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar72":"%DCS_Platform_Name%","prop44":"Map Location Click |Manage Dashboard| Walgreens Pharmacy","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"span","property":{"id":"add-remove-gear-icon"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Add-Remove-Save","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"Save Changes |Manage Dashboard| Walgreens Pharmacy","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"input","property":{"name":"wag-add-remove-savebtn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Answers-BlogsAndNewsletters-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var blogslinkname =$(this).attr('title');
window.s.prop30 = "Blogs & Newsletters : "+blogslinkname+" | Health Answers";
}}]}],"scope":{"URI":{"include":["/health/answers"]}},"selector":"a","property":{"className":/track-health-newsletter-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Answers-Conditions-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var linkname =$(this).attr('title');
window.s.prop30 = "Conditions : "+linkname+" | Health Answers";
}}]}],"scope":{"URI":{"include":[/\/health\/answers/i]}},"selector":"a","property":{"className":/track-health-condition-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Answers-HealthExpertise-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var healthexpertiselinkname =$(this).attr('title');
window.s.prop30 = "Health Expertise : "+healthexpertiselinkname+" | Health Answers";
}}]}],"scope":{"URI":{"include":[/\/health\/answers/i]}},"selector":"a","property":{"className":/track-health-expertise-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Answers-Lifestyle-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var lifestylelinkname =$(this).attr('title');
window.s.prop30 = "Lifestyle : "+lifestylelinkname+" | Health Answers";
}}]}],"scope":{"URI":{"include":[/\/health\/answers/i]}},"selector":"a","property":{"className":/track-health-lifestyle-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Answers-Services-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var serviceslinkname =$(this).attr('title');
window.s.prop30 = "our services : "+serviceslinkname+" | Health Answers";
}}]}],"scope":{"URI":{"include":[/\/health\/answers/i]}},"selector":"a","property":{"className":/track-health-answers-service-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Article-RelatedProduct-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var hcArtPageTitle = $(document).prop('title');
var hcArtPageName=hcArtPageTitle.split('|');
var hcArtPageActualTitle=hcArtPageName[0];
var hcArtProductLinkName =$(this).attr('title');
window.s.prop30 = "related products : "+ hcArtProductLinkName +" | "+ hcArtPageActualTitle;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a.track-healthart-feature-product-lnk","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Articles-RelatedArticles-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var rtitle = $(document).prop('title');
var retitle=rtitle.split('|');
var relatedactualtitle=retitle[0];
var relatedactuallinkname =$(this).attr('title');
window.s.prop30 =  relatedactuallinkname +" | "+ relatedactualtitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-webmdart-rel-article-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Articles-RightServiceAds-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var rititle = $(document).prop('title');
var riptitle=rititle.split('|');
var rightpromoactualtitle=riptitle[0];
var rightpromolinkname =$(this).attr('data-title');
window.s.prop30 =  "Right Rail: "+ rightpromolinkname +" | "+ rightpromoactualtitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-webmdart-rightpromo-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Articles-SeeAllArticles-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var seettitle = $(document).prop('title');
var seeatitle=seettitle.split('|');
var seeallactualtitle=seeatitle[0];
var seealactuallinkname =$(this).attr('title');
var seeallactuallinkname=seealactuallinkname.slice(0, -1);
window.s.prop30 =  seeallactuallinkname +" | "+ seeallactualtitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"title":/See all WebMD articles ›/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-FeaturedArticles-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var frtitle = $(document).prop('title');
var frstitle=frtitle.split('|');
var frsactualtitle=frstitle[0];
var frsactuallinkname =$(this).attr('title');
window.s.prop30 = "features and articles: "+ frsactuallinkname +" | "+ frsactualtitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-healthcat-feature-article-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-HeroIcons-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var stitle = $(document).prop('title');
var ptitle=stitle.split('|');
var rightsectionpagetitle=ptitle[0];
var rightherolinkname =$(this).attr('title');
window.s.prop30 = rightherolinkname+" | "+ rightsectionpagetitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":"track-health-category-heroimage-lnk"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-HeroImage-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var herotitle = $(document).prop('title');
var herotitletxt=herotitle.split('|');
var heroimagetitle=herotitletxt[0];
var mainherolinkname =$(this).attr('title');
window.s.prop30 = "Hero Banner: "+ mainherolinkname+" | "+ heroimagetitle;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"area","property":{"className":/track-healthcat-hero-find-store-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-HeroImage-Mobile-links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var imagearherotitle = $(document).prop('title');
var imagearticletitletxt=imagearherotitle.split('|');
var imagearticleherotitletxt=imagearticletitletxt[0];
var imagemainherolinkname =$(this).attr('data-title');
window.s.prop30 = "Hero Banner: "+ imagemainherolinkname+" | "+ imagearticleherotitletxt;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-healthcat-hero-find-store-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-ProductAds-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var prtitle = $(document).prop('title');
var prttitle=prtitle.split('|');
var pradsactualtitle=prttitle[0];
var pradsctuallinkname =$(this).attr('data-title');
window.s.prop30 =  pradsctuallinkname +" | "+ pradsactualtitle ;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-health-category-productads-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-RelatedProduct-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var hcCatPageTitle = $(document).prop('title');
var hcCatPageName=hcCatPageTitle.split('|');
var hcCatpageactualTitle=hcCatPageName[0];
var hcCatProductLinkName =$(this).attr('title');
window.s.prop30 = "related products : "+ hcCatProductLinkName +" | "+ hcCatpageactualTitle;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a.track-healthcat-feature-product-lnk","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Health-Category-Services-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var cattitle = $(document).prop('title');
var catsrvtitle=cattitle.split('|');
var catsrvactualtitle=catsrvtitle[0];
var catsrvactuallinkname =$(this).attr('title');
window.s.prop30 = "our services : "+ catsrvactuallinkname +" | "+ catsrvactualtitle;
}}]}],"scope":{"URI":{"include":[/\/health\//i]}},"selector":"a","property":{"className":/track-health-category-service-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-ImReady-Dont-Show-Manage-Dashboard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar72":"%DCS_Platform_Name%","prop44":"Don't Show MessageAgain|Onboarding|Manage Dashboard| Walgreens Pharmacy","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"input","property":{"id":"welcome-message"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-UCE-Add-Manage-Family-Members-Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add or Manage Family Members | Your Health Dashboard"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/dashboard.jsp/i]}},"selector":"a","property":{"title":"Add / Manage Family"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-Uce-Onboarding-ImReady-Manage-Dashboard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"I am Ready|Onboarding|Manage Dashboard| Walgreens Pharmacy","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"button","property":{"id":"wag-uce-onboarding-ready-btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-VirtualDoctor-DownloadAppStore-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = "apple app store download"+" | "+ "Virtual Doctor with MDLIVE";
}}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/virtualdoctor.jsp/i]}},"selector":"a","property":{"className":/track-virtualdoctor-downloadappstore-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-VirtualDoctor-GetitGooglePlayLinks","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = "android app store download"+" | "+"Virtual Doctor with MDLIVE";
}}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/virtualdoctor.jsp/i]}},"selector":"a","property":{"className":/track-virtualdoctor-getitgoogleplay-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-VirtualDoctor-StartBtn-Links","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if (!($('.track-virtualdoctor-startbtn-lnk').hasClass('wag-btn-disabled-sm'))){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = "start "+" | "+ "Virtual Doctor with MDLIVE";
}
}}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/virtualdoctor.jsp/i]}},"selector":"button","property":{"className":/track-virtualdoctor-startbtn-lnk/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS-WebMd-Articles-Category-Dropdown","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop30":"%DCS-WebMDArticlesCategory-dropdown%"}}]}],"scope":{"URI":{"include":["/pharmacy/walgreens-and-webmd/webmd-articles.jsp"]}},"selector":"select","property":{"ng-model":/webmdArticles.category/i},"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_AddFamily","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add/ Manage Family | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"span","property":{"className":/  icon-Family/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_BMI_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : BMI | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  bmiMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_BodyFat_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Body Fat | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  bodyMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_Learnmore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Learn more about the body composition test | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/bodyCompLearnTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_Skeletal_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Skeletal Muscle | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  skeletalMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_VisceralBF_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Visceral Body Fat | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/visceralMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BC_Waist_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Waist Circumference | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  waistMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BloodGlucose_Learnmore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Learn more about Blood Glucose test | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  bGLearnTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BloodGlucose_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Blood Glucose | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/bGMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BloodPressure_Learnmore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Learn more about blood pressure test | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  bPLearnTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_BloodPressure_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Blood Pressure | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  bPMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Cholest_HDL_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : HDL Cholesterol| Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/hdlCMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Cholest_LDL_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : LDL Cholesterol | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  ldlCMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Cholest_Total_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Total Cholesterol | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  totalCMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Cholest_Triglycerids_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : Triglycerides Cholesterol | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  trigCMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Cholesterol_Learnmore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Learn more about Cholesterol test | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  cholesLearnTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Hba1c_Learnmore","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Learn more about HbA1c test | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/a1cLearnTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Hba1c_More","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"More : HbA1c | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/hba1cMoreTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_HelpIcon","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Test Results Help | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"conditions":[function(){
return ["Desktop"].indexOf(_satellite.browserInfo.deviceType) !== -1;
}],"selector":"a","property":{"id":"pop"},"event":"hover(0)","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_HelpIconClick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Test Results Help | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"conditions":[function(){
return ["iPhone","iPad","iPod","Nokia","Windows Phone","Blackberry","Android"].indexOf(_satellite.browserInfo.deviceType) !== -1;
}],"selector":"a","property":{"id":"  pop"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Leftnav_HealthTestServices","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Left  Nav: All Health test Services | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/healthTestServicesTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Leftnav_ScheduleHealthTest","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Left  Nav: Schedule Health Test  | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  scheduleHealthTestTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_HT_Leftnav_YourAppointment","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Left  Nav: Your Appointments  | Health Tests | Your Health Dashboard","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/health-tests/your-health-tests.jsp"]}},"selector":"a","property":{"className":/  yourAppointmentTrack/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ AdultImmPDF_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"PDF Link for adult | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"adultimmunization"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ ImmunizationService_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"All Immunization Services | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"immunizationservice"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ YourAppointment_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Your Appointments | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"yourappointments"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ Your_Immunization","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Your Immunization | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"yourImmuniz"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ Your_Immunization_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Your Immunization | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"yourimmunization"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_ChildImmPDF_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"PDF link for child | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"childimmunization"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_Schedule_Immunization","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Schedule Immunization | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"scheduleImmuniza"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_Schedule_Immunization_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Schedule Immunization | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"scheduleimmunization"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_ImmTile_Vaccine_Consent_Link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"Vaccine Consent Form | Immunization Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"vaccineform"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_PLM_Connect_addYour","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add Voice | Connect Carousal | PLM Tile"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"wag-plmcard2-seeAll-Track"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_PLM_OverallReported_seeDetails","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"See Details | Overall Reported Severity | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"wag-plmcard1-seeAll-Track"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_PLM_PatientReported_seeAll","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"See All | Patient Reported Carousal | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"wag-plmcard0-seeAll-Track"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_PLM_overlay_continue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Continue | Interstitial overlay | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"button","property":{"id":"btn_ctn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DCS_UCE_Familymember_Tab_Click","scope":{"URI":{"include":[/dashboard.jsp/i]}},"selector":"input","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHC_365DHH_Prop31_Click","scope":{"URI":{"include":["/365-ghh"]}},"selector":"button[data-track-link=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHH-TMbenefits","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
setTimeout(function(){
if(document.getElementById('prescriptionBox') !== null){
    document.getElementById('prescriptionBox').parentNode.classList.add('common-fix');
  }
  },500)
}}]}],"selector":"#quitForm a, #progress-bar li","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT-Rxprint-Blue-Button","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Blue Button Download My Data | Print Prescription Records | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/report/rxprint.jsp"]}},"selector":"a","property":{"id":"printrecords_bluebutton_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT-Rxprint-Get-Record-Button","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Custom Date Range Get Record | Print Prescription Records | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/report/rxprint.jsp"]}},"selector":"a","property":{"  id":"printrecords_getrecords_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_Submitall","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"  Submitall"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_Submithea","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"  Submithea"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_Submitheamob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"Submitheamob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_Submitmedmob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"Submitmedmob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_allSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"allSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_allSubmitmob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"allSubmitmob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_heaSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"heaSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_medSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"medSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_NewRX_button_medSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | New Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/enterprescription.jsp"]}},"selector":"button","property":{"id":"medSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_TransferRX_button_allSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"allSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_TransferRX_button_heaSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"  heaSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_Submitall","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"  Submitall"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_Submithea","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"  Submithea"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_Submitheamob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"Submitheamob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_Submitmedmob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"Submitmedmob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_allSubmitmob","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"allSubmitmob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_heaSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"  heaSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DHSWAT_transferRX_button_medSubmit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Transfer Rx| Update Health History | Pharmacy | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/order/transferprescription.jsp"]}},"selector":"button","property":{"id":"  medSubmit"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Activity-Tracker-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Activity Tracker tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":"wag-activity-tracker-tab"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BR-new-thirdparty_tag","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-555e49043736396e76830000.html","data":[]}]}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("CS_Header_Profile_Not_LoggedIn"), "false");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"selector":"button","property":{"className":"btn btn-primary wag-btn-primary-sm"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Balance-Financial-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Balance Financial tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":/wag-balance-financial-tab/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-ActivityTracker (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Activity Tracker tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-activitytracker"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AllActivateNow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Activate now link selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"AllActivateNow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AllJoinNow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Join now link selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"AllJoinNow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AvailableOffers-No-Thanks (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":" No Thanks  | Available offers | Members Only Offers section | Balance Rewards","pageName":"No Thanks  | Available offers | Member Only Offers | Balance Rewards | Walgreens"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"availOffersNoThanksBtn"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AvailableOffers-No-Thanks-Mob (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":" No Thanks  | Available offers | Members Only Offers section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"id":"availOffersNoThanksBtnMob"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AvailableOffers-No-Thanks-No-Btn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":" No | Remove | Available offers | Members Only Offers section | Balance Rewards  landing page","pageName":"No | Available offers | Member Only Offers | Balance Rewards | Walgreens"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"name":/availOffersNoBtn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-AvailableOffers-No-Thanks-Yes-Btn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"Yes | Remove | Available offers | Members Only Offers section | Balance Rewards","pageName":"Yes | Available offers | Member Only Offers | Balance Rewards | Walgreens "}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"name":"availOffersYesBtn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-BalanceFinancial (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Balance Financial tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-balancefinancial"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-BrowseCoupons (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Browse available coupons link selected | Paperless coupons section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"browseCoupons"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-BrowseCoupons-LeftArrow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Coupon card pagination button Previous | Paperless coupons section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"leftArrow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-BrowseCoupons-RightArrow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Coupon card pagination button Next | Paperless coupons section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"rightArrow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-CurrentOffers-Cancel-No-Thanks-No-Btn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"No | Cancel  | Active Offers | Members Only Offers section | Balance Rewards","pageName":"No | Cancel  | Selected Offers | Member Only Offers | Balance Rewards | Walgreens"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"name":"currentOffersNoThanksNoBtn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-CurrentOffers-Cancel-No-Thanks-Yes-Btn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"Yes | Cancel  | Active Offers | Members Only Offers section | Balance Rewards","pageName":"Yes | Cancel  | Selected Offers | Member Only Offers | Balance Rewards | Walgreens"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"name":"currentOffersNoThanksYesBtn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-CurrentOffers-Cancel-Sign-Up (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"Cancel  | Active Offers | Members Only Offers section | Balance Rewards","pageName":"Cancel  | Active Offers | Member Only Offers | Balance Rewards | Walgreens"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"title":"currentOffersCancelSignUp"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-DiplayedCoupons (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Coupon card selected | Paperless coupons section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"section","property":{"id":"couponImage"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-Learn-more (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Learn more link selected | Members Only Offers section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"br-learn-more"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-MembersOnlyOffers (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Members Only Offers tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-memberonlyoffer"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-MissingPoints (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Missing points link selected | Balance Rewards Dashboard | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"missingPoints"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-NonBrActivateNow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Activate now link selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"button","property":{"id":"NonBrActivateNow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-NonBrJoinNow (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Join now link selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"NonBrJoinNow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-Overview (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Overview tab selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-program-details.jsp"]}},"selector":"a","property":{"id":"balanceOverview"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-PaperlessCoupons (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Paperless Coupons tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-paperlesscoupons"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-PrescriptionRefills (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Prescription Refills tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-prescriptionrefills"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-ProgramDetails (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Program Details tab selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"programDetails"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-SettingsIcon (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Settings icon selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"br_icon_settings"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-ShoppingDeals (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Shopping Deals tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"do-brds-membersoffers"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-SubTab-Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%this.innerHTML% tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"#do-brds-activetab a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-ViewHealthActivities (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"View your activities link selected | Healthy Activities section | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"viewActivities"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-BalanceRewards-YourAccountIcon (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Account icon selected | Balance Rewards"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"id":"your_account"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Category-dropdown (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop43":"%DO-Category-dropdown%"}}]}],"scope":{"URI":{"include":["/offers/offers.jsp"]}},"selector":"select","property":{"ng-model":/selectedCategory/i},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Change-store (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Change Store link selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a","property":{"id":/dostoreloc_strchng_lnk/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Conf-Overlay-ClipCounpons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Clip more coupons selected | Confirmation overlay"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"id":/wag-do-conf-overlay-clip-coupons/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Conf-Overlay-ShopNow","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Shop now selected | Confirmation overlay"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"id":/wag-do-conf-overlay-shop-now/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Sort-dropdown (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop43":"%DO-Sort-dropdown%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"ng-model":/selectedSortData/i},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Sort-dropdown-Click","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"customSetup":function(event,s){
var $scope = angular.element("#availablecoupons").scope();
$scope.totalAvailabeCoupons = $scope.totalcoup;
$scope.$apply();
}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"ng-model":/selectedSortData/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Type-dropdown (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop43":"%DO-Type-dropdown%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"ng-model":/selectedTypeData/i},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-Value-dropdown (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop43":"%DO-Value-dropdown%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"ng-model":/selectedValueData/i},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-back-to-top (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"back to top link selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"id":/wag-do-pgenav-delete/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-bottom-pagination-next (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-bottom-pagination-next-prop43%"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"#wag-offers-bottom-nav ul li a","property":{"id":"nextCoupons"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-bottom-pagination-prev (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Pagination button selected | bottom previous | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"#wag-offers-bottom-nav ul li a","property":{"id":"prevCoupons"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-clip-to-card (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%this.id%","prop43":"%DO-Offers-clip-to-card-prop43%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-55b842833263661892000152.js"}]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("DO_Offers_Header_Profile_LoggedIn_BR"), /true/i);
}],"selector":"button","property":{"name":"clipToCard"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-clipped-coupon-viewed (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Clipped Coupons radio button selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"input","property":{"id":/rdoClipped/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-hide-filter (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DWAR-Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"section#showMore","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false,"value":/$^/i},
    {"name":"DO-Offers-home-link (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Home page link selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"title":"Home"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-home-link (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Home page link selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"article","property":{"className":/wag-do-breadcrumb-list/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-intestrial-browse-coupon (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Browse Coupons button selected | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"section .wag-do-paper-brwsecoup","property":{"className":/rwd-blu-btn/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-intestrial-video (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"div","property":{"className":/video-link/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-intestrial-weeklyad (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"View Weekly Ad button selected | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"section .wag-do-ad-brwsead","property":{"className":/rwd-blu-btn/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-overlay-clip-to-card (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%this.id%","prop43":"%DO-Offers-overlay-clip-to-card-prop43%"},"addEvent":["event71"]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("DO_Offers_Header_Profile_LoggedIn_BR"), /true/i);
}],"selector":"button","property":{"name":/clipCouponOverlay/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-overlay-unclip (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Coupon Unclipped | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button.do-offers-overlay-unclip-coupon","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-play-video-guest (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | guest | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a","property":{"className":/icon-info-off pull-right hidden-xs/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-play-video-guest (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | guest | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"span","property":{"name":"videoguestuser"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-print-list","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Coupons printed | Clipped to Card"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"id":"clippedPrintList"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-reedemed-coupon-viewed (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Redeemed Coupons radio button selected | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"input","property":{"id":/rdoRedeemed/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-sign-in-overlay (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-sign-in-overlay-Prop43%"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"button","property":{"name":"clipToCard"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-sneakpeak-banner (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Coupon banner clicked | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"span","property":{"className":/icon-peek/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-top-pagination-next (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-top-pagination-next-prop43%"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"#wag-offers-top-nav ul li a","property":{"id":"nextCoupons"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-top-pagination-prev (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Pagination button selected | top previous | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"#wag-offers-top-nav section ul li a","property":{"id":/prevCoupons/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-unclip (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Coupon Unclipped | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"button","property":{"name":"unclipCoupon","ng-click":"unclipFromCoupon(coupon.id,$index)"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Offers-weeklyad-tab (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"View weekly ads | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"id":/doinfotab_wklyad_tab/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Paperless-Coupons-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Paperless Coupons tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":/wag-paperless-coupons-tab/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Prescription-Refills-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Prescription Refills tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":/wag-prescription-refills-tab/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-Shopping-Deals-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Shopping Deals tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":/wag-shopping-deals-tab/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-View-Coupon-Details (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%DO_Get_Coupon_Offer_Id%"},"addEvent":["event72"]}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"section","property":{"name":"couponsInfo"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-View-Coupon-Details-Link-Click (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar68":"%DO_Get_Coupon_Offer_Id%","eVar69":"1981298128","pageName":"DO Coupons Hub","pageURL":"/offers/offers_new.jsp"},"addEvent":["event72"]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a.info-icon","property":{"data-target":"#wag-offers-dwar-couponoverlay-modal"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO-View-Weekly-Ads-Interstitial-Page-Button-Click (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"View Weekly Ad button selected | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"button","property":{"id":"view-weekly-ads-btn"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DO_Coupons_Overlay_Show_More_Prods","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"DO_Coupons_Overlay_Show_More_Prods","setVars":{"prop43":"AddToCart | Clicked | Button | Show more eligible items button | Coupon View Detail Overlay"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59a489e264746d08f2003d44.js"}]}]}],"scope":{"URI":{"include":["/offers/offers.jsp"]}},"selector":"button","property":{"id":"do-coupoverlay-show-more-prods"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPC_Topic_Prop31","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var buttonkClick = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop31 = buttonkClick;
}}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/medicarepartd\/enrollment-eligibility.jsp?o=acs/i,/\/topic\/pharmacy\/medicare-part-d-info.jsp?o=acs/i]}},"selector":"a[data-track-link=\"true\"],button[data-track-link=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-90day-radio-no-click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"no | Request 90-Day Refill","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"input","property":{"className":/wag-ninety-day-overlay-no/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-90day-radio-yes-click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"yes | Request 90-Day Refill","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"input","property":{"className":/wag-ninety-day-overlay-yes/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-90day-update-close-click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Close | Request 90-Day Refill","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button#wag-ninety-day-overlay-close","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-90day-update-continue-click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Update and continue | Request 90-Day Refill","channel":"Pharmacy"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button#wag-ninety-day-overlay-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Check-Rx-Status (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Check Rx Status | Rx Tile | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"id":"wag-check-Rx-Status-id"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Full-Prescription-View (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Full Prescription View| Rx Tile | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"id":"wag-goto-full-prescription-view"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Print-Rx-History (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Print Rx Records | Rx Tile Menu | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"id":"wag-rx-history-id"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Request-New-Rx (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"New Rx | Rx Tile Menu | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"id":"wag-request-new-rx-id"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Rx-Settings (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Rx Settings | Rx Tile Menu | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"id":"wag-rx-settings-id"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Sort-by-Drug-Name (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Drugname | Rx Tile | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"span","property":{"id":"wag-refill-prescription-card-drug"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Sort-by-Last-Filled (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Last Filled Date | Rx Tile | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"span","property":{"id":"wag-refill-prescription-card-last-filled"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Sort-by-Refills-Left (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Refills Left | Rx Tile | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"span","property":{"id":"wag-refill-prescription-card-refill-left"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Dashboard-Transfer-Rx (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Transfer Prescriptions| Rx Tile Menu | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp","/pharmacy/adaptive/dashboard"]}},"selector":"a","property":{"title":"Transfer Rx"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Gmail-CTA-Refill-now","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Request Refill | Gmail CTA Lean Checkout"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillleancheckout.jsp/i]}},"selector":"button","property":{"id":/refill-checkout-prescription-actions-submit-btn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Gmail-CTA-Remove-Prescription","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Remove prescription | Gmail CTA Lean Checkout"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillleancheckout.jsp/i]}},"selector":"a","property":{"title":/Remove prescription/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Gmail-CTA-Sign-in","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sign-in | Gmail CTA Lean Checkout"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillleancheckout.jsp/i]}},"selector":"a","property":{"id":"gmail-sign-in"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Add-Comments (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add a Comment| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"textarea","property":{"id":"comments"},"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Add-More-Prescriptions (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add Prescriptions| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"button","property":{"id":"checkout-prescription-actions-add-btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Add-Payment (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change or Add New Payment Method| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout"]}},"selector":"a","property":{"id":"wag-payment-info"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Address (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change Address| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"a","property":{"id":"wag-change-address"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Date (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Choose a Different Date | Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"span","property":{"id":"datetimepicker_span"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Payment (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change or Add New Payment Method| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"a","property":{"title":"Change payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Pickup-Date (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change Pickup Date| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"select","property":{"id":"pickupdate"},"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Pickup-Time (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change Pickup Time| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"select","property":{"id":"pickuptime"},"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Change-Store-Link (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change Store| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"a","property":{"id":"wag-checkout-delivery-opt-atag"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Choose-Store-Link (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Choose Store | Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"a","property":{"title":"Choose store"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Chose-Receiving-Method (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Choose Receiving Method| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"input","property":{"id":"shipoption"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Remove-Prescriptions (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Remove Prescriptions| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i]}},"selector":"a","property":{"title":"Remove prescription"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Switches-Delivery-Method-0 (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change Delivery Method| Rx Lean Checkout | Walgreens Pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"input","property":{"id":"deliveryMethods0"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-LeanCheckOut-Switches-Delivery-Method-1 (Copy)","scope":{"URI":{"include":["/pharmacy/leancheckout.jsp"]}},"selector":"input","property":{"id":"deliveryMethods1"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Manage-Auto-Refill-EditExpress-Retail (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Edit Shipping Address Express Pay | Manage AutoRefill Settings | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/manageautorefills/manage_auto_refill.jsp"]}},"selector":"a","property":{"id":"expresspayinformation_turn_on_autotefill_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Manage-Auto-Refill-Save-Mail (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"DPF-Manage-Auto-Refill-Save-Mail (Copy) (Copy)","setVars":{"prop31":"Edit Shipping Address Express Pay | Manage AutoRefill Settings | Mail Service | Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/manageautorefills/manage_auto_refill.jsp"]}},"selector":"a","property":{"id":"expresspayinformation_turn_on_autotefill_btn_Mail"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Manage-Auto-Refill-Store-Retail (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"DPF-Manage-Auto-Refill-Store-Retail","setVars":{"prop31":"Change Store | Manage AutoRefill Settings| Walgreens"}}]}],"scope":{"URI":{"include":["/pharmacy/manageautorefills/manage_auto_refill.jsp"]}},"selector":"a","property":{"id":"changeStore"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-PAYMENT-PORTAL-PAY-BY-CREDITCARD-HEALTHCARE","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Health Care Clinic or DR Walk-In Medical Care | Pay By Credit Card"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"selector":"button","property":{"id":"  healthcare-clinic-payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-PAYMENT-PORTAL-PAY-BY-CREDITCARD-MAIL","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Mail Service Pharmacy/Shipped Prescriptions | Pay By Credit Card"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"selector":"button","property":{"id":"  mail-service-payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-PAYMENT-PORTAL-PAY-BY-CREDITCARD-RETAIL","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Pharmacy accounts Receivable | Pay By Credit Card"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"selector":"button","property":{"id":"  retail-pharmacy-payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-PAYMENT-PORTAL-PAY-BY-CREDITCARD-SPECIALITY","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Speciality Pharmacy | Pay By Credit Card"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"selector":"button","property":{"id":"  speciality-pharmacy-payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-PAYMENT-PORTAL-STATEMENTID-ERROR","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_payment_StatementIdError%"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment.jsp"]}},"selector":"button","property":{"id":"  retail-pharmacy-payment"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Prescription-History-Request-Refill-Button","scope":{"URI":{"include":["/pharmacy/refillhub/refillhub_show_related_pres_details.jsp"]}},"selector":"button","property":{"id":"wag-prescription-history-request-0"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refill-with-Rx Number","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Refill with Rx Number | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"title":/Refill with Rx Number/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Add-Manage-Family-Members","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add or Manage Family Members | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"id":/family-member-icon/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Manage-Auto-Refills","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Manage Auto Refill | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Manage Auto Refill"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Manage-Auto-Refills (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Manage Auto Refill | Refill Hub | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Manage Auto Refill"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-NewRx","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"New Rx | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Request New Rx"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-PrintRxRecords","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Print Rx Records | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Print Rx Records"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Request-Refill (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"RX Tile ATC | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Request refill"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-RxSettings","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Rx Settings | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Rx Settings"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-RxStatus","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Rx Status | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Check Rx Status"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Set-Auto-Refill (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Manage Auto Refill | Refill Hub | Your Health Dashboard"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"button","property":{"id":"wag-refill-prescription-hub-btn-blu"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Sort-by-Drug-Name","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Drugname | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"wag-refill-prescription-hub-uparrow"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Sort-by-Last-Filled-Date","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Last Filled Date | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"uparrow1"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Sort-by-Refills-Left","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Sort by Refills Left | Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"uparrow2"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHub-Transfer Prescriptions","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Transfer Prescriptions| Refill Hub | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"title":"Transfer Rx"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-RefillHubShowRelatedPrescription-Request-Refill","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Add to Cart from Prescription Details"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub_show_related_pres_details.jsp"]}},"selector":"button","property":{"title":"Request refill"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Expand-Prescription-Close (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar1":"RXHubTest_Expand","prop27":"Expand Rx Info | Refill Hub | Pharmacy | Walgreens"},"addEvent":["prodView:RXHubTest_Expand"]}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"img","property":{"id":"wag-refill-prescription-hub-close-image"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Expand-Prescription-Expand (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Hide Prescription From List"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"img","property":{"id":"wag-refill-prescription-hub-expand-image"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Hide-From-List (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Hide Prescription From List"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"wag-hide-from-list"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Request-Refill-Add-to-cart (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Add to Cart from Prescription Details"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"refill_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Show-More-Prescription (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"show more prescriptions button"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"button","property":{"id":"wag-refill-prescription-btn-showMore"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Show-Status-Price","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Show Status and Price","prop31":"Show Status and Price | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"a","property":{"id":"view-status-price"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Show-hidden-No (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Show Hidden Prescriptions | No","prop31":"Show Hidden Prescriptions - No | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"input","property":{"id":"wag-refill-prescription-rdo-no"},"event":"click","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Refillhub-Show-hidden-Yes (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop27":"Show Hidden Prescriptions | Yes","prop31":"Show Hidden Prescriptions - Yes | Manage Prescriptions"}}]}],"scope":{"URI":{"include":["/pharmacy/refillhub/refillhub.jsp"]}},"selector":"input","property":{"id":"wag-refill-prescription-rdo-yes"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Another-Rx-CTA","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Transfer Another Rx | Screen 5 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"button#transferRx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen2-2-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if($('#rxtransfer-yourprofile-form2').parent().find('.active').length==1){
window.s.linkTrackVars = 'prop31';
window.s.prop31 = "Screen 2 | Rx Transfer Widget";
}

}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-yourprofile-form2.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen2-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 2 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-yourprofile-form1.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen3-store-multi-hit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 3 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-storepickupinfo-form2.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen3-store-search-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 3 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-storepickupinfo-form1.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen3-store-select-store","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 3 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-storepickupinfo-form3.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen4-System-Error-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 4 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-processfailed-form.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen4-date-slot-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 4 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-datetimeslot-form.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Screen5-Confirmation-Load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Screen 5 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#rxtransfer-thankyou-form.active","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Submit-CTA","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Submit | Screen 4 | Rx Transfer Widget"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"button#transfer-submit","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-Back-btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';
var currScreen =$(this).attr('data-tracker-id');
window.s.prop31 = "Back | Screen "+currScreen+" | Rx Transfer Widget";

if($('#rxtransfer-medicationform').hasClass('active')){ 
window.s.prop31 = "Back| Screen 1 | Rx Transfer Widget"
}else if($('#rxtransfer-pharmacy-form').hasClass('active')){ 
window.s.prop31 = "Back| Screen 2 | Rx Transfer Widget"
 } else  if($('#rxtransfer-yourprofile-form1').hasClass('active')){
window.s.prop31 = "Back| Screen 2 | Rx Transfer Widget"
 }else  if($('#rxtransfer-yourprofile-form2').hasClass('active')){  
 window.s.prop31 = "Back| Screen 3 | Rx Transfer Widget"
 }else  if($('#rxtransfer-storepickupinfo-form1').hasClass('active')){  
window.s.prop31 = "Back| Screen 3 | Rx Transfer Widget"
 }else  if($('#rxtransfer-storepickupinfo-form2').hasClass('active')){ 
window.s.prop31 = "Back| Screen 3 | Rx Transfer Widget"
 }else  if($('#rxtransfer-storepickupinfo-form3').hasClass('active')){ 
  window.s.prop31 = "Back| Screen 4 | Rx Transfer Widget"
 }else  if($('#rxtransfer-datetimeslot-form').hasClass('active')){  
 window.s.prop31 = "Back| Screen 5 | Rx Transfer Widget"
 }else  if($('#rxtransfer-thankyou-form').hasClass('active')){ 
 window.s.prop31 = "Back | Screen 5 | Rx Transfer Widget";
 }
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"a#back-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-Continue-btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
 window.s.linkTrackVars = 'prop31';

	var currScreen =$(this).attr('data-tracker-id');
	var screen_no=1;
	
	if(currScreen==1)
	screen_no=1;
	else if(currScreen>1 && currScreen<=3)
	  screen_no=2;
	else if(currScreen>3 && currScreen<=6)
	  screen_no=3;
	else if(currScreen<8)//final widget count is 8
	  screen_no=4;

  
if($('.form-group').hasClass('has-error') ||  $('.active').find('.has-error').length>0)
	window.s.prop31 ="Error : Error "+screen_no+" | Screen "+screen_no+" | Rx Transfer Widget";
	else
	window.s.prop31 = "Continue | Screen "+screen_no+" | Rx Transfer Widget";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"#continue-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-GetStarted","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Get Started | Screen 0 | Rx Transfer Widget"},"customSetup":function(event,s){
$('body').append('<script>var enableEndecaForStoreLocator = true;</script>');
if($('.wag-rx-transfer-first-form-box').hasClass('has-error')){
  window.s.linkTrackVars = 'prop31';
  window.s.prop31 = "Error : Error 0 | Screen 0 | Rx Transfer Widget"
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"button.get-started-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-Online-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var currScreen =$(this).attr('data-tracker-id');
	var screen_no=1;
	
	if(currScreen==0)
	screen_no=0;
	else if(currScreen==1)
	screen_no=1;
	else if(currScreen>1 && currScreen<=3)
	  screen_no=2;
	else if(currScreen>=4 && currScreen<=6)
	  screen_no=3;
	else if(currScreen<8)//final widget count is 8
	  screen_no=4;
	else
	  screen_no=5;//reached final widget
window.s.prop31 = "Online Privacy &amp; Security | Screen "+screen_no+" | Rx Transfer Widget";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"a#online_privacy","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-Screen-1","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if(!$('.wag-rx-transfer-first-form-box').hasClass('has-error')){

if($('.transfer-your-rx-image').length<=0){
window.s.linkTrackVars='prop31';
window.s.prop31='Screen 1 | Rx Transfer Widget';
}  
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"button.get-started-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-Terms-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
 
window.s.linkTrackVars = 'prop31';
var currScreen =$(this).attr('data-tracker-id');
	var screen_no=1;

	if(currScreen==0)
	screen_no=0;
	else if(currScreen==1)
	screen_no=1;
	else if(currScreen>1 && currScreen<=3)
	  screen_no=2;
	else if(currScreen>=4 && currScreen<=6)
	  screen_no=3;
	else if(currScreen<8)//final widget count is 8
	  screen_no=4;
	else
	  screen_no=5;//reached final widget
window.s.prop31 = "Terms | Screen "+screen_no+" | Rx Transfer Widget";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"a#terms","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-Transfer-Widget-privacy-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';
var currScreen =$(this).attr('data-tracker-id');
	var screen_no=1;

	if(currScreen==0)
	screen_no=0;
	else if(currScreen==1)
	screen_no=1;
	else if(currScreen>1 && currScreen<=3)
	  screen_no=2;
	else if(currScreen>=4 && currScreen<=6)
	  screen_no=3;
	else if(currScreen<8)//final widget count is 8
	  screen_no=4;
	else
	  screen_no=5;//reached final widget
window.s.prop31 = "Privacy Practices | Screen "+screen_no+" | Rx Transfer Widget";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxtransfer-widget\/transfer-prescription.jsp/i]}},"selector":"a#privacy_practices","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-change-store-modal-close-icon","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Close | Change Store Overlay"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"selector":".wag-rx-change-store-overlay  button.close-icon","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-change-store-modal-edit-search","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Edit search | Change Store Overlay"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"selector":"a#edit_rx_store_search","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-change-store-modal-select-store","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Select this store | Change Store Overlay"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"selector":"button#rx_select_store","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-change-store-modal-show-store-hours","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var $txt = $(this).text();
window.s.linkTrackVars = 'prop31';
if($txt=="Hide store hours"){    
  window.s.prop31 = "Show store hours | Change Store Overlay ";  
}else{
  window.s.prop31 = "Hide store hours | Change Store Overlay ";  
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"selector":"a#rx_toggle_store_hours","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-check-rx-status-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Check Rx Status | Check Rx Status |"+appState+"|Rx History Overlay";
}}]}],"selector":"a.check-rx-status-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-lean-checkout-change-store-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Change store | Lean Checkout Review Order"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/refillreminderleancheckout.jsp/i]}},"selector":"a#rx-checkout-change-store-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-manage-Auto-Refill-click-events","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';
var appState = $('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
if($(this).attr('title') == 'Retail'){
  window.s.prop31="Manage Auto Refills | Retail Tab | Your Prescriptions";
}else if($(this).attr('title') == 'Mail Service'){
  window.s.prop31="Manage Auto Refills | Mail Service Tab | Your Prescriptions";
}else if($(this).attr('title') == 'Choose store'){
  window.s.prop31="Manage Auto Refills | Choose Store Link | Retail Tab | Your Prescriptions";
}else if($(this).val() == 'Pickup'){
  window.s.prop31="Manage Auto Refills | Pick Up In Store | Retail Tab | Your Prescriptions";
}else if($(this).val() == 'Ship'){
  window.s.prop31="Manage Auto Refills | Ship To | Retail Tab | Your Prescriptions";
}else if($(this).attr('title') == 'Edit address/ExpressPay'){
  window.s.prop31="Manage Auto Refills | Edit Address Express Pay Link | "+appState+" Tab | Your Prescriptions";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/manageautorefills\/manage_auto_refill.jsp/i]}},"selector":"#retailTab a,#mailTab a,#pickup_all,#ship_all,#wag-manageDS-choose-store,#editAddressandExpress","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refill-now-link-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var appState = $('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();

window.s.prop31="Refills tab|"+appState+"|Refill now|Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.refill-now-link-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-breadcrumb-pharmacyhealth","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Breadcrumb | Pharmacy \u0026 Health | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/breadCrumbPH/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-breadcrumb-your-health","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Breadcrumb | Your Health Dashboard | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/breadCrumbYHD/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-drug-info","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Drug Info | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-drug-info/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-hide-rx","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Hide rx | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-hide-from-list/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-history","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"History | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-history/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-prescription-title","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Prescription Link | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-prescription-title/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-rx-checkbox","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var CheckboxStatus = "";
if($(this).prop("checked") ){
    CheckboxStatus = "Checked";
} else {
    CheckboxStatus = "UnChecked";
}
window.s.linkTrackVars = 'prop31';
window.s.prop31 = CheckboxStatus+" | Refillhub Checkbox | Manage Prescriptions";
//window.s.tl(true, 'o', "Checkbox");
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"input","property":{"className":/wag-refill-checkbox/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-search-button","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Search Button | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button","property":{"id":/wag-search-prescription-btn-search/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-show-price","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Show price | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-show-price/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-refillhub-store-details","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Store Details | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/wag-refill-store-details/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-request-refill-overlay-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Request refill | Rx History Overlay|"+appState+"|Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"button.request-refill-overlay-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-rx-history-overlay-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Refills | Rx History Overlay|"+appState+"| Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.rx-history-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-rx-history-overlay-print-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
var modalState=$('ul.rx-history-tabs-dtm li.active').text().trim();
window.s.prop31="Print |"+modalState+"|"+appState+"|Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":".wag-refill-pres-overlay-print a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-show-more-rx-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Refills tab|"+appState+"|Show more prescriptions| Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"button.show-more-rx-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-slim-header-manage-pres-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Back to Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout.jsp/i,/\/pharmacy\/leancheckout_confirmation.jsp/i]}},"selector":"a.wag-back-to-cart-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-view-auto-refill-address-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();

window.s.prop31="View Auto Refill address |"+appState+"| Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/ \/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.view-auto-refill-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-your-prescriptions-clear-results","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Clear results|Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.clear-results-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-your-prescriptions-hide-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Refills tab| Active |Hide|Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"span.hide-rx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF-your-prescriptions-unhide-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Refills tab| Hidden |Unhide|Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"span.unhide-rx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_EXPRESSSCRIPT","scope":{"URI":{"include":[/\/topic\/pharmacy\/selectesrx_DCV.jsp/i]}},"selector":"a","property":{"id":/transferNow/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_SDD_More_Checkout_Page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var selectedId= $(this).attr('id');



if(selectedId == 'wag-rx-delivery-opt-SDD'){
  sessionStorage.setItem('selectedRetailOption',"SDD");		
	window.s.prop31 = "SDD | Radio button | prescription checkout";
}else if(selectedId == 'rx-delivery-option'){
  window.s.prop31 = "SDD | How it works | prescription checkout";
}else if(selectedId == 'wag-tooltip-more'){
	window.s.prop31 = "SDD | More | prescription checkout";
}else if(selectedId === 'wag-rx-delivery-opt-Pick up from store'){
		sessionStorage.setItem('selectedRetailOption',"Retail PickUp");
}else if (selectedId === 'wag-rx-delivery-opt-Ship'){
		sessionStorage.setItem('selectedRetailOption',"Retail Mail");		
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a,input ","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_payment_details_make_payment","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_payment_details_make_payment%"}}]}],"scope":{"URI":{"include":["/pharmacy/youraccount/accountbalance/payment_details.jsp"]}},"selector":"button","property":{"id":"  payment-credit-card-info-continue"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_srx_assessment_call_me_later","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31= "Call Me Later |Specialty Assessment | Walgreens - Prescription Checkout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"button.wag-callMeLater","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_srx_assessment_complete_online","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31= "Complete Now | Specialty Assessment | Walgreens - Prescription Checkout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"button.wag-completeOnline,a.wag-completeOnlineLink","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_srx_assessment_old_call_me_later","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31= "Call Me Later |Specialty Assessment | Walgreens - Leancheckout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout_confirmation.jsp/i]}},"selector":"button.wag-callMeLater","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_srx_assessment_old_complete_online","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31= "Complete Now | Specialty Assessment | Walgreens - Leancheckout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/leancheckout_confirmation.jsp/i]}},"selector":"button.wag-completeOnline,a.wag-completeOnlineLink","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPF_transfer_nonlogin_onclick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $(this).attr('data-track');
if(trackVal === "Register Upsell"){
window.s.prop31= "Register Upsell | Guest Transfer |Walgreens - Prescription Checkout Confirmation";
}else if(trackVal === "Yes Cancel Overlay"){
	window.s.prop31= "Yes| Cancel overlay | Guest Transfer |Prescription Checkout";
}else if(trackVal === "No Cancel Overlay"){
	window.s.prop31= "No |Cancel overlay | Guest Transfer |Prescription Checkout";
}else if(trackVal === "Cancel Overlay"){
	window.s.prop31= "Cancel | Guest Transfer |Prescription Checkout";
}else if(trackVal === "Submit Request Transfer"){
	window.s.prop31= "Submit Request | Guest Transfer |Prescription Checkout";
}else if(trackVal === "Edit Rx info"){
	window.s.prop31= "Edit Rx info | Guest Transfer |Prescription Checkout";
}else if(trackVal === "Edit Insurance info"){
	window.s.prop31= "Edit Insurance info | Guest Transfer |Prescription Checkout";
}else if(trackVal === "Edit Patient info"){
	window.s.prop31= "Edit Patient info | Guest Transfer |Prescription Checkout";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i,/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"a.wag-transfer-nonlogin-track, button.wag-transfer-nonlogin-track","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX-PHIOptIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31 = "Phi Opt In | Walgreens - Prescription Checkout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"section #wag-confirmation-PHI-banner","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_GuestExpressRefill","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
if($(this).hasClass("wag-express-btn-primary")){
	window.s.prop31 = "Request refill | " + document.title + " | Pharmacy | Walgreens";    
}else if($(this).hasClass("wag-express-icon-link")){
	window.s.prop31 = "Add Rx number | " + document.title + " | Pharmacy | Walgreens";    
}


}}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/guest-express-refills.jsp/i]}},"selector":"a.wag-express-icon-link,button.wag-express-btn-primary","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_RR_Checkout_DelivryOptions","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
console.log($(this).attr('id'));
var selectedId= $(this).attr('id');

if(selectedId === 'wag-rr-delivery-opt-Pick up from store'){		
    console.log("pickup")
      window.s.prop31 = "Retail PickUp | Radio Button | " + document.title;
}else if (selectedId === 'wag-rr-delivery-opt-Ship'){		
    console.log("Ship")
    window.s.prop31 = "Retail Ship | Radio Button | " + document.title;
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillreminderprescriptioncheckout.jsp/i]}},"selector":"input[type=radio]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_RRcheckout_BackToPharmacy","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31 = "Back to pharmacy | " + document.title + " | Pharmacy | Walgreens";

}}]}],"scope":{"URI":{"include":[/pharmacy\/prescriptioncheckout.jsp/i,/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"a#transferFlowDisplay","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_RXLanding_Prop31_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var pageURL = window.location.href;
 
 if(pageURL === "https://www.walgreens.com/pharmacy/" || pageURL === "https://www.walgreens.com/pharmacy/default.jsp" || pageURL === "https://www.walgreens.com/pharmacy/rxlanding.jsp") { 
    console.log("Loading rx landing page")
		var tracklink = $(this).attr("data-track-val")+' | Logged Out | New Rx Landing Page | Pharmacy | Walgreens'; 
			s.prop31 = tracklink;
	
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxlanding.jsp/i,/\/pharmacy\/default.jsp/i,/\/pharmacy\//i]}},"selector":"a[data-track-link=\"true\"],button[data-track-link=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_RequestNewRX","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

if($(this).attr("id")  === "wag-request-new-rx-dark-green-btn-id"){
  window.s.prop31 = "Request new prescription | "+ document.title + " | Pharmacy | Walgreens";
}else if($(this).attr("id") === "wag-request-new-rx-cancel-a-id"){
  window.s.prop31 = "Cancel | "+ document.title + " | Pharmacy | Walgreens";
}
  
  
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/enterprescription.jsp/i]}},"selector":"#wag-request-new-rx-cancel-a-id,#wag-request-new-rx-dark-green-btn-id","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_RiteAid_View","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31 = "View now | Riteaid banner | Transfer Prescriptions | Pharmacy | Walgreens";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/order\/transferprescription.jsp/i]}},"selector":"a#wag-riteaid-viewnow","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DPX_checkout_BackToPrescriptions","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
console.log("Back to prescriptions")
window.s.prop31 = "Back to your prescriptions | " + document.title + " | Pharmacy | Walgreens";

}}]}],"scope":{"URI":{"include":[/pharmacy\/prescriptioncheckout.jsp/i,/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"a#yourPrescriptions","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DWAR_add_to_cart","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59a44b4564746d5208000620.js"}]}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"className":/wag-coupon-shop-overlay/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DWAR_offers_click_print","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Print List | button clicked | Coupons hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"id":/print_btn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DWAR_offers_topic_click_browseCpn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Browse Coupons | button clicked | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"a","property":{"id":/browse-coupons-btn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DWAR_offers_topic_click_weeklyad","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"View Weekly Ad | button clicked | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"a","property":{"id":/view-weekly-ads-btn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DWAR_overlay-close-button","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-59a4966a64746d5174000968.js"}]}]}],"selector":"button","property":{"id":/br_acc_create_info_closebtn/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Browse-Coupons-Interstitial-Page-Button-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Browse Coupons button selected | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"button","property":{"id":"browse-coupons-btn"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Members-Only-Offers-Tab-Click (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Members Only Offers tab selected | CTA1 | Balance Rewards"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"a","property":{"id":"wag-members-only-offers-tab"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-Balance-Rewards-Overlay (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-Balance-Rewards-Overlay-Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"name":"clipToCard"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-Clip-Overlay-NonloggedIn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Register or Sign In Overlay displayed | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("CS_Header_Profile_Not_LoggedIn"), "true");
}],"selector":"button","property":{"name":"clipCouponOverlay"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-ClipAll-Button-Clicked","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-ClipAll-Button-Clicked_Prop43%"}}]}],"selector":"button","property":{"id":"clipAllCoupons"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-Search-ShowAll","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Show All selected | Search results | %this.id%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a","property":{"ng-click":"showAllSearchResult(couponsListType.filter.type,$event);","title":"Show all"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-ShopBtn-CouponsHub","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"AddToCart | Clicked | Button | Shop | Coupon Card"}}]}],"selector":"button.wag-coupon-shop-overlay","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-ShopBtn-DetailOverlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"AddToCart | Clicked | Button | Shop | Coupon View Detail Overlay"}}]}],"selector":"button.wag-shop-product-overlay","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Offers-play-video-loggedIn (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | signed-in | Coupons Hub"}}]}],"scope":{"URI":{"include":["/balancerewards/balance-rewards.jsp"]}},"selector":"a","property":{"name":"videologgedinuser"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-Watch-Video-Interstitial-Page-Link-Click (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | Interstitial page"}}]}],"scope":{"URI":{"include":[/\/topic\/offers\/weeklyad-and-offers.jsp/i]}},"selector":"a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-offers-play-video-BR-User (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Digital Offers Educational Video | signed-in | Coupons Hub"}}]}],"scope":{"URI":{"include":[/\/balancerewards\/balance-rewards.jsp/i]}},"selector":"div","property":{"className":/wag-do-brsuy-papercps-video-imgcontainer/i},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-store-change-button (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-store-change-button-Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offfers.jsp/i]}},"selector":"button","property":{"id":"docoupoverlay_Join_btn"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-tooltip-Info-icon (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Tooltip mouseover | Coupons Hub"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"id":"webfont"},"eventHandlerOnElement":true,"event":"hover(0)","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do-viewcoupons-weeklyad (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"View coupons page | Weekly Ad"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a","property":{"id":"desktopPaperlessCoupon"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Clipped_Sort (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Clipped_Sort_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"id":"wag-do-sortcat-select"},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Coupons_Card_Shop-Participating-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_Card_Shop-Participating-link_Prop43%"}}]}],"selector":"a","property":{"title":"Shop participating link"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Coupons_ExpiringSoon_Clipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ExpiringSoon_Clipped_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"name":"clipToCard"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Coupons_Shop-Quallifying-Items","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_Shop-Quallifying-Items_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"a","property":{"title":"Shop participating products"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Coupons_ThemeBackLink","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"ThemePage | Clicked | Link | view weekly Ad and paperless coupons bread crumb"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"li","property":{"id":/back_to_avail/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Coupons_Theme_viewCouponsLink","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"ThemePage | Clicked | Link | view weekly Ad and paperless coupons link"}}]}],"scope":{"URI":{"include":[/offers\/offers.jsp/i]}},"selector":"a","property":{"id":/themePageBackLink/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Search_Coupon (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar5":"%Do_Search_Coupon_evar5%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"button","property":{"id":"dosrch_srch_srchbox"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Search_Coupon_By_Category (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Search_Coupon_By_Category_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"id":"wag-do-sortres-select_category"},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Search_Coupon_By_Type (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Search_Coupon_By_Type_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"id":"wag-do-sortres-select_type"},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Search_Coupon_By_Value (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Search_Coupon_By_Value_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp/i]}},"selector":"select","property":{"id":"wag-do-sortres-select_value"},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Do_Sort_AvailableCoupons (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Sort_AvailableCoupons_Prop43%"}}]}],"scope":{"URI":{"include":[/\/offers\/offers.jsp#\/availablecoupons/i]}},"selector":"select","property":{"id":"wag-do-sortres-select_sort_by"},"eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Dpf-Rxstatus-signin","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31="|Rx Status By Text |Sign in | Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"selector":"a.wag-rxstatus-signin","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"DrpUceRxfamilyMember","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop65';
window.s.prop65 = 'Prescription Management Component | Family Member Drop Down | ' +$('title').text().split('|')[0];
}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"select#DrpUceRxfamilyMember","event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"FRMWRK_Multi-Page_Foresee-DropdownChange_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-559d648133626210100000c0.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_ApplicationType"), /web/i);
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"selector":"select","property":{"id":"pagenav-items-per-page|pagenav-short-by"},"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"FRMWRK_Multi-Page_Foresee-OnClick_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-559d638d376236146d000584.js"}]}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("BAS_ApplicationType"), "web");
},function(){
return _satellite.textMatch(_satellite.getVar("BAS_store_auth_cookie"), /false/i);
}],"selector":".triggerForesee","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_ChangePTValue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Find Care | HCC | Price Override"},"customSetup":function(event,s){
console.log("Find Care | HCC | Price Override " + Date());
}}]}],"scope":{"URI":{"include":[/findcare\/services/i]}},"event":"dataelementchange(HIP_HealthNav_FCN_ChangePTValue)","bubbleFireIfParent":false,"bubbleFireIfChildFired":true,"bubbleStop":true,"customEvent":"MutationObserver"},
    {"name":"HIP_HealthNav_FCN_ChangedLoc","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"FCN_ChangedLoc","setVars":{"prop31":"%\u003cinsert Region assigned\u003e|Changed Location|Find Care Now%"}}]}],"selector":"\u003cinsert Region assigned\u003e|Changed Location|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_CloseExitToPartner - September 20, 2018 11:44:09 AM","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CloseExitToPartner","setVars":{"prop31":"%Close | Exit to Partner |\u003cinsert Partner\u003e|\u003cinsert Selected Service\u003e|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".close-page-turn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_CostEstimate","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"calculator cost estimate"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".hn-cost-est","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_Details_Btype","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"DetailsB","setVars":{"prop31":"%Details |\u003cinsert name of selected service\u003e|Find Care Now| B%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".hn-learn-more","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_GetStartedButton","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"GetStartedButton","setVars":{"prop31":"%Get Started Button|Find Care Now%"}}]}],"selector":"Get Started Button|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_LocProvided","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"LocProvided","setVars":{"prop31":"%\u003cinsert Region assigned\u003e|Location Provided|Find Care Now%"}}]}],"selector":"\u003cinsert Region assigned\u003e|Location Provided|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_NameOfSelectedService","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"NameOfSelectedService","setVars":{"prop31":"%\u003cinsert the name of the Selected Service\u003e|Find Care Now%"}}]}],"selector":"\u003cinsert the name of the Selected Service\u003e|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_PriceTransparency","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"EligibleCalculatorLink","setVars":{"prop31":"%See price with insurance%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".js-modal-open","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_ServiceSelected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"ServiceSelected","setVars":{"prop31":"%\u003cinsert name of service\u003e| Selected |Find Care Now%"}}]}],"selector":"\u003cinsert name of service\u003e| Selected |Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_ServicesAvailableAndDisplayed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"ServicesAvailableAndDisplayed","setVars":{"prop31":"%\u003cinsert Services Available\u003e| Displayed |Find Care Now%"}}]}],"selector":"\u003cinsert Services Available\u003e| Displayed |Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_StartVisit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"StartVisit","setVars":{"prop31":"%Start visit|\u003cinsert name of selected service\u003e|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-startVisit","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_StartVisitExitToPartner - September 20, 2018 11:44:09 AM","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"StartVisitExitToPartner","setVars":{"prop31":"%Start visit | Exit to Partner |\u003cinsert Partner\u003e|\u003cinsert Selected Service\u003e|Find Care Now%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5ba3ea7964746d082a005766.js"}]}]}],"selector":"Start visit | Exit to Partner |\u003cinsert Partner\u003e|\u003cinsert Selected Service\u003e|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_StartVisitExitToPartner_Btype","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"StartVisitExitToPartnerB","setVars":{"prop31":"%Start visit | Exit to Partner |\u003cinsert Partner\u003e|\u003cinsert Selected Service\u003e|Find Care Now%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5ba3ea7964746d082a0057a4.js"}]}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#wag-btn-primary-sm, #wag-act-links","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_StartVisit_Btype","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"StartVisitB","setVars":{"prop31":"%Start visit|\u003cinsert name of selected service\u003e| Find Care Now| B%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":".hn-schedule-apt-text","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_SymNav_ApplyFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"SymptomNavApplyFilter","setVars":{"prop31":"%Apply Filter Button|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-applyFilter","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_SymNav_CancelFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"SymptomNavCancelFilter","setVars":{"prop31":"%Cancel Filters Button|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-cancelFilter","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_SymNav_ClearAllFilters","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"SymptomNavClearAllFilters","setVars":{"prop31":"%Clear All Filters|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-clearAll","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_SymNav_DeSelectFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"SymptomNavDeselectFilter","setVars":{"prop31":"%Action|\u003cinsert Category\u003e|\u003cinsert Condition\u003e| Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-symptomNav","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_SymNav_SelectFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"SymptomNavSelectFilter","setVars":{"prop31":"%Action|\u003cinsert Category\u003e|\u003cinsert Condition\u003e|Find Care Now%"}}]}],"conditions":[function(event,target){
var x = $(this).attr('data-trackval')
}],"selector":"#hn-symptomNav","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_HealthNav_FCN_UseCurrentLoc","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"FCN_UseCurrentLoc","setVars":{"prop31":"%\u003cinsert Region assigned\u003e|Use Current Location|Find Care Now%"}}]}],"selector":"\u003cinsert Region assigned\u003e|Use Current Location|Find Care Now","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_healthnav_search","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Prop31_button_click_tracking","customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var buttonkClick = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop31 = buttonkClick;
}}]}],"selector":"button[data-tracklink=\"true\"],input[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"HIP_wellness_activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Prop30_button_click_tracking","setVars":{"prop30":"prop30_debugging"},"customSetup":function(event,s){
/*s.linkTrackVars = 'prop30';
var buttonkClick = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop30 = buttonkClick; */
}}]}],"scope":{"URI":{"exclude":[/\/findcare\//i]}},"selector":"button[data-tracklink=\"true\"],input[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Health Hub Prop31 Link Click Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Topic_Prop_31_link_click_tracking","customSetup":function(event,s){
s.linkTrackVars = 'prop31';
var topicLinkClickTrack = $('title').text().split('|')[0]+' |'+$(this).attr("data-trackval"); 
s.prop31 = topicLinkClickTrack;
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/live-doctor-consultation.jsp/i,/\/pharmacy\/demand-care.jsp/i]}},"selector":"a[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Login-TrasnferRx-continueAs-Guest","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Continue| Initiate Guest Transfer"}}]}],"selector":".continueBtn-transferRx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Loyalty Landing RFN Issue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-570df64d64746d679a001d47.js"}]}]}],"scope":{"URI":{"include":["/youraccount/loyalty/loyalty_landing.jsp"]}},"selector":"button","property":{"id":"wag-storercpt-submit"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BAS_Prop30_Me_to_We_Learn_more","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Learn more or register at weteachers.org | ME to WE | Walgreens"}}]}],"scope":{"URI":{"include":[/topic\/promotion\/we-impact-lives.jsp/i]}},"selector":"a#me_to_we_learn_more","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BAS_Prop30_Me_to_We_Nominate_a_teacher","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Nominate a teacher or apply | ME to WE | Walgreens"}}]}],"scope":{"URI":{"include":[/topic\/promotion\/we-impact-lives.jsp/i]}},"selector":"a#me_to_we_nominate_a_teacher","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BAS_Prop30_Me_to_We_Track_your_impac","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Track Your Impact | ME to WE | Walgreens"}}]}],"scope":{"URI":{"include":[/topic\/promotion\/we-impact-lives.jsp/i]}},"selector":"a#me_to_we_track_your_impact","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BAS_Prop30_Pickup","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Click Here for Walgreens Pickup link | Exit to Curbside | Walgreens In-Store Pickup"}}]}],"selector":"#CTA\u003e.row\u003ediv\u003ep\u003ea","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BAS_Prop30_shopnow","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Shop Now Button | Exit to Curbside | Walgreens In-Store Pickup"}}]}],"selector":"#CTA\u003ea","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_BBX_PROP30_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BBX buttons and links ","customSetup":function(event,s){
  var bbxProp30 = '';
  var bbxId = '';
  var bbxLinkName = '';
  bbxId = $(this).attr('id');
  var bbxPage = '';
  if(window.location.pathname === '/topic/brand/birchbox-partnership.jsp' ){
    bbxPage= 'Birchbox at Walgreens';
  } else if ( window.location.pathname === '/topic/brand/birchbox-beauty-shop.jsp') {
    bbxPage= 'The Birchbox Shop at Walgreens';
  }
  bbxProp30 = bbxId + '|Exit to Birchbox|' + bbxPage;
  window.s.linkTrackVars = 'prop30';
  window.s.prop30 = bbxProp30; 
  bbxId = '';
  bbxProp30 = '';

}}]}],"scope":{"URI":{"include":[/\/topic\/brand\/birchbox-beauty-shop.jsp/i,/\/topic\/brand\/birchbox-partnership.jsp/i]}},"selector":"#birchboxsubscriptionbutton1, #birchboxsubscriptionbutton2, #birchboxcontent1, #birchboxcontent2, #birchboxcontent3, #birchboxcontent4, #shopbirchboxbutton","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_AutoReorder-Filter_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_AutoReorder-Filter_SAS","setVars":{"prop30":"Auto Reorder Filter Click"}}]}],"selector":"input","property":{"type":"checkbox","title":"Auto-Reorder \u0026 Save"},"eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_CouponAvailable-Filter_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_CouponAvailable-Filter_SAS","setVars":{"prop43":"VPD view clicked | Coupons Available"}}]}],"selector":".wag-product-card-width a","property":{"title":"Coupon available"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Device-orientation_SAS","event":"orientationchange","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Header-CartLink_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Header-CartLink_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'eVar23';
var headerlinkstext=$(this).attr("href");
if (typeof device ==="object")
{
 if(device.mobile() || device.desktop())
 {
  if( headerlinkstext == "/store/checkout/cart.jsp"){
  window.s.eVar23 = "globalheader | Shopping Cart"; 
  }
  if( headerlinkstext == "javascript:;") {
	window.s.eVar23 = "globalheader | Search"; 
	} 
 }
}
}}]}],"selector":".wag-header-cart-tab a,.wag-mobile-search a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Header-MenuNav_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Header-MenuNav_BAS","customSetup":function(event,s){
function rdCookie(name) {
var nameEQ = encodeURIComponent(name) + "=";
var ca  = document.cookie.split(';');
      var val = "C";
for (var i = 0; i < ca.length; i++) {
var c = ca[i];
      
while (c.charAt(0) === ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) === 0) {
        val= decodeURIComponent(c.substring(nameEQ.length, c.length));
        break;
      }
}
return val;
}

var experience = rdCookie("HeaderExp");


window.s.linkTrackVars = 'eVar23';
var  menuText= $(this).text().replace(/[!›\$]/g,"").trim();
 
if(menuText.length > 0) {
  dataValue= $(this).attr('omnitrack-value');
   menuText = dataValue != null ? dataValue : menuText;
	  window.s.eVar23 = "globalnav | "+ menuText +" | Experience "+experience;
 }

}}]}],"selector":".wag-menu-wrapper a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Header-NavLinks_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Header-NavLinks_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'eVar23';
 
if (typeof device ==="object")
{
if(device.mobile())
 {
   if($(this).text().trim().length > 0) {
  	 window.s.eVar23 = "globalnav | "+$(this).text().trim();
   }
 }
 
if(device.desktop())
 {
  if($(this).text().trim().length > 0) {
  window.s.eVar23 = "globalheader | "+$(this).text().trim();
   }
 }
}

}}]}],"selector":".wag-userinfo-container a, .wag-header-rewart-container a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Header-WagLogoLink_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Header-WagLogoLink_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'eVar23';
 if($(this).attr('title').length > 0) {
	window.s.eVar23 = "globalheader | "+$(this).attr('title');
 }

}}]}],"selector":" .wag-header-logo-desktop a, .wag-header-promo-wrapper  a, .wag-header-logo-ipad a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_LeftNav-WeeklyDeals_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_LeftNav-WeeklyDeals_BAS","addEvent":["event21"]}]}],"selector":"form","property":{"id":"leftnavReceiveSpecialOffersForm"},"event":"submit","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Load-More-click_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Load-More-click_SAS","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var pCount = parseInt($(this).attr('omnivalue'))+1;
s.prop30 = 'load more | ' + pCount + ' | ' + document.title;
}}]}],"selector":".wag-omnitrack-load-more","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_Product-card-CTA-PLP_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_Product-card-CTA-PLP_SAS","customSetup":function(event,s){
var btnN =  $(this).html();
if(btnN.indexOf('sr-only') > -1){
  btnN = btnN.split('<span')[0]
}
s.linkTrackVars = 'prop30';
s.prop30 = btnN + " | " + document.title;
}}]}],"selector":".wag-product-card-width button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_RVI-product-click_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_RVI-product-click_SAS","setVars":{"eVar78":"%Prop30_tracking_activity_Data_Element%"}}]}],"selector":".wag-recentlyvieweditems section .wag-recentlyvieweditemslist section button,  .wag-recentlyvieweditems section .wag-rvi-qklook-productcard-icon,  .wag-recentlyvieweditems section .wag-recentlyvieweditemslist section img,  .wag-recentlyvieweditems section .wag-rvi-itemslist p a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_SkinToneFoundation_","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_SkinToneFoundation_","setVars":{"prop30":"%Foundation_SkinTone%"}}]}],"conditions":[function(event,target){
var FoundationColor;
var final_Value;
var buttonText = $(this)[0].textContent;
if(buttonText ==='Apply'){
	if(window.underToneNames.length > 0){
		FoundationColor = window.skinToneName +'_'+ window.underToneNames.join('_');
		final_Value = 'Leftnav | Foundation Color | Select : '+ FoundationColor + ' | Search Results | Walgreens';
  }
	else{
	  FoundationColor = window.skinToneName;
	  final_Value = 'Leftnav | Foundation Color | Select : '+ FoundationColor + ' | Search Results | Walgreens';
			
  }
  
  _satellite.setVar("Foundation_SkinTone",final_Value);
	return true;
}else{
return false;
}

}],"selector":"#foundation-validation-btns button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_StoreLocator-PreviewAfterLoad_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_StoreLocator-PreviewAfterLoad_BAS","customSetup":function(event,s){
if(window.ajaxForPrevLoaded && $('#wholeContainerPrefered').is(':visible')) {
  s.linkTrackVars = 'prop30';
	if(window.header && window.header.profileInfo && (window.header.profileInfo.loggedIn == "true" || window.header.profileInfo.recognizedState)) {
  	if($('.preferedstore').is(':visible')) {
   		s.prop30 = "preferred store | store preview header | " + document.title;
  	} else if ($('.recently-shopped-mfss').is(':visible')) {
      s.prop30 = "home store | store preview header | " + document.title;
    } else {
			s.prop30 = "logged in - geo location | store preview header | " + document.title;
  	}
	} else {
  	s.prop30 = "guest user | store preview header | " + document.title;
	}
}
}}]}],"conditions":[function(event,target){
var thisDTMtrigerred = false;
if(window.ajaxForPrevLoaded && $('#wholeContainerPrefered').is(':visible')) {
  thisDTMtrigerred = true;
}
return thisDTMtrigerred;
}],"selector":"#storelocatorlink \u003e a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_StoreLocator-Preview_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_StoreLocator-Preview_BAS","customSetup":function(event,s){
 s.linkTrackVars = 'prop30';
if(window.header && window.header.profileInfo && (window.header.profileInfo.loggedIn == "true" || window.header.profileInfo.recognizedState)) {
 	if($('.preferedstore').is(':visible')) {
  		s.prop30 = "preferred store | store preview header | " + document.title;
  } else if ($('.recently-shopped-mfss').is(':visible')) {
    s.prop30 = "home store | store preview header | " + document.title;
  } else {
		s.prop30 = "logged in - geo location | store preview header | " + document.title;
 	}
} else {
 	s.prop30 = "guest user | store preview header | " + document.title;
}
window.ajaxForPrevLoaded = true;
}}]}],"selector":"#wholeContainerPrefered","event":"inview","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_TypeAheadPreviewProductClick_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_TypeAheadPreviewProductClick_SAS","customSetup":function(event,s){
var searchKeywordVal = $("#wag-type-right-product-list strong").text();
s.eVar5 = searchKeywordVal;
s.eVar96 = "Top Results";
s.linkTrackVars = "eVar96,eVar5";
}}]}],"selector":"a[omnitrack=\"typeAheadPreviewData\"], .wag-typeahead-img \u003e a \u003e img","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Global_WeeklyDealsSignup_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Global_WeeklyDealsSignup_BAS","addEvent":["event21"]}]}],"selector":"form","property":{"id":"footerReceiveSpecialOffersForm"},"event":"submit","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_BalanceRewards-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_BalanceRewards-Tier1_BAS","setVars":{"prop30":"%BAS_BR_HP_Tier1%"}}]}],"conditions":[function(event,target){
var BalanceRewards_Homepage_Tier1;
var BROfferIndex = ($('#Homepage_Balance_Rewards_CT #wag-homepage-rx-secondary a').index(this))+1;
var MBROffer = ($('#Homepage_Balance_Rewards_m_CT #wag-homepage-rx-secondary a').index(this))+1;
var BRNavIndex = ($('#Homepage_Balance_Rewards_CT #wag-homepage-rx-navigation a').index(this))+1;
var MBRNav = ($('#Homepage_Balance_Rewards_m_CT #wag-homepage-rx-navigation a').index(this))+1;
if($(this).closest('#wag-homepage-rx-hero').length > 0){
  BalanceRewards_Homepage_Tier1 = "BRBanner | Homepage";
}
if($(this).closest('#wag-homepage-rx-secondary').length > 0 && $(this).closest('#Homepage_Balance_Rewards_CT').length > 0) {
  BalanceRewards_Homepage_Tier1 = "BROffer | " + BROfferIndex + " | Homepage";
}
if($(this).closest('#wag-homepage-rx-secondary').length > 0 && $(this).closest('#Homepage_Balance_Rewards_m_CT').length > 0) {
  BalanceRewards_Homepage_Tier1 = "BROffer | " + MBROffer + " | Homepage";
}
if($(this).closest('#wag-homepage-rx-navigation').length > 0 && $(this).closest('#Homepage_Balance_Rewards_CT').length > 0) {
  BalanceRewards_Homepage_Tier1 = "BRNavigation | " + BRNavIndex + " | Homepage";
}
if($(this).closest('#wag-homepage-rx-navigation').length > 0 && $(this).closest('#Homepage_Balance_Rewards_m_CT').length > 0 ) {
  BalanceRewards_Homepage_Tier1 = "BRNavigation | " + MBRNav + " | Homepage";
}
_satellite.setVar("BAS_BR_HP_Tier1",BalanceRewards_Homepage_Tier1);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Balance_Rewards_m_CT #wag-homepage-rx-hero a span,#Homepage_Balance_Rewards_m_CT #wag-homepage-rx-secondary a,#Homepage_Balance_Rewards_m_CT #wag-homepage-rx-navigation a,#Homepage_Balance_Rewards_CT #wag-homepage-rx-hero a span,#Homepage_Balance_Rewards_CT #wag-homepage-rx-secondary a,#Homepage_Balance_Rewards_CT #wag-homepage-rx-navigation a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_BrandStory_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_BrandStory_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var BrandStoryIndex = 0;
if( $(".wag-homepage-portion1-shadow").index( $(this).closest(".wag-homepage-portion1-shadow")) >= 0 ){
 BrandStoryIndex = $(".wag-homepage-portion1-shadow").index( $(this).closest(".wag-homepage-portion1-shadow")) + 1; 
}  
window.s.prop30 = 'BrandStory | ' + BrandStoryIndex + ' | Homepage';
}}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Brand_Story_m_CT .wag-homepage-portion1-shadow a, #Homepage_Brand_Story_CT .wag-homepage-portion1-shadow a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Launchpad_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Launchpad_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
var _this = $(this);
var finalVar = 'Menu'
if (_this.attr('test-event'))
    finalVar = _this.attr('test-event');
else if (_this.attr('title'))
    finalVar = _this.attr('title');
window.s.prop30 = 'LaunchPad | ' + finalVar + ' | Homepage';
}}]}],"conditions":[function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Launchpad_m_CT a#wag-launchpad-prescription-refills, #Homepage_Launchpad_m_CT a#wag-launchpad-shop-products, #Homepage_Launchpad_m_CT a#wag-launchpad-photo, #Homepage_Launchpad_m_CT a#wag-launchpad-store-locator, #Homepage_Launchpad_m_CT a#wag-launchpad-weekly-ad-coupons, #Homepage_Launchpad_m_CT a#wag-launchpad-your-account, #Homepage_Launchpad_m_CT a#wag-launchpad-more-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_MarketingTiles-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_MarketingTiles-Tier1_BAS","setVars":{"prop30":"%BAS_MarT_HP_Tier1%"}}]}],"conditions":[function(event,target){
var SocialTileIndex;
var SocialTile = ($('#Homepage_Marketing_Tiles_CT img').index(this))+1;
var endTitle = Homepage;
if($(this).closest('#Homepage_Marketing_Tiles_CT').length > 0){
  SocialTileIndex = "SocialTile | " + SocialTile + endTitle;
}
if($(this).closest("#Homepage_Miscellaneous_CT").length > 0 && $(this).attr('id') == 'wag-Email-dtm' ){
 SocialTileIndex = "Emailsignupnew | " + endTitle;
}
if($(this).closest("#Homepage_Miscellaneous_CT").length > 0 && $(this).attr('id') == 'wag-br-dtm' ){
 SocialTileIndex = "BalanceRewards | " + endTitle;
}
if($(this).closest("#Homepage_Miscellaneous_CT").length > 0 && $(this).attr('id') == 'wag-mobileapp-dtm' ){
 SocialTileIndex = "MobileApp | " + endTitle;
}
if($(this).closest("#Homepage_Miscellaneous_CT").length > 0 && $(this).attr('id') == 'wag-store-dtm' ){
 SocialTileIndex = "StoreLocator | " + endTitle;
}
_satellite.setVar("BAS_MarT_HP_Tier1",SocialTileIndex);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Marketing_Tiles_CT img,#Homepage_Miscellaneous_CT #wag-Email-dtm,#Homepage_Miscellaneous_CT #wag-br-dtm,#Homepage_Miscellaneous_CT #wag-mobileapp-dtm,#Homepage_Miscellaneous_CT #wag-store-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Photo-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Photo-Tier1_BAS","setVars":{"prop30":"%BAS_Photo_HomePage_Tier1%"}}]}],"conditions":[function(event,target){

var Photo_Homepage_Tier1;
var PhotoOfferIndex = ($('#Homepage_Photo_CT .wag-homepage-secondary a').index(this))+1;
var MPhotoOffer = ($('#Homepage_Photo_m_CT .wag-homepage-secondary a').index(this))+1;
var PhotoNavIndex = ($('#Homepage_Photo_CT .wag-homepage-navigation a').index(this))+1;
var MPhotoNav = ($('#Homepage_Photo_m_CT .wag-homepage-navigation a').index(this))+1;

if($(this).closest('.wag-homepage-hero').length > 0){
  Photo_Homepage_Tier1 = "PhotoBanner | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Photo_CT').length > 0) {
  Photo_Homepage_Tier1 = "PhotoOffer | " + PhotoOfferIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Photo_m_CT').length > 0) {
  Photo_Homepage_Tier1 = "PhotoOffer | " + MPhotoOffer + " | Homepage";
}
if($(this).closest('.wag-homepage-navigation').length > 0 && $(this).closest('#Homepage_Photo_CT').length > 0) {
  Photo_Homepage_Tier1 = "PhotoNavigation | " + PhotoNavIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-navigation').length > 0 && $(this).closest('#Homepage_Photo_m_CT').length > 0 ) {
  Photo_Homepage_Tier1 = "PhotoNavigation | " + MPhotoNav + " | Homepage";
}
if($(this).closest('.wag-homepage-shipping').length > 0) {
 Photo_Homepage_Tier1 = "PhotoShipping | Homepage";
}
_satellite.setVar("BAS_Photo_HomePage_Tier1",Photo_Homepage_Tier1);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Photo_m_CT .wag-homepage-hero a span, #Homepage_Photo_m_CT .wag-homepage-secondary a, #Homepage_Photo_m_CT .wag-homepage-navigation a, #Homepage_Photo_m_CT .wag-homepage-shipping, #Homepage_Photo_CT .wag-homepage-hero a span, #Homepage_Photo_CT .wag-homepage-secondary a, #Homepage_Photo_CT .wag-homepage-navigation a, #Homepage_Photo_CT .wag-homepage-shipping","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_RetailBeauty-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_RetailBeauty-Tier1_BAS","setVars":{"prop30":"%BAS_New_Homepage_Tier1%"}}]}],"conditions":[function(event,target){
var New_Homepage_Tier1;
var RetailBeautyOfferIndex = ($('#Homepage_Retail_Beauty_CT #wag-homepage-rx-secondary a').index(this))+1;
var RetailBeautyCarousel = ($(this).closest('li').attr('quick'));
var Index = ($('#Homepage_Retail_Beauty_CT .wag-homepage-rx-title a span').index(this))+1;
if($(this).closest('#wag-homepage-rx-hero').length > 0){  
  New_Homepage_Tier1 = "BeautyBanner | Homepage";
}
if($(this).closest('#wag-homepage-rx-secondary').length > 0) {
  New_Homepage_Tier1 = "BeautyOffer | " + RetailBeautyOfferIndex + " | Homepage";
}
if($(this).closest('.wag-product-card-width').length > 0) {
 New_Homepage_Tier1 = "BeautyCarousel | " + RetailBeautyCarousel + " | Homepage";
}
if($(this).closest('#wag-homepage-rx-shipping').length > 0) {
 New_Homepage_Tier1 = "BeautyShipping | Homepage";
}
_satellite.setVar("BAS_New_Homepage_Tier1",New_Homepage_Tier1);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Retail_Beauty_CT #wag-homepage-rx-hero a span,#Homepage_Retail_Beauty_CT #wag-homepage-rx-secondary a,#Homepage_Retail_Beauty_CT .wag-homepage-carousel .wag-product-card-width a,#Homepage_Retail_Beauty_CT #wag-homepage-rx-shipping","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_RetailProducts-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_RetailProducts-Tier1_BAS","setVars":{"prop30":"%BAS_RP_HomePage%"}}]}],"conditions":[function(event,target){
var RP_Homepage_Tier1;
var RPOfferIndex = ($('#Homepage_Retail_Products_CT .wag-homepage-secondary a').index(this))+1;
var MRPOfferIndex = ($('#Homepage_Retail_Products_m_CT .wag-homepage-secondary a').index(this))+1;
var RPCarouselIndex = ($('#Homepage_Retail_Products_CT .wag-homepage-carousel ul li').index(this))+1;
if($(this).closest('.wag-homepage-hero').length > 0){
  RP_Homepage_Tier1 = "RetailBanner | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Retail_Products_CT').length > 0) {
  RP_Homepage_Tier1 = "RetailOffer | " + RPOfferIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Retail_Products_m_CT').length > 0) {
  RP_Homepage_Tier1 = "RetailOffer | " + MRPOfferIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-carousel').length > 0 && $(this).closest('#Homepage_Retail_Products_CT').length > 0) {
  RP_Homepage_Tier1 = "RetailCarousel | " + RPCarouselIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-shipping').length > 0 && $(this).closest('#Homepage_Retail_Products_CT').length > 0 ) {
 RP_Homepage_Tier1 = "RetailShipping | Homepage";
}
_satellite.setVar("BAS_RP_HomePage",RP_Homepage_Tier1);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Retail_Products_m_CT .wag-homepage-hero a span, #Homepage_Retail_Products_m_CT .wag-homepage-secondary a, #Homepage_Retail_Products_CT .wag-homepage-hero a span, #Homepage_Retail_Products_CT .wag-homepage-secondary a, #Homepage_Retail_Products_CT .wag-homepage-carousel ul li, #Homepage_Retail_Products_CT .wag-homepage-shipping","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Rx-AlertDismiss_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Rx-AlertDismiss_BAS","setVars":{"prop31":"Dismiss|%BAS-refill%|%BAS-rx-name%|%BAS-logged-status%"}}]}],"conditions":[function(event,target){
var rxName = $('title').text();
if(window.location.pathname === "/" || window.location.pathname === '') {
	rxName = 'Walgreens.com Home Page';
} 
if(window.location.href.indexOf("search") > -1) {
  rxName = 'Search Results | Walgreens';
}
var loggedState = '3rd state';
if(window.header.profileInfo.loggedIn === 'true') {
  loggedState = 'Logged in';
} 
var refill_name = 'Action needed';
var refill_names = '';
if($('.refill-btn>a').text() !== 'undefined' && $('.refill-btn>a').text() !== '') {
  var _scope =  $('[ng-controller="globalRxAlertController"]').scope()
	refill_names =_scope.alertData.message; 
} 

if (refill_names.indexOf('Ready') > -1) {
  refill_name ='Rx ready';
}
if (refill_names.indexOf('RefillDue') > -1) {
  refill_name ='Refill due';
}
_satellite.setVar("BAS-rx-name",rxName) 
_satellite.setVar("BAS-logged-status",loggedState)
_satellite.setVar("BAS-refill",refill_name)
return true
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":".refill-dismiss","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Rx-Refill_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Rx-Refill_BAS","setVars":{"prop31":"Action|%BAS-refill%|%BAS-rx-name%|%BAS-logged-status%"}}]}],"conditions":[function(event,target){
var rxName = $('title').text();
if(window.location.pathname === "/" || window.location.pathname === '') {
	rxName = 'Walgreens.com Home Page';
} 
if(window.location.href.indexOf("search") > -1) {
  rxName = 'Search Results | Walgreens';
}
var loggedState = '3rd state';
if(window.header.profileInfo.loggedIn === 'true') {
  loggedState = 'Logged in';
}
var refill_name = 'Action needed';
var refill_names = '';
if($('.refill-btn>a').text() !== 'undefined' && $('.refill-btn>a').text() !== '') {
  var _scope =  $('[ng-controller="globalRxAlertController"]').scope()
	refill_names =_scope.alertData.message; 
} 

if (refill_names.indexOf('Ready') > -1) {
  refill_name ='Rx ready';
}
if (refill_names.indexOf('RefillDue') > -1) {
  refill_name ='Refill due';
} 
_satellite.setVar("BAS-rx-name",rxName) 
_satellite.setVar("BAS-logged-status",loggedState)
_satellite.setVar("BAS-refill",refill_name)
return true
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":".refill-btn","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Rx-Tier1_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Rx-Tier1_BAS","setVars":{"prop30":"%BAS_Rx_HP_Tier1%"}}]}],"conditions":[function(event,target){

var Rx_Homepage_Tier1;
var RxOfferIndex = ($('#Homepage_Rx_CT .wag-homepage-secondary a').index(this))+1;
var MRxOffer = ($('#Homepage_Rx_m_CT .wag-homepage-secondary a').index(this))+1;
var RxNavIndex = ($('#Homepage_Rx_CT .wag-homepage-navigation a').index(this))+1;
var MRxNav = ($('#Homepage_Rx_m_CT .wag-homepage-navigation a').index(this))+1;

if($(this).closest('.wag-homepage-hero').length > 0){
  Rx_Homepage_Tier1 = "RXBanner | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Rx_CT').length > 0) {
  Rx_Homepage_Tier1 = "RXOffer | " + RxOfferIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-secondary').length > 0 && $(this).closest('#Homepage_Rx_m_CT').length > 0) {
  Rx_Homepage_Tier1 = "RXOffer | " + MRxOffer + " | Homepage";
}
if($(this).closest('.wag-homepage-navigation').length > 0 && $(this).closest('#Homepage_Rx_CT').length > 0) {
  Rx_Homepage_Tier1 = "RXNavigation | " + RxNavIndex + " | Homepage";
}
if($(this).closest('.wag-homepage-navigation').length > 0 && $(this).closest('#Homepage_Rx_m_CT').length > 0 ) {
  Rx_Homepage_Tier1 = "RXNavigation | " + MRxNav + " | Homepage";
}
if($(this).closest('.wag-homepage-shipping').length > 0) {
 Rx_Homepage_Tier1 = "RXShipping | Homepage";
}
_satellite.setVar("BAS_Rx_HP_Tier1",Rx_Homepage_Tier1);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#Homepage_Rx_m_CT .wag-homepage-hero a span, #Homepage_Rx_m_CT .wag-homepage-secondary a, #Homepage_Rx_m_CT .wag-homepage-navigation a, #Homepage_Rx_CT .wag-homepage-hero a span, #Homepage_Rx_CT .wag-homepage-secondary a, #Homepage_Rx_CT .wag-homepage-navigation a, #Homepage_Rx_CT .wag-homepage-shipping","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Homepage_Rx-ViewOnload_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Homepage_Rx-ViewOnload_BAS","setVars":{"prop31":"%BAS-refill%|%BAS-rx-name%|%BAS-logged-status%"}}]}],"conditions":[function(event,target){
var rxName = $('title').text();
if(window.location.pathname === "/" || window.location.pathname === '') {
	rxName = 'Walgreens.com Home Page';
} 
if(window.location.href.indexOf("search") > -1) {
  rxName = 'Search Results | Walgreens';
}
var loggedState = '3rd state';
if(window.header.profileInfo.loggedIn === 'true') {
  loggedState = 'Logged in';
} 
var refill_name = 'Action needed';
var refill_names = '';
if($('.refill-btn>a').text() !== 'undefined' && $('.refill-btn>a').text() !== '') {
  var _scope =  $('[ng-controller="globalRxAlertController"]').scope()
	refill_names =_scope.alertData.message; 
} 

if (refill_names.indexOf('Ready') > -1) {
  refill_name ='Rx ready';
}
if (refill_names.indexOf('RefillDue') > -1) {
  refill_name ='Refill due';
}
_satellite.setVar("BAS-rx-name",rxName) 
_satellite.setVar("BAS-logged-status",loggedState)
_satellite.setVar("BAS-refill",refill_name)
return true
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":".show-refill.refill","event":"inview","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Cond__BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Cond__BAS","setVars":{"prop43":"Quick View clicked | Coupon Available"}}]}],"conditions":[function(event,target){
var triggerThis = false;
if (typeof window.dtmObject === 'undefined') {
    window.dtmObject = {}
}
if (typeof window.dtmObject.BAS === 'undefined') {
    window.dtmObject.BAS = {}
}
window.dtmObject.BAS.CouponAvailableLinkLocation = "OpenQuickView"
if($(this).closest('.wag-product-card-width').find("a[title='Coupon available']").length > 0){
  triggerThis =true;
}
return triggerThis;
}],"selector":".wag-product-card-width a, .wag-product-card-width button","property":{"data-target":".bs-example-modal-lg_store2"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Page_FindInStore_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Page_FindInStore_BAS","addEvent":["event20"]}]}],"scope":{"URI":{"include":[/Include "ID=prod(\d+)-product|ID=(\d+)-tier3|\/productlist\/|\/productlist.jsp|\/view_product_details.jsp|\/shoppinglist\/showwishlist.jsp|\/save\/rebate.jsp|\/save\/sale.jsp|\/save\/loyalty-points-offers.jsp|\/save\/clearance.jsp|\/store\/xpo_products.jsp|\/BalanceRewardsOffers\/balance-rewards-offer.jsp" with Regex Enabled/i]}},"conditions":[function(event,target){
var findAtStoreText = "";
if($(this)[0].tagName === "INPUT"){
  findAtStoreText = $(this).val();
} else if($(this)[0].tagName === "BUTTON"){
  findAtStoreText = $(this).text();
}
var findAtStoreFlag = false;
if(findAtStoreText.search('Find at a store') > -1 || findAtStoreText.search('Find at store') > -1 ) {
	findAtStoreFlag = true;
}
return findAtStoreFlag;
}],"selector":"button, input","property":{"type":"button"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Page__BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Page__BAS","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var topicLinkClickTrack = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop30 = topicLinkClickTrack;
}}]}],"scope":{"URI":{"exclude":[/\/pharmacy\/demand-care.jsp/i,/\/pharmacy\/live-doctor-consultation.jsp/i,/\/youraccount\/default.jsp/i,/\/pharmacy\/care-connect.jsp/i]}},"selector":"a[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Page_privacy-security-button-tracking_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"wag-privacy-security-button","setVars":{"prop30":"privacypolicynotice|close|mobile|%BAS_Adaptive_Default_PageTitle_Global%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-581182b664746d5fd700b38a.js"}]}]}],"selector":".wag-privacy-security button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Page_privacy-security-link-tracking_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Page_privacy-security-link-tracking_SAS","setVars":{"prop30":"privacypolicynotice|viewpolicy|mobile|%BAS_Adaptive_Default_PageTitle_Global%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-581182b664746d5fd700b39e.js"}]}]},{"command":"delayActivateLink"}],"selector":".wag-privacy-security a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Multi-Page_sponsored-product-click_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Page_sponsored-product-click_SAS","setVars":{"eVar30":"Search-Sponsored Ad"}}]}],"scope":{"URI":{"include":[/\/productlist.jsp|productlist\/|ID=(\d+)-tier3|results.jsp|\/\//i]}},"selector":".wag-product-card-width.sponsored","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_PDP_Tier2Personalization_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%BAS_Tier2_RecomProd_prop30%"}}]}],"conditions":[function(event,target){
var prodIndex = 0;
var carouselName = '';
if ($("#recommProdCarouselFrame1 ul li").index($(this).closest("#recommProdCarouselFrame1 ul li")) >= 0) {
prodIndex = $("#recommProdCarouselFrame1 ul li").index($(this).closest("#recommProdCarouselFrame1 ul li")) + 1;
carouselName = 'Tier 2 Personalization Carousel';
}
var productID = "";
var prodVal = $(this).find('a').attr('href');
var param = new RegExp('[\?|\/&]' + 'ID' + '=([^&\/#]*)', 'i').exec(prodVal);
if (param && param[1]) {
	productID = param[1].split('-')[0];
}
var recommProd = carouselName + ' | ' + prodIndex + ' | ' + productID ;
_satellite.setVar("BAS_Tier2_RecomProd_prop30",recommProd);
return true;
},function(){
return _satellite.textMatch(_satellite.getVar("Enable_DTM_CCPA"), /false/i);
}],"selector":"#recommProdCarouselFrame1 ul li","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Pharmacy_Home-RefillHubBreadcrumb_","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Pharmacy_Home-RefillHubBreadcrumb_","setVars":{"prop31":"Breadcrumb | Home | Manage Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a","property":{"className":/breadCrumbHome/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Pharmacy_Home-SeeAll_DCS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Pharmacy_Home-SeeAll_DCS","setVars":{"prop31":"See All | Home Screen | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"  id":"wag-plm-seeAll-Track"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Pharmacy_Home-TileExists_DCS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Pharmacy_Home-TileExists_DCS","setVars":{"prop31":"Home Screen | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"section[id=\"plm-card\"]","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_Pharmacy_Home-YourRx_DCS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Pharmacy_Home-YourRx_DCS","setVars":{"prop31":"Your RX | Home Screen | PLM Tile","channel":"pharmacy"}}]}],"scope":{"URI":{"include":["/pharmacy/dashboard.jsp"]}},"selector":"a","property":{"id":"wag-plm-yourRx-track"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_ProductComparison_FindAtStore-click_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_ProductComparison_FindAtStore-click_SAS","addEvent":["event20"]}]}],"scope":{"URI":{"include":["/search/productcomparison.jsp"]}},"selector":".availabilitybtns \u003e .wag-btn-default-sm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_AllProducts_BAS","scope":{"URI":{"include":["/search/results.jsp"]}},"selector":"#All_products","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_AutoSuggestedWord_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_AutoSuggestedWord_BAS","setVars":{"eVar100":"%BAS_auto_suggestedword%"},"addEvent":["event13:| %BAS_auto_suggestedword%"]}]}],"scope":{"URI":{"include":["/search/results.jsp"]}},"conditions":[function(event,target){
console.log("window.dtmObject.BAS.SearchResultsWholeInfo",window.dtmObject.BAS.SearchResultsWholeInfo);
if(window.dtmObject.BAS && window.dtmObject.BAS.SearchResultsWholeInfo && (window.dtmObject.BAS.SearchResultsWholeInfo.filter && window.dtmObject.BAS.SearchResultsWholeInfo.filter.closeMatchKeyword) || (window.dtmObject.BAS.SearchResultsWholeInfo.messages && window.dtmObject.BAS.SearchResultsWholeInfo.messages[0].code=="WAG_I_SR_0003")){
var trackVar = window.dtmObject.BAS.SearchResultsWholeInfo.filter.q+" | "+ $(this).text();
console.log(trackVar);
  _satellite.setVar("BAS_auto_suggestedword",trackVar);
return true;
}

}],"selector":".wag-search-suggested-items a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_DrugInfo_SAS","conditions":[function(event,target){
$('.wag-drug-info-search-results-uses a').click(function(e){
	e.preventDefault();
});
var temp = encodeURI($(this).attr('href'));
temp = temp.replace('%%', '%25%');
$(this).attr('href', temp);
return true;
}],"selector":"#wagSearchResultsRightSection .wag-drug-info-search-results-uses a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_ErrorTrackLinks_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-559a50633231300017000116.js"}]}]}],"scope":{"URI":{"include":[/\/search\/results.jsp/i]}},"selector":"a.track-search-results-error-links","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_FilterEvent_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_FilterEvent_BAS","setVars":{"prop30":"%BAS_Prop30%"}}]}],"scope":{"URI":{"include":["/results.jsp"]}},"selector":"Input.wag-search-radio","eventHandlerOnElement":true,"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_NoActivity_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_NoActivity_BAS","setVars":{"eVar77":"0"}}]}],"scope":{"URI":{"include":[/\/search\/results.jsp\/*/i,/\/q\/*/i]}},"conditions":[function(event,target){
var triggerOnNoActivity = false;
if (window.location.href == window.dtmObject.BAS.onLoadSearchPageUrl && !window.dtmObject.BAS.productCardActivity) {
  triggerOnNoActivity = true;
}
return triggerOnNoActivity;
}],"selector":".wag-header-logo-container a, nav a, .wag-header-promo-wrapper a, .wag-userinfo-container a, #footer a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_QuickCompare_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_QuickCompare_SAS","setVars":{"prop30":"Quick Compare | %Quick_Compare%"}}]}],"conditions":[function(event,target){
var quickCompare = ($('.wag-productcomparison-filters > label.btn-block').index(this));
		switch ($('label.btn-block').index(this)) {
    case 0:
		quickCompare = "Topsellers " + ' | ' + document.title;
		break;
		case 1:
		quickCompare = "Highest Rated " + ' | ' + document.title;
		break;
		case 2:
		quickCompare = "Lowest Price Per Unit " + ' | ' + document.title;
		break;
	}
_satellite.setVar("Quick_Compare",quickCompare);
return true;
}],"selector":"label.btn-block","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_ShiptoYou_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_ShiptoYou_BAS","setVars":{"prop30":"Online | Non - GeoTargetted | Search results | Walgreens"},"customSetup":function(event,s){
if(this.id == "All_products"){  prop30 = "All"; }

}}]}],"scope":{"URI":{"include":["/search/results.jsp"]}},"selector":"#Ship_to_you_products","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_back-to-Top_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_back-to-Top_SAS","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
s.prop30 = 'back to top | ' + document.title;
}}]}],"selector":".wag-omnitrack-go-to-top","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_product-comparison_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_product-comparison_SAS","setVars":{"prop30":"%ProductCompare_on_off%"}}]}],"selector":".wag-prd-compare","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_survey-Link_BAS","trigger":[{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5609450b61623300170007bf.js"}]}]}],"scope":{"URI":{"include":[/\/search\/results.jsp/i]}},"selector":"#pageNavFooterSection a","property":{"className":"wag-product-header"},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_survey-NoButton_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_survey-NoButton_BAS","setVars":{"prop30":"survey negative | %BAS-Search-result-keyword-value% | %BAS_Adaptive_Default_PageTitle_Global%"}}]}],"selector":".survey-no-button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_survey-SubmitButton_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_survey-SubmitButton_BAS","setVars":{"prop30":"feedback submitted | %BAS-Search-result-keyword-value% | %BAS_Adaptive_Default_PageTitle_Global%"}}]}],"selector":".survey-submit-button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_SearchResults_survey-YesButton_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_SearchResults_survey-YesButton_BAS","setVars":{"prop30":"survey positive | %BAS-Search-result-keyword-value% | %BAS_Adaptive_Default_PageTitle_Global%"}}]}],"selector":".survey-yes-button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_StoreLocatorDetail_LinkTracking_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]},{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5aa932fa64746d531c00400d.js"}]}]}],"scope":{"URI":{"include":[/\/locator\//i,/\/storelocator\//i]}},"selector":"#wag-storelocator-find a, .wag-storelocatorresults-refine a, #wag-storelocator-result a, .wag-storelocator-details-wrapper a, .wag-storelocator-details-wrapper button, #wag-storelocator-result button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_StoreLocatorDetail_Results_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_StoreLocatorDetail_Results_BAS","customSetup":function(event,s){
if($(this).attr('o-trk-index') && window.dtmObject.BAS.NonAkamaiResultForOmni){
  window.s.linkTrackVars = 'eVar84';
	window.s.eVar84 = $(this).attr('o-trk-index');
}
}}]}],"scope":{"URI":{"include":["/storelocator/result.jsp"]}},"selector":"a.wag-o-trk-index","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_StoreLocatorDetail_Results_BAS","scope":{"URI":{"include":[/\/storelocator\/result.jsp/i]}},"selector":"a.wag-o-trk-index","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_StoreLocatorDetail_preview-AfterLoadClick_BAS","conditions":[function(event,target){
var thisDTMtrigerred = false;
if(window.ajaxForPrevLoaded && $('#wholeContainerPrefered').is(':visible')) {
  thisDTMtrigerred = true;
}
return thisDTMtrigerred;
}],"selector":"#storelocatorlink \u003e a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_StoreLocatorDetail_preview-click_BAS","selector":"#wholeContainerPrefered","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"METRICS_VPD_Prop30_BAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_VPD_Prop30_BAS","customSetup":function(event,s){
window.s.linkTrackVars = 'prop30';
window.s.prop30 = "Shop more | "+ $(this).text() +" | "+ $('title').text();
}}]}],"scope":{"URI":{"include":[/ID=prod\d+-product/i,"view_product_details.jsp"]}},"selector":"a.trackProp30","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Prop30_Btn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Prop_30_button_click_tracking","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var buttonkClick = $(this).attr("data-trackval")+'|'+$('title').text().split('|')[0]; 
s.prop30 = buttonkClick;
}}]}],"scope":{"URI":{"exclude":[/\/youraccount\/default.jsp/i,/\/pharmacy\/365-get-healthy-here\/benefitshome.jsp/i,/\/findcare\//i]}},"selector":"button[data-tracklink=\"true\"],input[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"Uce_Prop65_Btn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
s.linkTrackVars = 'prop65';
var buttonkClick = $(this).attr("data-trackval")+' | '+$('title').text().split('|')[0]; 
s.prop65 = buttonkClick;
}}]}],"scope":{"URI":{"include":[/\/youraccount\/default.jsp/i]}},"selector":"button[data-tracklink=\"true\"],input[data-tracklink=\"true\"],a[data-tracklink=\"true\"],span[data-tracklink=\"true\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"VPD-Prop30-ProductRecommendations-intra-basket/customer","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"VPD-Prop30-ProductRecommendations-intra-basket/customer","setVars":{"prop30":"%BAS-VpdCustemerAlsoBought-Swap-prop30-DataElement%"}}]}],"conditions":[function(event,target){
var _this = $(this);
window.dtmObject.BAS.CustemerAlsoBoughtIdx = _this.closest("li").index()+1;
return true;
}],"selector":"[ng-repeat='PrevBoughtItem in PrevBoughtItems.products'] a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"cac-ps-continue (Copy) (Copy)","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar5":"%cacpscontine%","prop14":"checkout"}}]}],"scope":{"URI":{"include":["/store/checkout/cl_prescriber_search_results.jsp"]}},"selector":"li.wag-cl-pv-form-boxbutton","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"diabetes_prop30_dropdown","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"diabetes_prop30_dropdown","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var topicLinkClickTrack =$(this).val()+' | All articles | Articles Drop Down|'+$('title').text().split('|')[0]; 
s.prop30 = topicLinkClickTrack;
}}]}],"scope":{"URI":{"include":[/\/health\/diabetes\/500001/i]}},"selector":"select.CatDrpDwn","eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-edit-address-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Edit address | Edit | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.edit-address-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-edit-auto-refill-overlay-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Edit Auto Refill | Edit Auto Refill |"+appState+"|Rx History Overlay";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.edit-auto-refill-overlay-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-new-refill-rx-hub-leftnav-change","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$(this).text().trim();
window.s.prop31="Territory Nav | Refills|"+appState+"|Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"ul.wag-refill-hide-act-leftnav-focus li a","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-other-rx-transfer-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Other prescriptions to transfer |Other prescriptions to transfer   | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.other-rx-transfer-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-other-transfer-rx-buyout","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Other prescriptions to transfer |Other prescriptions to transfer   | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.other-transfer-rx-buyout","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-refill-checkbox-change","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var checkboxState =$(this).is(":checked");

if(checkboxState)
  window.s.prop31="Checked| Refillhub Checkbox| Your Prescriptions";  
else
  window.s.prop31="UnChecked| Refillhub Checkbox| Your Prescriptions";

}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":".wag-refill-add-checkbox input","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-refill-hub-request-refill-btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
if(isSafari){
		$('.stickybarPrec').removeClass("container").css('margin','0 auto');
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":".stickybarPrec","event":"elementexists","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-refillhub-filter-checkbox-left-nav","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';
var checkedState=$(this).is(":checked");
var checkedPres =$(this).hasClass('prescriber-dtm');
var checkedRx =$(this).hasClass('pharmacy-dtm');

if(checkedPres){  
 
  if(checkedState)
		window.s.prop31="Checked|Filter by Prescriber|Your Prescriptions";
  else
   	window.s.prop31="UnChecked|Filter by Prescriber|Your Prescriptions";
  
}else if(checkedRx){
  if(checkedState)
      window.s.prop31="Checked|Pharmacy type|Your Prescriptions";
    else
      window.s.prop31="UnChecked|Pharmacy type|Your Prescriptions";
}





}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"#sortingAndFilteringForm input[type=\"checkbox\"],#sortingAndFilteringFormMobile input[type=\"checkbox\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-request-refill-btn-rx","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Request refill | Refills|"+appState+"| Your Prescriptions";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"button.request-refill-btn-rx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-addmoreprescription-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $('.rx-checkout-addmoreprescription-tracker').attr('data-track');

window.s.prop31= trackVal+" | prescription checkout";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a.rx-checkout-addmoreprescription-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-address-link","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $(this).text().trim();

window.s.prop31= "shipping method | "+ trackVal +" | prescription checkout";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a.rx-checkout-address-link","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-credit-card-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"preferred payment method | Update card | prescriptioncheckout"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a.rx-checkout-credit-card-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-health-info-check","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $(this).prop('checked');

if(trackVal)
window.s.prop31= "health information |speciality pharmacy|my information is accurate-check | prescription checkout";
else
  window.s.prop31= "health information |speciality pharmacy|my information is accurate-unchecked | prescription checkout";
  
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"#healthInfo_checkobx","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-link-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $(this).attr('data-track');

window.s.prop31= trackVal+"|specialty pharmacy |edit| prescription checkout";

}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a.rx-checkout-link-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-radio-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';

var trackVal = $(this).attr('data-track');
window.s.prop31= "terms and conditions | speciality pharmacy | "+trackVal+" | Prescription checkout";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":".rx-checkout-radio-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-remove-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"review your rx | remove | prescription checkout"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"a.rx-checkout-remove-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-request-remove-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $('.rx-checkout-request-remove-tracker').attr('data-track');
var checkState = $(this).prop('checked');

if(checkState)
window.s.prop31= " review your rx | speciality pharmacy | "+ trackVal +" - check | prescription checkout";
else
  window.s.prop31= " review your rx | speciality pharmacy | "+ trackVal +"- unchecked | prescription checkout";
  
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"input[name=\"wag-rxcheckout-requestremove\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-savecc-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';

var trackVal = $('.rx-checkout-savecc').attr('data-track');
window.s.prop31= "preferred payment method | "+trackVal+" | prescription checkout";
}}]}],"scope":{"URI":{"include":["/pharmacy/prescriptioncheckout.jsp"]}},"selector":"input[name=\"wag-formcheckbox-savecc\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-checkout-submitRequest-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';

var trackVal = $('.rx-checkout-submitRequest-tracker').attr('data-track');

window.s.prop31= trackVal+" | prescription checkout";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"button.rx-checkout-submitRequest-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-status-button-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
function fromPageGetParameterByName(names) {
  var name = names.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
      results = regex.exec(location.search);
  return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
};
//console.log(fromPageGetParameterByName('flowType'))
var flowTypeValue = fromPageGetParameterByName('flowType');
if(flowTypeValue == "100"){
	var trackVal = $(this).attr('data-track');
if(trackVal == 'Find your store'){
	window.s.prop31= "| Rx Status By Text | "+trackVal+" | Your Prescriptions";
}else if(trackVal == 'Start a refill'){
	window.s.prop31= "| Rx Status By Text | "+trackVal+" | Your Prescriptions";
}
}else{
var trackVal = $(this).attr('data-track');
if(trackVal == 'Find your store'){
	window.s.prop31= "| "+trackVal+" | Your Prescriptions";
}else if(trackVal == 'Start a refill'){
	window.s.prop31= "| "+trackVal+" | Your Prescriptions";
}}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"selector":"button.wag-new-rx-status-button-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-status-reload","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
function fromPageGetParameterByName(names) {
  var name = names.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
      results = regex.exec(location.search);
  return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
};
//console.log(fromPageGetParameterByName('flowType'))
var flowTypeValue = fromPageGetParameterByName('flowType');
if(flowTypeValue != undefined || flowTypeValue == "100"){
var trackVal = $(this).attr('data-track');
if(trackVal == 'Reload this page'){
	window.s.prop31= "| Rx Status By Text | "+trackVal+" | Your Prescriptions";
}else if(trackVal == 'Use our store locator'){
	window.s.prop31= "| Rx Status By Text | "+trackVal+" | Your Prescriptions";
}}else{
var trackVal = $(this).attr('data-track');
if(trackVal == 'Reload this page'){
	window.s.prop31= "| "+trackVal+" | Your Prescriptions";
}else if(trackVal == 'Use our store locator'){
	window.s.prop31= "| "+trackVal+" | Your Prescriptions";
}
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"selector":"a.wag-new-rx-status-link-tracker","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-rx-status-traking-number","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
function fromPageGetParameterByName(names) {
  var name = names.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
      results = regex.exec(location.search);
  return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
};
//console.log(fromPageGetParameterByName('flowType'))
var flowTypeValue = fromPageGetParameterByName('flowType');
if(flowTypeValue != undefined || flowTypeValue == "100"){
	var trackVal = $(this).attr('data-track');
	window.s.prop31= "| Rx Status By Text | Shipped | "+trackVal+" | Your Prescriptions";
}else{
var trackVal = $(this).attr('data-track');
	window.s.prop31= "Shipped | "+trackVal+" | Your Prescriptions";
}
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/rxstatus\/rxStatus.jsp/i]}},"selector":"a.wag-new-rx-status-tracker-number","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-add","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Add | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"button.wag-sat-add-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-cancel","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Cancel | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"a.wag-sat-cancel-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-confirm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Confirm | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"button.wag-sat-confirm-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-continue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Continue | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"button.wag-sat-btn-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-edit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Edit | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"a.wag-sat-edit-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-faq","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Save a Trip FAQs | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"a.wag-sat-faq-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-getstarted","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Get Started | Save a Trip | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button.wag-saveatrip-get-started-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-history-edit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"View Save a Trip | Fill History Overlay | Save a Trip | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a.wag-sat-edit-save-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-no-recommended","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"No | Recommended Banner | Save a Trip | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button.wag-sat-no-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-refillhub-badge","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Save a Trip Badge | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"a.wag-sat-badge-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-reset","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Reset | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"a.wag-sat-reset-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-yes-confirm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Yes Confirm | Fill History Overlay | Save a Trip | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button.wag-sat-refillhub-yes-confirm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-yes-recommended","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Yes | Recommended Banner | Save a Trip | Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillhub.jsp/i]}},"selector":"button.wag-sat-yes-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-save-a-trip-yescancel","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Yes Cancel | Save a Trip"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/save_a_trip\/save_a_trip.jsp/i]}},"selector":"button.wag-sat-yes-cancel-omniture","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-setup-auto-refill-overlay-dtm","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Setup Auto Refill | Setup Auto Refill |"+appState+"|Rx History Overlay";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"a.setup-auto-refill-overlay-dtm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf-sort-filter-radio-left-nav","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Checked|Sort by|Your Prescriptions"}}]}],"scope":{"URI":{"include":[/\/pharmacy\/refillhub\/refillPrescriptions.jsp/i]}},"selector":"#sortingAndFilteringForm input[type=\"radio\"],#sortingAndFilteringFormMobile input[type=\"radio\"]","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"dpf_marketing_banner_submit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
window.s.prop31= "| Text Alert| Walgreens - Prescription Checkout Confirmation";
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout_confirmation.jsp/i]}},"selector":"button.wag-btn-blue-secondary-sm","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"oncology_change_prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"oncology_Dropdown_change_prop30","customSetup":function(event,s){
s.linkTrackVars = 'prop30';
var dropdownClick = $('#sideEffect option:selected').attr("data-trackval")+'|'+$('title').text().split('|')[0];
s.prop30 = dropdownClick;
}}]}],"scope":{"URI":{"include":[/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/constipation.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/diarrhea.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/difficulty-swallowing.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/fatigue.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/loss-of-appetite.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/mouth-sores-dry-mouth.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/nausea-and-vomiting.jsp/i,/\/topic\/pharmacy\/specialty-pharmacy\/cancer-treatment\/side-effect-help\/taste-change.jsp/i]}},"selector":"select#sideEffect","eventHandlerOnElement":true,"event":"change","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"payment_edit","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-599b4cd764746d351e001943.js"}]}]}],"selector":"button","property":{"id":/payinfo-edit/i},"event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false},
    {"name":"wag_dpf_hideerror","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
$(document).ready(function(){
   //console.log('BUTTON CLICK');
	$(".stickybarPrecNew  button[type=button]").on("click",function(){
	 	var len =  $("section.col-lg-12.col-md-12.col-xs-12.col-sm-12.wag-srx-p0.mb30.ng-scope").find("input[type=checkbox]").length;
		var isNotEmptyComment = false;
	if(len > 0){
		var checkedflag=false;
	  for(var i=0; i<len; i++)
	  {
     //console.log('FOR LOOP');
		if($("section.col-lg-12.col-md-12.col-xs-12.col-sm-12.wag-srx-p0.mb30.ng-scope").find("input[type=checkbox]")[i].checked){
		 //console.log('HIDE MESSAGE');
		checkedflag = true;
		break;
    }
	  }
	}
	var checkEmptyComment = $("#srxcomments").val();
	if(checkEmptyComment){
	var commentLength = checkEmptyComment.length;
		if(/^\s*$/.test(checkEmptyComment)){
			isNotEmptyComment = false;
		}else if(commentLength==0){
			isNotEmptyComment = false;
		}else{
			isNotEmptyComment = true;
		}
	}else{
		isNotEmptyComment = false;
	}
	if(checkedflag || isNotEmptyComment){
    //console.log(checkEmptyComment);
		$("section.wag-srx-errorMargin").hide();
   // console.log('HIDE');
	}else{
    //console.log(checkEmptyComment);
		$("section.wag-srx-errorMargin").show();
   // console.log('show');
	}
	
	});



});
}}]}],"scope":{"URI":{"include":[/\/pharmacy\/prescriptioncheckout.jsp/i]}},"selector":"button","event":"click","bubbleFireIfParent":true,"bubbleFireIfChildFired":true,"bubbleStop":false}
  ],
  "directCallRules": [
    {"name":"BuyBtn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AppMarket_prop30%"}}]}]},
    {"name":"Category_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AppMarket_prop30%"}}]}]},
    {"name":"ConnectBtn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AppMarket_prop30%"}}]}]},
    {"name":"GetBtn_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AppMarket_prop30%"}}]}]},
    {"name":"appsmarket_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop14":"%AppMarket_Prop14%"}}]}]},
    {"name":"Add_to_Cart_Facebook_Unified_Pixel","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Add-to-Cart-For-Facebook-Unified-Pixel","customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
(function(f,b,e,v,n,t,s){n=window.fbq=function(){
      n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};n.version='1.0';n.pixelId=e;n.queue=[];t=f.createElement(b);t.async=true;t.src=v;s=f.getElementsByTagName(b)[0];s.parentNode.insertBefore(t,s)}(document,'script','1552416341683379','//connect.facebook.net/en_US/fbevents.js'));

fbq('track', 'AddToCart', {
  content_ids: window.dtmObject.BAS.skuIdForCurrentCartProduct, // Sku Id of the product
  content_type: 'product',
  currency: 'USD' 
});  
}
}}]}]},
    {"name":"BAS-Color-Swatch-event86","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Color-Swatch-event86","addEvent":["event86"]}]}]},
    {"name":"BAS-Compare-Checkbox-Selected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar90":"%compareProductsNewDesign%"}}]}]},
    {"name":"AddToCartWithOutCoupnQuickView","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Add-To-Cart-Quick-View","setVars":{"prop43":"Product Added to Cart | Coupon Not Clipped | Quick View"}}]}]},
    {"name":"AddToCartWithCoupn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Add-To-Cart-VPD","setVars":{"prop43":"Product Added to Cart | VPD Page"}}]}]},
    {"name":"AddToCartWithOutCoupn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Add-To-Cart-With-Out-Coupon-VPD","setVars":{"prop43":"Product Added to Cart | Coupon Not Clipped | VPD Page"}}]}]},
    {"name":"CouponClippedInDetialsOvelayInVpd","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Clipped-VDP-Details-Overlay","setVars":{"prop43":"Coupon Clipped from Details view | VPD Page"}}]}]},
    {"name":"CouponClippedInVpd","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Coupon-Clipped","setVars":{"prop43":"Coupon Clipped | VPD Page"}}]}]},
    {"name":"CouponAvailableLeftRailSelect","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-LeftRail-In-PLP","setVars":{"prop43":"Coupon Available Filter"}}]}]},
    {"name":"couponsExistForQuickView","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Coupon-Available-Quick-View","setVars":{"prop43":"Customer on Quick View | Coupon Available | Quick View"}}]}]},
    {"name":"BAS-DrugInfo-Link-event89","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-DrugInfo-Link-event89","addEvent":["event89"]}]}]},
    {"name":"BAS-HealthInfo-Link-event87","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-HealthInfo-Link-event87","addEvent":["event87"]}]}]},
    {"name":"BAS-Links-search-event77","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Links-search-event77","addEvent":["event77"]}]}]},
    {"name":"BAS-Links-search-null-event79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Links-search-null-event79","addEvent":["event79"]}]}]},
    {"name":"BAS-SRP-Partial-Search-Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-SRP-Partial-Search-Track","setVars":{"prop59":"%BAS-SRP-Partial-Search-Partial-Keyword%"}}]}]},
    {"name":"BAS-SRP-Product-Count-eVar25","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5aeaf01b64746d74900025fc.js"}]}]}]},
    {"name":"BAS-Search-Type-Ahead-Evar82-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Search-Type-Ahead-Evar82-Tracking","setVars":{"eVar82":"%BAS-Search-Type-Ahead-Evar82-Tracking-DataElement%"}}]}]},
    {"name":"BAS-Search-Type-Ahead-Evar96-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Search-Type-Ahead-Evar96-Tracking","setVars":{"eVar96":"%BAS-Search-Type-Ahead-Evar96-Tracking-DataElement%"}}]}]},
    {"name":"BAS-Search-Typed-Evar96-Tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar96":"%BAS-Search-Typed-Evar96-Tracking-DataElement%"}}]}]},
    {"name":"BAS-Search-topnav-event76","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Search-topnav-event76","addEvent":["event76"]}]}]},
    {"name":"BAS-Search-topnav-null-event78","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Search-topnav-null-event78","addEvent":["event78"]}]}]},
    {"name":"BAS-Size-Variant-event88","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Size-Variant-event88","addEvent":["event88"]}]}]},
    {"name":"BAS-Sponsored-Grid","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-Sponsored-Grid","setVars":{"prop60":"%BAS-Sponsored-ProductCard-Grid %"},"addEvent":["event105"]}]}]},
    {"name":"BAS-Store-Inventory","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%Wag-store-inventory%"}}]}]},
    {"name":"BAS-Store-Inventory-Selected-Store","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%Wag-store-inventory-instore-Selected-StoreId%"}}]}]},
    {"name":"vpdCustemerAlsoBoughtResponse","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-VpdCustemerAlsoBought-Swap","setVars":{"eVar90":"%BAS-VpdCustemerAlsoBought-Swap-DataElement%"}}]}]},
    {"name":"BAS-check-other-stores-tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-check-other-stores-tracking","setVars":{"prop14":"%BAS-addToCart-prop14%","prop30":"%Prop30_tracking_activity_Data_Element%"}}]}]},
    {"name":"BAS-product-position-evar77","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar77":"%BAS-product-position%","eVar89":"%BAS-Add-to-cart-Find-at-store%"},"customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
window.dtmObject.BAS.productCardActivity = true;
s.linkTrackVars="events";
s.linkTrackEvents="event98";
s.events="event98";
if(window.location.href.indexOf('/search/results.jsp') !== -1 && window.FASclicked) {
  s.linkTrackEvents+=",event20";
  s.events+=",event20";
  window.FASclicked = false;
}
}
},"addEvent":["event20"]}]}]},
    {"name":"BAS-relatedSearch-event80","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-relatedSearch-event80","addEvent":["event80"]}]}]},
    {"name":"BAS-relatedSearch-null-event81","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-relatedSearch-null-event81","addEvent":["event81"]}]}]},
    {"name":"BAS-scAdd-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-scAdd-Event","addEvent":["scAdd"]}]}]},
    {"name":"BAS-scAdd-scOpen-SRP","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop14":"%BAS-addToCart-prop14%","prop63":"%BAS-addToCart-prop63%"},"customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
s.linkTrackVars="None";
s.linkTrackEvents+=",scAdd";
s.events+=",scAdd";
if (sessionStorage.getItem("scOpenFlag") !== "true" || typeof sessionStorage.getItem("scOpenFlag") == "undefined") {
  s.linkTrackEvents+=",scOpen";
	s.events+=",scOpen";
}
sessionStorage.setItem("scOpenFlag", true);

(function(f,b,e,v,n,t,s){n=window.fbq=function(){
      n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};n.version='1.0';n.pixelId=e;n.queue=[];t=f.createElement(b);t.async=true;t.src=v;s=f.getElementsByTagName(b)[0];s.parentNode.insertBefore(t,s)}(document,'script','1552416341683379','//connect.facebook.net/en_US/fbevents.js'));

fbq('track', 'AddToCart', {
  content_ids: window.dtmObject.BAS.skuIdForCurrentCartProduct, // Sku Id of the product
  content_type: 'product',
  currency: 'USD' 
});

/*Monetate trigger
 
	window.monetateQ = window.monetateQ || [];
	window.monetateQ.push(["setPageType", "product"]);
	window.monetateQ.push(["addCartRows",
	 [{
	 "productId": window.dtmObject.BAS.skuIdForCurrentCartProduct,
	 "quantity": 1,
	 "currency": "USD"
	 }]]);
	window.monetateQ.push(["trackData"]);
Monetate trigger*/
}
}}]}]},
    {"name":"BAS-scOpen-Event","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-scOpen-Event","addEvent":["scOpen"]}]}]},
    {"name":"SearchResults_Redirect_word","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar22":"%BAS-search-result-keyword_Evar22%"},"addEvent":["event101"]}]}]},
    {"name":"BAS-select-store-tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS-select-store-tracking","setVars":{"prop14":"%BAS-addToCart-prop14%","prop55":"%BAS-selectStore-prop55%"},"addEvent":["event126"]}]}]},
    {"name":"BAS_Auto_Reorder_Eligible_EVar75","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Auto_Reorder_Eligible_EVar75","setVars":{"eVar75":"%BAS_Auto_Reorder_Eligible_EVar75%"}}]}]},
    {"name":"BAS_Prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Auto_Reorder_Select_Prop30","setVars":{"prop30":"%BAS_Prop30%"}}]}]},
    {"name":"BAS_Beauty_Tier1_Coupon_Clipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Beauty_Tier1_Coupon_Clipped","setVars":{"prop43":"%BAS_Beauty_Tier1_Coupon_Clipped_Prop43%"}}]}]},
    {"name":"BAS_Coupon_Carousel","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Coupon_Carousel","customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
if(window.couponsCount) {
  s.linkTrackVars = '';
  s.linkTrackVars = 'eVar109';
  s.eVar109 = window.couponsCount;
  s.linkTrackEvent="event100";
	s.events = 'event100'
}
if(window.location.href.search(/productlist.jsp|productlist\/|ID=(\d+)-tier3/) > -1) {
  if(window.location.hostname === 'www3.walgreens.com'){
    if($('#sponsoredarrivalsFrame1 ul li').length === 0){
    	$('#sponsored').hide();
    }else{
    	$('#sponsored').show();
    }
  }
	if(window.sponsoredCarouselLoaded) {
    if(s.events == "") {
      s.linkTrackEvent="event105";
      s.events = 'event105';
    } else {
      s.linkTrackEvent="event105";
      s.events = s.events+',event105';
    }
    window.sponsoredCarouselLoaded = false;
  }
}
s.linkTrackEvents = s.events;
}
}}]}]},
    {"name":"Elastic_Endeca_tracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar97":"%BAS_Elastic_Endeca_tracking%"}}]}]},
    {"name":"BAS_Evar65","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%BAS-evar65%"}}]}]},
    {"name":"BAS_Global_EVar9","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Global_EVar9","setVars":{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar9":"%CS_Header_Profile_Role%"}}]},{"command":"loadScript","arguments":[{"sequential":false,"scripts":[{"src":"satellite-5407a2358b5bcbd0130003b6.js"}]}]}]},
    {"name":"BAS_Global_Event41","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Global_Event41","addEvent":["event41"]}]}]},
    {"name":"BAS_Global_Site_Catalyst","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar1":"%BAS_ApplicationType_Native%","eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","eVar76":"%BAS_ApplicationType_Native%","prop57":"%BAS_Device_Type_Global_EVar72%"},"customSetup":function(event,s){
/*window.s.linkTrackVars="eVar108";
window.s.eVar108=_satellite.getVar('NewHomePage');*/
}}]}]},
    {"name":"BAS_Home_Email_Subscription_Modal","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_Home_Email_Subscription_Modal","setVars":{"prop30":"%BAS_Home_Email_Subscription%"}}]}]},
    {"name":"Prop30_tracking_activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Prop30_Tracking_Activity_4_User_opt","setVars":{"prop30":"%Prop30_tracking_activity_Data_Element%"}}]}]},
    {"name":"SearchResults_SearchInfo","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-577fb99964746d3859000100.js"}]}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54cfae0464636100161c0500.html","data":[]}]}]}]},
    {"name":"BAS_StoreResultsCountMoreThanOne","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_StoreResults_Count_More_Than_One","addEvent":["event17"]}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-58eea36164746d1994004ed2.js"}]}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-5afd657564746d417b000829.html","data":[]}]}]}]},
    {"name":"VPD_ProductInfo","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5429bc037e645aef09000c96.js"}]}]}]},
    {"name":"BAS_eVar24_Tracking_Activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"BAS_eVar24_Tracking_Activity","setVars":{"eVar24":"%eVar24_tracking_activity_Data_Element%"}}]}]},
    {"name":"CAC-Applepay-Display-track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-Applepay-Display-track","setVars":{"prop30":"%applepaydisplayed%"}}]}]},
    {"name":"CAC-Cart-Page-Global-PageLoadRule","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"type":"o","linkName":"CAC-Cart-Page-Global-PageLoadRule","setVars":{"prop14":"Shopping Cart","prop30":"%CAC_Cart_Coupons_Count%","prop37":"%Cart_Loyalty%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%","channel":"%BAS_Adaptive_Channel_Global%"},"customSetup":function(event,s){
window.s.linkTrackVars="prop45";

var MTProducts= _satellite.getVar("CAC_Cart_Items_Ids_MT");
var Order_subtotal=_satellite.getVar("CAC_Cart_Order_subtotal");
var obj = window.dtmObject;
var orderID = "";
var MTproductPrices= _satellite.getVar("CAC_Cart_Items_Prices");
var BrandName= _satellite.getVar("CAC_Cart_BrandName");		
var ProductName= _satellite.getVar("CAC_Cart_ProductName");


  // JS TO IMAGE PIXEL 
window.MathTag={};
function loadCartConfirmScript() {
  //pixel math tag to JS

 window.MathTag = {
   				version: "1.0",
   				mt_id:"1137638",
				 mt_adid:"166508",
				 revenue:Order_subtotal,
				 product_retail_price:MTproductPrices,
				 order_id:orderID,
				 product_id:MTProducts,
				 product_brand:BrandName,
         currency:"USD",
				 product_name:ProductName,
				 previous_url: document.referrer,
          page_name:document.title,
   				industry: "retail",
				 mt_nobot:"1"};
  var pixelMathTagSrc = "https://pixel.mathtag.com/event/js?mt_pp=1&mt_id=1137638&mt_adid=166508&mt_nobot=1&mt_nsync=1";
  var pixelMathTagScript = document.createElement("SCRIPT");
  pixelMathTagScript.setAttribute("src",pixelMathTagSrc);
  document.body.appendChild(pixelMathTagScript);
  console.log('MathTag',MathTag);
};


var isCL = false,isDL=false,
dtmCart = window.dtmObject,title=document.title;

//cart transfer affliate id & walgreens plus native app coupon applied tracking
window.s.linkTrackVars="eVar100, eVar170,eVar6";
if (sessionStorage.getItem('CAC_cart_transfer_aff_id')) {
  window.s.eVar100 = sessionStorage.getItem('CAC_cart_transfer_aff_id');
  sessionStorage.removeItem('CAC_cart_transfer_aff_id');
}




if (window.dtmObject.CAC !== undefined && window.dtmObject.CAC !== null) {
  if (window.dtmObject.CAC.Cart !== undefined && window.dtmObject.CAC.Cart !== null) {
    var dtmCartlen = (window.dtmObject.CAC.Cart.itemsGroups != undefined) ? window.dtmObject.CAC.Cart.itemsGroups.length : '0';
    var rxCount = (window.dtmObject.CAC.Cart.options !== undefined) ? (window.dtmObject.CAC.Cart.options.rxCount != undefined) ? window.dtmObject.CAC.Cart.options.rxCount : '0' : '0';
    for (var i = 0; i < dtmCartlen; i++) {
      if (window.dtmObject.CAC.Cart.itemsGroups[i].displayName == 'CL') {
        isCL = true;
		for(var j=0;j<window.dtmObject.CAC.Cart.itemsGroups[i].items.length;j++){
			var itemInfo = window.dtmObject.CAC.Cart.itemsGroups[i].items[j];
		//	$('#wag-cac-cartinfo-display .wag-cart-prod-img')[j].innerHTML ='<a href="/store/store/product/view_product_details.jsp?defaultRadio='+itemInfo.deliveryMethods.selectedOption+'&id='+itemInfo.productInfo.baseInfo.productId+'&color='+itemInfo.productInfo.extendedInfo.color+'&skuId='+itemInfo.productInfo.baseInfo.skuId+'&CATID='+itemInfo.productInfo.baseInfo.categoryId+'&size='+itemInfo.productInfo.baseInfo.size+'" title="'+itemInfo.productInfo.baseInfo.displayName+'"><img class="img-responsive" src="'+itemInfo.productInfo.baseInfo.thumbNailImage+'"/></a><figcaption></figcaption>';
		}
      }
       if (window.dtmObject.CAC.Cart.itemsGroups[i].displayName == 'DL') {
        isDL = true;
      }
    }
    //Walgreens Plus Evar170 for native app only
    if(window.IsNativeApp && window.IsNativeApp == 'true' && window.dtmObject.CAC.Cart.promotionInfo.applied && window.dtmObject.CAC.Cart.promotionInfo.applied.length > 0) {
    	for(var k=0;k<window.dtmObject.CAC.Cart.promotionInfo.applied.length;k++){
        if(window.dtmObject.CAC.Cart.promotionInfo.applied[k].type == 'Walgreens PLUS') {
        	window.s.eVar170 = 'Walgreens Plus app';
        }
      }
    } 
    
  }
}
title = "No Items in Cart | Shopping Cart | Walgreens";
if (isCL) {
  console.log(isCL)
  title= 'Contact Lenses Order | Shopping Cart | Walgreens';
}
if(isDL){
  title= 'Store Order | Shopping Cart | Walgreens';
}

if(rxCount>0){
title= 'Pharmacy order  | Shopping Cart | Walgreens';
}
if(isCL&&isDL){
 title= 'Store and Contact Lenses Order | Shopping Cart | Walgreens';
}
if(rxCount>0&&isCL){
title= 'Contact Lenses and Pharmacy Order | Shopping Cart | Walgreens';
}

if(rxCount>0&&isDL){
title= 'Store and Pharmacy order | Shopping Cart | Walgreens';
}
document.title=title;
window.s.pageName=title;


if(document.title==="Store Order | Shopping Cart | Walgreens"){ 
 // window.s.linkTrackVars = 'events';
 // window.s.linkTrackEvents = 'scView';
 // window.s.events = 'scView';
}
//window.s.channel=_satellite.getVar("BAS_Adaptive_Channel_Global");
//window.s.prop14="Shopping Cart";
//window.s.prop37 = _satellite.getVar("Cart_Loyalty");
var cart_products = _satellite.getVar("CAC_Cart_Page_Product_Ids");
window.s.products=";"+cart_products;
// Ship to store upsell msg 
var upsellMsg = '';
if($('.wag-cac-stsingmsg').length>0){
window.s.prop45= $('.wag-cac-stsingmsg').text() +'| STS Upsell | Shopping Cart' ;
}
//console.log(_satellite.getVar("couponsCount"));
//window.s.prop30= _satellite.getVar("CAC_Cart_Coupons_Count");


//window.s.tl();
//window.s.pageName=_satellite.getVar("BAS_Adaptive_Default_PageTitle_Global");
//window.s.tl(true,'o','product view');
if(window.applyCouponflag!=undefined&&window.applyCouponflag==true){
//track promocode applied evar6 applycouponflag from CAC_Cart_Apply_Promotion_Code event rule
    var appliedCoupons = _satellite.getVar("CAC_Cart_Applied_Coupons");
window.s.eVar6=appliedCoupons;
  window.applyCouponflag=false;

}


//monetate track cart

var orderDetails = _satellite.getVar("CAC_OrderConfirmation_Products");
window.monetateQ = window.monetateQ || [];
window.monetateQ.push(["setPageType", "cart"]);
window.monetateQ.push(["addCartRows",orderDetails]);
window.monetateQ.push(["trackData"]);

//fire google remarketing
var googleRemarketingTag=_satellite.getVar("CAC_Google_Tracking_Js");
//fire mediamath
loadCartConfirmScript();

// Bing Data elements
_satellite.getVar("CAC_BING_Third_Party");




},"addEvent":["scView"]}]},{"command":"loadIframe","arguments":[{"pages":[{"src":"satellite-54bf1f4b3963630015bd0300.html","data":[]}]}]}]},
    {"name":"CAC-EPP-Expresspass-Card-Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-EPP-Expresspass-Card-Track","setVars":{"prop30":"%CAC_EPP_Express_Card_track%"}}]}]},
    {"name":"CAC-EPP-Expresspass-payment-Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-EPP-Expresspass-payment-Track","setVars":{"eVar29":"%CAC_EPP_Payment_Type%","prop30":"%CAC_EPP_Express_Card_track%"},"addEvent":["event165"]}]}]},
    {"name":"CAC-EPP-Payment-Method-Voltage-Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-EPP-Payment-Method-Voltage-Error","setVars":{"prop6":"%CAC_EPP_Voltage_Error%"}}]}]},
    {"name":"CAC-EPP-payment-Error-Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-EPP-payment-Error-Track","setVars":{"prop6":"%CAC_EPP_Express_Card_track%"}}]}]},
    {"name":"CAC-Optimize-Order-Review-Checkout-Payment-Method-Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-Optimize-Order-Review-Checkout-Payment-Method-Error","setVars":{"prop6":"%CAC_Payment_Method_Error%"}}]}]},
    {"name":"CAC-Optimize-Order-Review-Checkout-Shipping-Address-Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-Optimize-Order-Review-Checkout-Shipping-Address-Error","setVars":{"prop5":"%CAC_Shipping_Address_Error%"}}]}]},
    {"name":"CAC_Order_Confirmation_Review","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"type":"o","linkName":"CAC_Order_Confirmation_Review","customSetup":function(event,s){
window.s.products=";"+_satellite.getVar("CAC_Cart_Items_Ids");
window.s.linkTrackVars = "prop14, prop30, eVar9, eVar65, eVar107";
window.s.linkTrackEvents = "scCheckout";
/* commented for testing window.s.linkTrackVars="events";
window.s.events="scCheckout";
window.s.linkTrackEvents="scCheckout";*/
  
try{

window.sessionStorage.setItem('mboxOrderTotal',window.dtmObject.CAC.OrderReview.priceInfo.orderTotal);
//window.sessionStorage.setItem('mboxOrderTotal',window.dtmObject.CAC.OrderReview.priceInfo.orderTotal || window.dtmObject.CAC.OrderReview.priceInfo.estimatedTotal);
//set Review order json for confirmation page

  var reviewOrderData = new Object();
  reviewOrderData = JSON.parse(JSON.stringify(window.dtmObject.CAC.OrderReview)); 
  delete reviewOrderData.tcAccepted;
	delete reviewOrderData.status;
	delete reviewOrderData.isOrderReadyToSubmit;
	delete reviewOrderData.type;
	delete reviewOrderData.paymentInfos.brInfo;
	delete reviewOrderData.paymentInfos.paymentId;
	delete reviewOrderData.paymentInfos.availableOptions;
	delete reviewOrderData.paymentInfos.activeOptions;
	delete reviewOrderData.priceInfo.shippingFee;
	delete reviewOrderData.priceInfo.shippingThreshold;
	delete reviewOrderData.shippingInfo.shippingInfos[0].isPreferred;
	delete reviewOrderData.shippingInfo.shippingInfos[0].shippingId;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.lastName;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.selected;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.address;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.firstName;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.city;
	delete reviewOrderData.shippingInfo.shippingInfos[0].address.addressId;
	delete reviewOrderData.vcInfo.externalProfileID;
	delete reviewOrderData.vcInfo.dataLevel;
	delete reviewOrderData.contactInfo;
	delete reviewOrderData.currencySymbol;
	delete reviewOrderData.shippingMethodInfo.shippingId;
	delete reviewOrderData.shippingMethodInfo.isMilitaryAddress;
	delete reviewOrderData.shippingMethodInfo.isAdditionalProcessingRequired;
	delete reviewOrderData.shippingMethodInfo.shippingMethodInfos[0].type;
	delete reviewOrderData.displayOptions.earnAndBurnGoLive;
	delete reviewOrderData.displayOptions.arPriceDiscountPercentage;
	delete reviewOrderData.displayOptions.expressPaypalCheckout;
	delete reviewOrderData.profile;

window.sessionStorage.setItem('reviewOrderData', JSON.stringify(reviewOrderData));    
}catch(e){
}

window.s.linkTrackVars="prop30";
_satellite.track("BAS_Global_EVar9");

window.monetateQ = window.monetateQ || [];
window.monetateQ.push(["setPageType", "checkout"]);
window.monetateQ.push(["trackData"]);


//Fire Google Remarketing
var googleRemarketingTag=_satellite.getVar("CAC_Google_Tracking_Js");
//Hide Rx upload link for reorder CL
window.setTimeout(function(){
if(!window.dtmObject.CAC.OrderReview.displayOptions.isCLPrescriberInfoEditable)
{
$("#add-rx-upload-link a").hide();
}
},2000);

// Set Rx upload session to track Monetate conversion for confirmation page
if(sessionStorage.allowRxUpload && window.dtmObject.CAC.OrderReview.displayOptions.rxCLPrescriptionUploaded){

  sessionStorage["rxCLPrescriptionUploaded"]="true";

}else{
sessionStorage["rxCLPrescriptionUploaded"]="false";
}
window.s.prop14 = "Order Review";
window.s.prop30 = _satellite.getVar("CAC_OrderReview_PaymentInfo");
window.s.eVar9 = _satellite.getVar("CS_Header_Profile_Role");
window.s.eVar65 = _satellite.getVar("CAC_OrderReview_BRId");
//window.s.eVar107 = "GIBD | " + (typeof window.dtmObject.CAC.OrderReview.promiseDateObj !== 'undefined' && window.dtmObject.CAC.OrderReview.promiseDateObj.length > 0 ? "With promise date":"Without promise date") + " | Order Review | Walgreens";
window.s.events="scCheckout";
window.s.tl();
window.s.linkTrackVars = "None";
window.s.linkTrackEvents = "None";

// Bing Data elements
_satellite.getVar("CAC_BING_Third_Party");
}}]}]},
    {"name":"CAC-loyaltyBannerNotShown","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CAC-loyaltyBannerNotShown","setVars":{"prop37":"loyalty sign up banner NOT shown | shopping cart"},"customSetup":function(event,s){
console.log("Inside the Loyalty Banner not shown");
}}]}]},
    {"name":"CAC_AutoReOrder_Manager","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_AutoReOrder_Missing_Shipment_Error%","prop5":"%CAC_AutoReOrder_Shipping_Error%","prop6":"%CAC_AutoReOrder_Payment_Error%"}}]}]},
    {"name":"CAC_AutoReOrder_Manager_CredtCard_Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop6":"%CAC_AutoReOrder_Payment_Error%"}}]}]},
    {"name":"CAC_AutoReOrder_Manager_Missing_Shipping_Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_AutoReOrder_Missing_Shipment_Error%"}}]}]},
    {"name":"CAC_AutoReOrder_Manager_Shipping_Error"},
    {"name":"CAC_Cart_VisaCheckout_error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_Cart_VisaCheckout_error%"}}]}]},
    {"name":"CAC_GuestOrder_DirectRule","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event102:View Order Details Success"]}]}]},
    {"name":"CAC_OrderReview_StoreOverlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"STS Overlay | Order Review | Walgreens"}}]}]},
    {"name":"CAC_Payment_VisaCheckout_error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_Payment_VisaCheckout_error%"}}]}]},
    {"name":"CAC_csperror_errormsg","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_csperror_errormsg%"}}]}]},
    {"name":"CAC_newcheckout_form_error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckout_form_error%"}}]}]},
    {"name":"CAC_newcheckoutcurrentpaymentmethod","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckoutpaymentmethod%"},"customSetup":function(event,s){
//var element_to_scroll_to = document.getElementById('footer');

//element_to_scroll_to.scrollIntoView();
scrollToElement('footer');
function scrollToElement(id) {
    var elem = document.getElementById(id);
    var x = 0;
    var y = 0;

    while (elem != null) {
        x += elem.offsetLeft;
        y += elem.offsetTop;
        elem = elem.offsetParent;
    }
    window.scrollTo(x, y);
}
}}]}]},
    {"name":"CAC_newcheckoutcurrentshipmethod","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CAC_newcheckoutshipmethod%"}}]}]},
    {"name":"CS-BR-Learnmore-overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS-BR-Learnmore-overlay","setVars":{"prop37":"Learn More | Modal | Loyalty"}}]}]},
    {"name":"CS_BR_NO_ATTACH_FOUND","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"prop37":"Attach Existing Registration | No Matches Found"}}]}]},
    {"name":"CS-Consent-AcceptedDeclined","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-Consent-AcceptedDeclined-Prop30% |  %CS_Page_Title%"}}]}]},
    {"name":"CS-Consent-eVar0","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if(window.ec !== undefined && window.ec !==''){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar0';
window.s.eVar0 = window.ec; 
}

}}]}]},
    {"name":"CS-REG-Loyalty-create","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar9":"%CS_Header_Profile_Role%","prop14":"Registration","prop37":"New Loyalty Registration | Registration Successful","pageName":"Confirmation | Walgreens","channel":"register"},"addEvent":["event23"]}]}]},
    {"name":"CS-REG-Loyalty-failure","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar9":"%CS_Header_Profile_Role%","prop14":"Registration","prop37":"Loyalty Registration Unsuccesful | Walgreens Registration Successful","pageName":"Confirmation | Walgreens","channel":"register"},"addEvent":["event23"]}]}]},
    {"name":"CS-REG-Loyalty-nomatch","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar45":"%BAS_ATGMember_ID_Global_EVar45%","eVar9":"%CS_Header_Profile_Role%","prop14":"Registration","prop37":"Attach Existing Registration | No Matches Found","pageName":"Confirmation | Walgreens","channel":"register"},"addEvent":["event23"]}]}]},
    {"name":"CS-RegPharmacy-AddressView-prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-RegPharmacy-AddressView-prop30%"}}]}]},
    {"name":"CS-VanityPage-ServiceError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS-VanityPage-ServiceError-Prop30% | personal information | %CS_Page_Title%"}}]}]},
    {"name":"cs-review-adult","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar9":"rx reg authenticated","prop14":"Account","pageName":"Review Adult | Walgreens","channel":"pharmacy"}}]}]},
    {"name":"cs-review-child","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"cs-review-child","setVars":{"eVar9":"rx reg authenticated","prop14":"Account","pageName":"Review and Submit | My Account | Walgreens","channel":"pharmacy"}}]}]},
    {"name":"cs-review-pet","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar9":"rx reg authenticated","prop14":"Account","pageName":"Review and Submit | My Account | Walgreens","channel":"pharmacy"},"customSetup":function(event,s){
console.log(window.angular.element("h2[ng-show='editMode']").scope().editMode);
console.log("evebt fired");
console.log("review pet direct call");
}}]}]},
    {"name":"CS_AutoLogin_OptIn_event106","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event106"]}]}]},
    {"name":"CS_AutoLogin_Opted_evar110","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar110';
window.s.eVar110 = "Auto Login User";
}}]}]},
    {"name":"CS_AutoLogin_Optout_event107","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event107"]}]}]},
    {"name":"CS_BeautyClub_BeautyPref_Opted","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event95"]}]}]},
    {"name":"CS_BeautyClub_DotCom_AlreadyMember_Anonymous","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_AlreadyMember_Anonymous_prop37%"}}]}]},
    {"name":"CS_BeautyClub_DotCom_AlreadyMember_LoggedIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_AlreadyMember_LoggedIn_prop37%"}}]}]},
    {"name":"CS_BeautyClub_DotCom_Anonymous_User","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_Anonymous_User_prob37%"},"customSetup":function(event,s){
sessionStorage.removeItem('beautyOptIn');
sessioStorage.removeItem('bcSelectedOptInDate');
}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-57ed4e7364746d082c003995.js"}]}]}]},
    {"name":"CS_BeautyClub_DotCom_BrLinking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_BrLinking_prop37%"}}]}]},
    {"name":"CS_BeautyClub_DotCom_BrMissing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_BrMissing_prop37%"}}]}]},
    {"name":"CS_BeautyClub_DotCom_LoggedIn_BR","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_LoggedIn_BR_prop37%"},"addEvent":["event95"]}]}]},
    {"name":"CS_BeautyClub_DotCom_MultiMatch","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Multiple Match | Beauty Enthusiast"}}]}]},
    {"name":"CS_BeautyClub_DotCom_NoMatch","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_NoMatch_prop37%"}}]}]},
    {"name":"CS_BeautyClub_DotCom_Question_Number","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_DotCom_Question_Number_prop37%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-57ed2c8f64746d3cd4003bef.js"}]}]}]},
    {"name":"CS_BeautyClub_DotCom_UseThisInfo","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event95"]}]}]},
    {"name":"CS_BeautyClub_DotCom_Verify_Membership","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event95"]}]}]},
    {"name":"CS_BeautyClub_DotCom_Verify_Membership_Page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Verify Your Membership | Beauty Enthusiast"}}]}]},
    {"name":"CS_BeautyClub_Match_Value","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_Match_Value_prop37%"}}]}]},
    {"name":"CS_BeautyClub_MultipleMatch_Selected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_MultipleMatch_Selected_prop37%"}}]}]},
    {"name":"CS_BeautyClub_Question_Number","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_Question_Number_prop37%"}}]}]},
    {"name":"CS_BeautyClub_Tablet_Global_Page_Load_Rule","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-57d1ad8c64746d7d21008ea3.js"}]}]}]},
    {"name":"CS_BeautyClub_everydayPointsWithBeauty_Opted","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_everydayPointsWithBeauty_Opted_prop37%"},"addEvent":["event95"]}]}]},
    {"name":"CS_BeautyClub_everydayPoints_Opted","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%CS_BeautyClub_everydayPoints_Opted_prop37%"}}]}]},
    {"name":"CS_Global_EVar65","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"CS_Global_EVar65","setVars":{"eVar65":"%CS_Loyality_evar65%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5407a24c26872f18a70004af.js"}]}]}]},
    {"name":"INVALID_USERNAME_PASSWORD_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"LOGIN_FAILURE_DUE_TO_INVALID_USERNAME_PASSWORD","setVars":{"eVar79":"INVALID_USERNAME_PASSWORD"}}]}]},
    {"name":"LOGIN_SERVICE_CALLED_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"LOGIN_SERVICE_CALLED","setVars":{"eVar79":"LOGIN_ATTEMPT"}}]}]},
    {"name":"CS_LoggedIn_state_Forsee","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
FSR.CPPS.set('Logged_In', 'Yes');
}}]}]},
    {"name":"CS_Multimatch_Phone_No","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if (window && window.dtmObject && window.dtmObject.CS && window.dtmObject.CS.Multimatchtype) {
   	window.s.linkTrackVars = 'eVar79';
    window.s.eVar79 = window.dtmObject.CS.Multimatchtype;
}
}}]}]},
    {"name":"CS_NewLogin_ErrorMessage","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop33":"error \u003c%CS_NewLogin_ErrorMessage_Prop33%\u003e |  %CS_Page_Title%"}}]}]},
    {"name":"CS_Offer_type","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
function readCookie(name) {
	var cookieValue;
    return (cookieValue = RegExp('(^|; )' + encodeURIComponent(name) + '=([^;]*)').exec(document.cookie)) ? cookieValue[2] : null;
}

if (readCookie('wpo')) {
   	window.s.linkTrackVars = 'eVar170';
    if (readCookie('wpo') == 'MASS') {
      window.s.eVar170 = 'Walgreens Plus Pilot | Mass offer';
    } else {
      window.s.eVar170 = 'Walgreens Plus Pilot | Targeted offer';
    }  
}
}}]}]},
    {"name":"SERVICE_UNAVAILABLE_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"LOGIN_FAILURE_DUE_TO_SERVICE_UNAVAILABILITY","setVars":{"eVar79":"LOGIN_SVC_UNAVAILABLE"}}]}]},
    {"name":"CS_SecurityOptions_AnswerError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS_SecurityOptions_AnswerError_Prop30%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}}]}]},
    {"name":"CS_SecurityOptions_AvailableSecurityOptions","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS_SecurityOptions_AvailableSecurityOptions_Prop30%"}}]}]},
    {"name":"CS_SecurityOptions_MaxAttemptError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS_SecurityOptions_MaxAttemptError_Prop30%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}}]}]},
    {"name":"CS_SecurityOptions_PinError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%CS_SecurityOptions_PinError_Prop30%","pageName":"%BAS_Adaptive_Default_PageTitle_Global%"}}]}]},
    {"name":"CS_SecurityOptions_VerifiedByPhone_Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"Error | Verified By Phone | %BAS_Adaptive_Default_PageTitle_Global%"}}]}]},
    {"name":"CS_SkinID_OptIn_No","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar30":"Submit | Opt out | SkinID"}}]}]},
    {"name":"CS_SkinID_OptIn_Yes","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar30":"Submit | Beauty Enthusiast Opt In or Sign In | SkinID"}}]}]},
    {"name":"CS_uncheck_saved_search","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Saved Search alerts off | uncheck | check box | Communication Preferences"}}]}]},
    {"name":"CS_unsubscribe_manage_alerts","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Unsubscribe page | click | link | Manage Alerts"}}]}]},
    {"name":"confirmationbanner","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%confirmationbanner_data%"}}]}]},
    {"name":"authErrorMsgString","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AuthErrorMsgProp30Data%"}}]}]},
    {"name":"authRXSuccessMsgString","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar84":"%AuthRXSuccessMsgEvent84Data%"}}]}]},
    {"name":"authTextSuccessMsgString","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar83":"%AuthTextSuccessMsgEvent83Data%"}}]}]},
    {"name":"authVerificationWidgetString","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%AuthVerificationWidgetProp30Data%"}}]}]},
    {"name":"DCH_tcp_track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%DCH_tcp_track%"}}]}]},
    {"name":"apptScheduler_Accordian","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"pageName":"%DCS_ApptScheduler_Accordian_Track%"}}]}]},
    {"name":"activityEnableDisableTrackValue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar72":"%DCS_Platform_Name%","prop44":"%DCS_User_Action_Enable_Disable%","channel":"pharmacy"}}]}]},
    {"name":"dcs_immtile_browse_recommendations","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_BrowseRecommedation%"}}]}]},
    {"name":"dcs_immtile_helpicon","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_HelpIcon_Click%"}}]}]},
    {"name":"dcs_immtile_hidefromview","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_HideFromView%"}}]}]},
    {"name":"dcs_immtile_menu","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_Menu_Click%"}}]}]},
    {"name":"dcs_immtile_receivedandconfirmed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_Received_Confirmed%"}}]}]},
    {"name":"dcs_immtile_seeallrecommendations","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_SeeAllRecommendations%"}}]}]},
    {"name":"dcs_immtile_undohide","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop18":"%DCS_ImmTile_UndoHide_Click%"}}]}]},
    {"name":"dcs_plm_slider_name","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DCS_PLM_Slider_Prop%"}}]}]},
    {"name":"card_position","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%card_position%"}}]}]},
    {"name":"familymember_tab_click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DCS_UCE_Familymember_Tab_Click%"}}]}]},
    {"name":"dhs_steps_card_add_activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Add-Activity-Click%"}}]}]},
    {"name":"dhs_steps_card_add_sleep","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Add-Sleep-Click%"}}]}]},
    {"name":"dhs_steps_card_add_weigh","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Add-Weigh-in-Click%"}}]}]},
    {"name":"dhs_steps_card_add_glucose","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Blood-Glucose-Click%"}}]}]},
    {"name":"dhs_steps_card_add_blood_preasure","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Blood-Preasure-Click%"}}]}]},
    {"name":"dhs_steps_card_add_pulse","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Pulse-Click%"}}]}]},
    {"name":"dhs_steps_card_your_activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS-Dashboard-Steps-Card-Your-Activities-Click%"}}]}]},
    {"name":"DHSWAT_tab_title","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar9":"rx reg authenticated","pageName":"%DHSWAT_tab_title%","channel":"pharmacy"}}]}]},
    {"name":"DHSWAT_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%DHSWAT_loyalty_id%"}}]}]},
    {"name":"DHSWAT_healthhistory_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%DHSWAT_healthhistory_loyalty_id%"}}]}]},
    {"name":"dhs_steps_card_register","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop44":"%DHS_Dashboard_steps_card_register%"}}]}]},
    {"name":"activeExpandCollapse","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%DO-Active-Exp-Collapse%"}}]}]},
    {"name":"availableExpandCollapse","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%DO-Available-Exp-Collapse%"}}]}]},
    {"name":"memberTrackError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%DO-Error-Scenario%"}}]}]},
    {"name":"pastExpandCollapse","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%DO-Past-Exp-Collapse%"}}]}]},
    {"name":"offerTrackError","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offer-Track-Error%"}}]}]},
    {"name":"DO-Offers-WeeklyAd-Change-Store","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-WeeklyAd-Change-Store-Prop43%"}}]}]},
    {"name":"DO-Offers-WeeklyAd-View-Overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-WeeklyAd-View-Overlay_Prop43%"}}]}]},
    {"name":"DO-Offers-WeeklyAd-sign-in-overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DO-Offers-sign-in-overlay-Prop43%"}}]}]},
    {"name":"DO-Offers-clip-to-card-event71","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event71"]}]}]},
    {"name":"DONATE_USERS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.prop30 = "";
window.s.linkTrackVars = 'prop30';
window.s.prop30 = window.dtmObject.CS.propVal;
window.s.event149 = "";
window.s.events = 'event149:'+window.dtmObject.CS.eventVal;
window.s.linkTrackEvents = 'event149';
window.s.tl();
window.s.event149 = '';
window.s.prop30 = '';
}}]}]},
    {"name":"dpc_drug_info","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"pageName":"%DPC-Drug-Info%"}}]}]},
    {"name":"dpc_kba_almost_done","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"pageName":"%DPC-Kba-Auth-AlmostDone%"}}]}]},
    {"name":"druginfo_atco_click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_details_atco%"}}]}]},
    {"name":"DPC_EPP_CCD_Tracker"},
    {"name":"DPC_EPP_DOBSUCCESS_Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPC_EPP_DOBSUCCESS_Track%"}}]}]},
    {"name":"DPC_EPP_DOB_EVE_Tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar2":"%DPC_EPP_DOB_EVAR_TRACKER%","prop31":"%DPC_EPP_DOB_Tracker%"},"addEvent":["event166:%DPC_EPP_DOB_EVENT_TRACKER%"]}]}]},
    {"name":"DPC_EPP_DOB_Tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar2":"%DPC_EPP_DOB_EVAR_TRACKER%","prop31":"%DPC_EPP_DOB_Tracker%"}}]}]},
    {"name":"DPC_EPP_DOB_Tracker_SMS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPC_EPP_DOB_Tracker_SMS%"}}]}]},
    {"name":"DPC_EPP_Detailspage_prop31_Tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPC_EPP_Detailspage_prop31_Tracker%"}}]}]},
    {"name":"DPC_EPP_QRcodepage_prop31_Tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar2":"%DPC_EPP_QRcodepage_evar_Tracker%","prop31":"%DPC_EPP_QRcodepage_prop31_Tracker%"},"addEvent":["event166:%DPC_EPP_QRcodepage_eve_Tracker%"]}]}]},
    {"name":"DPC_EPP_WALLET_Tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPC_EPP_WALLET_Tracker%"}}]}]},
    {"name":"dpc_kba_tab","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"pageName":"%DPC_KBA_TabName%"}}]}]},
    {"name":"dpc_kba_verify_online","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"pageName":"%DPC-KBAAuthentication-VerifyOnline%"}}]}]},
    {"name":"dpc_kba_last_step"},
    {"name":"dpc_kba_tab_ivr"},
    {"name":"dpc_kba_tab_kba"},
    {"name":"dpc_kba_tab_pin"},
    {"name":"dpc_kba_tab_prn"},
    {"name":" dpc_kba_verify_online"},
    {"name":"DPC_SMS_Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPC_SMS_Track%"}}]}]},
    {"name":"druginfo_browse_subCategory","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_browse_subCategory_click%"}}]}]},
    {"name":"druginfo_home_bottom_banners","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_bottom_banner_click%"}}]}]},
    {"name":"druginfo_browse_alphabet","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_browse_select_alphabet%"}}]}]},
    {"name":"druginfo_browse_load","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%druginfo_browse_loggedIn%","prop31":"%druginfo_browse_onload%"}}]}]},
    {"name":"druginfo_details_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%druginfo_details_loggedIn%","prop31":"%druginfo_details_onload%"}}]}]},
    {"name":"druginfo_home_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%druginfo_landing_loggedIn%","prop31":"%druginfo_landing%"}}]}]},
    {"name":"druginfo_checkbox","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_checkbox_select%"}}]}]},
    {"name":"druginfo_plm_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_plm_overlay_select%"}}]}]},
    {"name":"druginfo_pricing_pharmacy","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_pricing_pharmacy_click%"}}]}]},
    {"name":"druginfo_recent_drug","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_recent_drug_select%"}}]}]},
    {"name":"druginfo_rx_chat","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_rxchat_enable%"}}]}]},
    {"name":"druginfo_searchresults_change","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_searchresults_dropdown%"}}]}]},
    {"name":"druginfo_search_results","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%druginfo_searchload_loggedin%","prop31":"%druginfo_search_results_load%"}}]}]},
    {"name":"drug_info_search_term","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar81":"%druginfo_search_drug%","prop31":"%druginfo_search_click%"}}]}]},
    {"name":"drug_info_search_term_name","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar85":"%druginfo_search_drugID%","eVar87":"%druginfo_search_drugName%"}}]}]},
    {"name":"hipaa_forms_track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%hipaa_forms_select_track%"}}]}]},
    {"name":"medicare_plan_button","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%medicare_plan_button_click%"}}]}]},
    {"name":"medicare_info_phase2","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%medicare_info_phase2_track%"}}]}]},
    {"name":"medicare_onload_track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%medicare_onload_details_logIn%","prop31":"%medicare_onload_details%"}}]}]},
    {"name":"medicare_phase2_track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%medicare_phase2_onload%","prop31":"%medicare_plan_phase2_track%"}}]}]},
    {"name":"prime_sso_track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%prime_sso_select_track%"}}]}]},
    {"name":"druginfo_search_atco","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%druginfo_search_atco_select%"}}]}]},
    {"name":"transfer_rx_cardholder","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%transfer_rx_cardholder_status%"}}]}]},
    {"name":"transfer_rx_continue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%transfer_rx_continue_click%"}}]}]},
    {"name":"transfer_rx_ninetyCheck","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%transfer_rx_ninetyCheck_true%"}}]}]},
    {"name":"unmask_phi_forms","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%unmask_phi_forms_track%"}}]}]},
    {"name":"DPF_Autorefill_Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_Autorefill_Track%"}}]}]},
    {"name":"DPF_90day_Track","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"Request 90-Day Refill","channel":"Pharmacy"}}]}]},
    {"name":"leancheckout_orderTracking","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar20":"%DPF_LeanCheckout_OrderEvar%"}}]}]},
    {"name":"DPF_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"test","setVars":{"eVar65":"%DPF_loyalty_id%"}}]}]},
    {"name":"prescription_stage","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"prescription_stage","setVars":{"prop31":"%prescription_stage%"}}]}]},
    {"name":"DPF_Save_A_Trip_Submit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_Save_A_Trip_Submit%"}}]}]},
    {"name":"DPF_Save_A_Trip_Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_Save_A_Trip_Success%"}}]}]},
    {"name":"DPF_payment_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%DPF_payment_loyalty_id%"}}]}]},
    {"name":"DPF_payment_details_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%DPF_payment_details_loyalty_id%"}}]}]},
    {"name":"DPF_payment_statement_loyalty_id","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar65":"%DPF_payment_statement_loyalty_id%"}}]}]},
    {"name":"dpf_rx_change_store_find_btn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_rx_change_store_find_btn_prop%"}}]}]},
    {"name":"dpf_rx_change_store_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPF_rx_change_store_overlay_load_prop%"}}]}]},
    {"name":"dpx_3StoresReview","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%dpx_setrxFlowType_FindAStore%"}}]}]},
    {"name":"DPX_prop31","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%DPX_prop31%"}}]}]},
    {"name":"dpx_rrcheckoutPresType","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%setRRPrescriptionType%"}}]}]},
    {"name":"DWAR_Search_Results_Click_Position","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar77":"%DWAR_Search_Results_Click_Position_eVar77%"},"addEvent":["event108"]}]}]},
    {"name":"DWAR_TC_available_coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Customer visit in fourth state | Paperless coupons | Available coupons Tab"}}]}]},
    {"name":"DWAR_TC_clip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DWAR_TC_clip_value%"}}]}]},
    {"name":"DWAR_TC_clipped_coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Customer visit in fourth state | Paperless coupons| Clipped view"}}]}]},
    {"name":"DWAR_TC_search_coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DWAR_TC_search_coupons_value%"}}]}]},
    {"name":"DWAR_TC_unclip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%DWAR_TC_unclip_value%"}}]}]},
    {"name":"DWAR_Total_Search_Results","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
if (window.dtmObject.DwarOffers.searchTerm) {
window.s.linkTrackVars += ',eVar5';
window.s.eVar5 = window.dtmObject.DwarOffers.searchTerm;
}
if (window.dtmObject.DwarOffers.totalSearchResults.filter.type === "Weekly Ad") {
  if (window.dtmObject.DwarOffers.zeroResults)  {
  	window.s.linkTrackVars += ',eVar24';
    window.s.eVar24 = window.dtmObject.DwarOffers.zeroResults;
  } else {
  	window.s.linkTrackVars += ',eVar115';
		window.s.eVar115 = 'Weekly Ad | '+window.dtmObject.DwarOffers.totalSearchResults.coupons.length+'';
  }
}
if (window.dtmObject.DwarOffers.totalSearchResults.filter.type === "Coupons") {
   if (window.dtmObject.DwarOffers.zeroResults)  {
  	window.s.linkTrackVars += ',eVar24';
    window.s.eVar24 = window.dtmObject.DwarOffers.zeroResults;
   } else {
  	window.s.linkTrackVars += ',eVar116';
    window.s.eVar116 = 'Coupons | '+window.dtmObject.DwarOffers.totalSearchResults.coupons.length+'';
   }
}

},"addEvent":["event97"]}]}]},
    {"name":"DWAR_Zero_Search_Results","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar24":"%DWAR_Zero_Search_Results_eVar24%"}}]}]},
    {"name":"DWAR_weeklyAd_categorySelect","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"WeeklyAd | Clicked | Button | Categories"}}]}]},
    {"name":"DWAR_weeklyAd_flyerSelect","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"WeeklyAd | Clicked | Button | Select this Week's Ad | Exit"}}]}]},
    {"name":"DWAR_weeklyAd_itemOpen","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"WeeklyAd | Clicked | Button | View details | Display View Detail Overlay"}}]}]},
    {"name":"DWAR_weeklyAd_pan","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"WeeklyAd | Clicked | Pan | pan"}}]}]},
    {"name":"DWAR_weeklyAd_pdf","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"WeeklyAd | Clicked | Button | PDF print"}}]}]},
    {"name":"Do-ActiveOffers-collapsed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-ActiveOffers-collapsed-Prop37%"}}]}]},
    {"name":"Do-ActiveOffers-expanded","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-ActiveOffers-expanded-Prop37%"}}]}]},
    {"name":"Do-AvailOffers-collapsed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-AvailOffers-collapsed-Prop37%"}}]}]},
    {"name":"Do-AvailOffers-expanded","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-AvailOffers-expanded-Prop37%"}}]}]},
    {"name":"Do-BR-Email-Optin-Offers","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Sign Up | Email | Loyalty offer | Balance Rewards"}}]}]},
    {"name":"Do-BR-Optin-Offers","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Sign Up | Available offers | Members Only Offers section | Balance Rewards"}}]}]},
    {"name":"Do-Offers-Already-Signup","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-Already-SignUp-Prop37%"}}]}]},
    {"name":"Do-Offers-Available-Clip-Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%Do-Offers-SearchResults-Clip-SuccessEvar69%","prop43":"%Do-Offers-Available-Clip-Success-Prop43%"},"addEvent":["event71"]}]}]},
    {"name":"Do-Offers-ClipAll-Button-Clip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-ClipAll-Button-Clip-Prop43%"}}]}]},
    {"name":"Do-Offers-Coupon-Scroll","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Scroll to load more coupons | %Do-Offers-Coupon-Scroll-Prop43% | Available coupons | Coupons Hub"}}]}]},
    {"name":"Do-Offers-Coupon-Scroll","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Scroll to load more coupons | %Do-Offers-Coupon-Scroll-Prop43% | Available coupons | Coupons Hub"}}]}]},
    {"name":"Do-Offers-Email-Bulk-Clip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-Email-Bulk-Clip-Prop43%"}}]}]},
    {"name":"Do-Offers-Email-Bulk-Clip-Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%Do-Offers-Email-Bulk-Clip-EVar69%"},"addEvent":["event71"]}]}]},
    {"name":"Do-Offers-Email-Clip-Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%Do-Offers-Email-Clip-Success-Evar69%","prop43":"Coupon clipped from email | Coupons Hub"},"addEvent":["event71"]}]}]},
    {"name":"Do-Offers-Email-LoyaltyOffers-Clip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Sign Up | Email | Loyalty offer | Coupons Hub"}}]}]},
    {"name":"Do-Offers-LoyaltyOffers-Clip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"Sign Up | Available offers | Coupons Hub"},"addEvent":["event75"]}]}]},
    {"name":"Do-Offers-No-Search-Coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar24":"%Do-Offers-No-Search-Coupons-evar24%"}}]}]},
    {"name":"Do-Offers-No-Search-WeeklyAd","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar24":"%Do-Offers-No-Search-WeeklyAd-evar24%"}}]}]},
    {"name":"Do-Offers-Search-All-Completed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"All search completed | Coupons Hub"}}]}]},
    {"name":"Do-Offers-SearchResults-Clip-Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%Do-Offers-SearchResults-Clip-SuccessEvar69%","prop43":"%Do-Offers-SearchResults-Clip-SuccessProp43%"},"addEvent":["event71"]}]}]},
    {"name":"Do-Offers-Select-Store","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Store_Change_Prop43%"}}]}]},
    {"name":"Do-Offers-SignUp-Passed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-Offers-SignUp-Passed_Prop37%"}}]}]},
    {"name":"Do-Offers-Unavailable","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-Offers-Unavailable-Prop37%"}}]}]},
    {"name":"Do-Offers-WeeklyAd-Clip-Error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-WeeklyAd-Clip-Error-Prop43%"}}]}]},
    {"name":"Do-Offers-WeeklyAd-Clip-Success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-Offers-WeeklyAd-Clip-Success-Prop43%"},"addEvent":["event71"]}]}]},
    {"name":"Do-PastOffers-collapsed","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-PastOffers-collapsed-Prop37%"}}]}]},
    {"name":"Do-PastOffers-expanded","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-PastOffers-expanded-Prop37%"}}]}]},
    {"name":"Do-Unable-Signup","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-Unable-Signup-Prop37%"}}]}]},
    {"name":"Do-offers-hideFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-offers-hideFilter-Prop43%"}}]}]},
    {"name":"Do-offers-showFilter","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do-offers-showFilter-Prop43%"}}]}]},
    {"name":"Do-remove-Offers","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop37":"%Do-remove-Offers-Prop37%"}}]}]},
    {"name":"Do_CoupOverlay_Add_To_Cart","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_CoupOverlay_Add_To_Cart","setVars":{"prop43":"AddToCart | Clicked | Button | add to cart button | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_CoupOverlay_Change_Color","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_CoupOverlay_Change_Color","setVars":{"prop43":"AddToCart | Selected | Drop down | color drop down | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_CoupOverlay_Change_Size","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_CoupOverlay_Change_Size","setVars":{"prop43":"AddToCart | Selected | Drop down | size drop | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_CoupOverlay_Dec_Item_Count","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_CoupOverlay_Dec_Item_Count","setVars":{"prop43":"Stepper | Clicked | mius | order online section | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_CoupOverlay_Inc_Item_Count","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Stepper | Clicked | Plus | order online section | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_CoupOverlay_Order_Online_Section","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_CoupOverlay_Order_Online_Section","setVars":{"prop43":"AddToCart | Clicked | Section | order online section | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_Coupons_Overlay_Unclip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_Coupons_Overlay_Unclip","setVars":{"prop43":"AddToCart | Clicked | Button | Remove | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_Coupons_ThemeAnonymousJoinIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeAnonymousJoinIn_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeAnonymousSignIn","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeAnonymousSignIn_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeClip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeClip_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemePage","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemePage_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeSearch","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeSearch_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeShopProducts","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeShopProducts_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeUnclip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeUnclip_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeViewDetails","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeViewDetails_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeViewDetailsClip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeViewDetailsClip_Prop43%"}}]}]},
    {"name":"Do_Coupons_ThemeViewDetailsUnclip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_ThemeViewDetailsUnclip_Prop43%"}}]}]},
    {"name":"Do_Coupons_Unavailable","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_Unavailable_Prop43%"}}]}]},
    {"name":"Do_Coupons_Visit_3S","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Customer visit in third state | Paperless coupons"}}]}]},
    {"name":"Do_Coupons_WeeklyAdUnclip","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_WeeklyAdUnclip-Prop43%"}}]}]},
    {"name":"Do_Coupons_Weeklyad_Already_Clipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_Weeklyad_Already_Clipped-Prop43%"}}]}]},
    {"name":"Do_Coupons_Weeklyad_Max_Clipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Coupons_Weeklyad_Max_Clipped-Prop43%"}}]}]},
    {"name":"Do_Email_Clip_Status","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Email_Clip_Status_Prop43%"}}]}]},
    {"name":"Do_Offers_Clipped_State","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Offers_Clipped_State_Prop43%"}}]}]},
    {"name":"Do_Offers_Email_Max_Clipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Max Coupons Clipped | Error | Coupons Hub"}}]}]},
    {"name":"Do_Offers_Infotab_Selected","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Offers_Infotab_Selected-Prop43%"}}]}]},
    {"name":"Do_Offers_Prod_Disp_Name_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_Offers_Prod_Disp_Name_Click","setVars":{"prop43":"AddToCart | Clicked | Link | Product Title | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_Offers_Prod_Img_Click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_Offers_Prod_Img_Click","setVars":{"prop43":"AddToCart | Clicked | Product Image | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_Offers_View_Large_Img","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_Offers_View_Large_Img","setVars":{"prop43":"AddToCart | Clicked | Button | Enlarge Coupon Image | Coupon View Detail Overlay"}}]}]},
    {"name":"Do_Offers_WeeklyAd_ClippedId","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar69":"%Do_Offers_WeeklyAd_ClippedId_EVar69%"}}]}]},
    {"name":"Do_Offers_WeeklyAd_Clipped_State","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"%Do_Offers_WeeklyAd_Clipped_State_Prop43%"},"addEvent":["event71"]}]}]},
    {"name":"Do_Offers_WeeklyAd_Unclipped","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"Coupon Unclipped | Coupons Hub"}}]}]},
    {"name":"Do_Offers_weeklyadFailure","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop43":"js failure | Flipp | Weekly Ads page"}}]}]},
    {"name":"Do_Search_Coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar5":"%Do_Search_Coupons_evar5%"},"addEvent":["event97"]}]}]},
    {"name":"Do_WeeklyAd_Clip_Coupon","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_Clip_Coupon","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Button | Clip | Coupon Card"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5807c7c864746d5fda006abb.js"}]}]}]},
    {"name":"Do_WeeklyAd_Coupon_Detail_Overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_Coupon_Detail_Overlay","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Link | ViewDetail | Coupon Card"}}]}]},
    {"name":"Do_WeeklyAd_Coupon_Detail_Overlay_Remove","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_Coupon_Detail_Overlay_Remove","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Button | Remove | View Detail Overlay"}}]}]},
    {"name":"Do_WeeklyAd_Coupons_Card_Shop","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_Coupons_Card_Shop","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Button | Shop | Coupon Card"}}]}]},
    {"name":"Do_WeeklyAd_Overlay_Clip_Coupon","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_Overlay_Clip_Coupon","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Button | Clip | View Detail Overlay"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5807c82b64746d5fd7006eb5.js"}]}]}]},
    {"name":"Do_WeeklyAd_View_Coupons","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Do_WeeklyAd_View_Coupons","setVars":{"prop43":"Weekly Ad | Coupon Widget | Clicked | Button | View coupons now | Coupon Card"}}]}]},
    {"name":"epp_continue_rx_select","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%epp_continue_rx_select_data%"}}]}]},
    {"name":"Event89_Coupon_Details_Search_Page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Event89_Coupon_Details_Search_Page","addEvent":["event89:coupon link clicked | %BAS_SearchResult_Keyword_Evar5%"]}]}]},
    {"name":"Event90_Coupon_Clipped_Search_Page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Event90_Coupon_Clipped_Search_Page","addEvent":["event90:clip coupon button clicked | %BAS_SearchResult_Keyword_Evar5%"]}]}]},
    {"name":"Genesyschat_prop31","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Genesyschat_prop31","setVars":{"prop31":"%Genesyschat_prop31%"}}]}]},
    {"name":"INVALID_PASSWORD_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar79":"INVALID_PASSWORD"},"addEvent":["event114"]}]}]},
    {"name":"INVALID_USERNAME_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar79":"INVALID_USERNAME"},"addEvent":["event114"]}]}]},
    {"name":"verify_text_msg_success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_result_success_data%"}}]}]},
    {"name":"LOGIN_SUCCESSFUL","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar110';
if(window.dtmObject.CS.traditionalUser) {
	window.s.eVar110 = "Traditional User";
} else if (window.dtmObject.CS.passwordlessUser) {
	window.s.eVar110 = "Passwordless User";
} else {
	window.s.eVar110 = "Auto Login User";
}
},"addEvent":["event114","event115"]}]}]},
    {"name":"METRICS_Multi-Page_OwnedBrandClick_SAS","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"METRICS_Multi-Page_OwnedBrandClick_SAS","customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
s.linkTrackVars = 'prop30';
console.log('------------------console-----------');
if (window.ownedBrandProdDetails !== "undefined" && window.ownedBrandProdDetails !== ''){
   s.prop30 = window.ownedBrandProdDetails;
}
}
}}]}]},
    {"name":"METRICS_SearchResults_Sponsored_BuyAgain","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
  var valobject = window.dtmObject;
s.linkTrackVars = 'prop60';
console.log(window.dtmObject.BAS.buyAgainSponsored,'------ Sponsored BuyAgain-----');
if (valobject !== "undefined" && valobject.BAS !== "undefined" && valobject.BAS.buyAgainSponsored !== "undefined"){
   console.log('window.dtmObject.BAS.buyAgainSponsored');
   s.prop60 = window.dtmObject.BAS.buyAgainSponsored
} 
}
}}]}]},
    {"name":"METRICS_SearchResults_feedBack_Scenrios","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
  s.linkTrackVars = 'prop30';
if (window && window.dtmObject && window.dtmObject.BAS && window.dtmObject.BAS.feedBackStatus){
   s.prop30 = window.dtmObject.BAS.feedBackStatus;
}
}
}}]}]},
    {"name":"phidob_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar9":"%PhiDob_Landing_evar9_data%"}}]}]},
    {"name":"phidob_landing_45","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar45":"%PhiDob_Landing_evar45_data%"}}]}]},
    {"name":"phidob_cancel","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%Phi_Cancel_prop31_data%"}}]}]},
    {"name":"phidob_error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%Phi_Error_prop31_data%"}}]}]},
    {"name":"phidob_submit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%Phi_Submit_prop31_data%"}}]}]},
    {"name":"PHOTO_USER_REGISTRATION","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event1"]}]}]},
    {"name":"PLI_OPT_IN_EVENT103","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event103"]}]}]},
    {"name":"PLI_OPT_IN_EVENT104","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event104"]}]}]},
    {"name":"Phi_Agree_Terms","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%Phi_Agree_Terms_prop31_data%"}}]}]},
    {"name":"Prop61_tracking_activity","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Prop61_tracking_activity","setVars":{"prop61":"%BAS-plp-prop61%"}}]}]},
    {"name":"quitSmoking_onclick","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%QuitSmoking_prop30%"}}]}]},
    {"name":"rxstatusdob_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%rxstatus_landing%"}}]}]},
    {"name":"rx_checkout_address_tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%rx_checkout_address_tracker_data%"}}]}]},
    {"name":"rx_checkout_address_tracker_error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%rx_checkout_address_tracker_error_data%"}}]}]},
    {"name":"rx_status_dob_lock","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%RxStatusDobLockCount%"}}]}]},
    {"name":"rx_status_dob_success","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%RxStatusDobSuccess%"}}]}]},
    {"name":"rx_status_ondoberror","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%RxStatusOnDobErrorClick%"}}]}]},
    {"name":"rx_status_signin","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%RxStatusSignInClick%"}}]}]},
    {"name":"rx_status_submit","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%RxStatusSubmitClick%"}}]}]},
    {"name":"SAS-integratedDrug-Search-eVAR","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar99":"%SAS-integratedDrug_Search%"}}]}]},
    {"name":"SAS-nullSearch-pageName","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
s.pageName= "Null Search Results | Walgreens";
}}]}]},
    {"name":"SAS-pastPurchase-Count","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5a743bdf64746d147b0001ac.js"}]}]}]},
    {"name":"SAS_nullSearch_WeeklyAd_prop30","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%SAS-nullSearchWeeklyAd%"}}]}]},
    {"name":"SAS_nullSearch_nullSearchDeals","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%SAS-nullSearch_Deals%"}}]}]},
    {"name":"SERVICE_UNAVAILABLE_EVAR79","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar79":"LOGIN_SVC_UNAVAILABLE"}}]}]},
    {"name":"SignIn_UserType_Evar110","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar110';
window.s.eVar110 = "Passwordless User";
}}]}]},
    {"name":"Sponsored_search","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"type":"o","linkName":"Sponsored_search","customSetup":function(event,s){
s.linkTrackVars = 'eVar97';
s.eVar97 = '';

},"addEvent":["event105"]}]}]},
    {"name":"srx_assessment_page_onload","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%srx_assessment_page_onload_data%"}}]}]},
    {"name":"srx_assessment_page_onload","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%srx_assessment_page_onload_data%"}}]}]},
    {"name":"webMD_click","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%StepsLanding_prop30%"}}]}]},
    {"name":"webMD_landing","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar1":"%StepsLanding_eVar1%","prop30":"%StepsLanding_prop30%"},"addEvent":["event66:%StepsLanding_event66%"]}]}]},
    {"name":"StoreLogin_Tablet_IsoFlow","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
window.s.linkTrackVars = 'eVar119';
window.s.eVar119 = "New ISO";
}}]}]},
    {"name":"StoreLogin_Tablet_StoreDetails","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = '';
if (window.dtmObject.storeLogin.storeDetails.storeNumber) {
window.s.linkTrackVars += ',eVar122';
window.s.eVar122 = window.dtmObject.storeLogin.storeDetails.storeNumber;
}
if (window.dtmObject.storeLogin.storeDetails.authId) {
window.s.linkTrackVars += ',eVar123';
window.s.eVar123 = window.dtmObject.storeLogin.storeDetails.authId;
}

}}]}]},
    {"name":"ACS_TRACKING_EVAR250","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
if(_satellite.getVar("Enable_DTM_CCPA") === "false") {
window.s.linkTrackVars = 'eVar250';
window.s.eVar250 = 'ACS Tracking';
}
}}]}]},
    {"name":"USER_REGISTRATION","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"addEvent":["event23"]}]}]},
    {"name":"uce_cc_propeller_dashboard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar162":"%healthzone_evar_tracking%","prop65":"%uce_cc_propeller_dashboard%"}}]}]},
    {"name":"uce_cc_propeller_welcome_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_cc_propeller_welcome_overlay_data%"}}]}]},
    {"name":"uce_uhc_verify_failure_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_uhc_verify_failure_overlay_data%"}}]}]},
    {"name":"uce_uhc_verify_success_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_uhc_verify_success_overlay_data%"}}]}]},
    {"name":"uce_uhc_welcome_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_uhc_welcome_overlay_data%"}}]}]},
    {"name":"uce_uhcrx_welcome_overlay","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_uhcrx_welcome_overlay_data%"}}]}]},
    {"name":"VPD_CL_ProductInfo","trigger":[{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-58f6145464746d37c000019e.js"}]}]}]},
    {"name":"verify_text_msg_drop_down","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_text_msg_drop_down_data%"}}]}]},
    {"name":"verfiy_text_radio","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verfiy_text_radio_data%"}}]}]},
    {"name":"verify_text_continue","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_text_continue_data%"}}]}]},
    {"name":"verify_text_error_msg","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_text_error_msg_data%"}}]}]},
    {"name":"verify_text_req_new","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_text_req_new_data%"}}]}]},
    {"name":"verify_text_send_code","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%verify_text_send_code_data%"}}]}]},
    {"name":"WAG_Ad_Blocker_EVAR83","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"eVar83":"Ad Blocker Enabled"}}]}]},
    {"name":"WAITINGROOM_ADAPTIVE","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","prop27":"Waiting Room Page | Adaptive","pageName":"Waiting Room Page | Walgreens"}}]}]},
    {"name":"WAITINGROOM_NATIVE","trigger":[{"engine":"sc","command":"trackPageView","arguments":[{"setVars":{"eVar72":"%BAS_Device_Type_Global_EVar72%","eVar73":"%BAS_Device_Resolution_Global_EVar73%","eVar74":"%BAS_Device_Orientation_Global_EVar74%","prop27":"Waiting Room Page | Native","pageName":"Waiting Room Page | Native  | Walgreens"}}]}]},
    {"name":"webmd_dha_landing_page","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop47":"%Webmd_DHA_landing_47%","prop48":"%Webmd_DHA_landing_48%","prop49":"%Webmd_DHA_landing_49%","prop50":"%Webmd_DHA_landing_50%","prop51":"%Webmd_DHA_landing_51%"}}]}]},
    {"name":"dpf-checkout-find-store-error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"error |No results found for your search. Please verify your location, or try a new search.| prescription checkout"}}]}]},
    {"name":"dpf-checkout-shipping-exception","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"%dpf-checkout-shipping-exception-prop%"}}]}]},
    {"name":"dpf-prescription-checkout-error","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){

window.s.linkTrackVars = 'prop31';
window.s.prop31="error| Please correct errors below before continuing | prescription checkout";
}}]}]},
    {"name":"dpf-rx-checkout-shipmethod-tracker","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop31":"shipping method | %dpf-rx-checkout-shipmethod-tracker_data% |  prescription checkout"}}]}]},
    {"name":"dpf_refill_hub_toggle_disabled","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Refills Tab|"+appState+"|Auto Refill | Off | Your Prescriptions";
}}]}]},
    {"name":"dpf_refill_hub_toggle_enabled","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"customSetup":function(event,s){
window.s.linkTrackVars = 'prop31';
var appState=$('ul.wag-refill-hide-act-leftnav-focus li.active').text().trim();
window.s.prop31="Refills Tab"+appState+"|Auto Refill | On | Your Prescriptions";
}}]}]},
    {"name":"SchedulerContinueButton","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop30":"%integrated_scheduler_continue%"}}]},{"command":"loadScript","arguments":[{"sequential":true,"scripts":[{"src":"satellite-5995319164746d0de7005b92.js"},{"src":"satellite-5c52a7fd64746d1924002a9e.js"},{"src":"satellite-5f19ddc264746d7467000812.js"}]}]}]},
    {"name":"uceBRcard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_BR_card_data%"}}]}]},
    {"name":"uceImmunizationcard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_Immunization_card_data%"}}]}]},
    {"name":"ucePLMcard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_PLM_card_data%"}}]}]},
    {"name":"ucebractivecard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_br_active_card_data%"}}]}]},
    {"name":"ucebrzerocard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{}]}]},
    {"name":"ucecontentcard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_content_card_data%"}}]}]},
    {"name":"ucecouponscard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_coupons_card_data%"}}]}]},
    {"name":"uceimmsuccessload","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_imm_success_load_data%"}}]}]},
    {"name":"uceplmmanualsearch","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_plm_manual_search_data%"}}]}]},
    {"name":"uceproductscard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_products_card_data%"}}]}]},
    {"name":"ucerxactivecard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_rx_active_card_data%"}}]}]},
    {"name":"ucerxcard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_rx_card_data%"}}]}]},
    {"name":"ucerxcarddrpfamily","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_rx_card_drp_family_data%"}}]}]},
    {"name":"ucerxzerocard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_rx_zero_card_data%"}}]}]},
    {"name":"uceuhccard","trigger":[{"engine":"sc","command":"trackLink","arguments":[{"setVars":{"prop65":"%uce_uhc_card_data%"}}]}]}
  ],
  "settings": {
    "trackInternalLinks": true,
    "libraryName": "satelliteLib-24aa610962c8396e11fe6027b69f92e457d9e4fd",
    "isStaging": false,
    "allowGATTcalls": false,
    "downloadExtensions": /\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,
    "notifications": false,
    "utilVisible": false,
    "domainList": [
      "walgreens.com"
    ],
    "scriptDir": "7deb8111c940df73792ccb9937476cc412e87575/scripts/",
    "tagTimeout": 3000
  },
  "data": {
    "URI": 
document.location.pathname + document.location.search
,
    "browser": {
    },
    "cartItems": [

    ],
    "revenue": "",
    "host": {
      "http": "assets.adobedtm.com",
      "https": "assets.adobedtm.com"
    }
  },
  "dataElements": {
    "AppMarket_Prop14": {"jsVariable":"window.AppMarket_Prop14","storeLength":"pageview"},
    "AppMarket_prop30": {"jsVariable":"window.AppMarket_prop30","storeLength":"pageview"},
    "AuthErrorMsgProp30Data": {"jsVariable":"window.AuthErrorMsgProp30","storeLength":"pageview"},
    "AuthRXSuccessMsgEvent84Data": {"jsVariable":"window.AuthRXSuccessMsgEvent84","storeLength":"pageview"},
    "AuthTextSuccessMsgEvent83Data": {"jsVariable":"window.AuthTextSuccessMsgEvent83","storeLength":"pageview"},
    "AuthVerificationWidgetProp30Data": {"jsVariable":"window.AuthVerificationWidgetProp30","storeLength":"pageview"},
    "BAS_Adaptive_Channel_Global": {"customJS":function(){
var	url = location.pathname;
var sPage = url.substr(url.indexOf('/')+1,url.length);
var reqChannel = sPage.substr(0, sPage.indexOf("/"));
var filename = url.substring(url.lastIndexOf('/')+1);

if(window.location.href.lastIndexOf('tumblr.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('smile.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('staywell.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('bebeautiful.walgreens.com')!=-1 ) {
  return "tumblr";
}

if(url==='/default.jsp'||reqChannel==='') { reqChannel='Walgreens.com Home Page'; }
if(url==='/login.jsp') { reqChannel='Walgreens.com Login Page'; }
if(reqChannel=='search') { reqChannel='store'; }
if(reqChannel=='storelistings') { reqChannel='marketing'; }

var s_channel=reqChannel;

return s_channel; 
},"storeLength":"pageview"},
    "BAS_Adaptive_Default_PageTitle_Global": {"customJS":function(){
var s_pageName=document.title;
if (document.title.indexOf("Walgreens |") ==0 || document.title.indexOf("Walgreens.com |") == 0) {
  s_pageName=((document.title).substr((document.title).indexOf("|")+1)).replace(/(^ +| +$)/, "");
} 

var url = window.location.href;
var searchString=".com";
var sPage = url.substr((url.indexOf (searchString)),url.length);
sPage=sPage.substr(sPage.indexOf("/")+1,sPage.length);
var reqPage = sPage.substr(0, sPage.indexOf("/"));

if(window.location.href.indexOf("results.jsp") > -1) {
  var BASObject = window.dtmObject.BAS;
  var nullPageFlag = false;
  if(BASObject !== undefined && BASObject.SearchResultsWholeInfo !== undefined && BASObject.SearchResultsWholeInfo.messages !== undefined && BASObject.SearchResultsWholeInfo.messages[0].code !== undefined && BASObject.SearchResultsWholeInfo.messages[0].code == 'WAG_I_SR_0003'){
    nullPageFlag = true;
  }
}

//if(reqPage=='default.jsp'||reqPage=='') {s_pageName='Walgreens.com Home Page';}
//return s_pageName;

if(window.location.href.lastIndexOf('tumblr.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('smile.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('staywell.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('bebeautiful.walgreens.com')!=-1
  )
{
  return document.title+" - tumblr.com";
}

var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if(filename=='cart.jsp') 
  return s_pageName;
else if(filename=='rx_auth_tab_content_kba_get_started.jsp') 
{
  document.title="Last Step:Verify Your Identity | Registration | Walgreens";
  return "Last Step:Verify Your Identity | Registration | Walgreens" ;
}
else if(filename=='rx_auth_tab_content_kba_get_quiz.jsp') 
{
  document.title="Verify Online: You're Almost Done | Registration | Walgreens";
  return "Verify Online: You're Almost Done | Registration | Walgreens" ;
}
else if(filename=='optimize_order_review.jsp') 
{
  document.title="Optimize Order Review | Checkout | Walgreens";
  return "Optimize Order Review | Checkout | Walgreens " ;
}
else if(filename=='find.jsp') 
{
  document.title="Store Locator | Walgreens";
  return "Store Locator | Walgreens " ;
}
else if(filename=='confirmorder_sdd.jsp') 
  return "Your Order Has Been Placed | Checkout | Walgreens " ;
else if(filename=='storesbycity.jsp') 
  return 'Search Results - By State| Store Locator | Walgreens';
else if(filename=='results.jsp' && !nullPageFlag) 
  return 'Search Results | Walgreens';
else if(nullPageFlag)
  return 'Null Search Results | Walgreens';
else if(filename=='result.jsp') 
  return 'Search Results | Store Locator | Walgreens';
else if(filename=='drivingDirection.jsp') 
  return 'Driving direction results';
else if(filename=='contactlenshist.jsp') 
  return 'Reorder Contact Lenses | Checkout | Walgreens';
else if(filename=='storesbystate.jsp') 
  return 'Search Results - State Listing | Store Locator | Walgreens';
else if(filename=='storeDetails.jsp')
{
  document.title="Store Details | Store Locator | Walgreens";
  return 'Store Details | Store Locator | Walgreens';
}
else if(filename=='myWalgreensStoreDetails.jsp') 
  return 'My Walgreens Store | Walgreens';
else if (filename=='ss_schedule_order_manager.jsp')
  return 'AR Manager | Walgreens';
else if(filename=='offers.jsp') {
  if (window.location.search.indexOf("view=weeklyad") !== -1) {
    return 'Weekly Ad';
  }
  return 'Paperless Coupons';
} else if(window.location.pathname=='/youraccount/default.jsp') 
{
  document.title='Your Account | Walgreens';
  return 'Your Account | Walgreens';
}
else if(window.location.pathname=='/offers/offers.jsp') 
{
  if (window.location.search.indexOf("view=weeklyad") !== -1) {
    return 'Weekly Ad';
  }
  return 'Paperless Coupons';
}
else if(window.location.pathname=='/default.jsp'||(filename=='' && reqPage=='')) 
{
  return 'Walgreens.com Home Page';
  return s_pageName + ' |  Delivery Details Order Link';
}else if (filename == 'selectpickuptimesdd.jsp')
{
  return s_pageName;
}
else if(url.indexOf("tier3contactlens")>=1)
{
  return "Lenses - Contact Lenses | Walgreens";
}else if(url.indexOf("weeklyad-and-offers.jsp")>=1)
{
  document.title='Weekly Ad | Coupons | Walgreens';
  return "Weekly Ad | Coupons | Walgreens";
}
else if(url.indexOf('locator')>-1)
  return "Store details page";
else
  return s_pageName;
},"default":"document.title","storeLength":"pageview"},
    "BAS-Add-to-cart-Find-at-store": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.productCardEvar89!= undefined){
  var tempVarEvar89 = BASObject.productCardEvar89;
  window.dtmObject.BAS.productCardEvar89 = "";
  return tempVarEvar89;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS-addToCart-prop14": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.addToCartProp14!= undefined){
  var tempIndexVar = BASObject.addToCartProp14;
  window.dtmObject.BAS.addToCartProp14 = "";
  return tempIndexVar;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS-addToCart-prop63": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.addToCartprop63!= undefined){
  var tempIndexVar = BASObject.addToCartprop63;
  window.dtmObject.BAS.addToCartprop63 = "";
  return tempIndexVar;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_ApplicationType": {"customJS":function(){
var urlvalue=window.location.hostname;

if(urlvalue=="n-www.walgreens.com" ||
urlvalue=="n-www3.walgreens.com" || 
urlvalue=="n-qa2.walgreens.com" ||
urlvalue=="n-perf.walgreens.com" || 
urlvalue=="n-perf2.walgreens.com" || 
urlvalue=="n-int1.walgreens.com" ||
_satellite.getVar("BAS_ApplicationType_QueryParam")==="native") {
  return "native";
}else{
  return "web";
}
},"storeLength":"pageview"},
    "BAS_ApplicationType_Native": {"customJS":function(){
var urlvalue=window.location.hostname;

if(urlvalue=="n-www.walgreens.com" ||
urlvalue=="n-www3.walgreens.com" || 
urlvalue=="n-qa2.walgreens.com" ||
urlvalue=="n-perf.walgreens.com" || 
urlvalue=="n-perf2.walgreens.com" || 
urlvalue=="n-int1.walgreens.com" ||
_satellite.getVar("BAS_ApplicationType_QueryParam")==="native") {
  return "native";
}else{
  return "";
}
},"storeLength":"pageview"},
    "BAS_ApplicationType_QueryParam": {"queryParam":"source","default":"test","storeLength":"pageview","forceLowerCase":true,"ignoreCase":1},
    "BAS_ATGMember_ID_Global_EVar45": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC !== undefined && valobject.CAC.HeaderProfile !== undefined&&valobject.CAC.HeaderProfile.profileInfo!==undefined) 
{   
  	if(valobject.CAC.HeaderProfile.profileInfo.loggedIn=="true")
     {
	    	return valobject.CAC.HeaderProfile.profileInfo.profileId;
     }
      return ""; 
}
else if (window.header !== undefined &&window.header.profileInfo!==undefined) 
{   
  	if(window.header.profileInfo.loggedIn=="true")
     {
	    	return window.header.profileInfo.profileId;
     }
      return ""; 
}
else
  return "";


},"storeLength":"pageview"},
    "BAS_Auto_Reorder_Eligible_EVar75": {"jsVariable":"window.BAS_Auto_Reorder_Eligible_EVar75","storeLength":"pageview"},
    "BAS_Beauty_Tier1_Coupon_Clipped_Prop43": {"jsVariable":"window.dtmObject.BAS.Prop43","default":"0","storeLength":"pageview"},
    "BAS_Default_PageTitle_Global": {"jsVariable":"document.title","default":"document.title","storeLength":"pageview"},
    "BAS_Device_Orientation_Global_EVar74": {"customJS":function(){
function handler() {
  if(window.orientation == 0 || window.orientation == 180) {
        return "Portrait";
    } else {
        return "Landscape";
    }
}

return handler();
},"storeLength":"pageview"},
    "BAS_Device_Resolution_Global_EVar73": {"customJS":function(){
function getWidthandHeight()
  {
    var xWidth = 0.0;
    var xHeight = 0.0;
    
    if(window.screen != null)
    {     
      		xWidth = window.screen.width;
     			xHeight = window.screen.height;
    }
		else if(window.innerWidth != null)
		{ 
	  		xWidth = window.innerWidth;
	    	xHeight =   window.innerHeight;
		}
	 	else if(document.body != null)
    {
      	xWidth = document.body.clientWidth;
      	xHeight = document.body.clientHeight;
    }
  
    return xWidth+"*"+xHeight;
  }
return getWidthandHeight();
},"storeLength":"pageview"},
    "BAS_Device_Type_Global_EVar72": {"customJS":function(){
if (typeof device ==="object")
{
if(device.mobile())
  return "mobile";
if(device.tablet())
  return "tablet";
if(device.desktop())
  return "desktop";
}
if(window.__APP_INITIAL_STATE__ && window.__APP_INITIAL_STATE__.envConfig && window.__APP_INITIAL_STATE__.envConfig.device) {
  var device = window.__APP_INITIAL_STATE__.envConfig.device;
  if(device === "mobile")
  return "mobile";
if(device === "tablet")
  return "tablet";
if(device === "desktop")
  return "desktop";
}
},"storeLength":"pageview"},
    "BAS_Elastic_Endeca_tracking": {"customJS":function(){
if(window.location.search.indexOf('esearch=new') !== -1){
	return 'Elastic Search';
}else {
	return 'Endeca Search';
}
},"storeLength":"pageview"},
    "BAS-evar65": {"customJS":function(){

if(window.BAS_eVar65 != 'undefined') {
  return window.BAS_eVar65;
}
return '';
},"storeLength":"pageview"},
    "BAS_eVar79_Tracking_DataElement": {"customJS":function(){
return window.dtmObject.BAS.eVar79;
},"storeLength":"pageview"},
    "BAS_Home_Email_Subscription": {"jsVariable":"window.dtmObject.BAS.Prop30","storeLength":"pageview"},
    "BAS_HomePage": {"customJS":function(){
var s_pageName=document.title;
if (document.title.indexOf("Walgreens |") ==0 || document.title.indexOf("Walgreens.com |") == 0) {
	s_pageName=((document.title).substr((document.title).indexOf("|")+1)).replace(/(^ +| +$)/, "");
} 

var url = window.location.href;
var searchString=".com";
var sPage = url.substr((url.indexOf (searchString)),url.length);
sPage=sPage.substr(sPage.indexOf("/")+1,sPage.length);
var reqPage = sPage.substr(0, sPage.indexOf("/"));

//if(reqPage=='default.jsp'||reqPage=='') {s_pageName='Walgreens.com Home Page';}
//return s_pageName;

var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
filename= filename.substring(0,filename.lastIndexOf('?'));

if(window.location.pathname=='/default.jsp'||filename=='') 
  return 'true';

return "false";
},"default":"false","storeLength":"pageview"},
    "BAS_isGeotargeted": {"customJS":function(){
 var valobject = window.dtmObject;
 var result="";
 if (valobject !== undefined && valobject.CAC!==undefined && valobject.CAC.HeaderProfile !== undefined && valobject.CAC.HeaderProfile.profileInfo!==undefined && valobject.CAC.HeaderProfile.profileInfo.geoTargetEnabled !== undefined) 
 {
   if(window.dtmObject.CAC.HeaderProfile.profileInfo.geoTargetEnabled) {
	 result = "Geo-Targeted | Store Pickup";
   } else {
	 result = "Non Geo-Targeted | Store Pickup";
   }
 } else if(window.header !== undefined) {
   if(window.header.profileInfo && window.header.profileInfo.geoTargetEnabled){
	 result = "Geo-Targeted | Store Pickup";
   }  else  {
	 result = "Non Geo-Targeted | Store Pickup";
   }
 }
  return result;
},"storeLength":"pageview"},
    "BAS_last_searched_keyword": {"customJS":function(){
return window.lastSearchedKeyword;
},"storeLength":"pageview"},
    "BAS_Pharmacy_User_Global_Var9": {"customJS":function(){
var valobject = window.dtmObjectGlobal;
if(valobject===undefined)
  valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC !== undefined && valobject.CAC.HeaderProfile !== undefined && valobject.CAC.HeaderProfile.profileInfo !== undefined) {
   
    var count = valobject.CAC.HeaderProfile.profileInfo.numberOfSiteVisits;
    var value = valobject.CAC.HeaderProfile.profileInd;
   
  if (valobject.CAC.HeaderProfile.profileInfo.loggedIn=="true")
{
  
   	if (value.isRxAuthenticatedUser)
  		 	return (parseInt(count)==1)?"new rx reg authenticated":"repeat rx reg authenticated";  
    else if (value.isRxUser)
        return (parseInt(count)==1)?"new rx reg not authenticated":"rx reg not authenticated";
    else 
        return (parseInt(count)==1)?"new light reg":"repeat light reg";
}
  return "";
} else
{
  
  
    return "";
}

},"storeLength":"pageview"},
    "BAS-plp-prop61": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.plpProp61!= undefined){
  var tempIndexVar = BASObject.plpProp61;
  window.dtmObject.BAS.plpProp61 = "";
  return tempIndexVar;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_Prod_Card_Index_For_Activity_On_Search_Results": {"jsVariable":"window.dtmObject.BAS.productCardIndex","storeLength":"pageview"},
    "BAS-product-position": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.productCardIndex!= undefined){
  var tempIndexVar = BASObject.productCardIndex;
  window.dtmObject.BAS.productCardIndex = "";
  return tempIndexVar;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_Prop13": {"customJS":function(){
if(window.dtmObject!=undefined &&window.dtmObject.BAS!=undefined&&window.dtmObject.BAS.Common!=undefined){
  if(window.dtmObject.BAS.Common.ImageCollection == "" || window.dtmObject.BAS.Common.ImageCollection == null){
		var val=$("#wag-cabanner-mob img").attr("src");
    if(val!==undefined)
    window.dtmObject.BAS.Common.ImageCollection = $("#wag-cabanner-mob img").attr("src").substring($("#wag-cabanner-mob img").attr("src").lastIndexOf("/")+1);
  }
  return window.dtmObject.BAS.Common.ImageCollection;
}else{
  var val=$("#wag-cabanner-mob img").attr("src");
  if(val!==undefined)
      return $("#wag-cabanner-mob img").attr("src").substring($("#wag-cabanner-mob img").attr("src").lastIndexOf("/")+1);
  
}
return "";
/*if(window.dtmObject!=undefined &&window.dtmObject.BAS!=undefined&&window.dtmObject.BAS.Common!=undefined && window.dtmObject.BAS.Common.ImageCollection!==undefined){
  if(window.dtmObject.BAS.Common.ImageCollection == "" || window.dtmObject.BAS.Common.ImageCollection == null){
		window.dtmObject.BAS.Common.ImageCollection = $("#wag-cabanner-mob img").attr("src").substring($("#wag-cabanner-mob img").attr("src").lastIndexOf("/")+1);
  }
  return window.dtmObject.BAS.Common.ImageCollection;
}else{
  var bannerImgName = $("#wag-cabanner-mob img").attr("src").substring($("#wag-cabanner-mob img").attr("src").lastIndexOf("/")+1);
  return bannerImgName; 
}*/
},"storeLength":"pageview"},
    "BAS_Prop14": {"customJS":function(){
if(window.location.href.lastIndexOf('tumblr.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('smile.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('staywell.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('bebeautiful.walgreens.com')!=-1
  )
{
  return "Tumblr page";   
}
return "Home Page";   
},"storeLength":"pageview"},
    "BAS_Prop3": {"customJS":function(){
var s_pageName=document.title;
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);
var v = "storesbycity.jsp";
var u = "storesbystate.jsp";
if((filename.indexOf(v) > -1) || (filename.indexOf(u) > -1)) 
 return s_pageName;
},"storeLength":"pageview"},
    "BAS_Prop30": {"jsVariable":"window.BAS_Prop30","storeLength":"pageview"},
    "BAS_SearchResult_keyword": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.SearchResultsFilterInfo != undefined && (window.location.href).search("/q/") == -1){
  if (BASObject.SearchResultsFilterInfo.closeMatch === false){
    return BASObject.SearchResultsFilterInfo.q;
   
  }
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_SearchResult_Keyword_Evar10": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.SearchResultsFilterInfo != undefined && (window.location.href).search("/q/") == -1){
  if (BASObject.SearchResultsFilterInfo.closeMatchKeyword){
    return BASObject.SearchResultsFilterInfo.closeMatchKeyword;
  } else {
    return "";
  }
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_SearchResult_Keyword_Evar15": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.SearchResultsFilterInfo != undefined && (window.location.href).search("/q/") != -1){
    return BASObject.SearchResultsFilterInfo.q;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS-search-result-keyword_Evar22": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.SearchResultsFilterInfo != undefined){
    return BASObject.SearchResultsFilterInfo.q;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS_SearchResult_Keyword_Evar5": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.SearchResultsFilterInfo != undefined && (window.location.href).search("/q/") == -1){
  return BASObject.SearchResultsFilterInfo.q;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS-Search-result-keyword-value": {"customJS":function(){
return $('#ntt-placeholder').val();
},"storeLength":"pageview"},
    "BAS-Search-Type-Ahead-Evar82-Tracking-DataElement": {"customJS":function(){
return window.dtmObject.BAS.eVar82;
},"storeLength":"pageview"},
    "BAS-Search-Type-Ahead-Evar96-Tracking-DataElement": {"customJS":function(){
return window.dtmObject.BAS.eVar96;
},"storeLength":"pageview"},
    "BAS-Search-Typed-Evar96-Tracking-DataElement": {"customJS":function(){
if(window.typeAheadFocus) {
  if($('.past-search-exist').length > 0) {
    return "Recent Searches";
  } else {
    return "Type Ahead";
  }
} else {
  return "Typed";
}
},"storeLength":"pageview"},
    "BAS-selectStore-prop55": {"customJS":function(){
var BASObject = window.dtmObject.BAS;
if (BASObject != undefined && BASObject.selectStoreProp55!= undefined){
  var tempIndexVar = BASObject.selectStoreProp55;
  window.dtmObject.BAS.selectStoreProp55 = "";
  return tempIndexVar;
} else {
  return "";
}
},"storeLength":"pageview"},
    "BAS-Sponsored-ProductCard-Grid ": {"customJS":function(){
var Prop60_Obj = window.dtmObject.BAS.Prop60;
if (Prop60_Obj) {
    var pushValue = Prop60_Obj.value;
    return pushValue;
}
return "";
},"storeLength":"pageview"},
    "BAS-SRP-Partial-Search-Partial-Keyword": {"jsVariable":"window.partiallyMatched","storeLength":"pageview"},
    "BAS-SRP-Product-Count": {"jsVariable":"window.numberOfSearchProducts","storeLength":"pageview"},
    "BAS_store_auth_cookie": {"customJS":function(){
function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
     
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }

	return false;
    
}

function isISOFlow(cName) {
  if(getCookie(cName) == "" || getCookie(cName) == false ) {
     return "false";
  }
  else{
     return "true";
  }
}
    
return isISOFlow('STORE_AUTH');
},"storeLength":"pageview"},
    "BAS-Topic-Boots-Slider-Prop30": {"customJS":function(){
return window.dtmObject.BAS.trackValSlider;
},"storeLength":"pageview"},
    "BAS-Topic-Link-Prop30": {"customJS":function(){
return window.dtmObject.BAS.trackVal;
},"storeLength":"pageview"},
    "BAS-VpdCustemerAlsoBought-Swap-DataElement": {"customJS":function(){
if(window.dtmObject && window.dtmObject.BAS && window.dtmObject.BAS.CustemerAlsoBought == 'cav'){
  return 'intra-customer | Product Details Page';
} else {
  return 'intra-basket | Product Details Page';
}
},"storeLength":"pageview"},
    "BAS-VpdCustemerAlsoBought-Swap-prop30-DataElement": {"customJS":function(){
if(window.dtmObject && window.dtmObject.BAS && window.dtmObject.BAS.CustemerAlsoBought == 'cav'){
  return window.dtmObject.BAS.CustemerAlsoBoughtIdx + ' | intra-customer | Product Details Page';
} else {
  return window.dtmObject.BAS.CustemerAlsoBoughtIdx + ' | intra-basket | Product Details Page';
}
},"storeLength":"pageview"},
    "BAS_VPD_EVar30": {"customJS":function(){
var valobject = window.dtmObject;
if (valobject !== undefined && valobject.BAS !== undefined && valobject.BAS.Evar30 !== undefined ) {
  return valobject.BAS.Evar30;
} 
else{
  return "";
}
},"storeLength":"pageview"},
    "BAS-VPD-product-tag": {"customJS":function(){
var url = window.location.href;

var productname = url.substring(url.lastIndexOf('=prod')+1);

if(productname.indexOf('-')!==-1) {
  productname= url.substring(url.lastIndexOf('=prod')+1).substring(0,url.substring(url.lastIndexOf('=prod')+1).indexOf('-'));
} else if(productname.indexOf('&')!==-1) {
  productname= url.substring(url.lastIndexOf('=prod')+1).substring(0,url.substring(url.lastIndexOf('=prod')+1).indexOf('&'));
}
return productname.substring(4);

/* old code

if(productname.lastIndexOf('')!==-1){
	productname= productname.substring(0,productname.lastIndexOf('-'));
}
return productname;
*/

},"storeLength":"pageview"},
    "BAS-VPD-REFERRER-EVAR30": {"customJS":function(){
var eVar30ProdID = $("#hiddenProductId").val();
var eVar30RecProdID = _satellite.readCookie("recProdID");
var eVar30Referrer = "Search";
if( typeof eVar30ProdID !== undefined && typeof eVar30RecProdID !== undefined && eVar30ProdID === eVar30RecProdID ) {
  var eVar30Referrer = "Product Recommendations";
  _satellite.removeCookie("recProdID");
}
return eVar30Referrer;
},"storeLength":"pageview"},
    "BAS_VPD_WicId": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.BAS!==undefined && valobject.BAS.ProductInfo !== undefined && valobject.BAS.ProductInfo.inventory!==undefined) 
    return valobject.BAS.ProductInfo.inventory.wicId;
else if (valobject !== undefined && valobject.BAS!==undefined && valobject.BAS.ProductCLInfo !== undefined && valobject.BAS.ProductCLInfo.inventory!==undefined) 
    return valobject.BAS.ProductCLInfo.inventory.wicId;
else
  return "";
},"storeLength":"pageview"},
    "BAS_WebMD_PageTitle": {"customJS":function(){
var wagSaurl = (window.location != window.parent.location) ? document.referrer: document.location.href;
var domain = 'Test';
if( wagSaurl.indexOf("walgreens.com/cold-and-flu/") > -1 || wagSaurl.indexOf("walgreens.com/allergies/") > -1 ) {
  domain = 'Walgreens';
} else if(wagSaurl.indexOf("webmd.com/cold-and-flu/") > -1 || wagSaurl.indexOf("webmd.com/allergies/") > -1 ) {
  domain = "WedMD";
}
var advisor = 'Test';
if( wagSaurl.indexOf("/cold-and-flu/") > -1){
  advisor = 'ReliefAdvisor';
} else if(wagSaurl.indexOf("/allergies/relief-advisor") > -1) {
  advisor = 'AllergyAdvisor';
}
var s_pageName = 'Recommendations | ' + advisor + ' | ' + domain;
return s_pageName;
},"default":"WebMD","storeLength":"pageview"},
    "CAC_Addressaddorupdate": {"customJS":function(){
var pageURL = window.location.href;
var currentWidgetName = pageURL.split("#/")[1];
var trackingStrValue = "add new address | address book  | shipping details page";
if(currentWidgetName == "shipping_info"){
  var actionStr = document.getElementById("wag-cko-sa-id-adadd-c").getAttribute("data-user-action");
  if(actionStr == "edit"){
  	trackingStrValue = "save changes | address book  | shipping details page";
  }
}
return trackingStrValue;
},"storeLength":"pageview"},
    "CAC_AutoReOrder_Missing_Shipment_Error": {"customJS":function(){
var obj = window.dtmObject;
var prop30 = "";

if (obj !== undefined && obj.CAC !== undefined && obj.CAC.TemplateOrders !== undefined) {

    var templateOrdersObj = obj.CAC.TemplateOrders;
    var templateOrdersLength = templateOrdersObj.length;
    for (var i = 0; i < templateOrdersLength; i++) {

        if (templateOrdersObj[i].type === "active") {
            var templateOrder = templateOrdersObj[i].templateOrder;
            for (var j = 0; j < templateOrder.length; j++) {

                var messages = templateOrder[j].messages;

                if (messages !== undefined) {
                    for (var k = 0; k < messages.length; k++) {

                        var code = messages[k].code;

                        if (code === "WAG_W_CHECKOUT_4033" || code === "WAG_W_CHECKOUT_4034" || code === "WAG_W_CHECKOUT_4035" || 
                            code === "WAG_W_CHECKOUT_4036" || code === "WAG_W_CHECKOUT_4037" || code === "WAG_W_CHECKOUT_4038" || 
                            code === "WAG_W_CHECKOUT_4039" || code === "WAG_W_CHECKOUT_4040" || code === "WAG_W_CHECKOUT_4032") {

                            prop30 = "Missed Shipment";
                          	

                        }


                    }

                }

            }

        }

    }

}

return prop30;
},"storeLength":"pageview"},
    "CAC_AutoReOrder_Payment_Error": {"customJS":function(){
var obj = window.dtmObject;
var prop6 = "";
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.TemplateOrders !== undefined) {
    var templateOrdersObj = obj.CAC.TemplateOrders;
    var templateOrdersLength = templateOrdersObj.length;
    for (var i = 0; i < templateOrdersLength; i++) {
        if (templateOrdersObj[i].type === "active") {
            var templateOrder = templateOrdersObj[i].templateOrder;
            for (var j = 0; j < templateOrder.length; j++) {
                var messages = templateOrder[j].messages;
                if (messages !== undefined) {
                    for (var k = 0; k < messages.length; k++) {
                        var code = messages[k].code;
                        if (code === "WAG_W_CHECKOUT_4019" && prop6.indexOf('about to Expire') === -1) {
                            if (prop6 !== "") {
                                prop6 = prop6 + "|" + "Credit Card about to Expire";
                            } else {
                                prop6 = "Credit Card about to Expire";
                            }
                        }
                        if ((code === "WAG_E_CHECKOUT_4016" || code === "WAG_E_CHECKOUT_4017") && prop6.indexOf('has Expired') === -1) {
                            if (prop6 !== "") {
                                prop6 = prop6 + "|" + "Credit Card has Expired";
                            } else {
                                prop6 = "Credit Card has Expired";
                            }
                        }
                        if (code === "WAG_E_CHECKOUT_4015" && prop6.indexOf('Validation') === -1) {
                            if (prop6 !== "") {
                                prop6 = prop6 + "|" + "Payment Validation";
                            } else {
                                prop6 = "Payment Validation";
                            }
                        }
                    }
                }
						}
        }
    }
}

return prop6;
},"storeLength":"pageview"},
    "CAC_AutoReOrder_Shipping_Error": {"customJS":function(){
var obj = window.dtmObject;
var prop5 = "";

if (obj !== undefined && obj.CAC !== undefined && obj.CAC.TemplateOrders !== undefined) {
    var templateOrdersObj = obj.CAC.TemplateOrders;
    var templateOrdersLength = templateOrdersObj.length;
    for (var i = 0; i < templateOrdersLength; i++) {
        if (templateOrdersObj[i].type === "active") {
            var templateOrder = templateOrdersObj[i].templateOrder;
            for (var j = 0; j < templateOrder.length; j++) {
                var messages = templateOrder[j].messages;
                if (messages !== undefined) {
                    for (var k = 0; k < messages.length; k++) {
                        var code = messages[k].code;
                        if (code === "WAG_E_CHECKOUT_4012" || code === "WAG_E_CHECKOUT_4013"
                           || code === "WAG_E_CHECKOUT_2032" || code === "WAG_E_CHECKOUT_2033" 
                            || code === "WAG_E_CHECKOUT_2034" || code === "WAG_E_CHECKOUT_2005" 
                            || code === "WAG_E_CHECKOUT_2007") {
                            prop5 = "Address Validation";
                           
                        }
                    }
                }
            }
        }
    }
}

return prop5;
},"storeLength":"pageview"},
    "CAC_Backtocart_Widgetname": {"customJS":function(){
var pageURL = window.location.href;
var currentWidgetName = pageURL.split("#/")[1];
var backToCartTrackingStr = "back to cart | order review page";
if(currentWidgetName == "shipping_info" || currentWidgetName == "shipping_contact_info"){
  backToCartTrackingStr = "back to cart| shipping address | shipping details page";
}else if(currentWidgetName == "contact_info"){
  backToCartTrackingStr = "back to cart | edit contact info  | shipping details page";
}
return backToCartTrackingStr;
},"storeLength":"pageview"},
    "CAC_BING_Third_Party": {"customJS":function(){
var obj = window.dtmObject;
var prodIdArr = [];
var prodListArr = [];
var orderTotal="";
var path = window.location.pathname;
var pageName = path.split("/").pop();
if (pageName=='cart.jsp' && obj.CAC && obj.CAC.Cart && obj.CAC.Cart.itemsGroups && obj.CAC.Cart.itemsGroups.length > 0) {
  pageName = 'cart';
  prodListArr = obj.CAC.Cart.itemsGroups;
  orderTotal =  obj.CAC.Cart.priceInfo && obj.CAC.Cart.priceInfo.orderTotal;
}else if (pageName=='confirmorder_sdd.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  pageName = 'purchase';
  prodListArr = obj.CAC.OrderConfirmation.itemSubGroups;
  orderTotal =  obj.CAC.OrderConfirmation.priceInfo && obj.CAC.OrderConfirmation.priceInfo.orderTotal;
}else if (pageName=='optimize_order_review.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  pageName = 'reviewOrder';
  prodListArr = obj.CAC.OrderReview.itemSubGroups;
  orderTotal =  obj.CAC.OrderReview.priceInfo && obj.CAC.OrderReview.priceInfo.orderTotal;
}
(function(w,d,t,r,u){
  var f,n,i;w[u]=w[u]||[],
    f=function(){
    	var o={ti:"28000867"};
    	o.q=w[u],w[u]=new UET(o),
      w[u].push("pageLoad")
  	},
    n=d.createElement(t),
    n.src=r,n.async=1,
    n.onload=n.onreadystatechange=function(){
      var s=this.readyState;
      s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)
    },
    i=d.getElementsByTagName(t)[0],
    i.parentNode.insertBefore(n,i)
})(window,document,"script","//bat.bing.com/bat.js","uetq");
if(prodListArr && prodListArr.length > 0) {
  for(var i=0;i<prodListArr.length; i++) {
    for(var j=0;j<prodListArr[i].items.length;j++){
      if(prodListArr.length === 1 && prodListArr[i].items.length === 1 ) {
      	prodIdArr = prodListArr[i].items[j].productInfo.baseInfo.productId;
      } else {
      	prodIdArr.push(prodListArr[i].items[j].productInfo.baseInfo.productId);
      }
      console.log(prodListArr[i].items[j].productInfo.baseInfo.productId);
    }
  }
  window.uetq = window.uetq || [];
  window.uetq.push({ 'ecomm_prodid':prodIdArr, 'ecomm_pagetype':pageName, 'gv': orderTotal, 'gc': orderTotal ? 'USD':''}); 
}
console.log("bing third party");
return;
},"storeLength":"pageview"},
    "CAC_Cart_Applied_Coupons": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.promotionInfo !== undefined && obj.CAC.Cart.promotionInfo.applied !== undefined){
  console.log("promocode" + obj.CAC.Cart.promotionInfo.applied[0].code);
   return obj.CAC.Cart.promotionInfo.applied[0].code;
}
else
  return false;

},"storeLength":"pageview"},
    "CAC_Cart_BrandName": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));
if (filename=='confirmorder_sdd.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation.itemSubGroups;
}else if (filename=='cart.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemsGroups !== undefined) {
  value = obj.CAC.Cart.itemsGroups;
}

if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.length; i++) {

    for (j = 0; j < value[i].items.length; j++) {


      if(text=="")
      {
        text = value[i].items[j].productInfo.extendedInfo.brandName;
      }
      else
      {
        text += ":"+value[i].items[j].productInfo.extendedInfo.brandName;
      }
    }
  }
}
return text;
},"storeLength":"pageview"},
    "CAC_Cart_Coupons_Count": {"customJS":function(){
var dtmObj=window.dtmObject;
var appliedCouponlength=0;
var inEligibleCouponLength=0;
if(dtmObj.CAC!==undefined && dtmObj.CAC.Cart!==undefined && dtmObj.CAC.Cart.promotionInfo!==undefined){
  if(dtmObj.CAC.Cart.promotionInfo.applied!==undefined){
 		appliedCouponlength=dtmObj.CAC.Cart.promotionInfo.applied.length;
  }
  if(dtmObj.CAC.Cart.promotionInfo.inEligible!==undefined){
 		inEligibleCouponLength=dtmObj.CAC.Cart.promotionInfo.inEligible.length;
  }
  var couponsCount = appliedCouponlength+inEligibleCouponLength;
  if(couponsCount > 0){
    return "Coupon count | "+couponsCount+" | Shopping Cart | Walgreens";
  }else{
    return false;
  }
  
}else{
  return false;
}
},"storeLength":"pageview"},
    "CAC_Cart_Items_Ids": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='optimize_order_review.jsp'&&obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  value = obj.CAC.OrderReview;
}
else if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) {


      if(text=="")
      {
        text = value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic+",";
      }
      else
      {
        text += ";"+value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic+",";
      }
    }
  }
}

return text;


},"storeLength":"pageview"},
    "CAC_Cart_Items_Ids_MT": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='optimize_order_review.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  value = obj.CAC.OrderReview;
}
else if (filename=='confirmorder_sdd.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
else if (filename=='cart.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemSubGroups !== undefined) {
  value = obj.CAC.Cart;
}

if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) {


      if(text=="")
      {
        text = value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic;
      }
      else
      {
        text += ":"+value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic;
      }
    }
  }
}

return text;

},"storeLength":"pageview"},
    "CAC_Cart_Items_Prices": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='confirmorder_sdd.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
else if (filename=='cart.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemSubGroups !== undefined) {
  value = obj.CAC.Cart;
}

if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) {

			var rawtotalprice=(!value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice?"0.00":value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice);
      if(text=="")
      {
        text = (value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice!=null?value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice:rawtotalprice);
      }
      else
      {
        text += ":"+(value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice!=null?value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice:rawtotalprice);
      }
    }
  }
}

return text;
},"storeLength":"pageview"},
    "CAC_Cart_Order_subtotal": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.priceInfo !== undefined)
   return obj.CAC.OrderConfirmation.priceInfo.itemSubTotal;
else
   if (obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.priceInfo !== undefined)
   return obj.CAC.Cart.priceInfo.itemSubTotal;
else
  return "";

},"storeLength":"pageview"},
    "CAC_Cart_Page_Product_Ids": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value = "";
if(obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined&& obj.CAC.Cart.itemsGroups !== undefined){
  value = obj.CAC.Cart;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemsGroups.length; i++) {
    for (j = 0; j < value.itemsGroups[i].items.length; j++) {
      if(text=="")
      {
        text = value.itemsGroups[i].items[j].productInfo.extendedInfo.wic+",";
      }
      else
      {
        text += ";"+value.itemsGroups[i].items[j].productInfo.extendedInfo.wic+",";
      }
    }
  }
}
return text;
},"storeLength":"pageview"},
    "CAC_Cart_ProductName": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='cart.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemsGroups !== undefined) {
  value = obj.CAC.Cart.itemsGroups;
}else if (filename=='confirmorder_sdd.jsp' && obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation.itemSubGroups;
}

if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.length; i++) {

    for (j = 0; j < value[i].items.length; j++) {


      if(text=="")
      {
        text = value[i].items[j].productInfo.baseInfo.displayName;
      }
      else
      {
        text += ":"+value[i].items[j].productInfo.baseInfo.displayName;
      }
    }
  }
}
return text;

},"storeLength":"pageview"},
    "CAC_Cart_VisaCheckout_error": {"jsVariable":"window.visaCheckoutError","storeLength":"pageview"},
    "CAC_CJ_ITEMS": {"customJS":function(){
var text = "";
var discount=0;
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='optimize_order_review.jsp'&&obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  value = obj.CAC.OrderReview;

}
else if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  var k = 1;
  var l = 0
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) { console.log(value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice,value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice)
      var rawTotalSalePrice=parseFloat((!value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice?"0.00":value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice).replace(/,/g, ''));
      var rawTotalRegPrice=parseFloat((!value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice?"0.00":value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice).replace(/,/g, '')); 
      var prdsalesprice=(rawTotalSalePrice/value.itemSubGroups[i].items[j].qty);
      text += '&ITEM' + k + '=' + value.itemSubGroups[i].items[j].productInfo.baseInfo.skuId;
      text += '&AMT' + k + '=' + (rawTotalRegPrice>0?(rawTotalRegPrice/value.itemSubGroups[i].items[j].qty):(!prdsalesprice?"0.00":prdsalesprice));
      text += '&QTY' + k + '=' + value.itemSubGroups[i].items[j].qty;
      ++k;
    }
  }var coupons='';
  if(value.promotionInfo !== undefined && value.promotionInfo.applied !== undefined)
  {
  for (l = 0; l < value.promotionInfo.applied.length; l++) { if(l>0&&coupons!='')coupons+=',';
      if(value.promotionInfo.applied.length>1)
      {
        coupons += value.promotionInfo.applied[l].code;
      }
      else
      {
        coupons += ',' +value.promotionInfo.applied[l].code;
      }
    }
  }
} if(coupons){text+="&COUPON="+coupons;}
if(wagUtil.getCookie('cjevent2')){
text+='&CJEVENT='+wagUtil.getCookie('cjevent2');
}

if(value.priceInfo!=undefined && value.priceInfo.savingsInfo !=undefined && value.priceInfo.savingsInfo.promoSavings){text+="&DISCOUNT="+value.priceInfo.savingsInfo.promoSavings;}
return text;
},"storeLength":"pageview"},
    "CAC_CJ_Third_Party": {"customJS":function(){
var orderData = window.dtmObject && window.dtmObject.CAC && window.dtmObject.CAC.OrderConfirmation;
if(!orderData) {
	return false;
}
var prodListArr = [];
for(i=0;i<orderData.itemSubGroups.length;i++) {
  var itemsArr = orderData.itemSubGroups[i] && orderData.itemSubGroups[i].items;
  for(j=0;j<itemsArr.length; j++) {
    if(itemsArr[j]) {
      var prodObj = { 
        "item": itemsArr[j].productInfo && itemsArr[j].productInfo.baseInfo && itemsArr[j].productInfo.baseInfo.skuId,
        "amount": itemsArr[j].priceInfo && itemsArr[j].priceInfo.regularPriceMsg,
        "quantity": itemsArr[j].qty,
        "discount": itemsArr[j].priceInfo && itemsArr[j].priceInfo.rawTotalBogoMsg || ""
      }
      prodListArr.push(prodObj);
    }
  }
}
window.MasterTmsUdo = {
  "cj_cid":1510914,
  "cj_type": (window.isDesktop)?"324099":"350765",
  "promo_id": 100,
  "transaction_id": orderData.orderId,
  "currency" : "USD",
  "order_total": orderData.priceInfo && orderData.priceInfo.orderTotal,
  "order_discount": orderData.priceInfo && orderData.priceInfo.savingsInfo && orderData.priceInfo.savingsInfo.totalSavings || '',
  "order_subtotal": orderData.priceInfo && orderData.priceInfo.itemSubTotal,
  "productlist": prodListArr
};

(function(e){var t="0",n=document,r,i,s={http:"http://cdn.mplxtms.com/s/MasterTMS.min.js",https:"https://secure-cdn.mplxtms.com/s/MasterTMS.min.js"},o=s[/\w+/.exec(window.location.protocol)[0]];i=n.createElement("script"),i.type="text/javascript",i.async=!0,i.src=o+"#"+t,r=n.getElementsByTagName("script")[0],r.parentNode.insertBefore(i,r),i.readyState?i.onreadystatechange=function(){if(i.readyState==="loaded"||i.readyState==="complete")i.onreadystatechange=null}:i.onload=function(){try{e()}catch(t){}}})(function(){});
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_CurrencyCode": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.orderId !== undefined)
return obj.CAC.OrderConfirmation.currencyCode;
else
  return "";
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_Purchase_Id": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined &&obj.CAC.OrderConfirmation!=null && obj.CAC.OrderConfirmation.orderId !== undefined)
return obj.CAC.OrderConfirmation.orderId;
else
  return false;
  
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_TotalPrice": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.priceInfo !== undefined)
  return (obj.CAC.OrderConfirmation.priceInfo.orderTotal||obj.CAC.OrderConfirmation.priceInfo.estimatedTotal);
else
   return "";
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_VisaCheckout_ApiKey": {"customJS":function(){
var obj = window.dtmObject;
console.log(obj);
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.orderId !== undefined && obj.CAC.OrderConfirmation.vcInfo !== undefined)
  return obj.CAC.OrderConfirmation.vcInfo.apiKey;
else
  return "";
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_VisaCheckout_CallId": {"customJS":function(){
var obj = window.dtmObject;
console.log(obj);
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.orderId !== undefined && obj.CAC.OrderConfirmation.vcInfo !== undefined)
  return obj.CAC.OrderConfirmation.vcInfo.callId;
else
  return "";
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_VisaCheckout_Discount": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.orderId !== undefined && obj.CAC.OrderConfirmation.promotionInfo !== undefined && obj.CAC.OrderConfirmation.promotionInfo.applied !== undefined)
{
	var j = 0;
	var value = obj.CAC.OrderConfirmation.promotionInfo.applied; 
	for (j = 0; j < value.length; j++) {
		if(value[j].type == "visacheckout"){
			return value[j].savings;
	  }
  } 
  return false;
}
else
{
  return false;
} 
},"storeLength":"pageview"},
    "CAC_Confirmation_Order_VisaCheckout_Promocode": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.orderId !== undefined && obj.CAC.OrderConfirmation.promotionInfo !== undefined && obj.CAC.OrderConfirmation.promotionInfo.applied !== undefined)
{
	var j = 0;
	var value = obj.CAC.OrderConfirmation.promotionInfo.applied; 
	for (j = 0; j < value.length; j++) {
		if(value[j].type == "visacheckout"){
      return value[j].code;
	  }
  } 
  return false;
}
else
{
  return false;
} 
},"storeLength":"pageview"},
    "CAC_Confirmation_ProductId": {"customJS":function(){
var value="";
var productIdList =[];
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);
var obj = window.dtmObject;

var reviewOrderData = window.sessionStorage.getItem('reviewOrderData');
if(window.dtmObject){
  if(window.dtmObject.CAC == undefined)
    window.dtmObject.CAC = {};
  if(window.dtmObject.CAC.OrderConfirmation == undefined)
    window.dtmObject.CAC.OrderConfirmation = {}; var parseObj=JSON.parse(reviewOrderData);
  window.dtmObject.CAC.OrderConfirmation = (!parseObj)?window.dtmObject.CAC.OrderConfirmation:parseObj;
}
console.log("objjjj",obj);
if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation.itemSubGroups;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;  
  for (i = 0; i < value.length; i++) {
    for (j = 0; j < value[i].items.length; j++) {
	productIdList.push(value[i].items[j].productInfo.baseInfo.productId);
    }
  }
}
return productIdList;
},"storeLength":"pageview"},
    "CAC_Confirmation_SKU_Ids": {"customJS":function(){
var value="";
var productSkuList =[];
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);
var obj = window.dtmObject;

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation.itemSubGroups;
}
else if (filename=='cart.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemsGroups !== undefined) {
  value = obj.CAC.Cart.itemsGroups;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;  
  for (i = 0; i < value.length; i++) {
    for (j = 0; j < value[i].items.length; j++) {
	productSkuList.push(value[i].items[j].productInfo.baseInfo.skuId);
    }
  }
}

return productSkuList;
},"storeLength":"pageview"},
    "CAC_csperror_errormsg": {"jsVariable":"window.cspErrorMsg","storeLength":"pageview"},
    "CAC_DE_BRBanner_notshown": {"selector":"div#loyaltyBanner","property":"id","storeLength":"pageview"},
    "CAC_EPP_Express_Card_track": {"customJS":function(){
return (window.eppInfo && window.eppInfo.paymentMethodMsg) || "";
},"storeLength":"pageview"},
    "CAC_EPP_Payment_Type": {"customJS":function(){
if(window.eppInfo && window.eppInfo.paymentType == 'expresspay') {
	return "Express Pay";
} else if(window.eppInfo &&  window.eppInfo.paymentType == 'creditcard') {
	return "Tokenised Credit Card";
}
},"storeLength":"pageview"},
    "CAC_EPP_Voltage_Error": {"customJS":function(){
var errMsg = window.eppInfo && window.eppInfo.paymentMethodError;
var devInfo = window.osDeviceInfo;
if(errMsg){
	errMsg = errMsg.search("Voltage") !== -1 ? errMsg + (devInfo ? " | "+devInfo : ""):errMsg;
	return errMsg;
}
return errMsg || "";
},"storeLength":"pageview"},
    "CAC_Google_Tracking_Js": {"customJS":function(){
console.info('fn Google Tracking Remarketing');
		var url = window.location.href;
		var filename = url.substring(url.lastIndexOf('/')+1);

		if(filename.lastIndexOf('?')!=-1)
		  filename= filename.substring(0,filename.lastIndexOf('?')); 
  
 var noSrpt = document.createElement('noscript');
 var imgtag = document.createElement('img');
 
 imgtag.style="display:none;border-style:none;";
 imgtag.width = "1";
 imgtag.height = "1";
 imgtag.alt = "";
 
 var google_tag_params = '';
 
 	if(filename=='cart.jsp'){
		google_tag_params = ("data.ecomm_prodid=" + _satellite.getVar("CAC_Confirmation_SKU_Ids").toString() + "&data.ecomm_pagetype=cart&data.ecomm_totalvalue=" + _satellite.getVar("CAC_Cart_Order_subtotal"));
	}else if(filename=='optimize_order_review.jsp'){
		google_tag_params = ("data.ecomm_prodid=&data.ecomm_pagetype=order review&data.ecomm_totalvalue=");
	}else if(filename=='confirmorder_sdd.jsp'){
		google_tag_params = ("data.ecomm_prodid=" + _satellite.getVar("CAC_Confirmation_SKU_Ids").toString() + "&data.ecomm_pagetype=purchase&data.ecomm_totalvalue=" + _satellite.getVar("CAC_Cart_Order_subtotal"));
	}
	imgtag.src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1053606420/?value=0&guid=ON&script=0&"+google_tag_params;
	noSrpt.appendChild(imgtag);
	document.body.appendChild(noSrpt);
	
	return true;
},"storeLength":"pageview"},
    "CAC_newcheckoutbutton": {"customJS":function(){
var pageURL = window.location.href;
var currentWidgetName = pageURL.split("#/")[1];
var buttonActionTrackingStr = "continue| shipping address | shipping details page";
if(currentWidgetName == "county_info"){
  buttonActionTrackingStr = "continue | county | shipping details page";
}
else if(currentWidgetName == "shipping_info" && document.getElementById('wag-cko-sa-id-save')!=null && document.getElementById('wag-cko-sa-id-save').hidden==false){
  buttonActionTrackingStr = "save changes | address book | shipping details page";
}else if(currentWidgetName == "payment_info"){
 buttonActionTrackingStr = "continue | payment options | payment method page";
}
return buttonActionTrackingStr;
},"storeLength":"pageview"},
    "CAC_newcheckout_form_error": {"jsVariable":"window.formError","storeLength":"pageview"},
    "CAC_newcheckoutpaymentmethod": {"jsVariable":"window.currentPaymentMethod","storeLength":"pageview"},
    "CAC_newcheckout_paymenttype_cancel": {"customJS":function(){
var elements = document.getElementsByName('paymentMethodType');
for (var i=0, len=elements.length; i<len; ++i){
  if (elements[i].checked){ 
    return "Cancel |"+elements[i].value+" | payment details page";
 	}
}
},"storeLength":"pageview"},
    "CAC_newcheckout_paymenttype_continue": {"customJS":function(){
var elements = document.getElementsByName('paymentMethodType');
for (var i=0, len=elements.length; i<len; ++i){
  if (elements[i].checked){
    return "continue |"+elements[i].value+" | payment details page";
 	}
}
},"storeLength":"pageview"},
    "CAC_newcheckout_points_earn": {"jsVariable":"window.dtmObject.CAC.OrderConfirmation.priceInfo.earnPointsInfo.brEarnPoints","storeLength":"pageview"},
    "CAC_newcheckout_points_redeem": {"jsVariable":"window.dtmObject.CAC.OrderConfirmation.priceInfo.brAppliedPoints","storeLength":"pageview"},
    "CAC_newcheckoutshipmethod": {"jsVariable":"window.currentShipMethod","storeLength":"pageview"},
    "CAC_OrderConfirmation_Delivery": {"customJS":function(){
var obj = window.dtmObject;
var eVar20 = "";
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined) {
    var order = obj.CAC.OrderConfirmation;
    if (order.shippingMethodInfo !== undefined && order.shippingMethodInfo.shippingMethodInfos !== undefined) {
            eVar20 = order.shippingMethodInfo.shippingMethodInfos[0].shippingMethodInfoDetails[0].shipMethod;
    }
    if (order.displayOptions !== undefined && order.displayOptions.arEligibleItemCount !== undefined && order.displayOptions.arEligibleItemCount > 0) {
        if (eVar20 !== "") {
            eVar20 += " ; " + "AutoReorder";
        } else {
            eVar20 = "AutoReorder";
        }
    }
		if (order.shippingInfo !== undefined && order.shippingInfo.shippingInfos !== undefined && order.shippingInfo.shippingInfos[0].selectedShipOption === 'STS') {
			eVar20 = 'Ship to store';
    }
}
return eVar20;
},"storeLength":"pageview"},
    "CAC_OrderConfirmation_Payment_Type": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.paymentInfos !== undefined && obj.CAC.OrderConfirmation.paymentInfos.type !== undefined) {
    return obj.CAC.OrderConfirmation.paymentInfos.type;
}else {
return false;
}
},"storeLength":"pageview"},
    "CAC_OrderConfirmation_Products": {"customJS":function(){
var itemArray = new Array();
var obj = window.dtmObject;
var orderData="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  orderData = obj.CAC.OrderConfirmation;
  if(orderData!=null && orderData!="")
	{
	  var i = 0;
	  var j = 0;
	  for (i = 0; i < orderData.itemSubGroups.length; i++) {
		for (j = 0; j < orderData.itemSubGroups[i].items.length; j++) {
			var itemObj = new Object();
			itemObj.purchaseId = orderData.orderId;	
			itemObj.productId = orderData.itemSubGroups[i].items[j].productInfo.baseInfo.productId;
			itemObj.quantity = orderData.itemSubGroups[i].items[j].qty;console.log(orderData.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice,"shshsh")
     	var price= (orderData.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice)?orderData.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice:orderData.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice;
			 /** bogo items set price to 0.00 if NAN **/ var finalPrice=(price/orderData.itemSubGroups[i].items[j].qty).toFixed(2).toString();
      itemObj.unitPrice =(isNaN(finalPrice)?"0.00":finalPrice);
			itemObj.currency = orderData.currencyCode;
			itemArray.push(itemObj);
		}
	  }
	}
}

if (filename=='cart.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.Cart !== undefined && obj.CAC.Cart.itemsGroups !== undefined) {
  orderData = obj.CAC.Cart;
   if(orderData!=null && orderData!="")
	{
	  var i = 0;
	  var j = 0;
	  for (i = 0; i < orderData.itemsGroups.length; i++) {
		for (j = 0; j < orderData.itemsGroups[i].items.length; j++) {
			var itemObj = new Object();
			itemObj.productId = orderData.itemsGroups[i].items[j].productInfo.baseInfo.productId;
			itemObj.quantity = orderData.itemsGroups[i].items[j].qty;
		var Netprice= (orderData.itemsGroups[i].items[j].priceInfo.rawTotalSalePrice)?orderData.itemsGroups[i].items[j].priceInfo.rawTotalSalePrice:orderData.itemsGroups[i].items[j].priceInfo.rawTotalRegularPrice;
     /** bogo items set price to 0.00 if NAN **/ var finalPrice=(Netprice/orderData.itemsGroups[i].items[j].qty).toFixed(2).toString();
      itemObj.unitPrice =(isNaN(finalPrice)?"0.00":finalPrice);
			itemObj.currency = orderData.currencyCode;
			itemArray.push(itemObj);
		}
	  }
	}
}
return itemArray;
},"storeLength":"pageview"},
    "CAC_OrderConfirmation_Profile_YearOfBirth_Var12": {"customJS":function(){
var obj = window.CAC;
if(obj !== undefined && obj.OmnDateOfYear !== undefined){ 
	return obj.OmnDateOfYear;
}
},"storeLength":"pageview"},
    "CAC_OrderConfirmation_State": {"customJS":function(){

//alert("ZipCode:"+window.OmnOrder.shippingInfo.shippingInfos[0].address.zipCode);
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.shippingInfo!==undefined && obj.CAC.OrderConfirmation.shippingInfo.shippingInfos[0] !== undefined) {

    var value = obj.CAC.OrderConfirmation;

    return value.shippingInfo.shippingInfos[0].address.state;
} 
else
    return "";
},"storeLength":"pageview"},
    "CAC_OrderConfirmation_Zipcode": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.shippingInfo!==undefined && obj.CAC.OrderConfirmation.shippingInfo.shippingInfos[0] !== undefined) 
{
        var value = obj.CAC.OrderConfirmation;
        return value.shippingInfo.shippingInfos[0].address.zipCode;
} 
else
    return "";

},"storeLength":"pageview"},
    "CAC_OrderReview_BRId": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.profile !== undefined && obj.CAC.OrderReview.profile.brId !== undefined) {
    return obj.CAC.OrderReview.profile.brId;
}
},"storeLength":"pageview"},
    "CAC_OrderReview_PaymentInfo": {"customJS":function(){
var obj = window.dtmObject;
if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.paymentInfos !== undefined && obj.CAC.OrderReview.paymentInfos.creditCardInfo !== undefined) {
    return "Credit Card * | Optimized Checkout";
}else  if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.paymentInfos !== undefined && obj.CAC.OrderReview.paymentInfos.paypalInfo !== undefined) {
    return "Paypal Express | Store Order";
}

if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.paymentInfos !== undefined && obj.CAC.OrderConfirmation.paymentInfos.creditCardInfo !== undefined) {
    return "Credit Card * | Optimized Checkout";
}else  if (obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.paymentInfos !== undefined && obj.CAC.OrderConfirmation.paymentInfos.paypalInfo !== undefined) {
    return "Paypal Express | Store Order";
}
return "";


},"storeLength":"pageview"},
    "CAC_OrderReview_Products": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='optimize_order_review.jsp'&&obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  value = obj.CAC.OrderReview;

}
else if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) {

      if(text=="")
      {
        text = value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic+";"+value.itemSubGroups[i].items[j].qty+";"+(value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice!=null?value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice:value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice)+";,";
      }
      else
      {
        text += ";"+value.itemSubGroups[i].items[j].productInfo.extendedInfo.wic+";"+value.itemSubGroups[i].items[j].qty+";"+(value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice!=null?value.itemSubGroups[i].items[j].priceInfo.rawTotalRegularPrice:value.itemSubGroups[i].items[j].priceInfo.rawTotalSalePrice)+";,";
      }


    
    }
  }
}

return text;

/* if (i == (value.itemSubGroups[i].items.length-1)&&j == (value.itemSubGroups[j].items.length-1)) {
                      text += value.itemSubGroups[i].items[j].productInfo.baseInfo.productId;
                  } else
                      text += value.itemSubGroups[i].items[j].productInfo.baseInfo.productId +",";
*/
},"storeLength":"pageview"},
    "CAC_OwnerIQ_Third_Party": {"customJS":function(){
var orderData = window.dtmObject && window.dtmObject.CAC && window.dtmObject.CAC.OrderConfirmation;

if(!orderData) {
  return false;
}
var _oiq_lifecycle = 'gk6c'; window._oiqq = window._oiqq || [];
_oiqq.push(['oiq_addPageLifecycle', _oiq_lifecycle]);
var ccType= orderData && orderData.paymentInfos && orderData.paymentInfos && orderData.paymentInfos.creditCardInfo && orderData.paymentInfos.creditCardInfo.creditCardType || "";
_oiqq.push(["oiq_addCustomKVP",["cc_type",ccType]]);
var orderId= orderData && orderData.orderId;
_oiqq.push(["oiq_addCustomKVP",["order_id", orderId]]);
var itemSubTotal = orderData.priceInfo && orderData.priceInfo.itemSubTotal;
_oiqq.push(["oiq_addCustomKVP",["total_cost_notax", itemSubTotal]]);
var totalWithTax = orderData && orderData.priceInfo && orderData.priceInfo.itemSubTotal;
if(orderData && orderData.priceInfo && orderData.priceInfo.itemSubTotal && orderData.priceInfo.tax) {
	totalWithTax = Number(orderData.priceInfo.itemSubTotal) + Number(orderData.priceInfo.tax);
}
_oiqq.push(["oiq_addCustomKVP",["total_cost_tax", totalWithTax]]);
var itemIndex = 1, totalQuantity = 0;
for(var i=0;i<orderData.itemSubGroups.length;i++) {
  var itemsArr = orderData.itemSubGroups[i].items;
  for(var j=0;j<itemsArr.length; j++) {
    _oiqq.push(["oiq_addCustomKVP",["quantity_"+itemIndex, itemsArr[j].qty]]);
    totalQuantity = totalQuantity + itemsArr[j].qty;
    if(itemsArr[j] && itemsArr[j].productInfo && itemsArr[j].productInfo.baseInfo) {
        _oiqq.push(["oiq_addCustomKVP",["google_product_category_"+itemIndex, itemsArr[j].productInfo && itemsArr[j].productInfo.baseInfo && itemsArr[j].productInfo.baseInfo.categoryId && (itemsArr[j].productInfo.baseInfo.categoryId+'')]]);
        _oiqq.push(["oiq_addCustomKVP",["id_"+itemIndex, itemsArr[j].productInfo.baseInfo.productId]]);
        _oiqq.push(["oiq_addCustomKVP",["product_type_"+itemIndex, itemsArr[j].productInfo.baseInfo.type]]);
        _oiqq.push(["oiq_addCustomKVP",["title_"+itemIndex, itemsArr[j].productInfo.baseInfo.displayName]]);
    }
    _oiqq.push(["oiq_addCustomKVP",["brand_"+itemIndex, itemsArr[j] && itemsArr[j].productInfo && itemsArr[j].productInfo.extendedInfo && itemsArr[j].productInfo.extendedInfo.brandName]]);
    _oiqq.push(["oiq_addCustomKVP",["price_"+itemIndex, itemsArr[j] && itemsArr[j].priceInfo && ((itemsArr[j].priceInfo.rawTotalSalePrice)?(itemsArr[j].priceInfo.rawTotalSalePrice/itemsArr[j].qty):(itemsArr[j].priceInfo.rawTotalRegularPrice/itemsArr[j].qty)).toFixed(2)]]);
  	itemIndex = itemIndex+1;
  }
}
_oiqq.push(["oiq_addCustomKVP",["total_quantity", totalQuantity]]);
_oiqq.push(['oiq_doTag']);
(function() {
var oiq = document.createElement('script'); oiq.type = 'text/javascript'; oiq.async = true;
oiq.src = 'https://px.owneriq.net/stas/s/76930u.js';
var oiq_doctitle = 'Default Conversion - do not edit';
if (typeof document != 'undefined' && document){ if(document.title!=null && document.title!='')
{oiq_doctitle = document.title; }
}
var oiq_conv = document.createElement('script'); oiq_conv.type = 'text/javascript'; oiq_conv.async = true;
oiq_conv.src = 'https://px.owneriq.net/j?pt=76930u&s='+_oiq_lifecycle+'&sConvTitle='+oiq_doctitle+'&cnv=true';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(oiq, s);
s.parentNode.insertBefore(oiq_conv, s);
})();
},"storeLength":"pageview"},
    "CAC_Payment_Method_Error": {"customJS":function(){
var errMsg = window.paymentMethodError;
var devInfo = window.deviceInfo;
if(errMsg){
	errMsg = errMsg.search("Voltage") !== -1 ? errMsg + (devInfo ? " | "+devInfo : ""):errMsg;
	return errMsg;
}
return errMsg;
},"storeLength":"pageview"},
    "CAC_Payment_VisaCheckout_error": {"jsVariable":"window.visaCheckoutError","storeLength":"pageview"},
    "CAC_Products_Count": {"customJS":function(){
var text = 0;
var obj = window.dtmObject;
var value="";
var url = window.location.href;
var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
  filename= filename.substring(0,filename.lastIndexOf('?'));

if (filename=='optimize_order_review.jsp'&&obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderReview !== undefined && obj.CAC.OrderReview.itemSubGroups !== undefined) {
  value = obj.CAC.OrderReview;
}
else if (filename=='confirmorder_sdd.jsp'&& obj !== undefined && obj.CAC !== undefined && obj.CAC.OrderConfirmation !== undefined && obj.CAC.OrderConfirmation.itemSubGroups !== undefined) {
  value = obj.CAC.OrderConfirmation;
}
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {

    for (j = 0; j < value.itemSubGroups[i].items.length; j++) {


      ++text;
    }
  }
}

return text;


},"storeLength":"pageview"},
    "cacpscontine": {"jsVariable":"window.omnipscontinue","storeLength":"pageview"},
    "CAC_Shipping_Address_Error": {"jsVariable":"window.shippingAddressError","storeLength":"pageview"},
    "CAC_Shipping_Details_Errors": {"customJS":function(){
if($!=undefined && $("section.alert > span.ng-binding").text().length>0)
return  $("section.alert > span.ng-binding").text()+" | shipping address | shipping details page";  
else
return false;
},"storeLength":"pageview"},
    "CA_Homepage": {"customJS":function(){
if(window.location.pathname=='/default.jsp' || window.location.pathname=='/') 
  return 'true';
else
	return "false";
},"default":"false","storeLength":"pageview"},
    "card_position": {"jsVariable":"window.card_position","storeLength":"pageview"},
    "Cart_Dom_Product_Id": {"customJS":function(){
if(window.dtmObject===undefined)
  window.dtmObject={};
if(window.dtmObject.CAC===undefined)
  window.dtmObject.CAC={};
if(window.dtmObject.CAC.Common===undefined)
  window.dtmObject.CAC.Common={};
window.dtmObject.CAC.Common.Text="";

var a = document.getElementsByClassName('wag-cart-pronam-link');

for (var idx= 0; idx < a.length; ++idx){
var url=a[idx].href;
var productname = url.substring(url.lastIndexOf('=prod')+1);

    if(productname.indexOf('-')!==-1) {
      productname= url.substring(url.lastIndexOf('=prod')+1).substring(0,url.substring(url.lastIndexOf('=prod')+1).indexOf('-'));
    } else if(productname.indexOf('&')!==-1) {
      productname= url.substring(url.lastIndexOf('=prod')+1).substring(0,url.substring(url.lastIndexOf('=prod')+1).indexOf('&'));
    }
    
    if(window.dtmObject.CAC.Common.Text=="")
    {
      window.dtmObject.CAC.Common.Text = productname.substring(4)+",";
    }
    else
    {
      window.dtmObject.CAC.Common.Text += ";"+productname.substring(4)+",";
    }
}

return window.dtmObject.CAC.Common.Text;
},"storeLength":"pageview"},
    "Cart_Loyalty": {"jsVariable":"window.omniLoyaltyBanner","storeLength":"pageview"},
    "Cart_Order_Type": {"customJS":function(){
var text = "";
var obj = window.dtmObject;
var value="";
var isCL=false;
var isSS=false;
value = obj.CAC.OrderConfirmation;
if(value!=null && value!="")
{
  var i = 0;
  var j = 0;
  for (i = 0; i < value.itemSubGroups.length; i++) {
    if(value.itemSubGroups[i].displayName==="CL")
      {
        isCL = true;
      }
      else
      {
        isSS = true;
      }
      
  }
}

if(isSS===true)
{
  text = "SS";
}
if(isCL===true)
{
  text += "CL";
}

return text;


},"storeLength":"pageview"},
    "Cart_Upsell_Message": {"customJS":function(){
var upsellMsg = '';
if($('.wag-cac-stsingmsg').length>0){
upsellMsg = $('.wag-cac-stsingmsg').text() +'| UpsellMessage | Cart' ;
}
return upsellMsg;
},"storeLength":"pageview"},
    "compareProductsNewDesign": {"customJS":function(){
if(window.compareProducts_omnitureValue) {
return window.compareProducts_omnitureValue
}
return ""
},"storeLength":"pageview"},
    "confirmationbanner_data": {"jsVariable":"window.confirmationbanner_data_prop31","storeLength":"pageview"},
    "CS-Balance-Rewards-Link": {"customJS":function(){
var balance_rewards_link = document.getElementById('wag-balance-rewards-link').href + " | " + document.title;
return balance_rewards_link;
},"storeLength":"pageview"},
    "CS_BeautyClub_DotCom_AlreadyMember_Anonymous_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.AlreadyMemberAnonymous","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_AlreadyMember_LoggedIn_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.AlreadyMemberLoggedIn","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_Anonymous_User_prob37": {"jsVariable":"window.dtmObject.dotComBeautyClub.AnonymousUser","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_BrLinking_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.BrLinking","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_BrMissing_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.BrMissing","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_LoggedIn_BR_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.LoggedInBr","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_NoMatch_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.NoMatch","storeLength":"pageview"},
    "CS_BeautyClub_DotCom_Question_Number_prop37": {"jsVariable":"window.dtmObject.dotComBeautyClub.quesNumber","storeLength":"pageview"},
    "CS_BeautyClub_everydayPoints_Opted_prop37": {"jsVariable":"window.dtmObject.BeautyClub.everydayPoints","storeLength":"pageview"},
    "CS_BeautyClub_everydayPointsWithBeauty_Opted_prop37": {"jsVariable":"window.dtmObject.BeautyClub.everydayPointsWithBeauty","storeLength":"pageview"},
    "CS_BeautyClub_Match_Value_prop37": {"jsVariable":"window.dtmObject.BeautyClub.matchVal","storeLength":"pageview"},
    "CS_BeautyClub_MultipleMatch_Selected_prop37": {"jsVariable":"window.dtmObject.BeautyClub.selectedMatch","storeLength":"pageview"},
    "CS_BeautyClub_Question_Number_prop37": {"jsVariable":"window.dtmObject.BeautyClub.quesNumber","storeLength":"pageview"},
    "CS-Consent-AcceptedDeclined-Prop30": {"customJS":function(){
if(window.dtmObject !== undefined) {
   if(window.dtmObject.CS !== undefined) {
       if(window.dtmObject.CS.consentStatus !== undefined) {
           if(window.dtmObject.CS.consentStatus === "A") {
              return "Accepted";
           }
           if(window.dtmObject.CS.consentStatus === "D") {
              return "Declined";
           }
       }
   }  
}
},"storeLength":"pageview"},
    "CS-ConsentConfirmation-PageLoad-Prop30": {"customJS":function(){
var consentFlow = sessionStorage.consentFlow;
var vanityFlow = sessionStorage.vanityFlow;
var expiredFlow;
if($($("p.mb20")[0]).length) {
   expiredFlow =  $($("p.mb20")[0]).html().indexOf('expired');
}
if((consentFlow !== undefined && consentFlow === "true") || (vanityFlow !== undefined && vanityFlow === 
"true") || (expiredFlow !== undefined && expiredFlow > -1)) {
	 return "confirmation | " + document.title;
   sessionStorage.removeItem("consentFlow");
   sessionStorage.removeItem("vanityFlow");
}

},"storeLength":"pageview"},
    "CS-ConsentPage-YesClick-Prop30": {"customJS":function(){
var consentStatus = window.dtmObject.CS.consentStatus;
if(consentStatus !== undefined) {
  if(consentStatus === 'N') {
  	  return "Yes, Allow Calls and Texts";
  }
  if(consentStatus === 'D') {
  	  return "Yes, Allow Calls and Texts|Error or Alert State Page";
  }
}
},"storeLength":"pageview"},
    "CS_Header_Profile_LoggedIn": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC.HeaderProfile !== undefined&& valobject.CAC.HeaderProfile.profileInfo!==undefined) 
    return valobject.CAC.HeaderProfile.profileInfo.loggedIn;
else
  return false;
},"storeLength":"pageview"},
    "CS_Header_Profile_Not_LoggedIn": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC.HeaderProfile !== undefined && valobject.CAC.HeaderProfile.profileInfo!==undefined && valobject.CAC.HeaderProfile.profileInfo.loggedIn=="true")
{
  return "false";
}
else
  return "true";
},"storeLength":"pageview"},
    "CS_Header_Profile_Role": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC !== undefined && valobject.CAC.HeaderProfile !== undefined && valobject.CAC.HeaderProfile.profileInfo !== undefined) {

  var count = valobject.CAC.HeaderProfile.profileInfo.numberOfSiteVisits;
  var value = valobject.CAC.HeaderProfile.profileInd;

  if (valobject.CAC.HeaderProfile.profileInfo.loggedIn=="true")
  {

    if (value.isRxAuthenticatedUser)
      return (parseInt(count)==1)?"new rx reg authenticated":"rx reg authenticated";  
    else if (value.isRxUser)
      return (parseInt(count)==1)?"new rx reg not authenticated":"rx reg not authenticated";
    else 
      return (parseInt(count)==1)?"new light reg":"light reg";
  }
  return "";
}
else if(window.header!==undefined)
{


  valobject = window.header;

  if (valobject !== undefined  &&  valobject.profileInfo !== undefined) {

    var count = valobject.profileInfo.numberOfSiteVisits;
    var value = valobject.profileInd;

    if (valobject.profileInfo.loggedIn=="true")
    {

      if (value.isRxAuthenticatedUser)
        return (parseInt(count)==1)?"new rx reg authenticated":"rx reg authenticated";  
      else if (value.isRxUser)
        return (parseInt(count)==1)?"new rx reg not authenticated":"rx reg not authenticated";
      else 
        return (parseInt(count)==1)?"new light reg":"light reg";
    }
    return "";
  } else
  {


    return "";
  }
}
else
{


  return "";
}

/*var valobject = window.dtmObjectGlobal;
if(valobject===undefined)
  valobject = window.dtmObject;

if (valobject !== undefined && valobject.CAC.HeaderProfile !== undefined) {
    var value = valobject.CAC.HeaderProfile.profileInd;
   if (value.isRxUser)
        return "RxUser";  
    else if (value.isAARPUser)
        return "AARPUser";
    else if (value.isMedhelpUser)
        return "MedhelpUser";
    else if (value.isStepsUser)
        return "StepsUser";
    else if (value.isPhotoUser)
        return "PhotoUser";
    else if (value.isRxAuthenticatedUser)
        return "RxAuthenticatedUser";
    else if (value.isLoyaltyUser)
        return "LoyaltyUser";

} else
    return "";*/
},"storeLength":"pageview"},
    "CS-Health-Dashboard-Link": {"customJS":function(){
var dashboard_link = document.getElementById('wag-health-dashboard-link').href + " | " + document.title;
return dashboard_link;
},"storeLength":"pageview"},
    "CS_Login_OPV_Match_Prop30": {"jsVariable":"window.dtmObject.CS.LoginOPVMatch","storeLength":"pageview"},
    "CS_Loyality_evar65": {"customJS":function(){
var loyalid = window.dtmObject;

if (loyalid !== undefined && loyalid.CS !== undefined && loyalid.CS.LOYALNUM !== undefined && loyalid.CS.LOYALNUM.loyaltyCardNumber !== undefined) 
{
    
  var loyalidvalue = loyalid.CS.LOYALNUM;
  if(loyalidvalue.loyaltyCardNumber !== "") {
    
  return loyalidvalue.loyaltyCardNumber;
  }
  else
  {
  return "";
  }
}else{
return "";
}

},"storeLength":"pageview"},
    "CS-Manage-Prescriptions-Link": {"customJS":function(){
var manage_link = document.getElementById('wag-manage-prescriptions-link').href + " | " + document.title;
return manage_link;
},"storeLength":"pageview"},
    "CS_NewLogin_ErrorMessage_Prop33": {"jsVariable":"window.dtmObject.CS.NewLoginErrorMsg","storeLength":"pageview"},
    "CS-Refill-Prescriptions-Link": {"customJS":function(){
var refill_link=document.getElementById('wag-refill-prescriptions-link').href + " | " + document.title;
return refill_link;
},"storeLength":"pageview"},
    "CS-RegPharmacy-AddressView-prop30": {"customJS":function(){
if (window.location.href.indexOf("#/addressView") > -1) {
		return "OPVMATCH_NOT_FOUND";
}
if ($("#addressOverlay").is(":visible")) {
  	return "OPVMATCH_AND_DOTCOM_ACCOUNT_FOUND";
}
},"storeLength":"pageview"},
    "CS-Rx-Reg-Authenitcated": {"customJS":function(){
var obj = window.dtmObject.CS;
if(obj !== undefined && obj.RxAuthenticatedUser !== undefined){ 
	return obj.RxAuthenticatedUser;
}
},"storeLength":"pageview"},
    "CS_rx_reg_auth_evar9": {"customJS":function(){
var valobject = window.dtmObject;

if (valobject !== undefined && valobject.CS !== undefined && valobject.CS.rxauthent !== undefined && valobject.CAC.rxauthent.profileInfo !== undefined) {
   
   
    var value = valobject.CS.rxauthent.profileInd;
   
  if (valobject.CS.rxauthent.profileInfo.loggedIn=="true")
{
  
   	if (value.isRxAuthenticatedUser)
  		 	return (parseInt(count)==1)?"new rx reg authenticated":"repeat rx reg authenticated";  
    else if (value.isRxUser)
        return (parseInt(count)==1)?"new rx reg not authenticated":"rx reg not authenticated";
    else 
        return (parseInt(count)==1)?"new light reg":"repeat light reg";
}
  return "";
} else
{
  
  
    return "";
}

},"storeLength":"pageview"},
    "CS_SecurityOptions_AnswerError_Prop30": {"jsVariable":"window.dtmObject.CS.secAnsErrorMessage","storeLength":"pageview"},
    "CS_SecurityOptions_AvailableSecurityOptions_Prop30": {"jsVariable":"window.dtmObject.CS.AvailableSecurityOptions","storeLength":"pageview"},
    "CS_SecurityOptions_GeneratePin_Prop30": {"customJS":function(){
var selectedOption = $("input[name='sendCodeOption']:checked").val();
var selectedString = "";
if (selectedOption === "email") {
		selectedString = "Email";
} else  if (selectedOption === "phone") {
		selectedString = "Phone";
}
return "Pincode" + " | " + selectedString + " | " + document.title;
},"storeLength":"pageview"},
    "CS_SecurityOptions_MaxAttemptError_Prop30": {"jsVariable":"window.dtmObject.CS.maxAttemptErrorMessage","storeLength":"pageview"},
    "CS_SecurityOptions_PinError_Prop30": {"jsVariable":"window.dtmObject.CS.pinErrorMessage","storeLength":"pageview"},
    "CS-VanityPage-ServiceError-Prop30": {"jsVariable":"window.dtmObject.CS.vanityError","storeLength":"pageview"},
    "Customized_Prop41": {"customJS":function(){
var s_pageName=document.title;
if (document.title.indexOf("Walgreens |") ==0 || document.title.indexOf("Walgreens.com |") == 0) {
  s_pageName=((document.title).substr((document.title).indexOf("|")+1)).replace(/(^ +| +$)/, "");
} 

var url = window.location.href;
var searchString=".com";
var sPage = url.substr((url.indexOf (searchString)),url.length);
sPage=sPage.substr(sPage.indexOf("/")+1,sPage.length);
var reqPage = sPage.substr(0, sPage.indexOf("/"));

//if(reqPage=='default.jsp'||reqPage=='') {s_pageName='Walgreens.com Home Page';}
//return s_pageName;

var filename = url.substring(url.lastIndexOf('/')+1);
if(filename=='cart.jsp') 
  return "";
else if(filename=='optimize_order_review.jsp') 
{
  document.title="Optimize Order Review | Checkout | Walgreens";
  return "Optimize Order Review | Checkout | Walgreens " ;
}
else if(filename=='confirmorder_sdd.jsp') 
  return "Your Order Has Been Placed | Checkout | Walgreens " ;
else if(filename=='default.jsp'||filename=='') { 
  return "";
  s_pageName='Walgreens.com Home Page'; 
  return s_pageName + ' |  Delivery Details Order Link';
}







},"storeLength":"pageview"},
    "DCH-breathe-prop65": {"default":"Health | Propeller | Component | Breathe with Confidence | Connected Care  | Your Account ","storeLength":"pageview"},
    "DCH_tcp_track": {"jsVariable":"window.DCH_tcp_track","storeLength":"pageview"},
    "DCS_ApptScheduler_Accordian_Track": {"jsVariable":"window.accordian_track","storeLength":"pageview"},
    "DCS_Dashboard_Page_Title": {"customJS":function(){
return document.title;
},"storeLength":"pageview"},
    "DCS_ImmTile_BrowseRecommedation": {"jsVariable":"window.immTileBrowseRecommendation","storeLength":"pageview"},
    "DCS_ImmTile_HelpIcon_Click": {"jsVariable":"window.immTileHelpIcon","storeLength":"pageview"},
    "DCS_ImmTile_HideFromView": {"jsVariable":"window.immTileHideFromView","storeLength":"pageview"},
    "DCS_ImmTile_Menu_Click": {"jsVariable":"window.immTileMenu","storeLength":"pageview"},
    "DCS_ImmTile_Received_Confirmed": {"jsVariable":"window.immTileReceivedAndConfirmed","storeLength":"pageview"},
    "DCS_ImmTile_SeeAllRecommendations": {"jsVariable":"window.immTileSeeAllrecommend","storeLength":"pageview"},
    "DCS_ImmTile_UndoHide_Click": {"jsVariable":"window.immTileUndoHide","storeLength":"pageview"},
    "DCS_Platform_Name": {"jsVariable":"window.platformName","storeLength":"pageview"},
    "DCS_PLM_Slider_Prop": {"jsVariable":"window.plmSliderName","storeLength":"pageview"},
    "DCS-UCE-Dashboard-Prop31": {"customJS":function(){
var s_uce = "No Family Members | Your Health Dashboard";
return s_uce;
},"storeLength":"pageview"},
    "DCS_UCE_Familymember_Tab_Click": {"jsVariable":"window.familymember_tab_click","storeLength":"pageview"},
    "DCS_User_Action_Enable_Disable": {"jsVariable":"window.activityEnableDisableTrackValue","storeLength":"pageview"},
    "DCS-WebMDArticlesCategory-dropdown": {"customJS":function(){
var categoryName = $('#wag-webmd-article-types option:selected').text();
return ("category drop down: "+categoryName+" | WebMD Features");
},"storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Add-Activity-Click": {"jsVariable":"window.steps_card_add_activity","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Add-Sleep-Click": {"jsVariable":"window.steps_card_add_sleep","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Add-Weigh-in-Click": {"jsVariable":"window.steps_card_add_weigh","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Blood-Glucose-Click": {"jsVariable":"window.steps_card_add_glucose","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Blood-Preasure-Click": {"jsVariable":"window.steps_card_add_blood_preasure","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Pulse-Click": {"jsVariable":"window.steps_card_add_pulse","storeLength":"pageview"},
    "DHS_Dashboard_steps_card_register": {"jsVariable":"window.steps_card_register","storeLength":"pageview"},
    "DHS-Dashboard-Steps-Card-Your-Activities-Click": {"jsVariable":"window.steps_card_your_activity","storeLength":"pageview"},
    "DHSWAT_healthhistory_loyalty_id": {"jsVariable":"window.DHSWAT_healthhistory_loyalty_id","storeLength":"pageview"},
    "DHSWAT_loyalty_id": {"jsVariable":"window.DHSWAT_loyalty_id","storeLength":"pageview"},
    "DHSWAT_tab_title": {"jsVariable":"window.DHSWAT_tab_title","storeLength":"pageview"},
    "DO-Active-Exp-Collapse": {"jsVariable":"window.activeExpandCollapse","storeLength":"pageview"},
    "Do-ActiveOffers-collapsed-Prop37": {"jsVariable":"window.dtmObject.DWARBR.activeoffersCollapsed","storeLength":"pageview"},
    "Do-ActiveOffers-expanded-Prop37": {"jsVariable":"window.dtmObject.DWARBR.activeoffersExpanded","storeLength":"pageview"},
    "Do-Already-SignUp-Prop37": {"jsVariable":"window.dtmObject.DWARBR.alreadySignUpError","storeLength":"pageview"},
    "DO-Available-Exp-Collapse": {"jsVariable":"window.availableExpandCollapse","storeLength":"pageview"},
    "Do-AvailOffers-collapsed-Prop37": {"jsVariable":"window.dtmObject.DWARBR.availoffersCollapsed","storeLength":"pageview"},
    "Do-AvailOffers-expanded-Prop37": {"jsVariable":"window.dtmObject.DWARBR.availoffersExpanded","storeLength":"pageview"},
    "Do_BR_LongMembership_Error_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.memberShipError","storeLength":"pageview"},
    "Do_BR_Membership_Error_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.memberShipError","storeLength":"pageview"},
    "DO_BR_Service_Unavailable": {"customJS":function(){
var dwarDtmObject = window.dtmObject;
if(dwarDtmObject !== undefined && dwarDtmObject.DWARBR !== undefined) {
  if(dwarDtmObject.DWARBR.message !== undefined) {  
     var message = dwarDtmObject.DWARBR.message;
     if(message.indexOf("Service unavailable") > -1) {
        return "Service Unavailable | Error | Balance Rewards";
     }
  } else {
    return "";
  }
} else {
	return "";
}
},"storeLength":"pageview"},
    "Do_BR_ShortMembership_Error_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.shortMemberShipError","storeLength":"pageview"},
    "DO-Category-dropdown": {"customJS":function(){
var z = $("#wag-do-sortres-select_category option:selected").text();
var y = z.substring(0, z.indexOf("(")).trim();
return (y+" | category");
},"storeLength":"pageview"},
    "Do_Clipped_Sort_Prop43": {"customJS":function(){
var sortSelect = document.getElementById("wag-do-sortcat-select");
var selSort = sortSelect.options[sortSelect.selectedIndex].text;
var clippedRadio = document.getElementById("rdoClipped").value;
var redeemedRadio = document.getElementById("rdoRedeemed").value;
if(selSort !== "Expiration Date" && clippedRadio === "clipped") {
		return ''+ selSort +' | Clipped Coupons | Sort';
} else {
    return 'expiration | Clipped Coupons | Sort';
}
if(selSort !== "Expiration Date" && redeemedRadio === "redeemed") {
    return ''+ selSort +' | Redeemed Coupons | Sort';
} else {
    return 'expiration | Redeemed Coupons | Sort';
}

},"storeLength":"pageview"},
    "Do_Coupons_Already_Clipped_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.alreadyClippedError","storeLength":"pageview"},
    "Do_Coupons_Card_Shop-Participating-link_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.shopQualifyingLink","storeLength":"pageview"},
    "Do_Coupons_Clip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.clipError","storeLength":"pageview"},
    "Do_Coupons_ExpiringSoon_Clipped_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.expSoonClippedError","storeLength":"pageview"},
    "Do_Coupons_Expiry_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.expiryError","storeLength":"pageview"},
    "Do_Coupons_Max_Clipped_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.maxClippedError","storeLength":"pageview"},
    "Do_Coupons_NoMore_Available_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.noMoreAvailableError","storeLength":"pageview"},
    "Do_Coupons_Shop-Quallifying-Items_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.shopQuallifyingItems","storeLength":"pageview"},
    "Do_Coupons_ThemeAnonymousJoinIn_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageAnonymousJoinInLink","storeLength":"pageview"},
    "Do_Coupons_ThemeAnonymousSignIn_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageAnonymousSignIn","storeLength":"pageview"},
    "Do_Coupons_ThemeClip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themeCouponClip","storeLength":"pageview"},
    "Do_Coupons_ThemePage_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePage","storeLength":"pageview"},
    "Do_Coupons_ThemeSearch_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageSearchBtn","storeLength":"pageview"},
    "Do_Coupons_ThemeShopProducts_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageShopProducts","storeLength":"pageview"},
    "Do_Coupons_ThemeUnclip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageUnclip","storeLength":"pageview"},
    "Do_Coupons_ThemeViewDetailsClip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageViewDetailsClip","storeLength":"pageview"},
    "Do_Coupons_ThemeViewDetails_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageViewDetails","storeLength":"pageview"},
    "Do_Coupons_ThemeViewDetailsUnclip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.themePageViewDetailsUnclip","storeLength":"pageview"},
    "Do_Coupons_Unavailable_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.couponsUnavailableError","storeLength":"pageview"},
    "Do_Coupons_Unclip_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.unclipError","storeLength":"pageview"},
    "Do_Coupons_Weeklyad_Already_Clipped-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyadAlreadyClippedError","storeLength":"pageview"},
    "Do_Coupons_Weeklyad_Max_Clipped-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyadMaxClippedError","storeLength":"pageview"},
    "Do_Coupons_WeeklyAdUnclip-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdunclipError","storeLength":"pageview"},
    "doctitle": {"jsVariable":"document.title","storeLength":"pageview"},
    "Do_Email_Clip_Status_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.clipStatus","storeLength":"pageview"},
    "DO-Error-Scenario": {"jsVariable":"window.memberTrackError","storeLength":"pageview"},
    "DO-get-Coupon-id": {"customJS":function(){
$(".do-offers-clip-coupon").click(function(){ 
  return $(this).attr("id");
});
},"storeLength":"pageview"},
    "DO_Get_Coupon_Offer_Id": {"jsVariable":"window.dtmObject.DwarOffers.couponId","storeLength":"pageview"},
    "Do-Offers-Available-Clip-Success-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.availableClip","storeLength":"pageview"},
    "Do-Offers-Balance-Rewards-Overlay-Prop43": {"customJS":function(){
if(window.header.profileInfo.loggedIn === "true" && !window.header.profileInd.isLoyaltyUser) {
      return "Add Balance Reward Overlay displayed | Coupons Hub";  
} else {
  return "";   
}

},"storeLength":"pageview"},
    "DO-Offers-bottom-pagination-next-prop43": {"customJS":function(){
var selectedPageNumber = window.dtmObject.DwarOffers.selectedPageNumber;
var message = "Pagination button selected | " + selectedPageNumber + " | bottom next | Coupons Hub";
return message;
},"storeLength":"pageview"},
    "Do-Offers-ClipAll-Button-Clicked_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.clipAllbtnClicked","storeLength":"pageview"},
    "Do-Offers-ClipAll-Button-Clip-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.ClipAllButtonClipMessage","storeLength":"pageview"},
    "Do_Offers_Clipped_State_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.clippedState","storeLength":"pageview"},
    "DO-Offers-clip-to-card-prop43": {"customJS":function(){
var offerType = window.dtmObject.DwarOffers.clippedOfferType;
return "Coupon clipped from card | " + offerType + " | Coupons Hub";
},"storeLength":"pageview"},
    "Do-Offers-Coupon-Scroll-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.recordStartIndex","storeLength":"pageview"},
    "Do-Offers-Coupon-Scroll-Prop43 - September 10, 2015 09:23:53 AM": {"jsVariable":"window.dtmObject.DwarOffers.recordStartIndex","storeLength":"pageview"},
    "Do-Offers-Email-Bulk-Clip-EVar69": {"jsVariable":"window.dtmObject.DwarOffers.clippedCouponId","storeLength":"pageview"},
    "Do-Offers-Email-Bulk-Clip-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.bulkClipMessage","storeLength":"pageview"},
    "Do-Offers-Email-Clip-Success-Evar69": {"jsVariable":"window.dtmObject.DwarOffers.clippedCouponId","storeLength":"pageview"},
    "DO_Offers_Header_Profile_LoggedIn_BR": {"customJS":function(){
if (window.header && window.header.profileInfo && window.header.profileInd) {
    if (window.header.profileInfo.loggedIn === "true") {
        return window.header.profileInd.isLoyaltyUser;
    } else if (window.header.profileInfo.loggedIn === "false" && window.header.profileInfo.recognizedState && window.header.profileInfo.loyaltyId !== undefined) {
        return true;
    } else {
        return false;
    }
}
},"storeLength":"pageview"},
    "Do-offers-hideFilter-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.hideFilterLink","storeLength":"pageview"},
    "Do_Offers_Infotab_Selected-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.infoTabSelected","storeLength":"pageview"},
    "Do-Offers-Javascript-Error-Prop43": {"customJS":function(){
var innerText = "";
if (document.getElementById("noscriptText")) {
	innerText = document.getElementById("noscriptText").innerHTML;
}
if(innerText !== null) {
    if(innerText.indexOf("You'll need to enable javascript in your web browser to access this website") > -1) {
       return "Enable Javascript | Error | Coupons Hub";
    } else {
       return " ";
    }
}
},"storeLength":"pageview"},
    "Do-Offers-No-Search-Coupons-evar24": {"jsVariable":"window.dtmObject.DwarOffers.noPaperlessCoupons","storeLength":"pageview"},
    "Do-Offers-No-Search-WeeklyAd-evar24": {"jsVariable":"window.dtmObject.DwarOffers.noWeeklyAd","storeLength":"pageview"},
    "DO-Offers-overlay-clip-to-card-prop43": {"customJS":function(){
if(window.header.profileInfo.loggedIn === "true") {
var couponTypeSelect = document.getElementById("wag-do-sortres-srch-select");
var type = couponTypeSelect.options[couponTypeSelect.selectedIndex].text;
if(type.indexOf("Coupons") > -1) {
  return "Coupon clipped from overlay | Coupons Hub";
}
if(type.indexOf("Weekly Ad") > -1) {
  return "Coupon clipped from overlay | Weekly Ad";
}
}    
},"storeLength":"pageview"},
    "DO-Offers-overlay-clip-to-card-prop43 - July 30, 2015 06:21:22 PM": {"customJS":function(){
if(window.header.profileInfo.loggedIn === "true") {
  	var couponTypeSelect = document.getElementById("wag-do-sortres-srch-select");
		var selectedText = couponTypeSelect.options[couponTypeSelect.selectedIndex].text;
  	var offerType = window.dtmObject.DwarOffers.clippedOfferType;
    if(selectedText.indexOf("Coupons") > -1) {
      return "Coupon clipped from overlay | " + offerType + " | Coupons Hub";
    }
    if(selectedText.indexOf("Weekly Ad") > -1) {
      return "Coupon clipped from overlay | " + offerType + " | Weekly Ad";
    }
  	return "Coupon clipped from overlay | " + offerType + " | Coupons Hub";
}
},"storeLength":"pageview"},
    "DO-Offers-Search-Prop43": {"customJS":function(){
var y = $("#wag-do-sortres-srch-select option:selected").text();
if (y === "All") {
  	return "All search selected | Coupons Hub";
}
return false;
},"storeLength":"pageview"},
    "Do-Offers-SearchResults-Clip-SuccessEvar69": {"jsVariable":"window.dtmObject.DwarOffers.clippedCouponId","storeLength":"pageview"},
    "Do-Offers-SearchResults-Clip-SuccessProp43": {"jsVariable":"window.dtmObject.DwarOffers.successSrchRtlsClip","storeLength":"pageview"},
    "Do-offers-showFilter-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.showFilterLink","storeLength":"pageview"},
    "DO-Offers-sign-in-overlay-Prop43": {"customJS":function(){
if(window.header.profileInfo.loggedIn === "false" && (window.header.profileInfo.recognizedState === undefined || window.header.profileInfo.recognizedState === false )) {
    return "Register or Sign In Overlay displayed | Coupons Hub";
} else {
    return "";
}
},"storeLength":"pageview"},
    "DO-Offers-SignUp-Passed": {"customJS":function(){
var dtmObject = window.dtmObject;
if(dtmObject !== undefined && window.dtmObject.DWARBR !== undefined) {
  if(window.dtmObject.DWARBR.offersPassed === "WAG_I_DWAR_BR_4044") {
  	return "Signup period for offer has passed | Error | Balance Rewards";
  } else {
  	return "";
  }
} else {
	 return "";
}
},"storeLength":"pageview"},
    "Do-Offers-SignUp-Passed_Prop37": {"jsVariable":"window.dtmObject.DWARBR.offersSignUpPassedError","storeLength":"pageview"},
    "DO-Offers-top-pagination-next-prop43": {"customJS":function(){
var selectedPageNumber = window.dtmObject.DwarOffers.selectedPageNumber;
var message = "Pagination button selected | "+ selectedPageNumber + " | top next | Coupons Hub"
return message;
},"storeLength":"pageview"},
    "Do-Offers-Unavailable-Prop37": {"jsVariable":"window.dtmObject.DWARBR.offersUnavailableError","storeLength":"pageview"},
    "DO_Offers_unavailable_Prop37": {"customJS":function(){
var dtmObject = window.dtmObject;
if(dtmObject !== undefined && window.dtmObject.DWARBR !== undefined) {
	var offersMsg = window.dtmObject.DWARBR.offers.messages;
  if(offersMsg !== undefined) {
    if(offersMsg[0].code === "WAG_I_DO_BR_4056") {
    	 return "Members only offers unavailable | Error | Balance Rewards";
    }
  } else {
  	return "";
  }
} else {
	return "";
}
},"storeLength":"pageview"},
    "DO-Offers-WeeklyAd-Change-Store-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdChangeStore","storeLength":"pageview"},
    "Do-Offers-WeeklyAd-Clip-Error-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdClipError","storeLength":"pageview"},
    "Do_Offers_WeeklyAd_ClippedId_EVar69": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdClippedId","storeLength":"pageview"},
    "Do_Offers_WeeklyAd_Clipped_State_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdClipped","storeLength":"pageview"},
    "Do-Offers-WeeklyAd-Clip-Success-Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdClip","storeLength":"pageview"},
    "Do_Offers_WeeklyAd_Unclipped_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdUnclipped","storeLength":"pageview"},
    "DO-Offers-WeeklyAd-View-Overlay_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.weeklyAdViewOverlay","storeLength":"pageview"},
    "DO-Offer-Track-Error": {"jsVariable":"window.offerTrackError","storeLength":"pageview"},
    "DO-Past-Exp-Collapse": {"jsVariable":"window.pastExpandCollapse","storeLength":"pageview"},
    "Do-PastOffers-collapsed-Prop37": {"jsVariable":"window.dtmObject.DWARBR.pastoffersCollapsed","storeLength":"pageview"},
    "Do-PastOffers-expanded-Prop37": {"jsVariable":"window.dtmObject.DWARBR.pastoffersExpanded","storeLength":"pageview"},
    "Do-remove-Offers-Prop37": {"jsVariable":"window.dtmObject.DWARBR.removeOffersError","storeLength":"pageview"},
    "Do_Search_Coupon_By_Category_Prop43": {"customJS":function(){
var categorySelect = document.getElementById("wag-do-sortres-select_category");
var selectedCategory = categorySelect.options[categorySelect.selectedIndex].text;
var category = selectedCategory.split("(")[0].replace(/ /g, "");
if(category !== undefined && category !== "AllAvailableCoupons") {
    return ''+ category +' | category';
} else {
    return " "; 
}  

},"storeLength":"pageview"},
    "Do_Search_Coupon_By_Type_Prop43": {"customJS":function(){
var typeSelect = document.getElementById("wag-do-sortres-select_type");
var selectedType = typeSelect.options[typeSelect.selectedIndex].text;
if(selectedType !== undefined) {
    return ''+ selectedType +' | type';
} 
},"storeLength":"pageview"},
    "Do_Search_Coupon_By_Value_Prop43": {"customJS":function(){
var valueSelect = document.getElementById("wag-do-sortres-select_value");
var selectedValue = valueSelect.options[valueSelect.selectedIndex].text;
if(selectedValue !== undefined) {
    return ''+ selectedValue +' | value';
} 
},"storeLength":"pageview"},
    "Do_Search_Coupons_evar5": {"jsVariable":"window.dtmObject.DwarOffers.searchTerm","storeLength":"pageview"},
    "DO_service_unavailable_prop37": {"customJS":function(){
var dwarDtmObject = window.dtmObject;
if(dwarDtmObject !== undefined && dwarDtmObject.DWARBR !== undefined) {
	var message = dwarDtmObject.DWARBR.message;
  if(message.indexOf("Service unavailable") > -1) {
  		return "Service Unavailable | Error | Balance Rewards";
  } else {
    return "";
  }
} else {
	return "";
}
},"storeLength":"pageview"},
    "Do_Sort_AvailableCoupons_Prop43": {"customJS":function(){
var sortSelect = document.getElementById("wag-do-sortres-select_sort_by");
var categorySelect = document.getElementById("wag-do-sortres-select_category");
var selCategory = categorySelect.options[categorySelect.selectedIndex].text.split("(")[0].replace(/ /g, "");
var selSort = sortSelect.options[sortSelect.selectedIndex].text;
if(selCategory !== "All Available Coupons" && selSort !== "Expiration Date") {
    return ''+ selSort +' | Available Coupons | Sort';
} else {
    return 'expiration | Available Coupons | Sort';
}
},"storeLength":"pageview"},
    "DO-Sort-dropdown": {"customJS":function(){
var selectedTab = $("#wag-do-infotab-tab").find(".active").children("a").attr("href");
if ("#/yourcoupons" === selectedTab) {
  var sortByFilterName = $("#wag-do-sortcat-select option:selected").text();
  var selectedRadioBtn = $("input[name='coupon']:checked").val();
  if (selectedRadioBtn === "clipped") {
  	selectedRadioBtn = "Clipped Coupons";
  } else if (selectedRadioBtn === "redeemed") {
  	selectedRadioBtn = "Redeemed Coupons";
  }
	return (sortByFilterName + " | " + selectedRadioBtn + " | Sort");
} else if ("#/availablecoupons" === selectedTab) {
  var y = $("#wag-do-sortres-select_sort_by option:selected").text();
	return (y+" | Available Coupons | Sort");
}
},"storeLength":"pageview"},
    "Do-store-change-button-Prop43": {"customJS":function(){
var couponTypeSelect = document.getElementById("wag-do-sortres-srch-select");
var selectedText = couponTypeSelect.options[couponTypeSelect.selectedIndex].text;
if(selectedText.indexOf("Coupons") > -1) {
    return "Changed Store | Coupons Hub";
}
if(selectedText.indexOf("Weekly Ad") > -1) {
  	return "Changed Store | Weekly Ad";
}  
},"storeLength":"pageview"},
    "Do_Store_Change_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.selectStore","storeLength":"pageview"},
    "Do_Targeted_Coupon_Click_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.targetedCouponClippedError","storeLength":"pageview"},
    "DO-Type-dropdown": {"customJS":function(){
var y = $("#wag-do-sortres-select_type option:selected").text();
return (y+" | type");
},"storeLength":"pageview"},
    "Do-Unable-Signup-Prop37": {"jsVariable":"window.dtmObject.DWARBR.offersPassedError","storeLength":"pageview"},
    "DO-Value-dropdown": {"customJS":function(){
var y = $("#wag-do-sortres-select_value option:selected").text();
return (y+" | value");
},"storeLength":"pageview"},
    "Do_Viewcoupons_ExpiringSoon_Prop43": {"jsVariable":"window.dtmObject.DwarOffers.couponsExpSoonError","storeLength":"pageview"},
    "DPC-Drug-Info": {"jsVariable":"window.drug_name","storeLength":"pageview"},
    "DPC_EPP_Detailspage_prop31_Tracker": {"jsVariable":"window.DPC_EPP_Detailspage_prop31_Tracker_prop31","storeLength":"pageview"},
    "DPC_EPP_DOB_EVAR_TRACKER": {"jsVariable":"window.DPC_EPP_DOB_EVAR_TRACKER","storeLength":"pageview"},
    "DPC_EPP_DOB_EVENT_TRACKER": {"jsVariable":"window.DPC_EPP_DOB_EVENT_TRACKER","storeLength":"pageview"},
    "DPC_EPP_DOBSUCCESS_Track": {"jsVariable":"window.DPC_EPP_DOBSUCCESS_Track","storeLength":"pageview"},
    "DPC_EPP_DOB_Tracker": {"jsVariable":"window.DPC_EPP_DOB_Tracker_prop31","storeLength":"pageview"},
    "DPC_EPP_DOB_Tracker_SMS": {"jsVariable":"window.DPC_EPP_DOB_Tracker_SMS","storeLength":"pageview"},
    "DPC_EPP_QRcodepage_evar_Tracker": {"jsVariable":"window.DPC_EPP_QRcodepage_evar_Tracker_eVar2","storeLength":"pageview"},
    "DPC_EPP_QRcodepage_eve_Tracker": {"jsVariable":"window.DPC_EPP_QRcodepage_eve_Tracker_event166","storeLength":"pageview"},
    "DPC_EPP_WALLET_Tracker": {"jsVariable":"window.DPC_EPP_WALLET_Tracker_prop31","storeLength":"pageview"},
    "DPC-Kba-Auth-AlmostDone": {"jsVariable":"window.kba_almostdone","storeLength":"pageview"},
    "DPC-KBAAuthentication-VerifyOnline": {"customJS":function(){
if(window.kbaAuthVerifyOnline!==undefined)
  {
   
    	var tabName=window.kbaAuthVerifyOnline, s_pageName;
    
    	if(tabName=='VerifyOnline') {
       s_pageName = "Verify Online: You\'re Almost Done | Registration | Walgreens";
      }
    
    return s_pageName;
  }
},"storeLength":"pageview"},
    "DPC_KBA_TabName": {"customJS":function(){
if(window.KbaAuthTabName!==undefined)
  {
    	var tabName=window.KbaAuthTabName, s_pageName;
    
    	if(tabName=='PresNum') {
       s_pageName = "Verify by Prescription Number | Registration | Walgreens";
      } else if(tabName=='KBA') { 
       s_pageName = "Verify Online | Registration | Walgreens";
      } else if(tabName=='IVR') { 
       s_pageName = "Verify by Phone | Registration | Walgreens";
      } else if(tabName=='PIN') { 
       s_pageName = "Verify by Pin | Registration | Walgreens";
      }
    return s_pageName;
  }
},"storeLength":"pageview"},
    "DPC_SMS_Track": {"jsVariable":"window.DPC_SMS_Track","storeLength":"pageview"},
    "DPF_90day_Track": {"jsVariable":"window.DPF_90day_Track","storeLength":"pageview"},
    "DPF_Autorefill_Track": {"jsVariable":"window.DPF_Autorefill_Track","storeLength":"pageview"},
    "DPF_check_login_refill_leancheckout": {"customJS":function(){
if(window.check_login_refill_leancheckout === true) return "rx reg authenticated";
},"storeLength":"pageview"},
    "dpf-checkout-shipping-exception-prop": {"jsVariable":"window.trackValue","storeLength":"pageview"},
    "DPF_check_success_refillhub_downtime": {"customJS":function(){
if(window.check_success_refillhub_pageLoad === undefined) return "Pharmacy Downtime";
},"storeLength":"pageview"},
    "DPF_check_success_refillhub_pageLoad": {"customJS":function(){
if(window.check_success_refillhub_pageLoad !== undefined) return "RXHubTest_Expand";
},"storeLength":"pageview"},
    "DPF_LeanCheckout_OrderEvar": {"jsVariable":"window.leancheckoutEvar20","storeLength":"pageview"},
    "DPF_loyalty_id": {"jsVariable":"window.DPF_loyalty_id","storeLength":"pageview"},
    "DPF_ManageAutoRefill_DownTime": {"customJS":function(){
if(window.check_success_pageLoad === undefined) return "Pharmacy Downtime";
},"storeLength":"pageview"},
    "DPF_ManageAutoRefill_SuccessLoad": {"customJS":function(){
if(window.check_success_pageLoad !== undefined) return "ExperienceB_RefillHub_AutoRefill";
},"storeLength":"pageview"},
    "DPF_payment_details_loyalty_id": {"jsVariable":"window.DPF_payment_details_loyalty_id","storeLength":"pageview"},
    "DPF_payment_details_make_payment": {"jsVariable":"window.DPF_payment_details_make_payment","storeLength":"pageview"},
    "DPF_payment_loyalty_id": {"jsVariable":"window.DPF_payment_loyalty_id","storeLength":"pageview"},
    "DPF_payment_StatementIdError": {"jsVariable":"window.DPF_payment_StatementIdError","storeLength":"pageview"},
    "DPF_payment_statement_loyalty_id": {"jsVariable":"window.DPF_payment_statement_loyalty_id","storeLength":"pageview"},
    "DPF_rx_change_store_find_btn_prop": {"jsVariable":"window.trackFindStore","storeLength":"pageview"},
    "DPF_rx_change_store_overlay_load_prop": {"jsVariable":"window.trackStoreOverlay","storeLength":"pageview"},
    "dpf-rx-checkout-shipmethod-tracker_data": {"jsVariable":"window.selectedValue","storeLength":"pageview"},
    "DPF_Save_A_Trip_Submit": {"jsVariable":"window.DPF_Save_A_Trip_Submit","storeLength":"pageview"},
    "DPF_Save_A_Trip_Success": {"jsVariable":"window.DPF_Save_A_Trip_Success","storeLength":"pageview"},
    "DPX_prop31": {"jsVariable":"window.DPX_prop31","storeLength":"pageview"},
    "dpx_setrxFlowType_FindAStore": {"jsVariable":"window.dpx_setrxFlowType_FindAStore","storeLength":"pageview"},
    "druginfo_bottom_banner_click": {"jsVariable":"window.druginfo_bottom_banner_click_prop31","storeLength":"pageview"},
    "druginfo_browse_loggedIn": {"jsVariable":"window.druginfo_browse_loggedIn_evar9","storeLength":"pageview"},
    "druginfo_browse_onload": {"jsVariable":"window.druginfo_browse_onload_prop31","storeLength":"pageview"},
    "druginfo_browse_select_alphabet": {"jsVariable":"window.druginfo_browse_select_alphabet_prop31","storeLength":"pageview"},
    "druginfo_browse_subCategory_click": {"jsVariable":"window.druginfo_browse_subCategory_click_prop31","storeLength":"pageview"},
    "druginfo_checkbox_select": {"jsVariable":"window.druginfo_checkbox_select_prop31","storeLength":"pageview"},
    "druginfo_details_atco": {"jsVariable":"window.druginfo_details_atco_prop31","storeLength":"pageview"},
    "druginfo_details_loggedIn": {"jsVariable":"window.druginfo_details_loggedIn_evar9","storeLength":"pageview"},
    "druginfo_details_onload": {"jsVariable":"window.druginfo_details_onload_prop31","storeLength":"pageview"},
    "druginfo_landing": {"jsVariable":"window.druginfo_landing_prop31","storeLength":"pageview"},
    "druginfo_landing_loggedIn": {"jsVariable":"window.druginfo_landing_loggedIn_evar9","storeLength":"pageview"},
    "druginfo_plm_overlay_select": {"jsVariable":"window.druginfo_plm_overlay_select_prop31","storeLength":"pageview"},
    "druginfo_pricing_pharmacy_click": {"jsVariable":"window.druginfo_pricing_pharmacy_click_prop31","storeLength":"pageview"},
    "druginfo_recent_drug_select": {"jsVariable":"window.druginfo_recent_drug_select_prop31","storeLength":"pageview"},
    "druginfo_rxchat_enable": {"jsVariable":"window.druginfo_rxchat_enable_prop31","storeLength":"pageview"},
    "druginfo_search_atco_select": {"jsVariable":"window.druginfo_search_atco_select_prop31","storeLength":"pageview"},
    "druginfo_search_click": {"jsVariable":"window.druginfo_search_click_prop31","storeLength":"pageview"},
    "druginfo_search_drug": {"jsVariable":"window.druginfo_search_drug_evar81","storeLength":"pageview"},
    "druginfo_search_drugID": {"jsVariable":"window.druginfo_search_drugID_evar85","storeLength":"pageview"},
    "druginfo_search_drugName": {"jsVariable":"window.druginfo_search_drugName_evar87","storeLength":"pageview"},
    "druginfo_searchload_loggedin": {"jsVariable":"window.druginfo_searchload_loggedin_evar9","storeLength":"pageview"},
    "druginfo_searchresults_dropdown": {"jsVariable":"window.druginfo_searchresults_dropdown_prop31","storeLength":"pageview"},
    "druginfo_search_results_load": {"jsVariable":"window.druginfo_search_results_load_prop31","storeLength":"pageview"},
    "DWAR_Search_Results_Click_Position_eVar77": {"jsVariable":"window.dtmObject.DwarOffers.clickPosition","storeLength":"pageview"},
    "DWAR_TC_clip_value": {"jsVariable":"window.dtmObject.TC.clip","storeLength":"pageview"},
    "DWAR_TC_search_coupons_value": {"jsVariable":"window.dtmObject.TC.search","storeLength":"pageview"},
    "DWAR_TC_unclip_value": {"jsVariable":"window.dtmObject.TC.unclip","storeLength":"pageview"},
    "DWAR_Zero_Search_Results_eVar24": {"jsVariable":"window.dtmObject.DwarOffers.zeroResults","storeLength":"pageview"},
    "Enable_DTM_CCPA": {"customJS":function(){
var getCookie = function(cookiename){
	var cookiestring = RegExp('[; ]' + cookiename + '[^;]+').exec('; ' + document.cookie);
	return unescape(!!cookiestring ? cookiestring.toString().replace(/^[^=]+./, '') : '');
};			

var getOptanonConsentInfo = function(params){
	let cookieObj={};
	let groupObj={};
	let KeyVal = params && params.split("&") || [];
	for (var i in KeyVal) {
		KeyVal[i] = KeyVal && KeyVal[i].split("=");
		cookieObj[KeyVal[i][0]]=KeyVal[i][1];
	}
	let groupValue = cookieObj && cookieObj.groups || '';
	let GroupKeyVal = groupValue && groupValue.split(",") || [];
	for (var i in GroupKeyVal) {
		GroupKeyVal[i] = GroupKeyVal && GroupKeyVal[i].split(":");
		groupObj[GroupKeyVal[i][0]]=GroupKeyVal[i][1];
	}
	if(groupObj['C0004']){
		return groupObj['C0004'];
	}else{
		return null;
	}
}

let optanonCookie = getCookie('OptanonConsent');
if (optanonCookie) {
	let optanonValue = getOptanonConsentInfo(optanonCookie);
	if (optanonValue === '0') {
        return true;
    } else {
        return false;
    }
} else {
    return false;
}

},"default":"false","storeLength":"pageview"},
    "epp_continue_rx_select_data": {"jsVariable":"window.epp_continue_rx_select_data_prop31","storeLength":"pageview"},
    "eVar24_tracking_activity_Data_Element": {"customJS":function(){
return window.dtmObject.BAS.eVar24;
},"storeLength":"pageview"},
    "Facebook_tag": {"customJS":function(){
var url = window.location.href;
var searchString=".com";
var sPage = url.substr((url.indexOf (searchString)),url.length);
sPage=sPage.substr(sPage.indexOf("/"),sPage.length);
//var reqPage = sPage.substr(0, sPage.indexOf("/"));


if(sPage=='/default.jsp'||sPage=='/'||
sPage == '/store/c/beauty/ID=359434-tier1?tab=beauty' ||
   sPage == '/store/c/vitamins-and-supplements/ID=359441-tier1' || 
   sPage == '/store/c/baby-kids-and-toys/ID=359449-tier1' || 
   sPage == '/topic/promotion/vitamin1.jsp' || 
   sPage == '/store/c/hair-care-products/ID=360339-tier2general' ||
   sPage == '/store/c/cough-cold-and-flu-medications/ID=360549-tier2general' || 
   sPage == '/store/c/contact-lenses/ID=359432-tier2clense' ||
   sPage == '/search/results.jsp?Ns=Omniture_Relevance&N=359434&Nso=1&Ntt=boots' ||
   sPage == '/search/results.jsp?Ntt=boots+no7' ||
   sPage == '/store/c/walkers-and-rollators/ID=360591-tier2general'){
  return "true";
}
else{
  return "false";
}
},"storeLength":"pageview"},
    "healthzone_evar_tracking": {"jsVariable":"window.eVarData","storeLength":"pageview"},
    "hipaa_forms_select_track": {"jsVariable":"window.hipaa_forms_select_track_prop31","storeLength":"pageview"},
    "HIP_HealthNav_FCN_ChangePTValue": {"selector":"#hn-service-cards-walgreenshcc .hn-layer-price","property":"text","storeLength":"pageview"},
    "integrated_scheduler_continue": {"jsVariable":"window.integrated_scheduler_continue_prop30","storeLength":"pageview"},
    "INTERSTITIAL_ERROR": {"customJS":function(){
 var url = window.location.href;
   var url2 = url.split('?');
   if(url2[1].split('=')[1] != null){
	 return "Interstitial | "+url2[1].split('=')[1];
   }

},"storeLength":"pageview"},
    "LeanCheckOut_Products": {"jsVariable":"window.leancheckout_products","storeLength":"pageview"},
    "MboxPages": {"customJS":function(){
var url = window.location.href;
var searchString=".com";
var sPage = url.substr((url.indexOf (searchString)),url.length);
sPage=sPage.substr(sPage.indexOf("/")+1,sPage.length);
var reqPage = sPage.substr(0, sPage.indexOf("/"));

//if(reqPage=='default.jsp'||reqPage=='') {s_pageName='Walgreens.com Home Page';}
//return s_pageName;

var filename = url.substring(url.lastIndexOf('/')+1);

if(filename.lastIndexOf('?')!=-1)
filename= filename.substring(0,filename.lastIndexOf('?'));


var pattern1 = "store/c/beauty/ID=359434-tier1?tab=beauty";
var re1 = new RegExp(pattern1);

var pattern2 = "store/c/vitamins-and-supplements/ID=359441-tier1";
var re2 = new RegExp(pattern2);

var pattern3 = "topic/promotion/vitamin1.jsp";
var re3 = new RegExp(pattern3);

var pattern4 = "store/c/baby-kids-and-toys/ID=359449-tier1";
var re4 = new RegExp(pattern4);

var pattern5 = "store/c/hair-care-products/ID=360339-tier2general";
var re5 = new RegExp(pattern5);

var pattern6 = "store/c/cough-cold-and-flu-medications/ID=360549-tier2general";
var re6 = new RegExp(pattern6);
var pattern7 = "store/c/contact-lenses/ID=359432-tier2clense";
var re7 = new RegExp(pattern7);

var pattern8 = "search/results.jsp?Ns=Omniture_Relevance&N=359434&Nso=1&Ntt=boots";
var re8 = new RegExp(pattern8);
var pattern9 = "search/results.jsp?Ntt=boots+no7";
var re9 = new RegExp(pattern9);
var pattern10 = "store/c/walkers-and-rollators/ID=360591-tier2general";
var re10 = new RegExp(pattern10);



var urlvalue=window.location.hostname;


if(reqPage=='default.jsp'||reqPage==''||re1.exec(urlvalue)!==null
||re2.exec(urlvalue)!==null||re3.exec(urlvalue)!==null
||re4.exec(urlvalue)!==null||re5.exec(urlvalue)!==null
||re6.exec(urlvalue)!==null||re7.exec(urlvalue)!==null
||re8.exec(urlvalue)!==null||re9.exec(urlvalue)!==null
||re10.exec(urlvalue)!==null)
{
return "true";
}
else
{
return "false";
} 
},"storeLength":"pageview"},
    "medicare_info_phase2_track": {"jsVariable":"window.medicare_info_phase2_track_prop31","storeLength":"pageview"},
    "medicare_onload_details": {"jsVariable":"window.medicare_onload_details_prop31","storeLength":"pageview"},
    "medicare_onload_details_logIn": {"jsVariable":"window.medicare_onload_details_logIn_evar9","storeLength":"pageview"},
    "medicare_phase2_onload": {"jsVariable":"window.medicare_phase2_onload_evar9","storeLength":"pageview"},
    "medicare_plan_button_click": {"jsVariable":"window.medicare_plan_button_click_prop31","storeLength":"pageview"},
    "medicare_plan_phase2_track": {"jsVariable":"window.medicare_plan_phase2_track_prop31","storeLength":"pageview"},
    "m-qa2_only": {"customJS":function(){
if(window.location.href.lastIndexOf('tumblr.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('smile.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('staywell.walgreens.com')!=-1
   ||window.location.href.lastIndexOf('bebeautiful.walgreens.com')!=-1
  )
{
  return "false"; 
} 
return "true";
},"storeLength":"pageview"},
    "override_referrer": {"customJS":function(){
if((window.location.pathname.indexOf("/search/results.jsp") !== -1 || window.location.pathname === '/' || window.location.pathname.indexOf("-tier3") !== -1) && document.cookie && document.cookie.indexOf('mt.referrer') !== -1){
	var cookieList	= document.cookie.split(';');
	var monetateReferrer;
	for(var i=0; i<cookieList.length; i++){
		var c = cookieList[i].trim();
		if(c.indexOf('mt.referrer') !== -1){
			monetateReferrer = c.split('=')[1];
			// double decoding as the cookie is encoded double
			monetateReferrer = decodeURIComponent(monetateReferrer);
			monetateReferrer = decodeURIComponent(monetateReferrer);
		}
	}
	if(monetateReferrer !== ''){
   	return monetateReferrer;
	}else{
    return document.referrer;
	}
}else{
	// delete the mt.referrer
  document.cookie = 'mt.referrer=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=.walgreens.com;path=/;';
  return document.referrer;
}
},"storeLength":"pageview"},
    "Pharmacy_HomePage": {"customJS":function(){
if(window.location.pathname=='/pharmacy/rxlanding.jsp' || window.location.pathname=='/pharmacy/') 
  return 'true';
else
	return "false";
},"storeLength":"pageview"},
    "Phi_Agree_Terms_prop31_data": {"jsVariable":"window.AgreeTermsClick_prop31","storeLength":"pageview"},
    "Phi_Cancel_prop31_data": {"jsVariable":"window.CancelClick_prop31","storeLength":"pageview"},
    "PhiDob_Landing_evar45_data": {"jsVariable":"window.PhiDob_Landing_evar45","storeLength":"pageview"},
    "PhiDob_Landing_evar9_data": {"jsVariable":"window.PhiDob_Landing_evar9","storeLength":"pageview"},
    "Phi_Error_prop31_data": {"jsVariable":"window.dobError_prop31","storeLength":"pageview"},
    "phi_param_type": {"customJS":function(){
refillGetUrlParameter = function(names) {
                var name = names.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                    results = regex.exec(location.search);
                return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
            };

var type = refillGetUrlParameter('type');
return type;
},"storeLength":"pageview"},
    "Phi_Submit_prop31_data": {"jsVariable":"window.OnSubmit_prop31","storeLength":"pageview"},
    "prescription_stage": {"jsVariable":"window.prescription_stage","storeLength":"pageview"},
    "prime_sso_select_track": {"jsVariable":"window.prime_sso_select_track_prop31","storeLength":"pageview"},
    "ProductCompare_on_off": {"customJS":function(){
if($('.wag-prd-compare')){ 
  if ($('.wag-nounderline').hasClass('on')) {
      var Compare = 'Product Compare ON' + ' | ' + document.title ;
} else {
      var Compare = 'Product Compare OFF' + ' | ' + document.title;
} 
 }

return Compare;
},"storeLength":"pageview"},
    "Prop30_tracking_activity_Data_Element": {"customJS":function(){
var Prop30_Obj = window.dtmObject.BAS.Prop30;
if (Prop30_Obj) {
    var pushValue = Prop30_Obj.value;
    if (Prop30_Obj.pageName) {
        if (Prop30_Obj.pageName == "required") {
            var pageUrl = window.location.pathname;
            if (pageUrl.search("/search/") >= 0 || pageUrl.search("/q/") >= 0) {
                pushValue += "Search Results | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if ((pageUrl.search("ID=prod") >= 0 && pageUrl.search("-product") >= 0) || pageUrl.search("view_product_details.jsp") >= 0) {
                pushValue += "Product Details | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if (pageUrl.search("/store/c") >= 0 && pageUrl.search("tier1") >= 0) {
                pushValue += "Tier1 | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if (pageUrl.search("/store/c") >= 0 && pageUrl.search("tier2cl") >= 0) {
                pushValue += "Tier2CL | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if (pageUrl.search("/store/c") >= 0 && pageUrl.search("tier2") >= 0) {
                pushValue += "Tier2 | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if (pageUrl.search("/store/catalog/shopLanding") >= 0 || pageUrl.search("/store/shop.jsp") >= 0) {
                pushValue += "Shop Landing | Walgreens ";
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if ((pageUrl.search("/store/c") >= 0 || pageUrl.search("productlist") >= 0) && (pageUrl.search("brandproductlist") == -1 && pageUrl.search("beautyStore") == -1)) {
                if (typeof prodCat !== "undefined") {
                    if (prodCat == "local") {
                        pushValue += "Tier3 | Walgreens ";
                    } else {
                        pushValue += "Tier3Cl | Walgreens ";
                    }
                } else {
                    pushValue += "Tier3 | Walgreens ";
                }
                if (Prop30_Obj.searchName) {
                    if (Prop30_Obj.searchName == "required") {
                        pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                    }
                }
            } else if (pageUrl.search("/store/save") >= 0) {
                if (pageUrl.search("clearance") >= 0) {
                    pushValue += "Clearance | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " Clearance : " + pushValue;
                        }
                    }
                } else if (pageUrl.search("sale") >= 0) {
                    pushValue += "Sale | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " Sale : " + pushValue;
                        }
                    }
                } else if (pageUrl.search("rebate") >= 0) {
                    pushValue += "Rebate | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " Rebate : " + pushValue;
                        }
                    }
                } else if (pageUrl.search("loyalty-points-offers") >= 0) {
                    pushValue += "Loyalty Points Offers | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " Loyalty Points Offers : " + pushValue;
                        }
                    }
                }
            } else {
                if (pageUrl.search("brand_product_list.jsp") >= 0 || pageUrl.search("brandproductlist") >= 0 || pageUrl.search("beautyStore") >= 0) {
                    pushValue += "Walgreens Boots | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " Total Items : " + pushValue;
                        }
                    }
                } else {
                    pushValue += " " + document.title.split("|")[0] + " | Walgreens ";
                    if (Prop30_Obj.searchName) {
                        if (Prop30_Obj.searchName == "required") {
                            pushValue = " " + document.title.split("|")[0] + " : " + pushValue;
                        }
                    }
                }
            }
        }
    }
    return pushValue;
}
return "";
},"storeLength":"pageview"},
    "QuitSmoking_prop30": {"jsVariable":"window.QuitSmoking_prop30","storeLength":"pageview"},
    "REQUEST_ERROR": {"customJS":function(){
  var sPageURL;
var isNotHash="true";
var pName="redirect";
        if (isNotHash == undefined || !isNotHash) {
            sPageURL = window.location.hash.substring(1);
        } else {
            sPageURL = window.location.search.substring(1);
        }

        var sURLVariables = sPageURL.split('&');

        for(var i = 0; i < sURLVariables.length; i++){

            var sPName = sURLVariables[i].split('=');

            if(sPName[0] == pName){
           return "404 | "+sPName[1];
               // return sPName[1];
            }
        }
 return "404 | redirect_error";
},"storeLength":"pageview"},
    "rx_checkout_address_tracker_data": {"jsVariable":"window.rx_checkout_address_tracker_data_prop31","storeLength":"pageview"},
    "rx_checkout_address_tracker_error_data": {"jsVariable":"window.rx_checkout_address_tracker_error_data_prop31","storeLength":"pageview"},
    "RxStatusDobLockCount": {"jsVariable":"window.OnRxStatusDobLockCount_prop31","storeLength":"pageview"},
    "RxStatusDobSuccess": {"jsVariable":"window.OnRxStatusDobSuccess_prop31","storeLength":"pageview"},
    "rxstatus_landing": {"jsVariable":"window.rxstatus_landing_prop31","storeLength":"pageview"},
    "RxStatusOnDobErrorClick": {"jsVariable":"window.RxStatusOnDobError_prop31","storeLength":"pageview"},
    "RxStatusSignInClick": {"jsVariable":"window.RxStatusSignInClick_prop31","storeLength":"pageview"},
    "RxStatusSubmitClick": {"jsVariable":"window.OnRxStatusSubmitClick_prop31","storeLength":"pageview"},
    "SAS-integratedDrug_Search": {"customJS":function(){
if (window.dtmObject.BAS.integratedDrugEvar89) {
    return window.dtmObject.BAS.integratedDrugEvar89;
}
return "";

},"storeLength":"pageview"},
    "SAS-nullSearch_Deals": {"customJS":function(){
var eVar_Obj = window.dtmObject.BAS.nullSearchDeals;
if (eVar_Obj) {
    var pushValue = eVar_Obj.value;
    return pushValue;
}
return "";
},"storeLength":"pageview"},
    "SAS-nullSearchWeeklyAd": {"customJS":function(){
var eVar_Obj = window.dtmObject.BAS.nullSearchWeeklyAd;
if (eVar_Obj) {
    var pushValue = eVar_Obj.value;
    return pushValue;
}
return "";
},"storeLength":"pageview"},
    "SAS_RELEVANCY_TESTING_INSTANCE": {"customJS":function(){
if(document.cookie.indexOf('relInst') > 1 && document.cookie.indexOf('relevancy_search_v2') > 1){
  return 'Monetate;SAS_RELEVANCY_INSTANCE_TESTING_50_50_08312020,Experiment';
} else {
  return 'Monetate;SAS_RELEVANCY_INSTANCE_TESTING_50_50_08312020,Control';
}


},"storeLength":"pageview"},
    "setRRPrescriptionType": {"jsVariable":"window.setRRPrescriptionType","storeLength":"pageview"},
    "StepsLanding_eVar1": {"jsVariable":"window.StepsLanding_eVar1","storeLength":"pageview"},
    "StepsLanding_event66": {"jsVariable":"window.StepsLanding_event66","storeLength":"pageview"},
    "StepsLanding_prop30": {"jsVariable":"window.StepsLanding_prop30","storeLength":"pageview"},
    "tier3_redesign_test_evar97": {"customJS":function(){
//setTimeout(function(){
  //console.log('tier3Redesign---')
  if(sessionStorage.getItem('tier3Redesign') !== null){
		return "list template";
	}else{
		return "grid template";
	}
//}, 2000);


},"storeLength":"pageview"},
    "transfer_rx_cardholder_status": {"jsVariable":"window.transfer_rx_cardholder_status_prop31","storeLength":"pageview"},
    "transfer_rx_continue_click": {"jsVariable":"window.transfer_rx_continue_click_prop31","storeLength":"pageview"},
    "transfer_rx_ninetyCheck_true": {"jsVariable":"window.transfer_rx_ninetyCheck_true_prop31","storeLength":"pageview"},
    "uce_br_active_card_data": {"jsVariable":"window.uce_br_active_card_data_prop65","storeLength":"pageview"},
    "uce_BR_card_data": {"jsVariable":"window.uce_BR_card_data_prop65","storeLength":"pageview"},
    "uce_br_zero_card_data": {"jsVariable":"window.uce_br_zero_card_data_prop65","storeLength":"pageview"},
    "uce_cc_propeller_dashboard": {"jsVariable":"window.uce_cc_propeller_dashboard_prop65","storeLength":"pageview"},
    "uce_cc_propeller_welcome_overlay_data": {"jsVariable":"window.uce_cc_propeller_welcome_overlay_data_prop65","storeLength":"pageview"},
    "uce_content_card_data": {"jsVariable":"window.uce_content_card_data_prop65","storeLength":"pageview"},
    "uce_coupons_card_data": {"jsVariable":"window.uce_coupons_card_data_prop65","storeLength":"pageview"},
    "uce_imm_success_load_data": {"jsVariable":"window.uce_imm_success_load_data_prop65","storeLength":"pageview"},
    "uce_Immunization_card_data": {"jsVariable":"window.uce_Immunization_card_data_prop65","storeLength":"pageview"},
    "uce_PLM_card_data": {"jsVariable":"window.uce_PLM_card_data_prop65","storeLength":"pageview"},
    "uce_plm_manual_search_data": {"jsVariable":"window.uce_plm_manual_search_data_prop65","storeLength":"pageview"},
    "uce_products_card_data": {"jsVariable":"window.uce_products_card_data_prop65","storeLength":"pageview"},
    "uce_rx_active_card_data": {"jsVariable":"window.uce_rx_active_card_data_prop65","storeLength":"pageview"},
    "uce_rx_card_data": {"jsVariable":"window.uce_rx_card_data_prop65","storeLength":"pageview"},
    "uce_rx_card_drp_family_data": {"jsVariable":"window.uce_rx_card_drp_family_data_prop65","storeLength":"pageview"},
    "uce_rx_zero_card_data": {"jsVariable":"window.uce_rx_zero_card_data_prop65","storeLength":"pageview"},
    "uce_uhc_card_data": {"jsVariable":"window.uce_uhc_card_data_prop65","storeLength":"pageview"},
    "uce_uhcrx_welcome_overlay_data": {"jsVariable":"window.uce_uhcrx_welcome_overlay_data_prop65","storeLength":"pageview"},
    "uce_uhc_verify_failure_overlay_data": {"jsVariable":"window.uce_uhc_verify_failure_overlay_data_prop65","storeLength":"pageview"},
    "uce_uhc_verify_success_overlay_data": {"jsVariable":"window.uce_uhc_verify_success_overlay_data_prop65","storeLength":"pageview"},
    "uce_uhc_welcome_overlay_data": {"jsVariable":"window.uce_uhc_welcome_overlay_data_prop65","storeLength":"pageview"},
    "unmask_phi_forms_track": {"jsVariable":"window.unmask_phi_forms_track_prop31","storeLength":"pageview"},
    "verfiy_text_radio_data": {"jsVariable":"window.verfiy_text_radio_data_prop31","storeLength":"pageview"},
    "verify_result_success_data": {"jsVariable":"window.verify_text_msg_success_prop31","storeLength":"pageview"},
    "verify_text_continue_data": {"jsVariable":"window.verify_text_continue_data_prop31","storeLength":"pageview"},
    "verify_text_error_msg_data": {"jsVariable":"window.verify_text_error_msg_data_prop31","storeLength":"pageview"},
    "verify_text_msg_drop_down_data": {"jsVariable":"window.verify_text_msg_drop_down_data_prop31","storeLength":"pageview"},
    "verify_text_req_new_data": {"jsVariable":"window.verify_text_req_new_data_prop31","storeLength":"pageview"},
    "verify_text_send_code_data": {"jsVariable":"window.verify_text_send_code_data_prop31","storeLength":"pageview"},
    "VPD-productName": {"selector":"h1#productName","property":"text","storeLength":"pageview"},
    "Wag-store-inventory": {"customJS":function(){
var Prop30_Obj = window.dtmObject.BAS.Prop30;
if (Prop30_Obj) {
    var pushValue = Prop30_Obj.value;
    return pushValue;
}
return "";
},"storeLength":"pageview"},
    "Wag-store-inventory-instore-Product-count": {"customJS":function(){
if(window.selectedInstoreCount) {
 return window.selectedInstoreCount;
}
return "";



},"storeLength":"pageview"},
    "Wag-store-inventory-instore-Selected-StoreId": {"customJS":function(){
if(window.selectedInstoreNumber) {
 return window.selectedInstoreNumber;
}
return "";
},"storeLength":"pageview"},
    "Webmd_DHA_landing_47": {"jsVariable":"window.Webmd_DHA_Prop47","storeLength":"pageview"},
    "Webmd_DHA_landing_48": {"jsVariable":"window.Webmd_DHA_Prop48","storeLength":"pageview"},
    "Webmd_DHA_landing_49": {"jsVariable":"window.Webmd_DHA_Prop49","storeLength":"pageview"},
    "Webmd_DHA_landing_50": {"jsVariable":"window.Webmd_DHA_Prop50","storeLength":"pageview"},
    "Webmd_DHA_landing_51": {"jsVariable":"window.Webmd_DHA_Prop51","storeLength":"pageview"},
    "Webmd_DHA_landing_52": {"jsVariable":"window.Webmd_DHA_Prop52","storeLength":"pageview"}
  },
  "appVersion": "7QN",
  "buildDate": "2020-10-22 04:22:59 UTC",
  "publishDate": "2020-10-22 04:22:55 UTC"
});
})(window, document);
