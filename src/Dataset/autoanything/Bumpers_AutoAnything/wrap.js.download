(function () {
  'Copyright Â© 2013-2019 Confiant Inc. All rights reserved.';
  'v3l.202011021349';
  var n=[],t=function(){function t(){this.settings=null;try{this.settings=confiantTryToGetConfig()}catch(t){}n.push({name:"registerService",serviceFunction:this.registerService})}return t.prototype.registerService=function(e,t){return n.some(function(t){return t.name===e})?(this.settings&&2==this.settings.devMode&&console.log("Attempted to register service "+e+" which is already registered."),!1):(n.push({name:e,serviceFunction:t}),!0)},t.prototype.getServices=function(){return n.reduce(function(t,e){return t[e.name]=e.serviceFunction,t},{})},t}();window.confiant=window.confiant||{};var e=window.confiant;window.confiant.services||Object.defineProperty(e,"services",{value:(new t).getServices,writable:!1,configurable:!1});var l=window;function confiantAutoRFCb(t,e,n,r,i,o){if(n&&o){var s=confiantTryToGetConfig((o.dfp?"gpt":o.prebid&&"prebid")||o.ast&&"ast");if(!s.isAR)return;if(s.arC="number"==typeof s.arC&&NaN!==s.arC?s.arC:3,l.confiantRefreshSlots=l.confiantRefreshSlots||{},o.dfp||o.prebid){var a=(o.dfp||o.prebid).s;if(l.confiantRefreshSlots[a]=l.confiantRefreshSlots[a]||0,l.confiantRefreshSlots[a]<s.arC){var c=function(t){for(var e=l.googletag.pubads().getSlots(),n=0,r=e.length;n<r;++n){var i=e[n];if(i.getSlotElementId()===t)return i}return null}(a);if(l.googletag){var f=window[s.prebidNameSpace];if(o.prebid&&((p=f)&&p.que&&p.requestBids&&p.setTargetingForGPTAsync)){function u(){l.confiantRefreshSlots[a]+=1,f.requestBids({timeout:1e4,adUnitCodes:[a],bidsBackHandler:function(){f.setTargetingForGPTAsync([a]),l.googletag.pubads().refresh([c])}})}2==s.devMode?setTimeout(u,Math.ceil(1e4*Math.random())):f.que.push(u)}else l.googletag.pubads().refresh([c]),l.confiantRefreshSlots[a]+=1}else console.log("Confiant slot auto refresh can not be completed. No googletag object found.")}}if(o.ast){var d=o.htmlid||o.placementElementId;l.confiantRefreshSlots[d]=l.confiantRefreshSlots[d]||0,l.confiantRefreshSlots[d]<s.arC&&(o.refreshAd(),l.confiantRefreshSlots[d]+=1)}}var p}function confiantTryToGetConfig(t){var e,n,r,i,o=document.currentScript?document.currentScript.getAttribute("id"):function(){try{throw new Error}catch(t){for(var e=function(t){return t.sourceURL?t.sourceURL:t.fileName?t.fileName:t.stack.split("\n").filter(function(t){return 0<=t.indexOf("http")})[0]}(t),n=document.querySelectorAll("script"),r=[],i=0,o=n.length;i<o;++i)n[i].src&&0<=e.indexOf(n[i].src)&&r.push(n[i]);return 1===r.length?r[0].getAttribute("id"):null}}(),s=window.confiant;if(s&&(i=o,n=(r=s)&&i&&r[i]?s[o].settings:s.settings),n){if(!n.callback)try{e=window.top.confiant,n.callback=e.settings.callback}catch(t){}return n}if(window._clrm&&window._clrm[t])return window._clrm[t];throw new Error("Confiant failed to init: no configuration is provided. Please contact us at support@confiant.com")}var PixelInvocator=function(){function PixelInvocator(t,e){this.propertyInfo=e,this.adServer=t.indexOf("//")<0?this.adServer="https://"+this.adServer:t,this.init()}return PixelInvocator.prototype.init=function(){var t=!!this.getTpId();this.isPixelRequired()&&t?((new Image).src=this.getPixelSrc(),window.isPxlSent=!0):console.error("skipping pixel",t,this.isPixelRequired())},PixelInvocator.prototype.getPixelSrc=function(){try{return this.adServer+"/pixel?tag=wt_"+this.getTpId()+"&v=5&s="+this.getSecurityToken()+this.getId()+this.getSb()+this.getCb()+this.getHost()+this.getD()}catch(t){return console.log("Confiant: unable to obtain host, send partial pixel info"),this.adServer+"/pixel?tag=wt_"+this.getTpId()+"&v=5&s="+this.getSecurityToken()+this.getId()+this.getSb()+this.getCb()+this.getD()}},PixelInvocator.prototype.getTpId=function(){return this.propertyInfo.tpid},PixelInvocator.prototype.getSecurityToken=function(){return"v3"+(new Date).getTime().toString(32)},PixelInvocator.prototype.getId=function(){var t=JSON.stringify(this.propertyInfo.data.id);return t?"&id="+escape(btoa(t)):""},PixelInvocator.prototype.getSb=function(){return"&sb="+this.propertyInfo.data.sb||"-1"},PixelInvocator.prototype.getCb=function(){return"&cb="+Math.ceil(1e7*Math.random())},PixelInvocator.prototype.getHost=function(){var t=window.sf_||window.$sf?document.referrer:window.location.href,e=t.indexOf("//"),n=t.indexOf("/",e+2),r="";return-1<e&&(n<0&&(n=t.length),e+=2,r=t.substr(e,n-e)),"&h="+encodeURIComponent(r)},PixelInvocator.prototype.getD=function(){return"&d="+btoa(JSON.stringify(this.propertyInfo.data.d))},PixelInvocator.prototype.isPixelRequired=function(){var e=!0;try{void 0===(e=this.propertyInfo.data.isPxlReq)&&(e=!0),e=e&&(this.propertyInfo.data.isNativeScan||!window.isPxlSent)}catch(t){e=!0}return e},PixelInvocator}(),CasprInvocation=function(t,e,n){casprInvocation(t.rules,n.t,"wt_"+e,{uniqueHash:t.propertyId,tpIdentifier:"wt_"+e},t.adServer,n);var r={tpid:e,data:n};r[e]=n,new PixelInvocator(t.adServer,r)},NativeAdScanningInvocation=function(t,e){confiantDfpWrapToSerialize(window,e,JSON.parse(atob(t.mapping)),t.activation,t.confiantCdn,t.propertyId,t.callback,null,t)};
  var config = confiantTryToGetConfig();
  config.cdt_version=config.cdt_version||"202011021349";var bucket=config.cdt_version+"/wrap.js",fastlyBaseUrl=2==config.devMode?"/cdt/":"https://confiant-integrations.freetls.fastly.net/cdt/";config.adMap=config.adMap||{};var clientReportingHash="#audit";function locationHasChanged(){~window.location.hash.indexOf(clientReportingHash)&&!config.wasDiagnosticToolActivated&&(config.wasDiagnosticToolActivated=!0,getDiagnosticTool())}function getDiagnosticTool(){var t=fastlyBaseUrl+bucket,n=document.createElement("script");n.src=t,document.getElementsByTagName("head")[0].appendChild(n)}function registerCdtAsService(){window.confiant.services().registerService("adReporter",getDiagnosticTool)}config.hashListenerAttached||window.addEventListener("hashchange",locationHasChanged,!1),config.hashListenerAttached=!0,config.wasDiagnosticToolActivated=config.wasDiagnosticToolActivated||!1,window.addEventListener("message",function(t){if(t.data&&t.data.indexOf&&~t.data.indexOf("diagnostic_tool_context"))try{var n=t.data.replace("diagnostic_tool_context","");n=JSON.parse(n),config["adMap"][n.s]=n}catch(t){console.log("Confiant:"+t)}}),window.confiant&&window.confiant.services?registerCdtAsService():(window.confiant=window.confiant||{},window.confiant.cmd=window.confiant.cmd||[],window.confiant.cmd.push(registerCdtAsService));
  function confiantWrap(a,b,c,d,e,f,g){'v2.202011021349';function h(a){for(var b in l)if(b===a&&l[b])return l[b];return null}function i(a){if("string"!=typeof a)return a;var b=a.match(/[^\u0000-\u024F\u1E00-\u1EFF\u2C60-\u2C7F\uA720-\uA7FF]/g);if(!b)return a;for(var c=0;c<b.length;c++)a=a.replace(b[c],encodeURIComponent(b[c]));return a}function j(a){return a=i(a),(s(a)||"")[y]("/","_")[y]("+","-")}function k(b,c,e,g){var h=D+t(b)+"&d="+c,i="err__"+1*new Date;q[i]=g;var j="<"+w+' type="text/java'+w+'">window["'+d+'"]={};'+'window["'+d+'"]["tpid"]="'+b+'";'+'window["'+d+'"]["'+b+'"]='+r.stringify(e)+";"+"</"+w+">",k="<"+w+" on"+z+'="void('+i+'())" '+x+'="'+h+'" type="text/java'+w+'" ></'+w+">";f&&(k="<"+w+" on"+z+'="void('+i+'())" '+'" type="text/java'+w+'" >'+unescape(f)+"</"+w+">"),a[B](j+k)}var l=b.adserverTargeting,m=b.bidder,n=null,o=b.size;g=g||{},f=f||null;var p=g.devMode,q=a.parentWindow||a.defaultView,r=q.JSON,s=q.btoa,t=q.encodeURIComponent;if(!r||!s)return!1;var u="t",v="i",w="script",x="src",y="replace",z="error",A="stringify",B="wr"+v+u+"e";c.indexOf("http")<0&&(c="https://"+c);var C,D=c+"/?wrapper="+t(d)+"&tpid=";C=h("oz_winner")||"ozone"===m?{k:{hb_bidder:[h("oz_winner")],hb_size:[o]}}:{k:{hb_bidder:[m],hb_size:[o]}};var E=!1,F=!(!window._clrm||!window._clrm.gpt),G=!(!window.confiant||!window.confiant.settings),H=window.confiant||window._clrm||{};return F||G||H.isListener||(H.isListener=!0,function(){function a(a){var b="cb";if("string"==typeof a.data&&a.data.indexOf(b+d)>-1){var c=a.data.substr(b.length+d.length),f=atob(c),g=window.JSON.parse(f);try{e.apply(this,g)}catch(a){console.log("Custom callback failed with an error: "+a)}"undefined"!=typeof confiantAutoRFCb&&confiantAutoRFCb.apply(null,g)}}if(window.addEventListener)try{window.top.addEventListener("message",a,!1)}catch(b){window.addEventListener("message",a,!1)}else window.top.attachEvent("onmessage",a)}()),function(){try{n=j(d+"/"+C.k.hb_bidder[0]+":"+C.k.hb_size[0]);var c={wh:n,wd:r.parse(r[A](C)),wr:0};2===p&&(c.cb=1e3*Math.random());var f=+b.cpm||null,h={prebid:{adId:b.adId,cpm:f,s:b.adUnitCode,src:b.source},tp_crid:"PB:"+m+";"+b.creativeId},i=!1;try{i=!!q.frameElement.getAttribute("data-forced-sandbox")}catch(a){}var l={d:c,t:escape(b.ad),isE:!0,cb:e,id:h,isFSb:i,devMode:p,isPerf:g.isPerf,isXF:g.isXF};k(n,j(r[A](c)),l,function(){a[B](b.ad)})}catch(a){E=!0;var c={property_id:d,uh:n||"wt_not_established",url:window.location.href||window.top.location.href||document.url||"url not found",label:"confiantWrap_initialize",msg:a.message},o=new XMLHttpRequest;o.open("POST","https://protected-by.clarium.io/werror",!0),o.send(s(r.stringify(c)))}}(),a.close(),!E}
  var config=confiantTryToGetConfig("prebid")||{sandbox:0},customPrebidNameSpace=config.prebidNameSpace||"pbjs";window[customPrebidNameSpace]=window[customPrebidNameSpace]||{que:[]};var findSettingsById=function(e){return window.confiant[e]&&window.confiant[e].settings?window.confiant[e].settings:window.confiant.settings&&window.confiant.settings.propertyId==e?window.confiant.settings:config},createCustomInvocationPostMessageHandler=function(a,r){return function(e){if(isUsable(e.data)){var n="cb"+a;if(inString(e.data,n)&&r){var i=JSON.parse(atob(e.data.substr(n.length)));try{r.apply(this,i)}catch(e){console.log("Custom callback failed with an error: "+e)}}}}};function removeMessageHandler(e){window.removeEventListener&&window.top.removeEventListener("message",e,!1)}function addMessageListener(e){try{return window.addEventListener?window.top.addEventListener("message",e,!1):window.top.attachEvent("onmessage",e),!0}catch(e){return 2==config.devMode&&console.warn("Confiant: unable to add a callback listener to top window",e),!1}}var callback=config.callback,propertyId=config.propertyId,prebidRef=config.prebidUseTopWindow?window.top[customPrebidNameSpace]:window[customPrebidNameSpace],wrap=window.confiant&&window.confiant.services&&window.confiant.services().wrap,customMsgHandler=null,onPrebidErrorHandler=config.onPrebidError,onRenderedHandler=config.onRendered;if(wrap){if(!wrap&&!confiantWrap)throw Error("Confiant failed to init prebid wrapper")}else{var confiantWrapProxy=function(e,n,i,a){var r=findSettingsById(i);r.invocationSpecificCallback=callback;var o="undefined"==typeof getSerializedCaspr?null:getSerializedCaspr(!0,r,i);r.callback&&r.callback==a||(customMsgHandler&&removeMessageHandler(customMsgHandler),addMessageListener(customMsgHandler=createCustomInvocationPostMessageHandler(i,a))||(window.amzCustomMsgHandler=customMsgHandler)),confiantWrap(e,n,r.confiantCdn,i,a,o,r)||(doc.write(n.ad),doc.close())};window.confiant.services().registerService("wrap",confiantWrapProxy),wrap=confiantWrapProxy}var isGoogleFrame=function(e){return"IFRAME"===e.tagName&&e.id&&!!~e.id.indexOf("google_ads_iframe_")},isSASAd=function(e){return"IFRAME"===e.tagName&&e.id&&!!~e.id.indexOf("sas_")},isCompanyUnderdog=function(){return customPrebidNameSpace&&!!~customPrebidNameSpace.indexOf("udm_")},shouldSandbox=function(){var e=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/i,n=""+config.sandbox;return"1"==n||("2"==n?!navigator.userAgent.match(e):"3"==n?navigator.userAgent.match(e):"4"==n?navigator.userAgent.match(/(.+)(iPhone|iPad|iPod)(.+)OS[\s|\_](\d)\_?(\d)?[\_]?(\d)?.+/i):"5"==n&&navigator.userAgent.match(/Android/i))},sfCallback=function(e,n){var i=JSON.parse(atob(e.data.substr(n.length)));try{callback.apply(this,i)}catch(e){console.log("Custom callback failed with an error: "+e)}"undefined"!=typeof confiantAutoRFCb&&confiantAutoRFCb.apply(null,i)},inString=function(e,n,i){return e.substr&&e.substr(!i||i<0?0:+i,n.length)===n},isUsable=function(e){return(null!=e||null!=e)&&("[object Array]"!==Object.prototype.toString.call(e)||0<e.length)},postMessageHandler=function(e){if(isUsable(e.data)){var n="cb"+propertyId;if(inString(e.data,n)&&sfCallback(e,n),e.data.eventType&&inString(e.data.eventType,"confiantSlotRenderEnded")&&e.data.id){var i=e.data&&e.data.details&&e.data.details.impressionData&&e.data.details.impressionData.prebid;onRenderedHandler&&onRenderedHandler(i?i.adId:null)}}},buildWerror=function(e,n){var i=config&&(config["gpt_and_prebid"]||config["prebid"]||config["gpt_and_prebid_v3l"]),a=!1||2==config.devMode||Math.random()<=.025,r=window.navigator,o=r&&r.sendBeacon;if(a||!o){n.int_version=i&&(i["prebid_integration_version"]||i["exec_ver"]),n.int_version=n.int_version||"2",n.msg=e.message,n.src="prebid-v3",n.property_id=config.propertyId,n.uh="wt_not_established";try{n.url=window.sf_||window.$sf?document.referrer:window.top.location.href}catch(e){}var t=JSON.stringify(n);t=btoa(t);var d=config.adServer+"/werror";if(o)r.sendBeacon(d,t);else{var s=new XMLHttpRequest;s.open("POST",d),s.send(t)}}};function appendChildOverwrite(){var n;shouldSandbox()&&(Node.prototype.appendChild=(n=Node.prototype.appendChild,function(e){return(isGoogleFrame(e)||isSASAd(e))&&shouldSandbox()&&!e.getAttribute("sandbox")&&(e.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),e.setAttribute("data-forced-sandbox",!0)),n.call(this,e)}))}prebidRef.que=prebidRef.que||[],prebidRef.que.push(function(){var b=prebidRef._r?prebidRef._r:prebidRef._r=prebidRef.renderAd;appendChildOverwrite(),config.isIntegrationEnabled&&config.isIntegrationEnabled("prebid")&&!config.isIntegrationEnabled("gpt")&&addMessageListener(postMessageHandler);var u=window.navigator.userAgent.match(/(Trident\/7.0)|(edge)/i);prebidRef.renderAd=function(e,n){var i=!1;try{i=!(!e||!e.defaultView.isActive||isCompanyUnderdog())}catch(e){}if(e&&n&&!i)try{var a,r,o,t=[],d=prebidRef.getBidResponses();for(var s in d)for(var c in t=t.concat(d[s].bids),a=prebidRef.getBidResponsesForAdUnitCode(s))t=t.concat(a.bids);for(t=t.concat(prebidRef.getHighestCpmBids()),t=prebidRef.getAllWinningBids?t.concat(prebidRef.getAllWinningBids()):t,t=prebidRef.getAllPrebidWinningBids?t.concat(prebidRef.getAllPrebidWinningBids()):t,o=0;o<t.length;o++)if(t[o].adId===n){r=t[o];break}!r&&prebidRef.findBidByAdId&&(r=prebidRef.findBidByAdId(n));var l=config.prebidExcludeBidders||[],p=!1;if(r)for(o=0;o<l.length;o++)if(r.bidder===l[o]){p=!0;break}config.getPropertyIdForAPS&&r&&"amazon"===r.bidder&&(propertyId=config.getPropertyIdForAPS()),config.isAZOnly&&(p=r&&"amazon"!==r.bidder);var f=r&&r.ad&&!!~r.ad.indexOf("<VAST"),g=r&&r.ad&&!!~r.ad.indexOf("clrm-cw-head");if(r&&r.ad&&!p&&!f&&!g)return config.adMap[r.adUnitCode]=r,config.adMap[r.adUnitCode]["is_monitored"]=!0,e.write=e.close=function(){},u&&(e.open=e.write),b(e,n),delete e.write,delete e.close,u&&delete e.open,void wrap(e,r,propertyId,callback);r&&r.ad&&p&&f&&g?(config.adMap[r.adUnitCode]=r,config.adMap[r.adUnitCode]["is_monitored"]=!1):r&&r.ad||buildWerror(Error("bid not found"),{label:"noBid"})}catch(e){try{onPrebidErrorHandler&&onPrebidErrorHandler(e,n)}catch(e){}buildWerror(e,{label:"renderAd"})}b(e,n)}});
})();