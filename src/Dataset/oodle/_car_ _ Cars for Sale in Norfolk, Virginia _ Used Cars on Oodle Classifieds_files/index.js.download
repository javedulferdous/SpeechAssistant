parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QaMP":[function(require,module,exports) {
var o={viewability:{tags:["8465","23297","26729","19628","26308","26588","25594","26071","25638"],wfs:["30761","30143","31808","30595","32222","32224","32226","32228","32223","32225","32227","32229","31925","31715","32481","32133","32262","32595","30753","32541","30748","32382","31612","31809","32642","32650","31663","31834","32775","32609"]},viewabilityFloorA:{wfs:["30761","30143","31808","30595","31925","31715","32262","30753","30748","31612","31809","31663","31834"]},viewabilityFloorB:{wfs:["32222","32224","32226","32228"]},viewabilityFloorC:{wfs:["32223","32225","32227","32229","32481","32133","32595","32541","32382","32642","32650","32775","32609"]},bidCaching:{wfs:["32641","32651","32652","32932"]},schain:{domains:["onomagic.com","groupon.com","investors.com","xfinity.com","har.com","biblegateway.com","merriam-webster.com","rentpath.com","reverso.net","fool.com","webkinz.com","discogs.com","worldjournal.com","boston.com","accuradio.com","gsn.com","wenxuecity.com","pinkvilla.com","fark.com","manta.com","marinetraffic.com","barstoolsports.com","geebo.com","apost.com","scrabblewordfinder.org","solitairbliss.com","anagrammer.com","gulfnews.com","andhrajyothy.com","flightaware.com","timeout.com","nature.com","sigalert.com"],pubIds:["10283","10601","10435","8207","10569","10116","9236","10401","9994","20138","9201","10302","7621","8172","10080","9236","7753","9312","10539","8437","10369","8559","20194","10623","20174","10198","4741","8433","9939","20159","9404","10401","9117","10627","10356"]},rubiconSchain:{pubIds:["10157","10283","8447","20160","20218","20158","9426","10080","10627","9201","20120","8433","10623","10601","9939","20212","9312","7621","10198","9117","20159","9236","8437","10401","10369","20192","20138","9404","20211","10116","7753","9870","8559","20200","20086","10356","10302","9994","10435","8207","10554","10569","20174","8172","20194","4741","10539"]},carbon:{pubIds:["10590","10507","9994","20200","20138","9939","20159","10569","9404","8433","10601","8172"]},emptyCreative:{wfs:["32481","32595","32541","32382","32642","32650","32775","32609"]},mobileBidCaching:{wfs:["32791","34379","31427","34380","33042","33043"]}};module.exports=o;
},{}],"IQ1M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSplitTest=i,exports.getSplitTestTargetings=a;var e=t(require("./splitTestConfig"));function t(e){return e&&e.__esModule?e:{default:e}}function i(t,i){return!!e.default.hasOwnProperty(i)&&("carbon"==i?-1===e.default[i].pubIds.indexOf(t.publisherId):e.default[i].tags&&e.default[i].tags.indexOf(t.tagId)>-1||e.default[i].wfs&&e.default[i].wfs.indexOf(t.waterfallId)>-1||e.default[i].domains&&e.default[i].domains.indexOf(t.domain)>-1||e.default[i].pubIds&&e.default[i].pubIds.indexOf(t.publisherId)>-1)}function a(e,t){return t&&t.viewability>=50?i(e,"viewabilityFloorA")?t.viewability>=80?{floor_changed:"no_80"}:{floor_changed:"no_50"}:i(e,"viewabilityFloorB")?t.viewability>=80?{floor_changed:"yes_80"}:{floor_changed:"yes_50"}:i(e,"viewabilityFloorC")?t.viewability>=80?{floor_changed:"adx_80"}:{floor_changed:"adx_50"}:{}:{}}
},{"./splitTestConfig":"QaMP"}],"iJA9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s={ADX_COMMISSION:.0066,PASSBACK:'<script>var inDapIF=true;var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.next(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log("No compassST")}<\/script>',INIT_DFP:"var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.initDfp(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log('No compassST')}",PREBID_REFRESH:20,PREBID_REFRESH_DELTA:3,RENDER_DELTA:10,CUSTOM_FLOOR_ADJUSTMENT:.02,SENSITIVE_BIDDERS:["openx","ix","rubicon","pubmaticsparc","appnexus","appnexustailwind"]};exports.default=s;
},{}],"lTk1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./splitTest"),e=n(require("./constants"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=e.default.SENSITIVE_BIDDERS,u=c.reduce(function(t,e){return i(i({},t),{},a({},e,!0))},{});function d(t){if(t.page){var e=t.page;delete t.page,t.page=e}return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function f(){return Math.floor(2147483647*Math.random())}function p(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)}function l(){try{return window.self!==window.top}catch(t){return!0}}function s(t){try{return"string"!=typeof t?"":(t=(t=t.split("//")).length>1?t[1]:t[0]).split("/")[0]}catch(e){return t||""}}function w(){if(window.document.location&&window.document.location.ancestorOrigins&&window.document.location.ancestorOrigins.length>=1)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]}function h(){var t="",e="";try{var n;do{(n=n?n.parent:window).document&&n.document.referrer&&(t=n.document.referrer),e=n.location.href}while(n!==window.top)}catch(r){}return t||e||window.document.referrer}function g(){if(l()){var t;try{t=w()||h()}catch(e){v("Could not obtain top window location",e)}return t?s(t):""}return window.location.host}function m(){if(l()){var t;try{t=w()||h()}catch(e){v("Could not obtain top window location",e)}return t||""}return window.location.origin}function b(){if(l()){var t;try{t=window.top.location.href}catch(e){}if(!t)try{t=h()}catch(e){v("Could not obtain top window location",e)}return t||""}return window.location.href}function y(t,e){try{var n=[];n.push(t);var r=e.split("x");n.push(r[0]),n.push(r[1]);var o=[],i=new Date;o.push(i.getTime());var a=i.getTimezoneOffset();a=a>=0?a:Math.abs(a)+1,o.push(a),o.push(Math.floor(1e17*Math.random()));for(var c=0;c<o.length;c++)o[c]=o[c].toString(36);return n.push(o.join("")),n.join("-")}catch(u){try{return"cst-fallback-id-"+Math.floor(1e10*Math.random())}catch(u){return""}}}function v(){/compass_debug=true/.test(window.location.href)&&console.log.apply(this,arguments)}function O(t){var e="";for(var n in t)void 0!==t[n]&&(e+='.setTargeting("'.concat(n,'","').concat(t[n],'")'));return e}function j(e,n,r){var o=n.country,a={cmp_perm:[e,o=n.countryList.indexOf(o)>-1?o:"other",n.os.toLowerCase()].join("_"),cmp_loop:n.loop||0,viewability_perc:r?r.viewability:void 0},c=(0,t.getSplitTestTargetings)(n,r);return i(i({},a),c)}function M(t){try{if(v("[getViewability]","target",t),!t||"object"!==r(t)||11===t.nodeType)throw new Error("target has to be DOM node");var e="n/a",n=0,o=!!window.performance&&!!window.performance.now;o&&(n=window.performance.now());window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&window.IntersectionObserverEntry.prototype;return function(){try{return window.top.document,!1}catch(t){return!0}}()?{viewability:-1,isVisible:e,time:-1}:function(){var t=!1,e=window.top.document;void 0!==e.hidden?t=e.hidden:void 0!==e.msHidden?t=e.msHidden:void 0!==e.webkitHidden&&(t=e.webkitHidden);return t}()?{viewability:0,isVisible:e,time:-1}:function(){function r(t){return{top:0,left:0,right:t.innerWidth,width:t.innerWidth,bottom:t.innerHeight,height:t.innerHeight}}function i(t){try{var e=t.getBoundingClientRect();return e.width&&e.height||(e.width=e.right-e.left,e.height=e.bottom-e.top),e}catch(n){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}function a(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}function c(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),i=Math.min(t.right,e.right),a=i-o,c=r-n;if(a>=0&&c>=0)return{top:n,bottom:r,left:o,right:i,width:a,height:c}}function u(t,e){for(var n=i(t),o=n,u=a(t),d=!1;!d;){var f=1==u.nodeType&&e.getComputedStyle?e.getComputedStyle(u):{};if("none"==f.display)return 0;var p=null;if(u===e.document?(d=!0,p=r(e)):u!==e.document.body&&u!==e.document.documentElement&&"visible"!==f.overflow&&(p=i(u)),p&&!(o=c(p,o)))return 0;u=a(u)}return function(t,e){var n=t.width*t.height,r=e.width*e.height;return n>0?r/n:0}(n,o)}var d=(f=function(t){var e=t.ownerDocument,n=e.defaultView||e.parentWindow,r=!1,o=t,i=[];for(;!r;){n===window.top&&(r=!0);var a=u(o,n);i.push(a),o=n.frameElement,n=n.parent}v("ratios",i);for(var c=1,d=0;d<i.length;d++)c*=i[d];return c}(t),f*=100,5*parseInt(f/5)+(f%5<2.5?0:5));var f;if(o){var p=window.performance.now();n=Math.round(p-n)}return{viewability:d,isVisible:e,time:n,io:!1}}()}catch(i){return i}}function S(t,e){e||(e=1);var n=1/e;return Math.floor(t*n)/n}function T(t){return t>=28.8?28.8:S(t,t>=10?.2:t>=5?.1:t>=1?.02:.01)}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n={};for(var r in t){var o=t[r]&&t[r].bids||[];o.length&&(n[r]={bids:o.filter(function(t){return e===!!u[t.bidder]})})}return n}function C(t){for(var e=t,n=!1;!n;){try{if("function"==typeof e.__tcfapi||"function"==typeof e.__cmp){n=!0;break}}catch(r){}try{if(e.frames.__tcfapiLocator){n=!0;break}}catch(r){}try{if(e.frames.__cmpLocator){n=!0;break}}catch(r){}if(e===t.top)break;e=e.parent}return n}var I={jsonToQueryString:d,generateCacheBuster:f,isMobile:p,getTopWindowDomain:g,getTopWindowOrigin:m,getTopWindowUrl:b,generateImpressionId:y,log:v,dfpTargetingToString:O,getTargetingMap:j,getViewability:M,roundToBucket:T,round:S,filterSensitiveBids:_,withCMP:C};exports.default=I;
},{"./splitTest":"IQ1M","./constants":"iJA9"}],"qcVz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i={"33across":"33Across",rubicon:"Rubicon",ix:"Index Latam",aol:"AOL LATAM",openx:"OpenX",smartadserver:"Smart LATAM",oftmedia:"152Media",pulsepoint:"PulsePoint",districtm:"DistrictM",districtmDMX:"DistrictM DMX",improvedigital:"ImproveDigital",sharethrough:"Sharethrough",sovrn:"SovrnLimpid",rhythmone:"RhythmOne",openxlimpid:"OpenXLimpid",rubiconlimpid:"RubiconLimpid",conversant:"Conversant",consumable:"Consumable",appnexus:"AppNexus",appnexusbrave:"AppNexusBrave",appnexustailwind:"AppNexusTailwind",colossusssp:"Colossus",sonobi:"Sonobi",triplelift:"TripleLift",adagio:"Adagio",adagiolimpid:"AdagioLimpid",pubmaticlimpid:"PubmaticLimpid",pubmaticsparc:"PubmaticSparc",conversantono:"ConversantOno"};exports.default=i;
},{}],"RvaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="4.4.1",t=e;exports.default=t;
},{}],"Q7Ly":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendError=c,exports.sendDebug=u,exports.sendPixalateBlock=m,exports.sendReport=v,exports.sendEstimated=w,exports.sendAllBids=b,exports.sendViewability=g,exports.sendTestEvent=I,exports.sendErrorWrapper=p;var e=n(require("./helpers")),r=require("./splitTest"),t=n(require("./hb/reverseBiddersMap")),o=n(require("./version"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach(function(r){d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s=e.default.log;function l(r,t,n){(new Image).src="//"+r+"/"+t+"?"+n+"&cb="+e.default.generateCacheBuster()+"&version="+o.default}function p(e,r,t){return c({code:e,message:r,tagId:t.tagId,loop:t.loop,level:t.level,browser:t.browser,os:t.os,device:t.device,wfId:t.waterfallId,impId:t.impressionId})}function c(r){l("compass-errors.deliverimp.com","errors",e.default.jsonToQueryString(a(a({event:"error"},r),{},{page:window.location.href})))}function u(r){l("compass-errors.deliverimp.com","debug",e.default.jsonToQueryString(a(a({event:"debug"},r),{},{page:window.location.href})))}function m(r){l("al.romsenergy.com","pixblock",e.default.jsonToQueryString(r))}function v(r,t,o,n){var i,a=r.demands[r.level],d=a&&("HB IL"===a.dp||"HB LATAM"===a.dp);(void 0===r.opportunity||r.opportunity!==r.loop&&void 0!==r.loop)&&(r.opportunity=r.loop||0,i=!0);try{if(d&&a.children&&0===a.children.filter(function(e){return e.id==t.id}).length||!d&&a.id!=t.id)return void c({code:"parent_mismatch",message:"parentInternalId is incorrect",compassInternalId:t.id,parentInternalId:a.id,tagId:r.tagId,loop:r.loop,level:r.level,browser:r.browser,impId:r.impressionId,wfId:r.waterfallId})}catch(u){console.log(u)}var s=f(r,t,a);if(s.parentRequest=o,s.firstDemand=i,s.viewability_perc=n?n.viewability:"n/a",s.viewability_time=n?n.time:0,s.viewability_io=n?n.io:"n/a",l("compass-events.deliverimp.com","report",e.default.jsonToQueryString(s)),o){if(r.level>0&&r.prevReport&&r.prevReport.demand&&r.prevReport.parent){var p=f(r,r.prevReport.demand,r.prevReport.parent);p.level=r.level-1,l("compass-events.deliverimp.com","passback",e.default.jsonToQueryString(p))}r.prevReport={},r.prevReport.demand=t,r.prevReport.parent=a}}function f(r,t,o){return{publisherId:r.publisherId,tagId:r.tagId,size:r.size,page:e.default.getTopWindowUrl(),domain:(e.default.getTopWindowDomain()||"").toLowerCase(),tdomain:(r.domain||"").toLowerCase(),demand:(t.dp||"").toLowerCase(),section:r.section,wfId:r.waterfallId,level:r.level,loop:r.loop||0,compassInternalId:t.id,entityId:t.entityId,demandTag:t.placementId||"",country:r.country,os:r.os,device:r.device,browser:r.browser,targetingId:r.targetingId,parentId:o.entityId||"",parentInternalId:o.id||"",impId:r.impressionId,paymentType:r.paymentType,pubPlacement:r.pubPlacement}}function b(r,o,n){try{r.length&&r[0].cpm&&(r[0].winning=!0),r.forEach(function(r){var i=t.default[r.bidder],a=n.prebidBiddersRaw.filter(function(e){return e.dp===i})[0]||{};"pulsepoint"!==r.bidder||a.dp||(i="PulsePoint LATAM",a=n.prebidBiddersRaw.filter(function(e){return e.dp===i})[0]||{}),"amazon"===r.bidder&&(i="Amazon",a=n.amazonBidders[0]||{});var d=f(o,a,{});d.demand=(i||"").toLowerCase(),d.cpm=r.cpm,d.winning=!!r.winning,d.ttl=r.ttl,d.adId=r.adId,d.auctionId=r.auctionId,d.parentId=n.parentId||"",d.parentInternalId=n.parentInternalId||"",a.floor&&(d.floor=a.floor),l("compass-allbids.deliverimp.com","allbids",e.default.jsonToQueryString(d))})}catch(i){s("Failed to send allbids",i.message),c({code:"allbids_error",message:i.message,tagId:o&&comassST.tagId})}}function g(r,t,o,n,i){var a=f(o,o.demands[o.level]||{},{});a.vBefore=r,a.vAfter=t,a.winner=i,l("compass-viewability.deliverimp.com",n,e.default.jsonToQueryString(a))}function I(r,t,o){var n=f(r,r.demands[r.level]||{},{});n.hbPb=o,l("compass-viewability.deliverimp.com",t,e.default.jsonToQueryString(n))}var y=-1;function w(t,o,n){var i=f(t,o,n);i.cpm=o.cpm||0,i.cache=o.cache,i.cacherev=o.cacherev,/^DFP/i.test(i.demand)||(i.rev=!0),i.loop!==y||(0,r.isSplitTest)(t,"mobileBidCaching")?(s("Sending estimated for the loop ".concat(i.loop,", demand ").concat(i.demand)),y=i.loop,l("compass-events.deliverimp.com","estrev",e.default.jsonToQueryString(i))):s("Estimated for the loop ".concat(i.loop," was sent already"))}
},{"./helpers":"lTk1","./splitTest":"IQ1M","./hb/reverseBiddersMap":"qcVz","./version":"RvaL"}],"PSwN":[function(require,module,exports) {
"use strict";function e(e,t,n){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){4===s.readyState&&s.status>=400?n(s.status,s.responseText):4===s.readyState&&0!==s.status&&t(s.response)},s.onerror=function(){var e;try{e=window.frameElement&&(window.frameElement.id||window.frameElement.name)}catch(t){}n(s.status,s.responseText,e)},s.send()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={get:e};exports.default=t;
},{}],"qPpG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAntiFraudPixel=a,exports.getAdlooxPixel=r;var t=c(require("../helpers"));function c(t){return t&&t.__esModule?t:{default:t}}function a(t,c){var a=t.tagId,r=t.size,o=t.publisherId,i=t.impressionId,n=t.fraudPixelRatio;return n=(c?100:n||50)/100,Math.random()>n?"":e(a,r,o,i,c)}function e(c,a,e,r,o){try{var i=t.default.isMobile()?"Mobile_Web":"Desktop",n=t.default.generateCacheBuster(),d=t.default.getTopWindowDomain(),s=encodeURIComponent(t.default.getTopWindowOrigin()),p=o?";avid=HB":"";return'<script type="text/javascript" src="//cdn.rta247.com/s/brc/aa.js?cb='.concat(n,"#brc;")+"paid=cmp;caid=".concat(c,";publisherId=").concat(e,";siteId=").concat(d,";kv1=").concat(a,";kv2=").concat(s,";kv11=").concat(r,";kv24=").concat(i).concat(p,'"><\/script>')+('<noscript><img src="//adrta.com/i?clid=brc&paid=cmp'+"&caid=".concat(c,"&publisherId=").concat(e,"&siteId=").concat(d,"&kv1=").concat(a,"&kv2=").concat(s,"&kv11=").concat(r,"&kv24=").concat(i).concat(p,'"></noscript>'))}catch(l){return""}}function r(c){var a=c.tagId,e=c.publisherId;if(!1===c.dfpEnabled||Math.random()>.3)return"";t.default.getTopWindowUrl().replace(/^https:\/\/|^http:\/\//,"").split("?")[0].split("#")[0];var r="https://j.adlooxtracking.com/ads/js/tfav_adl_473.js#platform=214&scriptname=adl_473&tagid=956&typejs=tvaf&fwtype=2&creatype=2&targetelt=&custom2area=0&custom2sec=0&id11=display"+"&id1=".concat(a,"&id2=").concat(e);return'<script type="text/javascript" src="'.concat(r,'"><\/script>')}
},{"../helpers":"lTk1"}],"cVlO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCarbonPixel=t;var e=r(require("../helpers"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=e.default.getTopWindowUrl(),n=document.referrer;return'<script src="https://dp.ccgateway.net/v1/da/c45c69aa5c?consentstring=&url='.concat(encodeURIComponent(t),"&referer=").concat(encodeURIComponent(n),'"><\/script>')}
},{"../helpers":"lTk1"}],"P2HH":[function(require,module,exports) {
"use strict";function e(e,t){if(!e.pixalate||!e.pixalate.length)return e.pixalateBlock=!1,t();var a=new XMLHttpRequest;a.open("GET","//al.romsenergy.com/isvalid",!0),a.onreadystatechange=function(){4===a.readyState&&204===a.status?(e.pixalateBlock=!1,t()):4===a.readyState&&(e.pixalateBlock=!0,t())},a.onerror=function(){e.pixalateBlock=!1,t()},a.send()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"iQMw":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function e(r,i,n,o){t(this,e),this.targetId=r,this.creative=i,this.document=n,this.rules=o}return r(e,[{key:"init",value:function(t,e){var r=this.rules;t._patch=this.patch;var i=["25347","25353","25366","25409"].indexOf(e.tagId)>-1&&/msie|trident|edge/i.test(t.navigator.userAgent);t._patch(r,t,e,i);var n="<div id='"+this.targetId+"'>"+this.creative+"</div>";this.document.write(n)}},{key:"patch",value:function(t,e,r,i){var n="appendChild";if(e._cstpr=e._cstpr||{},r)try{e._cstpr.impressionId=r.iid,e._cstpr.size=r.size,e._cstpr.tagId=r.tagId}catch(c){}if(!e.document.oldWrite){e.document.oldWrite=e.document.write,e.Node.__bf__=e.Node.__bf__||{},/native code/.test(e.Node.prototype[n].toString())&&(e.Node.__bf__[n]=e.Node.prototype[n]);var o=function(t,r){var i=new Image,n="tagId="+e._cstpr.tagId+"&iid="+e._cstpr.impressionId+"&size="+e._cstpr.size+"&rule="+encodeURIComponent(r)+"&partner="+encodeURIComponent(e._cstpr.partner);i.src="//adloox-blocks.deliverimp.com/cprotector?"+n},a=function(){var n=arguments;if(0!==n.length){for(var a=0,s=String(n[0]),d=0;d<t.length;d++)if(s.indexOf(t[d])>=0){o(0,t[d]),a=1;break}if(!a&&"string"==typeof s){if(e._cstpr_fl>0){var p=function(t){var e=t.match(/\/\/(?:[a-z-]+\.)+[a-z-]+/),r="";e&&e[0]&&(r=e[0].split(".").slice(-2).join("."));if(/pw\.min\.js/.test(t)){var i=function(t){try{var e=t.match(/bidder:"(.*?)"/g);if(!e||!e.length)return"";for(var r=[],i=0,n=e.length;i<n;i++)"string"==typeof e[i]&&r.push(e[i].slice(8,-1));return r.join(", ")}catch(c){}}(t);r=i||r,r+=" (postbid)"}return r}(s);p?(e._cstpr.partner=p,e._cstpr_fl=0):e._cstpr_fl--}(/^<div.*sandboxed-ad.*compass\?iid=.*div>$/.test(s)||/^<script.*\/pb\?iid=.*script>$/.test(s))&&(e._cstpr_fl=2);var f=function(t){var e=t.match(/(<iframe.*?><\/iframe>)/g);if(!e||!e.length)return[[t,""]];for(var r=t,i=[],n=0;n<e.length;n++){var o=e[n],a=r.split(o),c=a[0];r=a.slice(1).join(o);var s=Math.floor(999999*Math.random()),d=c+o.replace(/<iframe/,"<iframe test-id="+s);i.push([d,s])}r&&i.push([r,""]);return i}(s);for(d=0;d<f.length;d++){var l=f[d];if(e.document.oldWrite.call(e.document,l[0]),l[1]&&!/msie|trident|edge/i.test(e.navigator.userAgent))try{var u=e.document.querySelector("[test-id='"+l[1]+"']");u.contentWindow._patch=e._patch,u.contentWindow._cstpr=JSON.parse(JSON.stringify(e._cstpr)),u.contentWindow._patch(t,u.contentWindow,r,i)}catch(c){}}}}};i?document.write=a:e.document.write=a,/native code/.test(e.Node.prototype[n].toString())&&(e.Node.prototype[n]=function(a){var s=a.src||"",d=0;if(a&&"IFRAME"===a.tagName&&(0!=s.indexOf("https://")&&0!=s.indexOf("http://")||-1!=s.indexOf(e.location.hostname))){var p=a.onload;a.onload=function(n){try{if(a.contentWindow._patch=e._patch,!a.contentWindow._cstpr)try{a.contentWindow._cstpr=JSON.parse(JSON.stringify(e._cstpr))}catch(c){}a.contentWindow._patch(t,a.contentWindow,r,i),p&&p.call(a,n)}catch(c){if(p)try{p.call(a,n)}catch(c){}}}}else if(a&&"SCRIPT"===a.tagName&&s)for(var f=0;f<t.length;f++)if(s.indexOf(t[f])>=0){o(0,t[f]),d=1;break}d||e.Node.__bf__[n].apply(this,arguments)})}}}]),e}(),n=i;exports.default=n;
},{}],"pfYc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./protector"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e,t,i){window.confiantWrap=function(e,t,i,r,n){function a(e){return(s(e)||"")[w]("/","_")[w]("+","-")}var d=t.bidder,o=t.size,c=e.parentWindow||e.defaultView,u=c.JSON,s=c.btoa,p=c.encodeURIComponent;if(!u||!s)return!1;var l="script",m="src",w="replace",f="error",b="stringify",v="write",_="https://"+i+"/?wrapper="+p(r)+"&tpid=",g={k:{hb_bidder:[d],hb_size:[o]}};return function(){var i=a(r+"/"+g.k.hb_bidder[0]+":"+g.k.hb_size[0]),d={wh:i,wd:u.parse(u[b](g)),wr:0};!function(t,i,r){var n=_+p(t)+"&d="+i,a="err__"+1*new Date;c[a]=r;var d="<"+l+" on"+f+'="void('+a+'())" '+m+'="'+n+'" type="text/java'+l+'" ></'+l+">";e[v](d)}(i,a(u[b](d)),function(){e[v](t.ad)});var o={prebid:{adId:t.adId,cpm:t.cpm}},s={d:d,t:t.ad,cb:n,id:o};c[r]={},c[r][i]=s}(),!0};var r={ad:t,bidder:"brightcom",size:i};confiantWrap(e,r,"clarium.global.ssl.fastly.net","C-8aLarw5k-v1_-pKNB78bTSSJA",null)||document.write(r.ad)}function r(e,t){var i='<div id="grumi-container"><script type="text/javascript">!function(d,i){var A={wver:"1.1.2",wtype:"dfp",key:"70b705bf-8539-436a-82c8-130cdb71e9fb",meta:{adup:"%%ADUNIT%%",dest:"%%DEST_URL_ESC%%",w:"%%WIDTH%%",h:"%%HEIGHT%%",li:"%eaid!",adv:"%eadv!",ord:"%ebuy!",cr:"%ecid!",aduid:"%epid!",haduid:"%esid!",isAfc:"%_isAfc!",isAmp:"%_isAmp!",qid:"%qid!",cust_imp:"%cust_imp!",cust1:"%cust1!",cust2:"%cust2!",cust3:"%cust3!",caid:"%caid!",di:"%DEMAND_ID!",dn:"%DEMAND_NAME!",dcid:"%DEMAND_CREATIVE_ID!",pid:"%PUBLISHER_ID!",pn:"%PUBLISHER_NAME!"},sp:"dfp",cfg:{},pbAdId:"%%PATTERN:hb_adid%%",pbAdIdAst:"%%PATTERN:hb_adid_appnexusAst%%",pbBidder:"%%PATTERN:hb_bidder%%",hbPb:"%%PATTERN:hb_pb%%",hbCid:"%_hbcid!"};window.grumi=A}();<\/script><textarea style="display: none;" id="template0">'+t+'</textarea><script type="text/javascript">!function(n){var r=window.grumi.key,o=1*new Date;document.getElementById("grumi-container");function i(){var e=function(){for(var e,t=document.getElementsByTagName("textarea"),n=t.length-1;0<=n;n--)if("template0"===t[n].id){e=t[n];break}return e}();return e&&e.value}function a(e){var t=i();document.write(t),document.close(),e&&top.postMessage&&top.postMessage({netErr:!0,key:grumi.key,adup:grumi.meta.adup,html:t},"*")}window.grumi.tag=i(),window.grumi.scriptHost=n,function(){var e=document.createElement("script");e.type="text/javascript",e.src=n+r+"/grumi.js",e.className="rm",e.id=o;var t="_"+1*new Date;window[t]=function(){a(!0)},window.grumi.start=1*new Date;try{document.write(e.outerHTML.replace(\'class="rm"\',\'onerror="\'+t+\'();"\'))}catch(e){a()}}();var t=setTimeout(function(){var e=document.getElementById(o);e&&null===function(e){if(void 0!==e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t}(e)&&a(),clearTimeout(t)},1e3)}(("http"===window.location.protocol.substr(0,4)?window.location.protocol:"https:")+"//rumcdn.geoedge.be/");<\/script></div>';e.write(i)}function n(t,i,r,n){var a=new e.default("sandboxed-ad",i,t,n),d=t.defaultView||t.parentWindow;a.init(d,r)}var a={writeWithConfiant:i,writeWithGeoEdge:r,writeWithProtector:n};exports.default=a;
},{"./protector":"iQMw"}],"ZLZB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./helpers"));function s(t){return t&&t.__esModule?t:{default:t}}var e=t.default.dfpTargetingToString,a={"Direct Deal":function(t){return t.customScript},"Default Creative":function(t){return t.customScript},"WF Filler":function(t){return'<a href="//www.theperspective.com" target=_blank><img border=0 src="//cdn.marphezis.com/banners/perspective_'+t.size+'.jpg"></a>'},"DFP LATAM":function(t,s,a){return'<script type="text/javascript" src="//www.googletagservices.com/tag/js/gpt.js">var slot = googletag.pubads().definePassback("/78655843/'+(t.dfp_ad_unit_code||t.adx_ad_unit_code)+'", ['+t.width+", "+t.height+"])"+(s?'.set("page_url","'+s+'")':"")+e(a)+";var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.initDfp(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log('No compassST')}slot.display();<\/script>"},DFP:function(t,s,a){return'<script type="text/javascript" src="//www.googletagservices.com/tag/js/gpt.js">var slot = googletag.pubads().definePassback("/76043757/'+(t.dfp_ad_unit_code||t.adx_ad_unit_code)+'", ['+t.width+", "+t.height+"])"+(s?'.set("page_url","'+s+'")':"")+e(a)+";var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.initDfp(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log('No compassST')}slot.display();<\/script>"},"DFP DCL":function(t,s,a){return'<script type="text/javascript" src="//www.googletagservices.com/tag/js/gpt.js">var slot = googletag.pubads().definePassback("/21704706682/'+(t.dfp_ad_unit_code||t.adx_ad_unit_code)+'", ['+t.width+", "+t.height+"])"+(s?'.set("page_url","'+s+'")':"")+e(a)+";var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.initDfp(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log('No compassST')}slot.display();<\/script>"},"DFP WILDFI":function(t,s,a){return'<script type="text/javascript" src="//www.googletagservices.com/tag/js/gpt.js">var slot = googletag.pubads().definePassback("/21758950839/'+(t.dfp_ad_unit_code||t.adx_ad_unit_code)+'", ['+t.width+", "+t.height+"])"+(s?'.set("page_url","'+s+'")':"")+e(a)+";var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.initDfp(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log('No compassST')}slot.display();<\/script>"},"33Across":function(t){var s=t.guid,e=t.size;return"<script id='"+s+"d"+e+"'> var Tynt=Tynt||[];Tynt.push('"+s+"'); Tynt.cmd=Tynt.cmd||[];Tynt.cmd.push(function(){ Tynt.ads.display('"+e+"','"+s+"d"+e+"','inpage');}); (function(){var h,s=document.createElement('script'); s.src=(window.location.protocol==='https:'? 'https':'http')+'://cdn.tynt.com/siab.js'; h=document.getElementsByTagName('script')[0]; h.parentNode.insertBefore(s,h);})(); <\/script>"},"33AcrossMA":function(t){var s=t.script_id;return"<script id='"+s+"'> var Tynt=Tynt||[];Tynt.push('"+t.guid+"'); Tynt.cmd=Tynt.cmd||[];Tynt.cmd.push(function(){ Tynt.ads.display('"+t.size+"','"+s+"','inpage');}); (function(){var h,s=document.createElement('script'); s.src=(window.location.protocol==='https:'? 'https':'http')+'://cdn.tynt.com/siab.js'; h=document.getElementsByTagName('script')[0]; h.parentNode.insertBefore(s,h);})();<\/script>"},DistrictM:function(t){var s=t.id;return'<script type="text/javascript" src="//st.districtm.ca/params.'+s+'.js"><\/script><script type="text/javascript">var districtmSuperTag = {id: '+s+', domain: "'+t.domain+'", sizes: ["'+t.size+'"], zone: '+t.zone+", floor_price_usd: "+t.floor+', ad_server_tag_name: "%%ADUNIT%%", cache_buster: "%%CACHEBUSTER%%", passback_url: "" }; <\/script><script type="text/javascript" src="//st.districtm.ca/supertag.js"><\/script>'},Synacor:function(t){var s=t.size,e=t.section1,a=t.section2,c=t.section3;return'<script type="text/javascript" src="'+("https:"==window.location.protocol?"https://uat-secure.technoratimedia.com":"http://ad-cdn.technoratimedia.com")+"/00/"+a+"/"+c+"/uat_"+e+".js?ad_size="+s+'"><\/script>'}};exports.default=a;
},{"./helpers":"lTk1"}],"MA0g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={"1vd78jk":"2.09","2ztfr4":"2.06","1ivpibk":"0.61","114fhts":"0.63",ycjk00:"0.64",gl9ji8:"0.66","1g3tkhs":"0.67",pgwjr4:"0.68","7pmj9c":"0.70","1786k8w":"0.71",twq1vk:"0.72",c5g1ds:"0.74","1bo02dc":"0.75",l131mo:"0.76","39t14w":"0.78","12sd24g":"0.79",w4msxs:"0.80","1vn6txc":"0.81","1dvwtfk":"0.83",n8zsow:"0.84","1mrjtog":"0.85","1509t6o":"0.87",rotatc:"0.88","1r7dbsw":"0.89","19g3bb4":"0.91",it6akg:"0.92","1ibqbk0":"0.93","10kgb28":"0.95",zghxj4:"0.96","1yz1yio":"0.97","1h7ry0w":"0.99",qkuxa8:"1.00","8tkwsg":"1.02","18c4xs0":"1.03",v0ofeo:"1.04",d9eeww:"1.06","1cryfwg":"1.07",m51f5s:"1.08","13wbfnk":"1.11",x8l6gw:"1.12","1wr57gg":"1.13","1ezv6yo":"1.15",ocy680:"1.16","1nvi77k":"1.17","16486ps":"1.19",ssrocg:"1.20","1wh5m2o":"2.41",f7bklc:"2.42",o2yku8:"2.44","1nlilts":"2.45","15u8lc0":"2.47",sis2yo:"2.48",ari2gw:"2.50","1aa23gg":"2.51","1j5p3pc":"2.53","1vv280":"2.54",xnkkjk:"2.56","1x64lj4":"2.57","1feul1c":"2.59",orxkao:"2.60","1oahla8":"2.61","70njsw":"2.62",t7r2f4:"2.64","1sqb3eo":"2.65","1az12ww":"2.67",kc4268:"2.68","1juo35s":"2.69","123e2o0":"2.71",vfnthc:"2.72",dodszk:"2.74","1d6xtz4":"2.75","1m2ku80":"2.77","4sqsqo":"2.78","14batq8":"2.79","1qieccg":"2.81","98kav4":"2.82",i47b40:"2.84","1hmrc3k":"2.85",zvhbls:"2.87",yriy2o:"2.88","1ya2z28":"2.89","1gisykg":"2.91",pvvxts:"2.92","84lxc0":"2.94","17n5ybk":"2.95",ubpfy8:"2.96",ckffgg:"2.98","1c2zgg0":"2.99",k58u80:"27.00",ib2j28:"31.00",ttlog0:"34.00","1be0gzk":"2.03","14qa7sw":"2.15",mz07b4:"2.12","9njoxs":"2.18","1lnlg5c":"1.09","111xlhc":"5.75","1fjudq8":"0.03","16o7dhc":"0.07",blgum8:"0.10","2ptudc":"0.14","1v37n5s":"0.17","4xqlfk":"0.22","9dk3k0":"0.26","100h4ao":"0.31","1gnsr9c":"0.35","17s5r0g":"0.39","1c7z94w":"0.43","13cc8w0":"0.47","1efw074":"0.51","15k8zy8":"0.55",ahih34:"0.58","1lvgu8":"0.62","1xv3kzk":"0.65","1ozgkqo":"0.69","1tfa2v4":"0.73","1kjn2m8":"0.77",edcsg0:"0.82","5hps74":"0.86","9xjabk":"0.90","11wa2o":"0.94",hp7x1c:"0.98","1q3ey9s":"1.01","1uj8ge8":"1.05","4dreo0":"1.10",fhb5z4:"1.14","6lo5q8":"1.18","1ak1ou8":"1.23","11oeolc":"1.27","1f9uscg":"1.31","16e7s3k":"1.35","1au1a80":"1.39","11ye9z4":"1.43","1d1y1a8":"1.47","146b11c":"1.51","18m4j5s":"1.55",zqhiww:"1.59","1gdt5vk":"1.63","17i65mo":"1.67","1bxznr4":"1.71","132cni8":"1.75","1e5wetc":"1.79","15a9ekg":"1.83","19q2wow":"1.87","10ufwg0":"1.91",gb9y4g:"1.94","7fmxvk":"1.98","1sbbpc0":"1.21",b1hnuo:"1.22",jx4o3k:"1.24","1jfop34":"1.25","25unls":"1.26",xikruo:"1.28","1x14su8":"1.29",frarcw:"1.30",omxrls:"1.32","1o5hslc":"1.33","6vnr40":"1.34",t2r9q8:"1.36","1slbaps":"1.37",bbh98g:"1.38",k749hc:"1.40","1jpoagw":"1.41","2fu8zk":"1.42",vao0sg:"1.44","1ut81s0":"1.45",dje0ao:"1.46",mf10jk:"1.48","1lxl1j4":"1.49","4nr01s":"1.50",quuio0:"1.52","1qdejnk":"1.53","93ki68":"1.54",hz7if4:"1.56","1hhrjeo":"1.57","7xhxc":"1.58",ymj5ds:"1.60","1y536dc":"1.61",gv94w0:"1.62",pqw54w:"1.64","1p9g64g":"1.65","7zm4n4":"1.66",u6pn9c:"1.68","1tp9o8w":"1.69",cffmrk:"1.70",lb2n0g:"1.72","1ktmo00":"1.73","3jsmio":"1.74",wemebk:"1.76","1vx6fb4":"1.77",encdts:"1.78",nize2o:"1.80",e5v3eo:"8.50",ofg2kg:"9.00",uj74zk:"10.00","9et1q8":"10.50",l2bzsw:"11.00","273ls0":"11.50",hgh9ts:"12.50",ml9reo:"13.00","7lvoqo":"13.50",cbos8w:"14.50",iffuo0:"15.00","2okw74":"15.50",fg27sw:"16.50",ppn6yo:"17.00","56h8n4":"17.50",lysoao:"19.00","1or28":"19.50",ntlgjk:"21.00",qvgzr4:"22.00",jnrjsw:"23.00",p2jmrk:"25.00",uettds:"26.00",wwq5ts:"28.00",n24kqo:"29.00",rrxo8w:"30.00",xkg740:"32.00",qcqr5s:"33.00",l7y9kw:"35.00","1xb4e80":"0.01",g1acqo:"0.02",owxczk:"0.04","1ofhdz4":"0.05","75nchs":"0.06",tcqv40:"0.08","1svaw3k":"0.09","1b40vls":"0.11",kh3uv4:"0.12","1jznvuo":"0.13","128dvcw":"0.15",vknm68:"0.16",dtdlog:"0.18","1dbxmo0":"0.19",mp0lxc:"0.20","1m7kmww":"0.21","14gamf4":"0.23",r4u41s:"0.24","1qne51c":"0.25","18w44jk":"0.27",i973sw:"0.28","1hrr4sg":"0.29",hx3b4:"0.30",ywiqrk:"0.32","1yf2rr4":"0.33",h58q9s:"0.34",q0vqio:"0.36","1pjfri8":"0.37","89lq0w":"0.38",ugp8n4:"0.40","1tz99mo":"0.41",cpf85c:"0.42",ll28e8:"0.44","1l3m9ds":"0.45","3ts7wg":"0.46",wolzpc:"0.48","1w760ow":"0.49",exbz7k:"0.50",nsyzgg:"0.52","1nbj0g0":"0.53","61oyyo":"0.54",s8shkw:"0.56","1rrcikg":"0.57","1a02i2o":"0.59",jd5hc0:"0.60",bvgg00:"2.02",vun7k0:"2.08","57q6tc":"2.14","1963pxc":"2.19","1i1qq68":"2.21","1yp2d4w":"2.25","1ptfcw0":"2.29","1u98v0g":"2.33","1ldlurk":"2.37",wyll34:"2.40","1epvlkw":"2.43","6bokcg":"2.46","1s1c3y8":"2.49",jn52ps:"2.52","11ef37k":"2.55",fwak1s:"2.58","16j7ksg":"2.63",bgh1xc:"2.66","2ku1og":"2.70","1uy7ugw":"2.73",mk0t8g:"2.76",qzubcw:"2.80","18r4buo":"2.83",cxam8:"2.86",h08xkw:"2.90","1pefytc":"2.93","1tu9gxs":"2.97",lg2fpc:"3.00","19v2pds":"3.15",c0g8ow:"3.30","1r2dj40":"3.45",uvomps:"3.60","15z8e0w":"3.75","6qnyf4":"3.90",zlhq80:"4.15","3estts":"4.30","1igq48w":"4.45","16t7668":"4.55","52qe4g":"4.70","1pofk74":"4.85",nxys5c:"5.00","1qv9j4":"5.10","14dsq2o":"5.35","1c5hcsg":"5.55","1n1jf28":"1.81","5rpdkw":"1.82",rysw74:"1.84","1rhcx6o":"1.85",a7ivpc:"1.86",j35vy8:"1.88","1ilpwxs":"1.89","1bvvgg":"1.90",y2jym8:"1.92","1xl3zls":"1.93","1fttz40":"1.95",p6wydc:"1.96","1opgzcw":"1.97","16y6yv4":"1.99",tmqghs:"2.00","1t5ahhc":"2.01",kr3g8w:"2.04","1k9nh8g":"2.05","12idgqo":"2.07",e3d728:"2.10","1dlx81s":"2.11","1mhk8ao":"2.13",retpfk:"2.16","1qxdqf4":"2.17",ij6p6o:"2.20",rwoow:"2.22","10agpog":"2.23",z6ic5c:"2.24",hf8bnk:"2.26","1gxscn4":"2.27",qavbwg:"2.28","8jlbeo":"2.30","1825ce8":"2.31",uqou0w:"2.32",czetj4:"2.34","1chyuio":"2.35",lv1ts0:"2.36","43rta8":"2.38","13mbu9s":"2.39","1w26800":"3.05","5wp69s":"3.10",y7jrb4:"3.20","1ougs1s":"3.25","12nd9fk":"3.35",n40000:"3.40",wwhds:"3.50","1h2s5c0":"3.55","1lilngg":"3.65",fcbda8:"3.70",js4veo:"3.80","1ww505c":"3.85","1ap1hj4":"3.95",v5o83k:"4.00","1lsl8u8":"4.05","8ykphc":"4.10",plwcg0:"4.20","1tk9vk0":"4.25","1e0wm4g":"4.35",rtt3i8:"4.40",g6a5fk:"4.50",km3nk0:"4.60","1v87fuo":"4.65","1913x8g":"4.75",z1ijgg:"4.80",cuf0u8:"4.90","13hc1kw":"4.95","1rwcb9c":"5.05","1fhchds":"5.15",ta8yrk:"5.20","1jx5zi8":"5.25",dqvpc0:"5.30",i6p7gg:"5.40","1yckveo":"5.45","873tog":"5.50",wm43cw:"5.60","1n9143k":"5.65",af0kqo:"5.70","1tcs6io":"5.85","37b4sg":"5.90","1dtex34":"5.95",rmbegw:"6.00",hmq0ow:"6.10","189n1fk":"6.15","1wonb40":"6.25","6j69ds":"6.30",xg2vi8:"6.40","1o2zw8w":"6.45",b8zcw0:"6.50",peeneo:"5.80","1i98f7k":"6.05",m2jitc:"6.20","1ahjshs":"6.35","11vwdmo":"6.55","5flkw":"6.70","1kr4rnk":"6.85","1xim39c":"7.05","1mf2by8":"7.25",q8dfk0:"7.40",sga6m8:"7.60","16gpog0":"7.75","18omfi8":"7.95","5k7ojk":"9.50",wfvchs:"12.00",sp0tts:"14.00",ybalts:"16.00",t6i48w:"18.00",ab9q80:"18.50",voegow:"20.00",zc4lxc:"24.00",mcj474:"6.60","1qawnb4":"6.65","1gbb9j4":"6.75",u47qww:"6.80",ekuhhc:"6.90","157ri80":"6.95",j0nzls:"7.00","7d51j4":"7.10","1bbikn4":"7.15",vs5b7k:"7.20","9l1slc":"7.30","107ytc0":"7.35","1u6qyo0":"7.45","419wxs":"7.50","1endp8g":"7.55","1j377cw":"7.65",ftsnpc:"7.70",k9m5ts:"7.80","1uvpy4g":"7.85","4q8we8":"7.90",yp11q8:"8.00"};exports.default=o;
},{}],"gB0C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(require("./helpers"));function o(n){return n&&n.__esModule?n:{default:n}}var e=n.default.log;function _(n,o,_,r){e("Choosing strategy:",n,o,_,r);var t=r.prebidWinningBid,d=void 0===t?0:t,u=r.amazonAdjustedBid,a=void 0===u?0:u,i=r.auctionFloorPrice,s=void 0===i?0:i,c=r.adxThreshold,A=void 0===c?0:c;return function n(o,e,_){var r={Amazon_no_Adx_no_IVT_no:function(){return d>s?"renderPrebid":"nextLevel"},Amazon_no_Adx_no_IVT_yes:function(){return n(o,e,"no")},Amazon_yes_Adx_no_IVT_no:function(){return a>Math.max(d,s)?"sendDfp":n("no","no","no")},Amazon_yes_Adx_no_IVT_yes:function(){return n(o,e,"no")},Amazon_yes_Adx_yes_IVT_yes:function(){return n("no","no","no")},Amazon_yes_Adx_yes_IVT_no:function(){return!A||a>Math.max(d,s)||d>s&&d<A?"sendAdx":n("no","no","no")},Amazon_no_Adx_yes_IVT_yes:function(){return n("no","no","no")},Amazon_no_Adx_yes_IVT_no:function(){return!A||d>s&&d<A?"sendAdx":n("no","no","no")}};return r["Amazon_".concat(o,"_Adx_").concat(e,"_IVT_").concat(_)]()}(n,o,_)}var r=_;exports.default=r;
},{"./helpers":"lTk1"}],"FCGJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../constants")),t=require("../splitTest"),r=n(require("../helpers"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return d(e)||l(e)||s(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}var h=e.default.RENDER_DELTA,b=e.default.PREBID_REFRESH_DELTA,g=e.default.PREBID_REFRESH,m=e.default.CUSTOM_FLOOR_ADJUSTMENT,O=r.default.log,j=function(){function e(){p(this,e),this.storage={}}return y(e,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.storage[e];!r&&n?n.push.apply(n,c(t)):this.storage[e]=c(t)}},{key:"setMany",value:function(e,t){for(var r in e)this.set(r,e[r].bids,t)}},{key:"get",value:function(e,t){var r=this.storage[e];if(r){for(var n,o=[],i=0,a=0;a<r.length;a++){var c=r[a],u="rendered"===c.status;this.isBidExpired(c)||u||(!c.locked&&c.cpm>i&&!this.isBidderRecentlyRendered(t,c)&&(i=c.cpm,n=c),o.push(c))}return this.set(e,o,!0),n}}},{key:"getWithoutClearing",value:function(e,t,r){if(t&&r&&r.rendered&&r.ts){for(var n,o=0,i=0;i<t.length;i++){var a=t[i],c="rendered"===a.status;a.locked||this.isBidExpired(a,r.ts)||c||this.isBidderRecentlyRendered(e,a,r)||a.cpm>o&&(o=a.cpm,n=a)}return n&&(n.locked=!0,r.rendered[n.bidder]=r.ts),n}}},{key:"getCustomFloor",value:function(e,t,r){O("Getting custom floor");var n=c(this.storage[e]||[]);if(n){var o=Date.now(),a=i({},t.rendered||{}),u=(t.loopStart+1e3*t.refreshInterval-o)/1e3;O("Next loop in ".concat(u.toFixed(1)," seconds"));var s=void 0!==r?r:Math.ceil((u-2*b)/g);if(O("Possible refreshes: ".concat(s)),!(s<=0)){for(var l,d=[],f=0;f<s;f++){l=f*g*1e3+o;var p=this.getWithoutClearing(t,n,{rendered:a,ts:l});if(!p){O("Refresh ".concat(f,". Bid not found"));break}O("Refresh ".concat(f,". Found bid:"),p),d.push(p)}for(var v=0,y=d;v<y.length;v++){delete y[v].locked}var h=d.reduce(function(e,t){return e+t.cpm},0)-m;return O("Custom floor: ".concat(h)),h}}}},{key:"isBidderRecentlyRendered",value:function(e,r,n){if(!(0,t.isSplitTest)(e,"mobileBidCaching"))return!1;var o=n&&n.rendered||e.rendered||{},i=n&&n.ts||Date.now(),a=1e3*(e.refreshInterval-h),c=r.bidder;return!!(o[c]&&i-o[c]<a)&&(O("Skipping ".concat(c," cached bid ").concat(r.cpm," as only ")+"".concat(((i-o[c])/1e3).toFixed(1)," sec passed after render")),!0)}},{key:"getMany",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,r){return i(i({},t),{},a({},r,e.get(r)))},{})}},{key:"isBidExpired",value:function(e,t){var r=e.responseTimestamp,n=1e3*e.ttl;return(t=t||(new Date).getTime())>r+n-1e3}}]),e}(),E=j;exports.default=E;
},{"../constants":"iJA9","../splitTest":"IQ1M","../helpers":"lTk1"}],"Xi9k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../splitTest"),n=e(require("../helpers"));function e(i){return i&&i.__esModule?i:{default:i}}function t(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function s(i,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function r(i,n,e){return n&&s(i.prototype,n),e&&s(i,e),i}function a(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}var o=function(){function e(i,n){t(this,e),a(this,"priceGranularityConfig",{buckets:[{precision:2,min:0,max:1,increment:.01},{precision:2,min:1,max:5,increment:.02},{precision:2,min:5,max:10,increment:.1},{precision:2,min:10,max:28.8,increment:.2}]}),this.win=i,this.compassST=n}return r(e,[{key:"aliasBidders",value:function(){this.win.pbjs.aliasBidder("openx","openxlimpid"),this.win.pbjs.aliasBidder("rubicon","rubiconlimpid"),this.win.pbjs.aliasBidder("pubmatic","pubmaticlimpid"),this.win.pbjs.aliasBidder("pubmatic","pubmaticsparc"),this.win.pbjs.aliasBidder("conversant","conversantono"),this.win.pbjs.aliasBidder("appnexus","appnexusbrave"),this.win.pbjs.aliasBidder("appnexus","appnexustailwind")}},{key:"setPrebidConfig",value:function(){this.win.pbjs.setConfig({priceGranularity:this.priceGranularityConfig,userSync:{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:180}}],iframeEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}}}),n.default.withCMP(this.win)&&this.win.pbjs.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,allowAuctionWithoutConsent:!0},usp:{cmpApi:"iab",timeout:1e3}}})}},{key:"addSchain",value:function(){(0,i.isSplitTest)(this.compassST,"schain")&&(this.win.pbjs.setBidderConfig({bidders:["33across","aol","openx","smartadserver","oftmedia","improvedigital","sonobi","triplelift"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"brightcom.com",sid:this.compassST.publisherId,hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["rhythmone","appnexus","conversantono"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"onomagic.com",sid:this.compassST.publisherId+"1",hp:1}]}}}}),this.win.pbjs.setBidderConfig({bidders:["ix"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"audienciad.com",sid:this.compassST.publisherId+"2",hp:1}]}}}}))}},{key:"addRubiconSchain",value:function(){this.win.pbjs.setBidderConfig({bidders:["rubicon"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"onomagic.com",sid:this.compassST.publisherId+"1",hp:1}]}}}})}},{key:"setBidCpmAdjustment",value:function(){this.win.pbjs.bidderSettings={aardvark:{bidCpmAdjustment:function(i,n){return.85*i}},sovrn:{bidCpmAdjustment:function(i,n){return.875*i}},oftmedia:{bidCpmAdjustment:function(i,n){return.85*i}},openxlimpid:{bidCpmAdjustment:function(i,n){return.875*i}},rubiconlimpid:{bidCpmAdjustment:function(i,n){return.875*i}},adagiolimpid:{bidCpmAdjustment:function(i,n){return.875*i}},pubmaticlimpid:{bidCpmAdjustment:function(i,n){return.875*i}},pubmaticsparc:{bidCpmAdjustment:function(i,n){return.9*i}},conversant:{bidCpmAdjustment:function(i,n){return.8*i}},consumable:{bidCpmAdjustment:function(i,n){return 1*i}},appnexusbrave:{bidCpmAdjustment:function(i,n){return.9*i}},appnexustailwind:{bidCpmAdjustment:function(i,n){return.9*i}},improvedigital:{bidCpmAdjustment:function(i,n){return.82*i}}}}},{key:"setupPrebid",value:function(){this.aliasBidders(),this.setPrebidConfig(),this.addSchain(),this.addRubiconSchain(),this.setBidCpmAdjustment()}}]),e}(),d=o;exports.default=d;
},{"../splitTest":"IQ1M","../helpers":"lTk1"}],"qW0u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../helpers")),t=require("../splitTest");function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}var o=e.default.log,r=function(){function e(t,i,s){n(this,e),this.win=t,this.compassST=i,this.config=s}return a(e,[{key:"loadPrebid",value:function(){if((0,t.isSplitTest)(this.compassST,"bidCaching")||(0,t.isSplitTest)(this.compassST,"mobileBidCaching"))o("[loadPrebid]","Use existing prebid instance"),this.win.pbjs=this.compassST.pbjs;else{o("[loadPrebid]","Load prebid script");var e=this.win.document.createElement("script");e.type="text/javascript",e.async=!0,"24866"===this.compassST.tagId?e.src="//cdn.topsrvimp.com/cmpp/prebid_nature4.9.0.js":e.src="//cdn.marphezis.com/cmpp/prebid4.9.0.js",this.win.document.body||this.win.document.documentElement.appendChild(this.win.document.createElement("body")),this.win.document.body.appendChild(e)}}},{key:"loadAmazon",value:function(){!function(e,t,i,n,s,a,o){function r(i,n){t[e]._Q.push([i,n])}t[e]||(t[e]={init:function(){r("i",arguments)},fetchBids:function(){r("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(a=i.createElement(n)).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=i.getElementsByTagName(n)[0]).parentNode.insertBefore(a,o))}("apstag",this.win,this.win.document,"script"),this.win.apstag.init({pubID:"48266a61-b3d9-4cb7-b172-553abc6a42a4",adServer:"googletag"})}},{key:"loadLibraries",value:function(){this.config.isPrebid&&this.loadPrebid(),this.config.isAmazon&&this.loadAmazon()}}]),e}(),c=r;exports.default=c;
},{"../helpers":"lTk1","../splitTest":"IQ1M"}],"pLkT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=["www.bing.com","r.search.yahoo.com","getpocket.com","search.yahoo.com","tpc.googlesyndication.com","pubads.g.doubleclick.net","t.co","duckduckgo.com","www.msn.com","r.search.aol.com","us.search.yahoo.com","cn.bing.com","mail.tiscali.it","mail.yahoo.com","www.yahoo.com","principiabio.arreya.com","www.fool.ca","www.essinta.com","www.wcvb.com","prod.uhrs.playmsn.com","canary-","wlos.com","wgntv.com","www.wcvb.com","www.wtnh.com","motorsport.uol.com.br","www.nbcchicago.com","www.bing.com","www.wbal.com","www.ksbw.com","www.koamnewsnow.com","www.woodtv.com","www.fox29.com","www.protopage.com"];exports.default=o;
},{}],"m7GI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={"300x250":62792,"728x90":62804,"160x600":62803,"300x600":62806,"320x50":62805,"970x90":62916,"970x250":81960,"320x480":75884};exports.default=e;
},{}],"Hk1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={"33Across":{bidder:"33across"},Rubicon:{bidder:"rubicon",floor:"floor",type:"float"},"Index Latam":{bidder:"ix"},"AOL LATAM":{bidder:"aol",floor:"bidFloor",type:"string"},OpenX:{bidder:"openx",floor:"customFloor",type:"float"},"Smart LATAM":{bidder:"smartadserver",floor:"bidfloor",type:"float"},"152Media":{bidder:"oftmedia"},PulsePoint:{bidder:"pulsepoint",floor:"bidfloor",type:"float"},"PulsePoint LATAM":{bidder:"pulsepoint",floor:"bidfloor",type:"float"},DistrictM:{bidder:"districtm"},"DistrictM DMX":{bidder:"districtmDMX",floor:"floor",type:"string"},ImproveDigital:{bidder:"improvedigital",floor:"bidFloor",type:"float"},Sharethrough:{bidder:"sharethrough",floor:"bidfloor",type:"float"},SovrnLimpid:{bidder:"sovrn",floor:"bidfloor",type:"srting"},RhythmOne:{bidder:"rhythmone"},OpenXLimpid:{bidder:"openxlimpid",floor:"customFloor",type:"float"},RubiconLimpid:{bidder:"rubiconlimpid",floor:"floor",type:"float"},Conversant:{bidder:"conversant",floor:"bidfloor",type:"float"},Consumable:{bidder:"consumable"},AppNexus:{bidder:"appnexus",floor:"reserve",type:"float"},AppNexusBrave:{bidder:"appnexusbrave",floor:"reserve",type:"float"},AppNexusTailwind:{bidder:"appnexustailwind",floor:"reserve",type:"float"},Colossus:{bidder:"colossusssp"},Sonobi:{bidder:"sonobi",floor:"floor",type:"float"},TripleLift:{bidder:"triplelift",floor:"floor",type:"float"},Adagio:{bidder:"adagio"},AdagioLimpid:{bidder:"adagiolimpid"},PubmaticLimpid:{bidder:"pubmaticlimpid",floor:"kadfloor",type:"string"},ConversantOno:{bidder:"conversantono",floor:"bidfloor",type:"float"},PubmaticSparc:{bidder:"pubmaticsparc",floor:"kadfloor",type:"string"}};exports.default=o;
},{}],"frFy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../helpers")),r=o(require("./openxBlacklistDomains")),t=o(require("./smartFormatMap")),i=require("../tracking"),n=require("../splitTest"),a=o(require("./biddersMap")),d=o(require("../constants"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){u(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,r,t){return r&&p(e.prototype,r),t&&p(e,t),e}var h=e.default.log,m=d.default.RENDER_DELTA,b=function(){function d(e,r,t,i){l(this,d),this.win=e,this.compassST=r,this.demand=t,this.refreshId=i,this.refreshMode=!!i}return c(d,[{key:"getIframeId",value:function(){return(0,n.isSplitTest)(this.compassST,"bidCaching")||(0,n.isSplitTest)(this.compassST,"mobileBidCaching")?this.compassST.pubPlacement+"_hb":"hb_if_"+e.default.generateCacheBuster()}},{key:"filterBidders",value:function(){var e=this.demand.children;return e=this.filterBiddersByPixalate(e),e=this.filterBiddersByOpenxDomain(e),e=this.filterBiddersByRenderTime(e)}},{key:"filterBiddersByPixalate",value:function(e){var r=this.compassST,t=r.pixalateBlock,n=(r.tagId,r.pixalate);try{if(t&&n&&n.length)return e=e.filter(function(e){return!(n.indexOf(e.dp)>-1)})}catch(a){(0,i.sendErrorWrapper)("hb_pixalate_fail",a.message,this.compassST)}return e}},{key:"filterBiddersByOpenxDomain",value:function(e){return r.default.indexOf(this.win.location.hostname)>-1&&(h("Trying to filter OpenX, hostname:",this.win.location.hostname),e=e.filter(function(e){return"OpenX"!==e.dp})),e}},{key:"filterBiddersByRenderTime",value:function(e){if(h("Filtering bidders by render time"),!(0,n.isSplitTest)(this.compassST,"mobileBidCaching"))return e;var r=this.compassST.rendered||{},t=Date.now(),i=1e3*(this.compassST.refreshInterval-m);return e=e.filter(function(e){var n=a.default[e.dp];if(!n)return!0;var d=n.bidder;return!(r[d]&&t-r[d]<i)||(h("Skipping bidder ".concat(d," as only ")+"".concat(((t-r[d])/1e3).toFixed(1)," sec passed after render")),!1)})}},{key:"getHbConfig",value:function(){var e=this.filterBidders();h("Bidders:",e);var r=this.compassST.size.split("x"),t=r[0],i=r[1],n=this.refreshId||this.getIframeId(),a=this.validateConfig(e);return a.timeout=this.demand.timeout||2e3,a.width=parseInt(t,10),a.height=parseInt(i,10),a.id=n,a.refreshMode=this.refreshMode,h("Hb config:",a),a}},{key:"validateConfig",value:function(e){var r=[],n=[],d=[],o=[],s=!1,u=!1,l=!1,p="",c="",m=this.demand.entityId,b=this.demand.id,y=this.compassST,v=this.demand,g=this.refreshMode;if(e.forEach(function(e){if("Amazon"===e.dp){if(g)return;o.push(e),u=!0}else if("DFP"===e.dp.slice(0,3)){if(g)return;e.floor=v.floor,d.push(e)}else{var l=e.params,p=a.default[e.dp];if(!p)return(0,i.sendErrorWrapper)("hb_no_bidder","No bidder "+e.dp,y);!function(e,r,t){var i=parseFloat(r.floor);i&&t.floor&&(e[t.floor]="string"===t.type?i.toFixed(2):i)}(l,e,p),"Smart LATAM"===e.dp&&function(e){var r=t.default[y.size];if(!r)return(0,i.sendErrorWrapper)("hb_invalid_config","Smart LATAM formatId not found",y);e.formatId=r}(l),r.push({bidder:p.bidder,params:f({},l)}),n.push(e),s=!0}}),o.length>1)throw new Error("More than one Amazon bidder");if(!u&&!s)throw new Error("No Amazon and no Prebid bidders");var B=v.dfp_ad_unit_code,O=v.adx_ad_unit_code;return O&&(d.length&&(l=!0),"HB IL"==v.dp?c="/76043757/"+O:"HB LATAM"==v.dp&&(c="/78655843/"+O)),B&&("HB IL"==v.dp?p="/76043757/"+B:"HB LATAM"==v.dp&&(p="/78655843/"+B)),h("prebidBidders",r),{prebidBidders:r,prebidBiddersRaw:n,dfpBidders:d,amazonBidders:o,isPrebid:s,isAmazon:u,isAdx:l,dfpPath:p,adxPath:c,parentId:m,parentInternalId:b,floor:v.floor||0,adxThreshold:v.adx_threshold||0}}}]),d}(),y=b;exports.default=y;
},{"../helpers":"lTk1","./openxBlacklistDomains":"pLkT","./smartFormatMap":"m7GI","../tracking":"Q7Ly","../splitTest":"IQ1M","./biddersMap":"Hk1C","../constants":"iJA9"}],"Wqgd":[function(require,module,exports) {
"use strict";function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=e(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw s}}}}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function e(t,n,r){i(this,e),this.config=t,this.win=n,this.compassST=r}return o(e,[{key:"getHbWrappers",value:function(){var t=[];return this.config.isAmazon&&t.push("a9"),this.config.isPrebid&&t.push("prebid"),t}},{key:"getAmazonSlots",value:function(){var t=this.config.isAdx&&!1!==this.compassST.dfpEnabled?this.config.adxPath:this.config.dfpPath;return[{slotID:this.config.id,slotName:t,sizes:[[this.config.width,this.config.height]]}]}},{key:"getPrebidAdUnits",value:function(){return[{code:this.config.id,sizes:[[this.config.width,this.config.height]],mediaTypes:{banner:{sizes:[[this.config.width,this.config.height]]}},bids:this.config.prebidBidders}]}},{key:"fetchHeaderBids",value:function(e){var n=this.getHbWrappers(),i=this.getAmazonSlots(),r=this.getPrebidAdUnits(),o=this.win,s=this.config,a=this.compassST,u=s.timeout,f={adserverRequestSent:!1,apstagSlots:i,adUnits:r};function c(t,i){!0!==f.adserverRequestSent&&("a9"===t?(f.amazonBids=i,f.a9=!0):"prebid"===t&&(f.prebidBids=i,f.prebid=!0),n.map(function(t){return f[t]}).filter(Boolean).length===n.length&&e(s,o,a,f))}n.forEach(function(t){f[t]=!1}),s.isPrebid&&o.pbjs.que.push(function(){var e,n=t(f.adUnits);try{for(n.s();!(e=n.n()).done;){var i=e.value;o.pbjs.removeAdUnit(i.code)}}catch(r){n.e(r)}finally{n.f()}o.pbjs.addAdUnits(f.adUnits),o.pbjs.requestBids({bidsBackHandler:function(t){c("prebid",t)}})}),s.isAmazon&&o.apstag.fetchBids({slots:f.apstagSlots},function(t){c("a9",t)}),window.setTimeout(function(){e(s,o,a,f,!0)},u)}}]),e}(),a=s;exports.default=a;
},{}],"w587":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("./helpers")),r=require("./tracking"),t=f(require("./hb/amazonBidsMap")),i=f(require("./hb/reverseBiddersMap")),n=f(require("./strategy")),d=require("./splitTest"),o=f(require("./hb/BidCacher")),a=f(require("./hb/PrebidInitializer")),c=f(require("./hb/HbLoader")),s=f(require("./hb/HbConfigurator")),u=f(require("./hb/AuctionManager")),l=f(require("./constants"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,r){return h(e)||m(e,r)||S(e,r)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],i=!0,n=!1,d=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(t.push(o.value),!r||t.length!==r);i=!0);}catch(c){n=!0,d=c}finally{try{i||null==a.return||a.return()}finally{if(n)throw d}}return t}}function h(e){if(Array.isArray(e))return e}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _(e){return j(e)||B(e)||S(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,r){if(e){if("string"==typeof e)return P(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,r):void 0}}function B(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function j(e){if(Array.isArray(e))return P(e)}function P(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}var C=e.default.log,T=e.default.dfpTargetingToString,E=e.default.getTargetingMap,O=e.default.roundToBucket,A=e.default.filterSensitiveBids,I=l.default.ADX_COMMISSION,M=l.default.PASSBACK,z=l.default.INIT_DFP,x=l.default.PREBID_REFRESH_DELTA,q=l.default.PREBID_REFRESH,W=new o.default,F=new o.default;function R(e,t,i,n){C("HB init ".concat(n?"in a refresh mode":""));var d={};try{d=new s.default(e,t,i,n).getHbConfig()}catch(o){return(0,r.sendErrorWrapper)("hb_invalid_config",o.message,t),t.next(e)}d.demand=i,t.hbConfig=d;try{if(!D(e,d))throw new Error("Failed to create HB iframe");d.refreshMode||(new c.default(e,t,d).loadLibraries(),H(d,t)),re(d,e,t)}catch(o){(0,r.sendErrorWrapper)("hb_error",o.message,t)}}function D(e,r){var t=r.id,i=r.width,n=r.height,d=r.refreshMode,o=e.document.createElement("iframe");return o.src="javascript:'<html><body></body></html>'",o.id=t,o.width=i,o.height=n,o.marginHeight=0,o.marginWidth=0,o.scrolling="NO",o.frameBorder=0,e.document.body||e.document.documentElement.appendChild(e.document.createElement("body")),d&&(e.document.body.innerHTML=""),e.document.body.appendChild(o),o.contentWindow.document}function H(e,t){var i=e.amazonBidders,n=e.prebidBiddersRaw;[].concat(_(i.slice(0,1)),_(n)).forEach(function(i,n){var d=0===n&&!e.refreshMode||void 0;(0,r.sendReport)(t,i,d)})}function L(e,t,n){return function(o){C("[bidWon]",{fromCache:o.fromCache,curBidCpm:o.curBidCpm,cpm:o.cpm},o);var a=i.default[o.bidder],c=t.prebidBiddersRaw.filter(function(e){return e.dp===a})[0]||{};"pulsepoint"!==o.bidder||c.dp||(a="PulsePoint LATAM",c=t.prebidBiddersRaw.filter(function(e){return e.dp===a})[0]||{});var s=v(v({},c),{dp:a,cpm:o.cpm}),u={entityId:t.parentId,id:t.parentInternalId};if(((0,d.isSplitTest)(n,"bidCaching")||(0,d.isSplitTest)(n,"mobileBidCaching"))&&(s.cache=!!o.fromCache,s.cacherev=o.cpm-o.curBidCpm),(0,r.sendEstimated)(n,s,u),(0,d.isSplitTest)(n,"mobileBidCaching"))if(t.sensitiveBidder)C("Sensitive bidder is rendered -> do not refresh");else{C("Setting ".concat(o.bidder," render time")),n.rendered=n.rendered||{},n.rendered[o.bidder]=Date.now();var l=(n.loopStart+1e3*n.refreshInterval-Date.now())/1e3;C("Next loop in ".concat(l.toFixed(1)," seconds")),l-x>q?(C("Enough time to do Prebid refresh in ".concat(q," sec")),e.setTimeout(function(){C("Refreshing Prebid"),R(e,n,t.demand,t.id)},1e3*q)):C("Not enough time to do Prebid refresh")}}}function k(r,t,i){try{if("32481"!=i.waterfallId)return;var n=r.prebidBidders.find(function(e){return"rubicon"===e.bidder});if(!n)return;var d=e.default.getViewability(t.document.getElementById(r.id));if(!(d&&d.viewability>=80))return;n.params.zoneId="1749820"}catch(o){console.log("Rubicon test error:",o)}}function N(e){e.write("<html><head></head><body>"+M+"</body></html>"),e.close()}function U(e,r){return r&&r.viewability>=80||-1===["/78655843/30287_353730_1","/78655843/30287_353739_1","/78655843/30396_360796_1","/78655843/30396_360810_1","/78655843/30097_356058_1","/78655843/30097_356077_1","/78655843/30097_348341_1","/78655843/30097_348347_1","/78655843/26729_362809_1","/78655843/26729_362822_1","/78655843/20834_362874_1","/78655843/20834_362911_1","/78655843/26497_367711_1","/78655843/26497_367717_1","/78655843/30270_361725_1","/78655843/30270_361738_1"].indexOf(e)?e:e.slice(0,-1)+"3"}function V(e,r,t,i){var d={prebidWinningBid:e?e.cpm:0,auctionFloorPrice:t.floor,amazonAdjustedBid:r?Math.max(0,r.cpm-I):0,adxThreshold:t.adxThreshold},o=t.isAmazon?"yes":"no",a=t.isAdx?"yes":"no",c=!1===i.dfpEnabled?"yes":"no",s=(0,n.default)(o,a,c,d);return C("Strategy selected:",s),s}function J(e,r){var t=r.length&&r[0].bidder?r[0].bidder:"no",n=i.default[t]||"no",d=e.prebidBiddersRaw.filter(function(e){return e.dp===n})[0]||{};return"pulsepoint"!==t||d.dp||(n="PulsePoint LATAM"),"amazon"===t&&(n="Amazon"),n.toLowerCase()}function K(r,t,i,n,d){var o=E(i,n,d),a=e.default.round((t[0]||{}).cpm||0,.05),c=a>.9?.9:a;return o.hb_bucket=c.toFixed(2),r.customFloor&&(o.adx_pb=r.customFloor.toFixed(2)),T(o)}function X(e,t,i,n,d,o,a){C("renderDfpTag vObj:",a),"sendAdx"==d&&i.dfpBidders[0]&&(0,r.sendReport)(t,i.dfpBidders[0],void 0,a),Q(e,$(t,i,n,d,o,a),t)}function $(e,r,t,i,n,d){var o=K(r,t,J(r,t),e,d),a=JSON.stringify(n),c=e.dfpPageUrl?'.set("page_url","'+e.dfpPageUrl+'")':"",s="sendAdx"==i?r.adxPath:r.dfpPath;s=U(s,d);try{e.hbConfig.adManagerPath=s}catch(u){}return G({adManagerPath:s,width:r.width,height:r.height,dfpPageUrl:c,targetingString:o,adServerTargetingString:a})}function G(e){var r=e.adManagerPath,t=e.width,i=e.height,n=e.dfpPageUrl,d=e.targetingString,o=e.adServerTargetingString;return"<head></head><body>"+('<script>var inDapIF=true;<\/script><script type="text/javascript" src="//www.googletagservices.com/tag/js/gpt.js">var slot = googletag.pubads()'+'.definePassback("'.concat(r,'", [').concat(t,",").concat(i,"])").concat(n,";")+"slot.updateTargetingFromMap(".concat(o,");")+z+"slot".concat(d,".display()<\/script>"))+"</body>"}function Q(e,r,t){0===t.level?t.writeWithWrapper(e,r):e.write(r),e.close()}function Y(e,r,t){var i,n=[];if(Object.keys(e).map(function(r){return e[r]}).forEach(function(e){e.bids.forEach(function(e){(!i||e.cpm>i.cpm)&&(i=e),n.push({bidder:e.bidder,cpm:e.cpm,adId:e.adId,ttl:e.ttl,auctionId:e.auctionId})})}),(0,d.isSplitTest)(r,"bidCaching")||(0,d.isSplitTest)(r,"mobileBidCaching")){var o=(0,d.isSplitTest)(r,"mobileBidCaching")&&t.sensitiveBidder?F.get(t.id,r):W.get(t.id,r);if(o){var a=i?i.cpm:0;(i=o).curBidCpm=a,n.some(function(e){return e.adId===i.adId})||(i.fromCache=!0,n.push(i))}}return[i,n]}function Z(e,i,n,d){try{e.amzniid=i.amzniid,e.amznbid=i.amznbid,e.amznp=i.amznp;var o=parseFloat(t.default[e.amznbid]);o&&n.push({bidder:"amazon",cpm:o})}catch(a){(0,r.sendErrorWrapper)("hb_amzn_targ","Amazon targeting error: "+a.message,d)}}function ee(t,i,n,o,a){if(!0!==o.adserverRequestSent){o.adserverRequestSent=!0;var c=o.prebidBids||{},s=(o.amazonBids||[])[0];if(t.isPrebid&&((0,d.isSplitTest)(n,"mobileBidCaching")?(W.setMany(A(c,!1)),F.setMany(A(c,!0))):(0,d.isSplitTest)(n,"bidCaching")&&W.setMany(c)),(0,d.isSplitTest)(n,"mobileBidCaching")&&!t.refreshMode){var u=F.getCustomFloor(t.id,n,1),l=W.getCustomFloor(t.id,n),f=l,b=!1;u>l&&(f=u,b=!0,C("Sensitive custom floor ".concat(u," > regular custom floor ").concat(l," => show only one sensitive bidder"))),f>0&&(t.customFloor=O(f),t.sensitiveBidder=b)}var m=p(Y(c,n,t),2),h=m[0],g=m[1],v=h&&h.adserverTargeting||{};!t.isAmazon||a&&!s||Z(v,s,g,n),g.sort(function(e,r){return r.cpm-e.cpm}),(0,r.sendAllBids)(g.filter(function(e){return!e.fromCache}),n,t);var y=i.document.getElementById(t.id),_=y.contentWindow.document,w=g.find(function(e){return"amazon"===e.bidder}),S=t.refreshMode?"renderPrebid":V(h,w,t,n);if("sendDfp"==S||"sendAdx"==S){var B=void 0;(0,d.isSplitTest)(n,"viewability")&&(B=e.default.getViewability(y))instanceof Error&&(C(B),(0,r.sendErrorWrapper)("viewability_error",B.message,n),B=void 0),X(_,n,t,g,S,v,B)}else"renderPrebid"==S&&v.hb_adid?i.pbjs.renderAd(_,v.hb_adid):N(_)}}function re(e,r,t){if(e.isPrebid)if(e.refreshMode)ee(e,r,t,{});else{var i=L(r,e,t);r.pbjs=r.pbjs||{},r.pbjs.que=r.pbjs.que||[],r.pbjs.que.push(function(){e.refreshMode||new a.default(r,t).setupPrebid(),(0,d.isSplitTest)(t,"bidCaching")||(0,d.isSplitTest)(t,"mobileBidCaching")?(r.pbjs.offEvent("bidWon",r.pbjs.bidWonHandler),r.pbjs.bidWonHandler=i,r.pbjs.onEvent("bidWon",r.pbjs.bidWonHandler)):r.pbjs.onEvent("bidWon",i),k(e,r,t),new u.default(e,r,t).fetchHeaderBids(ee)})}else k(e,r,t),new u.default(e,r,t).fetchHeaderBids(ee)}var te={init:R};exports.default=te;
},{"./helpers":"lTk1","./tracking":"Q7Ly","./hb/amazonBidsMap":"MA0g","./hb/reverseBiddersMap":"qcVz","./strategy":"gB0C","./splitTest":"IQ1M","./hb/BidCacher":"FCGJ","./hb/PrebidInitializer":"Xi9k","./hb/HbLoader":"qW0u","./hb/HbConfigurator":"frFy","./hb/AuctionManager":"Wqgd","./constants":"iJA9"}],"YNG3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./tracking"),t=h(require("./helpers")),r=h(require("./ajax")),i=require("./pixels/antiFraudPixels"),a=require("./pixels/partnerPixels"),n=h(require("./pixalate")),s=h(require("./wrappers")),o=h(require("./templates")),d=require("./splitTest"),l=h(require("./hb")),p=h(require("./hb/amazonBidsMap")),c=h(require("./constants"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}var y=t.default.log,w=c.default.PASSBACK,I=function(){function c(){g(this,c),this.templates=o.default,this.amazonBidsMap=p.default,this.countryList=["us","ca","gb","de","au","in","mx","br","fr","nl","cn","jp","es","sg","it","se","be","at","lu","ch","ae","hk","tw"]}return v(c,[{key:"init",value:function(e){y("Called init");var t=this;((0,d.isSplitTest)(this,"bidCaching")||(0,d.isSplitTest)(this,"mobileBidCaching"))&&this.loadPrebid(e),this.maxRefreshes>0?(this.timer=setInterval(function(){t.refreshContent(e)},1e3*this.refreshInterval),this.refreshContent(e)):(this.loopStart=Date.now(),this.next(e))}},{key:"loadPrebid",value:function(e){y("[loadPrebid]","load prebid in top iframe");var t=e.document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//cdn.topsrvimp.com/cmpp/prebid3.5.0.js",e.document.body||e.document.documentElement.appendChild(e.document.createElement("body")),e.document.body.appendChild(t),e.pbjs=e.pbjs||{},this.pbjs=e.pbjs}},{key:"initDfp",value:function(r){y("Adding DFP slotRenderEnded event");var i=this,a=f({},this),n=!1,s=-1,o=function(e){try{return e.slot.getTargeting("viewability_perc")[0]||-3}catch(t){return-3}},l=function(e){try{if(e.isEmpty)return"empty";var t=e.slot.getHtml();return/pbjs\.renderAd/.test(t)?"prebid":/apstag\.renderImp/.test(t)?"amazon":/compassST/.test(t)?"passback":"adx"}catch(r){return""}};r.googletag.cmd.push(function(){r.googletag.pubads().addEventListener("slotRenderEnded",function(n){y("GPT slot has been rendered:",n);try{if((0,d.isSplitTest)(i,"viewability")){var s=t.default.getViewability(r.frameElement),p=s instanceof Error?-1:s.viewability;(0,e.sendViewability)(o(n),p,a,"vchange3",l(n)),setTimeout(function(){var i=t.default.getViewability(r.frameElement),s=i instanceof Error?-1:i.viewability;(0,e.sendViewability)(o(n),s,a,"vchange4",l(n))},2e3)}}catch(A){}try{var c=n.slot.getTargeting("hb_auction_id")[0],h=n.slot.getTargeting("cmp_perm")[0],m=n.slot.getHtml();if(n.isEmpty){var u="";try{u=n.size.join("x")}catch(A){console.log("Cannot get a size of an empty creative",A.message)}var g="",b="",v="",I="";try{var E=i.demands[i.level];/^DFP/i.test(E.dp)?(g=E.dp,b=E.params.dfp_ad_unit_code||E.params.adx_ad_unit_code,I=E.id):(g=i.hbConfig.dfpBidders[0].dp,b=compassST.hbConfig.adManagerPath,I=i.hbConfig.dfpBidders[0].id)}catch(A){}try{v=r.frameElement.id||r.frameElement.name}catch(A){}if((0,e.sendError)({code:"empty_creative",message:"DFP did not return a creative",advertiserId:n.advertiserId,lineItemId:n.lineItemId,creativeId:n.creativeId,tagId:i.tagId,size:u,impId:i.impressionId,seat:g,adUnit:b,frame:v,loop:i.loop||0,level:i.level,browser:i.browser,wfId:i.waterfallId,compassInternalId:I}),((0,d.isSplitTest)(i,"emptyCreative")||(0,d.isSplitTest)(i,"mobileBidCaching"))&&i.tryRenderPrebid(r))return;var _="pb_"+Math.floor(2147483647*Math.random()),T=i.size.split("x"),C=r.document.createElement("iframe");C.src="javascript:'<html><body></body></html>'",C.id=_,C.width=T[0],C.height=T[1],C.marginHeight=0,C.marginWidth=0,C.scrolling="NO",C.frameBorder=0,(r.document.querySelector('div[id^="google_ads_iframe_"]')||r.document.body).appendChild(C),C.contentWindow.compassST=i;var W=C.contentWindow.document;W.open(),W.write(w);try{W.close()}catch(A){}}else{if(/pbjs\.renderAd/.test(m))return;if(/apstag\.renderImp/.test(m)){var x=i.amazonBidsMap&&i.amazonBidsMap[n.slot.getTargeting("amznbid")[0]]||0,P={};try{P=i.hbConfig.amazonBidders[0]}catch(A){(0,e.sendErrorWrapper)("report_error","Amazon demand not found: "+A.message,i)}var S=f(f({},P),{cpm:x}),k={entityId:i.hbConfig&&i.hbConfig.parentId,id:i.hbConfig&&i.hbConfig.parentInternalId};(0,e.sendEstimated)(i,S,k)}else{if(/compassST/.test(m))return;if(!c&&!h)return void(0,e.sendError)({code:"no_dfp_targ",advertiserId:n.advertiserId,lineItemId:n.lineItemId,creativeId:n.creativeId,tagId:i.tagId,impId:i.impressionId,loop:i.loop||0,level:i.level,browser:i.browser});var z=i.demands[i.level];if(z&&/^DFP/i.test(z.dp))return(0,e.sendEstimated)(i,f(f({},z),{cpm:z.floor}),{entityId:z.entityId,id:z.id});var B=parseFloat(n.slot.getTargeting("hb_pb")[0])||0,j=i.amazonBidsMap&&i.amazonBidsMap[n.slot.getTargeting("amznbid")[0]]||0,F={},O=0;try{F=i.hbConfig.dfpBidders[0],O=parseFloat(F.floor)||0}catch(A){return(0,e.sendErrorWrapper)("report_error","DFP demand not found: "+A.message,i)}var D=Math.max(B,j,O),M=f(f({},F),{cpm:D}),R={entityId:i.hbConfig&&i.hbConfig.parentId,id:i.hbConfig&&i.hbConfig.parentInternalId};(0,e.sendEstimated)(i,M,R)}}}catch(A){(0,e.sendErrorWrapper)("report_error","Failed to report bidwon: "+A.message,i)}}),r.googletag.pubads().addEventListener("slotVisibilityChanged",function(t){try{if(!(0,d.isSplitTest)(i,"viewability"))return;if(s=t.inViewPercentage,!n){n=!0,(0,e.sendViewability)(o(t),s,a,"vchange",l(t));try{setTimeout(function(){(0,e.sendViewability)(o(t),s,a,"vchange2",l(t))},2e3)}catch(r){console.log(r)}}}catch(r){}})})}},{key:"tryRenderPrebid",value:function(t){y("Trying to render prebid after passback or empty");try{if(void 0===this.level)return!1;var r=this.demands[this.level];if(!("HB IL"===r.dp||"HB LATAM"===r.dp))return!1;var i=t.parent.pbjs||t.parent.parent.pbjs||this.pbjs,a=t.parent.apstag||t.parent.parent.apstag,n=t.googletag||t.parent.googletag;if(!n||!n.pubads)return!1;var s=n.pubads().getSlots()[0];if(!s)return(0,e.sendErrorWrapper)("split_test_error","Slot not found",this),!1;var o=s.getTargeting("hb_adid")[0],l=s.getTargeting("amzniid")[0],p=this.amazonBidsMap&&this.amazonBidsMap[s.getTargeting("amznbid")[0]]||0,c=parseFloat(s.getTargeting("hb_pb")[0])||0;if(!o&&!l)return!1;if((0,d.isSplitTest)(this,"mobileBidCaching")){var h=this.hbConfig;return h?!!(h.customFloor>h.floor&&o)&&(i?(y("Bid Caching. Prebid creative is eligible for rendering."+"Floor: ".concat(r.floor,", custom floor: ").concat(h.customFloor,", hb_pb: ").concat(c)),i.renderAd(t.document,o),!0):((0,e.sendErrorWrapper)("split_test_error","Prebid not found",this),!1)):((0,e.sendErrorWrapper)("no_hb_config","Hb config with floors not found",this),!1)}if(p>=r.floor&&p>c&&l){if(!a)return(0,e.sendErrorWrapper)("split_test_error","Apstag not found",this),!1;y("Split test C. Amazon creative is eligible for rendering. Floor: ".concat(r.floor,", amazonCpm: ").concat(p)),a.renderImp(t.document,l),(0,e.sendTestEvent)(this,"split_test_c",p);var m={};try{m=this.hbConfig.amazonBidders[0]}catch(b){(0,e.sendErrorWrapper)("report_error","Amazon demand not found in split test: "+b.message,this)}var u=f(f({},m),{cpm:p}),g={entityId:this.hbConfig&&this.hbConfig.parentId,id:this.hbConfig&&this.hbConfig.parentInternalId};return(0,e.sendEstimated)(this,u,g),!0}return!!(c>=r.floor&&o)&&(i?(y("Split test C. Prebid creative is eligible for rendering. Floor: ".concat(r.floor,", hb_pb: ").concat(c)),i.renderAd(t.document,o),(0,e.sendTestEvent)(this,"split_test_c",c),!0):((0,e.sendErrorWrapper)("split_test_error","Prebid not found",this),!1))}catch(b){return(0,e.sendErrorWrapper)("split_test_error",b.message,this),!1}}},{key:"next",value:function(r){var i=this;if(y("Called next"),!(0,d.isSplitTest)(this,"viewabilityFloorC")&&!(0,d.isSplitTest)(this,"mobileBidCaching")||!this.tryRenderPrebid(r)){this.level=this.level>=0?this.level+1:0;var a=this.demands[this.level];if(a){if(y("This level demand:",a),this.pixalateBlock&&this.pixalate&&this.pixalate.indexOf(a.dp)>-1)return y("Pixalate blocking",a.dp),(0,e.sendPixalateBlock)({demand:a.dp,domain:t.default.getTopWindowDomain(),tagId:this.tagId,iid:this.impressionId,size:this.size}),this.next(r);if(void 0!==this.loop){var n=this.timeouts[this.level],s="WF Filler"==a.dp||"Default Creative"==a.dp?this.refreshInterval:parseInt(a.refreshInterval,10)||60;if(void 0!==n&&(this.loop-n)*this.refreshInterval<s)return y("Skipping demand ".concat(a.dp,", since only ").concat((this.loop-n)*this.refreshInterval," sec passed, ")+"but the limit is ".concat(s)),this.next(r);this.timeouts[this.level]=this.loop}var o="HB IL"===a.dp||"HB LATAM"===a.dp;if(!1===this.dfpEnabled&&"DFP"===(a.dp||"").slice(0,3))return y("Skipping demand ".concat(a.dp,", since only dfp_enabled param is false")),this.next(r);if(o&&!a.children)return(0,e.sendErrorWrapper)("no_hb_children","No HB children",this),this.next(r);if(!o&&!this.templates[a.dp])return(0,e.sendErrorWrapper)("no_template","Template not found for "+a.dp,this),this.next(r);if(y("Writing demand:",a.dp),o)l.default.init(r,this,a);else{var p=function(n){y("processOtherTags vObj",n),(0,e.sendReport)(i,a,!0,n);var s=i.templates[a.dp],o=t.default.getTargetingMap("dfp",i,n),d=s(a.params,i.dfpPageUrl,o);0===i.level?i.writeWithWrapper(r.document,d):r.document.write(d)};if(/dfp/gi.test(a.dp)&&(0,d.isSplitTest)(this,"viewability")){var c=t.default.getViewability(r.frameElement);c instanceof Error?(y(c),(0,e.sendErrorWrapper)("viewability_error",c.message,this),p()):p(c)}else p()}}}}},{key:"refreshContent",value:function(t){y("Called refreshContent");var r=this.size.split("x");if(this.loop=this.loop>=0?this.loop+1:0,this.loopStart=Date.now(),y("Loop",this.loop),this.level=void 0,this.prevReport={},this.loop>this.maxRefreshes-1)clearInterval(this.timer);else try{t.document.body||t.document.documentElement.appendChild(t.document.createElement("body")),t.document.body.innerHTML="";var i=t.document.createElement("iframe");i.src="javascript:'<html><body></body></html>'",i.id=this.impressionId+"-lp",i.width=r[0],i.height=r[1],i.marginHeight=0,i.marginWidth=0,i.scrolling="NO",i.frameBorder=0,t.document.body.appendChild(i);var a=i.contentWindow.document;a.write("<html><head></head><body>"+w+"</body></html>"),a.close()}catch(n){(0,e.sendErrorWrapper)("iframe_error","Failed to create a looping iframe: "+n.message,this)}}},{key:"isTagValid",value:function(t){return t?!!(t.t&&t.y_b&&t.y_b.s)||((0,e.sendError)({code:"missing_param"}),!1):((0,e.sendError)({code:"novar"}),!1)}},{key:"getPlacement",value:function(){try{return window.frameElement&&window.frameElement.id||document.currentScript&&document.currentScript.closest("[id]").id}catch(e){return""}}},{key:"parseTag",value:function(e){this.tagId=e.t,this.referral=e.referral||"",this.size=e.y_b.s,this.fraudPixelRatio=parseInt(e.frsq,10)||0,this.impressionId=t.default.generateImpressionId(this.tagId,this.size),this.noCheck=!!e.nc,this.pubPlacement=e.plc||this.getPlacement()}},{key:"requestWaterfall",value:function(i){var a=this.tagId,n=this.referral,s=this.size,o=t.default.generateCacheBuster(),d={tagId:a,domain:n,tdomain:t.default.getTopWindowDomain(),size:s,pu:t.default.getTopWindowUrl(),aurl:t.default.getTopWindowUrl().replace(/^https:\/\/|^http:\/\//,"").split("?")[0].split("#")[0],uid:o,pubPlacement:this.pubPlacement,cb:t.default.generateCacheBuster()},l="//compass-v2.deliverimp.com/wf?"+t.default.jsonToQueryString(d),p=this;try{window.frameElement&&(window.frameElement.id||window.frameElement.name)}catch(c){}r.default.get(l,function(t){if(""===t)return p.writeFiller();try{t=JSON.parse(t)}catch(c){return(0,e.sendError)({code:"invalid_wf_response",message:c.message}),p.writeFiller()}i(t)},function(t,r,i){return(0,e.sendError)({code:"ajax_error",message:"Failed to load WF config, status: ".concat(t,", text: ").concat(r),tagId:p.tagId,ajaxUrl:l,uid:o,ifr:i}),p.writeFiller()})}},{key:"writeFiller",value:function(){var t=(0,this.templates["WF Filler"])({size:this.size}),r=document.getElementById(this.impressionId);if(!r)return(0,e.sendErrorWrapper)("filler_failed","Failed to find an iframe",this);var i=r.contentWindow.document;i.write(t),i.close()}},{key:"parseWFConfig",value:function(r){if(!r.demands||!r.demands.length)return(0,e.sendError)({code:"missing_demands",tagId:this.tagId}),!1;this.publisherId=r.publisherId,this.demands=r.demands,this.targetingId=r.targetingId,this.domain=r.domain||t.default.getTopWindowDomain(),this.waterfallId=r.waterfallId,this.country=(r.country||"other").toLowerCase(),this.os=r.os||"",this.device=r.device||"",this.browser=r.browser||"",this.pixalate=r.pixalate,this.wrapper=r.wrapper,this.blacklistedDomains=[],this.dfpPageUrl=r.dfp_page_url,this.paymentType=r.paymentType,this.dfpEnabled=r.dfp_enabled;try{var i=r.blacklistedDomains||[];this.blacklistedDomains=i.map(function(e){return atob(e)})}catch(a){y("Failed to parse blacklisted domains",a.message),(0,e.sendErrorWrapper)("blacklisted_domains_error",a.message,this)}return this.section=r.section||"",!this.wrapper&&this.blacklistedDomains.length&&(this.wrapper="protector"),this.maxRefreshes=parseInt(r.maxRefreshes,10)||0,this.refreshInterval=parseInt(r.refreshInterval,10)||0,this.refreshInterval>=0&&this.refreshInterval<15&&(this.refreshInterval=15),this.maxRefreshes>200&&(this.maxRefreshes=200),this.scanRate=parseInt(r.scanRate)||0,this.timeouts=[],this.rendered={},!0}},{key:"pixalateCheck",value:function(e){(0,n.default)(this,e)}},{key:"createIframe",value:function(){var t=this.size.split("x"),r=document.createElement("iframe");r.src="javascript:'<html><body></body></html>'",r.id=this.impressionId,r.width=t[0],r.height=t[1],r.marginHeight=0,r.marginWidth=0,r.scrolling="NO",r.frameBorder=0;var i,a,n=!1;try{try{var s=document.getElementsByTagName("script"),o=s[s.length-1];o&&"HEAD"!==o.parentNode.tagName&&(a=r,(i=o).parentNode.insertBefore(a,i.nextSibling),n=!0)}catch(d){}n||(document.body||document.documentElement.appendChild(document.createElement("body")),document.body.appendChild(r))}catch(d){(0,e.sendErrorWrapper)("iframe_error","Failed to create an iframe: "+d.message,this)}}},{key:"start",value:function(){var t=document.getElementById(this.impressionId);if(!t)return(0,e.sendErrorWrapper)("iframe_not_found","Failed to find an iframe",this);var r=t.contentWindow.document,n=(0,i.getAdlooxPixel)(this),s=(0,d.isSplitTest)(this,"carbon")?(0,a.getCarbonPixel)(this):"";r.write('<html><head></head><body><script>var inDapIF=true;var compassST=compassST;var w=window;for(var i=0;i<10;i++){if(w.compassST){try{compassST=w.compassST;compassST.init(window);break}catch(e){console.log(e);continue}} w=w.parent;} if(!compassST){console.log("No compassST")}<\/script>'+n+s+"</body></html>"),r.close()}},{key:"writeWithWrapper",value:function(e,t){y("Wrapper ".concat(this.wrapper,", scan rate ").concat(this.scanRate));var r=Boolean(e.oldWrite),i=!1;try{i=!r&&!/native\scode/.test(iframeDocument.write.toString())}catch(n){}if("confiant"===this.wrapper&&!r&&100*Math.random()<=this.scanRate)y("Writing with Confiant"),s.default.writeWithConfiant(e,t,this.size);else if("geoedge"===this.wrapper&&!r&&!i&&100*Math.random()<=this.scanRate)y("Writing with GeoEdge"),s.default.writeWithGeoEdge(e,t);else if("protector"===this.wrapper&&!/msie|trident|edge/i.test(window.navigator.userAgent)&&100*Math.random()<=this.scanRate){y("Writing with Protector");var a={tagId:this.tagId,iid:this.impressionId,size:this.size};s.default.writeWithProtector(e,t,a,this.blacklistedDomains)}else y("Writing without wrapper"),e.write(t)}}]),c}(),E=new I;exports.default=E;
},{"./tracking":"Q7Ly","./helpers":"lTk1","./ajax":"PSwN","./pixels/antiFraudPixels":"qPpG","./pixels/partnerPixels":"cVlO","./pixalate":"P2HH","./wrappers":"pfYc","./templates":"ZLZB","./splitTest":"IQ1M","./hb":"w587","./hb/amazonBidsMap":"MA0g","./constants":"iJA9"}],"Focm":[function(require,module,exports) {
"use strict";var e=r(require("./compassST")),a=r(require("./helpers")),t=require("./tracking");function r(e){return e&&e.__esModule?e:{default:e}}var d=a.default.log;window.compassST=e.default;var n=window.compassSmartTag;function l(a){e.default.parseWFConfig(a)&&(d("waterfallCallback"),o())}function o(){d("pixalateCallback");var a=document.getElementById(e.default.impressionId);if(a){var r=a.contentDocument||a.contentWindow.document;!r||"complete"!==r.readyState&&"interactive"!==r.readyState?(d("iframe_ready_error"),(0,t.sendErrorWrapper)("iframe_ready_error","Iframe document is not ready",e.default)):a.contentWindow.compassST=e.default}e.default.start()}e.default.isTagValid(n)&&(e.default.parseTag(n),e.default.createIframe(),e.default.requestWaterfall(l));
},{"./compassST":"YNG3","./helpers":"lTk1","./tracking":"Q7Ly"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map