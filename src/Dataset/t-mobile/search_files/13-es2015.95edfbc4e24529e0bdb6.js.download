(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{clnw:function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultViewFeatureModule",(function(){return v})),n.d(t,"DefaultViewComponent",(function(){return u}));var i=n("HKMU"),a=n("oIEy"),r=n("A0dE"),s=n("I8Jl"),o=n("umQr"),c=n("cipv"),l=n("EVwY"),p=n("Iq5M"),h=n("W6HW"),m=n("pDCS");let u=(()=>{class e{constructor(e,t,n,i,a){this.router=e,this.digitalDataService=t,this.pageAnalyticsService=n,this.elementRef=i,this.appName=a,this.destroyed$=new l.a,this.modulesList=[]}ngOnInit(){const e=this.router.url,t=e.split("/");this.tenant=t.length>=3?s.e[t[2]]:s.e.tmobile,this.key=s.c.determinePageKeyFromURL(e,this.appName)}ngAfterViewInit(){let e=[];setTimeout(t=>{e=this.pageAnalyticsService.getModules(this.elementRef.nativeElement),this.modulesList.push(e),this.digitalDataService.authoredPDLDataUpdated$.pipe(Object(o.a)(this.destroyed$),Object(c.a)(e=>Boolean(e))).subscribe(t=>{const n=document.location.href.toString();this.pageAnalyticsService.pageNavigationEvent({targetUrl:n,modules:e}),this.digitalDataService.updateCampaignIds(),this.digitalDataService.authoredPDLDataUpdated$.next(!1)})},1e3)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(a.g),p.Nb(h.DigitalDataService),p.Nb(h.PageAnalyticsService),p.Nb(p.l),p.Nb(s.a))},e.\u0275cmp=p.Hb({type:e,selectors:[["tmo-default-view"]],decls:1,vars:3,consts:[[3,"key","ignoreAppName","tenant"]],template:function(e,t){1&e&&p.Ob(0,"tmo-view-component",0),2&e&&p.nc("key",t.key)("ignoreAppName",!0)("tenant",t.tenant)},directives:[m.a],styles:[""]}),e})();var d=n("fwXJ"),g=n("yfTT");let b=(()=>{class e{constructor(e,t,n){this.viewComponentService=e,this.themeSwitcherService=t,this.appName=n}resolve(e,t){const n=t.url;try{const e=n.split("/"),t=e.length>=3?s.e[e[2]]:s.e.tmobile;return t===s.e.metro&&this.themeSwitcherService.installTheme("metro"),this.viewComponentService.getPartial(s.c.determinePageKeyFromURL(n,this.appName),!0,void 0,t)}catch(i){return Object(d.a)("404")}}}return e.\u0275fac=function(t){return new(t||e)(p.Xb(r.b),p.Xb(g.b),p.Xb(s.a))},e.\u0275prov=p.Jb({token:e,factory:e.\u0275fac}),e})(),v=(()=>{class e{}return e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({factory:function(t){return new(t||e)},providers:[b],imports:[[i.c,r.a,a.h.forChild([{path:"",component:u,resolve:{partial:b}}])]]}),e})()},pDCS:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("HKMU"),a=n("Iq5M"),r=n("fwXJ"),s=n("t7bY"),o=n("kpJz"),c=n("6jvO"),l=n("R5jX"),p=n("W6HW"),h=n("wuAe"),m=n("u0If"),u=n("Ht5k"),d=n("nPW0");let g=(()=>{class e{constructor(e,t,n,i,a,r,s,o,c,l,p){this.viewComponentService=e,this.pageAnalyticsService=t,this.appReady=n,this.logger=i,this.bannerFacade=a,this.platformId=r,this.jsonParser=s,this.ngZone=o,this.elementRef=c,this.digitalDataService=l,this.document=p,this.ignoreAppName=!1,this.isRunningInApplication=this.appReady.isAppReady}ngOnChanges(e){this.isRunningInApplication&&e.key&&this.key&&this.ngZone.runOutsideAngular(()=>{this.viewComponentService.getPartial(this.key,this.ignoreAppName,this.fallback,this.tenant).pipe(Object(s.a)(),Object(o.a)(e=>(this.extractBannerContentFromPartial(e,this.key||""),this.itemId?e.replace("%tmo_partial_value%",this.itemId):e)),Object(c.a)(e=>(this.logger.logError("Error loading partial",e),Object(r.a)("An Error Occurred")))).subscribe(e=>{this.elementRef.nativeElement.innerHTML=e})})}extractBannerContentFromPartial(e,t){if(Object(i.z)(this.platformId)){const n=document.createElement("div");if(n.innerHTML=e,n.getElementsByTagName("marketing-banner-controller-element")&&n.getElementsByTagName("marketing-banner-controller-element")[0]){const e=n.getElementsByTagName("marketing-banner-controller-element")[0].getAttribute("data-authoring");e&&this.bannerFacade.extractBannerContent(this.jsonParser.parse(e),t)}}}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(l.a),a.Nb(p.PageAnalyticsService),a.Nb(h.a),a.Nb(m.a),a.Nb(u.BannerFacade,8),a.Nb(a.B),a.Nb(d.a),a.Nb(a.z),a.Nb(a.l),a.Nb(p.DigitalDataService),a.Nb(i.e))},e.\u0275cmp=a.Hb({type:e,selectors:[["tmo-view-component"]],inputs:{key:"key",itemId:"itemId",fallback:"fallback",ignoreAppName:"ignoreAppName",tenant:"tenant"},features:[a.yb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})()}}]);
//# sourceMappingURL=13-es2015.95edfbc4e24529e0bdb6.js.map